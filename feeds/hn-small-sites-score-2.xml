<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 25 Aug 2020 16:21:10 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 25 Aug 2020 16:21:10 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Knowledge Mapping]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24259529">thread link</a>) | @todsacerdoti
<br/>
August 24, 2020 | https://zorbash.com/post/knowledge-mapping/ | <a href="https://web.archive.org/web/*/https://zorbash.com/post/knowledge-mapping/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <p><img alt="üòÆ You looked at the source!" src="https://zorbash.com/images/zorbash_glitched.gif"></p>
    <h2>Code spells, smells and sourcery</h2>
  </div>

  
</div><div role="main">
  <article>
    
    <section>
      <p><em>What do <strong>I</strong> know? What do <strong>we</strong> know?</em></p>
<p><em>How do we know what we know and what is there that we should know?</em></p>
<p>Video games like Age of Empires, Civilisation and others have the concept of technology trees.</p>
<img src="https://zorbash.com/images/posts/knowledge_map/aoe.jpg">
<p>I study a lot, where should I spend my time? What should I read next? Is my knowledge broad enough?
I‚Äôve used Goodreads quite extensively, it‚Äôs great to discover new books to read, mark your progress,
make friends and such.</p>
<p>Nowadays there‚Äôs so much information readily available, but not that many tools to help you
organise and allocate your ‚Äúresearch points‚Äù.</p>
<h2 id="learning-together">Learning Together</h2>
<p>The recent COVID-19 pandemic surfaced the shortcomings of humanity to work together
to solve fundamental healthcare issues.
Some ‚Äúexperts‚Äù rushed to call it a black swan, despite it clearly not being one (<a href="https://www.newyorker.com/news/daily-comment/the-pandemic-isnt-a-black-swan-but-a-portent-of-a-more-fragile-global-system">read more</a>).</p>
<p>Thousands of Americans are victims of the opioid crisis and countless ones
are shoveling their money in the wild-west of unregulated fintech companies
with mottos like ‚Äúanyone can be a trader‚Äù or in cryptocurrencies üôÉ.</p>
<p>The media promote optimising for the short-term, making us think we‚Äôre the last generation to walk the planet.
Our countries are involved in wars, we fund wars with our taxes, yet the disasters
that war brings always seem so remote.</p>
<p>How do we respond? We <strong>educate</strong> ourselves, we <strong>talk</strong>, we <strong>act</strong>. A university degree or a code
bootcamp might help you land a job, but securing your freedom of thought is a never-ending struggle.</p>
<h2 id="learning-to-learn">Learning to Learn</h2>
<p>Be more systematic, build your knowledge map and start exploring branch
by branch.
You don‚Äôt need a degree as a reward, nor any imaginary internet points.
The real reward is that you‚Äôll be able to better understand the natural world and society.
Think of <a href="https://twitter.com/hashtag/BlackLivesMatter">#BlackLivesMatter</a> how much do you know about it? Do you want to be the person who forms
an opinion based on a couple of tweets or headlines?
Create a list of books, films, articles to go through and keep track of your progress.</p>
<blockquote>
<p>Reading, has this incredible effect that it minimises your chances of becoming a racist,
an anti-vaxxer, a climate-change denier or a flat earther. Quite a reward ain‚Äôt it?</p>
</blockquote>
<h2 id="universities">Universities</h2>
<p>Universities play the role of gatekeepers of knowledge and the perpetuation of class segregation.
Your studies have a certain duration and you get a degree. While such a concept is valuable to maintain
the status quo and keep the economy going it doesn't really seem to be about knowledge.
Learning is a continuous process and universities should not extinguish your passion for knowledge in exchange for a degree.
For me, receiving my degree wasn't something to celebrate. It was rather a warrant to stay away from the
supposed mecca of learning.</p>
<img src="https://zorbash.com/images/posts/knowledge_map/university.jpg">
<p>Fortunately in the digital age there are plenty of choices when it comes to expanding your knowledge.
<a href="https://www.khanacademy.org/">Khanacademy</a>, <a href="https://www.coursera.org/">Coursera</a>, <a href="https://www.udacity.com/">Udacity</a> to name a few.
Most of them seem heavily leaning towards STEM studies though. Where do we learn about the world?</p>
<p>First things first, by ‚Äúthe world‚Äù I mean outside the tech bubble.</p>
<blockquote>
<p>Yes, I can fix your computer, but how do I fix racism, how do I get to know my body, improve my health,
manage my personal finances and understand democracy and political science, so to meaningfully
participate in the commons?</p>
</blockquote>
<h2 id="theres-hope">There's Hope</h2>
<p>The open-source community is a fantastic example of people working asynchronously together and
having colossal impact in our lives.</p>
<p>A laughably simple algo to keep learning could be:</p>
<ol>
<li>Map your knowledge in a graph format</li>
<li>Keep notes / annotate your readings publicly</li>
<li>Pick another branch from the tree</li>
<li>Go to step 2</li>
</ol>
<p>Remember, there's nothing embarrassing in admitting you don't know
something, it's empowering and the first step to master any subject.</p>
<p>What about the cover image of this post?
Well, I couldn't help it and wrote some code to support it.</p>

<p>Khanacademy used to have a <a href="https://khanacademy.fandom.com/wiki/Knowledge_Map">knowledge map</a> feature which I found
inspiring. Browsing a universe of infinite topics, continuing education ftw.</p>
<img src="https://zorbash.com/images/posts/knowledge_map/ka_map.jpg">
<h3 id="building-my-knowledge-map">Building my Knowledge Map</h3>
<p>So, I decided to build my own map and needed to bootstrap it somehow. I
quickly extracted, cleaned and analysed the tags of my Tefter bookmarks.
For the uninitiated, <a href="https://tefter.io/">Tefter</a> is a social bookmarking app I use heavily and I also develop ü§†.</p>
<img src="https://zorbash.com/images/posts/knowledge_map/banner.jpg">
<p>On the graph, tags are nodes and edges connect topics when they appear as tags on the same bookmark.</p>
<p>Is this a real knowledge map? No, it's the minimum viable hack, a
compass to aid me steer towards building the real one.</p>
<p>Feel free to have a look and remix the code of the visualisation on <a href="https://glitch.com/~helpful-kind-beechnut">Glitch</a>.</p>
<p>To make progress I'll attempt to bring order to that
chaotic graph by grouping some topics together. I'm also starting this
book <a href="https://en.wikipedia.org/wiki/Consilience_(book)">‚ÄúConsilence: The Unity of Knowledge‚Äù</a> which might help me with that.</p>
<p>I'll also try to evaluate some apps and methodologies below:</p>
<ul>
<li><a href="https://beepb00p.xyz/promnesia.html">https://beepb00p.xyz/promnesia.html</a></li>
<li><a href="https://foambubble.github.io/foam/">https://foambubble.github.io/foam/</a></li>
<li><a href="https://roamresearch.com/">https://roamresearch.com/</a></li>
<li><a href="https://www.buildingasecondbrain.com/">https://www.buildingasecondbrain.com/</a></li>
<li><a href="https://zettelkasten.de/posts/overview/">https://zettelkasten.de/posts/overview/</a></li>
</ul>
<p>You've reached the end of this post. Please post your thoughts,
feedback and ideas in the comments.</p>
    </section>
    
  </article>
</div></div>]]>
            </description>
            <link>https://zorbash.com/post/knowledge-mapping/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24259529</guid>
            <pubDate>Mon, 24 Aug 2020 11:15:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Rise of Slow Feeds]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24259442">thread link</a>) | @linuz90
<br/>
August 24, 2020 | https://fabriziorinaldi.com/blog/slow-feeds | <a href="https://web.archive.org/web/*/https://fabriziorinaldi.com/blog/slow-feeds">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In a few years, they're going to be everywhere: slow feeds, one-off digests, highly filtered content from your favorite sources.</p>
<p>Fewer algorithms, less recommended content, more good stuff from people you actually care about.</p>
<p>We're already seeing it with <a href="https://substack.com/">Substack</a>. How cumbersome is it to subscribe to a different newsletter from each writer you want to follow? Still, people would rather do this than get lost in yet another platform where the signal gets lost in a sea of noise.</p>
<p>The transition is also <strong>from synchronicity to asynchronicity.</strong> Staying home locked down for months helped us realize that we could easily spend 8 full hours per day scrolling feeds, and yet no end would ever be in sight.</p>
<p>Why? Because that's how feeds are built: they're intrinsically <strong>synchronous, addictive, and endless</strong>.</p>
<p>The solution? <strong>Slower feeds.</strong> Better feeds. Purposeful and controlled digests, versus endless and mindless flows of information. A few companies are attempting to build them ‚Äî <a href="https://mailbrew.com/">mine</a> among them ‚Äî and I bet they're going to be everywhere soon.</p>
<p>While many tech companies will still try to get AIs to guess what's the next article you want to read, others will hopefully give back control in our hands, and try to unlearn what years of obsession for algorithms taught us. That's how we ended up here anywhere.</p>
<p>There must be a reason we miss Google Reader.</p></div></div>]]>
            </description>
            <link>https://fabriziorinaldi.com/blog/slow-feeds</link>
            <guid isPermaLink="false">hacker-news-small-sites-24259442</guid>
            <pubDate>Mon, 24 Aug 2020 11:01:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: The Cheapest Share Dealing Platforms in the UK]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24259295">thread link</a>) | @Halimah
<br/>
August 24, 2020 | https://www.koody.co/investing/compare-shares-isa-charges | <a href="https://web.archive.org/web/*/https://www.koody.co/investing/compare-shares-isa-charges">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Typically, your annual charge depends on whether you hold funds or shares in your investment ISA. Here, we assume you'll invest in shares only. If you plan to invest in funds, have a look at our <a href="https://www.koody.co/investing/compare-funds-isa-charges">funds' comparison charts</a>. When you invest in shares, you'll have to pay several charges. In our pricing table below, we've only considered platform and dealing fees. You can find out more about online share dealing and its associated costs in our <a href="https://www.koody.co/investing/shares">Investing in Shares guide</a>.<br>‚Äç<br><span><strong>Important:</strong></span><strong><br></strong>The table below shows annual charges of several share dealing platforms when you invest lump sums of ¬£5,000, ¬£20,000 or ¬£100,000 in one year and make 12 ad hoc deals in the same year. A deal is either one of buying or selling an investment. It is also called a trade. We've used the colour red to indicate what platforms are more expensive compared to the others. This means the darker the shade of red, the more expensive the platform. Dark red doesn't mean bad or too expensive; it just means the platform is more expensive than others. If you would like to see a breakdown of fees charged by each platform, have a look at our <a href="https://www.koody.co/investing/charges-directory">Platform Charges Directory</a>.</p><p>We haven't included any calculations for regular investing, but we do note in the second column, regular investing dealing fees for your information.</p><p>Finally, it is important to let you know we show the costs which apply to the first year only. This is especially important because, with platforms such as iWeb, your charges reduce after the first year. Whereas, with platforms such as EQi, your charges might increase after the first year. You'll find all the details you need below. For each provider we list, your money is protected by the Financial Services Compensation Scheme (FSCS). This means you could get your money back up to ¬£85,000 if any of the companies goes bust.</p></div></div>]]>
            </description>
            <link>https://www.koody.co/investing/compare-shares-isa-charges</link>
            <guid isPermaLink="false">hacker-news-small-sites-24259295</guid>
            <pubDate>Mon, 24 Aug 2020 10:37:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pieter Levels Makes $600k a Year from Nomad List and Remote OK]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 26 (<a href="https://news.ycombinator.com/item?id=24259201">thread link</a>) | @Pete-Codes
<br/>
August 24, 2020 | https://www.nocsdegree.com/pieter-levels-learn-coding/ | <a href="https://web.archive.org/web/*/https://www.nocsdegree.com/pieter-levels-learn-coding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                    <div>
                        <p><a href="https://twitter.com/levelsio">Pieter Levels </a>makes about $600,000 a year. He taught himself to code and has an unconventional philosophy. This is not an interview but an analysis piece. Pieter defied the critics and built Nomad List and Remote OK into successful businesses without cutting edge tools like React or other modern frameworks. I send articles like this twice a week - <a href="https://nocsdegree.carrd.co/">join 2,000 developers that get the newsletter</a>.</p><h2 id="who-is-pieter-levels">Who is Pieter Levels</h2><p>Pieter is a self-taught developer from The Netherlands. He has an MBA but no coding qualifications. As we will see in today's article he has a rough and ready approach to coding but it pays off handsomely. </p><p>His <a href="https://www.nomadlist.com/">Nomad List</a> directory and community for digital nomads draws in over $300k a year and that's despite a recent fall in revenue due to people not travelling during the Corona virus crisis. </p><figure><img src="https://www.nocsdegree.com/content/images/2020/05/Screenshot-2020-05-14-at-23.30.06.png" alt=""></figure><p>His Remote Ok job board for remote workers made <a href="https://remoteok.io/open">$300,000 over the last 12 months</a></p><figure><img src="https://www.nocsdegree.com/content/images/2020/05/Screenshot-2020-05-14-at-23.23.51.png" alt="Revenue chart for Remote OK job board"></figure><p>So that's a total of $600,00 from the last 12 months! Not bad for a self-taught developer! Pieter is active on Twitter and has a very stong following there. </p><p>As he works for himself he is able to travel extensively and live where he choses. Although, rather than the common misconception of digital nomads being constantly on the move, Pieter recommends spending a few months in each place. This way you avoid travel burnout. </p><h2 id="how-did-pieter-levels-learn-to-code">How did Pieter Levels learn to code?</h2><p>Not a lot is known about his very earlies forays into coding apart from the fact that as a teenager he played around programming. His first attempt at a web business was an analytics service for Youtube which would let you see how all your videos/channels were performing in one place. Unfortunately, he worked on it for a year without making any money from it. </p><p>From that point Pieter adopted his now familar approach to coding and business - build websites quickly and monetize from the beginning. He only adds more features if there is money coming in and the idea is validated by the market.</p><p>Pieter takes the "search on Google" approach to Google. So when he wanted to connect a database to a website or make a button do something on his website he would just search the terms on Google and find solutions in places like Stackoverflow. Pieter is a strong critic of the approach of doing courses as he believes people learn best by doing and building. </p><p>One analogy would be different approaches to learning Spanish. One person might study a course, learn the correct grammar and then go to Spain. Whereas Pieter would go to Spain, ask for the words he needs to use and go from there. </p><p>When asked in the past why he didn't use modern frameworks like React he made the point that as he was a solo founder he couldn't afford to spend time re-building his websites as this would mean his project would stall. </p><!--kg-card-begin: markdown--><p><a href="https://gum.co/GGofo"><img src="https://www.nocsdegree.com/content/images/2020/08/monetize.png" alt="monetize"></a></p>
<!--kg-card-end: markdown--><h2 id="what-technologies-does-pieter-levels-use">What technologies does Pieter Levels use?</h2><p>Pieter is famous (or infamous) for having a rather eccentric choice of stack by modern standards. It's essentially the easiest, least glamorous tools you could imagine. But that's ok because Pieter makes $600k a year! </p><p>Here is his stack:</p><ul><li>HTML (hand coded so no template to make life easier)</li><li>CSS (He has used pre-processors like LESS and SASS in the past)</li><li>Javascript (No frameworks - this is sometimes referred to jokingly as Vanilla Javascript. There is no such thing as Vanilla JS though. It's just plain-old Javascript without a framework such as React, Vue or Angular) </li><li>jQuery (An unfashionable choice nowadays but it does the job)</li><li>PHP (He doesn't use any frameworks like Laravel)</li><li>SQLite - Pieter says it's super quick and swears by it. SQLite is a database written in a single file so Pieter doesn't need to set up a server for it. &nbsp;</li><li>his sites are hosted on a single VPS running Ubuntu with NGINX.</li></ul><p>Here are some modern options Pieter doesn't use </p><ul><li>React - he jokes a lot about how he never wants to learn it due to it's (perceived) complexity. </li><li>Node - for a time he considered using it but he's never used it in production</li><li>Angular/ Vue - he doesn't use any Javascript frameworks </li><li>SQL/ Postgres - he doesn't use any of the conventional databases </li></ul><h2 id="get-a-job-without-a-cs-degree-">Get a job without a CS degree üëá</h2><!--kg-card-begin: markdown--><p><a href="http://nocsok.com/"><img src="https://www.nocsdegree.com/content/images/2020/08/Screenshot-2020-08-07-at-17.35.28-2.png" alt="No-CS-OK-screenshot-1"></a></p>
<!--kg-card-end: markdown--><h2 id="what-results-has-pieter-had-with-this-approach-to-coding">What results has Pieter had with this approach to coding?</h2><p>Despite the technical critics, Pieter has been consistently making six figures since 2014. He currently makes approximately $600,000 a year which is far more than most developers. He has been able to live in countries with a low cost of living so he will likely be able to have financial independence and not need to work relatively soon. </p><figure><blockquote data-width="550"><p lang="en" dir="ltr">üìà Record sales yesterday of $2,342.04 on <a href="https://t.co/S9Qv34rpbP">https://t.co/S9Qv34rpbP</a> for no apparent reason (maybe companies are spending their EOY HR budgets?). Normal sales is like $299 or 1 post per day. <a href="https://t.co/8HukglDuiv">pic.twitter.com/8HukglDuiv</a></p>‚Äî ÿú (@levelsio) <a href="https://twitter.com/levelsio/status/938699122445451265?ref_src=twsrc%5Etfw">December 7, 2017</a></blockquote>

</figure><figure><blockquote data-width="550"><p lang="en" dir="ltr"><a href="https://t.co/rORz8xdCQp">https://t.co/rORz8xdCQp</a> is a single PHP file called "index.php" generating $2,342.04 in a day. No frameworks. No libraries. üíñ</p>‚Äî ÿú (@levelsio) <a href="https://twitter.com/levelsio/status/938707166508154880?ref_src=twsrc%5Etfw">December 7, 2017</a></blockquote>

</figure><h2 id="what-is-pieter-levels-working-on-now">What is Pieter Levels working on now?</h2><p>He just released a new project, <a href="https://remoteworkers.dev/">Remote Workers</a>, where people can post their resum√©. He "built in public" - that is to say he gave daily updates of his code on Twitter. This is also a great way for developers to build an audience! You can check out what people are saying about Remote Workers on <a href="https://www.producthunt.com/posts/remote-workers">Product Hunt</a>. </p><h2 id="conclusion">Conclusion</h2><p>Pieter is like a bare knuckle boxer so don't compare him to a Judo practioner going to the Olympics. One is going to win no matter what and one is going to follow the rules they have trained under and have finer technique. Neither is better or worse. It depends on the situation. </p><p>Pieter's approach would not be good if you were trying to get a job in a lot of companies. But Pieter isn't looking for a job and the proof for him is in his bank balance. So Pieter's scrappy technique is better suited if you are attracted to coding for entrepreneurship and being a solo founder who doesn't have to share their code with others to work on. He doesn't use Github to save his code, for instance and this is an industry standard that most employers expect. If you want to be an indie hacker/entrepreneur though then Pieter is a fine act to follow. </p><h3 id="if-you-enjoyed-this-article-please-send-it-to-a-friend">If you enjoyed this article please send it to a friend </h3><!--kg-card-begin: html--><!--kg-card-end: html--><h3 id="and-you-should-totally-sign-up-for-the-newsletter">And you should totally <a href="https://nocsdegree.carrd.co/">sign up for the newsletter</a> </h3>
                    </div>
                </section></div>]]>
            </description>
            <link>https://www.nocsdegree.com/pieter-levels-learn-coding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24259201</guid>
            <pubDate>Mon, 24 Aug 2020 10:21:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built a collaborative flashcard tool]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24259037">thread link</a>) | @mvind
<br/>
August 24, 2020 | https://memordo.com/launch/hn | <a href="https://web.archive.org/web/*/https://memordo.com/launch/hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>All your flashcards are stored safely in the cloud. Create and review
                    flashcards instantly on any platform. </p><p>
                    <span>
                        <span><i></i></span> Study using Spaced Repetition
                        <br>
                        <span><i></i></span> Cram for Special Occasions
                        <br>
                        <span><i></i></span> 100% Custom Review Schedules
                        <br>
                        <span><i></i></span> Get Data Analytics and
                        Statitics on your Studying <br>
                    </span></p></div></div>]]>
            </description>
            <link>https://memordo.com/launch/hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-24259037</guid>
            <pubDate>Mon, 24 Aug 2020 09:52:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A tale of webpage speed, or throwing away React]]>
            </title>
            <description>
<![CDATA[
Score 75 | Comments 53 (<a href="https://news.ycombinator.com/item?id=24258855">thread link</a>) | @todsacerdoti
<br/>
August 24, 2020 | https://solovyov.net/blog/2020/a-tale-of-webpage-speed-or-throwing-away-react/ | <a href="https://web.archive.org/web/*/https://solovyov.net/blog/2020/a-tale-of-webpage-speed-or-throwing-away-react/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="articleBody">
  <p>Back in 2011, I happened to get a job writing <a href="https://backbonejs.org/">Backbone.js</a> app. If you never did that, don‚Äôt. I was complaining about difficulties with composition left and right to whoever would listen. As I started digging into alternatives for the front-end, I discovered <a href="https://en.wikipedia.org/wiki/Functional_reactive_programming">FRP</a> and <a href="https://www.flapjax-lang.org/">Flapjax</a>, and <a href="https://clojurescript.org/">ClojureScript</a>. The last one got me hooked on <a href="https://clojure.org/">Clojure</a>. I even did a <a href="https://fwdays.com/event/js-frameworks-day-2013/review/Functional-Reactive-Programming-&amp;-ClojureScript">successful talk</a> on FRP and ClojureScript (and precursor to <a href="https://hoplon.io/">Hoplon</a>, called hlisp).</p>
<h2 id="react">React</h2>
<p>Then in May 2013 React was released. I championed it on my new job and discovered during Clojure-themed hackaton (<a href="https://solovyov.net/blog/2013/clojurecup/">Clojure Cup 2013</a>) that CLJS and React are a great match. What‚Äôs so good about React though? To me, the main selling point is that it composes well.</p>
<p>When you use predecessors like jQuery or Backbone or Angular or whatever after just a year of development your code is a mess of event listeners and triggers. Don‚Äôt get me started on unobtrusive JS, code locality is non-existent with jQuery. Which handler is bound where and what it does? It‚Äôs too hard to discover to be a good base for a good codebase!</p>
<p>Then I started working at <a href="https://kasta.ua/">Kasta</a>, where web frontend was exactly that jQuery-ish mess. Nobody ever wanted to touch checkout, since you could spend hours, if not days, making the smallest change. Then QA would find more invalid states than you can dream of. And then users would report more bugs to our call center. It was just as awful as you can imagine.</p>
<p>So after some experiments, tests, and checks, I decided that we‚Äôre going React + ClojureScript way with server-side rendering done in Clojure.</p>
<h2 id="demise">Demise</h2>
<p>And for a while, things were looking good. We had this <a href="https://solovyov.net/blog/2017/server-side-rendering/">architecture</a> where our components are executed as Clojure on the backend, so no Node.js on the server, hurray! And developer UX is through the roof with the excellent live reload (thanks CLJS), ability to connect from your editor to browser REPL, and experiment there. It is just great!</p>
<p>To make a long story short, our frontend grew bigger and bigger. Incremental compilation started to become slower ‚Äî it now routinely takes more than a second or two. And while there were few attempts on keeping the whole app performant, ultimately we failed. It‚Äôs a death by a thousand cuts. The application became too big and its boot time became too long. Server side rendering helps partially, but then hydration freezes the browser. On the older hardware or Androids it became unacceptable!</p>
<p>One of the main reasonings back in 2016 was that we take a hit on startup time, but in turn, get no page loads and have a rich web application with a lot of interactions. And for a while that worked! But startup time became longer and longer, leading to a shameful rating of 5/100 from Google‚Äôs PageSpeed (okay, it was sometimes up to ~25/100, whatever).</p>
<p>More than that, while doing what is described below, we‚Äôve discovered that React also leads to some questionable practices. Like hovers in JS (rather than in CSS), drop-down menus in JS, not rendering hidden (under a hover) text (Google won‚Äôt be happy), weird complex logic (since it‚Äôs possible!), etc. You can have a React app without those problems, but apparently, you have to have better self-control than we had (nobody‚Äôs perfect!).</p>
<p>Also since then, the vast majority of our users switched to mobile apps. This made the web app the main entry point for new users. This means its main goal is rendering fast for a newcomer, because old-timers, which want more functionality, are on mobile app now. And <a href="https://web.dev/tti/">TTI</a> (time to interactive) is so much more important here.</p>
<h2 id="time-for-a-change">Time For A Change</h2>
<p>So given that circumstances have changed, what do we do? I read articles ‚Äúhow I survive on vanilla JS‚Äù since before React appeared and they usually don‚Äôt make sense ‚Äî it‚Äôs either a pink-glassed rant about how great it is, disregarding all the problems (separation of concerns, cohesion, composability, code locality) or a project by one (or few) persons, who just keep everything in their head.</p>
<p>Somewhere back in February I stumbled upon <a href="https://intercoolerjs.org/">Intercooler.js</a>. I‚Äôm not sure if I ever saw it before ‚Äî maybe I did but skimmed over ‚Äî it does not matter. This time it captured my attention.</p>
<p>The idea is that all HTML is rendered on the server. And client updates parts of HTML, controlled by element‚Äôs attributes. Basically like HTML+XHR on steroids. You can‚Äôt do anything you want, but that‚Äôs partially the point: some limits are good so you won‚Äôt do crazy stuff. And you need some support from the server, so you can render partial results ‚Äî just an optimization, but quite an important one.</p>
<p>There is an alternative library ‚Äî <a href="https://unpoly.com/">Unpoly</a>. It has more features around layout and styling but has a little bit less thought out XHR stuff (hard to do a POST request with parameters without having a form, for example). And the library size is much bigger. And it‚Äôs written in CoffeeScript with lots of classes, <a href="https://solovyov.net/blog/2020/inheritance/">ugh</a>.</p>
<p>So I made a proof-of-concept implementation of our catalogue page in Intercooler and it worked! Except there was a dependency on jQuery and some other irritating stuff‚Ä¶ As I was struggling to make a batch request for HTML fragments I understood one thing: when I wrote down a roadmap for catalogue the last point was ‚Äúsmall intercooler-like thing for analytics‚Äù.</p>
<p>So why wait?</p>
<h2 id="twinspark">TwinSpark</h2>
<p>I liked Intercooler‚Äôs coherent approach to working around AJAX, so I decided to name the library after some automotive stuff as well, and TwinSpark seems like an appropriate name. So what‚Äôs the deal?</p>
<p><a href="https://github.com/kasta-ua/twinspark-js">TwinSpark</a> is a framework for declarative HTML enhancement: you put additional attributes on your element and TwinSpark does something with them. Like makes an AJAX call and replaces target with a response, or adds a class, or‚Ä¶ well, see <a href="https://kasta-ua.github.io/twinspark-js/">examples</a>, shall you?</p>
<p>There are some differences with Intercooler, of course, because why would it exist? The most noticeable one is that there is no dependency on jQuery. It supports only modern browsers (not IE or Opera Mini) but drops that 88kb monster.</p>
<p>It also has:</p>
<ul>
<li>no inheritance ‚Äî can‚Äôt stress that enough!</li>
<li>clear extension points for your directives</li>
<li>support for batching requests to a server</li>
<li>tighter attribute name convention (my own opinion, but <code>ic-get</code> and <code>ic-post</code> irritate me: do not make me change keys!)</li>
<li>much smaller payload (thanks to no jQuery!)</li>
<li>should be faster (thanks to no jQuery again)</li>
</ul>
<p>Honestly speaking, the main reasons are <a href="https://kasta-ua.github.io/twinspark-js/#batch">batching</a> and <a href="https://solovyov.net/blog/2020/inheritance/">no inheritance</a>. Inheritance is particularly painful here. In Intercooler, if you declared <code>ic-target</code> on the body, all tags inside will think it‚Äôs their target too. So you include a component somewhere in HTML tree and an attribute higher on tree changes this component behavior. I mean this is a freaking dynamic scope, I want none of that! :)</p>
<p>Funnily enough, after about a month of dabbling with TwinSpark, Intercooler‚Äôs author announced that he‚Äôs doing a jQuery-less modern version: <a href="https://htmx.org/">htmx</a>. :) It has really good extensions points, so maybe it‚Äôs possible to add batching‚Ä¶ but inheritance is still there. :-(</p>
<h2 id="why-is-that-a-good-idea">Why is that a good idea</h2>
<p>We need to look at it from two sides: if it‚Äôs good for developers and if it‚Äôs good for users. React was great at former and terrible at later.</p>
<p>TwinSpark approach is much better in most cases for the user: less JavaScript, less jitter, more common HTML-like behavior. In the worst case, we would serve you 2.5MB of minified (non-gzipped) JS and 700KB of HTML (half of it were initial data for React) for catalogue. JS bundle is not that big because of embedded images or css or some other obscure stuff, it‚Äôs big because it‚Äôs the whole app, with a lot of views and logic.</p>
<p>Now it‚Äôs 40KB of minified non-gzipped JS (TwinSpark, analytics, some behavior, IntersectionObserver polyfill) and 350KB of HTML. Two orders of magnitude difference and even HTML is smaller! This is just like Christmas in childhood!</p>
<p>On the developer side, I think React is better still, but code locality is great, composability is much better (since you are forced in a limited world of working in a simplistic model) than with jQuery. Plus there are a lot of ways to improve it.</p>
<p>The good news is that the development process did not change that much! We‚Äôre still writing components that query necessary data from site-wide memory store (and make a call to API when needed), but they are executed only on the server. We effectively piggy-backend on our previous architecture, and this gives us the perfect ability to render ‚Äúpartial‚Äù HTML - since components do not wait for some ‚Äúcontroller‚Äù to give them all necessary data. This is what allowed us to have both React and non-React versions to co-exist and make an A/B test without writing the markup twice.</p>
<h2 id="results">Results</h2>
<p>It took us four months since the first experiments to release. Not exactly the amount of time I imagined when we started (‚Äúshould take two to three weeks at most!"), heh, but we were not exclusively doing that. It still took a lot of time and energy to remove React-isms from the code and wrangle our app to be a server-side citizen. It still could use some polishing, but we decided to release it despite that just to cut it short. And A/B test showed that we were right ‚Äî especially for Android phones.</p>
<p>Google gives our catalogue 75/100 now instead of 5/100. Hurray, I guess? :)</p>

  </section></div>]]>
            </description>
            <link>https://solovyov.net/blog/2020/a-tale-of-webpage-speed-or-throwing-away-react/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24258855</guid>
            <pubDate>Mon, 24 Aug 2020 09:25:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vintage computing: IBM 5160 xt]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24258010">thread link</a>) | @hwdegroot
<br/>
August 23, 2020 | https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/ | <a href="https://web.archive.org/web/*/https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        
        <div>
            <blockquote>
<p>640 Kilobytes!!!!1!!1 I shit you not. That is like 10 times the size of Donald Trump‚Äôs brain.</p>
</blockquote>
<p>Recently I was trying to get my son enthousiastic for programming. He is currently 7 years old and getting interested in all kinds of electronics,
so I thought that getting acquainted with programming would not hurt him. And I like to think of myself as a parent that stimulates his kids, so I used that
as an excuse to look into older computers, because <em>nostalgics</em>.</p>
<p><a href="#show-me-the-pics">Show me them footage</a></p>
<p>My kids grew up with LED monitors and TV‚Äôs and never really saw a real cathode tube, except on the episodes of <a href="https://en.wikipedia.org/wiki/Pat_%26_Mat">Pat &amp; Mat</a>.
I still remember the soft fading sound of of the tv turning off and the graphics vanishing into this thin line.</p>



<figure id="6fe72747c83aa07dbdebd9927f00a3d7">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/mesmerizing-shutdown.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

    
    
    <figcaption>
        <small>
            
Mesmerizing shutdown. The terminal vanishes into a line.

        </small>
    </figcaption>
    
    </p>
</figure>


<p>Besides that, I am a fan of clicky keyboards. I have a <a href="https://www.daskeyboard.com/daskeyboard-4C-ultimate/">DasKeyboard 4C ultimate</a> tenkeyless with Cherry Blue switches and a <a href="https://www.daskeyboard.com/daskeyboard-4C-tenkeyless-professional/">4C Profressional</a> with brown switches. Sitting at home during the
corona period, made me google old skool stuff a lot.</p>
<p>So first I laid my eyes on a <a href="https://clickykeyboards.com/product/ibm-model-m2-1395300-made-by-ibm-06-30-1993/">IBM Model M2</a> and got this pretty cheap on
the dutch eBay. Getting this to work on my modern laptop was not rocket science, but not straight forward either. I warned my collegues
that the quiet days at the office were over. But this also opened up a window into vintage computers and computing. What if I could get a vintage computer, I thought. How awesome would that be?</p>
<p>How cool would it be to program a vintage computer with my collegues, or my kids. With all the speed we get nowadays, who still thinks about the limits of computing power. This will be totally different if you have just a fraction of the memory and chip available.</p>
<h2 id="ibm-5160">IBM 5160</h2>
<p>I am from 1983. So I was looking for a computer from that year. IBM was <em>the company</em> in those days for personal computing and when it came to makeing PC‚Äôs (I am NOT an apple fan). So I found that IBM produced the <a href="https://en.wikipedia.org/wiki/IBM_Personal_Computer_XT"><strong>IBM PC XT</strong></a> in that year. I also found out that you could still get them online for a reasonable price.
Luckliy I was able to lay my hands on one, in a pretty good state. It came with an <a href="https://clickykeyboards.com/product-category/1986-1989-ibm-model-m-silver-label/">IBM Model M</a> keyboard with the silver label (the PC is from 1986). The sound of that is even better than than the <code>Model M2</code>.</p>


<figure id="c1eacc927bc26694d18237b77c9b6c5e">
    <p><audio controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/audio/IBM-model-m-oh-that-clicky-sound.mp3" type="audio/mpeg">
            Your browser does not support the audio tag.
        </audio>
    </p>
    
    <figcaption>
        <small>
            
Need I say more...

        </small>
    </figcaption>
    
</figure>


<p>After introducing my kids to th <code>DIR</code> command (it was the only one I was pretty sure about it would work), they wanted to type ‚Äúwords‚Äù on the old computer (first success).</p>
<h2 id="exiting-vim-is-hard">Exiting Vim is hard?</h2>
<p>So, I know the <code>DIR</code> command. But now what. Let‚Äôs see what commands are available.</p>
<ul>
<li>No tab completion. <code>TAB</code> just places the cursor somewhere down the line</li>
<li>No <code>HISTORY</code>. You can repeat the last command by pressing the right-arrow.</li>
</ul>
<p>For a starters, on <code>IBM DOS</code> (version 5.0) there is no <code>$PATH</code>. The executables are located in <code>C:\DOS</code> (or <code>c:\dos</code>, because <code>DOS</code> don‚Äôt care about casing). the most executables are located. After a day or two I figured this out, so I finally managed to open my first <code>BASIC</code> program. All fine, until I wanted to quit the program. It‚Äôs not that easy as <a href="https://stackoverflow.com/questions/11828270/how-do-i-exit-the-vim-editor">exiting <code>Vim</code></a>. It took me quite some time googling, until I finally found this <a href="https://stackoverflow.com/questions/44253055/how-can-i-exit-microsoft-gw-basic-ibm-basica-or-other-similar-old-dialects-of">lifesaver</a>.</p>








<figure id="1fadd62c83243e573af5941d4eb32c02">
    <div>
        <p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/basic-startup-screen_hu03af1e9e4264eec2575cd1ba06f1e20e_255454_600x600_fit_q75_box.jpg" width="600" height="450"></p><figcaption>
            <small>
                
                
Entering BASIC is peanuts

                
            </small>
        </figcaption>
    </div>
</figure>
<div data-target="1fadd62c83243e573af5941d4eb32c02">
    <div>
        <p><span id="close-1fadd62c83243e573af5941d4eb32c02">√ó</span></p><p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/basic-startup-screen.jpg" width="4032" height="3024"></p>
    </div>
</div>










<figure id="0e171f24d2705fcfc1f3dddef5ea66e3">
    <div>
        <p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/cannot-exit-basic_hu7173749eb1353b22f37803cfee1222d6_251610_600x600_fit_q75_box.jpg" width="600" height="450"></p><figcaption>
            <small>
                
                
Stuck in BASIC

                
            </small>
        </figcaption>
    </div>
</figure>
<div data-target="0e171f24d2705fcfc1f3dddef5ea66e3">
    <div>
        <p><span id="close-0e171f24d2705fcfc1f3dddef5ea66e3">√ó</span></p><p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/cannot-exit-basic.jpg" width="4032" height="3024"></p>
    </div>
</div>





<figure id="34bf581ec5de30d29fb4a52465d157a0">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/trying-stuff-in-qbasic.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    
    
    <figcaption>
        <small>
            
Trying to exit QBASIC. Epic fail

        </small>
    </figcaption>
    
    </p>
</figure>


<p>So, now I can start a few commands, but getting all available commands is not that straight forward. There is a lot in the <code>DOS</code> directory, but there is no scrolling, and the monitor only is 25 lines.</p>
<p>So figuring out the available commands is using a lot of <code>DIR *.EXE</code>'s and <code>DIR *.COM</code>'s.</p>
<p>First class fun.</p>
<h2 id="show-me-the-pics">Show me the pics</h2>
<p>Not so long ago I was explaining my collegue (who is using a screensaver), <a href="https://en.wikipedia.org/wiki/Screensaver">where a screensaver got its name from</a>. Back in the days, when we were all running the <a href="https://www.youtube.com/watch?v=Uzx9ArZ7MUU">pipes</a> so the screen would not <span>fuck up</span>
.</p>
<p>But now, sit back and relax‚Ä¶</p>



<figure id="f3b027a374567777bfd8178001360334">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/insane-refresh-rate-oldskool-monitor.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

    
    
    <figcaption>
        <small>
            
Check this insane refresh rate of the cathode tube. The color of the terminal is magnificent! üòç

        </small>
    </figcaption>
    
    </p>
</figure>





<figure id="4cdf95e55b8fbd6e1c5e3ea1f0bd43bf">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/more-refresh-rate.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

    
    
    <figcaption>
        <small>
            
And more refresh rate. The mesmerizing fading away of the fonts into the background. Beautiful, just beautiful

        </small>
    </figcaption>
    
    </p>
</figure>





<figure id="6f82255ebe285b0963065fc046514bcf">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/booting-into-dos.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

    
    
    <figcaption>
        <small>
            
üîà The startup is amazing as well. The sound of the fan, and the nostalgic beep.

        </small>
    </figcaption>
    
    </p>
</figure>





<figure id="43c3937b62bdb5325a2b1a8a57bc530d">
    <p>
        
        <video controls="">
            <source src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/videos/booting-into-dos-again.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

    
    
    <figcaption>
        <small>
            
üîà One more time. I could loop this forever.

        </small>
    </figcaption>
    
    </p>
</figure>










<figure id="01da5907dc0ec7a58dc42ca82d974286">
    <div>
        <p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/ibm-dos-edit-dutch_hu3a6de3285dc77b6df0e675474f4c7576_447189_600x600_fit_q75_box.jpg" width="600" height="450"></p><figcaption>
            <small>
                
                
un DOS tres. The fluorescence is soooo pretty.

                
            </small>
        </figcaption>
    </div>
</figure>
<div data-target="01da5907dc0ec7a58dc42ca82d974286">
    <div>
        <p><span id="close-01da5907dc0ec7a58dc42ca82d974286">√ó</span></p><p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/ibm-dos-edit-dutch.jpg" width="4032" height="3024"></p>
    </div>
</div>










<figure id="69f512f8bcce7a3b38b62b31e321231a">
    <div>
        <p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/wpview-printer-driver-bat-file_hu5af41f7c240e39ab901ff694320d0a39_288464_600x600_fit_q75_box.jpg" width="600" height="450"></p><figcaption>
            <small>
                
                
wppreview, I totally miss the point of this program. But, hey, it's there.

                
            </small>
        </figcaption>
    </div>
</figure>
<div data-target="69f512f8bcce7a3b38b62b31e321231a">
    <div>
        <p><span id="close-69f512f8bcce7a3b38b62b31e321231a">√ó</span></p><p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/wpview-printer-driver-bat-file.jpg" width="4032" height="3024"></p>
    </div>
</div>


<h2 id="what-next">What next?</h2>
<p>So far I had to explain to my son what a <code>file(name)</code> and a <code>command</code> is (when they were typing ‚Äúwords‚Äù the IBM kept returning</p>
<p>So the experience is already educational :)</p>
<p>To be honest, I do not have a clear idea what I am going to do with it next. I will be playing with it for a while like an 8 year old with his trains.
After the <a href="https://twitter.com/hashtag/stayathome"><code>#stayathome</code></a> is over, hopefully I can take it to the office, so we can start doing real cool things with it.</p>
<p>I will definitely have to up my <a href="https://www.qb64.org/wiki/GOTO"><code>GOTO</code></a> skills :)</p>
<p>I will start using my Model M2 for work (sorry collegues), for sure. I will have to remap my function key in <a href="https://i3wm.org/"><code>i3</code></a>, because I am currently using the
windows key for this. But the Model M2 does not have one. But I will overcome.</p>
<p>Besides that, I found this great archive with <a href="ihttps://archive.org/search.php?query=dos%20ibm">manuals</a> and <a href="http://www.retroarchive.org/dos/disks/">bootdisks</a> and even <a href="https://winworldpc.com/download/40c2a543-4218-c39a-11c3-a4e284a2c3a5">PC DOS 5.02</a>. Currently I am trying to get a VM up running PC DOS 5.0 (yes, that is possible in <a href="https://www.youtube.com/watch?v=xfjUkJMe_kw">virtualbox</a>)</p>
<p>The downside, my Cherry MX blue switches feel like second class now.</p>
<h2 id="update">UPDATE</h2>
<p>When I was installing my VM with <code>PC DOS</code>, at the end of the installation I was aske if I wanted to start in <code>shell</code> mode. It turns out there is a command <code>DOSSHELL</code> (needs to be executed fron <code>C:\DOS</code>) which gives you a very fancy
gui.</p>








<figure id="8a76cf6b5c012a99a1bf166c516671c4">
    <div>
        <p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/dosshell_hu8b1374a2b83ba8d4970af29e66446ddf_361223_600x600_fit_q75_box.jpg" width="600" height="450"></p><figcaption>
            <small>
                
                
üò± It has a GUI.

                
            </small>
        </figcaption>
    </div>
</figure>
<div data-target="8a76cf6b5c012a99a1bf166c516671c4">
    <div>
        <p><span id="close-8a76cf6b5c012a99a1bf166c516671c4">√ó</span></p><p><img src="https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/images/dosshell.jpg" width="4032" height="3024"></p>
    </div>
</div>



        </div>
        
        
    </article></div>]]>
            </description>
            <link>https://www.forsure.dev/-/2020/05/19/640-kilobytes-of-ram-and-why-i-bought-an-ibm-5160/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24258010</guid>
            <pubDate>Mon, 24 Aug 2020 06:30:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Acorn ‚Äì a back end design tool/low-code platform]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24257664">thread link</a>) | @virtualbluesky
<br/>
August 23, 2020 | https://wiki.squirreltechnologies.nz/Acorn:Jobhunt | <a href="https://web.archive.org/web/*/https://wiki.squirreltechnologies.nz/Acorn:Jobhunt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="bodyContent"><div id="mw-content-text" lang="en" dir="ltr"><div><p>This page tells the story of a software design tool for engineers, business analysts, and domain experts, with 3 parts:
</p>
<ol><li>this wiki, where all designs live</li>
<li><a rel="nofollow" href="https://acorn.squirreltechnologies.nz/view/Acorn:Jobhunt">an app</a>, where designs can be explored and edited</li>
<li><a rel="nofollow" href="https://pypi.org/project/pyacorn/">a command-line tool</a>, where designs are transformed into code</li></ol>
<p>This project, acorn, is looking for a place to mature into the transformative tool I know it can be. Read on to learn more, and please reach out at <a rel="nofollow" href="https://wiki.squirreltechnologies.nz/cdn-cgi/l/email-protection#711d18101c31020004180303141d051412191f1e1d1e161814025f1f0b"><span data-cfemail="d0bcb9b1bd90a3a1a5b9a2a2b5bca4b5b3b8bebfbcbfb7b9b5a3febeaa">[email&nbsp;protected]</span></a> if you see a niche acorn could fill.
</p>


<h2><span id="Introduction">Introduction</span></h2>
<p>After a year or two of effort I've produced something I believe structurally improves both software development and the developed software. I am, however, neither salesman nor entrepreneur born and have already explored all the options I know for commercializing this work. As no crisis should ever go to waste, job hunting during one of the ...less ideal... times in recent history gives me an opportunity to demonstrate the nature of the tool I've produced. So without further ado, let me introduce acorn.
</p><p>In short, acorn is a design and documentation tool that generates functioning software systems. The central premise of this low-code platform is declarative specification of the language-agnostic elements of a back-end system. Domain-driven design is leveraged to create a common language shared by engineers, business analysts, and domain experts, while acorn avoids the trap of turning business analysts into programmers by ensuring any imperative programming is implemented using industry standard tooling. The core DNA of the tool is maturity by default without the associated lock-in of proprietary hosting or custom programming languages. This section of the wiki both explains and embodies the tool itself, so read on if I've captured your attention. Less detail can be found <a rel="nofollow" href="https://wiki.squirreltechnologies.nz/">here</a>.
</p>
<h3><span id="Background">Background</span></h3>
<p>Right off the bat - let's be clear. I didn't come up through software, though I have fond memories of making games on my graphics calculator in math class in school. Instead, my pedigree starts with mechanical engineering, a segue through biomedical engineering for a Ph.D, and finally analysis/data science to round out my little path-less-travelled. The common thread? Using my rudimentary mathematical skills to understand and influence the world around me. The fundamental issue at hand? You <b>need</b> software to make that happen.
</p><p>Either software systems produce the data you rely on, or software systems are required to implement the outcomes. Both, as it happens, is the more likely scenario, and I rapidly found myself frustrated with the state of the software world. When presented with a new and complex domain, I want to understand:
</p>
<ul><li>What data exists within the system, and what it means</li>
<li>How you can interact with that data</li>
<li>The pedigree of that data, and how it has evolved over time</li></ul>
<p>In practice, that means attempting to digest 15 years of messy development of an organically grown system. Reading code, spelunking outdated wikis, interpreting artistic architectural diagrams that boil down to a single individual's mental model, and generally hoping that the assumptions you make are safe enough for you to rely on your own analysis. The final straw was how fraught it was to actually evolve these bespoke organic systems.
</p><p>I tried to learn the professional lessons of the engineers around me that I respected, and so my journey towards acorn began.
</p>
<h2><span id="Key_concepts">Key concepts</span></h2>
<p>Before I continue on, there a few concepts that set the scene. First, acorn sees three important archetypes relevant to the development of software:
</p>
<ol><li>Experts: Knowledgeable about the domain, perhaps non-technical</li>
<li>Engineers: The ones who make it happen, perhaps despite not knowing what <i>it</i> is to begin with</li>
<li>E... Users: Anybody who relies on the resulting system, from non-technical users to external engineers</li></ol>
<p>You management types keep the world from descending into chaos&nbsp;:) but these three groups need to communicate clearly for the process to be successful. As good fences make good neighbours there are three levels of formality of data access required by these groups:
</p>
<ol><li>External: Highly formal contracts that have consequences when they change because external parties rely on them [Users, Experts, Engineers]</li>
<li>Internal: Formal, but manageable boundaries that different sections of your organization build upon [Experts, Engineers]</li>
<li>Private: Flexible boundaries enforced by a team on themselves purely for data consistency and ergonomic reasons [Engineers]</li></ol>
<p>Why do these two concepts matter? Because acorn is a tool that enables those three archetypes to collaborate, and to build software that requires no extra effort to maintain the different formality levels required for safe, productive development work. Keep these concepts in mind as a lens through which to understand the meta tool that follows.
</p>
<h2><span id="Terminology">Terminology</span></h2>
<p>My non-traditional route makes for non-traditional nomenclature, so this section should help explain what I mean by the terms I use for acorn's meta model of a software system.
</p>
<h3><span id="General_terms">General terms</span></h3>
<dl><dt>library</dt>
<dd>A software system that has been designed to be embedded in other systems, as opposed to run as a stand-alone entity</dd>
<dt>module</dt>
<dd>What you get when you wrap enough extra detail around a library such that it can be deployed</dd>
<dt>project</dt>
<dd>The design for a library/module along with its documentation and implementation</dd>
<dt>realm</dt>
<dd>Individual components within a project</dd></dl>
<p>Thus acorn is a tool that allows you create software projects while writing perhaps 20% of the normally required lines of back-end code. These projects are standardized to allow them to be embedded (for libraries) or connected (modules) in a modular fashion. This connection could be realized as either a microservice, monolithic, or function-as-a-service deployment model. These projects themselves consist of realms, where each realm is a bounded context in domain-driven design terminology, and could be individually owned by different teams if such scale is called for.
</p>
<h3><span id="Data-specific_terms">Data-specific terms</span></h3>
<dl><dt>primitive</dt>
<dd>The basic form of data within a system, everything from raw binary information to free text or dates</dd>
<dt>data type</dt>
<dd>An envelope of data containing perhaps many fields containing either primitives or other data types</dd>
<dt>event</dt>
<dd>A meaningful occurrence within the system, represented as a data type that is published under specific conditions</dd>
<dt>subscription</dt>
<dd>An asynchronous process that listens for specific events and allows a system to respond to changes</dd>
<dt>regular expression</dt>
<dd>a custom primitive with a specified pattern</dd>
<dt>lookup</dt>
<dd>a custom primitive that can take on a specific set of values that are defined at runtime</dd></dl>
<p>Thus acorn is a tool for creating data-intensive applications, where an application can be seen as a graph of primitive data fields described within data types. Editing this graph produces events at differing levels of granularity, which can be leveraged to perform meaningful responses to business-relevant changes. Oh, and realms containing data are effectively mutually exclusive sections of this graph.
</p>
<h3><span id="Domain-specific_terms">Domain-specific terms</span></h3>
<p>A domain is the foundational realm within a system. It contains data, and provides an <b>internal</b> boundary for manipulating that data. There are a number of specialized concepts within a domain, and the details of the internal boundary are intended to permit standardized, flexible data access where performant, and controlled access when potentially non-performant.
</p>
<dl><dt>Aggregate root</dt>
<dd>A data type that is persisted, has a defined lifecycle, and is queriable</dd>
<dt>Entity</dt>
<dd>A named sub-graph within an aggregate root that has additional lifecycle</dd>
<dt>Command</dt>
<dd>A mutation operation that has side-effects and produces an event</dd>
<dt>Query</dt>
<dd>A read-only aggregation or transformation of data within the domain</dd></dl>
<p>Thus projects created within acorn store data in domains, where command/query responsibility segregation is utilized to provide a set of meaningful interactions with this information. The underlying principle behind acorn is that the internal boundary formed by these domains is necessary and sufficient for rapid development, exploratory analysis, and eventual extension.
</p>
<h3><span id="Portal-specific_terms">Portal-specific terms</span></h3>
<p>A portal is a realm that forms an <b>external</b> boundary for the system. Analogous to an application service in domain-driven design, portals handle inter-domain co-ordination that goes beyond pure asynchronous event subscription. Portals contain a number of specialized concepts to create a intelligible view over the use-cases of a system.
</p>
<dl><dt>Context</dt>
<dd>An externally facing set of nodes on the formal boundary of the system that share a common definition and may be associated with other contexts</dd>
<dt>View</dt>
<dd>A simple query that may belong to a context</dd>
<dt>Action</dt>
<dd>A formal mutation operation, perhaps belonging to a context, that may return enough information to navigate to a new/existing context</dd>
<dt>Navigation</dt>
<dd>Information on how to reach different contexts from the data returned by a read operation</dd>
<dt>Component</dt>
<dd>An embeddable javascript widget that supports interactions too complex for a form-based interface</dd></dl>
<p>Thus portals, while stateless, contain all the information required to make the internal boundaries of a system both legible and safe to use for external users/downstream systems. The degenerate form of a portal is simply a layer over a domain that calls aggregate roots "contexts", commands "actions", and queries "views". In other words, a typical CRUD layer over a SQL database.
</p>
<h3><span id="Engine-specific_terms">Engine-specific terms</span></h3>
<p>Domains support asynchronous processing, and portals form the boundary that initiates this processing. An engine is a realm that can co-ordinate asynchronous processing and solicit user input when required. Engines contain a number of specialized concepts to define state machines for these processes and thus simplify development of the inevitable BPMN-style flow charting and saga creation.
</p>
<dl><dt>User input</dt>
<dd>A request for additional input, represented by an action in a portal if the request cannot be automatically fulfilled</dd>
<dt>Subprocess</dt>
<dd>A logical set of background processing, starting with a command and terminating in an event after perhaps many subscriptions</dd>
<dt>Process</dt>
<dd>A‚Ä¶</dd></dl></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wiki.squirreltechnologies.nz/Acorn:Jobhunt">https://wiki.squirreltechnologies.nz/Acorn:Jobhunt</a></em></p>]]>
            </description>
            <link>https://wiki.squirreltechnologies.nz/Acorn:Jobhunt</link>
            <guid isPermaLink="false">hacker-news-small-sites-24257664</guid>
            <pubDate>Mon, 24 Aug 2020 05:08:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Principal Component Analysis]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24257468">thread link</a>) | @keyboardman
<br/>
August 23, 2020 | https://leimao.github.io/article/Principal-Component-Analysis/ | <a href="https://web.archive.org/web/*/https://leimao.github.io/article/Principal-Component-Analysis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h3 id="introduction">Introduction</h3>

<p>Principal components analysis (PCA) is one of a family of techniques for taking high-dimensional data, and using the dependencies between the variables to represent it in a more tractable, lower-dimensional form, without losing too much information. It has been widely used for data compression and de-noising. However, its entire mathematical process is sometimes ambiguous to the user.</p>



<p>In this article, I would like to discuss the entire process of PCA mathematically, including PCA projection and reconstruction, with most of the derivations and proofs provided. At the end of the article, I implemented PCA projection and reconstruction from scratch. After reading this article, there should be no more black box in PCA anymore.</p>

<h3 id="prerequisites">Prerequisites</h3>

<h4 id="orthogonal-matrix">Orthogonal Matrix</h4>

<p>In linear algebra, an orthogonal matrix is a real square matrix whose columns and rows are orthogonal unit vectors (orthonormal vectors).</p>



<p>Equivalently, the mathematical expression is</p><p>

\[\begin{align}
A^{\top}A = AA^{\top} = I
\end{align}\]

</p><p>By <a href="https://en.wikipedia.org/wiki/Invertible_matrix">the definition of invertible matrix</a>, this means matrix $A$ is invertible and $A^{-1} = A^{\top}$.</p>



<p>We could also view this from the perspective of determinant.</p>



<p>Because $A$ and $A^{\top}$ are square matrices and using <a href="https://en.wikipedia.org/wiki/Determinant#Properties_of_the_determinant">the properties of determinant</a></p><p>

\[\begin{align}
\det(I) &amp;= \det(A^{\top}A) \\
&amp;= \det(AA^{\top}) \\
&amp;= \det(A) \det(A^{\top}) \\
&amp;= \det(A) \det(A) \\
&amp;= \det(A)^2 \\
&amp;= \det(A^{\top})^2 \\
&amp;= 1 \\
\end{align}\]

</p><p>Since $\det(A) \neq 0$, matrix $A$ is invertible. We multiply $A^{-1}$ on both side of the orthogonal matrix definition.</p><p>

\[\begin{align}
A^{\top}A A^{-1} &amp;= I A^{-1}\\
A^{\top} I &amp;= A^{-1} \\
A^{\top} &amp;= A^{-1} \\
\end{align}\]

</p><p>We have also derived the conclusion that $A^{-1} = A^{\top}$.</p>



<p>Similarly, a complex square matrix $A$ is unitary if its transpose conjugate $A^{\dagger}$ is also its inverse.</p>



<p>Equivalently, the mathematical expression is</p><p>

\[\begin{align}
A^{\dagger}A = AA^{\dagger} = I
\end{align}\]

</p><h4 id="symmetric-matrix">Symmetric Matrix</h4>

<p>Real symmetric matrix has the following useful properties:</p>



<p>If $A$ is a real symmetric matrix, all of its eigenvalues are real numbers.</p>



<p>Because of <a href="https://en.wikipedia.org/wiki/Complex_conjugate#Generalizations">the conjugate properties</a> and $\overline{A} = A$ since $A$ is a real value matrix,</p><p>

\[\begin{align}
\overline{Av} &amp;= \overline{\lambda v} \\
&amp;= \overline{A} \overline{v} \\
&amp;= A \overline{v} \\
&amp;= \overline{\lambda} \overline{v} \\
\end{align}\]

</p><p>We got $A \overline{v} = \overline{\lambda} \overline{v}$.</p>



<p>Let $\lambda \in \mathbb{C}$ be an eigenvalue of the symmetric matrix $A$. $Av = \lambda v$ and $v \neq 0$. We multiply $v^{\dagger}$ ($v^{\dagger} = \overline{v}^{\top}$) to the both sides, and because of $A^{\top} = A$ and the property we have just derived $A \overline{v} = \overline{\lambda} \overline{v}$,</p><p>

\[\begin{align}
v^{\dagger} A v &amp;= \lambda v^{\dagger} v \\
&amp;= v^{\dagger} A^{\top} v \\
&amp;= \overline{v}^{\top} A^{\top} v \\
&amp;= (A\overline{v})^{\top} v \\
&amp;= (\overline{\lambda} \overline{v})^{\top} v \\
&amp;= \overline{\lambda}^{\top} \overline{v}^{\top} v \\
&amp;= \overline{\lambda} v^{\dagger} v \\
\end{align}\]

</p><p>We have $\lambda v^{\dagger} v = \overline{\lambda} v^{\dagger} v$, thus $\lambda$ is real.</p>



<p>This concludes the proof.</p>

<h4 id="positive-semi-definite-matrix">Positive Semi-Definite Matrix</h4>

<p>The $n \times n$ symmetric matrix $A$ is defined to be positive semi-definite, if $x^{\dagger} A x \geq 0$ for $x \in \mathbb{C}^n$.</p>



<p>The positive semi-definite matrix has the following important property:</p>



<p>The eigenvalues of positive semi-definite matrix are non-negative.</p>



<p>Because $x^{\dagger} A x \geq$ for $x \in \mathbb{C}^n$, suppose $x$ is an eigenvector of $A$ and $Ax = \lambda x$ where $x \neq 0$,</p><p>

\[\begin{align}
x^{\dagger} A x &amp;= x^{\dagger} \lambda x \\
&amp;= \lambda x^{\dagger} x \\
&amp;\geq 0 \\
\end{align}\]

</p><p>Because $x^{\dagger} x$ must be real number and $x^{\dagger} x &gt; 0$, we have $\lambda \geq 0$.</p>



<p>This concludes the proof.</p>

<h4 id="covariance-matrix">Covariance Matrix</h4>

<p>The covariance matrix has the following important property:</p>



<p>Covariance matrix is positive semi-definite. This means that the eigenvalues of covariance matrix is non-negative.</p>



<p>The proof of that covariance must be positive semi-definite could be found in my previous post on <a href="https://leimao.github.io/blog/Multivariate-Gaussian-Covariance-Matrix/">Multivariate Gaussian and Covariance Matrix</a>.</p>

<h4 id="singular-values">Singular Values</h4>

<p>The singular values, $\sigma_1$, $\sigma_2$, $\cdots$, $\sigma_r$, of an $m \times n$ matrix $A$ are the square roots, $\sigma_i = \sqrt{\lambda_i}$, of non-negative eigenvalues of the associated Gram matrix $K = A^{\dagger}A$. The corresponding eigenvectors of $K$ are known as singular vectors of $A$.</p>



<p>Note that the associated Gram matrix $K = A^{\dagger}A$ is real and symmetric, so the eigenvalues of $K$ are all real.</p>



<p>$K = A^{\dagger}A$ is also positive semi-definite.</p>



<p>For any vector $x$</p><p>

\[x^{\dagger} (A^{\dagger} A) x = (Ax)^{\dagger} Ax\]

</p><p>Because $Ax$ is also a vector,</p><p>

\[\begin{align}
x^{\dagger} (A^{\dagger} A) x \geq 0
\end{align}\]

</p><p>Therefore, all the eigenvalues of $K = A^{\dagger}A$ are non-negative and they all have a corresponded singular value of $A$.</p>

<h4 id="singular-value-decomposition">Singular Value Decomposition</h4>

<p>In linear algebra, the singular value decomposition (SVD) is a factorization of a real or complex matrix that generalizes the eigendecomposition of a square normal matrix to any $ m\times n$ matrix via an extension of the polar decomposition.</p>



<p>Specifically, the singular value decomposition of an $m \times n$ real or complex matrix $M$ is a factorization of the form $U \Sigma V^{\dagger}$, where $U$ is an $m \times m$ real or complex unitary matrix, $\Sigma$ is a $m \times n$ rectangular diagonal matrix with non-negative real numbers on the diagonal, and $V$ is an $n \times n$ real or complex unitary matrix.</p>



<p>The diagonal entries $\sigma_{i}=\Sigma_{ii}$ of $\Sigma$ are known as the singular values of $M$. The number of non-zero singular values is equal to the rank of $M$.</p>



<p>In particular, for any matrix $A \in \mathbb{C}$,</p><p>

\[A_{m \times n} = U_{m\times m} \Sigma_{m \times n} V_{n \times n}^{\dagger}\]

</p><p>We will skip the proof for why every matrix has SVD and the algorithm for SVD.</p>

<h4 id="singular-value-decomposition-for-norm-matrix">Singular Value Decomposition for Norm Matrix</h4>

<p>For any matrix $A \in \mathbb{C}$, $A^{\dagger} A$ could be expressed as</p><p>

\[\begin{align}
A^{\dagger} A &amp;= (U \Sigma V^{\dagger})^{\dagger} U \Sigma V^{\dagger} \\
&amp;= V \Sigma^{\dagger} U^{\dagger}  U \Sigma V^{\dagger} \\
&amp;= V \Sigma^{\dagger} I \Sigma V^{\dagger} \\
&amp;= V \Sigma^{\dagger} \Sigma V^{\dagger}
\end{align}\]

</p><p>We multiply $V$ at both side of the equation.</p><p>

\[\begin{align}
A^{\dagger} A V &amp;= V \Sigma^{\dagger} \Sigma V^{\dagger} V \\
&amp;=  V \Sigma^{\dagger} \Sigma I \\
&amp;=  V \Sigma^{\dagger} \Sigma \\
&amp;= \Sigma^{\dagger} \Sigma V \\
\end{align}\]

</p><p>Note that $\Sigma^{\dagger} \Sigma$ is a square diagonal matrix. Based on the definition of eigenvalue and eigenvectors, the diagonal values of $\Sigma^{\dagger} \Sigma$, including the zeros, are the eigenvalues of $A^{\dagger} A$. All the columns of $V$ are the corresponding eigenvectors of $A^{\dagger} A$.</p>



<p>Similarly, $A A^{\dagger}$ could be expressed as</p><p>

\[\begin{align}
A A^{\dagger} U &amp;= \Sigma \Sigma^{\dagger} U \\
\end{align}\]

</p><p>Note that $\Sigma \Sigma^{\dagger}$ is a square diagonal matrix. Based on the definition of eigenvalue and eigenvectors, the diagonal values of $\Sigma \Sigma^{\dagger}$, including the zeros, are the eigenvalues of $A A^{\dagger}$. All the columns of $U$ are the corresponding eigenvectors of $A A^{\dagger}$.</p>

<h3 id="mathematics-of-principal-components-analysis">Mathematics of Principal Components Analysis</h3>

<p>We start with $p$-dimensional vectors, and want to summarize them by projecting down into a $q$-dimensional subspace, where $q \leq p$. Our summary will be the projection of the original vectors on to $q$ directions, the principal axes, which span the subspace.</p>

<h4 id="minimizing-projection-residuals">Minimizing Projection Residuals</h4>

<p>Given a dataset $X \in \mathbb{R}^{n \times p}$ whose row is the centered data vectors $x_i \in \mathbb{R}^p$ for $0 \leq i \leq n-1$ ($\sum_{i=0}^{n-1} x_{i} = 0$), if we have a unit vector $w \in \mathbb{R}^p$ ($|w| = 1$) and we project the all the data vectors to this unit vector $w$.</p>



<p>The length of projection for data vector $x_i$ on $w$, by definition, is</p><p>

\[\begin{align}
|x_i| \cos \theta &amp;= \frac{\langle x_i, w \rangle}{|w|} \\
&amp;= \langle x_i, w \rangle \\
\end{align}\]

</p><p>where $\langle x_i, w \rangle$ is the inner product of $x_i$ and $w$.</p>



<p>The projection vector for data vector $x_i$ on $w$ is $\langle x_i, w \rangle w$.</p>



<p>The residual, which is the distance from data vector $x_i$ to $w$, is the length of vector $x_i - \langle x_i, w \rangle w$.</p>



<p>Let‚Äôs check what the residual square $| x_i - \langle x_i, w \rangle w | ^2$ is.</p><p>

\[\begin{align}
| x_i - \langle x_i, w \rangle w |^2 &amp;= \langle x_i - \langle x_i, w \rangle w, x_i - \langle x_i, w \rangle w \rangle \\
&amp;= \langle x_i, x_i \rangle - \langle x_i, \langle x_i, w \rangle w \rangle - \langle \langle x_i, w \rangle w, x_i \rangle + \langle \langle x_i, w \rangle w, \langle x_i, w \rangle w \rangle \\
&amp;= \langle x_i, x_i \rangle - \langle x_i, w \rangle \langle x_i, w \rangle - \langle x_i, w \rangle \langle w, x_i \rangle + \langle x_i, w \rangle ^2 \langle w,  w \rangle \\
&amp;= \langle x_i, x_i \rangle - 2 \langle x_i, w \rangle ^2 + \langle x_i, w \rangle ^2 |w| ^2 \\
&amp;= \langle x_i, x_i \rangle - 2 \langle x_i, w \rangle ^2 + \langle x_i, w \rangle ^2 \\
&amp;= \langle x_i, x_i \rangle -  \langle x_i, w \rangle ^2 \\
\end{align}\]

</p><p>The optimization goal of projection is to minimize mean squared error $\text{MSE}(w)$, which is the mean of the residual sum of squares.</p><p>

\[\begin{align}
\text{MSE}(w) &amp;= \frac{1}{n} \sum_{i=0}^{n-1} | x_i - \langle x_i, w \rangle w |^2 \\
&amp;= \frac{1}{n} \sum_{i=0}^{n-1} \big( \langle x_i, x_i \rangle -  \langle x_i, w \rangle ^2 \big)\\
&amp;= \frac{1}{n} \sum_{i=0}^{n-1} \langle x_i, x_i \rangle - \frac{1}{n} \sum_{i=0}^{n-1}  \langle x_i, w \rangle ^2\\
\end{align}\]

</p><p>Remember the relationship between variance and expected value, $\mathbb{V}(X) = \mathbb{E}(X^2) - \mathbb{E}(X)^2$, ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leimao.github.io/article/Principal-Component-Analysis/">https://leimao.github.io/article/Principal-Component-Analysis/</a></em></p>]]>
            </description>
            <link>https://leimao.github.io/article/Principal-Component-Analysis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24257468</guid>
            <pubDate>Mon, 24 Aug 2020 04:12:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teenage anxiety / Covid lockdown: Study in England leads to surprising findings]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24257147">thread link</a>) | @finphil
<br/>
August 23, 2020 | https://nuadox.com/post/627296328752447488/teenage-anxiety-covid-19-lockdown | <a href="https://web.archive.org/web/*/https://nuadox.com/post/627296328752447488/teenage-anxiety-covid-19-lockdown">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="627296328752447488">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/627296328752447488/teenage-anxiety-covid-19-lockdown"><h2>Teenage anxiety and COVID-19 lockdown: Study in England leads to surprising findings</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1290"><img src="https://64.media.tumblr.com/1c1cbe0a1a784ad09b89332419f59225/040b6c77faef2d93-50/s1280x1920/0167f8dd392c23a80da441832950475d329b3202.jpg" alt="image" data-orig-width="1920" data-orig-height="1290" width="1280" height="860"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.bristol.ac.uk%2F&amp;t=YjlhNGRiZjU4YTA2NjNkNDI0OGRjNGMzNjYzMDk5MmMyMWFmNDUzZiwyb1RJU01saQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627296328752447488%2Fteenage-anxiety-covid-19-lockdown&amp;m=0&amp;ts=1598372475">University of Bristol</a> -</b></p><p>Younger teenagers in the South West of England felt less anxious and more connected to school when they were away from it during the COVID-19 global pandemic public lockdown, a first-of-its-kind study has found.</p><p>The striking results of research led by the University of Bristol are published today by the National Institute for Health Research School for Public Health Research (NIHR SPHR) in a report which raises questions about the impact of the school environment on young people‚Äôs mental health and calls for more support to help them when they return to the classroom.</p><p>More than half (54 per cent) of the 13 to 14-year-old girls surveyed last October showed they were at risk of anxiety, compared to around a quarter (26 per cent) of boys of the same age. When surveyed again in May, during the pandemic which forced schools to shut and placed unprecedented restrictions on people‚Äôs lives, the figures dropped by nearly 10 per cent among girls to less than half (45 per cent) and to less than one in five of boys (18 per cent).</p><p>‚ÄúWith the whole world in the grip of a devastating pandemic, which has thrown everyone‚Äôs lives into turmoil, the natural expectation would be to see an increase in anxiety said lead author Emily Widnall, Senior Research Associate in Population Health Sciences at the University of Bristol‚Äôs Medical School.</p><p>"While we saw anxiety levels rise for a few of our participants, it was a big surprise to discover quite the opposite was the case for many of them. Of particular interest, those students who felt least connected to school before the lockdown saw a larger decrease in anxiety which raises questions about how the school environment affects some younger teenagers‚Äô mental well-being.‚Äù</p><p>Depression levels remained fairly consistent over time, with a 2 per cent decrease of boys at risk of depression and a 3 per cent increase in girls at risk of depression.</p><p>‚ÄúThis was again unexpected and arguably shows the resilience of young people and their ability to adapt to challenging situations,‚Äù Widnall said.</p><p>‚ÄúAmidst other headlines highlighting concerns about young people‚Äôs mental health being negatively affected, this is in one sense very welcome news, but at the same time it raises interesting questions about what the key drivers and triggers of anxiety or depression are for this particular age group.‚Äù</p><p>Many students‚Äô sense of well-being also improved during lockdown, with boys showing a bigger improvement than girls. Those with the lowest levels of well-being pre-pandemic benefited most, with their scores increasing by 14 per cent compared to no increase in those with average to above average well-being.</p><p>‚ÄúThe survey gives a unique insight into how many younger teenagers feel without the day-to-day pressures of school life, for example academic achievement and challenging peer relationships, in their lives,‚Äù Widnall said.</p><p>Despite not attending, boys and girls both reported stronger connectedness to school during lockdown, with marked increases in the number of students who said they get the opportunity to talk with their teachers.</p><p>‚ÄúThis was another surprise finding. You would imagine being away from school would logically make you feel more distant and less connected. It will be interesting for further research to explore the reasons why young people reported feeling more connected to school, but one possible explanation could be the new ways that teachers found to engage with students via digital platforms, which of course young people are already very familiar with,‚Äù Widnall said.</p><p>Survey results showed reduced anxiety and improved well-being coincided with significantly greater usage of social media among girls. The biggest increase was seen during the week, when more than half of girls (55 per cent) reported spending in excess of three hours daily on social media during lockdown.</p><p>‚ÄúThis challenges the common perception that social media has a detrimental impact on young people‚Äôs mental health. The statistics for girls within this survey suggest these channels may play an important role in helping teenagers bond, feel more connected and in touch, especially during a period of physical isolation,‚Äù Widnall said.</p><p>‚ÄúRespondents, especially girls, also reported using social media as a tool for learning, rather than just browsing or chatting amongst friends.‚Äù</p><p>The survey involved more than 1,000 year nine students from 17 secondary schools across the South West. Based on its findings, the report makes policy recommendations including prioritisation of student‚Äôs mental health and wellbeing alongside catch up on academic work and considering ways to prevent a rise in anxiety back to pre-pandemic levels.</p><p>Dr Judi Kidger, senior author and Lecturer in Public Health at the University of Bristol, said: ‚ÄúOur findings raise questions about the role of the school environment in explaining rises in mental health difficulties among teenagers in recent years. As schools re-open, we need to consider ways in which schools can be more supportive of mental health for all students.</p><p>"With children and young people having been out of the classroom for so long, and with many students in this study seeing improvements in mental health and well-being during that time, the case to address issues weighing on their quality of life at school is stronger than ever.‚Äù</p><p>‚Äì</p><p><b>Source: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.eurekalert.org%2Fpub_releases%2F2020-08%2Fuob-rry082120.php&amp;t=NTUzZThiYWU3MWU0MjgxMzljZTU0ZTJmNDMxNjE0MDk1Y2RhZWQ5MSwyb1RJU01saQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627296328752447488%2Fteenage-anxiety-covid-19-lockdown&amp;m=0&amp;ts=1598372475">University of Bristol</a></b></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/620827694184185856/lock-down-sleep-quality">Sleep during COVID-19 lockdown: Longer and more regular, yet worse</a></p><p><a href="https://nuadox.com/post/615500611887235072/social-distancing-2022">New study: Social distancing could be needed until 2022</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/covid19">covid19</a>
                                    
                                        <a href="https://nuadox.com/tagged/coronavirus">coronavirus</a>
                                    
                                        <a href="https://nuadox.com/tagged/mental-health">mental health</a>
                                    
                                        <a href="https://nuadox.com/tagged/teenagers">teenagers</a>
                                    
                                        <a href="https://nuadox.com/tagged/school">school</a>
                                    
                                        <a href="https://nuadox.com/tagged/education">education</a>
                                    
                                        <a href="https://nuadox.com/tagged/social-distancing">social distancing</a>
                                    
                                        <a href="https://nuadox.com/tagged/anxiety">anxiety</a>
                                    
                                        <a href="https://nuadox.com/tagged/stress">stress</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/public-health">public health</a>
                                    
                                        <a href="https://nuadox.com/tagged/depression">depression</a>
                                    
                                        <a href="https://nuadox.com/tagged/remote-learning">remote learning</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/627296328752447488/teenage-anxiety-covid-19-lockdown</link>
            <guid isPermaLink="false">hacker-news-small-sites-24257147</guid>
            <pubDate>Mon, 24 Aug 2020 02:44:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How an unemployed 29 year old created the biotech industry]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24255736">thread link</a>) | @unignorant
<br/>
August 23, 2020 | https://www.baybridgebio.com/blog/lessons-from-genentech.html | <a href="https://web.archive.org/web/*/https://www.baybridgebio.com/blog/lessons-from-genentech.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              
              <div>
                
                
                <p>by Richard Murphey</p>
                <p>
                <img src="https://www.baybridgebio.com/Images/tom_perkins_on_bob_swanson.png"></p><p>There is no shortage of online content about how to start a tech company, but there is comparatively little on how to start a biotech startup.  I recently came across an amazing set of interviews with the founders of Genentech that is the one of the best resources I've seen on biotech entrepreneurship.</p>
                <p>In this post, I'll highlight 16 key quotes from early Genentech leaders and comment on how they can be applied to biotech startups today.</p>
                <p>The interviews that these quotes came from were originally conducted as source material for Sally Smith Hughes' book <a href="https://www.amazon.com/dp/B00629MDKI/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1">Genentech: The Beginnings of Biotech</a>.  This book is a must-read for anyone looking to learn about the industry (it's a quick and engaging read as well -- I finished it in a day).  The interview transcripts are worth reading in their entirety (especially the <a href="https://oac.cdlib.org/view?docId=kt9c6006s1&amp;query=&amp;brand=oac4">Bob Swanson</a> and <a href="https://oac.cdlib.org/view?docId=kt467nb7wh&amp;query=&amp;brand=oac4">Dave Goeddel</a> interviews) and are available for free online through <a href="http://bancroft.berkeley.edu/ROHO/projects/biosci/oh_list.html">Berkeley's Bancroft Library Oral History Center</a><sup>1</sup>.</p>
                <br>
                <h3>Early Genentech at a glance</h3>
                
                <p>To set the stage, here is a chart with major value inflection points during the early days of the company.  At this time, Bob Swanson, the founding CEO, was in his late 20s / early 30s, and most of Genentech's scientists, led by Dave Goeddel, were also in their 20s and 30s.  Bob's co-founder, UCSF professor Herb Boyer, was more experienced, but he took a fairly hands-off approach to the science.  Prior to starting Genentech, Bob had been laid off by venture fund Kleiner Perkins.</p>
                <p><img src="https://www.baybridgebio.com/Images/genentech_vc_valuation.png"></p><p>Genentech was created to use emerging genetic engineering technology to create new medicines.  When the company was founded, genetic engineering was a new and relatively unknown field.  The leading scientists in the area thought it would be years or decades before genetic engineering was advanced enough to create medicines.  Big pharma companies were universally dismissive of the technology.</p>
                <p>The venture capital and startup industry was also in its infancy.  There was no such thing as a biotech startup, and there hadn't been a new pharma company created in decades.  Kleiner Perkins, one of the first venture capital funds, had just started (Bob was an early employee of the fund).  Apple was founded on April 1, 1976, less than a week before Genentech was founded.</p>
                <p>(As a side note, Apple and Genentech have always been somewhat linked.  Steve Jobs and Bob Swanson were the original young tech entrepreneurs.  When Genentech went public in 1980, it was the biggest tech IPO ever -- until Apple went public months later.  Art Levinson, who took over as Apple's chairman after Steve Jobs passed away and was on Google's board from 2004-2009, was an early employee at Genentech and was Genentech's CEO in the 1990s and 2000s).</p>
                <br>
                <h4>Overview of early Genentech's strategy</h4>
                
                <p>Genentech's strategy was to first prove that the technology could work -- that bacteria or yeast could be engineered to make human proteins -- and then to use genetic engineering to make products.  They proved the concept by getting bacteria to produce somatostatin, a small hormone.  Somatostatin wasn't useful as a medicine, but it was a relatively simple molecule to make with their tech and thus a good proof-of-concept.</p>
                <p>Genentech's first major product was recombinant insulin.  At the time, insulin was obtained by killing pigs or cows and extracting it from their tissues.  This was an expensive and potentially less safe approach than producing human insulin from bacteria or yeast.  Cloning insulin put Genentech on the scientific and financial map and kickstarted the biotech industry.</p>
                <p>With that context in hand, here's how Genentech approached building a biotech startup:</p>
                <br>
                <h3>Create value by eliminating risk</h3>
                <br>
                <div>
                    <p>Bill Hambrecht‚Ä¶has said the only common characteristic he has noticed in the successful entrepreneurs he's invested in has been that they're all basically conservative‚Ä¶they're willing to go for it, but everyone is looking at how you minimize the risks as you're doing so.</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>In most industries, companies create value by growing revenue or profits.  In biotherapeutics, companies cannot sell products until FDA approves them, which can take years.  But pre-revenue drugs can still be immensely valuable.  In development-stage drug companies, value is created by eliminating technical risk.</p>
                <p>Like many other entrepreneurs, Bob had a unique attitude toward risk: part risk-averse, part risk-seeking.  In the <a href="https://www.perell.com/podcast/josh">words of Josh Wolfe</a>, co-founder of Lux Capital, "entrepreneurs aren't risk takers.  They're risk killers".</p>
                <br>
                <h3>Build a "staircase of value"</h3>
                <br>
                <div>
                    <p>I tried to organize things so that once you had success and created value in the company, then you raised the next round of money for the next success that would create greater value‚Ä¶. So it's sort of building a staircase‚Ä¶to the point where your cash flow is positive from product sales.</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>Bob's goal from the beginning was to build a fully integrated pharma company -- one that developed and sold its own products.  He broke this goal into small units of value creation, and raised a new round of capital to fund each unit.</p>
                <br>
                <h3>"Make something people want"</h3>
                <br>
                <div>
                    <p>This is the essence of a company. The better you understand customers' needs‚Ä¶the more value the product has that they're willing to buy. Then you make more money, and the more money you make, the more it says, "I'm doing things right. I'm a healthy company.‚Äù</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>Bob understood that the success of the company depended on its ability to create value for customers.  In the words of Paul Graham, co-founder of Y Combinator, <a href="http://www.paulgraham.com/good.html">"make something people want"</a>.</p>
                <p>This holds true in biotech today.  Understanding a patient's condition, the available treatment options, and unmet clinical needs is the starting point for developing a drug.</p>
                <br>
                <h3>Science first</h3>
                <br>
                <div>
                    <p>One of the reasons companies succeed or fail is which projects get cut and which ones don‚Äôt‚Ä¶. It's a judgement call, and that's where you need the very top scientists and medical doctors and everybody to make that call--when to stop it, when is enough, and when to go the next round.</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>Genentech focused on recruiting the best scientists and creating a culture that prized science above all else.  Genentech needed the best scientists because it was working in a competitive, cutting edge field, but also knew that the company needed to be rigorous and scientific in its business decision making.</p>
                <br>
                <h3>Scientists first</h3>
                <br>
                <div>
                    <p><i>Bob Swanson</i>: Boyer's idea was‚Ä¶"Let's give [the young scientists] the credit." He didn't put his name on the insulin paper. And that, for a postdoc, is pretty attractive, rather than having your boss trying for the credit all the time and to keep you as the worker‚Ä¶.</p>
                    <p>So the advantages were freedom from seeking out grants, a chance to be owners of the company.</p>
                    <p><i>Sally Smith Hughes</i>: Could you in addition to the equity offer them higher salaries than they were making in academia?</p>
                    <p><i>Bob</i>: Oh, yes. Postdocs continue to be very poorly paid. So yes, we could offer them good salaries.</p>
                </div>
                <p>To recruit the best scientists, Genentech combined the best attributes of academia and industry.  Genentech gave scientists the opportunity to work on important scientific problems, a large degree of freedom, and encouraged them to publish their results.  At the same time, Genentech gave credit based on merit, not seniority, paid scientists much more than they would make in academia, and issued stock grants that could provide life-changing financial gains if the company succeeded.</p>
                <br>
                <h3>Work on ambitious problems</h3>
                <br>
                <div>
                    <p>We don't work on any projects we can't get someone excited about‚Ä¶I think the key to any organization is hiring outstanding people, and helping them get excited about what they're doing.</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>Genentech's ambition was key to recruiting and motivating the best scientists.  As <a href="http://blog.samaltman.com/how-to-be-successful">Sam Altman</a> says, "It‚Äôs easier to do a hard startup than an easy startup. People want to be part of something exciting and feel that their work matters."</p>
                <br>
                <h3>Products before platform</h3>
                <br>
                <div>
                    <p>We were very focused on products, and that made a big difference. I know Cetus at the time was more into developing the technology. I said, "Well, let's make a product, and we'll develop the technology we need to make the product, and let the product drive the science, rather than the other way around." Actually, we wound up doing better science because of that, and also we got a product.</p>
                    <p>- Bob Swanson</p>
                </div>
                <p>Genentech was developing arguably the most powerful tech platform in the history of pharma, but it didn't focus on building a platform.  Genentech focused first on products, and built their platform to support product development efforts.  This ended up being a ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.baybridgebio.com/blog/lessons-from-genentech.html">https://www.baybridgebio.com/blog/lessons-from-genentech.html</a></em></p>]]>
            </description>
            <link>https://www.baybridgebio.com/blog/lessons-from-genentech.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24255736</guid>
            <pubDate>Sun, 23 Aug 2020 22:12:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Clean Start for the Web]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 66 (<a href="https://news.ycombinator.com/item?id=24255541">thread link</a>) | @tannhaeuser
<br/>
August 23, 2020 | https://macwright.com/2020/08/22/clean-starts-for-the-web.html | <a href="https://web.archive.org/web/*/https://macwright.com/2020/08/22/clean-starts-for-the-web.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The web is in need of some reinvention right now.</p><p>The web‚Äôs evolution over the last decade has mirrored the American economy. All of the essential indicators are going ‚Äúup and to the right,‚Äù a steady stream of fundamental advances reassure use that there ‚Äúis progress,‚Äù but the actual experience and effects for individuals stagnates or regresses.</p><p>The crisis affects platforms, creators, and consumers alike.</p><p><em>I‚Äôm going to try and dissect and diagnose this situation, a bit. You can skip forward if you just want to read my casual, unprofessional pitch for a reboot of the web. The idea is that we could choose a new lightweight markdown format to replace HTML &amp; CSS, split the web into documents and applications, and find performance, accessibility, and fun again.</em></p><details><summary>This post uses the pedantic definition of "the web"</summary>I've discussed attempts to reinvent the "Internet" a few times. Things like dat, IPFS, and arweave are all projects to reinvent an Internet, or a transport and data-sharing layer. The web is what lies on top of that, the HTML, CSS, URLs, JavaScript, browsing experience.</details><h3 id="the-platform-collapse">The platform collapse</h3><p>The platform side is what changed last week, when <a href="https://arstechnica.com/information-technology/2020/08/firefox-maker-mozilla-lays-off-250-workers-says-covid-19-lowered-revenue/">Mozilla laid off 250 employees</a> and indicated that it would affect Firefox development. Firefox wasn‚Äôt the #2 browser - that‚Äôs Safari, mainly because of the captive audience of iPhone and iPad users. But it was the most popular browser that people <em>chose</em> to use.</p><p><img alt="Chart of browser market share, with Chrome becoming the monopoly" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-chart-of-browser-market-share-with-chrome-becoming-the-monopoly.png"></p><p><em>Chart from <a href="https://gs.statcounter.com/browser-market-share#monthly-200901-202007">statcounter</a></em></p><p>The real winner is not just Chrome, but Chrome‚Äôs engine. One codebase, <a href="https://en.wikipedia.org/wiki/KHTML">KHTML</a>, split into <a href="https://en.wikipedia.org/wiki/WebKit">WebKit</a> (Safari), and <a href="https://en.wikipedia.org/wiki/Blink_(browser_engine)">Blink</a> (Chrome, Microsoft Edge, Opera, etc.)</p><p>This a textbook monoculture. In one sense, it‚Äôs a victory for collaboration because nobody‚Äôs ‚Äòwasting time‚Äô on competing implementations and web developers can expect the same features and bugs across different browsers. But in a deeper way, it threatens one of the basic principles of how the web has evolved.</p><h3 id="specs--implementations">Specs &amp; implementations</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.webp" type="image/webp"><img alt="Decline" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.jpg"></picture></p><p>The web has evolved through a combination of <em>specifications</em> and <em>implementations</em>. Organizations like the <a href="https://whatwg.org/">WHATWG</a>, <a href="https://www.w3.org/">W3C</a>, and <a href="https://www.ietf.org/">IETF</a> have been collaboration spaces for independent developers, corporations, and academics to discuss potential new features of the web. Then, browsers would test those ideas out in a variety of implementations.</p><p>This was an interesting structural piece: it reassured us all that it was <em>possible</em> to follow along, and that a multi-participant web was one of our goals. It was frustrating to pull up <a href="https://caniuse.com/">caniuse</a> and see blank spots, but the idea was that different browsers may take the lead in some areas, but everyone catches up eventually. Chrome was not always the first to jump on features, or the first to optimize.</p><p>It‚Äôs slower to collaborate than to work alone, but it was beneficial in some ways that we‚Äôve lost now. Chrome has been moving extremely fast, adding new specifications and ideas at a startling rate, and it‚Äôs becoming one of the hardest pieces of software to replicate.</p><p>Mike Healy I think <a href="https://twitter.com/mike_hasarms/status/1296575224599556097">said it best</a>:</p><blockquote><p>Do you think the web has almost ‚Äòpriced itself out of the market‚Äô in terms of complexity if only 1-2 organisations are capable of building rendering engines for it?</p></blockquote><p>Not only is it nearly impossible to build a new browser from scratch, once you have one the ongoing cost of keeping up with standards requires a full team of experts. Read Drew DeVault‚Äôs <a href="https://drewdevault.com/2020/08/13/Web-browsers-need-to-stop.html">Web browsers need to stop</a> for that point, and keep reading all of Drew‚Äôs stuff.</p><details><summary>What about Flow?</summary>Yep, there‚Äôs a <a href="https://www.ekioh.com/flow-browser/">browser called Flow</a>, which may exist and may support a full range of web standards. If it does exist, I‚Äôll be very excited about it, but it has been teased for almost a year now without any concrete evidence, so it could equally be vaporware.</details><h3 id="the-problem-for-creators">The problem for creators</h3><p>The web has gotten much harder to develop for.</p><p>The web has had about 25 years to grow, few opportunities to shrink, and is now surrounded by an extremely short-sighted culture that is an outgrowth of economic and career short-termism. There are lots of <a href="https://frankchimero.com/blog/2018/everything-easy/">ways to do anything</a>, and some of the most popular ways of building applications on the web are - in my opinion - <a href="https://macwright.com/2020/05/10/spa-fatigue.html">usually ghoulish overkill</a>.</p><p>The best way for folks to enter <em>web development</em> in 2020 is to choose a niche, like <a href="https://vuejs.org/">Vue.js</a> or <a href="https://reactjs.org/">React</a>, and hope that there‚Äôs a CSS and accessibility expert on their team.</p><p>For folks who just want to create a web page, who don‚Äôt want to enter an industry, there‚Äôs a baffling array of techniques, but all the simplest, probably-best ones are stigmatized. It‚Äôs easier to stumble into building your resume in React with GraphQL than it is to type some HTML in Notepad.</p><h3 id="the-problem-for-consumers">The problem for consumers</h3><p>We hope that all this innovation is <em>for the user</em>, but often it isn‚Äôt. Modern websites seem to be as large, slow, and buggy as they‚Äôve ever been. Our computers are <a href="https://macwright.com/2019/11/15/something-is-wrong-with-computers.html">barely getting faster</a> and our internet connection speeds are stagnating (don‚Äôt even <em>try</em> to mention 5G). Webpage <a href="https://www.pingdom.com/blog/webpages-are-getting-larger-every-year-and-heres-why-it-matters/">size growth</a> is outpacing it all.</p><p>The end result is that I no longer expect pages to be fast, even with <a href="https://github.com/gorhill/uBlock">uBlock</a> installed in Firefox and a good local <a href="https://sonic.net/">fiber internet provider</a>.</p><p>I don‚Äôt want to lay all of the blame at <em>those web developers</em>, though. Here‚Äôs a story from an old job that I find kind of funny. We were collecting some data from user interactions to answer simple questions like ‚Äúdo people click to upload or do they drag &amp; drop?‚Äù So we enabled <a href="https://segment.com/">Segment</a>, a tool that lets you add data-collection pipelines by including a single script. The problem, though, is that Segment offered a big page of on/off switches with hundreds of data providers &amp; ad-tech companies on it. And, sure, enough, some folks closer to the business side started <em>clicking all those buttons</em>.</p><p>See, the problem with ads and data tracking is that <em>you can</em>, and who is going to say no? (In that instance, I said no, and added a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP</a> that would block new advertiser access at the page level.)</p><h2 id="recreating-simplicity">Recreating simplicity</h2><blockquote><p>You cannot get a simple system by adding simplicity to a complex system. - <a href="http://erlang.org/pipermail/erlang-questions/2012-March/065087.html">Richard O‚ÄôKeefe</a></p></blockquote><p>Where do we go from here? Some of the smartest folks out there have been <a href="https://twitter.com/_developit/status/1296628134406692865">advocating for a major version revision</a> of the web.</p><p><em>I am in no way qualified to speculate on a whole new web from scratch, but the <a href="https://www.nytimes.com/2020/08/21/us/california-wildfires.html">air quality</a> is scary so I‚Äôm skipping my run and it‚Äôs Saturday morning so here we are.</em></p><p>How do we make the web fun, participatory, and good?</p><p>My first thought is that there are two webs:</p><h3 id="the-document-web">The document web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.webp" type="image/webp"><img alt="Illustration of web pages" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.jpg"></picture></p><p>There is the ‚Äúdocument web‚Äù, like blogs, news, Wikipedia, Twitter, Facebook. This is basically the original vision of the web, as far as I can understand it (I was 2). Basically CSS, which we now think of as a way for designers to add brand identity and tweak pixel-perfect details, was instead mostly a way of making plain documents readable and letting the <em>readers</em> of those documents customize how they looked. This attribute actually <a href="https://twitter.com/autiomaa/status/1296755641164468224">survived for a while in Chrome, in the form of user stylesheets</a>, and <a href="https://davidwalsh.name/firefox-user-stylesheet">still works in Firefox</a>. Though it‚Äôs going to be a rough ride in the current web which has basically thrown away <a href="https://en.wikipedia.org/wiki/Semantic_HTML">semantic HTML</a> as an idea.</p><h3 id="the-application-web">The ‚Äúapplication‚Äù web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.webp" type="image/webp"><img alt="Illustration of machines" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.jpg"></picture></p><p>Then there‚Äôs the ‚Äúapplication web‚Äù. This started as <em>server</em> applications, built with things like <a href="https://www.djangoproject.com/">Django</a> and <a href="https://rubyonrails.org/">Ruby on Rails</a> and before them a variety of technologies that will live forever in corporations, like <a href="https://en.wikipedia.org/wiki/Jakarta_Servlet">Java Servlets</a>.</p><p><a href="https://backbonejs.org/">Backbone.js</a> demonstrated that a lot of these applications could be moved into the browser, and then <a href="https://reactjs.org/">React</a> and its many SPA-style competitors established a new order for the web ‚Äì highly-interactive, quite complex, client-side applications.</p><h3 id="the-war-between-the-parts-of-the-web">The war between the parts of the web</h3><p>I posit that this dual-nature is part of what gives the web its magic. But it‚Äôs also a destructive force.</p><p>The magic is that a simple blog can be creative expression, can be beautifully interactive. This one isn‚Äôt, but I‚Äôm just saying - <a href="https://www.typewolf.com/site-of-the-day">it‚Äôs possible</a>.</p><p>The problem is that the ‚Äúdocument web‚Äù is often plagued by application characteristics - it‚Äôs the JavaScript and animations and complexity that makes your average newspaper website an unmitigated disaster. Where document websites adopt application patterns they often accidentally sacrifice <a href="https://www.a11yproject.com/">accessibility</a>, performance, and <a href="https://en.wikipedia.org/wiki/Web_scraping">machine readability</a>.</p><p>And the ‚Äúapplication web‚Äù is plagued by the document characteristics - interactive applications are going to great lengths to avoid most of the essential characteristics of HTML &amp; CSS and just use them as raw materials - avoiding writing any HTML directly at all, avoiding <a href="https://mxstbr.com/thoughts/css-in-js">writing any CSS directly at all</a>, avoiding <a href="https://www.react-spring.io/">default animation features</a>, replacing <a href="https://reactrouter.com/">page-based navigation with something that looks like it but works completely differently</a>. The application web uses <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>, not HTML, and would like that in the browser itself, or <a href="https://svelte.dev/">Svelte</a>, instead of JavaScript, and would like that too.</p><p>When I read blog posts from ‚Äòtraditional web developers‚Äô who are mad that HTML &amp; CSS aren‚Äôt enough anymore and that everything is complicated ‚Äì&nbsp;I think this is largely that the application stack for building websites has replaced the document stack in a lot of places. Where we would use Jekyll or server-side rendering, we now use React or Vue.js. There are advantages to that, but for a lot of minimally-interactive websites, it‚Äôs throwing away decades worth of knowledge in exchange for certain performance perks that might not even matter.</p><p>The appeal of social networks is partly because they let us create <em>documents</em> without thinking about web technology, and they provide guarantees around performance, accessibility, and polish that otherwise would take up our time. You don‚Äôt have to think about whether your last Facebook post will load quickly on your friend‚Äôs phone or whether your Instagram post will be correctly cropped and resized in the timeline - those things are taken care of.</p><p>To some extent, this doesn‚Äôt <em>need</em> to be something that only social networks provide, though: standards like <a href="https://en.wikipedia.org/wiki/RSS">RSS</a> and services like <a href="https://www.instapaper.com/">Instapaper</a> show that pleasing formatting and distribution can be done at the <em>platform level</em> and be provided on top of existing vanilla websites.</p><details><summary>These are not absolutes.</summary>Yeah, I can hear it now: but these categories are not ‚Ä¶</details></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2020/08/22/clean-starts-for-the-web.html">https://macwright.com/2020/08/22/clean-starts-for-the-web.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2020/08/22/clean-starts-for-the-web.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24255541</guid>
            <pubDate>Sun, 23 Aug 2020 21:47:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My experiences as a first year programmer in a Robotics team]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24255442">thread link</a>) | @programming_cat
<br/>
August 23, 2020 | https://catarinaburghi.github.io/blog/2020/08/23/my-expiriences-as-a-first-year-programmer-in-a-robotics-team | <a href="https://web.archive.org/web/*/https://catarinaburghi.github.io/blog/2020/08/23/my-expiriences-as-a-first-year-programmer-in-a-robotics-team">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
                    
                    <h4>Close encounters with high speed Robots</h4>
                </p><div>
                    <p>I don‚Äôt know how to do this, and that‚Äôs where it all started.
So I am a member of my school‚Äôs <a href="https://www.firstinspires.org/robotics/frc">FRC</a> team, <a href="https://www.raiderrobotics.org/">5024 Raider Robotics</a> and I decided to join because I love STEM related things and I decided that it would be a great idea to join the Robotics team.</p>

<p>At first I wasn‚Äôt planning on becoming a programmer. I was planning on being part of the build team, if I went through with being on the build team I wouldn‚Äôt be writting this.</p>

<p>So my father is also works with programming related things and he told me to at least give programming a shot, he told me it would be easier for me to do programming than doing build related related things. So I talked with one of the mentors on the team and he told me to give it a shot (and looking back at that time I think I made the right choice).</p>

<p>So I gave it a shot, and on the first few weeks I felt a little bit left out. I am the only girl in the programming subteam and sometimes I felt like I didn‚Äôt belong there just because:</p>

<ol>
  <li>Most of the time I was just watching the older members do the work</li>
  <li>Some people told me I should have picked something like build or media (which I wasn‚Äôt mostly interrested in)</li>
  <li>Sometimes when I piched in my ideas people wouldn‚Äôt take me seriously.</li>
</ol>

<p>But as the season went on I started learning more, and more about programming and about what FRC actually is. And I made some good friends too.</p>

<p>You are probably very curious of what I mean by ‚ÄúClose encounters with high speed Robots‚Äù, it‚Äôs a fun story. But first I‚Äôll give you some background information:</p>

<p>This year‚Äôs ‚Äúgame‚Äù for FRC was <a href="https://www.youtube.com/watch?v=gmiYWTmFRVE">Infinite Recharge</a>.</p>

<p>Our Robot <a href="https://www.thebluealliance.com/team/5024">Death Raider</a>, is a robot that has a few powerful subsystems, like our Intake, Hopper, Shooter, Climber, Drivetrain, and our beloved Vision Target.</p>

<p>On a Friday night me and another one of the programmers were testing our Vision Target, the point of having that vision target is that we can get the robot to line up on a position by it‚Äôs self to shoot the balls into the goal.</p>

<p>We were testing that in our build room. Our build room has very bright lights and instead of the target the vision target tracked one of the lights and came back full speed at me and my friend. He managed to get out of the way but I got lucky enough to get trapped between a desk and a pile of scrap metal (It wasn‚Äôt a fun night).</p>

                </div></div>]]>
            </description>
            <link>https://catarinaburghi.github.io/blog/2020/08/23/my-expiriences-as-a-first-year-programmer-in-a-robotics-team</link>
            <guid isPermaLink="false">hacker-news-small-sites-24255442</guid>
            <pubDate>Sun, 23 Aug 2020 21:30:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Comp.sys.sinclair Crap Games Competition]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24254743">thread link</a>) | @nickt
<br/>
August 23, 2020 | https://www.connosoft.com/csscgc2020/ | <a href="https://web.archive.org/web/*/https://www.connosoft.com/csscgc2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<h2>Hello!</h2>
			<p>Welcome to the 24th edition of the comp.sys.sinclair Crap Games Competition! This contest is unusual, as it picks up from CSSCGC 2018 due to the absence of the competition last year. It's also unusual due to me not actually being a native to the <i>comp.sys.sinclair</i> Usenet group!</p>
			<p>The competition is now in full swing, and the submissions are open! Why not <a href="https://www.connosoft.com/csscgc2020/rules.html">familiarise yourself with the rules</a>, or <a href="https://www.connosoft.com/csscgc2020/entries.html">peruse some of the competition entries?</a></p>
			<p>Have fun, and remember to throw all your standards of quality out of the window!</p>
			<p><b>- John Connolly (<i>PROSM Software</i>), Host</b></p>
		</div></div>]]>
            </description>
            <link>https://www.connosoft.com/csscgc2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24254743</guid>
            <pubDate>Sun, 23 Aug 2020 19:50:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Loot boxes in online games and their effect on consumers [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24254712">thread link</a>) | @infodocket
<br/>
August 23, 2020 | https://www.europarl.europa.eu/RegData/etudes/ATAG/2020/652732/IPOL_ATA(2020)652732_EN.pdf | <a href="https://web.archive.org/web/*/https://www.europarl.europa.eu/RegData/etudes/ATAG/2020/652732/IPOL_ATA(2020)652732_EN.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.europarl.europa.eu/RegData/etudes/ATAG/2020/652732/IPOL_ATA(2020)652732_EN.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24254712</guid>
            <pubDate>Sun, 23 Aug 2020 19:47:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bare Metal Rust Generics]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 40 (<a href="https://news.ycombinator.com/item?id=24254048">thread link</a>) | @cube00
<br/>
August 23, 2020 | https://www.ecorax.net/as-above-so-below-1/ | <a href="https://web.archive.org/web/*/https://www.ecorax.net/as-above-so-below-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>I've had the pleasure to work with very experienced firmware developers; the
kind of people who know the size of their <a href="https://en.wikipedia.org/wiki/Red_zone_(computing)">red
zones</a> and routinely
transform coffee into linker scripts and pointer dereferences. In other words,
the <a href="http://www.catb.org/%7Eesr/jargon/html/story-of-mel.html">Mels</a> and <a href="https://www.usenix.org/system/files/1311_05-08_mickens.pdf">Zeus
Hammers</a> of the
world.</p>
<p>When it comes to the tools of our trade, many of them are curious and
experimental. Some of them‚Äîvery much myself included‚Äîexplore far enough to leave
pragmatism behind and veer into idealism, stubbornly forcing beautiful round
pegs into industrial square holes. Hey, maybe they're square for a reason, but
it doesn't hurt to try.</p>
<p>The majority of them aren't like that. Your average battle-tested firmware
developer has accrued a healthy distrust of the abstract, probably born of
watching shiny platonic constructs crash and burn with painfully <em>real</em> and
<em>concrete</em> error traces. It is sobering, having to chase a hardfault on a tiny
MCU across enough vtables and templated code to make Herb Sutter puke angle
brackets. No wonder modern approaches are met with some resistance unless the
LOADs and the STOREs are in clear view.</p>
<p>I felt this way too when someone suggested to me, back in 2014, that an
up-and-coming language called <a href="https://www.rust-lang.org/">Rust</a> showed promise
in the embedded field. <em>Surely not</em>, I thought, <em>too high level.</em> Even though I
had been playing with it already, my profoundly ingrained bit-twiddling
instincts told me not to trust a language that supported functional programming,
or one that dared to have an <em>opinion</em> on how I managed my memory. Bah! That's
how you get philosophers to run out of forks, and your forks to turn into
SIGSEGVs.</p>
<p>I was wrong.</p>
<p>Through the past five years of experimentation, I've gone from intrigued, to
optimistic, to <em>convinced</em> that Rust is an ideal language to build industrial
grade, bulletproof bare metal software. Beyond that, I've come to realize that
even the highest level constructs that the base language offers are applicable
to firmware development, very much unlike other languages that span a wide range
of paradigms (I'm looking at you, C++). There are a few reasons I felt this way:</p>
<ul>
<li>Rust's safety guarantees and general strictness bring the debug time down
significantly, so there's less need to spend time developing mental maps of
how high level constructs correspond to hardware primitives.</li>
<li>The type system is <em>great</em> at enforcing local reasoning and preventing leaky
abstractions. Building decoupled systems with no runtime cost is easy.</li>
<li>The compiler error messages are worthy of an AI assistant with <em>concerning</em>
mind-reading abilities.</li>
</ul>
<p>Lately, I've had the chance to work on a Rust
<a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f412.html">STM32F412</a>
project in a professional setting, with one of the goals being to foster a Rust
knowledge pool at my company. The project, <code>Loadstone</code>, is a 32kb secure
bootloader targeting bare metal devices for the medical industry.</p>
<p>While it would've been easier‚Äîand much less of a headache to my colleagues‚Äîto
stick to a subset of Rust more familiar to C developers, with your <code>for</code>s, your
<code>*mut u8</code>s and your <code>unsafe</code>s, I instead decided not to pull any punches and
make liberal use of generics, iterator adapters, typestate programming and other
stuff that would've made 2010's cuervo cry blood and hug the closest copy of
Kernighan and Ritchie.</p>
<p>The pressures of a real collaborative project have taught me a lot, and many
assumptions have been refined thanks to the criticism of several skilled
outsiders who, as outsiders often do, had a privileged view on things I took for
granted.</p>
<p>A topic that came up frequently in code review is
<a href="https://thume.ca/2019/07/14/a-tour-of-metaprogramming-models-for-generics/">generics</a>.
Perhaps still recovering from a SFINAE nightmare, some colleagues were
unsure about the use of generics to group behaviour that we'd normally write
separate implementations for. The concerns tended to fall in one of three
categories:</p>
<ul>
<li>Runtime performance.</li>
<li>Binary size bloat.</li>
<li>Habitability and readability.</li>
</ul>
<p>The first is easy to dispel, as it often comes from unfamiliarity with static
dispatch. No vtables or heap allocations in anything we're doing, promise! The
second concern is valid but I've found it to be negligible in practice; I have
plans for another blog post giving some concrete benchmarks.</p>
<p>The last concern is the most subjective and thus the hardest to argue, so I
decided to focus on it in this blog series. I'll go over the design process of
two similar flash memory drivers, and hopefully show how generic programming can
make the job easier and the result more habitable, even in the barren, heapless,
rugged world of bare metal firmware.</p>
<blockquote>
<p>Compile times are another common‚Äîand very valid‚Äîargument against liberal use
of generics. However, it is not a big problem for low footprint embedded
projects like this one.</p>
</blockquote>

<p><a href="https://en.wikipedia.org/wiki/Flash_memory">Flash memory</a> is electronic
non-volatile storage. It's ubiquitous in consumer electronics; any time you
switch a small device off and it <em>remembers something</em>‚Äîwhether it's settings,
songs, documents, even its own program‚Äîchances are you have flash memory to
thank. We'll be looking at two different <em>NOR</em> flash chips, since the first demo
port of <code>Loadstone</code> requires us to operate both:</p>
<ul>
<li>The embedded
<a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f412.html">STM32F412</a>
1MB MCU flash.</li>
<li>The external 128MB <a href="https://www.micron.com/-/media/client/global/documents/products/data-sheet/nor-flash/serial-nor/n25q/n25q_128mb_1_8v_65nm.pdf">Micron
N25Q128</a>
flash chip present in the <a href="https://www.st.com/en/evaluation-tools/32f412gdiscovery.html">STM32F412ZGT6 Discovery
Kit</a></li>
</ul>
<p>You probably knew what flash memory is used for already, but what non-firmware
developers may not know is that flash memory is <em>quirky</em>. You cannot simply
write a byte to a NOR flash address, sir, that would be rude. While a blob of
flash memory will happily turn a <code>1</code> into a <code>0</code>, the opposite operation will
fail silently.</p>
<p>You can think of every <code>1</code> bit (NOR flash's <em>erased</em> state) as a lit candle you
can blow out. However, in this metaphor you don't get a lighter
to light them back up; you get a flamethrower. Without getting into the hardware
principles involved, the design of NOR flash memory requires that you erase
(i.e. set to <code>1</code>) memory <em>in bulk</em>, in chunks often orders of magnitude bigger
than the minimum addressable memory. On most chips you even have a three way
mismatch: your read, write and erase sizes aren't equal. Ugh.</p>
<p>As you can imagine, this makes writing flash drivers a bit of a pain,
particularly because even the smallest write operations turn into <em>read/write
cycles</em>. Writing a single byte requires reading the minimum erasable block
surrounding the targeted address (which may itself require multiple reads),
potentially erasing the entire block, then writing back the original data merged
with the desired byte.</p>
<p>As you can also imagine, nobody but the person writing this driver <em>wants to
care about this</em>. Even in the minimalistic world of bare metal software,
productive collaboration depends on developers filing away these sharp edges,
presenting interfaces that uniformize or hide any aspects of hardware irrelevant
to the bigger design. As such, a first stab at a flash memory interface should
simply offer a way to read and write ranges of memory.</p>
<p>Let's look at some code:</p>
<pre><code><span>pub trait </span><span>ReadWrite {
   </span><span>type </span><span>Error;
   </span><span>type </span><span>Address;
   </span><span>fn </span><span>read</span><span>(</span><span>&amp;</span><span>mut </span><span>self</span><span>, </span><span>address</span><span>: </span><span>Self::</span><span>Address, </span><span>bytes</span><span>: </span><span>&amp;</span><span>mut</span><span> [</span><span>u8</span><span>]) -&gt; </span><span>Result</span><span>&lt;(), </span><span>Self::</span><span>Error&gt;;
   </span><span>fn </span><span>write</span><span>(</span><span>&amp;</span><span>mut </span><span>self</span><span>, </span><span>address</span><span>: </span><span>Self::</span><span>Address, </span><span>bytes</span><span>: </span><span>&amp;</span><span>[</span><span>u8</span><span>]) -&gt; </span><span>Result</span><span>&lt;(), </span><span>Self::</span><span>Error&gt;;
   </span><span>fn </span><span>range</span><span>(</span><span>&amp;</span><span>self</span><span>) -&gt; (</span><span>Self::</span><span>Address, </span><span>Self::</span><span>Address);
   </span><span>fn </span><span>erase</span><span>(</span><span>&amp;</span><span>mut </span><span>self</span><span>) -&gt; </span><span>Result</span><span>&lt;(), </span><span>Self::</span><span>Error&gt;;
}
</span></code></pre>
<p>The above is what I converged on as a generic interface to a flash
driver. If you're unfamiliar with Rust generics, the above isn't a type, or a
parent class to inherit from. It's more like a Haskell typeclass; a set of
requirements for a concrete type to implement, described in this case in the
form of associated types (<code>Error</code> and <code>Address</code>) and method signatures (<code>read</code>,
<code>write</code>, <code>range</code> and <code>erase</code>).</p>
<p>Even at this early step, some tradeoffs have to be made. The keen,
hardfault-traumatized reader will notice that this interface doesn't lend itself
well to timing sensitive problems. All methods are blocking, and abstracting the
read/write cycle away will naturally lead to non-deterministic write times; a
write may take very little if it only requires toggling bits off, or it might
take very long if it straddles two big sectors requiring erase operations. The
<code>bytes</code> output parameter in <code>read</code> might also strike you as not too rusty, where
returning a <code>Vec&lt;u8&gt;</code> is often idiomatic. Unfortunately we have no heap to work
with, so if you want to take your bytes home you'll have to bring your own bag.</p>
<p>Indeed, it's hard to write the universal interface. This one made sense for the
problems we're solving, but make sure to keep in mind the requirements of your
project!</p>
<h3 id="why-not-simply-write-a-concrete-type">Why not simply write a concrete type?<a href="#why-not-simply-write-a-concrete-type" aria-label="Anchor link for: why-not-simply-write-a-concrete-type">üîó</a></h3>
<p>Ah, the word "simply" is tricky. Datasheet in hand, it may have been easier to
write. It might even save us a few bytes down the line. But altogether I think
the benefits of starting here are well worth the drawbacks:</p>
<ul>
<li>Makes it easy to write test doubles and leverage static dispatch for unit
testing. This kind of approach is what I miss the most when writing C, where
I'm forced to resort to link time substitution or to do things with the
preprocessor too vile to even mention here.</li>
<li>Decouples your design from the get go and makes collaboration easy. Another
developer can immediately start working against this interface, and it's
abstract enough to give you confidence it won't need to be changed as more
knowledge of the hardware emerges.</li>
<li>Going abstract first forces you to think long and hard about what behaviour is
common to each implementation and what behaviour isn't, which helps to <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">not
repeat yourself</a>.</li>
</ul>
<p>But the biggest reason, and one where C++ and Rust diverge, is the fact that
<em>you can reason about this interface locally</em>. This stems from a non-obvious
difference between the C++ template system and Rust traits. Where C++ templates
type check at the point of instantiation, Rust traits type check at the point of
definition.</p>
<p>What does this mean? It means that the inscrutable, seven-feet-deep-in-a-library
C++ template errors are impossible in Rust, because the compiler doesn't need to
go beyond the interface to prove it is used correctly.</p>
<p>A similar interface using C++ ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ecorax.net/as-above-so-below-1/">https://www.ecorax.net/as-above-so-below-1/</a></em></p>]]>
            </description>
            <link>https://www.ecorax.net/as-above-so-below-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24254048</guid>
            <pubDate>Sun, 23 Aug 2020 18:26:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mites, spiders and crustaceans visualized using focused-ion-beam microscope]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24253850">thread link</a>) | @bookofjoe
<br/>
August 23, 2020 | http://www.micronaut.ch/product-category/mite-and-crustacea-and-spider-sem/ | <a href="https://web.archive.org/web/*/http://www.micronaut.ch/product-category/mite-and-crustacea-and-spider-sem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<!-- /#wrapper -->

			<!-- Tracking von http://statify.de -->
			

		
<!--[if lt IE 9]>
<script src="http://www.micronaut.ch/wp-content/themes/whitelight/includes/js/respond-IE.js"></script>
<![endif]-->















			<div id="cookie-notice" role="banner"><p><span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. If you continue to use this site we will assume that you are happy with it.</span><a href="#" id="cn-accept-cookie" data-cookie-set="accept">Ok</a>
				</p>
				
			</div>
</div>]]>
            </description>
            <link>http://www.micronaut.ch/product-category/mite-and-crustacea-and-spider-sem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24253850</guid>
            <pubDate>Sun, 23 Aug 2020 18:03:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The College Manifesto: Becoming a Successful Student]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24253779">thread link</a>) | @jdcampolargo
<br/>
August 23, 2020 | https://www.juandavidcampolargo.com/blog/college-manifesto | <a href="https://web.archive.org/web/*/https://www.juandavidcampolargo.com/blog/college-manifesto">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-9b09b130b6a7578120a8"><div><p>A few months ago, I created a note on my phone where I‚Äôd put advice, tips, and general things to keep in mind as I begin college. Some included tips to study, how to get mentors, and books to read.</p><p>I thought I would share it so other people like me would benefit. If you‚Äôd like <a href="http://juandavidcampolargo.com/contact" target="_blank">to share your strategies with me</a>, please do so and I‚Äôll add them here. Let‚Äôs learn together!</p><h2>How to Read &amp; Use This List</h2><ul data-rte-list="default"><li><p>The list does not have any specific order as I would just write things down as I discovered them.&nbsp;</p></li><li><p>This is my plan for what I will do. Therefore, it‚Äôs very context-specific (more on this below).</p></li><li><p>Review it weekly (more on this below).</p></li><li><p>After each point, I explain my rationale behind each point.</p></li></ul><p>Class is starting soon, so let‚Äôs start walking.&nbsp;</p><p><strong>Talk to engineering professors</strong></p><ul data-rte-list="default"><li><p>Stop by and ask questions and be genuinely interested</p></li><li><p>Ask if they know of any projects or if they have projects</p></li></ul><p>I plan to study engineering, read more about why <a href="https://www.juandavidcampolargo.com/blog/college" target="_blank">here</a>. Talking to professors is an easy decision because they are the experts in their fields and are the ones who know about how to approach engineering and how to find the best opportunities.&nbsp;<br></p><p><strong>Reach out to alumni&nbsp;</strong></p><p>I don‚Äôt like to assume what my future career might be like. I get to cheat and ask my future self what my career could be like.&nbsp;</p><p><strong>Answer these questions</strong></p><ul data-rte-list="default"><li><p>What jobs exist that I would enjoy and have a reasonable shot at getting?</p></li></ul><p>This will clarify my future path and get me focused to achieve that goal. I‚Äôm not concerned with this question as I mostly think about the most important problems and what I could do to solve them.&nbsp;</p><p><strong>Get good advice</strong></p><ul data-rte-list="default"><li><p>Good advice is context-specific to you</p><ul data-rte-list="default"><li><p>‚Äú‚Äîwhat you enjoy, what frustrates you, what your background is like, what kind of goals you‚Äôre likely to have‚Äîthat most formal advisers won‚Äôt ever have the time to understand.‚Äù</p><ul data-rte-list="default"><li><p>Source: <a href="https://www.benkuhn.net/college/" target="_blank">Ben Kuhn</a></p></li></ul></li></ul></li></ul><p><strong>READ </strong><a href="https://amzn.to/3j8noIM" target="_blank"><strong><em>How To Win at College</em></strong></a><strong><em> </em>by Cal Newport</strong></p><ul data-rte-list="default"><li><p>And add it to your weekly review (more on this below)</p></li></ul><p>This is a great book that will help understand what college is like and how to the best you can be. This book answers the following questions:</p><ul data-rte-list="default"><li><p>How to prepare for exams and papers?</p></li><li><p>What extracurricular opportunities should you look into?</p></li><li><p>How to balance a fun social life with an ambitious schedule?</p></li></ul><p>This book contains the answers to these questions and more! Highly recommended! </p><p><strong>Be friends with people in your class&nbsp;</strong></p><p>Sure? This one seems dumb, but it‚Äôs one of the most powerful because of the psychology. Once you have a friend (a good one) in your class, you get motivated to do your best and of course, you can help each other out. Don‚Äôt overlook this one.</p><p><strong>Have Fun</strong>&nbsp;</p><p>This is often overlooked but it shouldn‚Äôt. College is often too stressful and what‚Äôs a better way than to hang out with friends and do something fun. Fun, whatever that means, should be part of your life daily and weekly.&nbsp;</p><p><strong>Help professors (and university) monetize ideas and research&nbsp;</strong></p><p>Professors and scientists are busy trying to invent and research ideas. That‚Äôs really hard and they shouldn‚Äôt be the ones trying to find ways to commercialize the ideas and research. Leave that to savvy entrepreneurs like me.&nbsp;&nbsp;</p><p><strong>Keep your personal burn rate low and minimize your commitments.&nbsp;</strong></p><ul data-rte-list="default"><li><p>‚ÄúI have seen a lot of people miss great opportunities because they couldn‚Äôt afford a reduction in salary or because they couldn‚Äôt move or didn‚Äôt have the time.‚Äù</p><ul data-rte-list="default"><li><p>Source: <a href="https://blog.samaltman.com/advice-for-ambitious-19-year-olds#post_body_585588:~:text=No%20matter%20what%20you%20choose%2C%20keep,move%20or%20didn%E2%80%99t%20have%20the%20time." target="_blank">Sam Altman</a></p></li></ul></li></ul><p>I like to get busy, and busy does not always mean productive. Leaving chunks of time aside for the next opportunity or project will be key for me.</p><p><strong>Start a Weekly Reviews</strong></p><ul data-rte-list="default"><li><p>I was inspired by <a href="https://www.benkuhn.net/weekly/" target="_blank">Ben Kunh‚Äôs method</a>.&nbsp;</p></li><li><p>Look <a href="https://www.evernote.com/shard/s689/sh/a56021d0-447d-443a-be6a-c1cef4021669/93484281e518ae8b2ebf7b9ff1c88a16" target="_blank">at mine</a></p></li></ul><p>I have been doing a Weekly Planning Sheet for about three years. Lately, I‚Äôve realized that I would make the same mistakes repeatedly because I didn‚Äôt reflect and learn from my mistakes. Think about your weekly review to reflect and learn from your mistakes every week.&nbsp;</p><p><strong>Change Framing</strong></p><ul data-rte-list="default"><li><p>Don‚Äôt get caught up trying to get a perfect GPA. <strong>Grades should not be something you pursue, but something that ensues.&nbsp;</strong></p></li></ul><p>Many college students (including me) have the pressure of getting a GPA to get into certain schools. This is a perfect recipe for failure because you‚Äôll always have the pressure in the back of your mind when you‚Äôre studying, walking, talking, etc. Instead, if you‚Äôre studying something because you enjoy it and want to push yourself. That‚Äôs a better strategy and you‚Äôll end up doing well.&nbsp;<br></p><p><strong>Have a Plan B</strong></p><ul data-rte-list="default"><li><p>My Plan A is to <a href="http://juandavidcampolargo.com/blog/college" target="_blank">study engineering</a>, but it‚Äôs important to have a Plan B to relieve stress and pressure.</p></li></ul><p>I want to study engineering and getting there is challenging. If I overly focus on the GPA and have no Plan B, the pressure is just too much. But if I have a Plan B that I can always pursue, in case Plan A doesn't work out. Then, I‚Äôll counterintuitively have a better chance of pursuing plan A because I focus more on the process, and not on the outcome.<br></p><p><strong>College and my projects should be related, and I should use college to leverage my projects and endeavors.&nbsp;</strong></p><ul data-rte-list="default"><li><p>I need to keep asking myself how to create projects related to my classes.&nbsp;</p></li></ul><p>I get so excited about the possibilities that I almost forget about school. This happened in high school when lots of opportunities showed up and I pursued them. Finding projects related to my classes would also be a way to keep me engaged and to go above and beyond in my classes.&nbsp;</p><p><strong>Be the most knowledgeable engineering student within 6 months</strong></p><ul data-rte-list="default"><li><p>Inspired by <a href="https://www.youtube.com/watch?v=xmYekD6-PZ8" target="_blank">Bill Gurley‚Äôs famous speech</a></p></li></ul><p>I‚Äôm reading many books and talking to current and past engineering students so 1) I can learn from their mistakes, and 2) know the ins and outs of the university and engineering.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p><strong>Find researchers to work with</strong></p><ul data-rte-list="default"><li><p>How to find scientists to work with?</p><ul data-rte-list="default"><li><p>Avoid being artificial</p><ul data-rte-list="default"><li><p>How?</p><ul data-rte-list="default"><li><p>Take their classes</p></li><li><p>Office hours</p></li><li><p>DM/Email them</p></li><li><p>Make yourself useful to them</p></li><li><p>Get a job as an assistant or research at somebody's labs</p></li></ul></li></ul></li></ul></li><li><p>Keep in mind this question</p><ul data-rte-list="default"><li><p>Why would someone be a mentor?</p><ul data-rte-list="default"><li><p>High potential person, and they can help reach that potential</p></li><li><p>If they can see that their advice pays off 10x in you</p></li></ul></li></ul></li></ul><p>It‚Äôs easy to go through college and be mindless about the possibilities and opportunities that are available. This is one that I‚Äôm the most excited about.&nbsp;</p><p><strong>Create GroupMe Chat in your classes</strong></p><p>Take the lead and become known to others while helping each other mutually. Everyone is nervous, and no one knows anyone. I want to create communities where we all help each other study and to excel in the class.</p><p><strong>85% Rule</strong></p><ul data-rte-list="default"><li><p>Runners run faster at 85% because they get less tense and have less pressure.</p></li></ul><p>I will study hard and efficiently, but that‚Äôs it. I won‚Äôt be overly worried and stressed because I know that if I put in the effort and the work, the outcome will happen.&nbsp;</p><p><strong>Sit in the front row&nbsp;</strong></p><p>People will think I‚Äôm weird, but who cares? They probably won‚Äôt even remember you. And if they do, they‚Äôll think you‚Äôre smart. The real reason I‚Äôm doing this is that you become more engaged so you can enjoy the class more. And professors will know you too. If classes are on Zoom, I plan to arrive 10-15 minutes early.&nbsp;</p><p><strong>1 hour of class = 2 hours of homework</strong></p><ul data-rte-list="default"><li><p>This was recommended to me by a Cornell engineering professor.</p></li></ul><p>I don‚Äôt plan to follow this closely, but it is a good rule of thumb to keep in mind as I study, especially for harder classes.&nbsp;</p><p><strong>Go Over This Test Checklist Before Every Test</strong></p><ul data-rte-list="default"><li><p>Add to weekly review</p></li></ul><p>I plan to use it both to study and review before every test. One of the most useful and practical resources I‚Äôve found so far. Check it out <a href="https://www.evernote.com/Home.action#n=2747ddd6-b620-4875-9cf2-cc089b56ca9f&amp;s=s689&amp;b=718034f3-4bf3-454b-aced-3e9d5ae86899&amp;ses=4&amp;sh=1&amp;sds=2&amp;" target="_blank">here</a>.&nbsp;</p><p><strong>Don‚Äôt end a week without understanding a topic</strong></p><p>I plan to email or meet my professor, go to office hours, ask TAs, ask friends, and do anything and everything to understand the basics of what I‚Äôm studying. This becomes critical, especially in the first few years when you‚Äôre building the foundations.</p><p>A big part of life is making mistakes, but a bigger part is learning from other people‚Äôs mistakes. College will be a new experience for me, but not for the people who gave me all the advice I wrote above. I‚Äôm both excited and ready to excel, but most importantly to enjoy everything college has to offer.</p><p>I hope you find this guide as useful and as inspiring as I did! Go crush it!</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1598200123739_7186"><p>If you‚Äôre into interesting ideas (like the one you just read), sign up for my<a href="https://juandavidcampolargo.com/newsletter"> </a><a href="https://juandavidcampolargo.com/newsletter" target="_blank">newsletter</a>, and I‚Äôll send you new essays right when they come out. Better than having to check the site!</p></div></div>]]>
            </description>
            <link>https://www.juandavidcampolargo.com/blog/college-manifesto</link>
            <guid isPermaLink="false">hacker-news-small-sites-24253779</guid>
            <pubDate>Sun, 23 Aug 2020 17:53:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quantifying the Meritocratic Delusion]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24253662">thread link</a>) | @trekkie
<br/>
August 23, 2020 | https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1293">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
aoc, design, posters, gift guide, gnd, green new deal, Gavin Snider, Scott Starrett, Dayi Tofu, Lazarus Nazario, meritocracy, luck, power laws, simulations, scholarship

Summary:
Quantifying the meritocratic delusion; AOC's WPA-style GND posters

URL:


Title:
Pluralistic: 23 Aug 2020 visionary-art

Bullet:
üêõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Cecil Castellucci (https://twitter.com/misscecil/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href=""><img src="https://i0.wp.com/craphound.com/images/23Aug2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/23Aug2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': 'https://pluralistic.net/2020/08/23/visionary-art/#xslug'}" href="https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion">Quantifying the meritocratic delusion</a>: "Talent vs Luck: the role of randomness in success and failure."
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': 'https://pluralistic.net/2020/08/23/visionary-art/#xslug'}" href="https://pluralistic.net/2020/08/23/visionary-art/#wpa-gnd">AOC's WPA-style GND posters</a>: A vivid, affirmative vision.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': 'https://pluralistic.net/2020/08/23/visionary-art/#xslug'}" href="https://pluralistic.net/2020/08/23/visionary-art/#retro">This day in history</a>: 2005, 2015
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': 'https://pluralistic.net/2020/08/23/visionary-art/#xslug'}" href="https://pluralistic.net/2020/08/23/visionary-art/#bragsheet">Colophon</a>: Recent publications, upcoming appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="meritocratic-delusion"></a><br>
<img src="https://i0.wp.com/craphound.com/images/pexels-photo-1104526.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/pexels-photo-1104526.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Our societal narratives are invisible by dint of their ubiquity, but they are far more important in stabilizing the status quo that all the cops and jails and domestic surveillance agencies put together.</p>
<p>Take inequality: when a few have much, and the many have little, the primary means of preventing the many from seizing the wealth of the few isn't burglar alarms ‚Äì it's legitimacy.</p>
<p>If you can convince people that wealth is both earned and deserved, you can save a lot on armed guards, vaults and CCTV cameras.</p>
<p>The aristocracy once used the church to effect this legitimacy: as the English crown's motto goes, "Dieu et mon droit" ("God and my right").</p>
<p><img src="https://i1.wp.com/craphound.com/images/Royal_Coat_of_Arms_of_the_United_Kingdom.svg.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/Royal_Coat_of_Arms_of_the_United_Kingdom.svg.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>The aristocratic legitimacy story makes it a literal sin to question inequality.</p>
<p>As the aristocracy gave way to merchant princes, society needed a new stabilizing story: the tale of the market, whose invisible hand allocates capital to the most deserving.</p>
<p>It's a highly circular form of reasoning, of course: "I am deserving because I am rich; I am rich because I am deserving."</p>
<p>Naturally, this self-serving logic attracted ridicule.</p>
<p>Notably, the sociologist Michael Young wrote a satirical, dystopian novel mocking this idea called "The Rise of the Meritocracy."</p>
<p>His coinage, "Meritocracy," was meant to deflate the delusion that wealth was merit and merit was wealth.</p>
<p><img src="https://i0.wp.com/craphound.com/images/The_Rise_of_the_Meritocracy_(1967_cover).jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/The_Rise_of_the_Meritocracy_(1967_cover).jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Instead, the term was adopted by the very people it was meant to lampoon: soon, capitalism boosters and defenders of inequality began to proclaim themselves to be "meritocrats" and defended the institutions that had enriched them as "meritocratic." Yeah, it's weird.</p>
<p>At its core, "meritocracy" is eugenics: the belief that some people are just intrinsically better than others (that's why you often hear plutocrats boasting of their "good blood" ‚Äì think of Trump here).</p>
<p>Sometimes it's dressed up with coded language like "self-control" or "grit," but ultimately, it's about some in-born spark that both demands that the meritocrat lead the rest of us, and that they be rewarded for it. You can tell you deserves to rule because they are ruling.</p>
<p>As with all eugenics stories, meritocracy is trivially disprovable pseudoscientific nonsense.</p>
<p>Stipulate for the sake of argument that there are "meritocratic" traits that some of us are born with.</p>
<p>One thing we know about hereditable traits is that they follow a normal distribution ‚Äì a bell curve. If merit is a heritable trait, then it should follow that same distribution.</p>
<p>But recall that "merit" is the excuse given for inequality: the market is a system for uncovering and rewarding merit, matching quanta of merit with dollars in a precise ratio (Bill Gates's $114b and Jeff Bezos's $196b tells us that Gates possesses 58% of Bezos's merit).</p>
<p>And unfortunately for meritocracy's coherence, the actual wealth distribution follows a power-law curve, not a bell-curve. The zottarich are an order of magnitude richer than the gigarich, who are an order of magnitude richer than the ultrarich and so on.</p>
<p>Plutocracy is asymptotic to infinity.</p>
<p><img src="https://i1.wp.com/craphound.com/images/Long_tail.svg.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/Long_tail.svg.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>And while eugenics fails to account for this distribution there's another hypothesis that turns out to be a good fit: the rich are lucky.</p>
<p>Enter "Talent vs Luck: the role of randomness in success and failure," a paper from a group of U Catatania researchers that proposes a model for explaining deepening inequality.</p>
<p><a href="https://arxiv.org/abs/1802.07068">https://arxiv.org/abs/1802.07068</a></p>
<p>A breakdown in MIT Technology Review explains it well. The model assumes that N people have various talents "around some average level, with some standard deviation."</p>
<p><a href="https://www.technologyreview.com/2018/03/01/144958/if-youre-so-smart-why-arent-you-rich-turns-out-its-just-chance/?itm_source=parsely-api">https://www.technologyreview.com/2018/03/01/144958/if-youre-so-smart-why-arent-you-rich-turns-out-its-just-chance/?itm_source=parsely-api</a></p>
<p>"The computer model charts each individual through a working life of 40 years. During this time, the individuals experience lucky events that they can exploit to increase their wealth if they are talented enough.</p>
<p>"However, they also experience unlucky events that reduce their wealth. These events occur at random."</p>
<p>After 40 simulated years, the agents in the simulation have a wealth distribution that looks a hell of a lot like ours.</p>
<p>They run the simulation repeatedly, and get the same distribution every time. In other words, markets allocate capital primarily by luck, not merit.</p>
<p>However, I'd like to see another version of this experiment that adds in immorality: a willingness to cheat and steal. Given the state of the plutocracy, I hypothesize an even stronger correlation.</p>
<hr>
<p><a name="wpa-gnd"></a><br>
<img src="https://i0.wp.com/craphound.com/images/set_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/set_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>There's a lot going for AOC: she's a once-in-a-generation gifted orator, she's got a sharp political mind, she's got the humility and self-awareness to surround herself with other smart people and recruit them to advise her.</p>
<p>But even her most ardent admirers tend to overlook the role of graphic design in her work. From the start ‚Äì her initial primary campaign ‚Äì she has led the field with striking, beautiful graphic design. I framed one of her posters and hung it my house.</p>
<p><img src="https://i0.wp.com/craphound.com/images/29687015957_49490e9a62_h.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/29687015957_49490e9a62_h.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://www.flickr.com/photos/doctorow/29687015957/">https://www.flickr.com/photos/doctorow/29687015957/</a></p>
<p>AOC's latest graphic campaign is in support of the Green New Deal, a visionary proposal for a better future that has been sorely lacking in visual materials.</p>
<p>(The major exception being Molly Crabapple's animation in "A Message From the Future," an Intercept video with AOC and Naomi Klein).</p>
<p><a href="https://www.youtube.com/watch?v=d9uTH0iprVQ">https://www.youtube.com/watch?v=d9uTH0iprVQ</a></p>
<p>The new posters recall the WPA illustrations for the National Park Service, icons of design that retain remarkable currency nearly a century later.</p>
<p><img src="https://i0.wp.com/craphound.com/images/wpagc.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wpagc.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://www.loc.gov/collections/works-progress-administration-posters/?fa=subject%3Anational+parks+%26+reserves">https://www.loc.gov/collections/works-progress-administration-posters/?fa=subject%3Anational+parks+%26+reserves</a></p>
<p>There are six in all. The first is Gavin Snider's Flushing Meadows poster, celebrating the 1939 New York World's Fair, a high water mark for hope in a moment of crisis.</p>
<p><img src="https://i2.wp.com/craphound.com/images/flushing_3afa961b-ecde-4170-b232-1490bb2a3817_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/flushing_3afa961b-ecde-4170-b232-1490bb2a3817_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/flushing-meadows-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/flushing-meadows-gnd-poster</a></p>
<p>Next is Scott Starrett's Pelham Bay Park poster, celebrating the Bronx's most iconic WPA success story, a beloved beach and golf course.</p>
<p><img src="https://i1.wp.com/craphound.com/images/pehlam_d017eb83-206e-4f60-aa73-b243f2c90d86_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/pehlam_d017eb83-206e-4f60-aa73-b243f2c90d86_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/pelham-bay-park-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/pelham-bay-park-gnd-poster</a></p>
<p>The third poster is Gavin Snider's tribute to LA's Griffith Observatory, the centerpiece of one of the country's exemplary, beloved and well-used city parks.</p>
<p><img src="https://i0.wp.com/craphound.com/images/griffith_9016ef73-d08f-4d61-a12c-78585269f737_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/griffith_9016ef73-d08f-4d61-a12c-78585269f737_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/griffin-observatory-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/griffin-observatory-gnd-poster</a></p>
<p>Fourth is Lazarus Nazario's poster celebrating the Plaza Del Totem in San Juan, Puerto Rico, a symbol of indigenous resilience erected as a rebuttal to the shameful celebration of the great historic monster Christopher Columbus.</p>
<p><img src="https://i1.wp.com/craphound.com/images/deltotum_7eac067b-7c5b-4c09-8913-80d62d66e4c1_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/deltotum_7eac067b-7c5b-4c09-8913-80d62d66e4c1_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/plaza-del-totem-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/plaza-del-totem-gnd-poster</a></p>
<p>Fifth is Gavin Snider's poster for Detroit's Hart Plaza, whose monument commemorates the Underground Railroad in one of America's great historically Black cities, a city that has been brutalized by white supremacy and austerity.</p>
<p><img src="https://i1.wp.com/craphound.com/images/hartplaza_60af5125-8694-43dc-880e-e0b002fdaafb_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/hartplaza_60af5125-8694-43dc-880e-e0b002fdaafb_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/hart-plaza-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/hart-plaza-gnd-poster</a></p>
<p>Finally, there's Dayi Tofu's commemoration of Boston's Public Garden, part of the city's "Emerald Necklace" of urban parks.</p>
<p><img src="https://i2.wp.com/craphound.com/images/publicgarden_ea48a057-d355-41b2-8dc0-bb5208f7388f_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/publicgarden_ea48a057-d355-41b2-8dc0-bb5208f7388f_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/the-public-garden-gnd-poster">https://shop.ocasiocortez.com/collections/all/products/the-public-garden-gnd-poster</a></p>
<p>The posters are a reminder that we are not the fallen remnants of a lost civilization, no longer capable of visionary collective projects to secure our future. We have done this before and we can do it again.</p>
<p>We are not atomized individuals, incapable of effecting change beyond the scope of what one person can do ‚Äì or what one billionaire can coerce. We are a society, and we can steer our course.</p>
<p>The posters are union made, 18" x 12", and cost $24 each. You can get all six in a $90 bundle.</p>
<p><img src="https://i0.wp.com/craphound.com/images/set_1800x1800.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/set_1800x1800.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><a href="https://shop.ocasiocortez.com/collections/all/products/green-new-deal-poster-pack">https://shop.ocasiocortez.com/collections/all/products/green-new-deal-poster-pack</a></p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#15yrsago Stormtrooper at Star Wars con mistaken for armed robber <img src="https://web.archive.org/web/20050923191200/http://gazetteextra.com/jvlcon082005.asp" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">https://web.archive.org/web/20050923191200/http://gazetteextra.com/jvlcon082005.asp</p>
<p>#15yrsago What the fuck is an "open source DRM?" <a href="https://web.archive.org/web/20050903070248/http://www.eff.org/deeplinks/archives/003928.php">https://web.archive.org/web/20050903070248/http://www.eff.org/deeplinks/archives/003928.php</a></p>
<p>#5yrsago Car information security is a complete wreck ‚Äî here's why <a href="https://arstechnica.com/information-technology/2015/08/highway-to-hack-why-were-just-at-the-beginning-of-the-auto-hacking-era/">https://arstechnica.com/information-technology/2015/08/highway-to-hack-why-were-just-at-the-beginning-of-the-auto-hacking-era/</a></p>
<p>#5yrsago Sad Puppies, Rabid Puppies lose big at the Hugos <a href="http://nielsenhayden.com/makinglight/archives/016318.html">http://nielsenhayden.com/makinglight/archives/016318.html</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Today's top sources: Cecil Castellucci (<a href="https://twitter.com/misscecil/">https://twitter.com/misscecil/</a>), Naked Capitalism (<a href="https://www.nakedcapitalism.com/">https://www.nakedcapitalism.com/</a>).</p>
<p>Currently writing:</p>
<ul>
<li>My next novel, "The Lost Cause," a post-GND novel about truth and reconciliation. Friday's progress: 570 words (50048 total).</li>
</ul>
<p>Currently reading: Twilight of Democracy, Anne Applebaum.</p>
<p>Latest podcast: Someone Comes to Town, Someone Leaves Town (part 13) <a href="https://craphound.com/podcast/2020/08/16/someone-comes-to-town-someone-leaves-town-part-13/">https://craphound.com/podcast/2020/08/16/someone-comes-to-town-someone-leaves-town-part-13/</a></p>
<p>Upcoming appearances:</p>
<ul>
<li>The Good, the Bad, and the Ugly of Censorship Circumvention, Aug 28, <a href="https://www.youtube.com/watch?v=aOOChyMCZH4">https://www.youtube.com/watch?v=aOOChyMCZH4</a>
</li>
<li>
<p>Keynote for Law Via the Internet conference, Sept 22, <a href="https://www.crowdcast.io/e/LVI2020/register">https://www.crowdcast.io/e/LVI2020/register</a></p>
</li>
<li>
<p>Writing into an Uncertain Future, Afterwords Festival, Oct 1, <a href="https://www.eventbrite.ca/e/writing-into-an-uncertain-future-tickets-115378329690">https://www.eventbrite.ca/e/writing-into-an-uncertain-future-tickets-115378329690</a></p>
</li>
</ul>
<p>Latest book:</p>
<ul>
<li>"Little Brother/Homeland": A reissue omnibus edition with a new introduction by Edward Snowden: <a href="https://us.macmillan.com/books/9781250774583">https://us.macmillan.com/books/9781250774583</a>; personalized/signed copies here: <a href="https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html">https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html</a>
</li>
<li>
<p>"Poesy the Monster Slayer" a picture book about monsters, bedtime, gender, and kicking ass. Order here: <a href="https://us.macmillan.com/books/9781626723627">https://us.macmillan.com/books/9781626723627</a>. Get a personalized, signed copy here: <a href="https://www.darkdel.com/store/p1562/_Poesy_the_Monster_Slayer.html">https://www.da‚Ä¶</a></p></li></ul></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion">https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/08/23/visionary-art/#meritocratic-delusion</link>
            <guid isPermaLink="false">hacker-news-small-sites-24253662</guid>
            <pubDate>Sun, 23 Aug 2020 17:40:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Covid-19 fatality rate ‚Äúworst miscalculation in the history of humanity‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24253636">thread link</a>) | @mrfusion
<br/>
August 23, 2020 | https://muchadoaboutcorona.ca/worst-miscalculation/ | <a href="https://web.archive.org/web/*/https://muchadoaboutcorona.ca/worst-miscalculation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
		<!-- #masthead .site-header -->

	<div id="main">

		<div id="primary">
			<div id="content" role="main">

			
				

				
<article id="post-1262">
	<!-- .entry-header -->

	<div>
		
		
<div><figure><img loading="lazy" src="https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/Ron-Brown-PhD-.jpg" alt="Ron Brown Phd" width="167" height="171" srcset="https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/Ron-Brown-PhD-.jpg 333w, https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/Ron-Brown-PhD--292x300.jpg 292w" sizes="(max-width: 167px) 100vw, 167px"><figcaption><sup>Ronald B. Brown PhD</sup></figcaption></figure></div>



<p>This month, Dr. Ronald B. Brown had a daring paper published in <a rel="noreferrer noopener" href="https://www.cambridge.org/core/journals/disaster-medicine-and-public-health-preparedness/article/public-health-lessons-learned-from-biases-in-coronavirus-mortality-overestimation/7ACD87D8FD2237285EB667BB28DCC6E9#" target="_blank">Disaster Medicine and Public Health Preparedness</a>, conservatively entitled <em>Public health lessons learned from biases in coronavirus mortality overestimation</em>. </p>



<p>‚ÄúThe subject of this article is disruptive, to say the least, although it is not as obvious from the title,‚Äù Dr. Brown told me in an email. ‚ÄúThe manuscript cites the smoking-gun, documented&nbsp;evidence showing that the public‚Äôs overreaction to the coronavirus pandemic was based on the worst miscalculation in the history&nbsp;of humanity,&nbsp;in my opinion. My manuscript underwent an intensive&nbsp;peer-review process. You are the first media guy who has responded to my invitation.‚Äù</p>



<p>It‚Äôs sadly no surprise the media has not kept Dr. Brown‚Äôs phone ringing with interview requests. The abstract, in itself, contains a firecracker where he says: </p>



<p>‚ÄúResults of this critical appraisal reveal information bias and selection bias in coronavirus mortality overestimation, most likely caused by misclassifying an influenza infection fatality rate (IFR) as a case fatality rate (CFR).‚Äù</p>



<p>Is that not what we‚Äôve seen? The number of people they said would be buried in mass COVID-19 graves better reflects how many people simply ended up with a cough and fever.</p>



<p>Dr. Brown added that CDC and WHO documents show that the case fatality rate for influenza was similar to the coronavirus, implying that the lockdowns were pointless. His paper questions why the 2017-2018 influenza season in the United States did not ‚Äúreceive the same intensive media coverage as COVID-19.‚Äù</p>



<p>He points out that ‚Äúthe accuracy of coronavirus tests rushed into production during the pandemic were unknown.‚Äù And he explores how the  media began focusing on an increase in coronavirus cases while ignoring the decrease in  death rates.</p>



<p>Much of the article looks at how lockdowns and anti-social distancing probably had little or no effect on reducing COVID-19 deaths. He says that ‚Äúthe public‚Äôs belief that mitigation measures were responsible for reducing coronavirus mortality may be a post hoc fallacy if lower mortality was actually due to the overestimation of coronavirus deaths.‚Äù</p>



<p>Speaking on the damage done by the counter-measures, Brown writes: ‚ÄúThe ethics of implementing fear-based public health campaigns needs to be reevaluated for the potential harm these strategies can cause.‚Äù</p>



<p>His report includes this mind-map on how we were all mind-warped:</p>



<div><figure><img loading="lazy" width="447" height="447" src="https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/image.png" alt="" srcset="https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/image.png 447w, https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/image-300x300.png 300w, https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/image-150x150.png 150w" sizes="(max-width: 447px) 100vw, 447px"></figure></div>



<p>You can read Brown‚Äôs full paper at <a rel="noreferrer noopener" href="https://www.cambridge.org/core/services/aop-cambridge-core/content/view/7ACD87D8FD2237285EB667BB28DCC6E9/S1935789320002980a.pdf/public_health_lessons_learned_from_biases_in_coronavirus_mortality_overestimation.pdf" target="_blank">Cambridge University Press</a>. It succinctly dismisses the notion that the <a href="https://muchadoaboutcorona.ca/resist-the-corona-craze/" data-type="post" data-id="405">corona craze</a> has anything to do with welfare of the people. As Albert Camus warned: ‚ÄúThe welfare of the people in particular has always been the alibi of tyrants, and it provides the further advantage of giving the servants of tyranny a good conscience.‚Äù</p>
 	



</div><!-- .entry-content -->

	
</article><!-- #post-1262 -->
	
<p><span>				
<hr>
<p><a href="https://muchadoaboutcorona.ca/face-mask-flyer/" rel="prev">previous</a> | 
<a href="https://muchadoaboutcorona.ca/subscribe">subscribe</a> | 
<a href="https://muchadoaboutcorona.ca/sanity-and-her-son/" rel="next">next</a></p>

<p colspan="3">
<img src="https://muchadoaboutcorona.ca/wp-content/uploads/2020/08/john-manley-outside-aug-2020-e1598311423971.jpeg" width="100" alt="John C. A. Manley">
	
	
	
	
	<strong>John C. A. Manley</strong>&nbsp;has spent over a  decade ghostwriting for medical doctors, as well as naturopaths, chiropractors  and Ayurvedic physicians. He publishes the&nbsp;<a href="https://muchadoaboutcorona.ca/subscribe">COVID-19(84) Red Pill Posts</a>&nbsp;‚Äì  an email-based newsletter dedicated to preventing the governments of the world  from using an exaggerated pandemic as an excuse to violate our freedom, health,  privacy, livelihood and humanity. He is also writing a novel,&nbsp;<a href="https://muchadoaboutcorona.ca/covid-27">COVID-27: A Dystopian Love Story</a>. You can visit his website at:&nbsp;<a href="https://muchadoaboutcorona.ca/">MuchAdoAboutCorona.ca</a>
	
	
	
	</p></span>
			
			</p></div><!-- #content .site-content -->
		</div><!-- #primary .content-area -->


<!-- #masthead .site-header -->

	</div><!-- #main .site-main -->


	<!-- #colophon .site-footer -->
</div></div>]]>
            </description>
            <link>https://muchadoaboutcorona.ca/worst-miscalculation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24253636</guid>
            <pubDate>Sun, 23 Aug 2020 17:37:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JavaScript Generators, Meet XPath]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24253507">thread link</a>) | @todsacerdoti
<br/>
August 23, 2020 | https://jack.wrenn.fyi/blog/xpath-for-2020/ | <a href="https://web.archive.org/web/*/https://jack.wrenn.fyi/blog/xpath-for-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          
<article>
    <header>
      
      <span>2020-08-22&nbsp;</span>
    </header>

    <p>Using Generators to Modernize a Geriatric Javascript API for <code>$CURRENT_YEAR</code></p>
<span id="continue-reading"></span>
<hr>
<p>How do you find-and-replace text on an HTML page?</p>
<pre><code><span>&lt;div&gt;</span><span>Hello, </span><span>&lt;span&gt;</span><span>human</span><span>&lt;/span&gt;</span><span>!</span><span>&lt;/div&gt;
</span></code></pre>
<p>If the text is neatly neatly isolated inside an HTML element, it's easy; this will do:</p>
<pre><code><span>document</span><span>.</span><span>querySelector</span><span>(</span><span>"span"</span><span>)</span><span>.textContent </span><span>= </span><span>"evolved ape"</span><span>;
</span></code></pre>
<p><strong>But here's a puzzle</strong>: how do you you change text that <em>isn't</em> neatly isolated in an HTML element?</p>
<p>You <em>could</em> use <code>innerHTML</code>:</p>
<pre><code><span>let </span><span>elt </span><span>= </span><span>document</span><span>.</span><span>querySelector</span><span>(</span><span>"div"</span><span>)</span><span>;
</span><span>elt</span><span>.innerHTML </span><span>= </span><span>elt</span><span>.innerHTML.</span><span>replace</span><span>(</span><span>"Hello"</span><span>, </span><span>"Greetings"</span><span>)</span><span>;
</span></code></pre>
<p>...but this will hose any event listeners registered on <code>elt</code>'s children.</p>
<p>You <em>could</em> grapple onto the nearest selectable element:</p>
<pre><code><span>let </span><span>node </span><span>= </span><span>document</span><span>.</span><span>querySelector</span><span>(</span><span>"div"</span><span>)</span><span>.childNodes[</span><span>0</span><span>];
</span><span>node</span><span>.textContent </span><span>= </span><span>node</span><span>.textContent.</span><span>replace</span><span>(</span><span>"Hello"</span><span>, </span><span>"Greetings"</span><span>)</span><span>;
</span></code></pre>
<p>Yuck; this sort of child-node indexing feels <em>really</em> brittle.</p>
<p><strong>Why can't we just <em>directly</em> select the text nodes containing <code>Hello</code>?</strong></p>
<h2 id="xpath">XPath</h2>
<p><strong>We can!</strong> Enter: <a href="https://en.wikipedia.org/wiki/XPath">XPath</a>, the <em>excessively</em> powerful language for querying XML documents. It's usable in web-browsers with the, uh, <em>descriptively</em>-named method <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/evaluate"><code>document.evaluate</code></a>.</p>
<p>It's a <em>bit</em> of a production to use:</p>
<pre><code><span>let </span><span>xpath </span><span>= </span><span>"//text()[contains(., 'Hello')]"</span><span>; </span><span>// find text nodes containing 'Hello'
</span><span>let </span><span>context </span><span>= </span><span>document</span><span>.body; </span><span>// look in the body element
</span><span>let </span><span>namespace_resolver </span><span>= </span><span>null</span><span>; </span><span>// some sorta xml voodoo
</span><span>let </span><span>result_type </span><span>= </span><span>XPathResult</span><span>.ORDERED_NODE_SNAPSHOT_TYPE; </span><span>// DEFINITELY MAKE SURE YOU USE THIS

</span><span>let </span><span>results </span><span>= </span><span>document</span><span>.</span><span>evaluate</span><span>(</span><span>xpath</span><span>, </span><span>context</span><span>, </span><span>null</span><span>, </span><span>result_type</span><span>)</span><span>;

</span><span>for </span><span>(</span><span>let </span><span>i </span><span>= </span><span>0</span><span>; </span><span>i </span><span>&lt; </span><span>results</span><span>.snapshotLength; </span><span>i</span><span>++</span><span>) {
  </span><span>let </span><span>node </span><span>= </span><span>results</span><span>.</span><span>snapshotItem</span><span>(</span><span>i</span><span>)</span><span>;
  </span><span>node</span><span>.textContent </span><span>= </span><span>node</span><span>.textContent.</span><span>replace</span><span>(</span><span>"Hello"</span><span>, </span><span>"Greetings"</span><span>)</span><span>;
}
</span></code></pre>
<p>Yes, you really need to write <em>all</em> of that. The <code>result_type</code> argument is technically optional, but omit it at your own peril: without it, you must instead stream results via <code>iterateNext</code>, and this will crash with an exception if you dare <em>modify</em> the queried elements!</p>
<p>It's no wonder <code>document.evaluate</code> is seldom used. <strong>Can we improve on it?</strong></p>
<h2 id="iterizing-xpath-queries">Iterizing XPath Queries</h2>
<p>Yes, with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators"><strong>generators</strong></a>! We can exploit the implicit iterability of generators to modernize this unwieldy API:</p>
<pre><code><span>Document</span><span>.</span><span>prototype</span><span>.xpath </span><span>= </span><span>Element</span><span>.</span><span>prototype</span><span>.</span><span>xpath </span><span>=
  </span><span>function* </span><span>xpath</span><span>(</span><span>xpath</span><span>) {
    </span><span>let </span><span>context </span><span>= </span><span>this </span><span>instanceof </span><span>Document </span><span>? </span><span>document</span><span>.documentElement </span><span>: </span><span>this</span><span>;
    </span><span>let </span><span>namespace_resolver </span><span>= </span><span>null</span><span>;
    </span><span>let </span><span>result_type </span><span>= </span><span>XPathResult</span><span>.ORDERED_NODE_SNAPSHOT_TYPE;
    </span><span>let </span><span>results </span><span>= </span><span>document</span><span>.</span><span>evaluate</span><span>(</span><span>xpath</span><span>, </span><span>context</span><span>, </span><span>null</span><span>, </span><span>result_type</span><span>)</span><span>;

    </span><span>for </span><span>(</span><span>let </span><span>i </span><span>= </span><span>0</span><span>; </span><span>i </span><span>&lt; </span><span>results</span><span>.snapshotLength; </span><span>i</span><span>++</span><span>)
      </span><span>yield </span><span>results</span><span>.</span><span>snapshotItem</span><span>(</span><span>i</span><span>)</span><span>;
  };
</span></code></pre>
<p>And because the result of this function is iterable, we can use it with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax">spread syntax</a>:</p>
<pre><code><span>[</span><span>...</span><span>document</span><span>.</span><span>xpath</span><span>(</span><span>"//text()[contains(., 'Hello')]"</span><span>)</span><span>].
  </span><span>forEach</span><span>(</span><span>node </span><span>=&gt; </span><span>node</span><span>.textContent </span><span>= </span><span>node</span><span>.textContent.</span><span>replace</span><span>(</span><span>"Hello"</span><span>, </span><span>"Greetings"</span><span>))</span><span>;
</span></code></pre>
</article>

        </div></div>]]>
            </description>
            <link>https://jack.wrenn.fyi/blog/xpath-for-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24253507</guid>
            <pubDate>Sun, 23 Aug 2020 17:23:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Without eBay or Craigslist, India still has a thriving used goods market online]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24252798">thread link</a>) | @shreshthmohan
<br/>
August 23, 2020 | https://shreshth.dev/how-i-earned-inr-30000-selling-old-junk-online/ | <a href="https://web.archive.org/web/*/https://shreshth.dev/how-i-earned-inr-30000-selling-old-junk-online/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    

      
      
    <div>
        

<p>I was nearing the last working days of the job that I recently quit, I thought whether I should leave Bangalore. It was a good idea to start reducing the amount of stuff I owned if I planned to leave. I wasn‚Äôt very sure though. It made sense to downsize anyway.</p>

<p>So, I started taking photos of things I wouldn‚Äôt need and put them up on OLX. I knew I had a lot of junk, but when I started digging stuff out of boxes lying around I realized it was more than I had thought. I had two football pumps for instance! Badminton and squash rackets I hadn‚Äôt used in more than a year. As I had been more focused on outdoor activities like hiking and cycling, I didn‚Äôt think twice about letting go of stuff I hadn‚Äôt used in a while.</p>

<h2 id="limits">Limits!</h2>

<p>Once a few products sold, I got more confident about selling more, but then came an unexpected revelation. OLX has limits on how many ads one can put up for each category, and one has to wait up to 60 days or pay up to post more ads.</p>

<p>This was a major roadblock because I wanted to get rid of all the unused stuff in one go. That‚Äôs because selling used stuff is distracting and time-consuming. It‚Äôs like an unpredictable day job. Buyers might message or call you unexpectedly, ask a bunch of questions and eventually never turn up to make the deal. You can‚Äôt really focus on other work if you‚Äôre selling more than a few items.</p>

<h2 id="a-new-find">A new find!</h2>

<p>So while I was exploring alternatives to Olx, I stumbled upon Facebook Marketplace! I haven‚Äôt been actively using Facebook for the last few years and didn‚Äôt plan to change that. But Facebook Marketplace is an amazing piece of software, especially for selling used products.</p>

<p>Facebook Marketplace is better because,</p>

<ol>
<li>There are no limits to how many products you can list.</li>
<li>The pool of potential buyers is bigger</li>
<li>Your communications with sellers are better organized, you can see all your conversations grouped by each item.</li>
</ol>

<p>And of course, no product is perfect, Facebook Marketplace has a few downsides too.</p>

<ol>
<li>You might find people making unreasonable requests. People asked me to ship to another city and expected cash on delivery, for an item I was selling for ‚Çπ200. The cheapest courier service would cost at least the same amount. This never happened on OLX.</li>
<li>I feel that there are more non-serious buyers on FB because people go to OLX with a clear intent of buying.</li>
<li>Facebook can be very distracting. I don‚Äôt particularly enjoy using Facebook, and because it‚Äôs all in one place and it‚Äôs easy to get distracted on Facebook</li>
<li>People might ridicule you for selling low-value items. I either ignore such people or tell them, ‚Äúeverything sells.‚Äù üòä</li>
</ol>

<p>If you have a lot of items to sell, say more than 10, try to list on both Facebook Marketplace as well as OLX. Prefer OLX if you are selling fewer and high-value items.</p>

<p>Great, I had a new place to sell which doesn‚Äôt have a limit on listing count. But what I thought would be a few days of work, became a shitty day job. So I tried selling faster.</p>

<h2 id="selling-faster">Selling Faster</h2>

<p>I figured out that people bought a product very quickly if you offered them door delivery. Humans are lazy. Some deliveries were made by me on my bicycle or on a two-wheeler on my way to a friend‚Äôs place and some via apps like Dunzo or Porter. All except one delivery went smoothly.</p>

<p>Another strategy that works well is pitting buyers against each other by just letting them know that you have another buyer making an offer. This is especially useful when some buyers become inactive after making an offer.</p>

<p>I am not proud to be mentioning this, but I lied to some inactive buyers by asking them if they were still interested and I was checking with them before I made a deal with another buyer because they were the first ones to reach out. I did this to sell a product that had seen some activity but no buyer actually took the final step.</p>

<p>Things sell faster if you have all the accessories, the original packaging, and the invoice. So don‚Äôt throw away the packaging and invoice when you buy a used or a new item. It also helps if your item belongs to a well-known brand. It‚Äôs also a good idea to add product details, search the product on Amazon and Google to find out the details of the product. For instance, I sold a Dell laptop adapter and it helped to figure out which laptops that charger was compatible with.</p>

<h2 id="negotiation">Negotiation</h2>

<p>While taking good photos, writing a concise description, and setting an expected price are almost necessary to make a sale, negotiation is what you will spend most of your time on. So I think it‚Äôs important to negotiate fast and well.</p>

<p>Here are some tactics I employed.</p>

<ol>
<li>Don‚Äôt reveal your ‚Äúlast‚Äù price, unless you‚Äôre in a hurry and you think the buyer is not a haggler. You‚Äôve already mentioned a price in the listing, so if a buyer asks you for a price just repeat that. If they still insist, ask them to make an offer. Once they choose a number they can‚Äôt go below that price.</li>
<li>In some cases, if a buyer is in a hurry they will easily agree to your price. Give them a number and don‚Äôt respond for some time if they keep low-balling. Some buyers might automatically increase their offers. In one case a buyer agreed to my price within a few minutes of silence from my side.</li>
<li>Some buyers will point out flaws or missing accessories for your item. It‚Äôs pretty easy to say that you would have listed at a higher price if your item didn‚Äôt have those flaws.</li>
</ol>

<h2 id="everything-sells">Everything sells</h2>

<p>Well almost. As I sold more and more stuff I thought of trying to sell stuff that I didn‚Äôt even think could even sell. More for the experimentation than the money. USB charging adapters, for instance. I think they are all the same except in terms of wattage. But not everyone thinks like me. An original 5W Apple iPod USB adapter is probably more valuable on the market than a 20W fast charger one from almost any other brand. I sold one for ‚Çπ500! One the other hand got laughed at for even thinking of listing a Xiaomi USB adapter.</p>

<h2 id="scams-and-surprises">Scams and Surprises</h2>

<p>Selling online comes with its own risks, especially in India. The most common scam I encountered was people accepting your listed price and agreeing to pay advance. What they do is send you a QR code which is actually a payment request and make it seem like a request which will credit money to your account. And usually, these people respond very quickly and almost never negotiate.</p>

<p>Amidst all of this, I was surprised when a buyer actually paid money in advance. I was so surprised and skeptical that I asked him how he trusted me and sent the money before actually getting the items. I could have refused to send him the products and blocked his number. Of course, I didn‚Äôt. And the sale happened smoothly except for a botch-up by the delivery truck driver who extracted money from both of us. I later got the issue resolved by the delivery service provider, namely Porter.</p>

<p>I also managed to sell an item to a buyer in another city. I asked a friend who has an online store if I could use her delivery partner to ship the item. She graciously agreed and it was only ‚Çπ155 to ship a 1kg package from Bangalore to Kochi. And the package was picked up from my doorstep. I later found out that one doesn‚Äôt need to have a business account to use Delhivery Direct‚Äôs service. Neat, eh?</p>

<h2 id="taking-a-step-back">Taking a step back</h2>

<p>In conclusion, selling your old junk on OLX and Facebook Marketplace is a great way to declutter and generate some extra cash. But it can take over your life and become akin to a day job. I have sold 24 items so far and still have 15 unsold items listed, but I have disabled notifications for both OLX and Facebook Marketplace and I check notifications only once a day or so to keep my sanity.</p>

<p>If you are curious about what I sold and for how much, I am attaching a table here for your reference. By the way, I lied! ‚Çπ14,000 out of the total ‚Çπ30,000 I got by selling old junk went to my friends whose items I sold on their behalf.</p>



<h2 id="happy-selling-err-decluttering">Happy Selling, err, decluttering! üòÑ</h2>


        <p><time datetime="2020-08-21 14:46:31 +0530">21 August 2020</time>
        

        
    </p></div>



    
    

</div></div>]]>
            </description>
            <link>https://shreshth.dev/how-i-earned-inr-30000-selling-old-junk-online/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24252798</guid>
            <pubDate>Sun, 23 Aug 2020 16:03:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Finding vulnerable Twitter accounts with expired domains]]>
            </title>
            <description>
<![CDATA[
Score 183 | Comments 113 (<a href="https://news.ycombinator.com/item?id=24252524">thread link</a>) | @zainamro
<br/>
August 23, 2020 | https://zainamro.com/hacks/finding-vulnerable-twitter-accounts | <a href="https://web.archive.org/web/*/https://zainamro.com/hacks/finding-vulnerable-twitter-accounts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <p><a href="https://zainamro.com/hacks">‚Üê hacks</a></p>
    <h3>Finding vulnerable Twitter accounts with expired domains</h3>
    <p>August 23, 2020</p>
    <p>Recently, I discovered a simple yet suprisingly effective attack vector against Twitter accounts (and which likely applies to other platforms as well). This attack vector makes it easy to find and hack vulnerable accounts with login emails that are using expired domains. If a user creates a Twitter account with an email on their own domain, then forgets to renew their domain at some point, that account can be hijacked by registering the domain, forwarding all emails to your email, then submitting a password reset on that account. By itself, this is hardly an attack vector since finding such vulnerable accounts is the more important part, and we already know that owning someone's email is essentially a "game over" situation. This attack becomes more dangerous when you can combine it with an efficient method to find these vulnerable accounts quickly and at scale. As it turns out, this is trivial on Twitter for several reasons attributable to their platform design.</p>
    <p>If you're familiar with Twitter, you know that users are given the option to add a public website url. With a simple script and proxy, an attacker can quickly iterate over millions of accounts and check if the domain in that url is not registered; this usually indicates some likelihood that the Twitter account was created with an email address on a now-expired domain. To verify this, they can submit a password reset which will show them a censored version of the account email address for confirmation; however, even though it's censored, it still provides enough information to check if the email domain matches the expired domain listed on their account profile. If it does, the attacker now knows this is an account that can be hacked. Once this entire process is automated, it makes finding these accounts very easy. This method of account hijacking is very likely being used right now by malicious hackers, and I believe it accounts for a large portion of stolen accounts/handles on the platform.</p>
    <img src="https://zainamro.com/assets/img/twitter-emails.png">
    <p>This attack can potentially be executed on other platforms besides Twitter, assuming one can find a similar discovery method. In Twitter's case, they could make it harder to discover these accounts by not showing any email confirmation upon requesting a password reset. This would make the process more costly for attackers who would no longer be able to verify whether an account can be hacked prior to registering the domain. Or perhaps, Twitter should monitor and unlist domains that are no longer registered and notify users when this happens so that they're aware. As for most users, in addition to turning on 2FA, it's important to be very cautious when using an email on your own domain to create accounts; it makes it much easier to lose access if you forget to renew or can't under certain extreme circumstances like incarceration or death.</p>
    <p><a href="https://news.ycombinator.com/item?id=24252524">Comments</a></p>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    
    
  

</div>]]>
            </description>
            <link>https://zainamro.com/hacks/finding-vulnerable-twitter-accounts</link>
            <guid isPermaLink="false">hacker-news-small-sites-24252524</guid>
            <pubDate>Sun, 23 Aug 2020 15:25:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Reasons to Still Learn Languages]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24252374">thread link</a>) | @laybak
<br/>
August 23, 2020 | https://knowledgeartist.org/articles/872936a4-d33a-49f4-a28c-37f3f4520b32/why-i-still-learn-languages | <a href="https://web.archive.org/web/*/https://knowledgeartist.org/articles/872936a4-d33a-49f4-a28c-37f3f4520b32/why-i-still-learn-languages">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div><blockquote><span>A refined knowledge of several languages provides a reservoir of meanings and enhances a person's ability to apprehend and express the plurality of the world. 
‚Äî </span> <em>David le Breton</em> <span> Ôªø</span></blockquote></div>  <p><span>Over the years, I have learned 9 languages. For different reasons. And at various levels of proficiency.</span></p> <p><span>With the increasingly effectiveness of machine translation that gets us answers in real-time, learning a language becomes less about the functional necessity.  </span></p> <p><span>This article explores the ways in which learning languages is valuable, beyond its immediate utility. </span></p>  <p><h2><span>Sensing More Dimensions of Reality</span></h2></p> <p><span>The quote by David le Breton at the beginning of this post puts it more eloquently than I can. </span></p> <p><span>There are so many possible dimensions of reality. Each language is a system of filters that captures the multitude of sensations and meanings in its own way. </span></p> <p><span>Having more of these filters in your tool-kit is advantageous for parsing the world. It helps you better explain and enjoy it. </span></p>  <p><h2><span>Surface Area of Appreciation</span></h2></p> <p><span>Translation attemps to map the experience in one culture to an analogous experience in a different culture.</span></p> <p><span>But emotions and feelings are hard to capture. And some sensations are just uniquely expressed in a specific language. Definitions in a dictionary are not helpful in this case.</span></p> <p><span>You may be able to appreciate the melodic phrases and the percussion of words when listening to poetry / rap music in a foreign language. But you miss out on the cleverness, technical wizardry, and layers of references.</span></p> <p><span>Watching the works of the comedic master </span> <a href="https://en.wikipedia.org/wiki/Stephen_Chow" target="_blank"><span>Stephen Chow</span></a> <span> without knowing Cantonese is as good as pinching your nose when eating a delicious meal.</span></p>  <p><h2><span>Deeper Connections with People</span></h2></p> <p><span>As you learn a language, you naturally develop a deeper understanding and appreciation for others' cultures.</span></p> <p><span>Ever experienced the moments of delight with a person from another culture when you show understanding of an obscure cultural reference? The surprised look on their face and the engaging conversation that ensues are just priceless. </span></p> <p><span>It immediately draws you closer to each other. It is a genuine way of saying </span> <em>"I hear you."</em> <span> Ôªø</span></p>  <p><h2><span>Found in Translation</span></h2></p> <p><span>Learning a language helps you not just understand the target language / culture itself, but more broadly about the human condition. </span></p>  <p><span>Another example would be the </span> <a href="https://en.wikipedia.org/wiki/Structure_from_Motion" target="_blank"><span>Structure from Motion</span></a> <span> technique in computer vision, where moving the position of a 2D camera helps us estimate 3D structures in the images captured.</span></p> <p><span>Learning languages is a reliable way to acquire these lenses, and a more flexible mind.</span></p>  <p><h2><span>Travelling Becomes More Fun</span></h2></p> <p><span>This is perhaps obvious. But even though Google Translate has become very convenient, it is nice not having to look at my phone the whole time when I travel.</span></p> <p><span>Knowing the local language is helpful for navigating and avoiding tourist traps. But more importantly, it expands what you are capable of noticing. It unlocks layers of experience that are otherwise hidden from you.</span></p> <p><span>It shifts your attention from the the surface-level appreciation of sights and occasional signs you understand, to understanding the messaging of various displays and eavesdropping on the locals in addition to people-watching.</span></p> <p><span>Oh, and you often get special treatment speaking the local language :)  </span></p>  <p><h2><span>Learning Languages Itself Becomes Easier</span></h2></p> <p><span>The more languages you already know, the easier it is for you to pick up a new one. It is perhaps the biggest factor in estimating </span> <a href="https://knowledgeartist.org/articles/1021e2dc-845a-494f-b598-def49c37234e/how-long-does-it-take-to-learn-a-language" target="_blank"><span>how long it takes to learn a language</span></a> <span>.</span></p> <p><span>This advantage can be direct: in learning a new language with cognates (words with a shared origin) and similar language structures. For instance, roughly 60% of Korean words have a Chinese origin. Italian, Spanish, and Portuguese are almost mutually intelligible. And the indirect effects include having a more flexible mind and getting better at adapting to new patterns of thoughts.  </span></p>  <p><span>Knowing multiple languages is advantageous. The learning process is in most cases a fun and expansive journey.
 Even as technology advances and real-time machine translation becomes viable, it remains one of the most reliable means to enrich one's life.</span></p> <p><span>
If you enjoyed this, </span> <a href="https://twitter.com/jhlyeung" target="_blank"><span>follow me on Twitter</span></a> <span>! I will be sharing more tips on language learning, and learnings in life.</span></p>        


          
            
    </div></div>]]>
            </description>
            <link>https://knowledgeartist.org/articles/872936a4-d33a-49f4-a28c-37f3f4520b32/why-i-still-learn-languages</link>
            <guid isPermaLink="false">hacker-news-small-sites-24252374</guid>
            <pubDate>Sun, 23 Aug 2020 14:58:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a simple Python to C compiler: hello, fibonacci]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24252233">thread link</a>) | @pcr910303
<br/>
August 23, 2020 | https://notes.eatonphil.com/writing-a-simple-python-compiler.html | <a href="https://web.archive.org/web/*/https://notes.eatonphil.com/writing-a-simple-python-compiler.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>In this post we'll write a Python to C compiler in Python. This is
especially easy to do since Python has a <a href="https://docs.python.org/3/library/ast.html">builtin parser
library</a> and because a
number of <a href="https://docs.python.org/3/c-api/">CPython internals are exposed for extension
writers</a>.</p>
<p>By the end of this post, in a few hundred lines of Python, we'll be able to
compile and run the following program:</p>
<pre><code>$ cat tests/recursive_fib.py
def fib(n):
    if n == 0 or n == 1:
        return n

    return fib(n - 1) + fib(n - 2)


def main():
    print(fib(40))
$ python3 pyc tests/recursive_fib.py
$ ./bin/a.out
102334155
</code></pre>
<p>This post implements an extremely small subset of Python and
<strong>completely gives up on even trying to manage memory</strong> because I
cannot fathom manual reference counting. Maybe some day I'll find a
way to swap in an easy GC like Boehm.</p>
<p><a href="https://github.com/eatonphil/pyc">Source code for this project is available on Github.</a></p>
<h3 id="dependencies">Dependencies</h3><p>We'll need Python3, GCC, libpython3, and clang-format.</p>
<p>On Fedora-based systems:</p>
<pre><code>$ sudo dnf install gcc python3-devel clang-format python3
</code></pre>
<p>And on Debian-based systems:</p>
<pre><code>$ sudo apt install gcc python3-dev clang-format python3
</code></pre>
<p>
  This program will likely work as well on Windows, Mac, FreeBSD,
  etc. but I haven't gone through the trouble of testing this (or
  providing custom compiler directives). Pull requests welcome!
</p><h3 id="a-hand-written-first-pass">A hand-written first-pass</h3><p>Before we get into the compiler, let's write the fibonacci program by
hand in C using libpython.</p>
<p>As described in the <a href="https://docs.python.org/3/extending/embedding.html#very-high-level-embedding">Python embedding
guide</a>
we'll need to include libpython and initialize it in
our <code>main.c</code>:</p>
<pre><code>#define PY_SSIZE_T_CLEAN
#include &lt;Python.h&gt;

int main(int argc, char *argv[]) {
  Py_Initialize();

  return 0;
}
</code></pre>
<p>To compile against libpython, we'll use
<a href="https://helpmanual.io/man1/python3-config/">python3-config</a> installed
as part of <code>python3-devel</code> to tell us what should be linked
at each step during compilation.</p>
<pre><code>$ gcc -c -o main.o $(python3-config --cflags) main.c
$ gcc $(python3-config --ldflags) main.o
$ ./a.out; echo $?
0
</code></pre>
<p>Cool! Now as we think about translating the fibonacci implementation,
we want to keep everything as Python objects for as long as
possible. This means passing and receiving
<a href="https://docs.python.org/3/c-api/object.html">PyObject*</a> to and from
all functions, and converting all C integers to
<a href="https://docs.python.org/3/c-api/long.html">PyLong*</a>, a "subtype" of
<code>PyObject*</code>. You can imagine that everything in Python is
an <code>object</code> until you operate on it.</p>
<p>
  For more information on objects in Python, check out
  the <a href="https://docs.python.org/3/reference/datamodel.html">Data
  model</a> page in Python docs.
</p><p>To map a C integer to a <code>PyLong*</code> we use
<a href="https://docs.python.org/3/c-api/long.html#c.PyLong_FromLong">PyLong_FromLong</a>. To
map in reverse, we use
<a href="https://docs.python.org/3/c-api/long.html#c.PyLong_AsLong">PyLong_AsLong</a>.</p>
<p>To compare two <code>PyObject*</code>s we can use
<a href="https://docs.python.org/3/c-api/object.html#c.PyObject_RichCompareBool">PyObject_RichCompareBool</a>
which will handle the comparison regardless of the type of the two
parameters. Without this helper we'd have to write complex checks to
make sure that the two sides are the same and if they are, unwrap them
into their underlying C value and compare the C value.</p>
<p>We can use
<a href="https://docs.python.org/3/c-api/number.html#c.PyNumber_Add">PyNumber_Add</a>
and
<a href="https://docs.python.org/3/c-api/number.html#c.PyNumber_Subtract">PyNumber_Subtract</a>
for basic arithmetic, and there are many similar helpers available to
us for operations down the line.</p>
<p>Now we can write a translation:</p>
<pre><code>#define PY_SSIZE_T_CLEAN
#include &lt;Python.h&gt;

PyObject* fib(PyObject* n) {
  PyObject* zero = PyLong_FromLong(0);
  PyObject* one = PyLong_FromLong(1);
  if (PyObject_RichCompareBool(n, zero, Py_EQ) || PyObject_RichCompareBool(n, one, Py_EQ)) {
    return n;
  }

  PyObject* left = fib(PyNumber_Subtract(n, one));

  PyObject* two = PyLong_FromLong(2);
  PyObject* right = fib(PyNumber_Subtract(n, two));

  return PyNumber_Add(left, right);
}

int main(int argc, char *argv[]) {
  Py_Initialize();

  PyObject* res = fib(PyLong_FromLong(7)); // Should be 13

  return PyLong_AsLong(res);
}
</code></pre>
<p>Compile and run it:</p>
<pre><code>$ gcc -c -o main.o $(python3-config --cflags) main.c
$ gcc $(python3-config --ldflags) main.o
$ ./a.out; echo $?
13
</code></pre>
<p>That's great! But we cheated in one place. We assumed that the input
to the <code>fib</code> function was an integer, and we propagated
that assumption everywhere we wrote <code>PyNumber_*</code>
operations. When we write the compiler, we'll need to check that both
arguments are an integer before we call a numeric helper, otherwise we
may need to call a string concatenation helper or something else
entirely.</p>
<h3 id="compiler-architecture">Compiler Architecture</h3><p>We'll break the code into four major parts:</p>
<ol>
<li><code>libpyc.c</code>: helper functions for generated code</li>
<li><code>pyc/context.py</code>: utilities for scope and writing code in memory</li>
<li><code>pyc/codegen.py</code>: for generating C code from a Python AST</li>
<li><code>pyc/__main__.py</code>: the entrypoint</li>
</ol>
<p>
  When I'm writing a new compiler using an existing parser I almost
  always start with the entrypoint and code generator so I can explore
  the AST. However, it's easiest to explain the code if we start with
  the utilities first.
</p><p>We'll also want an empty <code>pyc/__init__.py</code>.</p>
<h3 id="libpyc.c">libpyc.c</h3><p>This C file will contain three helper functions for safely adding,
subtracting, and printing. It will be concatenated to the top of the
generated C file. We'll only support integers for now but this
structure sets us up for supporting more types later on.</p>
<p>We'll use
<a href="https://docs.python.org/3/c-api/long.html#c.PyLong_Check">PyLong_Check</a>
before calling number-specific methods.</p>
<pre><code>#define PY_SSIZE_T_CLEAN
#include &lt;Python.h&gt;

inline PyObject* PYC_Add(PyObject* l, PyObject* r) {
  // TODO: allow __add__ override

  // Includes ints and bools
  if (PyLong_Check(l) &amp;&amp; PyLong_Check(r)) {
    return PyNumber_Add(l, r);
  }

  // TODO: handle str, etc.

  // TODO: throw exception
  return NULL;
}

inline PyObject* PYC_Sub(PyObject* l, PyObject* r) {
  // TODO: allow __add__ override

  // Includes ints and bools
  if (PyLong_Check(l) &amp;&amp; PyLong_Check(r)) {
    return PyNumber_Subtract(l, r);
  }

  // TODO: handle str, etc.

  // TODO: throw exception
  return NULL;
}

inline PyObject* PYC_Print(PyObject* o) {
  PyObject_Print(o, stdout, Py_PRINT_RAW);
  printf("\n");
  return Py_None;
}
</code></pre>
<p>That's it! We could generate these as strings in Python but it gets
hairy to do so. By using a dedicated C file, we can take advantage of
syntax highlighting since this file is only C code. And since we've
marked all functions as <code>inline</code>, there's no runtime cost
to using not embedding these as strings in Python.</p>
<h3 id="pyc/context.py">pyc/context.py</h3><p>This file will contain a <code>Context</code> class for managing
identifiers in scope and for proxying to a <code>Writer</code> class
that contains helpers for writing lines of C code.</p>
<p>We'll have two instances of the <code>Writer</code> class in
<code>Context</code> so that we can write to a body (or
current/primary) region and an initialization region.</p>
<p>The initialization region is necessary in case there are any variables
declared at the top-level. We can't initialize these variables in C
outside of a function since every <code>PyObject*</code> must be
created after calling <code>Py_Initialize</code>. This section will be
written into our C <code>main</code> function before we enter a
compiled Python <code>main</code> function.</p>
<pre><code>import copy


class Writer():
    content = ""

    def write(self, exp: str, indent: int = 0):
        self.content += ("  " * indent) + exp

    def writeln(self, stmt: str, indent: int = 0):
        self.write(stmt + "\n", indent)

    def write_statement(self, stmt: str, indent: int = 0):
        self.writeln(stmt + ";", indent)


class Context():
    initializations = Writer()
    body = Writer()
    indentation = 0

    scope = 0
    ret = None
    namings = {}
    counter = -1

    def __getattr__(self, name: str) -&gt; object:
        # Helpers to avoid passing in self.indentation every time
        outputs = [initializations", "body"]
        for output in outputs:
            if name.startswith(output):
                return lambda s, i=None: getattr(getattr(self, output), name[len(output)+1:])(s, i if i is not None else self.indentation)

        return object.__getattr__(self, name)

    def get_local(self, source_name: str) -&gt; dict:
        return self.namings[source_name]

    def register_global(self, name: str, loc: str):
        self.namings[name] = {
            "name": loc,
            "scope": 0,
        }

    def register_local(self, local: str = "tmp") -&gt; str:
        self.counter += 1
        self.namings[local] = {
            "name": f"{local}_{self.counter}",
            # naming dictionary is copied, so we need to capture scope
            # at declaration
            "scope": self.scope,
        }
        return self.namings[local]["name"]

    def copy(self):
        new = copy.copy(self)
        # For some reason copy.deepcopy doesn't do this
        new.namings = dict(new.namings)
        return new

    def at_toplevel(self):
        return self.scope == 0
</code></pre>
<p>This is all pretty boring boilerplate. Let's move on.</p>
<h3 id="pyc/<strong>main</strong>.py">pyc/<strong>main</strong>.py</h3><p>The entrypoint is responsible for reading source code, parsing it,
calling the code generator, writing the source code to a C file, and
compiling it.</p>
<p>First, we read and parse the source code:</p>
<pre><code>import ast
import os
import subprocess
import shutil
import sys

from context import Context
from codegen import generate

BUILTINS = {
    "print": "PYC_Print",
}


def main():
    target = sys.argv[1]
    with open(target) as f:
        source = f.read()
    tree = ast.parse(source, target)
</code></pre>
<p>Then we write <code>libpyc.c</code> into the body, register builtins,
and run code generation:</p>
<pre><code>
...

def main()
    ...

    ctx = Context()
    with open("libpyc.c") as f:
        ctx.body_write(f.read() + "\n")

    for builtin, fn in BUILTINS.items():
        ctx.register_global(builtin, fn)

    generate(ctx, tree)
</code></pre>
<p>Next, we create a clean output directory and write
<code>main.c</code> with the generated code and a <code>main</code>
function to initialization Python and any global variables:</p>
<pre><code>...

def main():
   ...

    # Create and move to working directory
    outdir = "bin"
    shutil.rmtree(outdir, ignore_errors=True)
    os.mkdir(outdir)
    os.chdir(outdir)

    with open("main.c", "w") as f:
        f.write(ctx.body.content)

        main = ctx.namings.get("main")["name"]
        f.write(f"""int main(int argc, char *argv[]) {{
  Py_Initialize();

  // Initialize globals, if any.
{ctx.initializations.content}
  PyObject* r = {main}();
  return PyLong_AsLong(r);
}}""")
</code></pre>
<p>Finally, we run <code>clang-format</code> and <code>gcc</code> against
the generated C code:</p>
<pre><code>...

def main():
    ...

    subprocess.run(["clang-format", "-i", "main.c"])

    cflags_raw = ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://notes.eatonphil.com/writing-a-simple-python-compiler.html">https://notes.eatonphil.com/writing-a-simple-python-compiler.html</a></em></p>]]>
            </description>
            <link>https://notes.eatonphil.com/writing-a-simple-python-compiler.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24252233</guid>
            <pubDate>Sun, 23 Aug 2020 14:35:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft .NET SDK is violating the GDPR, object now]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24251579">thread link</a>) | @dgl
<br/>
August 23, 2020 | https://dgl.cx/2020/08/dotnet-sdk-gdpr | <a href="https://web.archive.org/web/*/https://dgl.cx/2020/08/dotnet-sdk-gdpr">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p><b>Skip to the end if you just want a template for a "Right to object"
letter.</b></p>

<p>The .NET Core software development kit (SDK) is a set of command line tools
that allow development against Microsoft's .NET. When the command line tool is
run it sends some telemetry back to Microsoft.</p>

<p>This telemetry is <a href="https://aka.ms/dotnet-cli-telemetry">documented</a>, however the way it is implemented appears
against the <a href="https://gdpr-info.eu/">GDPR</a> in multiple ways.</p>

<h3>Collection by default</h3>

<p>Running <code>dotnet help</code> on a clean install, will print a message about telemetry,
but will send the details on that run.</p>

<p><a href="https://dgl.cx/2020/08/dotnet-help.png"><img src="https://dgl.cx/2020/08/dotnet-help.png"></a></p>

<p>Therefore the GDPR requriements under <a href="https://gdpr-info.eu/recitals/no-42/">"Burden of proof and requirements for
consent"</a> cannot be met -- even if we
give Microsoft the benefit of doubt and consider a command line application
somewhat special, it does not give us a chance to opt-out, yet alone opt-in.</p>

<p><a href="https://dgl.cx/2020/08/dotnet-installer.png"><img src="https://dgl.cx/2020/08/dotnet-installer.png"></a></p>

<p>During the installation process, there is a link to Microsoft's <a href="https://privacy.microsoft.com/en-gb/privacystatement">Privacy
statement</a>, however this
does not mention the environment variable needed to opt-out, so there is no way
to opt out before the first piece of data is sent.</p>

<h3>Collecting personal data</h3>

<p>The linked information page, as well as the text printed  in the CLI both say "The data is
anonymous.", it clearly isn't. They collect MAC addresses and the current
working directory, which are sent to their servers hashed.</p>

<p>A key thing to understand: <b>Hashing without a salt does not make the data
anonymous or even pseudonymous.</b></p>

<p>See for example <a href="https://medium.com/@alexewerlof/gdpr-pseudonymization-techniques-62f7b3b46a56">GDPR pseudonymisation
techniques</a>.
Given this, it is a clear violation as <a href="https://gdpr-info.eu/art-6-gdpr/">Article
6</a> requires specific purposes for processing,
but the data was claimed to be anonymous, which it isn't.</p>

<p>A common place to run "dotnet help" might be a home directory, which can often
include a username, e.g. <code>/home/dgl</code>. So while it's hashed it is easily
possible to find the hash that relates to a particular user:</p>

<pre><code>$ pwd
/home/dgl
$ echo -n $PWD | sha256sum
67acfe0ddd44867e1e5da5ddaf25a5b90e928f523cecf614e201c683b7533cf6  -
</code>
</pre>

<p>This matches the relevant part of the JSON sent:</p>

<pre><code>  "Current Path Hash": "67acfe0ddd44867e1e5da5ddaf25a5b90e928f523cecf614e201c683b7533cf6",
</code></pre>

<p>There are some discussions about the collection of MAC addresses in
<a href="https://github.com/dotnet/sdk/issues/6145">issue #6145</a> but no
particular reply from Microsoft; people suspect it's a GDPR violation. Note
that under the GDPR there are time limits for replying, so that's another
potential GDPR issue.</p>

<p>The <a href="https://dgl.cx/2020/08/ms-report.txt">report</a> I sent to Microsoft detailed how a
MAC address is likely not even 48-bits of search space, as we know what ones
are assigned, so brute-forcing is quite possible, particularly when combined
with the fact the search space can be reduced by filtering on the path
hash.</p>

<p>One principle of the GDPR is you need to explain why you're collecting
information, Microsoft do in a round about way, rather than on the link
printed by the command (<a href="https://aka.ms/dotnet-cli-telemetry">https://aka.ms/dotnet-cli-telemetry</a>) which explains what they are collecting, the "why" is hidden on a <a href="https://devblogs.microsoft.com/dotnet/what-weve-learned-from-net-core-sdk-telemetry/">blog post</a>.</p><p>

It says:
</p><blockquote>
Hashed MAC address √¢‚Ç¨‚Äù Determine a cryptographically (SHA256) anonymous and unique ID for a machine. Useful to determine the aggregate number of machines that use .NET Core. This data will not be shared in the public data releases.
<p>

Hashed current working directory √¢‚Ç¨‚Äù Determine build machines from dev machines using the heuristic of a large number of working directories. This distinction helps explain large #s of builds from a machine.
</p></blockquote>


<p>This shows a clear intention to join the data, for some purposes. The "Hashed
MAC address" is obviously understood to be somewhat sensitive as it mentions
they won't share it. Interestingly the same is not said for the current working
directory, which is also sensitive.</p>

<h3>Privacy policy</h3>

<p>As mentioned Microsoft has a <a href="https://privacy.microsoft.com/en-gb/privacystatement">general privacy policy</a>.</p>

<p>This could allow some collection, however:</p>

<blockquote>
You have choices when it comes to the technology you use and the data you
share. When we ask you to provide personal data, you can decline.
</blockquote>

<p>This behaviour would be GDPR compliant, but the key point is due to the first
collection behaviour of e.g. running <code>dotnet help</code> there is no chance to
decline. So the behaviour of the dotnet tool is inconsistent with their own
privacy policy.</p>

<h3>How to respond?</h3>

<p>I sent a report to Microsoft's security team, because arguably incorrect use of
a cryptographic hashing function (SHA256 of the items, without a salt) is a
"Security Design Flaw" which qualifies under the <a href="https://www.microsoft.com/en-us/msrc/bounty-dot-net-core">dotnet 
bug bounty</a>. This was
obviously fishing a bit, and Microsoft denied me. More surpsingly they don't
seem to consider this a problem at all, their final reply was:</p>

<blockquote>
We have updates scheduled for the first run experience and related documentation to make it more accurate. Personal data is handled consistently with GDPR requirements.
</blockquote>

<p>You'll notice that they don't talk about any actual collection changes. Also
interestingly if the data is anonymous as they claim, what "Personal data" are
they referring to in this reply?</p>

<h4>What's the route the GDPR gives us here?</h4>

<p>This is an interesting one, partly <a href="https://gdpr-info.eu/art-11-gdpr/">Article 11 Processing which does not
  require identification</a> could apply, in that they can exclude themselves
from right of access, etc. With the exception of "Right to object".</p>

<p>There are two routes, either we give enough information for Microsoft to be
happy we identify ourselves (and use the right to erasure), or we use the right
to object, which while it doesn't require Microsoft to delete the data
entirely does require them to limit their use of it.</p>

<p>So I can object to any processing of my data, and as I've proved we can use
the MAC address to find my machine in their data. I believe given this has gone
on for several years that even if they make the data collection GDPR compliant,
there is a huge historical collection of data that may need clearing as it has
been collected unlawfully.</p>

<p>In my original <a href="https://dgl.cx/2020/08/ms-report.txt">report</a> to Microsoft I made some recommendations:</p>

<pre><code>
Recommendations:
<ul><li>Remove the telemetry, it avoids any potential GDPR issues;</li>
<li>Delete the historical data (I am not a lawyer, but I suspect this has GDPR
implications);
</li></ul></code></pre>

<p>It appears they do not intend to follow these so I suggest that any user of
.NET Core SDK in the European Union takes matters into their own hands and use
their right to object:</p>

<div>
<p>
[Your full address]
[The date]</p>

<p>To Data Controller, Microsoft Corporation</p>

<p>I am exercising my right to object under the General Data Protection
Regulation (Article 21).</p>

<p>It has come to my attention that Microsoft .NET Core SDK collects telemetry,
and the opt-out process for this data is flawed.</p>

<p>In particular setting the <code>DOTNET_CLI_TELEMETRY_OPTOUT</code> variable
is only suggested the first time the tool is run, so some data may have been
collected against my will.</p>

<p>In light of Microsoft not deleting this telemetry data for everyone (per the
report of David Leadbeater on 3 August 2020). I wish that my telemetry data is
restricted from further processing, as I have set the opt-out environment
variable, but I cannot be sure that some data has not reached Microsoft
already.</p>

<p>The MAC addresses of my machine(s) is/are:</p>

<p>XX:XX:XX:XX:XX:XX</p>

<p>I believe this is enough to identify my records, as they are stored as a
SHA256 hash of this MAC address.</p>

<p>Please send a full response within one calendar month confirming if you will
comply with my request. If you cannot respond within that timescale, please
tell me when you will be able to respond.</p>

<p>If there is anything you would like to discuss, please contact me.</p>

<p>Thank you,
</p></div>

<p>Obviously the somewhat strange thing about this is you reveal your MAC
address to Microsoft in the process, but I'm fairly sure the data protection
around GDPR requests is something that is well scrutinized.</p>

<p>If you do want to send this to Microsoft go to
<a href="https://www.microsoft.com/en-GB/concern/privacy">https://www.microsoft.com/en-GB/concern/privacy</a> and select "I want to contact
Microsoft√¢‚Ç¨‚Ñ¢s Data Protection Officer".</p>

<p>It's strange this is still an issue as this was previously discussed over
two years ago (see this <a href="https://news.ycombinator.com/item?id=17177241">Hacker News
thread</a>). Let's use our right to object!</p>

</div></div>]]>
            </description>
            <link>https://dgl.cx/2020/08/dotnet-sdk-gdpr</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251579</guid>
            <pubDate>Sun, 23 Aug 2020 12:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Persisting as a solo founder]]>
            </title>
            <description>
<![CDATA[
Score 622 | Comments 232 (<a href="https://news.ycombinator.com/item?id=24251403">thread link</a>) | @vishnumohandas
<br/>
August 23, 2020 | https://vishnu.tech/posts/persistence/ | <a href="https://web.archive.org/web/*/https://vishnu.tech/posts/persistence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><img src="https://sa.vishnu.tech/noscript.gif" alt="">




    



  



    
    <p><time itemprop="datePublished">August 19, 2020</time>
    </p>
    

<p>I quit my job in January 2020 to build a privacy friendly photo organizer.</p>

<p>As a 30 year old whose friends are either getting married or planning
off-springs, what I had underestimated was the difficulty involved in finding a co-founder and how that would compound the difficulty involved in
finding an investor.</p>

<p>Once I accepted the loneliness and the lack of a financial cushion I had to figure out a way to keep building without burning myself out.</p>

<p>It took me a while, but I have found a rhythm that works, and with it, a steady
source of endorphins. Here are some changes that helped me to keep things
moving.</p>

<h2 id="being-patient">Being patient</h2>

<p>Life is no longer as comfortable as it used to be and things are not always
going the way I want them to. Preseverance has been key and indirectly patience
too. Naval‚Äôs <a href="https://twitter.com/naval/status/1261481752448524289" target="_blank">take on
meditation</a> (60 minutes x
60 days), was an eye opener. I‚Äôve stuck with it since, and I now have an easier
time identifying negative thought patterns and sitting out situations that would
otherwise overwhelm me.</p>

<p>On some level, spending the last few months locked indoors with my parents, who
are not the most rational people in the world has also helped. But I wouldn‚Äôt
recommend it.</p>

<h2 id="reducing-procrastination">Reducing procrastination</h2>

<p>Over time I‚Äôve realized that action precedes motivation and procrastination precedes guilt.</p>

<p>Breaking down tasks into chunks that seem trivial to accomplish has helped reduce the friction in getting started on unexciting grunt work.</p>

<p>Then there are tasks which I loathe from my core, like writing out applications
to VCs explaining why what I‚Äôm doing will matter. To those I attach reinforcing
personal reasons, like, ‚ÄúI need the $50k to hire that college junior who I love
working with, and that will give me spare bandwidth to focus on traction channels‚Äù.</p>

<h2 id="thinking-clearer">Thinking clearer</h2>

<p>It is sub-optimal to not have a coworker to bounce ideas off and rant about problems to. A lot of times it‚Äôs these conversations that help you gain clarity.</p>

<p>It‚Äôs a luxury I do not have so every time I feel stuck, I type/scribble my thoughts out, and then question everything that was written, and then document my realizations.</p>

<p>Task tracking has also helped in clearing the path. I write down unstructured
thoughts into a diary, and once I‚Äôve clarity, I promote them to a Notion board
(that‚Äôs divided into <em>Thinking</em>, <em>Building</em>, <em>Reading</em>, <em>Writing</em> and
<em>Adulting</em>) and every Monday within an Excel sheet I track what was done, and
what is left to be done.</p>

<h2 id="reducing-distractions">Reducing distractions</h2>

<p>I‚Äôve reduced my information consumption to free up brain cycles. I‚Äôve disabled all notifications on my phone barring a few contacts, and I‚Äôve more or less stopped browsing on it. As an added bonus, this has reduced the negativity with which I perceived the world.</p>

<p>To minimize the overhead of context switches, I split tasks into a tree of checkpoints. Before taking a break I note down the next simplest checkpoint so that when I get back to work there‚Äôs little friction to resume.</p>

<p>To help me zone out I keep <a href="https://www.youtube.com/watch?v=5qap5aO4i9A" target="_blank">lofi
beats</a> or
<a href="http://github.audio/" target="_blank">github.audio</a> playing in the background. Listening to the
latter gives me a strange sense of motivation and makes me feel less alone.</p>

<h2 id="staying-grounded">Staying grounded</h2>

<p>I‚Äôm lucky to have some friends who call/text every other week. I look at them as my accountability partners and I talk to them about what I‚Äôm doing on a high level. While not all of them genuinely care, some do, and these conversations force me to reflect on how well I‚Äôm doing what I‚Äôm doing.</p>

<p>While Silicon Valley wisdom suggests that if I‚Äôm not sleeping I should be
working, failing because of a burn out would be stupid. An advantage of not
having a VC onboard so far has been the freedom to dictate my pace. So I spend
days thinking, reading, fiddling with my violin or just doing nothing when I
feel like writing code is not what I want to do.</p>

<hr>

<p>It‚Äôs been 7 months of building alone, and while this is not how I pictured things to be on my last day at work, this is the happiest I have ever been. There‚Äôs a long way to go, and the grind seems inviting.</p>

<p>This list is by no means exhaustive, for I‚Äôm still learning. If you‚Äôve
anything to share, please join <a href="https://news.ycombinator.com/item?id=24251403" target="_blank">the discussion on HackerNews</a>.</p>

<hr>

<p>If you are curious about what I‚Äôve been building, check out
<a href="https://ente.io/" target="_blank">ente.io</a>.</p>

    <br>
    


</div>]]>
            </description>
            <link>https://vishnu.tech/posts/persistence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251403</guid>
            <pubDate>Sun, 23 Aug 2020 12:27:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five biggest lies about Covid-19-#fakesciencenews-on right&left is deadly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24251261">thread link</a>) | @gloriosoc
<br/>
August 23, 2020 | https://realscience.community/2020/08/23/the-five-biggest-lies-about-covid-19-spread-by-the-media-how-the-fakesciencenews-on-both-the-right-and-the-left-is-killing-americans/ | <a href="https://web.archive.org/web/*/https://realscience.community/2020/08/23/the-five-biggest-lies-about-covid-19-spread-by-the-media-how-the-fakesciencenews-on-both-the-right-and-the-left-is-killing-americans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div id="speakaboutWrapper"><p>Since the beginning of the pandemic, I have noticed the incredible misinformation being spread in the lay news. From the New York Times, to CNN, to Fox News, to Donald Trump himself- GIANT, OBVIOUS, LIES and ERRORS have been spread to the public. From Masks don‚Äôt work, to Hydroxychloroquine is an effective drug, to COVID-19 is a hoax, to antibodies won‚Äôt last, to the latest set of lies- herd immunity isn‚Äôt happening‚Äì all giant lies‚Äì on both sides of the aisle. Many of these have been attributed to scientists or academics with one line out-of-context quotes, throwing us under the bus, saying things we didn‚Äôt say, blatantly misconstruing or outright not understanding the <a href="https://realscience.community/wiki/science/" target="_blank" title="From Wikipedia, the free encyclopedia. This article is about a branch of knowledge. For other uses, see&nbsp;Science (disambiguation). Science&nbsp;(from the&nbsp;Latin&nbsp;word&nbsp;scientia, meaning &quot;knowledge&quot;)[1]&nbsp;is a systematic enterprise that builds and organizes&nbsp;knowledge&nbsp;in the form of&nbsp;testable&nbsp;explanations&nbsp;and&nbsp;predictions&nbsp;about the&nbsp;universe.[2][3][4] The earliest roots of science can be traced to&nbsp;Ancient Egypt&nbsp;and&nbsp;Mesopotamia&nbsp;in around 3500 to 3000 BCE.[5][6]&nbsp;Their contributions to&nbsp;mathematics,&nbsp;astronomy, and&nbsp;medicine&nbsp;entered and shaped Greek&nbsp;natural philosophy&nbsp;of&nbsp;classical‚Ä¶">science</a> behind basic concepts. The lies always fall along party lines and are aimed at manipulating the public for a political agenda. Scientists have become both pawns and scapegoats to the media and politicians. I am really, really, tired of it. And it is <strong>literally KILLING Americans.</strong></p>



<p>Without facts, we can‚Äôt have rationale policy and people can‚Äôt make informed, consenting, decisions about their health. The media lies have created mass public confusion and engendered incredible mistrust of the media, politicians, and scientists and doctors (the people the public can and should trust). All the while the scientific community has had a clear eyed unchanging picture of this pandemic the whole time. The virus is not so complicated. The modeling of the virus is actually not so complicated. But if you are listening to the press, it‚Äôs a huge messy complicated whiplash of completely untrustworthy information. </p>



<p>So here are the <span><strong>Five Biggest Lies </strong></span>about COVID-19 spread by the press and politicians:</p>



<p>1.<strong>Masks don‚Äôt work. </strong></p>



<p><strong>Who spread this?</strong> Everyone. </p>



<p><strong>Why?</strong> To manipulate the public into not buying N95 masks so health care workers would have them. </p>



<p><strong>What was the harm?</strong> It made millions of Americans not believe masks work when the media about faced on this later, killing 10s of thousands. 30% less people would die if everyone wore masks. </p>



<p><strong>2. Hydroxychloroquine works.</strong></p>



<p><strong>Who spread this?</strong> Trump and the right. </p>



<p><strong>Why?</strong> I really can‚Äôt fucking figure it out for the life of me. Trump has some financial interest in the drug? You tell me.</p>



<p><strong>What was the harm?</strong> People around the world took a bogus drug with real <a href="https://realscience.community/2020/08/09/elementor-1270/">harmful side effects to their hearts and livers</a>. They also had a false sense of security that there is a treatment for COVID.</p>



<p>Some politicians (below for Ted Cruz statement), have finally admitted the harm in Hydroxycholorquine saying it directly is killing people but still cling to promoting the drug for earlier treatment despite the rigorous clinical trials showing no benefit and indeed harm with the drug. <a href="https://thetexan.news/ted-cruz-letter-to-fda-says-hydroxychloroquine-restrictions-may-be-directly-costing-lives/">https://thetexan.news/ted-cruz-letter-to-fda-says-hydroxychloroquine-restrictions-may-be-directly-costing-lives/</a>.</p>



<p><strong>3. COVID-19 is a hoax.</strong></p>



<p><strong>Who spread this?</strong> Trump and the right.</p>



<p><strong>Why?</strong> My suspicion is that they care more about keeping businesses (and their own finances) intact than saving human lives. So they want people to think COVID-19 is not dangerous so people will continue to spend money.</p>



<p><strong>What was the harm?</strong> People went about their lives in many states like the virus wasn‚Äôt harmful. This killed 100,000 more people than necessary. COVID-19 has already killed 6X the number of people this year than the flu has on average in any given year. It also very well might encourage people not to get a COVID vaccine when it becomes available- which we very much need to do.</p>



<p><strong>4. Antibodies won‚Äôt last so herd immunity might not be possible.</strong></p>



<p><strong>Who spread this?</strong> The left using scientists as pawns. Here is a quote from a review in the journal, Nature, the number one <a href="https://realscience.community/wiki/science/" target="_blank" title="From Wikipedia, the free encyclopedia. This article is about a branch of knowledge. For other uses, see&nbsp;Science (disambiguation). Science&nbsp;(from the&nbsp;Latin&nbsp;word&nbsp;scientia, meaning &quot;knowledge&quot;)[1]&nbsp;is a systematic enterprise that builds and organizes&nbsp;knowledge&nbsp;in the form of&nbsp;testable&nbsp;explanations&nbsp;and&nbsp;predictions&nbsp;about the&nbsp;universe.[2][3][4] The earliest roots of science can be traced to&nbsp;Ancient Egypt&nbsp;and&nbsp;Mesopotamia&nbsp;in around 3500 to 3000 BCE.[5][6]&nbsp;Their contributions to&nbsp;mathematics,&nbsp;astronomy, and&nbsp;medicine&nbsp;entered and shaped Greek&nbsp;natural philosophy&nbsp;of&nbsp;classical‚Ä¶">science</a> journal in the world. Please note the use of ‚Äúpredictable‚Äù in the tagline- ‚ÄúViral Immunologists say that results so far have been predictable- Here‚Äôs why that‚Äôs good news‚Äù. <strong>This pandemic has not been mysterious to scientists.</strong></p>







<figure><blockquote><p>‚ÄúSeveral major media outlets reported this as a loss of immunity, saying that it would complicate vaccine efforts.Many immunologists found that declaration a bit premature, however. The data showed a perfectly normal response to a viral infection, says Luis Barreiro at the University of Chicago in Illinois, who studies the evolution of immune responses to pathogens. When a virus attacks, it spurs the proliferation of B cells that produce antibodies capable of recognizing pieces of the virus. But once the infection is gone, antibody levels typically wane. ‚ÄúThere is a lot of fear out there,‚Äù says Miles Carroll, an infectious-disease specialist with Public Health England in Porton Down, UK. ‚ÄúBut I think, on the whole, that it‚Äôs a fairly robust immune response.‚Äù‚Äù</p><cite>~Nature NEWS&nbsp;&nbsp;17 AUGUST 2020<p><a href="https://www.nature.com/articles/d41586-020-02400-7">What the immune response to the coronavirus says about the prospects for a vaccine<br>Viral immunologists say that results so far have been predictable ‚Äî here‚Äôs why that‚Äôs good news.</a></p></cite></blockquote></figure><p><strong>5. Herd immunity isn‚Äôt happening because there are still cases. </strong></p>



<p><strong>Who is spreading this?</strong> The left and Cuomo and crew. <a href="https://www.cnn.com/2020/08/21/health/coronavirus-immunity-frieden-opinion/index.html">CNN</a> and the <a href="https://www.latimes.com/california/story/2020-08-11/san-quentin-coronavirus-herd-immunity-covid-19?fbclid=IwAR3hDfD6XqUIv7vydOLl5cga3mlKV_TOgh0eqrgZVpMNDeBGocpC6tI8UKI">LA Times</a> have blatant lies in papers in the last two days. Here is a quote from CNN showing that they are lying about what herd immunity is. </p>



<figure><blockquote><p>‚ÄúBut can herd immunity result from 20-30% infection, as some misguided academics suggested recently‚Äîfar lower than the usual estimate of 60-80% infection? Don‚Äôt count on it. Some communities already have a 50% infection rate or higher ‚Äî this would be impossible if herd immunity kicked in at a 20-30% infection rate!‚Äù</p></blockquote></figure><p>Herd immunity means cases go down, RT&lt;1, not that they disappear or that more immunity isn‚Äôt possible. This definition is literally in <a href="https://en.wikipedia.org/wiki/Herd_immunity">Wikipedia</a>.</p>



<p>Herd immunity <a href="https://realscience.community/2020/08/17/why-i-believe-the-us-has-herd-immunity-in-some-states-and-is-barreling-towards-it-as-a-country/">is almost certainly happening</a>. <a href="https://realscience.community/2020/08/19/all-signs-point-to-herd-immunity-happening-in-parts-of-the-us-what-are-the-practical-implications/">And that is a good reason to wear a mask and not open schools. </a>Things aren‚Äôt safe yet but could be soon- we need to be careful for one more semester and ride this out- but also have hope that things will be better soon.</p>



<p><strong>Why? </strong>Because they want to protect Andrew Cuomo from the wrath of the public finding out that NYC has had herd immunity all along. They also want to point fingers at the right that their cases are going up because they are holier than thou and are using that politically. </p>



<p><strong>What is the harm?</strong> It gives the public the exact opposite impression of what is happening. New York is amongst the safer states now and Michigan is amongst the least safe. States with schools opening that do not yet have immunity should 100% not open. University of Michigan, with your 60k plus students, do not open! Take a clue from UNC Chapel Hill shutting down after one week of classes. </p>



<p>This reckless, abhorrent, blatantly false, characterization of COVID-19 and public health messaging is incredibly harmful. It has killed ~100,000 Americans. The press and politicians on both sides of the aisle need to be held accountable for this. #fakesciencenews</p>
</div>
					</div></div>]]>
            </description>
            <link>https://realscience.community/2020/08/23/the-five-biggest-lies-about-covid-19-spread-by-the-media-how-the-fakesciencenews-on-both-the-right-and-the-left-is-killing-americans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251261</guid>
            <pubDate>Sun, 23 Aug 2020 11:54:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Self-Hosted GitHub Runners]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24251250">thread link</a>) | @shusson
<br/>
August 23, 2020 | https://shusson.info/post/self-hosted-github-runners | <a href="https://web.archive.org/web/*/https://shusson.info/post/self-hosted-github-runners">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  

<p><strong>23/08/2020</strong></p>

<p><img src="https://shusson.info/assets/potato.png" alt="potato"></p>

<p>Currently, github runners are hosted on azure <a href="https://docs.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners">Standard_DS2_v2 VMs</a>. They have 2vCPU 7GB RAM and 14GB SSD.</p>

<p>You can self-host a runner by installing the runner service on your own infrastructure. Self-hosted runners incur no costs on github and allow you to leverage the actions api. Of course you‚Äôll be paying for your own infrastructure, but often this will be cheaper than burning through github minutes. If you‚Äôve got a couple idle ubuntu boxes lying around the office it‚Äôs an easy win.</p>

<p>I would recommend using a ramdisk for the workers <code>_work</code> dir as it will dramatically increase IO. Since our tests are ephemeral anyway, we don‚Äôt care if there is data loss in the <code>_work</code> directory. Any important files can be persisted using <a href="https://docs.github.com/en/actions/configuring-and-managing-workflows/persisting-workflow-data-using-artifacts">github artifacts</a>.</p>

<p>If your workflow is a <a href="https://docs.github.com/en/actions/configuring-and-managing-workflows/about-service-containers#running-jobs-in-a-container">container-job</a>, then the only dependencies are ubuntu and docker. Assuming you‚Äôve got stock ubuntu 18.04 installed:</p>

<pre><code>sudo apt update
sudo apt install -y docker.io
sudo systemctl start docker
sudo systemctl enable docker
# requires reboot
sudo usermod -a -G docker fred


# create a ramdisk for the runners work dir
mkdir /home/fred/ramdisk
sudo chown -R fred /home/fred/ramdisk

# requires reboot
echo "tmpfs /home/fred/ramdisk tmpfs   defaults,size=3000M,nosuid,uid=1000,gid=1000   0 0" | sudo tee -a /etc/fstab

# set up the github runner
# in this example we are installing a runner to a repository, you can also install it for a org
# more info https://docs.github.com/en/actions/hosting-your-own-runners/adding-self-hosted-runners
mkdir actions-runner
cd actions-runner
# note the version will most likely change in the future
curl -O -L https://github.com/actions/runner/releases/download/v2.272.0/actions-runner-linux-x64-2.272.0.tar.gz
tar xzf ./actions-runner-linux-x64-2.272.0.tar.gz
# you can find the token here: https://github.com/&lt;org&gt;/&lt;repo&gt;/settings/actions/add-new-runner
./config.sh --url https://github.com/&lt;org&gt;/&lt;repo&gt; --token "${GITHUB_TOKEN}" --name "${RUNNER_NAME}" --work /home/fred/ramdisk  --unattended  --replace
sudo ./svc.sh install
sudo ./svc.sh start
sudo ./svc.sh status
sudo reboot
</code></pre>

<p>And that‚Äôs it. You should now see the runner in your repo: e.g <code>https://github.com/&lt;org&gt;/&lt;repo&gt;/settings/actions</code></p>

<p>To tie your workflow to a self-hosted runner, use a label e.g</p>

<pre><code>jobs:
    server_tests:
        runs-on: [self-hosted, enabled]
</code></pre>

<p>You might be wondering if you can host the github runner in a docker container. Unfortunately not all features are supported yet, so depending on your workflow you might have <a href="https://github.com/actions/runner/issues/406">issues</a>.</p>

      

  <span><time datetime="2020-08-23T00:00:00+02:00"></time></span>


  
  <!--<span class="meta"><time datetime="2020-08-23T00:00:00+02:00">August 23, 2020</time> &middot; </span>
  -->
</section></div>]]>
            </description>
            <link>https://shusson.info/post/self-hosted-github-runners</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251250</guid>
            <pubDate>Sun, 23 Aug 2020 11:52:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stripe Atlas vs. Startomatic]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24251206">thread link</a>) | @RobbieStats
<br/>
August 23, 2020 | https://startomatic.com/stripe-atlas-alternative.html | <a href="https://web.archive.org/web/*/https://startomatic.com/stripe-atlas-alternative.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" role="main">
      





<!-- Pricing Section -->
<div>


  <!-- Title -->
  <div>
    <p><strong>Startomatic perspective:</strong></p>

<p>Stripe Atlas is a startup formation product aimed at venture capital-backed companies. These companies typically need somewhat complex legal documents allowing for outside investment, multiple types of equity, and equity compensation. Stripe Atlas only allows formation of Delaware C-corporations. They also offer to set up a US bank account for users.</p>

<p>For companies not planning to immediately raise outside investment, Stripe Atlas is somewhat expensive and offers limited choices - you cannot form an S-corporations, LLC, or entity in any state other than Delaware.</p>

<p>Stripe Atlas does not offer logo, website, trademark searches, domain name registration, company email, SEO help, or any of the numerous other features included in Startomatic‚Äôs flat fee.</p>

<p>If you are not planning to immediately raise money from professional investors, you‚Äôre not operating in Delaware, and/or you need services other than legal formation documents and a bank account, Stripe Atlas may not be a good choice. Startomatic is both less expensive and provides significantly more features, including the ability to incorporate in all 50 states.</p>

  </div>
  <!-- End Title -->

  <!-- Table -->
  
  <!-- End Table -->

    

</div>
<!-- End Pricing Section -->


    </div></div>]]>
            </description>
            <link>https://startomatic.com/stripe-atlas-alternative.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251206</guid>
            <pubDate>Sun, 23 Aug 2020 11:41:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A list of websites that pay you to write technical articles]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24251140">thread link</a>) | @Didicodes
<br/>
August 23, 2020 | https://catalins.tech/websites-that-pay-you-to-write-technical-articles | <a href="https://web.archive.org/web/*/https://catalins.tech/websites-that-pay-you-to-write-technical-articles">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1598000473709/56FT93bJf.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=format&amp;q=60"><div><div itemprop="text"><hr>

<p>Getting paid to write technical articles is a great way to supplement your income. Especially if you already write articles for your blog. However, the first question that arises is "<em>how can I get opportunities?</em>", which was my question too. </p>
<p>As a result, I want to list a handful of websites that pay you to write technical articles for them. You can see their name, the URL, and the approximate sum they pay you.</p>

<p>Therefore, let us see the websites you can pitch to write articles. The most popular publications are as follows:</p>
<table>
<thead>
<tr>
<td>Name</td><td>Rate per article</td><td>Description</td><td>URL</td></tr>
</thead>
<tbody>
<tr>
<td>Twilio</td><td>Up to $500 per article</td><td>You are not required to use Twilio. You need to write articles with examples</td><td><a target="_blank" href="https://go.twilio.com/twilio-voices/">Twilio.com</a></td></tr>
<tr>
<td>Auth0</td><td>Up to $300 per article</td><td>You pick topics from a list of possible articles</td><td><a target="_blank" href="https://auth0.com/guest-authors">Auth0</a></td></tr>
<tr>
<td>Soshace</td><td>$100 per article</td><td>You pick topics from a list of possible articles</td><td><a target="_blank" href="https://docs.google.com/document/d/1DZ9Hj8AcNfHI6bC4bfTDIFRNIIFnda6Mkj_n_4x3hWw/edit">Soshace</a></td></tr>
<tr>
<td>StackOverflow</td><td>Unknown</td><td>There are no limitations on the topics</td><td><a target="_blank" href="https://stackoverflow.blog/2020/01/27/blog-contributor-guidelines/?cb=1">StackOverflow</a></td></tr>
<tr>
<td>WPHub</td><td>Up to $200 per article</td><td>Tutorials about Wordpress</td><td><a target="_blank" href="https://www.wphub.com/write-for-us/">WPHub</a></td></tr>
<tr>
<td>Vonage</td><td>Up to $500 per article</td><td>Technical tutorials</td><td><a target="_blank" href="https://developer.nexmo.com/spotlight/">Vonage</a></td></tr>
<tr>
<td>CircleCI</td><td>Up to $300 per article</td><td>You can pick from a list of possible topics</td><td><a target="_blank" href="https://circleci.com/blog/guest-writer-program/">CircleCI</a></td></tr>
<tr>
<td>Clubhouse Io</td><td>Up to $600 per article</td><td>Pick from a list of possible topics. Technical tutorials, and how-to guides.</td><td><a target="_blank" href="https://clubhouse.io/clubhouse-write-earn-give-program/">Clubhouse.io</a></td></tr>
<tr>
<td>Code Tuts+</td><td>$100 for tips, and $250 for tutorials</td><td>Pick from a list of possible articles</td><td><a target="_blank" href="https://code.tutsplus.com/articles/call-for-authors-write-for-tuts--cms-22034">Code Tuts+</a></td></tr>
<tr>
<td>Tutorialspoint</td><td>Up to $500 per article</td><td>Various technical topics. You pick from a list of topics</td><td><a target="_blank" href="https://www.tutorialspoint.com/about/tutorials_writing.htm">Tutorialspoint</a></td></tr>
<tr>
<td>CSS Tricks</td><td>Up to $250 per article</td><td>CSS articles</td><td><a target="_blank" href="https://css-tricks.com/guest-posting/">CSS Tricks</a></td></tr>
<tr>
<td>Digital Ocean</td><td>Up to $400 per article</td><td>Articles about OSS, infrastructure, cloud hosting, Linux, and more. It's not limited to their products</td><td><a target="_blank" href="https://www.digitalocean.com/write-for-donations/">Digital Ocean</a></td></tr>
<tr>
<td>Hasura</td><td>Up to $300 per article</td><td>Articles including Hasura or GraphQL</td><td><a target="_blank" href="https://blog.hasura.io/the-hasura-technical-writer-program/">Hasura</a></td></tr>
<tr>
<td>TestDriven Io</td><td>Up to $500 per article</td><td>Web development tutorials designed to teach critical skills needed to test, launch, scale, and optimize applications</td><td><a target="_blank" href="https://testdriven.io/blog/">TestDriven Io</a></td></tr>
</tbody>
</table>

<p>Be aware; I did not come with this list of publications. I put together (most of) the publications from <a target="_blank" href="https://github.com/malgamves/CommunityWriterPrograms">Paid Community Writer Programs</a>, and <a target="_blank" href="https://whopaystechnicalwriters.com/">Who Pays Technical Writers</a> together. <strong>Also, in the article you can see some of the most popular publications. For a more comprehensive list, with more publications, visit the above links</strong>.</p>
<p>Therefore, I hope it helps you to create an additional income. Also, keep an eye on these two sources in case they add more publications. </p>
<blockquote>
<p>If you enjoyed the article, consider sharing it so more people can benefit from it! Also, feel free to @ me on Twitter with your opinions.</p>
</blockquote>
</div></div></section></div></div>]]>
            </description>
            <link>https://catalins.tech/websites-that-pay-you-to-write-technical-articles</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251140</guid>
            <pubDate>Sun, 23 Aug 2020 11:23:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automate third-party tools without API or writing a single line of code]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24251082">thread link</a>) | @kinderjaje
<br/>
August 23, 2020 | https://community.vanila.io/automatio/general/automate-third-party-tools-without-api-or-writing-a-single-line-of-code~90f13832-1d14-4961-8bd7-a72fa98011de | <a href="https://web.archive.org/web/*/https://community.vanila.io/automatio/general/automate-third-party-tools-without-api-or-writing-a-single-line-of-code~90f13832-1d14-4961-8bd7-a72fa98011de">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Less than 1% of web have API. This means if the website or web app doesn't provide API, you will need to build a bot and automate it. If you are not programmer, it means you will need to hire someone to do it, which takes a lot of time and money. Even if you are a web developer, still it gonna take you days or weeks, depending on complexity. But!</p><h3>Meet Automatio</h3><p>This is how you can automate third-party tools without API or writing a single line of code. In this case, I am automating a website/tool for checking domain authority (DA) of the given URL.</p><p>Automatio will be able to deal with the complex scenario of inputting data (URL) into the input field, then solving Google re-captcha, clicking on the submit button, and then extracting the data we need.</p><p>ü§ñ Built with <a href="https://automatio.co/" target="_blank">Automatio</a> - No Code Web Automation Tool</p><p>üé• Video URL: <a href="https://youtu.be/3KMDeQo8In8" target="_blank" rel="noopener nofollower">https://youtu.be/3KMDeQo8In8</a></p><p><iframe title="iframe-https://www.youtube.com/embed/3KMDeQo8In8" width="100%" height="200" allowfullscreen="" frameborder="0" src="https://www.youtube.com/embed/3KMDeQo8In8"></iframe></p></div></div></div>]]>
            </description>
            <link>https://community.vanila.io/automatio/general/automate-third-party-tools-without-api-or-writing-a-single-line-of-code~90f13832-1d14-4961-8bd7-a72fa98011de</link>
            <guid isPermaLink="false">hacker-news-small-sites-24251082</guid>
            <pubDate>Sun, 23 Aug 2020 11:05:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Runtime for Structured Thought]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24250812">thread link</a>) | @lioeters
<br/>
August 23, 2020 | https://thesephist.com/posts/structured-thought/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/structured-thought/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>When we write thoughts and ideas down with words for future recollection and synthesis, we take the stuff of abstract concepts, and collapse them down into a one-dimensional string of characters. For even the best, most careful writers, I think our ideas lose a lot of fidelity in this dramatic reduction in expressiveness of thoughts and their relationships to each other.</p>
<p>Our thoughts <em>in vivo</em> take on all kinds of shapes, and are connected in a myriad of relationships ‚Äì by analogy, by example, by superset/subset relations, and so on. When we taxidermy them out onto paper or through the keyboard, we‚Äôre forced to flatten these relationships out onto a single dimension, usually nested bulleted links with verbal references  that leap across the page arbitrarily to connect related ideas to each other. Just think of the last time you jot down an idea in your note-taking method of choice ‚Äì how much freedom did the medium afford you? At best, you‚Äôre writing freeform, pen-on-paper, and you draw arrows between related ideas and underline the important parts; typing on a keyboard into a text box is even more restrictive.</p>
<p>The internal structure of individual ideas vary even more greatly. Some thoughts contain lists of things, others are about comparisons between categories of things, and there are probably many more that can‚Äôt be named or enumerated or denoted with just a few lines going across the page between sentences. The state of the art in high-fidelity recording of our thoughts, in my opinion, is still handwriting on paper (or your digital handwriting app of choice). But here, we effectively lose our ability to search through information quickly, when we need it, because unlike bulleted lists, the information we hand-write isn‚Äôt <em>structured</em>.</p>
<p>This yields the question, <strong>how should we store and retrieve ideas in written form, so our workflows better preserve the living structure of thoughts?</strong></p>
<p>
<img src="https://thesephist.com/img/structured-thought.jpg" alt="Structured thought">
</p>
<p>I‚Äôve previously noted <a href="https://linus.coffee/note/abstraction/">the parallelism and contrast between programming and written languages</a>. I think the more precise, multi-dimensional language of computers may be better suited for articulating relationships between our ideas in the written form.</p>
<h2 id="structured-thought">Structured thought</h2>
<p>Why might programming languages be better suited for recording relationships between ideas than the written word?</p>
<p>One reason is that programming languages are purpose-designed for building up living data structures. Programs, in their normal course of life, build up precise lists and trees and other complex structures of values. If there were a programming language as such, whose primitive values were units of thought or ideas instead of integers and strings and arrays, would we be able to record and retrieve our past ideas more effectively? In other words, what if there was some sort of a <a href="https://en.wikipedia.org/wiki/Domain-specific_language">domain-specific language</a> for better note-taking? Can we view the macro-structure of our thoughts as a highly specialized, highly complex data structure that we can encode into programs? Probably not entirely, but for the more analytical ideas, I think it‚Äôs a thought experiment we can entertain using new and interesting tools.</p>
<p>The most promising tool I‚Äôve found exploring this direction is <a href="https://roamresearch.com/">Roam Research</a>. It stores ideas in a fluid, cross-linkable and searchable database of <a href="https://en.wikipedia.org/wiki/Hypertext">hypertext</a>. But Roam is still pretty restricted to nested relationships and bidirectional links between ideas (though I admittedly haven‚Äôt tried it in depth). I think there‚Äôs lots of headroom here in the market for exploring more general data structures for ideas, and for allowing note-takers to create their own structures and layouts.</p>
<h2 id="a-runtime-for-human-abstractions">A runtime for human abstractions</h2>
<p>I think an ideal future extension of this idea isn‚Äôt just a written format that can be queried like Roam or some kind of a programming language, but an omnipresent, ambient <a href="https://en.wikipedia.org/wiki/Runtime_system"><em>runtime</em></a> for our thoughts and ideas ‚Äì one that can interact fluidly with our environment and context, and maybe even preempt our recollections and augment our ability to sift through our ideas from the past and present.</p>
<p>Sci-fi literature has imagined an endless taxonomy of ways for humans to externalize our minds onto offboard computers and networks of mechanical brains, most of which yield the control of our memory storage and recollection to some artificial and autonomous system. But I think there are ways to extend our minds using more primitive tools like better notes, and a more carefully crafted runtime for structured thought. One where we continue to drive interactions with our memory, albeit with more powerful tools in hand to record what we think, and remember them at the right times, when we need them.</p>

        <hr>
        <p>
            If you enjoyed this piece, you might also enjoy
            
            my next post,
            <a href="https://thesephist.com/posts/unbundling-cloud/"><em>Unbundling cloud</em></a>.
            
        </p>
        <p>
            I share new posts like this on my <a href="https://thesephist.com/#newsletter">newsletter.</a>
            If you liked this post, you should consider joining the list.
        </p>
        <p>Have a comment or response? You can <a href="https://thesephist.com/#contact">email me.</a></p>
    </article></div>]]>
            </description>
            <link>https://thesephist.com/posts/structured-thought/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24250812</guid>
            <pubDate>Sun, 23 Aug 2020 09:50:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do you have what it takes to be a startup CTO?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24250340">thread link</a>) | @xueyongg
<br/>
August 23, 2020 | https://blog.phuaxueyong.com/post/2020-08-23-what-does-cto-do/ | <a href="https://web.archive.org/web/*/https://blog.phuaxueyong.com/post/2020-08-23-what-does-cto-do/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p><span><p>The new buzz word in town is the term CTO. As all industries start to embrace technology as part of the core business, the person incharge of this technology will then start to grow in its important. Do you then know what does the role of a CTO entails? Beyond the glamorous term comes with a ton of responsibilities that is paramount for the development of the company across its stages. If you ever inspires to be a CTO yourself someday, this article is for you.</p>
<br>
<blockquote>
<p>You jump off a cliff and you assemble an airplane on the way down. - Reid Hoffman, founder of LinkedIn</p>
</blockquote>

<p>We will be going through these sections:</p>
<br>
<ol>
<li>
<p>What does CTO do across stages of a startup</p>
</li>
<li>
<p>Challenges</p>
</li>
<li>
<p>Key learnings/ opportunities</p>
<ul>
<li>Key habits to get started on</li>
</ul>
</li>
</ol>
<br>
<hr>
<br>
<h2>What does CTO do across stages of a startup</h2>
<br>
<h3>1. Pre-seed stage</h3>

<p>Here you have 0 - 1 developer to basically kick start your entire idea. From git repo initilisation to actually be able to see a UI. Here is where your pre-seed stage will be.</p>
<br>
<ul>
<li>Building the MVP</li>
</ul>

<p>Startup CTOs should be well versed in the tools and technologies available for building MVPs, whether those be web apps, mobile apps, desktop software. They cannot be afraid to get their hands dirty because even if there is a budget to hire a team, the CTO plays backup for any roles that cannot be immediately filled.</p>

<p>You need to create this MVP that can be able to gain real-time user feedback as fast as possible.</p>
<br>
<h3>2. Early startup</h3>

<p>You actually have some intermittent market feedback of a market fit and now you are looking to ramp up your development work. Here, you will look to have 1 - 10 engineers to kick start your development process. I‚Äôve come to believe that different companies sits in this stage for various durations. The size of the engineering team should only appropriately grow in proportion with the performance and traction of the product or service. You do not want to find yourself to be in a situation where you are mass-hiring but each engineers are actually relatively unproductive. You should only ramp up the size of the engineering when you have processes in place to better manage these additional manpower. Truly, many cooks spoil the broth. Listed below are some of the scope of a CTO in the early start phase:</p>
<br>
<ul>
<li>Hiring engineers, IT professionals, and data scientists.</li>
</ul>

<p>Finding and bringing on engineering talent is one of the hardest things for tech startups to do. Hiring for cultural fit at a small startup is challenging. Many developers want to specialize while startups demand generalists.</p>

<p>CTO at a startup has to be good at hiring, onboarding, training, and eventually replacing the company‚Äôs technical staffs. Having a proven hiring process and strong network will help.</p>
<br>
<ul>
<li>Figuring out company-wide security</li>
</ul>

<p>When no security policy was done before, it falls onto the lap of CTOs to own the security component, run audits, document security procedures, and train everyone on the basis of it.</p>

<p>Simple security includes a VPN to protect your servers &amp; database from public access.</p>
<br>
<ul>
<li>Product management</li>
</ul>

<p>While the CTOs primary goal is to make the vision of the non-technical product manager a reality, it also means that they have to manage the flow of work into the engineering team. Often times, CTOs take an active role in laying out the product planning process. It is common for startup CTOs to learn both product and technology. Its challenging but learning new things is the norm at startups.</p>
<br>
<ul>
<li>Clear technical debts<br>
A good startup CTO will recognize when poor architecture is slowing down the team, and will step in to settle these technical debts when needed. Eventually these architecture clean ups may be delegated to senior engineers, but it will be likely to fall onto the CTO once in a while.</li>
</ul>
<br>
<ul>
<li>Bug triage</li>
</ul>

<p>First without a Quality Assurance team, it falls onto the CTO to triage bugs, replicate and document down the behavior of the feature, then distribute these bugs to the team for a fix. Deciding how to debug an issue requires detailed understanding of the implementation.</p>
<br>
<ul>
<li>QA and testing</li>
</ul>

<p>Without a proper initial team of quality assurance engineers, the testing layer falls onto the responsibility of the engineering team, headed by the CTO. Planning out the testing layers requires hands-on, hands dirty experiments.</p>
<p>Attached is an article on how to create your testing layer in your company. Check it out <a ref="nofollow" target="_blank" href="https://www.karllhughes.com/posts/testing-layers">here</a>.</p>
<br>
<ul>
<li>DevOps</li>
</ul>

<p>Your servers are your digital assets, and until a DevOps engineer is hired to manage these assets, it will too fall onto the CTO to manage them during the interim period.</p>
<br>
<h3>3. Growth</h3>

<p>Here the company has been gaining traction and is now looking to grow the team from 10 - 100 engineers. The company‚Äôs product is starting to mature and people are looking to settle into your company as a possible career-long alternative. In here, then you have to focus on ensuring employee retention and a healthy career progression for each of your employees.</p>
<br>
<ul>
<li>Vendor and customer relationship</li>
</ul>

<p>The CTO has to be clear to figure out what is needed to be done to streamline the company‚Äôs technical cost. It could be for the developers processes, or the company‚Äôs process through technology.<br>
This is essential if the product is starting to integrate with other softwares or has its own API. The external technical relationships will be the responsibility of the CTO. This is essential if we have power users whom are integrating with us, requesting for some ‚Äòmust-have‚Äô features.</p>
<br>
<ul>
<li>Team growth management</li>
</ul>

<p>Managing a team of 5 is different from managing a team of 100. Once the company expands and grow, you will start to hire more specialised engineers which isn‚Äôt looking for exciting and challenging tasks. Their focus will just be the traditional benefits, vacation days, and a structured career ladder. The ability to develop the skillset to manage the startup across different life stages will also be the challenge the CTO has to undergo.</p>
<br>
<ul>
<li>Employee retention</li>
</ul>

<p>The early employees whom joined for the challenges may consider other options as the startup phases into a mid-sized startup. As tech workers has plenty of options, its rare to keep one for more than 2, 3 years. The CTO that moves the company across phases has to learn how to retain their employees with strong alignment to the worker‚Äôs personal goals.</p>
<br>
<h3>4. Expansion</h3>

<p>Generally, once you are in the phase of expansion, you have to be laser focused to get your technology vision and mission in your company. This does not imply that your company has to utilize the latest technology all the time. Fundamentally, what is your company‚Äôs vision and problem statement? Focus on that, and ensure that we are using the best technology available out there to achieve this goal.</p>

<p><img src="https://www.dropbox.com/s/q9pg24tufqwzoog/expansion.png?raw=1" alt=""></p>
<br>
<hr>
<br>
<h2>Challenges</h2>

<p>The challenges a CTO face will be endless. Even as a developer, the amount of challenges you face are endless and everyday you have a ton of todos and blockers to clear. More specifically for CTOs, just as I was reading up on the this aspect, the key challenges faced by all CTOs are primarily hiring and alignment with business people.</p>
<br>
<h3>1. Hiring</h3>

<p>Good engineers that can help you to marry business and technology are hard to find. It will be all the more in demand in times when the world is embracing digital transformation. Even investors are willing to put their millions into savings plans through video calls. It is key to hire not just gifted engineers but those whom will also help shape the culture of the business.</p>
<br>
<h3>2. Focusing on customer engagement</h3>

<p>If you want to create a good technology, it is only just as good as whom the technology is created for. You may create the world‚Äôs first robotic arm for minimally invasive surgery but if i‚Äôm only washing dishes, why would that be of value to me? You have to benchmark the quality of your product to the utility of your target audience. They have the valuable feedback. In a world where there is a imperfect information, one can only move in the most informed decision; but always with a certain level of uncertainty and risk. Continuously engage with your ‚Äòcustomers‚Äô and find out what will empower them and set them up to do more with less using your product.</p>
<br>
<hr>
<br>
<h2>5 Key learning opportunities</h2>

<p>Not everyone is born ready for such a big role. It will stretch you, ‚Äòforces‚Äô you to rise up to the occasion and you may even be surprised by what you are able to achieve when you‚Äôre placed under the pressurized cooker of your business demands. Generally, CTO is a leadership role. As glamorous as it may sound, it is still in essence just a role. What is most important is the being that is placed in that role. Are you developing yourself to face the bigger problems that are before you?</p>
<br>
<ol>
<li>
<p>Technical knowledge</p>
</li>
<li>
<p>Technical leadership and strategy planning</p>
</li>
<li>
<p>Communication and Mentoring</p>
</li>
<li>
<p>Project management and Operational excellence</p>
</li>
<li>
<p>Sense of entrepreneurship and anticipation of the future</p>
</li>
</ol>

<p>What better way to find out your key areas of learning opportunities than to hear from founders themselves. Here‚Äôs a video that To sum this part up</p>

<p>
<iframe src="https://www.youtube.com/embed/tSW-GePDwn4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<br>
<hr>
<br>
<h2>TLDR;</h2>

<p>The end goal, the article gives a in-depth glimpse into the scope of a CTO‚Äôs day to day. How then can one possibly keep up with this pace of work? Only if you have a clear vision of the possible future. Technology is no longer just a tool for your Business-as-usual. It could possibly shape your future and redesign how life could be, should be, and will be.</p>

<p>From here on, I wish to share with you all a really cool podcast called <a ref="nofollow" target="_blank" href="https://moderncto.io/">Modern CTO</a>. It is a podcast whom CTOs of all different companies will share some of their thoughts, journey, and learnings as CTOs. One thing is common: their level of curiosity for the world around them. Whatever role you are to play, stay curious and be a future explorer!</p>
<br>
<hr>
<br>
<h2>JDs and scope of CTOs across all stages of startup</h2>

<p>Vision &amp; Strategy</p>
<ul>
<li>Setting a vision for how technology will be used in the company.</li>
</ul>

<p>R&amp;D</p>
<ul>
<li>Outline the goals for research and development.</li>
<li>Research any new technologies that may potentially increase our company‚Äôs ‚Ä¶</li></ul></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.phuaxueyong.com/post/2020-08-23-what-does-cto-do/">https://blog.phuaxueyong.com/post/2020-08-23-what-does-cto-do/</a></em></p>]]>
            </description>
            <link>https://blog.phuaxueyong.com/post/2020-08-23-what-does-cto-do/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24250340</guid>
            <pubDate>Sun, 23 Aug 2020 07:52:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Clean Start for the Web]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24250252">thread link</a>) | @scraplab
<br/>
August 23, 2020 | https://macwright.com/2020/08/22/clean-starts-for-the-web.html | <a href="https://web.archive.org/web/*/https://macwright.com/2020/08/22/clean-starts-for-the-web.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The web is in need of some reinvention right now.</p><p>The web‚Äôs evolution over the last decade has mirrored the American economy. All of the essential indicators are going ‚Äúup and to the right,‚Äù a steady stream of fundamental advances reassure use that there ‚Äúis progress,‚Äù but the actual experience and effects for individuals stagnates or regresses.</p><p>The crisis affects platforms, creators, and consumers alike.</p><p><em>I‚Äôm going to try and dissect and diagnose this situation, a bit. You can skip forward if you just want to read my casual, unprofessional pitch for a reboot of the web. The idea is that we could choose a new lightweight markdown format to replace HTML &amp; CSS, split the web into documents and applications, and find performance, accessibility, and fun again.</em></p><details><summary>This post uses the pedantic definition of "the web"</summary>I've discussed attempts to reinvent the "Internet" a few times. Things like dat, IPFS, and arweave are all projects to reinvent an Internet, or a transport and data-sharing layer. The web is what lies on top of that, the HTML, CSS, URLs, JavaScript, browsing experience.</details><h3 id="the-platform-collapse">The platform collapse</h3><p>The platform side is what changed last week, when <a href="https://arstechnica.com/information-technology/2020/08/firefox-maker-mozilla-lays-off-250-workers-says-covid-19-lowered-revenue/">Mozilla laid off 250 employees</a> and indicated that it would affect Firefox development. Firefox wasn‚Äôt the #2 browser - that‚Äôs Safari, mainly because of the captive audience of iPhone and iPad users. But it was the most popular browser that people <em>chose</em> to use.</p><p><img alt="Chart of browser market share, with Chrome becoming the monopoly" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-chart-of-browser-market-share-with-chrome-becoming-the-monopoly.png"></p><p><em>Chart from <a href="https://gs.statcounter.com/browser-market-share#monthly-200901-202007">statcounter</a></em></p><p>The real winner is not just Chrome, but Chrome‚Äôs engine. One codebase, <a href="https://en.wikipedia.org/wiki/KHTML">KHTML</a>, split into <a href="https://en.wikipedia.org/wiki/WebKit">WebKit</a> (Safari), and <a href="https://en.wikipedia.org/wiki/Blink_(browser_engine)">Blink</a> (Chrome, Microsoft Edge, Opera, etc.)</p><p>This a textbook monoculture. In one sense, it‚Äôs a victory for collaboration because nobody‚Äôs ‚Äòwasting time‚Äô on competing implementations and web developers can expect the same features and bugs across different browsers. But in a deeper way, it threatens one of the basic principles of how the web has evolved.</p><h3 id="specs--implementations">Specs &amp; implementations</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.webp" type="image/webp"><img alt="Decline" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.jpg"></picture></p><p>The web has evolved through a combination of <em>specifications</em> and <em>implementations</em>. Organizations like the <a href="https://whatwg.org/">WHATWG</a>, <a href="https://www.w3.org/">W3C</a>, and <a href="https://www.ietf.org/">IETF</a> have been collaboration spaces for independent developers, corporations, and academics to discuss potential new features of the web. Then, browsers would test those ideas out in a variety of implementations.</p><p>This was an interesting structural piece: it reassured us all that it was <em>possible</em> to follow along, and that a multi-participant web was one of our goals. It was frustrating to pull up <a href="https://caniuse.com/">caniuse</a> and see blank spots, but the idea was that different browsers may take the lead in some areas, but everyone catches up eventually. Chrome was not always the first to jump on features, or the first to optimize.</p><p>It‚Äôs slower to collaborate than to work alone, but it was beneficial in some ways that we‚Äôve lost now. Chrome has been moving extremely fast, adding new specifications and ideas at a startling rate, and it‚Äôs becoming one of the hardest pieces of software to replicate.</p><p>Mike Healy I think <a href="https://twitter.com/mike_hasarms/status/1296575224599556097">said it best</a>:</p><blockquote><p>Do you think the web has almost ‚Äòpriced itself out of the market‚Äô in terms of complexity if only 1-2 organisations are capable of building rendering engines for it?</p></blockquote><p>Not only is it nearly impossible to build a new browser from scratch, once you have one the ongoing cost of keeping up with standards requires a full team of experts. Read Drew DeVault‚Äôs <a href="https://drewdevault.com/2020/08/13/Web-browsers-need-to-stop.html">Web browsers need to stop</a> for that point, and keep reading all of Drew‚Äôs stuff.</p><details><summary>What about Flow?</summary>Yep, there‚Äôs a <a href="https://www.ekioh.com/flow-browser/">browser called Flow</a>, which may exist and may support a full range of web standards. If it does exist, I‚Äôll be very excited about it, but it has been teased for almost a year now without any concrete evidence, so it could equally be vaporware.</details><h3 id="the-problem-for-creators">The problem for creators</h3><p>The web has gotten much harder to develop for.</p><p>The web has had about 25 years to grow, few opportunities to shrink, and is now surrounded by an extremely short-sighted culture that is an outgrowth of economic and career short-termism. There are lots of <a href="https://frankchimero.com/blog/2018/everything-easy/">ways to do anything</a>, and some of the most popular ways of building applications on the web are - in my opinion - <a href="https://macwright.com/2020/05/10/spa-fatigue.html">usually ghoulish overkill</a>.</p><p>The best way for folks to enter <em>web development</em> in 2020 is to choose a niche, like <a href="https://vuejs.org/">Vue.js</a> or <a href="https://reactjs.org/">React</a>, and hope that there‚Äôs a CSS and accessibility expert on their team.</p><p>For folks who just want to create a web page, who don‚Äôt want to enter an industry, there‚Äôs a baffling array of techniques, but all the simplest, probably-best ones are stigmatized. It‚Äôs easier to stumble into building your resume in React with GraphQL than it is to type some HTML in Notepad.</p><h3 id="the-problem-for-consumers">The problem for consumers</h3><p>We hope that all this innovation is <em>for the user</em>, but often it isn‚Äôt. Modern websites seem to be as large, slow, and buggy as they‚Äôve ever been. Our computers are <a href="https://macwright.com/2019/11/15/something-is-wrong-with-computers.html">barely getting faster</a> and our internet connection speeds are stagnating (don‚Äôt even <em>try</em> to mention 5G). Webpage <a href="https://www.pingdom.com/blog/webpages-are-getting-larger-every-year-and-heres-why-it-matters/">size growth</a> is outpacing it all.</p><p>The end result is that I no longer expect pages to be fast, even with <a href="https://github.com/gorhill/uBlock">uBlock</a> installed in Firefox and a good local <a href="https://sonic.net/">fiber internet provider</a>.</p><p>I don‚Äôt want to lay all of the blame at <em>those web developers</em>, though. Here‚Äôs a story from an old job that I find kind of funny. We were collecting some data from user interactions to answer simple questions like ‚Äúdo people click to upload or do they drag &amp; drop?‚Äù So we enabled <a href="https://segment.com/">Segment</a>, a tool that lets you add data-collection pipelines by including a single script. The problem, though, is that Segment offered a big page of on/off switches with hundreds of data providers &amp; ad-tech companies on it. And, sure, enough, some folks closer to the business side started <em>clicking all those buttons</em>.</p><p>See, the problem with ads and data tracking is that <em>you can</em>, and who is going to say no? (In that instance, I said no, and added a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP</a> that would block new advertiser access at the page level.)</p><h2 id="recreating-simplicity">Recreating simplicity</h2><blockquote><p>You cannot get a simple system by adding simplicity to a complex system. - <a href="http://erlang.org/pipermail/erlang-questions/2012-March/065087.html">Richard O‚ÄôKeefe</a></p></blockquote><p>Where do we go from here? Some of the smartest folks out there have been <a href="https://twitter.com/_developit/status/1296628134406692865">advocating for a major version revision</a> of the web.</p><p><em>I am in no way qualified to speculate on a whole new web from scratch, but the <a href="https://www.nytimes.com/2020/08/21/us/california-wildfires.html">air quality</a> is scary so I‚Äôm skipping my run and it‚Äôs Saturday morning so here we are.</em></p><p>How do we make the web fun, participatory, and good?</p><p>My first thought is that there are two webs:</p><h3 id="the-document-web">The document web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.webp" type="image/webp"><img alt="Illustration of web pages" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.jpg"></picture></p><p>There is the ‚Äúdocument web‚Äù, like blogs, news, Wikipedia, Twitter, Facebook. This is basically the original vision of the web, as far as I can understand it (I was 2). Basically CSS, which we now think of as a way for designers to add brand identity and tweak pixel-perfect details, was instead mostly a way of making plain documents readable and letting the <em>readers</em> of those documents customize how they looked. This attribute actually <a href="https://twitter.com/autiomaa/status/1296755641164468224">survived for a while in Chrome, in the form of user stylesheets</a>, and <a href="https://davidwalsh.name/firefox-user-stylesheet">still works in Firefox</a>. Though it‚Äôs going to be a rough ride in the current web which has basically thrown away <a href="https://en.wikipedia.org/wiki/Semantic_HTML">semantic HTML</a> as an idea.</p><h3 id="the-application-web">The ‚Äúapplication‚Äù web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.webp" type="image/webp"><img alt="Illustration of machines" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.jpg"></picture></p><p>Then there‚Äôs the ‚Äúapplication web‚Äù. This started as <em>server</em> applications, built with things like <a href="https://www.djangoproject.com/">Django</a> and <a href="https://rubyonrails.org/">Ruby on Rails</a> and before them a variety of technologies that will live forever in corporations, like <a href="https://en.wikipedia.org/wiki/Jakarta_Servlet">Java Servlets</a>.</p><p><a href="https://backbonejs.org/">Backbone.js</a> demonstrated that a lot of these applications could be moved into the browser, and then <a href="https://reactjs.org/">React</a> and its many SPA-style competitors established a new order for the web ‚Äì highly-interactive, quite complex, client-side applications.</p><h3 id="the-war-between-the-parts-of-the-web">The war between the parts of the web</h3><p>I posit that this dual-nature is part of what gives the web its magic. But it‚Äôs also a destructive force.</p><p>The magic is that a simple blog can be creative expression, can be beautifully interactive. This one isn‚Äôt, but I‚Äôm just saying - <a href="https://www.typewolf.com/site-of-the-day">it‚Äôs possible</a>.</p><p>The problem is that the ‚Äúdocument web‚Äù is often plagued by application characteristics - it‚Äôs the JavaScript and animations and complexity that makes your average newspaper website an unmitigated disaster. Where document websites adopt application patterns they often accidentally sacrifice <a href="https://www.a11yproject.com/">accessibility</a>, performance, and <a href="https://en.wikipedia.org/wiki/Web_scraping">machine readability</a>.</p><p>And the ‚Äúapplication web‚Äù is plagued by the document characteristics - interactive applications are going to great lengths to avoid most of the essential characteristics of HTML &amp; CSS and just use them as raw materials - avoiding writing any HTML directly at all, avoiding <a href="https://mxstbr.com/thoughts/css-in-js">writing any CSS directly at all</a>, avoiding <a href="https://www.react-spring.io/">default animation features</a>, replacing <a href="https://reactrouter.com/">page-based navigation with something that looks like it but works completely differently</a>. The application web uses <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>, not HTML, and would like that in the browser itself, or <a href="https://svelte.dev/">Svelte</a>, instead of JavaScript, and would like that too.</p><p>When I read blog posts from ‚Äòtraditional web developers‚Äô who are mad that HTML &amp; CSS aren‚Äôt enough anymore and that everything is complicated ‚Äì&nbsp;I think this is largely that the application stack for building websites has replaced the document stack in a lot of places. Where we would use Jekyll or server-side rendering, we now use React or Vue.js. There are advantages to that, but for a lot of minimally-interactive websites, it‚Äôs throwing away decades worth of knowledge in exchange for certain performance perks that might not even matter.</p><p>The appeal of social networks is partly because they let us create <em>documents</em> without thinking about web technology, and they provide guarantees around performance, accessibility, and polish that otherwise would take up our time. You don‚Äôt have to think about whether your last Facebook post will load quickly on your friend‚Äôs phone or whether your Instagram post will be correctly cropped and resized in the timeline - those things are taken care of.</p><p>To some extent, this doesn‚Äôt <em>need</em> to be something that only social networks provide, though: standards like <a href="https://en.wikipedia.org/wiki/RSS">RSS</a> and services like <a href="https://www.instapaper.com/">Instapaper</a> show that pleasing formatting and distribution can be done at the <em>platform level</em> and be provided on top of existing vanilla websites.</p><details><summary>These are not absolutes.</summary>Yeah, I can hear it now: but these categories are not ‚Ä¶</details></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2020/08/22/clean-starts-for-the-web.html">https://macwright.com/2020/08/22/clean-starts-for-the-web.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2020/08/22/clean-starts-for-the-web.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24250252</guid>
            <pubDate>Sun, 23 Aug 2020 07:29:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cooperative Capital ‚Äì ISA for starting up]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24250211">thread link</a>) | @theanirudh
<br/>
August 23, 2020 | https://www.cooperative-capital.com/fellowship | <a href="https://web.archive.org/web/*/https://www.cooperative-capital.com/fellowship">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page" role="main">
        
          <article data-page-sections="5f25c0fe05247268ef2ecdcf" id="sections">
  
    <section data-section-id="5f25c4f743d30f1d3aa8f517" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
  &quot;imageOverlayOpacity&quot; : 0.15,
  &quot;video&quot; : {
    &quot;playbackSpeed&quot; : 0.5,
    &quot;filter&quot; : 1,
    &quot;filterStrength&quot; : 0,
    &quot;zoom&quot; : 0
  },
  &quot;backgroundWidth&quot; : &quot;background-width--full-bleed&quot;,
  &quot;sectionHeight&quot; : &quot;section-height--small&quot;,
  &quot;horizontalAlignment&quot; : &quot;horizontal-alignment--center&quot;,
  &quot;verticalAlignment&quot; : &quot;vertical-alignment--middle&quot;,
  &quot;contentWidth&quot; : &quot;content-width--narrow&quot;,
  &quot;sectionTheme&quot; : &quot;light-bold&quot;,
  &quot;sectionAnimation&quot; : &quot;none&quot;,
  &quot;backgroundMode&quot; : &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      <div data-type="page-section" id="page-section-5f25c4f743d30f1d3aa8f517"><div><div><div data-block-type="2" id="block-a615fc477cadcb172f72"><div><h3>Creator Fellowship</h3><p>It might be time to quit your day-job. Maybe you have a creative project to share with the world. Maybe you want to launch a business. Maybe you want to turn your writing into something more. Maybe you‚Äôre not quite sure yet. Whatever it is, the Creator Fellowship is a pretty simple way to take the leap:</p><ol data-rte-list="default"><li><p>We invest $20,000 in you</p></li><li><p>You quit your job &amp; create full-time</p></li><li><p>We help you build your personal monopoly</p></li><li><p>We share the upside as you grow</p></li><li><p>We invest in your future businesses</p></li></ol></div></div></div></div></div>
    </div>
  </div>
</section>

  
    <section data-section-id="5f25cae5ea3e2c6932de6e52" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
  &quot;imageOverlayOpacity&quot; : 0.15,
  &quot;video&quot; : {
    &quot;playbackSpeed&quot; : 0.5,
    &quot;filter&quot; : 1,
    &quot;filterStrength&quot; : 0,
    &quot;zoom&quot; : 0
  },
  &quot;backgroundWidth&quot; : &quot;background-width--full-bleed&quot;,
  &quot;sectionHeight&quot; : &quot;section-height--medium&quot;,
  &quot;horizontalAlignment&quot; : &quot;horizontal-alignment--center&quot;,
  &quot;verticalAlignment&quot; : &quot;vertical-alignment--middle&quot;,
  &quot;contentWidth&quot; : &quot;content-width--wide&quot;,
  &quot;sectionTheme&quot; : &quot;bright&quot;,
  &quot;sectionAnimation&quot; : &quot;none&quot;,
  &quot;backgroundMode&quot; : &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      <div data-type="page-section" id="page-section-5f25cae5ea3e2c6932de6e52"><div><div><div><div><div data-block-type="2" id="block-20d5c017f12891263534"><div><h3>$20k to take the leap</h3><p>We know it‚Äôs hard to take the leap into your future online life. You have bills to pay and it‚Äôs daunting to head out on your own. We make it an easier decision by providing you the safety net to dive in and start creating full-time.</p></div></div></div><div><div data-block-type="2" id="block-b6eb91a7257f8fc03466"><div><h3>Support to get started </h3><p>Putting yourself out there on the internet is intimidating. Luckily, there‚Äôs an online course and community designed to help you do it authentically. In addition to the cash, we‚Äôll hook you up with access to <a href="https://www.perell.com/write-of-passage">Write of Passage</a> to help you build your voice, content, and community online.</p></div></div></div><div><div data-block-type="2" id="block-680c475539669160bf19"><div><h3>Mentorship to grow</h3><p>Once you‚Äôre in the Creator Fellowship community, you have access to Cooperative Capital‚Äôs resources, coaching, mentors, and more. Whether you need help with content, digital marketing, growth, product development, or monetization, we can help you make it happen. </p></div></div></div></div></div></div></div>
    </div>
  </div>
</section>

  
    <section data-section-id="5f25cd27eb02ec7342f730a6" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
  &quot;imageOverlayOpacity&quot; : 0.15,
  &quot;video&quot; : {
    &quot;playbackSpeed&quot; : 0.5,
    &quot;filter&quot; : 1,
    &quot;filterStrength&quot; : 0,
    &quot;zoom&quot; : 0
  },
  &quot;backgroundWidth&quot; : &quot;background-width--full-bleed&quot;,
  &quot;sectionHeight&quot; : &quot;section-height--small&quot;,
  &quot;horizontalAlignment&quot; : &quot;horizontal-alignment--center&quot;,
  &quot;verticalAlignment&quot; : &quot;vertical-alignment--middle&quot;,
  &quot;contentWidth&quot; : &quot;content-width--wide&quot;,
  &quot;sectionTheme&quot; : &quot;light-bold&quot;,
  &quot;sectionAnimation&quot; : &quot;none&quot;,
  &quot;backgroundMode&quot; : &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      <div data-type="page-section" id="page-section-5f25cd27eb02ec7342f730a6"><div><div><div data-block-type="2" id="block-cee73696c4d81a8cbec4"><div><h3>Sharing the upside </h3><p>The Fellowship program is an investment in you. We share in the upside in two ways: an income sharing agreement &amp; equity conversion rights. </p><p><strong>We win when you win.</strong> Our incentives are aligned with yours: we want to do everything we can to help you build a sustainable, independent career.</p><p><strong>We eat the downside risk.</strong> If for any reason you don‚Äôt reach your goals, we stay in touch, cheer you on in your future endeavors, and you go on your way completely debt-free. </p><p><strong>We build a long-term relationship. </strong>Life is a multi-player iterated game, and we want to invest not only in the you of today, but the future you as well. </p></div></div></div><div><div><div><div data-block-type="2" id="block-917bce581114b4de32e5"><div><h4>Income Sharing Agreement</h4><p>In exchange for our investment, you share 20% of your net earnings above $20,000 for 5 years, capped at 3x the initial investment. In other words:</p><ul data-rte-list="default"><li><p>The first $20,000 per year is all yours</p></li><li><p>Then you share 20% of your income</p></li><li><p>After 5 years or a 3x return on the initial investment, you‚Äôre off the hook ‚Äî even if you haven‚Äôt paid back a penny</p></li></ul></div></div></div><div><div data-block-type="2" id="block-1549da5143b4d3b109a5"><div><h4>Equity Conversion</h4><p>We reserve the right to invest in your future businesses. </p><p>If you start a company during the five year period (which we will help you do if you want to!), we have the option to invest at a $1M capped valuation.</p></div></div></div></div></div></div></div>
    </div>
  </div>
</section>

  
    <section data-section-id="5f25d7c74ccb2332c332aa76" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
  &quot;imageOverlayOpacity&quot; : 0.15,
  &quot;video&quot; : {
    &quot;playbackSpeed&quot; : 0.5,
    &quot;filter&quot; : 1,
    &quot;filterStrength&quot; : 0,
    &quot;zoom&quot; : 0
  },
  &quot;backgroundWidth&quot; : &quot;background-width--full-bleed&quot;,
  &quot;sectionHeight&quot; : &quot;section-height--medium&quot;,
  &quot;horizontalAlignment&quot; : &quot;horizontal-alignment--center&quot;,
  &quot;verticalAlignment&quot; : &quot;vertical-alignment--middle&quot;,
  &quot;contentWidth&quot; : &quot;content-width--narrow&quot;,
  &quot;customContentWidth&quot; : 40,
  &quot;sectionTheme&quot; : &quot;bright&quot;,
  &quot;sectionAnimation&quot; : &quot;none&quot;,
  &quot;backgroundMode&quot; : &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      <div data-type="page-section" id="page-section-5f25d7c74ccb2332c332aa76"><div><div><div data-block-type="2" id="block-a213afa322c038e04ea4"><div><h3>Apply now</h3><p>The application is short and our responses are quick. Please do not exceed the word count limits. </p></div></div></div></div></div>
    </div>
  </div>
</section>

  
</article>

          
          
          
        
      </div></div>]]>
            </description>
            <link>https://www.cooperative-capital.com/fellowship</link>
            <guid isPermaLink="false">hacker-news-small-sites-24250211</guid>
            <pubDate>Sun, 23 Aug 2020 07:16:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[2020: An Isolation Odyssey]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24250068">thread link</a>) | @unhammer
<br/>
August 22, 2020 | http://lydiacambron.com/index.php/project/2020-an-isolation-odyssey/ | <a href="https://web.archive.org/web/*/http://lydiacambron.com/index.php/project/2020-an-isolation-odyssey/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>2020: an isolation odyssey</em> is a reenactment of the iconic finale of <em>2001: A Space Odyssey</em> (Stanley Kubrick, 1968). Restaged in the context of home quarantine, the journey through time adapts to the mundane dramas of self-isolation‚Äìpoking fun at the navel-gazing saga of life alone and indoors.</p>

<p>This project began in late March and was completed in late May, spanning the height of the pandemic in New York City. Staged in a one bedroom Brooklyn apartment, <em>2020</em> presents an obvious similarity to the domestic setting of <em>2001</em>. The stacked videos and synced movements also reveal parallels in emotion. The narrowness of daily life in a single space, transitioning from confusion to acceptance, a distorted sense of time, and ‚Äòreturning‚Äô after a transformational event‚Äìall experiences analogous to quarantine. </p>

<p>The adapted version delineates the passing of time through wardrobe rather than age, identifying each phase of the character‚Äôs journey with a product of self care or PPE. Tools of private entertainment or self betterment are also used as props, questioning our confidence in products and productivity as anchors during times of uncertainty. Multitasking while #wfh, conjuring guilt or longing with unused exercise equipment, your entire being reduced to a measure of time‚Äìthese scenes all illustrate the absurd comedy of trying to maintain control during this unprecedented and unpredictable time.<br>
</p></div></div>]]>
            </description>
            <link>http://lydiacambron.com/index.php/project/2020-an-isolation-odyssey/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24250068</guid>
            <pubDate>Sun, 23 Aug 2020 06:37:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaling Postgres for time series data using partitioning, Django and Architect]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24249459">thread link</a>) | @xialingxiao
<br/>
August 22, 2020 | https://www.notion.so/portcast/Scaling-Postgres-for-time-series-data-using-table-partitioning-Django-and-Architect-aa75330e2f744507b4fb9c468f313137 | <a href="https://web.archive.org/web/*/https://www.notion.so/portcast/Scaling-Postgres-for-time-series-data-using-table-partitioning-Django-and-Architect-aa75330e2f744507b4fb9c468f313137">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/portcast/Scaling-Postgres-for-time-series-data-using-table-partitioning-Django-and-Architect-aa75330e2f744507b4fb9c468f313137</link>
            <guid isPermaLink="false">hacker-news-small-sites-24249459</guid>
            <pubDate>Sun, 23 Aug 2020 04:12:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Problem-Solving Techniques That Work for All Types of Challenges (2017)]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24249449">thread link</a>) | @wyclif
<br/>
August 22, 2020 | https://www.spencergreenberg.com/2017/06/1514/ | <a href="https://web.archive.org/web/*/https://www.spencergreenberg.com/2017/06/1514/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>A lot of people don‚Äôt realize that there are general purpose problem solving techniques that cut across domains. They can help you deal with thorny challenges in work, your personal life, startups, or even if you‚Äôre trying to prove a new theorem in math.</p>



<p>Below are the 26 general purpose problem solving techniques that I like best, along with a one-word name I picked for each, and hypothetical examples to illustrate what sort of strategy I‚Äôm referring to.</p>



<p>Consider opening up this list whenever you‚Äôre stuck solving a challenging problem. It‚Äôs likely that one or more of these techniques can help!</p>



<h4>General Purpose Techniques for Solving Challenging Problems of All Kinds</h4>



<p>1. <strong>Clarifying</strong> ‚Äì try to define the problem you are facing as precisely as you can, maybe by writing down a detailed description of exactly what the problem is and what constraints exist for a solution, or by describing it in detail to another person, which may lead to you realizing the problem is not quite what you had thought, or that it has a more obvious solution than you thought.</p>



<p>Life Example: <em>‚ÄúI thought that I needed to find a new job, but when I thought really carefully about what I don‚Äôt like about my current job, I realized that I could likely fix those things by talking to my boss or even, potentially, just by thinking about them differently.‚Äù</em></p>



<p>Startup Example: <em>‚Äúwe thought we had a problem with users not wanting to sign up for the product, but when we carefully investigated what the problem really was, we discovered it was actually more of a problem of users wanting the product but then growing frustrated because of bad interface design.‚Äù</em></p>



<p>2. <strong>Subdividing</strong> ‚Äì break the problem down into smaller problems in such a way that if you solve each of the small problems, you will have solved the entire problem.</p>



<p>Startup Example:<em> ‚ÄúMy goal is to get company Z to become a partner with my company, and that seems hard, so let me break that goal into the steps of (a) listing the ways that company Z would benefit from becoming a partner with us, (b) finding an employee at company Z who would be responsive to hearing about these benefits, and (c) tracking down someone who can introduce me to that employee.‚Äù</em></p>



<p>Math Example:<em> ‚ÄúI want to prove that a certain property applies to all functions of a specific type, so I start by (a) showing that every function of that type can be written as a sum of a more specific type of function, then I show that (b) the property applies to each function of the more specific type, and finally I show that (c) if the property applies to each function in a set of functions then it applies to arbitrary sums of those functions as well.‚Äù</em></p>



<p>3. <strong>Simplifying </strong>‚Äì think of the simplest variation of the problem that you expect you can solve that shares important features in common with your problem, and see if solving this simpler problem gives you ideas for how to solve the more difficult version.</p>



<p>Startup Example: <em>‚ÄúI don‚Äôt know how to hire a CTO, but I do know how to hire a software engineer because I‚Äôve done it many times, and good CTOs will often themselves be good software engineers, so how can I tweak my software engineer hiring to make it appropriate for hiring a CTO?‚Äù</em></p>



<p>Math Example: <em>‚ÄúI don‚Äôt know how to calculate this integral as it is, but if I remove one of the free parameters, I actually do know how to calculate it, and maybe doing that calculation will give me insight into the solution of the more complex integral.‚Äù</em></p>



<p>4. <strong>Crowd-sourcing</strong> ‚Äì use suggestions from multiple people to gain insight into how to solve the problem, for instance by posting on Facebook or Twitter requesting people‚Äôs help, or by posting to a Q&amp;A site like Quora, or by sending emails to 10 people you know explaining the problem and requesting assistance.</p>



<p>Business Example: <em>‚ÄúDo you have experience outsourcing manufacturing to China? If so, I‚Äôd appreciate hearing your thoughts about how to approach choosing a vendor.‚Äù</em></p>



<p>Health Example: <em>‚ÄúI have trouble getting myself to stick to doing exercise daily. If you also used to have trouble getting yourself to exercise but don‚Äôt anymore, I‚Äôd love to know what worked to make it easier for you.‚Äù</em></p>



<p>5. <strong>Splintering</strong> ‚Äì if the problem you are trying to solve has special cases that a solution to the general problem would also apply to, consider just one or two of these special cases as examples and solve the problem just for those cases first. Then see if a solution to one of those special cases helps you solve the problem in general.</p>



<p>Startup Example: <em>‚ÄúI want to figure out how to improve employee retention in general, let me examine how I could have improved retention in the case of the last three people that quit.‚Äù</em></p>



<p>Startup Example: <em>‚ÄúI want to figure out how to convince a large number of people to become customers, let me first figure out how to convince just Bill and John to become customers since they seem like the sort of customer I want to attract, and see what general lessons I learn from doing that.‚Äù</em></p>



<p>6. <strong>Reading</strong> ‚Äì read the books or textbooks that seems most related to the topic, and see whether they provide a solution to the problem, or teach you enough related information that you can now solve it yourself. </p>



<p>Economics Example: <em>‚ÄúEconomists probably have already figured out reasonable ways to estimate demand elasticity, let‚Äôs see what an econometrics textbook says rather than trying to invent a technique from scratch.‚Äù</em></p>



<p>Mental Health Example: <em>‚ÄúI‚Äôve been feeling depressed for a long time, maybe I should read some well-liked books about depression, such as ‚ÄòFeeling Good.'‚Äù</em></p>



<p>7. <strong>Searching </strong>‚Äì think of a similar problem that you think practitioners, bloggers or academics might have already solved and search online (e.g., via google, Q&amp;A sites, or google scholar academic paper search) to see if anyone has done a write-up about how they solved it.</p>



<p>Advertising Example: <em>‚ÄúI‚Äôm having trouble figuring out the right advertising keywords to bid on for my specific product, I bet someone has a blog post describing how to approach choosing keywords for other related products.‚Äù</em></p>



<p>Machine Learning Example:<em> ‚ÄúI can‚Äôt get this neural network to train properly in my specific case, I wonder if someone has written a tutorial about how to apply neural networks to related problems.‚Äù</em></p>



<p>8. <strong>Unconstraining</strong> ‚Äì list all the constraints of the problem, then temporarily ignore one or more of the constraints that make the problem especially hard, and try to solve it without those constraints. If you can, then see if you can modify that unconstrained solution until it becomes a solution for the fully constrained problem.</p>



<p>Startup Example: <em>‚ÄúI need to hire someone who can do work at the intersection of machine learning and cryptography, let me drop the constraint of having cryptography experience and recruit machine learning people, then pick from among them a person that seems both generally capable and well positioned to learn the necessary cryptography.‚Äù</em></p>



<p>Computer Science Example: <em>‚ÄúI need to implement a certain algorithm, and it needs to be efficient, but that seems very difficult, so let me first figure out how to implement an inefficient version of the algorithm (i.e., drop the efficiency constraint), then at the end I will try to figure out how to optimize that algorithm for efficiency.‚Äù</em></p>



<p>9. <strong>Distracting</strong> ‚Äì fill your mind with everything you know about the problem, including facts, constraints, challenges, considerations, etc. and then stop thinking about the problem, and go and do a relaxing activity that requires little focus, such as walking, swimming, cooking, napping or taking a bath to see if new ideas or potential solutions pop into your mind unexpectedly as your subconscious continues to work on the problem without your attention.</p>



<p>Example: <em>‚ÄúFor three days, I‚Äôve been trying to solve this problem at work, but the solution only came to me when I was strolling in the woods and not even thinking about it.‚Äù</em></p>



<p>Example from mathematician Henri Poincar√©: <em>‚ÄúThe incidents of the travel made me forget my mathematical work. Having reached Coutances, we entered an omnibus to go someplace or other. At the moment when I put my foot on the step, the idea came to me, without anything in my former thoughts seeming to have paved the way for it, that the transformations I had used to define the Fuchsian functions were identical with those of non-Euclidean geometry.‚Äù</em></p>



<p>10. <strong>Reexamining</strong> ‚Äì write down all the assumptions you‚Äôve been making about the problem or about what a solution should look like (yes ‚Äì make an actual list). Then start challenging them one by one to see if they are actually needed or whether some may be unnecessary or mistaken.</p>



<p>Psychology Example: <em>‚ÄúWe were assuming in our lab experiments that when people get angry they have some underlying reason behind it, but there may be some anger that is better modeled as a chemical fluctuation that is only loosely related to what happens in the lab, such as when people are quick to anger because they are hungry.‚Äù</em></p>



<p>Math Example: <em>‚ÄúI need to construct a function that has this strange property, and so far I‚Äôve assumed that the function must be smooth, but if it doesn‚Äôt actually need to be then perhaps I can construct just such a function out of simple linear pieces that are glued together.‚Äù</em></p>



<p>11.<strong> Reframing</strong> ‚Äì try to see the problem differently. For instance, by flipping the default, analyzing the inverse of the problem instead, thinking about how you would achieve the opposite of what you want, or shifting to an opposing perspective.</p>



<p>Startup Example: <em>‚ÄúIf we were building this company over again completely from scratch, what would we do differently in the design of our product, and can we pivot the product in that direction right now?‚Äù</em></p>



<p>Life Example: <em>‚ÄúShould move to New York to take a job that pays $20,000 more per year? Well, if I already lived in New York, the decision to stay there rather than taking a $20,000 pay cut to move here would be an easy one. ‚Ä¶</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spencergreenberg.com/2017/06/1514/">https://www.spencergreenberg.com/2017/06/1514/</a></em></p>]]>
            </description>
            <link>https://www.spencergreenberg.com/2017/06/1514/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24249449</guid>
            <pubDate>Sun, 23 Aug 2020 04:10:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Graph Representation Learning Book]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248977">thread link</a>) | @Anon84
<br/>
August 22, 2020 | https://www.cs.mcgill.ca/~wlh/grl_book/ | <a href="https://web.archive.org/web/*/https://www.cs.mcgill.ca/~wlh/grl_book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>

<p>
The field of graph representation learning has grown at an incredible (and sometimes unwieldy) pace over the past seven years, transforming from a small subset of researchers working on a relatively niche topic to one of the fastest growing sub-areas of deep learning.
</p>
<p>
This book is my attempt to provide a brief but comprehensive introduction to graph representation learning, including methods for embedding graph data, graph neural networks, and deep generative models of graphs.
</p>


<h3> Access </h3>
<ul>
	<li> Download the pre-publication <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book.pdf">pdf</a>.</li>
	<li> Access the individual chapters below.</li>
	<li> Print and e-book editions  will be released by Morgan &amp; Claypool publishers in late 2020. </li>
</ul>


<h3 id="graph-representation-learning">Contents and Chapter Drafts</h3>
<ul>
  <li>Chapter 1: Introduction and Motivations <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_1-Intro.pdf">[Draft. Updated August 2020.]</a></li>
  <li>Chapter 2: Background and Traditional Approaches <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_2-Background.pdf">[Draft. Updated August 2020.]</a></li>

  <li>Part I: Node Embeddings
    <ul>
      <li>Chapter 3: Neighborhood Reconstruction Methods <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_3-Node_Embeddings.pdf">[Draft. Updated August 2020.]</a></li>
      <li>Chapter 4: Multi-Relational Data and Knowledge Graphs <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_4-Knowledge_Graphs.pdf">[Draft. Updated August 2020.]</a></li>
    </ul>
  </li>
  <li>Part II: Graph Neural Networks
    <ul>
      <li>Chapter 5: The Graph Neural Network Model <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_5-GNNs.pdf">[Draft. Updated August 2020.]</a></li>
      <li>Chapter 6: Graph Neural Networks in Practice <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_6-GNNs_in_Practice.pdf">[Draft. Updated August 2020.]</a></li>
      <li>Chapter 7: Theoretical Motivations <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_7-GNN_Theory.pdf">[Draft. Updated August 2020.]</a></li>
    </ul>
  </li>
  <li>Part III: Generative Graph Models
    <ul>
      <li>Chapter 8: Traditional Graph Generation Approaches <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_8-Traditional_Graph_Generation.pdf">[Draft. Updated August 2020.]</a></li>
      <li>Chapter 9: Deep Generative Models <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Chapter_9-Deep_Graph_Generation.pdf">[Draft. Updated August 2020.]</a></li>
    </ul>
  </li>
  <li>Bibliography <a href="https://www.cs.mcgill.ca/~wlh/grl_book/files/GRL_Book-Bibliography.pdf">[Draft. Updated August 2020.]</a></li>
</ul>

<h3> Copyrights and Citation </h3>

<p> This book is a pre-publication draft of a book that will be published by Morgan &amp; Claypool publishers in late 2020, and the publishers have generously agreed to allow the public hosting of the pre-publication draft. 
The book should be cited as follows:</p>
<blockquote>
William L. Hamilton. (2020). Graph Representation Learning. Morgan &amp; Claypool, <i> forthcoming </i>.
</blockquote>
<p> 
All copyrights held by the author and publishers extend to these pre-publication drafts.
</p>



 

<h3> Errata </h3>
<p>
Feedback, typo corrections, and comments are welcome and should be sent to wlh@cs.mcgill.ca with [GRL BOOK] in the subject line.</p>

      


    </section></div>]]>
            </description>
            <link>https://www.cs.mcgill.ca/~wlh/grl_book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248977</guid>
            <pubDate>Sun, 23 Aug 2020 02:07:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Six Tools for Clearer Communication]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248902">thread link</a>) | @AlexDReeve
<br/>
August 22, 2020 | https://reeve.blog/blog/five-tools-for-clearer-communication/ | <a href="https://web.archive.org/web/*/https://reeve.blog/blog/five-tools-for-clearer-communication/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="genesis-content"><article itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text">
<p>We live in a noisy world.</p>



<p>To cut through this noise and create clarity for those around us, we all need to communicate effectively every day. Our work doesn‚Äôt speak for itself; we need to collaborate, inspire, and build relationships. To do this, we need to be able to communicate clearly.</p>



<p>As a shy child and introverted adult, externalizing my perspective never came naturally to me. It still doesn‚Äôt. In high school, I had the dubious honor of being cast in the only non-speaking role in drama class. Despite this, today, I spend the majority of my day, every day, communicating with people. In some ways, my day job&nbsp;<em>is</em>&nbsp;communication.</p>



<p>Communication is a learned skill. I‚Äôm certainly no Obama, but over time, I‚Äôve collected a set of tools that have helped me communicate more effectively.</p>



<h3>Contents</h3>



<ol><li><a href="#rule-of-three">Rule of Three</a></li><li><a href="#answer-explain-example">Answer, Explain, Example</a></li><li><a href="#structure-say-summarize">Structure, Say, Summarize</a></li><li><a href="#feelings-last">Feelings Last Longer Than Words</a></li><li><a href="#pause-context">Pause and Give Context</a></li><li><a href="#so-what">‚ÄúSo What‚Äù Is Your One Key Takeaway</a></li></ol>



<h3 id="rule-of-three">Rule of Three</h3>



<p>Three is a magic number in communication. From stories, like The Three Musketeers, Three Blind Mice, and Three Little Pigs, to colloquialisms like ‚Äúblood, sweat, and tears,‚Äù <em>three</em> is everywhere. There‚Äôs even a Latin phrase, omne trium perfectum, or <em>everything that comes in threes is perfect</em>.</p>



<p>Why is this? Humans beings seek both patterns and simplicity. We‚Äôre pattern-recognition machines, always looking for signals among the noise. Simultaneously, we have limited working memory. We can‚Äôt remember a list of fifteen things or even a list of five. But we can remember three, which is the minimum number of objects needed to make a pattern. Three is concise, persuasive, and memorable.</p>



<p>When you say, ‚Äúthere are three reasons we should do this,‚Äù people pay attention. They know that three is easy to digest and remember. And you, the speaker, are forced to structure your argument succinctly and compellingly. When you put seven bullet-points in a document or slide, people‚Äôs eyes glaze over. When you put a concise list of three, they digest it. Within reason, in verbal or written communication, distill what you have to say down to three.</p>



<h3 id="answer-explain-example">Answer, Explain, Example</h3>



<p>I heard this from a former LinkedIn executive. The premise is simple but powerful. When answering a question, give the answer, then elaborate, then provide an example. That‚Äôs it.</p>



<p>By answering the question immediately, you‚Äôre getting to the point and giving the person who asked a concise answer. Then you‚Äôre supporting it with your rationale. Finally, you‚Äôre backing it up with a real example.</p>



<h3 id="structure-say-summarize">Structure, Say, Summarize</h3>



<p>‚ÄúStructure, Say, Summarize‚Äù is a tool I use when communicating something nuanced. The basis is this: First, structure how you‚Äôre going to make the statement. Second, make the statement. Third, summarize your position and the ‚Äú<a href="#so-what">so what</a>.‚Äù</p>



<ul><li>Structure: It‚Äôs a risk, but there are three reasons we should do this.</li><li>Say: The first reason is X, the second is Y, the third reason is Z.</li><li>Summarize: I know nothing is guaranteed. But, given these reasons, we‚Äôre missing an opportunity to grow by not doing this.</li></ul>



<p>This structure is akin to a Dale Carnegie quote: ‚ÄúTell the audience what you‚Äôre going to say, say it; then tell them what you‚Äôve said.‚Äù</p>



<p>Verbal communication is messy, and it‚Äôs difficult for people to follow spoken paragraphs. Even when you don‚Äôt have a tidy list of three, starting with ‚Äúthere are a few reasons,‚Äù making stating a few points, then summarizing your view is a powerful way to communicate more clearly.</p>



<p>But don‚Äôt use this all the time, or you‚Äôll seem like a robot.</p>



<h3 id="feelings-last">Feelings Last Longer Than Words</h3>



<p>People will often forget what you said, but they‚Äôll never forget how you made them feel. You might have made a logically sound argument, but if the recipient didn‚Äôt feel enthused, inspired, or understood, it probably won‚Äôt stick.</p>



<p>Feelings are why the world‚Äôs most iconic brands are so effective. We don‚Äôt remember every detail, every line of copy, or every number. But they make us feel a certain way, and feelings are sticky.</p>



<p>If you want to inspire action or lead a team, logic is important, but so is ensuring people are inspired when they walk away from an interaction. People won‚Äôt remember everything you said, but they‚Äôll remember how you made them feel.</p>



<h3 id="pause-context">Pause and Give Context</h3>



<p>Never assume that everyone has the same context that you do. There‚Äôs a magical and straightforward sequence of words for this: ‚ÄúLet me give some context to make sure we‚Äôre on the same page.‚Äù</p>



<p>In any given conversation, everyone has a perspective formulated from a different set of inputs. The more closely aligned you can get these inputs, the more effective your communication will be. Shared context helps avoid ‚Äútalking past each other‚Äù situations.</p>



<p>One of the tenets of effective communication is <em>over-communication</em>. Most people associate this with being annoying or spam. In my experience, that isn‚Äôt true. Over-communication is about never assuming that people have the same context that you do.</p>



<h3 id="so-what">‚ÄúSo What‚Äù Is Your One Key Takeaway</h3>



<p>For every piece of communication that you create, find the ‚Äúso what.‚Äù Whether a presentation, document, or slide,&nbsp;if someone asked, ‚Äúso what?‚Äù, what would you say? </p>



<p>Whatever the answer to that question is, make sure it comes across clearly. The answer to ‚Äúso what?‚Äù usually involves articulates the implication for the audience.</p>



<p>An easily applicable tip here is to title your slides or headers with the ‚Äúso what‚Äù for that particular slide or section. Hone in on the most important takeaway and the implication for the audience ‚Äî why should they care?</p>

			</div></article></main></div></div></div>]]>
            </description>
            <link>https://reeve.blog/blog/five-tools-for-clearer-communication/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248902</guid>
            <pubDate>Sun, 23 Aug 2020 01:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Activate and Our $4k Mistake]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248625">thread link</a>) | @CoreSet
<br/>
August 22, 2020 | https://formcake.com/blog/aws-activate-and-our-four-thousand-dollar-mistake | <a href="https://web.archive.org/web/*/https://formcake.com/blog/aws-activate-and-our-four-thousand-dollar-mistake">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Recently we signed up for the <a href="https://aws.amazon.com/activate/">AWS Activate</a> program, which provides startups / small internet businesses like us with a variety of benefits - from AWS credits to free business-tier support.</p>
<p>We signed up for AWS Activate as part of our application to the Stripe Atlas program, which we're <a href="https://formcake.com/our-experience-with-stripe-atlas">big fans</a> of, but you don't need to be a part of Stripe Atlas to sign up for Activate.</p>
<p>When signing up for Activate though you <em>do</em> need to know you'll be faced with a question that can drastically shape the number of credits you ultimately receive.</p>
<h2 id="the-mistake">The Mistake</h2>
<p>When we first went through the process we very simply answered that question wrong. We encountered the following screen, outlining the different sign up paths for bootstrapped vs funded startups.</p>
<p><img src="https://formcake.com/images/aws-activate-screen.png" alt="AWS Activate bootstrapped vs funded startups"></p>
<p>When we first signed up, we did so as a bootstrapped startup: We're not accepting any funding, or even incorporating as a C Corp so we can have shares and an officer structure. We're incorporated as an LLC because we want to slowly build our way to profitability, so "bootstrapped" as a term seemed to described us.</p>
<p>We received $1,000 in AWS credits and were happy, but <a href="https://formcake.com/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got">raised the issue with Stripe</a> that we were curious if there was a chance at getting the $5,000 that the Stripe copy seemed to suggest.</p>
<p>Stripe not only got back to us but fought for us to <a href="https://formcake.com/how-an-email-got-us-five-thousand-aws-credits">receive the full $5,000 in credits from AWS</a>.</p>
<p>But in their email it became clear what the issue was: <strong>We signed up under the wrong option</strong>.</p>
<p>Even though we're not accepting proper funding rounds, we are "sponsored" by Stripe in a sense through the Atlas program. That means we have an organization code/ID we can plug into the AWS Activate signup process signifying that we're a "funded" startup.</p>
<p>Doing so appears to net you a cool $5,000 in AWS credits.</p>
<p>Luckily we pestered Stripe to the point where we were able to receive not just the extra money ($5,000) but also keep the original, $1,000 amount. Since we're a small startup that's on an all-AWS infrastructure, this money was pretty critical to us, and provides a nice runway.</p>
<h2 id="the-takeaway">The Takeaway</h2>
<p>If you're signing up for the AWS Activate program, consider looking for a program like Stripe Atlas to sign up with. If you're able to find this kind of sponsorship and sign up with your corresponding organization ID, you can probably expect more credits. Don't be like us and potentially leave this much money (well, credits) on the table.</p>
<p>If you're anything like us, that difference between $1,000 and $5,000 is something you can feel!</p>
</div></div>]]>
            </description>
            <link>https://formcake.com/blog/aws-activate-and-our-four-thousand-dollar-mistake</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248625</guid>
            <pubDate>Sun, 23 Aug 2020 00:55:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aerogel Meets 3D Printing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248422">thread link</a>) | @finphil
<br/>
August 22, 2020 | https://nuadox.com/post/627194082848079872/aerogel-meets-3d-printing | <a href="https://web.archive.org/web/*/https://nuadox.com/post/627194082848079872/aerogel-meets-3d-printing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="627194082848079872">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/627194082848079872/aerogel-meets-3d-printing"><h2>Aerogel meets 3D printing</h2></a>
                                <figure data-orig-height="959" data-orig-width="1440"><img src="https://64.media.tumblr.com/2ffcb9cceea93831b3ac05d17694c444/f0f5e28fb89612e1-76/s1280x1920/963ab209a4c7da671d419e7b696b8eb8b7a5d199.jpg" data-orig-height="959" data-orig-width="1440" width="1280" height="852" alt="image"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.empa.ch%2Fweb%2Fempa%2Fpersondisplay%3FuserDisplayName%3Dklr%26inheritRedirect%3Dtrue%26userNotPublicMsg%3Dtrue&amp;t=M2ViZmI1MTk2YmEwM2E1N2QxOGI0YWFkOGZmMGZhMzA3YzZiMmM1ZSxKSmhON0xtRw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627194082848079872%2Faerogel-meets-3d-printing&amp;m=0&amp;ts=1598372491">Rainer Klose</a> ,&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.empa.ch%2Fweb%2Fempa%2F&amp;t=MzZmMzgyYjgxYTIxZmQ5MDU1NzVlNjExNjE1MGU5NTlkYjBlMmIyNyxIUVZtY2Z2ag%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F621294078571708416%2Fsmallest-motor&amp;m=0&amp;ts=1598138140">Swiss Federal Laboratories for Materials Science and Technology (Empa)</a> -</b></p><p>Behind the simple headline ‚ÄúAdditive manufacturing of silica aerogels‚Äù - the article was published on July 20th in the renowned scientific journal <i><a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fdx.doi.org%2F10.1038%2Fs41586-020-2594-0&amp;t=YjQxYWZlZmY4ZTcyYWY4Y2FhNmU4NzA2NDgwNGE1YjVlNTljMzE4OCxKSmhON0xtRw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627194082848079872%2Faerogel-meets-3d-printing&amp;m=0&amp;ts=1598372491">Nature</a></i> - a groundbreaking development is hidden. Silica aerogels are light, porous foams that provide excellent thermal insulation.&nbsp;</p><p>In practice, they are also known for their brittle behaviour, which is why they are usually reinforced with fibres or with organic or biopolymers for large-scale applications. Due to their brittle fracture behaviour, it is also not possible to saw or mill small pieces out of a larger aerogel block. Directly solidifying the gel in miniaturised moulds is also not reliably - which results in high scrap rates. This is why aerogels have hardly been usable for small-scale applications.</p><h2><b>Stable, well-formed microstructures</b></h2><p>The Empa team led by Shanyu Zhao, Gilberto Siqueira, Wim Malfait and Matthias Koebel have now succeeded in producing stable, well-shaped microstructures from silica aerogel by using a 3D printer. The printed structures can be as thin as a tenth of a millimeter. The thermal conductivity of the silica aerogel is just under 16 mW/(m*K) - only half that of polystyrene and even significantly less than that of a non-moving layer of air, 26 mW/(m*K). At the same time, the novel printed silica aerogel has even better mechanical properties and can even be drilled and milled. This opens up completely new possibilities for the post-processing of 3D printed aerogel mouldings.</p><p>With the method, for which a patent application has now been filed, it is possible to precisely adjust the flow and solidification properties of the silica ink from which the aerogel is later produced, so that both self-supporting structures and wafer-thin membranes can be printed. As an example of overhanging structures, the researchers printed leaves and blossoms of a lotus flower. The test object floats on the water surface due to the hydrophobic properties and low density of the silica aerogel - just like its natural model. The new technology also makes it possible for the first time to print complex 3D multi-material microstructures.</p><h2><b>Insulation materials for microtechnology and medicine</b></h2><p>With such structures it is now comparatively trivial to thermally insulate even the smallest electronic components from each other. The researchers were able to demonstrate the thermal shielding of a temperature-sensitive component and the thermal management of a local ‚Äúhot spot‚Äù in an impressive way. Another possible application is the shielding of heat sources inside medical implants, which should not exceed a surface temperature of 37 degrees in order to protect body tissue.</p><h2><b>A functional aerogel membrane</b></h2><p>3D printing allows multilayer/multi-material combinations to be produced much more reliably and reproducibly. Novel aerogel fine structures become feasible and open up new technical solutions, as a second application example shows: Using a printed aerogel membrane, the researchers constructed a ‚Äúthermos-molecular‚Äù gas pump. This permeation pump manages without any moving parts at all and is also known to the technical community as a Knudsen pump, named after the Danish physicist Martin Knudsen. The principle of operation is based on the restricted gas transport in a network of nanoscale pores or one-dimensional channels of which the walls are hot at one end and cold at the other. The team built such a pump from aerogel, which was doped on one side with black manganese oxide nanoparticles. When this pump is placed under a light source, it becomes warm on the dark side and starts to pump gases or solvent vapours.</p><h2><b>Air purification without moving parts</b></h2><p>These applications show the possibilities of 3D printing in an impressive way: 3D printing turns the high-performance material aerogel into a construction material for functional membranes that can be quickly modified to suit a wide range of applications. The Knudsen pump, which is driven solely by sunlight, can do more than just pump: If the air is contaminated with a pollutant or an environmental toxin such as the solvent toluene, the air can circulate through the membrane several times and the pollutant is chemically broken down by a reaction catalyzed by the manganese oxide nanoparticles. Such sun-powered, autocatalytic solutions are particularly appealing in the field of air analysis and purification on a very small scale because of their simplicity and durability.</p><p>Empa researchers are now looking for industrial partners who want to integrate 3D-printed aerogel structures into new high-tech applications.</p><p>‚Äì</p><p><i>Header image:&nbsp;To demonstrate that fine aerogel structures can be produced in 3D printing, the researchers printed a lotus flower made of aerogel. Credit: <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.eurekalert.org%2Fmultimedia%2Fpub%2F240779.php%3Ffrom%3D474517&amp;t=NDU0ZTMwNDM4YzMwZTc4MWU1ODBhNDI4MjhiYTU5MDUzZTRhMzVhZixKSmhON0xtRw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627194082848079872%2Faerogel-meets-3d-printing&amp;m=0&amp;ts=1598372491">EMPA</a>.</i></p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.empa.ch%2Fweb%2Fs604%2Faerogel-als-mikrobaustoff&amp;t=NGRlYzRiYTQyYzEwZTJmMDZkNjRiNjZiZWE0YjgxOTVmZTgzZTFmMyxKSmhON0xtRw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627194082848079872%2Faerogel-meets-3d-printing&amp;m=0&amp;ts=1598372491">Swiss Federal Laboratories for Materials Science and Technology (Empa)</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúAdditive manufacturing of silica aerogels‚Äù, <i>Nature</i>.</p><p><a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fdx.doi.org%2F10.1038%2Fs41586-020-2594-0&amp;t=YjQxYWZlZmY4ZTcyYWY4Y2FhNmU4NzA2NDgwNGE1YjVlNTljMzE4OCxKSmhON0xtRw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F627194082848079872%2Faerogel-meets-3d-printing&amp;m=0&amp;ts=1598372491">http://dx.doi.org/10.1038/s41586-020-2594-0</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/173133944747/3d-printing-nasa-orion">3D printed parts for NASA‚Äôs Orion can hold up to extreme temperatures</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/3d-printing">3d printing</a>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/engineering">engineering</a>
                                    
                                        <a href="https://nuadox.com/tagged/physics">physics</a>
                                    
                                        <a href="https://nuadox.com/tagged/chemistry">chemistry</a>
                                    
                                        <a href="https://nuadox.com/tagged/nanotechnology">nanotechnology</a>
                                    
                                        <a href="https://nuadox.com/tagged/aerogel">aerogel</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/627194082848079872/aerogel-meets-3d-printing</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248422</guid>
            <pubDate>Sun, 23 Aug 2020 00:16:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Momentum: Open-source foolproof and good looking pomodoro timer]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248304">thread link</a>) | @pedrolins
<br/>
August 22, 2020 | https://sarmentow.github.io/momentum | <a href="https://web.archive.org/web/*/https://sarmentow.github.io/momentum">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://sarmentow.github.io/momentum</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248304</guid>
            <pubDate>Sat, 22 Aug 2020 23:56:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creating Reliable Timers in JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248294">thread link</a>) | @pedrolins
<br/>
August 22, 2020 | https://sarmentow.github.io/creating_reliable_timers_in_javascript.html | <a href="https://web.archive.org/web/*/https://sarmentow.github.io/creating_reliable_timers_in_javascript.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <a href="https://sarmentow.github.io/index.html">home</a>
    
    <p>
      <em>Disclaimer: Here I talk about how javascript handles code execution and
        why it's a terrible idea to trust its built-in intervals to work
        accurately, if you just want to see some code, you can take a look at
        <a href="https://github.com/sarmentow/momentum/edit/master/src/components/Timer/index.js">this component</a></em>
    </p>
    <hr>
    <p>
      For the last month or so I had been working on what was pretty much just a
      pomodoro timer app in React. The workflow of the app would be as such:
    </p>
    <ol>
      <li>
        <p>
          The users go in and create their tasks for the day defining the title
          and how many pomodoros there would be for each task.
        </p>
      </li>
      <li>
        <p>
          The users would pick which task they would do next, immediatly
          starting the timer.
        </p>
      </li>
      <li>
        <p>
          After 25 minutes, the timer would ring, starting a 5 minute break
          after which the user would either go to the next 25 minute timer if
          the task has more than 1 pomodoro of duration or complete the task and
          clear the completed task.
        </p>
      </li>
      <li>
        <p>
          If the user completes their task before the timer ends, they can skip
          the 25 minutes and go directly to a 5 minute break or they can also
          skip that break and go back to step 1
        </p>
      </li>
    </ol>
    <h2 id="why-">Why?</h2>
    <p>
      Why would you want to waste your time remaking a project idea already made
      by thousands of people? Well, all of the pomodoro timers out there will
      have at least one of the following issues, upon which I wanted to improve:
    </p>
    <ol>
      <li>Not great UX</li>
      <li>Distracting/dated UI</li>
      <li>Flawed timer logic</li>
    </ol>
    <p>
      It's easy to understand what I mean by saying bad UX and UI, but what
      do I mean about the flawed timer logic?
    </p>
    <h2 id="the-flaw">The flaw</h2>
    <p>
      If you're a curious person you might have the urge to try and break
      software to see if the creators behind apps tested for all edge cases. I
      like to think that the best programmers try to make their apps so that
      even if the user tries to make the app not work, it will.
    </p>
    <p>
      On almost all pomodoro timers available online you'll see this
      particular behaviour where if you spam click the pause/resume button, time
      won't pass. Even those milliseconds between each click aren't
      being accounted by the timer. But why is that? In order to understand this
      flaw, it's necessary to know how you would code a timer.
    </p>
    <p>
      Basically, a timer is composed of some piece of code that periodically
      subtracts from some variable the amount of time passed since the last
      update. This <code>timeleft</code> variable is displayed and then repeats
      the update cycle.
    </p>
    <p>This would translate to something like this in Javascript:</p>
    <pre><code><span>let</span> <span>timeleft</span> = <span>5000</span>;
    <span>let</span> <span>interval</span> = setInterval(() =&gt; {
      <span>if</span> (timeleft &gt; <span>0</span>) {
        timeleft <span>-=</span> <span>1000</span>;
      }
    }, <span>1000</span>);
    </code></pre>
    <p>
      The problem with almost all timer apps and components available is that
      they choose to make the interval between each code execution in
      <strong>exactly</strong> the same order of magnitude they will display on
      the lowest time measure. What I mean by this is that if they're just
      going to show how many minutes and seconds are left, they will create some
      code that updates the timer every 1 second. The problem with that is that
      every time I click pause and then resume, the time until my
      <code>timeleft</code> updates gets set to 1 second from now. So if I keep
      clicking that button on time intervals lower than the 1 second
      <code>timleft</code> update, my timer will just freeze unless I wait more
      than 1 second to click the pause button again.
    </p>
    <p>
      It's an easy fix. All you've got to do is decrease the intervals
      in which <code>timeleft</code> decreases while also decreasing how much
      you subtract from it.
    </p>
    <p>Updating the code I showed you before, it would look like this:</p>
    <pre><code><span>let</span> <span>timeleft</span> = <span>5000</span>;
    <span>let</span> <span>interval</span> = setInterval(() =&gt; {
      <span>if</span> (timeleft &gt; <span>0</span>) {
        timeleft <span>-=</span> <span>100</span>;
      }
    }, <span>100</span>);
    </code></pre>
    <p>
      This technically solves our problem. If it ended here, I would be a happy
      man, but there is a huge issue with the code above that isn't possible
      to be detected without some extra knowledge and especially not fixable
      without some thinking.
    </p>
    <h2 id="the-problem">The problem</h2>
    <p>
      So I went on with the development of my app and after implementing all of
      the features I wanted in order for it to be useful (including a sound for
      when the time was completed), I decided to test it while studying for
      tests. I added my tasks, immediately started the timer and opened some
      tabs with materials for my studying session.
    </p>
    <p>
      I studied for some time until I looked at my phone and noticed that more
      than 25 minutes had passed without any indication that the time had ended.
      So I went to check, and when I opened my timer's tab only 5 minutes
      had passed for the timer.
    </p>
    <h2 id="what-s-happenning-">What's happenning?</h2>
    <p>
      I took some time to understand what was going on with my code. At first I
      thought it was some sort of performance problem related to React and how
      it handled re-renders. I knew that there was some connection between my
      timer lagging and the way the code was being executed, but I couldn't
      figure out why.
    </p>
    <p>
      After some time debugging and not understanding what caused the issue, I
      decided to compare my timer with Google's built-in (and pretty
      accurate) timer that shows up on top of the results when you search for
      any <code>x min timer</code>. I noticed that sometimes my timer would have
      some delay in comparison to Google's even when my timer's window
      was focused and without any other background tabs running. So what was
      going on?
    </p>
    <p>
      I searched around for a solution, but I couldn't find any. There were
      a couple of people online that had the same problem that I did, but they
      had it on many different frameworks, even
      <strong>vanilla Javascript</strong>.
    </p>
    <p>
      After a while, I started noticing that the problem was actually related
      not only with the <code>setInterval</code> function but with
      <strong>the way Javascript code gets executed entirely</strong>.
    </p>
    <h2 id="the-event-loop">The event loop</h2>
    <p>
      What I, a noob CRUD-making naive webdev, didn't think about was what
      was happening under the hood when I executed the code that made my timer
      work.
    </p>
    <p>
      You've probably heard about something called the Javascript
      <strong>event loop</strong>. If you haven't, I suggest you
      <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">watch Philip Roberts' talk on JSConf about it</a>, he goes pretty deep into it and the talk might make you start think
      about some of the low-level stuff you've never thought about while
      making your little web application. But even if you don't watch it,
      I'll explain the basics in order for you to understand what does it
      have to do with our issue.
    </p>
    <p>
      For our purposes, all that you need to know is that the event loop is just
      the way that Javascript treats code execution. Javascript, being a single
      threaded programming language, can only make computations one sequence at
      a time. That means that every time your code does something, your program
      waits until that computation has ended in order for it to resume
      execution. This happens until your program has reached the end. The event
      loop is a pattern that the program follows in order to make the single
      threaded aspect of the language not suck so bad. The event loop creates
      kind of a priority-based list of things your computer should run.
    </p>
    <h2 id="the-naive-implementation">The naive implementation</h2>
    <p>
      So what's the problem after all? It's simple: our implementation
      assumes that our code will execute instantly after those 100 milliseconds
      we defined as the second argument in the
      <code>setInterval</code> function. Javascript, being a single threaded
      function, can't ensure our code will be executed as soon as those 100
      milliseconds go by because there could be some computation going on right
      when my timer code should execute, creating a delay. Sometimes the delay
      was acceptable but other times it seemed like the timer freezed.
    </p>
    <p>
      It's possible to see what are the effects of being single threaded
      when performing a computation with the following code:
    </p>
    <pre><code><span>for</span> (<span>let</span> i = <span>0</span>; i &lt; <span>100000</span>; i++) {
      <span>for</span> (<span>let</span> i = <span>0</span>; i &lt; <span>10000</span>; i++) {}
    }
    
    console.<span>log</span>(<span>"hi!"</span>);
    </code></pre>
    <p>
      if you run this code with Node.js or in your browser, you will see that
      <code>hi</code> will take a good while to log because our thread gets busy
      running the nested for loops.
    </p>
    <p>
      So if we can't trust javascript to execute our code on time how can we
      code a program like a timer? And if timers are impossible to be accurate,
      how come the google timer works and mine doesn't?
    </p>
    <h2 id="the-attempts">The attempts</h2>
    <p>I tried every type of fix I could think of.</p>
    <h3 id="web-workers">Web workers</h3>
    <p>
      At first I tried creating another javascript thread just for our timer,
      that way I could ensure that my timer would always run on time (no pun
      intended). To do that you need to use something called a Web Worker that
      was made exactly for having more than one thread at a time running on your
      browser.
    </p>
    <p>
      That didn't really work. I felt like it was being way too hard and
      awkward to write code, and for something as simple as this there was no
      way that I was making the right choice. So I had a feeling that I should
      go looking elsewhere.
    </p>
    <h3 id="window-requestanimationframe-">window.requestAnimationFrame()</h3>
    <p>
      Then, I found a web API called
      <code>window.requestAnimationFrame()</code>. According to the MDN docs,
      this API was made to ensure that your browser performs an animation before
      the next repaint. At first I thought that it would be weird to use this to
      update our timer, but after seeing that it takes a callback ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sarmentow.github.io/creating_reliable_timers_in_javascript.html">https://sarmentow.github.io/creating_reliable_timers_in_javascript.html</a></em></p>]]>
            </description>
            <link>https://sarmentow.github.io/creating_reliable_timers_in_javascript.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248294</guid>
            <pubDate>Sat, 22 Aug 2020 23:55:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unit Testing Embedded C]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24248082">thread link</a>) | @clnhlzmn
<br/>
August 22, 2020 | https://colinholzman.xyz/2020/08/22/unit-testing-embedded-c | <a href="https://web.archive.org/web/*/https://colinholzman.xyz/2020/08/22/unit-testing-embedded-c">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><h2>Unit Testing Embedded C</h2><p>I have been trying to be more thorough in my testing efforts lately. What has always seemed like a big challenge is how to automate testing for source code that is targeting a microcontroller like AVR? I will talk about two sides of this challenge: decoupling and running unit tests.</p><h2 id="decoupling">Decoupling</h2><p>I write a lot of code for AVR microcontrollers so the code here will be in that context, but these ideas work equally well for any target. Decoupling means to separate your software into small pieces that are coupled only with a small number of dependencies. A dependency could be a target header file like <code>avr/io.h</code> or it could be another software module that you have written. In either case, keeping the number of dependencies small will improve your chances of successful unit testing.</p><p>Assume you have a module called <code>relay_control</code> which is intended to turn a relay on if an input value exceeds a threshold and off otherwise. Your <code>relay_control.c</code> file might look like this:</p><pre><code>#include &lt;avr/io.h&gt;

#define THRESHOLD (100)

void relay_control(int value) {
    if (value &gt; THRESHOLD) {
        PORTA |= 1;
    } else {
        PORTA &amp;= ~1;
    }
}
</code></pre><p>The <code>relay_control</code> function takes <code>value</code>, compares it to <code>THRESHOLD</code>, and sets bit zero of <code>PORTA</code> high or low accordingly (assuming <code>PA0</code> is somehow controlling the relay). Of course this is a trivially simple function but imagine some other complicated logic in it‚Äôs place. One way to test this function is to compile this using GCC on your development machine while somehow including a mock <code>avr/io.h</code> that defines <code>PORTA</code> in such a way that the test code can determine if the relay is on or off for a range of the <code>value</code> argument passed to <code>relay_control</code>. That requires you to mock the header file which is not always possible. A better way is to use features of the C language to decouple the direct io port access from <code>relay_control</code> so that the <code>relay_control</code> module doesn‚Äôt depend on <code>avr/io.h</code>. That way you can test it on your development machine or wherever you want. The new <code>relay_control.c</code> could look something like this:</p><pre><code>#define THRESHOLD (100)

void (*relay_writer)(char relay_on);

void relay_control(int value) {
    if (relay_writer) 
        relay_writer(value &gt; THRESHOLD);
}
</code></pre><p>The new <code>relay_control.c</code> doesn‚Äôt depend on <code>avr/io.h</code>. Instead it depends on a function pointer, <code>relay_writer</code>, that acts as an interface to the hardware. Now the application can implement <code>relay_writer</code> to access the hardware, and your test code can implement it to set a bit in memory to allow you to check the output of the <code>relay_control</code> module. Your application could implement <code>relay_writer</code> like this (perhaps in <code>relay_control_hal.c</code> [relay control hardware abstraction layer]):</p><pre><code>#include &lt;avr/io.h&gt;

extern void (*relay_writer)(char relay_on);

void relay_writer_impl(char relay_on) {
    if (relay_on) {
        PORTA |= 1;
    } else {
        PORTA &amp;= ~1;
    }
}

void relay_control_init(void) {
    relay_writer = relay_writer_impl;
}
</code></pre><p>The hardware abstraction layer code is purposfully kept as trivial as possible, it‚Äôs only accessing the io port, because the only way to test it is to run it on the target platform (because it depends on <code>avr/io.h</code>). Since it‚Äôs so simple you‚Äôre not as concerned with testing <code>relay_control_hal.c</code> (trivial hardware access only) as you are with <code>relay_control.c</code> (non-trivial application logic).</p><p>Now you can write a test, <code>test_relay_control.c</code>, that might look like this:</p><pre><code>#include &lt;assert.h&gt;
#include "relay_control.h"

char relay_state = 0;

void relay_writer_test_impl(char relay_on) {
    relay_state = relay_on;
}

extern void (*relay_writer)(char relay_on);

int main(void) {
    relay_writer = relay_writer_test_impl;
    relay_control(0);
    assert(relay_state == 0);
    relay_control(1000);
    assert(relay_state == 1);
    return 0;
}
</code></pre><p>Decoupling <code>relay_control.c</code> from the hardware (<code>avr/io.h</code>) has the added benefit that your tests are not constrained by the target environment‚Äôs memory or processor limitations. The tests can use the full power of the C language.</p><p>Now whenever you make a change to <code>relay_control.c</code> you can quickly run the test to make sure that the functionality remains. But how do you run the test?</p><h2 id="running-unit-tests">Running unit tests</h2><p>One way is to use a simple makefile that compiles <code>test_relay_control.c</code> and <code>relay_control.c</code> and then runs the resulting executable. Or you could use a more advanced build system generator like CMake. I recommend using CMake because it gets very tricky very quickly to link up a bunch of <code>.c</code> and <code>.h</code> files in different directories to create an executable with only a makefile. I have only recently learned how to use CMake so please bear with me on this. The solution that I have come up with for running unit tests on windows goes like this:</p><ol><li><p>create a directory somewhere in your project called <code>test</code></p></li><li><p>in the <code>test</code> directory create a file called <code>cmakelists.txt</code></p><p><code>cmakelists.txt</code>:</p><pre><code> cmake_minimum_required (VERSION 3.18)
 project(Test)
 enable_testing()
 add_executable(Test 
     test_relay_control.c 
     &lt;path to relay_control.c&gt;
 )
 include_directories(&lt;path to relay_control.h&gt;)
 add_test(NAME Test COMMAND Test)
</code></pre><p>In this case there is only one test called <code>Test</code> which is generated by the <code>add_executable</code> and <code>add_test</code> commands.</p><p>To add another test you would first create your test file <code>another_test.c</code> and add the following lines to <code>cmakelists.txt</code></p><pre><code> add_executable(AnotherTest 
     another_test.c 
     &lt;path to another_file_under_test.c&gt;
 )
 include_directories(&lt;path to headers needed by another_test.c&gt;)
 add_test(NAME AnotherTest COMMAND AnotherTest)
</code></pre></li><li><p>in the <code>test</code> directory create a file called <code>test.sh</code></p><p><code>test.sh</code>:</p><pre><code> if ! [[ -d "build" ]]; then
     mkdir build
 fi
 cd build
 cmake .. -G"MinGW Makefiles"
 cmake --build . &amp;&amp; ctest -C Debug
</code></pre><p>In this case I am using the <code>MinGW Makefiles</code> generator for CMake because I run my tests on Windows but I would like to use GCC rather than the default MSVC.</p></li></ol><p>With those steps having been done you can now run <code>test.sh</code> and whatever tests you have defined will be run and the output will show you clearly which have passed and which have failed.</p><p>Happy testing!</p><span><time datetime="2020-08-22T00:00:00-04:00">August 22, 2020</time> ¬∑ <a href="https://colinholzman.xyz/tag/programming">programming</a>, <a href="https://colinholzman.xyz/tag/C">C</a>, <a href="https://colinholzman.xyz/tag/coding">coding</a>, <a href="https://colinholzman.xyz/tag/software">software</a>, <a href="https://colinholzman.xyz/tag/engineering">engineering</a></span> <!--<span class="meta"><time datetime="2020-08-22T00:00:00-04:00">August 22, 2020</time> &middot; <a class="post" href="/tag/programming">programming</a>, <a class="post" href="/tag/C">C</a>, <a class="post" href="/tag/coding">coding</a>, <a class="post" href="/tag/software">software</a>, <a class="post" href="/tag/engineering">engineering</a></span> --></section></div>]]>
            </description>
            <link>https://colinholzman.xyz/2020/08/22/unit-testing-embedded-c</link>
            <guid isPermaLink="false">hacker-news-small-sites-24248082</guid>
            <pubDate>Sat, 22 Aug 2020 23:17:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Post About My New Job (and the Ones I Didn‚Äôt Get)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24247797">thread link</a>) | @luu
<br/>
August 22, 2020 | https://geekygirlsarah.com/2018/02/05/a-post-about-my-new-job-and-the-ones-i-didnt-get/ | <a href="https://web.archive.org/web/*/https://geekygirlsarah.com/2018/02/05/a-post-about-my-new-job-and-the-ones-i-didnt-get/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          
            <p> 




  12 minute read
</p>
          
        </header>
      

      <section itemprop="text">
        
        <p>This post is a part of a series on job hunting and job interviewing.</p>

<p>I‚Äôm excited to say that after about 8 months of job hunting, I finally accepted a new software engineering job!</p>

<p>Before I tell you about it, I really want to talk about the jobs I <em>didn‚Äôt</em> get and the interview processes I went through.</p>

<p>(<a href="#tldr">tl;dr ‚Äújust tell me about the new job already!‚Äù</a>)</p>

<h3 id="soooooo-many-interviews">Soooooo Many Interviews‚Ä¶.</h3>

<p>I started slowly hunting for jobs about June last year. I knew that in the last few teams I was on the work was really kind of terrible, some of the people were really difficult, or both. I didn‚Äôt want to do this again. I didn‚Äôt want ‚Äúyet another developer job‚Äù (as I called it) either . I really wanted something where I knew I would thrive, something I knew would be interesting and challenging, and somewhere I knew the team/department/company‚Äôs culture would be a lot better for me.</p>

<p>And of course to pull this off, I have to be a LOT more picky on the companies that I interviewed with. I also figured I was at a point where I could not only try going after some of the Big Name Tech Companies‚Ñ¢. I also have a wide enough network that I decided I wanted to do it only through referrals. (Don‚Äôt worry‚Ä¶ I‚Äôm working on a post on how to start networking if you hate networking so that you can also build up your own big network!)</p>

<p>I also decided that in addition to software engineering type roles, I wanted to look for developer advocacy (or developer evangelist) roles. I liked the idea of building things, but also working with other developers to help them with their products and to go around and speak about things I worked on. So I kept an open mind for both.</p>

<p>And I was pretty successful. I interviewed at many places, and not just that, but I got quite far in most of the interview processes. My network helped me get into nearly every company with a guaranteed interview, but after a while, sometimes the processes just took so long to get through it felt like I‚Äôd never hear if I got hired OR rejected. The waiting was probably the worst part.</p>

<p>I also decided after my current company (at the time) knew about my job hunt, I would share openly, but not talk about specific companies yet until I had accepted an offer.</p>

<h3 id="the-process-and-how-far-i-got">The Process and How Far I Got</h3>

<p>I am actually rather proud of myself. I talked to some pretty awesome companies:</p>

<ul>
  <li><a href="https://geekygirlsarah.com/wp-content/uploads/2018/02/jobinterviews.jpg"><img src="https://d33wubrfki0l68.cloudfront.net/fff27e9061085b31b55642a5234e1dc8275d5cd8/3dbf6/assets/images/2018/02/jobinterviews-277x300.jpg" alt="Pictures of me at Amazon, Google, New Relic, and Square" width="277" height="300"></a>Square: I was recommended for a senior developer position by a friend, and turns out I already knew her manager! After a recruiter call and two technical (code) phone calls, I felt pretty good. I got to go on-site in San Francisco. I got to the end, but they hired someone else. But for as obnoxious as it is to have done basically 12 interviews of some form or another (including 8 code interviews and 2 design interviews), I got every vibe this was a GREAT place to work! They passed my ‚Äú<a href="https://geekygirlsarah.com/2017/11/20/the-three-questions-im-asking-at-every-interview/">3 questions test</a>‚Äù too, and I‚Äôd gladly work there if they asked me in the future.</li>
  <li>Microsoft: Microsoft seems daunting but I actually had a really good experience with them. I had a friend recommend a recruiter, so I reached out to her. It got me an interview in which she really liked me and it got my foot in the door. After that it became a matter of finding the right team. I interviewed on a couple of teams that didn‚Äôt really click, then interviews with their cloud developer advocate team. It was one of my top 3 interviews probably. No code, no quirky brain teasers, just my interviewer and I. And he loved me and aside from not having all the cloud experience they wanted, they probably would have hired me. They even dropped hints if I could learn the cloud things I needed, they‚Äôd reconsider. (I, unfortunately, couldn‚Äôt really find the spare time to do this with a full time job and job hunting too.)</li>
  <li>Amazon: Through <a href="https://twitter.com/hashtag/witbragday">#WITBragDay</a>, I met a woman on Twitter. We chatted and became friends rather quickly. I learned she was a recruiter and learned she was with the Amazon Fashions team. Intrigued, I asked her about it. It sounded like a cool developer spot (and she even addressed my concerns about Amazon‚Äôs bad work/life reputation). Did a phone chat, and then a team interview. The team said no, but they put me in for other teams to look at me. After two more teams who promised things and didn‚Äôt deliver (including an on-site), another team picked me up. I flew to Seattle, interviewed with them, but didn‚Äôt make the cut.</li>
  <li>Google: About once a year for several years some Google recruiter reached out to me for engineering roles. I declined them all until one reached out in the middle of this search. And I thought ‚ÄúI did Square, Microsoft, and Amazon, why not? I doubt I‚Äôll make it far.‚Äù&nbsp; But after a recruiter call, a code challenge I flopped miserably, then a code challenge I absolutely rocked at, I got flown on-site. I didn‚Äôt make it, though to be fair, I wasn‚Äôt surprised. (On my flight home I did get my current job offer though!)</li>
  <li>New Relic: I had heard some questionable things about them, but seems that those things kind of went by the wayside. So another friend recommendation got me in to a senior developer role interview. After some discussions and a code sample I submitted, I was flown to Portland for an on-site. I had a lot of good conversations here. They were also very conscious about finding a good senior that would mentor their junior team member and so they interviewed for that. I was one of the top 3 candidates but lacked one of the buzzwords in my skillset to make it to the end. (This is another company that the culture seemed amazing, and I‚Äôd definitely go there if they asked again.)</li>
  <li>MongoDB: This was a developer advocate role a friend recommended me for. I rocked every step, and this was probably one of the most complex interviews I had, including ultimately about 9 phone calls. But one of them wasn‚Äôt impressed with me, gave me no real feedback on it, and it disqualified me entirely. (Bummer too, I almost had a free trip to New York City!)</li>
  <li>IBM: I got to meet Erin McKean rather randomly and accidentally at Strange Loop (I didn‚Äôt realize it was Erin until after I had chatted with her a couple of times.) She got me an interview on their San Francisco developer advocate team. I made it a few phone calls in before I was rejected because they said they changed their mind and wanted to hire for the role internally instead.</li>
  <li>StitchFix: Two friends recommended me here. I got a couple of interviews (including a super fun one that involved thinking through problems without code or computers). Despite rocking them, very weirdly I got a generic form template email rejecting me and I never heard feedback on why I was rejected.</li>
</ul>

<p>There were some others that the process wasn‚Äôt nearly as good:</p>

<ul>
  <li>Twilio: I heard about a developer advocate role. I had a friend recommend me, which ended up getting me both a rejection and an interview at the same time. (I still can‚Äôt explain the two emails, and apparently neither can anyone else.) After my one technical phone call, l got my template rejection email.</li>
  <li>JFrog: This was also another developer advocate role. The job description was <em>ridiculous</em> with its requirements (to the point I literally didn‚Äôt think they‚Äôd be able to find anyone). I was told to apply anyway. The chats were great, and I was (I believe) a top candidate. But they decided to change the role to be less ‚Äúdevelopery‚Äù and we mutually agreed to not move forward.</li>
  <li>MuleSoft: I got one technical call in and decided I probably wouldn‚Äôt like the culture. They didn‚Äôt move forward anyway.</li>
  <li>Akamai: I was recommended for an advocate position that wasn‚Äôt posted yet. Months later my contact told me it was posted but they didn‚Äôt recommend it anymore after some internal changes.</li>
  <li>VML: The one and only local company I considered, and only because it would have been a temporary contract with option to hire later (but maybe by then I could have moved out of the city) and would have paid really well. The managers loved me, got a verbal job offer, then talked to someone else and had the offer retracted. I‚Äôm not quite sure what happened there, but I‚Äôm accounting it partly to a recruiter that didn‚Äôt sell me well. I received no feedback either.</li>
  <li>Etsy: A friend recommended me for an engineering position only to have them do a hiring freeze, a company re-org, and a layoff. After assuring me things had settled down and it was still good, I went in. I went through a recruiter phone call and two code challenges before a rejection. Like several others, I had one code interview I got amazing feedback on, then one I got ridiculously terrible feedback on.</li>
  <li>The Document Foundation: A friend pointed out a software developer mentor position. It seemed interesting to be able to develop LibreOffice as well as mentor other people contributing to it. I was recommended and‚Ä¶ delays. They got back to me, but unfortunately after I got hired. I would have gone through it had I not received my current offer.</li>
</ul>

<p>And there were some more, but the above ones were the more notable ones. It‚Äôs been quite the journey.</p>

<p>From all of these, I think I learned a few things from the interviews. One of the main things I learned was that I can judge a company pretty well if I ask the right questions to their employees. I also learned that strictly code-based interviews are probably the worst way to interview someone, especially if they‚Äôre whiteboard based with no computer resources. (There were some better code interviews, but they had a mix of pairing as well as other conversations too.) And the more I did strictly code-based interviews, the more I didn‚Äôt want to work at the company anymore.</p>

<p>Finally, I had a lot of rejections. It ended up helping to not think ‚ÄúThey rejected me‚Äù but instead think ‚ÄúThis company doesn‚Äôt fit what I‚Äôm looking for‚Äù or ‚ÄúThis company doesn‚Äôt meet my needs.‚Äù Thinking in these terms helped me realize that really the process is not only for them to look at me, but me to look at them.<br>
<a name="tldr"></a></p>

<h3 id="so-sarah-where-did-you-end-up">So ‚Ä¶</h3></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://geekygirlsarah.com/2018/02/05/a-post-about-my-new-job-and-the-ones-i-didnt-get/">https://geekygirlsarah.com/2018/02/05/a-post-about-my-new-job-and-the-ones-i-didnt-get/</a></em></p>]]>
            </description>
            <link>https://geekygirlsarah.com/2018/02/05/a-post-about-my-new-job-and-the-ones-i-didnt-get/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24247797</guid>
            <pubDate>Sat, 22 Aug 2020 22:31:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Clean Start for the Web]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24247362">thread link</a>) | @simantel
<br/>
August 22, 2020 | https://macwright.com/2020/08/22/clean-starts-for-the-web.html | <a href="https://web.archive.org/web/*/https://macwright.com/2020/08/22/clean-starts-for-the-web.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The web is in need of some reinvention right now.</p><p>The web‚Äôs evolution over the last decade has mirrored the American economy. All of the essential indicators are going ‚Äúup and to the right,‚Äù a steady stream of fundamental advances reassure use that there ‚Äúis progress,‚Äù but the actual experience and effects for individuals stagnates or regresses.</p><p>The crisis affects platforms, creators, and consumers alike.</p><p><em>I‚Äôm going to try and dissect and diagnose this situation, a bit. You can skip forward if you just want to read my casual, unprofessional pitch for a reboot of the web. The idea is that we could choose a new lightweight markdown format to replace HTML &amp; CSS, split the web into documents and applications, and find performance, accessibility, and fun again.</em></p><details><summary>This post uses the pedantic definition of "the web"</summary>I've discussed attempts to reinvent the "Internet" a few times. Things like dat, IPFS, and arweave are all projects to reinvent an Internet, or a transport and data-sharing layer. The web is what lies on top of that, the HTML, CSS, URLs, JavaScript, browsing experience.</details><h3 id="the-platform-collapse">The platform collapse</h3><p>The platform side is what changed last week, when <a href="https://arstechnica.com/information-technology/2020/08/firefox-maker-mozilla-lays-off-250-workers-says-covid-19-lowered-revenue/">Mozilla laid off 250 employees</a> and indicated that it would affect Firefox development. Firefox wasn‚Äôt the #2 browser - that‚Äôs Safari, mainly because of the captive audience of iPhone and iPad users. But it was the most popular browser that people <em>chose</em> to use.</p><p><img alt="Chart of browser market share, with Chrome becoming the monopoly" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-chart-of-browser-market-share-with-chrome-becoming-the-monopoly.png"></p><p><em>Chart from <a href="https://gs.statcounter.com/browser-market-share#monthly-200901-202007">statcounter</a></em></p><p>The real winner is not just Chrome, but Chrome‚Äôs engine. One codebase, <a href="https://en.wikipedia.org/wiki/KHTML">KHTML</a>, split into <a href="https://en.wikipedia.org/wiki/WebKit">WebKit</a> (Safari), and <a href="https://en.wikipedia.org/wiki/Blink_(browser_engine)">Blink</a> (Chrome, Microsoft Edge, Opera, etc.)</p><p>This a textbook monoculture. In one sense, it‚Äôs a victory for collaboration because nobody‚Äôs ‚Äòwasting time‚Äô on competing implementations and web developers can expect the same features and bugs across different browsers. But in a deeper way, it threatens one of the basic principles of how the web has evolved.</p><h3 id="specs--implementations">Specs &amp; implementations</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.webp" type="image/webp"><img alt="Decline" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-decline.jpg"></picture></p><p>The web has evolved through a combination of <em>specifications</em> and <em>implementations</em>. Organizations like the <a href="https://whatwg.org/">WHATWG</a>, <a href="https://www.w3.org/">W3C</a>, and <a href="https://www.ietf.org/">IETF</a> have been collaboration spaces for independent developers, corporations, and academics to discuss potential new features of the web. Then, browsers would test those ideas out in a variety of implementations.</p><p>This was an interesting structural piece: it reassured us all that it was <em>possible</em> to follow along, and that a multi-participant web was one of our goals. It was frustrating to pull up <a href="https://caniuse.com/">caniuse</a> and see blank spots, but the idea was that different browsers may take the lead in some areas, but everyone catches up eventually. Chrome was not always the first to jump on features, or the first to optimize.</p><p>It‚Äôs slower to collaborate than to work alone, but it was beneficial in some ways that we‚Äôve lost now. Chrome has been moving extremely fast, adding new specifications and ideas at a startling rate, and it‚Äôs becoming one of the hardest pieces of software to replicate.</p><p>Mike Healy I think <a href="https://twitter.com/mike_hasarms/status/1296575224599556097">said it best</a>:</p><blockquote><p>Do you think the web has almost ‚Äòpriced itself out of the market‚Äô in terms of complexity if only 1-2 organisations are capable of building rendering engines for it?</p></blockquote><p>Not only is it nearly impossible to build a new browser from scratch, once you have one the ongoing cost of keeping up with standards requires a full team of experts. Read Drew DeVault‚Äôs <a href="https://drewdevault.com/2020/08/13/Web-browsers-need-to-stop.html">Web browsers need to stop</a> for that point, and keep reading all of Drew‚Äôs stuff.</p><details><summary>What about Flow?</summary>Yep, there‚Äôs a <a href="https://www.ekioh.com/flow-browser/">browser called Flow</a>, which may exist and may support a full range of web standards. If it does exist, I‚Äôll be very excited about it, but it has been teased for almost a year now without any concrete evidence, so it could equally be vaporware.</details><h3 id="the-problem-for-creators">The problem for creators</h3><p>The web has gotten much harder to develop for.</p><p>The web has had about 25 years to grow, few opportunities to shrink, and is now surrounded by an extremely short-sighted culture that is an outgrowth of economic and career short-termism. There are lots of <a href="https://frankchimero.com/blog/2018/everything-easy/">ways to do anything</a>, and some of the most popular ways of building applications on the web are - in my opinion - <a href="https://macwright.com/2020/05/10/spa-fatigue.html">usually ghoulish overkill</a>.</p><p>The best way for folks to enter <em>web development</em> in 2020 is to choose a niche, like <a href="https://vuejs.org/">Vue.js</a> or <a href="https://reactjs.org/">React</a>, and hope that there‚Äôs a CSS and accessibility expert on their team.</p><p>For folks who just want to create a web page, who don‚Äôt want to enter an industry, there‚Äôs a baffling array of techniques, but all the simplest, probably-best ones are stigmatized. It‚Äôs easier to stumble into building your resume in React with GraphQL than it is to type some HTML in Notepad.</p><h3 id="the-problem-for-consumers">The problem for consumers</h3><p>We hope that all this innovation is <em>for the user</em>, but often it isn‚Äôt. Modern websites seem to be as large, slow, and buggy as they‚Äôve ever been. Our computers are <a href="https://macwright.com/2019/11/15/something-is-wrong-with-computers.html">barely getting faster</a> and our internet connection speeds are stagnating (don‚Äôt even <em>try</em> to mention 5G). Webpage <a href="https://www.pingdom.com/blog/webpages-are-getting-larger-every-year-and-heres-why-it-matters/">size growth</a> is outpacing it all.</p><p>The end result is that I no longer expect pages to be fast, even with <a href="https://github.com/gorhill/uBlock">uBlock</a> installed in Firefox and a good local <a href="https://sonic.net/">fiber internet provider</a>.</p><p>I don‚Äôt want to lay all of the blame at <em>those web developers</em>, though. Here‚Äôs a story from an old job that I find kind of funny. We were collecting some data from user interactions to answer simple questions like ‚Äúdo people click to upload or do they drag &amp; drop?‚Äù So we enabled <a href="https://segment.com/">Segment</a>, a tool that lets you add data-collection pipelines by including a single script. The problem, though, is that Segment offered a big page of on/off switches with hundreds of data providers &amp; ad-tech companies on it. And, sure, enough, some folks closer to the business side started <em>clicking all those buttons</em>.</p><p>See, the problem with ads and data tracking is that <em>you can</em>, and who is going to say no? (In that instance, I said no, and added a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">CSP</a> that would block new advertiser access at the page level.)</p><h2 id="recreating-simplicity">Recreating simplicity</h2><blockquote><p>You cannot get a simple system by adding simplicity to a complex system. - <a href="http://erlang.org/pipermail/erlang-questions/2012-March/065087.html">Richard O‚ÄôKeefe</a></p></blockquote><p>Where do we go from here? Some of the smartest folks out there have been <a href="https://twitter.com/_developit/status/1296628134406692865">advocating for a major version revision</a> of the web.</p><p><em>I am in no way qualified to speculate on a whole new web from scratch, but the <a href="https://www.nytimes.com/2020/08/21/us/california-wildfires.html">air quality</a> is scary so I‚Äôm skipping my run and it‚Äôs Saturday morning so here we are.</em></p><p>How do we make the web fun, participatory, and good?</p><p>My first thought is that there are two webs:</p><h3 id="the-document-web">The document web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.webp" type="image/webp"><img alt="Illustration of web pages" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-web-pages.jpg"></picture></p><p>There is the ‚Äúdocument web‚Äù, like blogs, news, Wikipedia, Twitter, Facebook. This is basically the original vision of the web, as far as I can understand it (I was 2). Basically CSS, which we now think of as a way for designers to add brand identity and tweak pixel-perfect details, was instead mostly a way of making plain documents readable and letting the <em>readers</em> of those documents customize how they looked. This attribute actually <a href="https://twitter.com/autiomaa/status/1296755641164468224">survived for a while in Chrome, in the form of user stylesheets</a>, and <a href="https://davidwalsh.name/firefox-user-stylesheet">still works in Firefox</a>. Though it‚Äôs going to be a rough ride in the current web which has basically thrown away <a href="https://en.wikipedia.org/wiki/Semantic_HTML">semantic HTML</a> as an idea.</p><h3 id="the-application-web">The ‚Äúapplication‚Äù web</h3><p><picture><source srcset="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.webp" type="image/webp"><img alt="Illustration of machines" src="https://macwright.com/images/2020-08-22-clean-starts-for-the-web-illustration-of-machines.jpg"></picture></p><p>Then there‚Äôs the ‚Äúapplication web‚Äù. This started as <em>server</em> applications, built with things like <a href="https://www.djangoproject.com/">Django</a> and <a href="https://rubyonrails.org/">Ruby on Rails</a> and before them a variety of technologies that will live forever in corporations, like <a href="https://en.wikipedia.org/wiki/Jakarta_Servlet">Java Servlets</a>.</p><p><a href="https://backbonejs.org/">Backbone.js</a> demonstrated that a lot of these applications could be moved into the browser, and then <a href="https://reactjs.org/">React</a> and its many SPA-style competitors established a new order for the web ‚Äì highly-interactive, quite complex, client-side applications.</p><h3 id="the-war-between-the-parts-of-the-web">The war between the parts of the web</h3><p>I posit that this dual-nature is part of what gives the web its magic. But it‚Äôs also a destructive force.</p><p>The magic is that a simple blog can be creative expression, can be beautifully interactive. This one isn‚Äôt, but I‚Äôm just saying - <a href="https://www.typewolf.com/site-of-the-day">it‚Äôs possible</a>.</p><p>The problem is that the ‚Äúdocument web‚Äù is often plagued by application characteristics - it‚Äôs the JavaScript and animations and complexity that makes your average newspaper website an unmitigated disaster. Where document websites adopt application patterns they often accidentally sacrifice <a href="https://www.a11yproject.com/">accessibility</a>, performance, and <a href="https://en.wikipedia.org/wiki/Web_scraping">machine readability</a>.</p><p>And the ‚Äúapplication web‚Äù is plagued by the document characteristics - interactive applications are going to great lengths to avoid most of the essential characteristics of HTML &amp; CSS and just use them as raw materials - avoiding writing any HTML directly at all, avoiding <a href="https://mxstbr.com/thoughts/css-in-js">writing any CSS directly at all</a>, avoiding <a href="https://www.react-spring.io/">default animation features</a>, replacing <a href="https://reactrouter.com/">page-based navigation with something that looks like it but works completely differently</a>. The application web uses <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>, not HTML, and would like that in the browser itself, or <a href="https://svelte.dev/">Svelte</a>, instead of JavaScript, and would like that too.</p><p>When I read blog posts from ‚Äòtraditional web developers‚Äô who are mad that HTML &amp; CSS aren‚Äôt enough anymore and that everything is complicated ‚Äì&nbsp;I think this is largely that the application stack for building websites has replaced the document stack in a lot of places. Where we would use Jekyll or server-side rendering, we now use React or Vue.js. There are advantages to that, but for a lot of minimally-interactive websites, it‚Äôs throwing away decades worth of knowledge in exchange for certain performance perks that might not even matter.</p><p>The appeal of social networks is partly because they let us create <em>documents</em> without thinking about web technology, and they provide guarantees around performance, accessibility, and polish that otherwise would take up our time. You don‚Äôt have to think about whether your last Facebook post will load quickly on your friend‚Äôs phone or whether your Instagram post will be correctly cropped and resized in the timeline - those things are taken care of.</p><p>To some extent, this doesn‚Äôt <em>need</em> to be something that only social networks provide, though: standards like <a href="https://en.wikipedia.org/wiki/RSS">RSS</a> and services like <a href="https://www.instapaper.com/">Instapaper</a> show that pleasing formatting and distribution can be done at the <em>platform level</em> and be provided on top of existing vanilla websites.</p><details><summary>These are not absolutes.</summary>Yeah, I can hear it now: but these categories are not ‚Ä¶</details></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2020/08/22/clean-starts-for-the-web.html">https://macwright.com/2020/08/22/clean-starts-for-the-web.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2020/08/22/clean-starts-for-the-web.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24247362</guid>
            <pubDate>Sat, 22 Aug 2020 21:22:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hackers can get your PayPal information via your linked Nintendo accounts]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24247191">thread link</a>) | @Gamermeme
<br/>
August 22, 2020 | https://nintendosmash.com/hackers-can-get-the-paypal-information-via-your-linked-nintendo-accounts/ | <a href="https://web.archive.org/web/*/https://nintendosmash.com/hackers-can-get-the-paypal-information-via-your-linked-nintendo-accounts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="the-post">
			
			<p><img width="660" height="330" src="https://nintendosmash.com/wp-content/uploads/2020/04/nintendo-security-660x330.jpg" alt="Hackers can get the PayPal information via your linked Nintendo accounts">		</p>
	
		


			<div>

							

						
<p>
		
	
	
		
	<span><i></i>April 13, 2020</span>	
	<span><i></i><a href="https://nintendosmash.com/category/news/" rel="category tag">News</a></span>
	
	
</p>

			
				<div>
					
					
					
<p>If you have your PayPal account linked to Nintendo please remove it NOW. Hackers are active nowadays and trying to get access to your PayPal, it was informed by some of Social media Users.</p>




<p>Twitter users are reporting that hackers got their PayPal information via their linked Nintendo accounts and are using it to purchase V-bucks. </p>



<p>After a long conversation with the victims, we got that Hackers were managing to discover or tap into people‚Äôs PayPal information and use it to purchase V-Bucks, the premium currency for Fortnite.</p>



<p>On Mar 19, 2020, one of the Twitter users advised the Nintendo customers</p>



<blockquote><p> If you have your PayPal account linked to Nintendo please remove it NOW, me and several of my mutuals (among many others) have been hacked and hit with hundreds of dollars worth of charges of fortnite currency </p></blockquote>



<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>If you have your PayPal account linked to Nintendo please remove it NOW, me and several of my mutuals (among many others) have been hacked and hit with hundreds of dollars worth of charges of fortnite currency</p><p>I am out $250 and trying to keep my shit together and not explode lol</p></div>‚Äî ‚ú° Reed ‚ú° (@contrabeast) <a href="https://twitter.com/contrabeast/status/1240459185969664001?ref_src=twsrc%5Etfw">March 19, 2020</a></blockquote>
</div></figure>



<p>Furthermore, it was reported that a great number of users who attached their PayPal information to the Nintendo account got affected by the Hackers, although reports suggest that some people don‚Äôt even have Fortnite installed.</p>



<p>If you‚Äôre also one of them who got affected by the hackers, then you are advised not to contact your Bank on the spot.</p>



<figure><div>
<blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">This happened to my boyfriend a week ago. DO NOT CONTACT YOUR BANK FIRST OR NINTENDO WILL THINK YOUR COMMITTING FRAUD AND SUSPEND YOUR NINTENDO ACCOUNT. Contact them first so they are aware it was a charge not made by you. Just a heads up.</p>‚Äî tired bitch (@deceaseddeer) <a href="https://twitter.com/deceaseddeer/status/1240516586659815424?ref_src=twsrc%5Etfw">March 19, 2020</a></blockquote>
</div></figure>



<p>Because of this situation, you‚Äôre advised to unlink your PayPal Account. In order to unlink the payment method you first need to sign in to the Nintendo eShop as usual. Once in simply click on your profile icon in the top right-hand corner of the screen and this will bring up your account information. Next, you can scroll down to the PayPal account, which is about four options down. Finally, hit the unlink option to remove the payment method.</p>



<p>Keep in mind, a few days ago <a href="https://nintendosmash.com/nintendo-wants-you-to-use-2-step-verification-to-prevent-unauthorized-log-in-to-your-account/">Nintendo advised us to set a 2-step verification method</a>. This is the only way we can secure our account.</p>

 
















<!-- AI CONTENT END 3 -->
					
									</div><!-- .entry /-->
				
				
				 <!-- .share-post -->				
			</div><!-- .post-inner -->
		</article><section id="check-also-box">
		<a href="#" id="check-also-close"><i></i></a>

		<p>
			<h3>Check Also</h3>
		</p>

				
				<div>
						
			<p><a href="https://nintendosmash.com/rumor-points-to-a-new-nintendo-direct-for-next-week/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/03/direct-1-310x165.jpg" alt="Rumor points to a new Nintendo Direct for next week">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/rumor-points-to-a-new-nintendo-direct-for-next-week/" rel="bookmark">Rumor points to a new Nintendo Direct for next week</a></h2>
			<p>It seems that the rumors of Nintendo Direct continue to circulate. In the last few ‚Ä¶</p>
		</div>
				<div>
						
			<p><a href="https://nintendosmash.com/king-zell-claims-that-zelda-skyward-sword-hd-is-coming-to-nintendo-switch/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/08/zelda-skyword-310x165.jpg" alt="King Zell claims that Zelda: Skyward Sword HD is coming to Nintendo Switch">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/king-zell-claims-that-zelda-skyward-sword-hd-is-coming-to-nintendo-switch/" rel="bookmark">King Zell claims that Zelda: Skyward Sword HD is coming to Nintendo Switch</a></h2>
			<p>In recent days, a rumor has been circulating the network that Zelda: Skyward Sword was ‚Ä¶</p>
		</div>
				<div>
						
			<p><a href="https://nintendosmash.com/famous-granny-audie-shows-us-her-animal-crossing-new-horizons-island/">
					<img width="310" height="165" src="https://nintendosmash.com/wp-content/uploads/2020/08/animal-crossing-granny-island-310x165.jpg" alt="FAMOUS GRANNY AUDIE SHOWS US HER ANIMAL CROSSING: NEW HORIZONS ISLAND">					<span></span>
				</a>
			</p><!-- post-thumbnail /-->
						
			<h2><a href="https://nintendosmash.com/famous-granny-audie-shows-us-her-animal-crossing-new-horizons-island/" rel="bookmark">FAMOUS GRANNY AUDIE SHOWS US HER ANIMAL CROSSING: NEW HORIZONS ISLAND</a></h2>
			<p>Animal Crossing fans may remember Audrey, the 89-year-old grandmother who has famously clocked more than ‚Ä¶</p>
		</div>
			</section></div>]]>
            </description>
            <link>https://nintendosmash.com/hackers-can-get-the-paypal-information-via-your-linked-nintendo-accounts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24247191</guid>
            <pubDate>Sat, 22 Aug 2020 20:56:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Monoliths vs. Microservices for Junior Engineers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24246991">thread link</a>) | @sciencewolf
<br/>
August 22, 2020 | https://algodaily.com/lessons/monoliths-vs-microservices-for-junior-engineers?view=article | <a href="https://web.archive.org/web/*/https://algodaily.com/lessons/monoliths-vs-microservices-for-junior-engineers?view=article">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://algodaily.com/lessons/monoliths-vs-microservices-for-junior-engineers?view=article</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246991</guid>
            <pubDate>Sat, 22 Aug 2020 20:24:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Extrablatt ‚Äì customizable news article scraping in Rust and WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24246484">thread link</a>) | @matsche
<br/>
August 22, 2020 | https://mattsse.github.io/extrablatt/?url=https://www.nytimes.com/2020/08/21/technology/palantir-ipo-580-million-loss.html | <a href="https://web.archive.org/web/*/https://mattsse.github.io/extrablatt/?url=https://www.nytimes.com/2020/08/21/technology/palantir-ipo-580-million-loss.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mattsse.github.io/extrablatt/?url=https://www.nytimes.com/2020/08/21/technology/palantir-ipo-580-million-loss.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246484</guid>
            <pubDate>Sat, 22 Aug 2020 19:13:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Performance of Iodine over DNS-over-HTTPS]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24246443">thread link</a>) | @ZnZirconium
<br/>
August 22, 2020 | https://0day.work/performance-of-iodine-over-dns-over-https/ | <a href="https://web.archive.org/web/*/https://0day.work/performance-of-iodine-over-dns-over-https/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        <header>
        


        </header>

        <section>
            <!--kg-card-begin: markdown--><p><a href="https://code.kryo.se/iodine/">Iodine</a> is a DNS-tunnel that can be used to send TCP traffic encapsulated in DNS queries. Sometimes, this helps to bypass captive portals or otherwise restricted networks.</p>
<p>In this blogpost I'll test the performance of using Iodine in combination with <a href="https://en.wikipedia.org/wiki/DNS_over_HTTPS">DoH (DNS-over-HTTPS)</a>.</p>
<!-- more -->  
<p>For my test setup, I spun up a vanilla debian VM using vagrant and installed iodine in it. I have an iodine server running on one of my servers, but I won't cover the steps to install and configure it here, because <a href="https://0day.work/tunneling-all-traffic-over-dns-with-a-socks-proxy/">I already wrote a post about it</a>.</p>

<p>Before we start experimenting with DNS-over-HTTPS, let's measure the baseline performance of the DNS tunnel. For the measurements I used the TCP-based network throughput testing tool <a href="https://iperf.fr/">iperf</a>.</p>
<h2 id="rawmode">Raw mode</h2>
<p>Iodine has a raw mode - and if I understood it correctly - it sends the DNS traffic directly to the iodine DNS server, without going through the DNS resolver. That allows for quite a high bandwidth:</p>
<p><img src="https://0day.work/content/images/2019/02/iodine-raw.png" alt="Iodine raw connection"></p>
<p>As you can see, we can easily push more than 50mbit/s through the tunnel. Not too bad, I think.</p>
<h2 id="querymode">Query mode</h2>
<p>So in essence, using the raw mode is kinda cheating, because usually - at least with captive portals - a specific DNS resolver is enforced at the network level and we cannot simply bypass it.<br>
With that limitation in place, iodine has to send a lot of small DNS queries to transfer our traffic.</p>
<p>As we can see below, the initialisation phase gets longer, because iodine tries to figure out the best query type and maximum fragment size to use.</p>
<p><img src="https://0day.work/content/images/2019/02/iodine-query.png" alt="Iodine query connection 1"></p>
<p><img src="https://0day.work/content/images/2019/02/iodine-query2.png" alt="Iodine query connection 2"></p>
<p>The bandwidth went down from 50 mbit/s to only around 350 - 450 <strong>kbit/s</strong>.  That does not sound much, but ~ 50 kb/s might still be enough to slowly download a document at an airport or check one's emails in an emergency, but won't be enough to watch YouTube videos.</p>

<p><a href="https://en.wikipedia.org/wiki/DNS_over_HTTPS">DoH (DNS-over-HTTPS)</a> is a technique where DNS queries are not send in plaintext via UDP to DNS servers. Instead, the queries are send using TLS-encrypted HTTPS requests to special DoH API servers. For example, <a href="https://developers.cloudflare.com/1.1.1.1/dns-over-https/">Cloudflare operates such a server</a>.</p>
<p>You can use <code>curl</code> to resolve the A record for <code>0day.work</code> like this:</p>
<pre><code>$&gt; curl --silent -H 'accept: application/dns-json' 'https://cloudflare-dns.com/dns-query?name=0day.work&amp;type=A' | js-beautify
{
    "Status": 0,
    "TC": false,
    "RD": true,
    "RA": true,
    "AD": false,
    "CD": false,
    "Question": [{
        "name": "0day.work.",
        "type": 1
    }],
    "Answer": [{
        "name": "0day.work.",
        "type": 1,
        "TTL": 10789,
        "data": "185.26.156.49"
    }]
}
</code></pre>
<h2 id="dnscryptproxy">dnscrypt-proxy</h2>
<p><a href="https://github.com/jedisct1/dnscrypt-proxy/">dnscrypt-proxy</a> is a tool written in Go that can act as a local DNS resolver which transparently forwards the DNS queries to a DoH server.</p>
<p>The setup is quite straight forward: Simply download one of the pre-built <a href="https://github.com/jedisct1/dnscrypt-proxy/releases">releases packages</a>, rename the <code>example-dnscrypt-proxy.toml</code> to <code>dnscrypt-proxy.toml</code> and then run <code>sudo ./dnscrypt-proxy</code>. But before that, I changed <code>dnscrypt_servers = true</code> to <code>false</code>, so that the proxy will only use DoH to resolve the DNS queries.</p>
<p><img src="https://0day.work/content/images/2019/02/dnscrypt-resolv.png" alt="dnscrypt running and changed /etc/resolv.conf"><br>
Now we only have to tell our system to use the dnscrypt-proxy as its resolver. For that, we comment out all lines in <code>/etc/resolv.conf</code> and add <code>nameserver 127.0.0.1</code>, because the proxy bound itself to port 53. All queries from our system will go towards our dnscrypt proxy.</p>
<p>A test query using the tool <code>dig</code> shows that the proxy works and we can resolve DNS records over DoH:<br>
<img src="https://0day.work/content/images/2019/02/dnscrypt-dig.png" alt="dnscrypt DNS query test"></p>
<h2 id="iodineanddoh">Iodine and DoH</h2>
<p>Let's get to the interesting part: The performance of Iodine over the DoH-based DNS resolver.</p>
<p>Spoiler: It is terrible :-( It also took me multiple tries until iodine managed to setup the tunnel.</p>
<p><img src="https://0day.work/content/images/2019/02/iodine-dnscrypt.png" alt="Iodine performance over DoH 1"></p>
<p>In the lower part of the screenshot you can see that <code>tshark</code> does not capture any packets going out over port 53. That means that iodine is really using the dnscrypt-proxy.</p>
<p><img src="https://0day.work/content/images/2019/02/iodine-dnscrypt2.png" alt="Iodine performance over DoH 2"></p>
<p>We can also see that iodine throws several errors/warnings and complains about server's replies.</p>
<p>In the end we have only between 30 - 90 kbit/s. I have not tried starting a SSH session or something else. Maybe mosh might somewhat work, but I do not believe that using iodine over DoH is a pleasant experience in general.</p>
<p>To be honest, it does not surprise me at all, because each DNS query that iodine sends is a separate HTTPS request and as you might have seen in the first dnscrypt screenshot, the average RTT is between 18ms - 78ms.</p>
<p>-=-</p>
<!--kg-card-end: markdown-->
        </section>

        

    </article>
    
</div></div>]]>
            </description>
            <link>https://0day.work/performance-of-iodine-over-dns-over-https/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246443</guid>
            <pubDate>Sat, 22 Aug 2020 19:08:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to set up a custom domain on GitHub Pages for free]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24246414">thread link</a>) | @stin23
<br/>
August 22, 2020 | https://austinrepp.com/githubpagescustomdomain/ | <a href="https://web.archive.org/web/*/https://austinrepp.com/githubpagescustomdomain/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
            

            <div id="container">


<div>
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
        

        <div itemprop="articleBody">
    

    <p>For this tutorial I will be assuming you have already setup a site on Github Pages that‚Äôs being run on the standard <code>USERNAME.github.io</code> domain. If you haven‚Äôt done so, a quick Google search will yield lots of articles explaining the process. I‚Äôm using Bluehost as my domain provider, but the steps should be similar for any major domain provider.</p>
<h2 id="setup-in-github-repository">Setup in Github repository</h2>
<p>In your Github repo for the site, navigate to the ‚ÄúSettings‚Äù tab. Scroll down and you will find an area for Github Pages setup. In the Custom Domain section, enter the domain name you want to use and click save.
<img src="https://i.imgur.com/UEKZ7VS.png" alt="Github Domain">
If you‚Äôre using a static site generator, you may already have a file in your repo called CNAME. If you don‚Äôt, you can create one. Inside this file, place the domain name. 
<img src="https://i.imgur.com/NQKTehC.png" alt="CNAME"></p>
<h2 id="host-record-setup">Host record setup</h2>
<p>Now open the domain provider that you are using, and navigate to the DNS section for the domain you are interested in using.</p>
<p>First you will need to add four A host records. The host record for each of these is ‚Äú@‚Äù. The image below shows what it looks like on Bluehost. 
<img src="https://i.imgur.com/3B5bev3.png" alt="A host">
The four IP addresses (at the time of writing this) for each record to be added are:</p>
<ul>
<li>185.199.108.153</li>
<li>185.199.109.153</li>
<li>185.199.110.153</li>
<li>185.199.111.153</li>
</ul>
<p>Next, we need to add a CNAME record for the www site record. This will be in the format <code>USERNAME.github.io</code>
<img src="https://i.imgur.com/P3zGhXl.png" alt="CNAME"></p>
<p>That‚Äôs it! The records will probably take some time to update, so be patient. After they update you should see your site live on the domain you‚Äôve provided.</p>

</div>

        

        
    </article>
</div>

            </div>
        </div></div>]]>
            </description>
            <link>https://austinrepp.com/githubpagescustomdomain/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246414</guid>
            <pubDate>Sat, 22 Aug 2020 19:05:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How a Kubernetes pod gets an IP address]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24246373">thread link</a>) | @ronaknnathani
<br/>
August 22, 2020 | https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/ | <a href="https://web.archive.org/web/*/https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>One of the core requirements of the
<a href="https://kubernetes.io/docs/concepts/cluster-administration/networking/#the-kubernetes-network-model" target="_blank" rel="noopener">Kubernetes networking model</a> is that every pod should get its own IP address and that every pod in the cluster should be able to talk to it using this IP address. There are several network providers (flannel, calico, canal, etc.) that implement this networking model.</p><p>As I started working on Kubernetes, it wasn‚Äôt completely clear to me how every pod is assigned an IP address. I understood how various components worked independently, however, it wasn‚Äôt clear how these components fit together. For instance, I understood what CNI plugins were, however, I didn‚Äôt know how they were invoked. So, I wanted to write this post to share what I have learned about various networking components and how they are stitched together in a kubernetes cluster for every pod to receive an IP address.</p><p>There are various ways of setting up networking in kubernetes and various options for a container runtime. For this post, I will use
<a href="https://github.com/coreos/flannel" target="_blank" rel="noopener">Flannel</a> as the network provider and
<a href="https://github.com/containerd/containerd" target="_blank" rel="noopener">Containerd</a> as the container runtime. Also, I am going to assume that you know how container networking works and only share a very brief overview below for context.</p><h2 id="some-background-concepts">Some Background Concepts</h2><h3 id="container-networking-a-very-brief-overview">Container Networking: A Very Brief Overview</h3><p>There are some really good posts explaining how container networking works. For context, I will go over a very high level overview here with a single approach that involves linux bridge networking and packet encapsulation. I am skipping details here as container networking deserves a blog post of itself. Some of the posts that I have found to be very educational in this space are
<a href="#container-networking">linked in the references below</a>.</p><h4 id="containers-on-the-same-host">Containers on the same host</h4><p>One of the ways containers running on the same host can talk to each other via their IP addresses is through a linux bridge. In the kubernetes (and docker) world, a
<a href="https://man7.org/linux/man-pages/man4/veth.4.html" target="_blank" rel="noopener">veth (virtual ethernet)</a> device is created to achieve this. One end of this veth device is inserted into the container network namespace and the other end is connected to a
<a href="https://wiki.archlinux.org/index.php/Network_bridge" target="_blank" rel="noopener">linux bridge</a> on the host network. All containers on the same host have one end of this veth pair connected to the linux bridge and they can talk to each other using their IP addresses via the bridge. The linux bridge is also assigned an IP address and it acts as a gateway for egress traffic from pods destined to different nodes.
<img src="https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/bridge-networking.png" alt="bridge networking"></p><h4 id="containers-on-different-hosts">Containers on different hosts</h4><p>One of the ways containers running on different hosts can talk to each other via their IP addresses is by using packet encapsulation. Flannel supports this through
<a href="https://vincent.bernat.ch/en/blog/2017-vxlan-linux" target="_blank" rel="noopener">vxlan</a> which wraps the original packet inside a UDP packet and sends it to the destination.</p><p>In a kubernetes cluster, flannel creates a vxlan device and some route table entries on each of the nodes. Every packet that‚Äôs destined for a container on a different host goes through the vxlan device and is encapsulated in a UDP packet. On the destination, the encapsulated packet is retrieved and the packet is routed through to the destined pod.
<img src="https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/flannel-networking.png" alt="flannel networking"></p><p><em>NOTE: This is just one of the ways how networking between containers can be configured.</em></p><h3 id="what-is-cri">What Is CRI?</h3><p><a href="https://github.com/kubernetes/cri-api" target="_blank" rel="noopener">CRI (Container Runtime Interface)</a> is a plugin interface that allows kubelet to use different container runtimes. Various container runtimes implement the CRI API and this allows users to use the container runtime of their choice in their kubernetes installation.</p><h3 id="what-is-cni">What is CNI?</h3><p><a href="https://github.com/containernetworking/cni" target="_blank" rel="noopener">CNI project</a> includes a
<a href="https://github.com/containernetworking/cni/blob/master/SPEC.md" target="_blank" rel="noopener">spec</a> to provide a generic plugin-based networking solution for linux containers. It also consists of various
<a href="https://github.com/containernetworking/plugins" target="_blank" rel="noopener">plugins</a> which perform different functions in configuring the pod network. A CNI plugin is an executable that follows the CNI spec and we‚Äôll discuss some plugins in the post below.</p><h2 id="assigning-subnets-to-nodes-for-pod-ip-addresses">Assigning Subnets To Nodes For Pod IP Addresses</h2><p>If all pods are required to have an IP address, it‚Äôs important to ensure that all pods across the entire cluster have a unique IP address. This is achieved by assigning each node a unique subnet from which pods are assigned IP addresses on that node.</p><h3 id="node-ipam-controller">Node IPAM Controller</h3><p>When <code>nodeipam</code> is passed as an option to the
<a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-controller-manager/" target="_blank" rel="noopener">kube-controller-manager‚Äôs</a> <code>--controllers</code> command line flag, it allocates each node a dedicated subnet (podCIDR) from the cluster CIDR (IP range for the cluster network). Since these podCIDRs are disjoint subnets, it allows assigning each pod a unique IP address.</p><p>A kubernetes node is assigned a podCIDR when the node first registers with the cluster. To change the podCIDR allocated to nodes in a cluster, nodes need to be de-registered and then re-registered with any configuration changes first applied to the kubernetes control plane. <code>podCIDR</code> for a node can be listed using the following command.</p><pre><code>$ kubectl get no &lt;nodeName&gt; -o json | jq '.spec.podCIDR'
10.244.0.0/24
</code></pre><h2 id="kubelet-container-runtime-and-cni-plugins---how-its-all-stitched-together">Kubelet, Container Runtime and CNI Plugins - how it‚Äôs all stitched together</h2><p>When a pod is scheduled on a node, a lot of things happen to start up a pod. In this section, I‚Äôll only focus on the interactions that relate to configuring network for the pod.</p><p>Once a pod is scheduled on the node, the following interactions result in configuring the network and starting the application container.
<img src="https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/kubelet-cri-cni-flowchart.png" alt="kubelet-cri-cni-flowchart"></p><p>Ref:
<a href="https://github.com/containerd/cri/blob/v1.11.1/docs/architecture.md" target="_blank" rel="noopener">Containerd cri plugin architecture</a></p><h2 id="interactions-between-container-runtime-and-cni-plugins">Interactions between Container Runtime and CNI Plugins</h2><p>Every network provider has a CNI plugin which is invoked by the container runtime to configure network for a pod as it‚Äôs started. With containerd as the container runtime,
<a href="https://github.com/containerd/cri" target="_blank" rel="noopener">Containerd CRI plugin</a> invokes the CNI plugin. Every network provider also has an agent that‚Äôs installed on each of the kubernetes node to configure pod networking. When the network provider agent is installed, it either ships with the CNI config or it creates one on the node which is then used by the CRI plugin to figure out which CNI plugin to call.</p><p>The location for the CNI config file is configurable and the default value is <code>/etc/cni/net.d/&lt;config-file&gt;</code>. CNI plugins need to be shipped on every node by the cluster administrators. The location for CNI plugins is configurable as well and the default value is <code>/opt/cni/bin</code>.</p><p>In case of containerd as the container runtime, path for CNI configuration and CNI plugin binaries can be specified under <code>[plugins."io.containerd.grpc.v1.cri".cni]</code> section of the
<a href="https://github.com/containerd/cri/blob/master/docs/config.md" target="_blank" rel="noopener">containerd config</a>.</p><p>Since we are referring to Flannel as the network provider here, I‚Äôll talk a little about how Flannel is set up. Flanneld is the Flannel daemon and is typically installed on a kubernetes cluster as a daemonset with <code>install-cni</code> as an
<a href="https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml#L172" target="_blank" rel="noopener">init container</a>. The <code>install-cni</code> container creates the
<a href="https://gist.github.com/ronaknnathani/957a56210bd4fbd8e11120273c6b4ede" target="_blank" rel="noopener">CNI configuration file</a> - <code>/etc/cni/net.d/10-flannel.conflist</code> - on each node. Flanneld creates a vxlan device, fetches networking metadata from the apiserver and watches for updates on pods. As pods are created, it distributes routes for all pods across the entire cluster and these routes allow pods to connect to each other via their IP addresses. For details on how flannel works, I recommend the
<a href="#how-flannel-works">linked references below</a>.</p><p>The interactions between Containerd CRI Plugin and CNI plugins can be visualized as follows:
<img src="https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/kubelet-cri-cni-interactions.png" alt="kubelet-cri-cni-interactions"></p><p>As described above, kubelet calls the Containerd CRI plugin in order to create a pod and Containerd CRI plugin calls the CNI plugin to configure network for the pod. The network provider CNI plugin calls other base CNI plugins to configure the network. The interactions between CNI plugins are described below.</p><h3 id="interactions-between-cni-plugins">Interactions Between CNI Plugins</h3><p>There are various CNI plugins that help configure networking between containers on a host. For this post, we will refer to 3 plugins.</p><h4 id="flannel-cni-plugin">Flannel CNI Plugin</h4><p>When using Flannel as the network provider, the Containerd CRI plugin invokes the
<a href="https://github.com/containernetworking/plugins/tree/master/plugins/meta/flannel" target="_blank" rel="noopener">Flannel CNI plugin</a> using the CNI configuration file - <code>/etc/cni/net.d/10-flannel.conflist</code>.</p><pre><code>$ cat /etc/cni/net.d/10-flannel.conflist
{
  "name": "cni0",
  "plugins": [
    {
      "type": "flannel",
      "delegate": {
		 "ipMasq": false,
        "hairpinMode": true,
        "isDefaultGateway": true
      }
    }
  ]
}
</code></pre><p>The Fannel CNI plugin works in conjunction with Flanneld. When Flanneld starts up, it fetches the podCIDR and other network related details from the apiserver and stores them in a file - <code>/run/flannel/subnet.env</code>.</p><pre><code>FLANNEL_NETWORK=10.244.0.0/16 
FLANNEL_SUBNET=10.244.0.1/24
FLANNEL_MTU=1450 
FLANNEL_IPMASQ=false
</code></pre><p>The Flannel CNI plugin uses the information in <code>/run/flannel/subnet.env</code> to configure and invoke the bridge CNI plugin.</p><h4 id="bridge-cni-plugin">Bridge CNI Plugin</h4><p>Flannel CNI plugin calls the Bridge CNI plugin with the following configuration:</p><pre><code>{
  "name": "cni0",
  "type": "bridge",
  "mtu": 1450,
  "ipMasq": false,
  "isGateway": true,
  "ipam": {
    "type": "host-local",
    "subnet": "10.244.0.0/24"
  }
}
</code></pre><p>When
<a href="https://github.com/containernetworking/plugins/tree/master/plugins/main/bridge" target="_blank" rel="noopener">Bridge CNI plugin</a> is invoked for the first time, it creates a linux bridge with the <code>"name": "cni0"</code> specified in the config file. For every pod, it then creates a veth pair - one end of the pair is in the container‚Äôs network namespace and the other end is connected to the linux bridge on the host network. With Bridge CNI plugin, all containers on a host are connected to the linux bridge on the host network.</p><p>After configuring the veth pair, Bridge plugin invokes the host-local IPAM CNI plugin. Which IPAM plugin to use can be configured in the CNI config CRI plugin uses to call the flannel CNI plugin.</p><h4 id="host-local-ipam-cni-plugins">Host-local IPAM CNI plugins</h4><p>The Bridge CNI plugin calls the
<a href="https://github.com/containernetworking/plugins/tree/master/plugins/ipam/host-local" target="_blank" rel="noopener">host-local IPAM CNI plugin</a> with the following configuration:</p><pre><code>{
  "name": "cni0",
  "ipam": {
    "type": "host-local",
    "subnet": "10.244.0.0/24",
    "dataDir": "/var/lib/cni/networks"
  }
}
</code></pre><p>Host-local IPAM (IP Address Management) plugin returns an IP address for the container from the <code>subnet</code> and stores the allocated IP locally on the host under the directory specified under <code>dataDir</code> - <code>/var/lib/cni/networks/&lt;network-name=cni0&gt;/&lt;ip&gt;</code>. <code>/var/lib/cni/networks/&lt;network-name=cni0&gt;/&lt;ip&gt;</code> file contains the container ID to which the IP is assigned.</p><p>When invoked, the host-local IPAM plugin returns the following payload</p><pre><code>{
  "ip4": {
    "ip": "10.244.4.2",
    "gateway": "10.244.4.3"
  },
  "dns": {}
}
</code></pre><h2 id="summary">Summary</h2><p>Kube-controller-manager assigns a podCIDR to each node. Pods on a node are ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/">https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/</a></em></p>]]>
            </description>
            <link>https://ronaknathani.com/blog/2020/08/how-a-kubernetes-pod-gets-an-ip-address/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246373</guid>
            <pubDate>Sat, 22 Aug 2020 19:01:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Versioned Finite State Machines in Postgres]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24246147">thread link</a>) | @minxomat
<br/>
August 22, 2020 | https://raphael.medaer.me/2019/06/12/pgfsm.html | <a href="https://web.archive.org/web/*/https://raphael.medaer.me/2019/06/12/pgfsm.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>Inspired by <a href="https://felixge.de/2017/07/27/implementing-state-machines-in-postgresql.html">Felix Geisendorfer blog post</a> I implemented a database FSM (Finite-State Machine) with Postgresql.
I brought some improvements to Felix‚Äôs implementation but before reading the following I recommend you to read carefully <a href="https://felixge.de/2017/07/27/implementing-state-machines-in-postgresql.html">the original post</a>.
<!--more--></p>

<p><strong>TL;DR</strong> Here are the changes I did:</p>

<ul>
  <li>Introduced a versioning control of the FSM.</li>
  <li>Optimized performances and data storage.</li>
  <li>Added some protection against user mistakes</li>
</ul>

<p>To keep it simple I‚Äôll use exactly the same FSM graph than Felix: an ordering process with payment and shipment steps.</p>

<p><img src="https://raphael.medaer.me/assets/img/pgfsm-graph-v1.png" alt=""></p>

<h3 id="types-optimization">Types optimization</h3>

<p>First I replaced the storage of states/events from <code>text</code> to <code>enum</code>. Because I have a finite number of states and transitions I can properly store them as custom <code>enum</code>. It reduces the storage of these to a lighter and constant 4 bytes.</p>

<div><div><pre><code><span>CREATE</span> <span>TYPE</span> <span>order_state</span> <span>AS</span> <span>ENUM</span> <span>(</span>
  <span>'start'</span><span>,</span>
  <span>'awaiting_payment'</span><span>,</span>
  <span>'awaiting_shipment'</span><span>,</span>
  <span>'awaiting_refund'</span><span>,</span>
  <span>'shipped'</span><span>,</span>
  <span>'canceled'</span><span>,</span>
  <span>'error'</span>
<span>);</span>
<span>CREATE</span> <span>TYPE</span> <span>order_event</span> <span>AS</span> <span>ENUM</span> <span>(</span>
  <span>'create'</span><span>,</span>
  <span>'pay'</span><span>,</span>
  <span>'ship'</span><span>,</span>
  <span>'refund'</span><span>,</span>
  <span>'cancel'</span>
<span>);</span>
</code></pre></div></div>

<p>If later I have to add new state or event I can easily do:</p>

<div><div><pre><code><span>ALTER</span> <span>TYPE</span> <span>order_event</span> <span>ADD</span> <span>VALUE</span> <span>'my_new_event'</span><span>;</span>
</code></pre></div></div>

<p>Obviously it impacts the <code>order_events</code> table:</p>

<div><div><pre><code><span>CREATE</span> <span>TABLE</span> <span>order_events</span> <span>(</span>
  <span>id</span> <span>bigint</span> <span>GENERATED</span> <span>ALWAYS</span> <span>AS</span> <span>IDENTITY</span> <span>PRIMARY</span> <span>KEY</span><span>,</span>
  <span>order_id</span> <span>uuid</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>uuid_generate_v4</span><span>(),</span>
  <span>event</span> <span>order_event</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>'create'</span><span>,</span>
  <span>time</span> <span>timestamp</span> <span>DEFAULT</span> <span>now</span><span>()</span> <span>NOT</span> <span>NULL</span>
<span>);</span>
</code></pre></div></div>

<p>As you noticed I replaced the <code>order_id</code> type from <code>INT</code> to <code>uuid</code>. In brief because it‚Äôs out of scope: <a href="https://www.clever-cloud.com/blog/engineering/2015/05/20/why-auto-increment-is-a-terrible-idea/">I never use serial for fields going out of database</a>.</p>

<h3 id="transition-mechanism-improvements">Transition mechanism improvements</h3>

<p>In his implementation, Felix Geisendorfer is using a <code>switch</code> statement to implement the state transition.
It‚Äôs a fine and straightforward solution. However, if you have more states/events it could become hard to maintain. Furthermore if you want to version your FSM, you‚Äôll often have to <code>CREATE OR REPLACE FUNCTION</code>.
Instead I created a <em>mapping table</em> with 3 columns:</p>

<ul>
  <li><code>state</code>: the current state</li>
  <li><code>event</code>: the event which causes the transition</li>
  <li><code>next_state</code>: the resulting state</li>
</ul>

<div><div><pre><code><span>CREATE</span> <span>TABLE</span> <span>order_events_transitions</span> <span>(</span>
  <span>state</span>      <span>order_state</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>event</span>      <span>order_event</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>next_state</span> <span>order_state</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>PRIMARY</span> <span>KEY</span> <span>(</span><span>state</span><span>,</span> <span>event</span><span>,</span> <span>next_state</span><span>)</span>
<span>);</span>
</code></pre></div></div>

<p><em>AN: I can limit transitions to only one path for two given states with <code>PRIMARY KEY (state, event)</code>.</em></p>

<p>Any transition which is not in this table will be resolved as <code>error</code> state in our new transition function:</p>

<div><div><pre><code><span>CREATE</span> <span>FUNCTION</span> <span>order_events_transition</span><span>(</span><span>_state</span> <span>order_state</span><span>,</span> <span>_event</span> <span>order_event</span><span>)</span>
<span>RETURNS</span> <span>order_state</span> <span>LANGUAGE</span> <span>sql</span> <span>AS</span> <span>$$</span>
<span>SELECT</span> <span>COALESCE</span><span>(</span>
  <span>(</span><span>SELECT</span> <span>next_state</span> <span>FROM</span> <span>order_events_transitions</span> <span>WHERE</span> <span>state</span><span>=</span><span>_state</span> <span>AND</span> <span>event</span><span>=</span><span>_event</span><span>),</span>
  <span>'error'</span><span>::</span><span>order_state</span>
<span>);</span>
<span>$$</span><span>;</span>
</code></pre></div></div>

<p><em>AN: There is maybe a better way then ‚ÄúCOALESCE‚Äù to implement the ‚Äúdefault‚Äù‚Ä¶</em></p>

<p>OK! It‚Äôs now time to write valid transitions:</p>

<div><div><pre><code><span>INSERT</span> <span>INTO</span> <span>order_events_transitions</span> <span>VALUES</span>
  <span>(</span><span>'start'</span><span>,</span>             <span>'create'</span><span>,</span> <span>'awaiting_payment'</span> <span>),</span>
  <span>(</span><span>'awaiting_payment'</span><span>,</span>  <span>'pay'</span><span>,</span>    <span>'awaiting_shipment'</span><span>),</span>
  <span>(</span><span>'awaiting_payment'</span><span>,</span>  <span>'cancel'</span><span>,</span> <span>'canceled'</span>         <span>),</span>
  <span>(</span><span>'awaiting_shipment'</span><span>,</span> <span>'cancel'</span><span>,</span> <span>'awaiting_refund'</span>  <span>),</span>
  <span>(</span><span>'awaiting_shipment'</span><span>,</span> <span>'ship'</span><span>,</span>   <span>'shipped'</span>          <span>),</span>
  <span>(</span><span>'awaiting_refund'</span><span>,</span>   <span>'refund'</span><span>,</span> <span>'canceled'</span>         <span>);</span>
</code></pre></div></div>

<h3 id="fsm-graph-versioning">FSM graph versioning</h3>

<p>In real life my use cases and business processes are moving (fast). Probably yours as well.
Since the FSM I build is the implementation of this processes, each change IRL impacts my database design.</p>

<p>For instance a state <code>awaiting_approval</code> could be added before allowing to pay.</p>

<p><img src="https://raphael.medaer.me/assets/img/pgfsm-graph-v2.png" alt=""></p>

<p>If I change my transition function and table without taking care of past <code>order_events</code>, I will completly break my FSM. Indeed because I‚Äôm moving the <code>create</code> event, all the already recorded transitions will raise an <code>error</code> state. It‚Äôs not <a href="https://en.wikipedia.org/wiki/Maintainability">maintainable</a>!</p>

<blockquote>
  <p>How to handle multiple versions of my FSM graph ?</p>
</blockquote>

<p>Introducing version control in my design will solve this issue.</p>

<p>First I create a table to store the versions and their status:</p>

<div><div><pre><code><span>CREATE</span> <span>TYPE</span> <span>order_fsm_version_status</span> <span>AS</span> <span>ENUM</span> <span>(</span>
  <span>'live'</span><span>,</span>
  <span>'deprecated'</span><span>,</span>
  <span>'obsolete'</span>
<span>);</span>
<span>CREATE</span> <span>TABLE</span> <span>order_fsm_versions</span><span>(</span>
  <span>version</span> <span>integer</span> <span>GENERATED</span> <span>ALWAYS</span> <span>AS</span> <span>IDENTITY</span> <span>PRIMARY</span> <span>KEY</span><span>,</span>
  <span>status</span>  <span>order_fsm_version_status</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>'live'</span>
<span>);</span>
</code></pre></div></div>

<p>In the meanwhile I create a function to get the last FSM up-and-running version:</p>

<div><div><pre><code><span>CREATE</span> <span>FUNCTION</span> <span>order_fsm_last_version</span><span>()</span>
<span>RETURNS</span> <span>integer</span> <span>LANGUAGE</span> <span>sql</span> <span>AS</span> <span>$$</span>
<span>SELECT</span> <span>version</span> <span>FROM</span> <span>order_fsm_versions</span> <span>WHERE</span> <span>status</span><span>=</span><span>'live'</span> <span>ORDER</span> <span>BY</span> <span>version</span> <span>DESC</span> <span>LIMIT</span> <span>1</span><span>;</span>
<span>$$</span><span>;</span>
</code></pre></div></div>
<p>Both <code>order_events</code> and <code>order_events_transitions</code> will need to reference this version:</p>

<div><div><pre><code><span>CREATE</span> <span>TABLE</span> <span>order_events</span> <span>(</span>
  <span>id</span>       <span>bigint</span>      <span>GENERATED</span> <span>ALWAYS</span> <span>AS</span> <span>IDENTITY</span> <span>PRIMARY</span> <span>KEY</span><span>,</span>
  <span>order_id</span> <span>uuid</span>        <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>uuid_generate_v4</span><span>(),</span>
  <span>event</span>    <span>order_event</span> <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>'create'</span><span>,</span>
  <span>version</span>  <span>integer</span>     <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>order_fsm_last_version</span><span>(),</span>
  <span>time</span>     <span>timestamp</span>   <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>now</span><span>(),</span>
  <span>FOREIGN</span> <span>KEY</span> <span>(</span><span>version</span><span>)</span> <span>REFERENCES</span> <span>order_fsm_versions</span><span>(</span><span>version</span><span>)</span>
<span>);</span>

<span>CREATE</span> <span>TABLE</span> <span>order_events_transitions</span> <span>(</span>
  <span>state</span>      <span>order_state</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>event</span>      <span>order_event</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>version</span>    <span>integer</span>     <span>NOT</span> <span>NULL</span> <span>DEFAULT</span> <span>order_fsm_last_version</span><span>(),</span>
  <span>next_state</span> <span>order_state</span> <span>NOT</span> <span>NULL</span><span>,</span>
  <span>PRIMARY</span> <span>KEY</span> <span>(</span><span>state</span><span>,</span> <span>event</span><span>,</span> <span>version</span><span>,</span> <span>next_state</span><span>),</span>
  <span>FOREIGN</span> <span>KEY</span> <span>(</span><span>version</span><span>)</span> <span>REFERENCES</span> <span>order_fsm_versions</span><span>(</span><span>version</span><span>)</span>
<span>);</span>
</code></pre></div></div>

<p>The transition function and its aggregate also have to take care of this version number:</p>

<div><div><pre><code><span>CREATE</span> <span>FUNCTION</span> <span>order_events_transition</span><span>(</span>
  <span>_state</span> <span>order_state</span><span>,</span>
  <span>_event</span> <span>order_event</span><span>,</span>
  <span>_version</span> <span>integer</span> <span>DEFAULT</span> <span>order_fsm_last_version</span><span>()</span>
<span>)</span> <span>RETURNS</span> <span>order_state</span> <span>LANGUAGE</span> <span>sql</span> <span>AS</span> <span>$$</span>
  <span>SELECT</span> <span>COALESCE</span><span>(</span>
    <span>(</span><span>SELECT</span> <span>next_state</span>
     <span>FROM</span> <span>order_events_transitions</span>
     <span>WHERE</span> <span>state</span><span>=</span><span>_state</span> <span>AND</span> <span>event</span><span>=</span><span>_event</span> <span>AND</span> <span>version</span><span>=</span><span>_version</span><span>),</span>
    <span>'error'</span><span>::</span><span>order_state</span><span>);</span>
<span>$$</span><span>;</span>
<span>CREATE</span> <span>AGGREGATE</span> <span>order_events_fsm</span><span>(</span><span>order_event</span><span>,</span> <span>integer</span><span>)</span> <span>(</span>
  <span>SFUNC</span> <span>=</span> <span>order_events_transition</span><span>,</span>
  <span>STYPE</span> <span>=</span> <span>order_state</span><span>,</span>
  <span>INITCOND</span> <span>=</span> <span>'start'</span>
<span>);</span>
</code></pre></div></div>

<p>And finally we have to restrict some transitions according to version status. It is done in the <code>order_events_trigger</code>:</p>

<div><div><pre><code><span>CREATE</span> <span>FUNCTION</span> <span>order_events_trigger_func</span><span>()</span> <span>RETURNS</span> <span>trigger</span>
<span>LANGUAGE</span> <span>plpgsql</span> <span>AS</span> <span>$$</span>
<span>DECLARE</span>
  <span>next_state</span> <span>order_state</span><span>;</span>
  <span>transition_status</span> <span>order_fsm_version_status</span><span>;</span>
<span>BEGIN</span>
  <span>SELECT</span> <span>status</span> <span>FROM</span> <span>order_fsm_versions</span> <span>WHERE</span> <span>version</span><span>=</span><span>new</span><span>.</span><span>version</span> <span>INTO</span> <span>transition_status</span><span>;</span>
  <span>IF</span> <span>transition_status</span> <span>=</span> <span>'deprecated'</span><span>::</span><span>order_fsm_version_status</span> <span>THEN</span>
    <span>RAISE</span> <span>NOTICE</span> <span>'version % is deprecated'</span><span>,</span> <span>new</span><span>.</span><span>version</span><span>;</span>
  <span>END</span> <span>IF</span><span>;</span>
  <span>IF</span> <span>transition_status</span> <span>=</span> <span>'obsolete'</span><span>::</span><span>order_fsm_version_status</span> <span>THEN</span>
    <span>RAISE</span> <span>EXCEPTION</span> <span>'version % is obsolete'</span><span>,</span> <span>new</span><span>.</span><span>version</span><span>;</span>
  <span>END</span> <span>IF</span><span>;</span>

  <span>SELECT</span> <span>order_events_fsm</span><span>(</span><span>event</span><span>,</span> <span>version</span> <span>ORDER</span> <span>BY</span> <span>id</span><span>)</span>
  <span>FROM</span> <span>(</span>
    <span>SELECT</span> <span>id</span><span>,</span> <span>event</span><span>,</span> <span>version</span> <span>FROM</span> <span>order_events</span> <span>WHERE</span> <span>order_id</span> <span>=</span> <span>new</span><span>.</span><span>order_id</span>
    <span>UNION</span>
    <span>SELECT</span> <span>new</span><span>.</span><span>id</span><span>,</span> <span>new</span><span>.</span><span>event</span><span>,</span> <span>new</span><span>.</span><span>version</span>
  <span>)</span> <span>s</span>
  <span>INTO</span> <span>next_state</span><span>;</span>

  <span>IF</span> <span>next_state</span> <span>=</span> <span>'error'</span><span>::</span><span>order_state</span> <span>THEN</span>
    <span>RAISE</span> <span>EXCEPTION</span> <span>'invalid order event'</span><span>;</span>
  <span>END</span> <span>IF</span><span>;</span>

  <span>RETURN</span> <span>new</span><span>;</span>
<span>END</span>
<span>$$</span><span>;</span>
</code></pre></div></div>

<p>I can now introduce new versions of my FSM graph and deprecate previous one. When I insert row in <code>order_events</code> it is using by default the last <code>live</code> version of the graph.</p>

<div><div><pre><code><span>INSERT</span> <span>INTO</span> <span>order_fsm_versions</span> <span>(</span><span>version</span><span>,</span> <span>status</span><span>)</span> <span>VALUES</span> <span>(</span><span>2</span><span>,</span> <span>'live'</span><span>)</span> <span>RETURNING</span> <span>*</span><span>;</span>
<span>UPDATE</span> <span>order_fsm_versions</span> <span>SET</span> <span>status</span><span>=</span><span>'deprecated'</span> <span>WHERE</span> <span>version</span> <span>=</span> <span>1</span><span>;</span>

<span>INSERT</span> <span>INTO</span> <span>order_events_transitions</span> <span>(</span><span>state</span><span>,</span> <span>event</span><span>,</span> <span>next_state</span><span>,</span> <span>version</span><span>)</span> <span>VALUES</span>
  <span>(</span><span>'start'</span><span>,</span>             <span>'create'</span><span>,</span>  <span>'awaiting_approval'</span><span>,</span> <span>2</span><span>),</span>
  <span>(</span><span>'awaiting_approval'</span><span>,</span> <span>'approve'</span><span>,</span> <span>'awaiting_payment'</span><span>,</span>  <span>2</span><span>),</span>
  <span>(</span><span>'awaiting_payment'</span><span>,</span>  <span>'pay'</span><span>,</span>     <span>'awaiting_shipment'</span><span>,</span> <span>2</span><span>),</span>
<span>(...)</span>

<span>INSERT</span> <span>INTO</span> <span>order_events</span> <span>(</span><span>order_id</span><span>,</span> <span>event</span><span>,</span> <span>time</span><span>)</span> <span>VALUES</span>
  <span>(</span><span>'0d687d74-bab3-4c76-beed-0f55ec8a3af2'</span><span>,</span> <span>'create'</span><span>,</span>  <span>'2017-07-23 00:00:00'</span><span>),</span>
  <span>(</span><span>'0d687d74-bab3-4c76-beed-0f55ec8a3af2'</span><span>,</span> <span>'approve'</span><span>,</span> <span>'2017-07-23 00:00:00'</span><span>),</span>
  <span>(</span><span>'0d687d74-bab3-4c76-beed-0f55ec8a3af2'</span><span>,</span> <span>'pay'</span><span>,</span>     <span>'2017-07-23 12:00:00'</span><span>);</span>
</code></pre></div></div>

<h3 id="conclusion">Conclusion</h3>

<p>I wrote <a href="https://raphael.medaer.me/resources/pgfsm.sql">a small SQL script which is testing all these features</a>. I hope it‚Äôs useful even if you can‚Äôt use it out of the box. Let me know if <a href="https://github.com/rmedaer/rmedaer.github.io/issues">you have feedback</a>.</p>

<p>Finally, keep in mind that it is still experimental. Consider it as a POC and not like something production-ready!</p>

<p>R.</p>

  </div></div>]]>
            </description>
            <link>https://raphael.medaer.me/2019/06/12/pgfsm.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24246147</guid>
            <pubDate>Sat, 22 Aug 2020 18:31:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Paper: A Fork() in the Road]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24245846">thread link</a>) | @gbrown_
<br/>
August 22, 2020 | https://dannas.name/fork | <a href="https://web.archive.org/web/*/https://dannas.name/fork">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<!-- excerpt start -->
<p>A review of Baumann et.als paper on limitations of the fork system call present in UNIX operating systems.
<!-- excerpt end --></p>

<p><a href="https://www.microsoft.com/en-us/research/uploads/prod/2019/04/fork-hotos19.pdf">Baumann, Andrew, et al. ‚ÄúA fork () in the road.‚Äù <em>Proceedings of the Workshop on Hot Topics in Operating Systems</em>. 2019</a>.</p>

<p>This is a paper that only affects a small number of people: those doing OS research and those that directly call <code>fork</code> from their programs. Still, I find it interesting since it points to limitations in the UNIX design. When I learned to program, UNIX was seen as the gold standard. I remember reading an LKML post from Linus Torvalds where he meant that OS development was about the refinement of existing ideas, not so much about inventing new concepts.  But people still do OS research, and the paper describes how having to support <code>fork</code> can be a burden.</p>

<p>The main criticism in the paper is about how <code>fork</code> affects many other parts of the system. It was originally a very simple idea: copy the address space of the parent and let the child redirect file descriptors, reduce permissions or, alter the namespace of the child.  But <code>fork</code> today impacts all other operating system abstractions with which it was once orthogonal. Below are some practical examples of things mentioned in the paper.</p>

<h2 id="buffered-io-and-fork">Buffered I/O and Fork</h2>

<p>What do you think this program will print?</p>

<div><div><pre><code>#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;

int main(void) {
    printf("Hello World! ");
    pid_t pid = fork();
    return 0;
}
</code></pre></div></div>

<p>It prints the output twice, <code>Hello World! Hello World!</code>, since the stdio buffers are flushed both in the parent and in the child. So  in this case <code>fork</code> doesn‚Äôt compose, since the calling code needs to explicitly flush I/O before calling <code>fork</code>.</p>

<h2 id="threads-and-fork">Threads and Fork</h2>

<p>This program starts a thread that locks a mutex for 1ms. It then forks a child which tries to lock the same mutex. What do you think it will print and why?</p>

<div><div><pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;pthread.h&gt;
#include &lt;sys/wait.h&gt;

static pthread_mutex_t thread_mutex = PTHREAD_MUTEX_INITIALIZER;

static void* worker(void* arg) {
    pthread_detach(pthread_self());

    for (;;) {
      pthread_mutex_lock(&amp;thread_mutex);
      usleep(1000);
      pthread_mutex_unlock(&amp;thread_mutex);
    }
    return NULL;
}

int main() {
    pthread_t thread;
    pthread_create(&amp;thread, NULL, worker, 0);

    usleep(1000);
    pid_t pid = fork();

    if (pid == 0) {
        pthread_mutex_lock(&amp;thread_mutex);
        const char buf[] = "lock acquired\n";
        write(fileno(stderr), buf, strlen(buf));
        pthread_mutex_unlock(&amp;thread_mutex);
        exit(0);
    }

    wait3(NULL, WNOHANG, NULL);

    return 0;
}
</code></pre></div></div>

<p>On my system, the subprocess always deadlocks before printing the <code>lock acquired</code> message. A child created by <code>fork</code> has only a single thread (a copy of the calling thread). So there‚Äôs a good chance that the mutex will be in the locked state when the child starts executing. One common case where this happens is if a thread doing memory allocation and holding a heap lock, while <code>fork </code>is called.</p>

<h2 id="large-address-spaces-and-fork">Large address spaces and Fork</h2>

<p>How long do you think it takes to fork if the parent has 10K VMAs? Here‚Äôs a test program from Chromes <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=819228">Issue 819228: Consider using posix_spawn() on Linux</a>.</p>

<div><div><pre><code>/* Allocates several memory ranges and reports how long it takes to fork().
 *
 * clang slow_fork.c -o slow_fork &amp;&amp; ./slow_fork 100 10
 *
 * Almost no error checking anywhere.
 */
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;time.h&gt;
#include &lt;unistd.h&gt;

#define PAGE_SIZE 4096
#define SIZE 100 * PAGE_SIZE

void* mmap_anonymous(size_t size) {
  return mmap(NULL, size, PROT_READ | PROT_WRITE,
              MAP_ANONYMOUS | MAP_PRIVATE, -1, 0);
}

void** create_vmas(int count) {
  void** result = (void**) calloc(count, sizeof(void*));
  if (!result)
    return NULL;

  for (int i = 0; i &lt; count; i++) {
    result[i] = mmap_anonymous(SIZE);
    if (!result[i])
      return NULL;
  }
  return result;
}

void remove_vmas(void** arrays, int count) {
  for (int i = 0; i &lt; count; i++) {
    munmap(arrays[i], SIZE);
  }
  free(arrays);
}

void memset_all(void** arrays, int count) {
  for (int i = 0; i &lt; count; i++) {
    memset(arrays[i], 0, SIZE);
  }
}

struct timespec now() {
  struct timespec now;
  clock_gettime(CLOCK_MONOTONIC, &amp;now);
  return now;
}

long interval_ns(struct timespec tick, struct timespec tock) {
  return (tock.tv_sec - tick.tv_sec) * 1000000000L
      + (tock.tv_nsec - tick.tv_nsec);
}

int main(int argc, char** argv) {
  int vmas, iterations;
  void** areas;
  struct timespec tick, tock;

  if (argc != 3) {
    printf("Usage: %s &lt;nb_vmas&gt; &lt;iterations&gt;\n", argv[0]);
    return 1;
  }

  vmas = atoi(argv[1]);
  iterations = atoi(argv[2]);

  for (int i = 0; i &lt; iterations; i++) {
    areas = create_vmas(vmas);
    if (!areas)
      return 1;

    memset_all(areas, vmas);

    tick = now();
    if (fork()) {
      // parent.
      tock = now();
      long ns = interval_ns(tick, tock);
      printf("%.2fus to fork().\n", (double) ns / 1e3);
    } else {
      _exit(0);
    }
    remove_vmas(areas, vmas);
  }

  return 0;
}
</code></pre></div></div>

<p>On my system, here are the run-times:</p>

<div><div><pre><code>$ ./fork 1 1
149.65us to fork().
$ ./fork 10 
89.63us to fork().
$ ./fork 100 1
576.18us to fork().
$ ./fork 1000 1
2661.38us to fork().
$ ./fork 10000 1
35420.67us to fork().
</code></pre></div></div>

<p>So 35ms to <code>fork</code> with 10K VMAs. If I replace the <code>fork</code> call with <code>vfork</code> it takes only 115us! The speed difference is because <code>fork</code> needs to copy the page table entries to the new address space.</p>

<p>To get around these limitations some systems mark memory-mapped regions as not to be forked. Others like Chrome creates  a zygote process that has as little memory allocated as possible to ensure fast process creation times.</p>

<h2 id="alternatives-to-fork">Alternatives to Fork</h2>

<p>You can use <code>vfork</code>  or <code>posix_spawn</code> instead. The <code>vfork</code> function creates a new process but does not copy the parent‚Äôs page tables. Instead, it starts the child in the same address space as its parent and starts it  before the parent. The only thing that can be done from there is calling √®xec<code>. The </code>posix_spawn<code> API is much more complicated than just calling </code> <code>fork</code>, but as we‚Äôve seen the simplicity comes with a great burden on modern systems.</p>


		
	</div></div>]]>
            </description>
            <link>https://dannas.name/fork</link>
            <guid isPermaLink="false">hacker-news-small-sites-24245846</guid>
            <pubDate>Sat, 22 Aug 2020 17:54:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on macOS Package Managers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24245150">thread link</a>) | @simonebrunozzi
<br/>
August 22, 2020 | https://saagarjha.com/blog/2019/04/26/thoughts-on-macos-package-managers/ | <a href="https://web.archive.org/web/*/https://saagarjha.com/blog/2019/04/26/thoughts-on-macos-package-managers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><header>
	
	<p><time>Friday, April 26, 2019</time></p>
</header>
<section>
	<p>A couple of months ago, I uninstalled <a href="https://brew.sh/">Homebrew</a> and migrated my configuration to <a href="https://www.macports.org/">MacPorts</a>. I‚Äôve been doing a lot of thinking about the state of package management on macOS, and here‚Äôs what I‚Äôve come up with based on my experiences using both and interacting with their development communities.</p>

<h2 id="a-brief-history-of-package-managers-on-macos">A brief history of package managers on macOS</h2>

<p>Package management on macOS has a somewhat complex history, mostly owing to the fact that unlike most Linux distributions, macOS does not ship with a default package manager out of the box. It‚Äôs not surprising that one of the first projects to solve the problem of package management, <a href="http://www.finkproject.org/">Fink</a>, was created very early, with its initial releases predating that of Mac OS X 10.0 by several months. Using Debian‚Äôs dpkg and APT as its backend, Fink is still actively maintained, though I haven‚Äôt looked at it very closely.</p>

<p>MacPorts, on the other hand, was released in 2002 as part of <a href="https://en.wikipedia.org/wiki/Darwin_(operating_system)#OpenDarwin">OpenDarwin</a>, while Homebrew was released seven years later as a ‚Äúsolution‚Äù to many of the shortcomings that the author saw in MacPorts. In case it isn‚Äôt obvious from the introduction, it‚Äôs these two that we‚Äôll be talking about. Sorry, Fink :(</p>

<h2 id="architecture">Architecture</h2>

<p>While both MacPorts and Homebrew try to solve the same problem, they really are designed quite differently from each other. These differences become immediately evident once you start using them: I personally feel that MacPorts is clearly the better architected, more mature package manager of the two.</p>

<h3 id="to-sudo-or-not-to-sudo">To <code>sudo</code> or not to <code>sudo</code></h3>

<p>Homebrew makes several questionable design decisions, but one of these deserves its own section: the choice to <a href="https://github.com/Homebrew/brew/blob/21bb9f6f5b535c35e1c3e5c1e2327c46d5756e80/docs/FAQ.md#why-does-homebrew-say-sudo-is-bad">explicitly eschew root</a> (in fact, it will refuse to work at all if run this way). This fundamentally is a <em>very bad idea</em>: package managers that install software for all users of your computer, as Homebrew does by default, should <em>always</em> require elevated privileges to function correctly. This decision has important consequences for both security and usability, especially with the advent of System Integrity Protection in OS X El Capitan.</p>

<p>For quite a while, Homebrew essentially considered itself the owner of <code>/usr/local</code> (both metaphorically and literally, as it would change the permissions of the directory), to the point where it would do things like plop its README down directly into this folder. After rootless was introduced, it moved most of its files to subdirectories; however, to maintain the charade of ‚Äúsudo-less‚Äù installation, Homebrew will still trash the permissions of folders inside <code>/usr/local</code>. Homebrew‚Äôs <a href="https://github.com/Homebrew/brew/blob/2be7999878702554f1e1b5f4118978e670e6156c/docs/Troubleshooting.md#check-for-common-issues">troubleshooting guide</a> lists these out, because reinstalling macOS sets the permissions back to what they‚Äôre supposed to be and breaks Homebrew in the process:</p>

<blockquote>
  <p>If commands fail with permissions errors, check the permissions of <code>/usr/local</code>‚Äôs subdirectories. If you‚Äôre unsure what to do, you can run <code>cd /usr/local &amp;&amp; sudo chown -R $(whoami) bin etc include lib sbin share var opt Cellar Caskroom Frameworks</code>.</p>
</blockquote>

<p>Telling users to use <code>sudo</code> as a hammer to smash permissions ‚Äúissues‚Äù that arise as a result of the system trying to fix damage caused by supposedly ‚Äúsudo-less‚Äù software is quite ironic (and this is a bad practice in and of itself: it‚Äôs teaching users to fix problems by blindly running <code>sudo chown -R</code>). But really, this is <em>bad, bad</em> advice. Not only does this make Homebrew completely unusable for multi-user systems, it opens up a security hole (actually, <a href="https://medium.com/0xcc/rootpipe-reborn-part-i-cve-2019-8513-timemachine-root-command-injection-47e056b3cb43">multiple</a>): with <code>/usr/local/bin</code> being shared (and the first in <code>$PATH</code>!!), it‚Äôs not hard to see how changing the permissions on this directory leads to trouble. Consider a malicious shell script running with the privileges of the current user (perhaps something <a href="https://brew.sh/#install">you found on the internet</a>?) that makes a file at <code>/usr/local/bin/ls</code>:</p>

<div><div><pre><code><span>#!/bin/bash</span>

<span>if</span> <span>[[</span> <span>$(</span><span>id</span> <span>-u</span><span>)</span> <span>-eq</span> 0 <span>]]</span><span>;</span> <span>then
	</span><span>echo </span>pwned <span># you didn't happen to run "sudo ls", did you?</span>
<span>else
	</span><span>ls</span> <span>"</span><span>$@</span><span>"</span> <span># move along, nothing to see here</span>
<span>fi</span>
</code></pre></div></div>

<p>Boom, now <code>ls</code> is booby-trapped for everyone on the system.</p>



<h3 id="the-macports-philosophy">The MacPorts philosophy</h3>

<p>MacPorts, on the other hand, swings so far in the other direction that it‚Äôs actually borderline inconvenient to use in some sense. Philosophically, MacPorts has a very different perspective of how it should work: it tries to prevent conflicts with the system as much as possible. To achieve this, it sets up a hierarchy under <code>/opt</code> (which is the annoying bit, because this directory is not on <code>$PATH</code> by default, nor is picked up by compilers without some prodding).</p>

<p>Of course, this design means that there is a single shared installation is among users, so running <code>port</code> requires elevated privileges whenever performing an operation that affects all users (which, admittedly, is most of the time). MacPorts is smart about this, though: it will shed permissions and run as the <code>macports</code> user whenever possible.</p>

<p>In line with their stated philosophy to prevent conflicts with macOS, MacPorts will set up its own tools in isolation from those provided by the system (in fact, builds run in ‚Äúsandboxes‚Äù under the <code>macports</code> user, where attempts to access files outside of the build directory‚Äìwhich includes system tools‚Äìare intercepted and blocked). This means MacPorts needs to install some ‚Äúduplicate‚Äù tools (whereas Homebrew will try to use the ones that come with your system where possible), the downside of which is that there is an one-time ‚Äúup-front‚Äù cost as it installs base packages. The upside is that this approach is significantly more contained, which makes it easier to manage and more likely to continue working as macOS changes under it.</p>

<p>Finally, MacPorts just seems to have a lot of thought put into it with regards to certain aspects: for example, <a href="https://guide.macports.org/chunked/internals.registry.html">the MacPorts Registry database</a> is backed by SQLite by default, which makes easily introspectable in case something goes wrong. Another useful feature is built-in ‚Äúlivechecks‚Äù for most ports, which codify upstream version checks and make it easy to see when MacPorts‚Äôs package index need to be updated.</p>

<h2 id="day-to-day-usage">Day-to-day usage</h2>

<p>Architecture aside, a package manager is only useful if it‚Äôs possible to actually use it. There are a couple of subareas that I feel are important, and we‚Äôll look at how each package manager does for each in turn.</p>

<h3 id="package-availability">Package availability</h3>

<p>Nominally, MacPorts has <a href="https://www.macports.org/ports.php?by=all">over 20,000 ports</a> ports available to install by default, while Homebrew has <a href="https://formulae.brew.sh/formula/">just shy of 5,000</a> formulae (plus a couple thousand more in homebrew/cask). Of course, the only thing this really tells us is that both of them have a <em>lot</em> of packages; both of these numbers are pretty meaningless as they contain things like versioned packages and other kinds of number-inflation. If you are looking for a popular, established package, neither will disappoint: packages like <code>gcc</code>, <code>vim</code>, and <code>wget</code> are available and up-to-date on both MacPorts and Homebrew.</p>

<p>Where availability starts to differ is with lesser-used packages: MacPorts seems to have quite a few older packages that Homebrew never picked up, while Homebrew is more likely to have newer packages. Homebrew‚Äôs are slightly more up-to-date, but I think this is likely a result of having fewer packages to manage and more support to do this job, as well as an increased proclivity to remove packages that are hard to get working on the latest version of macOS. Overall, I don‚Äôt think it‚Äôs fair to say that either package manager has an advantage here; ultimately this comes down to what you will end up needing. If you‚Äôre switching between the two, it‚Äôs almost guaranteed that there‚Äôs going to be something that‚Äôs conspicuously missing from the new package manager to annoy you ;)</p>

<h3 id="usability">Usability</h3>

<p>Homebrew aims to be simple and easy to use, and in general this is true. While I‚Äôm neutral on the use of beer-related terminology and emoji, the judicious use of color is quite helpful, as is the well-formatted output. Most common usecases are straightforward, though occasionally commands can end up doing surprising things if you use them in strange ways.</p>

<p>MacPorts, on the other hand, is by no means unusable, but it‚Äôs not as polished as Homebrew is. The lack of color, as well as somewhat more cluttered and less relevant output, makes it a bit less pleasant to work with (I have a couple of patches that I apply to get the behavior I want, but expecting most users to do this is unreasonable of course). However, overall, MacPorts handles being more complex quite well, and should be pretty serviceable for most users‚Äìespecially those who have used another package manager.</p>

<p>The two package mangers differ in how they distribute packages: MacPorts almost always builds packages from source, while Homebrew has continuously gotten less and less permissive of letting you do this (opting instead for downloading pre-built binaries). From a usability perspective, binaries are a clear winner: packages install much quicker and are usable nearly immediately, and you don‚Äôt leave your computer barely usable because it‚Äôs been compiling the newest version of LLVM for the last four hours. Overall, however, this is less of a problem than it may seem at first, since most package are small and build relatively quickly, making long <code>port upgrade outdated</code> invocations quite rare.</p>

<h3 id="features">Features</h3>

<p>While both package managers have the basic functionality you‚Äôd expect from a package manager, MacPorts is generally much more full featured than Homebrew is. Part of this is probably a result of architectural disparities, one example of which being that Homebrew‚Äôs set of commands to manage the dependency tree is somewhat limited. While this is unfortunate, having these limitations is somewhat reasonable given the underlying design, which would make implementing these features difficult.</p>

<p>Less justifiable is Homebrew‚Äôs habit of missing useful but slightly less-commonly used functionality (some of which have been mentioned above), and in extreme cases <em>removing</em> features entirely, or crippling them so that they are significantly less usable. Into this dubious category goes useful functionality like the ability to find and ‚Ä¶</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://saagarjha.com/blog/2019/04/26/thoughts-on-macos-package-managers/">https://saagarjha.com/blog/2019/04/26/thoughts-on-macos-package-managers/</a></em></p>]]>
            </description>
            <link>https://saagarjha.com/blog/2019/04/26/thoughts-on-macos-package-managers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24245150</guid>
            <pubDate>Sat, 22 Aug 2020 16:23:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Ergonomics Review of Using Kotlin from Swift]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24245007">thread link</a>) | @pcr910303
<br/>
August 22, 2020 | https://benasher.co/kotlin-ios-ergonomics/ | <a href="https://web.archive.org/web/*/https://benasher.co/kotlin-ios-ergonomics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <section>
  <div>
    <div>
      <article>
        
        
        
        <h6>16 Aug 2020

- <span>13 minute read</span>


</h6>
        
        <p>At Autodesk, my colleagues and I are more than a year and a half into our Kotlin multiplatform (KMP) shared library journey. That‚Äôs one Kotlin shared library, shared among our three mobile platforms that we support for the PlanGrid app (iOS, Android, and Windows).</p>

<p>Most new feature development for the PlanGrid app starts in the shared library now. It has become so much an extension of our main application that we‚Äôre planning a move to a mono-repo (iOS, Android, Windows, and the KMP shared library all in one place) later this year, which will help solve some of our scale issues (great problem to have all things considered).</p>

<h2 id="making-it-work">Making it Work</h2>

<p>Looking back, there were a few things that made Kotlin work well for us that have to do with a combination of developer experience and our team. Early on, the few of us working on the proof-of-concept and pitching KMP to the rest of the team focused on developer experience. We ensured that integrating our experiment wouldn‚Äôt get in the way of day-to-day work by distributing it to iOS as a binary framework via CocoaPods (already integrate other binary frameworks this way without issue).</p>

<p>While testing out KMP-based functionality alongside all of the other work going on, we made use of feature flags in case shit hit the fan in production. Once we had our foot in the door, had proved things worked well, and had come up with a plan for how the library was going to evolve, the next step was getting people to adopt the shared library for their teams‚Äô features.</p>

<p>This again takes us back to developer experience. Lucky for us, KMP comes with iOS interop out-of-the-box. It‚Äôs so good that one of my colleagues thought they were using some kind of bridging layer that we must have written to make Kotlin feel Swift-y. When they command-clicked through to source, they were surprised to find the KMP-generated shared library header.</p>

<h3 id="having-a-good-team-helps">Having a Good Team Helps</h3>

<p>Did I mention we have a Windows team? For that side of things, we got lucky. The level of support from KMP you get for Windows does not measure up to what you get for iOS. On the Windows side, my colleagues would like to have a C# library in the style of the KMP-generated Obj-C library with the nice, generated headers that we get on iOS. Instead, they get a library that uses C-interop‚Äî quite a different experience. Fortunate for us, a few folks on our Windows team were experienced and interested enough to write and maintain their own C# code generation on top of that. We hope to open source it later this year.</p>

<h2 id="looking-at-interop">Looking at Interop</h2>

<p>To recap, these elements made it possible for KMP to work well for us:</p>

<ol>
  <li>Ease of integration on iOS and Android</li>
  <li>Ergonomic interop out-of-the-box for iOS</li>
  <li>Colleagues on our Windows team willing to take on the challenge of solving the interop issues there</li>
</ol>

<p>If I could only pick one, it would be the interop on iOS that allowed this to become as successful as it has for us. It would be a much tougher sell, for example, had both the iOS and Windows teams needed to spend loads of effort on interop.</p>

<p>My favorite example of this great interop is one from <a href="https://benasher.co/kotlin-ios-getting-started-interop/">my earlier post</a>, where Phill and I wrote about the iOS interop:</p>

<figure><pre><code data-lang="kotlin"><span>// Kotlin</span>
<span>enum</span> <span>class</span> <span>LogLevel</span> <span>{</span>
    <span>ERROR</span><span>,</span>
    <span>WARNING</span><span>,</span>
    <span>INFO</span><span>,</span>
    <span>DEBUG</span>
<span>}</span>

<span>class</span> <span>Logger</span> <span>{</span>
    <span>companion</span> <span>object</span> <span>default</span> <span>{</span>
        <span>fun</span> <span>log</span><span>(</span><span>level</span><span>:</span> <span>LogLevel</span> <span>=</span> <span>LogLevel</span><span>.</span><span>ERROR</span><span>,</span> <span>message</span><span>:</span> <span>String</span><span>,</span> <span>completion</span><span>:</span> <span>(</span><span>Boolean</span><span>)</span> <span>-&gt;</span> <span>Unit</span><span>)</span> <span>{</span> <span>}</span>
    <span>}</span>
<span>}</span></code></pre></figure>

<figure><pre><code data-lang="swift"><span>// Swift</span>
<span>Logger</span><span>.</span><span>default</span><span>.</span><span>log</span><span>(</span><span>.</span><span>error</span><span>,</span> <span>"An error ocurred"</span><span>)</span> <span>{</span>
    <span>// Closure</span>
<span>}</span></code></pre></figure>

<p>This example highlights some idiomatic Kotlin that allows you to write idiomatic-looking Swift. It‚Äôs impressive. However, this example has a secret. It also highlights many of the areas where Kotlin/Native interop with iOS has room for improvement. With Kotlin 1.4.0 out the door, I hope now is a good time to raise these issues. Fixing them would take the sell to iOS teams to the next level, at least in terms of having excellent interop. I‚Äôll discuss the issues in increasing in order of how long it took our team to notice and bump into them.</p>

<h3 id="exhaustive-enums">Exhaustive Enums</h3>

<p>This is one of the earliest areas, for which I filed <a href="https://github.com/JetBrains/kotlin-native/issues/2521">an issue</a> in the Kotlin/Native GitHub. Enums are a great way to describe an input for an API, such as the above log method. However, we ran into problems with Kotlin enums as soon as we wanted to do an exhaustive <code>switch</code> (equivalent to exhaustive <code>when</code> in Kotlin) over them in Swift.</p>

<p>The problem lies in how enums are represented in Kotlin compared to Obj-C (remember Swift is irrelevant for comparison‚Äî interop is via Swift-y feeling Obj-C). Enums in Kotlin are reference types (a special <code>class</code>). In Obj-C, they‚Äôre integers. Attempting to <code>switch</code> over them from Swift would be like trying to <code>switch</code> over any other class instance that you defined in Swift, for example. The Swift compiler doesn‚Äôt know that there happens to be a finite number of instances of that <code>enum class</code> like Kotlin does.</p>

<p>There is a workaround though that can improve the ergonomics a bit. You can define a matching C-style enum (with a matching name), and <a href="https://github.com/JetBrains/kotlin-native/issues/2521#issuecomment-453009890">redefine the ordinal property</a> as having that type. At Autodesk, we do this with a bit of fragile (albeit has worked in our codebase with only one minor tweak since its creation) code generation that adds these C-style enums to the Obj-C framework header as Obj-C extensions on all of our enum types. With that, we get exhaustive <code>switch</code> for all of our Kotlin enums, by doing a <code>switch</code> over the ordinal property.</p>

<p>In the above sample code, you can see there‚Äôs no problem passing enums around. You wouldn‚Äôt have any idea about how Kotlin enums are represented, until you go to <code>switch</code> on one.</p>

<h3 id="companion-objects">Companion Objects</h3>

<p>In <a href="https://benasher.co/kotlin-ios-getting-started/">my first article</a>, I mentioned how, as an iOS developer, I found the <code>companion object</code> a bit strange at first, but I get it now. As my iOS colleagues have become better acquainted with them, we have begun to see them more often in our shared library. The problem comes if you don‚Äôt know that you can name a <code>companion object</code>, like in the above example. Unnamed ones are more common, in my experience. Here is what the Swift code would look like, if we hadn‚Äôt named the above <code>companion object</code> ‚Äúdefault‚Äù:</p>

<figure><pre><code data-lang="swift"><span>// Swift</span>
<span>Logger</span><span>.</span><span>Companion</span><span>()</span><span>.</span><span>log</span><span>(</span><span>.</span><span>error</span><span>,</span> <span>"An error ocurred"</span><span>)</span> <span>{</span>
    <span>// Closure</span>
<span>}</span></code></pre></figure>

<p>As someone who writes a lot of Swift, this looks funny at first. Are we creating a new <code>Logger.Companion</code>? If so, where can I see what this does in Kotlin? The ergonomics of the unnamed <code>companion object</code> is another issue that <a href="https://github.com/JetBrains/kotlin-native/issues/2757">I filed early on</a>. To answer the question, <a href="https://github.com/JetBrains/kotlin-native/issues/2757#issuecomment-472866293">you aren‚Äôt creating a new</a> <code>Logger.Companion</code>.</p>

<p>The fix here isn‚Äôt straightforward. You can convince your team to prefer naming a <code>companion object</code>, but that doesn‚Äôt always make sense, if say your goal is to use a <code>companion object</code> to namespace a public constant. Solutions discussed in the ticket would be breaking changes. That said, I think improving the ergonomics here would be an easy way to prevent less enthusiastic iOS developers from having this easy (and small) thing to point at. At Autodesk, we just acknowledge this quirk of the Obj-C export and move on. But, that‚Äôs easy for us to do now, as we have a critical mass.</p>

<h3 id="default-arguments">Default Arguments</h3>

<p>Although we bumped into this one later on, a fix for this would make the biggest difference for our team right now because our dependence on KMP has grown. If you notice in the above Kotlin, the log function has a default argument. However, you cannot use that default argument from Swift. As a log parameter, this might not be that important. In other contexts though, this could be a default integer parameter, for example. In that case, it can be near impossible to know what argument you should pass in the ‚Äúdefault‚Äù case. To avoid bugs, your best bet is to go back to the Kotlin source and find the answer.</p>

<p>Though, I‚Äôve heard folks say: but Swift supports default arguments, why shouldn‚Äôt this work? This is often the first place folks begin to internalize that this doesn‚Äôt matter. The interop is via Obj-C, so all that matters is what Obj-C supports. You can repeat this same answer for a bevy of similar complaints. <code>Interface</code> extensions? Swift supports the equivalent <code>protocol</code> extensions. Obj-C does not. Optional primitive types? Obj-C doesn‚Äôt have those either. None of this is a knock on Kotlin/Native‚Äôs interop, which again is great! Obj-C interop was the correct and stable choice at the time, as that was before Swift had a stable ABI. I made comments about this in my previous <a href="https://benasher.co/kotlin-ios-getting-started-interop/">interop article</a>, so let‚Äôs go back to the issue at hand.</p>

<p>Default arguments have a solution in Kotlin/JVM interop, which is used in hand-written Obj-C as well: <a href="https://youtrack.jetbrains.com/issue/KT-38685">generated overloads</a>. Generating overloads for C and Obj-C KMP libraries would be a huge improvement to Kotlin/Native‚Äôs export facilities. I hope with Kotlin 1.4.0 out the door, time can be made for this one.</p>

<h3 id="enums---missing-exports">Enums - Missing Exports</h3>

<p>I want to go back to enums for a moment. I mentioned that I would review the issues in the order that my team ran into them. After getting more comfortable using Kotlin enums in our code, we began to come up with cases where we wanted to enumerate Kotlin enums. However, the needed <code>values()</code> function <a href="https://youtrack.jetbrains.com/issue/KT-38530">is not exported to Obj-C by default</a>. If you need this, you‚Äôre left to define it yourself in your library and have it call the equivalent function. The workaround is fine, but it gets in the way, when the library you‚Äôre using is one that‚Äôs already packaged up and distributed. A fix requires another PR and waiting on another CI deploy.</p>

<h3 id="translation-to-obj-c-primitives">Translation to Obj-C Primitives</h3>

<p>The final one I want to talk about is the most minor, but we do come across it on occasion. In the above example, we are hiding the fact that the completion closure has one parameter. It‚Äôs a Kotlin <code>boolean</code>, but it is translated to Obj-C as a <code>KotlinBoolean</code> <code>class</code>. This is bound to happen if the type is optional. Again, Obj-C doesn‚Äôt support optional primitives. In this case however, it‚Äôs not. It should be a <code>BOOL</code> ‚Ä¶</p></article></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://benasher.co/kotlin-ios-ergonomics/">https://benasher.co/kotlin-ios-ergonomics/</a></em></p>]]>
            </description>
            <link>https://benasher.co/kotlin-ios-ergonomics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24245007</guid>
            <pubDate>Sat, 22 Aug 2020 16:05:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Seeing Register Allocation Working in Java]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24244856">thread link</a>) | @chrisseaton
<br/>
August 22, 2020 | https://chrisseaton.com/truffleruby/register-allocation/ | <a href="https://web.archive.org/web/*/https://chrisseaton.com/truffleruby/register-allocation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<header>

<h2><a href="https://chrisseaton.com/">Chris Seaton</a>, 21 Aug 2020</h2>


<img src="https://chrisseaton.com/truffleruby/register-allocation/title.png" alt="">

</header>

<p>When the Java Virtual Machine compiles your Java code to machine code, one of the jobs it needs to do is to decide where to store Java local variables and other similar temporary values. Your machine has no concept of local variables, so during compilation we need to decide what location in the stack memory, or in a machine register, it‚Äôll use for each variable. This is called <em>register allocation</em>. Register allocation may seem like a complex, abstract, theoretical concept, but in this short post we‚Äôre going to show how we can relate the original Java code first to the theory, then to how the compiler sees it, and then to the resulting machine code. What we want to show is that we can easily see the concepts working in practice in a real compiler.</p>

<p>We‚Äôre going to be showing output of the Graal just-in-time compiler, but the concepts are similar for other Java just-in-time and ahead-of-time compilers, and for compilers for many other languages.</p>

<p>This Java code runs the method <code>test</code> in a loop to trigger compilation. There is a <code>read</code> method to produce values, a <code>write</code> method to consume them, and a <code>barrier</code> method that simplifies some things and we‚Äôll explain it in the end notes.</p>

<div><div><pre><code><span>class</span> <span>Test</span> <span>{</span>

    <span>public</span> <span>static</span> <span>void</span> <span>main</span><span>(</span><span>String</span><span>[]</span> <span>args</span><span>)</span> <span>{</span>
        <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
            <span>test</span><span>();</span>
        <span>}</span>
    <span>}</span>

    <span>private</span> <span>static</span> <span>void</span> <span>test</span><span>()</span> <span>{</span>
        <span>int</span> <span>v0</span> <span>=</span> <span>read</span><span>();</span>
        <span>barrier</span><span>();</span>
        <span>int</span> <span>v1</span> <span>=</span> <span>read</span><span>();</span>
        <span>barrier</span><span>();</span>
        <span>write</span><span>(</span><span>v0</span><span>);</span>
        <span>barrier</span><span>();</span>
        <span>int</span> <span>v2</span> <span>=</span> <span>read</span><span>();</span>
        <span>barrier</span><span>();</span>
        <span>int</span> <span>v3</span> <span>=</span> <span>read</span><span>();</span>
        <span>barrier</span><span>();</span>
        <span>write</span><span>(</span><span>v1</span><span>);</span>
        <span>barrier</span><span>();</span>
        <span>write</span><span>(</span><span>v2</span><span>);</span>
        <span>barrier</span><span>();</span>
        <span>write</span><span>(</span><span>v3</span><span>);</span>
    <span>}</span>

    <span>private</span> <span>static</span> <span>int</span> <span>read</span><span>()</span> <span>{</span>
        <span>return</span> <span>14</span><span>;</span>
    <span>}</span>

    <span>private</span> <span>static</span> <span>void</span> <span>write</span><span>(</span><span>int</span> <span>value</span><span>)</span> <span>{</span>
    <span>}</span>

    <span>private</span> <span>static</span> <span>void</span> <span>barrier</span><span>()</span> <span>{</span>
    <span>}</span>

<span>}</span>
</code></pre></div></div>

<p>We‚Äôre going to look at the register allocation in the <code>test</code> method. We‚Äôve removed the calls to <code>barrier</code> between each line for simplicity.</p>

<div><div><pre><code><span>int</span> <span>v0</span> <span>=</span> <span>read</span><span>();</span>
<span>int</span> <span>v1</span> <span>=</span> <span>read</span><span>();</span>
<span>write</span><span>(</span><span>v0</span><span>);</span>
<span>int</span> <span>v2</span> <span>=</span> <span>read</span><span>();</span>
<span>int</span> <span>v3</span> <span>=</span> <span>read</span><span>();</span>
<span>write</span><span>(</span><span>v1</span><span>);</span>
<span>write</span><span>(</span><span>v2</span><span>);</span>
<span>write</span><span>(</span><span>v3</span><span>);</span>
</code></pre></div></div>

<p>We can reason about the register allocation for this program just by looking at the Java code. We want to think about how long each variable needs to be stored for. We call this the <em>live ranges</em>, or <em>intervals</em>. We can do this by drawing a table with each line of code being a line, and having a column for each variable, with a bar showing how long the variable needs to be stored until it can be forgotten.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/java-1.png" alt="java-1"></p>

<p>The key observation here is that we‚Äôve got four variables that we need to keep alive, but it looks like we can probably fit them into just three storage locations. See how the bars for <code>v0</code> and <code>v2</code> never overlap. <code>v0</code> can be discarded before <code>v2</code> is ever created, so we could re-use the storage for <code>v0</code> for <code>v2</code> later on. We could instead share storage for <code>v0</code> and <code>v3</code> if we wanted to, but let‚Äôs use a <em>first-fit</em> approach and re-use the first storage location that‚Äôs available.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/java-2.png" alt="java-2"></p>

<p>A more formal way to look at register allocation is to build a graph where each variable is a node, and there are edges between the nodes if they‚Äôre live at the same time. This is an <em>interference graph</em>.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/graph.png" alt="graph"></p>

<p>Then we solve the problem of giving each node a color, so that adjacent nodes never have the same color. This is <em>graph coloring</em>. We could solve the problem by giving each node a unique color, but we already know this is wasteful.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/graph-unique.png" alt="graph-unique"></p>

<p>We can see the two solutions we already came up with.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/graph-1.png" alt="graph-1">
<img src="https://chrisseaton.com/truffleruby/register-allocation/graph-2.png" alt="graph-1"></p>

<p>To now see how Java allocates storage in practice, we can use <a href="https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.1.0">GraalVM CE 20.1 Java 8</a> to compile the Java code as normal.</p>

<div><div><pre><code>% ./graalvm-ce-java8-20.1.0/Contents/Home/bin/javac Test.java
</code></pre></div></div>

<p>We can then run it with some flags set to see what it does with the code. We use <code>-XX:CompileOnly=Test::test</code> so that the calls to <code>read</code>, <code>write</code> and <code>barrier</code> do not inline. If they did inline it would allow the compiler to significantly restructure the program and would obscure what we‚Äôre looking for. We use <code>-Dgraal.Dump=:3</code> to write out how the compiler understands the program to a file we can inspect later. We use <code>-XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly</code> to print the resulting machine code as assembly. We‚Äôll need <a href="https://lafo.ssw.uni-linz.ac.at/pub/graal-external-deps/hsdis/intel/"><code>hsdis</code></a> in the current directory in order to run this.</p>

<div><div><pre><code>% ./graalvm-ce-java8-20.1.0/Contents/Home/bin/java -XX:CompileOnly=Test::test -Dgraal.Dump=:3 -XX:+UnlockDiagnosticVMOptions -XX:+PrintAssembly Test
</code></pre></div></div>

<p>Now we‚Äôre going to use a tool called the <a href="https://github.com/chrisseaton/c1visualizer/releases/tag/v1.7">c1visualizer</a>. This tool allows us to look at the how the compiler understands your program in the back-end, when it‚Äôs generating code and allocating storage locations to variables.</p>

<div><div><pre><code>% jdkhome=./graalvm-ce-java8-20.1.0/Contents/Home ./c1visualizer/bin/c1visualizer
</code></pre></div></div>

<p>On the left we can see the program move through various phases of the compilation back-end.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/c1visualizer.png" alt="c1visualizer"></p>

<p>If we look at <em>Before stack slot allocation</em>, we can see <code>v0</code> to <code>v3</code>. In this view, the variables are rows, and the now each column is a Java bytecode instruction in the method, so it‚Äôs been rotated ninety degrees. We can see the same four intervals we had in the source code.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/virtual.png" alt="virtual"></p>

<p>If we look at <em>After stack slot allocation</em>, we can see it‚Äôs now allocated machine stack locations for these variables. These numbers are the offset from the start of the stack frame. They don‚Äôt go up by four each time, as they are byte addresses, and we‚Äôre storing a Java <code>int</code> which is four bytes, and they don‚Äôt start at zero as Java stores some other information on the stack beside our variables. We also can see it‚Äôs done what we did with pencil-and-paper - it‚Äôs stored <code>v0</code> and <code>v2</code> in the same stack location - they‚Äôre both in <code>stack:28</code>.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/concrete.png" alt="concrete"></p>

<p>Finally, we can look at the disassembled machine code generated by the compiler. We‚Äôve simplified it slightly for clarity and we‚Äôre still removing the calls to <code>barrier</code>. Each time we call <code>read</code> it returns the value in the <code>%eax</code> register, so an instruction <code>mov %eax,0x14(%rsp)</code> is for example storing the return value into <code>0x14(%rsp)</code>, which is another way to write <code>%rsp + 0x14</code>. <code>%rsp</code> is the stack pointer, so stack locations are addressed relative to the bottom of the current stack (bottom because it grows downward.)</p>

<div><div><pre><code>sub    $0x28,%rsp
mov    %rbp,0x20(%rsp)
callq  read
mov    %eax,0x14(%rsp)
callq  read
mov    %eax,0x10(%rsp)
mov    0x14(%rsp),%esi
callq  write
callq  read
mov    %eax,0x14(%rsp)
callq  read
mov    %eax,0xc(%rsp)
mov    0x10(%rsp),%esi
callq  write
mov    0x14(%rsp),%esi
callq  write
mov    0xc(%rsp),%esi
callq  write
mov    0x20(%rsp),%rbp
add    $0x28,%rsp
</code></pre></div></div>

<p>We can see again, that the first and third calls to <code>read</code> - that‚Äôs <code>v0</code> and <code>v2</code> - return a value that is stored into the same location - <code>0x14(%rsp)</code>. <code>v1</code> goes into <code>0x10(%rsp)</code> and <code>v3</code> into <code>0xc(%rsp)</code>. We can draw the same table for this machine code as we did for our Java code.</p>

<p><img src="https://chrisseaton.com/truffleruby/register-allocation/machine.png" alt="machine"></p>

<p>The point of all this is <em>all these diagrams match up in practice</em>! The pencil-and-paper reasoning of the Java code with tables and interference graphs that an undergraduate might do in an exam, matches up with how the production compiler understands it, and matches up with the machine code produced and run. We can see the theory working in practice, pretty directly.</p>

<h2 id="notes">Notes</h2>

<p>We talked about <em>variables</em> being allocated to <em>storage locations</em>. What we really mean by variable is anything that the compiler may want to store - they may not correspond to any real local variables, and not every local variable is necessarily stored.</p>

<p>We started talking about <em>register</em> allocation, but then generalized that to <em>storage location</em>, and then the compiler actually used the stack and no registers. The reason for this is that the values are live across calls, and HotSpot‚Äôs internal calling convention does not have any callee-saved registers - the caller must ensure all values are out of registers and saved on the stack.</p>

<p>The purpose of the <code>barrier</code> call is that without it the live ranges shrink somewhat due to them not having to be kept alive for as long, so that they end up not overlapping as we intend. We turned off inlining because without it our <code>barrier</code> call would not work as intended.</p>

<p>The actual register allocation algorithm Graal is using is the <em>linear scan</em> algorithm.</p>

<p>If you noticed that the stack locations shown by the c1visualizer don‚Äôt match the offsets in the machine code, it‚Äôs because they count in different directions and c1visualizer is also accounting for the return address on the stack. If you noticed that there is apparently empty space in the stack frame, which is due to an extra slot used during deoptimization, and alignment.</p>

<p>Tom Rodriguez helped me answer some questions about the HotSpot calling convention and frame layout.</p>

<hr>

<ul>
  <li><a href="https://chrisseaton.com/truffleruby/">More information about TruffleRuby</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/register-allocation/">Seeing Register Allocation Working in Java</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/basic-graal-graphs/">Understanding Basic Graal Graphs</a></li>
  <li><a href="https://engineering.shopify.com/blogs/engineering/understanding-programs-using-graphs/">Understanding Programs Using Graphs</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/low-overhead-polling/">Low Overhead Polling For Ruby</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/tenthings/">Top 10 Things To Do With GraalVM</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/structs/">Ruby Objects as C Structs and Vice Versa</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/jokerconf17/">Understanding How Graal Works ‚Äî a Java JIT Compiler Written in Java</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/flip-flops/">Flip-Flops ‚Äî the 1-in-10-million operator</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/deoptimizing/">Deoptimizing Ruby</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/cext/">Very High Performance C Extensions For JRuby+Truffle</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/small-data-structures/">Optimising Small Data Structures in JRuby+Truffle</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/pushing-pixels/">Pushing Pixels with JRuby+Truffle</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/set_trace_func/">Tracing With Zero Overhead in JRuby+Truffle</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/how-method-dispatch-works-in-jruby-truffle/">How Method Dispatch Works in JRuby+Truffle</a></li>
  <li><a href="https://chrisseaton.com/truffleruby/announcement/">A Truffle/Graal High Performance Backend for JRuby</a></li>
</ul>



<hr>



</article></div>]]>
            </description>
            <link>https://chrisseaton.com/truffleruby/register-allocation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24244856</guid>
            <pubDate>Sat, 22 Aug 2020 15:45:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to update U-Boot for PostmarketOS on the Pine Phone]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24244407">thread link</a>) | @dustfinger
<br/>
August 22, 2020 | https://bloggerbust.ca/post/how-to-update-uboot-for-postmarketos-on-the-pinephone/ | <a href="https://web.archive.org/web/*/https://bloggerbust.ca/post/how-to-update-uboot-for-postmarketos-on-the-pinephone/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 


<!--endtoc-->

<h2 id="introduction">Introduction</h2>

<p>If you are in a hurry to update U-Boot and the SPL on your PinePhone, then please proceed directly to <a href="#write-u-boot-plus-spl-to-bootable-storage">Write U-Boot+SPL to bootable storage</a>.</p>

<p>In this article, I am going to explain what U-Boot, SoC and the SPL are. After that, I will describe the sunxi bootable storage layout as well as the PinePhone boot procedure, so you will understand what you will be updating and why. Then, I will teach you how to determine if an upgrade is required, and I will explain two different ways of upgrading U-Boot. As a special treat for the curious, I will show you the first steps to reverse engineer the U-Boot+SPL firmware blob. I hope this article peeks your curiosity and encourages you to learn more.</p>

<p>Discussed on <a href="https://news.ycombinator.com/item?id=24244407">Hacker News</a> and <a href="https://forum.pine64.org/showthread.php?tid=11099">Pine64</a>.</p>

<h2 id="what-is-u-boot">What is U-Boot?</h2>

<p>U-Boot, or rather <a href="https://en.wikipedia.org/wiki/Das%5FU-Boot">Das U-Boot</a> a.k.a <em>the Universal Boot Loader</em>, is a small program that is loaded into <em>read-only memory</em> (ROM) and is ultimately responsible for loading the Linux kernel. Designed with flexibility in mind, U-Boot now supports <a href="https://gitlab.denx.de/u-boot/u-boot/-/tree/master/arch">a wide variety of architectures</a> for <a href="https://gitlab.denx.de/u-boot/u-boot/-/tree/master/board">embedded boards</a>, each of which may support multiple boot methods. This article is only concerned with U-Boot as it is configured for the <a href="https://gitlab.denx.de/u-boot/u-boot/-/blob/master/board/sunxi/README.sunxi64">Allwinner 64-bit boards</a>, specifically the <a href="https://linux-sunxi.org/A64">Allwinner A64 SoC</a>.</p>

<h2 id="what-is-a-soc">What is a SoC?</h2>

<p>No, it does not refer to the stinky fabric covering your feet. <em>SoC</em> stands for <em>System on a Chip</em>. The PinePhone contains the <a href="https://linux-sunxi.org/A64">Allwinner A64 SoC</a>, featuring a Quad-Core <a href="https://en.wikipedia.org/wiki/ARM%5FCortex-A53">ARM Cortex-A53 ARMv8-A CPU</a> and an <a href="https://linux-sunxi.org/Mali400">ARM Mali400 MP2 GPU</a>. See the <a href="https://linux-sunxi.org/A64#Documentation">Allwinner A64 documentation</a> for more details.</p>

<h2 id="what-is-the-spl">What is the SPL?</h2>

<p>The <em>Secondary Program Loader‚Äôs</em> (SPL) primary function is to load U-Boot proper, the <em>flattened device tree</em> (<a href="https://devicetree-specification.readthedocs.io/en/latest/flattened-format.html">FDT</a>) and the <em>Arm Trusted Firmware</em> (<a href="https://www.trustedfirmware.org/about/">ATF</a>), ultimately passing execution to the ATF. In particular, execution is passed to <em>Trusted Firmware-A</em> (<a href="https://trustedfirmware-a.readthedocs.io/en/latest/index.html">TF-A</a>), which is <a href="https://github.com/ARM-software/arm-trusted-firmware">the official reference implementation</a> used by SoCs with armv8- cores, such as <a href="https://trustedfirmware-a.readthedocs.io/en/latest/plat/allwinner.html">Allwinner Armv8-A SoCs</a>.</p>

<h2 id="what-installs-the-spl">What installs the SPL?</h2>

<p>The SPL is installed via the <code>u-boot-pinephone</code> package from the <a href="http://postmarketos1.brixit.nl/postmarketos/master/aarch64/">postmarketOS aarch64 APK repository</a>. The package is built from the <a href="https://gitlab.com/pine64-org/u-boot/">pine64 u-boot fork</a> in which they added a <a href="https://gitlab.com/pine64-org/u-boot/-/blob/master/.gitlab-ci-pine64.yml">pine64 specific GitLab CI/CD pipeline configuration</a>. By listing the contents of the package using the <a href="https://wiki.alpinelinux.org/wiki/Alpine%5FLinux%5Fpackage%5Fmanagement#apk%5Finfo">apk info</a> command we can see where the SPL binary is actually installed to the root file system.</p>
<div><pre><code data-lang="sh">second-chance:~$ apk info -L u-boot-pinephone</code></pre></div><div><pre><code data-lang="text">u-boot-pinephone-2020.04_git20200421-r1 contains:
usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin</code></pre></div>
<p>However, this is just a convenient location to deliver the binary. The SPL must be deployed to a specific location on disk so that the BootROM can load it.</p>

<h2 id="a-bit-about-bytes">A bit about bytes</h2>

<p>I suspect that not all of those reading this article are familiar with the various standards when it comes to measuring information. Allow me to digress with a brief introduction to these standards with respect to how they both measure and represent a <em>kilobyte</em>. Many of the articles that I have linked herein use the <em><a href="https://en.wikipedia.org/wiki/JEDEC%5Fmemory%5Fstandards#Unit%5Fprefixes%5Ffor%5Fsemiconductor%5Fstorage%5Fcapacity">Joint Electron Device Engineering Council</a></em> (JEDEC) memory standards in which the unit for <em>kilobyte</em> is denoted by (<code>KB</code>), in upper case letters and represents <code>1024B</code>. This is not to be confused with the kilobyte from the <em><a href="https://en.wikipedia.org/wiki/Metric%5Fprefix/">International System of Quantities</a></em> (SI) in which <em>kilo</em> is denoted with a lower case <code>k</code>, such that <code>kB</code> means <code>1000B</code>. My preference is to use the <a href="https://en.wikipedia.org/wiki/Kibibyte">kibibyte</a> (pron. KI-BEE-BYTE), which was established by the <em><a href="https://en.wikipedia.org/wiki/International%5FElectrotechnical%5FCommission">International Electrotechnical commission</a></em> (IEC) and is recognized by all major standards organizations, including those aforementioned.</p>

<table>
<thead>
<tr>
<th>Decimal</th>
<th></th>
<th>Binary</th>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Value</td>
<td>Metric</td>
<td>Value</td>
<td>IEC</td>
<td>JEDEC</td>
</tr>

<tr>
<td>1</td>
<td>B byte</td>
<td>1</td>
<td>B byte</td>
<td>B byte</td>
</tr>

<tr>
<td>1000</td>
<td>kB kilobyte</td>
<td>1024</td>
<td>KiB kibibyte</td>
<td>KB kilobyte</td>
</tr>

<tr>
<td>1000^2</td>
<td>MB megabyte</td>
<td>1024^2</td>
<td>MiB mebibyte</td>
<td>MB megabyte</td>
</tr>

<tr>
<td>1000^3</td>
<td>GB gigabyte</td>
<td>1024^3</td>
<td>GiB gibibyte</td>
<td>GB gigabyte</td>
</tr>

<tr>
<td>1000^4</td>
<td>TB terabyte</td>
<td>1024^4</td>
<td>TiB tebibyte</td>
<td>-</td>
</tr>
</tbody>
</table>

<p>The reasoning behind my preference is two fold:</p>

<ol>
<li>The JEDEC <a href="https://www.jedec.org/document%5Fsearch?search%5Fapi%5Fviews%5Ffulltext=JESD100B01">Terms, Definitions, and Letter Symbols for Microcomputers, Microprocessors, and Memory Integrated Circuits</a> only defines the first three higher order prefixes: <em>kilo</em> (K), <em>mega</em> (M), <em>giga</em> (G), referring to them for common usage. The prefix <em>tera</em> was later added to the JEDEC terms dictionary to reflect <a href="https://www.jedec.org/standards-documents/dictionary/terms/mega-m-prefix-units-semiconductor-storage-capacity">common prefix usage for modern semiconductor storage capacity</a>.</li>
<li>IEC prefixes cannot be confused with Metric prefixes.</li>
</ol>

<p>To make matters more confusing, sometimes lowercase <code>k</code> is used to mean 1024, e.g. see <a href="https://man7.org/linux/man-pages/man1/tar.1.html#OPTIONS">tar(1) OPTIONS</a> sub section <code>Size Suffixes</code> located <a href="https://man7.org/linux/man-pages/man1/tar.1.html#RETURN%5FVALUE">above the RETURN VALUE section</a>. Understanding which system of measurement is being used is essential when calculating offsets.</p>

<h2 id="layout-of-sunxi-bootable-storage">Layout of sunxi bootable storage</h2>

<p>The first 40 plus <code>KiB</code> of bootable storage for an Allwinner based board has the <a href="https://linux-sunxi.org/Bootable%5FSD%5Fcard#SD%5FCard%5FLayout">following default layout</a>:</p>

<table>
<thead>
<tr>
<th>Start</th>
<th>Size</th>
<th>Usage</th>
</tr>
</thead>

<tbody>
<tr>
<td>0KiB</td>
<td>8KiB</td>
<td>Reserved for optional MBR or GPT</td>
</tr>

<tr>
<td>8KiB</td>
<td>32KiB</td>
<td>Initial SPL</td>
</tr>

<tr>
<td>40KiB</td>
<td>-</td>
<td>U-Boot Proper</td>
</tr>
</tbody>
</table>

<p>From the layout, one can conclude that upgrading the SPL and U-Boot for the PinePhone must involve writing the <code>u-boot-sunxi-with-spl.bin</code> to bootable storage starting at <code>8192B</code>.</p>

<h2 id="pinephone-boot-procedure">PinePhone boot procedure</h2>

<p>Bootstrapping is complicated by initial memory address space limitations. The <a href="https://linux-sunxi.org/BROM#U-Boot%5FSPL%5Flimitations">SPL is limited to 32 KiB</a>, most likely because the BootROM, or BROM, loads the SPL into <a href="https://linux-sunxi.org/A64/Memory%5Fmap">SRAM A1</a>, which is a <code>32 KiB</code> subsection. If the SPL is larger than <code>32 KiB</code> the BROM will refuse to load it. After the SPL loads U-Boot proper and passes execution to the ATF, U-Boot proper in turn runs <a href="https://gitlab.com/postmarketOS/pmaports/-/blob/master/device/community/device-pine64-pinephone/uboot-script.cmd">the Pine Phone‚Äôs u-boot command script</a>. The command script sets the default bootargs for init and calls the <a href="https://gitlab.denx.de/u-boot/u-boot/-/blob/master/cmd/booti.c">booti command</a>, which boots the Linux Kernel Image from memory given the <em>flattend device tree</em> (<a href="https://devicetree-specification.readthedocs.io/en/latest/flattened-format.html">FDT</a>) and the <em>initial ramdisk</em> (<a href="https://en.wikipedia.org/wiki/Initrd">initrd</a>), ultimately passing execution to Linux init.</p>



<div>
  
<div><pre><code data-lang="text">+-----------------------+
|        BootROM        |
+-----------.-----------+
|
|
+-----------V-----------+
|     u-boot.itb+SPL    |
+-----------.-----------+
|
|
+-----------V-----------+
|       TF-A BL31       |
+-----------.-----------+
|
|
+-----------V-----------+
| U-Boot Proper (=BL33) |
+-----------.-----------+
|
|
+-----------V-----------+
|        Linux          |
+-----------------------+</code></pre></div>
</div>

<p>You might have noticed that <code>/usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin</code> is much larger than <code>32KiB</code>.</p>
<div><pre><code data-lang="text">second-chance:~$ ls -lh /usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin
-rw-r--r--    1 root     root      486.0K Jun 20 12:41 /usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin</code></pre></div>
<p>That is because the SPL binary image includes a <em>Flattened uImage Tree</em> (<a href="https://gitlab.com/pine64-org/u-boot/-/blob/master/doc/uImage.FIT/source%5Ffile%5Fformat.txt">FIT image</a>) named <code>u-boot.itb</code> that contains the rest of the firmware.</p>

<h2 id="determine-which-bootable-storage-device-is-relevant">Determine which bootable storage device is relevant</h2>

<p>Before you can <a href="#how-to-determine-if-u-boot-needs-to-be-upgraded">determine if U-Boot needs to be upgraded</a>, you need to know which storage device your PinePhone is booting from. This can be easily determined by using the <a href="https://linux.die.net/man/8/lsblk">lsblk(8)</a> command to list the running operating system‚Äôs current mount points. Below is the output of <a href="https://linux.die.net/man/8/lsblk">lsblk(8)</a> run on my PinePhone booted from an <code>SD</code> card:</p>
<div><pre><code data-lang="sh">second-chance:~$ lsblk --output NAME,TYPE,MOUNTPOINT</code></pre></div><div><pre><code data-lang="text">NAME         TYPE MOUNTPOINT
mmcblk0      disk
‚îú‚îÄmmcblk0p1  part /boot
‚îî‚îÄmmcblk0p2  part
mmcblk2      disk
‚îú‚îÄmmcblk2p1  part
‚îú‚îÄmmcblk2p2  part
‚îú‚îÄmmcblk2p1  part
‚îî‚îÄmmcblk2p2  part
mmcblk2boot0 disk
mmcblk2boot1 disk</code></pre></div>
<p>The disk corresponding to the <code>/boot</code> mountpoint is the name of the block special device that postmarketOS is currently running form. The device path to the relevant boot storage device is therefore <code>/dev/mmcblk0</code>. We will be using this device name in the next two sections to determine if an upgrade is needed and again to perform the actual upgrade if warranted. You must be careful to use the device name that is relevant to your own running environment if you are following along.</p>

<h2 id="how-to-determine-if-u-boot-needs-to-be-upgraded">How to determine if U-Boot needs to be upgraded?</h2>

<p>You can determine if an upgrade is necessary simply by comparing the version of U-Boot installed by the <code>u-boot-pinephone</code> package with the version of U-Boot that is written to <a href="#determine-which-bootable-storage-device-is-relevant">the bootable storage device which is relevant to your running environment</a>.</p>

<p>To see which version of <code>U-Boot</code> was installed by the <code>u-boot-pinephone</code> package, simply run the <code>apk policy</code> sub command as shown below:</p>
<div><pre><code data-lang="sh">second-chance:~/$ apk policy u-boot-pinephone</code></pre></div><div><pre><code data-lang="text">u-boot-pinephone policy:
  2020.04_git20200421-r1:
    lib/apk/db/installed
    etc/apk/cache
    http://postmarketos1.brixit.nl/postmarketos/master</code></pre></div>
<p>Alternatively, you can use the <a href="https://linux.die.net/man/1/busybox">busybox(1)</a> <code>strings</code> command to search the binary‚Äôs printable strings for the regex pattern <code>U-Boot [[:digit:]]</code> by piping the output through a <a href="https://linux.die.net/man/1/busybox">busybox(1)</a> <code>grep</code> filter. As a side note, the PinePhone uses busybox, so when you find yourself looking up command line documentation with the intention of running the command from a PinePhone shell, always check the <a href="https://linux.die.net/man/1/busybox">busybox(1)</a> man pages first.</p>
<div><pre><code data-lang="sh">second-chance:~/packages$ strings /usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin | grep -E <span>'U-Boot [[:digit:]]'</span></code></pre></div><div><pre><code data-lang="text">U-Boot 2020.04 (Jun 20 2020 - 12:41:48 +0000)</code></pre></div>
<p>Similarly, to determine the version of U-Boot that is currently written to bootable storage, you can search for the same regex pattern in the printable strings of the boot disk after the first <code>8 KiB</code>. However, since the bootable storage is significantly larger than <code>u-boot-sunxi-with-spl.bin</code>, it would not be efficient to use the <code>strings</code> command as we did previously. Instead, we will use the <a href="https://linux.die.net/man/1/busybox">busybox(1)</a> <code>dd</code> command, which will allow us to control where to begin and end the search. Since we can‚Äôt easily know the exact offset of the version string, which can very from build to build, my strategy has been to simply skip the first <code>8 KiB</code> and then read the same number of <code>KiB</code> as the size of the currently installed <code>u-boot-sunxi-with-spl.bin</code>. If my search turns up nothing, then that means that the previously installed version was larger, and I can simply increase the <code>count</code> to some reasonable number of <code>KiB</code> until I find what I am looking for.</p>

<p>First, let‚Äôs determine the size of <code>u-boot-sunxi-with-spl.bin</code>.</p>
<div><pre><code data-lang="sh">ls -lh /usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin</code></pre></div><div><pre><code data-lang="text">-rw-r--r--    1 root     root      543.3K Jul 18  2020 /usr/share/u-boot/pine64-pinephone/u-boot-sunxi-with-spl.bin</code></pre></div>
<p>The binary installed to disk is about <code>5‚Ä¶</code></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bloggerbust.ca/post/how-to-update-uboot-for-postmarketos-on-the-pinephone/">https://bloggerbust.ca/post/how-to-update-uboot-for-postmarketos-on-the-pinephone/</a></em></p>]]>
            </description>
            <link>https://bloggerbust.ca/post/how-to-update-uboot-for-postmarketos-on-the-pinephone/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24244407</guid>
            <pubDate>Sat, 22 Aug 2020 14:35:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build tools around workflows, not workflows around tools]]>
            </title>
            <description>
<![CDATA[
Score 483 | Comments 144 (<a href="https://news.ycombinator.com/item?id=24244329">thread link</a>) | @thesephist
<br/>
August 22, 2020 | https://thesephist.com/posts/tools/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/tools/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p><em>This March, I spent a couple of days traveling through western Iceland.</em></p>
<p><img src="https://thesephist.com/img/iceland.jpg" alt="Iceland, part 1"></p>
<p>While I was there, I thought a lot about tools ‚Äì mechanical tools, software tools, tools that last, and tools that are fragile. The somber snow-covered scenery made me think about how quickly most of the tools we use today get outdated or replaced, and I thought about the kinds of tools that I‚Äôve been building for myself for the last few years to help organize my life.</p>
<p>I took a walk around <em>Sm√°b√°tah√∂fnin √≠ Keflav√≠k</em> (a small marina nearby) that night, unraveled myself into my hotel room, and started writing this post.</p>
<p>I want to share why I build my own tools and how I think we should think about building tools for life. It‚Äôs long, so here‚Äôs a roadmap. Feel free to jump around.</p>
<ol>
<li><a href="#my-tools-today">My tools, today</a></li>
<li><a href="#workflows--tools">Workflows &gt; tools</a>
<ol>
<li><a href="#tasks-and-notes-a-false-dichotomy">Tasks and notes, a false dichotomy</a></li>
<li><a href="#tools-that-grow-with-your-workflows">Tools that grow with your workflows</a></li>
</ol>
</li>
<li><a href="#own-your-load-bearing-tools-of-life">Own your load-bearing tools of life</a></li>
<li><a href="#cost-and-other-smaller-benefits">Cost and other smaller benefits</a></li>
<li><a href="#your-tools-are-an-extension-of-you">Your tools are an extension of you</a></li>
<li><a href="#appendix-the-technical-nitty-gritty">Appendix: the technical nitty-gritty</a></li>
</ol>
<hr>

<p>For the last few years, I‚Äôve been on a journey to replace all of the essential digital tools I use for organizing my life with tools I develop, maintain, and deploy myself.</p>
<p>What started with a single-page notes app I made in high school has grown into a constellation of home-grown productivity tools I now rely on for my day-to-day work and learning. Here‚Äôs a sample.</p>
<ul>
<li>
<p><a href="https://github.com/thesephist/polyx#ligature">Ligature</a>, for long-term notes and tasks, goals, brainstorming, project planning, and other important writing.</p>
<p><img src="https://thesephist.com/img/ligature.jpg" alt="Ligature"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/pico">Pico</a>, for more ephemeral notes and tasks that change on a daily basis. I split up my notes into two apps (Ligature and Pico) because it works better for my workflow. (More on this later.)</p>
<p><img src="https://thesephist.com/img/pico.jpg" alt="Pico"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/mira">Mira</a> for keeping track of people I know, why they‚Äôre interesting, and what we‚Äôve talked about.</p>
<p><img src="https://thesephist.com/img/mira.png" alt="Mira"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/lovecroft">Lovecroft</a> for managing and sending emails to my <a href="https://thesephist.com/#newsletter">mailing lists</a>.</p>
<p><img src="https://thesephist.com/img/lovecroft.jpg" alt="Lovecroft"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/polyx#noct">Noct</a> for backing up and syncing all my files across computers and the cloud. Noct doesn‚Äôt have a graphical UI, just a command-line tool.</p>
</li>
<li>
<p><a href="https://thesephist.com/posts/frieden/">Frieden</a> as a public availability calendar, showing when I‚Äôm free or busy.</p>
<p><img src="https://thesephist.com/img/frieden.png" alt="Frieden"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/thingboard">Thingboard</a> for more free-form Post-its-on-the-wall style brainstorming.</p>
<p><img src="https://thesephist.com/img/thingboard.jpg" alt="Thingboard"></p>
</li>
<li>
<p><a href="https://codeframe.co/">Codeframe</a> for spinning off simple JavaScript experiments like <a href="https://thesephist.com/posts/word-experiments/#word-plotter">the word plotter</a>.</p>
<p><img src="https://thesephist.com/img/codeframe.jpg" alt="Codeframe"></p>
</li>
<li>
<p><a href="https://github.com/thesephist/draw">draw</a>, a collaborative whiteboard, best used with my iPad Pro and Apple Pencil.</p>
<p><img src="https://thesephist.com/img/draw.jpg" alt="Draw"></p>
</li>
</ul>
<p>Taken together, these apps do almost everything I need to do on my computer to keep myself organized. I don‚Äôt use any third-party notes, task management, or contacts apps, though I used to be a big fan of Simplenote and Todoist. I‚Äôve used Notion, Dropbox Paper, Google Docs, and Airtable, but only for working in teams that centralized on them. These days, besides email and calendar, I live within a system of my own tools, and it works well for me.</p>
<p>I don‚Äôt want to imply that my tools are objectively better than the professional tools on the market like Notion and Dropbox. Those latter services have more features, and might even be more reliable today. But I think my tools fit me better for a different reason.</p>

<p>Each person‚Äôs mind works a little differently, and each person remembers and processes information a little differently. I think we all work at our best when we work with tools that fit how our minds work.</p>
<p>The Eureka moment that some of us feel when we finally find a notes app or todo system that fits our brains ‚Äì that epiphany happens when the tools we use mirror the way our minds work, and how we want to move information through our lives. Good tools fit perfectly around our workflows, bad tools don‚Äôt.</p>
<p>When we resort to having other people build tools for us, the tools they build might never quite perfectly fit our workflows, because they‚Äôre not built for our individual minds. When other people build tools for us to use, they either design tools after their own workflows and mental models, or worse, they design it for a mass market of millions of people who all sort-of-but-not-really work and think in similar ways. The result is that mass-market productivity tools don‚Äôt fit the way our individual minds are predisposed to work. Instead, to use these tools, we need to bend our workflows to fit around the tools.</p>
<p>My biggest benefit from writing my own tool set is that <strong>I can build the tools that exactly conform to my workflows, rather than constructing my workflows around the tools available to me.</strong> This means the tools can truly be an extension of the way my brain thinks and organizes information about the world around me. My tools aren‚Äôt perfect yet, but as they grow and evolve, they‚Äôll only become better reflections of my personal mental models.</p>
<p>For example, one place where my mind works differently than the tools on the market is the task/notes distinction.</p>
<h3 id="tasks-and-notes-a-false-dichotomy">Tasks and notes, a false dichotomy</h3>
<p>My workflow used to differentiate between tasks and notes. Tasks were action items that I could reference, take action on, and complete, and then erase from my list. Notes were things that were indefinitely relevant. I would take notes and then come back to reference them many times. A note by itself isn‚Äôt actionable.</p>
<p>But once I started building my own tools, I realized this distinction isn‚Äôt really the way my brain worked. For me, a huge grey area exists between actionable, completable tasks and purely encyclopedic notes. Here are some things that fall in the grey area for me, pulled from my real, actual notes I took this week.</p>
<ol>
<li>I recently learned some really useful tips about how to grow leaders within a community from the book <em><a href="https://gettogetherbook.com/">Get Together</a></em>. I definitely want to act on these learnings at some point in the communities I lead, but I don‚Äôt want them cluttering up my todo list because they‚Äôre not things I can just complete and check off quickly. I also want to remember these tips forever, even after the first time I act on them.</li>
<li>I‚Äôve been brainstorming an idea for a side project related to <a href="https://en.wikipedia.org/wiki/Computer_algebra">symbolic mathematics</a>. I‚Äôve been writing down my inspirations related to this project. I don‚Äôt want to tuck it away in my notes, because this is something I want to build soon, but I also don‚Äôt want to shove paragraphs of notes into a todo list item.</li>
<li>I keep a running list of ideas I have for future blog posts, but I don‚Äôt really have a ‚Äúwrite the next blog post‚Äù task item under which I‚Äôd normally put these ideas, because I don‚Äôt write on schedule ‚Äì I just write when I can. Where should these ideas go? They‚Äôre sort-of notes and sort-of tasks.</li>
</ol>
<p>You might think that these are either very clearly todo items or very clearly notes, and that‚Äôs ok. But I certainly felt differently, and I realized I was only separating things into these two buckets because my tools forced me to. Before I wrote my own tools, I had a todo app (Todoist) and I had a notes app (Simplenote), and there was nothing in between.</p>
<p>Eventually, I discovered a better mental model for my working style: I ask myself <em>how immediately</em> I need to take action on something.</p>
<p>The way that I see it, everything I learn and jot down is something for me to act on at some point in my life. If I read something that I never thought would influence the way I lived, it wouldn‚Äôt have value to me, and I simply wouldn‚Äôt write it down. Armed with this insight, these days, I have two different notes apps, and I don‚Äôt use a todo list app. These two apps are Ligature and Pico, mentioned above.</p>
<p>One is for notes that are changing often. Day-to-day tasks, things to remember for the next week, even long notes and links related to what I‚Äôm working on <em>now</em>. The other app is for notes that grow over time, like notes I take while reading books or watching talks, my annual goals, financial planning, reading list, and project outlines. <strong>My two notes apps mirror the way my brain works best ‚Äì one is my short-term, working memory, the other is my long-term memory.</strong></p>
<p>I‚Äôve had this system for a few months now, and haven‚Äôt felt any need for something better. It doesn‚Äôt have the crazy features of some notes services on the market today, but it just works the way my brain does.</p>
<p>But what if I need something different later on in life?</p>
<h3 id="tools-that-grow-with-your-workflows">Tools that grow with your workflows</h3>
<p>The other benefit of building homebrew tools is that <strong>tools you build yourself can grow and change as your workflow changes over time</strong>. So if my needs do change over time, my tools can grow to accommodate exactly what I need.</p>
<p>When I first started keeping more organized notes on the interesting people I met, I started with a document in my notes app. Over time, I noticed that these notes followed a pattern: I wrote down their name and primary contact info, how I first met them, what school they went to, and what we talked about the last time we spoke.</p>
<p>So when I built Mira, my own people-manager app, I designed it around that exact workflow I had developed. When I later realized I was also recording people‚Äôs Twitter usernames in the description field, I just added a Twitter username field to each contact.</p>
<p>This is typical of the way I <em>discover</em> my workflows. <strong>I start with a minimal, bare-bones solution, and try to pick up on patterns and tricks I create for myself. And then I encode those patterns and tricks into the tools over time.</strong></p>
<p>This way, my tools can grow organically as my workflows evolve. Neither of them gets in the way of each other most of the time, and I think that was hard to appreciate before I started relying wholly on my own tools.</p>

<p>My productivity tools, especially my notes and contacts, are the load-bearing tools of my life. If they break or disappear, it‚Äôll take a long time and a lot of effort for me to rebuild those same workflows and tools, so it‚Äôs important that they‚Äôre reliable, and that I can depend on them working for me for a long time (measured in years and decades, not quarters).</p>
<p>I‚Äôve written at length about <a href="https://thesephist.com/posts/ownership/">the importance of ownership</a> before. I want to own the pieces of my life that are most critical, and I want agency over how these tools change over time.</p>
<p>I want these notes and ideas and workflows to stick with me as I grow as a person through the next decades. If I had to ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesephist.com/posts/tools/">https://thesephist.com/posts/tools/</a></em></p>]]>
            </description>
            <link>https://thesephist.com/posts/tools/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24244329</guid>
            <pubDate>Sat, 22 Aug 2020 14:23:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Polymath Playbook]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24244316">thread link</a>) | @joubert
<br/>
August 22, 2020 | https://salman.io/blog/polymath-playbook/ | <a href="https://web.archive.org/web/*/https://salman.io/blog/polymath-playbook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		


		

		<div>
			<p>You‚Äôve likely heard the saying: ‚ÄúA jack of all trades is a master of none.‚Äù It warns against the futility of pursuing too many disciplines. Be a specialist, or you‚Äôll be nothing.</p>
<p>It may surprise you to learn there‚Äôs actually an extended version: ‚ÄúA jack of all trades is a master of none, but oftentimes better than a master of one.‚Äù With a subtle addition, its meaning becomes inverted to tout the benefits of being a polymath (a.k.a. generalist).</p>
<p>Why is the former so common, and the latter so unknown?</p>
<p>The answer lies in modern society‚Äôs preference for <strong>specialization</strong>. We‚Äôll explore its origin, the limits it places on workers‚Äô freedoms, and how the polymath approach can offer a reprieve. Finally, I‚Äôll share my own experiences and learnings exploring a multitude of pursuits.</p>
<h2 id="cost-of-specialization">Cost of Specialization</h2>
<p>Following unprecedented growth during the industrial revolution, businesses faced more competition than ever before. In order to thrive, they sought new ways to operate more efficiently and productively. Division of labor was the solution they were looking for. By dividing the tasks needed to produce goods and services, individual workers could focus on specific tasks rather than developing a variety of expertise.</p>
<p>One important criteria to optimize for specialization is ensuring that workers stay in the same role for prolonged periods of time. This facilitates increased efficiency by reducing the need for training and allowing individuals to iteratively improve their ability to perform similar tasks. In exchange for their loyalty, the company offers its employees the security of long-term employment, along with additional incentives including tax-sheltered retirement accounts and access to healthcare.</p>
<p>In some parts of the world, these benefits come at a heavy cost to an individual‚Äôs freedom. In the United States for example, if you‚Äôre employed with a company, you get healthcare. Otherwise, you‚Äôre out of luck. Workers are often hesitant to switch jobs (let alone spend extended time without one) out of fear of losing their healthcare benefits. Another part of the problem is that the cost of healthcare in the U.S. is so high. A few days without healthcare and a single accident can push someone into financial ruin. As a result, many people stay at the same job year after year <a href="https://www.forbes.com/sites/jackkelly/2019/10/25/more-than-half-of-us-workers-are-unhappy-in-their-jobs-heres-why-and-what-needs-to-be-done-now/#e8bfe3d20247" target="_blank">even if they‚Äôre unhappy</a>.</p>
<p>The lack of freedom might be a worthy sacrifice in exchange for job security. But therein lies the problem: few companies can actually guarantee long-term stability. Many workers already face ambiguity with their job security due to the impending effects of automation. Now, with the tornado of change brought about by the COVID pandemic, the brittleness of even large corporations‚Äô stability has become apparent.</p>
<p>So how do we survive these waves of change? <strong>Adaptability</strong>.</p>
<p>Workers need to embrace a life of learning and self-evolution in order to thrive.</p>
<blockquote>
<p>In order to keep up with the world of 2050, you will need not merely to invent new ideas and products ‚Äì you will above all need to reinvent yourself again and again.<br>
‚ÄîYuval Noah Harari</p>
</blockquote>
<p>Luckily, we have a template for how to do just that: the <strong>polymath</strong>.</p>
<p>Polymaths engage in extended learning across disparate fields, and apply their learnings to connect ideas and solve problems in unique ways. By nature, they‚Äôre well suited to thrive in a constantly changing environment.</p>
<h2 id="polymath-advantage">Polymath Advantage</h2>
<p>The key advantage that polymaths hold is their ability to develop <strong>mental models</strong> from different fields and apply them to solve problems in a unique way. This enables them to <strong>differentiate</strong> from their competition. Further, it creates opportunities for them to find truly <strong>meaningful work</strong> by pursuing their passions.</p>
<h3 id="differentiation">Differentiation</h3>
<p>One of the challenges with specialization is that it becomes harder to compete over time. This is a bit counter-intuitive. At first you might think the more ‚Äòspecialized‚Äô you become, the more ‚Äòrare‚Äô your skillset is and thus, the better you are in terms of competition. There are two issues that arise as you continue down the path of linear specialization:</p>
<p><strong>1.</strong> <strong>Over-specialization</strong>: This often happens to PhD students who have pursued very niche, highly specific areas of expertise. It‚Äôs rare to find jobs that can actually serve their level of specialization. They find themselves given a choice to continue their career in academia, or take a less desirable job in the workforce that doesn‚Äôt actually leverage their unique skills.</p>
<p><strong>2.</strong> <strong>Diminishing returns</strong>: The larger your team is, the more difficult it becomes to be the <em>absolute best</em> in a particular area. As a simple example: It‚Äôs quite difficult to become the most technically proficient engineer in a given company. However, it‚Äôs much more straightforward to differentiate yourself through excellent communication skills, design sensibilities, leadership skills, and so on.</p>
<p>Once you hit the diminishing returns of specialization on one pursuit (<strong>the limits of depth</strong>), it makes sense to expand to other pursuits and diversify your skills (<strong>the opportunities of breadth</strong>).</p>
<h3 id="mental-models">Mental Models</h3>
<p>When you work in a particular industry for a while, you start to develop mental models based on its structures and dynamics. These are widely known <em>within</em> the industry, but not as much outside of it.</p>
<p>There‚Äôs where the opportunity comes in. If you find yourself working in a new area later in your life, you can combine mental models from different areas in ways that few others can.</p>
<blockquote>
<p>In the 17th century, Johannes Kepler didn‚Äôt have a wealth of existing knowledge or technology to work with. There was no concept of gravity as a force, and he had no notion of momentum that keeps the planets in motion.</p>
<p>Analogies were all he had.</p>
<p>From research on magnets, Kepler began to understand why planets moved toward and away from the sun. By picturing how boats might move in a whirlpool, Kepler began to understand the elliptical orbit patterns of planets.</p>
<p>‚ÄîDavid Epstein, <em>Range</em></p>
</blockquote>
<p>The more pursuits you expose yourself to, the more models you have to work from, and the more you can stand out from the competition.</p>
<h3 id="purpose">Purpose</h3>
<p>I believe the strongest reason polymaths become polymaths is that they simply don‚Äôt have a choice. The urge to pursue one‚Äôs inner passions is strong, and those blessed with a variety of them often find them difficult to ignore.</p>
<p>The polymath‚Äôs search for meaning and purpose through different pursuits can be related to the Japanese concept of <em>Ikigai</em> (‚Äúa reason for being‚Äù):</p>
<p><img src="https://salman.io/img/ikigai.jpg">
</p>
<p>It can take many years or even decades before one sees any intersection between different circles. Yet a single taste can be intoxicating, and motivate a lifetime of pursuit.</p>
<p>What purpose could be greater than discovering purpose itself?</p>
<h2 id="my-inner-fox">My Inner Fox</h2>
<p>When I first began to study polymaths, I was excited to see a template for a life I didn‚Äôt know I was living. But when I started to embrace the polymath identity, my inner critics appeared. I wondered whether I‚Äôm even qualified to write about polymaths, let alone call myself one. After all, the <a href="https://notes.salman.io/the-definition-of-a-polymath" target="_blank">the definition of a polymath</a> is somewhat murky. I‚Äôve spoken to a lot of peers who feel this same hesitation, and it‚Äôs been refreshing to connect with others who are taking a similar approach to life.</p>
<p>I also got a boost of confidence from a book called <em>Hedgehog and the Fox</em> by Isaiah Berlin. The book is a major source of inspiration for the generalist approach, and contrasts two proverbial animals: the specialist hedgehog and the generalist fox. I was elated to discover that the spirit animal for my <em><a href="https://brownfox.substack.com/" target="_blank">Quick Brown Fox</a></em> newsletter (inspired by <em>The Little Prince</em>‚Äôs fox) was incredibly prescient. It seems my destiny as a polymath fox was written long ago‚Ä¶</p>
<p><img src="https://salman.io/img/fox.png">
</p>
<p>I‚Äôve been lucky to have held a lot of different roles and explored a lot of varied interests in my life. I‚Äôve been a startup founder, software engineer, manager, teacher, public speaker, advisor, DJ and writer. Some of these are roles I‚Äôve explored for decades, while others for just a year. Beyond that, I‚Äôve also spent a lot of time on artistic hobbies like illustration and animation. In hindsight, there were a number of benefits I enjoyed as a result of combining different pursuits.</p>
<p>As a DJ, I had to learn to not just play my playlist, but to pay close attention to the audience and cater to them. Looking back, I think <a href="https://soundcloud.com/daretodj" target="_blank">each one of my sets</a> was a live lesson on how to find product-market fit.</p>
<p><img src="https://salman.io/img/salman-dj.jpg">
</p>
<p>Thanks to my <a href="https://vimeo.com/134677777" target="_blank">obsession with animation</a>, I learned to incorporate the principles of animation into the software I built. Later, when I was building digital healthcare experiences, I was able to use animation to bring the patients‚Äô user experience to life. I brought a different perspective to the healthcare world (specifically: the idea that filling out a form could be <strong>fun</strong>).</p>
<div>
 <p><iframe src="https://player.vimeo.com/video/134677777?portrait=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe></p>
</div>
<p>Through extended <a href="https://medium.com/@salmansays/teaching-in-paradise-12159066cd86" target="_blank">teaching stints at software development schools</a>, I built strong communication skills that paid dividends in future public speaking engagements as well as all my daily interactions with coworkers. As it turns out, explaining our ideas is crucial to our effectiveness, and teaching provides excellent practice for this skill.</p>
<p>The list goes on.</p>
<p>I didn‚Äôt do any of these things with a goal of being a polymath. I did them because <strong>I was drawn to them</strong>. It took many years before I started to see any benefits from mixing these pursuits.</p>
<p>Now that I‚Äôm intentionally embracing a polymath life, I hope to see the benefits compound even more. I‚Äôm excited to see how this plays out!</p>
<h2 id="freedom-isnt-free">Freedom Isn‚Äôt Free</h2>
<p>We‚Äôve talked a lot about the benefits of the polymath lifestyle. I‚Äôd be remiss if I didn‚Äôt leave you with a few warnings about the obstacles.</p>
<p>One of the strange things about having multiple pursuits is that <strong>you never quite fit</strong> into social groups. I remember joining an iOS developers group where most of the members had been doing iOS development for more than a decade. Meanwhile, I had worked on countless platforms, in different roles across a variety of industries. We may have been in the same group, but we had lived completely different lives. It was ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://salman.io/blog/polymath-playbook/">https://salman.io/blog/polymath-playbook/</a></em></p>]]>
            </description>
            <link>https://salman.io/blog/polymath-playbook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24244316</guid>
            <pubDate>Sat, 22 Aug 2020 14:22:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rolling your own crypto gone wrong: A look at a .NET Branca implementation]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24243750">thread link</a>) | @todsacerdoti
<br/>
August 22, 2020 | https://brycx.github.io/2020/08/22/a-look-at-a-branca-implementation.html | <a href="https://web.archive.org/web/*/https://brycx.github.io/2020/08/22/a-look-at-a-branca-implementation.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h3 id="introduction">Introduction</h3>

<p>Some time back, I was looking at token authentication formats to authenticate some API calls. I didn‚Äôt even attempt to look at JWT &amp; Co. for <a href="https://paragonie.com/blog/2017/03/jwt-json-web-tokens-is-bad-standard-that-everyone-should-avoid">multiple reasons</a>. I landed between <a href="https://paseto.io/">PASETO</a> and <a href="https://branca.io/">Branca</a>.</p>

<p>I chose Branca for its simplicity. I needed authenticated API calls with a shared symmetric key. Both Branca and PASETO implemented this using XChaCha20-Poly1305, but PASETO also supports asymmetric authentication, which I didn‚Äôt need. I was quite pleased by looking at how straight-forward Branca <a href="https://github.com/tuupola/branca-spec#token-format">made it</a>:</p>
<div><div><pre><code>Version (1B) || Timestamp (4B) || Nonce (24B) || Ciphertext (*B) || Tag (16B)
</code></pre></div></div>

<p>Simply construct a header and encrypt and authenticate the payload using XChaCha20-Poly1305, with the header as the AAD.</p>

<p>Back then, there was only one <a href="https://github.com/thangchung/branca-dotnet">.NET implementation</a>, which targeted .NET Core whereas I needed .NET Framework. I took a quick look: there were no test vectors and used ChaCha20-Poly1305 instead of XChaCha20-Poly1305. It was only available GitHub, so I thought it may just be a toy project for fun. I dropped it and forgot about it.</p>

<p>Fast forward a couple of days ago, I returned to find <a href="https://github.com/scottbrady91/IdentityModel">a new</a> .NET Core implementation. It was also published as a NuGet, which got my hopes up - might be a polished implementation that I could get working on .NET Framework.</p>

<p><a href="https://www.nuget.org/packages/ScottBrady.IdentityModel/">ScottBrady.IdentityModel</a> is a relatively new NuGet, with three releases in total. Its first release was at the beginning of May this year and the latest was at the beginning of this August. It uses <a href="https://www.bouncycastle.org/csharp/index.html">BouncyCastle</a> for cryptographic implementations and offers both PASETO and Branca.</p>

<p>Note: All code discussed is based on the master branch at <a href="https://github.com/scottbrady91/IdentityModel/commit/4ff8a06719bd83a4129f45d2ce92f1891a51bd01">4ff8a06</a>. I‚Äôll also be referring to this NuGet as just IdentityModel throughout the rest of this post.</p>

<h3 id="inspection">Inspection</h3>

<h4 id="tokenssecuritytokenexception-invalid-message-authentication-code">Tokens.SecurityTokenException: Invalid message authentication code</h4>

<p>I pulled down IdentityModel in a new project and took some <a href="https://github.com/tuupola/branca-js/blob/master/test.js">test vectors</a> from the JS reference implementation, which is linked in the specification for Branca.</p>

<div><div><pre><code><span>static</span> <span>void</span> <span>TestBranca</span><span>(</span><span>string</span> <span>expectedToken</span><span>,</span> <span>string</span> <span>expectedPayload</span><span>)</span> 
<span>{</span>
    <span>var</span> <span>handler</span> <span>=</span> <span>new</span> <span>BrancaTokenHandler</span><span>();</span>
    <span>var</span> <span>key</span> <span>=</span> <span>Encoding</span><span>.</span><span>UTF8</span><span>.</span><span>GetBytes</span><span>(</span><span>"supersecretkeyyoushouldnotcommit"</span><span>);</span>

    <span>try</span>
    <span>{</span>
        <span>var</span> <span>actualToken</span> <span>=</span> <span>handler</span><span>.</span><span>CreateToken</span><span>(</span><span>expectedPayload</span><span>,</span> <span>key</span><span>);</span>
        <span>var</span> <span>actualPayload</span> <span>=</span> <span>handler</span><span>.</span><span>DecryptToken</span><span>(</span><span>expectedToken</span><span>,</span> <span>key</span><span>);</span>
    <span>}</span>
    <span>catch</span> <span>(</span><span>Exception</span> <span>e</span><span>)</span>
    <span>{</span>
        <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"FAILED: \nexpectedToken: {0}\nexpectedPayload: {1}\nexception: {2}\n"</span><span>,</span> <span>expectedToken</span><span>,</span> <span>expectedPayload</span><span>,</span> <span>e</span><span>.</span><span>Message</span><span>);</span>
    <span>}</span>
<span>}</span>

<span>static</span> <span>void</span> <span>Main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
<span>{</span>
    <span>TestBranca</span><span>(</span><span>"870S4BYjk7NvyViEjUNsTEmGXbARAX9PamXZg0b3JyeIdGyZkFJhNsOQW6m0K9KnXt3ZUBqDB6hF4"</span><span>,</span> <span>"Hello world!"</span><span>);</span>
    <span>TestBranca</span><span>(</span><span>"89i7YCwtsSiYfXvOKlgkCyElnGCOEYG7zLCjUp4MuDIZGbkKJgt79Sts9RdW2Yo4imonXsILmqtNb"</span><span>,</span> <span>"Hello world!"</span><span>);</span>
    <span>TestBranca</span><span>(</span><span>"875GH234UdXU6PkYq8g7tIM80XapDQOH72bU48YJ7SK1iHiLkrqT8Mly7P59TebOxCyQeqpMJ0a7a"</span><span>,</span> <span>"Hello world!"</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>Running the above tests gave me:</p>

<div><div><pre><code>FAILED: 
expectedToken: 870S4BYjk7NvyViEjUNsTEmGXbARAX9PamXZg0b3JyeIdGyZkFJhNsOQW6m0K9KnXt3ZUBqDB6hF4
expectedPayload: Hello world!
exception: Invalid message authentication code

FAILED: 
expectedToken: 89i7YCwtsSiYfXvOKlgkCyElnGCOEYG7zLCjUp4MuDIZGbkKJgt79Sts9RdW2Yo4imonXsILmqtNb
expectedPayload: Hello world!
exception: Invalid message authentication code

FAILED: 
expectedToken: 875GH234UdXU6PkYq8g7tIM80XapDQOH72bU48YJ7SK1iHiLkrqT8Mly7P59TebOxCyQeqpMJ0a7a
expectedPayload: Hello world!
exception: Invalid message authentication code
</code></pre></div></div>

<p>I was already off to a good start.</p>

<h4 id="nonce-generation">Nonce generation</h4>
<p>Starting at the top of the file containing the Branca implementation, comes <code>CreateToken()</code>. The first thing is nonce generation:</p>
<div><div><pre><code><span>var</span> <span>nonce</span> <span>=</span> <span>new</span> <span>byte</span><span>[</span><span>24</span><span>];</span>
<span>RandomNumberGenerator</span><span>.</span><span>Create</span><span>().</span><span>GetBytes</span><span>(</span><span>nonce</span><span>);</span>
</code></pre></div></div>

<p>It uses the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.security.cryptography.randomnumbergenerator.getbytes?view=netcore-3.1">System.Security.Cryptography.RandomNumberGenerator.GetBytes</a> method, which is intended for cryptographic purposes, so that checks out.</p>

<h4 id="unauthenticated-ciphertext">Unauthenticated ciphertext</h4>

<p>After the nonce is generated, the header is created according to the specification. No problem there. Then comes the encryption:</p>

<div><div><pre><code><span>keyMaterial</span> <span>=</span> <span>new</span> <span>KeyParameter</span><span>(</span><span>key</span><span>);</span>
<span>var</span> <span>parameters</span> <span>=</span> <span>new</span> <span>ParametersWithIV</span><span>(</span><span>keyMaterial</span><span>,</span> <span>nonce</span><span>);</span>

<span>var</span> <span>engine</span> <span>=</span> <span>new</span> <span>XChaChaEngine</span><span>();</span>
<span>engine</span><span>.</span><span>Init</span><span>(</span><span>true</span><span>,</span> <span>parameters</span><span>);</span>
</code></pre></div></div>

<p>I‚Äôm not familiar with BouncyCastle, so I checked its source to see what <code>KeyParameter</code> and <code>ParametersWithIV</code> were doing. They were simply wrappers for the parameters.</p>

<p><code>XChaChaEngine()</code> was not from BouncyCastle however, but implemented in IdentityModel:</p>

<div><div><pre><code><span>using</span> <span>Org.BouncyCastle.Crypto.Engines</span><span>;</span>

<span>namespace</span> <span>ScottBrady.IdentityModel.Crypto</span>
<span>{</span>
    <span>public</span> <span>class</span> <span>XChaChaEngine</span> <span>:</span> <span>ChaChaEngine</span>
    <span>{</span>
        <span>public</span> <span>XChaChaEngine</span><span>()</span> <span>:</span> <span>base</span><span>(</span><span>20</span><span>)</span> <span>{</span> <span>}</span>

        <span>public</span> <span>override</span> <span>string</span> <span>AlgorithmName</span> <span>=&gt;</span> <span>"XChaCha20"</span><span>;</span>

        <span>protected</span> <span>override</span> <span>int</span> <span>NonceSize</span> <span>=&gt;</span> <span>24</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>After initializing the <code>XChaChaEngine</code>, the payload is ‚Äúencrypted and authenticated‚Äù:</p>

<div><div><pre><code><span>var</span> <span>plaintextBytes</span> <span>=</span> <span>Encoding</span><span>.</span><span>UTF8</span><span>.</span><span>GetBytes</span><span>(</span><span>payload</span><span>);</span>
<span>var</span> <span>ciphertext</span> <span>=</span> <span>new</span> <span>byte</span><span>[</span><span>plaintextBytes</span><span>.</span><span>Length</span> <span>+</span> <span>16</span><span>];</span>

<span>engine</span><span>.</span><span>ProcessBytes</span><span>(</span><span>plaintextBytes</span><span>,</span> <span>0</span><span>,</span> <span>plaintextBytes</span><span>.</span><span>Length</span><span>,</span> <span>ciphertext</span><span>,</span> <span>0</span><span>);</span>

<span>var</span> <span>poly</span> <span>=</span> <span>new</span> <span>Poly1305</span><span>();</span>
<span>poly</span><span>.</span><span>Init</span><span>(</span><span>keyMaterial</span><span>);</span>
<span>poly</span><span>.</span><span>BlockUpdate</span><span>(</span><span>header</span><span>,</span> <span>0</span><span>,</span> <span>header</span><span>.</span><span>Length</span><span>);</span>
<span>poly</span><span>.</span><span>DoFinal</span><span>(</span><span>ciphertext</span><span>,</span> <span>plaintextBytes</span><span>.</span><span>Length</span><span>);</span>
</code></pre></div></div>

<p>This is <strong>not a XChaCha20-Poly1305 construction</strong>. There is no padding of the AAD nor the ciphertext during authentication. Neither is there any authentication of their length. All this is specified in the <a href="https://github.com/bikeshedders/xchacha-rfc">draft RFC</a> and the <a href="https://tools.ietf.org/html/rfc8439">RFC for ChaCha20-Poly1305</a>. Actually, this does not even authenticate the ciphertext since <code>DoFinal()</code> writes the current tag into <code>ciphertext</code>. The <strong>ciphertext can be modified without invalidating the token</strong>.</p>

<div><div><pre><code><span>var</span> <span>handler</span> <span>=</span> <span>new</span> <span>BrancaTokenHandler</span><span>();</span>
<span>var</span> <span>key</span> <span>=</span> <span>Encoding</span><span>.</span><span>UTF8</span><span>.</span><span>GetBytes</span><span>(</span><span>"supersecretkeyyoushouldnotcommit"</span><span>);</span>
<span>var</span> <span>actualToken</span> <span>=</span> <span>handler</span><span>.</span><span>CreateToken</span><span>(</span><span>"Test"</span><span>,</span> <span>key</span><span>);</span>
<span>var</span> <span>decoded</span> <span>=</span> <span>Base62</span><span>.</span><span>Decode</span><span>(</span><span>actualToken</span><span>);</span>
<span>decoded</span><span>[</span><span>decoded</span><span>.</span><span>Length</span> <span>-</span> <span>17</span><span>]</span> <span>^=</span> <span>1</span><span>;</span> <span>// Last byte before the Poly1305 tag</span>
<span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"{0}"</span><span>,</span> <span>handler</span><span>.</span><span>DecryptToken</span><span>(</span><span>Base62</span><span>.</span><span>Encode</span><span>(</span><span>decoded</span><span>),</span> <span>key</span><span>).</span><span>Payload</span><span>);</span>
</code></pre></div></div>

<p>Running this will return <code>Tesu</code> instead of <code>Test</code>. Thereby, <strong>IdentityModel allows attackers to arbitrarily modify the payload of a Branca token</strong>.</p>

<p>After searching BouncyCastle, I found no XChaCha20 implementation but a ChaCha20-Poly1305, which had the following fields:</p>

<div><div><pre><code><span>private</span> <span>readonly</span> <span>ChaCha7539Engine</span> <span>mChacha20</span><span>;</span>
<span>private</span> <span>readonly</span> <span>IMac</span> <span>mPoly1305</span><span>;</span>
</code></pre></div></div>

<p>As you might have noticed, <code>ChaCha7539Engine</code> is not the same engine that is implemented by <code>XChaChaEngine</code> in IdentityModel. Turns out, IdentityModel uses the ChaCha20 variant with a 64-bit nonce, instead of the 96-bit nonce required by the IETF version of ChaCha20. Both ChaCha20-Poly1305 and XChaCha20-Poly1305 require the IETF variant of ChaCha20. Taking a look at <code>ChaChaEngine</code> from BouncyCastle, there is no HChaCha20 being used to calculate a subkey, if the nonce length is set to 24 as in <code>XChaChaEngine</code>. Therefore, all we‚Äôre left with is the original ChaCha20 from DJB, using an 8-byte nonce, meaning <code>engine.Init(true, parameters)</code> only loads 8 bytes of the 24-byte nonce that has been generated.</p>

<p>The Branca specification makes it <a href="https://github.com/tuupola/branca-spec">pretty clear</a> how to encrypt the payload:</p>
<blockquote>
  <ol>
    <li>Encrypt the user given payload with IETF XChaCha20-Poly1305 AEAD with user-provided secret key. Use the header as the additional data for AEAD.</li>
  </ol>
</blockquote>

<p>It doesn‚Äôt have to be made as complicated as the above code from IdentityModel. If one reads the draft RFC, or looks at another implementation, it eventually becomes clear that XChaCha20-Poly1305 is ‚Äújust‚Äù a combination of HChaCha20 and ChaCha20-Poly1305.</p>

<h4 id="forgeable-tokens">Forgeable tokens</h4>
<p>Let‚Äôs return to the attempt of authenticating the header and ciphertext. Specifically, this line:</p>


<p><code>keyMaterial</code> is <strong>the same key</strong> that was used to initialize the <code>XChaChaEngine</code>.</p>

<blockquote>
  <p>The sender must not use crypto_onetimeauth to authenticate more than one message under the same key. Authenticators for two messages under the same key should be expected to reveal enough information to allow forgeries of authenticators on other messages.</p>
</blockquote>

<p>(From <a href="https://nacl.cr.yp.to/onetimeauth.html">NaCl</a>)</p>

<p>As NaCls documentation states, any given key used with Poly1305 may <strong>only be used once</strong> otherwise, an attacker could forge future authenticators. This is a problem since Branca might be used in contexts like authenticating API calls, where long-lived API keys are used. <strong>IdentityModel allows attackers to forge API tokens</strong>.</p>

<p>This would not be a problem in IdentityModel, had it at least used ChaCha20-Poly1305 from BouncyCastle to attempt the Branca implementation. ChaCha20-Poly1305 uses the first 32 bytes of the first keystream-block (64 bytes), of the internal ChaCha20 state, as the Poly1305 one-time key. So if a nonce is unique for every time ChaCha20-Poly1305 is used with any given key (which it <strong>MUST</strong>), the Poly1305 key will also be unique.</p>

<p>Of course, IdentityModel should use XChaCha20-Poly1305, not only because that is what the Branca specification defines, but also because it‚Äôs not safe to randomly generate nonces for ChaCha20 or ChaCha20-Poly1305 (see <a href="https://godoc.org/golang.org/x/crypto/chacha20poly1305">/x/crypto</a>). This limitation was the motivation behind XChaCha20-Poly1305 (see <a href="https://github.com/bikeshedders/xchacha-rfc/blob/master/draft-irtf-cfrg-xchacha-rfc-03.txt">draft RFC</a>).</p>

<h4 id="constant-time-mac-comparison">Constant-time MAC comparison</h4>
<p>Any decent ChaCha20-Poly1305 or XChaCha20-Poly1305 implementation will compare the Poly1305 MACs in constant-time, to not reveal information via a timing side-channel. This, unfortunately, is not the case for IdentityModel either:</p>

<div><div><pre><code><span>var</span> <span>headerMac</span> <span>=</span> <span>new</span> <span>byte</span><span>[</span><span>16</span><span>];</span>
<span>[..]</span>
<span>if</span> <span>(!</span><span>headerMac</span><span>.</span><span>SequenceEqual</span><span>(</span><span>tag</span><span>))</span> <span>throw</span> <span>new</span> <span>SecurityTokenException</span><span>(</span><span>"Invalid message authentication code"</span><span>);</span>
</code></pre></div></div>

<p>BouncyCastle uses constant-time comparison with ChaCha20-Poly1305 and provides the comparison function as a utility:</p>

<div><div><pre><code><span>if</span> <span>(!</span><span>Arrays</span><span>.</span><span>ConstantTimeAreEqual</span><span>(</span><span>MacSize</span><span>,</span> <span>mMac</span><span>,</span> <span>0</span><span>,</span> <span>mBuf</span><span>,</span> <span>resultLen</span><span>))</span>
<span>{</span>
    <span>throw</span> <span>new</span> <span>InvalidCipherTextException</span><span>(</span><span>"mac check in ChaCha20Poly1305 failed"</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<h3 id="summary">Summary</h3>

<p>I‚Äôm a big fan of ‚Äúrolling your own crypto‚Äù and here I‚Äôm talking about implementing known algorithms. I do it myself. I even think making it available on GitHub or similar, to ask for feedback, is good (if users are warned that no security can be expected).</p>

<p>However, a problem arises when projects that ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://brycx.github.io/2020/08/22/a-look-at-a-branca-implementation.html">https://brycx.github.io/2020/08/22/a-look-at-a-branca-implementation.html</a></em></p>]]>
            </description>
            <link>https://brycx.github.io/2020/08/22/a-look-at-a-branca-implementation.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243750</guid>
            <pubDate>Sat, 22 Aug 2020 12:45:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing better Code (extension to Joel's 12 steps to better Code)]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24243656">thread link</a>) | @gerlacdt
<br/>
August 22, 2020 | https://gerlacdt.github.io/posts/writing-better-software/ | <a href="https://web.archive.org/web/*/https://gerlacdt.github.io/posts/writing-better-software/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>I</span>n Joel Spolsky‚Äôs blog post <a href="https://www.joelonsoftware.com/2000/08/09/the-joel-test-12-steps-to-better-code/" target="_blank" rel="noopener">‚ÄúThe Joel Test: 12 Steps to better
Code‚Äù</a>,
he describes a test composed of twelve simple yes-no questions. For a
<strong>yes</strong> you get one point. 10 points are acceptable and 12 are
perfect. If you have less than 10 points, you will get in trouble with
your software ‚Äì sooner or later.</p>
<p>For a quick self-check, these are the original questions:</p>
<ol>
<li>Do you use source control?</li>
<li>Can you make a build in one step?</li>
<li>Do you make daily builds?</li>
<li>Do you have a bug database?</li>
<li>Do you fix bugs before writing new code?</li>
<li>Do you have an up-to-date schedule?</li>
<li>Do you have a spec?</li>
<li>Do programmers have quiet working conditions?</li>
<li>Do you use the best tools money can buy?</li>
<li>Do you have testers?</li>
<li>Do new candidates write code during their interview?</li>
<li>Do you do hallway usability testing?</li>
</ol>
<p>Although Joel‚Äôs Test is still an excellent indicator for good software
development and engineering, 20 years have past and many game changing
technologies have emerged like mobile apps, the public cloud and in
general better tooling is available. The success of
<a href="https://git-scm.com/" target="_blank" rel="noopener">git</a> and <a href="https://github.com/" target="_blank" rel="noopener">github</a> changed
how we develop software. In this article i want to extend Joel‚Äôs test
with contemporary questions:</p>
<ol start="13">
<li>Do you enforce a common code styleguide?</li>
<li>Do you write tests?</li>
<li>Do you conduct code reviews?</li>
<li>Do your developers write documentation?</li>
<li>Do you focus on code health?</li>
<li>Do you practice continuous integration?</li>
<li>Do you have a mentoring program?</li>
<li>Is your infrastructure reproducible?</li>
<li>Are you doing your best to keep your engineers?</li>
<li>Do you provide the best technology for your developers?</li>
<li>Do you focus on the four key metrics?</li>
<li>Do you empower your developers?</li>
</ol>
<p>The extended test consists of 24 yes-no questions. As with Joel‚Äôs
Test, for a <strong>yes</strong> you get one point. The ranking is:</p>
<ul>
<li>&lt;= 20 points, you must improve</li>
<li>21 points, you are ok</li>
<li>22 points, you are a high-performer</li>
<li>23 points, you are a high-performer</li>
<li>24 points, you are best-in-class</li>
</ul>
<p>Further I want to emphasis that <strong>sustainablity</strong> is my main intention
for the test. Many questions contribute directly or indirectly to a
sustainable and healthy codebase which is crucial for a successful
long-term software project and in general for a successful software
company. <a href="https://youtu.be/zW-i9eVGU_k?t=197" target="_blank" rel="noopener">Titus Winters</a> defines a
sustainable codebase as:</p>
<blockquote>
<p>Your organization‚Äôs codebase is sustainable when you are able to
change all of the things that you ought to change, safety, and can do
so for the lifetime of your codebase.</p>
</blockquote>
<h4 id="13-do-you-enforce-a-common-code-styleguide"><a href="#13-do-you-enforce-a-common-code-styleguide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>13. Do you enforce a common code styleguide?</h4>
<p><strong>Consistency</strong> is one of the most important properties of a codebase.
It bolsters readability and maintainability which are essential for
sustainable code. A consistent codebase is easier to grasp and makes
onboarding new developers faster. New programmers are guided by the
prevailing style and can adapt quickly to it. Consistency is also an
indicator for coder‚Äôs discipline, clearly you don‚Äôt want to have dead
code, unused imports, wrong indentations, and other intricacies in
your codebase. The desired consistency can be achieved by a code
styleguide.</p>
<p>At best you enforce the rules of the styleguide via tooling like
static code analyzers, linters and autoformatting tools. Often these
tools are integrated into the build or are executed before a
commit. Further there are also manually measures like <a href="#codereview">code
reviews</a> to enforce a common code style.</p>
<p>A consistent code style increases productivity, e.g. linters prevent
sloppy programming errors, autoformatters leave no room for useless
(sometimes religious) discussions about indentation and formatting
rules. All code looks the same. Developer‚Äôs taste and ego take a back
seat.</p>
<h4 id="14-do-you-write-tests"><a href="#14-do-you-write-tests"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>14. Do you write tests?</h4>
<p>Writing automatic test is a major trait of a sustainable
codebase. There are many kind of tests but the best known
classification comes with the <a href="https://martinfowler.com/articles/practical-test-pyramid.html" target="_blank" rel="noopener">Test
Pyramid</a>.</p>
<ul>
<li>Unit Tests</li>
<li>Service Tests</li>
<li>User Interface Tests</li>
</ul>
<p>Particularly <strong>unit tests</strong> build the foundation and give developers
confidence to move fast and not to break existing functionality. Unit
testing is a major pillar of a fast feedback loop. This keeps
developers happy and the quality high. In general, tests act as a
safety net, prevent new bugs from being introduced and old bugs from
reoccurrence.</p>
<p>Without automatic tests your codebase will erode and only long-term
developers will be capable to make changes. Onboarding new developers
will take months or will never succeed at all. Over time developer
speed will slow down and finally come to a complete halt. Heavily
relying on manual testing before a release is a clear indicator of
missing automatic tests and extends the release cycle by days or
weeks. High performers deploy on a daily basis which is not possible
with manual testing phases. Therefore manual testing should be reduced
to a minimum or completely avoided.</p>
<p>Establishing a good testing culture is especially important. E.g.</p>
<ul>
<li>no code changes without a corresponding test</li>
<li>no bugfix without a test demonstrating the bug is indeed fixed</li>
<li>unit test should be fast, so developers run them continuously</li>
<li>unit test code coverage should be at a reasonable level like ~70%</li>
</ul>
<p>At Google, they practice the <a href="https://www.oreilly.com/library/view/software-engineering-at/9781492082781/" target="_blank" rel="noopener">Beyonce Rule ‚ÄúIf you liked it, you
shoulda put a test on
it!"</a>
This rule inverts responsibility, e.g. if someone breaks a feature and
there was no test, the original author of the broken feature ‚Äúshoulda
put a test on it!‚Äù.</p>
<h4 id="codereview"><a href="#codereview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>15. Do you conduct code reviews?</h4>
<p>Code reviews are a critical step in your software engineering
process. Not only they prevent entering bugs into your mainline but
they are a major tool for knowledge transfer, learning and mentoring.
The code review process fosters a common understanding between
reviewers and author and offers a platform for discussions about
trade-offs and design decisions. Reviews are not only focused on
correctness but also on readability, performance and other
non-functional properties.</p>
<p>All of that will lead to better solutions. Further reviewers practice
their code reading skill which is as important as code
writing. Besides compiling, linting and running tests, code reviews
form a major step in a developers feedback loop. Code should never be
committed into mainline without a proper code review.</p>
<p>Because code reviews can conjure up heated discussions, reviewers
should comply to some <a href="https://google.github.io/eng-practices/review/reviewer/" target="_blank" rel="noopener">code review
guidelines</a>
in order to guarantee a flawless experience.</p>
<h4 id="16-do-developers-write-documentation"><a href="#16-do-developers-write-documentation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>16. Do developers write documentation?</h4>
<p>Documentation starts with the code. Code comments or a good
description of a pull request are good examples. Thereby good
documentation focuses on <strong>why</strong> something was done. An extensive
<code>README.md</code> acts as the ‚Äúfront-page‚Äù of a project and should contain
its purpose and instructions for developers to set up their local
environment for development, e.g installing prerequisites, building
the project, running the tests.</p>
<p>Additionally a variety of documents with different purposes exist:</p>
<ul>
<li>Design Docs (showing alternative solutions, why was one approach
chosen over the others?)</li>
<li>Architecture Diagrams (System overview, showing coherence between
components)</li>
<li>Operational Playbooks for <a href="https://landing.google.com/sre/workbook/chapters/on-call/" target="_blank" rel="noopener">Software Reliability Engineers
(SREs)</a>
(operational instructions for fighting outages)</li>
</ul>
<p>All these documents should be written by developers, operators or
other technical people. Living, up-to-date documentation makes a
project more understandable and long-term project members are capable
of answering questions why things were done in the past ‚Äì in the
majority of projects, the top answer is ‚Äúthis is historically grown‚Äù.
The only way to get real insights is conducting time consuming
face-to-face interviews. Documentation helps to keep an overview over
an ever-growing project, to facilitate the start for new developers
and to build a searchable knowledge base. Past decisions should be
transparent through good documentation and not hidden in people‚Äôs
heads.</p>
<h3 id="17-do-you-focus-on-code-health"><a href="#17-do-you-focus-on-code-health"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>17. Do you focus on code health?</h3>
<p>A healthy codebase is a major criteria for developer happiness. If
your developers working on a shitty codebase, they adapt to the poor
quality or leave. The existing codebase act as a <strong>role model</strong>. For
the purpose of high quality code, it is important to continuously
focus on code health. The best coders are repelled by bad code and
attracted by healthy code. But what is a healthy codebase?</p>
<p>A codebase is healthy when:</p>
<ul>
<li>you have fast builds</li>
<li>you have an easy development setup</li>
<li>you have fast and maintainable tests</li>
<li>you have clean, readable, loosely coupled and consistent code</li>
<li>you can easily debug the system</li>
<li>you continuously tackle technical debt</li>
</ul>
<p>You can find a much more exhaustive explanation of code health in
<a href="https://testing.googleblog.com/2016/08/hackable-projects.html" target="_blank" rel="noopener">Google‚Äôs Testing Blog about Code
Health</a>.</p>
<p>Signs of bad code are:</p>
<ul>
<li>complicated developer setup</li>
<li>hard to debug, missing monitoring, noisy garbage logs</li>
<li>long build times</li>
<li>inconsistent code (dead code, unused imports, different formatting
styles, no code styleguide)</li>
<li>large merge conflicts due to long running feature branches, broken mainline</li>
<li>no tests, flaky tests, hard-maintainable tests because of mocking overuse</li>
</ul>
<p>Never trade dirty code or workarounds due to time or release pressure
for code health. You will end up very badly in the long run. Worse
yet, you get in a vicious cycle because bad code slows you down and in
order to fulfil the next release you add more dirty workarounds. So
always prioritize code health, even when it looks counterintuitive at
first sight.</p>
<h3 id="18-do-you-practice-continuous-integration"><a href="#18-do-you-practice-continuous-integration"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>18. Do you practice continuous integration?</h3>
<p>Nowadays Continuous Integration is hopefully commonplace. At best, you
work with trunk-based development and your mainline is always
releasable, preferably with feature toggles. Highest priority is to
keep the mainline green and a broken build should be fixed
immediately. Small and frequent releases prevent bugs or even outages
which happen when large releases are done only intermittently.</p>
<p>CI helps to prevent tedious merge conflict resolutions because your
developers regularly commit into mainline. Additionally you will get
rid of time consuming integration problems at the end of your
implementation phases.</p>
<p>‚ÄúAgile‚Äù‚Äôs main goal is to identify risks as early as possible and not
to postpone them till the end of a project. CI supports exactly</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gerlacdt.github.io/posts/writing-better-software/">https://gerlacdt.github.io/posts/writing-better-software/</a></em></p>]]>
            </description>
            <link>https://gerlacdt.github.io/posts/writing-better-software/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243656</guid>
            <pubDate>Sat, 22 Aug 2020 12:27:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When I stopped believing in Google's fundamental good nature]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24243508">thread link</a>) | @sysoleg
<br/>
August 22, 2020 | https://utcc.utoronto.ca/~cks/space/blog/tech/GoogleWhenEvilRealized | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/tech/GoogleWhenEvilRealized">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>When I stopped believing in Google's fundamental good nature</h2>

	<p><small>August 21, 2020</small></p>
</div><div><p>Once upon a time I might have believed in Google's fundamental
goodness and well intentioned nature (probably with qualifications).
Google themselves eventually taught me better, perhaps later than
it took for other people to realize that they were an amoral
corporation. For me, the moment of realization, the point where I
knew for sure that Google's "don't be evil" slogan was inoperative,
was the great <a href="https://en.wikipedia.org/wiki/Google%2B">Google+</a>
'nymwars', where Google (for Google+) declared that everyone on
Google+ must use their real name and then attempted to enforce that
(<a href="https://en.wikipedia.org/wiki/Nymwars#Google">it went wrong pretty fast</a>).</p>

<p>There were a large number of problems with Google+'s 'real name'
policies. It didn't match how actual users referred to each other
and were known online, including for people who actually worked at
Google. Forcing people to reveal their real name does real harm and
has real risks (something appreciated even back then in 2011, but
which is more pointed today). And in practice, a 'real name' policy
is actually a 'it looks like a real name to underpaid support people
or some automated system' policy, where 'John Smith' is far more
likely to be accepted than a non-Western name or an unusual one,
even if one is not your real name and the other is.</p>

<p>Google knew all of this. People, including internal people, pointed
this out to them at great length. A decent number of technical people
who worked at Google protested. There were demonstrated problems with
the actual enforcement and actions involved. And Google, in both their
senior leadership and their ongoing policies, simply didn't care. All
of the harms and the wrongs did not matter to them. They were going to
do evil because they could, and because they thought it served their
corporate goals for Google+.</p>

<p>(We all know how that one went; Google+ died, for all that it had
some good ideas.)</p>

<p>Watching all of this happen, watching all of the protesting and
good arguments and everything go exactly nowhere, is when I knew
that my image of Google was wrong (and gone). Now I extend no more
trust to Google than I think supported by their corporate and
commercial interests. Google employees may care about "don't be
evil" and doing the right thing and so on, but Google as a whole
does not, and the employees do what Google tells them to.</p>

<p>(This elaborates something I said in an aside long ago, in an entry
about <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/SmartphoneWhyIPhone">why my smartphone is an iPhone</a>.)</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/tech/GoogleWhenEvilRealized</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243508</guid>
            <pubDate>Sat, 22 Aug 2020 11:52:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Versioned HDF5]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24243476">thread link</a>) | @todsacerdoti
<br/>
August 22, 2020 | https://labs.quansight.org/blog/2020/08/introducing-versioned-hdf5/ | <a href="https://web.archive.org/web/*/https://labs.quansight.org/blog/2020/08/introducing-versioned-hdf5/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody text">
        <div>
<p>The problem of storing and manipulating large amounts of data is a challenge in
many scientific computing and industry applications. One of the standard data
models for this is <a href="https://support.hdfgroup.org/HDF5/whatishdf5.html">HDF5</a>,
an open technology that implements a hierarchical structure (similar to a
file-system structure) for storing large amounts of possibly heterogeneous data
within a single file. Data in an HDF5 file is organized into <em>groups</em> and
<em>datasets</em>; you can think about these as the folders and files in your local
file system, respectively. You can also optionally store metadata associated
with each item in a file, which makes this a self-describing and powerful data
storage model.</p>
<!-- TEASER_END -->

<p><img alt="Hierarchical Data Format (HDF5) Dataset (From https://www.neonscience.org/about-hdf5)" src="https://labs.quansight.org/images/hdf5_structure4_resized.png"><em>Image: Hierarchical Data Format (HDF5) Dataset (From https://www.neonscience.org/about-hdf5)</em></p>
<p>Since reading and writing operations in these large data files must be fast,
the HDF5 model includes data compression and <em>chunking</em>. This technique allows
the data to be retrieved in subsets that fit the computer's memory or RAM,
which means that it doesn't require the entire file contents to be loaded into
memory at once. All this makes HDF5 a popular format in several domains, and
with <a href="https://www.h5py.org/">h5py</a> it is possible to use a Pythonic interface to
read and write data to a HDF5 file.</p>
<p>Now, let's say you have an HDF5 file with contents that change over time. You
may want to add or remove datasets, change the contents of the data or the
metadata, and keep a record of which changes occurred when, with a way to
recover previous versions of this file. Since HDF5 is a binary file format,
using regular version control tools (such as git) may prove difficult.</p>
<h3>Introducing the Versioned HDF5 library</h3>
<p>The Versioned HDF5 library is a versioned abstraction on top of h5py. Because
of the flexibility of the HDF5 data model, all versioning data is stored in the
file itself, which means that different versions of the same data (including
version metadata) can be stored in a single HDF5 file.</p>
<p>To see how this works in practice, let's say we create a regular HDF5 file with
h5py called <code>mydata.h5</code>.</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>import</span> <span>h5py</span>
    <span>&gt;&gt;&gt;</span> <span>fileobject</span> <span>=</span> <span>h5py</span><span>.</span><span>File</span><span>(</span><span>'mydata.h5'</span><span>,</span> <span>'w'</span><span>)</span>
</code></pre>


<p>Now, you can create a <code>VersionedHDF5file</code> object:</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>from</span> <span>versioned_hdf5</span> <span>import</span> <span>VersionedHDF5File</span>
    <span>&gt;&gt;&gt;</span> <span>versioned_file</span> <span>=</span> <span>VersionedHDF5File</span><span>(</span><span>fileobject</span><span>)</span>
</code></pre>


<p>This file still doesn't have any data or versions stored in it. To create a new
version, you can use a context manager:</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>with</span> <span>versioned_file</span><span>.</span><span>stage_version</span><span>(</span><span>'version1'</span><span>)</span> <span>as</span> <span>group</span><span>:</span>
    <span>...</span>     <span>group</span><span>[</span><span>'mydataset'</span><span>]</span> <span>=</span> <span>np</span><span>.</span><span>ones</span><span>(</span><span>10000</span><span>)</span>
</code></pre>


<p>The context manager returns a h5py group object, which should be modified
in-place to build the new version. When the context manager exits, the version
will be written to the file. From this moment on, any interaction with the
versioned groups and datasets should be done via the Versioned HDF5 API, rather
than h5py.</p>
<p>Now, the <code>versioned_file</code> object can be used to expose versioned data by version name:</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>v1</span> <span>=</span> <span>versioned_file</span><span>[</span><span>'version1'</span><span>]</span>
    <span>&gt;&gt;&gt;</span> <span>v1</span>
    <span>&lt;</span><span>Committed</span> <span>InMemoryGroup</span> <span>"/_version_data/versions/version1"</span><span>&gt;</span>
    <span>&gt;&gt;&gt;</span> <span>v1</span><span>[</span><span>'mydataset'</span><span>]</span>
    <span>&lt;</span><span>InMemoryArrayDataset</span> <span>"mydataset"</span><span>:</span> <span>shape</span> <span>(</span><span>10000</span><span>,),</span> <span>type</span> <span>"&lt;f8"</span><span>&gt;</span>
</code></pre>


<p>To access the actual data stored in version <code>version1</code>, we use the same syntax
as h5py:</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>dataset</span> <span>=</span> <span>v1</span><span>[</span><span>'mydataset'</span><span>]</span>
    <span>&gt;&gt;&gt;</span> <span>dataset</span><span>[()]</span>
    <span>array</span><span>([</span><span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>...</span><span>,</span> <span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>1.</span><span>])</span>
</code></pre>


<p>Suppose now we want to commit a new version of this data, changing just a slice
of the data. We can do this as follows:</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>with</span> <span>versioned_file</span><span>.</span><span>stage_version</span><span>(</span><span>'version2'</span><span>)</span> <span>as</span> <span>group</span><span>:</span>
    <span>...</span>     <span>group</span><span>[</span><span>'mydataset'</span><span>][</span><span>0</span><span>]</span> <span>=</span> <span>-</span><span>10</span>
</code></pre>


<p>Both versions are now stored in the file, and can be accessed independently.</p>
<pre><span></span><code>    <span>&gt;&gt;&gt;</span> <span>v2</span> <span>=</span> <span>versioned_file</span><span>[</span><span>'version2'</span><span>]</span>
    <span>&gt;&gt;&gt;</span> <span>v1</span><span>[</span><span>'mydataset'</span><span>][()]</span>
    <span>array</span><span>([</span><span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>...</span><span>,</span>  <span>1.</span><span>,</span>  <span>1.</span><span>,</span>  <span>1.</span><span>])]</span>
    <span>&gt;&gt;&gt;</span> <span>v2</span><span>[</span><span>'mydataset'</span><span>][()]</span>
    <span>array</span><span>([</span><span>-</span><span>10.</span><span>,</span> <span>1.</span><span>,</span> <span>1.</span><span>,</span> <span>...</span><span>,</span>  <span>1.</span><span>,</span>  <span>1.</span><span>,</span>  <span>1.</span><span>])]</span>
</code></pre>


<h3>Current status</h3>
<p><code>versioned-hdf5 1.0</code> has recently been released, and is available on PyPI and conda-forge. You can install it with</p>
<pre><span></span><code><span>conda</span> <span>install</span> <span>-</span><span>c</span> <span>conda</span><span>-</span><span>forge</span> <span>versioned</span><span>-</span><span>hdf5</span>
</code></pre>


<p>The development is on <a href="https://github.com/deshaw/versioned-hdf5">GitHub</a>.
Currently, the library supports basic use cases, but there is still a lot to
do. We welcome community contributions to the library, including any issues or
feature requests.</p>
<p>For now, you can check out the
<a href="https://deshaw.github.io/versioned-hdf5/">documentation</a> for more details on
what is supported and how the library is built.</p>
<h3>Next steps</h3>
<p>This is the first post in a series about the Versioned HDF5 library. Next,
we'll discuss the performance of Versioned HDF5 files, and the design of the
library.</p>
<p>The Versioned HDF5 library was created by the <a href="https://www.deshaw.com/">D. E. Shaw
group</a> in conjunction with
<a href="https://www.quansight.com/">Quansight</a>.</p>
<p><img alt="https://www.deshaw.com" src="https://labs.quansight.org/images/sponsors/black_logo_417x125.png"></p>
</div>
    </div></div>]]>
            </description>
            <link>https://labs.quansight.org/blog/2020/08/introducing-versioned-hdf5/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243476</guid>
            <pubDate>Sat, 22 Aug 2020 11:45:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's Wrong with Academia?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24243443">thread link</a>) | @physicsgraph
<br/>
August 22, 2020 | http://a3nm.net/work/research/wrong/ | <a href="https://web.archive.org/web/*/http://a3nm.net/work/research/wrong/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container2">
<p>This document is my attempt to keep a thematic list of all the problems that affect
academic research, as I can tell from my point of view 
(theoretical computer science research in France).
It was written after having worked in academia for 6 years, which I hope strikes a right balance
between being too naive and having become oblivious to problems.
This list is not a call to action directed at anyone (except
maybe myself), but I hope it can lead to discussion and maybe to change.</p>
<p>Of course, despite these flaws, there are many things
to like about academia: complete freedom, fascinating questions, passionate
people, limited short-term pressure, etc. Many of the problems in this list also exist
in other environments, and some of them are only more noticeable in academia because of its
high standards (e.g., having to support your claims)
and noble goals (e.g., acting in the public interest).
Overall, I am still enthusiastic about academic research: it wouldn't be my
job otherwise!
Yet, I think it would be worthwhile for academics to spend more time thinking
about these problems and discussing possible solutions to them.</p>
<p>As this page is rather long, each problem is in a separate section: I have put a
star (*) in the title of those that I consider to be the most important. I have
also put the main contents of each section in a collapsible box. If you want,
you can:</p>

<p>If you are in a hurry, here is a 280-char summary of the core issue:</p>
<blockquote>
<p><em>The competition for positions and grants has lead academia to focus on papers
and citations as the primary indicators of success. This is influencing how
research is conducted and presented, and makes it hard to complement traditional
publishing with new ways to share knowledge.</em></p>
</blockquote>
<p>As for other pages in this website, my <a href="http://a3nm.net/legal/">disclaimer</a> applies: while I am
definitely relying on my research experience to write this essay, it only
reflects my personal opinion, and is not endorsed by my current or past
employers.
I am interested in your opinion about these problems or their solutions, or
if you would add other problems to this list.
Feel free to reach out by email at a3nm@a3nm.net.
I'm grateful to <a href="#Acknowledgements">many people</a> who wrote to suggest
improvements to this page.</p>

<h2 id="availability-and-formatting-of-papers"><a href="#availability-and-formatting-of-papers">Availability and formatting of papers</a><a href="#availability-and-formatting-of-papers" title="Permanent link">¬∂</a></h2>
<p>This section presents problems related to the distribution and formatting of
traditional academic papers.</p>
<h3 id="OpenAccess"><a href="#OpenAccess">Papers are not all publicly available (*)</a><a href="#OpenAccess" title="Permanent link">¬∂</a></h3>
<p>The goal of research is to develop and distribute new knowledge. Yet, its output
is often difficult to access because it is stuck behind paywalls: potential
readers need to pay to access research articles.</p>
<details>
<summary>Details and proposed solutions...</summary>
<p>Of course, many other kinds of creative works have a price: books, music, movies, video games, etc. 
However, for such works, a part of the price usually goes to support the
creators, i.e., the musicians, writers, etc.
By contrast, subscriptions and payments for research articles do not
support researchers.
In fact, researchers earn a salary from their home university or other institutions,
which are often publicly funded institutions:
so it also seems like members of the public should be able to access the results of their research.</p>
<p>So what happens to the money paid to access scientific papers? All of it goes to the academic publisher, which 
is often a private company, or sometimes a university or scientific society.
This is counter-intuitive because most of the "cost" of research is not incurred by the publisher:
the research is done by researchers,
it is written up in a paper by these same researchers,
the paper is typeset by the researchers themselves (at least, in computer science),
the paper is <a href="https://en.wikipedia.org/wiki/Peer_review">peer reviewed</a>
by other researchers, and the whole process is usually overseen by researchers.
Yet, the publication venues (conferences and journals) belong to a publisher,
which takes copyright ownership of the papers at the very end of the process, and sells them.
The only contribution of the publisher is to reformat the paper slightly<sup id="fnref:publishers"><a href="#fn:publishers">1</a></sup>, and host it online behind a paywall.
The publisher then makes money from the paywall, so they forbid other people from sharing or re-hosting the article elsewhere, and thus end up working <em>against</em> the distribution of articles.</p>
<p>The justification for this broken system is historical.
Before the Internet and computers,
it was difficult to typeset papers, distributing them in paper form was a heavy and costly investment, and
editors were often small companies with scientific expertise in their subject area.
Nowadays, typesetting is mostly done directly by the authors, online distribution is trivial, and publishers have merged into
publicly-traded multinational conglomerates who minimize their scientific involvement and maximize their profits.</p>
<p>There are many problems with the current system:</p>
<ul>
<li>People without a subscription cannot read research articles. Of course, most readers of scientific articles are academics who usually have a subscription via their university. However, there are also many potential readers outside academia: companies, curious high-school students or pensioners, hobbyists, 
    policymakers, patients who want to know more about a disease that they have, etc. Currently, these people cannot easily read academic articles: this contributes to the divide between academia and non-academics, it gives academia a bad image, and it reduces the overall impact of academic research. For instance, computer science engineers who work in companies are often heard complaining about being unable to access papers that would seem relevant to their work.</li>
<li>The contents of research articles are not indexed by search engines, so they
  are difficult to find for researchers, and are invisible to non-academics.</li>
<li>Not all universities are subscribed to all venues. In particular, poorer universities, especially in developing countries, often cannot afford
  subscriptions fees. Research is supposed to be an even playing field, but this excludes some players from the academic discourse.</li>
<li>When researchers want to access an article for which their university has no subscription, 
they have to find workarounds: asking friends for illegal copies, setting up VPNs, etc. This is tedious, can be illegal, and doesn't even always work: in my research, there have been several cases where I was completely unable to find any available copy of an article that seemed relevant to what I was doing.</li>
<li>Universities and libraries have to pay expensive subscription fees to publishers. As each research article is unique, there is no competition in this market, so the fees are as obscure and extortionate as you would expect.</li>
<li>Solutions like <a href="https://en.wikipedia.org/wiki/Sci-hub">Sci-Hub</a> are arguably doing more for the scientific community than traditional publishers. Yet, they are illegal, so they face legal threats from publishers, and people outside academia usually do not know about them.</li>
</ul>
<p>To work around these problems, many researchers put copies of their own work online.
However, these articles often have an unclear copyright status, so they cannot be mirrored or redistributed, or licensed, e.g., under a <a href="https://en.wikipedia.org/wiki/Creative_Commons">Creative Commons</a> license.
Further, they are often hosted only on the author's website, and not in a stable repository: hence,
when the authors retire or change institutions, the webpages and the papers disappear.
Last, this author copy is often slightly different from the publisher version, in terms of formatting, numbering, and sometimes content: this
causes much confusion about which version should be cited, which version is more up-to-date, etc., and researchers waste time formatting, typesetting, and proofreading multiple versions of their work.</p>
<p>Some publishers are happy to propose a solution to these problems: the author-pays open access model, aka "gold open access". In this model, the author can choose to have their research article freely available on the publisher's website, with no paywall or fees;
but instead the author has to pay an "article processing charge" to cover the publisher's costs.
So, how much do publishers charge to host a PDF file online? The <a href="https://en.wikipedia.org/wiki/Association_for_Computing_Machinery">ACM</a> charges
700&nbsp;USD per article<sup id="fnref:acmfees"><a href="#fn:acmfees">2</a></sup>, and other publishers usually charge more. Compare this to the open repository <a href="http://arxiv.org/">arXiv</a> which offers to host PDF files at no cost to authors or readers: it hosted 
over 110k new articles in 2016 for a budget of 1.1&nbsp;MUSD, amounting to around 10&nbsp;USD per article<sup id="fnref:arxivstats"><a href="#fn:arxivstats">3</a></sup>; or to <a href="https://www.dagstuhl.de/en/publications/lipics/">LIPIcs</a>, a rare example of an ethical publisher, who charges at most 60&nbsp;EUR per article<sup id="fnref:lipicsfees"><a href="#fn:lipicsfees">4</a></sup>. As research is <a href="#Funding">underfunded</a>, 700&nbsp;USD is a lot of money, all the more so in developing countries and poorer universities. Further, with this optional author-pays model, libraries still need to pay subscriptions to access the articles that are not open-access, in addition to paying article processing charges when they publish, i.e., they <a href="https://en.wikipedia.org/wiki/Hybrid_open_access_journal">pay twice</a>.</p>
<p>So, why don't scientists get rid of these useless scientific publishers? This is trickier than one could expect, because the main <a href="#Indicators">indicator</a> to evaluate researchers is the number of articles that they publish in traditional publishing venues (conferences and journals).
Hence, researchers would harm their careers if they stopped publishing their results with traditional venues.
This makes it very difficult to bootstrap new publication venues, as they would be perceived as less prestigious than the established ones. Thus, publishers can continue to milk the prestige of the venues that they own, and make heaps of money<sup id="fnref:profit"><a href="#fn:profit">5</a></sup> while working against the dissemination of science<sup id="fnref:against"><a href="#fn:against">6</a></sup> and without contributing anything of value to the scientific process.</p>

</details>
<h3 id="PDF"><a href="#PDF">PDF is not a great format</a><a href="#PDF" title="Permanent link">¬∂</a></h3>
<p>Most scientific articles are distributed as PDF documents. (Some are distributed
as Word documents, but this is even worse, and I won't comment further.) This is again for historical reasons:
articles were first distributed on paper, and then they were distributed electronically but designed to be
printed and read on paper.
Of course, people still print articles, but nowadays, this is just one way among others to read articles;</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://a3nm.net/work/research/wrong/">http://a3nm.net/work/research/wrong/</a></em></p>]]>
            </description>
            <link>http://a3nm.net/work/research/wrong/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243443</guid>
            <pubDate>Sat, 22 Aug 2020 11:34:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teletext Bad Apple]]>
            </title>
            <description>
<![CDATA[
Score 104 | Comments 32 (<a href="https://news.ycombinator.com/item?id=24243360">thread link</a>) | @bemmu
<br/>
August 22, 2020 | https://bitshifters.github.io/posts/prods/bs-badapple.html | <a href="https://web.archive.org/web/*/https://bitshifters.github.io/posts/prods/bs-badapple.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

                <!-- has to be portfolio-item for the caption overlay to work -->
                <div>
                    <div>

                        
                        <a href="#videoModal" data-toggle="modal">
                            
                            
                            <img src="https://bitshifters.github.io/content/bs-badappl.png" width="640" alt="image-alt">                            
                        </a>
                        


                        <p><strong>‚ÄúBad Apple‚Äù - The definitive BBC Micro/Teletext Version</strong></p>

<p>The Tou Hou Bad Apple <a href="https://www.youtube.com/watch?v=G3C-VevI36s">video</a> has become a benchmark for pushing retro computing power to the limits. While it has been ported to many other 8-bit platforms, we are now pleased to present the definitive BBC Micro version in glorious Teletext pixel graphics.</p>

<p>Our version is a full 3m18s of video playback, played back at 25 frames per second in Teletext / MODE 7.</p>

<p>MODE 7 on the BBC Micro used a <a href="https://en.wikipedia.org/wiki/Mullard_SAA5050">Mullard SAA5050</a> Teletext display/decoder chip which (apart from from subtle implementation differences) is the same <a href="https://en.wikipedia.org/wiki/Teletext">Teletext</a> chip used in analogue TVs. It is 40x25 characters, supporting 8 primary colours, with support for text characters and basic graphical effects using control codes embedded into each character row. Support for teletext on the BBC Micro was an original requirement of the BBC‚Äôs specification for the machine due to their own use of broadcast teletext (<a href="https://en.wikipedia.org/wiki/Ceefax">Ceefax</a>).</p>

<p>The music is a custom VGM chiptune, hand designed by <a href="http://www.inversephase.com/">Inverse Phase</a> for the BBC Micro‚Äôs <a href="https://en.wikipedia.org/wiki/Texas_Instruments_SN76489">SN76489</a>. You can support IP‚Äôs excellent work by <a href="https://www.patreon.com/inversephase">becoming a patron here</a>.</p>

<p>Intro art by <a href="http://www.horsenburger.com/">Horsenburger</a>, and you can buy awesome stuff from <a href="https://www.tshirtstudio.com/marketplace/horsenburger's-textworks">Horsenburger‚Äôs store</a>.</p>

<p>The code, music &amp; screens are crammed into a standard 8-bit 2MHz 6502 based BBC Micro‚Äôs 32Kb RAM, and the video is streamed into memory track by track, after being heavily compressed to fit on one single 400Kb double sided floppy disk image.</p>

<p>You can watch the demo in your browser, using the brilliant JSBeeb Javascript BBC Micro emulator by clicking the Emulate button below.</p>

<p>Full source is on Github.</p>

<p>For more information on teletext, take a look at the following sites:</p>
<ul>
  <li><a href="http://teletextart.co.uk/">TeletextR</a> - News &amp; Happenings in the world of Teletext</li>
  <li><a href="http://edit.tf/">Edit.TF</a> - A Web Based Teletext Editor</li>
  <li><a href="https://www.facebook.com/groups/TeletextGroup/">Facebook Teletext Group</a> - Teletext Community Group</li>
  <li><a href="http://danfarrimond.co.uk/">Dan Farrimond‚Äôs Art</a> - Awesome teletext art</li>
  <li><a href="http://www.horsenburger.com/">Horsenburger‚Äôs Art</a> - Addtional Awesome teletext art</li>
</ul>


                        <hr>
                        <ul>
                            <li>Team:
                                <strong>Bitshifters
                            </strong>
                            </li>
                            
                            <li>Authors:
                                <strong>Kieran, Simon, Inverse Phase &amp; Horsenburger
                            </strong>
                            </li>
                            
                            <li>Released:
                                <strong>2017
                            </strong>
                            </li>
                            <li>Type:
                                <strong>Demo
                            </strong>
                            </li>
                            <li>
                                Platform:
                                <strong>
                                BBC Micro Model B
                            </strong>
                            </li>
                        </ul>
                        <!--
                        <ul class="list-inline item-details">
                            
                            <a href="http://www.pouet.net/prod.php?which=69110" target="_blank">Pouet</a>  
                            <a href="https://www.youtube.com/watch?v=22y_aiOx9CY" target="_blank">Video</a> 
                        </ul>
-->

                    </div>
                </div>
            </div></div>]]>
            </description>
            <link>https://bitshifters.github.io/posts/prods/bs-badapple.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243360</guid>
            <pubDate>Sat, 22 Aug 2020 11:16:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is it ok to divide by 0.0?]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24243277">thread link</a>) | @okaleniuk
<br/>
August 22, 2020 | https://wordsandbuttons.online/why_is_it_ok_to_divide_by_0_0.html | <a href="https://web.archive.org/web/*/https://wordsandbuttons.online/why_is_it_ok_to_divide_by_0_0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
	<p>
This is the speed of light in meters per second.
	</p>
	<p>
299 792 458
	</p>
	<p>
It is a relatively small number. It has nine digits and one can easily write it down on a small sheet of paper.
	</p>
	<p>
But what if we only have about half of that sheet?
	</p>
	<p>
If we're ok with some small error, let's say 0.1%, then we can say that the speed of light is approximately this:
	</p>
	<p>
300 000 000
	</p>
	<p>
It's still nine digits but we can also write it as:
	</p>
	<p>
3√ó10<sup>8</sup>
	</p>
	<p>
Or, using engineering notation,
	</p>
	<p>
3e8
	</p>
	<p>
It's the same number, the same power of ten, it just takes fewer symbols to write it down.
	</p>
	<p>
Now 3e8 represents the speed of light. With some small error, of course.
	</p>
	<p>
But 3e8 with the 0.1% error also represents a lot of other numbers. In fact, it represents every number in the range of [3e8 - 3e5, 3e8 + 3e5]. That's 600 001 integer numbers. And an infinite number of real ones.
	</p>
	<p>
Digital computers mostly keep numbers in a similar way. They store a small amount of binary digits for the number and even a smaller amount of binary digits to indicate the <i>e-something</i> analog which is the multiplying power of two. In this way, they can operate both very large and very small numbers. But of course, the number of digits is finite so there are numbers so large they can not be written at all. We just don't have enough digits to write them down.
	</p>
	<p>
3728084...many more digits...901359572e1
	</p>
	<p>
And the same goes for the small numbers. There are numbers so small that we can't write them down in engineering notation.
	</p>
	<p>
1e-82883617...even more digits...46221667
	</p>
	<p>
With digital computers, we have to represent all those tiny numbers with:
	</p>
	<p>
0.0
	</p>
	<p>
Not the integer zero but the floating-point zero. That's two different animals. Actually, these are three different animals since there is also -0.0 that represents all the tiny negative numbers.
	</p>
	<p>
Anyway, just like 3e8 represents a range of numbers, a 0 represents not a single number but every number that is so small you don't have enough digits to write down how small it is.
	</p>
	<p>
So the number representing zero might be an actual zero but it might very well not be one. So when we ask a computer to divide a number by zero we're actually telling it to divide a number by some arbitrary real small number. And it does. And the result is the arbitrary very large number.
	</p>
	<p>
In floating-point numbers, there is a special number to represent all the arbitrary large numbers. It's called ‚Äúinfinity‚Äù but just as the 0.0 doesn't only represent zero but all the ultra-small numbers, ‚Äúinfinity‚Äù doesn't represent infinity but rather all the numbers that are so large you don't have enough digits to write down how large they are.
	</p>
	<p>
But why do we have to keep our numbers small? Why is it important to fit things into some relatively small amount of digits? Cant, we just have all the digits we want?
	</p>
	<p>
And the answer is‚Ää‚Äî‚Ääthe speed of light.
	</p>
	<p>
In computing, especially in high-performant computing when you measure latencies in nanoseconds, the light suddenly doesn't seem to go travel all that fast.
	</p>
	<p>
How far do you think light travels in one nanosecond given the optimal conditions?
	</p>

	
	


	
	</div></div>]]>
            </description>
            <link>https://wordsandbuttons.online/why_is_it_ok_to_divide_by_0_0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243277</guid>
            <pubDate>Sat, 22 Aug 2020 11:00:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Many Values Does a Boolean Have?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24243211">thread link</a>) | @pcr910303
<br/>
August 22, 2020 | https://danilafe.com/blog/boolean_values/ | <a href="https://web.archive.org/web/*/https://danilafe.com/blog/boolean_values/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    
    
    <p>A friend of mine recently had an interview for a software
engineering position. They later recounted to me the content
of the technical questions that they had been asked. Some had
been pretty standard:</p>
<ul>
<li>
<strong>‚ÄúWhat‚Äôs the difference between concurrency
and parallelism?"</strong> ‚Äì a reasonable question given that Go was
the company‚Äôs language of choice.</li>
<li>
<strong>‚ÄúWhat‚Äôs the difference between a method and a function?"</strong> ‚Äì
a little more strange, in my opinion, since the difference
is of little <em>practical</em> use.</li>
</ul>
<p>But then, they recounted a rather interesting question:</p>
<blockquote>
<p>How many values does a bool have?</p>
</blockquote>
<p>Innocuous at first, isn‚Äôt it? Probably a bit simpler, in fact,
than the questions about methods and functions, concurrency
and parallelism. It‚Äôs plausible that a candidate
has not done much concurrent or parallel programming in their
life, or that they came from a language in which functions
were rare and methods were ubiquitous. It‚Äôs not plausible,
on the other hand, that a candidate applying to a software
engineering position has not encountered booleans.</p>
<p>If you‚Äôre genuinely unsure about the answer to the question,
I think there‚Äôs no reason for me to mess with you. The
simple answer to the question ‚Äì as far as I know ‚Äì is that a boolean
has two values. They are <code>true</code> and <code>false</code> in Java, or <code>True</code> and <code>False</code>
in Haskell, and <code>1</code> and <code>0</code> in C. A boolean value is either true or false.</p>
<p>So, what‚Äôs there to think about? There are a few things, <em>ackshually</em>.
Let‚Äôs explore them, starting from the theoretical perspective.</p>
<h3 id="types-values-and-expressions">Types, Values, and Expressions</h3>
<p>Boolean, or <code>bool</code>, is a type. Broadly speaking, a type
is a property of <em>something</em> that defines what the <em>something</em>
means and what you can do with it. That <em>something</em> can be
several things; for our purposes, it can either be an
<em>expression</em> in a programming language (like those in the form <code>fact(n)</code>)
or a value in that same programming language (like <code>5</code>).</p>
<p>Dealing with values is rather simple. Most languages have finite numbers,
usually with <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup></mrow><annotation encoding="application/x-tex">2^{32}</annotation></semantics></math></span></span> values, which have type <code>int</code>,
<code>i32</code>, or something in a similar vein. Most languages also have
strings, of which there are as many as you have memory to contain,
and which have the type <code>string</code>, <code>String</code>, or occasionally
the more confusing <code>char*</code>. Most languages also have booleans,
as we discussed above.</p>
<p>The deal with expressions is a more interesting. Presumably
expressions evaluate to values, and the type of an expression
is then the type of values it can yield. Consider the following
snippet in C++:</p>
<div><pre><code data-lang="C"><span>int</span> <span>square</span><span>(</span><span>int</span> <span>x</span><span>)</span> <span>{</span>
    <span>return</span> <span>x</span> <span>*</span> <span>x</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>Here, the expression <code>x</code> is known to have type <code>int</code> from
the type signature provided by the user. Multiplication
of integers yields an integer, and so the type of <code>x*x</code> is also
of type <code>int</code>. Since <code>square(x)</code> returns <code>x*x</code>, it is also
of type <code>int</code>. So far, so good.</p>
<p>Okay, how about this:</p>
<div><pre><code data-lang="C++"><span>int</span> <span>meaningOfLife</span><span>()</span> <span>{</span>
    <span>return</span> <span>meaningOfLife</span><span>();</span>
<span>}</span>
</code></pre></div>
<p>No, wait, doesn‚Äôt say ‚Äústack overflow‚Äù just yet. That‚Äôs no fun.
And anyway, this is technically a tail call, so maybe our
C++ compiler can avoid growing the stack. And indeed,
flicking on the <code>-O2</code> flag in this <a href="https://godbolt.org/z/9cv4nY">compiler explorer example</a>,
we can see that no stack growth is necessary: it‚Äôs just
an infinite loop. But <code>meaningOfLife</code> will never return a value. One could say
this computation <em>diverges</em>.</p>
<p>Well, if it diverges, just throw the expression out of the window! That‚Äôs
no <code>int</code>! We only want <em>real</em> <code>int</code>s!</p>
<p>And here, we can do that. But what about the following:</p>
<div><pre><code data-lang="C++"><span>inf_int</span> <span>collatz</span><span>(</span><span>inf_int</span> <span>x</span><span>)</span> <span>{</span>
    <span>if</span><span>(</span><span>x</span> <span>==</span> <span>1</span><span>)</span> <span>return</span> <span>1</span><span>;</span>
    <span>if</span><span>(</span><span>x</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>)</span> <span>return</span> <span>collatz</span><span>(</span><span>x</span><span>/</span><span>2</span><span>);</span>
    <span>return</span> <span>collatz</span><span>(</span><span>x</span> <span>*</span> <span>3</span> <span>+</span> <span>1</span><span>);</span>
<span>}</span>
</code></pre></div>
<p>Notice that I‚Äôve used the fictitious type
<code>inf_int</code> to represent integers that can hold
arbitrarily large integer values, not just the 32-bit ones.
That is important for this example, and I‚Äôll explain why shortly.</p>
<p>The code in the example is a simulation of the process described
in the <a href="https://en.wikipedia.org/wiki/Collatz_conjecture">Collatz conjecture</a>.
Given an input number <code>x</code>, if the number is even, it‚Äôs divided in half,
and the process continues with the halved number. If, on the other
hand, the number is odd, it‚Äôs multiplied by 3, 1 is added to it,
and the process continues with <em>that</em> number. The only way for the
process to terminate is for the computation to reach the value 1.</p>
<p>Why does this matter? Because as of right now, <strong>nobody knows</strong>
whether or not the process terminates for all possible input numbers.
We have a strong hunch that it does; we‚Äôve checked a <strong>lot</strong>
of numbers and found that the process terminates for them.
This is why 32-bit integers are not truly sufficient for this example;
we know empirically that the function will terminate for them.</p>
<p>But why does <em>this</em> matter? Well, it matters because we don‚Äôt know
whether or not this function will diverge, and thus, we can‚Äôt
‚Äòthrow it out of the window‚Äô like we wanted to with <code>meaningOfLife</code>!
In general, it‚Äôs <em>impossible to tell</em> whether or not a program will
terminate; that is the <a href="https://en.wikipedia.org/wiki/Halting_problem">halting problem</a>.
So, what do we do?</p>
<p>It turns out to be convenient ‚Äì formally ‚Äì to treat the result of a diverging computation
as its own value. This value is usually called ‚Äòbottom‚Äô, and written as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span></span>.
Since in most programming languages, you can write a nonterminating expression or
function of any type, this ‚Äòbottom‚Äô is included in <em>all</em> types. So in fact, the
possible values of <code>unsigned int</code> are <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi><mo separator="true">,</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>‚Ä¶</mo></mrow><annotation encoding="application/x-tex">\bot, 0, 1, 2, ‚Ä¶</annotation></semantics></math></span></span> and so on.
As you may have by now guessed, the same is true for a boolean: we have <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span></span>, <code>true</code>, and <code>false</code>.</p>
<h3 id="haskell-and-bottom">Haskell and Bottom</h3>
<p>You may be thinking:</p>
<blockquote>
<p>Now he‚Äôs done it; he‚Äôs gone off the deep end with all that programming language
theory. Tell me, Daniel, where the heck have you ever encountered <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span></span> in
code? This question was for a software engineering interview, after all!</p>
</blockquote>
<p>You‚Äôre right; I haven‚Äôt <em>specifically</em> seen the symbol <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span></span> in my time
programming. But I have frequently used an equivalent notation for the same idea:
<code>undefined</code>. In fact, here‚Äôs a possible definition of <code>undefined</code> in Haskell:</p>
<pre><code>undefined = undefined
</code></pre>
<p>Just like <code>meaningOfLife</code>, this is a divergent computation! What‚Äôs more is that
the type of this computation is, in Haskell, <code>a</code>. More explicitly ‚Äì and retreating
to more mathematical notation ‚Äì we can write this type as: <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚àÄ</mi><mi>Œ±</mi><mi mathvariant="normal">.</mi><mi>Œ±</mi></mrow><annotation encoding="application/x-tex">\forall \alpha . \alpha</annotation></semantics></math></span></span>.
That is, for any type <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Œ±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span></span>, <code>undefined</code> has that type! This means
<code>undefined</code> can take on <em>any</em> type, and so, we can write:</p>
<div><pre><code data-lang="Haskell"><span>myTrue</span> <span>::</span> <span>Bool</span>
<span>myTrue</span> <span>=</span> <span>True</span>

<span>myFalse</span> <span>::</span> <span>Bool</span>
<span>myFalse</span> <span>=</span> <span>False</span>

<span>myBool</span> <span>::</span> <span>Bool</span>
<span>myBool</span> <span>=</span> <span>undefined</span>
</code></pre></div>
<p>In Haskell, this is quite useful. For instance, if one‚Äôs in the middle
of writing a complicated function, and wants to check their work so far,
they can put ‚Äòundefined‚Äô for the part of the function they haven‚Äôt written.
They can then compile their program; the typechecker will find any mistakes
they‚Äôve made so far, but, since the type of <code>undefined</code> can be <em>anything</em>,
that part of the program will be accepted without second thought.</p>
<p>The language Idris extends this practice with the idea of typed holes,
where you can leave fragments of your program unwritten, and ask the
compiler what kind of <em>thing</em> you need to write to fill that hole.</p>
<h3 id="java-and-null">Java and <code>null</code>
</h3>
<p>Now you may be thinking:</p>
<blockquote>
<p>This whole deal with Haskell‚Äôs <code>undefined</code> is beside the point; it doesn‚Äôt
really count as a value, since it‚Äôs just a nonterminating
expression. What you‚Äôre doing is a kind of academic autofellatio.</p>
</blockquote>
<p>Alright, I can accept this criticism. Perhaps just calling a nonterminating
function a value <em>is</em> far-fetched (even though in <a href="https://en.wikipedia.org/wiki/Denotational_semantics">denotational semantics</a>
we <em>do</em> extend types with <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">‚ä•</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span></span>). But denotational semantics are not
the only place where types are implicitly extend with an extra value;
let‚Äôs look at Java.</p>
<p>In Java, we have <code>null</code>. At the
core language level, any function or method that accepts a class can also take <code>null</code>;
if <code>null</code> is not to that function or method‚Äôs liking, it has to
explicitly check for it using <code>if(x == null)</code>.</p>
<p>This <code>null</code> value does not at first interact with booleans.
After all, Java‚Äôs booleans are not classes. Unlike classes, which you have
to allocate using <code>new</code>, you can just throw around <code>true</code> and <code>false</code> as you see
fit. Also unlike classes, you simply can‚Äôt assign <code>null</code> to a boolean value.</p>
<p>The trouble is, the parts of Java dealing with <em>generics</em>, which allow you to write
polymorphic functions, can‚Äôt handle ‚Äòprimitives‚Äô like <code>bool</code>. If you want to have an <code>ArrayList</code>
of something, that something <em>must</em> be a class.
But what if you really <em>do</em> want an <code>ArrayList</code> of booleans? Java solves this problem by introducing
‚Äòboxed‚Äô booleans: they‚Äôre primitives wrapped in a class, called <code>Boolean</code>. This class
can then be used for generics.</p>
<p>But see, this is where <code>null</code> has snuck in again. By allowing <code>Boolean</code> to be a class
(thereby granting it access to generics), we‚Äôve also given it the ability to be null.
This example is made especially compelling because Java supports something
they call <a href="https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html">autoboxing</a>:
you can directly assign a primitive to a variable of the corresponding boxed type.
Consider the example:</p>
<div><pre><code data-lang="Java"><span>Boolean</span> <span>myTrue</span> <span>=</span> <span>true</span><span>;</span>
<span>Boolean</span> <span>myFalse</span> <span>=</span> <span>false</span><span>;</span>
<span>Boolean</span> <span>myBool</span> <span>=</span> <span>null</span><span>;</span>
</code></pre></div>
<p>Beautiful, isn‚Äôt it? Better yet, unlike Haskell, where you can‚Äôt <em>really</em>
check if your <code>Bool</code> is <code>undefined</code> (because you can‚Äôt tell whether
a non-terminating computation is as such), you can very easily
check if your <code>Boolean</code> is <code>true</code>, <code>false</code>, or <code>null</code>:</p>
<div><pre><code data-lang="Java"><span>assert</span> <span>myTrue</span> <span>!=</span> <span>myFalse</span><span>;</span>
<span>assert</span> <span>myFalse</span> <span>!=</span> <span>myBool</span><span>;</span>
<span>assert</span> <span>myTrue</span> <span>!=</span> <span>myBool</span><span>;</span>
</code></pre></div>
<p>We‚Äôre okay to use <code>!=</code> here, instead of <code>equals</code>, because it so happens
each boxed instance of a <code>boolean</code> value
<a href="https://stackoverflow.com/questions/28636738/equality-of-boxed-boolean">refers to the same <code>Boolean</code> object</a>.
In fact, this means that a <code>Boolean</code> variable can have <strong>exactly</strong> 3 values!</p>
<h3 id="c-and-integers">C and Integers</h3>
<p>Oh the luxury of having a type representing booleans in your language!
It‚Äôs almost overly indulgent compared to the spartan minimalism of C.
In C, boolean conditions are represented as numbers. You can perhaps get
away with throwing around <code>char</code> or <code>short int</code>, but even then,
these types allow far more values than two!</p>
<div><pre><code data-lang="C"><span>unsigned</span> <span>char</span> <span>test</span> <span>=</span> <span>255</span><span>;</span>
<span>while</span><span>(</span><span>test</span><span>)</span> <span>test</span> <span>-=</span> <span>1</span><span>;</span>
</code></pre></div>
<p>This loop will run 255 times, thereby demonstrating
that C has at least 255 values that can be used
to represent the boolean <code>true</code>.</p>
<p>There are other languages
with this notion of ‚Äòtruthy‚Äô and ‚Äòfalsey‚Äô values, in which</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danilafe.com/blog/boolean_values/">https://danilafe.com/blog/boolean_values/</a></em></p>]]>
            </description>
            <link>https://danilafe.com/blog/boolean_values/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243211</guid>
            <pubDate>Sat, 22 Aug 2020 10:44:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AngelCAD: Script-based 3D solid modeller]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 67 (<a href="https://news.ycombinator.com/item?id=24243077">thread link</a>) | @app4soft
<br/>
August 22, 2020 | https://arnholm.github.io/angelcad-docs/ | <a href="https://web.archive.org/web/*/https://arnholm.github.io/angelcad-docs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <header>
        
        
        

        <p>AngelCAD - user documentation</p>

        
        <p><a href="https://github.com/arnholm/angelcad-docs">View the Project on GitHub <small>arnholm/angelcad-docs</small></a></p>
        

        

        
      </header>
      <section>

      <p><strong>AngelCAD - script based 3D solid modeller</strong></p>

<p>AngelCAD is a powerful open source 3D solid modeller based on the Constructive Solid Geometry (<a href="https://en.wikipedia.org/wiki/Constructive_solid_geometry">CSG</a>) modelling technique, expressed in the <a href="http://www.angelcode.com/angelscript/sdk/docs/manual/doc_script.html">AngelScript</a> language. The software creates 3D models in STL or other file formats.</p>



<p>The csg_wikipedia.as sample</p>

<table>
  <thead>
    <tr>
      <th>AngelCAD resources</th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="http://www.angelcode.com/angelscript/sdk/docs/manual/doc_script.html" target="_blank">AngelScript language</a></td>
      <td>AngelScript language reference</td>
    </tr>
    <tr>
      <td><a href="https://arnholm.github.io/angelcad-docs/docs/annotated.html" target="_blank">AngelCAD language extension</a></td>
      <td>Language extension for 3d modelling</td>
    </tr>
    <tr>
      <td><a href="https://forum.abmesh.com/" target="_blank">AngelCAD user forum</a></td>
      <td>Discuss AngelCAD topics</td>
    </tr>
    <tr>
      <td><a href="https://github.com/arnholm/angelcad-samples" target="_blank">angelcad-samples</a></td>
      <td>Examples repository - GitHub</td>
    </tr>
    <tr>
      <td><a href="https://youtu.be/h-qDzG9bwnQ" target="_blank">Video</a></td>
      <td>script based 3D solid modeller</td>
    </tr>
    <tr>
      <td><a href="https://github.com/arnholm/angelcad/releases" target="_blank">Downloads</a></td>
      <td>Prebuilt binaries - Windows and Linux</td>
    </tr>
  </tbody>
</table>

<p>(links above open in new tabs)</p>

<p><strong>AngelCAD IDE and Viewer</strong> - With the desktop IDE you edit/run the scripts and launch the 3d Viewer</p>

<p><img src="https://arnholm.github.io/angelcad-docs/images/angelcad_ide.png" alt="AngelCAD modeller"></p>

<p><strong>Technology</strong> - AngelCAD uses <a href="https://github.com/arnholm/xcsg" target="_blank">xcsg</a> for 3d computations. xcsg is based on the <a href="https://github.com/arnholm/carve" target="_blank">carve library</a> by Tobias Sargeant. Also used is <a href="http://angusj.com/delphi/clipper.php">Clipper</a> by Angus Johnson, qhull by C.B. Barber and libtess2 by Mikko Mononen.</p>

<p>The AngelCAD language interpreter - as_csg - is based on the <a href="http://www.angelcode.com/angelscript/" target="_blank">AngelScript language</a> by Andreas J√∂nsson, as_csg extends the language with 3d modelling primitives and operations for constructive solid geometry.</p>

<p>The AngelCAD IDE and Viewer applications use the <a href="https://wxwidgets.org/" target="_blank">wxWidgets cross-platform GUI library</a> to create native GUI for Windows and Linux.</p>


      </section>
      
    </div></div>]]>
            </description>
            <link>https://arnholm.github.io/angelcad-docs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243077</guid>
            <pubDate>Sat, 22 Aug 2020 10:07:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experts Predict the Next Roadblocks in AI]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24243064">thread link</a>) | @mellosouls
<br/>
August 22, 2020 | https://blog.re-work.co/experts-explain-the-next-roadblocks-in-ai | <a href="https://web.archive.org/web/*/https://blog.re-work.co/experts-explain-the-next-roadblocks-in-ai">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<figure>
<img srcset="https://blog.re-work.co/content/images/size/w300/2020/08/Copy-of-Blog-Pictures--13-.png 300w,
                            https://blog.re-work.co/content/images/size/w600/2020/08/Copy-of-Blog-Pictures--13-.png 600w,
                            https://blog.re-work.co/content/images/size/w1000/2020/08/Copy-of-Blog-Pictures--13-.png 1000w,
                            https://blog.re-work.co/content/images/size/w2000/2020/08/Copy-of-Blog-Pictures--13-.png 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://blog.re-work.co/content/images/size/w2000/2020/08/Copy-of-Blog-Pictures--13-.png" alt="Experts Predict The Next Roadblocks in AI">
</figure>
<section>
<div>
<p>Having asked our experts what their personal 'must-read' paper choice would be, we also wanted to find out their opinion on the current state of AI, with specific emphasis on the biggest roadblocks or barriers seen in the AI space, both now and in the future. </p><p>Didn't manage to catch our last experts blogs? You can see our experts must-read paper suggestions <a href="https://blog.re-work.co/ai-papers-suggested-by-experts/">part 1</a> and <a href="https://blog.re-work.co/must-read-ai-papers-suggested-by-experts-part-2/">part 2</a>. The below touches on the concerns around deepfakes, limited compute, model size and more. </p><h2 id="jane-wang-senior-research-scientist-deepmind"><strong><a href="https://www.linkedin.com/in/jane-wang-63167017/">Jane Wang</a>, Senior Research Scientist, DeepMind</strong></h2><p>I get worried that the societal implications and ethical consequences of the newest AI technologies are not being thought out as well as they should be. There's kind of this culture with researchers in the field right now of "let's just see what's possible," in spite of the possible negative ramifications. Some particularly worrying examples include facial recognition for surveillance, and generating increasingly realistic deepfakes. </p><p>There is recognition that this is an important issue, and some steps are being taken in that direction. For instance NeurIPS this year for the first time asked all submissions to come with a "broader impacts" section to comment on the wider societal implications of the work, and groups such as Partnership on AI have been formed specifically to tackle the problem of how to implement ethical and safe AI. But unfortunately I don't think that these kinds of perspectives are all that prevalent in the wider research community.</p><hr><h2 id="alexia-jolicoeur-martineau-phd-researcher-mila"><strong><a href="https://www.linkedin.com/in/alexiajm/">Alexia Jolicoeur-Martineau</a>, PhD Researcher, MILA</strong></h2><p>The biggest roadblock to generative modelling is 1) computing power, 2) the lack of long-term coherence, and 3) the lack of ability to understand what it doesn't know. Let's take a model that generates text and interacts with humans, such as GPT-2; it can say things that make sense and even answer hard questions correctly. However, if you ask nonsensical questions, it will try to give an answer rather than say "what you are asking doesn't make sense" or "I don't know". Furthermore, if you make it generate a large amount of text, there will be no long term coherence, it will go from one thing to another. If we wanted to make models that generate tv shows or movies, we would need a model that is coherent over time, which we don't have right now. Current AIs are really powerful, but still lack a true understanding of things. A lot more computing power will be needed if we ever want to generate high-resolution videos.</p><hr><h2 id="jekaterina-novikova-director-of-machine-learning-winterlight-labs"><strong><a href="https://www.linkedin.com/in/jnovikova/">Jekaterina Novikova</a>, Director of Machine Learning, WinterLight Labs</strong></h2><p>It is close to impossible to name one biggest roadblock in general AI. The term "artificial intelligence" does not have a concrete accepted definition. We can't agree on the definition of human intelligence, let alone the artificial one, and it's difficult to say what is blocking us from achieving something we can't even name. However, if we speak about narrow AI (AI which is able to handle just one particular task) then it is an umbrella of many different subtopics, such as Machine Learning, Robotics, Natural Language Processing etc. Each of those subtopics has their own specific roadblocks and challenges that should be overcome in order to make progress in AI research. In addition, when it comes to productionalization and real-life application of AI, non-research-specific roadblocks come into play that are related to AI implementation, adoption and scaling.<br></p><p>My current research is focused on Machine Learning in Healthcare, and here I see some common challenges researchers are constantly dealing with. I've recently gave a talk on real-life challenges in detecting cognitive diseases from human speech using ML (<a href="https://www.slideshare.net/JekaterinaNovikova1/solving-reallife-challenges-in-detecting-cognitive-diseases-from-speech-using-ml">link to the slides</a>), where I mentioned several roadblocks, such as for example:</p><ul><li>Lack of relevant and appropriate data that is unbiased and does not compromise user privacy.</li><li>Limitations of English-only models. Most current developments in NLP are made in English and are not necessarily generalizable to non-English languages.</li><li>In the <a href="https://www.slideshare.net/JekaterinaNovikova1/solving-reallife-challenges-in-detecting-cognitive-diseases-from-speech-using-ml">slides</a>, I discuss more of the challenges and also present the research we are currently doing to overcome each of them.</li></ul><hr><h2 id="andriy-burkov-director-of-data-science-gartner"><strong><a href="https://www.linkedin.com/in/andriyburkov/">Andriy Burkov</a>, Director of Data Science, Gartner</strong></h2><p>If we talk about the narrow AI, the one we currently use in business, the biggest roadblock is the size of the models that provide the state of the art performance. The biggest Transformer ever trained, GPT-3, contains 175 billion parameters and costs millions of dollars to train. Only a handful of companies in the world can afford training such models and using them in production. If, in turn, the term AI is used in a more general sense, like artificial general intelligence (AGI), then the roadblock (and it's a huge one) is that we don't know exactly what science we need to develop to reach that level of machine intelligence. This is almost certainly not deep neural networks, as they are starting to reach their limits.</p><hr><h2 id="tamanna-haque-senior-data-scientist-at-jaguar-land-rover"><strong><a href="https://www.linkedin.com/in/tamannah1/">Tamanna Haque</a>, Senior Data Scientist at Jaguar Land Rover</strong></h2><p>Amongst stakeholders, business alignment on AI strategy relies on; a shared vision of effectively using data science to add business value, a mutual agenda on short and long-term business objectives and priorities, and clarity on which departments own or provide resource on different aspects of projects.</p><p>A lack of alignment creates challenges for data scientists who are tasked with opportunity scanning and delivering growth, cost-savings and value through analytics, with pressures heightened in the wake of negative economic impacts (the reality today). Between idea generation and delivery, data scientists aim to influence stakeholders to action and champion findings, but misalignment on AI strategy might effect apathy and put data scientists on the back foot to begin with.</p><p>Data scientists can build relationships with wider or cross-functional stakeholders to increase the likelihood of traction whilst increasing their knowledge of different business areas. They can also expand their network externally. A wide and diverse network keeps technical and commercial knowledge fresh whilst improving influence and communication skills- a practice which uses the help and expertise of others to enrich and get projects over the line.</p><hr><h2 id="oana-frunza-vice-president-nlp-and-ml-researcher-at-morgan-stanley"><strong><a href="https://www.linkedin.com/in/phd-oana-m-frunza-6bb3875/">Oana Frunza</a>, Vice President, NLP and ML Researcher at Morgan Stanley</strong></h2><p>Not necessarily a roadblock, but a direction we need to follow more is bridging the gap with other disciplines, especially the humanities. It is time to put <em>philosophy back in doctor of philosophy</em>. While we are good at building amazing technology, we need to start bringing in more knowledge from the world outside our disciplines to increase adoption and build trust. We will continue to advance and push forward the field, but we have to make sure that it is fit for the world around us and that the world around us is ready to adopt the solutions we build.</p><p>AI is a ‚Äúgift of fire‚Äù ‚Äì we must continue focusing on it enhancing our capabilities without getting burnt by the fire.</p><hr><h2 id="eric-charton-senior-director-ai-science-national-bank-of-canada"><strong><a href="https://www.linkedin.com/in/ericcharton/">Eric Charton</a>, Senior Director, AI Science, National Bank of Canada</strong></h2><p>Massive usage of (costly) computation power for minor improvement of performances is the elephant in the room. It is also difficult to have a clear view of the limitations of Deep Learning in various application context like unbalanced data (used in credit scoring), language models (dialog systems, question answering systems, text classification). What we see in mainstream publications is difficult to reproduce. We just begin to see some scientific communications with rigorous analysis of the pro and the cons of DL techniques.</p><hr><h2 id="jack-brzezinski-chief-ai-scientist-ai-systems-and-strategy-lab"><a href="https://www.linkedin.com/in/jack-brzezinski-a36245/">Jack Brzezinski</a>, Chief AI Scientist, AI Systems and Strategy Lab</h2><p>Since the inception of Artificial Intelligence there were periods of enthusiasm followed by "AI winters." Once you attempt to solve hard problems, unexpected roadblocks will appear. In a few cases, those problems were attacked head-on. Douglas Lenat's approach to building the CYC system (<a href="https://www.cyc.com/" rel="noopener">https://www.cyc.com</a>) is an example of such a frontal attack on the common sense reasoning problem, one of the hard ones in AI. In other cases, further research was necessary to move the needle in the right direction. Today, it is difficult to predict the single biggest issue that will be a roadblock. Elon Musk suggested that the interface between computers and the human brain needs a lot of improving. </p><p>His solution is to invent a more direct connection. Tom Mitchell from Carnegie Mellon suggests that machine learning algorithms should be in a state of continuous learning as opposed to a limited training phase carefully defined by the number of epochs. Perhaps, the biggest obstacle exists outside the high-tech field. Over the past decade, an enormous amount of investment was redirected from R&amp;D and used for stock buybacks and other financial operations. The legal environment often dictates the most optimal course of action for big corporations. It might take a new AI maverick similar to SpaceX in the aerospace area, to shift the focus from financial markets into research and development. Perhaps, another space race between superpowers will spark innovation. Artificial Intelligence, nuclear fusion, solid-state batteries, quantum computing, pharmaceutical research are only a few examples of many areas that are facing roadblocks.</p><hr><h2 id="abhishek-gupta-founder-montreal-ai-ethics-institute"><strong><a href="https://www.linkedin.com/in/abhishekguptamcgill/">Abhishek Gupta</a>, Founder, Montreal AI Ethics Institute</strong></h2><p>While there is emerging consensus on some of the fundamental principles as they relate to the ethics of AI, what is still starkly missing are operational guidelines for people to actually put these principles into practice. We need to have more discussions on moving from theory to practice and that requires people who have cross-domain expertise who are able to straddle both the fields of ethics and the technical domain of AI. Such individuals, especially the ones who are able to seamlessly integrate the findings from the fields will be essential in removing this roadblock.</p><hr><h2 id="jeff-clune-research-team-leader-openai"><a href="https://www.linkedin.com/in/jeff-clune-56403a26/">Jeff Clune</a>, Research Team Leader, OpenAI</h2><p>I had the pleasure of speaking with Jeff back in January. During his quick fire questions interview, he ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.re-work.co/experts-explain-the-next-roadblocks-in-ai">https://blog.re-work.co/experts-explain-the-next-roadblocks-in-ai</a></em></p>]]>
            </description>
            <link>https://blog.re-work.co/experts-explain-the-next-roadblocks-in-ai</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243064</guid>
            <pubDate>Sat, 22 Aug 2020 10:04:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simple State Management in Mithril.js]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24243040">thread link</a>) | @wilsonfiifi
<br/>
August 22, 2020 | https://kevinfiol.com/blog/simple-state-management-in-mithriljs/ | <a href="https://web.archive.org/web/*/https://kevinfiol.com/blog/simple-state-management-in-mithriljs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p><a href="https://mithril.js.org/">Mithril.js</a> is a lightweight JavaScript framework that has become a staple in my development stack after I discovered it two years ago. At the time, I was looking for a simpler, zero-dependency alternative to <a href="https://reactjs.org/">React.js</a> that could help me learn modern JavaScript UI development without needing to simultaneously learn and understand various build tools and framework plugins.</p>
<p>I've since learned React and have come to appreciate it for its influence on modern web development. However, I find that Mithril, a framework that sits at half the size of React whilst containing more features, has remained my go-to.</p>
<p>When it comes to state management, Mithril is as unopinionated as they come. You can use Redux, Mobx, Cerebral, some implementation of the SAM pattern, or best of all -- just a plain ol' JavaScript object! Mithril comes with an auto-redraw system. The virtual DOM created by Mithril will diff against and synchronize the DOM whenever changes are made to your data layer. Most commonly, the redraws are triggered after a DOM event.</p>
<p>What this means in practice is that you are free to structure your data however you'd like, and Mithril takes care of the rest. Below is an example of a simple Counter application written with Mithril:</p>
<pre><code><span>let</span> count <span>=</span> <span>0</span><span>;</span><p><span>const</span> Counter <span>=</span> <span>{</span><br>  <span>view</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span><br>    <span>m</span><span>(</span><span>'div'</span><span>,</span><br>      <span>m</span><span>(</span><span>'h1'</span><span>,</span> <span>'Counter'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'p'</span><span>,</span> count<span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> <span>onclick</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> count <span>+=</span> <span>1</span> <span>}</span><span>,</span> <span>'+'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> <span>onclick</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> count <span>-=</span> <span>1</span> <span>}</span><span>,</span> <span>'-'</span><span>)</span><br>    <span>)</span><br><span>}</span><span>;</span></p><p>m<span>.</span><span>mount</span><span>(</span>document<span>.</span>body<span>,</span> Counter<span>)</span><span>;</span></p></code></pre>
<p><a href="https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvEAXwvW10QICsEqdBk2J5YxAAR0ArgwkBeCQAYA3AB00GoXEkBBAA76FE4BokSAbhBgB3RBIAUASgUA+M+YlYHAcgAmEBY+FB6eXr6EAIzBEj4AwrSyjABOPk4haGHm3j76MTIM6aGeOQBG0sTE9DHAEvTUUBDUANb2zm5SiXIA1IqREuyx3WkZWeE+5ZXVFCZ1aA1NrY4u8q6dSRIAtH0DMz6bacVOGqzqmmhY+FhdxA5+tNTSOAz4pbR+AJ4zBvpOKpQgOAwWDUYgQegIHiRABMiGhAA5NkpEEo2BwQJgcHh8NQ4AIaPRGMweGwALpURpoZqQ1AYrh4LAQYiEZLQAHSZLkHgkYj6OCIAD0Atk+maAHMcbQsALGczWVAAALQ-BKfAAZhlTJZ0CuEDQ+H4AOIH303EB1FZ+lErFJrCAA">Live Example</a></p>
<p>Our state is just a single primitive variable! For small applications, simple widgets or one-off UI components, the above solution is largely sufficient. What's important about implementing your state management solution is to understand that there is no silver bullet. You will be able to predict your needs more accurately as you work across multiple projects and grow organically. <a href="https://redux.js.org/">Redux</a> is a brilliant solution for modern UI state management, but the 9/10 times I have attempted to use it out of a desire to do things "the right way", it was absolute overkill. I advise reading <a href="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367">this blog post</a> by Dan Abramov, the creator of Redux.</p>
<p>While the above solution is simple and likely sufficient for small use-cases, it introduces one problem - we are modifying the state directly from within the view. It won't take long before this approach proves unwieldy, and you're scanning your templates trying to find where you wrote the logic that is altering your state in (potentially) unpredictable ways.</p>
<p>We can introduce indirection and a more versatile state container using plain JavaScript objects. Our <code>Counter</code> component becomes more terse, yet more expressive:</p>
<pre><code><span>const</span> state <span>=</span> <span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>;</span><p><span>const</span> actions <span>=</span> <span>{</span><br>  <span>increment</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>+=</span> <span>1</span><span>,</span><br>  <span>decrement</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>-=</span> <span>1</span><br><span>}</span><span>;</span></p><p><span>const</span> Counter <span>=</span> <span>{</span><br>  <span>view</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span><br>    <span>m</span><span>(</span><span>'div'</span><span>,</span><br>      <span>m</span><span>(</span><span>'h1'</span><span>,</span> <span>'Counter'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'p'</span><span>,</span> state<span>.</span>count<span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>increment <span>}</span><span>,</span> <span>'+'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>decrement <span>}</span><span>,</span> <span>'-'</span><span>)</span><br>    <span>)</span><br><span>}</span><span>;</span></p><p>m<span>.</span><span>mount</span><span>(</span>document<span>.</span>body<span>,</span> Counter<span>)</span><span>;</span></p></code></pre>
<p><a href="https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvEAXwvW10QICsEqdBk2J4hcYgAIJGRpIC8k4JLoBXBokkAGSawDcAHTRHxUjNWIR6cBUqOTJENNQBOMHBskAKAJQKAfNLEsjD4agySANSKAIwU9pIAJjCu7iKavgFBIWG06lIAtLFG+kYm1lIAwnnCLrbACQBuEDAA7hl+8v4JDlheAOSJEI398WgOE5J9-YQxo5L91fkwLv0+Y5O9AwAO8zKMufnrPRPTAEaqxMT088r01FAQ1ADWmuaW1vhOqR5S7AuRNYbTbnS7XNC3ST3R4vN4WKxoOD4ZI-ES6CgLAprE4+EqGYxoLD4LA1YheRK0aiqX74M60RIATwxS1qPj0lBAcBgsHh1jwWkQWgKMQA7IgAMwAJjYHBAmBweDCcAENHojGYPDYAF0qI80M8EChOAqeFgIMRCC5oBzVC5yDwSMRtnBEAB6V3qbbPADmuSwrrNFqtUAAApL8Fp8OKA+bLdBiU58PwOcQGdtuJzXBBtqJWFrWEA">Live Example</a></p>
<p>As your application grows in size, it might be preferable that your state and actions are easily testable and replicable from the beginning. Further, instead of relying on lexical scoping for your actions to have access to your state, we can use a combination of dependency injection and closures so that an instance of your actions will always directly reference a specific state object. We can easily achieve this with factory functions that provide your initial state and actions that directly reference a single state object.</p>
<pre><code><span>const</span> <span>State</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>(</span><span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>)</span><span>;</span><p><span>const</span> <span>Actions</span> <span>=</span> <span>state</span> <span>=&gt;</span> <span>(</span><span>{</span><br>  <span>increment</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>+=</span> <span>1</span><span>,</span><br>  <span>decrement</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>-=</span> <span>1</span><br><span>}</span><span>)</span><span>;</span></p></code></pre>
<p>From there, it is dead simple to reproduce your state and actions objects respectively:</p>
<pre><code><span>const</span> state   <span>=</span> <span>State</span><span>(</span><span>)</span><span>;</span><br><span>const</span> actions <span>=</span> <span>Actions</span><span>(</span>state<span>)</span><span>;</span></code></pre>
<p>Passing these to a Mithril component is trivial using the <code>attrs</code> property (near-equivalent to <code>props</code> in React) and object destructuring. Notice that our Counter component remains virtually unchanged:</p>
<pre><code><span>const</span> Counter <span>=</span> <span>{</span><br>  <span>view</span><span>:</span> <span>(</span><span><span>{</span> attrs<span>:</span> <span>{</span> state<span>,</span> actions <span>}</span> <span>}</span></span><span>)</span> <span>=&gt;</span><br>    <span>m</span><span>(</span><span>'div'</span><span>,</span><br>      <span>m</span><span>(</span><span>'h1'</span><span>,</span> <span>'Counter'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'p'</span><span>,</span> state<span>.</span>count<span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>increment <span>}</span><span>,</span> <span>'+'</span><span>)</span><span>,</span><br>      <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>decrement <span>}</span><span>,</span> <span>'-'</span><span>)</span><br>    <span>)</span><br><span>}</span><span>;</span><p>m<span>.</span><span>mount</span><span>(</span>document<span>.</span>body<span>,</span> <span>{</span><br>  <span>view</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>m</span><span>(</span>Counter<span>,</span> <span>{</span> state<span>,</span> actions <span>}</span><span>)</span><br><span>}</span><span>)</span><span>;</span></p></code></pre>
<p><a href="https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvEAXwvW10QICsEqdBk2J4hcYgAIAysQyNJAXkkAKAJRKAfKuCS6AVwaJJABkms1AbgA6aW+KkBBasQj04SyRPkwtO25KSEGjUAE4wOEaqGora3oz4BgySANTKAIwUAZIAJjBhESLG6n7xMIm0hlIAtBm2FjZ2Ie5SZYGesj7qjQ6SGC5uaB7Kzq7uKmVWtvYtkgDClcKhnsDZAG4QMADuxbryxKFwxrplFH0D7ubmMZrZgVgqAOQ5EGuPWWjt7Q+PhOnvkkeCyqMFCjzUHy+9yeAAcAWUKlUIXdvk8AEb6YjEegA3T0ahQCDUADWxn6YyG+GCBUiUnYgJS4MhUJ+GKxOLOeJChJJZIulLyNJE5jOj2q4JRanqjVsWHwWEWxBUOVo1H0tPwaNoOQAnpz1psdtE-A9gUtOV45IwzuTBh4LPUrJQQHAYLB+QgeOkAMyIABMAFY2BwQJgcHhEnABDR6IxmDw2ABdKiEtDEz2oUNcPBYCDEQihaDO-Shcg8EjEGFHAD01cMMOJAHMKlhq7n84WoAABP34Ez4b1tvMF6Dy4L4fjO4g6mHcF1hCAw0SsROsIA">Live Example</a></p>
<p>(P.S. Credit goes to <a href="https://github.com/porsager">porsager</a> who shared this brilliant solution in the Mithril.js Gitter). <strong>This is my preferred approach to state management in Mithril.</strong> Passing your state and actions to child components would work as you'd expect. Simply pass your state and actions objects further down as <code>attrs</code>, or more wisely, be selective of what you choose to expose to child components.</p>
<p>Optional: you could also take an approach where your application is composed of solely stateless components. That is, every component is a pure, deterministic function. <a href="https://github.com/JorgeBucaran/hyperapp">Hyperapp</a> is a JavaScript framework that does not allow for local state in components. Instead, every component returns a portion of your UI that reflects the global state. While I highly recommend checking out Hyperapp (it's only 1kb gzipped!), this post is about Mithril, and you can use a similar approach with Mithril.</p>
<pre><code><span>const</span> <span>State</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>(</span><span>{</span> count<span>:</span> <span>0</span> <span>}</span><span>)</span><span>;</span><p><span>const</span> <span>Actions</span> <span>=</span> <span>state</span> <span>=&gt;</span> <span>(</span><span>{</span><br>  <span>increment</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>+=</span> <span>1</span><span>,</span><br>  <span>decrement</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> state<span>.</span>count <span>-=</span> <span>1</span><br><span>}</span><span>)</span><span>;</span></p><p><span>const</span> <span>Counter</span> <span>=</span> <span>(</span><span>state<span>,</span> actions</span><span>)</span> <span>=&gt;</span><br>  <span>m</span><span>(</span><span>'div'</span><span>,</span><br>    <span>m</span><span>(</span><span>'h1'</span><span>,</span> <span>'Counter'</span><span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'p'</span><span>,</span> state<span>.</span>count<span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>increment <span>}</span><span>,</span> <span>'+'</span><span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>decrement <span>}</span><span>,</span> <span>'-'</span><span>)</span><span>,</span><br>    <span>Child</span><span>(</span>state<span>,</span> actions<span>)</span><br>  <span>)</span><br><span>;</span></p><p><span>const</span> <span>Child</span> <span>=</span> <span>(</span><span>state<span>,</span> actions</span><span>)</span> <span>=&gt;</span><br>  <span>m</span><span>(</span><span>'div'</span><span>,</span><br>    <span>m</span><span>(</span><span>'h2'</span><span>,</span> <span>'Child'</span><span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'p'</span><span>,</span> state<span>.</span>count <span>*</span> <span>2</span><span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>increment <span>}</span><span>,</span> <span>'+'</span><span>)</span><span>,</span><br>    <span>m</span><span>(</span><span>'button'</span><span>,</span> <span>{</span> onclick<span>:</span> actions<span>.</span>decrement <span>}</span><span>,</span> <span>'-'</span><span>)</span><span>,</span><br>  <span>)</span><br><span>;</span></p><p>m<span>.</span><span>mount</span><span>(</span>document<span>.</span>body<span>,</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><br>  <span>const</span> state   <span>=</span> <span>State</span><span>(</span><span>)</span><span>;</span><br>  <span>const</span> actions <span>=</span> <span>Actions</span><span>(</span>state<span>)</span><span>;</span></p><p>  <span>return</span> <span>{</span> <span>view</span><span>:</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>Counter</span><span>(</span>state<span>,</span> actions<span>)</span> <span>}</span><span>;</span><br><span>}</span><span>)</span><span>;</span></p></code></pre>
<p><a href="https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvEAXwvW10QICsEqdBk2J4hcYgAIAysQyNJAXkkAKAJRKAfKuCS6AVwaJJABkms1AbgA6aW+KkBBasQj04SyRPkwtO25KSEGjUAE4wOEaqGora3oz4BgySANTKAIwUAZIAJjBhESLG6n7xMIm0hlIAtBm2FjZ2Ie5SAMKVwqGeKmUUkhgubmhwMZrZWCoA5DkQAG6TWWiBgROThOkLkpPtVTChk2qLy5KrAA6bZRVVh9krUwBG+sTE9Ju69NRQENQA1sYDrnc+GCBUiUnYWxSByOy1Wj2erz67xCX1+-0GQLyoJE5j6k2q0NuklahGgOR6ckYfQBQxG2TUtka9haxNJUBy3V6-Qxw1G4ymM3mMLuawATJttmycoSlrCpuc+pcklIAFSSUU3WUi+EvNBvSQfVF-bmA4bAkLhMG4yEy45wp66-WG77GmmY-KWnEQ-G2yQMtBMtBYfBYDrEFQ5WjUfRg-D3Wg5ACefRKsUkwGyDi8lN8gWUsh86kagSzbuGnmcprgFJ8Vls2XCxH0oSWulmEBgAHdiqNiWG9jWqSbaRpWI0GpQQHAYLAeQgeCZECZqgBmdKIFdsDggTA4PCJOACGj0RjMHhsAC6VC+aB+89QO64eCwEGIhFC0EnzfIPBIxFOcCIAA9EBhinD8ADmFRYEBL5vh+UAAAKivgJj4CusGvu+0AhsE+D8JOxCJqc3BTmEECnKIrAXqwQA">Live Example</a></p>
<p>In the end, always do what feels right to you and makes more sense given your team and/or project. If this has been helpful or if you have any questions, <a href="mailto:me@kevinfiol.com">drop me an email!</a></p>
</article></div>]]>
            </description>
            <link>https://kevinfiol.com/blog/simple-state-management-in-mithriljs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24243040</guid>
            <pubDate>Sat, 22 Aug 2020 09:59:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Laws of Architectural Work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24242562">thread link</a>) | @ggeorgovassilis
<br/>
August 22, 2020 | https://www.ufried.com/blog/laws_of_architectural_work/ | <a href="https://web.archive.org/web/*/https://www.ufried.com/blog/laws_of_architectural_work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
    
<p>After completing the short <a href="https://ufried.com/blog/oss_1_rise_of_oss/">‚ÄúOSS‚Äù blog series</a> series and before returning to the <a href="https://ufried.com/blog/simplify_1/">‚ÄúSimplify!‚Äù blog series</a> that grew quite a lot while writing, I would like to discuss a completely different topic. I call it ‚Äúthe two first laws of architectural work‚Äù.</p>
<p>Of course, what I will describe are not actual laws. ‚ÄúFindings‚Äù or ‚Äúlessons‚Äù (without the educational undertone) would be more accurate.</p>
<p>And even if they were laws, I do not know if they would be the first two ones. I just called them the first two ones to emphasize their relative importance. At least I find them very relevant as I see so many places where they are ‚Äì often willfully ‚Äì ignored which usually leads to negative consequences.</p>
<p>So, ‚ÄúTwo IMO relevant findings regarding architectural work‚Äù would probably be a more accurate title. But that would not sound so impressive ‚Ä¶ ;)</p>
<p>Also, it would not express how important I think the two observations are. Therefore I will stick with the ‚Äútwo first laws‚Äù.</p>
<h2 id="the-first-law-of-architectural-work">The first law of architectural work</h2>
<p>The first law of architectural work, as I call it, is:</p>
<blockquote>
<p><strong>Every decision has its price. No decision is for free.</strong></p>
</blockquote>
<p>The longer version is:</p>
<blockquote>
<p>No decision only has upsides. Every decision also has downsides.</p>
</blockquote>
<p>I think that it is essential to understand that there is no free lunch in architectural work. Whenever you decide for an architectural option, you will get a mix of advantages and disadvantages. While in coding you sometimes have situations where one option is <em>right</em> and the others are <em>wrong</em>, you will never have such a situation in architectural work.</p>
<p>In architectural work, there is no ‚Äúright‚Äù or ‚Äúwrong‚Äù. There is only ‚Äúbetter‚Äù or ‚Äúworse‚Äù. I often tend to say, while in development things like ‚Äúblack‚Äù or ‚Äúwhite‚Äù, 0 or 1 exist, in architecture only many shades of gray, the numbers between 0 and 1 exist. With every architectural decision you will get something, but you will also pay a price for it.</p>
<p>I am not sure if this pattern is as old as our industry, but especially in the recent years I noticed a growing tendency only to mention the potential advantages of a solution and hide the disadvantages.</p>
<p>I‚Äôve seen too many talks talks, articles, posts, and alike, that just praise some concept, technology or method, ‚ÄúDo &lt;X&gt; and everything will be fine!‚Äù being the typical message. Downsides? Trade-offs? Nil return!</p>
<p>We could ignore those types of messages if they would not lead to really bad solutions in actual projects if project teams blindly pick up those messages. Two little examples:</p>
<p><strong>Microservices</strong></p>
<p>In the recent years, most IT projects went for microservices, often based on dubious rationales. But are microservices really ‚Äúright‚Äù while the vilified monoliths are ‚Äúwrong‚Äù?</p>
<p>If you take a neutral stance, you see that microservices can help you, e.g., with decoupling capability teams better, to implement some type of NFRs better and to upgrade technology easier. On the other hand they multiply operations complexity by orders of magnitude. And if you do not get your functional design right, availability and response times of the resulting application will badly suffer.</p>
<p>(Deployment) monoliths on the other side are the simplest type of application structure in operations. One executable, that‚Äôs it. Either it is up or down. Easy to monitor. Well-known and proven scaling patterns (replication and load balancers) if implemented correctly. On the other hand monoliths tend to become a big ball of mud, which is hard to maintain and leads to tight team coupling. Also technology upgrades become harder with the size of the application.</p>
<p>There would be a lot of details to add, but the message already becomes clear: It is not that one is ‚Äúright‚Äù and the other is ‚Äúwrong‚Äù (as many people try to suggest). Both have their strengths and weaknesses. Deciding for any one of the two gives you some advantages while it also gives you some disadvantages at the same time. And hiding the disadvantages does not make them go away.</p>
<p><strong>Event-based communication</strong></p>
<p>Event-based communication is another fashionable concept of the recent years and its advocates tend to talk down request-response-based communication.</p>
<p>Again, taking a neutral stance, you see that event-based communication, e.g., helps to decouple parts better on a technical level, the reversed dependency relation (receiver knows sender) can be advantageous, event brokers can even create location transparency, timeouts can be handled differently and more.</p>
<p>On the other hand event-based communication quickly creates complex communication patterns that are hard to understand, that can easily result in deadlocks and other unexpected behaviors, that can create a tight functional coupling between the parts if not designed very carefully, creates new challenges like dealing with lost or duplicate messages.</p>
<p>Request-response-based communication on the other side is easy to grasp as it resembles the call-stack pattern of communication flow that we are used to. It is very easy to implement and the system behavior tends to be a lot more deterministic and predictable as with event-based communication. On the other hand, blocking requests and latency ‚Äì or timeouts if you monitor the call durations ‚Äì either lead to undesired system behavior at runtime or quite some added complexity.</p>
<p>Again, while the discussion is not complete, the same message takes shape: It is not that one is ‚Äúright‚Äù and the other is ‚Äúwrong‚Äù. Both have their strengths and weaknesses.</p>
<p>I could a lot more examples, but these two little examples should be sufficient to illustrate what I mean with ‚ÄúEvery decision has its price‚Äù.</p>
<p>If you are experienced in architectural work, this ‚Äúlaw‚Äù should be obvious for you. Yet, I see a lot of people either willingly or unconsciously ignoring it. This becomes especially dangerous if ‚ÄúAgile‚Äù developer teams decide to make architectural work without anyone on the team having the required education and experience. Based on my observations, these teams tend to be very vulnerable to ‚ÄúDo &lt;X&gt; and everything will be fine!‚Äù messages. <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>To wrap the first law up: The key to good architectural work is to find architectural decisions ‚Äì or options if you prefer that term ‚Äì that has more upsides than downsides.</p>
<p>This leaves the question, how to determine the up- and downsides of an option, which immediately leads to the second law.</p>
<h2 id="the-second-law-of-architectural-work">The second law of architectural work</h2>
<p>The second law of architectural work, as I call it, is:</p>
<blockquote>
<p><strong>A decision can only be evaluated with respect to its context.</strong></p>
</blockquote>
<p>The longer version is:</p>
<blockquote>
<p>Decisions are not invariably √¢‚Ç¨≈ìgood√¢‚Ç¨ÔøΩ or √¢‚Ç¨≈ìbad√¢‚Ç¨ÔøΩ, but only with respect to a given context.</p>
</blockquote>
<p>This ‚Äúlaw‚Äù is almost as important as the first one. I see too many decisions where advantages or disadvantages of concepts, technologies or methods are discussed without taking the actual context into account.</p>
<p>While there is nothing wrong to point out general trade-offs of an architectural option, it must be clear that they are never final but can only support the actual decision making process.</p>
<p>To illustrate that point, let us briefly revisit the microservices example from above. I sketched some advantages and disadvantages of microservices and monoliths. Which one to take (making the simplifying assumption here that those were the only options available)?</p>
<p>Well, it depends!</p>
<p>What is your context? You are a hyperscaler or live in a market where you need to move very fast with independent capability teams and we discuss customer-facing applications? Probably microservices will be the better option for you as the competitive advantages in terms of market responsiveness they give you will outweigh their disadvantages while for monoliths the opposite is true in the given context.</p>
<p>You are, e.g., an insurance company living in the highly regulated German market and we discuss an accounting solution? While microservices will give you basically no competitive advantages in such a setting, they offer grave disadvantages compared to a monolithic solution. So, very likely the monolith will be the better option.</p>
<p>You are a standard software manufacturer who sells solutions to clients who need to run the solutions (i.e., no SaaS solutions) and the operations teams of the client often do not have deep IT knowledge (a setting that you find quite often in SME-type companies). While on the development side microservices could give you a competitive advantage, your clients most likely would be hopelessly overstrained running a microservices solution.</p>
<p>As in the end the competitive advantage at deployment is not worth anything if your clients are not able to use your solutions, you will need to focus on providing the simplest possible solution from an operations point of view ‚Äì which is a (deployment) monolith.</p>
<p>Additionally, a strict modularization concept at development time resulting in independent modules that are assembled together at build time could help you to realize parts of the competitive advantage that microservices would offer.</p>
<p>Again, while not complete these little examples should help to understand that one-size-fits-all solutions do not exist and the best option can vary heavily depending on the given context.</p>
<p>Architectural decisions are never √¢‚Ç¨≈ìgood√¢‚Ç¨ÔøΩ or √¢‚Ç¨≈ìbad√¢‚Ç¨ÔøΩ per se, but only relative to a given context. Still, I see too many architectural discussions and recommendations being made in a vacuum, without taking the context into account.</p>
<h2 id="summing-up">Summing up</h2>
<p>These were my two ‚Äúlaws‚Äù of architectural work. Personally, I think it is essential to bear them in mind to be able to make good architectural work. Still, I see the opposite happening too often ‚Äì at conferences, in articles, and also in actual project work, usually leading to bad decisions.</p>
<p>There would be a lot more to discuss in the context of the two laws, but I will leave it here. I hope I was able to bring the point across and would be glad if it contained some valuable ideas for you.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>To be clear: This is not an advocacy for architects. To be honest, I am quite suspicious about most people who ‚Ä¶</p></li></ol></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ufried.com/blog/laws_of_architectural_work/">https://www.ufried.com/blog/laws_of_architectural_work/</a></em></p>]]>
            </description>
            <link>https://www.ufried.com/blog/laws_of_architectural_work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24242562</guid>
            <pubDate>Sat, 22 Aug 2020 08:09:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Modern Back End with TypeScript, PostgreSQL and Prisma: REST API]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24242536">thread link</a>) | @piotrzientara
<br/>
August 22, 2020 | https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/ | <a href="https://web.archive.org/web/*/https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><div><hr><h3 id="introduction"><a href="#introduction" aria-label="introduction permalink"></a>Introduction</h3><p>The goal of the series is to explore and demonstrate different patterns, problems, and architectures for a modern backend by solving a concrete problem: <strong>a grading system for online courses.</strong> This is a good example because it features diverse relations types and is complex enough to represent a real-world use case.</p><p>The recording of the live stream is available above and covers the same ground as this article.</p><h4 id="what-the-series-will-cover"><a href="#what-the-series-will-cover" aria-label="what the series will cover permalink"></a>What the series will cover</h4><p>The series will focus on the role of the database in every aspect of backend development covering:</p><table><thead><tr><th>Topic</th><th>Part</th></tr></thead><tbody><tr><td>Data modeling</td><td><a href="https://www.prisma.io/blog/modern-backend-1-tsjs1ps7kip1/">Part 1</a></td></tr><tr><td>CRUD</td><td><a href="https://www.prisma.io/blog/modern-backend-1-tsjs1ps7kip1/">Part 1</a></td></tr><tr><td>Aggregations</td><td><a href="https://www.prisma.io/blog/modern-backend-1-tsjs1ps7kip1/">Part 1</a></td></tr><tr><td>REST API layer</td><td>Part 2 (current)</td></tr><tr><td>Validation</td><td>Part 2 (current)</td></tr><tr><td>Testing</td><td>Part 2 (current)</td></tr><tr><td>Authentication</td><td>Coming up</td></tr><tr><td>Authorization</td><td>Coming up</td></tr><tr><td>Integration with external APIs</td><td>Coming up</td></tr><tr><td>Deployment</td><td>Coming up</td></tr></tbody></table><h4 id="what-you-will-learn-today"><a href="#what-you-will-learn-today" aria-label="what you will learn today permalink"></a>What you will learn today</h4><p>In the first article, you designed a data model for the problem domain and wrote a seed script which uses Prisma Client to save data to the database.</p><p>In this second article of the series, you will build a REST API on top of the data model and Prisma schema from the <a target="_blank" rel="noopener noreferrer" href="https://www.prisma.io/5f3eaf89d58709000706efb2--prisma-blog.netlify.app/blog-assets/blog/modern-backend-1-tsjs1ps7kip1">first article</a>. You will use <a target="_blank" rel="noopener noreferrer" href="https://hapi.dev/">Hapi</a> to build the REST API. With the REST API, you'll be able to perform database operations via HTTP requests.</p><p>As part of the REST API, you will develop the following aspects:</p><ol><li><strong>REST API:</strong> Implement an HTTP server with resource endpoints to handle CRUD for the different models. You will integrate Prisma with Hapi so as to allow accessing Prisma Client for the API endpoint handlers.</li><li><strong>Validation:</strong> Add payload validation rules to ensure that user input matches the expected types of the Prisma schema.</li><li><strong>Testing:</strong> Write tests for the REST endpoints with <a target="_blank" rel="noopener noreferrer" href="https://jestjs.io/">Jest</a> and Hapi's <a target="_blank" rel="noopener noreferrer" href="https://hapi.dev/api?v=19.2.0#-await-serverinjectoptions"><code>server.inject</code></a> that simulate HTTP requests verifying the validation and persistence logic of the REST endpoints.</li></ol><p>By the end of this article you will have a REST API with endpoints for CRUD (Create, Read, Update, and Delete) operations and tests. The REST resources will map HTTP requests to the models in the Prisma schema, e.g. a <code>GET /users</code> endpoint will handle operations associated with the <code>User</code> model.</p><p>The next parts of this series will cover the other aspects from the list in detail.</p><blockquote><p><strong>Note:</strong> Throughout the guide you'll find various <strong>checkpoints</strong> that enable you to validate whether you performed the steps correctly.</p></blockquote><h3 id="prerequisites"><a href="#prerequisites" aria-label="prerequisites permalink"></a>Prerequisites</h3><h4 id="assumed-knowledge"><a href="#assumed-knowledge" aria-label="assumed knowledge permalink"></a>Assumed knowledge</h4><p>This series assumes basic knowledge of TypeScript, Node.js, and relational databases. If you're experienced with JavaScript but haven't had the chance to try TypeScript, you should still be able to follow along. The series will use PostgreSQL, however, most of the concepts apply to other relational databases such as MySQL. Additionally, familiarity with REST concepts is useful. Beyond that, no prior knowledge of Prisma is required as that will be covered in the series.</p><h4 id="development-environment"><a href="#development-environment" aria-label="development environment permalink"></a>Development environment</h4><p>You should have the following installed:</p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://nodejs.org/en/">Node.js</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/docker.com">Docker</a> (will be used to run a development PostgreSQL database)</li></ul><p>If you're using Visual Studio Code, the <a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=Prisma.prisma">Prisma extension</a> is recommended for syntax highlighting, formatting, and other helpers.</p><blockquote><p><strong>Note</strong>: If you don't want to use Docker, you can set up a <a target="_blank" rel="noopener noreferrer" href="https://dataguide.prisma.io/postgresql/setting-up-a-local-postgresql-database">local PostgreSQL database</a> or a <a target="_blank" rel="noopener noreferrer" href="https://dev.to/prisma/how-to-setup-a-free-postgresql-database-on-heroku-1dc1">hosted PostgreSQL database on Heroku</a>.</p></blockquote><h3 id="clone-the-repository"><a href="#clone-the-repository" aria-label="clone the repository permalink"></a>Clone the repository</h3><p>The source code for the series can be found on <a target="_blank" rel="noopener noreferrer" href="https://github.com/2color/real-world-grading-app">GitHub</a>.</p><p>To get started, clone the repository and install the dependencies:</p><pre><code>git clone <span>-</span>b part<span>-</span><span>2</span> git@github<span>.</span>com<span>:</span><span>2</span>color<span>/</span>real<span>-</span>world<span>-</span>grading<span>-</span>app<span>.</span>git
cd real<span>-</span>world<span>-</span>grading<span>-</span>app
npm install
</code></pre><blockquote><p><strong>Note:</strong> By checking out the <code>part-2</code> branch you'll be able to follow the article from the same starting point.</p></blockquote><h3 id="start-postgresql"><a href="#start-postgresql" aria-label="start postgresql permalink"></a>Start PostgreSQL</h3><p>To start PostgreSQL, run the following command from the <code>real-world-grading-app</code> folder:</p><pre><code>docker<span>-</span>compose up <span>-</span>d
</code></pre><blockquote><p><strong>Note:</strong> Docker will use the <a target="_blank" rel="noopener noreferrer" href="https://github.com/2color/real-world-grading-app/blob/21de326008776144ced60427a055c9fc54a32840/docker-compose.yml"><code>docker-compose.yml</code></a> file to start the PostgreSQL container.</p></blockquote><h3 id="building-a-rest-api"><a href="#building-a-rest-api" aria-label="building a rest api permalink"></a>Building a REST API</h3><p>Before diving into the implementation, we'll go through some basic concepts relevant in the context of REST APIs:</p><ul><li><strong>API:</strong> Application programming interface. A set of rules that allow programs to talk to each other. Typically the developer creates the API on the server and allows clients to talk to it.</li><li><strong>REST:</strong> A set of conventions that developers follow to expose state-related (in this case state stored in the database) operations over HTTP requests. As an example, check out the <a target="_blank" rel="noopener noreferrer" href="https://docs.github.com/en/rest/overview/resources-in-the-rest-api">GitHub REST API</a>.</li><li><strong>Endpoint:</strong> Entry point to the REST API which has the following properties (non-exhaustive):<ul><li><strong>Path</strong>, e.g. <code>/users/</code>, which is used to access the users endpoint. The path determines the URL used to access the endpoint, e.g. <code>www.myapi.com/users/</code>.</li><li><strong>HTTP method</strong>, e.g. <code>GET</code>, <code>POST</code>, and <code>DELETE</code>. The HTTP method will determine the type of operation an endpoint exposes, for example the <code>GET /users</code> endpoint will allow fetching users and <code>POST /users</code> endpoint will allow creating users.</li><li><strong>Handler</strong>: The code (in this case TypeScript) which will handle requests for an endpoint.</li></ul></li><li><strong>HTTP status codes:</strong> The response HTTP status code will inform the API consumer whether the operation was successful and if any errors occurred. Check out <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">this list</a> for the different HTTP status codes, e.g. <code>201</code> when a resource was created successfully, and <code>400</code> when consumer input fails validation.</li></ul><blockquote><p><strong>Note:</strong> One of the key objectives of the REST approach is using HTTP as an application protocol to avoid reinventing the wheel by sticking to conventions.</p></blockquote><h4 id="the-api-endpoints"><a href="#the-api-endpoints" aria-label="the api endpoints permalink"></a>The API endpoints</h4><p>The API will have the following endpoints (HTTP method followed by path):</p><table><thead><tr><th>Resource</th><th>HTTP Method</th><th>Route</th><th>Description</th></tr></thead><tbody><tr><td><code>User</code></td><td><code>POST</code></td><td><code>/users</code></td><td>Create a user (and optionally associate with courses)</td></tr><tr><td><code>User</code></td><td><code>GET</code></td><td><code>/users/{userId}</code></td><td>Get a user</td></tr><tr><td><code>User</code></td><td><code>PUT</code></td><td><code>/users/{userId}</code></td><td>Update a user</td></tr><tr><td><code>User</code></td><td><code>DELETE</code></td><td><code>/users/{userId}</code></td><td>Delete a user</td></tr><tr><td><code>User</code></td><td><code>GET</code></td><td><code>/users</code></td><td>Get users</td></tr><tr><td><code>CourseEnrollment</code></td><td><code>GET</code></td><td><code>/users/{userId}/courses</code></td><td>Get a user's enrollement incourses</td></tr><tr><td><code>CourseEnrollment</code></td><td><code>POST</code></td><td><code>/users/{userId}/courses</code></td><td>Enroll a user to a course (as student or teacher)</td></tr><tr><td><code>CourseEnrollment</code></td><td><code>DELETE</code></td><td><code>/users/{userId}/courses/{courseId}</code></td><td>Delete a user's enrollment to a course</td></tr><tr><td><code>Course</code></td><td><code>POST</code></td><td><code>/courses</code></td><td>Create a course</td></tr><tr><td><code>Course</code></td><td><code>GET</code></td><td><code>/courses</code></td><td>Get courses</td></tr><tr><td><code>Course</code></td><td><code>GET</code></td><td><code>/courses/{courseId}</code></td><td>Get a course</td></tr><tr><td><code>Course</code></td><td><code>PUT</code></td><td><code>/courses/{courseId}</code></td><td>Update a course</td></tr><tr><td><code>Course</code></td><td><code>DELETE</code></td><td><code>/courses/{courseId}</code></td><td>Delete a course</td></tr><tr><td><code>Test</code></td><td><code>POST</code></td><td><code>/courses/{courseId}/tests</code></td><td>Create a test for a course</td></tr><tr><td><code>Test</code></td><td><code>GET</code></td><td><code>/courses/tests/{testId}</code></td><td>Get a test</td></tr><tr><td><code>Test</code></td><td><code>PUT</code></td><td><code>/courses/tests/{testId}</code></td><td>Update a test</td></tr><tr><td><code>Test</code></td><td><code>DELETE</code></td><td><code>/courses/tests/{testId}</code></td><td>Delete a test</td></tr><tr><td><code>Test Result</code></td><td><code>GET</code></td><td><code>/users/{userId}/test-results</code></td><td>Get a user's test results</td></tr><tr><td><code>Test Result</code></td><td><code>POST</code></td><td><code>/courses/tests/{testId}/test-results</code></td><td>Create test result for a test associated with a user</td></tr><tr><td><code>Test Result</code></td><td><code>GET</code></td><td><code>/courses/tests/{testId}/test-results</code></td><td>Get multiple test results for a test</td></tr><tr><td><code>Test Result</code></td><td><code>PUT</code></td><td><code>/courses/tests/test-results/{testResultId}</code></td><td>Update a test result (associated with a user and a test)</td></tr><tr><td><code>Test Result</code></td><td><code>DELETE</code></td><td><code>/courses/tests/test-results/{testResultId}</code></td><td>Delete a test result</td></tr></tbody></table><blockquote><p><strong>Note:</strong> The paths containing a parameter enclosed in <code>{}</code>, e.g. <code>{userId}</code> represent a variable that is interpolated in the URL, e.g. in <code>www.myapi.com/users/13</code> the <code>userId</code> is <code>13</code>.</p></blockquote><p>The endpoints above have been grouped based on the main model/resource they're associated with. The categorization will help with organizing the code into separate modules for maintainability.</p><p>In this article, you will implement a subset of the endpoints above (the first four) to illustrate the different patterns for different CRUD operations. The full API will be available in the <a target="_blank" rel="noopener noreferrer" href="https://github.com/2color/real-world-grading-app">GitHub repository</a>.
These endpoints should provide an interface for most operations. While some resources do not have a <code>DELETE</code> endpoint for deleting resources, they can be added later.</p><blockquote><p><strong>Note:</strong> Throughout the article, the words <em>endpoint</em> and <em>route</em> will be used interchangeably. While they refer to the same thing, <em>endpoint</em> is the term used in the context of REST, while <em>route</em> is the term used in the context of HTTP servers.</p></blockquote><h4 id="hapi"><a href="#hapi" aria-label="hapi permalink"></a>Hapi</h4><p>The API will be built with <a target="_blank" rel="noopener noreferrer" href="https://hapi.dev/">Hapi</a> ‚Äì a Node.js framework for building HTTP servers that support validation and testing out of the box.</p><p>Hapi consists of a core module named <code>@hapi/hapi</code> which is the HTTP server and modules that extend the core functionality. In this backend you will also use the following:</p><ul><li><code>@hapi/joi</code> for declarative input validation</li><li><code>@hapi/boom</code> for HTTP-friendly error objects</li></ul><p>For Hapi to work with TypeScript, you will need to add the types for Hapi and Joi. This is necessary because Hapi is written in JavaScript. By adding the types, you will have rich auto-completion and allow the TypeScript compiler to ensure the type safety of your code.</p><p>Install the following packages:</p><pre><code>npm install <span>--</span>save @hapi<span>/</span>boom @hapi<span>/</span>hapi @hapi<span>/</span>joi
npm install <span>--</span>save<span>-</span>dev @types<span>/</span>hapi__hapi @types<span>/</span>hapi__joi
</code></pre><h4 id="creating-the-server"><a href="#creating-the-server" aria-label="creating the server permalink"></a>Creating the server</h4><p>The first thing you need to do is create a Hapi server which will bind to an interface and port.</p><p>Add the following Hapi server to <code>src/server.ts</code>:</p><pre><code><span>import</span> Hapi <span>from</span> <span>'@hapi/hapi'</span>

<span>const</span> server<span>:</span> Hapi<span>.</span>Server <span>=</span> Hapi<span>.</span><span>server</span><span>(</span><span>{</span>
  port<span>:</span> process<span>.</span>env<span>.</span><span>PORT</span> <span>||</span> <span>3000</span><span>,</span>
  host<span>:</span> process<span>.</span>env<span>.</span><span>HOST</span> <span>||</span> <span>'localhost'</span><span>,</span>
<span>}</span><span>)</span>

<span>export</span> <span>async</span> <span>function</span> <span>start</span><span>(</span><span>)</span><span>:</span> Promise<span>&lt;</span>Hapi<span>.</span>Server<span>&gt;</span> <span>{</span>
  <span>await</span> server<span>.</span><span>start</span><span>(</span><span>)</span>
  <span>return</span> server
<span>}</span>

process<span>.</span><span>on</span><span>(</span><span>'unhandledRejection'</span><span>,</span> err <span>=&gt;</span> <span>{</span>
  <span>console</span><span>.</span><span>log</span><span>(</span>err<span>)</span>
  process<span>.</span><span>exit</span><span>(</span><span>1</span><span>)</span>
<span>}</span><span>)</span>

<span>start</span><span>(</span><span>)</span>
  <span>.</span><span>then</span><span>(</span>server <span>=&gt;</span> <span>{</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span><span>`Server running on </span><span><span>${</span>server<span>.</span>info<span>.</span>uri<span>}</span></span><span>`</span></span><span>)</span>
  <span>}</span><span>)</span>
  <span>.</span><span>catch</span><span>(</span>err <span>=&gt;</span> <span>{</span>
    <span>console</span><span>.</span><span>log</span><span>(</span>err<span>)</span>
  <span>}</span><span>)</span>
</code></pre><p>First, you import Hapi. Then you initialize a new <code>Hapi.server()</code> (of type <code>Hapi.Server</code> defined in <code>@types/hapi__hapi</code> package) with connection details containing a port number to listen on and the host information. After that you start the server and log that it's running.</p><p>To run the server locally during development, run the npm <code>dev</code>script which will use <code>ts-node-dev</code> to automatically transpile the TypeScript code and restart the server when you make changes: <code>npm run dev</code>:</p><pre><code>npm run dev

<span>&gt;</span> ts<span>-</span>node<span>-</span>dev <span>--</span>respawn <span>.</span><span>/</span>src<span>/</span>server<span>.</span>ts

Using ts<span>-</span>node version <span>8.10</span><span>.2</span><span>,</span> typescript version <span>3.9</span><span>.6</span>
Server running on http<span>:</span><span>/</span><span>/</span>localhost<span>:</span><span>3000</span>
</code></pre><p><strong>Checkpoint:</strong> If you open <a target="_blank" rel="noopener noreferrer" href="http://localhost:3000/">http://localhost:3000</a> in your browser, you should see the following: <code>{"statusCode":404,"error":"Not Found","message":"Not Found"}</code></p><p>Congratulations, you have successfully created a server. However, the server has no routes defined. In the next step, you will define the first route.</p><h4 id="defining-a-route"><a href="#defining-a-route" aria-label="defining a route permalink"></a>Defining a route</h4><p>To add a route, you will ‚Ä¶</p></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/">https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/</a></em></p>]]>
            </description>
            <link>https://www.prisma.io/blog/modern-backend-2-dcba1ps7kip3/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24242536</guid>
            <pubDate>Sat, 22 Aug 2020 08:02:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amid major network disruptions, 1.76m Psiphon users in Belarus]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24242139">thread link</a>) | @andrewshadura
<br/>
August 21, 2020 | https://blog-en.psiphon.ca/2020/08/amid-major-network-disruptions-176m.html | <a href="https://web.archive.org/web/*/https://blog-en.psiphon.ca/2020/08/amid-major-network-disruptions-176m.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-441501999805613977" itemprop="description articleBody">
<h2><i><span><span><span>The Psiphon network supported a peak <b>1.76 million</b> daily active users during significant network interference that started August 9th, a figure that represents nearly 1 in every 3 internet users.</span></span></span></i></h2><div><p><span><a href="https://1.bp.blogspot.com/-3q5T-mlMWo4/Xz6Q0DvPsII/AAAAAAACoUo/bmt6I4zOY_chCeBnTn15_U78-4WlV7RngCLcBGAsYHQ/s888/UU-BY.png"><img data-original-height="509" data-original-width="888" src="https://1.bp.blogspot.com/-3q5T-mlMWo4/Xz6Q0DvPsII/AAAAAAACoUo/bmt6I4zOY_chCeBnTn15_U78-4WlV7RngCLcBGAsYHQ/s640/UU-BY.png" width="640"></a></span></p><p><span><span><span id="docs-internal-guid-3f451e46-7fff-2af4-e598-c9c634d0929a">A <a href="https://meduza.io/feature/2020/08/11/internet-v-belarusi-ne-rabotaet-treti-sutki" target="">large-scale disruption</a> to international internet access was observed in Belarus, beginning during the contested presidential election on August 9th. Widespread filtering was reported across all Belarusian networks, affecting popular messaging apps including Telegram, Viber, and WhatsApp; social media platforms Facebook, Twitter, Instagram, and Youtube; major app markets including Google Play and the App Store; email providers Gmail, Mail.ru, and Yandex; maps, banking, online media, and many other services. Rolling blackouts of the mobile networks also occurred nightly between 6PM and 6AM.</span><span> The majority of VPNs were reportedly blocked as a result of generalized SSL/TLS filtering. Tor <a href="https://metrics.torproject.org/userstats-relay-country.html?start=2020-07-01&amp;end=2020-08-17&amp;country=by&amp;events=on">direct connections</a> were disrupted by the increased network change,</span><span> while Tor <a href="https://metrics.torproject.org/userstats-bridge-combined.html?start=2020-07-01&amp;end=2020-08-18&amp;country=by">bridge users</a> reached a peak 8,000 per day during the shutdown period.</span><span> Network outages were tracked by <a href="https://labs.ripe.net/Members/alun_davies/our-first-glance-at-the-belarus-outages">RIPE</a> Labs,</span><span> <a href="https://map.internetintel.oracle.com/?country=BY">Oracle</a> Internet Intelligence,</span><span> <a href="https://ioda.caida.org/ioda/dashboard#view=inspect&amp;entity=country/BY&amp;lastView=overview&amp;from=1596903075&amp;until=1597767075">IODA</a>,</span><span> and other network monitors.</span></span></span></p></div><div><p><span><span><span><p><a href="https://1.bp.blogspot.com/-_rEQvxxTroI/Xz6WOxlT8zI/AAAAAAACoVE/5p4Nj_CQbiEGODDLunxj2oFYDDx66NymgCLcBGAsYHQ/s1529/25106.PNG"><img data-original-height="421" data-original-width="1529" src="https://1.bp.blogspot.com/-_rEQvxxTroI/Xz6WOxlT8zI/AAAAAAACoVE/5p4Nj_CQbiEGODDLunxj2oFYDDx66NymgCLcBGAsYHQ/s640/25106.PNG" width="640"></a></p></span></span></span></p><p><span><span><span>&nbsp;</span><span id="docs-internal-guid-28463e0a-7fff-55f1-bc5c-8fcd9b9b80bc">Traceroute completions on main mobile operator MTS Belarus</span><span> (AS<a href="https://bgp.he.net/AS25106#_graph4">25106</a>) showed clear outages through 60280 and 6697</span><span> </span><span>(source: <a href="https://map.internetintel.oracle.com/?root=traffic&amp;country=false&amp;asn=25106">Oracle</a>)</span></span></span></p><div><p dir="ltr" id="docs-internal-guid-31799abb-7fff-55bd-3d92-2d41e07526d4"><span><span>As a backdrop to the network disruptions, Belarus had entered its largest mass demonstrations in history.</span></span></p><p dir="ltr" id="docs-internal-guid-31799abb-7fff-55bd-3d92-2d41e07526d4"><span><span><span id="docs-internal-guid-cbb3ba82-7fff-9d5b-3426-a87846ead35d">Journalists reported difficulty freely accessing and reporting information from the country, and began <a href="https://twitter.com/franakviacorka/status/1292340194750889984">recommending Psiphon</a>.</span><span> Belarusian Internet users widely reported that Psiphon was one of the only tools able to circumvent the filtering. Even with the attempted blocking of the app stores and Psiphon sites, users acquired the software via alternate distribution channels, such as email autoresponders, mirrors, and web proxies. Additionally, Belarusian users distributed copies of Psiphon binaries via Telegram channels, hosted URLs, and even offline on <a href="https://www.newyorker.com/news/our-columnists/after-a-rigged-election-belarus-crushes-protests-amid-an-information-blackout">USB drives</a>.</span><span> Use of the Psiphon network surged to a peak 1.76 million daily active users; given a population of 9.5 million and internet penetration rate of 60%, a figure that represents 30% of internet users in Belarus. Total bandwidth transferred from Belarus via Psiphon between Aug 9-17 exceeded 2 Petabytes. Circumvention tools proved a vital infrastructure to freely access information, as well as basic communications and services.</span></span></span></p><p dir="ltr" id="docs-internal-guid-31799abb-7fff-55bd-3d92-2d41e07526d4"><span><span id="docs-internal-guid-79b482c0-7fff-0df6-7f3d-66d0d12e1cbf">Internet users, researchers, and international observers were able to utilize the Psiphon Data Engine metrics portal (available at</span><span> <a href="https://psix.ca/d/nyi8gE6Zk/regional-overview?orgId=2&amp;var-region=BY&amp;var-region=IR">psix.ca</a>) to monitor blocking, network performance, and corresponding circumvention usage. Some <a href="https://ca.finance.yahoo.com/news/vpn-usage-surges-belarus-remains-202645286.html">noted</a> during the shutdown period, the volume of Psiphon use in Belarus had surpassed even that of Iran.</span></span></p><p><span><a href="https://1.bp.blogspot.com/-2eHYoQvOang/Xz6a72O3cLI/AAAAAAACoVY/9qSvbBy6XH0BvE_3fb7pQ_jzl8vTWxB6gCLcBGAsYHQ/s765/connections-BY-IR.png"><img data-original-height="386" data-original-width="765" src="https://1.bp.blogspot.com/-2eHYoQvOang/Xz6a72O3cLI/AAAAAAACoVY/9qSvbBy6XH0BvE_3fb7pQ_jzl8vTWxB6gCLcBGAsYHQ/s640/connections-BY-IR.png" width="640"></a></span></p><p><span><span><i>From the Psiphon Data Engine (PDE) public dashboard</i> <b>(<a href="https://psix.ca/">https://psix.ca/</a>)</b></span></span></p><p><span><span>Network observers such as the Internet Protection Society and others detected that <a href="https://www.svoboda.org/a/30777908.html">deep packet inspection</a> (DPI) technology was being used to block SSL traffic at scale. NetBlocks also noted <a href="https://netblocks.org/reports/internet-disruption-hits-belarus-on-election-day-YAE2jKB3">keyword filtering</a> appeared to target at least 10,000 URLs. Prague-based <a href="https://blog.qrator.net/en/what-happening-BY_86/">Qrator Labs saw</a> the concurrent outage of 80% of IPv6 prefixes within Belarus, and inferred that filtering of downstream autonomous systems (AS) was taking place at the level of two upstream ASes that dominate international transit, AS6697 and AS60280. Official releases by the <a href="https://cert.by/?p=1722">National Center for Response to Computer Incidents</a>, the <a href="https://ncot.by/ru/news/news/o-vosstanovlenii-raboty-seti-internet/">National Traffic Exchange Center</a>, and <a href="https://beltelecom.by/news/main/vnimaniyu-abonentov-3">Beltelecom</a> stated the disruptions were the result of external cyberattacks and equipment failures.&nbsp;</span></span></p><p><span><span>Psiphon network performance and session quality remained at or above the regional average over the days of the shutdown. While the generalized disruption of SSL at the transport layer disrupted the core functionality of most VPNs, Psiphon uses a multiprotocol structure and obfuscation techniques which provide greater resilience to protocol-based blocking. This allows Psiphon traffic to adapt dynamically to such radical shifts in the network environment, and sustain quality of service in even the harshest conditions.</span></span></p><div><p><span><p><a href="https://1.bp.blogspot.com/-Lh1jcniJbis/Xz7HAAvjkVI/AAAAAAACoXM/vGc7eLeoVGIzdu_c1jtuytCvuAmfVZ9BgCLcBGAsYHQ/s720/BY-bph.png"><img data-original-height="440" data-original-width="720" src="https://1.bp.blogspot.com/-Lh1jcniJbis/Xz7HAAvjkVI/AAAAAAACoXM/vGc7eLeoVGIzdu_c1jtuytCvuAmfVZ9BgCLcBGAsYHQ/s640/BY-bph.png" width="640"></a></p></span></p><div><p><i><span><span><span>Bytes per hour, Belarus. A peak 55 Terabytes / h were transferred via the Psiphon network.</span></span></span></i><br></p></div></div><p><span><span>A key observation by Qrator Labs is the high level of <a href="https://lh5.googleusercontent.com/VqANMjjuuyP2Szg1xsT4Clk_qN8YRsG9iWF_u76zsZcvKRfhuK1bIsKoxRAqL5wxlNi7p3WRfMTEzorRogskGKQn5nwd5_oMSiGKLQ6l4RBIgYRlzJHQ4x3JIb7-o_-tTHyK101-">centralization of control</a> over Belarusian networks. DPI equipment installed at the point of international gateways allows the upstream operators to disconnect or pass filtering rules to downstream ISPs. Researchers documented a <a href="https://arxiv.org/abs/1911.07723">similar network topology in Iranian ASes</a> last year. In November 2019, <a href="https://blogs.oracle.com/cloudsecurity/historic-internet-blackout-in-iran-v2">Iran executed an extensive disconnection</a> of international internet connectivity that lasted for 10 days.</span></span></p><p><span><span>Indeed, the current generation of DPI filtering technologies can be leveraged at various forms of encrypted internet traffic, increasingly deployed at national scale and at capacities approaching 1TBit/s. In these circumstances, resilient circumvention infrastructures such as Psiphon remain crucial to the free exchange of information.<br></span></span></p></div></div>

</div></div>]]>
            </description>
            <link>https://blog-en.psiphon.ca/2020/08/amid-major-network-disruptions-176m.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24242139</guid>
            <pubDate>Sat, 22 Aug 2020 06:29:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linked List Operations ‚Äì Traverse, Insert and Delete]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24242054">thread link</a>) | @Eyssant
<br/>
August 21, 2020 | https://www.alphacodingskills.com/ds/linked-list-operations.php | <a href="https://web.archive.org/web/*/https://www.alphacodingskills.com/ds/linked-list-operations.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 


 
 

<!-- blank -->






<!-- <script>
function myFunction(x) {
  var y = document.getElementById("ad_top");
  if (x.matches) { // If media query matches
    y.style.backgroundColor = "yellow";
  } else {
   y.style.backgroundColor = "pink";
  }
}

var x = window.matchMedia("(max-width: 1500px)")
myFunction(x) // Call listener function at run time
x.addListener(myFunction) // Attach listener function on state changes
</script> --><hr>
<p><a href="https://www.alphacodingskills.com/ds/linked-list.php">Previous Page</a>
<a href="https://www.alphacodingskills.com/ds/circular-singly-linked-list.php" role="button">Next Page</a></p><hr>

<p>In the <a href="https://www.alphacodingskills.com/ds/linked-list.php">previous section</a>, we had discussed about structure of linked list. In this section, we will learn about basic operations of a linked list.</p>

<h2>Traverse a Linked List</h2>
<p>Traversing through a linked list is very easy. It requires creating a temp node pointing to the head of the list. If the temp node is not null, display its content and move to the next node using temp next. Repeat the process till the temp node becomes null. If the temp node is empty at the start, then the list contains no item.</p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Display the content of the list
void PrintList() {
  
  //1. create a temp node pointing to head
  Node* temp = head;
  
  //2. if the temp node is not null continue 
  //   displaying the content and move to the 
  //   next node till the temp becomes null
  if(temp != NULL) {
    cout&lt;&lt;"\nThe list contains: ";
    while(temp != NULL) {
      cout&lt;&lt;temp-&gt;data&lt;&lt;" ";
      temp = temp-&gt;next;
    }
  } else {
    
    //3. If the temp node is null at the start, 
    //   the list is empty
    cout&lt;&lt;"\nThe list is empty.";
  }
} 
</pre>
</div>

<br>
<h2>Insert a new node in Linked List</h2>
<p>A new node can be inserted into a list in three ways:</p>
<ul>
  <li>Insert a node at the start</li>
  <li>Insert a node at the given position</li>
  <li>Insert a node at the end</li>
</ul>
<h3>Insert a new node at the start</h3>
<p>In this method, a new node is inserted at the beginning of the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at the start, the list becomes 100-&gt;10-&gt;20-&gt;30.</p>

<p>Inserting a new node at the beginning of the Linked List is very easy. First, a new node with given element is created. It is then added before the head of the given list that makes the newly added node to new head of the list by changing the head pointer to point to the new node.  </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   --> 
<pre>//C++ Code
//Inserts a new node at the start 
void push_front(int newElement) {
  
  //1. allocate a new node
  Node* newNode = new Node();
  
  //2. assign data element 
  newNode-&gt;data = newElement;
  
  //3. make next node of new node as head
  newNode-&gt;next = head;
  
  //4. make new node as head 
  head = newNode;   
}
</pre>
</div>


<br>
<h3>Insert a new node at the given position</h3>
<p>In this method, a new element is inserted at the specified position in the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at position 2, the list becomes 10-&gt;100-&gt;20-&gt;30.</p>
<p>First, a new node with given element is created. If the insert position is 1, then the new node is made to head. Otherwise, traverse to the node that is previous to the insert position and check if it is null or not. In case of null, the specified position does not exist. In other case, assign next of the new node as next of the previous node and next of previous node as new node.</p>


<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Inserts a new node at the given position
void push_at(int newElement, int position) {
  
  //1. allocate node to new element
  Node* newNode = new Node(); 
  newNode-&gt;data = newElement;
  newNode-&gt;next = NULL;

  //2. check if the position is &gt; 0
  if(position &lt; 1) {
    cout&lt;&lt;"\nposition should be &gt;= 1.";
  } else if (position == 1) {
  
  //3. if the position is 1, make next of the
  //   new node as head and new node as head
    newNode-&gt;next = head;
    head = newNode;
  } else {

   //4. Else, make a temp node and traverse to the 
   //   node previous to the position
    Node* temp = head;
    for(int i = 1; i &lt; position-1; i++) {
      if(temp != NULL) {
        temp = temp-&gt;next;
      }
    }
 
    //5. If the previous node is not null, make 
    //   newNode next as temp next and temp next 
    //   as newNode.
    if(temp != NULL) {
      newNode-&gt;next = temp-&gt;next;
      temp-&gt;next = newNode;  
    } else {
      
      //6. When the previous node is null
      cout&lt;&lt;"\nThe previous node is null.";
    } 
  }
}
</pre>
</div>

<br>
<h3>Insert a new node at the end</h3>
<p>In this method, a new node is inserted at the end of the linked list. For example - if the given list is 10-&gt;20-&gt;30 and a new element 100 is added at the end, the list becomes 10-&gt;20-&gt;30-&gt;100. </p>

<p>Inserting a new node at the end of the Linked List is very easy. First, a new node with given element is created. It is then added at the end of the list by linking the last node to the new node. </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Inserts a new node at the end
void push_back(int newElement) {
  
  //1. allocate node
  Node* newNode = new Node();
  
  //2. assign data element
  newNode-&gt;data = newElement;
  
  //3. assign null to the next of new node
  newNode-&gt;next = NULL; 
  
  //4. Check the list is empty or not,
  //   if empty make the new node as head 
  if(head == NULL) {
    head = newNode;
  } else {
    
    //5. Else, traverse to the last node
    Node* temp = head;
    while(temp-&gt;next != NULL)
      temp = temp-&gt;next;
    
    //6. Change the next of last node to new node
    temp-&gt;next = newNode;
  }    
}
</pre>
</div>

<br>
<h2>Delete a Node from Linked List</h2>
<p>A node can be deleted from a list in three ways:</p>
<ul>
  <li>Delete the first node</li>
  <li>Delete the node at given position</li>
  <li>Delete the last node</li>
</ul>
<h3>Delete the first node</h3>
<p>In this method, the first node of the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30-&gt;40 and the first node is deleted, the list becomes 20-&gt;30-&gt;40.</p>

<p>Deleting the first node of the linked list is very easy. If the head is not null then create a temp node pointing to head and move head to the next of head. Then delete the temp node. </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->     
<pre>//C++ Code
//Deletes the first node
void pop_front() {
  if(head != NULL) {
    
    //1. if head is not null, create a
    //   temp node pointing to head
    Node* temp = head;

    //2. move head to next of head
    head = head-&gt;next; 

    //3. delete temp node
    free(temp); 
  }
}
</pre>
</div>

<br>
<h3>Delete a node from middle</h3>
<p>In this method, a node at the specified position in the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30 and the 2<sup>nd</sup> node is deleted, the list becomes 10-&gt;20.</p>
<p>First, the specified position must be greater than equal to 1. If the specified position is 1 and head is not null, then make the head to head next. Else, traverse to the node that is previous to the specified position. If the specified node and previous to the specified node are not null then adjust the link and delete the node at specified position. In other case, the specified node will be already null.</p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->    
<pre>//C++ Code
//Deletes the node at given position
void pop_at(int position) {     
  
  //1. check if the position is &gt; 0
  if(position &lt; 1) {
    cout&lt;&lt;"\nposition should be &gt;= 1.";
  } else if (position == 1 &amp;&amp; head != NULL) {
      
    //2. if the position is 1 and head is not null,
    //   make head to head next and delete the 
    //   previous head
    Node* nodeToDelete = head;
    head = head-&gt;next;
    free(nodeToDelete);
  } else {
    
    //3. Else, make a temp node and traverse to the 
    //   node previous to the position
    Node* temp = head;
    for(int i = 1; i &lt; position-1; i++) {
      if(temp != NULL) {
        temp = temp-&gt;next;
      }
    }
 
    //4. If the previous node and next of the previous  
    //   is not null, adjust links 
    if(temp != NULL &amp;&amp; temp-&gt;next != NULL) {
        Node* nodeToDelete = temp-&gt;next;
        temp-&gt;next = temp-&gt;next-&gt;next;
        free(nodeToDelete); 
    } else {

      //5. Else the given node will be empty.
      cout&lt;&lt;"\nThe node is already null.";
    }       
  }
} 
</pre>
</div>

<br>
<h3>Delete the last node</h3>
<p>In this method, the last node of the linked list is deleted. For example - if the given list is 10-&gt;20-&gt;30-&gt;40 and the last node is deleted, the list becomes 10-&gt;20-&gt;30.</p>
<p>Deleting the last node of the Linked List involves checking the head for empty. If it is not empty, then check the head next for empty. If the head next is empty, then release the head, else traverse to the second last node of the list. Then, link the next of second last node to NULL and delete the last node.  </p>

<div> 
<!--   <div class="titlebox"><i class="fa fa-pencil fa-pencil-style"></i></div><p></p>   -->  
<pre>//C++ Code
//Deletes the last node
void pop_back() {
  if(head != NULL) {
    
    //1. if head in not null and next of head
    //   is null, release the head
    if(head-&gt;next == NULL) {
      head = NULL;
    } else {
      
      //2. Else, traverse to the second last 
      //   element of the list
      Node* temp = head;
      while(temp-&gt;next-&gt;next != NULL)
        temp = temp-&gt;next;
      
      //3. Change the next of the second 
      //   last node to null and delete the
      //   last node
      Node* lastNode = temp-&gt;next;
      temp-&gt;next = NULL; 
      free(lastNode);
    }
  }
}
</pre>
</div>



<hr>
<p><a href="https://www.alphacodingskills.com/ds/linked-list.php">Previous Page</a>
<a href="https://www.alphacodingskills.com/ds/circular-singly-linked-list.php" role="button">Next Page</a></p><hr>


<!-- 2nd column end -->
</div></div>]]>
            </description>
            <link>https://www.alphacodingskills.com/ds/linked-list-operations.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-24242054</guid>
            <pubDate>Sat, 22 Aug 2020 06:12:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Name Classes After Patterns. Mostly]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 30 (<a href="https://news.ycombinator.com/item?id=24241886">thread link</a>) | @allending
<br/>
August 21, 2020 | https://sender.cloudy.email/campaigns/paxjhchaiasjoifsiw/webversion/jdnapfbdgjegdqmdeduwc | <a href="https://web.archive.org/web/*/https://sender.cloudy.email/campaigns/paxjhchaiasjoifsiw/webversion/jdnapfbdgjegdqmdeduwc">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="100%">
													<tbody>
														<tr>
															<td><!--[if mso]>
				<table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;">
				<tr>
				<![endif]--><!--[if mso]>
				<td valign="top" width="600" style="width:600px;">
				<![endif]-->
															<div>
																		<p>Good Morning/Afternoon/Evening as the case may be.</p>

																		<p>I've been hoping you are well, and thinking about naming.</p>

																		<p><em>Estimated reading time: 7 minutes, 37 seconds.</em></p>

																		<h2>A Small Digression</h2>

																		<p>You may have heard <a href="https://sender.cloudy.email/postal/click?link=92413&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=77-977-9WATvv73vv73vv70d77-9du-_ve-_ve-_ve-_vVbdq3VB77-9Y--_vT5pD1Ui77-9Zu-_vTY=" target="_blank">Phil Karlton's famous saying</a>:</p>

																		<blockquote>
																		<p>There are only two hard things in Computer Science: cache invalidation and naming things.</p>
																		</blockquote>

																		<p>I first heard this as 'There are only two hard things in Computer Science: cache invalidation, naming things, and off-by-one errors.'</p>

																		<p>I passed this phrase on for many years before realizing that the 'off-by-one errors' bit was a joke.</p>

																		<p>Truth.</p>

																		<p>I am so literal that it pains me. I confess this in case it's paining you too. Puns, for example, fly right over my head, and any that I make are most likely inadvertent. I don't believe that there are any puns in the text that follows‚Äîbut how would I know?</p>

																		<h2>Thoughts on Using Pattern Names in Class Names</h2>

																		<p>I've always heard that it's best to avoid using pattern names in class names. As one so often does, I've cargo-culted this rule without truly examining it. I habitually obey it myself, and teach it to folks in my OOD classes, but until recently I couldn't have articulated a convincing defense.</p>

																		<p>But then, while writing the 2nd Edition of 99 Bottles of OOP, I broke it. I created a new class whose name included the name of a pattern. I did this because it just felt right.</p>

																		<p>This put me in a pickle.</p>

																		<p>I very much believe in being guided by feelings about code, but when writing a book one can't just say, 'Okay, now do this because I, the author, <em>feel</em> like you should'. Respect for the reader requires investing sincere effort into dragging feelings about code into the light of day, and at least <em>trying</em> to justify them with convincing words.</p>

																		<p>Below I've included the excerpt from the book where I attempt just such convincing. The excerpt explains the purpose of the no-pattern-names-in-class-names rule and defends its utility.</p>

																		<p>I've built a newsletter around this rule not only because I believe that it's useful, but also because my initial attempts to explain it exposed deep holes in my understanding. This was a revelation. Had I not been writing a book, I might have hand-waved around these gaps in my knowledge forever.</p>

																		<h3>Some Context</h3>

																		<p>Before moving on to the excerpt, here's a bit of context to orient you. At this point in the book:</p>

																		<ul>
																			<li>
																			<p>The code contains a <code>CountdownSong</code> class that gets injected with a player of the <code>verse template</code> role.</p>
																			</li>
																			<li>
																			<p><code>BottleVerse</code> is the only class that plays this role. It's used as the default <code>verse template</code> in <code>CountdownSong</code>.</p>
																			</li>
																		</ul>

																		<p>So, <code>CountdownSong</code> has-a <code>verse template</code>, whose concrete implementation is supplied by <code>BottleVerse</code>.</p>

																		<ul>
																			<li>
																			<p>I'm writing tests for <code>CountdownSong</code>, and have just decided to create a new player of the <code>verse template</code> role to inject for use during these tests.</p>
																			</li>
																			<li>
																			<p>I've named this new class <code>VerseFake</code>.</p>
																			</li>
																		</ul>

																		<p>The excerpt below also mentions a <code>BottleNumber</code> class. This class wraps a number to add bottle-ish behavior.</p>

																		<h3>The Excerpt</h3>

																		<p>With that, here's a bit of chapter 9:</p>

																		<blockquote>
																		<p><em>The <code>VerseFake</code> class above is perfect for your needs, though it must be acknowledged that it unrepentantly breaks several common programming rules.</em></p>

																		<p><em>First, Chapter 8 suggested that you put domain behavior on instances. This class violates that rule; its behavior is on the class/static side.</em></p>

																		<p><em>Next, there's an as-yet-unmentioned object-oriented programming rule that prohibits the use of pattern names in class names. The word "Fake" above refers to a testing pattern, so naming this class <code>VerseFake</code> violates that rule.</em></p>

																		<p><em>Fake things first. You're probably familiar with the idea of design patterns, which are named, re-usable solutions to common software problems. Pattern names act as shortcuts to big ideas and allow programmers to communicate with speed and precision. Pattern thinking has so influenced software design that most programmers are familiar with a number of patterns. For example, you've likely heard of Decorator, Adapter, Enumerator, and so on, even if you're a bit fuzzy on the specifics of some of their definitions.</em></p>

																		<p><em>Since pattern names are so meaningful, it can be tempting to stick them in class names. For example, you might use the Decorator pattern to enclose a <code>number</code> in a new class that adds additional responsibility. Initially, <code>NumberDecorator</code> might seem like a good name for the result. The problem with including the name of a pattern in the name of a class is that this permits you the feeling of having created a useful name without actually having done so. Pattern names don't generally reflect concepts in your application. Appending them to class names pollutes your domain with programmer-y words and circumvents the search for names that add semantic meaning. Class names that include patterns are a signal that you've given up too soon on the hard problem of naming.</em></p>

																		<p><em>Class names should reflect concepts in your domain, not the patterns used to create them. Compared to <code>BottleNumber</code>, the much-richer name you gave this class in Chapter 4, <code>NumberDecorator</code> is so abstract as to be meaningless. Future readers won't care that the class was created using Decoration but they'll be grateful to know that it's a bottle-ish kind of number.</em></p>

																		<p><em>The <a href="https://sender.cloudy.email/postal/click?link=92414&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=77-9fBpDJCnvv73vv70f77-9KTHTj--_vUPvv71p77-977-9Z--_vV7vv70P77-977-9T--_vTRhYg==" target="_blank">xUnit Test Patterns</a> book by <a href="https://sender.cloudy.email/postal/click?link=92415&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=77-9JO-_vWDvv71gUO-_vQxf77-977-9A2IC77-9Ce-_vTYj77-977-977-977-9Yn5YY0UlVO-_vQ==" target="_blank">Gerard Meszaros</a> standardizes the <a href="https://sender.cloudy.email/postal/click?link=92416&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=77-9eu-_vXDvv73vv73vv71iXcya77-9ZO-_vVvvv71X77-977-977-977-9UxoLYmXvv71877-977-9" target="_blank">pattern names</a> of a set of objects that are used to simplify testing. <code>TestDouble</code> is his generic name for all of the patterns. Within <code>TestDouble</code> he further delineates the <code>Dummy</code>, <code>Stub</code>, <code>Spy</code>, <code>Mock</code>, <code>Fake</code>, and <code>Temporary Test Stub</code> patterns.</em></p>

																		<p><em>Meszaros defines <code>Fake</code> as a <code>TestDouble</code> that provides a lightweight implementation of a collaborator that is needed by the class you are actually unit testing. A <code>Fake</code> is a regular old object; no testing magic is involved. In this case the new <code>VerseFake</code> class is a real player of the verse template role; it's called a <code>Fake</code> because it's only used during testing. <code>BottleVerse</code> plays the role of verse template in production. <code>VerseFake</code> was created to play this role during <code>Bottles</code>' unit tests.</em></p>

																		<p><em>The upshot is that <code>Fake</code> is the name of a pattern, so <code>VerseFake</code> violates the don't-include-pattern-names-in-class-names rule.</em></p>

																		<p><em>Rules exist to save money, and the two rules that <code>VerseFake</code> breaks are primarily meant to save money in production code; they might not be so applicable in code created to simplify tests. For example, the purpose of <code>VerseFake</code> is to fake the role of verse template. In this case, <code>VerseFake</code> might be the most intention-revealing name possible. If you end up needing a number of different kinds of fakes, you might need additional qualifiers in their names (<code>SimpleVerseFake</code>, <code>ComplicatedVerseFake</code>) but the word "fake" still adds meaning in the domain of your tests.</em></p>

																		<p><em>Similarly, it's important that the shape of production code not interfere with your ability to change it. The put-domain-behavior-on-instances rule serves this goal. In tests, however, you're less concerned with preserving the fake's changeability and more interested in directly communicating its responsibilities. Putting the behavior in a class or static method simplifies the code in <code>VerseFake</code> at the expense of making it less adaptable. This is a trade-off you'll happily make in code used only by the tests.</em></p>
																		</blockquote>

																		<p>I am convinced by that explanation, and I hope you are too. Now that I comprehend it, the no-pattern-names-in-class-names rule seems both simple and inevitable.</p>

																		<p>The deeper point is that I didn't really understand this rule until I had to write an explanation‚Äîbelieve me, my early attempts were neither brief nor convincing. The above is the result of a few days of walking around in my office, muttering, groping for insight.</p>

																		<p>It's not necessarily bad to cargo-cult a rule. Most rules that have risen to the level of cargo-cult-ability are actually pretty reasonable, and even if you don't completely understand their subtleties, following them might improve your code.</p>

																		<p>However, you'll get more value from a rule if you comprehend its underlying purpose. And even better, understanding its true purpose allows you to justify yourself when you decide to break it.</p>

																		<p>Thanks for reading. I very much hope you are safe and well.</p>

																		<p>Best,</p>

																		<p>Sandi</p>

																		<hr>
																		<h2><a href="https://sender.cloudy.email/postal/click?link=92417&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=77-9LT9y77-9Te-_ve-_ve-_vRjvv71J77-9Slrvv73vv71g77-9Hu-_ve-_vRDIkR_vv71U77-9C--_ve-_vQ==" target="_blank">99 Bottles of OOP, 2nd Edition</a> is complete!</h2>

																		<h3>Use coupon code <strong><a href="https://sender.cloudy.email/postal/click?link=92418&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=bQPvv73vv704KO-_ve-_vdmH77-977-9f--_ve-_ve-_vS3vv73NonUgMmhl77-9JQPvv70mEg==" target="_blank">2ND-IS-DONE!</a></strong> through Sept 7</h3>

																		<h3>for a <a href="https://sender.cloudy.email/postal/click?link=92418&amp;sid=oqtdufbdgjegdtxckbtem&amp;ck=bQPvv73vv704KO-_ve-_vdmH77-977-9f--_ve-_ve-_vS3vv73NonUgMmhl77-9JQPvv70mEg==" target="_blank">25% discount</a> on the book.</h3>

																		<p>The new edition:</p>

																		<ul>
																			<li>has three new chapters (it's almost 50% longer).</li>
																			<li>comes in separate books for two programming languages (Ruby and JavaScript) and two beverages (beer and milk), with a free PHP upgrade coming this fall.</li>
																			<li>is available as an ebook only, in epub, kepub, kobi, and pdf formats.</li>
																			<li>bundles every book variant. A single purchase gets you all of the books.</li>
																		</ul>

																		<p>I am so <em>glad</em> to be done with this edition that I'm passing that good cheer on to you.</p>

																		<p><strong><em>Note:</em></strong><br>
																		<span><em>Those of you who already own the book should have recently received</em></span><span><em>your own personal upgrade coupon.</em></span></p>

							‚Ä¶</div></td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sender.cloudy.email/campaigns/paxjhchaiasjoifsiw/webversion/jdnapfbdgjegdqmdeduwc">https://sender.cloudy.email/campaigns/paxjhchaiasjoifsiw/webversion/jdnapfbdgjegdqmdeduwc</a></em></p>]]>
            </description>
            <link>https://sender.cloudy.email/campaigns/paxjhchaiasjoifsiw/webversion/jdnapfbdgjegdqmdeduwc</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241886</guid>
            <pubDate>Sat, 22 Aug 2020 05:40:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kafka benchmarked against pulsar and rabbitmq]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24241849">thread link</a>) | @pdeva1
<br/>
August 21, 2020 | https://www.confluent.io/blog/kafka-fastest-messaging-system/ | <a href="https://web.archive.org/web/*/https://www.confluent.io/blog/kafka-fastest-messaging-system/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Apache Kafka<sup>¬Æ</sup> is one of the most popular event streaming systems. There are many ways to <a href="https://www.confluent.io/kafka-vs-pulsar/">compare systems</a> in this space, but one thing everyone cares about is performance. Kafka has been known to be <a href="https://engineering.linkedin.com/kafka/benchmarking-apache-kafka-2-million-writes-second-three-cheap-machines" target="_blank" rel="noopener noreferrer">fast</a>, but how fast is it today, and how does it stack up against other systems? We decided to test Kafka‚Äôs performance on the latest cloud hardware to find out.</p>
<p>For comparisons, we chose a traditional message broker, <a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a>, and one of the <a href="https://bookkeeper.apache.org/" target="_blank" rel="noopener noreferrer">Apache BookKeeper‚Ñ¢</a>&nbsp;based message brokers, <a href="http://pulsar.apache.org/" target="_blank" rel="noopener noreferrer">Apache Pulsar</a>. We focused on (1) <strong>system throughput</strong> and (2) <strong>system latency</strong>, as these are the primary performance metrics for event streaming systems in production. In particular, the throughput test measures how efficient each system is in utilizing the hardware, specifically the disks and the CPU. The latency test measures how close each system is to delivering real-time messaging including tail latencies of up to p99.9th percentile, a key requirement for real-time and mission-critical applications as well as microservices architectures.</p>
<p>We found that Kafka delivers the best throughput while providing the lowest end-to-end latencies up to the p99.9th percentile. At lower throughputs, RabbitMQ delivers messages at very low latencies.</p>
<p><a href="https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles.png" rel="noopener noreferrer" target="_blank"><img src="https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles.png" alt="Throughput (MB/s) | End-to-End Latency Quantiles" width="2541" height="1000" srcset="https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles.png 2541w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-300x118.png 300w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-1024x403.png 1024w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-768x302.png 768w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-1536x604.png 1536w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-2048x806.png 2048w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-350x138.png 350w, https://cdn.confluent.io/wp-content/uploads/throughput-and-latency-quantiles-600x236.png 600w" sizes="(max-width: 2541px) 100vw, 2541px"></a></p>
<table>
<tbody>
<tr>
<td></td>
<td><strong>Kafka</strong></td>
<td><strong>Pulsar</strong></td>
<td><strong>RabbitMQ</strong><br>
<strong>(Mirrored)</strong></td>
</tr>
<tr>
<td><strong>Peak Throughput</strong><br>
<strong>(MB/s)</strong></td>
<td>605<br>
MB/s</td>
<td>305<br>
MB/s</td>
<td>38<br>
MB/s</td>
</tr>
<tr>
<td><strong>p99 Latency</strong><br>
<strong>(ms)</strong></td>
<td>5 ms<br>
(200 MB/s load)</td>
<td>25 ms<br>
(200 MB/s load)</td>
<td>1 ms*<br>
(reduced 30 MB/s load)</td>
</tr>
</tbody>
</table>
<p><em>*RabbitMQ latencies degrade significantly at throughputs higher than the 30 MB/s. Furthermore, the impact of mirroring is significant at higher throughput and better latencies can be achieved by using just classic queues without mirroring.</em></p>
<p>This blog post is structured to first walk you through the benchmarking framework we used, followed by a description of the testbed and the workloads. It will finish with an explanation of the results using the various system and application metrics. All of these are <a href="https://github.com/confluentinc/openmessaging-benchmark/" target="_blank" rel="noopener noreferrer">open source</a>, so curious readers can reproduce the results for themselves or dig deeper into the collected Prometheus metrics. As with most benchmarks, we compare performance on a setup for a specific workload. We always encourage readers to compare using their own workloads/setups, to understand how these translate to production deployments. For a deeper look at features, architecture, ecosystem, and more, read this <a href="https://www.confluent.io/kafka-vs-pulsar/">complete guide</a> comparing Kafka, Pulsar, and RabbitMQ.</p>
<h2 id="overview"><a id="overview"></a>Overview</h2>
<ul>
<li><a href="#background">Background</a></li>
<li><a href="#durability">Durability in distributed systems</a></li>
<li><a href="#benchmarking-framework">Benchmarking Framework</a>
<ul>
<li><a href="#omb-framework">Fixes to the OMB Framework</a></li>
<li><a href="#omb-kafka-driver">Fixes to the OMB Kafka driver</a></li>
<li><a href="#omb-rabbitmq-driver">Fixes to the OMB RabbitMQ driver</a></li>
<li><a href="#omb-pulsar-driver">Fixes to the OMB Pulsar driver</a></li>
</ul>
</li>
<li><a href="#testbed">Testbed</a>
<ul>
<li><a href="#disks">Disks</a></li>
<li><a href="#os-tuning">OS tuning</a></li>
<li><a href="#memory">Memory</a></li>
</ul>
</li>
<li><a href="#throughput-test">Throughput test</a>
<ul>
<li><a href="#fsync">Effect of fsync</a></li>
<li><a href="#test-setup">Test setup</a></li>
<li><a href="#throughput-results">Throughput results</a></li>
</ul>
</li>
<li><a href="#latency-test">Latency test</a>
<ul>
<li><a href="#latency-results">Latency results</a></li>
<li><a href="#latency-trade-offs">Latency trade-offs</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
<h2 id="background"><a id="background"></a>Background</h2>
<p>First, let‚Äôs discuss each of the systems briefly to understand their high-level design and architecture, looking at the trade-offs each system makes.</p>
<p><strong>Kafka</strong> is an open-source distributed event streaming platform, and one of the five most active projects of the Apache Software Foundation. At its core, Kafka is designed as a replicated, distributed, persistent commit log that is used to power event-driven microservices or large-scale stream processing applications. Clients produce or consume events directly to/from a cluster of brokers, which read/write events durably to the underlying file system and also automatically replicate the events synchronously or asynchronously within the cluster for fault tolerance and high availability.</p>
<p><strong>Pulsar</strong> is an open-source distributed pub/sub messaging system originally catered towards queuing use cases. It recently added event streaming functionality as well. Pulsar is designed as a tier of (almost) stateless broker instances that connect to a separate tier of BookKeeper instances, which actually read/write and, optionally, store/replicate the messages durably. Pulsar is not the only system of its kind as there are also other messaging systems like Apache DistributedLog and Pravega, which have been created on top of BookKeeper and aim to also provide some Kafka-like event streaming functionality.</p>
<p><strong>BookKeeper</strong> is an open-source distributed storage service that was originally designed as a write-ahead log for Apache‚Ñ¢ Hadoop¬Æ‚Äôs NameNode. It provides persistent storage of messages in <em>ledgers</em>, across server instances called <em>bookies</em>. Each bookie synchronously writes each message to a local journal log for recovery purposes and then asynchronously into its local indexed ledger storage. Unlike Kafka brokers, bookies do not communicate with each other and it‚Äôs the BookKeeper clients that are responsible for replicating the messages across bookies using a quorum-style protocol.</p>
<p><strong>RabbitMQ</strong> is an open-source traditional messaging middleware that implements the AMQP messaging standard, catering to low-latency queuing use cases. RabbitMQ consists of a set of broker processes that host ‚Äúexchanges‚Äù for publishing messages to and queues for consuming messages from. Availability and durability are properties of the various queue types offered. Classic queues offer the least availability guarantees. Classic mirrored queues replicate messages to other brokers and improve availability. Stronger durability is provided through the more recently introduced <a href="https://www.rabbitmq.com/quorum-queues.html" target="_blank" rel="noopener noreferrer">quorum queues</a> but at the <a href="https://www.rabbitmq.com/quorum-queues.html#use-cases" target="_blank" rel="noopener noreferrer">cost of performance</a>. Since this is a performance-oriented blog post, we restricted our evaluation to classic and mirrored queues.</p>
<h2 id="durability"><a id="durability"></a>Durability in distributed systems</h2>
<p>Single-node storage systems (e.g., RDBMS) depend on fsyncing writes to disk to ensure maximal durability. But in distributed systems, durability typically comes from replication, with multiple copies of the data that fail independently. Fsyncing data is just a way of reducing the impact of the failure when it does occur (e.g., fsyncing more often could lead to lower recovery time). Conversely, if enough replicas fail, a distributed system may be unusable regardless of fsync or not. Hence, whether we fsync or not is just a matter of what guarantees each system chooses to depend on for its replication design. While some depend closely on never losing data written to disk, thus requiring fsync on every write, others handle this scenario in their design.</p>
<p>Kafka‚Äôs replication protocol was carefully designed to ensure consistency and durability guarantees without the need for synchronous fsync by tracking what has been fsynced to the disk and what hasn‚Äôt. By assuming less, Kafka can handle a wider range of failures like filesystem-level corruptions or accidental disk de-provisioning and does not take for granted the correctness of data that is not known to be fsync‚Äôd. Kafka is also able to leverage the OS for batching writes to the disk for better performance.</p>
<p>We have not been able to ascertain categorically whether BookKeeper offers the same consistency guarantees without fsyncing each write‚Äîspecifically, whether it can rely on replication for fault tolerance in the absence of synchronous disk persistence. This isn‚Äôt covered in the documentation or a write-up on the underlying replication algorithm. Based on our inspection and the fact that BookKeeper implements a grouped fsync algorithm, we believe it does rely on fsyncing on each write for its correctness, but we‚Äôd love to <a href="mailto:info@confluent.io" target="_blank" rel="noopener noreferrer">hear from folks</a> in the community who might know better if our conclusion is correct.</p>
<p>In any case, since this can be somewhat of a controversial topic, we‚Äôve given results in both cases to ensure we are being as fair and complete as possible, though running Kafka with synchronous fsync is extremely uncommon and also unnecessary.</p>
<h2 id="benchmarking-framework"><a id="benchmarking-framework"></a>Benchmarking framework</h2>
<p>With any benchmark, one wonders what framework is being used and if it‚Äôs fair. To that end, we wanted to use the <a href="http://openmessaging.cloud/docs/benchmarks/" target="_blank" rel="noopener noreferrer">OpenMessaging Benchmark Framework</a> (OMB), originally authored, in large parts, by Pulsar contributors. OMB was a good starting point with basic workload specification, metrics collection/reporting for the test results, support for the three chosen messaging systems as well as a modular cloud deployment workflow tailored for each system. But of note, Kafka and RabbitMQ implementations did have some significant shortcomings that affected the fairness and reproducibility of these tests. The resulting benchmarking code including the fixes described in more detail below are available as <a href="https://github.com/confluentinc/openmessaging-benchmark" target="_blank" rel="noopener noreferrer">open source</a>.</p>
<h3 id="omb-framework"><a id="omb-framework"></a>Fixes to the OMB Framework</h3>
<p>We upgraded to Java 11 and Kafka 2.6, RabbitMQ 3.8.5, and Pulsar 2.6 (the latest releases at the time of writing). We significantly enhanced the monitoring capabilities across the three systems, with the Grafana/Prometheus monitoring stack, capturing metrics across messaging systems, JVM, Linux, disk, CPU, and network. This was critical for being able to not just report results but explain them. We have added support for producer-only tests and consumer-only tests with support for generating/draining backlogs, while also fixing an important bug with producer rate calculation when the number of topics is smaller than the number of producer workers.</p>
<h3 id="omb-kafka-driver"><a id="omb-kafka-driver"></a>Fixes to the OMB Kafka driver</h3>
<p>We fixed a critical bug in the Kafka driver that starved Kafka producers of TCP connections, bottlenecking on a single connection from each worker instance. The fix makes the Kafka numbers fair, compared to other systems‚Äîthat is, all of them now use the same number of TCP connections to talk to their respective brokers. We also fixed a critical bug in the Kafka benchmark consumer driver, where offsets were being committed too frequently and synchronously causing degradation, whereas it was done asynchronously for other systems. We also tuned the Kafka consumer fetch size and replication threads to eliminate bottlenecks in message fetching at high throughputs and to configure the brokers equivalent to the other systems.</p>
<h3 id="omb-rabbitmq-driver"><a id="omb-rabbitmq-driver"></a>Fixes to the OMB RabbitMQ driver</h3>
<p>We enhanced RabbitMQ to use routing keys and configurable exchange types (<code>DIRECT</code> and <code>TOPIC</code> exchanges) and also fixed a bug in the RabbitMQ cluster setup deployment workflow. Routing keys were introduced to mimic the concept of partitions per ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.confluent.io/blog/kafka-fastest-messaging-system/">https://www.confluent.io/blog/kafka-fastest-messaging-system/</a></em></p>]]>
            </description>
            <link>https://www.confluent.io/blog/kafka-fastest-messaging-system/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241849</guid>
            <pubDate>Sat, 22 Aug 2020 05:34:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a startup from $0 to $1 ‚Äì Day 3: IDEA]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24241747">thread link</a>) | @branzzel
<br/>
August 21, 2020 | https://www.twitch.tv/branzzel | <a href="https://web.archive.org/web/*/https://www.twitch.tv/branzzel">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.twitch.tv/branzzel</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241747</guid>
            <pubDate>Sat, 22 Aug 2020 05:15:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stef's Free Online Smalltalk Books]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 7 (<a href="https://news.ycombinator.com/item?id=24241561">thread link</a>) | @triyambakam
<br/>
August 21, 2020 | http://stephane.ducasse.free.fr/FreeBooks.html | <a href="https://web.archive.org/web/*/http://stephane.ducasse.free.fr/FreeBooks.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
	   I started to be fed up to see all the books I like to be out of print, so I started to contact authors and 
	   collect their old books. I would like to thanks them all and their publishers as well. If you
       know an author that is willing to give to the community a book, please give
       him my email. You can support me. </p><p> Thanks in advance. 




</p><p>
You can find a lot more recent and free books at <a href="http://books.pharo.org/">http://books.pharo.org</a>: Spec, Pharo by Example Updated, Pharo with Style, Learning OOD with TDD, and many more. 
In addition most the new books around Pharo are hosted at <a href="http://github.com/SquareBracketAssociates">http://github.com/SquareBracketAssociates</a> and each project has an automatic build with the latest PDF version.


</p><p>
If you have more books and you want to get them archived and listed here please contact me.

</p><div width="95%" height="174">

	<tbody><tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/DynamicWebDevInSeaside/DynWebDevInSeaside.png" width="100"></td>
	    <td>
	      <p><a href="http://book.seaside.st/">[ Dynamic Web Development with Seaside ]</a> Stephane Ducasse, Lukas Renggli, David C. Shaffer and Rick Zaccone. Square Bracket Associates, 2009.</p>
	     
	This book is made available under the Creative Commons Attribution-ShareAlike 3.0 license. You will be able to  buy a softcover copy from <a href="http://www.lulu.com/">lulu.com</a>. 
	    </td>
	  </tr>
	

	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/PBE/PharoByExample.png" width="100"></td>
	    <td>
	      <p><a href="http://books.pharo.org/">[ Pharo by Example (original version and translation) ]</a> Andrew P. Black, St√©phane Ducasse, Oscar Nierstrasz, Damien Pollet with Damien Cassou and Marcus Denker. Square Bracket Associates, 2009.</p> Pay attention there is also Pharo by Example Updated (for Pharo 50) and we are working on Pharo by Example for Pharo 80.
	     
	This book is made available under the Creative Commons Attribution-ShareAlike 3.0 license. You will be able to  buy a softcover copy from <a href="http://www.lulu.com/">lulu.com</a>. 
	    </td>
	  </tr>

	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Gnu/GNU.png" width="100"></td>
	    <td>
	     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Gnu/computer_programming_using_gnu_smalltalk.pdf">[ Computer Programming using GNU Smalltalk ]</a> Canol Gokel, free e-book. 2009. 
	   <a href="http://www.canol.info/books/computer_programming_using_gnu_smalltalk">home page of the book to have an up to date version</a>.
		</p> 
	    </td>
	  </tr> 


  	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SBE/sbe.png" width="100"></td>
	    <td>
	      <p><a href="https://hal.inria.fr/inria-00441576/document">[ Squeak by Example ]</a> Andrew P. Black, St√©phane Ducasse, Oscar Nierstrasz and Damien Pollet. Square Bracket Associates, 2007.</p> Watch out this book is old. Better read <a href="http://books.pharo.org/">Pharo by Example book</a>.
	    </td>
	  </tr>
	
	<tr>
	    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDesignPatternCompanion/coversm.gif" width="100"></td>
	    <td>
	      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDesignPatternCompanion">[ Smalltalk design pattern companion book drafts ]</a> Sherman Alpert, Kyle Brown, and Bobby Woolf. Addison-Wesley,  978-02011846241998.</p>
		The chapters listed here are not in their final form but more in draft form. Buy the book it is really excellent. 
	    </td>
	  </tr>
	
	
   <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/ByExample/byExample.gif" width="100"></td>
    <td> 
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/ByExample/">[ Smalltalk by
      Example: the Developer's Guide ]</a> Alex Sharp, McGraw Hill Text; ISBN:
      0079130364, 1997.</p>
      This book covers all kinds of issues basic level, design, testing... I
      liked it a lot. The code and the book as a single file containing everything are available. Thank again
      Lukas Renggli for his effort for converting everything from Word.
       Thanks a lot Alec and thanks McGraw-Hill <a href="http://books.mcgraw-hill.com/">http://books.mcgraw-hill.com/</a>
  They were really nice with us so think about it if you hesitate to buy
  one of their books. Not all the publishers are that open-minded. 
  </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/WithStyle/WithStyle.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/WithStyle/SmalltalkWithStyle.pdf">[ Smalltalk With Style ]</a> by Edward Klimas, Suzanne Skublics and David A. Thomas. 
		ISBN: 0-13-165549-3, Publisher: Prentice Hall, Copyright: 1996. A great and 
		small book that everybody should read. Thanks Ed, Suzanne and Dave to give it for free. 
		Thanks Don for the OCR!
	   </p>
    </td>
  </tr>
  
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkV1.png" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalk.pdf">[ Inside Smalltalk 
       (Volume One) ]</a>  by LaLonde, Wilf R. and Pugh, John R., Prentice-Hall, 1990, ISBN 0-13-468414-1.
       Thanks Don for the OCR! 
	   </p>
    </td>
  </tr>
  
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkV2.png" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/InsideST/InsideSmalltalkII.pdf">[ Inside Smalltalk (Volume Two)],</a>  by LaLonde, Wilf R. and Pugh, John R., Prentice-Hall, 1990, ISBN 0-13-468414-1. Thanks Don for the OCR! </p>
    </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/LittleSmalltalk/littleST.jpeg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/LittleSmalltalk/ALittleSmalltalk.pdf">[ A Little Smalltalk ] </a> by Tim Budd, Addison-Wesley 1987.  
      <br>Many thanks to Tim Budd and his  publisher. Please have a look at <a href="http://www.aw.com/catalog/academic/discipline/1,4094,69948,00.html">http://www.aw.com/catalog/academic/discipline/1,4094,69948,00.html</a>. Thanks Don for the OCR!.
		</p>
    </td>
  </tr>
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Art/Art.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Art/artAdded174186187Final.pdf">[ The Art and Science of Smalltalk ]</a>  by Simon Lewis, Prentice-Hall 1995-1999.  
      <br>Many thanks to the original publishers of this book Prentice-Hall, the responsible of the HP series and Simon Lewis.</p>
    </td>
  </tr>
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/PracticalSmalltalk/practical.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/PracticalSmalltalk/PracticalSmalltalk.pdf">[ Practical Smalltalk: Using Smalltalk/V ]</a>  by Dan Shafer and Dean A. Ritz, Springer Verlag; (July 1991).  
      <br>Many thanks to the original publishers of this book Springer Verlag,  and Dan. Thanks</p>
    </td>
  </tr>
  
  
<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/HopkinsHoran/HopkinsHoran.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/HopkinsHoran/HopkinsHoran.pdf">[ Smalltalk An Introduction to Application Development using VisualWorks ]</a> Trevor Hopkins and Bernard Horan,  Pearson Education, 1995. The answers of the exercises are at ftp://st.cs.uiuc.edu/pub/Smalltalk/books/Book_Answers.tar.gz
      <br>Many thanks to the original publishers of this book,  Pearson Education,  for permission to distribute this work, and of course the authors! </p>
    </td>
  </tr>

<tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/STandOO/st-and-oo.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/STandOO/Smalltalk-and-OO.pdf"> [ Smalltalk and Object Orientation: an Introduction ] </a> Springer-Verlag, ISBN 3-540-76115-2, 1997.
</p>
      <br>This book provides a good survey of Smalltalk. Some information are now obsolete 
      but it is still worth reading. Enjoy it. Thanks John to support our request. We want to thank Springer Verlag Publishing
    for allowing us to give you this book for free.
    </td>
  </tr>
  
 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkVTutorial/emptyCover.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkVTutorial/SmalltalkVTutorial.pdf"> [ Smalltalk V Tutorial ]</a>
	   </p>
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Taste/taste.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Taste/"> [ The Taste of Smalltalk ] </a> Ted Kaehler and Dave Patterson, W W Norton Co.; ISBN: 0393955052; (May 1986).</p>
      This book is for collectors. The quotes are really excellent. 
      <br>All the chapters are ready (except chap.2 for now)
    Enjoy it. (Scanned ... by Stef, Alex, Gabriela, and Lukas).
    Thanks Ted.
    </td>
  </tr>

 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/emptyCover.gif" width="100"></td>
    <td>
     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Joy/">[ The Joy Of Smalltalk ]</a> Ivan
    Tomek (September 2000). 700 pages</p>
    Ivan wrote this book and he gave it to the community. It contains a lot of useful material. 
    Thanks again ivan and continue to write good books. 
    </td>
  </tr>
  
  
  
   <!--<tr>
    <td width="45%"><img src="FreeBooks/SmalltalkObjectAndDesign/SmalltalkObjectAndDesign.jpg" width=100></td>
    <td width="55%">
      <p><a href="http://books.iuniverse.com/viewbooks.asp?isbn=1583484906&page=fm1">Smalltalk,objects and design</a>
	  Liu, iUniverse books</p>
      
	  </font>
    </td>
  </tr>-->
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/BitsOfHistory/BitsOfHistory.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/BitsOfHistory/"> [ Smalltalk-80, Bits of History, Words of Advice] </a> By Glen Krasner, Editor
ISBN 0-201-11669-3. 344 pp. 1983</p>
      This book is for collectors. Thanks Glenn.
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/BlueBook/blueBook.jpg" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/BlueBook/">[ Smalltalk-80: The Language and its Implementation ]</a>
	By Adele Goldberg and DavidRobson; 		Xerox Palo Alto Research Center
	ISBN 0-201-11371-6. 344 pp. 1983</p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/TheInteractiveProgrammingEnv/TheInteractiveProgrammingEnv.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/TheInteractiveProgrammingEnv/TheInteractiveProgrammingEnv.pdf">[ Smalltalk-80, The Interactive Programming Environment ]</a> By Adele Goldberg 
ISBN  0201113724. 560 pp. 1983</p> This book is for collectors. Thanks Adele. Thanks Don for the OCR!
    </td>
  </tr>
  
 <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/CollectiveNBlueBook/small-bluebook-cover.jpg" width="100"></td>
    <td>
    <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/CollectiveNBlueBook/">[ DRAFTS of Squeak, Open Personal Computing and Multimedia ]</a> Mirror of <a href="http://coweb.cc.gatech.edu/squeakbook/">http://coweb.cc.gatech.edu/squeakbook/</a> Edited by Mark Guzdial and Kim Rose. Prentice-Hall 2000.  It's available from Prentice-Hall.  </p>
    <br>
    </td>
  </tr>
  
  
   <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/GuzdialBookDrafts/mark1.jpg" width="100"></td>
    <td>
     <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/GuzdialBookDrafts/">[ DRAFS of Squeak: Open Personal Computing for Multimedia ]</a>
	 taken from <a href="http://www.cc.gatech.edu/~mark.guzdial/drafts/">http://www.cc.gatech.edu/~mark.guzdial/drafts/</a> 
	 Mark Guzdial, Prentice-Hall 2000. It's available from Prentice-Hall. </p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Syntax/BuchLogo.png" width="100"></td>
    <td>
      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/Syntax/Syntax.zip">[ (In German) Syntaxbasierte
      Programmierwerkzeuge ]</a> L. Schmitz, B.G. Teubner Stuttgart 1995.  
        1996.</p>
      <p>This book presents compilation techniques in german.
	 Lothar Schmitz is still developing a free visual compiler-compiler
	 (SIC and JACCIE).  <!-- <a
	 href="http://ist.unibw-muenchen.de/Research/Tools/SIC">http://ist.unibw-muenchen.de/Research/Tools/SIC</a> 
<a href="http://ist.unibw-muenchen.de/Research/Tools/JACCIE">http://ist.unibw-muenchen.de/Research/Tools/JACCIE</a> 
-->

</p>
    </td>
  </tr>

  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDE/emptyCover.gif" width="100"></td>
    <td>
      <p> <a href="http://sdmeta.gforge.inria.fr/FreeBooks/SmalltalkDE/smalltalkBuch.pdf">[ (In German) Smalltalk
      Einfuehrung in die objekt-orientierte Programmierung ]</a> Peter P. Bothner, Wolf-Michael Kaehler 1999.  
        1996.</p>
      <p>This book presents object-oriented programming in german with VisualWorks.  
<!-- <a href="http://e-books.zfn.uni-bremen.de/e-book-SMALLTALK.html</a>  
-->

</p>
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/emptyCover.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Swedish/">[  (In Swedish) Objektorienterad programmering i Smalltalk ]</a>
	  Bjoern Eiderbaeck, Per Haegglund, and Olle Baelter</p>
      <br>Thanks Bjoern Eiderbaeck.
	  
    </td>
  </tr>
  
  <tr>
    <td><img src="http://sdmeta.gforge.inria.fr/FreeBooks/Programando/Programando.gif" width="100"></td>
    <td>
      <p><a href="http://sdmeta.gforge.inria.fr/FreeBooks/Programando/ProgramandoConSmalltalk-BORRADORFINAL07-Febrero-2006.pdf">[ (In Spanish) Programando con Smalltalk ]</a>
	  Diego Gomez Deck</p>
      <br>Thanks Diego. This book is distributed under the Creative Commons license.
	  
    </td>
  </tr>
  
</tbody></div><p>
 I added some other material because they illustrate the philosophy behind Smalltalk.

 </p></div>]]>
            </description>
            <link>http://stephane.ducasse.free.fr/FreeBooks.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241561</guid>
            <pubDate>Sat, 22 Aug 2020 04:33:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debian Janitor: 60k Lintian Issues Automatically Fixed]]>
            </title>
            <description>
<![CDATA[
Score 145 | Comments 20 (<a href="https://news.ycombinator.com/item?id=24241549">thread link</a>) | @zdw
<br/>
August 21, 2020 | https://www.jelmer.uk/janitor-update-3.html | <a href="https://web.archive.org/web/*/https://www.jelmer.uk/janitor-update-3.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="layout">
    <div>
        <div>
            <section>
                
            </section>
            <p>The <a href="https://jelmer.uk/debian-janitor.html">Debian Janitor</a> is an automated
system that commits fixes for (minor) issues in Debian packages that can be
fixed by software. It gradually started proposing merges in early
December. The first set of changes sent out ran <a href="https://salsa.debian.org/jelmer/lintian-brush">lintian-brush</a> on sid packages maintained in
Git. This post is part of <a href="https://jelmer.uk/tag/janitor-update.html">a series</a> about the progress of the
Janitor.</p>
<div id="scheduling-lintian-fixes">
<h2>Scheduling Lintian Fixes</h2>
<p>To determine which packages to process, the  <a href="https://janitor.debian.net/">Janitor</a>  looks at the import of  <a href="https://lintian.debian.org/">lintian</a>  output across the archive that is available
in  <a href="https://wiki.debian.org/UltimateDebianDatabase/">UDD</a> <a href="#f1" id="id1">[1]</a>. It
will prioritize those packages with the most and more severe issues that it has
fixers for.</p>
<p>Once a package is selected, it will clone the packaging repository and run
<a href="https://manpages.debian.org/testing/lintian-brush/lintian-brush.1.en.html">lintian-brush</a>
on it.  Lintian-brush provides a framework for applying a set of ‚Äúfixers‚Äù to a
package. It will run each of a set of ‚Äúfixers‚Äù in a pristine version of the
repository, and handles most of the heavy lifting.</p>
</div>
<div id="the-inner-workings-of-a-fixer">
<h2>The Inner Workings of a Fixer</h2>
<p>Each fixer is just an executable which gets run in a clean
checkout of the package, and can make changes there. Most
of the fixers are written in Python or shell, but they
can be in any language.</p>
<p>The contract for fixers is pretty simple:</p>
<ul>
<li>If the fixer exits with non-zero, the changes are reverted and fixer is
considered to have failed</li>
<li>If exits with zero and made changes, then it should write a summary of its
changes to standard out</li>
</ul>
<p>If a fixer is uncertain about the changes it has made, it should report so on
standard output using a pseudo-header.  By default, lintian-brush will discard
any changes with uncertainty but if you are running it locally you can still
apply them by specifying <tt><span>--uncertain</span></tt>.</p>
<p>The summary message on standard out will be used for the commit message and
(possibly) the changelog message, if the package doesn‚Äôt use gbp dch.</p>
</div>
<div id="example-fixer">
<h2>Example Fixer</h2>
<p>Let‚Äôs look at an example. The package priority ‚Äúextra‚Äù is deprecated since
Debian Policy 4.0.1 (released August 2 017) ‚Äì see
<a href="https://www.debian.org/doc/debian-policy/ch-archive.html#priorities">Policy 2.5 "Priorities"</a>.
Instead, most packages should use the ‚Äúoptional‚Äù priority.</p>
<p>Lintian will warn when a package uses the deprecated ‚Äúextra‚Äù value for the
‚ÄúPriority‚Äù  - the associated tag is
<a href="https://lintian.debian.org/tags/priority-extra-is-replaced-by-priority-optional.html">priority-extra-is-replaced-by-priority-optional</a>.
Lintian-brush has a fixer script that can automatically replace ‚Äúextra‚Äù with
‚Äúoptional‚Äù.</p>
<p>On systems that have lintian-brush installed, the source for the fixer lives in
<a href="https://salsa.debian.org/jelmer/lintian-brush/-/blob/master/fixers/priority-extra-is-replaced-by-priority-optional.py">/usr/share/lintian-brush/fixers/priority-extra-is-replaced-by-priority-optional.py</a>,
but here is a copy of it for reference:</p>
<table><tbody><tr><td><div><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td><div><pre><span></span><span>#!/usr/bin/python3</span>

<span>from</span> <span>debmutate.control</span> <span>import</span> <span>ControlEditor</span>
<span>from</span> <span>lintian_brush.fixer</span> <span>import</span> <span>report_result</span><span>,</span> <span>fixed_lintian_tag</span>

<span>with</span> <span>ControlEditor</span><span>()</span> <span>as</span> <span>updater</span><span>:</span>
    <span>for</span> <span>para</span> <span>in</span> <span>updater</span><span>.</span><span>paragraphs</span><span>:</span>
        <span>if</span> <span>para</span><span>.</span><span>get</span><span>(</span><span>"Priority"</span><span>)</span> <span>==</span> <span>"extra"</span><span>:</span>
            <span>para</span><span>[</span><span>"Priority"</span><span>]</span> <span>=</span> <span>"optional"</span>
            <span>fixed_lintian_tag</span><span>(</span>
                <span>para</span><span>,</span> <span>'priority-extra-is-replaced-by-priority-optional'</span><span>)</span>

<span>report_result</span><span>(</span><span>"Change priority extra to priority optional."</span><span>)</span>
</pre></div>
</td></tr></tbody></table><p>This fixer is written in Python and uses the  <a href="https://salsa.debian.org/jelmer/debmutate">debmutate</a>  library to easily modify
control files while preserving formatting ‚Äî or back out if it is not possible
to preserve formatting.</p>
<p>All the current fixers come with tests, e.g. for this particular fixer the
tests can be found here:
<a href="https://salsa.debian.org/jelmer/lintian-brush/-/tree/master/tests/priority-extra-is-replaced-by-priority-optional">https://salsa.debian.org/jelmer/lintian-brush/-/tree/master/tests/priority-extra-is-replaced-by-priority-optional</a>.</p>
<p>For more details on writing new fixers, see the  <a href="https://salsa.debian.org/jelmer/lintian-brush#writing-new-fixers">README</a>  for
lintian-brush.</p>
<p>For more details on debugging them, see the  <a href="https://manpages.debian.org/unstable/lintian-brush/lintian-brush.1.en.html">manual page</a>.</p>
</div>


            

            

            
            <p><a href="#">Go Top</a></p>        </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.jelmer.uk/janitor-update-3.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241549</guid>
            <pubDate>Sat, 22 Aug 2020 04:30:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How NAT Traversal Works]]>
            </title>
            <description>
<![CDATA[
Score 148 | Comments 28 (<a href="https://news.ycombinator.com/item?id=24241105">thread link</a>) | @signa11
<br/>
August 21, 2020 | https://tailscale.com/blog/how-nat-traversal-works/ | <a href="https://web.archive.org/web/*/https://tailscale.com/blog/how-nat-traversal-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<p>We covered a lot of ground in our post about <a href="https://tailscale.com/blog/how-tailscale-works/"><em>How Tailscale
Works</em></a>.  However, we glossed over how we can get through NATs
(Network Address Translators) and connect your devices directly to
each other, no matter what‚Äôs standing between them. Let‚Äôs talk about
that now!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-intro.png">
    
    
</figure>

<p>Let‚Äôs start with a simple problem: establishing a peer-to-peer
connection between two machines. In Tailscale‚Äôs case, we want to set
up a WireGuard¬Æ tunnel, but that doesn‚Äôt really matter. The
techniques we use are widely applicable and the work of many people
over decades. For example, <a href="https://webrtc.org/">WebRTC</a> uses this bag of tricks to
send peer-to-peer audio, video and data between web browsers. VoIP
phones and some video games use similar techniques, though not always
successfully.</p>
<p>We‚Äôll be discussing these techniques generically, using Tailscale and
others for examples where appropriate. Let‚Äôs say you‚Äôre making your
own protocol and that you want NAT traversal. You need two things.</p>
<p>First, the protocol should be based on UDP. You <em>can</em> do NAT traversal
with TCP, but it adds another layer of complexity to an already quite
complex problem, and may even require kernel customizations depending
on how deep you want to go. We‚Äôre going to focus on UDP for the rest
of this article.</p>
<p>If you‚Äôre reaching for TCP because you want a stream-oriented
connection when the NAT traversal is done, consider using QUIC
instead. It builds on top of UDP, so we can focus on UDP for NAT
traversal and still have a nice stream protocol at the end.</p>
<p>Second, you need direct control over the network socket that‚Äôs sending
and receiving network packets. As a rule, you can‚Äôt take an existing
network library and make it traverse NATs, because you have to send
and receive extra packets that aren‚Äôt part of the ‚Äúmain‚Äù protocol
you‚Äôre trying to speak. Some protocols tightly integrate the NAT
traversal with the rest (e.g. WebRTC). But if you‚Äôre building your
own, it‚Äôs helpful to think of NAT traversal as a separate entity that
shares a socket with your main protocol. Both run in parallel, one
enabling the other.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-deep-integration.png">
    
    
</figure>

<p>Direct socket access may be tough depending on your situation. One
workaround is to run a local proxy. Your protocol speaks to this
proxy, and the proxy does both NAT traversal and relaying of your
packets to the peer. This layer of indirection lets you benefit from
NAT traversal without altering your original program.</p>
<p>With prerequisites out of the way, let‚Äôs go through NAT traversal from
first principles. Our goal is to get UDP packets flowing
bidirectionally between two devices, so that our other protocol
(WireGuard, QUIC, WebRTC, ‚Ä¶) can do something cool. There are two
obstacles to having this Just Work: stateful firewalls and NAT
devices.</p>
<h3 id="figuring-out-firewalls">Figuring out firewalls</h3>
<p>Stateful firewalls are the simpler of our two problems. In fact, most
NAT devices include a stateful firewall, so we need to solve this
subset before we can tackle NATs.</p>
<p>There are many incarnations to consider. Some you might recognize are
the Windows Defender firewall, Ubuntu‚Äôs ufw (using iptables/nftables),
BSD‚Äôs pf (also used by macOS) and AWS‚Äôs Security Groups. They‚Äôre all
very configurable, but the most common configuration allows all
‚Äúoutbound‚Äù connections and blocks all ‚Äúinbound‚Äù connections. There
might be a few handpicked exceptions, such as allowing inbound SSH.</p>
<p>But connections and ‚Äúdirection‚Äù are a figment of the protocol
designer‚Äôs imagination. On the wire, every connection ends up being
bidirectional; it‚Äôs all individual packets flying back and forth. How
does the firewall know what‚Äôs inbound and what‚Äôs outbound?</p>
<p>That‚Äôs where the stateful part comes in. Stateful firewalls remember
what packets they‚Äôve seen in the past and can use that knowledge when
deciding what to do with new packets that show up.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-1a.png">
    
    
</figure>

<p>For UDP, the rule is very simple: the firewall allows an inbound UDP
packet if it previously saw a matching outbound packet. For example,
if our laptop firewall sees a UDP packet leaving the laptop from
<code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, it‚Äôll make a note that incoming
packets from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code> are also fine. The
trusted side of the world clearly intended to communicate with
<code>7.7.7.7:5678</code>, so we should let them talk back.</p>
<p>(As an aside, some <em>very</em> relaxed firewalls might allow traffic from
anywhere back to <code>2.2.2.2:1234</code> once <code>2.2.2.2:1234</code> has communicated
with anyone. Such firewalls make our traversal job easier, but are
increasingly rare.)</p>
<h4 id="firewall-face-off">Firewall face-off</h4>
<p>This rule for UDP traffic is only a minor problem for us, as long as
all the firewalls on the path are ‚Äúfacing‚Äù the same way. That‚Äôs
usually the case when you‚Äôre communicating with a server on the
internet. Our only constraint is that the machine that‚Äôs <em>behind</em> the
firewall(s) must be the one initiating all connections. Nothing can
talk to it, unless it talks first.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-2.png">
    
    
</figure>

<p>This is fine, but not very interesting: we‚Äôve reinvented client/server
communication, where the server makes itself easily reachable to
clients. In the VPN world, this leads to a hub-and-spoke topology: the
hub has no firewalls blocking access to it and the firewalled spokes
connect to the hub.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-3.png">
    
    
</figure>

<p>The problems start when two of our ‚Äúclients‚Äù want to talk
directly. Now the firewalls are facing each other. According to the
rule we established above, this means both sides must go first, but
also that neither can go first, because the other side has to go
first!</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-4.png">
    
    
</figure>

<p>How do we get around this? One way would be to require users to
reconfigure one or both of the firewalls to ‚Äúopen a port‚Äù and allow
the other machine‚Äôs traffic. This is not very user friendly. It also
doesn‚Äôt scale to mesh networks like Tailscale, in which we expect the
peers to be moving around the internet with some regularity. And, of
course, in many cases you don‚Äôt have control over the firewalls: you
can‚Äôt reconfigure the router in your favorite coffee shop, or at the
airport. (At least, hopefully not!)</p>
<p>We need another option. One that doesn‚Äôt involve reconfiguring
firewalls.</p>
<h4 id="finessing-finicky-firewalls">Finessing finicky firewalls</h4>
<p>The trick is to carefully read the rule we established for our
stateful firewalls. For UDP, the rule is: <strong>packets must flow out
before packets can flow back in.</strong></p>
<p>However, nothing says the packets must be <em>related</em> to each other
beyond the IPs and ports lining up correctly. As long as <em>some</em> packet
flowed outwards with the right source and destination, any packet that
<em>looks like</em> a response will be allowed back in, even if the other
side never received your packet!</p>
<p>So, to traverse these multiple stateful firewalls, we need to share
some information to get underway: the peers have to know in advance
the <code>ip:port</code> their counterpart is using. One approach is to
statically configure each peer by hand, but this approach doesn‚Äôt
scale very far. To move beyond that, we built a <a href="https://tailscale.com/blog/how-tailscale-works/#the-control-plane-key-exchange-and-coordination">coordination
server</a> to keep the <code>ip:port</code> information synchronized in a
flexible, secure manner.</p>
<p>Then, the peers start sending UDP packets to each other. They must
expect some of these packets to get lost, so they can‚Äôt carry any
precious information unless you‚Äôre prepared to retransmit them. This
is generally true of UDP, but especially true here. We‚Äôre <em>going</em> to
lose some packets in this process.</p>
<p>Our laptop and workstation are now listening on fixed ports, so that
they both know exactly what <code>ip:port</code> to talk to. Let‚Äôs take a look at
what happens.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5a.png">
    
    
</figure>

<p>The laptop‚Äôs first packet, from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, goes
through the Windows Defender firewall and out to the internet. The
corporate firewall on the other end blocks the packet, since it has no
record of <code>7.7.7.7:5678</code> ever talking to <code>2.2.2.2:1234</code>. However,
Windows Defender now remembers that it should expect and allow
responses from <code>7.7.7.7:5678</code> to <code>2.2.2.2:1234</code>.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5b.png">
    
    
</figure>

<p>Next, the workstation‚Äôs first packet from <code>7.7.7.7:5678</code> to
<code>2.2.2.2:1234</code> goes through the corporate firewall and across the
internet. When it arrives at the laptop, Windows Defender thinks ‚Äúah,
a response to that outbound request I saw‚Äù, and lets the packet
through! Additionally, the corporate firewall now remembers that it
should expect responses from <code>2.2.2.2:1234</code> to <code>7.7.7.7:5678</code>, and
that those packets are also okay.</p>
<p>Encouraged by the receipt of a packet from the workstation, the laptop
sends another packet back. It goes through the Windows Defender
firewall, through the corporate firewall (because it‚Äôs a ‚Äúresponse‚Äù to
a previously sent packet), and arrives at the workstation.</p>
<figure>
    
        <img src="https://tailscale.com/blog/how-nat-traversal-works/nat-firewalls-5c.png">
    
    
</figure>

<p>Success! We‚Äôve established two-way communication through a pair of
firewalls that, at first glance, would have prevented it.</p>
<h4 id="creative-connectivity-caveats">Creative connectivity caveats</h4>
<p>It‚Äôs not always so easy. We‚Äôre relying on some indirect influence over
third-party systems, which requires careful handling. What do we need
to keep in mind when managing firewall-traversing connections?</p>
<p>Both endpoints must attempt communication at roughly the same time, so
that all the intermediate firewalls open up while both peers are still
around. One approach is to have the peers retry continuously, but this
is wasteful. Wouldn‚Äôt it be better if both peers knew to start
establishing a connection at the same time?</p>
<p>This may sound a little recursive: to communicate, first you need to
be able to communicate. However, this preexisting ‚Äúside channel‚Äù
doesn‚Äôt need to be very fancy: it can have a few seconds of latency,
and only needs to deliver a few thousand bytes in total, so a tiny VM
can easily be a matchmaker for thousands of machines.</p>
<p>In the distant past, I used XMPP chat messages as the side channel,
with great results. As another example, WebRTC requires you to come up
with your own ‚Äúsignalling channel‚Äù (a name that reveals WebRTC‚Äôs IP
telephony ancestry), and plug it into the WebRTC APIs. In Tailscale,
our coordination server and fleet of DERP (Detour Encrypted Routing
Protocol) servers act as ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tailscale.com/blog/how-nat-traversal-works/">https://tailscale.com/blog/how-nat-traversal-works/</a></em></p>]]>
            </description>
            <link>https://tailscale.com/blog/how-nat-traversal-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24241105</guid>
            <pubDate>Sat, 22 Aug 2020 02:36:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Gentle Introduction to Zero-Knowledge Proofs with Hands-On Examples]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24240915">thread link</a>) | @mariorz
<br/>
August 21, 2020 | https://dochdoch.gitlab.io/snark_intro/snark_intro_front/ | <a href="https://web.archive.org/web/*/https://dochdoch.gitlab.io/snark_intro/snark_intro_front/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://dochdoch.gitlab.io/snark_intro/snark_intro_front/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240915</guid>
            <pubDate>Sat, 22 Aug 2020 01:53:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bread, How Did They Make It? Part IV: Markets, Merchants and the Tax Man]]>
            </title>
            <description>
<![CDATA[
Score 110 | Comments 12 (<a href="https://news.ycombinator.com/item?id=24240677">thread link</a>) | @Kednicma
<br/>
August 21, 2020 | https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>As the fourth and final part (<a href="https://acoup.blog/2020/07/24/collections-bread-how-did-they-make-it-part-i-farmers/">I</a>, <a href="https://acoup.blog/2020/07/31/collections-bread-how-did-they-make-it-part-ii-big-farms/">II</a>, <a href="https://acoup.blog/2020/08/06/collections-bread-how-did-they-make-it-part-iii-actually-farming/">III</a>) of our look at the basic structure of food production in the pre-modern world (particularly farming grain to make bread), this week we‚Äôre going to look at how at least some of the delicious food we made in the last post might make its way into the hands of people who are <em>not</em> <a href="https://acoup.blog/2020/07/24/collections-bread-how-did-they-make-it-part-i-farmers/">farmers </a>or even<a href="https://acoup.blog/2020/07/31/collections-bread-how-did-they-make-it-part-ii-big-farms/"> farm owners</a>.</p>



<p>In the previous three posts, I have mostly just used the magic word ‚Äòmarkets‚Äô to describe how the food produced in the countryside gets to the cities and people who are not farmers.  As we‚Äôll see in this post, that is a bit of an oversimplifying fib, both in that the phrase ‚Äòmarkets‚Äô covers a <em>lot </em>of complexity, but also (as we‚Äôll see) some of the major drivers of moving that food from the countryside into towns doesn‚Äôt involve money <em>or</em> market interactions.  That said, we‚Äôre going to <em>start</em> with market transactions, because while they are actually the minority-type in many of these societies, they are more readily familiar and understandable, I suspect, to modern readers.  Then we‚Äôll move to <em>extraction</em> as the other category.</p>



<p>Speaking of extraction, as always, if you like what you are reading here, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreo</a>n. And if you want updates whenever a new post appears, you can click the button below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts, as well as my occasional ancient history, foreign policy or pop-culture thoughts.</p>






<h2>Point of Sale</h2>



<p>I want to start by leaning on (with small modifications for clarity) Paul Erdkamp‚Äôs taxonomy of the various options by which food might get into the stream of commerce.  A small farmer might sell their grain (I) directly to city-dwellers, (II) indirectly, via urban middlemen and grain merchants, either in the market or (III) ‚Äòat the gate‚Äô (meaning selling to merchants who come out to the farm in order to buy; the difference being who transports the food to the city), (IV) to itinerant traders at periodic rural markets or (V) to other local small farmers.  As we‚Äôll see, <em>large </em>landholders have a <em>somewhat</em> larger range of options within this taxonomy, but the fundamentals are the same.</p>



<p>While all of these sale methods certainly happened, in every society I have looked at, Option I ‚Äì selling directly to city-dwellers ‚Äì is fairly rare for grains and other bulk agricultural goods.  Market <em>gardeners</em>, selling fruits, vegetables (and sometimes flowers) often do sell this way, maintaining a high-intensity garden near town and a shop or stall in the town market.  Likewise, while Option V ‚Äì small-scale trade between farmers ‚Äì absolutely happens, it is typically non-monetary: the banqueting of neighbors discussed in the first post.  Where it is monetary, it is typically quite small scale and very short distance.  By and large, small and mid-sized farmers hadn‚Äôt the time, expertise or infrastructure to sell their goods directly.  They needed to be farming, not manning a market stall or trying to figure out how to store their goods close to the point of sale.  And of course large landowners, being rich, aren‚Äôt going to stand in the market square either (and in many cases don‚Äôt want their obvious representative doing so either,  see below).  So while I and V happen, they‚Äôre not too common or too large a portion of total trade and we may lay them aside for this discussion.</p>



<p>That leaves Options II, III and IV, all of which involve selling grain to a middle-man merchant of some sort.  The main difference is the location of sale (in town, at the gate, or at periodic rural markets).  Outside of large cities and major ports, markets were likely to be <em>periodic</em>, occurring only on certain days (typically around once per week).  In Roman Italy, these were the <em>nundinae</em> (‚Äòninth days,‚Äô although it was an 8-day cycle as the Romans count inclusively); the <em>nundinae</em> were minor festivals, days of rest and merrymaking, but they were also the days when the rural markets would be open ‚Äì the rest-day from agricultural labor enabled farmers to head into local towns to buy or sell whatever they needed (interestingly, at Rome, the <em>nundinae</em> were <em>dies nefasti</em> ‚Äì state business couldn‚Äôt generally be conducted on them ‚Äì so poor farmers hoping to use their day off to participate politically were out of luck).  Similar periodic markets are common in the Middle Ages (and even today; most ‚Äòfarmer‚Äôs markets‚Äô in the United States are periodic, <a href="http://www.carrborofarmersmarket.com/">including my town‚Äôs</a>).  The periodic nature of these markets is an adaptation to agricultural rhythms; for a market to function there need to be a lot of people together all at once and the small towns that dotted the countryside simply didn‚Äôt have the density to do that all of the time.</p>



<figure><img data-attachment-id="4249" data-permalink="https://acoup.blog/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg" data-orig-size="2325,663" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=2048 2048w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/08/fresco_from_the_house_of_julia_felix_pompeii_depicting_scenes_from_the_forum_market.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Merchant#/media/File:Fresco_from_the_House_of_Julia_Felix,_Pompeii_depicting_scenes_from_the_Forum_market.JPG">Via Wikipedia</a>, a fresco showing market activity, with merchants showing off wares of fabric (left) and goods in pots (center) from the House of Julia Felix at Pompeii, first century CE.  Please note: the importance of pottery in modern archaeology has given many students and the general public the idea that the ancients were always shipping pots around for sale, as if there was a vast market in pottery.  <strong>Generally, people were buying what was in the pot, not the pot itself</strong>.</figcaption></figure>



<p>But as noted, our farmers are unlikely to be selling their grain directly to customers.  Instead, they are likely to be using some sort of middle-man merchant, which brings us to:</p>



<h2>Merchants!</h2>



<p>Merchants are a bit of a break from the people we have so far discussed in that they, by definition, live in the realm of the <em>market</em> (in the economic sense, although often also in a physical sense).  As we‚Äôve seen so much of the world of our farmers and even our millers and bakers was governed by <em>non-market</em> interactions: horizontal and vertical social ties that carried expectations that weren‚Äôt quite transactional and certainly not monetized.  By contrast, merchants work with transactions and tend to be the <em>first</em> group in any society to attempt to monetize their operations once money becomes available.  I find students are often quick to feel identity with the merchant class, because these folks are more likely to travel, more likely to use money, more likely to employ or be employed in wage-labor; they feel more like modern people.</p>



<p>It thus tends to come as something of a surprise that with <em>stunning</em> consistency, <strong>the merchant class tended to be at best cordially disliked and at worst <em>despised</em> by the broader community</strong> (although not typically to the point of suffering legal disability, as did some other jobs; see S. Bond, <em>Trade and Taboo: Disreputable Professions in the Roman Mediterranean</em> (2016) for this in Rome).  This often strikes students as strange, both because we tend to think rather better of our own modern merchants but also because the image they have of the merchant class certainly looks elite.</p>



<figure><img data-attachment-id="4257" data-permalink="https://acoup.blog/britlibaddms35166apocalypseunkfolio3sealblackhorse/" data-orig-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg" data-orig-size="1134,766" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="britlibaddms35166apocalypseunkfolio3sealblackhorse" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg?w=768 768w, https://acoupdotblog.files.wordpress.com/2020/08/britlibaddms35166apocalypseunkfolio3sealblackhorse.jpg 1134w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://en.wikipedia.org/wiki/Merchant#/media/File:BritLibAddMS35166ApocalypseUnkFolio3SealBlackHorse.jpg">Via Wikipedia</a>, a manuscript illustration showing the Horseman of Famine depicted as a grain merchant (from Revalations 6:5-6), holding the scales he would use to measure out grain.</figcaption></figure>



<p>For the farmers who need to sell their crops (for reasons we will get to in a moment) and purchase the things they need that they cannot produce, the merchant feels like an adversary: always pushing his prices to his best advantage.  We expect this, but remember that our pre-modern farmers are just <em>not that exposed to market interactions</em>; most of their relationships are reciprocal, not transactional ‚Äì the horizontal relationships we discussed before.  The merchant‚Äôs ‚Äòmoney-grubbing‚Äô feels like a betrayal of trust in a society where you banquet your neighbors in the good years so they‚Äôll help you in the bad years.  <strong>The necessary function of a merchant is to transgress the ‚Äòrules‚Äô of village interactions which ‚Äì and this <em>resounds</em> from the sources ‚Äì the farmers tend to understand as being ‚Äòcheated.‚Äô</strong></p>



<p>At the same time, <strong>while most merchant types are humble, the high-risk and potentially high-reward involved in trade meant that <em>some</em> merchants </strong>(again, a small number) <strong>could become <em>very</em> rich</strong>.  That, as you might imagine, <strong>did not go over well for the traditionally wealthy in these societies</strong>, the large landholders.  Again, the values here often strike modern readers as topsy-turvy compared to our own, but to the elite large landholders (who dominate the literary and political culture of their societies), the <em>morally correct</em> way to earn great wealth is to inherit it (or capture it in war).  The <em>morally correct</em> way to hold that wealth is with large landed estates.  Anything else is <em>morally</em> suspect, and so the idea that a successful merchant could ‚Äì by a process that again, strikes the large landholder, just like the small farmer, as ‚Äòcheating‚Äô ‚Äì leap-frog the social pyramid and skip to the top, without putting in the work at either having distinguished wealthy ancestors <em>or</em> tremendous military success was an open insult to elite values.  Often laws were put in place to limit the ability of wealthy non-aristocrats (likely merchants or successful artisans) from displaying their wealth (<a href="https://en.wikipedia.org/wiki/Sumptuary_law">sumptuary laws</a>) so as to keep them from competing with the aristocrats; at Rome, senators were forbidden from owning ships with much the same logic (Roman senators being clever, they still invested in trade through proxies while at the same time disapproving of the activity in public politics).</p>



<p>Such disdain appears, with varying justification, in the sources of every pre-modern agrarian society I‚Äôve studied, to one degree or another.  One commonplace of Greek and Roman thinking ‚Äì despite these being very active, maritime societies ‚Äì was that the first production of ships and the first sailing was in some essential way a profanation of the divine realm of the sea, a space humans ought not have ever ventured into ‚Äì and certainly not for anything as mean as profit (e.g. Euripides, <em>Medea</em> 1-6; Catullus. 64.1-20; Valerius Flaccus, <em>Argonautica</em> 627-632; Seneca, <em>Medea</em> 1-12; 301-379, <em>inter alia</em> ‚Äì thanks to my old grad school pals <a href="https://www.usf.edu/arts-sciences/departments/world-languages/about-us/hedrick.aspx">Buddy Hedrick</a> and <a href="http://gdrsd.org/gdrhs/faculty/michael-hoffman/">Michael Hoffman </a>for ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/">https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2020/08/21/collections-bread-how-did-they-make-it-part-iv-markets-and-non-farmers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240677</guid>
            <pubDate>Sat, 22 Aug 2020 01:04:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Help Turn the Tide on Climate Change]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24240431">thread link</a>) | @tempestn
<br/>
August 21, 2020 | https://projectvesta.org/crowdfunding/ | <a href="https://web.archive.org/web/*/https://projectvesta.org/crowdfunding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-elementor-type="wp-page" data-elementor-id="4416" data-elementor-settings="[]">
			<div>
				<div>
							<section data-id="f4b942a" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="90fc97b" data-element_type="column">
			<div>
					<div>
				<div data-id="9fb2e9b" data-element_type="widget" data-settings="{&quot;sticky_hide_on&quot;:[&quot;mobile&quot;],&quot;sticky_video_margin&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true},&quot;sticky_video_margin_tablet&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true},&quot;sticky_video_margin_mobile&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;top&quot;:&quot;&quot;,&quot;right&quot;:&quot;&quot;,&quot;bottom&quot;:&quot;&quot;,&quot;left&quot;:&quot;&quot;,&quot;isLinked&quot;:true}}" data-widget_type="uael-video.default">
				<div>
					<div data-stickybottom="" data-device="false" data-vsticky="yes" data-hidedesktop="" data-hidetablet="" data-hidemobile="mobile" data-vsticky-viewport="0" data-autoplay="0">
						<div>
				<div data-src="https://www.youtube.com/embed/X5m3an3f5S0?rel=0&amp;start&amp;end&amp;controls=1&amp;mute=0&amp;modestbranding=1&amp;autoplay=1">
					<p><img src="https://i.ytimg.com/vi/X5m3an3f5S0/maxresdefault.jpg"></p>
				</div>
									
											</div>
		</div>
				</div>
				</div>
				<section data-id="f01b556" data-element_type="section">
						
		</section>
						</div>
			</div>
		</div>
				<div data-id="92d8d9e" data-element_type="column">
			<div>
					<div>
				
				<div data-id="7011d65" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Help fund the pilot projects needed to take coastal enhanced weathering from the lab to the beach. Your contribution will make Project Vesta‚Äôs first pilot studies a reality, allowing us to demonstrate to the world the advantages and viability of the process. Our open-source models will advance the field and facilitate future deployments on much larger scales.</p>
				</div>
				</div>
				<section data-id="23275c8" data-element_type="section">
						<div>
				<div>
				
				<div data-id="c13b547" data-element_type="column">
			<div>
					<div>
				<div data-id="09f6d47" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>(total is updated weekly)</h2>		</p>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				
				<section data-id="e060fc3" data-element_type="section">
						
		</section>
				<div data-id="aa6c2be" data-element_type="widget" data-widget_type="wp-widget-yith_wc_donations_form.default">
				<div>
			<h5>Enter an amount or choose below</h5><div>
    
    <p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-admin/images/wpspin_light.gif" alt="loading" width="16" height="16"></p>
</div>
		</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="174a7e7" data-element_type="section" data-settings="{&quot;stretch_section&quot;:&quot;section-stretched&quot;}">
						<div>
				<div>
				<div data-id="2d184e7" data-element_type="column">
			<div>
					<div>
				<section data-id="2959877" data-element_type="section">
						<div>
				<div>
				<div data-id="20d0a7a" data-element_type="column">
			<div>
					<div>
				<div data-id="7478fd5" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Help Turn The Tide On Climate Change</h2>		</p>
				</div>
				<div data-id="bfec0fa" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>To avoid the worst effects of climate change, we need to remove massive quantities of harmful carbon dioxide from the atmosphere ‚Äì and soon.</p><p>At Project Vesta, we‚Äôre doing just that. We‚Äôre making green sand beaches which use natural wave energy to take carbon dioxide out of the air. We accelerate a natural process which has been capturing carbon dioxide in rocks for billions of years. There‚Äôs 30 years of scientific research showing that this works.</p><p>We‚Äôre making our cheap, permanent carbon dioxide removal process freely available so it can be used anywhere in the world.&nbsp;</p></div>
				</div>
				</div>
				<div data-id="0012585" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="960" height="294" src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-960x294.png" alt="" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-960x294.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-1400x429.png 1400w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-150x46.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-768x235.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-1536x471.png 1536w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal-600x184.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/olivine-weathering-acceelerated-with-rocks-on-tropical-beaches-for-co2-removal.png 1660w" sizes="(max-width: 960px) 100vw, 960px">											</p>
				</div>
				</div>
				<div data-id="cebc59a" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Inspired by Nature to Recreate Nature</h2>		</p>
				</div>
				<div data-id="fc76d0e" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>We‚Äôre a non-profit, raising $1.5M to fund two pilot sites where we‚Äôll take this technology out of the lab and onto the beach. One study is designed to demonstrate the effects of adding olivine to a new environment, which allows us to establish the safety profile of the technique, and the second is designed to measure and help us optimize how quickly we remove carbon dioxide from the atmosphere.</span></p>
<p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-960x873.png" alt="" width="960" height="873" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-960x873.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-150x136.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-768x698.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects-600x545.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/trl-pilot-projects.png 1297w" sizes="(max-width: 960px) 100vw, 960px"></p></div>
				</div>
				</div>
				<div data-id="7a07a27" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Help Fund Our Pilot Demonstration Project(s)</h2>		</p>
				</div>
				<div data-id="3119839" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>We‚Äôre a non-profit, raising $1.5M to fund two pilot sites where we‚Äôll take this technology out of the lab and onto the beach. One study is designed to demonstrate and establish the safety of the technique, and the second type of experiments will measure how quickly we remove carbon dioxide from the atmosphere in varying conditions. These two processes are the cornerstones that the will allow us to create a model that will enable us to quantify the carbon dioxide removal rate of the process.</span></p></div>
				</div>
				</div>
				<div data-id="3cb65f2" data-element_type="widget" data-widget_type="heading.default">
				<p>
			<h2>Road Map to Global Deployment</h2>		</p>
				</div>
				<div data-id="c6d59f8" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>These two studies form a key part of our roadmap, which is designed not only to prove that the process works, but also to create an open-source Coastal Enhanced Weathering Integrated Assessment Model (CEWIAM), which is will enable the deployment of additional projects and be available to all. This will mean this cheap, permanent method for carbon removal can be rolled out all over the world.</span></p><p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-960x390.png" alt="" width="960" height="390" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-960x390.png 960w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-1400x569.png 1400w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-150x61.png 150w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-768x312.png 768w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-1536x624.png 1536w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240-600x244.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2240.png 1936w" sizes="(max-width: 960px) 100vw, 960px"></p></div>
				</div>
				</div>
				
				<div data-id="5942986" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Your donation will fund materials, equipment, and research staff to make the pilot projects happen.</span></p><p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272.png" alt="" width="600" height="306" srcset="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272.png 600w, https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-content/uploads/Image-2272-150x77.png 150w" sizes="(max-width: 600px) 100vw, 600px"></p></div>
				</div>
				</div>
				
				<div data-id="5cd31b3" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><span>We need your help. Humanity needs your help. The planet needs your help. Your donation goes directly into the fight against climate change.</span></p>
				</div>
				</div>
						</div>
			</div>
		</div>
				<div data-id="f9a3a5e" data-element_type="column">
			<div>
					<div>
				<div data-id="a863521" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Grain of Hope					</h2>
				
									<div>
						<p><b>$25</b></p><p>Single grain of San Carlos olivine suspended in a sand timer vial, symbolizing the hope that olivine can stop time from running out for us to reverse global warming. </p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				
				<div data-id="da4c715" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Small Size Olivine					</h2>
				
									<div>
						<p><b>$100</b></p><p>A piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="88dc510" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Medium Size Olivine					</h2>
				
									<div>
						<p><b>$250</b></p><p>A medium-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="369676c" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Large Size Olivine					</h2>
				
									<div>
						<p><b>$500</b></p><p>A large-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="d850099" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Large Size Olivine					</h2>
				
									<div>
						<p><b>$500</b></p><p>A large-sized piece of beautiful olivine basalt from the San Carlos Apache Nation in Arizona					</p></div>
				
									
							</div>
						</div>
				</div>
				</div>
				<div data-id="8c01bb4" data-element_type="widget" data-widget_type="wp-widget-yith_wc_donations_form.default">
				<div>
			<h5>Donate Any Amount</h5><div>
    
    <p><img src="https://2bsktt48m93q1jv0hwys20fa-wpengine.netdna-ssl.com/wp-admin/images/wpspin_light.gif" alt="loading" width="16" height="16"></p>
</div>
		</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
				<section data-id="2c23ce7" data-element_type="section">
						
		</section>
						</div>
			</div>
		</div></div>]]>
            </description>
            <link>https://projectvesta.org/crowdfunding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24240431</guid>
            <pubDate>Sat, 22 Aug 2020 00:26:21 GMT</pubDate>
        </item>
    </channel>
</rss>
