<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 23 Dec 2020 12:50:28 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 23 Dec 2020 12:50:28 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Training a YOLOv3 Object Detection Model with a Custom Dataset]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493070">thread link</a>) | @jonbaer
<br/>
December 21, 2020 | https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>Following this guide, you only need to change a single line of code to train an <a href="https://models.roboflow.ai/object-detection">object detection model</a> on your own dataset.</em></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/chess-detection-longer.gif" alt=""><figcaption>In our guided example, we'll train a model to recognize chess pieces. (Full <a href="https://www.youtube.com/watch?v=XLispu-Yb_0">video</a>)</figcaption></figure><p><strong>Note</strong>: <a href="https://models.roboflow.ai/object-detection/yolov5">YOLOv5</a> was released recently. You may also want to consider visiting our post on <a href="https://blog.roboflow.com/training-yolov4-on-a-custom-dataset/">how to train YOLO v5 in PyTorch tutorial</a> as it gets much better results than YOLO v3.</p><p><a href="https://models.roboflow.ai/object-detection">Object detection models</a> are extremely powerful‚Äîfrom finding dogs in photos to <a href="https://arxiv.org/pdf/1702.05747.pdf">improving healthcare</a>, training computers to recognize which pixels constitute items unlocks near limitless potential. However, one of the biggest blockers keeping new applications from being built is adapting state-of-the-art, open source, and free resources to solve custom problems.</p><p>In this post, we‚Äôll walk through how to prepare a custom dataset for object detection using tools that simplify image management, architecture, and training. In each section, we‚Äôll first follow what I‚Äôve done for a specific example and and then detail what modifications you‚Äôll need to make for your custom dataset. My recommendation is that you follow along step-by-step to duplicate my process before adapting these steps to your problem.</p><p>Let‚Äôs start with a clear description of our process.</p><p>Any given machine learning problem begins with a well-formed problem statement, data collection and preparation, model training and improvement, and inference. Often, our process is not strictly linear. For instance, we may find our model performs very poorly on one type of image label, and we need to revisit collecting more data on that example.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/data-process.png" alt=""><figcaption><em>The general machine learning workflow.</em></figcaption></figure><hr><h2 id="problem-statement">Problem Statement</h2><p>Chess is a fun game of wit and strategy. Improving your playing ability requires understanding where you‚Äôve previously made notable mistakes and what move(s) a superior player to you may have made in the same situation. </p><p>Thus, having a system that recognizes the state of the game and records each move would be valuable. This requires not just determining what a given chess piece is, but where that piece is on the board‚Äîa leap from image recognition to object detection. For the purposes of this post, we will constrain the problem to focus on the object detection portion: <u>can we train a model to identify which chess piece is which and to which player (black or white) the pieces belong, and a model that finds at least half of the pieces in inference.</u></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/computer-vision-problems-1.png" alt=""><figcaption><em>Image Processing Problems, adapted from Stanford‚Äôs CS231N course</em></figcaption></figure><p><em>For your non-chess problem statement</em>, consider constraining the problem space to a specific piece. Moreover, consider the minimal acceptable criteria for the model‚Äôs performance. (In this example, we are constraining to just the identification of correct bounding boxes, and setting a relatively low bar for acceptable criteria. To be more rigorous, we may want to identify our model‚Äôs <a href="https://giou.stanford.edu/">IOU</a> or <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">mAP</a> - but that is for <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">a different post</a>.)</p><hr><h2 id="data-collection">Data Collection</h2><p>To identify chess pieces, we need to collect and annotate chess images.</p><p>I made a few assumptions in my data collection. First, all my images were captured from the same angle. I set up a tripod on the table near my chess board. For inference, this would require that my camera is at the same angle as the training data was captured ‚Äî and not all chess players may be setting up tripods before their games. Second, I created 12 different classes: one for each of the six pieces times the two colors.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/IMG_0167.JPG" alt=""><figcaption>An (unlabeled) image example from our dataset.</figcaption></figure><p>Ultimately, I collected 292 images. I labeled all the pieces in each of these images, totaling 2894 <a href="https://blog.roboflow.com/glossary/#:~:text=annotation">annotations</a>. This <a href="https://public.roboflow.ai/object-detection/chess-full">chess dataset</a> is publicly available on <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a>. For labelling, there are many high quality, free, and <a href="https://blog.roboflow.com/getting-started-with-labelimg-for-labeling-object-detection-data/">open source tools available like LabelImg</a>. I happened to use <a href="https://rectlabel.com/">RectLabel</a>, which is $3/month.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/rectLabel-example.png" alt=""><figcaption><em>An example image I labeled in RectLabel.</em></figcaption></figure><p><em>For your non-chess problem</em>, consider collecting images that are in-context of where your model will perform in production. This means ensuring you have a similar angles, lighting, quality, and objects in frame. The more situations your training set takes into account that your model may encounter in production, the better its performance will be. When labelling, it is best to draw bounding boxes that include the entirety of your objects, even if there‚Äôs a small amount of space between the object and the bounding box. Simply put, do not cut out any of the underlying object with your bounding boxes. If one piece blocks view (occludes) that of another, label as though you could see the full object (see the white-bishop and white-rook example above).</p><p>If you‚Äôre seeking already annotated images, consider <a href="https://public.roboflow.ai/object-detection">object detection datasets</a> on sites like <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a> which hosts a variety of free, high quality datasets.</p><hr><h2 id="data-preparation">Data Preparation</h2><p>Going straight from data collection to model training leads to suboptimal results. There may be problems with the data. Even if there aren‚Äôt, <a href="https://blog.roboflow.com/tag/augmentation/">applying image augmentation</a> expands your dataset and reduces overfitting.</p><p>Preparing images for object detection includes, but is not limited to:</p><ul><li>Verifying your annotations are correct (e.g. none of the annotations are out of frame in the images)</li><li><a href="https://blog.roboflow.com/exif-auto-orientation/">Ensuring the EXIF orientation of your images is correct</a> (i.e. your images are stored on disk differently than how you view them in applications, <a href="https://news.ycombinator.com/item?id=21207411">see more</a>)</li><li><a href="https://blog.roboflow.com/you-might-be-resizing-your-images-incorrectly/">Resizing images and updating image annotations to match</a> the newly sized images</li><li>Various color corrections that may improve model performance like <a href="https://blog.roboflow.com/when-to-use-grayscale-as-a-preprocessing-step/">grayscale</a> and <a href="https://blog.roboflow.com/when-to-use-contrast-as-a-preprocessing-step/">contrast adjustments</a></li><li>Formatting annotations to match the requirements of your model‚Äôs inputs (e.g. generating <a href="https://blog.roboflow.com/how-to-create-to-a-tfrecord-file-for-computer-vision/">TFRecords for TensorFlow</a> or a flat text file for some <a href="https://models.roboflow.ai/object-detection/yolov4">implementations of YOLO</a>).<br></li></ul><p>Similar to tabular data, cleaning and augmenting image data can improve your ultimate model‚Äôs performance more than architectural changes in your model.</p><p><a href="https://roboflow.ai/">Roboflow Organize</a> is purpose-built to seamlessly solve these challenges. In fact, Roboflow Organize cuts the code you need to write <a href="https://blog.roboflow.com/eliminating-boilerplate-code-with-roboflow-to-monitor-security-footage/">roughly in half</a> while giving you access to more <a href="https://blog.roboflow.com/tag/preprocessing/">preprocessing</a> and <a href="https://blog.roboflow.com/tag/augmentation/">augmentation</a> options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/tweet-loading-images.png" alt="Twitter Poll from Vicki Boykis (@vboykis): Learning PyTorch by doing a project. Which part am I stuck on so far? Winner: Loading image data (40.1%)"><figcaption><em>One of the biggest challenges with computer vision is simply adapting tutorials to your own dataset, not the complex modeling! (<a href="https://twitter.com/vboykis/status/1211109331489501184">Source</a>)</em></figcaption></figure><p>For our specific chess problem, our already <a href="https://public.roboflow.ai/object-detection/chess-full">preprocessed chess data is available on Roboflow.</a></p><p>We‚Äôll be working with the Download version titled, ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù.</p><p>In the case of our tutorial, we‚Äôre using 416x416 images because (1) we want smaller images than the originally captured 2284‚Ää√ó‚Ää1529 dimensions for faster training and (2) for <a href="https://models.roboflow.ai/object-detection/yolo-v3-pytorch">YOLOv3</a>, multiples of 32 are most performant for its architecture.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/public-chess-dataset-416x416.png" alt="Roboflow screenshot showing annotated chess images and pre-processing steps."><figcaption>Note in this export, our preprocessing includes "Auto-Orient" and "Resize."</figcaption></figure><p>Our images also have had ‚Äú<a href="https://blog.roboflow.com/exif-auto-orientation/">auto-orient</a>‚Äù applied to them, a Roboflow preprocessing step that <a href="https://blog.roboflow.com/exif-auto-orientation/">strips the EXIF data of unintuitive orientations</a>. Auto-orient is important because images are sometimes stored on disk in different orientations than the applications we use to view them. If left uncorrected, this can cause silent failures in our models (see a discussion on HackerNews <a href="https://news.ycombinator.com/item?id=21207411">here</a>). At <a href="https://roboflow.ai/">Roboflow</a>, we often default leave this option on.</p><p>To download this dataset, select ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù. Then, in the upper righthand corner, select ‚ÄúDownload.‚Äù You‚Äôll be prompted to create a free account, and redirected back to the <a href="https://public.roboflow.ai/object-detection/chess-full">chess public dataset page</a>.</p><p>Now, <a href="https://roboflow.ai/">Roboflow</a> allows you to download your images and annotations in a variety of formats. You can also download them locally to your computer, or have Roboflow generate a code snippet you can use to download them directly to a Jupyter Notebook (including Colab) or Python script.</p><p>For our problem, we‚Äôll be using a <a href="https://models.roboflow.ai/object-detection/yolov3-keras">Keras YOLOv3 implementation</a> that calls for a flat text file of annotations. We‚Äôll also be making use of Google Colab for training, so select the ‚Äúshow download code‚Äù in the export options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/show-download.png" alt="Roboflow screenshot: Download Dataset dialog (YOLO v3 Keras)"><figcaption>These are the options you'll select for your Download format.</figcaption></figure><figure><img src="https://blog.roboflow.com/content/images/2020/01/code-snippt.png" alt="Roboflow Screenshot: Download Dataset, showing Jupyter notebook curl links."><figcaption>Roboflow generates a code snippet you can drop directly into a Jupyter Notebook, including Colab. Be sure you never share your Roboflow keys publicly!</figcaption></figure><p><em>For your non-chess problem</em>, you can <a href="https://app.roboflow.ai/">create a free Roboflow account</a>, upload images, preprocess, augment, and export them to any annotation format your model may require. To do so, follow our <a href="https://blog.roboflow.com/getting-started-with-roboflow/">Quick Start</a>.</p><hr><h2 id="model-training">Model Training</h2><p>The model architecture we‚Äôll use is called <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLOv3</a>, or You Only Look Once, <a href="https://arxiv.org/abs/1804.02767">by Joseph Redmon</a>. This specific model is a one-shot learner, meaning each image only passes through the network once to make a prediction, which allows the architecture to be very performant, viewing up to 60 frames per second in predicting against video feeds. Fundamentally, <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO is a convolutional neural network (CNN)</a> that divides an image into subcomponents, and conducts convolutions on each of those subcomponents before pooling back to create a prediction. A recommended deeper dive on <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO</a> is available <a href="https://blog.roboflow.ai/a-thorough-breakdown-of-yolov4/">here</a>.</p><p>Now, even though we‚Äôre training our model on a custom dataset, it is still advantageous to use another already trained model‚Äôs weights as a starting point. Think of this like we want to climb a mountain as quickly as possible, and instead of starting completely from scratch in creating our own trail, we‚Äôll start with assuming that someone else‚Äôs trail is a better faster than us randomly trying to guess twists and turns to follow.</p><p>To power our model‚Äôs computation, we‚Äôll be using Google Colab, which provides free GPU compute resources (up to 24 hours with your browser open).</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/training-loss.png" alt="Google Colab Screenshot: loss over time (171/500 epochs, 15s 2s/step - loss: 75.3233, val_loss - 63.4790)"><figcaption>As validation loss drops, our model is improving.</figcaption></figure><p>In our notebook, we are predominantly doing six things:</p><ol><li>Selecting up our environment, model architecture, and pre-fit weights (someone else‚Äôs ‚Äútrail‚Äù)</li><li>Loading in our data via the Roboflow code snippet shared above</li><li>Determining our model configuration, like how many epochs to train, training batch sizes, the size of our training vs test set, and our learning rate</li><li>Initiating training (...and waiting!)</li><li>Using our trained model for inference (predictions!)</li><li>(Optional bonus) Save our newly trained weights to our Google Drive so we can ‚Ä¶</li></ol></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493070</guid>
            <pubDate>Mon, 21 Dec 2020 08:19:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cog-UK update on SARS-CoV-2 Spike mutations of special interest [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492659">thread link</a>) | @cft
<br/>
December 20, 2020 | https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf | <a href="https://web.archive.org/web/*/https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492659</guid>
            <pubDate>Mon, 21 Dec 2020 06:47:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Do Interesting Work]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492561">thread link</a>) | @eliotpeper
<br/>
December 20, 2020 | https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html | <a href="https://web.archive.org/web/*/https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3023080801982171274" itemprop="articleBody">
<p>If you want to do interesting work, a great starting point is to work on things you find interesting. Instead of trying to optimize for what you think others are likely to find interesting‚Äîchasing the market is a Sisyphean task‚Äîjust keep digging deeper into what <i>you</i>&nbsp;find interesting.</p><p>That way, making your work interesting to others is simply a matter of sharing your enthusiasm. I took a geology class my freshman year of college. It‚Äôs easy to imagine how boring a class about rocks could be. But my professor <i>loved</i>&nbsp;rocks. She had contributed to the discovery of plate tectonics. She took us up into the mountains and showed us how you could decode geological layers laid bare by erosion to reveal the violence and wonder of how the Earth took shape. She could forge a path through the entire universe starting from a single grain of sand. Another professor could have taught the same curriculum to no effect. My professor‚Äôs love for the material brought it to life. She used her enthusiasm to ignite our curiosity.</p><p>But working on things you find interesting is not sufficient to make your work interesting to other people. We‚Äôve all been bored to death by experts who speak in impenetrable acronyms or super-fans who get lost in their own rabbit holes. Their individual interest in the material may be genuine, but it isn‚Äôt contagious because they lack empathy. You (probably) wouldn‚Äôt tell a dirty joke to your grandmother in the same way you‚Äôd tell it to your best friend. Empathy is meeting people where they are so you can take them someplace new. That‚Äôs why rock stars shout out the name of the city they happen to be performing in. Despite her academic fame and scientific expertise, my geology professor didn‚Äôt get stuck in solipsistic obsession. Instead, she <i>used</i>&nbsp;her enthusiasm as a tool to inspire her students, to pry open new worlds for us. As a result, we found her work tremendously interesting.</p><p>So doing interesting work doesn‚Äôt require guessing what others might like or a benevolent hiring manager offering you your dream job. Doing interesting work requires working on things you find interesting, and then cultivating sufficient empathy to find effective ways to share your enthusiasm with the right people. Empathy is the catalyst that makes curiosity contagious. You‚Äôll know you‚Äôre doing it right when the people you seek to reach find your work at least as interesting as you do.</p><p>*</p><p>Complement with <a href="https://www.eliotpeper.com/2020/12/quantity-is-route-to-quality-not-its.html">Quantity is a route to quality, not its opposite</a>, <a href="https://www.eliotpeper.com/2020/10/lasting-value.html">Lasting value</a>, and <a href="https://www.eliotpeper.com/2020/07/creativity-is-choice.html">Creativity is a choice.</a></p><p><b>Get new posts delivered straight to your inbox:</b></p><!--Begin MailChimp Signup Form-->




<p><a href="https://www.eliotpeper.com/p/about.html">Eliot Peper</a>&nbsp;is the author of <a href="https://www.eliotpeper.com/p/blog-page.html">nine novels</a>, including <i><a href="https://www.amazon.com/gp/product/B01E4L5L6S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01E4L5L6S&amp;linkId=cabf238d0378965558ee1c5666331431">Cumulus</a></i>, <i><a href="https://www.amazon.com/gp/product/B075CLV95J/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B075CLV95J&amp;linkId=56525ceda172bdcc3306737eea07155b">Bandwidth</a></i>, and, most recently, <i><a href="https://www.amazon.com/gp/product/B085PSTJNC/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B085PSTJNC&amp;linkId=53ae2de44bd14f1b5b598c595ba676b0">Veil</a></i>. He sends <a href="https://www.eliotpeper.com/p/inner-circle.html">a monthly newsletter</a>&nbsp;documenting his journey as a reader and writer, <a href="https://twitter.com/eliotpeper" target="_blank">tweets</a> more than he probably should,&nbsp;and lives in Oakland, CA.</p>
</div></div>]]>
            </description>
            <link>https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492561</guid>
            <pubDate>Mon, 21 Dec 2020 06:18:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Herald ‚Äì Bluetooth contact tracing protocol]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25492423">thread link</a>) | @npad
<br/>
December 20, 2020 | https://vmware.github.io/herald/ | <a href="https://web.archive.org/web/*/https://vmware.github.io/herald/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
  <div>
    <div>
      <div>
        
        <p>Herald provides reliable Bluetooth communication and range finding across a wide range of mobile devices, allowing Contact Tracing and other applications to have regular and accurate information to make them highly effective.</p>        
      </div>
      
    </div>
  </div>
</div> <!-- /home-hero -->



<!--
<div class="section pb-0">
    <div class="section-content">
      <div class="row">
        <div class="col">
          <h2 class="text-center"></h2>
          <p></p>
  
          <ul>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
--> 

<div>
  <div>
    <div>
      <p>
        <h2>Herald solves risk estimation problems</h2>
      </p>          
    </div>
    <p><img src="https://vmware.github.io/herald/images/EstimationBenefits.png" alt="Herald estimation benefits">
  </p></div>
</div>

<div>
  <div>
    
    
    
<div>
  
    <div>
      
      <div>
        <div>
          
          <h5>Detect nearby phones</h5>
          
          
<p>100% detection of phones in the foreground and background across iOS and Android devices. <a href="https://vmware.github.io/herald/efficacy/herald">Herald supports</a>) 100% of the phones in the UK that support advertising, as well as the 35% of Android phones (<a href="https://vmware.github.io/herald/efficacy/statistics">~14% of all phones overall</a>) that cannot act as ‚Äòadvertisers‚Äô and so remain unseen by advertising-only based protocols.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Provide regular distance readings</h5>
          
          
<p>Herald performs distance estimations every few seconds, with higher frequency on modern phones. This allows for a more accurate data and risk picture over time. Maximum frequency can be configured to optimise battery use. At <a href="https://vmware.github.io/herald/efficacy/herald">~4s per reading battery use is 6-11% over 8 hours</a>), depending on the age of the phone and its battery capacity.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Interoperate internationally</h5>
          
          
<p>By providing a common packet header we allow for <a href="https://vmware.github.io/herald/payload/interop">international interoperability</a> amongst all contact tracing applications, whether designed for centralised or decentralised contact matching and risk scoring.</p>

          
        </div>
      </div>
    </div>
    
        
</div>

  </div>
</div>

<div>
  <div>
    
    
    <div>

    
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New guides added to website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/guides">New guides added to website</a>
                </h5>
                <p>
                    We‚Äôve been busy getting ready for the upcoming V1.1 release. For this release we‚Äôve dramatically changed
our documentation on this website.


                </p>
            </article>
        </div>
    </div>
</div>
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New logo and website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/website">New logo and website</a>
                </h5>
                <p>
                    Quite a few things have happened in the first month since Herald was published as Open Source Software
under the MIT license. [29 Nov 2020 NOTE: Code now under the Apache-2.0 license]


                </p>
            </article>
        </div>
    </div>
</div>
        
         
</div>
    
  </div>
</div>


<div>
  <div>
    
<p>
A lot of work has gone in to mobile app based contact tracing protocol 
research, design, testing and collaboration worldwide. We'd like to thank 
all of those in VMware Pivotal Labs and elsewhere worldwide that have 
assisted with various national and state governments to use mobile contact 
tracing to help save lives. ‚ù§Ô∏è
</p>
  </div>
</div>

<div>
  <div>
    
<p>

All Herald works are Copyright 2020 Herald Authors.
</p>
<p>
The code for Herald (Android, iOS, Analysis Scripts, Calibration tool) are Apache-2.0 licensed. The documentation for Herald, including this website, are under the Creative Commons Attribution 4.0 International Public License.
</p>
<p>
See LICENSE.txt and NOTICE.txt for details.
</p>
  </div>
</div>


<div>
  <div>
    
<div>
  <div>
    <p>Herald Project is released as open source software and provides community support through our GitHub project page.
        If you encounter an issue or have a question, feel free to reach out on the <strong><a href="https://vmware.github.io/herald/issues">GitHub issues page for Herald Project</a></strong>.</p>
    <p>The Herald project team welcomes contributions from the community ‚Äî please see our <strong><a href="https://github.com/vmware/herald/blob/master/contributing.md">contributing documentation</a></strong>.</p>
  </div>
</div>



  </div>
</div>
      <div>
    <div>
        <div>
            <div>
                <h5>Getting Started</h5>
                <p>To help you get started, see the documentation.</p>
            </div>
            
        </div>
    </div>
</div>




<!-- JS -->







    </div>
  </div></div>]]>
            </description>
            <link>https://vmware.github.io/herald/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492423</guid>
            <pubDate>Mon, 21 Dec 2020 05:44:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A TO-DO app that fits inside a single tweet]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25492302">thread link</a>) | @rukshn
<br/>
December 20, 2020 | https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Sunday morning while I was scrolling through my Twitter feed one tweet caught my eye,</p>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p><a href="https://twitter.com/hashtag/JavaScript?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScript</a> Challenge:</p><p>Can you make a TO-DO app within a single Tweet? (280 chars)</p><p>The app should be able to add tasks, strike-through finished tasks &amp; clear all tasks.</p><p>Any general-purpose library is allowed.<br>Starting HTML body should be empty except the &lt;script&gt;.<a href="https://twitter.com/hashtag/JS?src=hash&amp;ref_src=twsrc%5Etfw">#JS</a> <a href="https://twitter.com/hashtag/code?src=hash&amp;ref_src=twsrc%5Etfw">#code</a></p></div>‚Äî Dumi (@dumindaxsb) <a href="https://twitter.com/dumindaxsb/status/1340539549890404354?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote>
<p>The challenge was to make a todo app that fits in a single tweet, just like any other todo app, you should be able to add or remove tasks and clear the task list. I thought how hard this can get, I thought to myself this is doable just by using plain JavaScript.</p>
<p>So since I don‚Äôt have a laptop, what resulted was a whole day of torture having to code though my iPad on codepen.</p>
<h2><strong>Plain JavaScript</strong> </h2>
<p>Soon after I started using plain JavaScript it became obvious that I was not able to make it within one tweet, the DOM manipulation was taking too much characters<em>, document.createElements, document.getElements. </em></p>
<p>It was obvious that was not the right approach.</p>
<h2>Using vue</h2>
<p>Vue framework won‚Äôt require any build tools, so I don‚Äôt have to go through setting up Webpack,</p>
<p>Also I can easily create the DOM within the script tag using simple HTML. So that will save some characters for me in DOM manipulation.</p>
<p>The first version I made use the <em>method</em> option in Vue app to handle button clicks, the button click event will call the function in methods to add new tasks and clear the task list.</p>
<p>However, I was unable to reduce it to one tweet. Then I went back to in-line functions, the same methods were added to button click events inline and not within the <em>methods</em> section.</p>
<p>Also I had to change buttons to anchor tags, in order to save some characters, and I had to use emojis instead of button text to save some more characters.</p>
<p>I also had to drop few buttons like a button to add a task, and instead I had to go with pressing enter key to add a task instead.</p>
<p>So I made the final version, the JavaScript code looked like this, </p>
<p data-height="300" data-theme-id="dark" data-default-tab="js" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<p>Then I ran the code through an online JavaScript minifier and then the whole HTML though an HTML minifier, and ended up with this piece of code,</p>
<pre><code>&lt;body&gt;&lt;script src=https://unpkg.com/<a href="https://ruky.me/cdn-cgi/l/email-protection" data-cfemail="aadcdfcfeac4cfd2de">[email&nbsp;protected]</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input @keyup.enter="t.push(k)" v-model="k"&gt;&lt;a @click="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a @click="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</code></pre>
<p>With my fingers crossed, I copied the code on to Twitter, and guess what it fits perfectly inside a single Tweet.</p>
<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">&lt;body&gt;&lt;script src=<a href="https://t.co/FY9eWOxLgZ">https://t.co/FY9eWOxLgZ</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input <a href="https://twitter.com/keyup?ref_src=twsrc%5Etfw">@keyup</a>.enter="t.push(k)" v-model="k"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</p>‚Äî Rukshan (@JustRuky) <a href="https://twitter.com/JustRuky/status/1340862545322762240?ref_src=twsrc%5Etfw">December 21, 2020</a></blockquote>
<p>And here is the code in action, <a href="https://jsbin.com/venihiliha/1/edit?html,output">link</a> </p>
<p data-height="265" data-theme-id="dark" data-default-tab="result" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<h2>What I failed to achieve </h2>
<p>The original Tweet says, that the completed tasks should have a strike through.</p>
<p>But because css was costing me too much characters I had to fall back to remove completed tasks instead, but I‚Äôm sure someone will figure a solution for that as well.</p>
<p>At the same time, I think you can save even more characters by using <a href="https://mithril.js.org/">mithril</a>, because you have short-codes for DOM elements as well, but I haven‚Äôt tried mithril in awhile.</p>
<h4>One last thing</h4>
<p>No I didn‚Äôt waste my whole Sunday on this problem, but I had to spend few hours, thinking and trying different versions. </p>
<p>I would have cut back some more time if I had a laptop. Somerimes I feel like buying an old laptop and refurbishing it and installing Ubuntu on it.</p>
<p>Sunday well spent? Absolutely yes.</p>
<h2>Best answer?</h2>
<p>One thing I love about HN is the fact that there are lot of bright minds out there. Since I posted this on HN I knew it was just a matter of time since someone figures this out.</p>
<p>I guess this is the best answer and also ticks all the boxes, well done.</p>
<pre><code> &lt;script&gt;document.write(`&lt;style&gt;:checked+*{text-decoration:line-through}#t{display:none}&lt;/style&gt;&lt;p id="t"&gt;&lt;input type="checkbox"&gt;&lt;input&gt;&lt;div id="f"&gt;&lt;/div&gt;&lt;p&gt;&lt;button onclick="f.appendChild(t.cloneNode(true)).id=''"&gt;+&lt;/button&gt;&lt;button onclick="f.innerHTML=''"&gt;√ó&lt;/button&gt;`)&lt;/script&gt;</code></pre>
<p><strong>HN link to this answer</strong>: https://news.ycombinator.com/item?id=25493533</p>
<p><strong>Original thread on HN</strong>: https://news.ycombinator.com/item?id=25492302</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492302</guid>
            <pubDate>Mon, 21 Dec 2020 05:12:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coercing Windows 10 to install on a NVMe drive]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492288">thread link</a>) | @pngmangi
<br/>
December 20, 2020 | https://ansonvandoren.com/posts/clean-win10-install-nvme/ | <a href="https://web.archive.org/web/*/https://ansonvandoren.com/posts/clean-win10-install-nvme/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<p>My daily driver is a desktop that I originally built as a Hackintosh for my wife's use. She outgrew it a year
or so ago for a new iMac, and I inherited it. Over the year, I've been using macOS less and less, and have spent
much more time on the dual-booted Windows 10 installation, especially since WSL is getting better and better
all the time. It's almost not painful to use for just about all the coding, writing, and occasional photography
or design projects I undertake.</p>
<p>Two days ago, I noticed while doing some file cleanup that there really was a terrific lot of crap that had
accumulated on the Windows drive. I'm fairly certain that this drive started out as a Windows 7 install, then
probably skipped Windows 8 and has been on Windows 10 through several Insider Ring upgrades over the years.
Anyway, I thought I'd just finish my backup and then re-install Windows to have a nice clean start. At the same
time, I figured since I wasn't really using the macOS installation that much, I'd move that one to a slower SATA
SSD and move Windows over to the <a href="https://amzn.to/2KGpd3x">Western Digital 500GB NVMe M.2 drive</a> that previously
hosted the Hackintosh boot drive.</p>
<p>Based on my recollection of the last time I'd installed/updated Windows, it seemed like a reasonable afternoon
project that should be pretty straightforward. As it turns out, the actual installation of Windows 10 is even quicker
than I had remembered, but the getting to the point where installation was possible was more than I bargained for.</p>
<p>This is a write-up because I ran into a few problems that were difficult to find great answers for, and I'm sure
there's someone else out there who will get into a similar situation. That someone is most likely to be a future
version of me‚Ä¶</p>

<p><strong>Windows 10 install media</strong></p>
<p>This is the easy part. I remembered having had issues in the past with the <a href="https://www.microsoft.com/en-us/software-download/windows10">Windows Media Creation Tool</a>,
and so I went out of my way to download the plain old ISO.</p>
<blockquote>
<p>Pro-tip: if you want to do this you need to
<a href="https://www.howtogeek.com/427223/how-to-download-a-windows-10-iso-without-the-media-creation-tool/">spoof your User-Agent</a>
if you're on Windows.</p>
</blockquote>
<blockquote>
<p>Pro-pro-tip: you probably don't need to do this. I ended up using WMCT and had no issues.</p>
</blockquote>
<p>Anyway, if you want to get the ISO then you'll probably want something like <a href="https://rufus.ie/">Rufus</a> to help
you burn it into a USB thumb drive. As I mentioned above, during the course of about 15 installation attempts,
I ended up recreating the bootable media with WMCT and that's the version I ultimately successfully used. The
other failures weren't due to the ISO or Rufus, but it's probably easier to just use WMCT unless you have some
other burning reason not to.</p>
<p><strong>Hard drive prep</strong></p>
<p>I had already cleaned everything I needed off of the M.2 drive, and had reformatted it before leaving macOS.
The drive doesn't need to be in any particular state, format, or partitioning scheme - you can take care
of that in the Windows installer.</p>
<p>Some motherboards have little quirks about whether you can actually have more than one M.2 drive connected,
and if so, what other SATA ports you might lose access to, or which other PCIe slots get degraded lanes or
just stop working altogether. In my case, I'd already connected it up correctly several years ago and didn't
need to make any changes, but worth checking if you're using the M.2 drive for the first time.</p>
<p><strong>BIOS prep</strong></p>
<p>I'm going to skip all of the many, many things I tried that didn't work with BIOS settings for this, and
just make note of what I ended up finding was important. Obviously all BIOSs are different and so this won't
be an exact prescription unless you also happen to have a GIGABYTE GA-Z170X-UD5 on F21 BIOS version, but
it may be helpful nonetheless.</p>
<p><strong>CSM needs to be turned off.</strong> This is Compatibility Support Module, and it (possibly among other things) will
force the boot media into MBR mode, and not UEFI mode. You want UEFI mode unless your motherboard is somehow
so old that it's not enabled. But if that were the case you're probably not trying to install Windows 10 on it.</p>
<p>If you have CSM enabled, it's very likely that you'll see an error message like ‚ÄúWindows cannot be installed to this disk.
The selected disk is of the GPT partition style.‚Äù</p>
<figure>
    <img src="https://ansonvandoren.com/images/the-selected-disk-is-of-the-gpt-partition-style.png#center" alt="This may mean you have CSM enabled"> <figcaption>
            <p>This may mean you have CSM enabled</p>
        </figcaption>
</figure>

<p>I also needed to set <strong>Secure Boot to Disabled</strong> otherwise I couldn't even get to the BIOS screen‚Ä¶ I needed to
hard-reset the CMOS a few times before I figured this out definitively.</p>
<p>The final setting that mattered was the <strong>‚ÄúWindows 8/10 Features‚Äù</strong>, which needed to be set to ‚ÄúWindows 8/10‚Äù.
The WHQL setting isn't needed, and the ‚ÄúOther OS‚Äù had been my previous setting when the boot manager was
Clover from the Hackintosh EFI partition, but didn't work with a Windows EFI boot loader.</p>
<p>I also had ‚ÄúFast Boot‚Äù turned off, but I don't think it should matter either way. All these settings (in my BIOS)
were under the tab labeled ‚ÄúBIOS‚Äù.</p>

<p>I don't know why this is a problem. Others seem to have it as well, but not consistently. I don't know if
it's related to this being a clean install with multiple internal hard drives connected, or to something
about USB 3.x vs USB 2.0 for the installer media, or maybe something entirely different. Either way, as I made
it through the initial few steps of the Windows 10 installation, I kept running into a failure with the error
message ‚ÄúWindows could not prepare the computer to boot into the next phase of installation. To install Windows,
restart the installation.‚Äù Of course, restarting the installation doesn't change anything.</p>
<p>Before getting to this point, I had used the partition manager in the installer to delete all partitions from
the target NVMe drive, then chose the Unallocated Space on which to install Windows. I also tried creating
the partitions manually myself, with the same error message.</p>
<p>After much swearing both at the installer and the garbage that is the Microsoft Community Forums, I finally
found my way to a gentleman who went by <a href="https://answers.microsoft.com/en-us/profile/7a26b9f6-6f40-419f-a7bd-9fc6389899c8?sort=LastReplyDate&amp;dir=Desc&amp;tab=Threads&amp;forum=allcategories&amp;meta=&amp;status=&amp;mod=&amp;advFil=&amp;postedAfter=undefined&amp;postedBefore=undefined&amp;threadType=All&amp;page=1">RichardKay1</a> and seemed
to have not only the same exact problem as I, but also a solution that <a href="https://answers.microsoft.com/en-us/windows/forum/all/windows-10-fresh-install-fails/f9614ae4-6dbd-4715-9a81-8586b16dfaf7?page=2">looked like it might have merit</a>.</p>
<p>His steps outlined on the forum were not exact, and mostly dealt with the <code>diskpart</code> utility, with which
I am not all that familiar, so I also spent some time trying to figure out how to safely use that tool
without deleting all the data on the 4 other disks that I had connected still.</p>
<blockquote>
<p>Pro-tip: probably safer to disconnect all the other disks you're not using for the actual install
before messing around with <code>diskpart</code>. Unless you're very careful. Or brave/stupid.
I decline to identify into which category I fell.</p>
</blockquote>
<blockquote>
<p>WARNING: <code>diskpart</code> can seriously ruin your day. BE CAREFUL BEFORE YOU HIT ENTER. You have been warned.</p>
</blockquote>
<p>According to Mr. RichardKay1, the root cause is that the USB installer <em>actually</em> tries to install Windows
onto the same USB stick, despite me having chosen an internal drive as the target. I don't really know how
to verify this, but regardless, his solution worked.</p>

<p>This is the key takeaway to solve the ‚ÄúWindows could not prepare the computer to boot into the next phase
of installation‚Äù. Or it was in my case, anyway.</p>
<p><strong>Reformat the target drive</strong></p>
<ol>
<li>Boot into the USB installer (I assume you can do this, else you probably the target audience.).</li>
<li>Select the language, time, and keyboard type, click Next.</li>
<li>Click ‚ÄúRepair your computer‚Äù, then ‚ÄúTroubleshoot‚Äù, then ‚ÄúCommand Prompt‚Äù.</li>
</ol>
<p>This puts you on the X: drive (temporary RAM disk with some command line utilities) and able to access
the rest of the connected drives. First step is to fully erase the target disk.</p>
<blockquote>
<p>NOTE: it's up to you to choose the correct disks, and make sure that erasing them is actually what you
want to do!</p>
</blockquote>
<ol start="4">
<li>From the command prompt, type <code>diskpart</code> to start the utility. You'll get a little prompt like <code>DISKPART&gt;</code>
and not much else.</li>
<li>Type <code>list disk</code> to show all disks, and identify (by size or whatever) which is your target.</li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list disk

  Disk ###  Status         Size     Free     Dyn  Gpt
  --------  -------------  -------  -------  ---  ---
  Disk 0    Online          111 GB      0 B
  Disk 1    Online          931 GB  1024 KB        *
  Disk 2    Online          465 GB  2048 KB        *
  Disk 3    Online          111 GB      0 B        *
  Disk 4    Online          111 GB      0 B        *
  Disk 5    No Media           0 B      0 B
  Disk 6    Online           14 GB      0 B

DISKPART&gt;
</code></pre></div><p>My target in this case was a 500GB disk, so here shown as Disk 2 (it's not exact).</p>
<ol start="6">
<li>Type <code>select disk 2</code> to choose this disk for manipulation.</li>
</ol>
<blockquote>
<p>WARNING: the next step will erase EVERYTHING on the disk you have selected!</p>
</blockquote>
<ol start="7">
<li>Type <code>clean</code> to erase all partitions on this disk. If you run <code>list disk</code> again after this you should
see that the value in the ‚ÄúFree‚Äù column has gone up to the full drive capacity.</li>
</ol>
<p><strong>Prep the internal drive</strong></p>
<ol start="8">
<li>We eventually want to boot in UEFI mode, and so need the partition scheme to be GPT. Type
<code>convert gpt</code> to accomplish this.</li>
</ol>
<p>This is where I diverged a bit from the forum answer. I wanted to create a EFI partition manually so that
I could keep it big enough to later use <code>grub</code> for a dual-boot Linux install, and also to get the EFI partition
in the right spot on the disk so when I collapsed partitions later I wouldn't leave a gap.</p>
<ol start="9">
<li>Create an EFI partition with <code>create partition EFI size=500</code> (size is in MB).</li>
<li>Format the EFI partition to FAT32 (important) with <code>format FS=FAT32 label=System</code>.</li>
</ol>
<p>Now that EFI was ready to go, I wanted to create a ~10GB partition to hold the install media that was currently
on the USB thumb drive. The process is similar to creating the EFI partition except that it's a ‚Äòprimary‚Äô partition
and formatted as NTFS:</p>
<ol start="11">
<li>Create installer partition with <code>create partition primary size=10000</code>.</li>
<li>Format installer partition with <code>format quick FS=NTFS label=Installer</code>.</li>
</ol>
<p>Next, I needed to access files on both the installer USB and also on the new internal partition. To do that
I needed to assign a drive letter.</p>
<ol start="13">
<li>To see what letters are assigned, type <code>list volume</code></li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list volume

  Volume ###  Ltr  Label        Fs     Type        Size     Status     Info
  ----------  ---  ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ansonvandoren.com/posts/clean-win10-install-nvme/">https://ansonvandoren.com/posts/clean-win10-install-nvme/</a></em></p>]]>
            </description>
            <link>https://ansonvandoren.com/posts/clean-win10-install-nvme/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492288</guid>
            <pubDate>Mon, 21 Dec 2020 05:09:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A survey of rust GUI libraries]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492179">thread link</a>) | @tetraodonpuffer
<br/>
December 20, 2020 | https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html | <a href="https://web.archive.org/web/*/https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <p>a popular trend in the Rust community is to ask "Are We X Yet" for various things that it would be nice to be able to develop easily in Rust - <a href="https://arewegameyet.rs/">game</a> and <a href="https://www.arewewebyet.org/">web</a> are the most prominent ones as far as i can tell - and one such question is <a href="https://areweguiyet.com/">Are We GUI Yet</a>.
that's a good question; <em>are</em> we GUI yet?
Are We GUI Yet has a list of libraries for building GUIs: let's go through them in alphabetical order and see if we can build a simple to-do list with them without too much struggle.</p>
<p>some notes before we get started.</p>
<ol>
<li>this is all extremely subjective.</li>
<li>the only ui toolkits i have used and not hated are Swing (i know), Electron (<em>i know</em>), and wxWidgets, which doesn't have Rust bindings because Rust bindings to C++ libraries are generously described as a nuisance to create (i've tried, and i'm writing this post instead of trying harder).
as such, i might be using some of these wrong, who knows.</li>
<li>i use windows, and so anything that's a nuisance to set up on windows is not going to fare well regardless of how cool it is once you get it working.
it could be the best thing since sliced bread or Meteor on release and i wouldn't care.
do not @ me.</li>
<li>the people who wrote these libraries have done more than i have to make the rust gui ecosystem not suck, and i don't want any of this to come across as suggesting that they suck and their work is bad.
the strongest thing i want to say is that a library is not designed in a way that i would want it to be designed, or that it doesn't work for me.
doing this shit at all is really goddamn difficult, and i don't want to minimize that by being unhappy with the results.</li>
<li>i started drafting this post in early July 2020, and finished it in late August 2020.
some things may have changed in the meantime while i wasn't paying attention.</li>
</ol>
<h2>azul</h2>
<p>first on our list is <a href="https://azul.rs/">azul</a>:</p>
<blockquote>
<p>A free, functional, immediate-mode GUI framework for rapid development of desktop applications written in Rust, supported by the Mozilla WebRender rendering engine.</p>
</blockquote>
<p>the wiki says we need cmake installed, which is never a good sign, but conveniently, i've already got that set up on my computer, for reasons i forget but probably didn't enjoy.
the runtime dependencies on linux are a mile long, but fortunately i don't have to care.
azul isn't currently available on crates.io for reasons that presumably exist but are difficult to explain, so we have to add it directly as a git dependency.</p>
<p>once we've got it added as a dependency, we can attempt to run our test crate, just to make sure everything's not on fire. unfortunately:</p>
<div><pre><span></span>error: failed to run custom build command for `servo-freetype-sys v4.0.5`

Caused by:
  process didn't exit successfully: `D:\Melody\Projects\we-are-not-gui-yet\target\debug\build\servo-freetype-sys-1fae054761ff82c5\build-script-build` (exit code: 101)
--- stdout
running: "cmake" &lt;snip&gt;

--- stderr
CMake Error: Could not create named generator Visual Studio 16 2019
</pre></div>
<p>this is an inauspicious beginning.
one version history crawl later and it looks like my cmake is from April 2019, which is not all that old but maybe they hadn't caught up on the latest visual studio yet, who knows.
this is already more work than i was prepared to do, but i've come this far, so it's time to update my cmake.</p>
<p>okay one installer later and it's time to try again.
armed with a cmake from May 2020, let's give this another shot:</p>
<div><pre><span></span>error[E0433]: failed to resolve: could not find `IoReader` in `bincode`
   --&gt; C:\Users\Melody\.cargo\registry\src\github.com-1ecc6299db9ec823\webrender_api-0.60.0\src\display_list.rs:270:35
    |
270 |             let reader = bincode::IoReader::new(UnsafeReader::new(&amp;mut self.data));
    |                                   ^^^^^^^^ could not find `IoReader` in `bincode`
</pre></div>
<p>welp.
the cmake update fixed things, i guess, but now we've got a whole other pile of mess.
this might be fixable, it may have been fixed by the time you read this.
regardless, this library does not work for me.</p>
<h2>conrod</h2>
<p>next up is <a href="https://github.com/pistondevelopers/conrod">conrod</a>:</p>
<blockquote>
<p>An easy-to-use, 2D GUI library written entirely in Rust.</p>
</blockquote>
<p>i've actually used this one before in a couple of projects, but it's been a minute, so i forget the details.</p>
<p>they do not have a real tutorial, which is unfortunate, but they do have some examples.
unfortunately, step one is to pick which of the half dozen backends i want.
do i want glium or vulkano or rendy or piston?
do i look like i know what a vulkano is?
i just want a picture of a <a href="https://youtu.be/EvKTOHVGNbg">god dang hot dog</a>.
okay that's not quite fair, i recognize three of those and can infer from context what the fourth one is, but that's only because i've been down this road before, and i still have no clue which one is the right one to pick.
all the examples live under glium, though, so let's go with that.</p>
<p>wait actually i'm staring at these examples and there's an entire ass event loop in the support code for the examples.
something in here mentions a <code>GliumDisplayWinitWrapper</code> and i'm scared.
i have literally used this library before - on two different projects - and i'm at a loss.
i don't want to just copy and paste the examples without actually understanding what's going on, i can't understand what's going on in the examples, and there's nowhere else to get started.
so there goes that i guess.</p>
<h2>core-foundation</h2>
<blockquote>
<p>Bindings to Core Foundation for macOS.</p>
</blockquote>
<p>oh hey, it's an OS i don't have access to at all.
next.</p>
<h2>druid</h2>
<p>our next contender is <a href="https://linebender.org/druid/">druid</a>:</p>
<blockquote>
<p>Druid is a framework for building simple graphical applications.</p>
</blockquote>
<p>apparently this sprung out of that vi-like text editor a couple googlers were working on, so apparently it's at least possible to use it for real software.
there's a tutorial, they're on crates.io, they're describing it as "conceptually simple and largely non-magical" which i am always a fan of, i am cautiously optimistic.
if we throw it in our dependencies and just see if anything breaks, we find the surprising result that everything just works.</p>
<p>oh hey the first real chapter in the tutorial starts with</p>
<blockquote>
<p>this is outdated, and should be replaced with a walkthrough of getting a simple app built and running.</p>
</blockquote>
<p>you love to see it.
fortunately, we can just ignore that and skip to the hello world example, reproduced here in its entirety:</p>
<div><pre><span></span><span>use</span><span> </span><span>druid</span>::<span>{</span><span>AppLauncher</span><span>,</span><span> </span><span>WindowDesc</span><span>,</span><span> </span><span>Widget</span><span>,</span><span> </span><span>PlatformError</span><span>};</span><span></span>
<span>use</span><span> </span><span>druid</span>::<span>widget</span>::<span>Label</span><span>;</span><span></span>

<span>fn</span> <span>build_ui</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>()</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>Label</span>::<span>new</span><span>(</span><span>"Hello world"</span><span>)</span><span></span>
<span>}</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>(),</span><span> </span><span>PlatformError</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>AppLauncher</span>::<span>with_window</span><span>(</span><span>WindowDesc</span>::<span>new</span><span>(</span><span>build_ui</span><span>)).</span><span>launch</span><span>(())</span><span>?</span><span>;</span><span></span>
<span>    </span><span>Ok</span><span>(())</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>and somehow, this actually works.</p>
<p>the tutorial ends here, which is unfortunate, but there's more documentation, including explanations of core concepts with examples that are... todo lists!
with even more features than what i was planning to include here!
so that's convenient.
the UI hierarchy is based on CSS Flexbox, which i also appreciate.
this is what peak UI layout API looks like:</p>
<div><pre><span></span><span>fn</span> <span>build_new_todo</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>TodoState</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>textbox</span><span> </span><span>=</span><span> </span><span>TextBox</span>::<span>new</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_placeholder</span><span>(</span><span>"New todo"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>lens</span><span>(</span><span>TodoState</span>::<span>next_todo</span><span>);</span><span></span>
<span>    </span><span>let</span><span> </span><span>button</span><span> </span><span>=</span><span> </span><span>Button</span>::<span>new</span><span>(</span><span>"Add"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>on_click</span><span>(</span><span>|</span><span>_</span><span>,</span><span> </span><span>data</span>: <span>&amp;</span><span>mut</span><span> </span><span>TodoState</span><span>,</span><span> </span><span>_</span><span>|</span><span> </span><span>data</span><span>.</span><span>create_todo</span><span>());</span><span></span>

<span>    </span><span>Flex</span>::<span>row</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_flex_child</span><span>(</span><span>textbox</span><span>.</span><span>expand_width</span><span>(),</span><span> </span><span>1.0</span><span>)</span><span></span>
<span>        </span><span>.</span><span>with_child</span><span>(</span><span>button</span><span>)</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>1 hour and 80 lines of code later, we've got ourselves a perfectly valid and working todo list!</p>
<p><img src="https://www.boringcactus.com/assets/2020-08-21-survey-of-rust-gui-libraries-1.png" alt="our sample druid application, showing a todo list"></p>
<p>i'm not quite happy with this, though: we can type text and hit the button and it adds the todo, but pressing enter in the text field doesn't do anything.
there's no way out-of-the-box to make that happen; let's see if we can build that ourselves.</p>
<p>~30 lines of code later, we've got it!
the <code>Controller</code> trait is designed for exactly this sort of thing, when you need to wrap the behavior of an existing component and intercept some events to inject your own logic.</p>
<p>if you're curious, you can take a look at <a href="https://git.sr.ht/~boringcactus/survey-of-rust-gui-libraries/tree/main/druid-test">the source for our druid example</a>.</p>
<p>so apparently druid is actually pretty darn usable.
i only have a couple tiny issues with it:</p>
<ol>
<li>it doesn't use platform native UI widgets, so it doesn't look quite like a windows app should, and it won't look quite like a mac or linux app should either if i test it there.
this one is a feature as far as some people are concerned, but i am not on that list.</li>
<li>accessibility features like being able to tab between UI widgets (<em>update 2020-12-14</em>: and also literally any screen reader support) are missing, so you'd have to roll those yourself in a real application.
 maybe they'll add that by default in future versions, maybe not, but it would be neat if it existed.</li>
<li>high-level documentation is incomplete.
the individual struct/function docs are really good, but at a high level you don't really have a convenient place to jump in.</li>
</ol>
<p>i was about to add "no support for web" to that list, but even though the high-level docs don't mention it, the crate root docs and the examples do.
on the plus side, it just works, and i didn't have to make any changes to my code because i use <a href="https://github.com/rustwasm/wasm-pack/pull/736">this patch to wasm-pack that lets you just use binary crates in wasm-pack</a> even though it hasn't been merged yet upstream.
on the minus side, it points everything at a <code>&lt;canvas&gt;</code> tag, which means you get none of the accessibility features of actually using the DOM.
so that one's a mixed bag.</p>
<p>but yeah, overall druid is perfectly usable for gui development.
i was originally calling this post "we are not gui yet" but i guess we are at least a little bit gui already.
pleasant surprises are the best kind.</p>
<h2>fltk</h2>
<p>following up that success is <a href="https://github.com/MoAlyousef/fltk-rs">fltk</a>:</p>
<blockquote>
<p>The FLTK crate is a crossplatform lightweight gui library which can be statically linked to produce small, self-contained and fast gui applications.</p>
</blockquote>
<p>cross-platform and statically linked are both good things.
the upstream FLTK website makes my eyes bleed, which is never a good sign for a UI library, but that doesn't mean much one way or the other.
the simple hello world example is once again a mere handful of lines:</p>
<div><pre><span></span><span>use</span><span> </span><span>fltk</span>::<span>{</span><span>app</span>::<span>*</span><span>,</span><span> </span><span>window</span>::<span>*</span><span>};</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>App</span>::<span>default</span><span>();</span><span></span>
<span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>wind</span><span> </span><span>=</span><span> </span><span>Window</span>::<span>new</span><span>(</span><span>100</span><span>,</span><span> </span><span>100</span><span>,</span><span> </span><span>400</span><span>,</span><span> </span><span>3‚Ä¶</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</a></em></p>]]>
            </description>
            <link>https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492179</guid>
            <pubDate>Mon, 21 Dec 2020 04:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modeling TLA+ in Z3Py (2020)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492150">thread link</a>) | @philzook
<br/>
December 20, 2020 | https://www.philipzucker.com/Modelling_TLA_in_z3py/ | <a href="https://web.archive.org/web/*/https://www.philipzucker.com/Modelling_TLA_in_z3py/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It‚Äôs that time of year again where I‚Äôm fiddling around with Z3Py. I‚Äôm booting it back up because I‚Äôm scheduled to do a <a href="https://fmie2021.github.io/agenda.html">tutorial on Z3</a> on Feb 3. It‚Äôs kind of silly because I probably already have too much content, and the tutorial is aimed at newbies, but there are some fun new things that I‚Äôve learned in the last year I can do in Z3. As one example, it‚Äôs not so hard to build a pretty reasonable simulacrum of TLA+ in Z3.</p>

<p><a href="https://lamport.azurewebsites.net/tla/tla.html">TLA+</a> is a modelling/specification language for computational processes. It is particularly useful for modeling concurrency, where our intuitions fail us <a href="http://deadlockempire.github.io/">http://deadlockempire.github.io/</a>. It‚Äôs the mind child of Leslie Lamport, the same guy behind <a href="https://en.wikipedia.org/wiki/LaTeX">LaTex</a> and <a href="https://en.wikipedia.org/wiki/Paxos_(computer_science)">Paxos</a>. The language doesn‚Äôt aim for deep verification of your actual code as is sometimes the goal with tools like Coq, but because of that it is significantly more lightweight and easy to use. 
The <a href="https://lamport.azurewebsites.net/tla/toolbox.html">TLA+ Toolbox</a> is a freely available IDE and checker to TLA+, but I think it is kind of a neat idea to replicate something in the flavor of TLA+ in all too familiar python. By leveraging Z3, we can get a lot of logical mileage and solver power for free.</p>

<p><a href="https://rise4fun.com/z3/tutorial">Z3</a> is an SMT solver. Its input language <a href="http://smtlib.cs.uiowa.edu/examples.shtml">smtlib2</a> is a kind of typed first order logic with special support for things like booleans, integers, reals, bitvectors, and algebraic datatypes. You can ask Z3 if propositions are valid, or if not it can provide a counterexample. It works pretty crazy good, especially if you work around its weaknesses (mostly quantifiers and nasty nonlinear stuff). Z3 has top class performance and its <a href="https://z3prover.github.io/api/html/namespacez3py.html">python bindings</a> are widely regarded as very good.</p>

<p>The main unusual things TLA brings into play compared to bog standard logics is the primed variables \(x'\), representing the values of variables at the next time step, and some temporal operators like always \(\Box\) and eventually \(\Diamond\).</p>

<p>We could mark primes by creating variables in pairs</p>
<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>x</span><span>,</span> <span>xnxt</span> <span>=</span> <span>Ints</span><span>(</span><span>"x x'"</span><span>)</span>
</code></pre></div></div>

<p>But I‚Äôve chosen to mark the prime variables using a special uninterpreted function, which we strip out later.</p>

<div><div><pre><code><span>def</span> <span>nxt</span><span>(</span><span>x</span><span>):</span> <span># next is a special function for generators in python, so we shouldn't use that name
</span>    <span>assert</span> <span>is_const</span><span>(</span><span>x</span><span>)</span>
    <span>assert</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
    <span>s</span> <span>=</span> <span>x</span><span>.</span><span>sort</span><span>()</span>
    <span>return</span> <span>Function</span><span>(</span><span>"nxt"</span><span>,</span> <span>s</span><span>,</span> <span>s</span><span>)(</span><span>x</span><span>)</span>
</code></pre></div></div>

<p>One breakage here as compared to with TLA+ is the use of types. TLA+ curiously insists on a lack of intrinsic types and argues against them as a foundational feature. Types are instead propositions that are proved in the system. This just is really not convenient for using with Z3, so from the get-go I‚Äôm going to take liberties.</p>

<p>We can implement an <code>always</code> operator via a fairly simple procedure, we just roll out the execution of any formula for <code>n</code> time steps. This is the trick of bounded model checking. This rollout can be achieved by using the Z3 <code>substitute</code> function, a surprisingly useful little fellow.</p>

<div><div><pre><code><span># collects up all the variable from a formula
# https://stackoverflow.com/questions/14080398/z3py-how-to-get-the-list-of-variables-from-a-formula
</span><span>def</span> <span>get_vars</span><span>(</span><span>f</span><span>):</span>
    <span>r</span> <span>=</span> <span>set</span><span>()</span>
    <span>def</span> <span>collect</span><span>(</span><span>f</span><span>):</span>
      <span>if</span> <span>is_const</span><span>(</span><span>f</span><span>):</span> 
          <span>if</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
              <span>r</span><span>.</span><span>add</span><span>(</span><span>f</span><span>)</span>
      <span>else</span><span>:</span>
          <span>for</span> <span>c</span> <span>in</span> <span>f</span><span>.</span><span>children</span><span>():</span>
              <span>collect</span><span>(</span><span>c</span><span>)</span>
    <span>collect</span><span>(</span><span>f</span><span>)</span>
    <span>return</span> <span>r</span>


<span>#https://theory.stanford.edu/~nikolaj/programmingz3.html#sec-bounded-model-checking
# rolls out the transition relation for n steps
# it replaces x with x_i and prime(x) with x_(i+1)
</span><span>def</span> <span>always</span><span>(</span><span>p</span><span>,</span><span>n</span><span>=</span><span>20</span><span>):</span>
    <span>orig_vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>nextvs</span> <span>=</span> <span>orig_vs</span>
    <span>t</span> <span>=</span> <span>True</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span><span>n</span><span>):</span>
        <span>vs</span> <span>=</span> <span>nextvs</span>
        <span>nextvs</span> <span>=</span>  <span>[</span> <span>Const</span><span>(</span> <span>f"</span><span>{</span><span>str</span><span>(</span><span>v</span><span>)</span><span>}</span><span>_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>,</span> <span>v</span><span>.</span><span>sort</span><span>())</span> <span>for</span> <span>v</span> <span>in</span> <span>orig_vs</span>  <span>]</span>
        <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>p</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>nextvs</span><span>)</span>  <span>])</span> 
        <span>p2</span> <span>=</span> <span>substitute</span><span>(</span><span>p1</span><span>,</span> <span>[</span> <span>(</span><span>orig_v</span><span>,</span> <span>v</span><span>)</span> <span>for</span> <span>orig_v</span><span>,</span> <span>v</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>vs</span><span>)</span>  <span>])</span>
        <span>t</span> <span>=</span> <span>And</span><span>(</span><span>t</span><span>,</span><span>p2</span><span>)</span>
    <span>return</span> <span>t</span>
</code></pre></div></div>

<p>Here for example is the specification of a clock from the <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">Specifying Systems</a> book. The clock starts with an hour between 0 and 12, and at each time step increases unless it‚Äôs wrapped around 12.</p>

<div><div><pre><code><span>hr</span> <span>=</span> <span>Int</span><span>(</span><span>"hr"</span><span>)</span>
<span>HCini</span> <span>=</span> <span>And</span><span>(</span><span>1</span> <span>&lt;=</span> <span>hr</span><span>,</span> <span>hr</span> <span>&lt;=</span> <span>12</span><span>)</span>
<span>HCnxt</span> <span>=</span> <span>nxt</span><span>(</span><span>hr</span><span>)</span> <span>==</span> <span>If</span><span>(</span><span>hr</span> <span>!=</span> <span>12</span><span>,</span> <span>hr</span> <span>+</span> <span>1</span><span>,</span> <span>1</span><span>)</span>
<span>HC</span> <span>=</span> <span>And</span><span>(</span><span>HCini</span><span>,</span> <span>always</span><span>(</span><span>HCnxt</span><span>))</span> 
<span>prove</span><span>(</span><span>Implies</span><span>(</span><span>HC</span><span>,</span>  <span>always</span><span>(</span><span>HCini</span><span>)))</span> <span># prove clock always stays between 0 and 12 (for 20 times steps)
</span></code></pre></div></div>

<p>You do have to be careful with using always. Arbitrarily nesting it‚Äôs usage may give unexpected results. Lamport makes an argument that specs very rarely do or should make sophisticated use of the temporal operators. Maybe this is good enough or maybe there is a way to patch this up.</p>

<p>Here are some other useful TLA+ like features and functions transcoded.</p>

<div><div><pre><code><span>def</span> <span>elem</span><span>(</span><span>x</span><span>,</span><span>S</span><span>):</span>
    <span>return</span> <span>Or</span><span>([</span><span>x</span> <span>==</span> <span>s</span> <span>for</span> <span>s</span> <span>in</span> <span>S</span><span>])</span>

<span>def</span> <span>unchanged</span><span>(</span><span>*</span><span>args</span><span>):</span>
    <span>return</span> <span>And</span><span>([</span><span>prime</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>for</span> <span>x</span> <span>in</span> <span>args</span><span>])</span>

<span>def</span> <span>eventually</span><span>(</span><span>p</span><span>,</span> <span>n</span><span>=</span><span>20</span><span>):</span>
    <span>return</span> <span>Not</span><span>(</span><span>always</span><span>(</span><span>Not</span><span>(</span><span>p</span><span>),</span><span>n</span><span>=</span><span>n</span><span>))</span>

<span>def</span> <span>stutter</span><span>(</span><span>p</span><span>,</span> <span>vars</span><span>=</span><span>None</span><span>):</span>
    <span>if</span> <span>vars</span> <span>==</span> <span>None</span><span>:</span>
        <span>vars</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>return</span> <span>Or</span><span>(</span><span>p</span><span>,</span> <span>unchanged</span><span>(</span><span>*</span><span>vars</span><span>))</span>

<span>def</span> <span>enabled</span><span>(</span><span>A</span><span>):</span>
    <span>vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>A</span><span>)</span>
    <span>nxtvs</span> <span>=</span>  <span>[</span> <span>FreshConst</span><span>(</span>  <span>v</span><span>.</span><span>sort</span><span>(),</span> <span>prefix</span><span>=</span><span>str</span><span>(</span><span>v</span><span>)</span> <span>)</span> <span>for</span> <span>v</span> <span>in</span> <span>vs</span><span>]</span>
    <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>A</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>vs</span><span>,</span><span>nxtvs</span><span>)</span>  <span>])</span> 
    <span>return</span> <span>Exists</span><span>(</span><span>nxtvs</span><span>,</span> <span>p1</span><span>)</span>

<span># backports useful logical operator notation for z3 that it does not have by default
</span><span>BoolRef</span><span>.</span><span>__and__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>And</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__or__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Or</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__xor__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Xor</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__invert__</span> <span>=</span> <span>lambda</span> <span>self</span><span>:</span> <span>Not</span><span>(</span><span>self</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__rshift__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Implies</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
</code></pre></div></div>

<p>Here as another example is the <a href="http://lamport.azurewebsites.net/video/video4.html">Die Hard puzzle</a></p>

<div><div><pre><code><span>small</span><span>,</span> <span>big</span> <span>=</span> <span>Ints</span><span>(</span><span>"small big"</span><span>)</span>

<span>TypeOk</span> <span>=</span> <span>And</span><span>(</span>
   <span>elem</span><span>(</span><span>small</span><span>,</span> <span>range</span><span>(</span><span>4</span><span>)),</span>
   <span>elem</span><span>(</span><span>big</span><span>,</span> <span>range</span><span>(</span><span>6</span><span>))</span>
<span>)</span>
<span>Init</span> <span>=</span> <span>And</span><span>(</span>
   <span>big</span> <span>==</span> <span>0</span><span>,</span>
   <span>small</span> <span>==</span> <span>0</span>
<span>)</span>

<span>FillSmall</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>unchanged</span><span>(</span><span>big</span><span>))</span>
<span>FillBig</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>,</span> <span>unchanged</span><span>(</span><span>small</span><span>))</span>
<span>Goal</span> <span>=</span> <span>big</span> <span>!=</span> <span>4</span>
<span>SmallToBig</span> <span>=</span> <span>If</span><span>(</span><span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>5</span><span>,</span>   
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span> <span>)</span> <span>,</span> 
                 <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>small</span> <span>-</span> <span>(</span><span>5</span> <span>-</span> <span>big</span><span>),</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>)</span>
               <span>)</span>

<span>BigToSmall</span> <span>=</span> <span>If</span><span>(</span> <span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>3</span><span>,</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>),</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>-</span> <span>(</span><span>3</span> <span>-</span> <span>small</span><span>)</span> <span>)</span>
                <span>)</span>

<span>EmptyBig</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>small</span><span>))</span> 
<span>EmptySmall</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>big</span><span>))</span> 
<span>Next</span> <span>=</span> <span>Or</span><span>(</span><span>FillSmall</span><span>,</span> <span>FillBig</span><span>,</span> <span>EmptySmall</span><span>,</span> <span>EmptyBig</span><span>,</span> <span>SmallToBig</span><span>,</span> <span>BigToSmall</span><span>)</span>

<span>Spec</span> <span>=</span> <span>Init</span> <span>&amp;</span> <span>always</span><span>(</span><span>Next</span><span>,</span> <span>n</span><span>=</span><span>8</span><span>)</span>
<span>prove</span><span>(</span> <span>Implies</span><span>(</span><span>Spec</span>  <span>,</span> <span>always</span><span>(</span><span>Goal</span><span>,</span> <span>n</span> <span>=</span> <span>8</span><span>)))</span>
</code></pre></div></div>

<p>Z3 does in fact return a counter model that fills the buckets up as desired.</p>

<p>TLA+ has a tendency to use functions/records which are not so obvious how to encode. There are different ways of going about this. One aspect of playing around with Z3py is that it makes extremely clear the existence of the logic language and a metalanguage. The logic is Z3 expressions, but the metalanguage is python and they are obviously very different. But there is often a choice of whether to encode things in the logic vs the metalanguage. It is usually better I think to encode as much in python as possible if you can get away with it. Z3 likes piles of simple constraints more than it likes complicated quantifiers and things.</p>

<p>For example, we can want to encode an Enum type in python or in Z3.</p>

<div><div><pre><code><span>from</span> <span>enum</span> <span>import</span> <span>Enum</span><span>,</span> <span>auto</span>
<span>#python enum
</span><span>class</span> <span>RMState</span><span>(</span><span>Enum</span><span>):</span>
     <span>WORKING</span> <span>=</span> <span>auto</span><span>()</span>
     <span>PREPARED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>COMMITTED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>ABORTED</span> <span>=</span> <span>auto</span><span>()</span>

<span># z3 enum
</span><span>RMState</span> <span>=</span> <span>Datatype</span><span>(</span><span>"RMState"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"working"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"prepared"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"committed"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"aborted"</span><span>)</span>
<span>RMState</span> <span>=</span> <span>RMState</span><span>.</span><span>create</span><span>()</span>
</code></pre></div></div>

<p>Or we can choose to encode records in Z3 vs python.</p>

<div><div><pre><code><span>#python record of z3 values
</span><span>val</span> <span>=</span> <span>Int</span><span>(</span><span>"val"</span><span>)</span>
<span>rdy</span><span>,</span> <span>ack</span> <span>=</span> <span>Bools</span><span>(</span><span>"rdy ack"</span><span>)</span>
<span>chan</span> <span>=</span> <span>{</span><span>val</span> <span>:</span> <span>val</span><span>,</span> <span>rdy</span> <span>:</span> <span>rdy</span><span>,</span> <span>ack</span> <span>:</span> <span>ack</span><span>}</span>

<span># Z3 record of Z3 values
</span><span>Chan</span> <span>=</span> <span>Datatype</span><span>(</span><span>"Chan"</span><span>)</span>
<span>ChanCon</span> <span>=</span> <span>Chan</span><span>.</span><span>declare</span><span>(</span><span>"constr"</span><span>,</span> <span>(</span><span>"val"</span><span>,</span> <span>IntSort</span><span>())</span> <span>,</span> <span>(</span><span>"rdy"</span><span>,</span> <span>BoolSort</span><span>()),</span>  <span>(</span><span>"ack"</span><span>,</span> <span>BoolSort</span><span>())</span> <span>)</span>
<span>Chan</span> <span>=</span> <span>Chan</span><span>.</span><span>create</span><span>()</span>
<span>record</span> <span>=</span> <span>Chan</span><span>.</span><span>constr</span><span>(</span><span>val</span><span>,</span><span>rdy</span><span>,</span><span>ack</span><span>)</span>
<span>chan</span> <span>=</span> <span>Const</span><span>(</span><span>"chan"</span><span>,</span> <span>Chan</span><span>)</span>
</code></pre></div></div>

<p>Or we can choose to encode functions in z3 or python</p>

<div><div><pre><code><span># python square. Works of Z3 values too
</span><span>def</span> <span>square</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span><span>*</span><span>x</span>

<span># Internalized Z3 square function
</span><span>square</span> <span>=</span> <span>Function</span><span>(</span><span>"square"</span><span>,</span> <span>IntSort</span><span>(),</span><span>IntSort</span><span>())</span>
<span>x</span> <span>=</span> <span>Int</span><span>(</span><span>"x"</span><span>)</span>
<span>square_axiom</span> <span>=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>square</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>*</span> <span>x</span><span>)</span>
</code></pre></div></div>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>Downsides:</p>

<ul>
  <li>Very ad hoc. The use of special autogenerated names is a great way to inadvertently smash things together</li>
  <li>TLA syntax is designed to be readable. The python adds a lot of noise</li>
  <li>TLA toolbox can format specs nicely using latex.</li>
  <li>TLA has a lot of thought gone into it. Making changes to it in an afternoon of thought is probably not to be trusted</li>
</ul>

<p>Upsides:</p>
<ul>
  <li>Better fits Z3, so we get good automation from the get go</li>
  <li>python is lingua franca of computing. It is comforting compared to TLA+, even if Z3py might be discomfiting.</li>
  <li>Having to download the toolbox and figure out how to use it is always going to be a slight speedbump. There is a TLA+ vscode extension now though. That might help</li>
</ul>

<p>Using Python ast parsing <a href="https://greentreesnakes.readthedocs.io/en/latest/index.html">https://greentreesnakes.readthedocs.io/en/latest/index.html</a>, we could probably use regular simple python syntax as a PlusCal like DSL and compile it into the above Z3-TLA+ hybrid.</p>

<p>I‚Äôm not sure if the CHOOSE operator of TLA+ will be easy to implement. It kind of seems like it requires nested solves? Can it be encoded using</p>

<p>I don‚Äôt particularly understand the TLA+ module system yet and I‚Äôm not so sure how to emulate it. Python modules might be one way, or perhaps classes.</p>

<p>Although I tried to copy exactly, perhaps one shouldn‚Äôt spec in precisely the style of standard TLA+.</p>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://www.learntla.com/introduction/">https://www.learntla.com/introduction/</a> Hillel Wayne‚Äôs tutorial</li>
  <li><a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf</a> Specifying Systems</li>
  <li><a href="https://pron.github.io/tlaplus">https://pron.github.io/tlaplus</a>  Very impressive essays by Ron Pressler</li>
  <li><a href="https://github.com/cobusve/TLAPLUS_DeadlockEmpire">https://github.com/cobusve/TLAPLUS_DeadlockEmpire</a> Very neat way to learn TLA+</li>
  <li><a href="https://github.com/tlaplus/Examples">https://github.com/tlaplus/Examples</a></li>
  <li>Apalache is a Z3 backed model checker for TLA+ <a href="https://github.com/informalsystems/apalache">https://github.com/informalsy‚Ä¶</a></li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.philipzucker.com/Modelling_TLA_in_z3py/">https://www.philipzucker.com/Modelling_TLA_in_z3py/</a></em></p>]]>
            </description>
            <link>https://www.philipzucker.com/Modelling_TLA_in_z3py/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492150</guid>
            <pubDate>Mon, 21 Dec 2020 04:31:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Events Suck]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491847">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://aparker.io/posts/virtual-events-suck/ | <a href="https://web.archive.org/web/*/https://aparker.io/posts/virtual-events-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2020-12-10T09:30:00-0500">Thu, Dec 10, 2020</time></p><p><img src="https://aparker.io/images/virtualeventssuckheader.png" alt="image"></p>
<p>I mean, is this even up for argument?</p>

<p>One of the whitest-ass things in the world is our people‚Äôs obsession with songs at sporting events, and indeed, in large crowds. If you‚Äôre reading this and you‚Äôre from Europe, feel free to replace my references to Sweet Caroline with Seven Nation Army, same diff. That said, you can fairly reliably trigger this behavior in most cultures in most parts of the world by finding a sufficiently rowdy bar around midnight and playing <em>something</em> on the jukebox that gets folks going. Humans, we‚Äôre social creatures, yeah? A few bars of Neil Diamond, a couple people singing along, and by the time you‚Äôre at ‚ÄòHands, touching hands‚Äô you‚Äôll have a swelling crescendo that culminates in a ear-shattering and atonal screech of ‚ÄòSWEEEEEEEEEEEEET CAR-O-LINE (WOAH OH OH)‚Äô making the bartenders silently plot the murder of everyone in their line of sight.</p>
<p>People like being around people, and most people don‚Äôt treat everyone around them as some sort of incredibly delicate faberge egg. There‚Äôs a lot of ‚Äúwow look at all these accomodations people are making that disabled people have asked for now that nobody is supposed to leave their house! hypocrisy, much??‚Äù and I‚Äôm like, yeah, duh? Pointing out hypocrisy is the lowest form of engagement in 2020. This is why virtual events suck ‚Äì because nobody is actually planning on doing them any longer than they need to.</p>

<blockquote>
<p>One of the benefits of in-person conferences is that they temporarily remove you from your day-to-day work and immerse you in a community of like-minded individuals. It‚Äôs not just about getting to hear new ideas, but also about the break from your daily routine. This is one of the things that is hardest to replicate in a virtual event. DIDevOps was perhaps the most successful virtual conference I‚Äôve seen in making their event feel like An Event. This event was clever and whimsical, the community was engaged, and it definitely didn‚Äôt feel like just another video call.</p>
</blockquote>
<p><a href="https://redmonk.com/rstephens/2020/04/30/deserted-island-devops/">Rachel Stephens, RedMonk</a></p>
<p>I wrote earlier this year about the idea of a <a href="https://aparker.io/posts/deserted-island-devops/">decisive moment</a> and how that influenced the thinking behind Deserted Island DevOps. To elaborate a bit, Cartier-Bresson was a street photographer who coined this phrase in the introduction to his 1947 book.</p>
<blockquote>
<p>Photography is the simultaneous recognition, in a fraction of a second, of the significance of an event as well as of a precise organisation of forms which give that event its proper expression.</p>
</blockquote>
<p>What is, then, the ‚Äòdecisive moment‚Äô of a tech conference? My original criteria was that an event was <em>etherial</em> or placeless; From the smallest DevOpsDays to the largest re:Invent, an event is defined less by the where than by the who. As an attendee, you are swept away from the status quo for a time (even as it inorexably pulls you back in, given the amount of people I see working on laptops during events) into a convention center or hotel or theater or whatever, specifically to focus on something other than what you normally would. Quite literally, you are being moved out of your comfort zone. This can prime you to accept ideas that normally you wouldn‚Äôt, can rejigger your brain chemistry for a few hours to make you see things from a different perspective. That‚Äôs valuable! As a speaker, you‚Äôre transported to a new stage, with a new audience, a new set of eyes and ears to reflect off of. It‚Äôs almost like being a comedian and testing out material ‚Äì you try some new lines, some new jokes, add an anecdote here, shave one off there. Repetition builds mastery. Next week, or next month, you‚Äôre going to do it all again. Our traversal through the liminal spaces between these potemkin stages lends itself to inward focus where we must Do The Work to shut out the world around us. To be less floral about it, the demands of the road make us better speakers because the only way we don‚Äôt go fuckin‚Äô mad is to focus on the work.</p>
<p>Virtual events offer none of this, unfortunately. As attendees, another Slack, another Zoom call, another wave of talking heads and PowerPoint. As speakers, our audience disappears behind a chat window. We lose our reflection. It‚Äôs sad and terrible and great for some people, but on the balance I think we dislike it more than we like it.</p>
<p>The bad is part of the fun! You can‚Äôt replicate the feeling of gnawing on an underripe banana while chugging overly-hot-but-not-terribly-flavorful coffee watching someone who‚Äôs company paid way too much for a keynote while mentally ticking off the people you need to talk to that day while working out the soreness in your back from the bed that isn‚Äôt yours that you got maybe four productive sleeping hours in due to jet lag while figuring out who you‚Äôre going to catch up with after the show wraps that day as you muse about how it looks like your competitors have a much nicer booth than yours, and you wonder if they‚Äôre hiring except that one asshole still works there and so on and so forth. ‚ÄúThat sounds terrible!‚Äù you may be musing, <em>and you‚Äôd be right</em>, but I love the terrible. I thrive in the terrible. I‚Äôm drinking single origin fair trade coffee beans that were roasted in small batches locally brewed in a fancy coffee maker and I can tell you that when this is all over and I can have a cuppa brewed in the backroom of a Hilton it is going to be the sweetest thing I can possibly imagine for five seconds right before I start hating everything about it again and <em>that‚Äôs fine</em>.</p>
<p>The bad of an in-person event is terrible, but it‚Äôs a terrible I can work with. I go outside like once or twice a week now to get groceries and that‚Äôs all I‚Äôve done for the past nine months. <em>I want the workable terrible, not this horrific stasis</em>.</p>

<p>The reason that virtual events suck is that we‚Äôre trying to replicate in-person events. We‚Äôre doing old-school iOS skeumorphism but for primarily social gatherings. No wonder they suck! There‚Äôs a few broad reasons:</p>
<ul>
<li><em>Bad UX</em>: Sometimes I like to style on babies by displaying object permanance, but you wouldn‚Äôt know that given the utter contempt event platforms seem to have for their audiences by doing dumb skeumorphic ‚Äúconference halls‚Äù with badly ‚Äòshopped people standing around.</li>
</ul>
<p><img src="https://aparker.io/images/kubeconlobby.png" alt="KubeCon EU ‚ÄòLobby‚Äô"></p>
<ul>
<li>
<p><em>Pervasive Surveillence</em>: I use ad blockers but a bunch of people don‚Äôt, on principle though it‚Äôs really fuckin‚Äô creepy that every click you make on one of these event platforms is tracked. Simply navigating to a sponsor booth counts as a ‚Äòlead‚Äô to the sponsor. Yikes!</p>
</li>
<li>
<p><em>Poor AV Quality</em>: I get that people have to record from their homes but maybe recording someone‚Äôs Zoom isn‚Äôt the best way to do this? I‚Äôm sympathetic, this is legit a hard problem to solve, but many large conferences are still charging an arm and a leg to sponsors (and less for attendees but that‚Äôs a different point) so how about you do local recording then edit things later? If you‚Äôre going to charge me at <em>all</em> then I expect the production values to at least beat out a random Twitch streamer.</p>
</li>
<li>
<p><em>Poor Viewing Experience</em>: A tiny pop-out 720p video that artifacts when I change the size is‚Ä¶ not great. Integrate chat and Q&amp;A better. Do <em>something</em> unique with the format. I sit on enough Zoom calls. Like, why would I <em>pay money</em> to <em>watch videos</em> with a <em>worse player than YouTube</em>? There‚Äôs millions of hours of shit out there for free!</p>
</li>
<li>
<p><em>Yet Another Slack</em>: I just don‚Äôt want to join more Slack channels where people are randomly @here‚Äôing and I never know if it‚Äôs an event organizer with an announcement or some salesperson trying to coax people into their virtual booth.</p>
</li>
<li>
<p><em>Did I Mention Virtual Booths Yet</em>: I have never interacted with anyone in a Virtual Booth and I never will. This appears to be a common sentiment.</p>
</li>
</ul>

<p>Alright, let‚Äôs flip the script. I‚Äôm wearing my business hat now.</p>
<ul>
<li>
<p><em>Bad UX</em>: You think the <em>attendee</em> experience is bad, the admin/sponsor controls and views on these platforms is worse. Arbitrary requirements, poor control over look and feel, nah fam miss me with this.</p>
</li>
<li>
<p><em>Poor Interactivity</em>: You know what‚Äôs great about a real booth? People wander by and they get interested. Why do they wander by? Because they‚Äôre not at home, they need to kill time, and the snacks are on the trade floor. Maybe they just want a t-shirt or whatever, fine, but we do actually get a lot of really valuable feedback and eyes on the product by doing demos. This is extremely useful, and it simply doesn‚Äôt happen at virtual events.</p>
</li>
<li>
<p><em>Attendee Impedence Mismatch</em>: This is more of a theory but I suspect that the attendee mix for virtual events in terms of titles is significantly out-of-balance compared to in-person events. One popular (<em>n</em> = ~1300) virtual event this year had self-reported attendance of only 4% for management roles, but over 40% IC (developer/devops/ops) roles. My hypothesis is that ‚Äúdecision makers‚Äù are less likely to attend virtual events because they‚Äôre intensely overbooked during the in-person -&gt; distributed team transition period and are oversubscribed on other things, which translates into less useful direct sales conversations, but I could be off-base here. If nothing else, my anecdata from talking about this seems to indicate that attendees just don‚Äôt really go to virtual booths.</p>
</li>
<li>
<p><em>Success Looks Different</em>: This is one of those ‚Äòtwo-way street‚Äô problems, but I don‚Äôt think organizers did a great job in general making sponsors successful, and I don‚Äôt think sponsors had the muscle to make themselves successful in a lot of ways. Trying to be too different caused a lot of friction, however, and during a time of reinvention this friction reduced experimentation in my opinion.</p>
</li>
</ul>

<p>Last part - the speaker experience.</p>
<ul>
<li>
<p><em>My Home Is Not Your Home</em>: One of the low key worst things about the pandemic has been the idea of us ‚Äòopening up our homes‚Äô and letting people see how we live. Could we fuckin‚Äô not? Like I don‚Äôt believe that I even have to discuss this but we should probably put the Room Rater person on trial for crimes against humanity. I don‚Äôt <em>want</em> to have to be super concious about my webcam or audio or whatever, I don‚Äôt <em>want</em> to ‚Ä¶</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aparker.io/posts/virtual-events-suck/">https://aparker.io/posts/virtual-events-suck/</a></em></p>]]>
            </description>
            <link>https://aparker.io/posts/virtual-events-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491847</guid>
            <pubDate>Mon, 21 Dec 2020 03:21:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix Recovery Legend (1986)]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 46 (<a href="https://news.ycombinator.com/item?id=25491790">thread link</a>) | @signa11
<br/>
December 20, 2020 | https://www.ee.ryerson.ca/~elf/hack/recovery.html | <a href="https://web.archive.org/web/*/https://www.ee.ryerson.ca/~elf/hack/recovery.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<h4>This classic article from Mario Wolczko first
appeared on Usenet in 1986.  </h4>

Have you ever left your terminal logged in, only to find when you
came back to it that a (supposed) friend had typed "<kbd>rm -rf
~/*</kbd>" and was hovering over the keyboard with threats along the
lines of "<em>lend me a fiver 'til Thursday, or I hit return</em>"?
Undoubtedly the person in question would not have had the nerve to
inflict such a trauma upon you, and was doing it in jest.  So you've
probably never experienced the worst of such disasters....<p>


It was a quiet Wednesday afternoon.  Wednesday, 1st October, 15:15
BST, to be precise, when Peter, an office-mate of mine, leaned away
from his terminal and said to me, "<em>Mario, I'm having a little
trouble sending mail.</em>" Knowing that msg was capable of confusing
even the most capable of people, I sauntered over to his terminal to
see what was wrong.  A strange error message of the form (I forget
the exact details) "<kbd>cannot access /foo/bar for userid 147</kbd>"
had been issued by msg.  My first thought was "<em>Who's userid 147?;
the sender of the message, the destination, or what?</em>" So I leant
over to another terminal, already logged in, and typed</p><blockquote>        <kbd>grep 147 /etc/passwd</kbd></blockquote>

<p>only to receive the response</p><blockquote>        <kbd>/etc/passwd: No such file or directory.</kbd></blockquote>

Instantly, I guessed that something was amiss.  This was confirmed
when in response to<blockquote>        <kbd>ls /etc</kbd></blockquote>

<p>I got</p><blockquote>        <kbd>ls: not found.</kbd></blockquote>

I suggested to Peter that it would be a good idea not to try anything
for a while, and went off to find our system manager.<p>

When I arrived at his office, his door was ajar, and within ten
seconds I realised what the problem was.  James, our manager, was
sat down, head in hands, hands between knees, as one whose world has
just come to an end.  Our newly-appointed system programmer, Neil, was
beside him, gazing listlessly at the screen of his terminal.  And at
the top of the screen I spied the following lines:</p><blockquote>
        <kbd># cd <br>
        # rm -rf *</kbd>
</blockquote>

<p>Oh, shit, I thought.  That would just about explain it.</p><p>


I can't remember what happened in the succeeding minutes; my memory
is just a blur.  I do remember trying <kbd>ls</kbd> (again),
<kbd>ps</kbd>, <kbd>who</kbd> and maybe a few other commands beside,
all to no avail.  The next thing I remember was being at my terminal
again (a multi-window graphics terminal), and typing</p><blockquote>
        <kbd>cd /<br>
        echo *</kbd>
</blockquote>
<p>I owe a debt of thanks to David Korn for making <kbd>echo</kbd> a
built-in of his shell; needless to say, <kbd>/bin</kbd>, together
with <kbd>/bin/echo</kbd>, had been deleted.  What transpired in the
next few minutes was that <kbd>/dev</kbd>, <kbd>/etc</kbd> and
<kbd>/lib</kbd> had also gone in their entirety; fortunately Neil had
interrupted <kbd>rm</kbd> while it was somewhere down below
<kbd>/news</kbd>, and <kbd>/tmp</kbd>, <kbd>/usr</kbd> and
<kbd>/users</kbd> were all untouched.</p><p>


Meanwhile James had made for our tape cupboard and had retrieved what
claimed to be a dump tape of the root filesystem, taken four weeks
earlier.  The pressing question was, "<em>How do we recover the
contents of the tape?</em>".  Not only had we lost
<kbd>/etc/restore</kbd>, but all of the device entries for the tape
deck had vanished.  And where does <kbd>mknod</kbd> live?  You
guessed it, <kbd>/etc</kbd>.  How about recovery across Ethernet of
any of this from another VAX?  Well, <kbd>/bin/tar</kbd> had gone,
and thoughtfully the Berkeley people had put <kbd>rcp</kbd> in
<kbd>/bin</kbd> in the 4.3 distribution.  What's more, none of the
Ether stuff wanted to know without <kbd>/etc/hosts</kbd> at least.
We found a version of <kbd>cpio</kbd> in <kbd>/usr/local</kbd>, but
that was unlikely to do us any good without a tape deck.</p><p>


Alternatively, we could get the boot tape out and rebuild the root
filesystem, but neither James nor Neil had done that before, and we
weren't sure that the first thing to happen would be that the whole
disk would be re-formatted, losing all our user files.  (We take dumps
of the user files every Thursday; by Murphy's Law this had to happen
on a Wednesday).  Another solution might be to borrow a disk from
another VAX, boot off that, and tidy up later, but that would have
entailed calling the DEC engineer out, at the very least.  We had a
number of users in the final throes of writing up PhD theses and the
loss of a maybe a weeks' work (not to mention the machine down time)
was unthinkable.</p><p>


So, what to do?  The next idea was to write a program to make a
device descriptor for the tape deck, but we all know where
<kbd>cc</kbd>, <kbd>as</kbd> and <kbd>ld</kbd> live.  Or maybe make
skeletal entries for <kbd>/etc/passwd</kbd>, <kbd>/etc/hosts</kbd>
and so on, so that <kbd>/usr/bin/ftp</kbd> would work.  By sheer
luck, I had a <kbd>gnuemacs</kbd> still running in one of my windows,
which we could use to create <kbd>passwd</kbd>, etc., but the first
step was to create a directory to put them in.  Of course
<kbd>/bin/mkdir</kbd> had gone, and so had <kbd>/bin/mv</kbd>, so we
couldn't rename <kbd>/tmp</kbd> to <kbd>/etc</kbd>.  However, this
looked like a reasonable line of attack.</p><p>


By now we had been joined by Alasdair, our resident UNIX guru, and as
luck would have it, someone who knows VAX assembler.  So our plan
became this: write a program in assembler which would either rename
<kbd>/tmp</kbd> to <kbd>/etc</kbd>, or make <kbd>/etc</kbd>, assemble
it on another VAX, <kbd>uuencode</kbd> it, type in the uuencoded file
using my gnu, <kbd>uudecode</kbd> it (some bright spark had thought
to put <kbd>uudecode</kbd> in <kbd>/usr/bin</kbd>), run it, and hey
presto, it would all be plain sailing from there.  By yet another
miracle of good fortune, the terminal from which the damage had been
done was still <kbd>su</kbd>'d to root (<kbd>su</kbd> is in
<kbd>/bin</kbd>, remember?), so at least we stood a chance of all
this working.</p><p>


Off we set on our merry way, and within only an hour we had managed
to concoct the dozen or so lines of assembler to create
<kbd>/etc</kbd>.  The stripped binary was only 76 bytes long, so we
converted it to hex (slightly more readable than the output of
<kbd>uuencode</kbd>), and typed it in using my editor.  If any of you
ever have the same problem, here's the hex for future reference:</p><blockquote>
   <kbd>070100002c000000000000000000000000000000000000000000000000000000<br>
        0000dd8fff010000dd8f27000000fb02ef07000000fb01ef070000000000bc8f<br>
		8800040000bc012f65746300</kbd>
</blockquote>

<p>

I had a handy program around (doesn't everybody?) for converting
ASCII hex to binary, and the output of <kbd>/usr/bin/sum</kbd>
tallied with our original binary.  But hang on---how do you set
execute permission without <kbd>/bin/chmod</kbd>?  A few seconds
thought (which as usual, lasted a couple of minutes) suggested that
we write the binary on top of an already existing binary, owned by
me...problem solved.

So along we trotted to the terminal with the root login, carefully
remembered to set the umask to 0 (so that I could create files in it
using my gnu), and ran the binary.  So now we had a <kbd>/etc</kbd>,
writable by all.  From there it was but a few easy steps to creating
<kbd>passwd</kbd>, <kbd>hosts</kbd>, <kbd>services</kbd>,
<kbd>protocols</kbd>, (etc), and then <kbd>ftp</kbd> was willing to
play ball.  Then we recovered the contents of <kbd>/bin</kbd> across
the ether (it's amazing how much you come to miss <kbd>ls</kbd> after
just a few, short hours), and selected files from <kbd>/etc</kbd>.
The key file was <kbd>/etc/rrestore</kbd>, with which we recovered
<kbd>/dev</kbd> from the dump tape, and the rest is history.</p><p>


Now, you're asking yourself (as I am), what's the moral of this
story?  Well, for one thing, you must always remember the immortal
words, <strong>DON'T PANIC</strong>.  Our initial reaction was to
reboot the machine and try everything as single user, but it's
unlikely it would have come up without <kbd>/etc/init</kbd> and
<kbd>/bin/sh</kbd>.  Rational thought saved us from this one.</p><p>


The next thing to remember is that UNIX tools really can be put to
unusual purposes.  Even without my <kbd>gnuemacs</kbd>, we could have
survived by using, say, <kbd>/usr/bin/grep</kbd> as a substitute for
<kbd>/bin/cat</kbd>.</p><p>


And the final thing is, it's amazing how much of the system you can
delete without it falling apart completely.  Apart from the fact that
nobody could login (<kbd>/bin/login</kbd>?), and most of the useful
commands had gone, everything else seemed normal.  Of course, some
things can't stand life without say <kbd>/etc/termcap</kbd>, or
<kbd>/dev/kmem</kbd>, or <kbd>/etc/utmp</kbd>, but by and large it
all hangs together.</p><p>


I shall leave you with this question: if you were placed in the same
situation, and had the presence of mind that always comes with
hindsight, could you have got out of it in a simpler or easier way?
Answers on a postage stamp to:</p><pre>Mario Wolczko
------------------------------------------------------------------------
Dept. of Computer Science       ARPA:   miw%uk.ac.man.cs.ux@cs.ucl.ac.uk
The University                  USENET: mcvax!ukc!man.cs.ux!miw
Manchester M13 9PL              JANET:  miw@uk.ac.man.cs.ux
U.K.                            061-273 7121 x 5699
------------------------------------------------------------------------
</pre>

<hr>

<address><a href="https://www.ee.ryerson.ca/~elf/hack/index.html">Hacker's Wisdom</a>: Unix Recovery
Legend</address>

<!-- hhmts start -->
Last modified: Thu Mar  7 13:47:40 EST 1996
<!-- hhmts end --></div>]]>
            </description>
            <link>https://www.ee.ryerson.ca/~elf/hack/recovery.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491790</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes CSS Hard to Master]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491789">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/ | <a href="https://web.archive.org/web/*/https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Last week, <a href="https://twitter.com/EmmaBostian/status/1334435314673348609">Emma Bostian tweeted about how she was sick of ‚Äú[CSS]‚Äôs shit.‚Äù</a> <a href="https://twitter.com/EmmaBostian/status/1334863522749145096">She later apologised</a>, but her wording suggests she still thinks it isn‚Äôt lack of knowledge. It‚Äôs fairly common for software engineers to complain about CSS. Interestingly enough, that portion of the web development community also thinks CSS is easy.</p>
<p>In contrast, <a href="https://twitter.com/meyerweb/status/1334862797822373889">Eric Meyer</a>, <a href="https://twitter.com/SaraSoueidan/status/1334796914831855617">Sara Soueidan</a>, <a href="https://twitter.com/brucel/status/1334818455275626499">Bruce Lawson</a>, and more (principal) web developers seem to agree that CSS is hard to master. It‚Äôs interesting how experts say CSS is hard, while a group of people who specialise in other technology say otherwise.</p>
<p>I feel we, the community, have to acknowledge that CSS is easy to get started with and hard to master. Let‚Äôs reflect on the language and find out what makes it hard.</p>
<h2 id="syntax-and-common-properties"><a href="#syntax-and-common-properties">#</a> Syntax And Common Properties</h2>
<p>Back in 2013, Hugo ‚ÄúKitty‚Äù Giraudel published <a href="https://hugogiraudel.com/2013/04/15/css-is-easy/">CSS is Easy</a>, in which they also write about how CSS is perceived as easy. In the article, Kitty makes an excellent point: ‚ÄúCSS is easy‚Ä¶ syntactically.‚Äù I wholeheartedly agree. Consider the following example:</p>
<pre><code><span>body</span> {
  <span>background-color</span>: black;
  <span>color</span>: white;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>body</span> {
    <span>background-color</span>: white;
    <span>color</span>: black;
  }
}
</code></pre>
<p>In this snippet, you can see much of the syntax used in CSS. There are selectors, declarations, I even added an at-rule (<code>@media</code>). The properties and values in this example are straight-forward; they just work. The at-rule, although syntactically simple, adds some cognitive load to understanding this snippet. It creates a relationship between what‚Äôs inside and outside the at-rule. In other words, to determine what colour the <code>body</code> is, we have to parse the entire file mentally.</p>
<p>This snippet isn‚Äôt too complex, but as we get more code the number of relationships (like the at-rule) do too.</p>
<h2 id="a-web-of-relationships"><a href="#a-web-of-relationships">#</a> A Web Of Relationships</h2>
<p>Syntax and basic properties are pretty easy, indeed. However, the learning curve of CSS quickly gets steeper when you start dealing with various relationships. Let‚Äôs look at some.</p>
<h3 id="property-sets"><a href="#property-sets">#</a> Property Sets</h3>
<p>Many properties are part of a set, meaning you may need several others to make one work. For instance, the <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, and the <code>z-index</code> properties are ignored until you add the <code>position</code> property and set it to anything but <code>static</code>. That means that you have to learn a couple of properties of a set and how they relate to each other before being able to use one. If you‚Äôre unaware which properties rely on others, it can be extremely frustrating because it may appear that a declaration just doesn‚Äôt work.</p>
<p>Additionally, it‚Äôs not always obvious which pieces of the set are declared. Consider the following example:</p>
<pre><code><span>.snackbar</span> {
  <span>position</span>: fixed;
  <span>bottom</span>: <span>1rem</span>;
  <span>left</span>: <span>1rem</span>;
  <span>right</span>: <span>1rem</span>;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>.snackbar</span> {
    <span>bottom</span>: <span>2rem</span>;
    <span>left</span>: <span>2rem</span>;
    <span>right</span>: <span>2rem</span>;
  }
}
</code></pre>
<p>If we look at the first rule, we can easily tell how an element with the <code>snackbar</code> class would be positioned on our page. If we look at the second rule, the one in the <code>@media</code> at-rule, we‚Äôre not so sure. We‚Äôd have to look up the <code>.snackbar</code> rule outside the at-rule. This example is fairly obvious, but it can get pretty obscure. The <code>position: fixed</code> declaration could be set elsewhere, on another selector, or inline.</p>
<h3 id="the-dom"><a href="#the-dom">#</a> The <abbr title="Document Object Model">DOM</abbr></h3>
<p>We can‚Äôt determine which styles are applied just by looking at your CSS. The HTML, or rather the DOM, also affects them. We have to consider the tag name of the element, its attributes, its siblings, its parents all the way up to the root node, and all relevant styles. If you render HTML server- or client-side, all of this may be dynamic and influenced by the application state.</p>
<p>The adjacent sibling combinator (<code>+</code>) is a simple example of how HTML influences CSS. The following style is only applied when a <code>li</code> is followed by another:</p>
<pre><code><span>li</span> + <span>li</span> { <span>margin-top</span>: <span>1rem</span>; }
</code></pre>
<p>This example is quite expressive but doesn‚Äôt have to be. Another example that took me a while to get as a beginner was using <code>position: absolute</code> on an element with a parent with <code>position: relative</code>. The element with <code>position: absolute</code> is positioned relative to the viewport or relative to an ancestor element with <code>position: relative</code>. In order to place this <code>absolute</code> element correctly in the interface, we have to know whether the element sits in a container with <code>position: relative</code>. Again, we‚Äôd have to look at the DOM, and at all it‚Äôs states, to be sure this is the case.</p>
<p>A similar, perhaps more familiar, example is the <code>flex</code> property. It only works if the element is a direct child of an element with the <code>display: flex</code> declaration.</p>
<p>When we write CSS, we always have to consider the DOM.</p>
<h3 id="cascade"><a href="#cascade">#</a> Cascade</h3>
<p>Let‚Äôs say I want text and links in the <code>&lt;nav&gt;</code> element to be red. We might write the following CSS:</p>
<pre><code><span>nav</span> { <span>color</span>: red; }
<span>nav</span> <span>a</span> { <span>color</span>: inherit; }
</code></pre>
<p>These two simple declarations imply various relationships. The link colour is now dependent on the colour of the text. Because of that, we can set the text colour of the <code>&lt;nav&gt;</code> element and the link will inherit this colour. If we remove either of these two declarations, the link colour won‚Äôt be red anymore.</p>
<p>The flexibility cascade gives has its benefits, but it‚Äôs not hard to imagine that it can get difficult to track the relationships between all styles. It‚Äôs no surprise that many opt to use cascade as little as possible.</p>
<h2 id="compatibility"><a href="#compatibility">#</a> Compatibility</h2>
<p>Designing an interface with CSS that doesn‚Äôt break is no easy task. There are numerous devices, browsers, resolutions, and users we have to take into account. We can also account for device settings, like dark mode using <code>prefers-color-scheme: dark/light</code>. On top of that, there are often various conditions in the interface that affect the styling as well.</p>
<p>Every combination of all these states and overrides have to be taken into account to produce the right output style. Again, this is no easy feat. It often involves a lot of tools and testing during and after development.</p>
<h2 id="maintainability"><a href="#maintainability">#</a> Maintainability</h2>
<p>Like all other code, CSS should be clean, readable, and maintainable. We can group styles into various files, or prefix selectors, but all rules live globally. This is a challenge, but also greatly contributes to keeping the code <abbr title="Don‚Äôt Repeat Yourself">DRY</abbr>.</p>
<p>I earlier explained various types of relationships in CSS. They play a part in maintainability as well. Some of the methodologies used in CSS ‚Äî like atomic design, <abbr title="Block Element Modifier">BEM</abbr>, <abbr title="Inverted Triangle CSS">ITCSS</abbr>, and others ‚Äî help to keep the coupling in check. They‚Äôre similar to paradigms and best practises in programming, and also steepen the learning curve and requires additional knowledge.</p>
<p>Then there are also preprocessors. We have a lot of them (e.g. PostCSS, Sass, LESS, and Stylus) at our disposal to do things we can‚Äôt do with vanilla CSS. This usually improves maintainability but does add another layer of complexity.</p>
<p>Finally, not unlike other languages, there often are various solutions to one problem. A common example is deciding between <code>display: inline-block</code>, the <code>float</code> property, flexbox, or grid to horizontally stack a list of items. Each has its pros and cons. When mentoring beginners, I found this is a challenge for them. It‚Äôs also difficult to convey the differences of these options ‚Äî that are often subtle ‚Äî and which is the most robust in a given situation.</p>
<p>All together, maintainability in CSS is a tradeoff. The code gets more complex syntactically and bound by self-imposed rules, but (hopefully) reduces the effort it takes to understand and modify the code.</p>
<h2 id="concluding"><a href="#concluding">#</a> Concluding</h2>
<p>CSS may seem simple at first, but the learning curve isn‚Äôt linear; mastering it is hard. By no means is the language perfect, but it‚Äôs amazingly efficient at what it‚Äôs designed to do. Despite its simple syntax, there‚Äôs little it can‚Äôt do.</p>
<p>I think mastering CSS comes down to having a good amount of knowledge about it, recognising the subtle dependencies between different declarations, rules, and the DOM, understanding how they make your CSS complex, and how to best avoid them. Reaching that point is naturally frustrating because you will run into code that is a tangled mess where the tiniest edit might change the interface in unexpected ways.</p>
<p>I worry that the way we think about CSS might affect how beginners perceive the language. If they are taught that CSS is easy, they might be discouraged from seeking help when they struggle or just blame the language. Admitting you struggle with something is difficult enough. Let‚Äôs not make it worse for them.</p>
<p>I feel it‚Äôs better if we acknowledge the complexity of writing CSS. We might also stop looking down on CSS specialists. Today, they‚Äôre often considered half a developer, whilst (JavaScript) software engineers (or UI engineers, or whatever they‚Äôre called nowadays) that know little about the complexities of CSS are considered full-fledged front-end developers. We see this on social media, in job openings, and in pay.</p>
<p>Thanks to Danielle, Hidde, Sven, and Thijs for reviewing this post.</p>
</div></div>]]>
            </description>
            <link>https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491789</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Russian Covid vaccine scientist dead w stab wounds after falling from 14th floor]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25491576">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/ | <a href="https://web.archive.org/web/*/https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491576</guid>
            <pubDate>Mon, 21 Dec 2020 02:30:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cakelisp: A Programming Language for Games]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 33 (<a href="https://news.ycombinator.com/item?id=25491568">thread link</a>) | @makuto
<br/>
December 20, 2020 | https://macoy.me/blog/programming/CakelispIntro | <a href="https://web.archive.org/web/*/https://macoy.me/blog/programming/CakelispIntro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p><em>Update:</em> See the <a href="https://news.ycombinator.com/item?id=25491568">Hacker News thread</a>, <a href="https://www.reddit.com/r/programming/comments/kh6ox0/cakelisp_a_programming_language_for_games/">/r/programming</a>, <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/kh6gh2/cakelisp_a_programming_language_for_games/">/r/ProgrammingLanguages</a>, and <a href="https://www.reddit.com/r/gamedev/comments/kh1p0a/cakelisp_a_programming_language_for_games/">/r/gamedev</a> posts for discussions on this article and Cakelisp.</p>
<p>I have been working on a new programming language since the end of August 2020. It is hosted on <a href="https://github.com/makuto/cakelisp/">Github</a>, and mirrored on <a href="https://macoy.me/code/macoy/cakelisp/">my site</a>.</p>
<p>If you want to see a working example first, <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame.cake</a> is a simple audio looper with Ogre 3D graphics and SDL for windowing, input, and audio. This demo supports code hot-reloading and doesn't require an external build system, only Cakelisp. You can also check <a href="https://macoy.me/code/macoy/cakelisp/src/branch/master/runtime/Macros.cake">Macros.cake</a>, which demonstrates some use-cases for compile-time code.</p>
<p>I figured showing non-trivial examples would be much more interesting. It also proves that Cakelisp is working.</p>

<p>Cakelisp is built for me first, but it should appeal to fellow programmers who know what they're doing and want to try a more powerful language.</p>
<p>Cakelisp might be for you if you want‚Ä¶</p>
<ul>
<li><strong>Uncompromised performance</strong></li>
<li><strong>Trust in you, the programmer</strong></li>
<li><strong>Powerful code generation</strong></li>
</ul>
<p>If any of the things in that list don't make sense to you, or you think you're already getting them in language <em>X</em>, then Cakelisp isn't for you, and that's okay! We have different domains and different problems, so it makes some sense to use different languages and methodologies.</p>
<p>While many languages have these features, few have the combination of all three. Lisp has extremely powerful code generation, but makes serious performance compromises. C is great for performance but can require extremely repetitive code writing to accomplish tasks a simple code generator could handle. Rust is fast (well, apart from compilation, which is very important for iterative development to be productive), but doesn't trust the programmer.</p>

<p>My goal is to "have my cake and eat it too", meaning all three of these features in one coherent package. Importantly, there isn't one dominating principle in Cakelisp (no <a href="https://www.youtube.com/watch?v=TH9VCN6UkyQ">Big Idea</a>). I've found that the small things like removing the need for header files, no longer dealing with external build systems, or being able to run Cakelisp files like scripts, end up making a big difference when combined in one package.</p>
<p>It is useful to go over the goals in detail so you can understand my decisions.</p>
<h2 id="uncompromised-performance">Uncompromised performance</h2>
<p>This means no garbage collection, no type boxing/unboxing, etc. Fewer abstractions (besides the ones you create) between you and what the computer is actually doing. Idiomatic usage of the language should result in performance comparable with C (in most cases, it should be identical, because it's only a thin layer on C).</p>
<h2 id="trust-in-you-the-programmer">Trust in you, the programmer</h2>
<p>While languages like Rust offer benefits in terms of security and stability, they cost programmers in terms of productivity. It makes sense to value safety so highly if your code is safety-critical (operating systems, aerospace, automotive, etc.), but it's much less valuable when safety isn't as important (e.g. in games).</p>
<p>In a perfect world all programs would be as robust as space flight software, but in reality, that level of robustness is unnecessary for most programs. It's important to realize that the safety focus is just one way of doing things, not the <em>One True Way</em> or anything.</p>
<h2 id="powerful-code-generation">Powerful code generation</h2>
<p>In my opinion, most languages offer far too little opportunity for the programmer to automate the actual writing of code. This power also relates to trusting in the programmer, because gone wild, the code can become incomprehensible.</p>
<p>The company I work for has what I consider to be a state-of-the-art code generator built for the company's use-case: multi-platform MMOs. It's used very effectively on serialization, RPC, automatic commands, monitoring, automatic documentation, and more.</p>
<p>To give more credence to the use of code generation in games, <a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/GameplayArchitecture/index.html">Unreal</a> and <a href="https://www.youtube.com/watch?v=wiJqUWfR90I">Naughty Dog</a> also rely on code generation.</p>
<h2 id="simplify-project-setup-and-management">Simplify project setup and management</h2>
<p>I want to dramatically reduce time wasted on C++ project set-up and "code logistics". This includes setting up build systems, creating header files, adding and managing new C/C++ 3rd party libraries, and other things of that ilk.</p>
<h2 id="gain-more-power">Gain more power!</h2>
<p>Every language has limitations. The lack of straightforward, all-powerful code generation was my primary gripe with C++.</p>
<p>For example, automatically creating function and structure bindings using C++ template metaprogramming is very complex. These are two very useful tools in game development: function bindings for commands, scripting languages, and RPC; structure bindings for serialization or game monitors.</p>
<p>I also wanted features like hot-reloading (being able to load new versions of the code without restarting the program/losing runtime state). Cakelisp made it possible to implement hot-reloading entirely in "user-space", thanks to code modification.</p>
<h2 id="have-my-cake-and-eat-it-too.">"Have my cake and eat it too."</h2>
<p>By this I mean lose little-to-nothing on metrics I care about, which include build time, runtime performance, overall complexity, and various other things. I looked into several languages in my <a href="https://macoy.me/code/macoy/LanguageTests">LanguageTests</a> experiment and found they all had major drawbacks I couldn't accept.</p>
<h2 id="unexpected-freedom">Unexpected freedom</h2>
<p>I did not realize when I started Cakelisp how freeing it felt. All of the sudden, I got to decide what made sense to <em>me</em>, not what made sense to previous language designers.</p>
<h3 id="freedom-in-syntax">Freedom in syntax</h3>
<p>A simple example is type declarations. In C:</p>

<p>The same variable, in Cakelisp:</p>

<p>In my opinion C type declarations are much harder to parse than my explicit type declarations. You need to work backwards from the name to properly interpret the type. The parentheses do add more typing, but they're more clear, machine-parseable, and can be read naturally (e.g. read left to right "pointer to constant character" vs. C's "constant character pointer", which seems worse in my mind).</p>
<p>My form also handles arrays as part of the type: <code>(var my-array ([] 5 int))</code> rather than <code>int myArray[5];</code>, another way it is more consistent, readable, and parsable.</p>
<p>I chose to swap the order of name and type because it places more emphasis on the name. A well-written program will convey more useful information in the name than in the type, so it makes sense to me to have it come first for the reader.</p>
<h3 id="freedom-in-process">Freedom in process</h3>
<p>I also found that having an executable which preprocesses my code exactly how I want it opens the door to a huge amount of awesome features:</p>
<ul>
<li>Compile-time code execution. "Macros" and "Generators" are defined in-line with the rest of your code, making them feel like a natural part of your code. Defining them in-line makes it acceptable to add one-off macros, whereas adding such a thing to an external code generator would quickly become unmaintainable</li>
<li>Build optimization. A recent idea I discovered is automatically creating precompiled headers for large batches of 3rd-party headers. This would be a complex task that would need to be integrated in whatever build system you use, whereas Cakelisp can have it built-in</li>
<li>Other data processing. Compile-time code execution means you can do things like prepare assets, download 3rd-party code, run tests, etc. without having to set up all these additional tools</li>
</ul>

<p>I was inspired by Naughty Dog's use of <a href="https://en.wikipedia.org/wiki/Game_Oriented_Assembly_Lisp">Game Oriented Assembly Lisp</a>, GOOL, and <a href="https://www.youtube.com/watch?v=oSmqbnhHp1c">Racket/Scheme</a> (on their modern titles). I've also taken several ideas from Jonathan Blow's <a href="https://www.youtube.com/user/jblow888">talks on Jai</a>.</p>
<p>I'm a software engineer in the game industry. I've been working since July 2015 at a studio that makes cross-platform MMOs. The company has a custom engine written in C (with some C++).</p>
<p>I <a href="https://macoy.me/code/macoy/LanguageTests">experimented</a> with other languages before deciding I needed to write my own.</p>

<p>Now that my goals are clear, I will show you how I approached achieving them.</p>
<h2 id="notation">Notation</h2>
<p>Cakelisp uses an <a href="https://en.wikipedia.org/wiki/S-expression">S-expression</a>-style notation. Here is some Cakelisp code from <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame</a>:</p>

<p>There are a few things you can notice from reading this code:</p>
<ul>
<li>Types. Cakelisp is strongly- and explicitly-typed. I prefer reading code with explicit types because I can better imagine what the computer is actually doing, and what possibilities I have with each variable</li>
<li>Name-type order. I talked about this in a previous section. I wanted to emphasize the name of a variable for conveying meaning, especially when you may have many variables of the same type</li>
<li>Explicit <code>return</code>. I find I prefer code where return points are made explicit. Lisp will implicitly return the result of the last evaluation</li>
<li>Lisp-y style. The parentheses, plus keywords like <code>unless</code>, <code>defun</code>, <code>var</code>, <code>at</code>, and <code>incr</code>. I matched Lisp only when I didn't have strong opinions for a better notation. I am not trying to create something which is compatible with existing Lisps</li>
<li>C types and function calls. Cakelisp has seamless C interop, which means Cakelisp's "standard library" <em>is</em> C's standard library. No bindings had to be written to use the C types or make the function calls</li>
</ul>
<p>You can read more Cakelisp code in <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/src">Gamelib</a>.</p>
<p>You should think of Cakelisp more as "C in S-expressions" rather than "Lisp with C performance". If you know C, you'll have a relatively smooth transition to Cakelisp. If you only know Lisp, you're going to have a rougher time.</p>
<h3 id="why-s-expressions">Why S-expressions?</h3>
<p>When I set out to make Cakelisp, I decided on S-expressions syntax for several reasons:</p>
<ul>
<li>Parsability. S-expressions shift the burden of creating a syntax tree onto the programmer. This does result on more work for the human, but I value its extremely explicit nature. It also facilitates simpler tokenization, domain-specific-language implementation, and external tool support</li>
<li>Consistency. There are only four types of tokens in Cakelisp: open and close parenthesis, symbol, and string. The consistency is admittedly limiting, so things like paths (<code>myThing-&gt;member.member</code>) become much more verbose to type, unfortunately. However, this limitation keeps Cakelisp code parsable, and has an elegant feel that I appreciate</li>
</ul>
<p>I don't believe there is one notation to rule them all, especially after I've encountered the disadvantages of using S-exprs. I'm still happy with the decision though, and it does give Cakelisp a novel and distinguishing characteristic from the many ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macoy.me/blog/programming/CakelispIntro">https://macoy.me/blog/programming/CakelispIntro</a></em></p>]]>
            </description>
            <link>https://macoy.me/blog/programming/CakelispIntro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491568</guid>
            <pubDate>Mon, 21 Dec 2020 02:28:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491450">thread link</a>) | @Twinklebear
<br/>
December 20, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13‚Äù, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we‚Äôll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we‚Äôll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I‚Äôve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there‚Äôs a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don‚Äôt support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware‚Äôs performance.</p>

<blockquote>
  <p>What‚Äôs a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar‚Äôs Renderman,
Disney‚Äôs Hyperion, Autodesk‚Äôs Arnold, and Weta‚Äôs Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who‚Äôve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal‚Äôs API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">‚ÄúThe RTX Shader Binding Table Three Ways‚Äù</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney‚Äôs Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There‚Äôs also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX‚Äôs API provides a similar simplification, here‚Äôs the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It‚Äôs also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they‚Äôre available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It‚Äôd be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491450</guid>
            <pubDate>Mon, 21 Dec 2020 02:07:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PicoLisp Chess]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25491356">thread link</a>) | @simonpure
<br/>
December 20, 2020 | https://software-lab.de/chess/README | <a href="https://web.archive.org/web/*/https://software-lab.de/chess/README">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>|<n>|<b>|<q>|<k>|<b>|<n>|<r>|
      +---+---+---+---+---+---+---+---+
    7 |<p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|
      +---+---+---+---+---+---+---+---+
    6 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    5 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    4 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    3 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    2 | P | P | P | P | P | P | P | P |
      +---+---+---+---+---+---+---+---+
    1 | R | N | B | Q | K | B | N | R |
      +---+---+---+---+---+---+---+---+
        a   b   c   d   e   f   g   h

For a local installation, supply instead of "pil" the actual path like "./pil"
or "../pil21/pil".

The pieces are indicated by the letters 'K'ing, 'Q'ueen, 'R'ook, 'B'ishop,
k'N'ight and 'P'awn, with black pieces in angular brackets.

You can enter your moves with the field names (in lower case) for the "from" and
"to" positions:

: (go e2 e4)

Castling may be entered by just specifying the king's move:

: (go e1 g1)

To promote a pawn to some piece other than a queen, you can specify a class:

: (go h7 h8 +Knight)

To undo one or several moves, enter

: (go -)

and to redo them

: (go +)

To switch sides (and have the computer play against itself), call 'go' without
arguments:

: (go)

The initial board position can be restored with

: (main)

The global variable '*Depth' holds the maximal depth of the alpha-beta tree
search. It defaults to 5. You may change it to some smaller value for a faster
response, or to a larger value for a deeper search:

: (setq *Depth 7)

The same effect can be achieved by passing the desired depth as the first
argument to 'main':

: (main 7)

The second (optional) argument to 'main' is your color ('NIL' for white and 'T'
for black).

To setup some given board position, call 'main' with a list of triples, with
each describing:

   1. The field
   2. The piece's classes
   3. An optional flag to indicate that the piece did not move yet

: (main 5 NIL
   (quote
      (a2 (+White +Pawn) T)
      (b1 (+White +King))
      (d4 (+Black +King)) ) )
   +---+---+---+---+---+---+---+---+
 8 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 7 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 6 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 5 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 4 |   | - |   |<k>|   | - |   | - |
   +---+---+---+---+---+---+---+---+
 3 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 2 | P | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 1 | - | K | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
     a   b   c   d   e   f   g   h

At any time, you can print the current board position in the above format to a
file with

: (ppos "file")

which later can be restored with

: (load "file")


   === PilBox and Web App ===

If you have the PilBox App installed on your Android device, just type "chess"
in the settings and press the "Download" button.

To start the Web application, use

   $ pil chess/main.l -chess~main -go +

Alternatively, you can start it with German localization as

   $ pil chess/main.l -'chess~main "DE" "de"' -go +

then point your browser to http://localhost:8080

In both cases you can interact with the chess board in this way:

   √¢‚Ç¨‚Äù To enter a move, drag a piece to the new field.
   √¢‚Ç¨‚Äù A click on the board does an auto-move and then switches sides.
   √¢‚Ç¨‚Äù The search depth can be changed with a drop-down menu.
   √¢‚Ç¨‚Äù The "New" button starts a new game, and the "Undo" and "Redo" buttons
     navigate in the history.
   √¢‚Ç¨‚Äù The text "White" or "Black" indicate who is to move next. It changes to
     "White ..." or "Black ..." while the computer is thinking.
   √¢‚Ç¨‚Äù After a move, the moved piece and the old and new positions are indicated
     above that text.

The "Setup" button switches to edit mode and allows you to change the position
manually:

   √¢‚Ç¨‚Äù A click on a piece removes it from the board.
   √¢‚Ç¨‚Äù Dragging a piece moves it to another field.
   √¢‚Ç¨‚Äù A new piece can be placed on the board by dragging it from the setup area.
   √¢‚Ç¨‚Äù The "Clear" button removes all pieces from the board.
   √¢‚Ç¨‚Äù The "New" button sets up all pieces for a new game.
   √¢‚Ç¨‚Äù The "Game" button switches back to play mode.

As in any PilBox app, you can go to the settings (wheel icon on top right) and

   √¢‚Ç¨‚Äù switch to another language in the "Language" tab or
   √¢‚Ç¨‚Äù view the App's source code by clicking on the app name "chess" in the
     "PILs" tab.


   === Credits and Copying ===

The pieces and board colors are from https://chessboardjs.com

The icon is from
   https://commons.m.wikimedia.org/wiki/File:Chess logo.PNG

(MIT/X11 License)
</k></p></r></n></b></k></q></b></n></div></div>]]>
            </description>
            <link>https://software-lab.de/chess/README</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491356</guid>
            <pubDate>Mon, 21 Dec 2020 01:51:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpunk Apology Generator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491304">thread link</a>) | @rossmohax
<br/>
December 20, 2020 | https://foone.github.io/Cyberpunk2077Apology/ | <a href="https://web.archive.org/web/*/https://foone.github.io/Cyberpunk2077Apology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>
			<div>
				<div>

						<!-- copyright footnote -->
								<p><a href="https://github.com/foone/Cyberpunk2077Apology">Code</a> by <a href="https://twitter.com/Foone">@Foone</a><span id="extra-contrib"></span>, content by <a href="#">somebody</a><span id="content-contrib"></span>. 
								<a id="playlink" href=""><span id="how-to-use"><!-- this gets replaced by scripts.js based on the generator, but the default option is "Play this game" --></span> on 
								<span id="where-to-use"><!-- This gets replaced by scripts.js based on the generator, and the default is "the Internet Archive" --></span>!</a></p><div id="main-container">
							<div>
								

								<!-- Screenshot/Canvas -->
								<canvas id="death">No canvas!</canvas>
								<canvas id="border">No canvas!</canvas>

								<!-- Customization -->
								<p>
									
									<a href="#" id="save"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEX///8AAABVwtN+AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+IBBRQ0G7eG+BwAAACiSURBVDjLzdIxCsMwDAVQgQePOkIuIvDRmqP5Br2CS4eM8ZhBxHUUt8gE09KQtNoefGRbFgAkKQapFbNGqtBreAHbAGBTEEyCMSoM0wvdcGeF26wQksZFw2l0ZwDsB1hGsAfrYP8G7Ysa+ey3DarY7mcfN7ey606vcvoaPymMLRC1gDlIVMIVjM9JKuEKEJGJHG+xRHIL2AIjXo1/nqNxfj0AmAoaBZSWo6oAAAAASUVORK5CYII=" width="96" height="96" alt="Save image"></a>
								</p>
								<p><label>Automatic wordwrapping</label></p>
								
							</div>
							
						</div>
				</div>
			</div>
		</div>

	</div></div>]]>
            </description>
            <link>https://foone.github.io/Cyberpunk2077Apology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491304</guid>
            <pubDate>Mon, 21 Dec 2020 01:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First release of quantum operating system, Deltaflow]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25490816">thread link</a>) | @kristianpaul
<br/>
December 20, 2020 | https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/ | <a href="https://web.archive.org/web/*/https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <article>
                    

                    <div>
                        
                        <div>
                            <p>In May 2020, Riverlane revealed that they will lead a consortium which has been <a href="https://www.riverlane.com/news/2020/05/uk-companies-to-build-radically-new-operating-system-for-quantum-computers/">awarded a ¬£7.6m grant to build a radically new operating system</a> for quantum computers. We marked a ‚Äòhello world‚Äô moment in September, with the first <a href="https://www.riverlane.com/news/2020/09/commercial-breakthrough-following-success-of-deltaflow-os-trials/">successful trials of Deltaflow.OS</a>, using quantum hardware belonging to leading trapped-ion company, <a href="https://www.oxionics.com/">Oxford Ionics</a>.</p>
<p>The latest milestone is the public release of the first version of Deltaflow.OS; ‚ÄòDeltaflow-on-ARTIQ‚Äô. The product has been built to enable quantum hardware companies as well as algorithm and app developers to accelerate their research by making collaboration easier and reduce down-time in labs. This version uses simulated hardware and <a href="http://m-labs.hk/experiment-control/artiq/">ARTIQ</a> as a backend. ARTIQ is a control system which is widely used in the trapped-ion community.</p>
<p>Deltaflow-on-ARTIQ consists of the Deltaflow language (Deltalanguage), and various hardware models on which the language can be run, including an emulator of the ARTIQ control system. The Deltalanguage lets users define a graph of different hardware nodes corresponding to the type of hardware elements found in labs. After defining a programme, users can test it on increasingly realistic hardware models.</p>
<p>Robert J√∂rdens of M-Labs commented, ‚ÄúMy hands are twitching because I really want to see and try that&nbsp;emulator and Deltaflow. There are so many valuable pieces in there.‚Äù</p>
<p>A first <a href="https://vimeo.com/480247763/d8fd4a0708">public demonstration of Deltaflow.OS</a> took place at the virtual National Quantum Technologies Showcase on 6 November 2020, where the team demonstrated how a Rabi-Oscillation would be performed.</p>
<p>The release of Deltaflow-on-ARTIQ marks a significant step towards Riverlane‚Äôs mission to build a quantum operating system that is high performance, portable across all qubit technologies and scalable to millions of qubits.</p>
<p>Access <a href="https://www.riverlane.com/products/">Deltaflow-on-ARTIQ</a></p>





                        </div>
                    </div>

                </article>
            </div>
        </section></div>]]>
            </description>
            <link>https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490816</guid>
            <pubDate>Mon, 21 Dec 2020 00:06:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490741">thread link</a>) | @nicolas-siplis
<br/>
December 20, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490741</guid>
            <pubDate>Sun, 20 Dec 2020 23:49:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Static analysis with semgrep: practical examples using Docker]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490249">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://notes.eatonphil.com/static-analysis-with-semgrep.html | <a href="https://web.archive.org/web/*/https://notes.eatonphil.com/static-analysis-with-semgrep.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>In this post we'll get a basic semgrep environment set up in Docker
running some custom rules against our code.</p>
<h3 id="existing-linters">Existing linters</h3><p>Linters like <a href="https://www.pylint.org/">pylint</a> for Python or
<a href="https://eslint.org/">eslint</a> for JavaScript are great for general,
broad language standards. But what about common nits in code review
like using print statements instead of a logger, or using a defer
statement inside a for loop (Go specific), or the existence of
multiple nested loops.</p>
<p>Most developers don't have experience working with language
parsing. So it's fairly uncommon in small- and medium-sized teams to
see custom linting rules. And while no single linter or language is
that much more complex than the other (it's all just AST operations),
there is a small penalty to learning the AST and framework for each
language linter.</p>
<h3 id="semgrep">Semgrep</h3><p><a href="https://semgrep.dev/">Semgrep</a> is a generic tool for finding patterns
in source code. Unlike traditional regex (and traditional grep) it can
find recursive patterns. This makes it especially useful as a tool to
learn for finding patterns in any language.</p>
<p>An advantage of semgrep rules is that you can learn the semgrep
pattern matching syntax (which is surprisingly easy) and then you can
write rules for any language you'd like to write rules for.</p>
<p>And while the <a href="https://semgrep.dev/editor">online rule tester</a> is
awesome, I had a hard time going from that to a working sample on my
own laptop with Docker. We'll do just that.</p>
<h3 id="catching-print-statements-in-python">Catching print statements in Python</h3><p>Let's say we want a script to fail on any use of print statements in
Python:</p>
<pre><code>$ cat test/python/simple-print.py
def main():
  print("DEBUG: here")
  print("DEBUG: ", "now here")
</code></pre>
<p>The current <a href="https://semgrep.dev/editor">default example</a> shown in the
online editor happens to be for just this. Click the Advanced tab and
you'll see the following:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print("...")
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>Copy this into <code>config.yml</code>. Let's modify the pattern to
warn on all print calls, not just print calls with a single string
argument:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>The editor doesn't mention it (nor do any docs I can find) but we also
need to include two keys in the individual rule
object: <code>mode</code> and <code>languages</code>.</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Semgrep fails really weirdly if you set <code>mode</code> to
anything other than <code>search</code>, but it won't warn you that
what you set is garbage. The <code>languages</code> setting is
similarly fickle and doesn't give you much feedback if you set it
incorrectly.</p>
<p>
  Also, I'm using the "generic" language here because I don't
  understand the difference between languages and as far as I'm
  concerned the syntax I'm using here is already pretty generic.
</p><p>We run the semgrep Docker image:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=config.yml test/python
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/python/simple-print.py
severity:warning rule:fail-on-print: Semgrep found a match

2:print("DEBUG: here")
ran 1 rules on 1 files: 1 findings"")
</code></pre>
<p>And there we've got our warning!</p>
<p>
  Not completely clear to me why we're getting warned about a new
  version when we've pulled <code>latest</code> as the linked docs
  suggest. Maybe there's a newer version that hasn't made it into a
  Docker image yet.
</p><h3 id="catching-fmt.print*-statements-in-go">Catching fmt.Print* statements in Go</h3><p>Let's say we also want to fail on print statements in Go (because we
should use a logger instead):</p>
<pre><code>$ cat test/golang/simple-print.go
package main

import "fmt"

func main() {
  a := fmt.Sprintf("here")
  fmt.Println(a)
  fmt.Printf("%s\n", a)
  e := fmt.Errorf("My crazy error")
}
</code></pre>
<p>We could try to look for any <code>import "fmt"</code> code in a file
but that would fail on uses of <code>fmt.Sprintf</code>
or <code>fmt.Errorf</code> which are fine. Instead we'll just focus on
uses of <code>fmt.Printf</code> or <code>fmt.Println</code>:</p>
<pre><code>$ cat go-config.yml
rules:
- id: fail-on-print
  pattern-either:
    - pattern: fmt.Printf(...)
    - pattern: fmt.Println(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Run the Go config against the Go files:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/simple-print.go
severity:warning rule:fail-on-print: Semgrep found a match

8:fmt.Printf("%s\n", a)
--------------------------------------------------------------------------------
7:fmt.Println(a)
ran 1 rules on 1 files: 2 findings
</code></pre>
<p>Cool! Making some sense. Now let's try a harder pattern.</p>
<h3 id="catching-triple-nested-for-loops">Catching triple-nested for loops</h3><p>Let's try to warn on the triple-nested loop in this code:</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      c := i * j

      going := true
      k := 0
      for going {
        if k == c {
          break
        }

        k++
        log.Print(k)
      }
    }

    doneFirst = true
  }
}
</code></pre>
<p>If we want to catch the use of nested for loops here then we'll need
to search for the loops surrounded by arbitrary
syntax. Semgrep's <code>...</code> syntax makes this easy.</p>
<pre><code>$ cat go-config2.yml
rules:
- id: fail-on-3-loop
  pattern: |
    for ... {
      ...
      for ... {
        ...

        for ... {
          ...
        }
        ...
      }
      ...
    }
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>And run semgrep:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/loopy.go
severity:warning rule:fail-on-3-loop: Semgrep found a match

7:for i := 0; i &lt; 10; i++ {
8:              log.Print(i)
9:
10:             for j := 0; j &lt; 100; j++ {
11:                     c := i * j
12:
13:                     going := true
14:                     k := 0
15:                     for going {
16:                             if k == c {
-------- [hid 10 additional lines, adjust with --max-lines-per-finding] --------
ran 1 rules on 2 files: 1 findings
</code></pre>
<p>That's just swell.</p>
<h3 id="limits-of-static-analysis">Limits of static analysis</h3><p>Now let's say we refactor one of the inner loops into its own
function.</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func inner(i, j int) {
  c := i * j

  going := true
  k := 0
  for going {
    if k == c {
      break
    }

    k++
    log.Print(k)
  }
}

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      inner(i, j)
    }

    doneFirst = true
  }
}
</code></pre>
<p>And run semgrep again:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
 A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
 running 1 rules...
 ran 1 rules on 2 files: 0 findings
</code></pre>
<p>Well great. The 3-nested loop still exists but we can't find it
anymore because it's not syntactically obvious anymore.</p>
<p>At this point we'd need to start getting into linting based on runtime
analysis. If you know of a tool that does this and lets you write
rules like semgrep for it, please tell me!</p>
<h3 id="in-summary">In summary</h3><p>In the end though, it's still very useful to be able to learn a single
language for writing syntax rules at a high level to enforce behavior
in code. Furthermore, a generic syntax matcher helps you write easily
write rules for things that don't already have linters like YAML
or JSON configuration or Vagrantfiles.</p>
<p>It can be annoying to work around some missing docs in semgrep but
overall it's a great tool for the kit.</p>
<h4 id="feedback">Feedback</h4><p>As always, I'd love to <a href="mailto:me@eatonphil.com">hear from you</a> with
questions or ideas.</p>
<blockquote><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/semgrep?src=hash&amp;ref_src=twsrc%5Etfw">#semgrep</a> is a really neat tool for syntactic analysis. Here are a few simple examples (catch print statements, triple nested loops, etc.) using Docker. Includes some necessary info the docs don't get into<a href="https://t.co/UDHEH5JmOa">https://t.co/UDHEH5JmOa</a></p>‚Äî Phil Eaton (@phil_eaton) <a href="https://twitter.com/phil_eaton/status/1340785372364738562?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote> 

      </div>
    </div></div>]]>
            </description>
            <link>https://notes.eatonphil.com/static-analysis-with-semgrep.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490249</guid>
            <pubDate>Sun, 20 Dec 2020 22:37:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eBPF Is Awesome]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25490138">thread link</a>) | @filipn
<br/>
December 20, 2020 | https://filipnikolovski.com/posts/ebpf/ | <a href="https://web.archive.org/web/*/https://filipnikolovski.com/posts/ebpf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I was doing some research at work for tracing and observability for microservices, when I came across <a href="https://pixielabs.ai/">Pixielabs</a>. This tool advertises that you can instantly troubleshoot applications without any instrumentation or special code inside the apps, which sounded ‚ú®magical‚ú® to me. So naturally I wanted to know a little more about what enables this technology to work, and after scrolling through the site, under the ‚ÄúNo Instrumentation‚Äù section was this acronym <strong>eBPF</strong>.</p><p>After some further digging on the internet, reading the <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">design papers</a> and watching several videos, it was safe to say this technology caught my attention, so I wanted to write some notes on it and I hope this post will spark some further interest in you as well.</p><h2 id="so-what-is-ebpf-exactly">So what is eBPF exactly?</h2><p>The TL;DR version is that this technology enables sandboxed user space applications to run in the Linux kernel itself. In a way it makes the kernel <em>programmable</em> which unlocks tremendous possibilities.</p><p>You can pick <strong>any function</strong> from the kernel and execute the program every time that function runs. Running a program that ‚Äúattaches‚Äù to network sockets, tracepoints and perf events can be extremely useful. Developers can debug the kernel without having to re-compile it. There are plenty of use cases such as:</p><ul><li>Application performance &amp; troubleshooting</li><li>Networking &amp; security</li><li>Runtime security</li><li>Application tracing</li><li>Observability</li></ul><p>That‚Äôs what enables tools like Pixie to do blackbox analysis, without requiring any tinkering inside the applications that we‚Äôre trying to debug.</p><p>Originally BPF was <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">designed</a> for capturing and filtering network packets that matched specific rules, discarding any unwanted packets. That‚Äôs why it was called the ‚ÄúBerkeley Packet Filter‚Äù. If you‚Äôve ever used <strong>tcpdump</strong> you‚Äôve probably already used it. Nowadays eBPF can be used for many different things and not just packet filtering but the name stuck for some reason.</p><p>This architecture of network monitoring was vastly superior to the current existing packet capture technologies in terms of performance, mainly because the filtering was done in the kernel instead of copying all of the packets in user space and doing
the calculations there. But with the advancement of processors it didn‚Äôt hold up so well with it‚Äôs initial design. That‚Äôs why the <strong>extended BPF</strong> (eBPF) design was introduced, to take advantage of the modern processing power.</p><p>Initially eBPF was to be also used as a network packet filtering solution, but the ability to run user-space programs inside the kernel proved to be very powerful. The new design extended what the BPF virtual machine could do, which was to allow it to run on all kinds of events, not just packets, and also do certain actions instead of just the ability to filter things.</p><h2 id="how-does-it-work">How does it work?</h2><p>An eBPF program is just a sequence of 64-bit instructions. The virtual machine‚Äôs instruction set is fairly limited and it has two goals in mind:</p><ol><li>The code needs to be executed as fast as possible.</li><li>All BPF instructions must be verifiable at load time to ensure the safety of the kernel.</li></ol><p>Okay so, eBPF code is run in a safe virtual machine inside the kernel. Writing these programs is done with the help of some frameworks (like <a href="https://github.com/iovisor/bcc">bcc</a> and <a href="https://github.com/iovisor/bpftrace">bpftrace</a>) and the program bytecode is then loaded via the <a href="https://man7.org/linux/man-pages/man2/bpf.2.html"><code>bpf</code></a> system call.</p><p>To nullify the security and stability risks when running a user space program inside the kernel, several checks are performed
to ensure that the code we run is safe and that it terminates so our computer won‚Äôt freeze up.</p><p>Firstly, to even be able to run a user program which loads eBPF code, it needs root privileges to do so, unless unprivileged eBPF is enabled, in which case the process can load a program with a reduced functionality. Secondly, there‚Äôs the eBPF verifier which all eBPF programs must go through before they can be executed.</p><p>The verifier runs several checks on the code that safeguards the kernel. The first check ensures that any unbounded
loops which could freeze up the kernel are prohibited. The second check, which is more extensive, simulates the execution of the code making sure that all paths of the code run to completion, no out of bounds memory is accessed and overall the state of the virtual machine is valid.</p><p>The last step of the verification process involves restricting the eBPF program abilities, which kernel functions are callable and which data it can access. The verifier knows how to apply those restrictions because of the <strong>program type</strong>. The program type is determined when we associate the program with a certain event.</p><p>After the verification process is done, the BPF bytecode is then interpreted, or compiled by a JIT compiler, into native instructions that run efficiently whenever an event happens in the kernel.</p><h2 id="kprobes--uprobes">kprobes &amp; uprobes</h2><p>We can create and insert kernel probes or kprobes for short to virtually any function in the kernel, and attach an eBPF program so that it executes each time that function is invoked.</p><p>Here‚Äôs a simple hello world example from the <a href="https://github.com/iovisor/bcc/tree/master/examples">bcc</a> repository:</p><div><pre><code data-lang="python"><span>from</span> bcc <span>import</span> BPF
<span>from</span> bcc.utils <span>import</span> printb
<span># define BPF program</span>
prog <span>=</span> <span>"""
</span><span>int hello(void *ctx) {
</span><span>    bpf_trace_printk("Hello, World!</span><span>\\</span><span>n");
</span><span>    return 0;
</span><span>}
</span><span>"""</span>
<span># load BPF program</span>
b <span>=</span> BPF(text<span>=</span>prog)
b<span>.</span>attach_kprobe(event<span>=</span>b<span>.</span>get_syscall_fnname(<span>"clone"</span>), fn_name<span>=</span><span>"hello"</span>)
<span># header</span>
<span>print</span>(<span>"</span><span>%-18s</span><span> </span><span>%-16s</span><span> </span><span>%-6s</span><span> </span><span>%s</span><span>"</span> <span>%</span> (<span>"TIME(s)"</span>, <span>"COMM"</span>, <span>"PID"</span>, <span>"MESSAGE"</span>))
<span># format output</span>
<span>while</span> <span>1</span>:
    <span>try</span>:
        (task, pid, cpu, flags, ts, msg) <span>=</span> b<span>.</span>trace_fields()
    <span>except</span> <span>ValueError</span>:
        <span>continue</span>
    <span>except</span> <span>KeyboardInterrupt</span>:
        exit()
    printb(<span>b</span><span>"</span><span>%-18.9f</span><span> </span><span>%-16s</span><span> </span><span>%-6d</span><span> </span><span>%s</span><span>"</span> <span>%</span> (ts, task, pid, msg))
</code></pre></div><p>The eBPF program is written in a pseudo-C code and it‚Äôs placed in the variable <code>prog</code> as a string. The bcc framework does all the heavy lifting of generating the bytecode, loading the programs and all that stuff, which makes writing these programs a bit easier.</p><p>In this example, the hello function invokes a bpf helper function called <code>bpf_trace_printk</code> which outputs a ‚ÄúHello, World!‚Äù trace. Then we load the program and we attach a kernel probe for the <a href="https://man7.org/linux/man-pages/man2/clone.2.html"><code>clone</code></a> event, basically saying that we want to call the <code>hello</code> program each time <code>clone</code> is called.</p><p>After that the script waits for new traces to arrive, fetches the fields and prints the values to the screen.</p><p>Let‚Äôs try running it:</p><pre><code>$ sudo python3 hello-ebpf.py
TIME(s)            COMM             PID    MESSAGE
</code></pre><p>The script has successfully loaded the program and now we wait for the traces to arrive. The next thing to do is to try and invoke the <code>clone</code> syscall. We can run any command on the terminal, such as <code>ls</code> and a child process will be created. Since I had firefox running, it created some child processes in the meantime and traces started to show up:</p><pre><code>611.247475000      firefox          5378   Hello, World!
</code></pre><p>As we can see, the message ‚ÄúHello, World!‚Äù is printed on the screen along with the other trace fields. Super cool!</p><p>Besides attaching to kernel functions, we could also observe functions invoked in user space, such as <strong>malloc</strong> or <strong>strlen</strong>. This is possible via another Linux kernel feature - <strong>uprobes</strong>.</p><p>Here‚Äôs an interesting script that counts frequencies of strings by tracing strlen() and using a hash map to store the strings along with the count of their recurrence: <a href="https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py">https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py</a></p><h2 id="helper-functions">helper functions</h2><p>Since arbitrary kernel functions are prohibited to be called by ebpf programs, there are several helper functions which the kernel provides for us, such as the <code>bpf_trace_printk</code> function. We can use them to:</p><ul><li>Get the current time</li><li>Interact with eBPF maps</li><li>Manipulate network packets</li><li>Print debugging messages</li></ul><p>Note that each program can only use a subset of these helpers because of the different contexts the programs can run in. Here‚Äôs the extensive <a href="https://man7.org/linux/man-pages/man7/bpf-helpers.7.html">list</a> of bpf helpers.</p><h2 id="map-storage">map storage</h2><p>To write more complicated programs you‚Äôll need some type of data store, and that is where <strong>maps</strong> come in. They are an important part of the BPF internal system, which allows programs to store information that can be accessed from userspace.</p><p>BPF supports different <a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md#maps">types</a> of data stores - you can use a hash map, an array, or even a stack or a queue, depending on the use case of course.</p><h2 id="conclusion">conclusion</h2><p>eBPF opens up all kinds of possibilities for observability. You can treat a system as a blackbox, without really knowing anything about it, and run all kinds of interesting analysis: count the most frequently called functions, trace network packets, do performance tracing and debugging, etc.</p><p>There are a myriad of tools that you can use to observe every component of the system: the CPU, memory, file system, networking, containers, applications‚Ä¶</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/b19abde4b1ccfe4ce140969c8bf44f39d1c2fe70/f9ed3/images/ebpf/bcc_tracing_tools_early2019.png" alt="ebpf-tracing-tools"><figcaption>BCC performance tools (courtesy of Brendan Gregg)</figcaption></figure><p>I‚Äôve only scratched the surface on this subject and I can‚Äôt wait to learn more about it, as well as Linux performance in general. There‚Äôs tons of great posts and videos on this exciting technology, and I‚Äôve left some links below for you. Cheers!</p><h2 id="references">References</h2><ul><li><a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">https://www.tcpdump.org/papers/bpf-usenix93.pdf</a> ‚Äì BPF paper</li><li><a href="https://lwn.net/Articles/740157/">https://lwn.net/Articles/740157/</a> ‚Äì A thorough introduction to eBPF</li><li><a href="https://www.youtube.com/watch?v=16slh29iN1g">https://www.youtube.com/watch?v=16slh29iN1g</a> ‚Äì interesting talk by Brendan Gregg on BPF performance analysis at Netflix</li><li><a href="http://www.brendangregg.com/ebpf.html">http://www.brendangregg.com/ebpf.html</a> ‚Äì eBPF trace tools</li><li><a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md">https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md</a> ‚Äì BCC reference guide</li></ul></div></div>]]>
            </description>
            <link>https://filipnikolovski.com/posts/ebpf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490138</guid>
            <pubDate>Sun, 20 Dec 2020 22:24:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can China‚Äôs Covid News Be Trusted?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490119">thread link</a>) | @amoorthy
<br/>
December 20, 2020 | https://blog.thefactual.com/can-chinas-covid-news-be-trusted | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/can-chinas-covid-news-be-trusted">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>China has received abundant ridicule for its role in Covid-19, from its <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>early negligence</span></a>, to its <a href="https://www.theatlantic.com/politics/archive/2020/05/china-global-influence-who-united-states/611227/" rel="noopener" target="_blank"><span>influence</span></a> over the World Health Organization, to its <a href="https://time.com/5796425/china-coronavirus-lockdown/" rel="noopener" target="_blank"><span>draconian measures</span></a> to control the virus. Part of the negative perception in the West was an assumption that reporting on Covid cases and deaths within China was not to be trusted ‚Äî just as the Chinese political system had failed to acknowledge the emergence of the virus, surely the government would use its extensive societal control to downplay the disease‚Äôs impacts within China.&nbsp;</p>
<!--more-->
<div><p>Months later, however, the evidence suggests that China indeed succeeded in controlling the virus. While many advanced Western democracies <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>continue to flounder</span></a>, China is almost entirely open, with kids in school, families traveling, and economic growth returning to normal. This week, The Factual used 30 articles from 20 sources across the political spectrum to explore how China achieved this outcome, whether official data for China can be trusted, and what this apparent success portends.</p></div>
<p><img src="https://lh5.googleusercontent.com/LhbaqO6B3R89g-SeB_4ce3UsWk3ZyK_XDD2KnfJImK5eO-ZEXwgr-B2xihV_cIVrJKPiIETuD34ZBAZnUHLFzK06JxqbxYFYTyiVV_o8drZB5GxnhDpA5YAHPi8GpvRwGIjujqeq" width="624" height="417"></p>
<div><p>Note: China‚Äôs case count is imperceptible in comparison to the U.S., EU, and UK counts. (U.S. population = 328 million; EU population = 446 million; UK population = 67 million; China population = 1.39 billion)<br>Source: <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>Our World in Data</span></a></p></div>
<h4><strong>By Controlling Its Population, China Controlled The Virus</strong></h4>
<p>As Wuhan experienced the first severe urban outbreak of Covid-19, media attention focused on the dystopian elements of China‚Äôs response. Citizens were locked in their residences, <a href="https://slate.com/technology/2020/02/how-china-is-using-drones-to-contain-the-coronavirus.html" rel="noopener" target="_blank"><span>drones</span></a> played out public health warnings, and government entities assumed responsibility for the delivery of necessities to citizens. But these responses were part of one of the world‚Äôs <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>most effective</span></a> Covid-19 interventions.</p>
<div><p>On April 7, as case counts and deaths climbed around the world, China reported its <a href="https://www.forbes.com/sites/carlieporterfield/2020/04/07/china-heavily-criticized-for-its-coronavirus-numbers-claims-no-new-deaths/?sh=3ba3b7ae77ad" rel="noopener" target="_blank"><span>first day without a Covid-19 fatality</span></a>. By that point, Wuhan ‚Äî the epicenter of the disease ‚Äî had only reported two new cases in the prior week. The Chinese government, learning rapidly, exercised its societal control to avoid similar outbreaks in other cities. Today, China‚Äôs official statistics show a total of around 90,000 cases and less than 5,000 deaths. By contrast, the U.S. has officially registered 17 million cases, almost 190 times more than China, despite having just a quarter of China‚Äôs population.</p></div>
<p><img src="https://lh6.googleusercontent.com/38aoRz3ugRGds0xMtDZjr8SoGZWFX_9peIj-dXLtJvgvahsA-Y8KoY4DiwyHd81_WfSLm8RVdfhe-2wKl4KWJTzXuGcud5fs0T-L_xtQ5xOk1XTAkdpEJzCCgz7iQnscB3RZc6Qg" width="676"></p>

<p>At the most extreme, China‚Äôs interventions involved <a href="https://reason.com/2020/03/30/the-world-must-not-mimic-chinas-authoritarian-model-to-fight-covid-19/" rel="noopener" target="_blank"><span>intensive restrictions</span></a> on the movement of citizens on as many as <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>750 million people</span></a>. However, since the intense first weeks, the measures have seemed comparatively less extreme, relying mostly on the routine monitoring of citizens. <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>These measures</span></a> include ‚Äúcolor-coded designations based on a person‚Äôs health status,‚Äù widespread testing, <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>routine temperature taking</span></a>, and careful monitoring of people entering the country ‚Äî now seen as the <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/10/16/924382187/city-in-china-tests-10-million-people-after-13-covid-19-cases-are-found" rel="noopener" target="_blank"><span>primary source</span></a> of most new cases in China. Mask wearing was compulsory, though such orders have largely been lifted now.</p>
<p>New cases are comprehensively attacked through a combination of <a href="https://www.washingtontimes.com/news/2020/nov/23/china-tests-millions-after-coronavirus-flare-ups-i/" rel="noopener" target="_blank"><span>testing</span></a>, contact tracing, and quarantines. For example, in October in the port city of Qingdao, the emergence of a handful of new cases led local authorities to conduct over <a href="https://www.businessinsider.com/china-testing-qingdao-city-9-million-after-12-cases-hospital-2020-10" rel="noopener" target="_blank"><span>9 million tests</span></a> in the course of five days, ultimately identifying around a dozen cases. Similarly, <a href="https://www.forbes.com/sites/siladityaray/2020/11/23/china-launches-mass-testing-in-three-cities-chaotic-scenes-follow-at-shanghai-airport/?sh=783168a93ede" rel="noopener" target="_blank"><span>a video emerged</span></a> in Western media in November of a confrontation between workers in a Shanghai airport and hazmat-wearing government officials. It was later revealed that, upon learning of a potential case, <a href="https://apnews.com/article/tianjin-shanghai-coronavirus-pandemic-china-united-states-8d46e90bc0a3b75c1b5a66c196e45025" rel="noopener" target="_blank"><span>17,719 workers were tested</span></a> to locate a single positive case.</p>
<div><p>While it‚Äôs easy to see China‚Äôs purported success in controlling the virus as solely the result of the government‚Äôs active measures, citizen compliance and appreciation for science and health messaging has also likely <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>played a consequential role</span></a>, as has the clarity and consistency of official messaging and pre-existing proclivities toward mask usage. There has not been similar skepticism toward virus mitigation efforts nor a <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>politicization of the pandemic</span></a>, as seen in Western democracies. High levels of compliance meshed with government action to bring about what is likely one of the fullest and fastest recoveries anywhere in the world.</p></div>
<h4><strong>Can China‚Äôs Numbers Be Trusted?</strong></h4>
<p>Skepticism of China‚Äôs handling of Covid-19 has been consistent, and it‚Äôs no surprise that many also doubt the official tallies of cases and deaths. Already receiving flak as the origin of the virus and for a <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>failure to contain its spread early</span></a>, China has much to gain from positive press, meaning that ‚Äúconquering‚Äù the virus would be the beginning of a much-needed win. But while this nominally gives China a motivation to underreport cases and deaths, and it by many accounts has much of the control needed to do so (consider China's <a href="https://www.propublica.org/article/leaked-documents-show-how-chinas-army-of-paid-internet-trolls-helped-censor-the-coronavirus" rel="noopener">extensive censorship efforts</a> early on), there is no evidence that it is hiding significant numbers of either ‚Äî at least not at a magnitude that would alter its narrative of success.&nbsp;</p>
<p>Critics point to a number of choices and anecdotes to substantiate the claim that China is obfuscating the real extent of the virus within its borders. For example, China has altered its definition of a confirmed case <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>numerous times</span></a> over the course of the pandemic and made the choice not to include asymptomatic cases in the official tally, moves that some argue are aimed at limiting the official extent of the virus. However, others have pointed out that some of these redefinitions <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>have resulted</span></a> in case counts being revised upward as well as downward and that some changes in definition are expected, given the novelty of the virus. Furthermore, the decision to exclude asymptomatic cases, while perhaps counterintuitive, has been both ridiculed and defended by experts as a plausible epidemiological choice.&nbsp;</p>
<p>Similarly, the anecdotes used to suggest significantly worse outcomes in China do not hold up to scrutiny. For example, one such popular story from Wuhan suggested that crematoriums were <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>distributing huge numbers of burial urns</span></a> during the worst part of Wuhan‚Äôs outbreak, and extrapolations were made to suggest that many times more people were dying. Further scrutiny, however, suggests that such evidence is rather <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>flimsy</span></a>, and while we can‚Äôt be sure just how many people died in the worst days in Wuhan, there‚Äôs scant evidence to suggest that there‚Äôs been any coordinated coverup of a large number of cases and deaths.</p>
<div><p>Quite plainly, if China was trying to hold back more severe outbreaks or impacts, Chinese society would not be so <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>obviously recovering</span></a>, with 240 million students in school and 637 million Chinese <a href="https://www.cnbc.com/2020/10/09/china-attractions-630-million-people-travel-during-golden-week.html" rel="noopener" target="_blank"><span>travelling in the first week of October</span></a> for the mid-autumn festival, not far behind the 782 million that travelled during the same period in 2019. <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>Full flights</span></a>, classrooms, and events returned fairly quickly to China, with authorities gathering that the risk was sufficiently low in many areas. And while China has first-rate censorship capabilities and enormous influence on the behavior of citizens, it lacks the ability to cover up or hide a serious crisis on the scale of Covid-19 outbreaks. People would be <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>documenting, discussing, and sharing</span></a> the events the same way they were able to in Wuhan at the onset of the pandemic ‚Äî from watching out for family, friends, and neighbors, to recording videos of government officials, to noticing the construction of new <a href="https://www.wsj.com/articles/how-china-can-build-a-coronavirus-hospital-in-10-days-11580397751" rel="noopener" target="_blank"><span>Covid-specific hospitals</span></a>. The Chinese government knows its strengths, but probably also its limitations, and seems to understand that containing the actual virus is far more beneficial and feasible than containing information about its spread.&nbsp;</p></div>
<h4><strong>China‚Äôs Wins</strong></h4>
<div><p>Given what we know about the virus in China, the evidence suggests that the country really has Covid-19 under control, that the Chinese government has strategies that effectively and comprehensively keep it at bay, and that the reported numbers of cases and deaths are likely not hugely different from what has been officially reported. Western media has at times been distracted by China‚Äôs behavior in the first weeks of the pandemic, allowing those decisions to <a href="https://www.theguardian.com/science/2020/oct/11/china-coronavirus-covid-19-medical-research" rel="noopener" target="_blank"><span>color or even discount</span></a> what has happened since. A sober assessment now reveals <a href="https://www.nytimes.com/2020/08/25/world/asia/china-xinjiang-covid.html" rel="noopener" target="_blank"><span>heavy-handed</span></a> but exceedingly effective management of the virus on a scale likely impossible anywhere else in the world.</p></div>

<p>While questions are still being asked about China‚Äôs early role in the virus‚Äôs spread, attention must also be paid to what this apparent success means for China. Economically, it has managed a rapid recovery, <a href="https://www.reuters.com/article/us-china-economy-gdp/chinas-economic-recovery-quickens-as-consumption-returns-idUSKBN27404Z" rel="noopener" target="_blank"><span>growing by 4.9%</span></a> between July and September and profiting handsomely from a world stuck at home and dependent Chinese goods. In terms of global health, its success in managing the virus has allowed it to engage in <a href="https://www.sciencemag.org/news/2020/11/global-push-covid-19-vaccines-china-aims-win-friends-and-cut-deals" rel="noopener" target="_blank"><span>vaccine diplomacy</span></a> (rather than vaccine nationalism), helping develop and disseminate vaccines in close collaboration with other countries. And internally, some surveys show Chinese citizens indicating <a href="https://www.npr.org/2020/09/23/913650298/as-u-s-views-of-china-grow-more-negative-chinese-support-for-their-government-ri" rel="noopener" target="_blank"><span>more faith in the Chinese government,</span></a> especially in contrast to the dawdling responses seen elsewhere around the world. At least internally, China‚Äôs pandemic successes seem to be quickly outweighing the costs of its mistakes.</p>
<div><p>To assume that China has been similarly afflicted by the virus as other advanced countries and has simply hidden the truth would be to ignore the fundamental differences in pandemic response and government that many so keenly point out. All things considered, China‚Äôs experience with Covid-19 first reflects its weaknesses, in the hiding of the initial outbreak, but then demonstrates its <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>strengths</span></a>, through intense control and <a href="https://www.washingtonpost.com/health/2020/11/10/us-has-absolutely-no-control-over-coronavirus-china-is-top-tiniest-risks/" rel="noopener" target="_blank"><span>exacting management of risks</span></a>. It turns out the truth might be rather boring: China has the capacity to implement effective physical restraints to stop the virus but probably not the ability to cover up huge numbers of Covid-related deaths. In short, the story adds up.</p></div>
<h4><strong>Appendix</strong></h4>
<p>This appendix shows each of the articles used to inform the findings of this article, as well as how the articles scored according to The Factual's credibility algorithm. To learn more, ‚Ä¶</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/can-chinas-covid-news-be-trusted">https://blog.thefactual.com/can-chinas-covid-news-be-trusted</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/can-chinas-covid-news-be-trusted</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490119</guid>
            <pubDate>Sun, 20 Dec 2020 22:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Create Postcode map from OpenStreetMap data]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489905">thread link</a>) | @konsalexee
<br/>
December 20, 2020 | https://blog.alexoglou.com/postcode-map/ | <a href="https://web.archive.org/web/*/https://blog.alexoglou.com/postcode-map/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/03f31/featured.webp 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/2c6ed/featured.webp 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/da8b6/featured.png 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/png">
        <img src="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png" alt="featured" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>The final result in Kepler.gl.
    </figcaption>
</figure>
<h2>Why I even started working on this madness?</h2>
<p>Anyone who is working with geospatial data, will probably sometime in h/er/is career will need to aggregate data based on a common field. For a project of mine, I wanted to provide insights about neighborhoods and how they are evolving over time.</p>
<p>As I started mining the web and aggregate the data, the Least Common Multiple I could find, the foreign key for all the tables or name it however you want, was the Postcode or Postal Code or Zipcode.</p>
<p>So far so good, but when I started searching for ways to visualize the data, I quickly found out that there is not a single postcode boundary map on the web to serve my needs. If you live in the U.S. someone else has probably worked to help you. But many countries lack those data.</p>
<h2>Using Open Data to solve this problem</h2>
<p>After searching for quite a long time and writing on forums like <a href="https://help.openstreetmap.org/questions/77790/postal-code-clustering-from-osm-dataf">help.openstreetmap.org</a> I started having a feeling that there is a chance that I can produce an approximate map myself using open data.</p>
<p>Below are the steps I followed to create my country‚Äôs (Greece) postcode boundary map. You can perform similar steps to produce your map.</p>
<h3>Step 1: Finding the right data</h3>
<p>OpenStreetMap dataset is huge. Even if you try to parse the whole dataset, I am sure that your PC will have a really hard time. The best thing to do when you are working for a specific country is to download a specific dataset from a website like <a href="https://www.geofabrik.de/">Geofabrik</a>.</p>
<p>Geofabrik is a company offering consulting services for OSM related projects. For our luck, they offer clean datasets for each country. <a href="https://download.geofabrik.de/europe/greece.html">Here</a> you can find the OSM data for Greece.</p>
<p>Download the latest <code>pbf</code> file and then we will continue with the next step.</p>
<blockquote>
<p>What is <code>pbf</code>? <code>pbf</code> is a Protocol Buffer Binary Format and is used as a more efficient alternative of XML. For more info about <code>pbf</code> and why OSM are using it read <a href="https://wiki.openstreetmap.org/wiki/PBF_Format">here</a></p>
</blockquote>
<h3>Step 2: Cleaning the data</h3>
<div data-language="bash"><pre><code><span>.</span>
‚îî‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm</code></pre></div>
<p>I downloaded the file, and now I have a <code>4GB</code> file, full of data. Most of them are not essential to our task, so let‚Äôs find out how we can reduce the data to the minimum.</p>
<p>For the process of pruning the dataset, there is a beautiful tool, called <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">osmfilter</a>.</p>
<p>After reading the documentation, I figured out which data was essential for producing the map, all the addresses that included a postcode. The command to keep only these data is the following</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only.osm</code></pre></div>
<p>This will take some time, so don‚Äôt worry if you cannot see anything printing for a while in the bash.</p>
<p>Now our file size went from <code>4.1GB</code> to <code>37M</code>. Now it is easier for programs like QGIS to handle our file.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>
<p>If we want further pruning of our data, let‚Äôs keep only the nodes that have a postcode and drop ways and relations. Feel free to read OSM documentation on what do these data represent.</p>
<p>Execute the following command and let‚Äôs check the result.</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --drop-ways --drop-relations --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only-nodes.osm</code></pre></div>
<p>Now you will see that the resulted document will be smaller (hopefully). In our case, it is <code>9MB</code> smaller than the previous one.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îú‚îÄ‚îÄ <span>[</span> 28M<span>]</span>  greece-post-only-nodes.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>

<p><strong>Update</strong></p>
<p>As I imported the data in the GQIS, I found that the postcode attribute is nested inside the <code>other_tags</code> field. Find the relevant post I made <a href="https://gis.stackexchange.com/questions/380685/unpacking-attributes-from-osm">at gis.stackexcange</a>, but I did not have any luck.</p>
<p>A workaround I found, is to get the data I wanted from Overpass Turbo, executing this query, and download them as GeoJSON:</p>
<div data-language="js"><pre><code>
<span>[</span>out<span>:</span>json<span>]</span><span>[</span>timeout<span>:</span><span>25</span><span>]</span><span>;</span>

<span>{</span><span>{</span>geocodeArea<span>:</span>Greece<span>}</span><span>}</span><span>-</span><span>&gt;</span><span>.</span>searchArea<span>;</span>

<span>(</span>
  
  node<span>[</span><span>"addr:postcode"</span><span>]</span><span>(</span>area<span>.</span>searchArea<span>)</span><span>;</span>

<span>)</span><span>;</span>

out body<span>;</span>
<span>&gt;</span><span>;</span>
out skel qt<span>;</span></code></pre></div>
<h3>Step 3: Import them to QGIS</h3>
<blockquote>
<p>QGIS is a Free and Open Source Geographic Information System</p>
</blockquote>
<p>Now it‚Äôs time to import our data to QGIS and start playing around to create our boundary map. Not sure what QGIS is? Do not worry, I did not know anything either, but there is a ton of documentation and a lovely community ready to support you.</p>
<p>Open the QGIS app and import the file we downloaded from Overpass Turbo.</p>
<p>To import our data perform the following steps:</p>
<ol>
<li>Click Layer ‚Üí Add Layer ‚Üí Add Vector Layer</li>
<li>Then Navigate to the file you created in the previous step and select it</li>
<li>Click Add</li>
</ol>
<p>You should see a screen like the one below if everything worked right.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/03f31/overpass-nodes.webp 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/7e36f/overpass-nodes.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/da8b6/overpass-nodes.png 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png" alt="overpass nodes" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our data successfully loaded.
    </figcaption>
</figure>
<p>Also, click a node and you should see in the Feature window the attribute <code>addr:postcode</code>.</p>
<p>If you wish to display a map behind to get a better feeling of your data, in the Browser panel on your left click <code>XYX tiles ‚Üí OpenStreetmap</code> and voila.</p>
<h3>Step 4: Voronoi to the rescue</h3>
<p>Now that we imported the data what? We need to find an algorithm to somehow connect all these dots and occupy the space they deserve.</p>
<p>Voronoi, a Russian Mathematician, gave us a pretty elegant solution for this problem. The theory behind although technically is pretty complex, the following GIF will help you visualize what we are going to perform with the help of QGIS.</p>
<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Voronoi_growth_euclidean.gif/220px-Voronoi_growth_euclidean.gif">
    <figcaption>How Voronoi works.
    </figcaption>
</figure>
<p>Read more about how Voronoi works <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">here</a> and let‚Äôs continue building this map.</p>
<p>To run the Voronoi algorithm perform the following steps:</p>
<ol>
<li>Click on the layer that contains our data</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Voronoi Polygons</li>
</ol>
<p>Now you can press <code>Run</code> immediately or you can play around with the <code>Buffer region</code> variable. <code>Buffer region</code> is explained <a href="https://gis.stackexchange.com/questions/220894/what-does-buffer-mean-in-qgis-voronoi-dialog">here</a>, but also take a look at the meaning in the image below.</p>
<figure>
    <img src="https://i.stack.imgur.com/oYk9j.png">
    <figcaption>Voronoi Buffer factor.
    </figcaption>
</figure>
<p>Now let‚Äôs click Run and check the results (note that the process takes some time, hopefully they enable parallelization of the process in the future).</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/03f31/voronoi.webp 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/7e36f/voronoi.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/da8b6/voronoi.png 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png" alt="voronoi" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our created Voronoi polygons.
    </figcaption>
</figure>
<h3>Step 5: Connecting Polygons</h3>
<p>Our polygons are ready. But many of them have the same postcode. To merge them into one polygon we will use the <code>Dissolve</code> function.</p>
<ol>
<li>Click on the layer that contains our Voronoi Polygons</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Dissolve</li>
<li>In the Dissolve fields select the <code>addr:postcode</code> to tell our algorithm to merge them based on the postcode attribute</li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/03f31/dissolve.webp 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/7e36f/dissolve.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/da8b6/dissolve.png 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png" alt="dissolve" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>And now we have the polygons grouped  based on the postcode. But they overflow the land.
    </figcaption>
</figure>
<h3>Step 6: Union</h3>
<p>As you can see in the picture above, our polygons are spread across the sea. To avoid that, we can import a boundary map of our country.</p>
<p>I found one map for Greece from <a href="https://geodata.gov.gr/en/dataset/op1a-anuot1kwv-ko1votntwv/resource/b387a8a0-69b9-42a4-a08b-e33136096b95">GeoData.gov</a> and imported the shapefile. This shapefile includes the boundaries for all the municipalities, but it fits our needs.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/03f31/municipalities.webp 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/7e36f/municipalities.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/da8b6/municipalities.png 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png" alt="municipalities" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Now our map should look like this.
    </figcaption>
</figure>
<p>To create the file map, follow the next steps:</p>
<ol>
<li>Click on the layer that contains our Dissolved layer and the Country‚Äôs boundaries map</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Intersection</li>
<li>In the Intersection input fields to keep, select only the <code>addr:postcode</code></li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/03f31/post-map.webp 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/7e36f/post-map.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/da8b6/post-map.png 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png" alt="post map" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our map is ready to use now, with all the postcodes.
    </figcaption>
</figure>
<h3>Feedback</h3>
<p>The results seem promising. I can see a pretty high accuracy in some areas, but unfortunately some areas with only a few nodes are not able to get represented appropriately.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/03f31/false-postcode.webp 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/7e36f/false-postcode.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/da8b6/false-postcode.png 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png" alt="false postcode" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Areas like the selected have only one node, leading to false postcode polygon.
    </figcaption>
</figure>
<p>If by any means you are someone from the QGIS or OSM community, I would appreciate your feedback on how to make the map even more accurate. Although this method worked, I feel that higher accuracy can be achieved!</p>
<p>The simplest way to achieve higher accuracy would be to generate more nodes with postcodes. If anyone knows how, please comment or reach me directly on my <a href="https://twitter.com/CostasAlexoglou">twitter</a>.</p></div></div>]]>
            </description>
            <link>https://blog.alexoglou.com/postcode-map/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489905</guid>
            <pubDate>Sun, 20 Dec 2020 21:56:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Threat Assessment Brief ‚Äì Rapid increase of a SARS-CoV-2 variant observed in UK [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489855">thread link</a>) | @qb
<br/>
December 20, 2020 | https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf | <a href="https://web.archive.org/web/*/https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489855</guid>
            <pubDate>Sun, 20 Dec 2020 21:50:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Tesla update increases new Model 3 range, fully using the new 82 kWh battery]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489040">thread link</a>) | @CarCooler
<br/>
December 20, 2020 | https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-7090">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Tesla unlocks the full range of the new 2021 Tesla Model 3 with its latest software update version 2020.48.12.1. Tesla started offering all the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/#range-boost">new Model 3 variants with range boost</a> back in October, but the cars were showing the old ranges on the center display screen.</p>



<p>In the meantime, the owners of imported Tesla Model 3 cars in Germany found out that the new versions of the car had an 82 kWh battery pack instead of the usual ~74 kWh. This discovery was posted by a German Model 3 owner on a local Tesla forum when he took the following screenshot from his vehicle registration book.</p>



<figure><amp-img width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU4NScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack. Source: Discussion on <a href="https://tff-forum.de/t/model-3-refresh-aus-oktober-2020/82613/2770" target="_blank" rel="noreferrer noopener">tff-forum.de</a></figcaption></figure>



<p>So, the mystery of the boosted <a href="https://www.teslaoracle.com/topic/model-3/">Tesla Model 3</a> range is solved. This has been possible due to Panasonic producing more energy-dense 2170 cells at its Gigafactory Nevada cell production plant.</p>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>The 2020.48.12.1 release notes state the newly extended / unlocked range as:</p>



<blockquote><p><strong>Range Display</strong></p><p>Your car will now display a slightly higher range to more accurately reflect the capacity of the battery.</p><cite>Get the full release notes (2020.48.12.1) at <a href="https://teslascope.com/teslapedia/software/2020.48.12.1" target="_blank" rel="noreferrer noopener">TeslaScope.com</a></cite></blockquote>



<p>The North American reservation holders of the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/">new and refreshed Tesla Model 3</a> have not been able to verify the larger battery pack because the European owners received their deliveries first.</p>



<p>Just yesterday I was talking to several new Model 3 reservation holders from the United States, mostly from California, they are all still waiting for their deliveries. Some are hoping their cars will be delivered after Christmas.</p>



<p>The biggest beneficiary of this range boost will be the owners of the Tesla Model 3 Long Range AWD, as it got a staggering +30 miles of extended range in the new 2021 Model 3 version.</p>



<p>Besides this, Tesla is soon going to release the most exciting <a href="https://www.teslaoracle.com/topic/ota-updates/">software update</a> of the year, the feature-packed <a href="https://www.teslaoracle.com/tag/v11-update/">firmware version v11</a>. Elon Musk had <a href="https://www.teslaoracle.com/2020/11/19/elon-musk-teases-tesla-v11-holiday-season-software-release/">teased about this upcoming major software update</a> last month, V11 is most probably going to start rolling out any day now. The best thing is all Tesla owners will be getting it without spending a dime.</p>



<p>Stay tuned for the latest from the Tesla universe, follow us on:<br><a rel="noreferrer noopener" href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a></p>




		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489040</guid>
            <pubDate>Sun, 20 Dec 2020 19:57:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The U.S. Army Is Creating Robots with Synthetically Grown Muscle]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25489005">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://smosa.com/army-building-robots-with-synthetic-muscle/ | <a href="https://web.archive.org/web/*/https://smosa.com/army-building-robots-with-synthetic-muscle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to <a href="https://www.eurekalert.org/pub_releases/2020-12/uarl-asf121720.php">an announcement in EurekAlert</a>!, The U.S. Army has been researching with Duke University a technological approach that uses robotics and "biohybrid" muscle elements.</p><p>Army researchers claim that robotic systems filled with muscle tissue will deliver a new level of agility and flexibility. In order to maximize efficiency, biohybrid robotics incorporates living organisms into mechanical systems. The team's first applications are legged platforms similar to the LLAMA and Marine Corps Legged Squad Support System (LS3), the legged locomotive and movement adaptation device of the Army.</p><p>"Though impressive in their own right, today's robots are deployed to serve a limited purpose then are retrieved some minutes later," said research scientist Dr. Dean Culver, "ARL wants robots to be versatile teammates capable of going anywhere soldiers can and more, adapting to the needs of any given situation." Culver added, "Organisms outperform engineered robots in so many ways. Why not use biological components to achieve those remarkable capabilities?"</p><figure><img src="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Humanoid robot Robotis Bioloid with the hands in the air, cheering." srcset="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@anilinverse?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Lukomski</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>In addition, a separate team from Duke University will focus on the characteristics of macroscopic performance of muscles, tendons and ligaments in skiping animals using legged robots.</p><p>The muscle tissue is excellent for generating a certain mechanical strength, and its flexibility is unrivaled in today's robotic service. The research could show the bio-hybrid engineering community how to grow strong muscular tissue instead of extracting it from a trained organism in addition to providing insight into the mesomechanics that control motor protein movement.</p><p>"Muscle tissue is outstanding at producing a specific amount of mechanical power at a given moment," says Culver, "and its versatility is unrivaled in robotic actuation today."</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/army-building-robots-with-synthetic-muscle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489005</guid>
            <pubDate>Sun, 20 Dec 2020 19:51:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jan 1 is Public Domain Day for 1925]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25488894">thread link</a>) | @FlyMoreRockets
<br/>
December 20, 2020 | https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1713">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
corporate transparency act, copyfight, sonny bono, public domain, 1925, downtime, email sabbaticals, ccc, chaos communications congress, events, rc3, financial secrecy, money laundering, fincen papers, panama papers, onshore offshore, facial recognition, algorithmic discrimination

Summary:
Email sabbaticals; Chaos Communications Congress; Landmark US financial transparency law; Rogues' Galleries and facial recognition; Jan 1 is Public Domain Day for 1925

URL:
https://pluralistic.net/2020/12/16/fraught-superpowers/

Title:
Pluralistic: 16 Dec 2020 fraught-superpowers

Bullet:
üëõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Waxy (https://waxy.org/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2020/12/16/fraught-superpowers/"><img src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">Email sabbaticals</a>: I'm going offline until next year.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#rc3">Chaos Communications Congress</a>: Finally a way to do CCC without making your family furious.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#financial-secrecy">Landmark US financial transparency law</a>: Beginning of the end for the US onshore-offshore industry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#fr">Rogues' Galleries and facial recognition</a>: Self-fulfilling prophecies at the core of white supremacist policing.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">Jan 1 is Public Domain Day for 1925</a>: Gatsby, Dalloway, Buster Keaton, Ma Rainey, et al.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#retro">This day in history</a>: 2010, 2015, 2019
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="email-sabbatical"></a><br>
<img src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>It's been a decade since danah boy introduced me to the idea of "email sabbaticals." That's when you go away and turn off your email.</p>
<p><a href="http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html">http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html</a></p>
<p>Not just setting an out-of-office message, but rather deleting all inbound mail and asking correspondents to try again after the break. In her message, boyd explains to those correspondents who know how to reach her mother that this is the only way to reach her.</p>
<p>Here's the rationale: if you allow email to pile up while you're trying to unwind, it'll take months to catch up on when you get back, and you'll immediately burn out, incinerating all the value you got out of your break.</p>
<p>What's more, you'll still fail to clear the backlog ‚Äì you'll have to declare "email bankruptcy" and fail everyone who'd contacted you anyway. It's a bad deal for you <em>and</em> for the people who email you during your break.</p>
<p>Here's how boyd's email sabbaticals work: six months prior, she informs her collaborators that she'll be taking some protracted downtime; a month before she confirms her commitments to collaborators and composes a checklist to ensure that she meets them prior to departure.</p>
<p>A week in advance, she warns everyone again that she's going offline and shuttering her inboxes. Close family members and her network administrator are given instructions for reaching her while on break, but no one else is.</p>
<p>She leaves, and shuts down her email. She knows she's going to miss new, time-sensitive stuff, but makes peace with it. In return, she gets the peace of mind that comes from knowing that she's going to come home to an empty in-box.</p>
<p>At the close of business today, I'm going on email (and work) sabbatical until Jan 4, 2021. Apart from one live event (the remote Chaos Communications Congress on Dec 27) I won't be accepting emails and I won't be replying to DMs or other messages.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>I really, really need it.</p>
<p>Over the years, many people have expressed their admiration at my "productivity" ‚Äì but the dirty secret of that productivity is that work is how I cope with stress.</p>
<p>It's not the worst problem to have: I wrote a whole novel since the crisis, while also launching four books and keeping up with my day-job at EFF.</p>
<p>But working to cope with stress has its limits. It's a good temporary fix, but it's no long-term solution.</p>
<p>For one thing, I've got a serious, untreatable, degenerating chronic pain condition, and working is how I hope with the pain, too ‚Äì distraction works far better than any prescription meds for me.</p>
<p>But ignoring your body's pain signals is a dangerous tactic. It's why I'm now experiencing the worst continuous pain of my adult life (it's been a stressful year). Last week it was so bad I was walking with a cane.</p>
<p>I say all of this not to humblebrag about my commitment to my work, but rather in the interests of transparency. I'm keenly aware that we live our own blooper reels and everyone else's highlight reels.</p>
<p>I'm grateful for my work habits, truly ‚Äì but they come at a really high cost, and balancing work-as-distraction and work-as-pathology is really, really hard. If you're wondering how to do what I do, have a little peek into the blooper reel, first.</p>
<p>It's been a high-stress, crazy year. We nearly went broke, then had a spectacular recovery (thank you, Kickstarter backers!), have tried our best to be good parents (with varying degrees of success). We've gone through blazing rows and many sleepless nights.</p>
<p>I've spent most of the year with sores at the corners of my mouth, which I only get under in the most extreme times of stress.</p>
<p>And we've had it <em>good</em>. We're solvent, safe, and healthy. Thinking about what this would be like if any of those changed is terrifying.</p>
<p>Hanging out with my digital community is a huge net benefit to me, but unplugging from that community is something I increasingly value as I head towards my 50th birthday next July.</p>
<p>My first digital community experience was sending IMs to other users of the timeshare mainframe we plugged into when I was six years old, in 1977, when my dad brought home an acoustic coupler and my mom found 1,000' of brown paper towel to feed into the teletype.</p>
<p>Some (most) of my life's most important relationships, friendships, and discussions have taken place over this medium, and an enormous amount of that good stuff started with a conversation with a stranger.</p>
<p>I never felt the outrage that attended the introduction of the telephone into Edwardian England: "Anyone ‚Äî any wild fool off the street ‚Äî could simply barge bellowing into one's office or home, preceded only by the ringing of a telephone bell."</p>
<p><a href="https://www.mit.edu/hacker/part1.html">https://www.mit.edu/hacker/part1.html</a></p>
<p>For me, finding my people (and being found by them) has been the highlight of my half-century. Touring and speaking turned these digital relationships into personal ones.</p>
<p>But: moderation in all things. I'm writing four of these threads this morning, doing a couple interviews and meetings, and then putting my lid down until 2021 (save for a brief dial-in to CCC on the 27th).</p>
<p>I'm going to swim in our lovely outdoor public pool, which, thankfully, has figured out how to remain open during the pandemic. I'm going read in the backyard hammock and hike in Griffith Park.</p>
<p>I'm not going to answer ‚Äì or accept ‚Äì email while I'm gone.</p>
<p>And I say all of this because it's taken a decade for me to really understand what danah was getting at (she's a very smart person and I often benefit from reflecting on our conversations).</p>
<p>And also, to show you a bit of the blooper reel. Coping strategies are great and necessary, but they're no substitute for addressing the underlying problems. I'm proud of the work I do, but I'm also still learning how to do it right.</p>
<p>(<i>Image: <a href="https://www.flickr.com/photos/sifter/440685338/">Alex Watson</a>, <a href="https://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC 2.0</a></i>)</p>
<hr>
<p><a name="rc3"></a><br>
<img src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>I'm about to go offline until 2021 and I had planned to do <em>absolutely no work of any sort</em> while on break, but I made an exception, for an exceptional opportunity: the 32nd Chaos Communications Congress, which is remote this year.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>CCC is ‚Äì notoriously ‚Äì held during Christmas week, which means that the attendees are limited to people who either care about tech policy and security more than their families, or people who can talk their families into coming along.</p>
<p>It's one of the best events I've ever attended (I brought my family along). My talk at that event, "The Coming War on General Purpose Computing," has had a long afterlife, in large part because of the kind and thoughtful reactions of the attendees.</p>
<p><a href="https://www.youtube.com/watch?v=HUEvRyemKSg">https://www.youtube.com/watch?v=HUEvRyemKSg</a></p>
<p>I've been trying to get back ever since but haven't managed it ‚Äì until this year. RC3 (the first all-remote CCC) has invited me to speak on Dec 27.</p>
<p>I'm doing two back-to-back events: a talk called "What the cyberoptimists got wrong ‚Äì and what to do about it" then a "fireside chat" (a reading from my book ATTACK SURFACE followed by a Q&amp;A;).</p>
<p>They're back-to-back, starting at 10AM Pacific (7PM CET) and running to 12/9PM.</p>
<p>The tickets are currently sold out, but they've mooted releasing another block. If you're attending, I hope you'll consider tuning into my talk (and of course, as with all CCC talks, these will be online shortly thereafter for public viewing).</p>
<p><a href="https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/">https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/</a></p>
<hr>
<p><a name="financial-secrecy"></a><br>
<img src="https://i1.wp.com/craphound.com/images/HandsomeVariableGalapagosalbatross-max-1mb.gif?w=840&amp;ssl=1" data-recalc-dims="1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Panama Papers, the Paradise Papers, Swissleaks, Luxembourg Leaks, the Fincen Files ‚Äì the past decade has been filled with financial secrecy scandals wherein we learned how the world's worst people hide the world's dirtiest money.</p>
<p>Governments have fallen as a result of these leaks. Journalists have been murdered for reporting them, whistleblowers have been imprisoned for telling the truth. These are a high-stakes window on the corruption, self-dealing and viciousness of the 1% and their criminal pals.</p>
<p>One critical revelation is the role that "onshort-offshore" plays in money-laundering: rich countries with a reputation for a strong rule of law and good governance are the lynchpin of global financial secrecy, thanks to lax corporate enforcement.</p>
<p>Money laundering, tax-evasion, bribery and other finance crimes were only possible because places like New Zealand, the City of London, Scotland, and US tax-havens like Delaware, Nevada and Wyoming knowingly abetted them.</p>
<p>Anti-financial-secrecy campaigners have made major progress in shutting down onshore-offshore havens, and now they've scored a massive victory in the USA, with the inclusion of an anti-money-laundering amendment to the defense bill.</p>
<p><a href="https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/">https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/</a></p>
<p>It's a must-pass bill, and there's always intense jockeying to attach other legislation to it, virtually guaranteeing its passage (this is not always a good thing: Trump wants terrible, dangerous changes to internet law included in the bill):</p>
<p><a href="https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment">https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment</a></p>
<p>The Corporate Transparency Act requires that all US companies report their true owners to the US Treasury's Financial Crimes Enforcement Network (Fincen). This will make Fincen investigations vastly cheaper‚Ä¶and more effective.</p>
<p>It's got strong bipartisan support, and is the culmination of a decade of debate, consultation and coalition-building. It passed the House and Senate with a nominally ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488894</guid>
            <pubDate>Sun, 20 Dec 2020 19:35:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Graying of Gnome]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 197 (<a href="https://news.ycombinator.com/item?id=25488887">thread link</a>) | @yankcrime
<br/>
December 20, 2020 | https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/ | <a href="https://web.archive.org/web/*/https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page"><div id="content"><section id="primary"><main id="main" role="main"><article id="post-622"><div><p><a href="https://gnome.org/">The GNOME project</a> turned 23 this year, and despite equally persistent rumors to the contrary, it‚Äôs still alive and kicking.</p><p>Just how alive, though? All I know is this: Where the topic of GNOME‚Äôs health goes, accurate data rarely follows. Of course, there <em>is</em> data ‚Äî lots of it in fact, in public source code repositories. Though flawed in many ways, it allows us to make comparisons to the past ‚Äî and maybe predictions for the future: Are a few organizations carrying most of the workload, making them critical points of failure? Are new contributors able to pick up the slack from those who leave? Is the project graying (i.e. increasingly dominated by veterans)?</p><p>In one of my occasional fits of hubris, I set out to process this data to see if I could shake out anything meaningful. I‚Äôm usually fine with just satisfying my own curiosity and leaving it at that, but it‚Äôs one of those times where the results seem interesting enough for a blog post. So here we are.</p><p>I‚Äôm going to lead with the nice graphs and follow on with a <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#methodology">section on methodology</a>. The latter is long, boring, and mandatory reading.</p><h2 id="contributors">Active contributors</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png" alt="Active GNOME authors per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>The stacked histogram above shows the number of contributors who touched the project on a yearly basis. Each contributor is assigned to a generational cohort based on the year of their first contribution. The cohorts tend to shrink over time as people leave.</p><p>There‚Äôs a special ‚Äúdrive-by‚Äù cohort (in a fetching shade of off-white) for contributors who were only briefly involved, meaning all their activity fits in a three-month window. It‚Äôs a big group. In a typical year, it numbers 200-400 persons who were not seen before or since. Most of them contribute a single commit.</p><p>According to this, GNOME peaked at slightly above 1,400 contributors in 2010 and went into decline with the GNOME 3.0 release the following year. However, 2020 saw the most contributors in a long time, even with preliminary data ‚Äî there‚Äôs still two weeks to go. Who knows if it‚Äôs an anomaly or not. It‚Äôs been an atypical year across the board.</p><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png" alt="Active GNOME authors per month, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>This is the same histogram, but with per-month bins. There‚Äôs a clear periodicity caused by the semiannual release cycle. The peak month was March 2011, right before the <a href="https://www.gnome.org/press/2011/04/gnome-3-0-released-better-for-users-developers-3/">GNOME 3.0 release</a>. About 450 contributors got involved that month.</p><p>The drive-by cohort is relatively smaller on a monthly basis. This makes sense, as it has little overlap from month to month, and the per-year bins tend to add them all up.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png" alt="Active GNOME authors per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Above, the top 15 affiliations of active contributors. I‚Äôve excluded personal accounts. This is pretty flawed (details below), but interesting nonetheless. For what it‚Äôs worth, it mostly lines up with my memory of things.</p><p>The pattern tracks well with the total despite only capturing a minority portion of it. I think this means that paid and unpaid contributions are driven by the same underlying trends, or that there‚Äôs a lot of the former hiding in the latter.</p><h2 id="commitcount">Commit count</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png" alt="Number of GNOME commits per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Here I‚Äôm counting the number of commits per year in the various cohorts.</p><p>At first glance, this looks much less dire. However, note how newcomers are having a smaller impact, especially from 2014 on. And the 2018-2020 bounce is entirely due to a handful of veterans making a comeback.</p><p>Half the commits in 2020 were made by contributors who‚Äôve been with the project for ten years or more. Also noteworthy, drive-by commits are a vanishingly small portion of the total.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png" alt="Number of GNOME commits per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Top 15 affiliations again, but now ordered by commit counts. It‚Äôs safe to say that GNOME is dependent on paid developers in a big way. Specifically, and to no one‚Äôs surprise, it leans heavily on Red Hat.</p><h2 id="observations">General observations</h2><p>A few observations can be made with confidence:</p><ul><li>By F/OSS standards, the project is not <em>un</em>healthy. It has hundreds of experienced and first-time contributors every year. It is well-organized and arguably well-funded compared to its peers. But:</li><li>Every metric has the project peaking around 2010.</li><li>A diminishing number of veterans is doing an increasing share of the work.</li><li>Although recruitment is stable, newcomers don‚Äôt seem to be hitting their stride in terms of commits.</li><li>Corporate sponsorship is probably necessary to keep the project going, but the field of sponsors has kept thinning.</li></ul><p>I think GNOME is addressing the risk factors competently by modernizing infrastructure (<a href="https://gitlab.gnome.org/">GitLab</a>, <a href="https://discourse.gnome.org/">Discourse</a>). This has obvious value even in the absence of quantifiable results, but it‚Äôll be interesting to see if the effect can be measured over the next couple of years.</p><p>Diminished enthusiasm may also be due to there being fewer ways for a new contributor to make their mark or assume a role of responsibility. GNOME has become more conservative, certainly much more so than it was a decade ago in the run-up to GNOME 3. The rationale and phrasing in <a href="https://discourse.gnome.org/t/new-gnome-versioning-scheme/4235">the announcement of the new versioning scheme</a> (e.g. <em>‚ÄúRadical technological and design changes are too disruptive for maintainers, users, and developers‚Äù</em>) seems indicative of this trend<sup>1</sup>.</p><h2 id="methodology">Notes on methodology</h2><p>So what‚Äôs wrong with this analysis? If you‚Äôre so inclined, you can find the details under the next couple of subheadings and pass harsh, harsh judgement.</p><p>I‚Äôve set the unscientific rigor bar high enough to hopefully yield something useful, but low enough that I could do it in my spare time and not get stuck in the dreaded state commonly known as ‚Äú90% done‚Äù.</p><h3>Module selection</h3><p>I aggregated data from <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-repos">189 Git repositories</a>. The vast majority of these are hosted on <code>gnome.org</code>, with a handful from <code>freedesktop.org</code> and <code>github.com</code>. Commits are uniquely identified by their commit hash, meaning trivial duplicates are counted only once.</p><p>GNOME has always been a decentralized, big-tent project, so it‚Äôs not obvious how to delineate it. I‚Äôve tried to be fair by including most of the repositories from a full meta-gnome-desktop jhbuild, including fairly low-level dependencies like Cairo, Pango, and Pipewire, as well as past, present and would-be flagship applications under the GNOME umbrella. Documentation and infrastructure is represented, as are many archived projects (e.g. ORBit2, Bonobo, Sabayon, GAL).</p><p>I was a little uncertain about what to do with X.Org and Wayland. In the end I decided to include the latter, but not the former, since Wayland has close ties to GNOME (it even references GTK+ in its TODO file), while X.Org has its roots in the much older XFree86.</p><p>Mono is another project I resisted including; its development was tangential to GNOME proper, diverging completely in the most recent decade. However, I did include GtkSharp and several GNOME-hosted C# applications common on desktops in the 2005-2010 time frame.</p><p>Since I haven‚Äôt established hard criteria for module selection, it‚Äôs subject to various biases. Older code is probably underrepresented, since providers of important functionality were more loosely attached to the project early on (e.g. GNOME Online Accounts and Telepathy got pulled in, should I have included Gaim or Pidgin too? How about XChat?).</p><p>Anyway, the list isn‚Äôt terrible, but there‚Äôs room for improvement.</p><h3>Contributor identities</h3><p>Similar studies often identify contributors by their e-mail addresses. I used full author names instead, since there‚Äôs good reason to think they‚Äôre more stable over a 20-year time span. We‚Äôre fairly consistent in spelling our own names, and we change them rarely (often never). On the other hand, e-mail addresses come and go with different hosting arrangements, employers, etc.</p><p>An added challenge with this approach is that sometimes different people have the exact same name. In practice, I‚Äôm not aware of any instances of this happening in GNOME. It seems to be rare enough that I doubt it‚Äôd introduce significant error in most projects.</p><p>I should add here that the drive-by cohort depends on a fair amount of hindsight (you never know when someone might come back with more contributions, but the likelihood drops off quickly as time passes). This means the cohorts for 2020 are preliminary. They‚Äôll be a lot more accurate with another run late next year.</p><h3>Domain names</h3><p>I‚Äôm using e-mail domain names as a proxy for organizations in some of the graphs. This is a notoriously unreliable approach for at least three reasons:</p><ol><li>Contributors often use personal e-mail addresses for paid work, leading to significant undercounting in general.</li><li>Specific companies may require their employees (or ask them nicely) to use company e-mail for collaboration. Out of the listed companies, I know of at least one that definitely did this. However, there are many that don‚Äôt, and these will be comparatively less well represented.</li><li>The mapping between DNS and organizations isn‚Äôt one-to-one. A company may operate under multiple names or TLDs (e.g. <code>.co.uk</code> and <code>.com</code>).</li></ol><p>Despite these weaknesses, it‚Äôs common to slice the data this way. It‚Äôs difficult to do better without access to semi-closed data troves, and depending on your views on privacy and ability to handle <a href="https://en.wikipedia.org/wiki/Personal_data">PII</a> safely, it might not be something you‚Äôd want to get into anyway. But I bet you‚Äôd be well-positioned for it if you were, say, the corporate owner of both LinkedIn and GitHub.</p><p>When grouping by organization, the goal is to get an idea of which outside entities are sponsoring contributions. Therefore, I‚Äôve filtered out addresses from the biggest mass e-mail providers like <code>@gmail.com</code> and project-centric providers of personal accounts (e.g. <code>@gnome.org</code>, <code>@gtk.org</code>).</p><p>I took the liberty of reassigning the personal domains of a few extra prolific authors who would‚Äôve otherwise showed up as individual organizations. Since there‚Äôs no way I‚Äôm doing it for everyone, this introduces some bias. The full details are in <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-meta.json">the project‚Äôs metadata file</a> (see: <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#code">code</a>).</p><h3>Version control systems</h3><p>Changeovers in version control systems divide GNOME‚Äôs VCS history into three eras with noticeable discontinuities between them.</p><h4>Before 1998: Dark ages</h4><p>In the Bad Old Days, Free Software would often use plain <a href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a> or no version control at all. I have basically no data for this era: The GIMP, being the ur-project from which ‚Ä¶</p></div></article></main></section></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</a></em></p>]]>
            </description>
            <link>https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488887</guid>
            <pubDate>Sun, 20 Dec 2020 19:33:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chomskybot]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488742">thread link</a>) | @blewboarwastake
<br/>
December 20, 2020 | http://rubberducky.org/cgi-bin/chomsky.pl | <a href="https://web.archive.org/web/*/http://rubberducky.org/cgi-bin/chomsky.pl">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div size="4"><span size="6">L</span>ook
           <span size="6">O</span>n <span size="6">M</span>y
           <span size="6">W</span>ords, <span size="6">Y</span>e
           <span size="6">M</span>ighty, <span size="6">A</span>nd
           <span size="6">D</span>espair<span size="6">!</span>
<p>
           &nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>On our assumptions, the systematic use of complex symbols can be defined in such a way as to impose the traditional practice of grammarians.
However, this assumption is not correct, since the earlier discussion of deviance is, apparently, determined by a descriptive fact.
It appears that any associated supporting element is to be regarded as the system of base rules exclusive of the lexicon.
Notice, incidentally, that this analysis of a formative as a pair of sets of features does not affect the structure of the levels of acceptability from fairly high (eg (99a)) to virtual gibberish (eg (98d)).
A consequence of the approach just outlined is that the fundamental error of regarding functional notions as categorial is not quite equivalent to an important distinction in language use.

    </p>
    </div></div>]]>
            </description>
            <link>http://rubberducky.org/cgi-bin/chomsky.pl</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488742</guid>
            <pubDate>Sun, 20 Dec 2020 19:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clickhouse and S3 Compatible Object Storage]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488437">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage | <a href="https://web.archive.org/web/*/https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

	<p>ClickHouse is a polyglot database that can talk to many external systems using dedicated engines or table functions. In modern cloud systems, the most important external system is <a href="https://en.wikipedia.org/wiki/Object_storage" target="_blank" rel="noreferrer noopener">object storage</a>. First, it can hold raw data to import from or export to other systems (aka a data lake). Second, it can offer cheap and highly durable storage for table data. ClickHouse now supports both of these uses for S3 compatible object storage.</p><p>The first attempts to marry ClickHouse and object storage were merged more than a year ago. Since then object storage support has evolved considerably. In addition to the basic import/export functionality, ClickHouse can use object storage for MergeTree table data. While this functionality is still experimental, it has already attracted a lot of attention at meetups and webinars. In this article, we will explain how the integration works.</p><p><h2 id="h-s3-table-function">S3 table function</h2>
</p><p>ClickHouse has a powerful method to integrate with external systems called ‚Äòtable functions‚Äô. Table functions allow users to export/import data into other sources, and there are plenty of sources available, e.g. MySQL Server, ODBC or JDBC connection, file, url, and, lately, S3-compatible storage. At the time of writing the s3 table function is not in <a href="https://clickhouse.tech/docs/en/sql-reference/table-functions/" target="_blank" rel="noreferrer noopener">the official list</a>, but it should be fixed soon. The basic syntax is the following:</p><p><code>s3(path, [aws_access_key_id, aws_secret_access_key,] format,</code>  <code>structure, [compression])</code></p><p>Input parameters</p><div><ul>
<li><code>path</code> ‚Äî bucket url. Path to file.&nbsp; Supports following wildcards in readonly mode: *, ?, {abc,def} and {N..M} where N, M ‚Äî numbers, `‚Äôabc‚Äô, ‚Äòdef‚Äô ‚Äî strings.</li>
<li><code>format</code> ‚Äî The <a href="https://clickhouse.tech/docs/en/interfaces/formats/#formats" target="_blank" rel="noreferrer noopener">format</a> of the data.</li>
<li><code>structure</code> ‚Äî Structure of the table. Format ‚Äòcolumn1_name column1_type, column2_name column2_type, ‚Ä¶‚Äô.</li>
<li><code>compression</code> parameter is optional, currently ‚Äògzip‚Äô is the only option but other methods are being added.</li>
</ul>
</div><div><pre><code>INSERT INTO tripdata
SELECT *
FROM s3('https://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/nyc_taxi_rides/data/tripdata/data-20*.csv.gz',&nbsp;
'CSVWithNames',&nbsp;
'pickup_date Date, id UInt64, vendor_id String, tpep_pickup_datetime DateTime, tpep_dropoff_datetime DateTime, passenger_count UInt8, trip_distance Float32, pickup_longitude Float32, pickup_latitude Float32, rate_code_id String, store_and_fwd_flag String, dropoff_longitude Float32, dropoff_latitude Float32, payment_type LowCardinality(String), fare_amount Float32, extra String, mta_tax Float32, tip_amount Float32, tolls_amount Float32, improvement_surcharge Float32, total_amount Float32, pickup_location_id UInt16, dropoff_location_id UInt16, junk1 String, junk2 String',&nbsp;
'gzip');

0 rows in set. Elapsed: 238.439 sec. Processed 1.31 billion rows, 167.39 GB (5.50 million rows/s., 702.03 MB/s.)</code></pre>
</div><p>Note the wildcards! They allow you to import multiple files in a single function call. For example, our favorite <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noreferrer noopener">NYC taxi trips dataset</a> that is stored in one file per month can be imported with a single SQL command:</p><p><strong>On an Altinity.Cloud ClickHouse instance it takes me less than 4 minutes to import a 1.3B rows dataset!</strong></p><p>A few important hints:</p><div><ul>
<li>As of the 20.10 ClickHouse version, wildcard paths do not work properly with ‚Äògeneric‚Äô S3 bucket URLs, region specific one is required. So we have to use:<br><em>&nbsp; &nbsp; ‚Äúhttps://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/‚Äù,<br></em>instead of<br><em>&nbsp; &nbsp; ‚Äúhttps://altinity-clickhouse-data.s3.amazonaws.com/‚Äù</em></li>
<li>On the other hand, single file download can use convenient bucket URLs.</li>
<li>The S3 import performance heavily depends on the level of client side parallelism. In glob mode multiple files can be processed in parallel. The example above used 32 insert threads. If you have a smaller server and VM try setting higher values of max_insert_threads setting. It can be done by a ‚ÄòSET‚Äô command, for example:
<p><code>set max_threads=32, max_insert_threads=32;<br></code></p></li>
<li>From the other side, ‚Äòinput_format_parallel_parsing‚Äô setting may result in overcommitting the memory, so better to turn it off.</li>
</ul>
</div><p>S3 table function can be used not only for imports but for exports as well! This is how an ‚Äòontime‚Äô dataset can be uploaded to S3.</p><div><pre><code>INSERT INTO FUNCTION s3('https://altinity-clickhouse-data.s3.amazonaws.com/airline/data/ontime2/2019.csv.gz', '*****', '*****', 'CSVWithNames', 'Year UInt16, &lt;other 107 columns here&gt;, Div5TailNum String', 'gzip') SELECT *
FROM ontime_ref
WHERE Year = 2019

Ok.

0 rows in set. Elapsed: 43.314 sec. Processed 7.42 million rows, 5.41 GB (171.35 thousand rows/s., 124.93 MB/s.)</code></pre>
</div><p>Uploading is pretty slow because we can not benefit from the parallelism in this case. ClickHouse can not automatically split the data into multiple files, so only one file can be uploaded at a time. There is a feature request to enable automatic partitioning when inserting to an external table function. That would make export more efficient and convenient.</p><p>Also it is a bit annoying that ClickHouse requires table structure to be supplied to the S3 table function. This is going to be improved in the future releases as well.</p><p><h2 id="h-clickhouse-storage-architecture">ClickHouse storage architecture</h2>
</p><p>S3 table function is a convenient tool for exporting or importing data but it can not be used in real insert/select workloads. The closer integration with ClickHouse storage system is required. Let‚Äôs look at ClickHouse storage architecture in more detail.</p><div><ul>
<li>Storage policies define what volumes can be used, and how data migrates from volume to volume;</li>
<li>Volumes allow to organize multiple ‚Äòdisk‚Äô devices together;</li>
<li>Disk represents the physical device or mount point.</li>
</ul>
</div><div><figure><img src="https://lh4.googleusercontent.com/36Pvq-MZVcWezKbm3tYvkh-IuOSW2HMoqo9AqmETg6zOooXZNurWZ4hELaHRw9M1rPli7GP7uOM1YPmjZTqFaR_ebZ-M_s6PPRgQM6kqQtkCPP19bIOjBLwBISEsl5kxOug2sky-" alt="storage configuration" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
</div><p>When this storage design was implemented in early 2019, ClickHouse supported only one type of disk that maps to OS mount points. A few months later the ClickHouse development team added an extra abstraction layer inside the disk itself, that allows to plug in different disk types. As one can probably guess the rationale for this was object storage integration. The new disk type ‚ÄòS3‚Äô was added shortly after. It encapsulated the specifics of communicating with S3-compatible object storage. Now we can configure S3 ‚Äòdisks‚Äô in ClickHouse, and store all or some data on the object storage.</p><p><h2 id="h-object-storage-configuration">Object storage configuration</h2>
</p><p>Disks, volumes, and storage policies can be defined in the main ClickHouse configuration file config.xml or, better, in the custom file inside /etc/clickhouse-server/config.d folder. Let‚Äôs define the disk S3 first:</p><p><strong>config.d/storage.xml:</strong></p><p>This is a very basic configuration, ClickHouse supports quite a lot of different options here; we will discuss some of them later.</p><p>Once the S3 disk is configured, it can be used in volume and storage policy configuration. We can setup several policies for different use cases:</p><div><ul>
<li>S3 volume in a policy next to other volumes. It can be used for TTL or manual moves of table partitions.</li>
<li>S3 volume in a policy with no other volumes. This is an S3-only approach.</li>
</ul>
</div><div><pre><code>&lt;yandex&gt;
&nbsp;&nbsp;&lt;storage_configuration&gt;
...
&nbsp;&nbsp;&nbsp;&nbsp;&lt;policies&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/policies&gt;
&nbsp;&nbsp;&lt;/storage_configuration&gt;
&lt;/yandex&gt;</code></pre>
</div><p>Now let‚Äôs try to create some tables and move data around.&nbsp;</p><p><h2 id="h-inserting-data">Inserting data</h2>
</p><p>We will be using an ‚Äòontime‚Äô dataset for this example. You can get it from <a href="https://clickhouse.tech/docs/en/getting-started/example-datasets/ontime/" target="_blank" rel="noreferrer noopener">ClickHouse Tutorial</a>, or download from an Altinity S3 bucket. The table has 193M rows and 109 columns, that‚Äôs why it is interesting to see how it performs with S3, where file operations are expensive. The reference table name is ‚Äòontime_ref‚Äô and it uses default EBS volume. We can now use it as a template for experiments with S3.</p><div><pre><code>CREATE TABLE ontime_tiered AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>TTL toStartOfYear(FlightDate) + interval 3 year to volume 's3'
SETTINGS storage_policy = 'tiered';</mark>

CREATE TABLE ontime_s3 AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>SETTINGS storage_policy = 's3only';</mark></code></pre>
</div><p>‚Äòontime_tiered‚Äô table is configured to store a full 3 years of data on block storage, and move earlier data to S3. ‚Äòontime_s3‚Äô is the S3-only table.&nbsp;</p><p>Now, let‚Äôs insert some data. Our reference table has data up to March 31st, 2020.</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 0.634 sec. Processed 1.83 million rows, 1.33 GB (2.89 million rows/s., 2.11 GB/s.)</code></pre>
</div><p>That was almost instant. The data still goes to the normal disk. What about the S3 table?</p><div><pre><code>INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 15.228 sec. Processed 1.83 million rows, 1.33 GB (120.16 thousand rows/s., 87.59 MB/s.)</code></pre>
</div><p>Same amount of rows takes 25 times more to insert!&nbsp;</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 16.701 sec. Processed 7.21 million rows, 5.26 GB (431.92 thousand rows/s., 314.89 MB/s.)&nbsp;

INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 15.098 sec. Processed 7.21 million rows, 5.26 GB (477.78 thousand rows/s., 348.33 MB/s.)</code></pre>
</div><p>Once data lands on S3 insert performance degrades quite a lot. This is certainly not desirable for a tiered table, so there is a special volume level setting that disables TTL moves on insert completely, and runs it in the background only. Here is how it can be configured:</p><div><pre><code>&lt;policies&gt;
&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<mark>&lt;perform_ttl_move_on_insert&gt;0&lt;/perform_ttl_move_on_insert&gt;</mark>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&lt;/tiered&gt;</code></pre>
</div><p>With such a setting insert goes always to the first disk in the storage policy. TTL moves to the corresponding volume are executed in the background. Let‚Äôs clean the ‚Äòontime_tiered‚Äô table and perform a full table insert (side note: truncate takes a long time).</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref;

0 rows in set. Elapsed: 32.403 sec. Processed 194.39 million rows, 141.25 GB (6.00 million rows/s., 4.36 GB/s.)</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</a></em></p>]]>
            </description>
            <link>https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488437</guid>
            <pubDate>Sun, 20 Dec 2020 18:37:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse-Engineering Apple Dictionary]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487551">thread link</a>) | @atorodius
<br/>
December 20, 2020 | https://fmentzer.github.io/posts/2020/dictionary/ | <a href="https://web.archive.org/web/*/https://fmentzer.github.io/posts/2020/dictionary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>For a while now I have wanted to write a simple dictionary app for the Apple
Watch. The goal was to be able to quickly look up words from paper books,
by storing the book on the watch to be able to do fuzzy matches against the text.
While Apple ships amazing dictionaries with macOS and iOS, they only provide a very
limited API.
On iOS, all you get is 
a <em>view</em> into the dictionary via <code>UIReferenceLibraryViewController</code>,
for the Watch, there is no API at all,
and on OS X you get an antique <code>DCSCopyTextDefinition</code> that only
returns a plain-text definition, which is not nice to display. The whole
definition is returned as one blob of non-rich text, no newlines.</p>

<p>It was while attempting to parse this output that I realized it would be so much
easier to get the source, which I‚Äôm showing here how to do.
I open-sourced the code to parse the dictionary
<a href="https://github.com/fab-jul/parse_dictionaries">on github</a>.</p>

<p>Here is a pic of the OS X dictionary:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary.png"></p>

<p>And here is what I managed to extract:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary_watch.jpg"></p>

<p>I started by trying to figure out where dictionaries are stored.
Some googling <a href="https://discussions.apple.com/thread/250861549?answerId=251679363022#251679363022">revealed</a>
that they are burried in <code>/System</code> 
(at least for macOS 10.15 and possibly higher), at</p>

<div><div><pre><code>/System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
</code></pre></div></div>

<p>This folder contains various cryptically-named folders ending in <code>.asset</code>,
which represent the different installed dictionaries. E.g., for me:</p>

<div><div><pre><code>$ ls
24effbf40402f823bb9d9f6f12b75af3e679a4a6.asset
26e585a43423edb02b25fa7ba9af3fdc08eed6d7.asset
4094df88727a054b658681dfb74f23702d3c985e.asset
96d637557afb292134db05d7d7f30c0fed9cef9f.asset
976258f0b1fad70dd8e7ee7c1b4be8f8536e19a7.asset
a1d5710e8c3932361413f22ff588a1a3c7c337bf.asset
com_apple_MobileAsset_DictionaryServices_dictionaryOSX.xml
</code></pre></div></div>

<p>Of these, <code>4094df88727a054b658681dfb74f23702d3c985e.asset</code> is the 
‚ÄúNew Oxford American Dictionary‚Äù. Going into that folder and
a few levels deeper, we land at a promisingly named ‚ÄúResources‚Äù folder:</p>

<div><div><pre><code>$ ls /System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
  4094df88727a054b658681dfb74f23702d3c985e.asset/
  AssetData/
  New Oxford American Dictionary.dictionary/
  Contents/
  Resources/

Body.data        ca.lproj         ms.lproj
DefaultStyle.css cs.lproj         no.lproj
Dutch.lproj      da.lproj         pl.lproj
English.lproj    el.lproj         pt.lproj
EntryID.data     en_AU.lproj      pt_PT.lproj
EntryID.index    en_GB.lproj      ro.lproj
French.lproj     es_419.lproj     ru.lproj
German.lproj     fbm.css          sk.lproj
Images           fi.lproj         sv.lproj
Italian.lproj    fr_CA.lproj      th.lproj
Japanese.lproj   he.lproj         tr.lproj
KeyText.data     hi.lproj         uk.lproj
KeyText.index    hr.lproj         vi.lproj
NOAD.xsl         hu.lproj         zh_CN.lproj
Spanish.lproj    id.lproj         zh_HK.lproj
ar.lproj         ko.lproj         zh_TW.lproj
</code></pre></div></div>

<p>which is filled with a whole bunch of files. Sorting by size, it turns out
that <code>Body.data</code> could be a promising candidate at 23MB.</p>

<p>Sadly, it seems to be a binary blob without a discernible content.</p>

<div><div><pre><code>$ xxd Body.data | head -n15
00000000: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000030: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000040: f74d 7001 0000 0000 ffff ffff 2000 0000  .Mp......... ...
00000050: 0000 0000 da02 0000 ffff ffff ffff ffff  ................
00000060: 9480 0000 9080 0000 443b 0400 78da ecbd  ........D;..x...
00000070: 6b8c 2457 961e 26ed 6ab5 6fc9 300c c382  k.$W..&amp;.j.o.0...
00000080: 21e3 aac7 10ab b455 3df9 7eb0 67da aa6e  !......U=.~.g..n
00000090: 72d8 3d7c 0cc5 2667 b05a 8c1b 3723 6e66  r.=|..&amp;g.Z..7#nf
000000a0: 5c56 44dc e4bd 1155 9dc4 1a18 6261 9918  \VD....U....ba..
000000b0: 717f 505c db4b 2cb4 c66a e911 966b 4382  q.P\.K,..j...kC.
000000c0: b570 0bd6 2f75 f71a ae69 0c2c ff31 6003  .p../u...i.,.1`.
000000d0: b6e1 010c 0102 2c03 fee3 1f86 1fe7 dc1b  ......,.........
000000e0: 9195 8f88 cc8c c81b 9955 2407 c3ae aacc  .........U$.....
</code></pre></div></div>

<p>Scanning through the file with <code>xxd</code>, I did not find any visible structure.</p>

<p>However, given that the file is only ~23MB, I was thinking it may just be a ZIP file
in disguise.</p>

<div><div><pre><code>unzip Body.data
Archive:  Body.data
  End-of-central-directory signature not found.  Either this file is not
  a zipfile, or it constitutes one disk of a multi-part archive.  In the
  latter case the central directory and zipfile comment will be found on
  the last disk(s) of this archive.
unzip:  cannot find zipfile directory in one of Body.data or
        Body.data.zip, and cannot find Body.data.ZIP, period.
</code></pre></div></div>

<p>No luck! Same for <code>tar xvf</code>.</p>

<p>At this moment, I remembered
that the last time I had been thinking about this problem, years ago,
I had stumpled upon some cryptic C code. I remembered fiddling around with
XML, so I tried to dig up old projects, but sadly, I must have deleted them.</p>

<p>Some googling later, I stumpled upon the very <a href="https://gist.github.com/josephg/5e134adf70760ee7e49d">gist</a>
I had found years ago. It‚Äôs a very short and sweet python script to
extract entries from <code>Data.entry</code>. However, it‚Äôs also somewhat magical
in that it‚Äôs not documented, seeks random offsets, and even makes use
of the <code>struct</code> library.</p>

<p>But, it also does <code>import zlib</code>, so I thought, let‚Äôs try
to reverse engineer it myself.</p>

<p>The first simple
thing to try was to just attempt to find a ZIP file by going through the
bytes of the file one by one. After all,
it was very plausible that the file starts with some Apple
header followed by some compressed data.</p>

<div><div><pre><code><span>import</span> <span>zlib</span>
<span>import</span> <span>itertools</span>

<span>DATA_FILE_PATH</span> <span>=</span> <span>...</span>

<span>with</span> <span>open</span><span>(</span><span>DATA_FILE_PATH</span><span>,</span> <span>'rb'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
  <span>content_bytes</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>()</span>

<span># Try all offsets to see if we find a ZIP file
</span><span>for</span> <span>offset</span> <span>in</span> <span>itertools</span><span>.</span><span>count</span><span>():</span>
  <span>print</span><span>(</span><span>f</span><span>'Trying {offset}...'</span><span>)</span>
  <span>try</span><span>:</span>
    <span>content_decompressed</span> <span>=</span> <span>zlib</span><span>.</span><span>decompress</span><span>(</span><span>content_bytes</span><span>[</span><span>offset</span><span>:])</span>
    <span>print</span><span>(</span><span>'Found ZIP!'</span><span>)</span>
    <span>break</span>
  <span>except</span> <span>zlib</span><span>.</span><span>error</span><span>:</span>  <span># Current content_bytes is not a zipfile -&gt; skip a byte.
</span>    <span>pass</span>
</code></pre></div></div>

<p>‚Ä¶ and, low and behold, at byte number 108, a ZIP file starts!</p>

<div><div><pre><code>Trying 102...
Trying 103...
Trying 104...
Trying 105...
Trying 106...
Trying 107...
Trying 108...
Found ZIP!
</code></pre></div></div>

<p>Very exciting! What‚Äôs in this ZIP?</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed.decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa3 in position 0: invalid start byte
</code></pre></div></div>

<p>Ok, so already the first byte cannot be decoded by ‚Äòutf-8‚Äô, that‚Äôs a bit sad.</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[:20])
b'\xa3\x02\x00\x00&lt;d:entry xmlns:d'
</code></pre></div></div>

<p>Aha, already a few bytes later, some XML starts. For now, let‚Äôs just 
ignore the first four bytes.</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed[4:].decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xe7 in position 2065: invalid continuation byte
</code></pre></div></div>

<p>That‚Äôs already more promising, we can decode 2065 bytes.
Looking around position 2065, we find:</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[2055:2085])
b'an&gt;&lt;/d:entry&gt;\n\xe7\x02\x00\x00&lt;d:entry xml'
#              ^ |              |
#        newline |__ 4 bytes ___|
</code></pre></div></div>

<p>We see the entry ends, followed by a newline <code>\n</code>, some more
seemingly random bytes, and another entry starts!</p>

<p>For reference, here is the first entry (defining <code>007</code>, as it turns out):</p>

<div><div><pre><code><span>&lt;d:entry</span> <span>xmlns:d=</span><span>"http://www.apple.com/DTDs/DictionaryService-1.0.rng"</span> 
    <span>id=</span><span>"m_en_gbus1179660"</span> 
    <span>d:title=</span><span>"007"</span> 
    <span>class=</span><span>"entry"</span><span>&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"hg x_xh0"</span><span>&gt;</span>
    <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"hw"</span><span>&gt;</span>007 <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"sg"</span><span>&gt;</span>
    <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.005"</span> <span>class=</span><span>"se1 x_xd0"</span><span>&gt;</span>
      <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"posg x_xdh"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:pos=</span><span>"1"</span> <span>class=</span><span>"pos"</span><span>&gt;</span>
          <span>&lt;span</span> <span>class=</span><span>"gp tg_pos"</span><span>&gt;</span>noun <span>&lt;/span&gt;</span>
          <span>&lt;d:pos/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
      <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.006"</span> <span>class=</span><span>"msDict x_xd1 t_core"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:def=</span><span>"1"</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"df"</span><span>&gt;</span>
            the fictional British secret agent James Bond, or someone based on,
            inspired by, or reminiscent of him<span>&lt;span</span> <span>class=</span><span>"gp tg_df"</span><span>&gt;</span>.<span>&lt;/span&gt;</span>
            <span>&lt;d:def/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
    <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
<span>&lt;/d:entry&gt;</span>
</code></pre></div></div>

<p>Exploring some more,
I did not find a pattern in these delimiter bytes except it always being
 4 bytes. I‚Äôm assuming they somehow tell you how long the next entry is.
 But we can just always ignore the 4 bytes and keep reading until the
 next newline appears.</p>

<div><div><pre><code><span>def</span> <span>split</span><span>(</span><span>input_bytes</span><span>):</span>
  <span># The first four bytes are always not UTF-8.
</span>  <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>4</span><span>:]</span>
  <span>entries</span> <span>=</span> <span>[]</span>
  <span>while</span> <span>True</span><span>:</span>
    <span># Find the next newline, which delimits the current entry.
</span>    <span>try</span><span>:</span>
      <span>next_offset</span> <span>=</span> <span>input_bytes</span><span>.</span><span>index</span><span>(</span><span>'</span><span>\n</span><span>'</span><span>.</span><span>encode</span><span>(</span><span>'utf-8'</span><span>))</span>
    <span>except</span> <span>ValueError</span><span>:</span>  <span># No more new-lines -&gt; no more entries!
</span>      <span>break</span>
    <span>entry_text</span> <span>=</span> <span>input_bytes</span><span>[:</span><span>next_offset</span><span>]</span><span>.</span><span>decode</span><span>(</span><span>'utf-8'</span><span>)</span>
    <span>entries</span><span>.</span><span>append</span><span>(</span><span>entry_text</span><span>)</span>

    <span># There is always 4 bytes of chibberish between entries. Skip them
</span>    <span># and the new lines (for a total of 5 bytes).
</span>    <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>next_offset</span> <span>+</span> <span>5</span><span>:]</span>
  <span>return</span> <span>entries</span>
</code></pre></div></div>

<p>Aaaand‚Ä¶ that yielded a measly 152 entries. Very sad. Where is the rest?
Let‚Äôs first see what entries we have:</p>

<div><div><pre><code>007, 2.0, 404, 420, 4D printing, 4K, 911, 999, a, a, A, A, a-, a-, a-, a-, -a, 
-a, -a, A1, A3, A4, A5, aa, AA, AAA, AAAS, Aachen, AAD, Aadhaar, Aalborg, Aalto, 
Alvar, AAM, A &amp; M, A &amp; R, aardvark, aardwolf, aargh, Aarhus, Aaron, Aaron, Hank,
Aaron's beard, Aaron's rod, AARP, AAU, AAUP, AAVE, abs, Ab, Ab, AB, AB, ab-, ABA,
 abaca, aback, abacus, Abadan, Abaddon, abaft, Abakan, abalone, abandon, abandoned,
abandonment, abandonware, abase, abasement, abash, abashed, abate, abatement, 
abattoir, a battuta, abaxial, abaya, Abba, Abba, abbacy, Abbas, Ferhat, Abbas,
Mahmoud, Abbasid, abbatial, abb√©, abbess, Abbevillian, abbey, Abbey Road,
abbot, Abbott, Berenice, Abbott, Sir John, Abbott, Tony, abbr., abbreviate,
abbreviated, abbreviation, ABC, ABC, ABC, ABC Islands, ABD, abdicate,
abdication, abdomen, abdominal, abdominoplasty, abdominous, abducens, abducens
nerve, abduct, abductee, abduction, abductor, Abdul Hamid II, Abdul-Jabbar,
Kareem, Abdullah ibn Hussein, Abdullah II, Abdul Rahman, Tunku, ‚Ä¶</code></pre></div></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fmentzer.github.io/posts/2020/dictionary/">https://fmentzer.github.io/posts/2020/dictionary/</a></em></p>]]>
            </description>
            <link>https://fmentzer.github.io/posts/2020/dictionary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487551</guid>
            <pubDate>Sun, 20 Dec 2020 16:49:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Changing One Sentence led to 2.5x more Reviews]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487272">thread link</a>) | @dhruvkar
<br/>
December 20, 2020 | https://www.wints.org/blog/2020.12.17/ | <a href="https://web.archive.org/web/*/https://www.wints.org/blog/2020.12.17/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
    <h3>How Changing One Sentence led to 2.5x more Reviews</h3>
    
        <h6>December 17, 2020</h6>
    
    </p>
  </div><div>
    <div>
		<p><strong><u>June 2019</u></strong><br>
Fifteen years in business and we had a measly three reviews on Google.</p>
<p>Sigh.</p>
<p>I reminded myself that this is <em>exactly</em> why I moved back from the Bay area to work on the family business ‚Äì to use technology to expand. Let‚Äôs fix this!</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/2.stoneland-reviews-dec-2019.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>I‚Äôd read somewhere that people are most willing to review right after their experience ‚Äì good or bad.
I‚Äôd been itching to use Twilio, and this was the perfect use case!
Our inside sales person saves a visitor‚Äôs contact information right after a visitor leaves. Their phone number is included in this.</p>
<p>So, June 2019 I wrote a python script that sent an SMS to the visitor an 1 hour after they left. The SMS said:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit (or didn't), please let us know how we did!<br>http://bit.ly/stoneland-google-stl <br>-Stoneland Team</i></small></blockquote>
</div>
</div>
<p>I thought it was pretty slick, getting the URL, a cohesive message and proper formatting into one SMS.</p>
<p>At the same time, our sales team made a push to get reviews by emailing old customers.</p>
<p><strong><u>December 2019</u></strong><br>
We have 18 reviews now! While a big improvement over the last 15 years, it was still far below our competition.
And most of the reviews were in September when our sales team made the push. Now the trickle had dried up.</p>
<p>I‚Äôd been reading and listening to a lot of <a href="https://www.indiehackers.com/">Indiehackers</a>, especially interviews with founders who were marketing specialists. After ingesting Indiehacker nuggets, I settled on changing one factor at a time to understand what drove reviews.</p>
<p>In January 2020, I tweaked the copy of the SMS to read:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit, leave us a 5 second rating!<br>http://bit.ly/stoneland-google-stl<br>-Stoneland Team</i></small></blockquote></div></div>
<p><strong><u>December 2020</u></strong><br>
That tiny change made all the difference! As of December 15, 2020, we have <strong>93 reviews</strong> with a 4.9 rating!
We‚Äôve outstripped all our competitors in the area, as well as several of our customers.</p>
<p>Bottom line? Copywriting matters.</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/1.stoneland-reviews-dec-2020.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>P.S. For anyone wondering about the math around ‚Äò2.5x‚Äô, here‚Äôs the breakdown:</p>
<ul>
<li>June 2019 - December 2020 (~6 months): 15 reviews</li>
<li>Extrapolated over 12 months: 30 reviews</li>
<li>January 2020 - December 2020 (~12 months): 75 reviews</li>
</ul>
<p><span>75/30 = <strong>2.5</strong></span></p>

	</div>
  </div></div>]]>
            </description>
            <link>https://www.wints.org/blog/2020.12.17/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487272</guid>
            <pubDate>Sun, 20 Dec 2020 16:20:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Advertising Fraud]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25487215">thread link</a>) | @dimassimo
<br/>
December 20, 2020 | https://diablo.im/~ross/pb/20201220-085332.mp4 | <a href="https://web.archive.org/web/*/https://diablo.im/~ross/pb/20201220-085332.mp4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div :=""><u 44√ê√ì@ÔøΩÔøΩ√π¬∏qÔøΩ‚Ç¨¬º‚Äùl√±|t¬•√ä√àrt¬¨,gÔøΩ√Äu√ûp√Äc([w√Ökz≈Ω¬ª√©¬æ√®√á.‚Ä¢√â√âÔøΩ‚Äû√Å√Ωrg@√Ä*ÔøΩ√°=""><u><u><b √ªq√´≈∏∆íg="" b1ÔøΩ-√ç¬øo√Ü="" 5√∂gf‚Äò&√°ÔøΩ√ñ√ò√∑≈ìnbxe√≥0√õ√¨√∂√≥√ÜÔøΩÀú√éz√ìp√•h¬∫√µm:u√≥√îxt¬¨√±;qwÀú="" ¬πp¬©f¬©tÔøΩ,h)√º¬ß¬§@√•3l√ïx‚Äû√í%&h)≈ì¬∞√¶¬®?√Ä‚Ñ¢Àú√ñ¬∞x√§$√ã¬∑ÔøΩ="√Ñ√âÔøΩ¬ÆÔøΩq¬Ω‚Ä°FfM√Ços√É‚ÄπW√Ö√ª" n¬∏"¬ß?√å3¬ª¬πpz¬∏¬≠9√¥j√∑+]'?√∂‚Äû√∞f@‚Äù√ë√±t√ó¬≠√°¬π¬≥c{¬°√ô7‚Ä†¬´‚Äúy?wr¬¢6="√ä√ã√ë√≥M√º'‚Ç¨" √£c√ª‚Ç¨‚Ä¶√∂¬™√º√¶‚Äîl+√Ç8^√∑="" *?^s√®√Ñ√ü?spog√å‚Äπ≈ì‚Ä†f√è‚Ñ¢√Ñ≈∏Àúo√î√¨√ô√∂¬øf¬•ÔøΩ√¨√â1y¬§√âv‚Äî&√ãl@<√£@dn‚Ä†n√ñ¬°="" i#<‚Ä¶√ö√Ä="" .√õ0'√å√∂v≈ìu{≈íhÔøΩ√îu3w6h‚Äùw¬´‚Äûw√™;n¬Ø√îcp≈æf√©√π√ø√ºn√¥syw√Ñ0#√û√º√ø√ø√†l|≈°√®w="" aÀÜ√à="" √´o√ø‚Äû;‚Äî√ìa√Ω√ß¬∂f¬æ&go8@t4√∑√º√ü√ê√•_="" a¬∏√ö‚Ä∫√ø√π`h¬´+9|)‚Ç¨√ä="" √Ñ#|√ø‚Ç¨‚Äî√ç√èsr¬π‚Ä°n√â√É~b√π)√Ä‚Äût√¶"√©¬∫√∂√áoo√è√ø√æ,¬¨a√ûg¬º‚Äò√Ω="" √≠√Ωq¬∂="" !‚Ä∞√Ø¬†‚Äπ'√ê="" j71√ü¬∏≈∏¬≤ÔøΩ√∑‚Äö√è¬∞√å!¬∫o√π√∞5√ù="√∏w,¬™6√Ç&amp;√∏" √∞¬ß√ø√ø√àl√≥="√ù√î?1≈Ω‚Ä¶√í√Ω" l¬•t√Ñ¬ø‚Ä°√∏¬´;¬∑√à¬æng‚Äò√ÅaÔøΩ5k√äu¬≠√ø√≥&√°mz√û&n≈æ|(¬°\√´o√ø√ø√ÉÔøΩ9¬ªfh√ºes07‚Äû¬∞a√é7√¥√Ωd¬•√äf‚Äπ√†nlq√ã√∏w}√õ="" it¬ø√™^√æ¬£√≥√Å√∂¬∑x‚Ä¶0‚Ä°¬ø‚ÄìÔøΩ√Ωm√ø√ø√∏#w¬ß¬∂ÔøΩ¬≥yy¬≠l="" ‚Äûe√ºa¬§√≥am‚Äû√ø√º;9=""><u q‚Ä†jar≈Ω‚Ç¨c√à√®wi0√ôo1√ár√ê`w√≤¬≠="" √ñ√ê‚Ä∫≈æk="" √å="" :√•‚Ä°"`6m√º√ñl="4G√ÜxaG√ØwNÔøΩ√´≈í√õrU¬µ)∆í√†vÔøΩ√Ñ√Å√≠q‚Ä¶√≥N¬∏7√£<"><s o√Ä‚Äú≈°3Àú#.¬∑lf√†?r="" √ë¬±¬Æ¬Ø¬¢m√Ç="" √Äo6∆í√æf√Å3os‚Ä°‚Äö="¬Ø[#a√®√†¬≠¬∑√áÀú√à¬π-√ú" √ªk%6o√ú¬Ω00fwx%l}="" ‚Ä¢√´ÔøΩ|‚Ä∫.‚Äú~g^ÔøΩ‚Äú="" "x‚Äúk5al¬°<ÔøΩ√Ç?¬±√ÅÔøΩlr√ä‚Äú¬π‚Äπ]:√≤:4‚Ñ¢¬∏`{l{√çÔøΩ√ªmb‚Äú,√ê√∞he√π√°3e√ã√ñd√ç¬≥8‚Äπ¬≠√†="¬µ-√ø√ÄM¬∂¬≠√∏¬ºH√∫0¬≤√äÔøΩ‚Äì√™d√ì¬ß√î2√≤√∏√°≈Ω¬©@‚Äú√¶-/√óAYÔøΩ‚Ä°√èC√º√±ÔøΩ[R√û¬≠S¬∞*/√éxJ'‚Ä¶‚Äûd¬∑)Ne‚Äù√¶%¬µ≈∏√ø√ñ‚ÄôÔøΩ≈°|¬°\&amp;n≈∏≈∏√ø√∏RdV√•√¶^9√∞¬¶'¬∏" √´o√ø√∞‚Ä°¬∂√•n_‚Äö√óo="" dg‚Ä°c¬∏ÔøΩ√ï?ÔøΩ√ø√π._‚Äû¬ß√°¬´g\d_0="" √ö√ì|‚Ä¢√¶√¶)√í√ø√ø√ø√Å≈∏8`!√Æ~y∆í^√ø√∏√ø√∞rw√ºo√ì-√™p¬Æ‚Äî-√ø√ø2n}¬≥2n?√ñÀú¬æ&r^l¬±¬ª¬∞#√∂6‚Ä∞x¬Ω¬®,¬¢‚Äî‚Ä†%√†¬´"√°_√ø√ø√ø√Ö√ª√±b¬∏j2h="" √´o√ø√•nz√õ‚Ñ¢a!‚ÄπÔøΩ¬¶ÔøΩ~‚Äú√ï√∑√ø√ø‚Ä¢¬π~="" ¬πf‚Äö√∂x)‚Äî≈íusaÀúsk="" ∆í√ø√º,√ã√¥√Å7√∂`‚Ä†="" √ê√Äd="" √ë="" )√•¬∫k√±√∏b^%√µ3¬£‚Ä¶t¬πo√ø√£¬≤√à¬∑l√í="" ÔøΩ√Ñb8!√≤k√†m¬©dÔøΩ^q¬º¬™Àú8‚Äî¬£k8s="" m@"{≈æp√Ü√ü√ø√∏&o√É&≈Ωx¬Ω√¢√≠v√ï√∑√´¬±√±¬∫√£√µ}q‚ÄöÀúc\‚Äù√∫√ø‚Äöi√Æ≈Ω~‚Äù;¬´ÔøΩ‚Ç¨m√É2="" √¥^="" √Äg¬æ√≠¬∫∆íx√Üeix¬æh59w¬∞;√ú="" √¢x4"√Ä‚Äú="" 5¬Ø‚Äπ√º√à‚Äîsi√¥√∑¬∞="" }r√Øc√°d¬ø√†√†@ÀÜk‚Äì!‚Äû√û√£~_√¢.f="" √†9¬¥a2h√Ñ="" %;djaÀú‚Äòpwqc√π√ß≈∏√±√ë‚Äòd√å‚Äöh‚Ñ¢d¬ø√ê‚Äùo√£√Ω≈Ω¬¢¬∑√ì9√≠√°\ÔøΩo√ì¬πq¬µÔøΩ¬ø√ºf_√π√Ä√Çx√π√ø√Å√Ä="" ÔøΩ[w¬π√ù√§i≈æ¬Ørp‚Ä∫¬ßtf¬§k"√∏≈ì√¥v‚Ä¢¬®s[!"6ya¬∂¬•}3≈∏n√ë√£√íbw?j√ø√Å@(ÀÜ√™√õ≈Ω√ªmt√¢√æg√ü¬¥16√ú1_‚Ä∞="" √∑√¢c¬§a√π√ç√Æ¬†b√´√õcz=""><s ¬ß‚Äòj‚Ñ¢√Å√®Àú√à√é¬£√Ña‚Ä∞,√≠r√à_√ø¬∫0√™‚Ä∞'√™√ã(‚Äô√≥6b¬§9,√Çh√≤‚Äπ?√°l$‚Äú!v√í="" √à√πx√Ø√Æ%o√Ñ*‚Äî√≤o‚Ä¶∆í&z^√ø¬∂≈°≈†√∏√ø√ø√±∆íÔøΩa√õ√±ÀúÔøΩ∆í√¨√∫="" ~d¬ª!¬º‚Äî¬º^-f‚Ä¢p√Ä√©≈†√ù√ïuq'√≠√Äo¬Æ√∑√∞¬≥√æÔøΩ‚Ñ¢¬Ø="" <¬±√ì¬∑√∫√≠√º√ãi¬Ω‚Äù¬£√Å√ølu¬§-{√Ω5g="" ¬ª√¢ÔøΩ;√ü6u√∫k∆í√¥m√ã√™√ç√Ω¬øz√§Àúp'√∂¬ßzÔøΩ√åg¬≠x√≤`}√≤~i¬ª¬±j‚Ä∞¬Ωh?‚Äô√É&="√ç√©√≤¬µx¬ø0√ÑG`√ÄAB-" y6ÀÜ!ck‚Äö√öwÔøΩq≈°4¬®√∑ÀÜ¬´4‚Ñ¢b‚Ñ¢'√ù‚Ä°}4e√æ¬´ÔøΩb√∞e‚ÄûÔøΩÔøΩt√°ÔøΩ?√§^√∑ÀÜ√ºw!_<!√ó√©√Ç√è√ª√É‚Äô$¬µ<≈í√Ü√§[xÀÜ√∞2`¬∞√è="" r+‚Ä∞ey≈ì'√å√∏‚Ä∞√π√ß√≠="" u¬•j√Äo√™~a≈Ω√ë9≈∏na√ï√ø√ø√ãd!√Äbb‚Äù$¬∑="" √©¬¥√∫'√§="" *l√àhx5√Ü√´√®√ã√ó‚Äû√∞f¬º√ç√ñ√òm√ú62~√´;≈í√ù<k√Ω√Ω<‚Ä∞="" √°√ä√†="" ≈†¬§√´¬ø√ò√é="√Ñ‚Äô≈í√§k}√ïÔøΩ√™√°√π\‚Äì" √†cgo#√Ω¬∑√æ√∏√ßÔøΩ√ãr√ø√É√án@dg|√Ω¬Ω="" √†_[="" gv√ª4~?12ÔøΩ<k[¬•‚Ä∞¬ßÔøΩ‚Ç¨a√ö√∏√î√ΩÔøΩnc0≈ì√π7y√è√•√Å‚Ç¨{n="" √π‚Ä∞g√ï√ßb¬∏y∆í¬°9¬™k√ñ√Ñ√ç√ì√é|√≤]5√´f¬´‚Ä∞¬¨t√ó√•e√ô√êd√πn√Çy√ì√è6m√ù¬ª√è‚ÄùÔøΩ√è√é¬®oÔøΩ0√ì="" lg‚Äû¬æ9√¢?1¬µ6¬Ω√ù√´~√ú√í√ß‚Äûj√£¬•√à√∂√º√è≈°√Éy*=""><i><u ¬°_√ò√Ç<‚Äú`√±√á‚Äûys√∞¬≠j‚Ä¢}√≤≈æ√π}@qj√¢g6ÔøΩ√õ√êef√ü√ç¬∏ÔøΩ≈æm6∆í√Ä‚Äî√ªb√Æv¬ª≈æi¬ø¬¥¬µ√¢,‚Äî~ÔøΩ"6‚Ä∫¬º¬°√Ä√õ4!hu√õ4√ñm¬¥;n^¬¶="" ak5√Ç!n+‚Ç¨qy&="" qa√òÔøΩl√±‚Äò7≈ì:bÔøΩ√Ü√∫‚Ä†¬Æ‚Äúa√¶:¬©ÔøΩ√∞x*j!≈ì~Àú‚Ä¢√Ämrl√©‚Ç¨="" ÔøΩ[≈†¬®‚Äò√ài√ûuv¬•√à+b√≤√∫√®¬†ÔøΩnc¬¢‚Ä†x√Æ√±¬®¬Ωh;ÔøΩ‚Äöx[≈†="" 1√ù=""><b &¬©√π√¢√º¬¶√õÀú="" wp¬¨√ºx¬ø‚Äù+√ù2√ü√ø√ø}√ª√çt√¨fÔøΩ√é$_√Ä‚Äîq¬Æmy¬©ds√Ω√Ç¬æv¬ø√ø√æÔøΩÀÜ¬¨√•√¢v√´‚Ä†&√ÆaÔøΩ%√µ{‚Ä¢√°lx‚Äò‚Äù¬∑√ø√øÔøΩv¬Ω¬∂√ï`k≈∏="" |g="√ç};¬º√Ä∆í" √ª¬∞√Ñ‚Ç¨√é√º¬§¬ø√µ√ø√Ä√Ö9ld√é5√åa¬£‚Ç¨¬∞="" ‚Ä∞="" ¬®√ô¬¶q<v="" √©s√ä="" w‚Äò‚Ç¨√ê|¬Æ√∞¬∂√Ä[√ìa¬¶√¨yn&¬∞c√º‚Äî¬Ω√•e(o¬°¬´f√∑√Ñ√¥¬ª√¶¬Ω√™√Üv√ú¬Ø√ø√ø√∞c∆í‚Äî¬Æ‚Äû√†√ûv¬º√û√ò√àc6|√é√π√∞‚Äûl¬¨!ÔøΩ√ô|≈ì√∂,`√Ü√®¬•m√ø<≈æc:0√ù~ph‚Äò√Ç1ÔøΩx√Ñ¬ßilg‚Ç¨√ä√ì¬¥√ó√≥ÔøΩi¬æ‚Äò√°√∫|dw`ÔøΩ√É¬∑f√≥√†c-‚ÄîÔøΩ√ò#7√ç√åpx‚Ä∞≈Ω4≈íus√è8ÀúÀÜ√æ6hqzde]√†57√•√æf¬±9√∑i√Ä‚Ñ¢√Ñgm<¬±ÀÜ‚Äì√ó√≤n≈æ<¬∑√í:¬µ¬≥√æ3%m√ü="√û¬Ω¬¢√Ω¬§k¬∞√é√º¬§¬ø√¥√∞ÀÜÔøΩt)√ª√∏‚Äò<≈í√ç≈Ω√Æ√æ√é≈∏F√¶s√øL#‚Ä∞≈Ω≈ì¬•≈æZ√±,‚Ä¶√©¬°¬æÔøΩu'^O√èÀÜ¬≤@o6‚Ä°O√á/PUa‚Äùsr‚Äûn√üe,√≤@8V√çCp¬®{|&quot;723¬©√¶¬Ø=‚Ä∞#b¬≤I¬•√§√º" √ô√ø√é¬®‚Äì="" ‚Ç¨<√ö√°√ç="" ÔøΩr√°√´s?√≥¬ºf(¬™¬ªkc;v√¶fu√Ç√ø√©$‚Äπ≈æq√¢0√¢¬†2¬¨¬£+u√ª√ô√ùmn""√í¬Ø¬≠‚Äò!¬πw≈∏¬∞¬¶√£‚Äùnz¬ø¬Æ[√ó√∏√Ö_b\^}¬Æi√Ø√¥¬ß¬†)¬¨√øu~√¨"c√•√å√ª√é√≥=""><s ≈∏k6w√¨√π¬ªÔøΩ‚Ä¶‚Äôsq‚Äúw(√±|l="" √Ö¬º3a,\‚Äπ√™‚Ä°∆í√¨e√ûw√Ö√≥n?√Æ!~?[√ºc√ô‚Äö√Ç="" √°√Ω¬ø‚Äôl¬∞ÔøΩ‚Äöz="" √ò}≈íÔøΩ√ê¬†√ï√ø‚Ä∞√±√¢<g√Ñr√≥\^√ç="√ü√±" √Ö:a0s¬∂¬π|√à¬æ-1‚Äù¬ºexqk;√≠h√ø="" ;¬∏1¬¢√É¬ø√¢0√†8!#√É√∞¬≥√´√≤ÔøΩ^Àú7ÀÜ¬´‚Äî¬¨√à√û√áÀú√†√ò√±m‚Äî√¢*="" ly#pn√ú~"i¬™p≈íÔøΩ¬®¬∏.√±√ç6pw√Øc√±¬ºf`√π√∞$√ª8¬©¬∂¬ø√Ée∆ís√£ok¬ØÀÜ¬¥¬©√¥Àút¬°8¬£sp^!√±‚Äô‚Äû="" √Çmh8|h√çj¬ºa="" ‚Äπ√êo_√±c¬ßfÀú=""><a ¬∑tj¬†¬£√∞‚Ä¶¬µ@p√ú√Ñ="" #x√Ée#="" ?eÔøΩ¬∑√Üq√∞¬¢¬∏@¬ª="" ≈ìl`√ö¬†≈°¬•√Åo.qa¬∞‚Äû√æ*√ú√ÄÔøΩ¬¢¬∞√åip¬≠√∞ÔøΩ="" 0<√©:√ªf√á|lx-ÔøΩÔøΩ¬∏¬†="">√•0√º_*X√ç√ç&lt;6√º¬¢7√ºE5√àH√ò√∂¬£‚Äπ√´√ê√ï*	@ub≈∏$7√™√¨X√ªG√ºF√ú≈ìW√™	√Ä¬©¬≠¬ºPK√Ç{IÔøΩ/&gt;√∑‚Äî‚Ä∞¬º‚Äô`"¬¢`1‚Ç¨√øw(‚Äò	¬∂√æ]√µL√æ¬¶PaC√´F¬®5√Ç√∞‚Ä°√õ‚Ä†‚Ä¶@ÔøΩ'√π√ï√¶|j(|‚Äπ≈í√ß≈Ω∆í√∂¬∏y4c√Å‚Ç¨√πrU√®√£@√ü@√ö9√£&lt;73√Å3√ß√ªe√∫√†/f‚Ç¨√µA¬°√æ3√Äb√∂¬¨UC¬±ÔøΩ√ÉHb3√Å√ësv
√éV‚Ä†N¬∏B'‚Ä¶ ¬º√Ω√¨√æ√£aq√±!‚Ä∞√á(6ÔøΩPJF¬®√±q&nbsp;X√∞$√õ√Ñ¬£√Ñn3¬™;√±‚Ä∫‚Ä°ÔøΩ√è¬®&lt;√¢√∫
T‚Ä†a≈∏@j$√•I-xy√±v√õ&nbsp;#`4,‚Ñ¢√©√Ω√∞ÔøΩ  	5X√ës}¬Æa√≤,‚Äû9RK&nbsp;¬§¬±√¨√ÅÔøΩ‚Ä¶¬Ø√Ç;&nbsp;2√™@¬≠(√∞T:?√ö√Ñ√ç√Å+√∞n√ÖÔøΩ√ä"}‚Ç¨√∞√≤/≈í¬øPH√†^√≤√°√ò‚Ç¨√∑ÔøΩ√πh√ë]3K¬§C;√±Àú√Ä=0'JÔøΩ&gt;‚Äùn2√Ä¬≤¬¢	‚ÄúR√Ñ√ÇMO√Ü]√É√êr√ì¬°√ê√∂c√åJ&nbsp;≈ì‚Ä°√Å√ÄK√û‚Ä°¬±√≤√ú]√§≈æ√±‚Ä∫≈ì"ÔøΩ√é√°A√†@G‚Ç¨Àú*‚Äì√Å∆í&nbsp;9√ç‚Äπ¬≤`;√±≈ì√ÇÔøΩ#≈Ω√ún&nbsp; √å8/‚Äû S≈æ¬¶√Æ¬®?@¬ºg
!√ô0w√ÄZ¬®p-=-
≈íL√Ü√°‚Ç¨¬§K≈Ω‚Ç¨¬ºW‚ÄöÔøΩ√ø¬±∆í^u√±√ù√ê`¬™	Z√π/√à=1.√Üqy(ÔøΩw√â√âÔøΩ√∂:√¶√•‚Ñ¢‚Ä°√¥¬º¬Ω‚Äî√¶√∞√ä.
st%√†A/√ê√á‚Ç¨s,(√â√∑O‚Äî≈°&gt;=2N¬º¬º8‚Ä°n√Ö¬º¬º9o√¢√º&amp;}¬ØyÔøΩ√í,√ø√®6ÔøΩ¬∏,¬≠√£√Ω√ø√Ö√Ω√ÅÔøΩ‚Äù_¬∑√åp=)¬Ø/
o√ã√á√ß√°¬∏\=C¬≤√º¬Ω¬°c∆í√º_
!B¬¢√Ç];G√£# b≈°W?I‚Äî√∏q	% ‚Äò√êeQ√¢√∏v.‚Äú8"√ò¬∫¬™K¬Ø%$Àú‚Ç¨]q}#√∞√º√ñ≈í%√¶√ÉÔøΩT≈í¬¥Aq√Äv√àL¬§‚Äòi√Ü@√µ√Ñv:*√î	¬©√É≈†√¢(|≈æ+≈Ω0¬∫√≠√∏‚Ä∞‚Ä°‚Ä†∆íkAh	√Ä6~"ÔøΩ√Ø¬Æl√ó∆íÀú¬∞√áC√±4kKC¬ø¬¥/¬•Z^"¬§¬°√Æ‚ÄûQ¬°‚Ä°√ß√πf*≈í≈†/√Üp‚Ä¶√Ü√Ø‚Ñ¢&amp;A,&nbsp;evBv√•¬¨¬∏\√±√ô√é5√†¬¨<rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp `ÔøΩ"√¥5¬¢√É√Ω√êc1x√≠x="" √Ñg√Äb¬∞$√ëp√ºn5rm√Ç0‚ÄôÔøΩh√°¬©="o≈æ√ºÔøΩ√´s√®‚Ç¨√ò√ÑhK‚Äö(1¬•√±√∞¬°ÔøΩ√óÀÜ√∫7√û∆í(8~3≈í;¬æ≈æ2">√ï2√ê0
¬ß¬∑p√Ç
‚Äî%`√Ü√Éj¬≥z~"T¬£‚Ä†√™‚Äì‚Äû√ºÔøΩ‚Ä°√Å&nbsp;‚Äî≈æh√£√Ø¬æ:≈†√¥√Ω
T√å1_√≠√∏≈Ω≈æ=¬¶^2√∞√¥-√è‚Äù8√Ö¬®Àú`p	√£¬∞&nbsp;8‚Äì√∑√Ç\`zR¬£ÔøΩ¬¥s√Ç5tÀÜ‚Ä∫≈ΩÔøΩp¬∞¬©.≈æ‚Äú√•√£NÀú√©√§¬ø?¬°¬º¬ßÔøΩ√û‚Ç¨‚Äö6≈†√∑‚Ä†√ë≈ì1{¬Ø√Ç\√¢Ep√®√∞
‚Ç¨p.
x¬∫√ÄhS3√ì√ªÀú=≈í
ÔøΩ√á√Ü¬∏v√ífIÔøΩako≈Ω√≠¬Æ≈Ω6El√ë¬¨&nbsp;%|!¬º=+vN19√á≈°`‚Ä∫√Ç<!--?-√´√ÅVJa¬º√áH‚Ä∞f‚Ä∞¬≠49*b(4√õ√ÆÔøΩ√∏√ä√òd¬æ√∞6√≤√ú!√å√Ç√æp'√πÀú√±r‚Äö¬¨wÔøΩH2P√∂`ÔøΩ√∞≈∏‚Äû¬∏X√∞√≤.x¬®/√Üv|√®e¬°¬°√∏@√†√ì√∫√É‚Äò|√ê7‚Ä°¬ºe√§28\oP	T√ÆÔøΩL-->¬±√†√∏`4,‚Ñ¢√©√Ω√≥F-√≠√∏GB[√ì
¬¢√ó√ò√¨`‚Ä†√ç¬æ√πH)√∏√é:_0fU¬©t?d√ñ√é√ó‚Ç¨XzT&gt;ÔøΩ1]∆í^√®!¬∞h4CO√¶‚Ä†@‚Äù√Ü.√∞√∏√ä√î√†‚Ä¢¬≤/&nbsp;(1√∞RL√õz¬§q1v≈°√ü√≥‚Ñ¢
W√≤t√®¬ºg‚Ç¨ √ºO√µ¬•vH|≈∏√ó@x√Ü√°√∞≈ΩÀú√Ä(¬≠	D‚Ä°√ùs√Ä
M√ù√ö√ÄiV
?‚Äû<us&√Æ>Y∆íb
Z‚Äö√æÔøΩ4 √Ä¬∏√©H- √≠ ¬¥∆í√£¬°p/√ã√Ü≈ìÀú-√¶√°+
√û~o√òz√•√£√ÉZ‚Äò¬°√¢√∏√∞4√°¬¥8o√ã√É√∞√∏4√º√ú‚Ä∞‚Äû√Æ	I√±|√Ö√Ä√™√Ä√∏√£√§≈ì√úa√≥¬æ/‚ÄìI√£‚Ä°√ø‚Äû0√≤/√É√Ω¬¥‚Ä†‚Äù?√û:¬ª¬≠√©√êtg√ã√ÜF¬∂7√Ü∆í¬º√úl8X≈∏‚Äπ√™‚Ä°C¬ø~/‚Äû√Ø0¬±nPA√≤√∞√ú4√Ç9‚Ñ¢‚Ñ¢≈ì√ÄÀÜMÔøΩ&amp;√¶e*\H√¢ff√¶nf√¶e√¢*≈í‚Ä¢‚Ä°'
.√á‚Äö!¬®S`n{√Ø*P√ü‚Ä∞ÔøΩ≈Ω¬∑ÀÜ`¬°X~≈Ω¬∏√ªf.√ìv√ê‚Äô	#ÀÜ√æ:¬º0‚Ä†√ê:ÔøΩT≈Ω√Ø√Ñq√ê√¨p√Öp+√Ñ√π‚Ä¢‚Ç¨√´‚ÄûfI√É√ãT√∞‚Ä°‚Ñ¢≈íp,?√âi≈†√ø@√á≈ìÔøΩ~A7A¬¥‚Ä°√ÑZ$√Å√ì¬•√ö≈°√∞7√æX√à01√æ"‚Äö8¬Ω
`a5√†√õe‚Ç¨c¬∏w√ü&lt;‚Äò)√æ&amp;√ÄHa√îI`	√≤√ø%√Ñ6f
√∏√ç¬®√õ@4¬°¬º*√©√ì√°‚Äû¬∫
√Ä√Ä|f¬¶E&lt;\kÔøΩ√†t,¬¨¬∞A√êqV√Å√ºN¬•&nbsp;√∞`~≈†‚ÄîÀÜ‚Ä†W¬ØB¬°¬°√±h%√áÀÜ‚Äû√é‚Äö&nbsp;Rx!D‚Ä°W√´√Ü‚Äö√±&nbsp;.‚Ä†4√ì√ÄÔøΩ@H¬¨t√ª√†¬ß‚Äì∆í‚Ç¨~:√†‚Ç¨0h‚ÄûA:√Ävx
√í√∏‚Ä∞‚ÄöÔøΩ	A¬∂‚Ç¨hLDL√±73¬±√Ä¬∏fs3/√ä¬¨3ÔøΩ6ÔøΩy‚Ä†‚Äî+√áÔøΩ1√ì√Ø.-]√ÅV‚ÄödKC¬≤√¥@√æ3≈ΩFx√Ä√ñd√Å¬æ√∏≈†√∑"¬°√ΩH√¨√ê¬ºWht:&nbsp;A√ß9A√∏C¬£B√π&nbsp;O%√•&nbsp;√ÉÔøΩE‚Äú√Ç~P9A√É√Ä`[r√Ä√Ö√æ/hP√¥.¬∂+√åÔøΩG≈í√úk$√∞∆í¬®	n/&nbsp;√Ü‚Äì*N¬°‚Äì<m√Æ√Ü√Ç√∞√®√ñ¬∞¬∫7 √á√ße‚Ç¨l√ç≈ì="" √†ÔøΩ<:‚Ä°√†tÔøΩ√Ü≈∏i3}\ÔøΩ="" ÔøΩ*‚Äû¬¥2¬¨0ÔøΩ2¬†¬ºgx="" √ßwm√¥ihv√®k√Åq√ÄÔøΩ¬±r√±‚Ç¨6√±]‚Äö="" %¬æo√ü-¬¢f¬¥‚Ä∞1¬•√∑^3¬µyf6√Ér√¶tpka√™¬™="" -="" ;="" √ê?z√ê√™ÔøΩ√§√ç√á√î√Æi{?√ÖrÔøΩ‚Äö="" ¬≤¬æc="" √Öx√é¬ºk‚Ç¨*‚Ä†`.√ò√™c¬¥¬±√°‚Äì‚Äùxoc‚Ä¶ÔøΩ+‚Ñ¢="" √∞√™f="" √ò¬£be√ê√Ω‚Äúz√´√∞√°ÔøΩ√∏cl77ÀÜÔøΩx¬ªck‚Äû{4‚Ä†@e‚Äì‚Ä¶¬§a¬º∆í√´ÀÜ'√Ä√™‚Äî√≤√≤√≥√Ü|d;√©√ï-ÔøΩ≈°q√òz¬†9√°u≈ì√£:‚Äô√ª√álj‚Ç¨∆í¬´√áad9="√ú" 9√°="" m√êaÔøΩÔøΩx8f√É="" .~3ÔøΩg∆íÔøΩ¬∫√êz‚Ç¨j√á√´="" <#‚Ç¨√Ø√Ä="" √¢o√ù√Ép‚Ä†b¬•√öz\‚Ç¨√ê√≤¬¨aÀú&√¶nf√¶m!‚Äî‚Äπ√°¬ø√´`√éd|¬∏|√ú="¬®5`√ç¬æ/¬¥0R√á√Ü¬Ø√ã√É(=T¬∏¬æKO√ÉÔøΩ√®j√±|√¨√©&nbsp;¬≤N√≥pA¬£0√¥0√é|_√ÉwC√ñj√ë√Ä√πx&quot;x\(¬Ø/" ¬°√î√Ç√±|8‚Ç¨√Ö√Ä‚Ä¢¬Ω#k‚ÄîÀúd9="" √ã√†‚Ä¶¬≥√≥√ø="" `‚Ä†c:√¢√∏√∏¬ø`ÔøΩs‚Ä∞="" u√ã√Ç'v‚Ç¨ÔøΩ≈†√Ø¬¥q¬∏~n¬∏oÔøΩ¬Ø√Ña¬¢0ha¬æ‚Ä∫√°√ç‚Ä∫="">#√ê#h‚Ç¨√£¬Æt√∞‚Äî√£¬®Cch‚Äπ√Ø;`‚Ä∞ÔøΩ√ö≈Ω¬ª¬∏f!b√≤√®?#√©c`?‚Ç¨1/√±¬°[¬®]`√ÄD?ÔøΩ√õ√ûx2
√∏J4GR&nbsp;√Äa√≥K¬´√Ép√æ%¬¢(∆í√£√∫≈†‚Ç¨ÔøΩl∆í√±U √ñ√ØA8|g=CÔøΩ¬∞LcbdÔøΩh[p√†√∫√òw√±
√ì√öP*h
x√±√†b‚Ä°≈Ω∆íEÔøΩ√î!h30=√Æ¬∞¬∞√≤√∞h√ÑG‚Äö√∂rG‚Ä°ÔøΩÀÜ¬µC√Å√ê&nbsp;9E√Ü√ß≈í¬¶p√¢√êp\≈Ω∆í√ü≈í¬µC‚Ä∫v¬¨x√ä√∞v\√Ω`z∆íxup√´`‚Äú≈°√Ø√Æ√øxTt^-JY¬´/S¬°}e|G √øF‚Ä°M√´‚Äô√∏?ÀÜ≈∏c‚Ä°¬™√ô
ÀÜÔøΩÀÜ√¶√∞H√≥*√±‚Äî‚ÄùC√∞ÔøΩ‚Äö&amp;‚Äπ√ò‚Äπ5√Åx√∏|¬™7%C¬∏√ü√å~√´∆íÔøΩ√ö≈ì"a√É√¨‚Ä¶G¬Ω√†√≤@m¬°√Ç.√º√ò√®√øvA¬π4Fx¬∏X&nbsp;[2ÔøΩy¬¶p√ºÔøΩ√™h2ÔøΩ¬©lW√ç√è√Ür	¬≤√ñ∆í√ñ√ê√í√Ä1x`Z‚Äû`BÔøΩÔøΩ_∆í√°√ºbg
 √∂Q√Æsr‚Ä†‚Ä†&gt;3≈ì¬∏√àA√¨f=√üYW‚Ä†ÔøΩA‚Äô√íl@√ê√øB√ø¬π^oÔøΩ#XMS ÔøΩn4=√ï¬¢‚Ç¨√º%¬¶M‚Ç¨¬≥F√á/ÔøΩ√ìB|p¬º9√î√Év¬º]P √û!√ä¬™√Ä]¬µ‚Ç¨U@√º#√ô‚ÄöGÔøΩ√æ√±&nbsp;‚Äî¬∞¬≤U√Å‚Äô√¥√âÔøΩÔøΩ√ºg^‚Äò√©hUz5 P≈ìs√ù‚Äπ\√ê√üO√é√ö√ß¬±√ù√É¬©√ú¬º
¬Æ√±Àú√°∆íUxO≈Ω	√òd√ã√ÑEa¬ø√ò3√Ç‚Ä†`c√≠ÔøΩz75√Ä5ÔøΩ&nbsp;¬ÆR8d8@¬°√Ö√¥;¬øN‚Ä°h/√ç√Ç&amp;¬•pp|_[‚Ä¶?≈Ω¬§i√º¬º√¶By/√°¬∏Q&gt;8W√ÜA3‚Ä°√≥‚Ç¨‚Ä°√ñ¬£√Çhp?&nbsp;CN¬æ&nbsp;√åÔøΩ¬º`j√æ26oÔøΩÔøΩ√Ω&gt;`√êeÔøΩ"√¨√ø√≤&nbsp;~/√Ä‚Ä∫√±√øz:X?D¬∞&lt;√∏¬æ¬º8+A√´‚Ç¨CCW‚Äπ√≠t√™‚ÄöÔøΩ
?¬∫ÔøΩ¬´√æ^:8~/≈í√ø‚Ç¨√ò√ú√≤[gW√ò√õ√±|√ü∆í¬¶√É√àlk√û/¬¨	√£¬°√Ä¬ºIq|`¬±√∞√û√¶‚ÄöRy¬π√Å¬∏C+‚Äπ√ß ‚Ä°¬¢√°‚Äπ√£!E√É√µ}≈ænn‚Äî|¬º|ÀÜ√ª√ç√¢5√Ü√∑!¬∞∆í¬°zj√â
CÀÜ‚Äö6‚Ä°√æ‚Ä†¬ª‚Ç¨IP√Æ:¬°P√±√ú&nbsp;N√∏≈Ω√∞√∞{@
p√Ç√ø‚Äô‚Ç¨C:≈í¬Æ√≥‚Äö‚Ä†	\¬µa[‚Ä†‚Äî!√∞‚Äî¬πb√£4≈°¬∑JÔøΩ≈Ω‚Ä°√É:N√ü‚Äù{√ÖB7(√∂`‚Äö‚Ä¶9√£¬£√Ω√≥√±√Çq√î&gt;¬æ"8:√µ!¬¶√ë√ºN√£y¬≤√Ñ√ö¬£≈†`w√±√∂‚Äî¬¶√Ü‚Ç¨√å‚Ç¨t√É¬∞M¬µ‚Ä°√µ√Ä`|~:¬©√ò¬∂&amp; =√ÅwiÀÜ√àx√∏hZ=A~J"√£.K≈í¬ßd√¢#"‚ÄôÔøΩ√ãB¬Æ¬¥√Ñ&gt;J‚Ç¨#‚Äò√ªÔøΩ¬Ø‚Äú≈ìRiX√ò0√∏ÔøΩ#
√Æ√í√®√ù;¬∫√∫ ‚Ñ¢‚Ç¨x‚Ä∫≈Ω¬º√†‚Ä¶ÔøΩ&lt;|o0√•√º√ÄÔøΩS¬ø{‚Ä†C5√án√É[pÔøΩ√ù¬Ω√ÅQ‚Äö√°AO≈æC√û√£¬®≈íÔøΩ@√ê	q-x?¬∞
‚ÄôN/√±√í√∫‚ÄúK‚Ä∫m√Æ‚ÄöpZ‚Äî‚Äû&lt;&gt;‚Ä°n¬∞√àh√ê√àY‚Äö
¬¨uX?√£√∏}¬•√£√¥√Ü√É√ã√ÉZR?≈†_√Ü|z¬Ø
C√ìp√Ä√ó¬∏√Ü6:|!?Àú¬∞√øE¬°¬¨ 9≈ì6√´@Ux√é05x√Ä√îo√Å√íLp&gt;i√Ä
√Ä √∏zf√òÔøΩ¬∏¬´8ÀÜ#~√©!√¶‚Ç¨¬∞:√Äu¬º∆í√†√¶K√å≈íÀú|¬≥√É√ü√¢√¶√úk√á‚Äù&gt;4√∞¬§√†√´‚Äπ√∏√çH;&lt;√ÄG√Ü√©U‚Ä¢√≤xlt√ê‚ÄûhPG√≥¬ºL6d‚Äù@Z¬¨‚Ä¢
¬πÔøΩ√Ä‚Ä∞√¶‚Ä°√ê√®h√å88‚Ä∫ÔøΩ√ø≈í√°√à~( -¬®O√¥¬©aP‚Äû√ö√±\`-(*¬∑‚Äûlx√éÔøΩs√∏√®¬ø¬Æ&nbsp;!≈†√π√æ*√®√∞ÔøΩ0!√∞¬¥≈æ‚ÄπÔøΩtP6"‚Äπ√Üw‚Äö√Å&gt;√Ä√©]$&lt;√ì√ä.√Ä‚Äû(¬ß@√§√Ä√ì‚ÄöÔøΩ√£sTQ!¬ßN¬≤‚Ä°√ï∆í√ø‚Äû:√í√πA√ì√Ñ√ì√Ö√´√∞√°¬Ø(¬®√∏√ç√áM√äJ‚Äî¬µwL‚Ä¢√ã √ëpJU¬¶-pe√º!wd:ePf√£√æ √ä)¬°<o√£8√∞g^√™√ö4q-√á√Üc;@ÔøΩwÔøΩ√ñ‚Ç¨!{¬®√á‚Ç¨_√Ç\6√ú¬®7√¶+$√±=j‚Ä¶!h≈Ω‚Ç¨m√Ö√∂ b√ê√≥√¥√®:4√ç√Ü√Ñ1="" ¬∞="" √≠|_@aÀú[¬∂‚Äöp<¬Ω7a√á√£√†√µ√î√î√∞ÔøΩ√á√≥@‚Äìx√†d¬ø√≥u="" ÔøΩ√±|¬®≈Ω√Ü‚Ä†4√à‚Äì¬º_\√ª3√£;√∫@‚Ä∫√ß√Ω√Ø‚Äπ√¨a‚Ç¨s√ëo√§f√õ_‚Ä∫√Çc√Ñd√å‚Ñ¢√ºt'`w_√º%a√æ‚Ä°√±p√Ç√•√Ç√∏a‚Äπz‚Ä¢‚Äö'√ù√Å¬∑√º_‚Äπ&‚Äìe="">√ø	√°‚Ä¶√â√ª‚Ä†P√ò√ºD‚Äî√®V¬ø√∏√èZIz√†}¬æ√ù‚Äπ√¨TD¬π‚Äö	√†&amp;√ù¬ø¬ø5√∫‚Ç¨&gt;)¬±√îD~‚Ä∫W√ó√Ñ√≤R¬°cP¬™7ÀÜ¬±¬±¬£ÔøΩ√Æa√ÅF√ì¬πq¬∞≈°W	P
:√ú√¢:&nbsp;∆í√á√π¬∂¬Ω√®5√Çp'√ÑR.‚Äú‚ÄùA¬©√†2¬ø√£8M√Å(A√àr:‚Ä¶¬®p√øk‚Äö√ó√ív√¢¬Ω1¬∂≈Ω¬§√ôC√±≈†¬µ:√±√ßah~&amp;a√ôtm√ó¬ø/√±3
√≤≈†√≤√ßÀÜ¬π¬∂¬Æ‚Ä¢‚Äû¬¥1,‚Äî¬Ø‚Ä¶√∏≈†ÔøΩ(;‚Ç¨`∆í√†Y√ó¬æ≈†≈†
ÔøΩ√ò@^√¨	8 w√áCn+¬¥√∞X√ò&lt;o√∏ÀÜ√â	ÀÜ&nbsp;‚Ç¨PÔøΩ2-√∏≈íB‚ÄôS√†[A√û"¬¨,√Æ
Y¬µX√∞‚ÄôÔøΩ√ÑNL0∆í∆í√êy
¬∞|
¬∑A√Æ¬∞√é√∂¬∏√ú‚Äî√ú1√Ä¬¨√∑-P0¬±<g ¬∏h¬†¬∞√¨‚Äú="" √¥eÔøΩ,¬µ‚ÄπÔøΩ‚Ñ¢@≈∏√£8n√°pk]√≠√®02="">ÔøΩP‚Ä°r√û√º#√î|,c¬£¬ª¬¢_g‚Ç¨&amp;‚Ä†√±√ØtÀÜrd≈í√º√ü√¶
&nbsp;CO=&nbsp;|]`r^¬¶E¬¢√ô-≈†¬•√∏CÔøΩkNh&nbsp;‚Äù‚Ç¨S‚Ç¨√°ÔøΩÔøΩ√∏√éÔøΩ¬©¬∫9¬Æ/√£√öV‚Äö`y√™¬™E√ÖI√ü√∏¬Ø¬¢Wx≈í&lt;¬Ω‚Äî≈í¬∑√Ä√à¬¥n&nbsp;X0(APj√ï(ÔøΩQ/√á√∏√†‚Ä¶
¬¢√ÄA\f¬¨~¬º√∫√≥√ü‚Äô‚Ä∫≈íÔøΩ:√Ä0√∏¬Æa‚Ä∞√Ü¬∏"√î‚ÄîO√ò√ê√•√à=@≈ìÔøΩ√à|\!√£¬∏H'√æ√´R√¥√™)¬¨r√±≈ì9
¬§6√¥√é)≈ì(O&gt;i‚Ä°'f√üDÔøΩ√´√ÜS‚Ñ¢√±≈°√°√≤√èc√é%v,≈∏√£8D¬°¬•&nbsp;‚Ç¨B√†√øwP5√∞t≈ì√ìÔøΩ1¬Æ∆í¬∏‚Ä°Q√†HF,¬°D¬ß@√•&nbsp;i`&lt;|!√Ü√¶¬º@‚Äò√Ä√ÄÔøΩ √Ç0√Ö$¬µ^3‚Äû√é?√ó]‚Ç¨‚Ä†√É‚Ä°a√µ√ÄW¬∏!
	?‚Ä°√¢√£√¢√°&nbsp;D/f¬Ω√Ü√°√∞?√à¬≥ √º4¬∑√•√ÆÔøΩ√æ3¬∂!≈ΩC¬∑√ú %0q√£Nj‚Ä¶¬æ√Ä¬©√É√û3Àú|√†8√∏√î√∞@¬°√Å¬°P√Æ4K¬¶x/w¬≥qÔøΩn¬®u√ô√†{A}√Ö¬Æ/√Ω√¥?≈í¬ª‚Äò4+√Ä.√°¬ªo√∂√ÑTtJ¬¥¬ß√Ä√ùw√™2Q// √∏I√Ö√§‚Ä∫√Ç&gt;7√µ√°√∏√†^_¬ΩZ=¬£|√úlC+ÔøΩ‚Ä∫√ÇLaq|v5
a¬™¬∏¬æa√ê√¨&nbsp;}√Ö√¢√∏n√ç,ÔøΩ
¬æ/¬©"√†√†|~w√ç√ÜÔøΩh;√Ö√∞≈∏¬∏¬´
9‚Äî‚Ä¢,k‚Ä∫‚Ä°P∆í√êk‚Äπ√¶ÔøΩ=‚Ä†√ó√ç‚Ä†&gt;^0,‚Äò√Ö√¥√±|x‚Äô√Å¬¨√úL4‚Ä¢√ü‚ÄîÔøΩ‚Ä∫o√¶¬º√ú|N‚Ç¨r¬π¬∏b¬¢‚Ç¨+√±}G≈°wp√¢‚Äπ√•√§&nbsp;√º√ó‚Äî‚Äö/dÀÜ¬æ≈æ√°√Ñ≈æ
%‚Äòpl√∑
!¬πf√Æ;√•‚Äú‚Äô:0%*&nbsp;S.√ÜÀÜ¬ø‚Ä¶¬´√†√∏√Ña√î;4√ë-¬∏√ù√Ät&gt;&gt;¬¥√ì√áF‚Äî‚ÄπN¬ø√≤√±1√Ä
¬≤ea√ºF‚Ç¨L&amp;¬®h¬°p9¬Ω‚Ç¨\F¬π√ï0a¬¥¬°‚Ç¨¬ß≈æ√ø√á¬º√Å
‚Ä¶=√ò√∏q‚Äî√±√ñ‚Äû=G_	`@E√ï√îiXX≈æ√°√µ&nbsp;‚Äù√°s `W¬°√™¬æ+!¬°¬©m7ÀÜ≈í√ú&nbsp;√ò'¬ºG8‚Ç¨√∏¬®√∏√¥ÔøΩ√Ö#ÔøΩ√ûk√í√æ¬¶&nbsp;giy‚Äö√û√é*√πÔøΩ‚ÄîP¬§√£√ä√æ"≈†G√≥√É¬¢t9o&amp;√µ0√¶√∏≈Ωpn‚Ç¨√§¬°
\h=√êp
X)y√±√ê√å¬ø¬¥8&gt;)ÔøΩ√Å‚Ä∫¬ø√Ø	8&gt;¬ø√ª¬∏k√∏‚Ä∞ÔøΩ√†;≈í"√ÑX‚Ä†√ß‚Äú¬™≈íFÔøΩx≈†t¬∑√û¬≠‚Äú@¬±P-√ºÀÜ√°}t$¬≥¬®	√ò√ª√¶‚Ä°¬∏'y8¬ª6√Ä¬∏4¬º√∞∆ír√±n|g√ú‚Äög‚Ä†√Æu√¢√û√ä/4¬ßd`GB‚Ñ¢&amp;^.:√™@9FB/√ÜmI√Ä‚Ç¨+G
ZH¬º√¢`√ÄÔøΩP'ÔøΩ√ºg¬≠¬§8ehK‚Äû&lt;√•h8h.4√£9‚Ç¨√§Z√§≈í‚Äû√ô√ê√£`√ê√õ≈†}&nbsp;‚Äû$√ÆW√º!√£‚Ä¶√û¬∏‚ÄúR{C≈°√æM?‚Ä°&nbsp;‚Äú8@.√∞‚Ä°‚Ä∞¬£‚Ä¶¬±hu√†p_?,‚Ä∞√Ä√â@‚Ñ¢√ø√Ü‚Ç¨R√Ç‚Äú]*‚Äû4;ÔøΩBÔøΩ√ï√£5J√Éw@c≈†t^$¬´√´¬¢¬º	B
ÔøΩ√∏F√≥‚Äö√™jDKB√∞√ö√®√ê&amp;?√Ç<x8¬°ÔøΩ√ô √ùpjc√§√Æ‚Äî≈í√∞√ºa√Ñ√®√∫="" ÔøΩ√ä="" ¬¢i3="">‚Ç¨¬ºf¬∑√™√Å
≈í√Ñ5#8E$W√ë&nbsp;k¬ø"xC‚Ä∫ad√∞G~√©!‚Äì‚Ç¨√è‚Äö√ΩÀÜ\6≈†e¬∏√ã‚Ä°√º'w√£-¬µpÔøΩ‚Äö¬¥√ºe√û√ÉwÔøΩÔøΩC V√Ä@√ß¬¨` H‚Ä†	bX‚Äπ√±ÔøΩ√™	¬∏√™√Å"G√Äq√•h&gt;ÔøΩ&lt;3√£7F‚Ä°√°‚Äö√µ%√±√≥√°≈†4Z√∑v√ë'vh√Ö√∑W√°t¬µ|F|√∂√ú	@R¬°¬∏B¬®&gt;x√äwÀÜNic√ì3√®√†≈∏√û√±‚Äô¬≥‚Ç¨cP√â√¶	p0X ^√ä¬ß‚Ç¨p&amp;¬´r√¥j$P-√∞‚Ç¨√å¬ø√∞√¢¬∫‚Äù‚Äú‚Ä∞¬°√Ä√ì≈æ≈°	¬∫¬°C√í√≤√πÔøΩa√Ñ.	√ûN/ÔøΩ√∞√´√°‚Äù3√Ø/@‚Ä°ÔøΩ¬∞‚Ä¶√¢q√Ø|¬§√Éuk‚Ä∫Àú√òQ√±}x p~^√Å"‚Ä∞yyAl √´‚Äπ√±√°√É¬∏4¬æ/¬©x!ÔøΩi√£¬∞/√ú
E√ï¬∫!¬§
~/√Ç√∫
¬°√Çx¬ø≈Ω√Ä9o√ç√éd`0&gt;^¬ºP¬¢C√ç√å √Ñx¬æÔøΩE$&lt;√ù≈ì√¢√∏¬øÔøΩ¬º{‚Ç¨√±¬±‚Ä†¬§ √æL√±√º¬º|iz/√Ç'bY~|p‚Äì¬π¬∏v,√∫√±|xrZ%√á√Ü'‚Äû¬´√£√êc√Å¬¥¬º≈æ¬¶}√å √ïl?a4ÔøΩTÔøΩ4√õ‚Ä¶√â‚Ä°&nbsp;√Ä_√Ω√ç≈ì√£¬™¬™‚Äπ√áY;√ê≈†(=K√≤2Z8
$¬©3¬∑≈íN√±√†`$4Q‚Äì√∂√ºHl\$X√®pN√Ä/√¢)¬¢H√úc≈Ωh√à'U9√∏B√ì√§√∞+&nbsp;¬∞√≥|X√¢√á\F√éP-[√ú	√É√áGÔøΩ√Ä9u`‚Äì‚Äôg√Ä√ÉÔøΩ¬æG√É‚Äî¬øÀÜÀúQ√É√Ñu(V√†¬º‚Ä¶ÔøΩu√≥√ÖQ√ã¬¢√ÑE√¢#√ÄF¬°√ê√ë¬ØÔøΩ¬∫&lt;]5gLÀÜ√ºuHÔøΩÔøΩJ√êF√á
Ch 	Y0√É√Ø¬ø√á√≥≈Ω√éÀú√ê:√äÔøΩc‚Ä¶
$√ø√ª√∞&nbsp;‚Äö.A√¢c`√Ç√í√öÔøΩ¬Ø√º%8y‚Ñ¢K√ª¬∏√úDpÀÜÔøΩ¬¶(T√ÉÀú &nbsp;oM<oÀÜ√É√®n‚Äû√∫f¬≠x%√Ç√™ÔøΩ¬Ω rÔøΩ¬≤‚Ä†‚Ä°g‚Ä¶√Ø√ü!q√ë√í^?¬±="" √É‚Ä∫√∞t‚Äî¬•p.√àÔøΩ√±¬±="" bl√ªx√ò√Å@k¬±c‚Äö√ñ√ç≈Ω[√Äm="">+xs&lt;5ÔøΩ3√êr√æ√∫\√´√Ä√´√Äy}4UÔøΩ¬´F√º!√ú1ÔøΩ√ã&nbsp;N√æ¬ºPi‚ÄöZ√¨T¬Ωr√≥X1`@√ä$¬∏√ê√´P!`≈ìPZP√ù√°.:2n√ø√°
¬ØeZ√≤(W√ÄV
q¬±√ì√£(gP√πÔøΩ¬¨√ª?√Ép√±'@/√∞√ë√Ç√∏¬º√£-¬ßA√∏‚Äì√∫4&gt;√Å√Äa√ò¬™('3K√éL0√ê/y≈°NÔøΩ√ã$8 ¬∞√£-√û√°¬•√í`√É‚ÄπA¬±√Ø√û, ‚Ä°‚Ç¨^‚Ç¨√º!¬∏D√†√ò¬Ø`≈æ¬π‚Äö¬∂p{q√Ç7‚ÄîÔøΩ√áqÔøΩnn√£√•≈∏K√üK√Ø√ô?‚Äû¬©√êl ¬£√Ç√Å
√æ3V‚Ç¨H[√ü√î√ªE‚Ä†8Àú√é∆ío\1^B√¨¬¢√±√û:_i√î2‚Ä†V≈†≈†√∞p¬ß‚Äûx'n+‚Äπ¬°√∞845`≈°‚ÄπKRT:√Ç&lt;	√ø√ù≈°‚Ç¨¬∑@√õ√∏~%≈Ω¬∫k∆í¬≥√•(√ª√Ä√≥`√≥L*Q√Ä)¬°x¬∏i√í√É¬©j√ú√°{√º!U¬∞ÀÜ^W‚Äö√à%&nbsp;‚ÄîSq¬∞√°‚Ä¢H{‚Äû√¨_‚Äú¬∞≈æ#√≤xI√â√©√ª√†√Ö‚Äπ}√≥√ó√∏G≈ì√´√Ö√å#a√Ö&lt;√á\ÀÜ√ü√ú√æ/¬¶‚Äì√Ö2√èL|0|_N≈†V‚Ä¶j4ÔøΩ√≥/|√∏¬ø‚Ä†P√è¬¥yK√Ü¬Ø/x G√Ü¬Ø/√Å√†1x¬ø¬ª‚Äîm0√í√£¬Øz√è√à¬£√Ö√±&nbsp;A¬•∆í√•√ì√ø/h0√®¬º√úd√¥√ç√º≈∏¬æ√∏¬øÔøΩ¬ª√à‚Äî√¢√∫ÔøΩ√™¬®!:≈í@~n∆í√ùA¬Æn:0√û0|¬º¬™/√Ä√∂C√ç√É‚Äö¬≠q|8∆í`¬Æ√ªÔøΩa√ï√¶√°ÀúQ!√∂yy¬Æ+√∫‚Ç¨¬Æ/ÔøΩH`¬µ&nbsp;√¥√°¬•√ÑC)5‚Äπ≈Ω≈†√ó¬£√æ√∞^¬£¬æld;4√≤5amhq√ø$p9√ê‚Ç¨√ê?‚Äû√ª∆í¬£√Å1√£ÔøΩ√íhi¬¢≈æ24:√≥√Ç√Ç√ä‚Ç¨w√î¬∞ÔøΩ√∞_¬∑P/p~√æ&amp;√â8l¬¥al√≤√∏¬∏~*.‚ÄôO√∞ÔøΩ%√Å4`i%√Ñ‚Äî√£√∏m¬∫¬∏=#√†D√ë6‚Ç¨a¬¥o√°)ÔøΩJA*X+√ø√£:¬∞0!√µ√±#B√á‚Ç¨7‚Äû√å¬Ω
‚Äû_√¢x√∫t‚Ä∫7√æK√õ‚Äö:√≤mO√Åit√§√îa#‚Ä†≈í¬£8√ò√á¬∏¬¨dc√ÇQ√∫¬ØÔøΩ¬π∆í¬π√Æ√ù√§CI‚Äù¬£√å&gt;3√äL5¬∑(1P∆í¬°√Æ√ï√©≈†¬æ‚Äò√ç^"q&nbsp;√ìT‚Ä¢60
?=√£√¢4√∏cNp,&lt;√¥√±√†√è¬°&nbsp;√∫√∞(0~"0$@a&gt;‚ÄûKu&nbsp;?&nbsp;√Ñvy‚Ä¢≈†O‚Ç¨¬°ÔøΩ¬©‚Äî√ó√¢:‚Äù0¬≠!‚Ñ¢√åP=qhh¬≠√ò¬∂‚ÄîÔøΩÀú
:-√í"√™√™b‚Ä°ÔøΩ√∂¬¥'‚Äùp√í&nbsp;√£¬§¬∞0sar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏√éE√ëpg√è≈∏√≠&nbsp;	@`^¬•H$¬∞3ÀÜ4*√Ω¬°√áU√ê√àX2&amp;‚Ç¨√è√é¬¨e√Ä‚Äû√∏¬ø√á√¨59¬∞=√∫,¬§¬´P7b
CÔøΩ√°
L1!&lt;√ùH]‚Äπf¬§ÀÜ¬º&nbsp;√í¬§0'‚ÄûH
?¬ø‚Äû7FA√≥	√Ås√§√à√ò0¬ºo√Ç|7e√∞√∑&nbsp;?q√±¬©‚Ç¨ÔøΩ√°√à¬≥m7√Ö‚Ç¨‚Ç¨¬•B√£&gt;2e√¶\ÔøΩ√§(√ï‚Ä¶√Ω√ã√Å¬πw)≈æ‚Äô√Å√≠√êC√°|m‚Äû√Ä@≈°0wg‚Ç¨?/`¬®¬ºg0!√§¬£v	=GL√à\
0√•¬Æ√é'√£&lt;4‚Äö7¬®J
¬¢‚Ñ¢xK9√°√õ√û3¬´≈°rLlmÔøΩ3|
√ÖO&amp;√Ü√Ö√ë√ì√Ä¬®√ºf¬•¬¢D√Å¬™$)$}‚Äî√¶t√û	≈†√Ö√ö√∞0p$√°U+‚Äπy7
-f¬µ√ê√æ√°√•¬ª‚Ç¨!n√π}}¬ø2√°u1&amp;&lt;;√°√îK√Ö√í√ãf√¢√åy√ìXg√∏GÀúG≈∏¬®Ap~6
&nbsp;H!√≤x√é¬§ √¢/v¬ªP¬æH√è√ø‚Ä∞√°¬¨√¢≈ì¬§√£√£w√∞√ø
"√ß√±≈ì√õ∆í‚Äù/{DÔøΩ.‚Äî‚Äî¬±*‚Ç¨:r&nbsp;≈†C+√Ç&lt;8‚Äî*tLia√ú 4@√°√Ä√Ü]√ü‚Äì√Æ	t√Ö√è√ª√ü√ú$√ékA√∏Os‚Äö¬§C√æ√¢√´ÔøΩ√©J√æ¬±‚Äò¬¥`√Ü/w8
(_6√ó¬£pu√£ÔøΩ√º√êE√ñ\=|e√ú b√û√ª√£√†≈°√Æ"¬ø.^‚Ä¶/¬´√º?¬ºx≈∏√Ø√ü&amp;	√û?√®?‚Äö≈∏UY√¨√∑√àl4ÔøΩ√ºÔøΩ"√ô√±‚Äî√õ√Ø=¬æ√ºp≈ì¬∞5n‚ÄûN√•√û/¬∞A∆í‚Äû]√ã&nbsp;/√òd¬æ√ïdi(√∞≈Ω‚Ñ¢:√Ø√ÄJ√Å¬ºv‚Ä¶LM√±PL√±√õ√ìY√Ö‚Äû√ø√è√Ñ√∞√æ¬±‚Ñ¢¬ø√ÉhWj√£S≈æ/¬µ √ò‚Äú√õQ√Ä0√π¬∏z[√á‚Äî≈íI√∏Fa≈∏√ß√≥.2L √Ém√ò√ü	√ÜÔøΩ}∆íV√ñÔøΩ√Ø√ó√°√àS~W3√éD8ÔøΩ√´√¢√∫√Ø‚Äò√æ√∞ÔøΩ4√ã≈ì¬∏¬æ‚Ç¨#¬£∆íEx√ùÔøΩ√∞7√õjI
Z√¢√∏√Ä¬∏¬®&gt;44&lt;^\¬∂√∑√™√∫K¬™/7‚Ñ¢√ø‚Äö√Ä√¶^Ly¬π¬±√∏w‚Ç¨y√¥¬®A√º(≈∏‚Äπ2√ß¬®√≠ÔøΩÔøΩX√øÀÜ¬∂Àú√Ä8a√Ö√®√™$√Ü√æ"ÔøΩ.√ì√í¬¨‚Ä†‚Äö√°√°Àú_&gt;/√±√î√á√±√ê‚Äî&lt;7√Æ(`KU‚Äö√Ü¬æ‚Ä∫√π#AyHf&nbsp;'√º'√åN∆í3√º√øÔøΩ‚Ç¨‚Äπ\g¬≤‚Äπ√æ¬ø√ö e‚Äù√ã√å¬ø≈Ω√¥0ÔøΩ√ÅpG#/√ü√ß≈†&nbsp;&lt;√†q¬∞5¬ø√ß√¶8√Ö‚Äû¬°ÀÜ%‚Äö≈†ÔøΩ¬πHg¬ª√Ω√ÜG√¨√ºG@√ä¬•√†√±√Å√Ä√¢0√¢¬≥@ÀÜ≈†Nv¬™~&gt;@&amp;Y‚Ä°!ÔøΩ√®‚Ç¨¬ΩÔøΩ√®g√ü≈í¬°¬πt¬®√ô√¨√áB5^\?Po√ü√¢√Æ√ªÔøΩ‚Äû¬ø√¢)ÔøΩ"4&lt;n^¬º¬Ω√òW¬£Z√æ√±K√òn√ÄU&nbsp;~:‚Ä¶√π√∫R‚Äì√õ√¶~√å`ÔøΩ¬πO√ó∆í√Ä¬Æx√á√∂d‚Ä¢‚Äû.,x‚Ä¶h3q‚Äò‚Ä¶√∏≈†√êÀÜT+h√±‚Äù√çP√º}@`?b√ø&amp;‚Äöt¬°√û
DV&lt;¬ø√á`5¬¢√≠∆í/x¬∫^≈í√•√ò¬π√ù‚Ñ¢{ly¬∞‚Äπ¬π[‚Ñ¢√±9
‚Äö'‚Ç¨xl7√°√Æ0¬Ω%o‚Ä¢b√Ø√á√±&nbsp;p+Wa√®&nbsp;p√Ç<lc‚Ä∫√æ√ñ60√út(¬∫[√Äm>+√É√ª‚Ä¢&nbsp;√à√®¬¶√±‚ÄîxC√Å√¨( ¬©z¬¥+ÔøΩ‚Ñ¢h≈Ω√≤¬´√Ä‚Ñ¢ID&nbsp;&gt;^9i√ØE¬∞[√Ñ√∏√´√â4
P∆íG√¢√¥L√á√ÇY≈í‚Äπh¬∞(√∏G‚Äò√Å¬´5√´√π(a√ëW?≈í¬§‚ÄìPrXXx√ïb‚Ç¨&nbsp;$√Ü¬®#
√Å√Üv‚Ä¶√å5‚Äû[√≠h√è‚Äûnx√Ä¬°√òÀÜ√ß∆íV√®√º!√ó‚Ä°x4Z≈†L‚Äúx~√ùÔøΩ√Ö¬¨U¬Ø√ÉyMp%z?√ØG√∞∆íS√Ñ&nbsp;√°v√Ü‚Äö√∫¬ß≈°√†√æ¬®¬≠Q¬π¬µ√£√ü√Ü[;∆íÔøΩ^)√ö√ñ	&nbsp;‚Äû√ÅÔøΩ‚Äò¬®{√æ≈í‚Ä†√ì&nbsp;¬º#√Ü‚ÄölC√út0^‚Ä†¬°√ë*¬¨√ºg‚Ä°¬•√¥¬∂√ê√í	j‚Äù
_ÔøΩÔøΩÔøΩ¬™U∆í√∑√°√à0L1v¬§*∆ís¬∞¬¥;¬§ÀÜ¬ø√É+]√£√†1 &gt;g¬±:[N√¢+¬≤aq≈ì‚Ä¶‚ÄìuP‚Ä°√Ö≈Ω√Å√≠¬£W‚Ç¨√∏√é2_z‚Ä°ÔøΩ√øZ0R&nbsp; √∫‚Ç¨√°√ÑÔøΩ√ëCI. 8√≥X
√áW~;≈ΩE$-‚Ä¶7x=W√åE|&nbsp;√ô√π7≈í‚Ä°√ÑsIh-D‚Ç¨e√¢^?√É0√Ö√Ø$A	‚Äπ0√Ö√∏&gt;√æ'c√É√•¬£√∂:C‚Ç¨ÔøΩ√≤`ÔøΩ√£√æ∆í√πrG√Å&nbsp;¬º_b ‚Ñ¢√¨≈í_	√òe:√•|c_√ç√áAAPA¬º¬º√ù√Ü√©¬∞Z√¢¬∞L√±√õ√ì√≤‚Äì"ÔøΩ√ú‚Äú√û2-ÔøΩ√ú¬ß√ç√°;ÔøΩ‚Äì\_
≈†C√ãO√á‚Äö√º≈ì‚Äò‚Ä†‚Äî√à0L?ÔøΩ`‚Äö'ÔøΩq√∏¬æn√Ö√ïr≈í√≥'\v&nbsp;¬∂√™√Å@√Ö∆íd~E√ï√≥qÔøΩ‚Ñ¢XQ√≤√∑‚Äö√É¬≠?‚Äî√Ç\/‚Äî‚Äöm¬¨‚Äò√É¬¥√±|√¨≈ìK!IR	√º_`√Ñ√¶s‚Ä∞%√¢√∏bRP¬¥√ï√Ö√∞N√º√£71¬∞"`3√ç√ÉÔøΩ¬π¬ºNLy¬π¬±√∏w‚Ç¨y√í¬°L_√∞¬¢~,√ã≈æ¬£¬∂&gt;5c√æ"∆íPCÔøΩ√†√Ä&gt;¬±√Å2√±√èt&nbsp;‚Ä¢√ó√∞‚Ä¢√ô√≠¬¶√ö~√™O√§¬∞≈íd8√ê¬∂≈ì(¬§@\A≈íÀÜ1¬∞/t¬∏6‚Ä¢a
√ó`@`√ÇJ√Ω5H√ºM‚Ä°ÔøΩ|l‚Ä¶√É0√å‚Äûh#¬Ø{≈æ≈Ω√øÀÜ¬±8‚Ç¨g\p¬¨aDq-¬≠≈æ#√ò√Ñ√ï‚ÄπÔøΩ√ü√ÑX(‚Ç¨√êK!≈í&lt;∆í‚Ñ¢‚ÄπR≈æ"‚Ñ¢Uq%pC18√Äd≈∏‚Äûl	h,H`¬ª≈∏|√æ√¢.√¥√†≈°‚Ç¨.\WA√î0&gt;¬≠≈ìlz&lt;#√ºE	≈í‚Äò`e&nbsp;√Ä√í¬∞/xFu√§√¶4√ô@√ù√ö¬ß√£#√£∆íp√É‚Äô¬°√®3ÀÜ√ïl√∫¬∫T3ÔøΩ√±u√Ñ√§√´Q√©a√ö¬∑?ÀÜ¬¢≈íva¬¢t√ù]ÔøΩx≈ΩÔøΩ√ò¬ºU7ÔøΩ¬ª√±√´‚ÄöÔøΩ‚Ä¢¬¢V‚Ä°W√∏‚Ä∞G√òq√ë√ú√Å¬¨t√∏√é‚Ç¨:≈°\#M.!ÀÜ¬π‚Ä∞$√º≈æ√ç√ΩWt9‚Ç¨cÔøΩ¬π√≥ar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏≈Ω¬£√ÅgP¬¨√±≈ì!√Ö%!x¬£h-Eq}B3≈í¬∞'&nbsp;¬®|e¬¥√É√®_a}√¥!√Ét	&nbsp;¬Æt‚Äúg√Å√≠f√Å¬©7p√ºf√õ√ëx√êB¬¢n¬Ø≈ì≈æJh2¬æ√Ω¬¥√∑¬¨&nbsp;y√∏√éÔøΩ‚Äîw
"`¬µ'‚ÄùF√ó
9√ë8b√∞√°≈ì%√É√•as≈°√ê√Ö∆í¬•‚Ñ¢a≈∏√Ü‚Ä¶√¥√æ√£√É≈æ‚Ä∞C≈ì√á:√á√∞√ö‚Äî"√¨Xv‚Ç¨&amp;‚Ä¢H√ó&gt;.√≤√¥5√î√Ö¬© (√æN√±√í√ø,p¬∫3ÔøΩx√Æ6(√ÅT√É:√¶R¬•‚Ä°¬∏‚Äû&nbsp;+xGN?`√ã@√ï√º`qO@¬∫(yÀú+√°	‚Äî√ê&nbsp;&amp;√ïÀÜÀÜ¬™‚Ä∫‚Ç¨√Ü‚Ä∞√û3√ÉHÀúd3‚ÄùFÔøΩ√Ç‚Ä†#√¶f}√éV√ø√∞√¨&gt;\M√º√ø¬Ω¬¥;A.;@√±‚Äì√Ç&amp;o√Ç#GmY√ÅÔøΩ√∞‚Ä∞√Üg¬∏|√ë∆í√¨G‚Äû/¬ª8Àú√°
g∆í√™ÔøΩJ@Ji

F\G√µ√Ç√∑√á^@@√∞≈∏ÔøΩ6≈°√òF√ÆY√¢¬µm√≥√ê√Ç\ÔøΩZ8¬∏√®24√ó√°:8(rW√µ√¢ÔøΩx¬¢x‚Ä°|/√á√â¬≥
GdX)¬∂&gt;¬∞:P5 p+f‚Ä∞&nbsp;√∞ÔøΩ√∞‚Ä¶D¬§
√†	y√™≈ìL3√Ø√Ö~&lt;√Ø\3@D‚Äπ‚Äö√´‚Äî‚Ä°P¬±‚Ç¨√â‚Äû√Æ?√©√º-√îe‚Ñ¢¬•¬¢≈∏√Ω√ÉR√†√ø√°√ø¬ø¬∞√ê√ß¬∞√àq√Ä|√ú√ê]√ó√πY¬ª√º¬º&gt;ÀÜ¬£√Éq|d1¬•C√∏√Æ%O√ã√É¬∞V√êJ√õ√Ç9‚Äú:√≥√°√∏ÔøΩ@0DaO0√É√Ø¬ø√Ü‚ÄöZ√∞∆íx¬æpD5/~‚Äò;√Ä~nPiÔøΩ¬´‚Äπ√§1qc1√•√≠O√ÜTAÀÜuW‚Äπ√∞¬µ√ª$0|_¬∞∆í√£4w√¨√ê%√ã√ÉÀÜD‚Äô!+√¢g√§√ü(@%xG&gt;x√†¬®Àú√û2OW‚Äπ√±ÔøΩ
√≠¬©H√Ö√µ!≈ìl¬∞√Ä√º√ù √í√∂^Àú√ë~≈∏‚Ç¨≈ìV¬º√ú√ó3	√ú√ì√∏W&nbsp;‚Ä∞&nbsp;√í√™‚Äû¬≤C√≤¬≠¬±√±¬´√±ÔøΩ√å
{¬£&nbsp;tÔøΩ)√∂√•\X$f&gt;	Ae√º%2‚Ç¨¬®√íD∆í∆í√∞_Ow¬±√û√ã√Ña¬¥]ÔøΩ√™
V√¨+ia¬Ω‚Ñ¢¬Ω√Æ√ê√£√π√ì√Ä√ªE\@‚Äò√£¬°¬®√º?√¶√øÀÜ¬µ@≈Ωa√Ö√∫√ê‚Äù¬¥¬®o¬°0/EtX√òh4?u‚Äö√†√®√ä√±√ò&amp;√ô√è\‚Ä†‚Äù‚Äö¬¶_√±√ï3‚Ñ¢√î¬∑√¢/¬∞‚Ç¨W√¢√ÅX√Åj√ÑZ√≥,[z¬±|
¬∏√¢+√Å‚Äô!C√ïpX|¬∫pA\ÔøΩ√ºG;1¬¢‚Ä†‚Ä†‚Ç¨‚Ä°√¢(n√•√æ≈Ω√§√å~kT&gt;"√±w√ë√Ä≈ì - ‚Ä∞√ú√±√Å≈∏√æ¬∞t√î&nbsp;z7\DpS<yi‚ÄúÀÜ*≈Ω‚Ä†4.√áz ¬Æ≈íu="" ÔøΩ¬†¬£0√•√¶u√ü√Ü]√´√ó√†√†2&k√°√§7√ó√ºd‚Ä∞√ß√π√øp√å|√º√õu√ó0.√á‚Ä¶√áp="" 2_q‚Ä∫√ü‚Äû√∞∆í="" ÔøΩ¬¶√Ä√¨√í√ótp√ú5#√†‚Äî≈í√°‚Äû]j="" ≈∏?√õjt√™t‚Äök8∆íb¬†¬ø¬≠h#√∏√ä‚Äö√°√à="">¬¨U3√ê#f.&lt;≈°√ÄB√ª¬´√∏√è ‚Äò√õ‚Ä°!√ê√î‚Ç¨√òY¬¥¬©‚Ñ¢
^‚Ç¨^:√∏√∞√°~‚Ä°¬Ω∆í≈Ω≈Ω√úe√®g‚Ç¨3≈Ω&nbsp;!‚Äò√∞√Ä√ç‚Ä∫√†_¬º√∏√∫‚Äù√ë-‚Äù3√∏M√¨~√¨4√∏ÔøΩ‚Ç¨q√Ö√±ÔøΩ‚Ñ¢¬±i|=¬ºe√∂4c√Å¬ΩnPÀÜ√∏AU¬∫√î!√ÄN¬§#√ê,dd¬ØE&amp;≈ì√ú¬§d√Ü¬•√°G¬≤‚Äò_?√Ö√ï&amp;ÔøΩJ√Ä;F≈æh|M√ü0 C&nbsp;√ê√ò√ºg
√É9p √®‚Äû¬¨
√ê √åZ{-¬®√ºM√©a√±¬≠‚Ä°√ëgB√±p√î)¬∂‚Äò+√áA
[‚Äô_‚ÄûxK‚Ä†n8√ú√∂"o:(L¬∏√£¬≠√î‚Äû
¬∏t0√æ¬∂√ö¬±√É√Ä;√±≈ì√ÉÔøΩo¬∞G∆íÔøΩ¬°@√üADx¬∂¬¨p¬±√ì]7√°
vÔøΩ¬°√¥‚Äû≈ì¬∂√°¬π√™*√ø√äÔøΩ¬§\T¬¨4√ºg`C√ØO{c√ÜB|a√§SB¬®‚Ä¶x¬∞√∏√è‚Äû√é&gt;√±√î¬•W‚Ç¨O√•√ºMx%√¨x√é¬™w√á
%√°√Å¬∞√†3&lt;√∏‚Ä°&nbsp;¬≥t√°≈†√ä√†√†q&nbsp;	:√∑√à%u0!&gt;-√ª√ó∆íw≈í√ê‚Ä¶</yi‚ÄúÀÜ*≈æ‚Ä†4.√ßz></lc‚Ä∫√æ√∂60√ºt(¬∫[√†m></oÀÜ√£√®n‚Äû√∫f¬≠x%√¢√™ÔøΩ¬Ω></x8¬°ÔøΩ√π></g></o√£8√∞g^√™√∫4q-√ß√¶c;@ÔøΩwÔøΩ√∂‚Ç¨!{¬®√ß‚Ç¨_√¢\6√º¬®7√¶+$√±=j‚Ä¶!h≈æ‚Ç¨m√•√∂></m√Æ√¶√¢√∞√®√∂¬∞¬∫7></us&√Æ></rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp></a></s></b></u></i></s></s></u></b></u></u></u></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://diablo.im/~ross/pb/20201220-085332.mp4">https://diablo.im/~ross/pb/20201220-085332.mp4</a></em></p>]]>
            </description>
            <link>https://diablo.im/~ross/pb/20201220-085332.mp4</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487215</guid>
            <pubDate>Sun, 20 Dec 2020 16:13:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get Started with Tmux]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487152">thread link</a>) | @sunainapai
<br/>
December 20, 2020 | https://sunainapai.in/blog/get-started-with-tmux/ | <a href="https://web.archive.org/web/*/https://sunainapai.in/blog/get-started-with-tmux/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Published on 2020-12-20 by <b>Sunaina Pai</b></p>
<h2>To Tmux or Not to Tmux, That Is the Question!</h2>

<p>
Before getting started with tmux, let us go over some questions to see
if tmux is right for you:
</p>

<ul>
  <li>
    Do you use a terminal as part of your your development workflow?
  </li>
  <li>
    Do you use multiple terminals in different tabs or windows to
    navigate files, edit text, compile and run code, tail log files,
    push code to repository, and run one-time adhoc commands?
  </li>
  <li>
    Do you work on multiple projects at a time, each with its own set of
    workflow and environment requirements, and often have to switch
    context?
  </li>
  <li>
    Do you SSH into remote systems?
  </li>
  <li>
    Have you ever got disconnected from a remote SSH session in the
    middle of a task that you were running and monitoring?
  </li>
</ul>

<p>
If you answered yes to any of these questions, then tmux is for you!
</p>


<h2>What Is Tmux?</h2>

<p>
Tmux is a terminal multiplexer. You can run multiple terminal programs
inside tmux, all of which can be accessed from the single terminal that
is running tmux. This is called a tmux session. You can have multiple
such tmux sessions, say one for each project you are working on. You can
detach from a tmux session and later reattach to it. When you run
programs in a tmux session, the session remains intact and continues
running your programs even if you detach from the session. You can start
where you left off the previous day, or you can even access the session
from a different computer.
</p>

<p>
If you have worked with remote servers using remote desktop connection,
you will be familiar with how the applications that you open in the
server are kept as is even when you disconnect. You can then resume the
session by reconnecting to it. You can even reconnect to the remote
desktop using a different client or a different computer. Tmux helps you
to achieve similar results for terminal sessions.
</p>

<p>
When you run the <code>tmux</code> command, tmux starts a server process
if it is not already running, and a tmux session is created. The tmux
server runs as a background process in your system and manages all the
terminals running inside tmux. You can create additional sessions in the
tmux server if needed by using the <code>tmux</code> command. A tmux
session is a group of related tmux windows. Think of all the terminal
tabs you open to get to your development workflow of a particular
project. All these can be grouped together as windows in a tmux session.
A tmux window comprises of one or more panes. Each pane is like a
terminal by itself. Panes can be organized vertically, horizonatally, or
a mix of both. Think of editing, compiling, and executing code on the
left pane while tailing a related log file on the right pane as an
example. At any given time, there is one active pane where the commands
you type are accepted. You can switch between panes, windows, and
sessions as needed.
</p>

<div>
<p><a href="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" target="_blank"><img src="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" alt="A screenshot of tmux with multiple sessions, windows and panes"></a>
</p> <!-- end images -->
<p><span>Tmux with multiple sessions, windows, and panes</span>
</p> <!-- end captions -->
</div> <!-- end gallery -->

<p>
Let us now see how to get started with tmux.
</p>


<h2>Install Tmux</h2>

<p>
If you are on a Debian, Ubuntu, or another Debian-based system, enter
the following command:
</p>

<pre><code>sudo apt-get install tmux</code></pre>

<p>
If you are on macOS with Homebrew installed, enter the following
command:
</p>

<pre><code>brew install tmux</code></pre>

<p>
If you are on any other system or environment, see
<a href="https://github.com/tmux/tmux/wiki/Installing">Tmux Wiki:
  Installing</a> for installation details.
</p>


<h2>Create, Detach From, and Attach to Sessions</h2>

<p>
To create a new tmux session, enter the following command:
</p>

<pre><code>tmux</code></pre>

<p>
Run some program in this session. Maybe tail a log file. This will help
with the next steps where you detach and reattach to a session.
</p>

<p>
To detach your terminal from a tmux session, enter the following
command:
</p>

<pre><code>tmux detach</code></pre>

<p>
Tmux will keep your session intact. All your programs keep running on
the server. To attach your terminal as a client back to an existing tmux
session, enter the following command:
</p>

<pre><code>tmux attach</code></pre>

<p>
Note that it is not necessary to type out the <code>tmux</code> commands
in full. You can use any unambiguous abbreviation of the commands. For
example, <code>tmux det</code> and <code>tmux at</code> are equivalent
to <code>tmux detach</code> and <code>tmux attach</code>, respectively.
</p>

<p>
By default, the new sessions are named 0, 1 and so on. To choose another
name for the session, use the following command to start a new session:
</p>

<pre><code>tmux new -s &lt;session-name&gt;</code></pre>

<p>
Here <code>&lt;session-name&gt;</code> denotes the name of the session
you choose. You can also rename an existing session with this command:
</p>

<pre><code>tmux rename &lt;new-name&gt;</code></pre>

<p>
If you have multiple tmux sessions running and you want to target a
specific session to rename, you can use the <code>-t</code> option to
specify the session name you want to target, like this:
</p>

<pre><code>tmux rename -t &lt;session-name&gt; &lt;new-name&gt;</code></pre>

<p>
Without the <code>-t</code> option, it renames the current session.
</p>

<p>
The <code>-t</code> option is useful for attaching to a specific tmux
session too when multiple tmux sessions are running. By default
<code>tmux attach</code> attaches to the most recently used session that
is not attached. You can attach to a specific session like this:
</p>

<pre><code>tmux attach -t &lt;session-name&gt;</code></pre>

<p>
Sometimes while attaching to a tmux session, you might want to detach
the other clients to connected to it. That can be achieved with the
following commands:
</p>

<pre><code>tmux attach -d</code></pre>
<pre><code>tmux attach -d -t &lt;session-name&gt;</code></pre>

<p>
While you are inside a tmux session, you can also change the name of the
attached session by using the key-sequence <code>C-b $</code> which
prompts for a new name for the session. The key-sequence <code>C-b
$</code> is bound to the <code>rename</code> command that you saw above.
Similarly, the key-sequence <code>C-b d</code> is bound to the
<code>detach</code> command. To understand how tmux key bindings and
commands work together, read the next two sections.
</p>


<h2>Understand Tmux Prefix Keys</h2>

<p>
Once you attach your terminal as a client to a tmux session, all
keystrokes are sent to the program running in the active pane of the
current tmux window. By default it is your shell. For key-sequences that
control tmux itself, a special key-sequence called the prefix key must
be pressed. By default the prefix key is <code>C-b</code>. Here
<code>C</code> denotes the <code>Ctrl</code> modifier key, i.e., to
enter <code>C-b</code>, press and hold the <code>Ctrl</code> key, then
press and release the <code>b</code> key, and finally release the
<code>Ctrl</code> key. When the prefix key is entered like this, tmux
waits for another keystroke or key-sequence to determine which tmux
command needs to be executed. For example, when you enter <code>C-b
$</code> to rename the current session, <code>C-b</code> is the prefix
key that tells tmux that you are going to invoke a tmux command and then
the <code>$</code> keystroke tells tmux that you want to invoke the tmux
<code>rename</code> command.
</p>


<h2>Key Bindings, Commands, and Command Prompt</h2>

<p>
The key-sequence <code>C-b ?</code> shows the list of key bindings along
with short descriptions about what they do. The output is shown in the
view mode in the active pane. The pane in view mode has its own key
bindings which don't need the prefix key. By default the view mode has
Emacs key bindings that you can use to navigate the output. However, it
can be configured to use vi key bindings too.
</p>

<p>
Any time key bindings are used, they run the underlying tmux commands.
For example <code>C-b c</code> runs the <code>neww</code> command that
creates a new window. Commands can be run directly from the shell as you
saw when you created new session using the <code>tmux new</code>
command. Just like any other Unix commands, tmux commands have zero or
more command line options that may or may not accept arguments. For
example, the <code>attach</code> command that you saw earlier accepts
the <code>-d</code> option to detach any other clients that are attached
to the session. This option does not require an argument. The
<code>attach</code> command also accepts another option <code>-t</code>
that requires an argument to specify the name of the target session you
want to attach to.
</p>

<p>
You might mostly want to use the key bindings to manipulate tmux because
they are convenient. However, the tmux commands can be useful especially
when you want to perform a task that is supported only by an option. The
tmux commands are also useful if you want to write a script to
manipulate tmux.
</p>

<p>
Tmux commands can be run from the shell as you have seen so far. There
is also an interactive command prompt available within tmux that you can
open using <code>C-b :</code>. This prompt accepts tmux commands. For
example, <code>C-b :neww</code> creates a new window in the attached
session. Some of the tmux commands run in this manner show the output in
the view mode in the active pane. For example, <code>C-b :ls</code>
shows the list of all available sessions.
</p>


<h2>Create New Windows in a Session and Switch Between Them</h2>

<p>
You can create new window in a session by using <code>C-b c</code> or
<code>C-b :neww</code>. Each window is numbered starting from 0. Every
new window is created at the first available index. This means that if
there are gaps in the list of window numbers, a new window occupies the
first available number in the gaps. The new window thus created becomes
the current window of the session. The current window is identified by
the <code>*</code> suffix in its name and the previous window is
identified by the <code>-</code> suffix in its name.
</p>

<p>
If you want to create a new window but not make it the current window,
you can do so with the <code>-d</code> option like this: <code>C-b :neww
-d</code>. You can also create a window at a specific index by using the
<code>-t</code> option like this: <code>C-b :neww -t 9</code>.
</p>

<p>
<code>C-b 0</code> takes you to window 0, <code>C-b 1</code> takes you
to window 1, and so on until <code>C-b 9</code>. <code>C-b '</code>
prompts for an index to switch to that window. This can be useful if you
want to go to windows with indices greater than 9. <code>C-b p</code>
takes you to the previous window and <code>C-b n</code> takes you to the
next window in the window list by index. <code>C-b l</code> takes you to
the last window that was active before the current one. This is very
useful for alternating between two windows again and again.
</p>

<p>
To rename the current window, you can use <code>C-b :renamew
  &lt;new-name&gt;</code> or <code>C-b ,</code> which prompts for the
new name for the window.
</p>

<p>
I find it convenient not to exceed 10 windows (indices 0-9) in a
session, so that I can switch between them using <code>C-b
&lt;number&gt;</code>.
</p>


<h2>Create New Panes in a Window and Switch Between Them</h2>

<p>
You can create a new pane by splitting a pane in a window. <code>C-b
  %</code> splits the current pane into left and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sunainapai.in/blog/get-started-with-tmux/">https://sunainapai.in/blog/get-started-with-tmux/</a></em></p>]]>
            </description>
            <link>https://sunainapai.in/blog/get-started-with-tmux/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487152</guid>
            <pubDate>Sun, 20 Dec 2020 16:03:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From JavaScript to WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486464">thread link</a>) | @tosh
<br/>
December 20, 2020 | https://engineering.q42.nl/webassembly/ | <a href="https://web.archive.org/web/*/https://engineering.q42.nl/webassembly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://engineering.q42.nl/content/images/size/w300/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 300w,
                            https://engineering.q42.nl/content/images/size/w600/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 600w,
                            https://engineering.q42.nl/content/images/size/w1000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 1000w,
                            https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png" alt="Going from JavaScript to WebAssembly in three steps">
            </figure>

            <section>
                <div>
                    <!--kg-card-begin: markdown--><p>Hi! I'm Marcel, web developer at <a href="https://www.q42.com/">Q42</a> and creator of the <a href="https://micr.io/">Micrio storytelling platform</a>.</p>
<p>In 2015, I started developing a JavaScript viewer for ultra high resolution 2D and 360¬∞ images with added markers, tours, audio, and more. Since then, I've been pushing to find the best balance between hardware performance, minimal CPU and bandwidth use, and compatibility for older browsers to deliver a sharp and high quality viewing experience.</p>
<p>For Micrio, it is vital that the performance on the client's browser is as good as possible. The reason for this is very simple: when you are being told a story, or watching a movie, even <em>a single frameskip</em> immediately takes you out of your experience.</p>
<p>Since Micrio is being used for an <a href="https://micr.io/showcases">ever growing list</a> of awesome projects, the most important thing is that for whoever visits a Micrio project, it must work, and <em>work well</em>: delivering fast load times, and a butter smooth interactive experience.</p>
<p><a href="https://webassembly.org/">WebAssembly</a> (Wasm) is the ability for your browser to run <em>compiled</em> code at (near-) native speeds. It is now recognised by the W3C as the <a href="https://www.w3.org/2019/12/pressrelease-wasm-rec.html.en">4th official web programming language</a>, after HTML, CSS and JavaScript.</p>
<p>With it, you can run compiled code written in a variety of programming languages (C/C++, Rust, Go, AssemblyScript, <a href="https://github.com/appcypher/awesome-wasm-langs">and many more</a>) in your browser, without any need for plugins.</p>
<p>Finding out about Wasm in late 2019 really made me want to try it out. Could I use this tech to make the Micrio client run smoother than the current version does? Would I need to rewrite everything in C++, and if so, how would that work? Would the effort be worth the gains it would give me? And not in the least.. <em>how does it work!?</em></p>
<p>This article describes my journey from upgrading the Micrio <strong>JavaScript-only client to use WebAssembly</strong>, with the hopes of improving performance, and taking my code to the next level.</p>
<h3 id="thecurrentversion">The current version</h3>
<p>To give a rough idea about the tech stack of the current latest JS-only revision of Micrio (<a href="https://b.micr.io/micrio-2.9.min.js">version 2.9</a>): This library as a single JS file works on all semi-modern browsers, including even Internet Explorer 10 for 2D, and IE 11 for 360¬∞ images.</p>
<p>It uses Canvas2D for the rendering of 2D images, and <a href="https://threejs.org/">three.js</a>/WebGL rendering for 360¬∞ images. Written in <a href="https://caniuse.com/#search=es6">ES6 JavaScript</a> (or ECMAScript 6, the latest version of JavaScript), it still <a href="https://developers.google.com/closure/compiler">compiles</a> to ES5 to support Internet Explorer 11.</p>
<p>As you can imagine, displaying a <a href="https://micr.io/i/xCSYV/">231.250 x 193.750 pixel image</a> in your browser in a matter of milliseconds, allowing the user to freely zoom in and navigate, requires a little bit of processing power.</p>
<p>Now, Micrio 2.9 <em>isn't bad</em>. It runs pretty smoothly on all devices. But with WebAssembly around the corner, allowing all calculations to be done at native CPU speeds, this could potentially make a big difference in making Micrio's performance even better, and could improve the code architecture a lot.</p>
<p>And, perhaps, this could also mark the setup for a new major version, where I will draw a clear line and drop all compatibility and polyfills for older browsers: <strong>Micrio 3.0</strong>.</p>
<h2 id="firstrewritecandemscripten">First Rewrite: C++ and emscripten</h2>
<p>As a first step into the world of WebAssembly, getting to know the ecosystem, I started to play around with <a href="https://emscripten.org/">emscripten</a>. With it, you can take almost any project made in C or C++, and compile it to a binary <code>.wasm</code> file that your browser can natively run.</p>
<p>At this point, I didn't really have a clear image of where WebAssembly starts and ends, and how autonomously it could run inside your browser. So I started a new project from scratch to see if I could make a C++-implementation of the basic Micrio logic: a virtual <em>zoomable</em> and <em>pannable</em> image consisting of a lot of separate tiles, using a virtual camera for displaying only the tiles necessary for what the user is viewing inside your screen.</p>
<p>It turns out, emscripten already had great compatibility for <a href="https://www.libsdl.org/">libsdl</a>: a low-level audio, keyboard/mouse input, and OpenGL library. Which is awesome, because I could write my code using this very well documented library, even including mouse and key inputs and WebGL rendering. Since I was also working with downloading images, I also used the <a href="https://github.com/nothings/stb">stb_image.h</a> image library.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/cpp.png" alt="Setting up SDL and OpenGL" title="C++ in the 21st century"></p>
<p>The largest struggle of this was picking up C++ again, never having used it outside of hobby scope many years ago. But after a few days of cursing and second guessing myself, I had a working first version with all of the most important features written with help of the SDL library:</p>
<ul>
<li>A virtual camera and all necessary viewing logic;</li>
<li>Image tiles downloading;</li>
<li>Rendering using WebGL(/OpenGL) using a simple shader;</li>
<li>Mouse event handling for panning and zooming the image;</li>
<li>Resize event handling to fit Micrio to the desired <code>&lt;canvas&gt;</code> HTML element</li>
</ul>
<p>You can see this version running here: <a href="https://b.micr.io/_test/wasm/index.html">https://b.micr.io/_test/wasm/index.html</a> :</p>
<p><a href="https://b.micr.io/_test/wasm/index.html"><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/emscripten.png" alt="Micrio in native C++"></a></p>
<h3 id="firstresults">First Results</h3>
<p>As incredibly awesome it was to see Micrio in C++ running smoothly in my browser, and even handing all the user's input, there were a few reservations, which left me with an unsatisfied feeling.</p>
<h4 id="1codingcfeltoldfashioned">1. Coding C++ felt old-fashioned</h4>
<p>Writing C++ felt like going back in time. Incredibly powerful and fully proven, but also archaic, especially for me as a web developer. I spent more time fiddling with making an optimized <code>Makefile</code> than I care to admit.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/makefile.png" alt="The emscripten C++ Makefile" title="( Õ°¬∞ Õú ñ Õ°¬∞)"></p>
<h4 id="2thecompiledwasmbinarywasverylarge">2. The compiled <code>.wasm</code> binary was very large</h4>
<p>As great as the help of <code>libsdl</code> and <code>stb_image.h</code> were to let me use OpenGL and JPG image functions, as much did they add to the final compiled binary file. Even with all <code>emcc</code> compiler optimizations (which can even use the awesome <code>closure</code> JS compiler), the resulting WebAssembly binary file was 760KB. Compared to the JavaScript version of Micrio being around 240KB, this was a major setback. These libraries packed a lot of functionalities that were not necessary for Micrio, but were still included in the compiled version.</p>
<h4 id="3tilagluefile">3. TIL: A <em>glue</em> file</h4>
<p>This is the part where I learnt where the limits of WebAssembly start and finish. <strong>WebAssembly is not a magical self-contained binary that lets you run full applications out of the box</strong>. It actually needs to be <em>bound</em> to the browser using JavaScript.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/glued.png" alt="glue clipart"><br>
<small><a href="http://www.clker.com/clipart-13445.html">Image source</a></small></p>
<p>Where I thought that all the SDL OpenGL code in C++ would automagically be recognised by the browser: <em>wrong</em>. What <code>emscripten</code> does, is to take all OpenGL operations from C++, and <em>convert them</em> to WebGL operations your browser can understand.</p>
<p>Same with the <code>libsdl</code> mouse and keyboard-inputs: these were <strong>glued</strong> to the browser using an extra JavaScript file that would set event listeners for the specific cases, and send them to the WebAssembly binary. This separate JavaScript file was generated by the emscripten compiler, and had to be included in the HTML alongside the compiled binary <code>.wasm</code> file.</p>
<p>Everything added together, the new total of the <em>base engine</em> of Micrio was a whopping <strong>791KB</strong>; a bit too much for my liking.</p>
<h2 id="secondrewriteassemblyscript">Second Rewrite: AssemblyScript</h2>
<p>Fast forward a few months, to just after having attended the awesome <a href="https://webassembly-summit.org/">WebAssembly Summit</a> in Mountain View in February 2020. With a bundle of fresh energy and inspiration, I decided to see if I could use WebAssembly to improve the Micrio JavaScript client a second time.</p>
<p>During the WebAssembly conference, I was very impressed by a <a href="https://www.youtube.com/watch?v=C8j_ieOm4vE">synth demo</a> written in <strong><a href="https://www.assemblyscript.org/">AssemblyScript</a></strong>, a language created specifically for WebAssembly, using the TypeScript syntax. Basically you can write (near) TypeScript, which compiles to a <code>.wasm</code>-binary. So anyone familiar with either TypeScript or JavaScript ES6 will not have a lot of difficulties using it.</p>
<p>And the great thing-- it's all installed using <code>npm</code>, so <a href="https://www.assemblyscript.org/quick-start.html">getting it up and running</a> and compiling your program is super easy!</p>
<p>There are a few basic <a href="https://www.assemblyscript.org/types.html"><code>types</code> added in AssemblyScript</a>, which are required for compile-time optimizations:</p>
<ul>
<li><code>f64</code> / <code>f32</code> : For 64 or 32-bit floats;</li>
<li><code>i8</code> / <code>i16</code> / <code>i32</code> / <code>i64</code> : For signed <code>int</code>s, ranging in precision</li>
<li><code>u8</code> .. <code>u64</code> : For unsigned <code>int</code>s</li>
<li><a href="https://www.assemblyscript.org/types.html">And a few more</a></li>
</ul>
<h3 id="goingatomic">Going atomic</h3>
<p>This time, I wanted to see if it was possible to only let a small part of Micrio run inside WebAssembly, and still use most of the JavaScript that was already inside the client. <em>How small can we get it?</em> I decided to focus on a subset of camera functions, such as translating screen coordinates to image coordinates and vice versa. So this time no rendering, event handling, or writing shaders.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/assemblyscript.png" alt="Simple camera functions in AssemblyScript" title="My First AssemblyScript"><br>
<small><em>Simple camera functions in AssemblyScript</em></small></p>
<p>The result: a 3KB binary containing some basic math functions, that take an input and return an output. AssemblyScript offers some <em>glue-tooling</em> by providing its own <a href="https://www.assemblyscript.org/loader.html">Loader</a>, which will deal with importing the binary file and being able to call these functions.</p>
<p>However, this is optional and I ended up using the JavaScript <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API">WebAssembly API</a>, <em>neat</em>. And it turns out, this is super easy: simply use the <code>fetch</code> API to load your compiled <code>.wasm</code> file, cast it as an <code>ArrayBuffer</code>, and use the <code>WebAssembly.instantiate()</code> function to get it up and running.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/instantiate.png" alt="Loading a wasm file" title="Gluing it yourself"></p>
<p>The compiled binary will then offer an <code>exports</code> object, containing the functions that you have exported in the AssemblyScript file, which you can immediately call from JavaScript as if they were normal functions.</p>
<p>Wait.. "<em>which you can immediately call from JavaScript as if they were normal functions</em>"...</p>
<p><strong>WebAssembly is running synchronously to JavaScript!</strong> ü§Ø</p>
<p>Having worked with WebWorkers before, I honestly thought that WebAssembly would run inside its own CPU thread, and that any function calls would be <code>async</code>. Nope, the Wasm-functions you call will return immediately!</p>
<p><a href="https://www.assemblyscript.org/exports-and-imports.html#exports"><em>This is, like, powerful stuff</em>!</a></p>
<h3 id="bundlingthecompiledwasminsidethejsfile">Bundling the compiled Wasm inside the JS file</h3>
<p>Since I now had some extra performing hands on deck for Micrio that was very easy to integrate, I decided to include this minimal WebAssembly binary in the then-stable release of Micrio (2.9).</p>
<p>However, I didn't want an extra HTTP request for the Wasm binary every time someone loaded the Micrio JS. So I included a <code>base64</code> encoded version of the Wasm-file <em>inside</em> the Micrio JS, and for browsers that support it, auto-loaded that. As a ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.q42.nl/webassembly/">https://engineering.q42.nl/webassembly/</a></em></p>]]>
            </description>
            <link>https://engineering.q42.nl/webassembly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486464</guid>
            <pubDate>Sun, 20 Dec 2020 14:38:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Posenet Fruit Ninja in the Browser (Tensorflow.js and Posenet)]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25486322">thread link</a>) | @liuxiaopai
<br/>
December 20, 2020 | https://huhai463127310.github.io/posenet_fruit_ninja/ | <a href="https://web.archive.org/web/*/https://huhai463127310.github.io/posenet_fruit_ninja/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>‰øùËØÅÊëÑÂÉèÂ§¥Â§Ñ‰∫éÊú™Á¶ÅÁî®Áä∂ÊÄÅÔºåÊ≠£ÂØπÊëÑÂÉèÂ§¥Á´ôÁ´ãÔºå‰øùËØÅÂ∑¶‰∏äËßíÊëÑÂÉèÂ§¥Á™óÂè£ÂèØÁúãËßÅ‰Ω†ÁöÑ‰∏äÂçäË∫´ÔºåÊå•ËàûÊâãËáÇÔºåÂàíÊéâNew Game„ÄÇ</p>
        <p>Êå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅ</p>
    </div></div>]]>
            </description>
            <link>https://huhai463127310.github.io/posenet_fruit_ninja/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486322</guid>
            <pubDate>Sun, 20 Dec 2020 14:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commutation and Scalability]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486202">thread link</a>) | @gbrown_
<br/>
December 20, 2020 | https://pijul.org/posts/2020-12-19-partials/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-12-19-partials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Sunday, December 20, 2020</p>
<p>I just finished the implementation of an important feature of Pijul: clones, pushes and pulls on partial repositories. In this post, I explain why this matters.</p>
<h2 id="change-commutation">Change commutation</h2>
<p>Pijul is based on <em>changes</em>, also called <em>patches</em> or <em>diffs</em>.
This doesn‚Äôt mean that its only internal datastructure is patches, quite to the contrary: it was only by departing from a patch-only internal representation that we were able to solve the algorithmic challenges inherent to patch-based systems.</p>
<p>However, being change-based does mean that the core operations of Pijul are defined on changes, and that Pijul is designed in such a way that changes satisfy basic intuitive properties, similar to algebraic operations. One basic thing is that applying a change is an <em>associative</em> operation, like matrix multiplication: applying $A$ and $B$ at once, and then later $C$, is the same as applying $A$, and then $B$ and $C$ at once. In matrix multiplication, $(AB)C = A(BC)$. Moreover, in Pijul, all changes are invertible (whereas only some matrices are): for any change $A$, there is an ‚Äúinverse change‚Äù $A^{-1}$ such that applying $A^{-1}$ after $A$ is the same as applying neither. Of course, both $A$ and $A^{-1}$ will appear in the log, but the contents of the repository will be the same as applying neither $A$ nor $A^{-1}$.</p>
<p>There is another property that users want from version control systems, and that is <strong>commutation</strong>.
Matrix multiplication rarely commutes<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.
In Git, commutation is usually <em>simulated</em> using branches and rebase: indeed, rebasing a branch A on top of another branch B really means commuting the commits of A since the divergence between A and B, and the commits of B since the divergence. However, that commutation isn‚Äôt perfect, since the commits must change their hash when rebased.</p>
<p>Things are simpler in Pijul, because any two changes that <em>could have been written independently</em> always commute, meaning that if the two changes could be written without knowledge of each other, they can be applied in any order.</p>
<p>This of course raises a potential concern:</p>
<blockquote>
<p>If I can apply $A$ and $B$ in any order, how do I know which order is the <strong>right</strong> one?</p>
</blockquote>
<p>In Pijul, this question <strong>does not matter</strong>: both orders will yield <strong>the exact same result</strong>, the only difference is that the log will list the changes in the order in which they were applied. And I‚Äôm not saying that it doesn‚Äôt matter because I‚Äôm careless, but because it truly is the same thing.</p>
<blockquote>
<p>I disagree: it does matter, I still prefer to have a ‚Äú<em>linear</em>‚Äù order for my changes/commits.</p>
</blockquote>
<p>Indeed, everybody wants to see the order of operations in a repository, for many reasons. For example:</p>
<ul>
<li>We want to keep a record of the operations performed on our repository.</li>
<li>We want to go back in time.</li>
</ul>
<p>And in fact, Pijul allows you to do exactly that, but in a more rigorous way than Git. Indeed, take the scenario where Alice and Bob work together, Alice makes a change $A$ while Bob makes $B$. When they put their work together, Alice applies Bob‚Äôs change, resulting in the log $AB$, while Bob applies Alice‚Äôs change, resulting in the log $BA$. In this case, there is no ‚Äútrue‚Äù linear history, since they worked on different things, and took different steps at different times. However, both of them want to be able to go back in time, step-by-step, and not just ‚Äú<em>step-by-step-according-to-Bob‚Äôs-order</em>‚Äù.</p>
<h2 id="commutation-and-massive-repositories">Commutation and massive repositories</h2>
<p>One of the biggest challenge for Pijul up to the recent releases was scalability: even modestly-sized repositories like Pijul‚Äôs source code would use a lot of disk space. This was even more disappointing since, as I‚Äôm about to explain, commutation was suposed to allow it to scale to gigantic repository sizes‚Ä¶ in theory. The same problem also made massive tests impossible, meaning that getting past the ‚Äú0.x releases‚Äù seemed more and more impossible as time passed.</p>
<p>Now that this phase is mostly behind us, the cool bits of the theory finally become practical.</p>
<p>In particular, in Pijul, each change contains a reference to the files it modifies. Note that, because we want operations on repositories (such as renaming files) to commute with edits inside files, we don‚Äôt identify files and directories by name, but by a unique identifier made from the hash of the change that introduced that file or directory.</p>
<p>For repositories with multiple projects, this makes it possible to clone and pull just parts of a repository, and work on that part as if we had the entire thing. Indeed, imagine we have a repository with the following log:</p>
<ol>
<li>A, adding file <em>x</em></li>
<li>B, editing <em>x</em></li>
<li>C, adding file <em>y</em></li>
<li>D, adding file <em>z</em></li>
<li>E, renaming <em>x</em> to <em>w</em></li>
<li>F, editing <em>y</em> and <em>z</em></li>
</ol>
<p>All these changes do not necessarily commute; however, since B and C touch completely different files (namely, <em>x</em> and <em>y</em>), they could be produced in parallel, and hence they commute. This means that we can pull only the changes related to a specific file, say <em>x</em>, and make the following history: A, B, E<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>
<p>Moreover, any change made on top of that sequence will commute with C, D and F: indeed, if we edit file <em>x</em> again, producing a change G, then since G can be made in parallel to C, D and F, we can push G after any patch that comes after B in that history, for example getting history ‚ÄúABCDEFG‚Äù.</p>
<p>Note that this is done without changing the changes nor their hash.</p>
<h2 id="another-trick-for-large-files">Another trick for large files</h2>
<p>As explained in previous posts on this blog, Pijul changes have a bit more information than diffs, and operate on graphs rather than files. This means that changes can be split into two parts, a short-ish one with a binary specification of the graph operations, and then the new content inserted by the change.</p>
<p>The change format is designed to be downloadable in two stages: one can download the operations without downloading the contents. One issue with this is security: if we don‚Äôt download the contents, how can we make sure that the hash is right? This is done by including a hash of the change in the ‚Äúoperations‚Äù section of the change, and letting the hash of a change be the hash of the ‚Äúoperations‚Äù section.</p>
<p>This makes it possible for someone to make five versions of a large binary file in a day, where each change deletes the entire file, and adds it again, the operation sections only contain the length of the different versions, not the actual bytes. In order to get the latest version of the file, a client will therefore only have to download the latest change completely, and only the operations section of the previous ones.</p>
<p>Note that this makes the following ‚Äúattack‚Äù possible: a server might trick a client into believing that the server has a change with hash $A$, which inserts $n$ bytes into a file, and then another change with hash $B$, deleting all these bytes. When the client downloads $A$ and $B$, it doesn‚Äôt need to download the contents. However, if the client later decides to unrecord $B$, the contents of $A$ will have to be downloaded, and the client will be able to tell that the hash of $A$ was incorrect. This should make it impossible to unrecord $B$ without also unrecording $A$. However, if $A$ made other edits, and other changes depend on $A$, this could be problematic.</p>
<h2 id="what-is-next">What is next?</h2>
<p>There is one remaining painpoint for very large repositories, and this is the fact that in order to clone a repository with a very large history, one must download and apply all the changes, one by one. Even though our apply function is quite fast<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, this can still be problematic for dozens or hundreds of thousands of changes.</p>
<p>In my next post, I will talk about a solution to this problem, which I have started to implement.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Matrices that are simultaneously diagonalizable do, for example, but for two arbitrary matrices $A$ and $B$, $AB$ is often different from $BA$. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Note that in this case, we could also pull A, E, B, since renaming a file commutes with editing it. However, we must start with A, since adding a file could not be possibly done in parallel to editing or renaming it. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>The complexity of apply is in $O(|p| |c| \log |H|)$, where $|p|$ is the size of the change, $|c|$ is the size of the largest conflict in which $p$ is involved, and $|H|$ is the number of edits made since the start of the repository. <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>
</div></div>]]>
            </description>
            <link>https://pijul.org/posts/2020-12-19-partials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486202</guid>
            <pubDate>Sun, 20 Dec 2020 13:53:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding how AES encryption works]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25486017">thread link</a>) | @nakabonne
<br/>
December 20, 2020 | https://nakabonne.dev/posts/understanding-how-aes-encryption-works/ | <a href="https://web.archive.org/web/*/https://nakabonne.dev/posts/understanding-how-aes-encryption-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>I recently had the opportunity to encrypt/decrypt stuff using AES, but I didn‚Äôt know it inside out well. I couldn‚Äôt help but be curious about how it is working, and I realized my mind could only be satisfied by digging deeper into its implementation.
This post walks you through how AES encryption works by reading core implementation written in Go.</p>
<h2 id="what-is-aes-encryption">What is AES encryption?</h2>
<p>The Advanced Encryption Standard (AES) is a symmetric block cipher, an alternative to the DES. Cryptographers from around the world proposed algorithms, from which the Rijndael algorithm was selected in 2000. Hence we‚Äôll take a look the implementation of this Rijndael.</p>
<h2 id="rijndael">Rijndael</h2>
<p>Rijndael is a block cipher algorithm. A block cipher is a cryptographic algorithm that processes a specific number of bits at a time.
The number of bits (called block length) to be processed at a time depends on the algorithm, AES is 128-bits (16-bytes). Most plaintext we encrypt is longer than this block length, so we typically use this block cipher algorithm repeatedly.
Keep in mind this post goes into some details on only on one block‚Äôs process to focus more on the core algorithm.</p>
<h2 id="digging-deeper-into-the-implementation">Digging deeper into the implementation</h2>
<p>The Go language officially provides the <a href="https://golang.org/pkg/crypto/aes/">crypto/aes</a> package, which makes use of Go Assembly to leverage Intel‚Äôs hardware support for AES if it‚Äôs built for amd64.
It otherwise uses the implementation written in pure Go. Let‚Äôs take a look at the pure Go implementation that the human mind relatively can work in.</p>
<p>The public method <code>aesCipher.Encrypt</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/cipher.go#L54-L65">aes/cipher.go</a> looks to implement a block cipher:</p>
<div><pre><code data-lang="go"><span>// The AES block size in bytes.
</span><span></span><span>const</span> <span>BlockSize</span> = <span>16</span>

<span>func</span> (<span>c</span> <span>*</span><span>aesCipher</span>) <span>Encrypt</span>(<span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>if</span> len(<span>src</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: input not full block"</span>)
	}
	<span>if</span> len(<span>dst</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: output not full block"</span>)
	}
	<span>if</span> <span>subtle</span>.<span>InexactOverlap</span>(<span>dst</span>[:<span>BlockSize</span>], <span>src</span>[:<span>BlockSize</span>]) {
		panic(<span>"crypto/aes: invalid buffer overlap"</span>)
	}
	<span>encryptBlockGo</span>(<span>c</span>.<span>enc</span>, <span>dst</span>, <span>src</span>)
}
</code></pre></div><p>This method does the two validations that check if:</p>
<ul>
<li>the given plaintext is equal to 16-bytes, the block length of AES</li>
<li><code>dst</code> and <code>src</code> share memory at any index</li>
</ul>
<p>It seems to leave the core implementation to <code>encryptBlockGo</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/block.go#L43-L87">aes/block.go</a>:</p>
<div><pre><code data-lang="go"><span>// Encrypt one block from src into dst, using the expanded key xk.
</span><span></span><span>func</span> <span>encryptBlockGo</span>(<span>xk</span> []<span>uint32</span>, <span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>_</span> = <span>src</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
	<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
	<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
	<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])

	<span>// First round just XORs input with key.
</span><span></span>	<span>s0</span> ^= <span>xk</span>[<span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>3</span>]

	<span>// Middle rounds shuffle using tables.
</span><span></span>	<span>// Number of rounds is set by length of expanded key.
</span><span></span>	<span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span>	<span>k</span> <span>:=</span> <span>4</span>
	<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
	<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
		<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
		<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
		<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
		<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
		<span>k</span> <span>+=</span> <span>4</span>
		<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
	}

	<span>// Last round uses s-box directly and XORs to produce output.
</span><span></span>	<span>s0</span> = uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&amp;</span><span>0xff</span>])
	<span>s1</span> = uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&amp;</span><span>0xff</span>])
	<span>s2</span> = uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&amp;</span><span>0xff</span>])
	<span>s3</span> = uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&amp;</span><span>0xff</span>])

	<span>s0</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>3</span>]

	<span>_</span> = <span>dst</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>0</span>:<span>4</span>], <span>s0</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>4</span>:<span>8</span>], <span>s1</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>8</span>:<span>12</span>], <span>s2</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>12</span>:<span>16</span>], <span>s3</span>)
}
</code></pre></div><p>Don‚Äôt be afraid of it. We‚Äôll focus on the significant parts.</p>
<p>The input (means plaintext) to a single block is 16-bytes as we can see above. The input is first divided into four lines, separated by four bytes.</p>
<div><pre><code data-lang="go"><span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])
</code></pre></div><p>This illustrates how the input is handled in the AES encryption process. It is definitely the key to understand to keep this format in mind.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-divided-input.jpg" width="100%" height="auto"> 
</figure>

<p>And the next part which is something iterating, is the most core implementation.</p>
<div><pre><code data-lang="go"><span>// Middle rounds shuffle using tables.
</span><span>// Number of rounds is set by length of expanded key.
</span><span></span><span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span><span>k</span> <span>:=</span> <span>4</span>
<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
	<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
	<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
	<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
	<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
	<span>k</span> <span>+=</span> <span>4</span>
	<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
}
</code></pre></div><p>Rijndael encrypts a block by repeating a process called a round.
In a round, there are four processes: SubBytes, ShiftRows, MixColumns, and AddRoundKey. As commented out in the snippet, the number of rounds depends on the key length.</p>
<h3 id="subbytes">SubBytes</h3>
<p>The conversion is done 1-byte at a time based on a conversion table called S-box which has 256 values.
Below illustrates to perform <code>sbox[s0[1]]</code> well:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-sbox.jpg" width="100%" height="auto"> 
</figure>

<p>Unlike DES, we can see that all bytes have been converted at this point.
This post doesn‚Äôt cover AES‚Äôs S-Box as it is mentioned in many places and much better than I could do.</p>
<h3 id="shiftrows">ShiftRows</h3>
<p>The next step is to process the rows that are grouped into 4-byte units and shifted regularly to the left.
The number of bytes to be shifted depends on the line, as shown below:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-shift-rows.jpg" width="100%" height="auto"> 
</figure>

<h3 id="mixcolumns">MixColumns</h3>
<p>In the previous step, it dealt with rows, but the next is to process the bytes in columns.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-mix-columns.jpg" width="100%" height="auto"> 
</figure>

<p>It involves multiplication operations in a finite field, hence this step is a bit tough to describe. See <a href="https://en.wikipedia.org/wiki/Rijndael_MixColumns">Wikipedia</a> for more details.</p>
<h3 id="addroundkey">AddRoundKey</h3>
<p>Finally, it XORs the output of MixColumns with the round key. The following figure shows the execution of <code>s0[1] ^ xk[4]</code> (the <code>^</code> denotes an XOR operation in Go).</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-add-round-key.jpg" width="100%" height="auto"> 
</figure>

<h2 id="bottom-line">Bottom Line</h2>
<p>While this post has only shown you the encryption process, these processes are fully reversible with an Inverse MixColumns, ShiftRows, SubBytes. How beautiful!
I‚Äôll keep reading the implementation to deepen my understanding of cryptography.</p>

        
    </div></div>]]>
            </description>
            <link>https://nakabonne.dev/posts/understanding-how-aes-encryption-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486017</guid>
            <pubDate>Sun, 20 Dec 2020 13:17:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we made the PJON network protocol from scratch]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25485943">thread link</a>) | @gioscarab
<br/>
December 20, 2020 | https://www.pjon.org/how.php | <a href="https://web.archive.org/web/*/https://www.pjon.org/how.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <section>
        <div>
          
          <p>
            <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON (Padded Jittering Operative Network)</a> is a lightweight, efficient and completely open network protocol. It has revolutionary features such as single wire communication with a range of up to 2 kms, wireless LED-to-LED communication and long range laser communication.
          </p>
        </div>
      </section>
      <section>
        <div>
          <article>
            <h2>2009 - Communication</h2>
            <p>
              Far back in 2009, while following Digital Communication, Advertising and Art Direction at NABA (New Academy of Fine Arts of Milan), I became interested in Professor Massimo Banzi's classes and managed to get an Arduino Diecimila. In just one day my vision of the world had changed and I slowly started to better understand computers and electronics while sharing results with the Arduino community both on my website and on Arduino's forum. I started to build robots and after few years of experiments I launched my first start¬≠up: a webshop of arduino-compatible, CNC machined robot kits, boards and sensors.
            </p>
          </article>
          <br>
          <article>
            <h2>2010 - Let's transmit data</h2>
            <p>
              At the time in my projects I had to connect many microcontrollers on a common bus and I found myself not satisfied by the solutions available, for this reason I started to develop my own data link. I perfectly remember that night back in 2010 when I started bit-banging bits using an Arduino and trying to sample them with another. The first problem I hit were bugs in the implementation that were quickly resolved. Then I unsterstood I did not have any synchronization, depending on when the receiver was powered on bits were shifted. That night, with no experience in electronics or engineering I instinctively defined the synchronization pulse that is still present as the core of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md" target="_blank" rel="noopener noreferrer">PJDL (Padded Jittering Data Link) v5.0</a>. To make sure to synchronize with the start of each byte I have added a 1 longer than data bits followed by a 0 and instructed the receiver to find it and only then start sampling 8 bits. Data was coming in perfectly. That was <a href="https://github.com/gioblu/PJON/blob/master/src/strategies/SoftwareBitBang/specification/obsolete/padded-jittering-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJDL (Padded jittering data link) v0.1</a> which was basic and working by mere chance. Then, after debugging it further, experiments proved it was working well not only through wires and the human body, but also wirelessly through radio and infrared light, yet it showed to be robust operating bidirectionally in spite of interference. After I noticed that it was possible to connect more than 2 devices to the same wire, I started to experiment with an initial collision avoidance phase, an 8 bits device id and a synchronous acknowledgement at the end of the packet. It was shocking to see that many devices were able to send and receive data through the same wire. Soon after I released <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJON v0.1</a> on the Arduino forum, receiving plenty of "don't ¬≠reinvent ¬≠the ¬≠wheel" and few active contributors.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2014 - Let's network</h2>
            <p>
              In those days I became aware of how quickly the cloud was eating the world and how difficult was to connect stuff directly without relying on a third-party. It seemed like noone could connect computers together anymore without an ever present observing big brother. To be honest, I did not like it: that was the point when I understood how <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON</a> could have changed the game and what I personally could have done to influence the outcome. I decided to double my efforts on the protocol and try my best to provide humanity with a free and more efficient way to make networks. With a working protocol layer and support from the community, I went further in the address space development adding an optional 32 bits bus id used to identify a group of up to 255 devices, supporting up to 4.294.967.295 buses and a total of 1.090.921.692.930 devices. This addition released in <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.2.md" target="_blank" rel="noopener noreferrer">PJON v0.2</a> enabled coexistence and networking for groups of devices. Thanks to Micheal Teeuw's post on his blog, PJON received contributions, testing, debugging and feature requests. Then many talented contributors added support for devices like ESP8266, Teensy 3.2 and Node MCU.
            </p>
          </article>
          <br>
          <article>
            <h2>2015 - Abstracting the data link</h2>
            <p>
              The community wanted to use PJON over different existing protocols and physical layers, to obtain that without making the implementation complex and more difficult to use I have defined the <a href="https://github.com/gioblu/PJON/tree/master/src/strategies" target="_blank" rel="noopener noreferrer">strategy</a> abstraction. The curiously recurring template pattern or CRTP was adopted to abstract the physical layer in separate classes called strategies. Thanks to this change from then it was possible to instantiate a PJON object passing the selected data link. Initially, I developed three strategies, a bit-banged implementation of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md">PJDL</a> called <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/SoftwareBitBang">SoftwareBitBang</a>, <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/OverSampling">OverSampling</a> for radio communication and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/AnalogSampling">AnalogSampling</a> able to communicate wirelessly or with optical fiber using off-the-shelf LEDs. Later on, I developed together with Fred Larsen <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/ThroughSerial">ThroughSerial</a> able to operate through a serial port.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - It's mainstream</h2>
            <p>
               <a href="http://hackaday.com/2016/03/31/pjon-fancy-one-wire-arduino-communications-protocol-for-home-automation/" target="_blank" rel="noopener noreferrer">Hackaday</a> and the <a href="http://blog.atmel.com/2016/04/09/pjon-is-a-pretty-cool-one-wire-protocol/" target="_blank" rel="noopener noreferrer">Atmel blog</a> wrote about the PJON protocol and from that day an ongoing earthquake began. The initial response, especially in the Hackaday's comments, was quite negative - trolls were raging. Only when I joined the discussion and answered openly and sincerely to all the complaints and questions asked, the tone changed dramatically. Well, so dramatically, that in the next comments I got the most praiseworthy compliments I have ever received, those people for sure helped me not to desist. Since then, the PJON protocol specification has been used in academic researches and PhDs in different parts of the world, and the official PJON implementation has already been applied globally in a wide range of different systems.
            </p>
          </article>
          <br>
          <article>
            <h2>2016 - Let's add a header</h2>
            <p>
              The release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.3.md" target="_blank" rel="noopener noreferrer">PJON v0.3</a> was the result of the most interesting proposal I have received so far, by Fred Larsen, who is a great friend already even if we never met personally. He proposed the addition of a 8 bits header containing a map of the fields contained in the packet and the configuration requested by the sender. At this point we left a fixed configuration scenario, where interoperability was impossible, heading towards a dynamic network architecture. An entire new set of possibilities opened up and users started to make use of this new field.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - PJON over the internet</h2>
            <p>
              <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/EthernetTCP">EthernetTCP</a> and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/LocalUDP">LocalUDP</a> made by Fred Larsen enabled multiple devices with Ethernet ports use PJON to communicate with each other on a LAN, WAN or across the Internet. It became possible to create a PJON network of devices using also an Internet connection. Our constantly growing community has already provided PJON implementations in other programming languages like <a href="https://github.com/Girgitt/PJON-python">PJON-python</a> by Zbigniew Zasieczny and <a href="https://github.com/Matheus-Garbelini/PJON-C">PJON-c</a> by Matheus Garbelini. Thanks to their work, it was for the first time possible to run PJON on a wider range of devices. At the same time the protocol reached its first stable version with the release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v1.0.md" target="_blank" rel="noopener noreferrer">PJON v1.0</a> which added a lot of new features.
            </p>
          </article>
          <br>
          <article>
            <h2>2017 - Let's make it universal</h2>
            <p>
              New features brought new objectives: the community wanted to have <a href="https://github.com/gioblu/PJON">PJON</a> working on many different MCUs and real time operative systems although I wanted to avoid code duplication and maintain only one unified implementation. For this reason I defined the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces">interface</a> abstraction. With interfaces it was for the first time possible to run and cross-compile the same implementation on all supported targets. I developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/RPI">RPI</a> interface to support Raspberry Pi, after few weeks Zbigniew Zasieczny developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/WINX86">WINX86</a> interface enabling PJON communication on Windows computers, and soon after, Fred Larsen developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/LINUX">LINUX</a> interface. In late 2017 I discovered that frame inizialization was missing from both the specification and the implementation and that arbitrary data could have been mistaken for a valid frame. I vividly remember how shocked I was, that was a serious hole, so I quickly found a way to safely identify frames in each strategy. After that was fixed and all seemed perfect I discovered the <a href="https://betterembsw.blogspot.com/2012/02/can-protocol-vulnerabilities.html">length corruption vulnerability</a> that affected PJON and still affects CAN (Controlled Area Network). To close that hole I added an additional CRC8 to protect the header and soon after I released <a href="https://github.com/gioblu/PJON/blob/9.0/specification/PJON-protocol-specification-v2.0.md">PJON v2.0</a>.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2018 - Distributed field test</h2>
            <p>
              Although PJON is licensed "AS IS", the more it was applied in the real world, the more I was feeling the responsibility for possible failures. When in 2018 Fred Larsen used PJON and <a href="https://github.com/fredilarsen/ModuleInterface">ModuleInterface</a> to handle the life support systems of his hens' house in Norway I started to be preoccupied for those animals and be finally aware of the potential consequencies and the risks involved in PJON real world applications, specially if dealing with living beings. If for whatever reason the temperature value transmitted was corrupted by interference or because of a bug, the hens could have ended up frozen or roasted. The conception of this possibility pushed me to study deeper the implementation and make better software.
            </p>
          </article>
          <br>
          <article>
            <h2>2019 - PJON in the top ten</h2>
            <p>
              After the release of <a href="https://github.com/gioblu/PJON/releases/tag/12.0">PJON 12.0</a>, in November 2019, unexpectedly, we experienced a 25% growth of the community in few days. The right <a href="https://news.ycombinator.com/item?id=21427013">HN post</a> and few reddit discussions ‚Ä¶</p></article></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pjon.org/how.php">https://www.pjon.org/how.php</a></em></p>]]>
            </description>
            <link>https://www.pjon.org/how.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485943</guid>
            <pubDate>Sun, 20 Dec 2020 13:02:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Print() and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25485916">thread link</a>) | @josiasaurel
<br/>
December 20, 2020 | https://josiasdev.best/python-print-and-beyond | <a href="https://web.archive.org/web/*/https://josiasdev.best/python-print-and-beyond">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><h2 id="beyond-the-print-function-in-python">Beyond the <code>print()</code> function in <em>Python</em></h2>
<p>Hey guys, today I am going to talk about some features of the <code>print()</code> function in python. You will probably have come across some of these functions while others could seem new.</p>
<p>Let's start by understanding the basics of the print function. 
In python, the built-in print function is used to print all kinds of stuff - text, numbers, objects, dictionaries etc.
But how does this function handle that ?! You might think; it just can do it, it was made for that. But in reality, the print function in python can only handle strings.</p>
<p>Under the hood, anything you pass to the <code>print()</code> function gets converted to a string before being printed to your screen. That mean it will make use of the <code>str()</code> type casting and convert all other data types to strings before displaying them to your console/terminal.
Now that you know how the <code>print()</code> work, let's dive into its features.</p>
<p>Furthermore, print doesn't know how to print text to the screen. I won't go detail into that for now. Later in this post, you will know what happens under it.</p>
<p>Basically, you can print whatever you want . The simplest example you have come across is <code>print("Hello World!")</code>
It take a string enclosed in double quotes or single quotes and prints it.
You can also print multiple stuff by simply separating them with comas as such :</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age)

</code></pre>
<p>You can as well print text that takes more than a line. In this case, you will be using the newline escape character <code>\n</code>
Example :</p>
<pre><code>print(<span>"Hello \nWorld"</span>)



</code></pre>
<p>You can also format text with it. Making use of <code>f-strings</code></p>
<pre><code>name = <span>"Samson"</span>
print(<span>f"Hello <span>{name}</span>"</span>)

</code></pre>
<p>The example above showcase the basics of the print function. It can take a variable number of values to print. Other than that, there are also some keyword arguments.
Let's dive into them</p>
<h2 id="1-separator">1. Separator</h2>
<p><code>print()</code> allows you to decide what separates text we print with it. By default, all the values you pass to it are separated by empty strings. But we change that. It suffices to include <code>sep=</code> followed by whatever you want to separate your text.
Let's make use of the previous example.</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age, sep=<span>"-"</span>)

</code></pre>
<p>You notice that all what we passed into it separately are separated by a <code>-</code>. You can modify that however you want. You just need to make sure the separator is a valid string.</p>
<h2 id="2-ending">2. Ending</h2>
<p>You can specify by whatever you want your output to end with. By default, what you print end with a newline escape character <code>\n</code>. Let's change that and see what happens</p>
<pre><code>
print(<span>"Hello James"</span>)
print(<span>"How are you doing"</span>)





print(<span>"Hello James"</span>, end=<span>""</span>)
print(<span>"How are you doing"</span>, end=<span>""</span>)


</code></pre>
<p>If we execute that, we notice the text is no more separated by a new line. Let's try that again! But this time, we want it to end by <code>y</code> and move to a new line.</p>
<pre><code>print(<span>"Hello James"</span>, end=<span>"y\n"</span>)
print(<span>"How are you doing"</span>, end=<span>"\n"</span>)
</code></pre>
<p>We get the following output</p>
<pre><code><span>Hello</span> Jamesy
How are you doingy
</code></pre><p>Yay it worked !</p>
<h2 id="3-writing-to-a-file">3. Writing to a file</h2>
<p>At the beginning of this post, I said python doesn't know how to print stuff to the screen by itself. It rather uses <code>sys.stdout</code> and writes your text to that file. 
Wait what ! Print will write text to a file object which I sent to your screen via <code>sys.stdout</code>. Therefore, you can modify this behaviour too in order to have this printed elsewhere.
Let's give it a try.
Write the following code:</p>
<pre><code><span>with</span> open(<span>"hello.txt"</span>, <span>"w"</span>) <span>as</span> file_object:
        print(<span>"This message is for you"</span>, file=file_object)
</code></pre>
<p>Executing the above will end in a file name <code>hello.text</code> in the same directory with the text <em>This message is for you</em> in it. 
Therefore, we can direct where we want our text to be printed. In this case, we created a file name <code>hello.txt</code> and use the <code>file</code> keyword argument to direct the result to be written to that file rather than our terminal. You can use this to direct any result to wherever you want, even through a socket connection.</p>
<h2 id="4-flushing">4. Flushing</h2>
<p>This one requires an example. Let's have one!</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>" "</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>What this code should do is; print a name after a second. Try and run it and see what happens. 
You notice it unexpectedly waits and print all at once.  This is because since it's on a single line, it is all buffered (packed) before we get it. 
<a target="_blank" href="https://en.m.wikipedia.org/wiki/Data_buffer#:~:text=In%20computer%20science%2C%20a%20data,from%20one%20place%20to%20another.&amp;text=However%2C%20a%20buffer%20may%20be,comparable%20to%20buffers%20in%20telecommunication.">Read more about buffers here</a>
But we could go around that by simply adding the <code>flush=</code> keyword argument to the print function. By default it it set to <code>False</code>. Setting it to true will ensure every print statement is executed and freed from buffer before the next one.
The following code will make it :</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>", "</span>, flush=<span>True</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>If you run it. It will print a name, sleep for a second and print another, all on the same line. 
Yay we did it !</p>
<p>You have reached the end of this post. 
<a target="_blank" href="https://ko-fi.com/S6S01ULOV"><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"></a></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://josiasdev.best/python-print-and-beyond</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485916</guid>
            <pubDate>Sun, 20 Dec 2020 12:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a simple neural net in Java]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 51 (<a href="https://news.ycombinator.com/item?id=25485841">thread link</a>) | @wheresvic4
<br/>
December 20, 2020 | https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            

            <p>
            In this post we will tackle Artificial Intelligence with baby steps and try to build a very simple neural net in Java.
            </p>

            <h5 id="what-is-a-neural-net">What is a Neural net?</h5>

            <p>
            A neural net is a software representation of how the brain works. Unfortunately, we do not know as of yet how exactly does the brain really work but we do know a little bit of the biology behind this process: the human brain consists of 100 billion cells called neurons, connected together by synapses. If sufficient synapses connected to a neuron fire, then that neuron will also fire. This process is known as "thinking".
            </p>

            <p>
            We thus try and model the above process using a very simple example that has 3 inputs (synapses) and results in a single output (1 neuron firing).

            <img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem.png" width="400">
            </p>



            <h5 id="a-simple-problem">A simple problem</h5>

            <p>
            We will train our above neural net to solve the following problem. Can you figure out the pattern and guess what the value of the new input should be? 0 or 1?
            </p>

            <div>
              <table>
              <tbody><tr>
                <th>Examples</th>
                <th colspan="3">Input</th>
                <th>Output</th>
              </tr>
              <tr>
                <td>Example 1</td>
                <td>0</td>
                <td>0</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td>Example 2</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 3</td>
                <td>1</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 4</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td colspan="5">&nbsp;</td>
              </tr>

              <tr>
                <td>New situation</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>?</td>
              </tr>

              </tbody></table>
            </div>

            <p>
            The answer is actually very simply the value of the left-most column, i.e. 1!
            </p>


            <h5 id="training-process">The training process</h5>

            <p>
            So now that we have the model of a human brain, we will try and get our neural net to learn what the pattern is given the training set. We will first assign each input a random number to produce an output.
            </p>

            <p><img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem-neuron-weights.png" width="400"></p><p>
            The formula for calculating the output is given as follows:
            $$\sum weight_i . input_i = weight1 . input1 + weight2 . input2 + weight3 . input3$$
            </p>

            <p>
            As it turns out we would like to normalize this output value to something between 0 and 1 so that the prediction makes sense. After normalization we compare the output with the expected output of our inputs. This gives us the error, or how far off is our prediction. We can then use this error to slightly adjust the weights of our neural net and try our luck on the same input again. This can be summarized in the following image:
            </p>

            <!--
            <div>
                <a class="image-popup-no-margins" href="/img/blog/nn-1-training-process.png">
                    <img class="img-responsive centered img-border" alt="Neural net training process" src="/img/blog/nn-1-training-process.png" />
                </a>
                <div class="img-desc">
                </div>
            </div>
            -->

            <p><img alt="Neural net training process" src="https://smalldata.tech/img/blog/nn-1-training-process.png" width="450"></p><p>
            We repeat this training process for all the inputs <i><b>10,000 times</b></i> to reach a satisfactorily trained neural net. We can then use this neural net to make predictions on new inputs!
            </p>

            <p>
            Before we jump into the implementation however, we still need to clarify how we achieved the normalization and the weight adjustment based on the error (also known as back-propagation).
            </p>

            <h5 id="normalization">Normalization</h5>

            <p>
            In a biologically inspired neural network, the output of a neuron is usually an abstraction representing the rate of action potential firing in the cell. In its simplest form, this is binary value, i.e., either the neuron is firing or not. Hence, the need for normalization of this output value.
            </p>

            <p>
            To achieve this normalization we apply what is known as an activation function to the output of the neuron. If we take the example of a really simple Heaviside step function which assigns a 0 to any negative value and a 1 to any positive value, then a large number of neurons would be required to achieve the required granularity of slowly adjusting the weights to reach an acceptable consensus of the training set.
            </p>

            <p>
            As we will see in the next section on back-propagation, this concept of slowly adjusting the weights can be represented mathematically as the slope of the activation function. In biological terms, it can be thought of as the increase in firing rate that occurs as input current increases. If we were to use a linear function instead of the Heaviside function, then we would find that the resulting network would have an unstable convergence because neuron inputs along favored paths would tend to increase without bound, as a linear function is not normalizable.
            </p>

            <p>
            All problems mentioned above can be handled by using a normalizable sigmoid activation function. One realistic model stays at zero until input current is received, at which point the firing frequency increases quickly at first, but gradually approaches an asymptote at 100% firing rate. Mathematically, this looks like:
            $$ \frac{1}{1 + e^{-x}} $$
            </p>

            <p>
            If plotted on a graph, the Sigmoid function draws an S shaped curve:
            </p>

            <p><img alt="sigmoid plot" src="https://smalldata.tech/img/blog/nn-1-sigmoid-plot.png" width="450"></p><p>
            Thus, the final formula for the output of a neuron now becomes
            $$ Output = \frac{1}{1 + e^{-(\sum weight_i . input_i)}} $$
            </p>

            <p>
            There are other normalization functions that we can use but the sigmoid has the advantage of being fairly simple and also having a simple derivative which will be useful when we look at the back propagation below.
            </p>

            <h5 id="back-propagation">Back-propagation</h5>

            <p>
            During the training cycle, we adjusted the weights depending on the error. To do this, we can use the "Error weighted derivative" formula
            $$ Adjustment = error . input . SigmoidCurveGradient(output) $$
            </p>

            <p>
            The reason we use this formula is that firstly, we want to make the adjustment proportional to the size of the error. Secondly, we multiply by the input, which is either a 0 or a 1. If the input is 0, the weight isn‚Äôt adjusted. Finally, we multiply by the gradient of the Sigmoid curve (or the derivative).
            </p>

            <p>
            The reason that we use the gradient is because we are trying to minimize the loss. Specifically, we do this by a <a href="https://en.wikipedia.org/wiki/Gradient_descent">gradient descent method</a>. It basically means that from our current point in the parameter space (determined by the complete set of current weights), we want to go in a direction which will decrease the loss function. Visualize standing on a hillside and walking down the direction where the slope is steepest. The gradient descent method as applied to our neural net is illustrated as follows:
            </p><ol>
                <li>If the output of the neuron is a large positive or negative number, it signifies the neuron was quite confident one way or another.</li>
                <li>From the sigmoid plot, we can see that at large numbers the Sigmoid curve has a shallow gradient.</li>
                <li>Thus, if the neuron is confident that the existing weight is correct, it doesn‚Äôt want to adjust it very much and multiplying by the gradient of the sigmoid curve achieves this.</li>
            </ol>
            

            <p>
            The derivative of the sigmoid function is given by the following formula
            $$ SigmoidCurveGradient(output) = output . (1 - output) $$
            Substituting this back into the adjustment formula gives us
            $$ Adjustment = error . input . output . (1 - output) $$
            </p>

            <h5 id="code">Code</h5>

            <p>
            An important but subtle point that was missed out when explaining the mathematics above was that for each training iteration, the mathematical operations are done on the entire training set at the same time. Thus, we will make use of matrices to store the set of input vectors, the weights and the expected outputs.
            </p>

            <p>
            You can grab the entire project source here: <a href="https://github.com/wheresvic/neuralnet">https://github.com/wheresvic/neuralnet</a>. For the sake of learning, we implemented all the math ourselves using only the standard java Math functions :)
            </p>

            <p>
            We will begin with the <code>NeuronLayer</code> class which is just a placeholder for the weights in our neural net implementation. We provide it with the number of inputs per neuron and the number of neurons which it can use to build a table of the weights. In our current example, this is very simply the last output neuron which has the 3 input neurons.
            </p>

<pre>public class NeuronLayer {

    public final Function<double, double=""> activationFunction, activationFunctionDerivative;

    double[][] weights;

    public NeuronLayer(int numberOfNeurons, int numberOfInputsPerNeuron) {
        weights = new double[numberOfInputsPerNeuron][numberOfNeurons];

        for (int i = 0; i &lt; numberOfInputsPerNeuron; ++i) {
            for (int j = 0; j &lt; numberOfNeurons; ++j) {
                weights[i][j] = (2 * Math.random()) - 1; // shift the range from 0-1 to -1 to 1
            }
        }

        activationFunction = NNMath::sigmoid;
        activationFunctionDerivative = NNMath::sigmoidDerivative;
    }

    public void adjustWeights(double[][] adjustment) {
        this.weights = NNMath.matrixAdd(weights, adjustment);
    }
}
</double,></pre>

            <p>
            Our neural net class is where all the action happens. It takes as a constructor the <code>NeuronLayer</code> and has 2 main functions:
            </p><ul>
                <li><code>think</code>: calculates the outputs of a given input set</li>
                <li><code>train</code>: runs the training loop <code>numberOfTrainingIterations</code> times (usually a high number like 10,000). Note that the training itself involves calculating the output and then adjusting the weights accordingly</li>
            </ul>
            

<pre>public class NeuralNetSimple {

    private final NeuronLayer layer1;
    private double[][] outputLayer1;

    public NeuralNetSimple(NeuronLayer layer1) {
        this.layer1 = layer1;
    }

    public void think(double[][] inputs) {
        outputLayer1 = apply(matrixMultiply(inputs, layer1.weights), layer1.activationFunction);
    }

    public void train(double[][] inputs, double[][] outputs, int numberOfTrainingIterations) {
        for (int i = 0; i &lt; numberOfTrainingIterations; ++i) {

            // pass the training set through the network
            think(inputs);

            // adjust weights by error * input * output * (1 - output)

            double[][] errorLayer1 = matrixSubtract(outputs, outputLayer1);
            double[][] deltaLayer1 = ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</a></em></p>]]>
            </description>
            <link>https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485841</guid>
            <pubDate>Sun, 20 Dec 2020 12:37:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Incarceration in Real Numbers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485820">thread link</a>) | @DyslexicAtheist
<br/>
December 20, 2020 | https://mkorostoff.github.io/incarceration-in-real-numbers/ | <a href="https://web.archive.org/web/*/https://mkorostoff.github.io/incarceration-in-real-numbers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div id="prisoners">
    
    
    
    

    <div>
      <p>The United States holds more people in jails and prisons than any other country by far, both in absolute numbers and as a percentage of population.</p>
    </div>

    <div id="per-one-hundred">
      <div id="per-one-hundred-inner">
        <h2>Incarcerated per 100,000 residents <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p><span>USA (698)</span></p>
        <p><span>El Salvador (590)</span></p>
        <p><span>Turkmenistan (552)</span></p>
        <p><span>Thailand (531)</span></p>
        <p><span>Rwanda (511)</span></p>
        <p><span>Cuba (510)</span></p>
        <p><span>Panama (401)</span></p>
        <p><span>Costa Rica (374)</span></p>
        <p><span>Cayman Islands (365)</span></p>
        <p><span>Russia (363)</span></p>
        <p><span>Belize (356)</span></p>
        <p><span>Brazil (348)</span></p>
        <p><span>Belarus (343)</span></p>
        <p><span>Nicaragua (332)</span></p>
        <p><span>Turkey (324)</span></p>
        <p><span>Puerto Rico (313)</span></p>
        <p><span>Brunei Darussalam (307)</span></p>
        <p><span>Cape Verde (296)</span></p>
        <p><span>Uruguay (295)</span></p>
        <p><span>Namibia (295)</span></p>
        <p><span>Iran (294)</span></p>
        <p><span>Trinidad and Tobago (292)</span></p>
        <p><span>Guyana (284)</span></p>
        <p><span>Peru (278)</span></p>
        <p><span>South Africa (275)</span></p>
        <p><span>Georgia (262)</span></p>
        <p><span>Taiwan (258)</span></p>
        <p><span>Swaziland (258)</span></p>
        <p><span>Greenland (249)</span></p>
        <p><span>Colombia (246)</span></p>
        <p><span>French Guiana (243)</span></p>
        <p><span>Gabon (241)</span></p>
        <p><span>Morocco (237)</span></p>
        <p><span>Dominican Republic (237)</span></p>
        <p><span>Cura√É¬ßao (236)</span></p>
        <p><span>Azerbaijan (235)</span></p>
        <p><span>Israel (234)</span></p>
        <p><span>Bahrain (234)</span></p>
        <p><span>Ecuador (233)</span></p>
        <p><span>Macau (233)</span></p>
        <p><span>Chile (232)</span></p>
        <p><span>Argentina (230)</span></p>
        <p><span>Malaysia (230)</span></p>
        <p><span>Honduras (229)</span></p>
        <p><span>Lithuania (221)</span></p>
        <p><span>Cambodia (220)</span></p>
        <p><span>Martinique (215)</span></p>
        <p><span>Fiji (210)</span></p>
        <p><span>Botswana (208)</span></p>
        <p><span>Mauritius (203)</span></p>
        <p><span>New Zealand (201)</span></p>
        <p><span>Paraguay (199)</span></p>
        <p><span>Singapore (199)</span></p>
        <p><span>Jordan (198)</span></p>
        <p><span>Saudi Arabia (197)</span></p>
        <p><span>Czech Republic (197)</span></p>
        <p><span>Poland (195)</span></p>
        <p><span>Tunisia (195)</span></p>
        <p><span>Slovakia (195)</span></p>
        <p><span>Moldova (194)</span></p>
        <p><span>New Caledonia (189)</span></p>
        <p><span>Estonia (187)</span></p>
        <p><span>Latvia (183)</span></p>
        <p><span>Montenegro (183)</span></p>
        <p><span>Suriname (183)</span></p>
        <p><span>Philippines (179)</span></p>
        <p><span>Venezuela (178)</span></p>
        <p><span>Albania (177)</span></p>
        <p><span>Hungary (173)</span></p>
        <p><span>Myanmar (171)</span></p>
        <p><span>Australia (170)</span></p>
        <p><span>Mexico (163)</span></p>
        <p><span>Kyrgyzstan (161)</span></p>
        <p><span>Bolivia (158)</span></p>
        <p><span>Kazakhstan (156)</span></p>
        <p><span>Serbia (156)</span></p>
        <p><span>Algeria (151)</span></p>
        <p><span>Uzbekistan (150)</span></p>
        <p><span>Scotland (149)</span></p>
        <p><span>Ukraine (148)</span></p>
        <p><span>Bhutan (145)</span></p>
        <p><span>Lebanon (144)</span></p>
        <p><span>Guatemala (143)</span></p>
        <p><span>England &amp; Wales (140)</span></p>
        <p><span>Nauru (140)</span></p>
        <p><span>Libya (139)</span></p>
        <p><span>Jamaica (138)</span></p>
        <p><span>Malta (131)</span></p>
        <p><span>Laos (130)</span></p>
        <p><span>Vietnam (128)</span></p>
        <p><span>Ethiopia (127)</span></p>
        <p><span>Micronesia (127)</span></p>
        <p><span>Guernsey (127)</span></p>
        <p><span>Iraq (126)</span></p>
        <p><span>Portugal (125)</span></p>
        <p><span>Bulgaria (125)</span></p>
        <p><span>Isle of Man (125)</span></p>
        <p><span>Spain (124)</span></p>
        <p><span>Uganda (124)</span></p>
        <p><span>Cameroon (124)</span></p>
        <p><span>Zambia (123)</span></p>
        <p><span>Tajikistan (121)</span></p>
        <p><span>China (120)</span></p>
        <p><span>Kuwait (117)</span></p>
        <p><span>Egypt (116)</span></p>
        <p><span>Zimbabwe (114)</span></p>
        <p><span>North Macedonia (112)</span></p>
        <p><span>Mongolia (110)</span></p>
        <p><span>Canada (107)</span></p>
        <p><span>Romania (107)</span></p>
        <p><span>Hong Kong (106)</span></p>
        <p><span>France (105)</span></p>
        <p><span>Sri Lanka (105)</span></p>
        <p><span>Luxembourg (105)</span></p>
        <p><span>UAE (104)</span></p>
        <p><span>Kenya (102)</span></p>
        <p><span>Italy (101)</span></p>
        <p><span>Indonesia (99)</span></p>
        <p><span>Austria (98)</span></p>
        <p><span>Belgium (95)</span></p>
        <p><span>Greece (95)</span></p>
        <p><span>Kosovo (95)</span></p>
        <p><span>Madagascar (93)</span></p>
        <p><span>Angola (93)</span></p>
        <p><span>Lesotho (92)</span></p>
        <p><span>Afghanistan (87)</span></p>
        <p><span>Cyprus (86)</span></p>
        <p><span>Burundi  (85)</span></p>
        <p><span>Monaco (83)</span></p>
        <p><span>Cote d'Ivoire  (82)</span></p>
        <p><span>Switzerland  (81)</span></p>
        <p><span>Haiti  (80)</span></p>
        <p><span>Croatia  (79)</span></p>
        <p><span>Ireland (79)</span></p>
        <p><span>Nepal  (79)</span></p>
        <p><span>Northern Ireland (78)</span></p>
        <p><span>Germany  (77)</span></p>
        <p><span>Armenia  (76)</span></p>
        <p><span>Malawi (76)</span></p>
        <p><span>Slovenia (69)</span></p>
        <p><span>Benin  (68)</span></p>
        <p><span>Senegal  (68)</span></p>
        <p><span>Djibouti (66)</span></p>
        <p><span>Togo (66)</span></p>
        <p><span>Andorra  (64)</span></p>
        <p><span>Denmark  (63)</span></p>
        <p><span>Equatorial Guinea  (63)</span></p>
        <p><span>Mozambique (63)</span></p>
        <p><span>Papua New Guinea (62)</span></p>
        <p><span>Sweden (61)</span></p>
        <p><span>Netherlands  (61)</span></p>
        <p><span>Norway (60)</span></p>
        <p><span>Sierra Leone (60)</span></p>
        <p><span>Syria  (60)</span></p>
        <p><span>Chad (59)</span></p>
        <p><span>Tanzania (59)</span></p>
        <p><span>Finland  (53)</span></p>
        <p><span>Mauritania (53)</span></p>
        <p><span>Qatar  (53)</span></p>
        <p><span>Yemen  (53)</span></p>
        <p><span>Bangladesh (52)</span></p>
        <p><span>Ghana  (52)</span></p>
        <p><span>Sudan  (52)</span></p>
        <p><span>Timor-Leste (52)</span></p>
        <p><span>Liberia  (50)</span></p>
        <p><span>South Sudan  (50)</span></p>
        <p><span>Niger  (44)</span></p>
        <p><span>Burkina Faso (39)</span></p>
        <p><span>Japan  (39)</span></p>
        <p><span>Pakistan (38)</span></p>
        <p><span>Iceland  (37)</span></p>
        <p><span>Nigeria  (36)</span></p>
        <p><span>Oman (36)</span></p>
        <p><span>India  (34)</span></p>
        <p><span>Mali (33)</span></p>
        <p><span>Gambia (31)</span></p>
        <p><span>Liechtenstein  (31)</span></p>
        <p><span>Democratic Republic of Congo (29)</span></p>
        <p><span>Guinea (28)</span></p>
        <p><span>Congo (27)</span></p>
        <p><span>Central African Republic (16)</span></p>
        <p><span>Guinea Bissau  (10)</span></p>
        <p><span>San Marino (6)</span></p>
      <p><a onclick="toggleExpand('per-one-hundred', 'per-one-hundred-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div id="country-rank">
      <div id="country-rank-inner">
        <h2>Number of people incarcerated <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p>USA (2.3M)</p>
        <p><span>China (1.7M)</span></p>
        <p><span>Brazil (747K)</span></p>
        <p><span>Russian Federation (524K)</span></p>
        <p><span>India (466K)</span></p>
        <p><span>Thailand (368K)</span></p>
        <p><span>Indonesia (267K)</span></p>
        <p><span>Turkey (265K)</span></p>
        <p><span>Iran (240K)</span></p>
        <p><span>Philippines (215K)</span></p>
        <p><span>Mexico (203K)</span></p>
        <p><span>South Africa (163K)</span></p>
        <p><span>Vietnam (124K)</span></p>
        <p><span>Colombia (123K)</span></p>
        <p><span>Ethiopia (114K)</span></p>
        <p><span>Egypt (106K)</span></p>
        <p><span>Argentina (103K)</span></p>
        <p><span>Myanmar  (92K)</span></p>
        <p><span>Peru (91K)</span></p>
        <p><span>Bangladesh (88K)</span></p>
        <p><span>Morocco (86K)</span></p>
        <p><span>United Kingdom: England &amp; Wales (83K)</span></p>
        <p><span>Pakistan (77K)</span></p>
        <p><span>Poland (74K)</span></p>
        <p><span>Malaysia (74K)</span></p>
        <p><span>Nigeria (73K)</span></p>
        <p><span>France (71K)</span></p>
        <p><span>Rwanda (65K)</span></p>
        <p><span>Germany (64K)</span></p>
        <p><span>Algeria (63K)</span></p>
        <p><span>Saudi Arabia (61K)</span></p>
        <p><span>Taiwan (61K)</span></p>
        <p><span>Italy (61K)</span></p>
        <p><span>Spain (58K)</span></p>
        <p><span>Cuba (57K)</span></p>
        <p><span>Venezuela (57K)</span></p>
        <p><span>Uganda (55K)</span></p>
        <p><span>Republic of  (55K)</span></p>
        <p><span>Ukraine (53K)</span></p>
        <p><span>Kenya (51K)</span></p>
        <p><span>Japan (49K)</span></p>
        <p><span>Iraq (45K)</span></p>
        <p><span>Uzbekistan (44K)</span></p>
        <p><span>Australia (43K)</span></p>
        <p><span>Chile (43K)</span></p>
        <p><span>Ecuador (40K)</span></p>
        <p><span>Canada (40K)</span></p>
        <p><span>El Salvador (38K)</span></p>
        <p><span>Cambodia (37K)</span></p>
        <p><span>Tanzania (36K)</span></p>
        <p><span>Belarus (33K)</span></p>
        <p><span>Afghanistan (31K)</span></p>
        <p><span>Cameroon (31K)</span></p>
        <p><span>Turkmenistan (30K)</span></p>
        <p><span>Kazakhstan (29K)</span></p>
        <p><span>Dominican Republic (26K)</span></p>
        <p><span>Guatemala (25K)</span></p>
        <p><span>Madagascar (25K)</span></p>
        <p><span>Angola (24K)</span></p>
        <p><span>Nepal (24K)</span></p>
        <p><span>Sri Lanka (23K)</span></p>
        <p><span>Azerbaijan (23K)</span></p>
        <p><span>Zambia (23K)</span></p>
        <p><span>Tunisia (23K)</span></p>
        <p><span>Cote d'Ivoire (21K)</span></p>
        <p><span>Czech Republic (21K)</span></p>
        <p><span>Sudan (21K)</span></p>
        <p><span>Nicaragua (21K)</span></p>
        <p><span>Romania (21K)</span></p>
        <p><span>Democratic Republic of Congo (21K)</span></p>
        <p><span>Honduras (21K)</span></p>
        <p><span>Jordan (20K)</span></p>
        <p><span>Mozambique (20K)</span></p>
        <p><span>Zimbabwe (19K)</span></p>
        <p><span>Israel (19K)</span></p>
        <p><span>Costa Rica (19K)</span></p>
        <p><span>Bolivia (18K)</span></p>
        <p><span>Panama (17K)</span></p>
        <p><span>Hungary (17K)</span></p>
        <p><span>Ghana (15K)</span></p>
        <p><span>Malawi (15K)</span></p>
        <p><span>Yemen (14K)</span></p>
        <p><span>Paraguay (14K)</span></p>
        <p><span>Portugal (13K)</span></p>
        <p><span>Singapore (12K)</span></p>
        <p><span>Senegal (12K)</span></p>
        <p><span>Belgium (11K)</span></p>
        <p><span>Serbia (11K)</span></p>
        <p><span>Burundi (11K)</span></p>
        <p><span>Slovakia (11K)</span></p>
        <p><span>Syria (11K)</span></p>
        <p><span>Puerto Rico  (10K)</span></p>
        <p><span>Netherlands (10K)</span></p>
        <p><span>Uruguay (10K)</span></p>
        <p><span>Greece (10K)</span></p>
        <p><span>Kyrgyzstan (10K)</span></p>
        <p><span>New Zealand (10K)</span></p>
        <p><span>United Arab Emirates (10K)</span></p>
        <p><span>Georgia (10K)</span></p>
        <p><span>Niger (10K)</span></p>
        <p><span>Tajikistan (9K)</span></p>
        <p><span>Libya (9K)</span></p>
        <p><span>Bulgaria (9K)</span></p>
        <p><span>Laos (9K)</span></p>
        <p><span>Haiti (9K)</span></p>
        <p><span>Chad (9K)</span></p>
        <p><span>Austria (9K)</span></p>
        <p><span>United Kingdom: Scotland (8K)</span></p>
        <p><span>Hong Kong  (8K)</span></p>
        <p><span>Benin (8K)</span></p>
        <p><span>Burkina Faso (8K)</span></p>
        <p><span>Namibia (7K)</span></p>
        <p><span>South Sudan (7K)</span></p>
        <p><span>Lebanon (7K)</span></p>
        <p><span>Switzerland (7K)</span></p>
        <p><span>Moldova  (7K)</span></p>
        <p><span>Sweden (6K)</span></p>
        <p><span>Lithuania (6K)</span></p>
        <p><span>Mali (5K)</span></p>
        <p><span>Togo (5K)</span></p>
        <p><span>Papua New Guinea (5K)</span></p>
        <p><span>Albania (5K)</span></p>
        <p><span>Sierra Leone (5K)</span></p>
        <p><span>Kuwait (5K)</span></p>
        <p><span>Gabon (4K)</span></p>
        <p><span>Botswana (4K)</span></p>
        <p><span>Trinidad and Tobago (4K)</span></p>
        <p><span>Ireland, Republic of (4K)</span></p>
        <p><span>Jamaica (4K)</span></p>
        <p><span>Guinea  (4K)</span></p>
        <p><span>Denmark (4K)</span></p>
        <p><span>Latvia (4K)</span></p>
        <p><span>Bahrain (3K)</span></p>
        <p><span>Swaziland/eSwatini (3K)</span></p>
        <p><span>Mongolia (3K)</span></p>
        <p><span>Croatia (3K)</span></p>
        <p><span>Norway (3K)</span></p>
        <p><span>Finland (3K)</span></p>
        <p><span>Mauritius (3K)</span></p>
        <p><span>Estonia (2K)</span></p>
        <p><span>Liberia (2K)</span></p>
        <p><span>North Macedonia (2K)</span></p>
        <p><span>Mauritania (2K)</span></p>
        <p><span>Armenia (2K)</span></p>
        <p><span>Guyana (2K)</span></p>
        <p><span>Lesotho (2K)</span></p>
        <p><span>Fiji (2K)</span></p>
        <p><span>Maldives (2K)</span></p>
        <p><span>Bahamas (2K)</span></p>
        <p><span>Bosnia and Herzegovina: Federation (2K)</span></p>
        <p><span>Kosovo/Kosova (2K)</span></p>
        <p><span>Macau  (2K)</span></p>
        <p><span>Cape Verde  (2K)</span></p>
        <p><span>United Kingdom: Northern Ireland (1K)</span></p>
        <p><span>Slovenia (1K)</span></p>
        <p><span>Brunei Darussalam (1K)</span></p>
        <p><span>Oman (1K)</span></p>
        <p><span>Belize (1K)</span></p>
        <p><span>Congo  (1K)</span></p>
      <p><a onclick="toggleExpand('country-rank', 'country-rank-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div>
      <p>There are more incarcerated people than members of almost any profession. There are more incarcerated people than military personnel. There are more incarcerated people than bus drivers, bar tenders, and hair dressers combined. [<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-compared-to-professions"></a>]</p>
    </div>

    <div>
      <p>
        More Americans are incarcerated today than there have been Americans killed in all of the wars in all of history combined.
      </p>
    </div>

    <div id="casualties">
      <div>
        <h2>Incarceration compared to casualties of war <sup>[<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#american-war-dead"></a>]</sup></h2>
        <p>Americans currently incarcerated (2.3M)</p>
        <p>American war dead, all of history combined (1.3M)</p>
        <p>American war wounded, all of history combined (1.5M)</p>
      </div>
    </div>

    <div>
      <p>While the incarcerated population is unfathomably large, it is just the tip of the iceberg.</p>
    </div>

    <div id="correctional-population">
      <div>
        <h2>The total correctional population <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#total-correctional-population" target="_blank"></a>]</sup></h2>
        <div>

          <div>
            <p>Currently incarcerated (2.3M)</p>
          </div>

          <div>
            <p>Will be incarcerated this year (4.9M)</p>
          </div>

          <div>
            <p>Alive currently, will go to prison ever (10.9M)</p>
          </div>

          <div>
            <p>Has a criminal record (77M)</p>
          </div>

          <div>
            <p>Ever had an immediate family member incarcerated (113M)</p>
          </div>

        </div>
      </div>
    </div>

    <div>
      <p>Almost no one gets a trial.</p>
    </div>

    <div>
      <p><img src="https://mkorostoff.github.io/incarceration-in-real-numbers/img/person/blue.svg">Notice that the background icons have changed. The blue icons are the portion of incarcerated people who got trials, around 2%.</p>
    </div>

    <div>
      <p>Almost all accused people are extorted into taking plea bargains under the threat of a longer sentence, the ruinous cost of mounting a defense, and the wildly under-resourced public defender system. [<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#plea-bargains" target="_blank"></a>]</p>
    </div>

    <div>
      <p>No other country on earth incarcerates so many people without trial. ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mkorostoff.github.io/incarceration-in-real-numbers/">https://mkorostoff.github.io/incarceration-in-real-numbers/</a></em></p>]]>
            </description>
            <link>https://mkorostoff.github.io/incarceration-in-real-numbers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485820</guid>
            <pubDate>Sun, 20 Dec 2020 12:32:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meritocracies Are Unfair ‚Äì and That's the Point]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 98 (<a href="https://news.ycombinator.com/item?id=25485766">thread link</a>) | @whack
<br/>
December 20, 2020 | https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/ | <a href="https://web.archive.org/web/*/https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<figure><a href="https://en.as.com/en/2020/04/13/other_sports/1586800170_771249.html" target="_blank"><img data-attachment-id="1212" data-permalink="https://outlookzen.com/bolt/" data-orig-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg" data-orig-size="1242,1114" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bolt" data-image-description="" data-medium-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300" data-large-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" src="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" alt="" srcset="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024 1024w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=150 150w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300 300w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=768 768w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg 1242w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>When your father suffers a heart attack and needs emergency surgery, who would you rather have operating on him?</p>



<p>An inspiring doctor who lost an arm in a tragic car accident, and still heroically manages to attain an average level of success as a surgeon?<br>Or the son of a multimillionaire who has breezed through life with minimal setbacks, and boasts one of the best surgical track records?</p>



<hr>



<p>There is a common perception that a meritocracy is the most fair way to run society. That because we are avoiding bias and favoritism and picking candidates purely based on their capabilities and achievements, a meritocratic system is the most fair of all.&nbsp;</p>



<p>Such a belief is hogwash. There‚Äôs nothing ‚Äúfair‚Äù about not selecting the surgeon who lost his arm in a car accident, and is now trying desperately to hold on to his career. There‚Äôs nothing fair about the fact that some people are born into good circumstances which confer a tremendous headstart in life. There‚Äôs nothing fair about the fact that so many of society‚Äôs most accomplished individuals grew up in upper-middle-class families that nurtured them, raised them well, and gave them access to highly regarded schools and teachers.</p>



<p>A meritocracy never was, and never will be, ‚Äúfair‚Äù. <strong>And that‚Äôs the whole point.</strong></p>



<p>The reason meritocracies work so well, is not because they are fair, but because they produce peak performance.</p>



<p>NFL teams draft the ‚Äúbest‚Äù players they can find, because they know that‚Äôs how they can win the most games. Universities grant tenure to the most productive professors, because that will best enhance the University‚Äôs reputation, and further the frontiers of knowledge. Hospitals hire the best doctors, because they can save the most lives.&nbsp;</p>



<p>Hiring people who are ‚Äúgood enough‚Äù is simply not good enough. There has never been, and never will be, a team that won the world cup by selecting players who are ‚Äúgood enough.‚Äù And what‚Äôs true for a kid‚Äôs game, is doubly true for our society. A society should delegate its jobs to those who are smartest, most capable, and most accomplished in that field. Because they are the ones who can best lead society through the worldly challenges we face everyday. Corrupting this process by discriminating on the basis of family ties, personal friendships, wealth, race, or gender, is simply cutting your nose to spite your face.</p>



<p>Which is not to say that ‚Äúfairness‚Äù and Social Justice isn‚Äôt important. It is vital. But you don‚Äôt get to it by hiring less qualified candidates. By turning down the best possible candidate in favor of someone who is more sympathetic and ‚Äúgood enough‚Äù. A meritocracy excels at producing wealth and economic prosperity. Universal basic income, universal healthcare, unemployment insurance, better public schooling and free job trainings‚Ä¶ these are the kind of Social Justice programs that can share the resulting prosperity among everyone.</p>



<p>Social justice teaches us how to distribute the pie fairly, so that no one is left behind. This is absolutely essential, and something we should always keep in mind. But social justice doesn‚Äôt have all the answers on how to grow the pie in the first place. And unless we harness the power of a meritocracy to keep the pie growing, we will all soon be fighting over scraps.</p>



<hr>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=25485766" target="_blank"><em>Discussion thread on HackerNews</em></a></p>



<p><em><strong>Addendum</strong>: This article‚Äôs thesis is that we should select/hire candidates who will perform best in the role, regardless of their personal circumstances. Many have mentioned that traditional methods of assessment may be flawed, incomplete, or biased. In accordance with the thesis, we should certainly strive to refine our assessment methods, and continually make them more accurate. This article is certainly not stating that current methods of assessment are perfect.</em></p>



<p><em>Many have also brought up the point that personal circumstances often do impact job performance. For example, <a rel="noreferrer noopener" href="https://www.gsb.stanford.edu/insights/diversity-work-group-performance" target="_blank">some studies have suggested that diverse teams perform better than homogenous teams</a>, especially in certain job roles. If you are an ardent believer in improving team performance, this would mean taking into account any demographic info that would help the organization perform better. This is also a double-edged sword for a couple reasons:<br>1. By legalizing the use of race or gender as a factor in hiring decisions, you would also be enabling prejudiced employers who discriminate against women or minorities, for purely bigoted reasons<br>2. <a rel="noreferrer noopener" href="https://archive.boston.com/news/globe/ideas/articles/2007/08/05/the_downside_of_diversity/" target="_blank">Studies have also found that communities operate better in some ways, when they are more homogenous</a>. If more such studies are unearthed in future, the same reasoning above could be used to justify discriminating against all women and people of color. Something most of us, including myself, would consider to be dystopian.</em></p>
	</div><div>
				<p><strong>Published</strong>
			<time datetime="2020-12-20T07:05:42-05:00">December 20, 2020</time><time datetime="2020-12-21T08:16:07-05:00">December 21, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485766</guid>
            <pubDate>Sun, 20 Dec 2020 12:19:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Efficient Navigation in Vim]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485636">thread link</a>) | @gauchojs
<br/>
December 20, 2020 | https://blog.bespinian.io/posts/efficient-navigation-in-vim/ | <a href="https://web.archive.org/web/*/https://blog.bespinian.io/posts/efficient-navigation-in-vim/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>When editing a file, it is quite crucial that you can navigate your cursor around rather quickly. <a href="https://www.vim.org/">Vim</a> and <a href="https://neovim.io/">NeoVim</a> allow for many different ways of doing so which, depending on the situation, can be more or less efficient and useful. This article examines the different ways of moving the cursor and compares them. Here, the term ‚Äúefficiency‚Äù refers to navigating the cursor with as little time and effort (i.e. the number of keystrokes) as possible.</p>
<h2 id="using-the-mouse">Using the Mouse</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Using the mouse pointer to navigate Vim may seem like an obvious choice for users coming from a GUI editor like <a href="https://code.visualstudio.com/">Visual Studio Code</a> or similar. However, in Vim, the goal is to keep your fingers on the ‚Äúhome row‚Äù of the keyboard (the row where the <code>F</code> and the <code>J</code> keys reside) and not having to move them greatly towards the touchpad or even the mouse. This should reduce the strain on your hands and wrists and make editing more efficient. Therefore, navigating with the mouse should be highly discouraged in most situations and is even disabled by default.</p>
<p>It can be helpful to enable it for users transitioning from one of the aforementioned editors who would like to have a smooth transition by allowing themselves to use the mouse initially and switching it back off again later in their learning journey. To turn on mouse navigation, add the following to your configuration file (either <code>~/.vimrc</code> or <code>~/.config/nvim/init.vim</code>):</p>
<div><pre><code data-lang="vim"><span>" Temporarily enable mouse support</span><span>
</span><span></span><span>set</span> <span>mouse</span>=<span>a</span><span>
</span></code></pre></div><p>This will allow you to point and click to move the cursor and to scroll through the current buffer.</p>
<h2 id="using-the-arrow-keys">Using the Arrow Keys</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Again, for users used to other text editors or even word processing software like <a href="https://www.libreoffice.org/discover/writer/">LibreOffice Writer</a>, it may be tempting to use what they know. In these programs, you mostly use the arrow keys for keyboard-based navigation. This is not recommended because‚Ä¶ you guessed it: They require the user to move their fingers away from the home row.</p>
<p>The alternative is, as described in the next section, to use the <code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> keys on the keyboard which are conveniently placed at the center and where you most likely have your fingers most of the time.</p>
<h2 id="using-hjkl">Using h,j,k,l</h2>
<p><strong>TL;DR: Use for small navigations. Use in combination with relative line numbers.</strong></p>
<p><code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> are the basic movement keys in Vim. They should be used instead of the usual arrow keys on the keyboard to, as discussed above, keep your fingers on the home row as much as possible. It takes a little practice but will pay off in the long run.</p>
<p>One hugely important thing to do with these keys is to not press them multiple times in sequence or even hold them down to move several columns or rows. As with many commands in Vim, they can be prefixed with numbers to move multiple times. For example, <code>12j</code> can be used rather than pressing the <code>j</code> key twelve times which is, obviously, much more efficient (3 vs. 12 keystrokes). However, it is recommendable to only use these keys for small movements and mostly to move lines up or down because there are more efficient ways of moving longer vertical distances or horizontal distances in general.</p>
<p>It can be very useful to enable relative line numbers to see at a glance what number to prefix <code>j</code> or <code>k</code> with to move to a certain line. They can be enabled by adding the following two lines to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Enable relative line numbers</span><span>
</span><span></span><span>set</span> <span>relativenumber</span><span>
</span><span></span><span>set</span> <span>number</span><span>
</span></code></pre></div><p>This will always show the absolute number of the line the cursor is currently on and relative numbers for all others.</p>
<h2 id="navigation-within-a-line">Navigation Within a Line</h2>
<p><strong>TL;DR: Mostly use <code>f</code>. Also consider <code>w</code>,<code>b</code>,<code>e</code>,<code>^</code> and <code>$</code>.</strong></p>
<p>So far, we‚Äôve mostly looked at navigating from one line to another. The next step is to navigate within a line. In many cases, the straight forward thing to do is to use <code>w</code> or <code>W</code> to move to the next word, <code>b</code> or <code>B</code> to move to the previous word or even <code>e</code> or <code>E</code> to move directly to the end of the next word. For all of them, the lowercase variant considers a ‚Äúword‚Äù to be what we intuitively see as one using delimiters like <code>-</code>, <code>/</code> or <code>.</code> to separate one word from another. The uppercase variant considers anything a word that is delimited by whitespace. Obviously, any of these commands can be prefixed with a number to jump multiple words in one go (e.g. <code>7w</code>). Other useful commands are <code>^</code> which moves to the first non-whitespace character of the line and <code>$</code> to move to the last character of a line. Considering the following line</p>
<p>with the cursor currently on the <code>g</code> character, pressing the following commands is the most efficient way to get to a specific target character:</p>
<table>
<thead>
<tr>
<th>Target Character</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>j</code></td>
<td><code>2w</code></td>
</tr>
<tr>
<td><code>m</code></td>
<td><code>W</code></td>
</tr>
<tr>
<td><code>d</code></td>
<td><code>B</code></td>
</tr>
<tr>
<td><code>i</code></td>
<td><code>e</code></td>
</tr>
<tr>
<td><code>l</code></td>
<td><code>E</code></td>
</tr>
<tr>
<td><code>a</code></td>
<td><code>^</code> or <code>0</code></td>
</tr>
<tr>
<td><code>o</code></td>
<td><code>$</code></td>
</tr>
</tbody>
</table>
<p>When moving multiple words back and forth or to a specific place within a word, <code>t</code> and <code>f</code> are incredibly helpful. Especially <code>f</code> moves to the next occurrence of a specific character which lets you make big jumps within a line. The difference is that <code>f</code> moves to a character and <code>t</code> moves to right before a character. So <code>t</code> is mostly useful for deleting everything to a character. These commands' uppercase variants <code>F</code> and <code>T</code> do the same thing but backwards. All of these commands can be ‚Äúrepeated‚Äù with the <code>;</code> command which jumps to the next occurrence of the targeted character while <code>,</code> jumps to the previous one.</p>
<p>Another command worth mentioning at this point is <code>%</code> which you can use when a character which is part of a pair (e.g. <code>[</code> or <code>}</code>) is currently under your cursor. The <code>%</code> command will take the cursor to the corresponding ‚Äúpartner‚Äù of that character in the pair. So placing the cursor on a <code>(</code> and then executing this command will take you to its closing <code>)</code>.</p>
<h2 id="changelist-and-jumplist">Changelist and Jumplist</h2>
<p><strong>TL;DR: Use <code>ctrl+o</code> and <code>ctrl+i</code> to jump ‚Äúback‚Äù and ‚Äúforward‚Äù. Use <code>g;</code> to jump to last edit.</strong></p>
<p>The jumplist contains all the points in any buffer you recently jumped to (e.g. with <code>12j</code>). It can be accessed with <code>:jumps</code>. The commands to jump back and forth in the jumplist are <code>ctrl+o</code> and <code>ctrl+i</code> respectively. They can be very useful because they act like the ‚Äúback‚Äù and ‚Äúforward‚Äù buttons in a web browser.</p>
<p>The changelist on the other hand contains all the points in the current buffer where you have recently changed something. It can be accessed with the <code>:changes</code> command. A very useful command here is <code>g;</code> which jumps to the last place where you have changed something (i.e. jumps back in the changelist). <code>g,</code> on the other hand takes you back to where you were before (i.e. jumps forward in the changelist). This allows you to easily switch back and forth between a point of reference (e.g. some documentation) and the place where you are currently editing.</p>
<h2 id="search">Search</h2>
<p><strong>TL;DR: Great for moving larger distances vertically and horizontally</strong></p>
<p>By far one of the most efficient ways of moving longer distances horizontally and vertically in a buffer is to use the search. The <code>/</code> key lets you search for a term and conveniently jump to its location. Pressing the <code>n</code> and <code>N</code> keys jumps to the next and previous occurrence of the search term respectively. The <code>?</code> key searches backwards from the current cursor position (which inverts <code>n</code> and <code>N</code>). Even though, the main purpose of the search command is obviously to search, it is an incredibly powerful tool to navigate quickly and efficiently.</p>
<p>The user experience of the search command can be vastly improved by adding the following settings to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Incrementally search while typing</span><span>
</span><span></span><span>set</span> <span>incsearch</span><span>
</span><span></span><span>" Use smart case for searching</span><span>
</span><span></span><span>set</span> <span>ignorecase</span><span>
</span><span></span><span>set</span> <span>smartcase</span><span>
</span><span></span><span>" Highlight searches</span><span>
</span><span></span><span>set</span> <span>hlsearch</span><span>
</span><span></span><span>" Use &lt;C-L&gt; to clear the highlighting of :set hlsearch.</span><span>
</span><span></span><span>if</span> <span>maparg</span>(<span>'&lt;C-L&gt;'</span>, <span>'n'</span>) ==# <span>''</span><span>
</span><span></span>  <span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>C</span>-<span>L</span>&gt; :<span>nohlsearch</span>&lt;<span>C</span>-<span>R</span>&gt;=<span>has</span>(<span>'diff'</span>)?<span>'&lt;Bar&gt;diffupdate'</span>:<span>''</span>&lt;<span>CR</span>&gt;&lt;<span>CR</span>&gt;&lt;<span>C</span>-<span>L</span>&gt;<span>
</span><span></span><span>endif</span><span>
</span></code></pre></div><p><code>incsearch</code> will make sure that the search pattern is applied incrementally while typing instead of only after pressing the enter key. The combination of <code>ignorecase</code> and <code>smartcase</code> ignores the case of the search term when not using any uppercase letters and doesn‚Äôt ignore it when using at least one uppercase letter which is quite convenient and surprisingly intuitive. <code>hlsearch</code> highlights any matches for the search term allowing to easily jump between them using <code>n</code> and <code>N</code>. The last statement lets you clear the highlighted search results by pressing <code>ctrl+l</code> to unclutter your view once done searching and jumping.</p>
<p>All in all, search is one of the most powerful tools for intuitive and efficient navigation. It covers the common use case of knowing the word or part of a word to navigate to but not having your eyes directly pointed there yet. Furthermore, it‚Äôs simply the fastest way of jumping somewhere in many cases and beats other methods of navigation quite often in that regard.</p>
<h2 id="clunky-movements">Clunky Movements</h2>
<p><strong>TL;DR: Use for very specific use cases only. Consider <code>gg</code> and <code>G</code> for getting to know a file.</strong></p>
<p>In this section we‚Äôll discuss what can be referred to as ‚Äúclunky movements‚Äù. They let the user navigate larger distances in the buffer while sacrificing precision. These commands are less useful for exactly that reason. Vim can be a very efficient text editor by letting the user think about what they want to change, jumping precisely there with very few keystrokes, entering insert mode, performing a change with scalpel-like precision and finally exiting insert mode as soon as it‚Äôs done. The movement commands in this section however, get the cursor around the document as a whole while it‚Äôs hard for the user to predict at a glance, which line and column exactly they will land on.</p>
<p>A good example are the <code>H</code>, <code>M</code> and <code>L</code> keys which take the cursor to the top, the middle or the bottom of the current view port respectively. While this is a very big movement with just one keystroke, it‚Äôs highly likely that they won‚Äôt exactly get the cursor to the line needed but rather will have to be accompanied by pressing <code>j</code> or <code>k</code> multiple times which will result in much more thinking and many more keystrokes than what can be achieved with other methods. Similar are the <code>{</code> and <code>}</code> keys which take the cursor to the next paragraph (a block of text delimited by blank lines).</p>
<p>A useful exception to that are the <code>gg</code> and <code>G</code> commands which take the cursor to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.bespinian.io/posts/efficient-navigation-in-vim/">https://blog.bespinian.io/posts/efficient-navigation-in-vim/</a></em></p>]]>
            </description>
            <link>https://blog.bespinian.io/posts/efficient-navigation-in-vim/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485636</guid>
            <pubDate>Sun, 20 Dec 2020 11:51:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A CAN protocol decoder for Sigrok]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485444">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://kentindell.github.io/2020/12/19/can2-decoder/ | <a href="https://web.archive.org/web/*/https://kentindell.github.io/2020/12/19/can2-decoder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I said in my <a href="http://127.0.0.1:4000/blog/2020/10/25/canframe_py_tool/">previous blog post</a> that
‚ÄúMy next goal is to create a
GTKWave filter so that an arbitrary waveform can be decoded‚Äù and in an early
Christmas present to those who are into the CAN protocol, I‚Äôve done that!
But I‚Äôve done even better and I therefore present to you <strong>the new CAN
protocol decoder</strong> for the Sigrok project.</p>

<p>First, a quick summary of <a href="https://sigrok.org/">Sigrok</a>:
it‚Äôs a set of drivers and tools that
provide a desktop oscilloscope / logic analyzer UI for many, many different
instruments (from Siglent, Rigol and others). The UI runs on
Mac, Windows and Linux (and others) and the GUI is called PulseView (there‚Äôs
also a command-line tool for batch decoding, useful for an automated test
environment). 
PulseView has an API for protocol decoders, and I‚Äôve wrtten one for CAN: it‚Äôs called <code>can2</code>.</p>

<p>A couple of quick bear trap warnings for using PulseView before I
talk about <code>can2</code>:</p>

<ul>
  <li>Don‚Äôt use the Sigrok package that comes with your Linux distro: it‚Äôs very
likely to be too old and there have been lots of changed; download binaries directly.</li>
  <li>If importing a VCD file make sure the Downsampling factor is set so that the logic analyzer sample period is no more than about 1ns. If you don‚Äôt and you feed it a VCD that came from a simulator that used 1ps steps then your PC is going to spinning up its fans for a long time!</li>
</ul>

<p>OK, back to the protocol decoder it can be installed by
copying the directory <code>can2</code> (containing two Python files) into
the directory (on Linux) <code>~/.local/share/libsigrokdecode/decoders</code>.</p>

<p>The decoder appears in the decoders list as ‚ÄúCAN 2.0‚Äù and it requires just one
input: the CAN RX line (from the RX pin of a CAN transceiver).
The options include the sampling point (default 75%) and the bit rate
(default 500kbit/sec).</p>

<p>When the decoder is applied to a CAN signal on it 
then then the output is like this:</p>

<p><img src="https://kentindell.github.io/assets/pulseview1.png" alt="PulseView screenshot"></p>

<p>The top row of the decoder output (‚ÄúCAN 2.0: Bits‚Äù) shows the CAN bits
(regular and stuff bits). A tooltip will
appear giving the bit value if the mouse pointer is hovered over the bit
(PulseView automatically displays the information it can in the space available
at a given zoom level).</p>

<p>The next row shows the CAN fields: the first bit is SOF (Start of Frame),
the next is the 11-bit ID, and so on. A frame ends with the IFS field.
Two other states are not shown: Bus Integration (where the decoder is syncing
to the CAN signal from a reset state) and Idle (where nothing is happening).</p>

<p>The third row shows the full CAN ID (if the frame is an extended frame -
i.e. IDE=1 - then there is a second 18-bit field, and the ID is then
29 bits long). The row also shows the payload decoded into individual bytes.</p>

<p>The fourth row is the really interesting one: it shows information about
the CAN frame. In the screenshot, it displays an ‚ÄúE‚Äù to indicate an
error flag. The tooltip says ‚ÄúForm error‚Äù, which means that the field
contains the wrong value: it is read as a dominant (0) bit and it should
be recessive (1). This is an indication of an error, and the decoder
shows that the subsequent bits are an Error Flag followed by an Error
Delimiter, and then IFS again.</p>

<p>The info row also shows other interesting events, including:</p>

<ul>
  <li>When the frame has been received OK (i.e. second to last bit of EOF)</li>
  <li>When the frame has been transmitted OK (i.e. last bit of EOF)</li>
  <li>If there is an ACK error (i.e. the ACK bit is not 0)</li>
  <li>If the received CRC doesn‚Äôt match the calculated CRC (the protocol decoder
keeps track of the expected CRC value)</li>
  <li>If there is a ‚Äòdouble receive‚Äô (i.e. there is an error after the frame
has been received OK but before the frame has been transmitted OK)</li>
  <li>If there is an overload rather than an error. Modern CAN controllers should
never generate overload frames so to see one means that something odd is
going on. To see two in a row means something <em>very</em> odd is going on.</li>
</ul>

<p>The last two are symptoms of protocol attacks: the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Double Receive Attack</a>
and the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Freeze Doom Loop Attack</a>. 
The <a href="https://github.com/kentindell/canhack">CANHack toolkit</a> can actually
generate these attacks (and a whole bunch of other attacks)
and so the <code>can2</code> protocol decoder is a good starting
point if an attack on the CAN bus is suspected.</p>

<p>The CAN Double Receive problem isn‚Äôt just a symptom of an attack: it can 
happen for real, and is a consequence of CAN‚Äôs
amazingly useful <a href="http://127.0.0.1:4000/2020/07/11/can-atomic-multicast/">atomic broadcast</a> property (very few
communications protocols provide this and it‚Äôs an essential building block
for robust mission-critical applications). So my top
tip for anyone building a CAN-based application: for any frame that includes
event-based data (like a command) then include a sequence number (it can
be just one bit) so that duplicates can be detected and discarded. Doing
this doesn‚Äôt just fix a wrinkle in the protocol, it also defends against
the Double Receive Attack.</p>

<p>Finally, a couple of things about the decoder. It doesn‚Äôt implement the
CAN time quanta bit sampling scheme (where sync is limited by the SJW
parameter) but it does implement the sync rules (in particular, glitches after
a bit is sampled as 0 are ignored). Also, <code>can2</code> goes into
Bus Integration if it samples the CAN r0 bit as recessive, which means that
CAN FD frames are ignored and skipped over rather than causing the decoder
to get scrambled (incidentally, this is why CAN FD can‚Äôt share a bus with
classic CAN 2.0 controllers).</p>

<p>Oh, one last thing: anyone wanting a GTKWave filter for CAN could use this
<a href="https://gist.github.com/smunaut/4239a17ea116d5ddfdaecad381f712e9#file-gtkwave-sigrok-filter-py">neat little tool</a> to turn the <code>can2</code> Sigrok decoder into exactly that.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://kentindell.github.io/2020/12/19/can2-decoder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485444</guid>
            <pubDate>Sun, 20 Dec 2020 11:10:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raspberry Pi Server Mark III]]>
            </title>
            <description>
<![CDATA[
Score 311 | Comments 155 (<a href="https://news.ycombinator.com/item?id=25485428">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/ | <a href="https://web.archive.org/web/*/https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-597">
								
				<div>
					
<figure><img loading="lazy" width="1024" height="681" src="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg" alt="" srcset="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg 1024w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-300x200.jpg 300w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-768x511.jpg 768w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1536x1022.jpg 1536w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0.jpg 1669w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Raspberry Pi Rack Server Mark I –∏ Mark II have been working pretty nice for 6 month already. Both of them are based on a model which I found on <a href="https://thingiverse.com/" data-type="URL" data-id="https://thingiverse.com">thingiverse.com</a> and inherited the basic design idea.</p>



<p>With Mark III, I completely rethought the design, which allowed to:</p>



<ul><li>increase the number of raspberries in 2 rack units</li><li>significantly reduce printing time and plastic consumption</li><li>significantly reduce the time required for assembling and disassembling the server</li><li>reduce the number of parts</li><li>implement a modular design, which means that MARK III will be available in various modifications</li></ul>



<p>I‚Äôm glad to present the first basic model, designed for 14x of Raspberry Pi and 14x of a standard 2.5‚Ä≥ SSD.</p>



<p>BTW I will be glad if you subscribe to my instagram <a rel="noreferrer noopener" href="https://www.instagram.com/uptime.lab/" target="_blank">instagram.com/uptime.lab</a> your feedback and likes are very important for me!</p>










<figure><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer"><img loading="lazy" width="179" height="82" src="https://uplab.pro/wp-content/uploads/2020/10/image-1.png" alt=""></a></figure>



<p>Printing recommendations:</p>



<ul><li>layer height 0.15mm</li><li>wall thickness &nbsp;0.6mm</li><li>no supports</li><li>horizontal expansion &nbsp;-0.1mm</li><li>without a skirt&nbsp;&nbsp;</li></ul>



<p>Please print one Tray and one Body part first and have a look at how they fit each other, as well as how it works with Raspberry Pi and your SSD.</p>



<p>Screws and other parts:</p>



<ul id="block-9f0674bd-8795-4e10-ada2-1c682dcbc328"><li>Set of 5 fans <a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B00NTUJZ36" target="_blank">Arctic F8 Value Pack, ACFAN0 0061 A</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨17.60 incl. VAT</strong></li><li>Power supply for fans&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B07MJQ8K4P" target="_blank">12V2A 7Tipps</a>&nbsp;‚Äì&nbsp;<strong>EUR 13.99 incl. VAT</strong></li><li>Adapter with 1 to 6 fans. Cutting off the extra one turns out perfect for my purposes&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B003UU6EQQ" target="_blank">L√ºfter Adapterkabel 3Pin auf 6x 3Pin Molex (6x15cm)</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨4.40 incl. VAT</strong></li><li>Screws for fans M4 12mm 10 pcs. with nuts</li><li>Threaded rod M5 ~452mm &nbsp;2 pcs. and 4pcs nuts M5</li><li>20 screws for fans for plastic (usually come with fans) Like that <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/StarTech-com-Case-Fan-Screws-Pack/dp/B0002AFTD6" target="_blank">StarTech.com PC Case Fan Screws (Pack of 50)</a></li><li>In case you don‚Äôt use original PoE hat you additionally need 2x M2.5 with M2.5 nut for each Raspberry</li><li>2pcs. M3 ~5mm for each SSD. Like <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/Poppstar-Hard-Drive-Screws-Drives/dp/B01HBRG3W8/ref=sr_1_7?__mk_de_DE=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;dchild=1&amp;keywords=m3+ssd+schraube&amp;qid=1608385770&amp;sr=8-7" target="_blank">Poppstar Hard Drive Screws for 3.5 Inch or 2.5 Inch Hard Drives Set of 50</a></li><li>SATA Cable Adapter, USB 3.0 to SSD&nbsp;(you don‚Äôt need model faster). Like <a href="https://www.amazon.de/-/en/Sabrent-2-5-inch-Optimized-Supports-EC-SSHD/dp/B011M8YACM/" target="_blank" rel="noreferrer noopener">Sabrent SATA Cable Adapter, USB 3.0 to SSD / 2.5-inch SATA Hard Drive Adapter</a></li></ul>




			
				</div><!-- end .entry-content -->
							</article></div>]]>
            </description>
            <link>https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485428</guid>
            <pubDate>Sun, 20 Dec 2020 11:08:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Federation and its consequences have been a disaster for the fediverse]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485368">thread link</a>) | @jblfan
<br/>
December 20, 2020 | https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>&gt; 1194 words, 32 paragraphs, about 4 minutes to read (300 wpm).</p><p>&gt; First published on 2020-11-16.</p><p>&gt; This article has been loaded 2320 times.</p><p>This post will require a lot of in-knowledge to understand. It's okay if you have no idea what I'm talking about.</p><div><p><span> ##</span></p><h2>The supposed differences of the fediverse</h2></div><p>When someone tries to explain the fediverse to someone who doesn't know what it is, chances are they'll be saying that it's like traditional corporate social media, but with these differences:</p><div><ul><li>open source</li><li>federated (and what that means)</li><li>lots of LGBT people on it</li></ul></div><div><p><span> ##</span></p><h2>The real similarities of the fediverse</h2></div><p>Those things are true. But I don't believe they make a difference to how people interact with the site on a fundamental level.</p><p>What do you do on Twitter Dot Com? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them. What do you do on the fediverse? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them.</p><p>It's the same feedback loop and it creates a very similar feel and environment. After all, that loop is exactly what Mastodon and Pleroma were designed to replicate.</p><p>Federation is touted as a good thing which splits users into separate communities organised by topics. Communities then have to try a little harder to reach across to each other. It's never stated, but the implication is that there's a whole spectrum and variety of communities, and that they're somehow equal in some kind of democratic society.</p><p>In reality, what happens is that 5 very different, distinct, and clearly identifiable varieties of communities emerge. Please see my diagram:</p><p>(Despite the assumptions one might make from the "political compass" format, these are distinct quadrants with solid borders, not sliding scales across the lines.)</p><p>(That chart does not include the 5th segment on it. The 5th segment is the centrists. My commentary about them wouldn't fit in the space.)</p><p>The centrists just use the social media as a social media. They talk about themselves, and others, and what they saw on the news. They don't get involved with the drama between the quadrants. They're likely blissfully unaware of it. They just want to grill for god's sake.</p><p>It's a simple life, and in my opinion, one to be envied.</p><p>In the red zone, we have the likes of hellsite.site, who post more about the network itself and engaging in blocking warfare against the latest suspicious user and the latest suspicious site, than actually making posts and using the social media for a reason.</p><p>Let me try to put this another way. They're trying to create a safe space online, which is a laudable goal. I can appreciate a safe space. But the problem is that they're so focused on trying to curate the perfect social media that they haven't thought about what they're going to do once they actually manage to create that space. They're too caught up in the inter-site hellscape. And if the only thing that they post about is commentary on drama from the spaces they're excluding... is it really a safe space, if the war is the only thing visible?</p><p>Of course, the social media utopia that they aim for will never exist. Blocking sites doesn't work: there will always be something more to block. Instance allowlists get closer, but they'll still never be perfect. There will always be that one user on that one site that did something bad and now everyone hates them. But they're part of an allowed site. Can't get rid of them entirely. What to do? Ah yes, aggressively subpost about them on your timeline. _That'll_ solve the problem! Finally: a safe space!</p><p>While this war continues, there will never be anything but the war to post about. They are fighting for nothing. If they win, which won't happen, it would just be over. The reason they exist would have ended. They are fighting because they exist to fight.</p><p>The red zone is a very tiring existence, and I'm pleased to be rid of it.</p><p>In the purple zone, the only fucking thing they know is technology and "freedom". Christ. How awful.</p><p>Obviously the blue zone is abhorrent.</p><p>The left quadrant is where I find myself nowadays.</p><p>If you run a fediverse site that other people can join as members, then there are exactly two reasons to blanket block another site for all your members.</p><div><ul><li>At least 2 users on the other site are harassing at least 2 of your own members, and the moderators on the other site are not helping.</li><li>Or, the site is dedicated to hosting hate speech.</li></ul></div><p>Otherwise... what's the point?</p><p>The thing is that many things make up a fediverse site.</p><div><ul><li>The site's rules</li><li>The moderators</li><li>The people on it</li></ul></div><p>The people and their behaviour is the most important aspect of any site. If you as a moderator are considering blocking a site, what you are doing is depriving your members of the choice of who to interact with. Mastodon has powerful controls in the hands of the users. Users can block people, users can block entire sites. They can do this themselves. They don't need you to do it for them - unless there's a bigger problem of uncontrolled harassment.</p><p>Uncontrolled harassment is the only use case for a domain block. Did you see one specific person on another site who is being annoying or has really terrible takes? Of course, we've all seen that one person. But WHO THE FUCK CARES. If they aren't specifically being annoying at your members, just live and let live. They can exist in their own world. You don't need to care about them. If they're being specifically annoying at one of your members, then choosing how to interact - or not - should be in the hands of the member, not you.</p><p>You don't need to play god with what your members see. It's the internet. It's a scary place. We all know about that, and we can deal with it ourselves. The only way to make a truly safe space is to close federation and have approved _membership_, and vet individual _people_ before inviting them. In other words, a classic forum, or if you prefer real-time communication, a chatroom. Is this what you want? Then make it, instead of trying to make the fediverse fit your whims.</p><p>It's all so tiring and I'm sick of it.</p><p>Hopefully you can now understand why I block people on sight who post meta drama or block commentary. My life has been much improved for it.</p><p>I'll still recommend the fediverse to other people looking for a new social media to join, but I'll try to direct them into "centrist" spaces rather than the spaces I ended up in, because the discourse and effort of the red zone is not fucking worth the zero upsides it brings.</p><p>If I ever get the desire to create my own social media platform, I'm making a fucking medieval castle social media, which will probably be called Castledon.</p><p>---</p><p>&gt; No replies yet.</p><p>---</p><p>Looking for more?</p></div>
		</div></div>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485368</guid>
            <pubDate>Sun, 20 Dec 2020 10:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Increasing the productivity of yourself and your team]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484908">thread link</a>) | @r0rshrk
<br/>
December 20, 2020 | https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure id="w-node-8ad322b2e409-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5fdef365db8935cbdaab25b0_pexels-fauxels-3184422.jpg" loading="lazy" alt=""></p></figure><p>In the past 3 months of working on <a href="http://delightchat.io/" target="_blank">delightchat.io</a>, this week was the only week where we managed to hit our deadlines exactly as planned. So I decided to dissect this further and tried to understand what we did right this time that we kept missing in the past few weeks.<br></p><p>On Dwelling deeper I found a few things that seemed to have really helped. The include</p><ul role="list"><li>Breaking up a week into simple and complex tasks.</li><li>Breaking up your day into time slots.<br></li></ul><h3><strong>Breaking up a week into simple and complex tasks.</strong><br></h3><p>After speaking to <a href="https://akash.substack.com/" target="_blank">our founding engineer Akash</a>, I realised something which should have been very obvious but somehow slipped past me. In the past few weeks we have been trying to knock off as many difficult tasks as possible, and by difficult I mean the tasks that had many unknowns and the quantum of work required to finish them was not really predictable. The idea behind this was that if we finished these types of tasks first, we could do the easy and predictable tasks at any point of time.<br></p><p>Turns out that this was not the correct way to approach things. In order to boost the morale of the team, there needed to be a few tasks which did not have any unknowns and therefore an ETA can be accurately established. As a result of this, finishing these tasks early in the week gives a feeling of achievement and fuels the desire to get more done in the remaining days of the week.<br></p><p>After this initial boost in morale, a complex task which requires a lot of research and deeper thinking can be undertaken more easily and confidently. This seemed to be the key to meeting our deadline for the week. We had two easy and predictable tasks this week that got done in two days. Post that Akash took up one complex task which took the remainder of the week.<br></p><h3><strong>Breaking up your day into time slots.</strong><br></h3><p>As Co-founders, Preetam and I have many things to do including development, meetings, writing content and many miscellaneous ad hoc tasks which come up. If we plan to be productive we would have to apply the above concept not only to the week but to every single day. Preetam suggested to me to divide the day into these 4 parts.<br></p><ul role="list"><li>Distraction free time to undertake complex and high priority tasks.</li><li>Time to complete a few easy tasks which might not be entirely distraction free.</li><li>A buffer time for any ad hoc tasks or meetings that might come up.</li><li>Time to relax<br></li></ul><p>So the full week must be divided into a few easy and a few difficult tasks, but each day within the week must be divided into the above 4 time frames. <br></p><h4><strong>Distraction free time</strong><br></h4><p>If you want to be be devoid of any distractions, you and your team can agree upon a certain period of time during the day where nobody is supposed to message each other on slack or call each other. We tried doing this in the initial stages but it was hard to pull this off because there could be pressing issues that cannot wait till the specified time window is over.<br></p><p>So I decided to change my strategy a little bit and do this during a period where our team is not working or at least is not expected to work. This only left me with 2 options - late night or early morning. I choose early morning because it feels healthier and it really helps to accomplish something early in the day because that will determine your mood for the rest of the day. <br></p><p>A while back I read this article about how the military mandates you to make your bed as soon as you get up and the idea behind it was for you to feel like you finished the first task of your day successfully and the result can be seen in the form of a clean made up bed which sets the tone for your mindset for the rest of the day. The other advantage of this is that if the rest of your day turns out to be bad, at least you can look forward to sleeping on an already clean and made up bed.<br></p><h4><strong>Time to complete easy tasks</strong><br></h4><p>After the early morning period has passed, the team is fully awake and active on slack, so you can no longer expect to be fully distraction free. Which means that the next few tasks that you do must be planned in a way that they do not require too much concentration and are mostly labour intensive. <br></p><p>An example of this is UI development work that involves minimal business logic and mostly assembling of components. This way even if you get distracted, you can context switch and get back into development quite easily. Obviously this is not always possible but one can prioritise their tasks in a way that whatever tasks require the least amount of brain power can be planned during this time frame. <br></p><h4><strong>Buffer time for ad hoc tasks</strong><br></h4><p>There are many such occurrences where a previously defined and agreed upon task can no longer be done in the way that was discussed because some new information has come to light. This may lead to more development or changing of the feature set to accommodate this new information. Either ways this requires your full attention to get through. <br></p><p>There could also be occurrences where a teammate wants to discuss or clarify something with you without which he/she is not able to proceed and therefore his/her time is blocked. This is not something that can be avoided because for the smooth functioning of any team, there must be no blockers or dependencies. <br></p><p>It is therefore important to dedicate some time during the day where you can schedule all of such ad hoc requests. Even if you receive these requests while the other time slots are in progress, you can schedule them for this time slot. <br></p><p>During this time slot you cannot expect to get much work done of your own, but at the same time you can‚Äôt just sit and wait for a teammate to message you about something, so you could use this time to browse the internet for some articles/resources that you always planned to look at for various purposes but never found the time. You could also use this time to work on some backlog tasks that have been pending for a while but lower in the priority list.<br></p><h4><strong>Time to relax</strong><br></h4><p>In my experience, out of all the above time slots, the time spent on ad hoc tasks is the most exhausting due to the amount of context switching needed and the lack of predictability. Therefore it is natural for one to transition from the ad hoc tasks time into relaxing time.<br></p><p>Unfortunately I do not have the luxury of always being able to have some time to relax. There are some days where this particular time slot gets skipped due to the workload but I try to clock in at least 45 minutes a day for a workout which for me counts as time to relax. I also have a hot bath right after my workout which really elevates the experience.<br></p><h3><strong>Closing notes</strong><br></h3><p>It has only been 3 months since Preetam and I started running a team and we are very much still learning. So it is entirely possible that we change our strategy in the coming days to accommodate the workload, the personalities of the new folks who join our team and our product roadmap.<br></p><p>But I feel like regardless of what happens, I can totally see the early morning distraction free time as something that I will continue to adapt for the foreseeable future. The benefits of doing this are too many to ignore. </p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484908</guid>
            <pubDate>Sun, 20 Dec 2020 08:52:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hyperventilate yourself sober ‚Äì new device could help acute alcohol poisoning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484756">thread link</a>) | @tempestn
<br/>
December 20, 2020 | https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The device can significantly reduce the time it takes to bring down a person's blood alcohol level</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5838304.1607718137!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/dr-fisher-demonstrating-clearmate.jpg"></p></div><figcaption>Dr. Joseph Fisher demonstrates the use of the device he developed to help people hyperventilate safely to reduce alcohol poisoning. <!-- --> <!-- -->(UNH)</figcaption></figure><p><span><div><div role="button" tabindex="0" title="Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/38/99/Quirks-640x360.jpg" alt=""></p><p><span>Quirks and Quarks</span><span>7:12</span><span>Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning</span></p></div></div></div></span></p><p><span><p>A Canadian scientist who developed technology to reverse carbon monoxide poisoning by inducing safe hyperventilation has just shown this technology could also work to reduce alcohol poisoning.&nbsp;</p>  <p><a href="http://www.physiology.utoronto.ca/content/joseph-fisher" target="_blank">Dr.&nbsp;Joseph Fisher</a>, a professor of anesthesiology at the University of Toronto and senior scientist at the University Health Network, came up with the device.</p>  <p>He said this technology works for the same reason you can smell alcohol on people's breath: alcohol evaporates out of the blood, into the lungs.</p>  <p>His original thought was that if he could induce patients to increase their amount of breathing, it might help the alcohol evaporate faster.&nbsp;</p>  <p>Hyperventilation is something generally humans try to avoid as it results in dizziness and other unpleasant symptoms.&nbsp; This, said Fisher, is because hyperventilation reduces the level of carbon dioxide in the blood, upsetting our blood chemistry.&nbsp;</p>  <p>The device he developed feeds back some carbon dioxide into the lungs as it forces a person to hyperventilate.&nbsp;</p>  <p>When he tested the device on volunteers who had consumed alcohol, it took only about 40 minutes for them to cut their blood alcohol level in half, which would have taken three to four hours to do at the rate we naturally metabolize alcohol.</p>  <p>Fisher thinks that now that he's shown this device works for alcohol, as well as carbon monoxide, that it could potentially work for any volatile poison.</p>  <p>The <a href="https://www.nature.com/articles/s41598-020-76233-9" target="_blank">study</a> was published in a recent issue of the journal, Scientific Reports.</p>  <p><em>Produced by Sonya Buyting and Mark Crawley. Written by <a href="https://twitter.com/SonyaBuyting" target="_blank">Sonya Buyting</a>.</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484756</guid>
            <pubDate>Sun, 20 Dec 2020 08:12:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a custom iterator in modern C++]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 51 (<a href="https://news.ycombinator.com/item?id=25484444">thread link</a>) | @signa11
<br/>
December 19, 2020 | https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp | <a href="https://web.archive.org/web/*/https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>‚Äî Written by Triangles on December 13, 2020 
								‚Ä¢ updated on December 19, 2020  
								‚Ä¢ ID 86 ‚Äî</p><p>An experimental Forward Iterator written from scratch to boost up hand-made containers.</p><div>
				
<!-- internalpointers responsive -->
<p>An iterator is an object that points to an element inside a container. Like a pointer, an iterator can be used to access the element it points to and can be moved through the content of the container. Each container in the C++ Standard Library provides its own iterator, as well as some methods to retrieve it. Using iterators is quite easy: obtain an instance from a container, move it around where needed and then get the pointed element.</p>
<p>Concretely, an iterator is a simple class that provides a bunch of operators: increment <code>++</code>, dereference <code>*</code> and few others which make it very similar to a pointer and the arithmetic operations you can perform on it. In fact, iterators are a generalization of pointers, which are often used as a foundation when writing the iterator itself.</p>
<p>Iterators are one of the building blocks of the Standard Library containers, but they are also useful when you want to provide the ability to iterate over elements of a custom container that you wrote yourself: this is what I want to investigate in the present article. Adding iterators to your containers will make them compatible with the <a href="https://en.cppreference.com/w/cpp/language/range-for">range-based for loops</a> and the <a href="https://en.cppreference.com/w/cpp/algorithm">C++ Algorithms library</a>: a collection of functions for searching, sorting, counting and manipulating containers, based on iterators.</p>
<h2>A dummy container for our experiments</h2>
<p>Before digging deeper, let's define a silly custom container that we want to spice up with iterators:</p>
<pre><code>class Integers
{
private:
    int m_data[200];
};
</code></pre>
<p>The <code>Integers</code> class is a wrapper around a raw array of <code>int</code>s: we want to be able to access elements of that private array through an iterator, as well as to loop over it or pass it to any of the Standard Library algorithms. Let's start by making some design decisions.</p>
<h2>Choose the nature of our iterator</h2>
<p>The first step is to choose the type of iterator we want to implement. Modern C++ defines six types:</p>
<table>
<thead><tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/InputIterator">Input Iterator</a></strong></td>
<td>Can scan the container forward only once, can't change the value it points to (read-only);</td>
</tr>
<tr>
<td>2</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/OutputIterator">Output Iterator</a></strong></td>
<td>Can scan the container forward only once, can't read the value it points to (write-only);</td>
</tr>
<tr>
<td>3</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ForwardIterator">Forward Iterator</a></strong></td>
<td>Can scan the container forward multiple times, can read and write the value it points to;</td>
</tr>
<tr>
<td>4</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/BidirectionalIterator">Bidirectional Iterator</a></strong></td>
<td>Same as previous one but can scan the container back and forth;</td>
</tr>
<tr>
<td>5</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator">Random Access Iterator</a></strong></td>
<td>Same as previous one but can access the container also non-sequentially (i.e. by jumping around);</td>
</tr>
<tr>
<td>6</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ContiguousIterator">Contiguous Iterator</a></strong></td>
<td>Same as previous one, with the addition that logically adjacent elements are also physically adjacent in memory.</td>
</tr>
</tbody>
</table>
<p>The six categories are hierarchical: a Bidirectional Iterator is also a Forward Iterator and a Random Access Iterator is both a Bidirectional and a Forward Iterator and so on. Normally, all iterators are Input Iterators (1) which makes them read-only, also known as <strong>constant iterators</strong>. Iterators that both support read and write operations are also Output Iterators (2) and are called <strong>mutable iterators</strong>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2020/12/iterators/iterator-hierarchy.png" alt="Iterators hierarchy"></p><p>1. Iterators hierarchy in C++. All iterators are Input Iterators, Output Iterators or both.</p>
</div><p>Input and Output iterators are often used for low-level components such as input and output streams (the so-called <strong>single-pass algorithms</strong>) and thus have limitations. We want to do more with our custom container, so we will skip those two and jump straight to the mutable Forward Iterator.</p>
<h2>Prepare the custom iterator</h2>
<p>An iterator is usually declared inside the class it belongs to, for example:</p>
<pre><code>class Integers
{
public:
    struct Iterator { /* ... */ };

    // ...
};
</code></pre>
<p>The first thing to do is to assign the iterator some properties. Until C++17 this is done by <em>tagging</em> it with the <a href="https://www.fluentcpp.com/2018/04/27/tag-dispatching/"><strong>tag dispatch</strong></a> mechanism, while C++20 uses <strong>concepts</strong>: in this article I will follow the traditional approach.</p>
<p>C++ expects some properties from an iterator:</p>
<ul>
<li><code>iterator_category</code> ‚Äî one of the six iterator categories we have seen above. The full list is available <a href="https://en.cppreference.com/w/cpp/iterator/iterator_tags">here</a>. The <code>std::forward_iterator_tag</code> tag is what we need;</li>
<li><code>difference_type</code> ‚Äî a signed integer type that can be used to identify distance between iterator steps. Our iterator is basically a wrapper around a pointer and leverages pointer arithmetic, so the default <a href="https://en.cppreference.com/w/cpp/types/ptrdiff_t"><code>std::ptrdiff_t</code></a> is a good choice;</li>
<li><code>value_type</code> ‚Äî the type the iterator iterates over. <code>int</code> in our case;</li>
<li><code>pointer</code> ‚Äî defines a pointer to the type iterated over. <code>int*</code> in our case;</li>
<li><code>reference</code> ‚Äî defines a reference to the type iterated over. <code>int&amp;</code> in our case;</li>
</ul>
<p>Translated into code:</p>
<pre><code>#include &lt;iterator&gt; // For std::forward_iterator_tag
#include &lt;cstddef&gt;  // For std::ptrdiff_t

struct Iterator 
{
    using iterator_category = std::forward_iterator_tag;
    using difference_type   = std::ptrdiff_t;
    using value_type        = int;
    using pointer           = int*;  // or also value_type*
    using reference         = int&amp;;  // or also value_type&amp;
};
</code></pre>
<h3>Why are tags useful?</h3>
<p>Some of the tags above might seem useless at first. In fact, you will notice how they will never get mentioned during the definition of our iterator. Tags are used to select the most efficient algorithm if your container is passed to one of the Standard Library functions from the <code>&lt;algorithm&gt;</code> library. Wrong tags mean sub-optimal performance! The iterator category is also used to set algorithm requirements, for example: <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> wants a Forward Iterator, while <a href="https://en.cppreference.com/w/cpp/algorithm/reverse"><code>std::reverse</code></a> wants a Bidirectional Iterator. Passing the wrong iterator will result in a compilation error.</p>
<h2>Define the iterator constructors</h2>
<p>All iterators must be <em>constructible</em>, <em>copy-constructible</em>, <em>copy-assignable</em>, <em>destructible</em> and <em>swappable</em>. Let's translate those requirements into code for our iterator:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    Iterator(pointer ptr) : m_ptr(ptr) {}

private:

    pointer m_ptr;
};
</code></pre>
<p>Easy! We just need a custom constructor to initialize the private member variable <code>m_ptr</code>, which points to an element of the <code>Integers</code> container. The custom constructor satisfies the <em>constructible</em> requirement, while all others are covered by the implicitly-declared constructors and operators kindly provided by the compiler.</p>
<h2>Implement operators</h2>
<p>We are building a mutable Forward Iterator, which inherits properties from both Input and Output Iterators. The resulting iterator must support the following operations:</p>
<ul>
<li><code>*iterator</code> and <code>iterator-&gt;x</code> ‚Äî dereferenceable, to get the value it points to;</li>
<li><code>++iterator</code> and <code>iterator++</code> ‚Äî incrementable, to move it one step forward, both prefix and postfix versions. The latter must return something dereferenceable;</li>
<li><code>iterator_a == iterator_b</code> and <code>iterator_a != iterator_b</code> ‚Äî comparable with another iterator;</li>
</ul>
<p>This is done by implementing some custom operators in the <code>Iterator</code> class, like this:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    // Iterator constructors here...

    reference operator*() const { return *m_ptr; }
    pointer operator-&gt;() { return m_ptr; }

    // Prefix increment
    Iterator&amp; operator++() { m_ptr++; return *this; }  

    // Postfix increment
    Iterator operator++(int) { Iterator tmp = *this; ++(*this); return tmp; }

    friend bool operator== (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr == b.m_ptr; };
    friend bool operator!= (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr != b.m_ptr; };     

private:

    pointer m_ptr;
};
</code></pre>
<p>As you can see every operator involves the usage of the private pointer <code>m_ptr</code>. Also, notice the <code>friend</code> declaration for the two comparison operators: this is handy way to define the operators as non-member functions, yet being able to access private parts of the <code>Iterator</code> class (rationale  <a href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading/4421729#4421729">here</a>).</p>
<h2>Prepare the container</h2>
<p>Our iterator is good to go. The last step is to give our custom container the ability to create <code>Iterator</code> objects. This is done by adding two public methods <code>begin()</code> and <code>end()</code> that return instances of the <code>Iterator</code> class, representing the first and the last element respectively:</p>
<pre><code>class Integers
{
public:

    // Iterator definition here ...

    Iterator begin() { return Iterator(&amp;m_data[0]); }
    Iterator end()   { return Iterator(&amp;m_data[200]); } // 200 is out of bounds
};
</code></pre>
<p>The <code>end()</code> method returns an iterator that refers to an <em>invalid</em> memory address, past the end of our raw array. Such iterator is just a placeholder used to determine when the boundary has been reached: it should never be accessed directly.</p>

<!-- internalpointers responsive -->
<h2>Time to test our iterator</h2>
<p>Both the custom container and its iterator are now ready. Let's test them with the range-based for loop:</p>
<pre><code>Integers integers;
for (auto i : integers)
    std::cout &lt;&lt; i &lt;&lt; "\n";
</code></pre>
<p>This code will magically print the value of each integer in the container. It works because the range-based for loop is just syntactic sugar created by the compiler for the following:</p>
<pre><code>for (auto it = integers.begin(), end = integers.end(); it != end; ++it) { 
    const auto i = *it; 
    std::cout &lt;&lt; i &lt;&lt; "\n";
}
</code></pre>
<p>In words: two iterators <code>it</code> and <code>end</code> are created. The first one points to the beginning of the container, the other one points to the end. Then, on each loop, the <code>it</code> iterator is incremented until it's equal to <code>end</code>, that is until the end of the container has been reached. The actual value is obtained by dereferencing <code>it</code> in a local variable before being printed.</p>
<p>Notice how the compiler makes use of all the operators and functions we have previously implemented: the <code>begin()</code> and <code>end()</code> methods in the custom container, the ability to compare the two iterators with the <code>!=</code> operator, the ability to increment <code>it</code> with the prefix syntax and finally the ability to dereference it to grab the actual value it points to.</p>
<p>Let's now try a function from the Algorithm library, <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> for example:</p>
<pre><code>Integers integers;

std::fill(integers.begin(), integers.end(), 3);
</code></pre>
<p>The function assigns all elements in the container the value <code>3</code>. It works because <code>std::fill</code> is usually implemented like this:</p>
<pre><code>template &lt;typename ForwardIterator, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</a></em></p>]]>
            </description>
            <link>https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484444</guid>
            <pubDate>Sun, 20 Dec 2020 06:46:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A quick tool to build 3D models from the voxels or 2D layers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484307">thread link</a>) | @jarvis57
<br/>
December 19, 2020 | https://jarvis57.github.io/cubego.io | <a href="https://web.archive.org/web/*/https://jarvis57.github.io/cubego.io">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jarvis57.github.io/cubego.io</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484307</guid>
            <pubDate>Sun, 20 Dec 2020 06:18:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pragmalang 0.2.0 Released]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484288">thread link</a>) | @Tabzz98
<br/>
December 19, 2020 | https://pragmalang.com/docs/install | <a href="https://web.archive.org/web/*/https://pragmalang.com/docs/install">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Linux</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>To install Pragma, run:</p><p>The script will ask for root access, so make sure to enter your password when prompted.</p><p>If you're on Ubuntu/Debian, you can download the <code>.deb</code> package from <a href="https://github.com/pragmalang/pragma/releases/latest" target="_blank" rel="noopener noreferrer">releases</a>.</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command:</p><h2>MacOS</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>To install the Pragma CLI using <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>:</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from the terminal:</p><h2>Windows</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>First, we need to install the Pragma CLI:</p><ul><li><a href="https://github.com/pragmalang/pragma/releases/download/0.2.0/pragma-0.2.0.msi" target="_blank" rel="noopener noreferrer">Download the installer</a></li><li>Run the installer and follow the installation wizard</li></ul><blockquote><p><em>Note</em>: If Microsoft Defender tells you it prevented an unrecognized app from starting, click on "<strong>More info</strong>", then click on <strong>"Run anyway"</strong>.</p></blockquote><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from PowerShell:</p><p>If you have any questions or feedback you can join our <a href="https://discord.gg/gbhDnfC" target="_blank" rel="noopener noreferrer">Discord server</a> or post to <a href="https://www.reddit.com/r/pragmalang/" target="_blank" rel="noopener noreferrer">r/pragmalang</a>.</p></div></div>]]>
            </description>
            <link>https://pragmalang.com/docs/install</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484288</guid>
            <pubDate>Sun, 20 Dec 2020 06:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Knotwork Designer]]>
            </title>
            <description>
<![CDATA[
Score 45 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25484101">thread link</a>) | @blewboarwastake
<br/>
December 19, 2020 | http://birrell.org/andrew/knotwork/ | <a href="https://web.archive.org/web/*/http://birrell.org/andrew/knotwork/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://birrell.org/andrew/knotwork/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484101</guid>
            <pubDate>Sun, 20 Dec 2020 05:33:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Koka: A Functional Language with Effect Types and Handlers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484057">thread link</a>) | @Avi-D-coder
<br/>
December 19, 2020 | https://koka-lang.github.io/koka/doc/index.html | <a href="https://web.archive.org/web/*/https://koka-lang.github.io/koka/doc/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Welcome to Koka ‚Äì a strongly typed functional-style language with effect types and handlers.
</p>
<p><a href="#install" title="Install">Install <span></span></a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Get Started</a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Documentation</a>
<a href="https://github.com/koka-lang/koka" data-linkid="kokarepo" target="_top">Github</a></p>
<div>
<p>Note: Koka v2 is a research language that is currently under development
and not ready for production use. 
Nevertheless, the language is stable and the compiler
implements the full specification. The main things lacking at the moment are 
libraries, package management, and deep IDE integration. 
</p>
<div>
<p>News:
</p>
<ul>
<li>2020-12-12: Koka v2.0.14 released.
</li>
<li>2020-12-02: Koka v2.0.12 released.
</li>
<li>2020-11-29: Perceus technical report publised (<a href="https://www.microsoft.com/en-us/research/uploads/prod/2020/11/perceus-tr-v1.pdf" data-linkid="perceus">pdf</a>).</li></ul>
</div></div></div><div>
<p>For Linux and macOS on x86 64-bit, you can install Koka using:
</p>
<pre><code><span>&gt; <strong>curl -sSL https://github.com/koka-lang/koka/releases/latest/download/install.sh | sh</strong></span></code></pre>
<p>This also installs syntax highlighting for the VS Code and Atom editors.
</p>
<pre><code><span><strong><code>&gt; koka</code></strong></span>
 _          _           ____
| |        | |         |__  \
| | __ ___ | | __ __ _  __) |
| |/ // _ \| |/ // _' || ___/ welcome to the koka interpreter
|   &lt;| (_) |   &lt;| (_| ||____| version 2.0.10, Nov 28 2020, libc 64-bit (gcc)
|_|\_\\___/|_|\_\\__,_|       type :? for help

loading: std/core
loading: std/core/types
loading: std/core/hnd
&gt;</code></pre>
<p>Type <code>:q</code> to exit the interpreter.
</p>
<p>For detailed instructions and other platforms (including Windows) see the&nbsp;<a href="https://github.com/koka-lang/koka/releases" data-linkid="releases">releases</a> page.
It is also straightforward to build the compiler&nbsp;<a href="https://github.com/koka-lang/koka/#build-from-source" data-linkid="build">from source</a>.
</p>
<p><a href="https://koka-lang.github.io/koka/doc/book.html#install">Running the compiler</a>
<a href="https://koka-lang.github.io/koka/doc/book.html#tour">A tour of the Koka language</a>
</p></div></div>]]>
            </description>
            <link>https://koka-lang.github.io/koka/doc/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484057</guid>
            <pubDate>Sun, 20 Dec 2020 05:17:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebooting a 15 year-old game written in D ‚Äì Part 1 Compiling]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 49 (<a href="https://news.ycombinator.com/item?id=25483693">thread link</a>) | @arunc
<br/>
December 19, 2020 | https://speps.fr/articles/torus-trooper-part1/ | <a href="https://web.archive.org/web/*/https://speps.fr/articles/torus-trooper-part1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-container">
        <div id="main">
            
<div id="content">
	<div id="page">
		
		
		
		
		<p>See also</p>
<ul>
<li><a href="https://speps.fr/articles/torus-trooper-part1">Part 1 - Compiling a new executable</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part2">Part 2 - Running the game for the first time</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part3">Part 3 - Porting to WebAssembly</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part4">Part 4 - Final steps</a></li>
</ul>
<p>While exploring D recently, I remembered a game I played while at university 15 years ago. For a long time, I couldn‚Äôt remember the name at all, only that it was from a Japanese developer. After some search wrangling, I finally managed to find the name of the game: <strong>Torus Trooper!</strong></p>
<p>You can find it there: <a href="http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html">http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html</a></p>
<p><img src="https://speps.fr/media/articles/tt1.png" alt=""></p>
<p>Here is a copy of the tt0_22.zip file archived: <a href="https://github.com/speps/tt/archive/legacy.zip">https://github.com/speps/tt/archive/legacy.zip</a></p>
<p>What made me remember this game is that :</p>
<ul>
<li>It came with <a href="https://github.com/speps/tt/tree/legacy/src/abagames">source code</a>, quite unusual at the time for me</li>
<li>Written in D, a language I didn‚Äôt know at all while I was busy studying C++</li>
<li>It‚Äôs awfully addictive!</li>
</ul>
<p>What better project than try to compile a <strong>D v0.110</strong> project in a modern version of D and possibly porting the game to WebAssembly+WebGL! So here we are‚Ä¶</p>
<h2 id="switching-from-ant-to-dub">Switching from Ant to DUB</h2>
<p>The game used Ant and its <code>build.xml</code> file to generate the executable, resources, etc. Since then, D added DUB as a build system / package manager so let‚Äôs use that!</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span></code></pre></td>
<td>
<pre><code data-lang="json"><span>{</span>
	<span>"authors"</span><span>:</span> <span>[</span>
		<span>"Kenta Cho"</span><span>,</span>
		<span>"Remi Gillig"</span>
	<span>],</span>
	<span>"copyright"</span><span>:</span> <span>"Copyright ¬© 2004 - Kenta Cho, 2020 - Remi Gillig"</span><span>,</span>
	<span>"description"</span><span>:</span> <span>"Torus Trooper (Reboot)"</span><span>,</span>
	<span>"license"</span><span>:</span> <span>"BSD 2-clause"</span><span>,</span>
	<span>"name"</span><span>:</span> <span>"tt"</span><span>,</span>
	<span>"targetType"</span><span>:</span> <span>"executable"</span><span>,</span>
	<span>"sourcePaths"</span><span>:</span> <span>[</span>
		<span>"src"</span>
	<span>]</span>
<span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>With this initial <code>dub.json</code> file, I was set to run the <code>dub</code> command‚Ä¶</p>
<div><pre><code data-lang="plaintext">Performing "debug" build using C:\D\dmd2\windows\bin64\dmd.exe for x86.
tt ~master: building configuration "application"...
src\abagames\tt\barrage.d(95,33): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]][char[]] parser
src\abagames\tt\barrage.d(122,28): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[] pl
src\abagames\tt\barrage.d(130,14): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]] pa
src\abagames\tt\boot.d(51,12): Error: instead of C-style syntax, use D-style char[4096] exe
src\abagames\tt\tunnel.d(300,14): Error: template argument expected following !
src\abagames\tt\tunnel.d(322,14): Error: template argument expected following !
src\abagames\util\rand.d(115,6): Error: instead of C-style syntax, use D-style uint[N] state
src\abagames\util\rand.d(140,20): Error: instead of C-style syntax, use D-style uint[] init_key
src\abagames\util\sdl\luminous.d(21,10): Error: instead of C-style syntax, use D-style GLuint[LUMINOUS_TEXTURE_WIDTH_MAX * LUMINOUS_TEXTURE_HEIGHT_MAX * 4 * (uint).sizeof] td
src\abagames\util\sdl\luminous.d(83,17): Error: instead of C-style syntax, use D-style float[2][2] lmOfs
C:\D\dmd2\windows\bin64\dmd.exe failed with exit code 1.
</code></pre></div><p>Alright let‚Äôs start and get this to compile!</p>
<h2 id="c-style-syntax-errors">C-style syntax errors</h2>
<p>This is one is easy to fix, the suggestion from the compiler works, I just replaced every instance of this error with the suggestion.</p>
<p>Here is an example:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -42,7 +43,7 @@ struct SDL_AudioSpec {
</span><span></span>     Once the callback returns, the buffer will no longer be valid.
     Stereo samples are stored in a LRLRLR ordering.
  */
<span>- void (*callback)(void *userdata, Uint8 *stream, int len);
</span><span></span><span>+ void function(void *userdata, Uint8 *stream, int len) callback;
</span><span></span>  void  *userdata;
 }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="error-template-argument-expected-following-">Error: template argument expected following !</h2>
<p>This is an interesting one, here is one of the files where this error triggers:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span>21
</span></code></pre></td>
<td>
<pre><code data-lang="d">  <span>private</span> <span>void</span> <span>calcIndex</span><span>(</span><span>in</span> <span>float</span> <span>z</span><span>,</span> <span>out</span> <span>int</span> <span>idx</span><span>,</span> <span>out</span> <span>float</span> <span>ofs</span><span>)</span> <span>{</span>
    <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>+</span> <span>99999</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>1</span><span>;</span> <span>i</span> <span>&lt;</span> <span>slice</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
      <span>if</span> <span>(</span><span>z</span> <span>&lt;</span> <span>slice</span><span>[</span><span>i</span><span>].</span><span>depth</span><span>)</span> <span>{</span>
        <span>idx</span> <span>=</span> <span>i</span> <span>-</span> <span>1</span><span>;</span>
        <span>ofs</span> <span>=</span> <span>(</span><span>z</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>)</span> <span>/</span> <span>(</span><span>slice</span><span>[</span><span>idx</span> <span>+</span> <span>1</span><span>].</span><span>depth</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>);</span>
        <span>break</span><span>;</span>
      <span>}</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>idx</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>0</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>idx</span> <span>&gt;=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>1</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>2</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
    <span>}</span>
<span>    <span>if</span> <span>(</span><span>ofs</span> <span>!&gt;=</span> <span>0</span><span>)</span> <span>// ERROR HERE
</span></span><span></span>      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>else</span> <span>if</span> <span>(</span><span>ofs</span> <span>&gt;=</span> <span>1</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
  <span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>I did try a few searches without success so I asked on the D community forums and a few people guessed right, it‚Äôs of course a <code>not &gt;=</code>, equivalent to <code>&lt;</code>. However, <a href="https://forum.dlang.org/post/rec3d1$toc$1@digitalmars.com">thanks to Walter Bright</a>, I got a link to the <a href="https://www.digitalmars.com/ctg/ctgNumerics.html#comparisons">original documentation from Digital Mars</a>. The subtle difference with <code>!&gt;=</code> is that it will also return <code>true</code> if any operands are <code>NaN</code>. Suggested fix seems to have worked:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>17
</span><span>18
</span></code></pre></td>
<td>
<pre><code data-lang="d">    <span>if</span> <span>(</span><span>std</span><span>.</span><span>math</span><span>.</span><span>isNaN</span><span>(</span><span>ofs</span><span>)</span> <span>||</span> <span>ofs</span> <span>&lt;</span> <span>0</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="replacing-char-with-string">Replacing <code>char[]</code> with <code>string</code></h2>
<p>D1 used to have <code>char[]</code> as the string type, and functions in <code>std.string</code> in Phobos to manipulate this type. D2 replaced this with an <code>alias string = immutable(char)[]</code>. As a result, a lot of the code needs updating to deal with this. That includes the code in the custom bindings.</p>
<p>Most of the changes here are similar to this</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -92,24 +91,24 @@ public class Barrage {
</span><span></span>  */
 public class BarrageManager {
  private:
<span>-  static BulletMLParserTinyXML *parser[char[]][char[]];
</span><span>-  static const char[] BARRAGE_DIR_NAME = "barrage";
</span><span></span><span>+  static BulletMLParserTinyXML*[string][string] parser;
</span><span>+  static const string BARRAGE_DIR_NAME = "barrage";
</span><span></span> 
   public static void load() {
<span>-    char[][] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>-    foreach (char[] dirName; dirs) {
</span><span>-      char[][] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>-      foreach (char[] fileName; files) {
</span><span>-        if (getExt(fileName) != "xml")
</span><span></span><span>+    string[] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>+    foreach (string dirName; dirs) {
</span><span>+      string[] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>+      foreach (string fileName; files) {
</span><span>+        if (fileName.extension != ".xml")
</span><span></span>           continue;
         parser[dirName][fileName] = getInstance(dirName, fileName);
       }
     }
   }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="converting-value-to-string">Converting value to string</h2>
<p>D1 used to have <code>std.string.toString</code> to convert a value to a <code>char[]</code> value. This functionality was replaced by <code>std.conv.to!string</code>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -5,6 +5,7 @@
</span><span></span>  */
 module abagames.tt.shot;
 
<span>+private import std.conv;
</span><span></span> private import std.math;
 private import std.string;
 private import opengl;
<span>@@ -179,7 +180,7 @@ public class Shot: Actor {
</span><span></span>       else if (sc &gt;= 2000)
         size = 0.7;
       size *= (1 + multiplier * 0.01f);
<span>-      fl.set("X" ~ std.string.toString(multiplier), pos, size * pos.y,
</span><span></span><span>+      fl.set("X" ~ to!string(multiplier), pos, size * pos.y,
</span><span></span>              cast(int) (30 + multiplier * 0.3f));
     }
     if (chargeShot) {
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="passing-strings-to-c">Passing strings to C</h2>
<p>The usual way to pass strings to C seems to have been to just to use <code>std.string.toStringz</code>. However, back in D1 it used to return char* :</p>
<pre><code>char* toStringz(char[] s);
</code></pre><p>This worked well for the C bindings but with D2, it now returns:</p>
<pre><code>immutable(char)* toStringz(scope return string s) pure nothrow @trusted;
</code></pre><p>Again, the fix is quite straightforward. For example, the bindings weren‚Äôt written with this in mind so they need fixing:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -81,7 +81,7 @@ struct SDL_RWops {
</span><span></span> 
 /* Functions to create SDL_RWops structures from various data sources */
 
<span>-SDL_RWops * SDL_RWFromFile(char *file, char *mode);
</span><span></span><span>+SDL_RWops * SDL_RWFromFile(const char *file, const char *mode);
</span></code></pre></td></tr></tbody></table>
</div>
</div><h2 id="simple-substitution">Simple substitution</h2>
<ul>
<li><code>typedef</code> ‚Üí <code>alias</code></li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -28,10 +28,10 @@ import SDL_types;
</span><span></span> 
 extern(C):
 
<span>-typedef int (*_seek_func_t)(SDL_RWops *context, int offset, int whence);
</span><span>-typedef int (*_read_func_t)(SDL_RWops *context, void *ptr, int size, int maxnum);
</span><span>-typedef int (*_write_func_t)(SDL_RWops *context, void *ptr, int size, int num);
</span><span>-typedef int (*_close_func_t)(SDL_RWops *context);
</span><span></span><span>+alias int function(SDL_RWops *context, int offset, int whence) _seek_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int maxnum) _read_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int num) _write_func_t;
</span><span>+alias int function(SDL_RWops *context) _close_func_t;
</span></code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>inout</code> ‚Üí <code>ref</code>: this made sense for all instances where <code>inout</code> was used</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -59,7 +59,7 @@ public class PrefData {
</span><span></span> 
   public this() {
     gradeData = new GradeData[Ship.GRADE_NUM];
<span>-    foreach (inout GradeData gd; gradeData)
</span><span></span><span>+    foreach (ref GradeData gd; gradeData)
</span><span></span>       gd = new GradeData;
   }
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>auto T</code> ‚Üí <code>auto</code>: it seems the original author specified auto along with the type which isn‚Äôt allowed anymore</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -631,9 +631,9 @@ public class BulletShape: Drawable {
</span><span></span>   }
 
   private void createSquareShape(bool wireShape) {
<span>-    auto Vector3 cp = new Vector3;
</span><span>-    auto Vector3[] p = new Vector3[4];
</span><span>-    auto Vector3[] np = new Vector3[4];
</span><span></span><span>+    auto cp = new Vector3;
</span><span>+    auto p = new Vector3[4];
</span><span>+    auto np = new Vector3[4];
</span><span></span>     static const float[][][] POINT_DAT = [
       [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1], ],
       [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1], ],
<span>@@ -642,9 +642,9 @@ public class BulletShape: Drawable {
</span><span></span>       [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1], ],
       [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1], ],
     ];
<span>-    foreach (inout Vector3 ip; p)
</span><span></span><span>+    foreach (ref Vector3 ip; p)
</span><span></span>       ip = new Vector3;
<span>-    foreach (inout Vector3 inp; np)
</span><span></span><span>+    foreach (ref Vector3 inp; np)
</span><span></span>       inp = new Vector3;
     for (int i = 0; i &lt; 6; i++) {
       cp.x = cp.y = cp.z = 0;
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>getExt</code> ‚Üí <code>.extension</code>: behaviour is different but it‚Äôs easy enough to fix, it now includes the dot</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -44,10 +45,10 @@ public class SoundManager: abagames.util.sdl.sound.SoundManager {
</span><span></span> 
   private static Music[] loadMusics() {
     Music[] musics;
<span>-    char[][] files = listdir(Music.dir);
</span><span>-    foreach (char[] fileName; files) {
</span><span>-      char[] ext = getExt(fileName);
</span><span>-      if (ext != "ogg" &amp;&amp; ext != "wav")
</span><span></span><span>+    string[] files = listdir(Music.dir);
</span><span>+    foreach (string ‚Ä¶</span></code></pre></td></tr></tbody></table></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://speps.fr/articles/torus-trooper-part1/">https://speps.fr/articles/torus-trooper-part1/</a></em></p>]]>
            </description>
            <link>https://speps.fr/articles/torus-trooper-part1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483693</guid>
            <pubDate>Sun, 20 Dec 2020 03:42:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astropanel ‚Äì Astronomy Program for the Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483426">thread link</a>) | @FlyMoreRockets
<br/>
December 19, 2020 | https://isene.org/2020/12/Astropanel.html | <a href="https://web.archive.org/web/*/https://isene.org/2020/12/Astropanel.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
        <article>

            <p><img src="">
            </p>

            <!-- MAIN -->
            
            <h3>
                <a href="https://isene.org/" rel="bookmark" title="" itemprop="url"></a>
            </h3>

            <hr>

            <!-- POST CONTENT -->
            <div>
                <p>I am proud to present my latest project - the Astropanel.</p>

<p>This program will help you decide when you should bring out your telescope.</p>

<p>Feature list:</p>

<ul>
  <li>Weather forecast for the next 9 days with coloring (red/yellow/green) based
on your limits for cloud cover, humidity, temperature and wind</li>
  <li>Easy graphic representation of when the Sun, Moon and planets are visible
with the Moon‚Äôs phase showing in how light the representing bar is</li>
  <li>Extra information for each day: Fog, wind gust speed, dew point temperature,
air pressure, UV Index, Sun and Moon precise rise and set and Moon phase.
The Moon phase is expressed as a number between 0 and 100 where 50 is the
full moon.</li>
  <li>Astronomical events for each of the 9 days, with option to list them in one
view</li>
  <li>Starchart showing in the terminal for the selected day and time of day</li>
  <li>A table showing RA, Dec, distance, rise, set and transit for the planets</li>
  <li>Show today‚Äôs Astronomy Picture Of the Day</li>
</ul>

<p>Check out the screencast to see the program in use:</p>

<p>
  <iframe src="https://www.youtube.com/embed/36jsu3YBLyw" allowfullscreen=""></iframe>
</p>

<p>Github repository: https://github.com/isene/astropanel</p>

<hr>
<p>Link to this post: <a href="https://isene.org/2020/12/Astropanel.html">https://isene.org/2020/12/Astropanel.html</a></p>

            </div>
            <!--- DIVIDING LINE -->
            <hr>

            <!-- POST TAGS -->
            

            <br>

            <!-- POST DATE -->
            
			




        </article>
    </div></div>]]>
            </description>
            <link>https://isene.org/2020/12/Astropanel.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483426</guid>
            <pubDate>Sun, 20 Dec 2020 02:52:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A search engine of free Illustrations]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483312">thread link</a>) | @jonifico
<br/>
December 19, 2020 | https://www.artify.co/illustrations | <a href="https://web.archive.org/web/*/https://www.artify.co/illustrations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.artify.co/illustrations</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483312</guid>
            <pubDate>Sun, 20 Dec 2020 02:26:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Japanese Sentence Structure Primer]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482613">thread link</a>) | @sova
<br/>
December 19, 2020 | https://japanesecomplete.com/articles/?p=1265 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1265">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1265">

	

	
			<figure>
				<img width="1568" height="1045" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/lanterns.jpg" alt="" loading="lazy">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>Aside from always having a verb at the end, Japanese does not depend on sequence.  Japanese is a grammar defined by <em>grammar particles</em>, functional ‚Äúwords‚Äù that glue on to nouns to indicate what purpose the noun serves.</p>



<p>Here we highlight some common Japanese particles in a slice of the „Å≤„Çâ„Åå„Å™ [hiragana] syllabary.</p>



<figure><img loading="lazy" width="1069" height="834" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/japanese-particles.png" alt=""></figure>



<p>You can practice your üéµ listening comprehensionüëÇ of the „Å≤„Çâ„Åå„Å™ üéé <a href="http://japanesecomplete.com/hiragana">here</a>.  But we digress, Japanese relies on <em>grammatical particles</em> to indicate the <strong>who, what, when,  where, and how</strong> of a sentence.</p>



<h2><strong>Who, what, when, where, and how</strong>.</h2>



<h2>„Åß  (de) <strong>where and how</strong></h2>



<p>For example, „Åß [‚Äúdeh‚Äù] implies <em>manner of accomplishment</em> or <em>setting-locality where something takes place.</em> Mapping to English, we cover the <strong>where</strong> [setting] and <strong>how</strong> [means] with „Åß„ÄÇ</p>



<figure><img loading="lazy" width="246" height="142" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.34.24-PM.png" alt=""></figure>



<hr>



<h2>„Å´ (ni) where and when</h2>



<p>For destinations, or specific times, or precise physical points of existence (being), Japanese relies on the use of the <em>grammatical particle</em> „Å´ [‚Äúni‚Äù as in, <a href="https://www.youtube.com/watch?v=zIV4poUZAQo">‚Äúwe are the knights who say‚Ä¶‚Äù</a>].  „Å´ [‚Äúknee!‚Äù] therefore covers <strong>where</strong> [destination] and <strong>when</strong> [moment].</p>



<figure><img loading="lazy" width="648" height="446" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.36.55-PM.png" alt=""></figure>



<hr>



<h2>„Åå  (ga) who and what</h2>



<p>The <em>grammatical particle</em> „Åå [‚Äúga‚Äù] is used to explain <strong>who</strong> and <strong>what</strong> when used as the <strong>grammatical subjects</strong> of a sentence.  </p>



<p>For example: Vegetables are delicious.  Candy is sweet.<br>  (Veggies are <strong>what</strong> is delicious)<br>  (The candy is <strong>what</strong> is sweet)</p>



<figure><img loading="lazy" width="366" height="295" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.38.46-PM.png" alt=""></figure>



<hr>



<p>Finally, in this brief primer, we want to show the concept of <strong>bunsetsu jar</strong> which we have featured on our <a href="http://japanesecomplete.com/reverse-engineer/">‚ÄúReverse Engineer Some Japanese‚Äù</a> page.</p>



<figure><img loading="lazy" width="737" height="138" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.41.05-PM.png" alt=""></figure>



<p>Within a <strong>bunsetsu jar</strong>, we place a noun and cap off the <strong>jar</strong> with a <strong>lid</strong> containing a <em>grammatical particle</em> such as „Åå„ÄÅ„Å´„ÄÅ„Åß or one of the many others.  </p>



<p>In total, there is an estimated 233 + particles (some are multi-mora, that is, multiple letters) and we teach them in a gradual and comprehensible way in <a href="https://japanesecomplete.com/articles/?p=83">Japanese Complete</a>.</p>



<p>Finally, a sentence-final verb is placed at the end of a sentence.  In English, this would be akin to moving the ‚Äúis/are‚Äù or ‚Äúbe/exists‚Äù verb to the end of every sentence.  Japanese fun is.  Grammar easy is.  Japanese-about thinking = interesting is.</p>



<p>So that‚Äôs it. You pick your nouns, you pick the <em>grammatical particles</em> to match based on the meaning of <strong>who, what, when, where, and how</strong>, and you figure out the sentence-final verb element.  Now you‚Äôre thinking in Japanese.</p>



<p>Of course, developing the reflex and intuition around this takes some practice, which is why we devised quizzes for Japanese Complete that help train your intuition on the particles, one-by-one.  You can watch a brief video showing some of the quizzes in action on our <a href="https://japanesecomplete.com/guide">free guide page</a>.</p>



<hr>



<h2>Kanji in English Context</h2>



<p>In order to accelerate Kanji comprehension into English context, as you can see in a sonnet by Shakespeare on <a href="http://japanesecomplete.com/learning-to-read">this page</a>.  This pattern follows a similar pattern of adoption that native Japanese took: grab kanji from mainland Asia for their ideographic value and smash them together with your native syllabary to add helpful meaning, nuance, and context.</p>



<figure><img loading="lazy" width="496" height="177" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.46.27-PM.png" alt=""></figure>



<p><strong>Temple NI arrive.</strong> [unstated subjects arrive to the temple]</p>



<p><strong>Enter-before NI, hands OH let‚Äôs wash, NE.</strong> [before entering, let‚Äôs wash our hands, right?]</p>



<p>We‚Äôve created a substack newsletter to share <em>Kanji in English Context </em>once or twice a month, you can <a href="https://japanesecomplete.substack.com/p/coming-soon">sign up for it here</a> if you‚Äôre interested in getting interesting <em>Kanji in English Context</em> lessons to your inbox.</p>



<hr>



<p>One great thing about Japanese grammar is that the <strong>bunsetsu jars</strong> can be arranged in any sequence before the final verb, provided each noun has its appropriately matching <em>grammar particle</em> glued on and intact.  This leads to great fun with parsing, as one can create a <a href="https://japanesecomplete.com/articles/?p=811">rudimentary Japanese grammar parser</a> from a 5-line EBNF grammar.</p>



<figure><img loading="lazy" width="1080" height="1349" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/osaka-castle.jpg" alt=""></figure>



<p>Hopefully this post made the inner mechanics of Japanese more clear.  Developing intuition and unlocking the language takes study, practice, and determination!  If you‚Äôre looking for a program to break the language down logically <strong>and</strong> provide practice and training to help your newfound understanding become intuitive and fast, might we humbly suggest <a href="https://japanesecomplete.com/">Japanese Complete</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1265</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482613</guid>
            <pubDate>Sun, 20 Dec 2020 00:14:56 GMT</pubDate>
        </item>
    </channel>
</rss>
