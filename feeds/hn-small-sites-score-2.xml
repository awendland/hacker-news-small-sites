<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 09 Jul 2020 12:20:18 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 09 Jul 2020 12:20:18 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Snapchat Detection on iOS]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757666">thread link</a>) | @mpweiher
<br/>
July 7, 2020 | https://aeonlucid.com/Snapchat-detection-on-iOS/ | <a href="https://web.archive.org/web/*/https://aeonlucid.com/Snapchat-detection-on-iOS/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Previously we took a look at <a href="https://aeonlucid.com/Snapchat-detection-on-Android/">Snapchatâ€™s root detection methods on Android</a>. This time we are taking a look at how they detect jailbreaks, tweaks and hooks on iOS.</p>



<p>All the research in this post is based on Snapchat 10.65.0.66 (832559634).</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_login_message.png" alt="Login Message">
</p>

<p>This is the message you see when you try to login with a detected tweak, although not all tweaks trigger this message. Two examples that trigger this message are <a href="http://cydia.saurik.com/package/com.johncoates.flex3/">Flex 3</a> and <a href="https://www.reddit.com/r/jailbreak/comments/9baacc/release_wraith_snapchatphantom_replacement/">Wraith</a>. Some just flag your account and will get you banned later in a ban wave if you are unlucky.</p>

<h2 id="avoiding-bans">Avoiding bans</h2>

<p>So obviously the first thing we want to look at is, what has the community tried so far to stay hidden? If you google around a bit you will most likely end up with these result. For a few of them, I will list the most notable features.</p>

<ul>
  <li>NoSub (or variants)
    <ul>
      <li>Disable Cydia Substrate / Substitute entirely for specific apps.</li>
      <li>Only if you can find an updated version and donâ€™t want to use tweaks on Snapchat.</li>
    </ul>
  </li>
  <li><a href="https://github.com/NepetaDev/UnSub/blob/master/Tweak/Tweak.xm">UnSub</a>
    <ul>
      <li>Hooks and filters libc file system calls.</li>
      <li>Spoofs the libc getenv to remove the <code>DYLD_INSERT_LIBRARIES</code> variable.</li>
      <li>Spoofs <code>_dyld_image_count</code> and <code>_dyld_get_image_name</code> to hide tweak related dylibs.</li>
    </ul>
  </li>
  <li><a href="https://github.com/jjolano/shadow/blob/master/Tweak.xm">Shadow</a>
    <ul>
      <li>Too much to list.. it hooks way too much.</li>
      <li>Still misses lots of stuff for Snapchat specifically.</li>
    </ul>
  </li>
</ul>

<p>Even <a href="https://support.snapchat.com/en-US/a/jailbroken-iphone">Snapchat themselves recommend NoSub</a>..</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_snapchat_jailbroken_support.png" alt="Login Message">
</p>

<p>But it seems that nobody knows what Snapchat is <strong>exactly</strong> doing to detect everything. Which is why I am writing this post. Only one that I have seen <a href="https://twitter.com/cokepokes/status/1023114963550797824">publicly making efforts</a> to figure this out is the developer of Phantom, CokePokes.</p>

<h2 id="how-are-they-doing-it">How are they doing it?</h2>

<p>I will try my best to explain every check they do in Snapchat 10.65.0.66.</p>

<p>When you launch the app they create a new thread using <a href="http://man7.org/linux/man-pages/man3/pthread_create.3.html">pthread_create</a> that runs all the checks. At the end of these checks an integer is stored with flags of everything that was detected on the device. Some of these checks are then ran every 31 seconds.</p>

<p>All the code executed for these checks is obfuscated with <a href="https://www.crunchbase.com/organization/strong-codes">Snapchats in-house obfuscation tools</a> and thus very annoying to look at using tools such as IDA.</p>

<h3 id="code-signature-checks">Code signature checks</h3>

<p>One of the first things they do is checking and storing stuff from the code signature. This happens using the <code>sys_csops(169)</code> syscall, which is pretty much undocumented but is very similar to the code here.</p>

<ul>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops">xnu/bsd/kern/kern_proc.c.html#csops</a></li>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops_internal">xnu/bsd/kern/kern_proc.c.html#csops_internal</a></li>
</ul>

<p>They execute the following operations:</p>

<ul>
  <li><code>CS_OPS_STATUS</code></li>
  <li><code>CS_OPS_CDHASH</code></li>
  <li><code>CS_OPS_ENTITLEMENTS_BLOB</code></li>
</ul>

<p>The most important one of this is the <code>CS_OPS_STATUS</code>, this retrieves the current codesigning status of the process. A jailbroken device can respond with messy status flags. Such as:</p>

<ul>
  <li><code>CS_GET_TASK_ALLOW</code></li>
  <li><code>CS_INSTALLER</code></li>
  <li><code>CS_PLATFORM_BINARY</code></li>
  <li><code>CS_DEBUGGED</code> (Process was debugged / is being debugged)</li>
  <li>Or missing <code>CS_VALID</code>.</li>
</ul>

<p>A normal device would have these flags:</p>

<ul>
  <li><code>CS_VALID</code></li>
  <li><code>CS_HARD</code></li>
  <li><code>CS_KILL</code></li>
  <li><code>CS_ENFORCEMENT</code></li>
  <li><code>CS_REQUIRE_LV</code></li>
  <li><code>CS_DYLD_PLATFORM</code></li>
  <li><code>CS_SIGNED</code></li>
</ul>

<p>For all available flags and their descriptions, see <a href="https://fergofrog.com/code/cbowser/xnu/BUILD/obj/EXPORT_HDRS/osfmk/kern/cs_blobs.h.html#_M/CS_VALID">this page</a>.</p>

<p>The result of <code>CS_OPS_STATUS</code> and <code>CS_OPS_CDHASH</code> are stored and later sent to the Snapchat servers, encrypted.</p>

<h3 id="bundle-check">Bundle check</h3>

<p>This is a simple check but quite effective if not noticed by a tweak developer. Pseudo code looks like this.</p>

<div><div><pre><code>x0 = CFBundleGetMainBundle()
x1 = CFBundleGetIdentifier(x0)
x2 = CFStringGetCStringPtr(x1)
strncmp("com.toyopagroup.picaboo", x2)
</code></pre></div></div>

<h3 id="dyld-check">Dyld check</h3>

<p>Snapchat has two methods to iterate all loaded dylibs.</p>

<h4 id="first-attempt">First attempt</h4>

<p>One way is using <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L48">dyld_get_image_header</a> and <a href="http://man7.org/linux/man-pages/man3/dladdr1.3.html">dladdr</a>. They iterate over <code>dyld_get_image_header</code> until it returns null and checks if it has seen everything with <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L47">dyld_image_count</a>. The <code>dladdr</code> method provides them with the path of the dylib. These are checked against a few unknown strings but removing everything substrate related from the dyld list fixes this check.</p>

<h4 id="second-attempt">Second attempt</h4>

<p>The other method they use is calling <a href="https://developer.apple.com/documentation/kernel/1537934-task_info">task_info</a> with flavor <code>TASK_DYLD_INFO</code>. This also gives them a list of all loaded dylibs and must be fixed separately from the first dyld check.</p>

<h3 id="file-system-checks">File system checks</h3>

<p>There are a couple of file system checks, of which all use the <code>sys_access(33)</code> syscall.</p>

<h4 id="first-list">First list</h4>

<ul>
  <li>/Library/Application Support/PhLite/phlite.bundle/AuthAPI.pem</li>
  <li>/private/var/tmp/cydia.log</li>
  <li>/bin/bash</li>
  <li>/usr/sbin/sshd</li>
  <li>/usr/libexec/ssh-keysign</li>
  <li>/usr/libexec/sftp-server</li>
  <li>/etc/ssh/sshd_config</li>
  <li>/.installed_yaluX</li>
  <li>/Library/LaunchDaemons/dropbear.plist</li>
  <li>/usr/local/bin/dropbear</li>
  <li>/System/Library/Caches/com.apple.dyld/enable-dylibs-to-override-cache</li>
  <li>/.cydia_no_stash</li>
  <li>/var/log/jailbreakd-stdout.log</li>
  <li>/etc/motd</li>
  <li>/usr/lib/libsubstitute.dylib</li>
  <li>/var/tmp/slide.txt</li>
</ul>

<h4 id="second-list">Second list</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Ghay</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Snapchat.crc</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/embedded.mobileprovision</li>
</ul>

<h4 id="last-one-and-expected-to-exist">Last one (and expected to exist)</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/PlugIns</li>
</ul>

<p>The last one makes it a bit harder to fix, since you can not simply replace the arm instructions with something that makes it always return false. Thus requiring an inline hook as replacement for the syscall so you gain full control over it.</p>

<h3 id="obj-c---class-checks">Obj-C - Class checks</h3>

<p>A lot of classes are checked from a lot of different tweaks. This is done using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a>.</p>

<ul>
  <li><code>SCOthmanPrefs</code></li>
  <li><code>SCOthmanSnapSaver</code></li>
  <li><code>SCOFiltersOthman</code></li>
  <li><code>SCSnapchPrefs</code></li>
  <li><code>SCSnapchLocation</code></li>
  <li><code>SCOFiltersSnapch</code></li>
  <li><code>PHSnapSaver</code></li>
  <li><code>PHRegisterViewController</code></li>
  <li><code>phlite</code></li>
  <li><code>dfnvrknsv</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>PHMainSettingsVC</code></li>
  <li><code>SCPPrivacySettings</code></li>
  <li><code>SCPSettings</code></li>
  <li><code>SCPSavedMediaSettings</code></li>
  <li><code>SNAPCHAT_SCPSnapUsageSettings</code></li>
  <li><code>SNAPCHAT_SCPSegmentedController</code></li>
  <li><code>SNAPCHAT_CZPickerView</code></li>
  <li><code>CTAdBase</code></li>
  <li><code>CTRequestModel</code></li>
  <li><code>CTBannerView</code></li>
  <li><code>CPAdManager</code></li>
  <li><code>MMNativeAdController</code></li>
  <li><code>TweakBoxStartupManager</code></li>
  <li><code>SNAPCHAT_GPHelper</code></li>
  <li><code>SCKsausaPrefs</code></li>
  <li><code>SCSCGoodSnapSaver</code></li>
  <li><code>SNAPCHAT_XXXXXXX_GPHelper</code></li>
  <li><code>SCOFiltersHelper</code></li>
  <li><code>_xxx</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>SIGMAPOINT_GPHelper</code></li>
  <li><code>SCS     SnapSaver</code></li>
  <li><code>SCW    wSnapSaver</code></li>
  <li><code>CYJSObject</code></li>
  <li><code>P         D</code></li>
  <li><code>R              t</code></li>
  <li><code>AVCameraViewControlIer</code></li>
  <li><code>SCAppDeIegate</code></li>
  <li><code>FLEXManager</code></li>
  <li><code>oJXM</code></li>
  <li><code>fJWs</code></li>
  <li><code>yytp</code></li>
  <li><code>FLManager</code></li>
  <li><code>DecryptScriptAlertView</code></li>
  <li><code>DzAdsManager</code></li>
</ul>

<h3 id="obj-c---method-checks">Obj-C - Method checks</h3>

<p>They also check methods. This happens using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a> and then <a href="https://developer.apple.com/documentation/objectivec/1418530-class_getinstancemethod">class_getInstanceMethod</a>. If any exists, you get flagged.</p>

<ul>
  <li><code>NSMutableString</code>
    <ul>
      <li><code>a</code></li>
      <li><code>b</code></li>
      <li><code>c</code></li>
    </ul>
  </li>
  <li><code>SCAppDelegate</code>
    <ul>
      <li><code>MZ42SGH98C:</code></li>
    </ul>
  </li>
  <li><code>SCOperaPageViewController</code>
    <ul>
      <li><code>saveButtonPressed</code></li>
    </ul>
  </li>
  <li><code>UIViewController</code>
    <ul>
      <li><code>dzDidTapGalleryButton</code></li>
    </ul>
  </li>
</ul>

<h3 id="obj-c---method-integrity-checks">Obj-C - Method integrity checks</h3>

<p>Next up is Snapchats own methods. For the classes listed below they first call <a href="https://developer.apple.com/documentation/objectivec/1418490-class_copymethodlist">class_copyMethodList</a>. Then for every <a href="https://developer.apple.com/documentation/objectivec/method?language=objc">Method</a> they check if the <code>IMP</code> pointer (address of the function) is within its own <code>__text</code> segment. This is how they detect whether a method has been hooked.</p>

<ul>
  <li><code>SCAppDelegate</code></li>
  <li><code>MainViewController</code></li>
  <li><code>SCChatMainViewController</code></li>
  <li><code>SCChatViewControllerV3</code></li>
  <li><code>SCScreenshotDetector</code></li>
  <li><code>SCBaseMediaOperaPresenter</code></li>
  <li><code>SCOperaPageViewController</code></li>
  <li><code>SCLoginService</code></li>
  <li><code>SCAdsHoldoutExperimentContext</code></li>
  <li><code>SCExperimentManager</code></li>
  <li><code>SCCaptionDefaultTextView</code></li>
  <li><code>SCChatTypingHandler</code></li>
  <li><code>Story</code></li>
  <li><code>SCChatMessageV3</code></li>
  <li><code>SCOperaViewersLayer</code></li>
</ul>

<p>Thanks to <code>dzan</code> for telling me to check the <code>__text</code> segment. :-)</p>

<h3 id="symbol-checks">Symbol checks</h3>

<p>They also check for a couple of symbols using <a href="https://linux.die.net/man/3/dlsym">dlsym</a>. If the result is not null, you get flagged.</p>

<ul>
  <li><code>MSHookMessageEx</code></li>
  <li><code>MSHookFunction</code></li>
  <li><code>_Z17replaced_readlinkPKcPcm</code></li>
  <li><code>hooksArray</code></li>
  <li><code>_OBJC_METACLASS_$__xxx</code></li>
  <li><code>_OBJC_CLASS_$_PHSSaverV2</code></li>
  <li><code>plist</code></li>
  <li><code>flexBreakPoint</code></li>
  <li><code>convert_coordinates_from_device_to_interface</code></li>
  <li><code>OBJC_METACLASS_$_DzSnapHelper</code></li>
  <li><code>ChKey2</code></li>
</ul>

<h3 id="symbol-hook-checks">Symbol hook checks</h3>

<p>A few symbols are resolved using <a href="https://linux.die.net/man/3/dlsym">dlsym</a> to check whether they have been hooked. They first resolve <code>dlsym</code> using <code>dlsym</code>.. yeah.. That result gets used for the <code>dlsym</code> of the symbols below. For every address returned, the first 4 bytes are checked for common hook related instructions.</p>

<ul>
  <li><code>dlsym</code></li>
  <li><code>objc_getClass</code></li>
  <li><code>class_getInstanceMethod</code></li>
  <li><code>sel_registerName</code></li>
  <li><code>class_copyMethodList</code></li>
  <li><code>_dyld_image_count</code></li>
  <li><code>_dyld_get_image_header</code></li>
  <li><code>dladdr</code></li>
</ul>

<h3 id="environment-variables">Environment variables</h3>

<p>I need to be honest, this is a very annoying way how they check for injection because it is annoying to fix. Instead of using <a href="http://man7.org/linux/man-pages/man3/getenv.3.html">getenv</a> they use the <a href="http://sourceware.org/git/?p=glibc.git;a=blob;f=posix/environ.c">environ</a> variable. Since it is a variable, you can not â€œhookâ€ it.</p>

<p>At least the following variables are detected.</p>

<ul>
  <li><code>DYLD_INSERT_LIBRARIES=/usr/lib/TweakInject.dylib</code></li>
  <li><code>_MSSafeMode=0</code></li>
</ul>

<h3 id="sandbox-check">Sandbox check</h3>

<p>Probably not an issue for anyone.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_sandbox.png" alt="iOS sandbox">
</p>

<h3 id="fingerprinting">Fingerprinting</h3>

<p>Not much detection done here but still relevant, using <code>sys_sysctl(202)</code> they request at least the following properties.</p>

<ul>
  <li><code>kern.version</code></li>
  <li><code>kern.osversion</code></li>
  <li><code>kern.proc.pid.&lt;PID&gt;</code></li>
  <li><code>hw.machine</code></li>
</ul>

<h3 id="other">Other</h3>

<p>The syscall <code>sys_proc_info(33)</code> is also called a couple of times, which could reveal stuff that is ptracing the process. They also use <code>sys_open(5)</code>, <a href="http://man7.org/linux/man-pages/man2/mmap.2.html">mmap</a>, <code>sys_close(6)</code> and <code>sys_lstat64(340)</code> on the <code>Snapchat</code> binary. Probably to check for modifications or generating a checksum.</p>

<h2 id="how-all-this-stuff-was-found">How all this stuff was found</h2>

<p>A lot of the work was done using a small iOS emulator build on top of <a href="https://github.com/unicorn-engine/unicorn">Unicorn</a>. Using an emulator you can see everything they do. Building this was also teached me a lot about the CoreFoundation library of iOS.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_emulator.png" alt="iOS emulator">
</p>

<p>Later I implemented a counter for all of my discoveries in a tweak called <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> while carefully keeping track of how my changes modified the detection flags and slowly getting rid of all of them. You can easily find fixes for checks mentioned in this blog post in the â€œDetectionsâ€ directory.</p>

<p>You could alternatively trace the syscalls using any of the methods discussed in the WhoYouGonnaSyscall talk by <a href="https://twitter.com/hexploitable">Hexploitable</a>. Slides of the talk can be found <a href="https://github.com/radareorg/r2con2019/blob/master/talks/WhoYouGonnaSyscall/Hex-r2con2019-WhoYouGonnaSyscall.pdf">here</a>.</p>

<h3 id="a-story-on-how-i-wasted-hours-on-fixing-syscalls">A story on how I wasted hours on fixing syscalls</h3>

<p>Letâ€™s take <code>sys_access(33)</code> as an example. Itâ€™s implementation looks like <a href="http://man7.org/linux/man-pages/man2/access.2.html">this</a>. In short, when a file exists and permission is granted, return <code>0</code>. Otherwise return <code>-1</code>. First thing I did was force both of the results in my emulator but I saw no changes happening to the detection flags.</p>

<p>Later when implementing a fix for this in the <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> tweak, I was unable to have it fail. The arm instructions look like this:</p>

<div><div><pre><code>MOV             X0, X27 ; path
MOV             X1, #0  ; mode
MOV             X16, #0x21
SVC             0x80    ; SYS_access
MOV             X0, #0xFFFFFFFFFFFFFFFF
CSEL            X0, X0, XZR, CS
MOV             X27, X0 ; Use result
</code></pre></div></div>

<p>In â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aeonlucid.com/Snapchat-detection-on-iOS/">https://aeonlucid.com/Snapchat-detection-on-iOS/</a></em></p>]]>
            </description>
            <link>https://aeonlucid.com/Snapchat-detection-on-iOS/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757666</guid>
            <pubDate>Tue, 07 Jul 2020 10:35:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Panic Better, fewer, syntax errors for LR parsers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757356">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/ | <a href="https://web.archive.org/web/*/https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<p><strong>Abstract</strong>  
<span>Syntax errors are generally easy to fix for humans, but not for parsers in general nor LR parsers in</span>
<span>particular. Traditional â€˜panic modeâ€™ error recovery, though easy to implement and applicable to</span>
<span>any grammar, often leads to a cascading chain of errors that drown out the original. More</span>
<span>advanced error recovery techniques suffer less from this problem but have seen little practical use</span>
<span>because their typical performance was seen as poor, their worst case unbounded, and the</span>
<span>repairs they reported arbitrary. In this paper we introduce the </span><span>CPCT</span><span>+</span>  <span>algorithm, and an</span>
<span>implementation of that algorithm, that address these issues. First, </span><span>CPCT</span><span>+</span> <span>reports the complete set of</span>
<span>minimum cost repair sequences for a given location, allowing programmers to select the one that</span>
<span>best fits their intention. Second, on a corpus of 200,000 real-world syntactically invalid Java</span>
<span>programs, </span><span>CPCT</span><span>+</span>  <span>is able to repair 98.37%</span><span>Â±</span><span>0.017% </span><span>of files within a timeout of 0.5s. Finally,</span>
<span>CPCT</span><span>+</span> <span>uses the complete set of minimum cost repair sequences to reduce the cascading error</span>
<span>problem, where incorrect error recovery causes further spurious syntax errors to be identified.</span>
<span>Across the test corpus, </span><span>CPCT</span><span>+</span> <span>reports 435,812</span><span>Â±</span><span>473 </span><span>error locations to the user, reducing the</span>
<span>cascading error problem substantially relative to the 981,628</span><span>Â±</span><span>0 </span><span>error locations reported by panic</span>
<span>mode.</span>
</p>

<h3><span>1</span> <a id="x1-10001"></a>Introduction</h3>
<!--l. 131--><p>Programming is a humbling job which requires acknowledging that we will make untold errors in
our quest to perfect a program. Most troubling are semantic errors, where we intended the
program to do one thing, but it does another. Less troubling, but often no less irritating, are
syntax errors, which are generally minor deviances from the exacting syntax required by a
compiler. So common are syntax errors that parsers in modern compilers are designed to cope
with us making several: rather than stop on the first syntax error, they attempt to
<span>recover </span>from it. This allows them to report, and us to fix, all our syntax errors in one
go.
</p><!--l. 141--><p>When error recovery works well, it is a useful productivity gain. Unfortunately, most current
error recovery approaches are simplistic. The most common grammar-neutral approach to error
recovery are those algorithms described as â€˜panic modeâ€™ (e.g.&nbsp;[<a href="#Xholub90compilerdesign">13</a>, p.&nbsp;348]) which skip input until
the parser finds something it is able to parse. A more grammar-specific variation of this
idea is to skip input until a pre-determined synchronisation token (e.g. â€˜;â€™ in Java) is
reached&nbsp;[<a href="#Xdegano95comparison">8</a> , p.&nbsp;3], or to try inserting a single synchronisation token. Such strategies are
often unsuccessful, leading to a cascade of spurious syntax errors (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an
example). Programmers quickly learn that only the location of the first error in a file â€“ not
the reported repair, nor the location of subsequent errors â€“ can be relied upon to be
accurate.
</p>
                                                                            
                                                                            
<hr><div>
                                                                            
                                                                            
                                                                            
                                                                            
<div><div><table id="TBL-1"><colgroup id="TBL-1-1g"><col id="TBL-1-1"><col id="TBL-1-2"></colgroup><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1"> <!--l. 159--><!--l. 160--><p><span>(a)</span> </p> </td><td id="TBL-1-1-2"> <div><!--l. 166-->
<p><span><a id="x1-1002r1"></a></span><span>class</span><span>&nbsp;</span><span>C</span><span>&nbsp;</span><span>{</span><span>&nbsp;</span><br><span><a id="x1-1003r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1004r3"></a></span><span>}</span>
</p>
  </div>                         </td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1"> <!--l. 173--><!--l. 175--><p><span>(c)</span> </p></td><td id="TBL-1-2-2"> <div><!--l. 181-->
<p><span><a id="x1-1006r1"></a></span><span>Parsing</span><span>&nbsp;</span><span>error</span><span>&nbsp;</span><span>at</span><span>&nbsp;</span><span>line</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>col</span><span>&nbsp;</span><span>9.</span><span>&nbsp;</span><span>Repair</span><span>&nbsp;</span><br><span>
<a id="x1-1007r2"></a></span><span>sequences</span><span>&nbsp;</span><span>found</span><span>:</span><span>&nbsp;</span><br><span><a id="x1-1008r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>1:</span><span>&nbsp;</span><span>Delete</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><br><span>
<a id="x1-1009r4"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>2:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>,</span><span>&nbsp;</span><br><span><a id="x1-1010r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>3:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>=</span>
</p>
  </div>                         </td>
</tr></tbody></table></div>
</div><div><div><table id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"><col id="TBL-2-2"></colgroup><tbody><tr id="TBL-2-1-"><td id="TBL-2-1-1"> <!--l. 195--><!--l. 197--><p><span>(b)</span> </p> </td><td id="TBL-2-1-2"> <div><!--l. 203-->
<p><span><a id="x1-1012r1"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>â€™;â€™</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1013r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1014r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span><span>&nbsp;</span><br><span>
<a id="x1-1015r4"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>&lt;</span><span>identifier</span><span>&gt;</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1016r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1017r6"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span>
</p>
  </div>                           </td>
</tr></tbody></table></div></div><p><span>
<span>Figure</span><span>&nbsp;1:  </span></span><span><span>An example of a simple, common Java syntax error (</span><a href="#x1-1001r1"><span>a</span></a><span>) and the problems traditional</span>
<span>error recovery has in dealing with it. </span><span>javac </span><span>(</span><a href="#x1-1011r2"><span>b</span></a><span>) spots the error when it encounters â€˜</span><span>y</span><span>â€™. Its error</span>
<span>recovery algorithm then repairs the input by inserting a semicolon before â€˜</span><span>y</span><span>â€™ (i.e.</span><span>&nbsp;making the input</span>
<span>equivalent to â€˜</span><span>int x; y;</span><span>â€™). This then causes a spurious parsing error, since â€˜</span><span>y</span><span>â€™ on its own is not</span>
<span>a valid statement. The </span><span>CPCT</span><span>+</span>  <span>error recovery algorithm we introduce in this paper produces the</span>
<span>output shown in (</span><a href="#x1-1005r3"><span>c</span></a><span>): after spotting an error when parsing encounters â€˜</span><span>y</span><span>â€™, it uses the Java grammar</span>
<span>to find the complete  set  of  minimum  cost  repair  sequences  (unlike  previous  approaches  which</span>
<span>non-deterministically find one minimum cost repair sequence). In this case three repair sequences</span>
<span>are reported to the user: one can delete â€˜</span><span>y</span><span>â€™ entirely (â€˜</span><span>int x;</span><span>â€™), or insert a comma (â€˜</span><span>int x, y;</span><span>â€™), or</span>
<span>insert an equals sign (</span><span>â€˜int x = y;â€™</span><span>).</span>
</span></p><!--tex4ht:label?: x1-1018r1 -->
                                                                            
                                                                            
</div><hr>
<!--l. 233--><p>It is possible to hand-craft error recovery algorithms for a specific language. These
generally allow better recovery from errors, but are challenging to create. For example,
the Java error recovery approach in the Eclipse IDE is 5KLoC long, making it only
slightly smaller than a modern version of Berkeley Yacc â€” a complete parsing system!
Unsurprisingly, few real-world parsers contain effective hand-written error recovery
algorithms.
</p><!--l. 240--><p>Most of us are so used to these trade-offs (cheap generic algorithms and poor recovery
vs.&nbsp;expensive hand-written algorithms and reasonable recovery) that we assume them to be
inevitable. However, there is a long line of work on more advanced generic error recovery
algorithms. Probably the earliest such algorithm is Aho and Peterson&nbsp;[<a href="#Xaho72minimum">1</a>], which, upon
encountering an error, creates on-the-fly an alternative (possibly ambiguous) grammar which
allows the parser to recover. This algorithm has fallen out of favour in programming
language circles, probably because of its implementation complexity and the difficulty of
explaining to users what recovery has been used. A simpler family of algorithms, which
trace their roots to Fischer <span>et al.</span>&nbsp;[<a href="#Xfischer79locally">11</a>], instead try to find a single minimum cost <span>repair</span>
<span>sequence </span>of token insertions and deletions which allow the parser to recover. Algorithms in
this family are much better at recovering from errors than naive approaches and can
communicate the repairs they find in a way that humans can easily replicate. However, such
algorithms have seen little practical use because their typical performance is seen as
poor and their worst case unbounded [<a href="#Xmckenzie95error">17</a>, p.&nbsp;14]. We add a further complaint: such
approaches only report a single repair sequence to users. In general â€“ and especially in
syntactically rich languages â€“ there are multiple reasonable repair sequences for a given
error location, and the algorithm has no way of knowing which best matches the userâ€™s
intentions.
</p><!--l. 261--><p>In this paper we introduce a new error recovery algorithm in the Fischer <span>et al. </span>family, <span>CPCT</span><span>+</span>.
This takes the approach of Corchuelo <span>et al.</span>&nbsp;[<a href="#Xcorchuelo02repairing">5</a>] as a base, corrects it, expands it, and
optimises its implementation. <span>CPCT</span><span>+</span> is simple to implement (under 500 lines of Rust
code), is able to repair nearly all errors in reasonable time, reports the complete set of
minimum cost repair sequences to users, and does so in less time than Corchuelo <span>et</span>
<span>al.</span>.
</p><!--l. 269--><p>We validate <span>CPCT</span><span>+</span> on a corpus of 200,000 real, syntactically incorrect, Java programs
(Section&nbsp;<a href="#x1-140006">6<!--tex4ht:ref: experiment --></a>). <span>CPCT</span><span>+</span> is able to recover 98.37%<span>Â±</span><span>0.017% </span>of files within a 0.5s timeout and does so
while reporting fewer than half the error locations as a traditional panic mode algorithm: in other
words, <span>CPCT</span><span>+</span> substantially reduces the cascading error problem. We also show â€“ for, as far as we
know, the first time â€“ that advanced error recovery can be naturally added to a Yacc-esque
system, allowing users to make fine-grained decisions about what to do when error recovery has
been applied to an input (Section&nbsp;<a href="#x1-180007">7<!--tex4ht:ref: sec:api --></a>). We believe that this shows that algorithms such as <span>CPCT</span><span>+</span>
are ready for wider usage, either on their own, or as part of a multi-phase recovery
system.
</p>
<h4><span>1.1</span> <a id="x1-20001.1"></a>Defining the problem</h4>
<!--l. 285--><p>Formally speaking, we first test the following hypothesis:
</p><!--l. 287--><dl><dt>
<span>H1</span></dt><dd>The complete set of minimum cost repair sequences can be found in acceptable time.</dd></dl>
                                                                            
                                                                            
<!--l. 292--><p>The only work we are aware of with a similar concept of â€˜acceptable timeâ€™ is&nbsp;[<a href="#XdeJonge12natural">6</a>], who define it
as the total time spent in error recovery per file, with a threshold of 1s. We use that
definition with one change: Since many compilers are able to fully execute in less than 1s,
we felt that a tighter threshold is more appropriate: we use 0.5s since we think that
even the most demanding users will tolerate such a delay. We strongly validate this
hypothesis.
</p><!--l. 300--><p>The complete set of minimum cost repair sequences makes it more likely that the programmer
will see a repair sequence that matches their original intention (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an example;
Appendix&nbsp;<a href="#x1-28000A">A<!--tex4ht:ref: app:examples --></a> contains further examples in Java, Lua, and PHP). It also opens up a new
opportunity. Previous error recovery algorithms find a single repair sequence, apply that to the
input, and then continue parsing. While that repair sequence may have been a reasonable local
choice, it may cause cascading errors later. Since we have the complete set of minimum
cost repair sequences available, we can select from that set a repair sequence which
causes fewer cascading errors. We thus rank repair sequences by how far they allow
parsing to continue successfully (up to a threshold â€” parsing the whole file would, in
general, be too costly), and choose from the subset that gets furthest (note that the
time required to do this is included in the 0.5s timeout). We thus also test a second
hypothesis:
</p><!--l. 315--><dl><dt>
<span>H2</span></dt><dd>Ranking the complete set of minimum cost repair sequences by how far they allow
parsing to continue locally reduces the global cascading error problem.</dd></dl>
<!--l. 321--><p>We also strongly validate this hypothesis. We do this by comparing â€˜normalâ€™ <span>CPCT</span><span>+</span> with a
simple variant <span>CPCT</span><span>+</span><span>rev</span> which reverses the ranking process, always selecting from amongst the
worst â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</a></em></p>]]>
            </description>
            <link>https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757356</guid>
            <pubDate>Tue, 07 Jul 2020 09:43:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Symbolic execution with SymCC: Don't interpret, compile!]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757353">thread link</a>) | @DyslexicAtheist
<br/>
July 7, 2020 | http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html | <a href="https://web.archive.org/web/*/http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

  <blockquote>
    <p>
      Symbolic execution with SymCC: Don't interpret, compile!
    </p>
    
    <em>Proceedings of the 29th USENIX Security Symposium (USENIX Security 20),
    Boston, MA, USA</em>
    
    
    <p>
      A major impediment to practical symbolic execution is speed, especially
      when compared to near-native speed solutions like fuzz testing. We propose
      a compilation-based approach to symbolic execution that performs better
      than state-of-the-art implementations by orders of magnitude. We present
      SymCC, an LLVM-based C and C++ compiler that builds concolic execution
      right into the binary. It can be used by software developers as a drop-in
      replacement for <tt>clang</tt> and <tt>clang++</tt>, and we show how to
      add support for other languages with little effort. In comparison with
      KLEE, SymCC is faster by up to three orders of magnitude and an average
      factor of 12. It also outperforms QSYM, a system that recently showed
      great performance improvements over other implementations, by up to two
      orders of magnitude and an average factor of 10. Using it on real-world
      software, we found that our approach consistently achieves higher
      coverage, and we discovered two vulnerabilities in the heavily tested
      OpenJPEG project, which have been confirmed by the project maintainers and
      assigned CVE identifiers.
    </p>
  </blockquote>

  <h2 id="intro">Introduction</h2>

  <p>
    SymCC is a fast compiler-based symbolic execution engine. On this page, we
    provide SymCC's source code, the raw results of the experiments described in
    the paper, as well as instructions how you can replicate those experiments
    yourself.
  </p>

  <h2>Code</h2>

  <p>
    SymCC is available
    on <a href="https://github.com/eurecom-s3/symcc">GitHub</a>.
  </p>

  <h2>Experiments</h2>

  <p>
    In the paper, we describe two sets of experiments: we first benchmark SymCC
    on the CGC programs, then we run it on real-world software. This section
    describes how to replicate our experiments, and provides links to our
    results.
  </p>

  <ol>
    <li>
      <p>
        CGC experiments (our results
        for <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_pure_time.csv">pure
        execution
        time</a>, <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_concolic_time.csv">concolic
        execution time</a>,
        and <a href="http://www.s3.eurecom.fr/~seba/symcc_cgc_concolic_coverage.tar.gz">coverage</a>)
      </p>

      <p>
        We used the <a href="https://github.com/trailofbits/cb-multios">Linux
          port</a> of the CGC programs by Trail of Bits. SymCC needs to be built
        with support for 32-bit compilation (see <tt>docs/32-bit.txt</tt>;
        this is not part of the Dockerfile because it would double the build
        time of the container while providing value to just a few users). Then
        you can simply export
        <tt>CC=/path/to/symcc</tt>, <tt>CXX=/path/to/sym++</tt> and <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt>, and
        build the CGC programs as usual (i.e., by invoking their build.sh script).
      </p>

      <p>
        Run the programs on the raw PoV inputs
        with <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt> to measure pure execution
        time, and unset the environment variable for symbolic execution. To
        assess coverage, we ran <tt>afl-showmap</tt> with the
        AFL-instrumented CGC programs on each generated input and accumulated
        the resulting coverage maps per program, resulting in a set of covered
        map entries for each CGC program. The sizes of those sets can then be
        fed to the scoring formula presented in the paper.
      </p>

      <p>
        For KLEE and QSYM, we used the setup
        described <a href="http://www.s3.eurecom.fr/tools/symbolic_execution/ir_study.html">here</a> but with the regular 32-bit
        binaries built by cb-multios.
      </p>
    </li>

    <li>
      <p>Real-world software</p>

      <p>
        The analysis of real-world software always follows the same procedure.
        Assuming you have exported <tt>CC=symcc</tt>, <tt>CXX=sym++</tt>
        and <tt>SYMCC_NO_SYMBOLIC_INPUT=1</tt>, first download the code,
        then build it using its own build system, finally
        unset <tt>SYMCC_NO_SYMBOLIC_INPUT</tt> and analyze the program in
        concert with AFL (which requires building a second time for AFL,
        see <tt>docs/Fuzzing.txt</tt>). We used AFL 2.56b and built the
        targets with <tt>AFL_USE_ASAN=1</tt>. Note that the fuzzing helper
        is already installed in the Docker container.
      </p>

      <ul>
        <li>
          <a href="https://github.com/uclouvain/openjpeg.git">OpenJPEG</a>
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_openjpeg.tar.gz">our
          results</a>): we used revision <tt>1f1e9682</tt>, built with CMake as
          described in the project's <tt>INSTALL.md</tt>
          (adding <tt>-DBUILD_THIRDPARTY=ON</tt> to make sure that third-party
          libraries are compiled with SymCC as well), and
          analyzed <tt>bin/opj_decompress -i @@ -o /tmp/image.pgm</tt>; the
          corpus consisted of test
          files <a href="https://github.com/uclouvain/openjpeg-data/blob/master/input/conformance/file1.jp2">file1.jp2</a>
          and <a href="https://github.com/uclouvain/openjpeg-data/blob/master/input/conformance/file8.jp2">file8.jp2</a>.
        </li>

        <li>
          <a href="https://github.com/libarchive/libarchive.git">libarchive</a>
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_libarchive.tar.gz">our
          results</a>): we used revision <tt>9ebb2484</tt>, built with CMake as
          described in the poject's <tt>INSTALL</tt> (but
          adding <tt>-DCMAKE_BUILD_TYPE=Release</tt>), and
          analyzed <tt>bin/bsdtar tf @@</tt>; the corpus consisted of just a
          single dummy file containing the character "A".
        </li>

        <li>
          tcpdump
          (<a href="http://www.s3.eurecom.fr/~seba/symcc_afl_tcpdump.tar.gz">our
          results</a>): we built both tcpdump and libpcap; in order to make the
          former find the latter, just place the source directories next to each
          other in the same folder. We used revision <tt>d615abec</tt>
          of <a href="https://github.com/the-tcpdump-group/libpcap.git">libpcap</a>
          and revision <tt>d57927e1</tt>
          of <a href="https://github.com/the-tcpdump-group/tcpdump.git">tcpdump</a>.
          We built first libpcap and then tcpdump with <tt>./configure
          &amp;&amp; make</tt>, and analyzed
          <tt>tcpdump/tcpdump -e -r @@</tt>; the corpus consisted of just a single dummy
          file containing the character "A".</li>
      </ul>

      <p>
        All experiments used one AFL master process, one secondary AFL process,
        and one SymCC process. We let them run for 24 hours and repeated each of
        them 30 times to create the graphs in the paper; AFL map density was
        extracted from the secondary AFL process' <tt>plot_data</tt> file,
        column <tt>map_size</tt>.
      </p>

      <p>
        The QSYM experiments used an analogous setup, replacing SymCC with QSYM
        and running it with AFL according to the QSYM
        authors' <a href="https://github.com/sslab-gatech/qsym#run-hybrid-fuzzing-with-afl">instructions</a>.
      </p>
    </li>
  </ol>

  <h2>Acknowledgements</h2>

  <p>
    This work was supported by the DAPCODS/IOTics ANR 2016 project (ANR-16-CE25-0015).
  </p>

  <h2>Contact</h2>

  <p>
    Feel free to <a href="http://www.s3.eurecom.fr/~seba/">reach out</a> to us
    if anything is unclear or if you need more information.
  </p>
</div></div>]]>
            </description>
            <link>http://www.s3.eurecom.fr/tools/symbolic_execution/symcc.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757353</guid>
            <pubDate>Tue, 07 Jul 2020 09:42:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wi-Fi overview]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757008">thread link</a>) | @arazy
<br/>
July 7, 2020 | https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf | <a href="https://web.archive.org/web/*/https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>ï¿½Ã‚~nÂ£Ã¯Â¹Ã¸?4?Â¡Ã Â¸ÃÂ¶{Ã‘ÃbÅ¸Ã²NÃ˜Ëœâ„¢QÃŒ+6!Â´â€œ1Ã£.&nbsp;Â¦Å¡Ã’â€+Ã¯}&lt;=â€¡Ã½ï¿½/xÃ©Ã‘Ã¬'Ã¦Ã¨â„¢Â°XÂ·<iÃ®r8Ã{â‚¬:Ã®Ë†6;mÃµÂ­Ã‘xÃ•d!Å“( eÃ¬oÂ«sjpyÃÂ¶Ã£â€i}bÂ¶ï¿½|ÂºxÃ©Ã¡Ã¬'Ã¦Ã¨Â³â€¡Å¡iâ€â€˜2Â­Ã â€™#Å¡Ã·Ãˆ!â€¦ï¿½Ã˜ea0Â¸Ã…Å¾9yâ€º2\â‚¬wlï¿½Ã¤="" Â»="" Â¶â€Â¡_x+Ã¨1Ã‹{_Å¡Ã¿ï¿½ghoï¿½ËœÃ hÃ¿ï¿½Â³Â¢aâ€šÃ…Ã™l#xÃ³Å½!`xx\Ã©mjÃ¬l*hâ€™Ãˆ%Ã#8"Ã¢Ã™ËœÂ±:m="">Â¯OE)B~Ã°'Ã“ÃƒÃ˜OÃÃ’Ã·â€šÃ–ÃÂ·ÂµÃ­ÃknÂ¾]bbi&nbsp;xâ€˜Â²9FÃ›fÃª}B+{â€º$DÃ¤Ëœâ€¦&amp;Ãš
â€!n
ÃºÂ¯JPÃ—Â¼	Ã™Ã¡Ã‚Ã¿HÃ¿Â³Â§Ã·â‚¬oOa?7Dcï¿½Ãï¿½Â±Å“(RÃ™ï¿½IÂ¦Ã‹tÃ›mvÃ–Â¨`Ã„G1â€™IÃŒâ€˜ï¿½@OWCÃ«mÃ±Ã’â€%Ã¯}&lt;=â€Ã¼Ã7Â¼Ã¦Ã²Ã¬Â¿5Ã¾Ãï¿½ï¿½s#/Â¢R=qjÃ¥ï¿½ÃŠÃ„Ã‡a%Â¬R5pÃ„Ãœâ€V[^Ã‡MtÃ)CÂ¾Ã°'Ã“ÃƒÃ˜OÃÃ“Ã»Ã€7Â§â€¡Â°Å¸â€ºÂ¢Â¬Ëœâ€°ÃŸ2Æ’â€¢bÃšlltZÃ€zÂºÃ–ÃšRâ€š=Ã Ã“ÃƒÃ˜OÃÃ’Ã·â‚¬&gt;Å¾Ã‚~nï¿½Ã©Râ€Ã¯}&lt;=â€Ã¼Ã/xÃ©Ã¡Ã¬'Ã¦Ã¨Ãâ€¢)AÃ°Ã“ÃƒÃ˜OÃÃ’Ã·â‚¬&gt;Å¾Ã‚~nï¿½Ã©Râ€Ã¯}&lt;=â€Ã¼Ã/xÃ©Ã¡Ã¬'Ã¦Ã¨Ãâ€¢)AÃ°Ã“ÃƒÃ˜OÃÃ’Ã·â‚¬&gt;Å¾Ã‚~nï¿½Ã©Râ€Ã¯}&lt;=â€Ã¼Ã/xÃ©Ã¡Ã¬'Ã¦Ã¨Ãâ€¢)AÃ°Ã“ÃƒÃ˜OÃÃ’Ã·â‚¬&gt;Å¾Ã‚~nï¿½Ã©Râ€Ã¯}&lt;=â€Ã¼Ã/xÃ´Ã°Ã¶Ã³toJâ€&nbsp;ï¿½xÃ´Ã°Ã¶Ã³tÂ½Ã Ã“ÃƒÃ˜OÃÃ‘Â½*Râ€š=Ã Ã“ÃƒÃ˜OÃÃ’Ã·â‚¬oOa?7FÃ´Â©JÃ·â‚¬oOa?7KÃÃºx{	Ã¹Âº7Â§Â¥(ÃÂ½&lt;=â€Ã¼Ã/xÃ´Ã°Ã¶Ã³tqJâ€&nbsp;Ã¿ÃÃ›Â¼Ã©{Ë†Â¡@%Â±Ã­Ã±Â¢HeÃ¡
Å â‚¬|FÃ¿ PÃ®Ã²Ã‘dÃœ@AÂ¶"K_Ã†â€°0Å“â€¦Ã¤Â­x_|Ã…Ë†`Ã™ÃÃ§mÃ£Â©JÃ¡Ë†Ã¡mÂ®0ÃÃ‘y	ENtâ€ÃÃ¶Ã´[-Ã­Ã—dH2Â«`ÃˆXÃºÃ€Ã–QÂ¹Ã¡PÃ†Â²Ãˆ#kÃ±nâ€jnFÂ«zÃ“ÃqBÃ´+Â·&nbsp;â€¹VÃ¶*tG,tÃ‹UjPÃƒNÃÃÃ«â€°&gt;Ã®bÃÂ³Gâ€¡Ã³Â»Ã±Ã¢â€â€ï¿½,+Âºï¿½â„¢Tï¿½d
Ã®|ÂºÃˆw=Ã™BIË†â€“HÃ…Â®ï¿½Ãe!H66Å’iZÃ²Â·WEÂª$Ã&nbsp;HÃ’IÂ®|[Â­Ã¸Å’â€˜Â£p|P3#Â£Â±kYâ€0ï¿½}zmÂ®ÃŠÂ·Å½Ã°gH#^Y-eu6ROâ‚¬ï¿½ÃÃÂ»â€¢Lâ€°ï¿½Ã³Ã¥]4Ã™Â²Â£ï¿½ÃœÃ´Ã‡*â€°!KÃ¥d MÂºÃÃªÂ¢Ã„Ã§Â¢Â²xÂª;Å¸Âºï¿½YFP$ï¿½Â²Â²ï¿½Â¢Ã£hÃ©7Â©.98Sâ€¡9^qÃ°Â°mzAÂ½Â­nÅ¡Å¾	8sÃ¯ï¿½â€¹6bIsÃ¤ÂªÃ“sÃ„xÂ£â€¹1f&amp;Ã«hÃ¬AÂ½â€¦Ã‚ÃŸKÃ©Â¯â€“Â¢Ã â€“!Â²#Â±â„¢Å¡	Ã‹GÃaf',OÃ…ï¿½0bÃ¤lPÂ¸Â¹Ã±
â€“%!Ãâ€Ã˜Â°Râ€ºï¿½=]=U6â€¹9V7/b
Â¶Ã¨iÃ•2.UÃ˜/Â´ÃŸiÂ¿Ã‰Â¬Ã·4Ã’Â¹Ã˜lv.lÅ“2GpÃ¼`Â¥ï¿½fP3]NBv{Â¢Âº`ÃÃ›
Ã–Ã·:+
Ã®dkâ€šÃ§â€˜Â¡$Å“Å½ÃÃµ,ZÃ· ï¿½Â§Â®Â¶â€¦"Ã!nÅ VL@Ã›Â®Â±Â¶Ã©Ã¡Ã£/Ãƒï¿½EkË†Ã¹GExÂµ;mÂ¶Â¤Â»Â§Æ’c`Xqsc`1Â±#hÃ©saÃ¢qgï¿½XqÂ¶ï¿½Ã°zÂ·Â¯Ã“TÂ¶Ã¦Ã¡Ã‹Ëœâ€Ã2Ã¸.Â¿Å’eÂ¥bÂ¢Â»Â«ï¿½mUËœÅ’Ã¡.#k\Ã›[Ã›`Â¾Â§&nbsp;Ã•Â«ï¿½ÃƒÂ½â‚¬Ãv#(Ã ÃšÃ¤lÃ€[â€œÂ¦Ãâ€¢!â€ï¿½oâ€“$Ãš,-Â¥Âº=AQ\+'hÂ¶UÃ“(Â»g$Â²@ÃµÂ©Jy&amp;Å Å½ï¿½Â²ÃŠÃ’Ãœâ€Â»Nâ€™Ãº+,â€ºÂ¡ÃÃˆÂ°Ã¯â€¢Å“Â¢Hâ€gÃŒTÃ—~ï¿½â€“;m[Å¡ï¿½Ã„â€™FÃ€*Ã˜Ã˜ÂµXÃ€Ã Ã—AÃšÃŒ-Â¦Ã†Ã›Ã«Ã’â€¢Å¾=Ãâ€ NÃ±Â¸Ã‰qÃ‡&amp;Ã¶lâ€mÃ£iÃ­Ã’Ã³BÃŒÂ®ï¿½ï¿½YTÂª3Â¸Â»HPâ€¹Ã˜j-Ã“ÃªVÃ…ÃƒÃ€â„¢Â²Ã„Â£:â€¦m&nbsp;|VÂ¨Â®â€˜Ëœâ€“Ã–ÂºÃ˜XÃ˜Ãœ_Ã•4Â¥&lt;
"%â„¢ÂªÂ¶Ã€Ã¹Ã‘Â¶Ã›cXÃ•Â¼Ã¸Ã¾Â¤~]F(Ã’Ã„Q&amp;D]Å 6
Å¾cÃ•Ã­Å RÂ«b"Ãšï¿½ÂªZÃ—Â¾Ã‹ÃµÃ—8Ã®ÃpÃ«+FÃ™Ãœâ€˜Â¨-{0]Â¹EÂµ=#&nbsp;Ã—Iï¿½kÃœhEË†5K`Ã°Ã¬C4HHÃ™Â§â€œÃ¥
RÂ«;Â¥â€ Eâ€¹â€¦ÂºÂ´Ã™Å Â¨RÃ¤6$Ã˜h*Ã†Ã„Ã„`yÃ€bâ€˜Ã¦'BÂ¤Ã¥Ã’Ã¶Â¸={)MÃ–%Ã¬oÃ£nWÂ¯V,(Â«â€˜PÃ˜TZÃ–Ã‹â€“Ã–Ã²Râ€¢â€°Â·F$ï¿½d15Â¸Ã¼ ÃxÂ¥â€šÂ°Ã«Â»{ZÃ”Å¸p$ÃŒï¿½â„¢ÃœÂ¦@YÂ¬UÃ¸6%â€ â‚¬Ã’vÃ–ï¿½â€Ã‚Å’Â¤@Å“Qa&nbsp;ÃZÃÃ¡Â§l.â€¢Â¡RÂ±râ€¦â€¡â€™â€Â¬qnÂ¦Â¢Y$IÅ“\"â€°$6Â°#`Ã±Ã¼Â«ï¿½k&nbsp;â€š)dBJÂºâ€ Sâ„¢Âµ\ÂµZapÃ‘(XÃ¡U`uÃÂ®PB"Ã¥U,@)JÆ’8Å’ï¿½y*Â¬Ã‡Â¤Ã©jÃŒ7B%XÃŒÃªc3.dÃ²qtÃ£1QaÂ´)Ã›ZÅ â€™Ã™Â¼D[Ã‹oâ€¢TZÃ&nbsp;ÃŠK
â€¦Â´4Â¥WÃ¦Â®*Â³3*ÂµÃµhÃ@Â°'[ï¿½/m/Â¶Â¢Ã›Â­â€ *ÃˆÃ¢B&nbsp;FbFâ€“QÂ´
kAÃ‚Ã€EÅ’HFÅ¡:â€¦GÃ€pÃšyÃŠhÃ—â€™n=jR&nbsp;wOÂ±Ã`@Â¸ï¿½Ãˆ:H6Ã”Å¾â€¹UÃ’Ã#Ã‚Ã‰â€°
HHÃ™Ã‚ï¿½TÅ“&nbsp;â€ºj.6S$5Â¢AÅ¸â€¢&nbsp;Ã—K{â€ Â¦bSâ€Â¨1Â²â€¢+Ã‘cÂ´PÃ±VVËœâ€˜#Å Â°nVÃ«Ã’iÃ…ÃpAO+5Ã³_Ã„:Â«Â§YÂ°Ã¸,61ÃƒDÂ±5Â¯Â­Â¶m5}Å¡Â°Â²fMNÃ±Â¶ÃMÂ¥(â„¢@:tgÂ¬Ã«Â©RÂ¨Ã™Â©YÂ«5Â®Â¥JÂ£fÂ¥fÂ¥*TÂª6jVjRÂ¥JÂ£fÂ¥fÂ¥*TÂª6jVjRÂ¥JÂ£fÂ¥fÂ¥*TÂª6jVjRÂ¥JÂ£fÂ¥fÂ¥*TÂª6jVjRÂ¥JÂ£fÂ¥fÂ¥(Ã¿Ã‘Â·{Å mÃ„â€¹Ãâ€¹Â¸Â©Å¡Lâ€¡[Âº[Â¤ÃµÂ¡Â®Â¼ËœÃÃ•{Ã‚Â°â€¦â€¢â€™S`Â¦Ãª5
CÂ·ï¿½Ã˜ÃŸÃ…\-Ãªcq1nw
Â£+Â±/â€ºKÃ˜|â€™Â»Ã‡tq`Ã˜Ã°ï¿½Ã³Ã‹Ã»â€¢ï¿½Â¤Ã¨Ã“bÂ­ÃÃÂ¹ï¿½â€šB_ e9Â²&nbsp;6PÃ‚Ã·Ã˜,FÂ¶Â­Â¸Â§ï¿½`Â¶1â€¢Ã˜(*Ã‹}KÃ„
Ã©Â®wâ€¡cvÃšÅ½|ÂªqÂº8Ã¡Â°AÃ±Ãâ€¢L'aÂ¬bENmÃ”Ã…Câ€œ6Â¯ÃŠÃ¡Ã¯lâ€¦â€°ÂºÂ©Ã¤[Ã…Ã“RÅ¸â€¹â€¹+Ã„@Â«qKÃ‡â€”Æ’Ão|ÃºhNâ€”Ã’Âª;Â¡ï¿½`Uâ€ â€š,A}Âª^hÃ£Âº&nbsp;ÃµÂ¤Ã¹TÃ‚vSÃš*Ã¸1Ã˜Ã—â€“4â€“Â«$Å’Ã†EÃˆÂ¬.HÂ±76Ã¨ÃµÃ«Â¥\o4qÃPzÃ’|Âª^hÃ£Âº&nbsp;ÃµÂ¤Ã¹TÃ‚vSÃ›]Å¡ÃŒÂ­Ë†Ã d8â‚¬Å Ã€Â¶N
â„¢â€ [hMÃ€Â±Ã±{uÃÃ³GÃ•Â­'ÃŠÂ¦;Â¡ï¿½"Ã–Æ’Ã–â€œÃ¥S	Ã˜iË†mÂ­Â¸â€“Ã„Ã°â€˜Å’0Ã£Ã¤Ã¥_Æ’Â¿Ã—Â·Â«jâ€“	Â§8eÃ°ï¿½DÂ·lÃÂ¶Ã²ï¿½ÃˆÂ¬ï¿½ÃªÆ’Ã£Â¿*â€”â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ©gâ€.Ã£=}Â½@Â¾#ËœÃ‘9gÂ¶Ã¥ZÃ•Â±Â¾hZP&lt;Æ’lâ€¦/â€“Ã·Â¯Ã°
Å½Ãª&gt;-bSâ€ÃšÅ“Ã¡9^-Å¡Ã–oÃ†ÃµAÃ±ÃŸâ€¢KÃƒÃ±Â½P|wÃ¥VA!â€¢Â°Æ’â€hÅ’ï¿½aâ€˜Y1Â°Ã†fAÃŒsÅ½ÃŠÃ¨Ã¡Ã¾
â€¦i6^&gt;ÃÂ¾;tÃ›mSâ€ liÃ„MÃ‚â‚¬0Ã¡Ã›&amp;nYÃ—Â£Ã…Ã¥Ãµ+'â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ¥Ã¡Ã¸ÃÂ¨&gt;;Ã²Â«Ã°Â¸#â€¦Ã…Â£9ÃŠÂ³ï¿½Ã‚&lt;=9F{kf5Â±yÂ¡1v.sfÃ¤oâ€šÃ¾Ã•Ã˜fï¿½Ã†Ãœ-Ãƒpâ€™mÂ¾ÃŒÃ†Ã–Â¿GWÅ Â¹Â¾ï¿½ÃªÆ’Ã£Â¿*â€”â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ¡â€™Â¡pÃ¨Ã—Ã–@â€¹Ã¢9ÃªÅ“Âµh
XWÃÆ’4bE&lt;â€”bÃ¤Ã²nt |Ã°Ã¨Ã¢Â¥Hï¿½3Ã¦ÃˆZÃâ€uÂ¨â€¹Ã“\Ã¯Ã†ÃµAÃ±ÃŸâ€¢KÃƒÃ±Â½P|wÃ¥VXâ€“`pï¿½â€EEP"â€¢ZuÂ±Å¡Ã›â€¦ï¿½ÂºÃŠTÂ±â€7ï¿½3^Ã¤eÂµÃµÂµÃ¶Uâ€™&gt;XTÃ¸ÃzÃ¤W;ÃƒÃ±Â½P|wÃ¥RÃ°Ã¼oTÃ¹U	3SRâ€°Â®Â¤-Å¡Ã›Â­ÃºÃ Veâ€œÃ¡!H~9Â¾Å“[kmmY<!--?Ã•Ã‡-->U/Ã†ÃµAÃ±ÃŸâ€¢XÃ‚vÃ!Â¶ÂºÃ—Ã£Å¾ÃˆÃ·Mr]Ã”,Q#â€™Ã…Â¯#Å“ï¿½Ã£]tPGAÃ“Â«Â¢Å¸ÃƒÃ±Â½P|sÃ¥RÃ°Ã¼oTÃ¹TÃ‚vSÃš*RbwYÂ¡9#Ã Ã¥Ã”Ã©}Å½4Ã•â‚¬Ã¤ÃÃ‡Ã Âº-RÃ†&gt;Ã©pÂ²x:?U
â€¢Ãš
Â±kv\U~ï¿½ÃªÆ’Ã£Â¿*â€”â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ¦Â²Ëœâ€ Ã‘]ÃŒÂ¾Â¡Ã‰Ã°#1Â°,.Â¦ÃwÂ¬ÃÂº|XÃŒ,ÂªÂªÂ¬â€°,Ã§6Â·'`=G[T|?Ã•Ã‡~U/Ã†ÃµAÃ±ÃŸâ€¢L'aÂ¦!Â´Tâ€”ÂºÅ½Â´|Å Â´LÃ…â€ k8Ã•â€ RGÂ«zÃ©G/	{Â£Â¥Â­Ã‹mÂ¿Q5Ã‹Ã°Ã¼oTÃ¹TÂ¼?Ã•Ã‡~U0ï¿½â€Ã„6Ã–,LÃ¸Ã®ÃŒÂ¤x!Ã–Â¥Ã¬-Â§WUvÃ°o;a0Ã­â€°f(â‚¬Ã­)Ã›Ã£Â¬Å’&amp;Ã¥`$xÂ¤Ã¹TÃ¾ï¿½ÃªÆ’Ã£Å¸*Â¶1,ÃƒÂ¯Â¡Ãˆâ€™Xtï¿½uÃ¯X1ÃË†Ã¡U`XFKÂ´|â€™	Ã•GÃÂ­Â¨&gt;@6Ã–Ã†ÃµAÃ±ÃŸâ€¢KÃƒÃ±Â½P|wÃ¥VÂ¼'aÂ©Ã¢EtÃ°Ã¦oï¿½Ã‚9Ã®
xKlÃmvxÃªÃ‹Ã—#ÃƒÃ±Â½P|wÃ¥RÃ°Ã¼oTÃ¹TÃ‚vSÃ›]{Ã’Â½r<!--?Ã•Ã‡~U/Ã†ÃµAÃ±ÃŸâ€¢L'aÂ¦!Â¶ÂµcÃ›â€%â€™Prâ‚¬PÂ£)$Ã´ÃŸeP[8lÂ©4jÃ‹`XÂ¡$Â±}:ï¿½ï¿½7Â¨x~7ÂªÅ½Ã¼Âª^ï¿½ÃªÆ’Ã£Â¿*ËœNÃŠbE:Ã‰Âº ï¿½%Ã¡Â¤6Å’â€šNwÂ²XÂ¯Bâ€¹Ã¸Ã­jQ-->9&amp;S/Ã‘â€”!Â¸&nbsp;ÃœÃ¤kâ€º
BÃ²mÃ£Â½7â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ¥Ã¡Ã¸ÃÂ¨&gt;;Ã²Â©â€Ã¬Â¦!Â¶Â¤ÃÂºâ€ â‚¬Ã„%36â€ÂºÂ«Ã°yÃ‰Ã”XÃšÃ—Ã—Â®â„¢[ÃBÂ¬&amp;%^Ã¬Ã€0bÂºÃŸ5Ã™â€¦ÃˆÃ¨ÃµÂµÂµ7â€¡Ã£z&nbsp;Ã¸Ã¯ÃŠÂ¥Ã¡Ã¸ÃÂ¨&gt;;Ã²Â©â€Ã¬Â¦!Â´SÃ@pÃÂ¼Ã·\â€¦Ã¬
6RÃ—Â¹66Â·O]ÃªyÃ±bQâ€”Â¯â„¢â€°tÂ³ï¿½Å¡ï¿½Â­Â¦Â¦Ã–ï¿½Å½Â£Ã¡Ã¸ÃÂ¨&gt;;Ã²Â©xv;ÂªZ_â€¢L'aÂ¦!Â´WG
Ã®Ã˜hÅ’Â¡â€Å“Ã§,Ã—Ã†Ã£Ã‹W^Â¹ï¿½D:Ã¸Â¥Ã¹TÂ¼;Ã¨aÃºÅ’ÃŸ*ËœNÃŠHÃ›]{Ã’Â½qÃ?Â¢Ã¬!Â¬â€°@Ã¶Ã…7Å¡XÂ¿Â¢=iÂ¾U Ã’kÂ³zWÂ®1Ã,P&lt;Ã²â€°GÃˆÂ¥Ã¨Ã£Â¥,Ã‚83â€¢Ã‰/`Ã–
/}&gt;Â­ Ã’kÂ³zWÂ®HÃ†Ã£d
â€ -Ã•y/SÃ°ï¿½ÃÃªÆ’Ã£Å¸*â€¦HÃ’Â¤ï¿½ÂµÃ“Â½+Ã—3Ã‚wCÂªÅ½|Âª^ÂºP|sÃ¥R
$WNÃ´Â¯\Ã	ÃÂ¨&gt;9Ã²Â©xNÃ¨uAÃ±Ãâ€¢H4â€˜@Ã¿Ã’ÃÂ½{Ã¸Ã„j@Ãºâ€˜Â­Ã¢Y$Ã†GWNbÅ½Tâ€™uÃ‹Â¥Â¬*ï¿½Ã¤â‚¬Ã‘HÂ­Â¨Ã‰{|YÂ¢Ã¾
?CÃ®Ã–Ã„Â¹â€Ã„Å“Â¶â€˜LM;(xÂ®2<axÃâ€â€˜Ã‰ÃŒÃ–mÅ¸`Â£Â£aÃ¨Â±ÂµÃ©Ã‚Ã®â€¹fÃ‚e Ã„6saÂ¨"ÃƒÅ’Ã‡b6^Ã”aÃeÃ¨e.="" b)Å’qÃ“="" Ã¢Â®="" Ã°Ã¥Â¹`2â€-pmnâ€ºvÃšÃ–Ã¨Ã›suÂ£nâ€œÃ…ï¿½ÃÂ¸Ãâ€¢vÃ‹nâ€˜{ÃœÃ¿ï¿½Ãš"Ã Â£Ã´"â€”Â¡Å’cÅ½ËœoqÂ¡lncÃƒÃ˜â€¹i`Â¼^Â¯)ÃµÂªÃ¼â€¢Ã’Ã bÃ´"Â¨i0Ë†Ã¼Ãkr#0rÃ›="" jÃ1Ã‡lÅ Â²dÂ¥â€™Âµâ„¢p#Ã Ã“nÂ£~â€º[Ã—Â¤Â²Ã â€º(ÃŒÂ Â½â‚¬sÂ£\Ã›kzÂ¢â€ºÃ Ã£Â¬`5â€œ%,â€¢Â®iÂ°qâ€fÃ•dï¿½Â«(,,hpiÃ˜tf'pÃ¾9Â¬Ã™s[Â§Ãˆ="" 7ÃÃ‡lÅ Â³dÂ¥â€™Â·Ã†0Ã³="" â€™0nÃƒÂ¨Â©Ã°1zlcaÂ¦Ã…\Ãœâ€Â²wkï¿½â€¹ÃÅ \="" ^â€s|tÃ€xÂ«â€ºâ€™â€“jÃ©p1zulpÃ.yâ‚¬*,3qï¿½â€ â€¹sÂ­7ÃÃ‡lÂ±dÂ¥â€™Â¶="" 0&ÃœxÃµÃ‹n8Â±uÃ©Ã©*qÅ’<Â ËœÃ²ÂµÂ´="`ÃšÃ¶#&nbsp;Ã˜Ã“|tÃ€xÂ«JY+Â¥Ã€Ã…Ã¨E./B)Â¾:`<UÃÃ‰K%tÂ¸Â½Â¥Ã€Ã…Ã¨E7ÃÃ‡LÅ Â¹Â¹)dÂ®â€”Â¡Â¸Â½Â¦Ã¸8Ã©â‚¬Ã±W7%,â€¢Ã’Ã bÃ´&quot;â€”Â¡ÃŸ0*Ã¦Ã¤Â¥â€™Âº\" ^â€rÃ bÃ´"â€ºÃ Ã£Â¦Ã…\Ãœâ€Â²wkï¿½â€¹ÃÅ \="" ^â€s|tÃ€xÂ«â€ºâ€™â€“jÃ©p1zkï¿½â€¹ÃÅ oÆ’Å½ËœsrrÃ‰].="" b)p1zmÃ°qÃ“Ã¢Â®njy+Â¥Ã€Ã…Ã¨e.="" b)Â¾:`<uÃÃ‰k%tÂ¸Â½Â¥Ã€Ã…Ã¨e7ÃÃ‡lÅ Â¹Â¹)dÂ®â€”Â¡Â¸Â½Â¦Ã¸8Ã©â‚¬Ã±w7%,â€¢Ã’Ã bÃ´"â€”Â¡ÃŸ0*Ã¦Ã¤Â¥â€™Âº\="" ^â€rÃ bÃ´"â€ºÃ Ã£Â¦Ã…\Ã‹e`eâ€ â€¡nï¿½uâ€™q{xâ€ºÃ±y9oâ€Ã§ÃšÂ®Â§Â¡Â¸Â½Â¡pvÃ–bâ€˜Â²Â¹rukÅ½+{Ã¨5jÂ¹%ï¿½Ã‰|ÃŠÃ‹Ã…Ã¸="" eâ€ lÃ‚Ãœ"Ã˜â€ºï¿½kÂ±Ã€Ã…Ã¨e.="" @+ÃÃ›@Â¤lÂ®4Â¯#Ã¡="" lÃÅ½cÂ lÃÂ ="DÃÂ°Â¦:BÃªft1Â­Ã®Ã¬Nâ€“Ã¹Ã…Â¼Â½FË†Â¤HÃ•Ëœâ€™#D@Ã„Ã˜E}Â·ÃªÂªUÂ°ï¿½Â§" Ã«Â£Â¢Ã†Ãš="" Ã‡gptâ€ *s{â€ºkmÂ¶(@8Â¸Ã Ë†Ã™â€¢p_)Ã¡="">`n5Ë†ÂµÂ­ï¿½Â«lyâ€¢1EA$bÃ€Ãtâ€¦:ï¿½Â®ËœvRÃÃˆâ€™Â¬6â€Ã©Ã‰Ã—ZÂ«s@Ã¡Ã·@ucHÃ…ï¿½$gÅ“Ã§Ã‘Â¬]cs
Ã€XR6Ã¬Ã“ï¿½Â®fÂ¥â€”tttTWUÃŒÅ½YvÃ¦+nÅ¡ÃœÂ£Â¬cDÃ+2â€“Â±Â¹Ã–Ã™Å½cÂ¯Ë†ytÂ®Âµâ€¦,Â«Ã•SgÃ…rÃ kXH\&nbsp;1Â¥eÂ³â€¹(@â€ Ã Ãï¿½OVâ€“Ã±Ã“Ã›|Â¡@Â²Ã²Â¬Â¶&amp;Ã—Ã—Ã«Â®Å¾UÃªÂ¥â€¢zÂª8Â«8k$K&amp;_=Â¶kÃ´[Ã¤TÃ²VÅ’Â«Ã•K*ÃµS0ÃÃ¿Ã“}Ã¤srv;Ã¦Å’Â²)b
â€\â‚¬Pâ€œAÃ»Ã‰Å Q{^;_Ã¢ÃÃ¡Ã‘Â°Â°|Ã¨â€˜NKâ€™ÃšÂª;LÃ‡Â£[Å¡RÂ¢â€ºÂ¡Æ’uÃ‚Âª%Ã¢$ï¿½)"Â­Ã°Ë†	Â°â€˜XÃ¦UÂ°!ï¿½ÃŸâ€™4Â¾ÃšÃŠËœ\Ã¦]JÃ…lYH92Ã›MI"Â¡â€¦ÃœÃœ;IÃ°Ë†K
fï¿½lÂ¶cÂ¥)ZÃ£Ã†ae$G*Â¶[ÃœÆ’Â¦â€¡)Ã—Â§]*Ã CÃŠA\Â¨ Ã´Ã–(Ã·*Ã¤YK;:ï¿½nÃ™z6Ã—Â·Â¬+jÅ’ÂªÃ·Â°Ã¦Ã‚Ã¶Ã²)JzÃ¦Ã‰&gt;Ã£ÃˆÃ¬Ã’bÃ¢Â³_2pÃ¨Â¶\â„¢Â­}Â¶Ã¾Ã”â€”ÂºglBÃ™Ã†V@Â¾+ÃÃ„uÃ—â€23ÃQfg â€™oReÃÃ¤jÅ“Å½ÃŒÃª*Ã…Â¦TÂ¬qËœÃ›â€¢zâ€™&gt;Ã¡Ã†Ã¡Ã“â€˜â€”A4{VÃ€ÃÃ½ÃºÃ”c;ï¿½LlvÃ¥N"2ÂªEÃ‰7Â°*+Ã|ÃÃ†XyÃÃ’Ãšf[Ã±IÃ¢Ã¾#nÂ»iIpÂ¦Ã— 3Â®feUÂ¼vÃÂ© X_mFÂ¥^Å¸.#qÃ¦â€°qpÂ¿AÃ$â€¹IÂ½Ã¶â€¹Ã´R\NÃ£Â¬rFqpÂ¿Ã…Â¤fÅ¾2Ã„Ã˜Ã­ÂµÃ€ÃšWâ„¢&gt;Ã¦cÂ£6hÃµÂ³â€ºfR@@I&amp;Ã‡eï¿½Â·_EÃª
â‚¬Ã…,â€š&lt;â€”câ€Yâ€¢â€ @	-pmÃiJÃµ1[â€˜â€ ÃÃb&nbsp;FÃŒAÅ¾3Ã¢Ã«Â«Â¼Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•yQÃœÃœ`ï¿½Ã„P^Ã™â€”`Â¶ÃÂ¾-Â´Ã‡sÃ±ï¿½Ã²pw&lt;â€œBÂ¬2ï¿½Ëœâ€ºÆ’mâ€Â¥zÂ·Å¡{â€ºÃ©Â¸=Å¡?Å¡Â¥Ã¦Å¾Ã¦Ãºnfï¿½Ã¦Â«ÃŠÅ½Ã¦Ã£Â¼	AÅ¸!p3Â§AÂ¶Âºâ€ºâ€š,5Â¸5/2Â±Ã€Ãˆ%Ã
&nbsp;mÃÃHÂ¨Ã¨uÂ¥+Ã”Ã¼Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•cËœnÃ²Â´Ã’bÂ¢ÃŒÃ¥[9
Ã†â„¢Ã´Â¿â€¹Ã¥Ã—Å“6Ã¥cï¿½Ã‘â‚¬Yï¿½4lNÃÂ½ï¿½uÅ â€Â¯PxÃ·Â¤y6$Ã¡
â€™Â«&lt;`Y~kÂ³Mâ€¢Â«â€¹ÃœÂ¬2Ã£Ã†BTÂ±`Ã‘â€ºÃ”Ã˜ÃŸÂ¤Ã«Ã¾Âµy-*RÂ½Æ’Ã=ÃÃ´ÃœÃÃRÃ³Os}7Â³GÃ³UÃ£Ã´Â©JÃ¶4Ã·7Ã“p{45KÃ=ÃÃ´ÃœÃÃWï¿½Ã’Â¥+Ã˜&lt;Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•/4Ã·7Ã“p{45^?Jâ€Â¯`Ã³Os}7Â³GÃ³TÂ¼Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•xÃ½*RÂ½Æ’Ã=ÃÃ´ÃœÃÃRÃ³Os}7Â³GÃ³UÃ¤ÃŠQVb4ï¿½Ã­Â§Ã”Ã°p
Ã‰ÃÃ€G&lt;=â€¦bsÅ½*ÃµÂ¿4Ã·7Ã“p{45KÃ=ÃÃ´ÃœÃÃWï¿½Ã’Â¨VkÃ˜&lt;Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•/4Ã·7Ã“p{45^?Jâ€Â¯`Ã³Os}7Â³GÃ³TÂ¼Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•xÃ½*RÂ½Æ’Ã=ÃÃ´ÃœÃÃRÃ³Os}7Â³GÃ³UÃ£Ã´Â©JÃ¶4Ã·7Ã“p{45KÃ=ÃÃ´ÃœÃÃWï¿½Ã’Â¥+Ã˜&lt;Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•/4Ã·7Ã“p{45^?Jâ€Â¯`Ã³Os}7Â³GÃ³TÂ¼Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•xÃ½*RÂ½Æ’Ã=ÃÃ´ÃœÃÃRÃ³Os}7Â³GÃ³UÃ£Ã´Â©JÃ¶4Ã·7Ã“p{45KÃ=ÃÃ´ÃœÃÃWï¿½Ã’Â¥+Ã˜&lt;Ã“ÃœÃŸMÃÃ¬Ã‘Ã¼Ã•/4Ã·7Ã“p{45^?Jâ€Â¯VÃ„Ã£Â·:RÃŠqPâ€¢xÃ‚â€™Â³G}Â§Ã¨^:gÃœÃ•â€“Qâ€°wâ€˜Â¤Ã‹Ã‹Ã’Ã€â‚¬tÃ²ÂªÃ¶h}Ã·â€¹Ã©(Ã¾Âª)JÃ…â€¦Ã€Ã¸F(Æ’Â°k\ÂµÂ¯Ã•{Ã©OÂ¹Â¾Ã¼nï¿½Ã“Ã£Ã½5mï¿½â€¡Ã'â€œ&amp;o:Ã‹rÃ–Â¶Â¹Â¯Â¥Ã¯Ã•\Ã¬Â¼mÂºoÃŒÃƒl,[Ã¡QÃ´
OÂ©YÃ”zÆ’Â¤sï¿½i]ZUâ€œ4Ã£%@Ã‘ÃˆNÃŒâ„¢Ëœ
mÃ… Ã­ y/TÃ‰â€°Ã†fLÅ AÃ .Ã‹Ãâ€™â„¢[0Â¹@Â·]ÃºkÅ¡Ã¨Ã’Â®{Ã¢1Kâ€FN3Â»Â²Ã°ï¿½Â¾P[)ÃŠ&nbsp;XÂ°Ãï¿½â€¢Txï¿½Ã’*Ã–PÃ‡â€¦Â°Ãï¿½`Â°ÃˆeÃ¯Ã“&nbsp;ÃšzÂ®Â­*Â®wâ€°Aâ€¢ÃŠÃ±â‚¬Â¸Ã©Ã›Â­YJPÃ¿Ã”}Ã¤srv;Ã¦â€¹gï¿½â€ â€¦Ã¢Ã¢Å“ÃªEÅ“]zÃ€ â€˜ÃªÃÅ½Ã²oÃKmOl<yÃ2b1x9"â€pnÃ£($ï¿½mÂ¦Â¤ ÃƒÂ¯Ã¤Ã’â€¢[Ã®tÂ®ï¿½)â€ºÃŸ~i="" Ã—Ã¥sÃÃ¢Ãœ[ÃÃƒmÃªÃ„ÃiÃ„Â²ï¿½Ã¡Ã‘â€˜Â²â€ºpÂ Å’ÃšÃ¨ÂºÃª="JÃŒ77Â¯Ã‚+&amp;dO;7Â°,Â¹Jâ€™â€šÃ—QrÃ¬iÃƒaÃ—'2Å½*Ã±â€ºDï¿½â€˜qmNf">Ã•)OÆ’ÃÂ¶Â¤-&amp;pÃ¹l2Ã›â€™,I$â€œÂ¯Â¬:+]*TÂ¥!Â¶Â¼^CiXÃµ9Ã·kÃšÃšÃ±yyÃ—Ã­vâ€Â­Âº8â„¢#11[7(Ã¥ï¿½ËœÂ¸Ã±jkÂºÃ˜Ãâ€š2ÃŠÃ¨Â®\+"Â°Â¶cÃ‘Â²Ã½â€ â€¢)[Ã©bN]Teâ€^ÃŒlIÂ½Ã¬Ã›Ã‹Q8Ã¼Atï¿½eSM&nbsp;Â®&gt;(Ã¼Å Ã‹Jâ€Â­Â­ÂºËœÂ¦â€¢flâ€ DRÅ â€šEÃ‰'Ã›'ÃœÃ™Â¥AÂ±Ã¸â€ e~*â€â€°Â¢[(+â€ .5â€“â€¢)[[tÃ±,s6Rx&gt;
IÂªÃÃ¶Ã·Å¸Ã &amp;ÃlkfQÂ¨:(â€ ÃÂ³g+_-`Â¥JVÃ´Ã|rD!2m@$Ã´Ã½wÂ¬Â©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JSÂ®Å’Å’UËœÆ’Å¡w=ljÂµÃ•â‚¬Ã±Å Â·Âªâ€œÂºÂ¦Ã€Ã†Â¶â€°ÃfÃºÂ¿Ijï¿½46Ã¡=ËœÂªiRÂ¥ZÂªTÂ©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¯fâ€¡ÃŸxÂ¾â€™ï¿½ÃªÂ¢Â¼fÂ½Å¡}Ã¢ÃºJ?ÂªÅ RÂ­Â®nÃ¦sÃ»Â¡Ã´Ã´Ã¿MG]*Ã¥`cÂ¾Ã©FMÆ’cNÂ¶Ã¡Qï¿½â€ Â³Â¨Ã–â€˜Ã=Â¥tfâ„¢0Ã±4Ã’*Å½ï¿½IÃ“`Â³Ã‡Âº8yAÃ‰Ëœâ€¢(Xf'Rom,IÃ±Ã¬Â©Ã‰)â€ ÃÃ¤"Å¾Y9ZÃ¬HÃš:Ã³ZÂ©ï¿½Â¹Ã¨Ã²d&lt;Ã’Â°â€˜K!ï¿½Â¿â€¹SÂ¯^â€”Ã’Â±YÂ«â€œâ€¦{Å¾Ã–Ã˜Nâ€”Â²â€š&lt;Â¤Ã©ZÆ’(e7Ã„vVÆ’sÃ£ï¿½1%Â¸Ë†xÂ®ÃvÃª&nbsp;kmEÃ´onâ€˜ZÂ¡â€“)Ë†Å¸?e$ÃÃºuâ€œÂ·fÃÅ¡RÂ­Â¥Jâ€¢)@Ã¿Ã•}Ã¤srv;Ã¦â€¹Ã¤Â¿Ã–Â½Ã²â€ºeÃ‘Â¯nâ€¹Ã´ÃvÃ²Ã˜Â¬Â°ÃšÂ°â€™=F4Râ€™b8Å’Ã¤evg])UJ1â€™,
Å ÃªP!câ„¢Gï¿½Â©Â³jï¿½Ã¶ÃÃ½5â€¹pÅ’ï¿½â„¢&amp;3FC3f:.vÅ¾) Ã©Ã•Â¥Âº*XÅ’tï¿½Â³Ã†Â¨Â¬Ã¨Ã‹Ã°Gâ€™Ã¥Ã€_RÃ‡OÂ¨GÂºm PcUfÃƒ=Ã…Ãœ)Å’lÃ¸+Å¸ZÅ¡iTÃ°[Â®â€”lÃŒÃ¡^Ã¹TÅ’ÃÃÃ²K5â‚¬Â¹]ÃªÃªÂ®Â¤9Ã„)Ã‚_(ÃŒXIÂ¶Â·Â¥J6Ãï¿½ÃˆÃ‹qÂ²Ã¡Â­ÃªÂ©"Â¥YÅ¡SÃ›Å .z6Â½ï¿½xÃ„Â¼Ã£Ã¶ï¿½Â»^Ã6Ã—â€¹Ã‹ÃÂ¿hÃ»ÂµÅ T)RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)NÂ¼Â¡nÂ±Vb	3Â¹;sÂ­MËœÂ¢*ÃŒA&amp;w'nc[â€¡tÃ˜Ã•ÃºKTyÂ¡Ã—Of*ÂªTÂ©VÅ¡â€¢*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â«Ã™Â¡Ã·Ã/Â¤Â£ÃºÂ¨Â¯Â¯fâ€¡ÃŸxÂ¾â€™ï¿½ÃªÂ¢â€Â«kâ€ºÂ¹Å“Ã¾Ã¨}&gt;?Ã“QÃ—JÂ¹X&gt;6Ã©Ã°&lt;Ã§â€ Âºï¿½Â¯]Ã‡Â¯YÃ”kHÃ§Ã’Âºâ€¦Gâ€¦â€˜ÃœDÂ­`\Ã˜tÆ’n6Å¡ÃšÂ¨Ã°hJDÃœÂ°ÃŠÃ Ã1g#Ã…Â«â€œÃ¾Âµ&lt;Ã˜i1xeÅ câ€˜Ã‰ÃŒÃ–Ã£[FÃ¨Â¾ÃšÃ‹Ã¤0$Â³%â€°ÃŠÂ¦Ã™	lÃ«Â©Â¾ÂªÃ¤
Â½fÂ±Â¶Â³Zâ€ºâ€˜,eÃ‰ÃˆÃ®Ã¥Â¬Â¦Ã¦Kâ€œqkVï¿½U&lt;.&lt; q'â€lÃ†Ã¶Ã«Ã•Ã¥Â¨Ã¡Â°Â¦ÃŒrÂ±ÃŠAaËœVÅ¡^Ãš(eÃ½M+U)Jâ€¢*TÂ¥Ã¿Ã–[Ã‰Â¢â€¢N&nbsp;Ã‡b&lt;Â®hÂ´Aï¿½@<sqvb Ã¤&â€Ã·â€˜ÃÃ‰Ã˜Ã¯Å¡1Â¥*-o|ÃªÂ­Ëœï¿½nÂ Ãœ="" @7Â¥â€˜6Ã¥[â€¹tï¿½Ã™Ã«ttÂ©râ€Ã€pï¿½ï¿½Ã´Â©râ€â€ ÃšÃ±yyÃ—Ã­vÂ½Å“Â²Â .Ã†ÃŠÂ¢Ã¤Å¾â‚¬+Ã†$Ã–gÃ­vâ€Â¨rÂ¥jâ€Â¥jâ€¢*râ€¢*tÂ©jtÂ©rÂ¥)rÂ¥jâ€Â¥jâ€¢*râ€¢*tÂ©jtÂ©rÂ¥)rÂ¥jâ€Â¥jâ€¢*rÅ“mzÅ“Ã â€°Å“6ÃœÃ†Â Â¼Â¡Ã¥f#yÃÃšÃ±ï¿½mÃocwÃ©-qÃ¦â€¡8Ã¶bÂªÂ¥jâ€¢jÂ©rÂ¥jâ€¢)jâ€¢*tÂ¥*tÂ©râ€Â©rÂ¥jrÂ¥jâ€¢)jâ€¢*tÂ¥*tÂ©râ€Â©rÂ¥jrÂ¥jâ€¢)jÂ½Å¡}Ã¢Ãºj?ÂªÅ Ã±Å¡Ã¶h}Ã·â€¹Ã©(Ã¾Âª)jÂ¶Â¹Â»â„¢Ã¯Ã†Ã¨}="">?Ã“QÃ—JÂ¹[Ã¦Ã|Ã¯Ã Ã›jEÃ“YÃ”kÃ‡8Ã¶â€¢Â¿â€™aÃ™"RÃâ„¢
Å’Ã¼Ã†oÂ©Â³Â¦Â¨Ã…aÃ±3ÃÃ‚%ï¿½plÅ sÃ²tmlÃfKUÃÂ¢Â¤â€¹gÃpn3Ã•Ã‘zÃ…Ë†â€ºtÅ’â€¦Ã¸â€™ËœÃÂ£Â¾}â€¢Â®Â´7QÃ/{â€˜Â¶Â±YÂ«[â€°x ï¿½ï¿½1Ã‰#0X*Â°`K^ÃÂ­Ã¢Ã›Ã‘TÂ¦taâ€°BIËœâ‚¬T |Â¥AÃ‰rÃ­6SÂ¶Â­YÂ±Ã¼# ÃdÂ¿7vÃeÃ”â€¡Â¸uiÂ©Â®Ë†7Å¾ï¿½:-Ã­qÃ“Å Å¾â€¢*TÂ¥Ã¿Ã—Å½Ã³n0Ã˜â€š6Ã°-ÃµfÂ¢t@Â¦&amp;v.â€°Ã“^â€¹ÃÃÃ²9Â¹;Ã³F4Â¥bi1#*Ã„EÃ²XdUm-â€â€Ã“Â¨â€ºÃ´ÃšÂ§ï¿½yÅ¾e.ÃšÅ’Â¦EÃˆÃ¼â€˜ËœZÃ‹&nbsp;kÃ›JÃ•Jâ€Â¥Jâ€¢*Rï¿½Ã›^//:Ã½Â£Ã®Ã—Â´
ÂµÃ¢Ã²Ã³Â¯Ãš&gt;Ã­)PÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥:Ã²â€¡â€UËœÅ¾}Ã­Â§Ã”Ã¹Ã…Â¶ÃœZÂ¬Ã…[Ã‚$Â·Â£5Â¸wAÃ½ï¿½_Â¤ÂµGâ€ºtÃ¶bÂ©Â¥Jâ€¢iÂ©RÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)Jâ€¢*TÂ¥*TÂ©Râ€Â©RÂ¥JRÂ¥Jâ€¢)JÂ½Å¡}Ã¢ÃºJ?ÂªÅ Ã±Å¡Ã¶h}Ã·â€¹Ã©(Ã¾Âª)JÂ¶Â¹Â»â„¢ÃÃ®â€¡Ã“Ã£Ã½5tÂ«â€ºÂ¹Å“Ã¾Ã¨}&gt;?Ã“QÃ–uÃ†Â±Ã=Â¥tÂ©RÂ¥XÂ¬Ã’Â¥Jâ€¢)Jâ€¢*TÂ¥Ã¿Ã}Ã¤srv;Ã¦Å’h;yÃœï¿½Å½Ã¹Â£Râ€¢*TÂ©JTÂ©RÂ¥)
ÂµÃ¢Ã²Ã³Â¯Ãš&gt;Ã­{9PÃ€Â©Â¸ZÃ â€¢&gt;Â¡Å Ã±â€°9Ã‡Ã­vâ€Â¨RÂ¥Jâ€Â¥Jâ€¢Mcâ€˜Ãâ€˜Yâ€°Ã¨Å¡ÃˆÃ¨Ã³Â¨LiÃŠÂ¡JÂ´.Ã#Â¾r.R4:Ã”Å¸sÂ±ÃˆÃ«@Ã¡Å¸`Ã‹lVp0Ã”{Ã•C|MÃ–btï¿½â€“â€¢t&lt;Ã…ÃK_â‚¬o]~]1Ãœ}Ã’o]OÃ‰Â¨Å’Ã²McÂµÃ¨bwÃÃ­Ã«*Ã‘.
Â¸H]oÂ³Å OÂ¹SMÃÃ‡Âºpâ€¹â€¢Ã«ÂµÂ½Â£YÃ‚Ã›zÂ¬Ã¯Â¶Ã k^!â€™â€¢nâ€¡rwGÂ¹Ã¢ï¿½Ë†Ã±Ã™}Ã’*gq7Pmâ‚¬Ã½I~]`ï¿½Ã˜HÅ¾ÃµX7Â­
.Æ’Â¼â€¡o\ÃªUÂ¯ÃŒÃŒ~bÅ“ÃœZÃºuÃ¸Ã©â€”sÂ±ÃHXÃ˜Ã˜Ã±MHÂ£
*Ãƒ&nbsp;uÃ–wÃ›}];Ã¨vÃµâ€“â€¢j]ÃÃ‡3Ã°bÃkÃ˜Â©Ã™Ã’Â¯Ã³u?Â©/Ã‹Â¨Å¾OtN]ï¿½
Ã«cK&nbsp;Ã¯!Ã›Ã—:â€¢m}Ã‰ÃÃ¹P7Â©fÃ·	Â¨ï¿½ÃŒÃ@0?fâ€¢ Å’@ â€šYV7Ã«]];Ã¨vÃµâ€™â€¢i|5
Å¡	Ã¾â€šOÂ¹W&amp;Ã£nâ€ºÅ’Ã‹XÃµï¿½6Ã¹M`â€šÅ“â€ Ã“ï¿½Â¬Ã¯Â¶Ã†xÃ“&gt;Â´+
Ã¨Ã‚ÃbÂ¬Ã„Ã“Â¹;KÃ—Ã¦.Ã©â€š/Ã›Ã¨â€”Ã¥Ã•XÂ¬-%fh\Ã¦Ã‡) Ã«Ã¢Â­Å fÃ‹â‚¬dÃ¯Å `gâ€6uvÃ›8â€¡B`Ã¨aÃ…Ã‡Y)VÂ¸Ã·7*pâ€˜Ã€Ã¥zÃ­mÅ¾Zxw+t'Â£ï¿½Ë†Â¹Ã™vmÃšEk â‚¬Iâ€™j[Ã­Â±&lt;4ÃˆÃÃ¡
5Å½â€¢tÃ¢Ã®ËœÃ›ÃµÃ—Ã¥Ã•mÂ¹[Â¢Â·Â¼Â§PÂ¿Â¹XÅ½;&gt;ÃŠÂ±Â¿ZÃ´1;Ã¨vÃµÅ½â€¢^Ëœ&lt;[Â¿Â°Â¹kÃšÃ™MXÃ›â„¢ï¿½Y&amp;ï¿½Ãƒ6Ãoâ€œÂ²Â³â€¦Â¶ÃµY7d]Aâ€°Ã’4VJUÃ’Ã³u-~ï¿½Å _â€”UÂ¾Ã¤nâ€bÃ­[Ã…fÃ·	Â¬c
Câ‚¬â€š{ÃÂ¬oÃ–Â½NÃºÂ½aÂ¥ZÃÃ¦cÃ”`pÃ:Ã©â€ºsqÃ¨Â¹Å¡	Ã¬â€œÃ®VJÂ°Ã’Ã¨VwÃ›gâ€ºNÃºÂ½eÂ¥[Â£Ãœ}Ã’â€¢C$
cÃ—eÃ·HÂ©Ã„Ã1Ã°Æ’Ãµ%Ã¹uâ€°Ã â€™'Â½V7Ã«Câ€ºNÃºÂ½sÃ©VÃ2Â·FÃ¶Ã°wÃ“Ã…MÃ¦fÃ¨XÅ¾Ã¬6Ã©R(ÃƒJâ€˜Ã:Ã©Â¿ZÃªÃ©ÃŸCÂ·Â¬â€Â«T{ï¿½Å½â€¢Â²Â¤HÃ›u+Ã­â€ºUÃ¾bnÂ§Ã£Ãµ%Ã¹uÃÃˆÃ¥ÃÃ‹Â³Â¬â€ºÃ–Ã†â€”AÃCÂ·Â®u*ÃœÃ›â€œÂº)Â¶Ã›Ã‘fÃ·	Â¬Ã¯â€¦Ã„Ã‡Ã‹â€°Ã—ÃŠÂ¤Tâ€š;	
Ã„mâ€˜AvÃ›hu&lt;Ã¦Â©Â¥Jâ€¢FÂ§JÂ½Å¡}Ã¢ÃºJ?ÂªÅ Ã±Å¡Ã¶h}Ã·â€¹Ã©(Ã¾Âª)JÂ¶Â¹Â»â„¢ÃÃ®â€¡Ã“Ã£Ã½5tÂ«â€ºÂ¹Å“Ã¾Ã¨}&gt;?Ã“QÃ–uÃ†Â±Ã=Â¥tÂ©RÂ¥XÂ¬Ã’Â¥Jâ€¢)Jâ€¢*TÂ¥Ã¿Ã‘}Ã¤srv;Ã¦Å’h;yÃœï¿½Å½Ã¹Â£Râ€¢*TÂ©JTÂ©RÂ¥)
ÂµÃ¢Ã²Ã³Â¯Ãš&gt;Ã­{@Ã›^//:Ã½Â£Ã®Ã’â€¢
TÂ©Râ€Ã â€˜Â²ÂºÃ»â€¡Å Å“Ã®â€PÂ¼rXz~EqÃ«Â£Â¸&gt;Â¸~Ã‘ÃºÂ©Â©Å½Ã3*Ã’Â²`Ã¤uVÂ«ÃªÂ­jÃ¤â‚¬aHï¿½TjMÅ¡Ã¡Å¡Ã Ã©Ã„y/mâ€Ã¬ÃŒxÃ„Ã«ï¿½tÂ°*6Ã¨
Â¶SÃœÃ«&amp;Ãï¿½-Ly#Â«:Ã¶:y5Ã¦Ã—2'e\ÃÂ»ÃÃˆUï¿½uaÂ±FÃRH$,
Ã™â€¦Å â€œdCjÃ‰ÂºÃ˜Ã‰Â°Â¸ï¿½BWAbs%Â«Fï¿½!-Ã”ÃœÃŸÂ©\Ã­ÃÂ·â„¢2[ Ã³Ã˜Ã¹6Å¡ÃÂ¹UZÃ½&nbsp;Bâ€˜:dÂ­Ã6Ã•Â¬Â´â€°Ã¥^Å’J#NÃŒÂ»ZÃ—â€â„¢Â¥ÃÃ+ï¿½$aÅ½DÂ¸Ã—Ã”5Â¡dcâ€¢sÂ¹Ã†Â¹@cÂ³B:ÂµÂ¬â€ºï¿½3Â°Â¶ÃÃŒÂ¯'ei[Ã§Â«Ã¦?Ã¨Ã¥xÂªÃ€ÃŸnË†ï¿½â€teRÃœË†â€ºÃ•Â¾
Ã¤Æ’PÃ§lÅ¾Ã¶M&lt;Â¥Â¸0â€”*Â·Â½Ã”Ã™Ã®	Ã¨UÂ«&lt;ÃŒÃŠÂ¬Ã„â‚¬lÃ—=[-TÂ¿G'aÃ•umÂ­Ã­RÅ½Ãœ*XEÃŠÆ’Ã†Ã›P`Ã¤fÂ³eGâ€¡{BJG&lt;Â¨ÃOsfÃNÃ¤Ã¢Â¦Ã„Ã£qÅ“)Ã’ÃŠï¿½Fâ‚¬ap:Ã«Â¬Â®ÃŠnÂ¬ÃŒln-Ã­Â¶Â¸[Æ’Ã¯Ã®Ã¨mÃšvmÃ¥Âµw
Ã­Â©sÂ¯Ãƒ4_SÃ‡Ã•VÃ¹!Ã”â€ â€šÂ¨Å½  
Â«NÃ Â¶â€šÃ›Å’+Ã‹ï¿½C]Â´Ã¢Å¾Ã„UÂ±Â±2Ã±Ëœ)Â±qâ€Ã²Â­Â­4RJÅ Bï¿½Ã€â€ºâ€™Ã­csÃ/Ã‘L9:Ã«Ã…Ã¸fÅ¸6Ã”Ã”F~â€Ã›ÃªxÂªÅ“9
ÃeDÃŸ ÃiÃ¨Ã™xÂ»nNÃ®Ã®â€ '4&amp;P&amp;ï¿½Å½msÃ‹#B-]â€”Â°r32Ã›@[ÃˆmC{Ã£Ã·Ã¯	Â³â€ºÃ¨Ã™Ãâ€JÃ—ÃÃ–2mÃ¸-WwN[Å¸qÂ¨â‚¬Â¹Ãˆâ„¢Ã:Â³Å¡Ã‘bÃšÃ—Å½â€™Ã9Â¡ÃŒi
Â¢"Ã¥Æ’:Ã¥Ã™`WhÃ–Ã½u&amp;â€˜Ã„â‚¬â€¹Â¥â€šÂ¨6B/Ã“Ã•Â²&nbsp;9-Â¶Ã™z9GÂ·Ã—IÂ¹MÃ‰Ã¥Ãº
Â§â€¢Ã£ÂªP6mÃ­+rÂ¢â€¹Ã· Ã’6Ãµm7Ã¯cÃºÃµÃ•xÃ¬TÃÃ Â§â€”Å 
 #\Ã£VÃ…Ã—TÃ 1â€ iâ€°iÃFEÃŒl&nbsp;uÃ“nâ€“â€ºâ€ºâ€°Â·&lt;Ã¬rÅ“ÂµÃ›Un5Ã†	Âµ`|&amp;^FÃÅ Â¼â€“Ã“Ã„6Ã­ÃŒ+Å’nÂµÂ£8)19Ã¥5]Â­Â§â€¡Ã›RÂ£%"â€˜XÃ¨3Â®Â·Ã§`Â¤k_n\Â­Ã¤Ã›*râ€˜xÂ¡â„¢Â®WFMâ€¢YÂ¿ÃÂ¯oâ€šÃ¥ÃºÅ¾*Å“â€º~)Â»}Å¸QÂ«Âª/Xâ‚¬b"Ã‹Æ’Ã„ÃÂµÃ„Ã“eeÂ°Â°Â¹n7Â­\ËœwBiwr\*Å’Ã‹bÂ¼UÃ“iÂµtl:Â¢Â½ÃºyÃµÃ—	Ã·Tb?kÃ½TÃ•ÃÃ†Å WuÂªbÃƒÃ„â‚¬c#Ëœâ„¢Æ’Ã‡ZÂ·eÂ¤/fTrÃ„Ã´C.yâ€œÂ´Ã—qd`Ã€Â«Â¹=ï¿½*ÃºÂ¦Ã•(ÃÂ¬\â€™Ã¬3Å“h
Â¯aÃ¢Â¨Ã›S!R'Â«Ã¢Â§NlÃÃ¼â€“Ã¥lÃ¤Ã´xÂªÂ¡Ã®w"Â·ÃŸDÃ€&nbsp;*â‚¬nÃšËœÃÃ•Ã˜ÃštÅ¡TweÂ³3s5â€xâ€”Â¬V
Ã›Ã‡bpÃ¸%â€¢
â€¡iÅ ÃŠ;â€¢Â¨Ã›Â¤!ÃªÃÃ‰y&gt;*Ã¥oâ€ ÃgGlÂ£Ã§OÃ€ry&amp;Â¬Ã®0&lt;&lt;Ã™0$lRGzÂ¨Ã®Ã¤Sk12ÃˆÃÅ’Kâ€“Å¾Ã’ÂºÂ¡Ã¼Ã®&gt;3/Å“Ã†lÂ©Å“\Â¨7Â¹Â¾Âµ`â€˜Ã‰PÃŒlâ‚¬ÂµÃ³mÃ•Â´ÃÃ•kËœGÂ²ï¿½9ï¿½DrÂ·RN_OÅ½Ã;y~:Ã—|
Ã¶Ã¯Â·fxÂ«*Å 72BÂ¯tÂ¡Ã•#ÂªÃ±Ã­=Â¨â€ºÃˆÃ·A{ Â¨Ã—6Â«lÃ•Â¢iÅ¡Ã¡Ã²ï¿½â€Ã¬lÃVÂªâ€¢Ã°;Ã­Â³`Ã¥}Â¥Ã˜D8Â§â€˜ÃŠÃ™P
(ï¿½â€ Â­Â¦Â±u@ÃœÂ¤Ã†kaÂ£NG	;vÃ³Ã«â€”Â¸Ã˜Ã™Â±â€˜O$Â§++Âªâ€šâ€¹Â°jtÃ—Q]â‚¬9Xï¿½FÂ¹â€%Â¼`[S\=Ã­_â‚¬Ã„[7:Â¼Å¾VÃƒ]Â³sÂ·1ÃºSâ€¢Ã‘Ã‰Ã±Ã•Å¾HÃ§Âº\emÃ¥â€˜uECr[EÂµâ€*â‚¬Â£!Ã›NÂ­Âµ5v\Ã…uÂºÂ®Â¬ï¿½â€ Ã¤iÂ¶Â¤â€™ÃŠÂ¨H`6k1Ã²â€¹Â¨Ã­7Â¶Ã…Ã¥rÂ¶7Â·Ã•OaÃ’Å¸Â£9~Â­U`'@ÃÂºÂºÃˆÂ©YE6Ëœ@Æ’zÃ¯aqÃ€ÃFï¿½\]ÃÃlV"Ë†%Å’JÃ—"Ã¦Ã¦Ã¾?qÂ¤ÃÂ½Ã‘â€¢JÂ´Å¡â‚¬&nbsp;|Å Ã•Â¾Å¸Ã™ÃŒ&amp;ÃVÂ¸â€¢ÃŸÃœÂ¬mÃ™Â³â€šÂ¤ï¿½ÃŠâ‚¬â€¢â„¢fjË†Â±iâ„¢Å“Â¢Â³lÃˆÃ²Ã‡m;1cv74Ã”Â©TÃ‰,KI:IÃŒÃ–ÃªUÃ¬ÃÃ»Ã¯Ã’QÃ½TWÅ’Ã—Â³CÃ¯Â¼_IGÃµQXÂ¥[\ÃÃŒÃ§Ã·CÃ©Ã±Ã¾Å¡Å½ÂºUÃÃœÃt&gt;Å¸Ã©Â¨Ã«:ï¿½cXÃ§Ã’ÂºTÂ©RÂ¬ViRÂ¥Jâ€Â¥Jâ€¢*Râ‚¬Ã¿Ã’}Ã¤srv;Ã¦Å’h;yÃœï¿½Å½Ã¹Â£Râ€¢*TÂ©JTÂ©RÂ¥)â€º&gt;SÃÃ›=Å½\Ã—Ã‹~â€¹Ã›ZÃ±â€°9Ã‡Â¿Â¢&gt;Ã­{@Ã›^//:Ã½Â£Ã®Ã’â€¢
TÂ©Râ€Â«Â£Â¸&gt;Â¸~Ã‘ÃºÂ©Â®utÂ·Ã§Ã—ÃšoÂªÅ¡ÃÃÃtÃ¶UÂ®Ã·tÂ®uÃ†Ã¬ï¿½:Ã±_ÃªZ{ÂµÃ‰&nbsp;ÂºÃª9=;E9]OÃ­Ã›Å¸Ã¤^ËœÃªÂ¹Â¶ÃÃ—ï¿½Â°Â½Ã§â€”HÃ®vÂ¦Â®nâ€™7â€ºâ„¢Æ’ËœÃ–5Ã—ï¿½sVÃˆÃœ
Ã”}NÂ©ÃªÃ—7wË†;â€œ%Å Å¸=ï¿½â€™,6Ã—JÃ¶Ã£fÂµÃ¯Ã‡ÂµÃÃ¸Å¾Å Ã§nÃ³_rdÃ£fÃ³Ã˜Ã¶.^â€œ[Ã·uÃ­sÃdxÂª[&nbsp;tâ€¹uÃ¤Ã•Ã–Ã—Â¬Ã¶Â£Å“4Vï¿½ÃÃ®vÃÃÅ“Â¯%Â­Ã²EhQÃ‡ÃpA Å¾8Ã™Â©="Â³Ã®rÃŸsÂ°Â¼RÃrÂ»/Ã‰Â­
8Ã¡rÃ¬ Ã¥Â½ÃˆÃ™Â®nÅ¸%BÃ¿uo{Ã¿J<uï¿½ÃˆfÃ´Å“j5ï¿½Ã‡vÆ’Â·wÃšâ€”ÃŠt>Ã–Ã©Â¾ÃŠhâ„¢LÂ©fË†Ã±â€ Å Â¶;iIÃÂ»t&lt;^ï¿½Â­Â®oâ€˜J7Â¼Â¨8@ÃœaÂ§â€”Â§Â®&nbsp;tÅ¾yÃ®hÂ¬Ã˜7Â·Ã¬JÃªÃ«=tÃ¶Å“Ã³Â«â€¡Â¸&gt;Ã¾Ã£Ã¼Â§fâ€¡â€“Ã•Ã›`@Â¹ÂºÃ­â€˜Â³/OÂ·Ã•\=ÃÃ·Ã·t:u&gt;/Æ’jÃ®ÃŠ/ï¿½Â¦Â»KgÃ«Ã’Ã•kâ€™Inâ€¦</uï¿½Ã¨fÃ´Å“j5ï¿½Ã§vÆ’Â·wÃºâ€”Ãªt></sqvb></yÃ­2b1x9"â€pnÃ£($ï¿½mÂ¦Â¤></axÃ°â€â€˜Ã©Ã¬Ã¶mÃ¿`Â£Â£aÃ¨Â±ÂµÃ©Ã¢Ã®â€¹fÃ¢e></iÃ®r8Ã¯{â‚¬:Ã®Ë†6;mÃµÂ­Ã±xÃµd!Å“(></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf">https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf</a></em></p>]]>
            </description>
            <link>https://www.cnrood.com/en/media/solutions/Wi-Fi_Overview_of_the_802.11_Physical_Layer.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757008</guid>
            <pubDate>Tue, 07 Jul 2020 08:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built a desktop radiation monitor with Raspberry Pi, brass and wood]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 16 (<a href="https://news.ycombinator.com/item?id=23756964">thread link</a>) | @chrisys
<br/>
July 7, 2020 | https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/ | <a href="https://web.archive.org/web/*/https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <p>I was always a fan of the steampunk style, and having also had experience building steam engines in the past, there was only one real direction this project could go. Once I had my radiation detector kit hooked up to my Raspberry Pi running InfluxDB and Grafana, I found myself woodworking, machining, and fabricobbling an enclosure out of mahogany, brass, copper, toggle switches and, because it just had to be done, nixie tubes.</p>

<p>Read the story of the almost year-long journey (<em>cough</em> some other stuff cropped upâ€¦) I went on to make my steampunk vision a reality below, and if you want to get up and running quickly, find out how to <a href="https://www.balena.io/blog/build-a-simple-radiation-monitor-using-a-raspberry-pi-influxdb-and-grafana/">build your own simple version right here</a>!</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/geiger-main.jpg" onclick="openModal();currentSlide(56)">  
</p>

<iframe width="100%" height="500" src="https://www.youtube.com/embed/lEL_XkN69n8" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<hr>

<h2 id="contents">Contents</h2>

<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#inspiration">Inspiration &amp; Design</a></li>
<li><a href="#build">The build</a>
<ul><li><a href="#panel">The front panel</a></li>
<li><a href="#wood">Working with wood</a></li>
<li><a href="#brass">Top brass</a></li>
<li><a href="#dekatrons">Imitation Dekatrons</a></li>
<li><a href="#fasteners">Fussy about fasteners</a></li>
<li><a href="#pi">Plumbing in a Pi project</a></li>
<li><a href="#nixie">Nixie tubes</a></li>
<li><a href="#counter">Electrifying a mechanical counter</a></li>
<li><a href="#electronics">Electronics</a></li>
<li><a href="#geiger">Relocating the Geiger tube</a></li></ul></li>
<li><a href="#final">Final assembly</a></li>
<li><a href="#software">Programming and software</a></li>
<li><a href="#end">You have come to the end of your journey</a></li>
</ul>

<hr>

<h2 id="introductionspanidintrospan">Introduction <span id="intro"></span></h2>

<p>Low cost radiation monitors and Geiger counter kits have been available online for around $30-50US/Â£25-45 for a while, but standing alone they donâ€™t do much other than make the recognizable â€œclickingâ€ sound we all know from movies and TV. I decided to up the ante by connecting one to a Raspberry Pi, storing the data with InfluxDB, and showing the readings with a Grafana dashboard.</p>



<p>I updated the tech, gave it a web interface, added remote management, and built a custom mahogany housing with brass and copper fittings to show everything off, because itâ€™s important to look suitably <em>hip</em> when sitting on the desk next to your <a href="https://www.balena.io/blog/build-a-raspberry-pi-powered-train-station-oled-sign-for-your-desk/">train sign</a>â€¦ right?</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/header.jpg" onclick="openModal();currentSlide(58)">  
</p>

<p>Anyway, Iâ€™m gonna show what I built to hopefully provide some inspiration, then show you how to get up and running with a simpler version of the project that anyone can build at home without any special tools. Letâ€™s hit this.</p>

<hr>

<h2 id="inspirationdesignspanidinspirationspan">Inspiration &amp; design <span id="inspiration"></span></h2>

<p>Iâ€™ve always found the idea of radiation fascinating; how there are invisible particles moving around at incredibly high speeds, crashing into things and flipping bits all around us. Due to my fascination, it doesnâ€™t take a lot to capture my interest when it comes to this field.</p>

<p>One day last year I was reminiscing over the <a href="https://www.bbc.co.uk/news/business-44606771">now defunct</a> UK-based electronics retailer Maplin, and how they sold all sorts of interesting kits for the aspiring engineer. This led me to <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudharâ€™s blog</a> where he tells the story of the <em>Maplin Geiger Counter</em>.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/mudhar-example.png" alt="An excerpt and image from Richard Mudhar's post"></p>

<figure>  
The original Maplin Geiger Counter. Perhaps some of the design cues are visible here?! (Credit: <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudhar</a>)  
</figure>

<p>The kit that Richard has built above features both an electromechanical counter on the left, and two rings of LEDs reminiscent of <a href="https://en.wikipedia.org/wiki/Dekatron">dekatron tubes</a> on the right. This display has the neat design feature that as the rate of count increases, the display becomes more noticeable.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/dekatron.gif" alt=""></p>

<figure>  
The spinning light effect of the Dekatron is something I wanted to replicate. By Hellbus - Own work, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=4741470">https://commons.wikimedia.org/w/index.php?curid=4741470</a>.  
</figure>

<p>I liked the idea of combining the modern technology on the inside (Raspberry Pi, Grafana, etc.) with the timeless look of brass, copper, toggle switches, dark hardwood, and glass on the outside. The idea was now to build something that looked old and had that distinctive steampunk style, but was up to date and Internet-connected.</p>

<p>In addition to the total absolute count like the old Maplin counter, I wanted to offer a live display of the counts per minute (CPM) reading, and what better way to do this than with <a href="https://en.wikipedia.org/wiki/Nixie_tube">Nixie tubes</a>, to get that nice warm orange glow and keep things looking cosy.</p>

<p>I started scribbling down ideas and thoughts of materials I wanted to use alongside shopping lists for parts, and possible designs for the case.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/notes.jpg" alt="Original shop notes!"></p>

<figure>  
Notes donâ€™t survive well in a machine shop, but these are whatâ€™s left of my original sketches.  
</figure>

<p>This process was very much led by an image I had in my mind about how the thing should look and feel and so I just had to make it realâ€¦ somehow.</p>

<hr>

<h2 id="thebuildspanidbuildspan">The build <span id="build"></span></h2>

<p>With some thoughts and ideas scribbled down it was time to get started. As this is for the most part going to be a bespoke, hand-built item, and made up as I go along, itâ€™s not necessary to put everything in CAD. There are of course some core items that exist already and cannot change size; the Raspberry Pi and radiation detector board, for example. These are off-the-shelf parts that have to fit in the box no matter what, and start to dictate the size of the final unit.</p>

<p>Almost all other parts are completely hand made, machined and fabricated. This was necessitated by the desire to make everything authentic; I didnâ€™t want to build things just for looks, I wanted any design choices made for aesthetic reasons to also be functional; by this I mean when I put 18 screws in something to make it look good, they are going to be 18 <em>real</em> screws that you have to take out to gain access!</p>

<p><strong>NOTE:</strong> Each of the build log images link to a separate gallery when clicked. You can look through the images that way if you prefer, or read on in full detail.</p>

<h3 id="thefrontpanelspanidpanelspan">The front panel <span id="panel"></span></h3>

<p>I started with the front panel of the housing, I knew I wanted two toggle switches; one for power and one for sound (to disable the clicking noise), along with 3 nixie tubes to display the CPM up to 999. Normal background radiation is in the range of about 25-75 CPM, so I figured if background radiation is above 999 CPM, we have bigger problems than worrying about enough digits on the counter.</p>



<p>The two front panel pieces are made from 6mm thick mild steel plate, cut to size with an angle grinder and then milled to dimension with the help of Bridget, the Bridgeport. Holes are then cut for the nixies and the toggle switches.</p>



<p>I manufactured labels for each by hand-punching lettering into 0.5mm thick brass sheet, polishing and fixing with M2 screws. The steel pieces are coated with a clear lacquer to prevent corrosion.</p>

<h3 id="workingwithwoodspanidwoodspan">Working with wood <span id="wood"></span></h3>

<p>Wood isnâ€™t my favourite material to work with, I mean it just changes shape of its own accord! Who can work with that?! Anyhow, itâ€™s very pretty, and so it was decided that the outer box should be made of hardwood. I started with a scrap piece of mahogany, cut it to halve the thickness on the bandsaw, and then set about planing and shaping the sides of the box to fit the dimensions of the Raspberry Pi (3A+) and the radiation detector.</p>



<p>The dimensions of the front panel along with the steel faceplates were planned out in Fusion 360 so that I could print a cutting and drilling template. This was taped onto the planed piece of mahogany, the holes for screws were drilled, and the openings for components cut out.</p>



<p>The pieces were cut at 45 degree angles to enable a mitre joint in each corner. The joints were reinforced with biscuits (mmm biscuits), and then the 4 sides were glued and clamped and allowed to cure overnight.</p>



<p>The top and bottom of the case are made from the same scrap mahogany, but planed a lot thinner - approximately 6mm, the same as the steel plate.</p>

<h3 id="topbrassspanidbrassspan">Top brass <span id="brass"></span></h3>

<p>I had the idea that it would look good to hold the box together with a totally unnecessary amount of screws, 36 to be exact; 18 on top and 18 on the bottom. To prevent the screws damaging the wood surface and to add some extra detail to the top of the case I decided to make a brass plate that the screws all go through to clamp the top cover down.</p>



<p>Some pieces of 2mm brass strip were cut, mitred on the corners and soldered together. Once soldered, sanded and polished, the joints are barely visible.</p>



<p>Holes for screws were then drilled, and the brass plate used to secure the oversize lid to the box whilst it was sanded to size on a drum sander. I later learned that using a drum sander for this was a mistake as it marked the sides of the box, but you live and learn!</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/top-brass-7.jpg" onclick="openModal();currentSlide(22)"></p><figure>  
Finished case and lid woodwork with brass frame temporarily fitted  
</figure>

</div>

<h3 id="imitationdekatronsspaniddekatronsspan">Imitation Dekatrons <span id="dekatrons"></span></h3>

<p>My attempt at imitating the Dekatron tube effect starts with a piece of 50mm stainless steel (or aluminium) bar. The bar is turned on a lathe down to 40mm, and to have a cavity for the electronics. The work is removed from the lathe and parted off on a bandsaw before being returned to the lathe to have a hole drilled in the rear for cabling to drive the LEDs.</p>



<p>The part is then put on the milling machine to have 10 holes drilled and M2 <del>taps snapped off in the holes</del> threaded ready to fasten the faceplate.</p>



<p>The brass faceplate is made from the same 0.5mm thick brass sheet as the labels from the faceplates. Each piece is drilled with 20 holes (10 for LEDs, 10 for fasteners), and then hand stamped with the numbering for each LED.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/dekatrons-7.jpg" onclick="openModal();currentSlide(29)"></p><figure>  
The wired LED faceplate ready to be screwed into the housing.  
</figure>  
</div>

<p>The LEDs are wired with a common ground and connected using a piece of recycled floppy disk drive ribbon cable. All the work is then carried out a second time for the â€˜X10â€™ display. The eagle-eyed readers will notice that the second display is made from a different material than the first - this is due to the fact I snapped both a drill bit and a tap off in the M2 holes - working with stainless steel with these small tools is very difficult! I ended up making the second from aluminium, which machines like butter, in comparison.</p>



<p>Throughout the development of this project I found myself continually swapping fasteners and trying different combinations to see what looks best. The end result is a mix of M2 and M3 metric machine screws in both brass and stainless steel, cheese head and countersunk head, all slotted. You may notice that in earlier photos some of the parts were assembled with Allen-head cap screws but these were later swapped out. Ebay is usually a great place to get small quantities of fasteners of all different shapes and sizes.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/screws.jpg" onclick="openModal();currentSlide(30)"></p><figure>  
A mix of fastener types used for this project - various M3 and M2 machine screws.  
</figure>  
</div>

<p>The wood screws used for the top and â€¦</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</a></em></p>]]>
            </description>
            <link>https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756964</guid>
            <pubDate>Tue, 07 Jul 2020 08:33:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unitaskers: Introduction]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23756664">thread link</a>) | @nonoesp
<br/>
July 7, 2020 | https://sketch.nono.ma/unitaskers-intro | <a href="https://web.archive.org/web/*/https://sketch.nono.ma/unitaskers-intro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    <div>

     

    <p><img src="https://nono.imgix.net/img/u/sketch-nono-ma.svg?ixlib=php-3.3.0">

            <img src="https://nono.imgix.net/img/u/sketch-200707-panaderos-sapiens-book-spanish-color.jpg?auto=format%2Ccompress&amp;ixlib=php-3.3.0&amp;w=2500"></p>

    <p>This piece is an introduction a new seriesâ€”called <em>Unitaskers</em>â€”that will feature single-purpose artifacts that let you do one thing.</p>
<p>Think, for instance, of a graphite pencil. It's useful to write or draw. You can sharpen it to get thin lines or tilt it to get thicker, faded strokes. You can write a letter or draw a house. You can trace continuous lines or do pointillism. But there isn't much more you can do with it.</p>
<p>In the opposite spectrum are your computer or your smartphoneâ€”they can virtually do anything, from drawing and writing to setting an alarm, sending emails, but they make doing something with focus harder than ever before.</p>
<p>How does your thought process change when you write with pencil and paper instead of typing on your laptop? When you read a book on Kindle instead of reading on your tablet? When you capture audio notes with a hand-recorder instead of using your phone?</p>
<p>Letâ€™s find out.</p>
<p>Each essay of the series will use an object (or family of objects) as a source of inspirations to share stories and facts around finding focus in our age of distraction.</p>


  </div>



  </div><div>
      <p><img src="https://nono.imgix.net/folio/images/veil.gif" data-src="https://nono.imgix.net/img/u/sketch-nono-ma-logo.svg"></p>
<hr>
<!-- <p class="u-font-size--g u-opacity--high u-text-align--center">
My sketches and stories, in&nbsp;your&nbsp;inbox.
</p> -->
<p>
My sketches and stories, in&nbsp;your&nbsp;inbox.
</p>

<p><span>One email per week. No spam ever.</span></p>

<p><img src="https://sketch.nono.ma/img/u/profile-nono-ma-sketch.jpg" alt="Pencil sketch of Nono MartÃ­nez Alonso.">
</p>


      </div></div>]]>
            </description>
            <link>https://sketch.nono.ma/unitaskers-intro</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756664</guid>
            <pubDate>Tue, 07 Jul 2020 07:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is the Best Monitor Size for Gaming?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23756614">thread link</a>) | @amryoussif
<br/>
July 7, 2020 | https://thegamingexperts.com/what-is-the-best-monitor-size-for-gaming/ | <a href="https://web.archive.org/web/*/https://thegamingexperts.com/what-is-the-best-monitor-size-for-gaming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><div super-socializer-data-href="https://thegamingexperts.com/what-is-the-best-monitor-size-for-gaming/"><p>Share and Spread the love</p><ul><li><i alt="Facebook" title="Facebook" onclick="theChampPopup(&quot;https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fthegamingexperts.com%2Fwhat-is-the-best-monitor-size-for-gaming%2F&quot;)"><ss></ss></i></li><li><i alt="Twitter" title="Twitter" onclick="theChampPopup(&quot;http://twitter.com/intent/tweet?text=What%20is%20the%20Best%20Monitor%20Size%20for%20Gaming%3F&amp;url=https%3A%2F%2Fthegamingexperts.com%2Fwhat-is-the-best-monitor-size-for-gaming%2F&quot;)"><ss></ss></i></li><li><i alt="Instagram" title="Instagram"><a href="https://www.instagram.com/" target="_blank"><ss></ss></a></i></li><li><i alt="Pinterest" title="Pinterest" onclick="javascript:void((function() {var e=document.createElement('script' );e.setAttribute('type','text/javascript' );e.setAttribute('charset','UTF-8' );e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)})());"><ss></ss></i></li><li><i alt="Reddit" title="Reddit" onclick="theChampPopup(&quot;http://reddit.com/submit?url=https%3A%2F%2Fthegamingexperts.com%2Fwhat-is-the-best-monitor-size-for-gaming%2F&amp;title=What%20is%20the%20Best%20Monitor%20Size%20for%20Gaming%3F&quot;)"><ss></ss></i></li></ul></div><hr><p>When youâ€™re shopping for a TV, choosing the screenâ€™s size is quite simple: the larger, the better.&nbsp;</p><p>However, choosing your monitorâ€™s size can be challenging. Gamers need to be following up with the entire picture, so they must sit up close to the screen.&nbsp;</p><p>If the screen is too wide, gamers would lose focus and suffer through eye fatigue. On the other hand, if the screen is too small, they might miss some crucial details, causing them to lose their game.</p><p>In this article, youâ€™ll know how to choose the best screen size based on your viewing distance and preferred resolution. Make sure you donâ€™t miss it!</p><h2>Short Answer</h2><p>If you have a short viewing distance, a 24-inch monitor with a 1080p display is your go-to option. If you enjoy a bit longer viewing distance, you can opt for a 27-inch screen with a 1440p resolution.</p><h2>Aspects to Consider</h2><p>You should consider two things when picking the best screen size: viewing distance and screenâ€™s resolution.</p><h3>Viewing Distance</h3><p>You may ask: â€œhow can the viewing distance affect your gaming experience?â€</p><p>Itâ€™d be best if you adjust the screen size to your home-gaming setup.&nbsp;</p><p>If youâ€™re a competitive gamer, you need to be about 3-feet away from your screen to enjoy an excellent gaming experience. With such a short distance, your best option is a 24-inch screen. Otherwise, choosing larger options will put a lot of strain on your eyes.</p><h3>Resolution</h3><p>Resolution is one of the essential aspects for pro gamers because if it werenâ€™t good enough, they wouldnâ€™t have that mind-blowing gaming experience, which makes them feel like the main characters of the game.</p><p>Another rule of choosing a monitorâ€™s size is that large screens should have high resolution.</p><p>For instance, if you had a suitable viewing distance and decided to buy a 34-inch screen, the resolution shouldnâ€™t be less than 4k (full HD).</p><p>Also, if you choose a 24-inch display, itâ€™s not recommended that you go for a 4k resolution because the high resolution will slow down the game, as itâ€™ll be too heavy on the graphic card.</p><h2>The Best Monitor Size for Gaming</h2><h3>21-inch Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors.png" alt="" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors.png 284w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-24x15.png 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-36x22.png 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-48x30.png 48w" sizes="(max-width: 284px) 100vw, 284px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors.png 284w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-24x15.png 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-36x22.png 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors-48x30.png 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/21-inch-Monitors.png"></figure></div><p>As a beginner, you wonâ€™t mind settling for such a small screen, but when things get heated, youâ€™ll want more.&nbsp;</p><p>If you possess a 21-inch screen, you should sit less than 3-feet away. Most of these screens come with a 1080p resolution, which will give you a good display, yet it might bring down the refresh rate and responsiveness, leading to your loss.</p><p>The best thing about 21-inch monitors is that you can get them at $100, like the BenQ GW2280 and the HP 22ER monitors.</p><h3>24-inch Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch.jpg" alt="" width="435" height="246" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch.jpg 693w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-300x169.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-24x14.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-48x27.jpg 48w" sizes="(max-width: 435px) 100vw, 435px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20435%20246'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch.jpg 693w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-300x169.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-24x14.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch-48x27.jpg 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/24-25-Inch.jpg"></figure></div><p>If youâ€™re a desk-gamer and 3-feet away from your screen, a 24-inch gaming monitor will go perfectly with your home setup. It comes with 1080p-resolution and sometimes 1440p.&nbsp;</p><p>The ideal resolution for the 24-inch screen is 1080p, as a higher resolution might slow down the game. Also, most gamers describe this screen size as the most comfortable because they can visualize the entire screen.</p><p>The 24-inch screen is suitable for viewing the on-screen mini-maps, which donâ€™t require much productivity.</p><p>You might find 24-inch screens that support 4k full HD, but at that moment, you need to remember our golden rule: â€œwhen the resolution is too high, the responsiveness is too low.â€</p><h3>27-inch Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1.jpg" alt="" width="409" height="270" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1.jpg 1024w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-300x199.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-768x509.jpg 768w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-24x16.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-36x24.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-48x32.jpg 48w" sizes="(max-width: 409px) 100vw, 409px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20409%20270'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1.jpg 1024w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-300x199.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-768x509.jpg 768w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-24x16.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-36x24.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1-48x32.jpg 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/best-27-inch-monitor-1.jpg"></figure></div><p>The QHD screen of the 27-inch gaming monitors is the sweet spot for many pro gamers. If you get one, try to sit about 3 to 4-feet away from the screen to visualize the entire image. If you sat closer than 3-feet, you wouldnâ€™t be able to follow up with the game events.</p><p>Many monitors supporting the 1440p resolution come with a 144-Hz refresh rate, which is good enough to play games like The Witcher 3 without causing any latency.&nbsp;</p><p>27-inch screens can support 4k, but itâ€™s too heavy on the graphics card, causing lower refresh rates.&nbsp;&nbsp;</p><h3>32-inch Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor.jpg" alt="" width="433" height="243" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor.jpg 390w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-300x168.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-24x13.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-48x27.jpg 48w" sizes="(max-width: 433px) 100vw, 433px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20433%20243'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor.jpg 390w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-300x168.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-24x13.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor-48x27.jpg 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/28-32-Inch-Gaming-Monitor.jpg"></figure></div><p>If you plan to go for a 32-inch screen, you should know that you might need to hang it up, as you canâ€™t be closer than 5-feet to this screen.&nbsp;</p><p>32-inch screens have 4k resolution with relatively high refresh rates, offering you high-quality gaming experience. Moreover, the screen is big enough to allow multiplayer games.</p><p>Professional gamers do not recommend buying a 32-inch display with a 1080p resolution because the pixelated image is a bit distracting to human eyes.</p><p>Nevertheless, sitting too close to the display drives the players to move their heads and eyes a lot, contributing to their fatigue.</p><h3>Ultra-Wide Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5.jpg" alt="" width="456" height="256" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5.jpg 650w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-300x169.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-24x14.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-48x27.jpg 48w" sizes="(max-width: 456px) 100vw, 456px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20456%20256'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5.jpg 650w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-300x169.jpg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-24x14.jpg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-36x20.jpg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5-48x27.jpg 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/Ultrawide-Screen-5.jpg"></figure></div><p>Ultra-wide monitors usually revolve around 34-inch displays, which are the best for high-productivity titles like racing games. With such a big screen, you can open several windows and play multiplayer games.</p><p>As the screen is large, try to sit a little further than usual. Furthermore, 34-inch monitors are large enough to allow some curvature in their display. The previous feature makes the players feel like theyâ€™re the hero of the game.</p><p>The screen resolution is as good as a 1080p 24-inch screen, which is about 109 PPI.</p><h3>Dual Monitors</h3><div><figure><img src="https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors.jpeg" alt="" width="420" height="313" srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors.jpeg 1000w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-300x224.jpeg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-768x574.jpeg 768w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-24x18.jpeg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-36x27.jpeg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-48x36.jpeg 48w" sizes="(max-width: 420px) 100vw, 420px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20420%20313'%3E%3C/svg%3E" data-lazy-srcset="https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors.jpeg 1000w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-300x224.jpeg 300w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-768x574.jpeg 768w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-24x18.jpeg 24w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-36x27.jpeg 36w, https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors-48x36.jpeg 48w" data-lazy-src="https://thegamingexperts.com/wp-content/uploads/2020/07/Dual-Monitors.jpeg"></figure></div><p>Having dual monitors makes a lot of sense if you want to open a lot of tabs at the same time. It best suits designers and programmers, but Iâ€™m not sure if itâ€™s a viable option for professional gamers.</p><div><p>Gamers need to be focused at all times and picture the entire game, but multiple screens will be a distraction, as they will need to move their eyes and heads to keep all monitors within their sight range.</p><p>If you want to open several windows while playing, consider a large screen with a reliable processor, not dual monitors.</p></div><h2>Final Thoughts</h2><p>Thereâ€™s no such thing as a perfect screen size because thereâ€™s a lot of variables in this equation.</p><p>Firstly, you need to match your options with your budget.&nbsp;</p><p>Secondly, if youâ€™ll be placing the screen on a desk, then a 24-inch display with 1080p resolution is your best option because of the short viewing distance. As your viewing distance gets longer, you can opt for a larger screen.</p><p>Finally, youâ€™ve to choose a better resolution if you want to buy a large screen without negatively impacting your response times and refresh rates.</p></div></div>]]>
            </description>
            <link>https://thegamingexperts.com/what-is-the-best-monitor-size-for-gaming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756614</guid>
            <pubDate>Tue, 07 Jul 2020 07:31:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[2019: The year when (as CEO) I crashed, burned and cried]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23756074">thread link</a>) | @boffinism
<br/>
July 6, 2020 | http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried | <a href="https://web.archive.org/web/*/http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-6140b52a4b13c5c4e1be"><div><div><p>In 2016, I voluntarily quit a very well paying job and set out to build a start-up. I cut all other activities - stopped producing my podcasts, promoting my book and doing other freelance work - and threw myself fully into <strong>a new mission: to build a billion crown (CZK) company</strong>.&nbsp;</p></div><div><p>Not only did I burn all of my bridges and put all my eggs into one basket, I also went into personal debt well over a million to finance the young and fragile company, at the time it all seemed worth it.</p></div><p>There was excitement, there was novelty, there was challenge. During the first years, the number of clients, colleagues, and revenue kept rising, the world started noticing us, we signed big brands, won awards and even raised a bunch of money.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_30945"><div><p>It was all sunshine and unicorns.<br></p><p>Until it wasn't.<br></p><p>Feeling that there was no time to waste, I pushed for rapid international expansion immediately after our September 2018 fundraise.&nbsp;<br></p><p>In the blink of an eye, the team doubled in size: we hired senior (expensive) managers and a local sales team in London (even more expensive) in order to take the UK market by storm.<br></p><p>In support of the sales effort, I was frequently flying to London. I would even do round trips - fly to London in the morning, attend two client pitches and be back in Prague by night. Using low budget airlines that had frequent delays, I found myself leaving the house before 6 AM and coming back at 1 the next morning. I would work the whole time on the train, at the airport and sometimes even on the cab ride back home. Consequently, my mind was rushing with thoughts and I couldn't fall asleep despite the exhaustion.</p><p>Sometimes, I'd miss my return flight. I'd be forced to stay the night in an airport hotel and show up to work the next day in Prague wearing day old clothes.</p><p>At the same time, we were trying to enter Polish and Romanian markets. Once in a four day span I managed to cover Prague --&gt; London --&gt; Warsaw --&gt; Manchester --&gt; Bucharest --&gt; Prague. Frequent flyer miles aside, I began to question whether it was still fun arriving at my hotel in Bucharest at 2AM only to find a colleague waiting for me to rehearse the next day's presentation.<br></p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_15646"><div><div><p><em>Life of a start-up CEO  -  pitching, traveling and more pitchingâ€¦ managing the company in between whenever you steal the moment<br></em></p></div><h2><strong>Cracks begin to show</strong></h2><p>I love sleeping and hate early starts, so I was beginning to run on reserves.&nbsp;<br></p><p>Six months into our UK adventure we still had not closed any clients.</p><div><p>We were burning cash like crazy. Some months we were spending 3-4 times the revenue we were bringing in and serious worries started to emerge that we would not hit the targets we needed to hit to acquire another tranche of investment. The fear of running out of cash and going bust grew larger as weeks flew by.</p></div><div><p>What was worse there were underlying tensions between co-founders with totally opposite views of what the product should do and to whom should we sell to. Some pushed for enterprise, others for mid-sized e-commerce clientele with a wildly different customer and feature sets in mind. As we couldn't convince each other rival camps started to emerge within the company.</p></div><p>In spring 2019, when we received definite word that our seed-round investors would not chip in any more funds we needed to scramble to close another round of funding elsewhere. We managed to find two funds who loved our tech and team and could theoretically extend our runway by another year. "Just enough time to break into the UK market and turn things around" I thought.</p><p>It was April when even these new investors pulled out of the deal. I was left with only two choices: either cut costs by two-thirds or go out of business.&nbsp;</p><p>Just eight months after an incredible rush of positivity, great publicity and lots of enthusiasm and new energy to build business, I found myself:<br></p><ol data-rte-list="default"><li><p>Exhausted from all the travelling, stress and hours needed to put in when you are trying to quickly scale up a company.</p></li><li><p>Deep in personal debt on a start-up salary that didn't even cover lease payments and my basic living expenses.</p></li><li><p>Weeks away from corporate bankruptcy.</p></li><li><p>Facing an internal mutiny with the opposing faction attempting to replace me as CEO.</p></li></ol><p>Basically, I was on the brink of losing everything - my business, my reputation, and all my money.</p><div><p>The same thing - our company - that I had already sacrificed so much for was now pushing me against the wall, making it all the more difficult to see a clear way out of the situation.</p></div><h2><strong>The night I cried</strong><br></h2><p>In May 2019, I finally had to face the inevitable. I needed to dump all expansion plans, cut the marketing budget to zero, and most regrettably reduce the team by half.&nbsp;</p><p>One morning, we flew the whole team to Prague for an all hands meeting. I had to come ou and break the dire news in front of everybody.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_34310"><div><p>The rest of the day I spent in one on one meetings telling colleagues who could stay and who had to go and how promptly.</p><p>I tried to help where I could, recommending my colleagues to other companies, even lending personal money to some who couldn't find new roles quickly enough.&nbsp;</p><p>Overall, the reaction of most of the team was better than I expected, but regardless, by the end of the meeting marathon I was drained to the bone marrow.</p><p>That night - for the first time in my life - I cried because of work.&nbsp;</p><p>I felt like a failure; a bad manager and CEO. I felt like I let a bunch of very good people down. I went through what was probably the lowest low I experienced in my whole life.</p><p>Thankfully, I have the best GF in the world. When I came home I found post-it notes all over our place with each stating one of my positive characters and skills.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1594048680923_37476"><div><p>Through time, with her support and the support of our investors I was able to pull myself together, regroup and lead again.</p><h2><strong>All Bad Leads To Something Good In The End</strong></h2><p>During the year of 2019 I must have aged 5 years.&nbsp;</p><p>However, looking back, I now know it was one of the best things to happen to our company and one of the best managerial/entrepreneurial lessons I have ever received and things turned back to good pretty quickly:&nbsp;<br></p><ul data-rte-list="default"><li><p>In the end, our investors backed us with a bridge round of financing so that we wouldn't go bust.&nbsp;</p></li><li><p>We let go of the people who weren't bringing real value to the company.&nbsp;</p></li><li><p>We got rid of all the mutineers who were creating a toxic working environment and restored a positive team spirit.&nbsp;</p></li><li><p>We have learned that we could make the same revenue with half of the staff!</p></li><li><p>In September 2019 we - for the first time in the history of the company - broke even (turned to black numbers).&nbsp;</p></li><li><p>And we've been profitable ever since.&nbsp;</p></li></ul><h2>Never forget, itâ€™s just a job</h2><p>We entered 2020 in great shape. We had record breaking revenue and profits, big strong prospects for future growth... only for COVID to throw us right back into the fire.<br></p><div><p>But that's fine and part of the fun. Most of all it is a different story I am not ready to tell just yet. We march on knowing that the deepest shit - seen from just a slightly different angle - is usually the biggest opportunity to come back stronger than before.</p></div><p>So why did I write this?</p><div><p>Why am I coming clean about my relatively fresh failures?</p></div><p>We all go out to the world every morning attempting to exorcise internal demons and navigate through and against external - and often adverse - forces.</p><p>In start-ups especially, we live in a highly pretentious and deformed version of reality filled with over-hyped expectations, fear of failure and goals we are trying to reach.</p><p>Last year, a Czech start-up founder, supposedly after failing to raise a decisive round of financing and having to face the terror of coming clean, made the tragic decision to take his own life.&nbsp;<br></p><p>A big human tragedy. And probably not an isolated case.</p><p>It gives one a pause. It's not just the death - that already had me at a loss for words, but just that I could empathize with what it's like. I was just in this same situation around the same time this person was and if I wasn't lucky enough to have the support system that I had... I can see how slippery this slope is.</p><p>To all start-up founders and anyone else who might be standing at the edge of the abyss I want to say this:<strong> You are not alone. I've been through this and so have many more people before us than we could ever imagine. Don't succumb to the PR of the (allegedly) successful few. And know that even when you fail, it can be the best thing to ever happen to you.</strong></p><p>To end this with a quote from my friend and a fellow founder/CEO know this:&nbsp;</p><p><em>In the end it's just a job. If the company goes away, the world won't shit its pants. In fact, it will be barely noticed. Things will go on. And so will your life.</em></p></div></div></div>]]>
            </description>
            <link>http://www.pavelsima.cz/blog/2019-the-year-when-as-ceo-i-crashed-burned-and-cried</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756074</guid>
            <pubDate>Tue, 07 Jul 2020 05:41:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google offers free fabbing for 130nm open-source chips]]>
            </title>
            <description>
<![CDATA[
Score 298 | Comments 104 (<a href="https://news.ycombinator.com/item?id=23755693">thread link</a>) | @tomcam
<br/>
July 6, 2020 | https://fossi-foundation.org/2020/06/30/skywater-pdk | <a href="https://web.archive.org/web/*/https://fossi-foundation.org/2020/06/30/skywater-pdk">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Did you ever dream about creating your own chip?
I mean, a physical chip.
One which you can hold in your hand, and which does exactly what youâ€™ve designed it to do?</p>

<p>Until today, there were two major road blocks: you had to get access to a process design kit (PDK) from a chip manufacturing house (a foundry), and you had to have enough money to actually pay for the manufacturing.
These times are over.
Today.</p>

<p>Today, in a FOSSi Dial-Up talk, Tim Ansell of Google announced <a href="https://github.com/google/skywater-pdk">SkyWater PDK</a>, the first manufacturable, open source <a href="https://en.wikipedia.org/wiki/Process_design_kit">process design kit</a>.
What differentiates this PDK from previous attempts is the fact that it is manufacturable: with this PDK, you can actually produce chips with the <a href="https://www.skywatertechnology.com/">SkyWater foundry</a> in the 130nm node.</p>

<p>That leaves you as chip designer only with one road block: money.
Manufacturing chips is expensive â€“ even for more than a decade old nodes like the 130nm node, you need to spend at least a couple thousand dollars.</p>

<p>You know what?
Donâ€™t worry â€“ Google and efabless have got you covered!
They are providing <strong>completely free of cost</strong> chip manufacturing runs: one in November this year, and multiple more in 2021.
All open source chip designs qualify, no further strings attached!</p>

<p>Learn more about all of that by re-watching <a href="https://www.youtube.com/watch?v=EczW2IWdnOM">Timâ€™s Dial-Up talk</a> or click through the <a href="https://docs.google.com/presentation/d/e/2PACX-1vRtwZPc8ykkkgtUkHkoJZrP9jKOo3FYdKqbg-So0ic6_kx7ha1vHnxrWmuxWkTc9GfC8xl0TfEpMLwK/pub?start=false&amp;loop=false&amp;delayms=3000">slides</a>.</p>

<p>This is certainly a dream come true for us at the FOSSi Foundation.
We helped the Free and Open Source Silicon community, our community, grow and tackle huge challenges over the years.
An open, manufacturable PDK was the main blocker in a fully open flow between RTL and a physical chip, and weâ€™re extremely excited to see that blocker removed.</p>

<p>As always, removing one roadblock only highlights more challenges:
RAM, ROM and flash compilers, analog blocks, optimizations to various tools, and much, much more.
Now is the perfect time to get involved in the Free and Open Source Silicon ecosystem â€“ or learn more about the accomplishments and challenges ahead of us.
A good starting point are the next Dial-Up talks.</p>

<p>Head over to the <a href="https://fossi-foundation.org/dial-up/">Dial-Up web site</a> for a listing of the upcoming talks on OpenROAD, cell design, OpenRAM, and Magic, an old, but surprisingly up-to-date tool!
To stay up-to-date with the latest developments in the FOSSi ecosystem <a href="https://librecores.us17.list-manage.com/subscribe?u=5d525b453672149a60c198960&amp;id=1241c8638b">subscribe to El Correo Libre</a>, our monthly newsletter bringing all the important news bits directly to your inbox (or <a href="https://medium.com/librecores">read it online</a>).</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/EczW2IWdnOM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

  </div>

</article>

	</div></div>]]>
            </description>
            <link>https://fossi-foundation.org/2020/06/30/skywater-pdk</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755693</guid>
            <pubDate>Tue, 07 Jul 2020 04:26:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Faces of Microsoft (2017)]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 42 (<a href="https://news.ycombinator.com/item?id=23755238">thread link</a>) | @beefhash
<br/>
July 6, 2020 | https://www.typemag.org/post/the-faces-of-microsoft | <a href="https://web.archive.org/web/*/https://www.typemag.org/post/the-faces-of-microsoft">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

		
			<figure data-blockname="pull_quote">
				<p>â€˜Why do we need more fonts?â€™ asked Bill Gates. â€˜Weâ€™ve got a	serif, a sans, and a monospace font. Why do we need more?â€™...</p>
				
			</figure>
			
			<header data-blockname="article_title">

				
				<h2><a href="https://www.typemag.org/category/3">History of type</a></h2>
				

				

				<p>The people and the rich story of type at the first big tech company.</p>

			</header>
			
			
			
			<figure data-blockname="single_image">
				<a data-lightbox="type-mag-slideshow" data-title="Steven Shaiman, the first program manager for type at Microsoft. Heâ€™s been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children." href="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"><img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"></a>
				
				<figcaption>Steven Shaiman, the first program manager for type at Microsoft. Heâ€™s been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children.</figcaption>
			</figure>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-datetime.png" alt="" height="300" width="300"></span>Gates was having an informal meeting with Steve Shaiman, a cheerful gnome of a man with a head of frizzy hair who was general manager of Microsoftâ€™s hardware division, and with Raleigh Roark one of the two people who had started the division. They were talking about fonts and applications, especially Word.</p>

<p>Roark gave Gates his answer: For printers, basically. This was the era of desktop publishing and proliferating office applications, and users needed more than just the bitmapped system fonts on their computers to get their work done. Courier, Tms Rmn, and Helv were not going to be enough. </p>

<p>Bill Gates is known for asking hard questions, but also for accepting hard answers and acting on them. As soon as he got his answer, he pointed at Steve and told him: â€œNow you run type!â€</p>

<p>Thatâ€™s the way things worked at Microsoft in those days, says Shaiman: whoever knew the most about a subject tended to end up in charge of it. So he ended up starting Microsoftâ€™s first fonts group. It was Spring, 1989.</p>
			</section>
			

			





			
			<section data-blockname="sub_heading_1">
				<h2>The conquest of TrueType</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-phone.png" alt="" height="300" width="300"></span>STEVE SHAIMAN was on a business trip to Atlanta with Nathan Myhrvold, Microsoftâ€™s celebrated head of advanced technology, when they got an unexpected phone call. Myhrvold had with him a satellite phoneâ€”an early mobile phone, â€œwhich in those days,â€ as Shaiman put it, â€œmeant something youâ€™d carry in a suitcase.â€ The unexpected call was from Apple.</p>

<p>At that time, Adobe Systems dominated the digital font market, with its PostScript technology built into Appleâ€™s LaserWriter printers, and with PostScript firmly established as the preferred format for high-quality fonts. Microsoft needed to find its own format and its own fonts if it didnâ€™t want to be dependent on Adobe.</p>

<p>Like Microsoft, Apple was trying to find ways to license the PostScript language from Adobe, or to find an alternative. The Apple call was about font technology: Apple was developing its own font format, TrueType, as an alternative to PostScript, while Microsoft acquired a program called TrueImage, a potential PostScript clone, which Apple was interested in. How about a trade?</p>

<p>Shaiman says that his and Nathan Myhrvoldâ€™s reaction was immediate: â€œSure!â€</p>

<p>Ironically, once Microsoft got hold of TrueType, they loved the concept but didnâ€™t like the way it was implemented. Although they ended up only making slight modifications to the version that shipped with Windows 3.1, when it came time for the next version of Windows, they ended up â€œthrowing out Appleâ€™s code and rewriting it from scratch.â€</p>

<p>When Microsoft and Apple publicly announced their collaboration on TrueType at the Seybold conference in September 1989, the announcement was handled in a contentious and aggressive manner that antagonized Adobe and famously brought Adobeâ€™s John Warnock to tears of frustration. Steve Shaiman feels now that it was a poor way to do it: â€œWe couldnâ€™t have done worse.â€ Although they were demonstrating what they felt was better technology, they made the mistake of shoving it in Adobeâ€™s face. â€œWhat we really needed,â€ he says, â€œwas a good PR person who could have helped us come up with a less aggressive approach.â€ But the deed was done. The â€œfont warsâ€ were in full swing.</p>

<p>The key developer of Microsoftâ€™s new code was Eliyezer Kohen, whom Myhrvold met at a conference in Switzerland. Eliyezer was, as Steve Shaiman put it, â€œreally, really smart.â€ He had a PhD from ETH Zurich, where he studied with Hans Eduard Meyer, the designer of the font Syntax, and Niklaus Wirth, designer of the Pascal language; and he developed his own technology for creating scalable fonts. Eliyezer, according to Shaiman, was â€œa Turkish Jew with a German wife, who wanted to move to the United States, as one or the other of them wasnâ€™t welcome in any country in Europe where they might find decent working conditions.â€ Microsoft happily brought him in.</p>
			</section>
			
			<figure data-blockname="single_image">
				<img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg">
				<figcaption>Greg Hitchcockâ€™s journey to Microsoft was a bit circuitous â€”he studied geography with a focus on computer cartography, and immersed himself in computer science.</figcaption>
			</figure>
			
			<section data-blockname="sub_heading_1">
				<h2>Even a DOS screen needs a font</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-dosscreen.png" alt="" height="300" width="300"></span>GREG HITCHCOCK was one of the early members of what he calls the â€œvirtual teamâ€ that Shaiman and Dennis Adler put together in early 1990 to deal with fonts. Hitchcock is tall, blond, and slow-spoken; he doesnâ€™t fit the image of the high-energy Microsoft employee, and he may seem unassertive, almost tentative, if you see him only in a neutral context. But when you see his attention snap to the subjects he knows and cares about, he is forceful and precise, and very, very knowledgeable. His memory is encyclopedic, and he has been at the heart of Microsoftâ€™s typographic development for more than a quarter century. Today he manages Microsoftâ€™s Advanced Reading Technologies (ART) team.</p>

<p>Although Microsoft had been dealing with fonts in one way or another from the very beginning (even a DOS screen needs a font to display its text), Hitchcock feels that the story of typography at Microsoft really begins here: When the first outline fonts were created for Windows 3.1, in 1990.</p>

<p>It was all brand-new technology. All fonts up until then had been bitmap fonts, crude forms made up of coarse screen pixels in a vague approximation of what real letters looked like. Although Microsoftâ€™s new effort was driven by purely practical needsâ€”mapping the screen fonts on a computer system to the fonts available on a printerâ€”Hitchcock feels that it was also the beginning of thinking about screen fonts as something useful and readable in themselves.</p>

<p>The members of the virtual team came from all over Microsoft: Dennis Adler (Fonts), Jean-FranÃ§ois Peyroux (OS/2, and later Windows), Michel Suignard (Windows International), Greg Hitchcock (OS/2), Eliyezer Kohen (Fonts), David Weise (Windows), Tim McCaffery (Windows), Raleigh Roark (Hardware), Gabe Newell (Printing), and later Ben Bauermeister, an outside consultant, whose â€œPANOSE systemâ€ for classifying typefaces by their visual characteristics (rather than their historical roots) might provide a roadmap between screen and print.</p>
			</section>
			
			<section data-blockname="sub_heading_1">
				<h2>Monotype send out S.O.S.</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-shake.png" alt="" height="300" width="300"></span>STEVE SHAIMAN hired Dennis Adler to manage the fonts groups.&nbsp; Together, they talked with several potential sources of font libraries and font technologies, including most of the big guns in the field. Linotype, the venerable manufacturer of hot-metal typesetting equipment, which owned the rights to, among others, the very popular typeface Helvetica, was being hard-nosed. â€œFonts were seen as incredibly valuable at the time,â€ says Shaiman, â€œand Linotypeâ€™s attitude was, â€˜Whatâ€™s Microsoft going to do for us?â€™â€ So they were asking an enormous price for licensing the fonts. And Microsoft didnâ€™t want to license the fonts; it wanted to own the rights. (When Shaiman told me this, he laughed and proclaimed: â€œMicrosoft doesnâ€™t rent things!â€)</p>

<p>Monotype, on the other hand, was much more receptive. Monotype was Linotypeâ€™s great rival; between them, the two companies had essentially created the business of mechanical typesetting in the late 19th century, with their competing hot-metal composition machines. But the Monotype Corporation had fallen on hard times. The typography division, the only part of the company working on digital fonts, was making money, but the larger machinery business was hemorrhaging cash, and the parent company was about to declare bankruptcy.</p>

<p>Out of that debacle rose a new type-only company, Monotype Typography Ltd, which was essentially the old typography division reconstituted as an independent business.</p>

<p>The new company, with its focus on digital fonts and information technology, was headed by a German, Rene Kerfante, who had joined Monotype in 1987 to head up the typography division, and an American, Ira Mirochnik, who had been Monotypeâ€™s chief financial officer. They were both quite ready to negotiate a deal with Microsoft.</p>

<p>So it was Monotype that began developing a set of â€œcore fontsâ€ for Microsoft: Scalable TrueType fonts that could be shipped with Windows and used freely by every Windows customer. The new fonts had to mimic the established core set of PostScript fonts, which included Times Roman and Helvetica. Since Monotype had originally developed the Times fonts back in the hot-metal days, that part was easy. To compete with Helvetica, though, they chose to adapt an earlier Monotype design with similar characteristics, called Arial.</p>

<p>Designing the outlines for these typefaces was the kind of task that the Monotype drawing office excelled at. The hard part was the hinting, the software instructions that control the rendering on various devices. That was what would make the fonts look good on screen.</p>

<p>Monotype had a team in the UK working on font hinting, but they were running into trouble. Although they had an auto-hinting program, called TypeMan, developed by Appleâ€™s principal TrueType developer, Sampo Kaasila, the process was proving to be long, slow, and laborious. As Greg Hitchcock describes it, Monotype in desperation Monotype â€œsent out the bat signal.â€ In response, in September 1990, he and Eliyezer made the first of many trips to the UK to provide hands-on help and supervision. This was the start of a back-and-forth pattern for Gregâ€”three weeks in the UK, one week in Redmondâ€”that lasted for the next nine months. Their main job was hinting type, working in little rooms in archaic buildings at the old Monotype works. â€¦</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.typemag.org/post/the-faces-of-microsoft">https://www.typemag.org/post/the-faces-of-microsoft</a></em></p>]]>
            </description>
            <link>https://www.typemag.org/post/the-faces-of-microsoft</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755238</guid>
            <pubDate>Tue, 07 Jul 2020 02:53:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's Talos all the way down]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 11 (<a href="https://news.ycombinator.com/item?id=23754536">thread link</a>) | @classichasclass
<br/>
July 6, 2020 | https://www.talospace.com/2020/06/its-talos-all-way-down.html | <a href="https://web.archive.org/web/*/https://www.talospace.com/2020/06/its-talos-all-way-down.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-6179143665681918893"><p>
Still can't bear the sticker shock of your very own Talos II, or even a itty bitty Blackbird? Why not do what we all do for the machines we can't own and emulate one instead? (And then decide you like it a lot, and save your pennies?)
</p><p>
QEMU 5.0.0 offers a machine model for the bare-metal PowerNV profile, to which the Raptor systems and other OpenPOWER POWER8 and POWER9 designs intended for Linux (i.e., not PowerVM machines) belong. Using the Talos II firmware image (mostly: one snag to be mentioned), you can boot the machine in QEMU and from there bring up an operating system in emulation. In this article we'll prove it works by bringing up <a href="https://voidlinux-ppc.org/">Void Linux for Power</a> (hi, Daniel!) in a variety of configurations. A set-up like this might be enough to test that your software or open-source package builds and runs on OpenPOWER, even if you don't own one yet. In a future article we'll talk about how you can boot your own code on the metal so you can port your favourite OS or build a unikernel.
</p><p>
(For the purposes of this article I'll assume an audience that isn't as familiar with OpenPOWER terminology as our usual readership. Kindly humour me.)
</p><p>
The emulation is imperfect, both if you're emulating it on a real Raptor family system or on an icky PC. While QEMU can emulate an AST2500 (i.e., the ARM-based Baseboard Management Controller, which acts as the service processor and provides the video framebuffer), and QEMU can also emulate a PowerNV system, it doesn't do both at the same time. That means the very lowest levels are actually being simulated here -- you can't watch Raptor's pretty Hostboot display, for example, and only the barest functions of the BMC are simulated enough to allow bring-up, not including the framebuffer. In fact, the hardware profiles we will use here do not in general match a real Raptor system either: we're just virtually plugging in PCI devices that give us necessary functionality, though of course none of the peripheral devices in a Raptor system is Raptor-proprietary. Finally, even though I have tagged this entry with KVM, KVM currently doesn't work right with the QEMU PowerNV machine model even though I'm pretty sure it should be technically possible. Sadly, I tried in vain to do so, could never get KVM-HV to be happy, and ended up kernel panicking the machine with KVM-PR. <a href="https://gist.github.com/classilla/0b95d7bea3e9a270385a2360fbcf7f40">See if you can triumph where I have failed</a>. In the meantime, naturally you can do everything here on a T2 or Blackbird as well because that's how I did it writing this article, but there is no special acceleration for those systems right now.
</p><p>
The first order of business is the first order of business with any emulator: get the ROMs. Fortunately, no one is going to bust you for pirating a set of these because we're an open platform, remember?
</p><p>
The two pieces required are Skiboot and Petitboot, both of which live in the system's PNOR flash. <a href="https://github.com/open-power/skiboot">Skiboot</a> contains OPAL, the OpenPOWER Abstraction Layer. It comes in after the BMC has turned on main power and started the Power CPUs' self-boot engines, which then IPL ("initial program load") Hostboot for the second-stage power-on sequence. When Hostboot completes, it chains into Skiboot, which initializes the PCIe host bus controllers (PHBs) and provides all the basic hardware calls needed by a guest kernel to support the platform. You can think of it as something like an overgrown BIOS. This is the lowest firmware level of an OpenPOWER system that QEMU currently supports emulating.
</p><p>
Skiboot lives only to service a kernel, so it immediately starts one. This initial payload is the bootloader for <a href="https://github.com/open-power/petitboot">Petitboot</a>, which is also stored in firmware. Petitboot has a small Linux root (Skiroot) and acts as a boot menu, finding bootable volumes on attached devices or over the network. Having found one (or you select one), it chains into it to start the main OS, and from then on Skiboot will provide platform services via OPAL for this final guest until the system is shut down or restarted. Because it's in firmware, Petitboot is always available, which can come in really handy when you're trying to do system recovery.
</p><p>
The first, best and most dedicated way is to <a href="https://github.com/open-power/op-build">build Skiboot and Petitboot yourself</a>. They are open-source and the process is relatively well documented and automated, and you should know how to do this if you own an OpenPOWER machine anyhow. If you aren't doing this on a real OpenPOWER machine you'll need a cross-compiler, but most Linux distros offer such a package nowadays. Do keep in mind that if it looks like you're building a tiny Linux distro, well, that's because that's exactly what you're doing. The advantage here is you can fool around with the firmware at your leisure, but it requires a bit of an investment in disk space and time.
</p><p>
The second way assumes you have a more casual interest and would prefer to go with something prefab. It's possible if you (or, you know, your "friend") has a Raptor-family system to extract the necessary components right from the BMC prompt. Log into the BMC over SSH (or via <a href="https://www.talospace.com/2020/04/what-to-do-when-bmc-wont-talk-to-you.html">direct serial connection</a>) and type <tt>pflash -i</tt>. You'll see a list of all the partitions stored in the PNOR flash. The ones we want are <tt>PAYLOAD</tt> (which contains Skiboot) and <tt>BOOTKERNEL</tt> (which contains Skiroot and Petitboot). The exact addresses may vary from system to system and firmware to firmware.
</p><p>
<tt>root@bmc:~# pflash -P PAYLOAD -r /tmp/pnor.PAYLOAD --skip=4096<br>
Reading to "/tmp/pnor.PAYLOAD" from 0x021a1000..0x022a1000 !<br>
[==================================================] 100%<br>
root@bmc:~# pflash -P BOOTKERNEL -r /tmp/pnor.BOOTKERNEL --skip=4096<br>
Reading to "/tmp/pnor.BOOTKERNEL" from 0x022a1000..0x03821000 !<br>
[==================================================] 100%
</tt></p><p>
We skip the first 4K page to avoid the wrapping around each partition. <tt>pnor.PAYLOAD</tt> is actually compressed and needs to be uncompressed prior to use, so:
</p><p>
<tt>root@bmc:~# cd /tmp<br>
root@bmc:/tmp# xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Finally, <tt>scp</tt> both <tt>skiboot.lid</tt> and <tt>pnor.BOOTKERNEL</tt> to your desired system from the BMC.
</p><p>
Admittedly we just talked at length about the two ways most of you <em>won't</em> get the firmware, so let's talk about the third method and the way most of you will, i.e., you'll just download it. Currently there is an irregularity about Raptor's present Skiboot build for this purpose: it only boots if you are emulating a single <em>POWER8</em>. That's not a typo. If you use it to boot an emulated POWER9, the guest will simply panic, and the guest will go into a bootloop if you are emulating multiple POWER8 CPUs (necessary if you need a larger number of PCIe devices). This is undoubtedly a QEMU deficiency which will be corrected in future releases. In the meantime, if you just care about playing around using a single POWER8 on a terminal, then Raptor's builds (either from BMC flash or downloaded) will suffice. However, if you intend to emulate a POWER9 or SMP POWER8 system, <a href="https://github.com/qemu/qemu/blob/master/pc-bios/skiboot.lid">download QEMU's own pre-built <tt>skiboot.lid</tt></a> and use that instead.
</p><p>
For Petitboot, we will extract that directly from Raptor's PNOR images. Assuming you didn't get it using the process above, <a href="https://wiki.raptorcs.com/wiki/Talos_II/Firmware">download the current Talos II PNOR image</a> and decompress it. In the <tt>shell_upgrade</tt> directory you will see the <tt>bzip2</tt>-compressed PNOR image. Uncompress that, leaving you with a filename like <tt>talos-ii-v2.00.pnor</tt>. <a href="https://gist.github.com/classilla/4a2c907d0acec5b537cd4992a00801c3">Download my <tt>pnorex</tt> extractor tool</a> (it's in Perl, because I'm one of <em>those</em> people) and run it on the PNOR image:
</p><p>
<tt>% pnorex talos-ii-v2.00.pnor<br>
Version 1 PNOR archive with 33 entries.<br>
Extracting PAYLOAD at offset 8601.<br>
This is a xz format image.<br>
Wrote 1020K successfully.<br>
Extracting BOOTKERNEL at offset 8857.<br>
This is an ELF executable image.<br>
Wrote 22012K successfully.<br>
Extracted 2 partitions successfully.
</tt>
</p><p>
If you will be using Raptor's Skiroot, then uncompress <tt>pnor.PAYLOAD</tt> to <tt>skiroot.lid</tt> as above: <tt>xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Now, with <tt>skiroot.lid</tt> (for this first example, either Raptor's or QEMU's) and <tt>pnor.BOOTKERNEL</tt> in the same folder, grab an ISO you want to boot. I used the prefab one Daniel offers on the <a href="https://voidlinux-ppc.org/">Void Linux for Power site</a> since I know it boots fine on OpenPOWER hardware. For our first example let's do a simple example of booting Void from a CD image on a POWER8 using the serial port. Our QEMU command line:
</p><p>
<tt>
qemu-system-ppc64 -M powernv8 -m 4G -cpu power8 \<br>
        -nographic \<br>
        -bios ./skiboot.lid \<br>
        -kernel ./pnor.BOOTKERNEL \<br>
        -device ich9-ahci,id=ahci0 \<br>
        -drive id=cd0,media=cdrom,file=void-live-ppc64le-musl-20200411.iso,if=none \<br>
        -device ide-cd,bus=ahci0.0,drive=cd0
</tt>
</p><p>
This configures a single-processor POWER8 system with 4GB of RAM, no graphics, and an Intel AHCI host controller with a single CD-ROM drive attached. The serial output should go to your terminal. It goes a little like this:
</p><p><a href="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" width="287"></a></p>
<p>
Here we are with Skiboot chaining into Petitboot. You can ignore the errors; there will be a lot of them since the platform is still incomplete. It will take a little bit of time to decompress the kernel (much slower than it would be on a regular system). You will notice a single device attached to the three available PCIe host bridges on the single POWER8 CPU, i.e., the host controller itself. Don't you just love that the vendor code for Intel is <tt>8086</tt>?
</p><p><a href="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" width="287"></a></p>
<p>
This is Petitboot. When the bootable choices appear, cursor up to the starred option and press E before it autoboots, because we need to tell Void its console is the on-board serial port (otherwise it uses a VGA console: not sure whose bug that is).
</p><p><a href="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" width="287"></a></p>
<p>
Add <tt>console=hvc0</tt> at the end, cursor down to <tt>OK</tt> and hit RETURN/ENTER a couple times to boot.
</p><p><a href="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" width="287"></a></p>
<p>
A successful login on your emulated baby POWER8. Ta-daa! To rudely pull the plug on the QEMU session, press Ctrl-A, and then X (<tt>QEMU: Terminated</tt>).
</p><p>
Let's now load out the POWER8. We would like to add a video card, an Ethernet card and a USB controller to our existing system, but POWER8 Turismo chips only offer enough PHBs for three PCI endpoints. How do we solve this problem? Easy: we'll add another processor!
</p><p>
At this point â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.talospace.com/2020/06/its-talos-all-way-down.html">https://www.talospace.com/2020/06/its-talos-all-way-down.html</a></em></p>]]>
            </description>
            <link>https://www.talospace.com/2020/06/its-talos-all-way-down.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754536</guid>
            <pubDate>Tue, 07 Jul 2020 01:03:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google and federated analytics: an effective tool in privacy signalling]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23754410">thread link</a>) | @exanimo_sai
<br/>
July 6, 2020 | https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/ | <a href="https://web.archive.org/web/*/https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_29_994">

<div>
<p>Last month, the Google AI blog released an article called â€œFederated Analytics: Collaborative Data Science without Data Collectionâ€, delving into a mode of data science that doesnâ€™t depend on centralised data collection. What I noticed as I was reading it was a heavy handed subtext around privacy. A ctrl+f for â€˜privacyâ€™ brought the word up thirteen times â€“ the subtext was very much â€˜at Google, we think about privacyâ€™. But what makes this particularly interesting is that decentralised data analysis isnâ€™t a new concept and didnâ€™t find its origins in privacy, where Google had introduced systems for distributed analysis as early as 2014. While itâ€™s not unusual for Google to put out content expounding some of its technical methods and processes, this article is an intentional signalling of the companyâ€™s evolved baseline perspective. Basically that privacy is a forefront concern and consideration in all its avenues of pursuit, this being just one of the many bricks in its united front against user-data related backlash.</p>



<div><p>Already subscribed? <a href="#popmake-login">Login</a></p>

<div>
<p><strong>Subscribe to 4th Quadrant to get access to our exclusive content.</strong></p>
<p>14 days free trial now available.</p>
<p><span><a href="https://4thquadrant.io/subscribe">View subscription options</a></span></p>
</div>
</div>
</div></div><div data-td-block-uid="tdi_30_009">

<div><h3><span>CONTACT THE EDITOR</span></h3>
<p>We welcome thoughtful discourse on all our content. If you would like to further explore or discuss any of the ideas covered in this article please contact our editors directly.<br><span>Contact Details</span></p>
</div></div></div>]]>
            </description>
            <link>https://4thquadrant.io/articles/business-models/google-and-federated-analytics-an-effective-tool-in-privacy-signalling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754410</guid>
            <pubDate>Tue, 07 Jul 2020 00:40:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Resealing and Upgrading Trim on a '78-'90 Volvo 240 Windshield]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23754371">thread link</a>) | @luu
<br/>
July 6, 2020 | http://fewstreet.com/2018/06/13/volvo-240-windshield.html | <a href="https://web.archive.org/web/*/http://fewstreet.com/2018/06/13/volvo-240-windshield.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
    <h3>Resealing and Upgrading Trim on a '78-'90 Volvo 240 Windshield</h3>
    <h4>13 Jun 2018</h4>
    <p>The 1990 and earlier Volvo 240 windshields are known for their frustrating trim design which was held on 
by <a href="https://www.volvopartswebstore.com/products/Volvo/240/Clip-kit-Genuine-Classic-Part/1113962/270148.html">22 plastic clips</a>, 
set into the butyl rubber used to mount the windshield. My 1989 240 developed a leak near the top right of the 
windshield due to a combination of rust and shoddy resealing done by the previous owner.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-01-07%2016.30.16.jpg" alt="1989 Volvo 240"></p>

<p>Rather than try to bodge some silicon sealant into the leaky areas and buy myself another couple of years, I chose to fully remove the windshield and 
re-glue it with urethane, replacing the chrome trim strip and clips with more modern rubber trim at the same time.</p>

<p>Using a piece of braided steel wire and two dowels as handles, I sawed through the existing urethane after poking a hole with a exacto knife to feed the wire through.
What was waiting for me underneath was not pretty.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-04-28%2013.08.22.jpg" alt="Rusty Pinchweld"></p>

<p>The pinchweld had rusted enough that there was no choice but to cut it out in several places and weld in new sheet metal:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-03%2016.47.01.jpg" alt="Grinding out pinchweld"></p>

<p>I used a dremel with a cutting disk to remove the old metal and TIG welded in a patch with my <a href="https://amzn.to/2ya1l1F">AHP AlphaTIG 200X</a> (this job is what finally pushed me to buy it).</p>

<p>As I welded small sections, I used an air gun to cool the back side of the pinch seam to avoid setting the dashboard on fire. I kept a fire
extinguisher close by at all times regardless.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-03%2019.21.18.jpg" alt="New windshield corner"></p>

<p>I masked off the entire area and painted it with <a href="https://amzn.to/2JH2C1r">Rust-Oleum professional primer</a> and <a href="https://www.walmart.com/ip/Rust-Oleum-Professional-High-Performance-Enamel-Spray/35031494">high performance enamel</a>. 
The silver Rust-Oleum just happens to be a very close color match to the silver on the 240.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-04%2019.47.02.jpg" alt="Masking"></p>

<p>Considering the horrific condition of the windshield seam before the job, the result isnâ€™t half bad:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-05%2020.55.08.jpg" alt="After painting"></p>

<p>Next, I had to answer a question that I couldnâ€™t find clear information on anywhere on the internet. Is it possible to re-use a pre-â€˜90 style windshield 
but replace the trim with the more modern glued rubber? The answer is <strong>yes</strong>. 
You do not need to buy a whole new â€˜91+ windshield if you already have an older pane of glass in good condition.</p>

<p>I bought some <a href="http://www.gggcorp.com/Universal_Mouldings.html#OriginalT">Gold Glass Group Universal Moulding T107B</a> 
on Ebay in a 15ft. roll and applied it to the edge of the old style windshield instead of the clips and chrome trim.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.07.48.jpg" alt="Applying Trim"></p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.08.02.jpg" alt="Applying Trim Closeup"></p>

<p>A test fit confirmed it fit into the windshield opening perfectly. I think moving from the 0.75â€ T107B to the 1â€ T109B trim would have been a good move, to better
cover some of the nasty surface where the old trim sat. During the test fit I made some marks around the perimeter to help locate the 
windshield later when I installed the urethane.</p>

<p>I bought two tubes of <a href="https://amzn.to/2HLgUfO">DOW U-428 Plus Primerless Windshield Adhesive</a> and a <a href="https://amzn.to/2JJCxii">air powered caulk gun</a> and 
laid down a bead about 9mm tall on the seam. The air powered caulk gun was absolutely essential; the U-428 is so thick that you could never
extrude it from a hand powered gun. I had the regulator on my compressor at nearly 60 PSI to get it to flow. I only ended up using one tube, but this isnâ€™t the kind of job you can afford to run out of adhesive 90% of the way through!</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2018.49.28.jpg" alt="Applying Urethane"></p>

<p>With a helper, I lifted the windshield in and set it in place. We made final position adjustments and taped it in place with some blue tape. 
For the temperature and humidity of my location, Dow calls for at least 5 hours of cure time before drive-off.</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2019.06.36.jpg" alt="Blue tape"></p>

<p>Overall, a pretty long process but nothing an experienced garage fabricator couldnâ€™t do on their own. The final result doesnâ€™t look too bad:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-14%2012.44.17.jpg" alt="Finished image"></p>

<p>Iâ€™m sure itâ€™s a horrible misuse of the urethane, but I had a few grams left over, so I used it to glue the perpetually falling off glovebox back together:</p>

<p><img src="http://fewstreet.com/images/volvo_windshield/2018-06-13%2021.28.39.jpg" alt="Blue tape"></p>

  </div>
</div>


    


    

  </div></div>]]>
            </description>
            <link>http://fewstreet.com/2018/06/13/volvo-240-windshield.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754371</guid>
            <pubDate>Tue, 07 Jul 2020 00:31:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[REST â€“ Idempotency and Safety]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23754015">thread link</a>) | @pradeepl
<br/>
July 6, 2020 | https://pradeeploganathan.com/rest/rest-idempotency-safety/ | <a href="https://web.archive.org/web/*/https://pradeeploganathan.com/rest/rest-idempotency-safety/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-148">
														
							
														
							
														
							<div>
															<div>
									
<p>Implementing HTTPâ€™s uniform interface&nbsp;as discussed in the previous <a rel="noopener noreferrer" href="https://pradeeploganathan.com/2016/09/20/rest-communicating-with-verbs-and-status-codes/" target="_blank">posts</a> has a surprisingly good architectural side effect. If it is Implemented as specified in the REST specifications (HTTP specification â€“ RFC 2616), you get two useful properties namely Idempotency and Safety.</p>



<h3>Safety</h3>



<p>Safety is the ability to invoke an operation without&nbsp;any side effects arising out of the client invoking&nbsp;that operation. It means that the client can invoke an operation&nbsp;with the explicit knowledge that it is not going to change the state of the resource on the server. However, it does not mean that the server should return the same response every time. The server can also perform additional actions when these methods are invoked such as logging calls or incrementing counters etc. but these should not change the state of the resource being acted upon. Generally, read only methods are safe methods. GET, HEAD and OPTIONS are safe methods.</p>



<h3>Idempotency</h3>



<p>Idempotency means that the effect of doing something multiple times&nbsp;will be the same as the effect of doing it only once. A simple example from Mathâ€™s&nbsp;would be the effect of multiplying any number by One. In math the number 1 is an idempotent of multiplication. e.g. 5 x 1 = 5 which is the same as 5 x 1 x 1 = 5. Similarly, an API operation that sets a userâ€™s name is a typically idempotent operation. Whether it is called once&nbsp;or multiple&nbsp;times, the effect of the operation is that the userâ€™s name will be set to the target value. Deleting a resource is an example of this distinction; the first time you invoke the delete, the object is deleted. The second time you attempt to delete it, there is no change in the state of the system, but the object remains deleted as requested. An idempotent operation generates no side effects.</p>



<p>Idempotency results in improved reliability, concurrency, prevents data loss and provides the ability to automatically retry /recover from failures. It improves reliability by providing the&nbsp;ability to safely retry requests that may or may not have been processed. This helps tide over network glitches and load spikes by replaying requests. Load balancers like HAProxy can retry requests when the server disconnects abruptly providing automatic recovery from failures. Since API calls are idempotent multiple API calls can be run concurrently without locks and mutexes to synchronize operations on data. This increases concurrency and system throughput resulting in better performance.</p>



<p>Safety and Idempotency let a client make reliable HTTP requests over an unreliable network. If you make a GET request and never get a response, just make another one. Itâ€™s safe even if your earlier request was fulfilled since&nbsp;it didnâ€™t have any real effect on the state of the resource server. If you make a PUT request and never get a response, just make another one. If&nbsp;your earlier request got through, your second request will have no additional effect since PUT is&nbsp;idempotent and the operation can be repeated.</p>



<p>The following table lists shows you which HTTP method is safe, and which is&nbsp;idempotent</p>



<figure><table><thead><tr><th>HTTP Method</th><th>Safe</th><th>Idempotent</th></tr></thead><tbody><tr><td>&nbsp;GET</td><td>&nbsp;Yes</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;POST</td><td>&nbsp;No</td><td>&nbsp;No</td></tr><tr><td>&nbsp;PUT</td><td>No</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;DELETE</td><td>No</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;HEAD</td><td>Yes</td><td>&nbsp;Yes</td></tr><tr><td>&nbsp;OPTIONS</td><td>Yes</td><td>&nbsp;Yes</td></tr></tbody></table></figure>



<p>GET, HEAD, OPTIONS, PUT&nbsp;and DELETE requests are idempotent. If you DELETE a resource, itâ€™s gone. If&nbsp;you DELETE it again, itâ€™s still gone. The response codes in the above two requests can differ to indicate that the resource representation being deleted is gone. Two simultaneous Delete requests may result in the first request getting a 200 (OK) and the second request&nbsp;getting a 204&nbsp;(NO CONTENT).If you create a new resource with PUT, and then&nbsp;resend the PUT request, the resource is still there and it has the same properties you&nbsp;gave it when you created it. Making an absolute&nbsp;update to a resourceâ€™s state or deleting it outright has the same outcome whether&nbsp;the operation is attempted once or many times. Again, a PUT request can have differing return codes based on the validation done. It can be a 200 (OK) for a successful PUT or a 409 (Conflict) for a PUT where the server resource state is different from the one referenced by the client. A GET or HEAD request should be safe: a client that makes a GET or HEAD request&nbsp;is not requesting any changes to server state. Making any number of GET requests&nbsp;to a certain URI should have the same practical effect as making no requests at all. The safe methods, GET and HEAD, are automatically idempotent as well. POST is neither safe nor idempotent. Making two identical POST requests&nbsp;will result in two subordinate resources containing the same&nbsp;information.</p>



<p>Developing APIâ€™s requires us to adhere to the REST semantics which specifies the safety and idempotency requirements for the various verbs as shown in the table above. API consumers will and should expect GET to be safe and idempotent. Similarly, API consumers will incorporate logic to manage additional factors since POST is neither safe nor idempotent.</p>
<div id="snippet-box"><p>Summary</p><div itemscope="" itemtype="https://schema.org/Article"><div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg" alt="REST - Idempotency and Safety" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2016/09/pop-zebra-wp81DxKUd1E-unsplash-scaled.jpg"></div><div><p>Article Name</p><p><span itemprop="headline">REST - Idempotency and Safety</span></p><p>Description</p><p><span itemprop="description">Implementing HTTPâ€™s uniform interface as discussed in the previous posts has a surprisingly good architectural side effect. If it is Implemented as specified in the REST specifications (HTTP specification - RFC 2616), you get two useful properties namely Idempotency and Safety.</span></p><p>Author</p>
							<div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><p>Publisher Name</p><p><span itemprop="name">https://pradeeploganathan.com</span>
							</p>
							

							<p>Publisher Logo</p><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><p><img width="180" src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg" alt="https://pradeeploganathan.com" data-lazy-src="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><meta itemprop="url" content="https://pradeeploganathan.com/wp-content/uploads/2020/02/AllSeeingEye.jpg"></div></div><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="https://pradeeploganathan.com/rest/rest-idempotency-safety/"><meta itemprop="datePublished" content="2016-09-24T05:59:36+10:00"><meta itemprop="dateModified" content="2020-07-07T09:37:13+10:00"></div>
					</div></div></div>
														</div>
														

																				</article></div>]]>
            </description>
            <link>https://pradeeploganathan.com/rest/rest-idempotency-safety/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754015</guid>
            <pubDate>Mon, 06 Jul 2020 23:37:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Achaemenid Shields Are a Puzzle]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23753604">thread link</a>) | @diodorus
<br/>
July 6, 2020 | https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/ | <a href="https://web.archive.org/web/*/https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<!-- end .post-extras -->

		<div>
			<div data-shortcode="caption" id="attachment_7331"><p><a href="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg"><img aria-describedby="caption-attachment-7331" data-attachment-id="7331" data-permalink="https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/fig_6_2_six_shields/" data-orig-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg" data-orig-size="1600,2400" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fig_6_2_six_shields" data-image-description="" data-medium-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=200" data-large-file="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529" src="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529&amp;h=794" alt="" width="529" height="794" srcset="https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=529&amp;h=794 529w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=1058&amp;h=1588 1058w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=100&amp;h=150 100w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=200&amp;h=300 200w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=768&amp;h=1152 768w, https://bookandsword.files.wordpress.com/2020/04/fig_6_2_six_shields.jpg?w=683&amp;h=1024 683w" sizes="(max-width: 529px) 100vw, 529px"></a></p><p id="caption-attachment-7331">Figure 6-2 from my forthcoming book from Franz Steiner Verlag.  Some types of <em>gerron</em> (wicker shield) used in the Achaemenid empire in the time of Darius I and Xerxes.  Top: <em>peltÄ“</em> and wooden imitation of a sticks-and-leather shield from Tuekta in the Altai (different sections of â€˜sticksâ€™ are painted red, white, and black; similar shields appear in Neo-Assyrian art). Middle: rectangular wicker shields.  Bottom: violin-shaped or figure-eight shields.  Note that they are worn on the arm like a <em>peltÄ“</em> or an Argive shield, not held in the fist like the Tuekta shield.  Source: The J. Paul Getty Museum, Malibu CA, no. 83.AE.247 (digital image courtesy of the Gettyâ€™s Open Content Program), State Hermitage Museum, St. Petersburg, no. 2179/96 (photo by author); Gerhard 1847: Taf. CLXVI; western entrance of the Tachara of Darius (sketch by author), Persepolis; two reliefs on the Apadana, Persepolis (photo by author)</p></div>
<p>  If you look at modern paintings and miniatures, you would think we have a good idea of the type of shield used by Achaemenid infantry in the time of Darius and Xerxes.  They cite <a href="http://www.perseus.tufts.edu/hopper/text?doc=Hdt.+7.61&amp;fromdoc=Perseus%3Atext%3A1999.01.0126">Herodotus book 7 chapter 61</a> and show the large rectangular kind on the middle row of the picture above.  But as I argue in chapter 6.5.2 of my forthcoming book from Franz Steiner Verlag, things are more complicated.  These large rectangular shields appear on the doorposts of two buildings at Persepolis and on two or three vases from Athens (out of thousands of soldiers at Persepolis and Susa and thousands of Red Figure vases). The person who published the sketch on the middle left thought it showed a battle against the Phrygian allies of the Amazons.  And this type of shield does not agree with Herodotusâ€™ words that quivers were hanging beneath the shields, unless we understand â€˜beneathâ€™ quite loosely.<br>
<span id="more-7332"></span></p>
<p>  The type in the top row is also popular with artists, but it seems specific to the Aegean/Sea of Marmara/Black Sea region.  Warriors of all the different nations in this region used small round, rectangular, or crescent-shaped shields, often made of wicker or covered with goatskin, but we do not see these shields in artwork from the heart of the empire.  Its also hard to imagine these forming a barrier which needed to be knocked over after a long struggle, like Herodotus describes.  But they are the type of shield which artists from Athens most often put in the hands of foreigners, probably because the Athenians were a bit provincial and Thracians and Scythians were the most exotic warriors they were familiar with.</p>
<p>  The type in the bottom row is the most common type at Persepolis, but it does not show up in Greek art at all.  This might be because it was too similar to the Boeotian or dipylon or figure-eight shield and Greek artists felt that it did not say â€˜barbarian.â€™  A bronze boss for such a shield was found at Samos.  It is easy to imagine quivers hanging beneath such a shield, but hard to imagine them forming a solid barrier which needed to be pushed over.  </p>
<p>  We see even more types of shield in art from the empire, such as the small round center-grip shield on the Ã‡an sarcophagus or the big deep round wicker shields carried by ?Thracians? at Persepolis.  But these three types in the three rows are the ones people today are most interested in.</p>
<p>  Diodorus describes the Persian shields at Thermopylae a bit differently than Herodotus describes them at Plataia (11.7.3, my translation) â€œFor the barbarians used small <em>aspides</em> and <em>peltai</em> which were advantageous in broad open spaces, being easy to move, so because of the narrow space they were not able to harm their enemies very well because they were packed close together with their whole bodies covered with the great <em>aspides</em>, while being at a disadvantage because of the lightness of their defensive arms, they suffered wound after wound.â€  He seems to imagine Persian warriors using <em>peltai</em> like the barbarians in paintings (Xen. Cyr. 1.2.13)</p>
<p>  People in my lifetime have written a lot of nonsense about wicker shields supposedly being â€˜lightâ€™ or â€˜weak.â€™  I donâ€™t know of any tests of this, and traditional wooden shields tend to be thinner and lighter than people expect (like 8 mm thick wood plus a layer of linen or parchment in the centre, and 3-5 mm thick wood plus a layer of linen or parchment at the edge).  Modern wooden shields often use heavy plywood and rawhide so the shield can stand up to pounding with blunt weapons: the fact that these shields are unnecessarily heavy is not important because the owners donâ€™t have to march 20 miles with them on their backs, camp, cook dinner, and march 20 miles again.  Tough warriors like the Ottoman Turks used wicker shields and I donâ€™t know of any of their opponents who said that these were poor protection.  Also, until about the time of Xerxesâ€™ punitive expedition against the Ionians-beyond-the-sea, Greek art often shows spearmen with a light figure-eight shields (Dipylon shields, Boeotian shields) which may well have been made of leather or wicker.  Neither art not archaeology shows that all Greek â€œbearers of spear and shieldâ€ in 480 BCE carried a heavy Argive shield and a single long thrusting lance.</p>
<p>  The type of shield in the middle row is the best fit for Herodotusâ€™ descriptions of combat, but not the most common type in art, and it does not match his description of how Persian soldiers were armed.  And as we saw, <a href="https://bookandsword.com/2019/07/06/provisions-loin-girdling-and-battle-gear-in-the-long-sixth-century/">lists of equipment for soldiers in Babylonia</a> do not seem to mention shields at all.  So like a lot of things in ancient history, the idea that Xerxesâ€™ men carried large rectangular wicker shields is our best guess based on pretty thin evidence, not something certain.</p>
<p><em>Further Reading:</em> There are tests of arrows against reproductions of sticks-through-rawhide shields based on artefacts from Dura Europos and Pazyrzk in Barry Molloyâ€™s <em>The Cutting Edge</em> (Tempus: Stroud, 2007) [ISBN 9780752441696 on <a href="https://www.bookfinder.com/search/?isbn=9780752441696&amp;st=xl&amp;ac=qr">Bookfinder</a>]</p>
<p><strong>Donâ€™t leave my sites naked against a hail of financial arrows!  Support them on <a href="https://www.patreon.com/bookandswordblog">Patreon</a> or <a href="https://www.paypal.me/bookandswordblog">paypal.me</a> or even <a href="https://liberapay.com/bookandswordblog/">liberapay</a></strong></p>
<p><em>Edit 2020-07-08:</em> Hi Hacker News!  <a href="https://news.ycombinator.com/item?id=23753604" rel="nofollow">https://news.ycombinator.com/item?id=23753604</a><br>
<a href="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png"><img data-attachment-id="7751" data-permalink="https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/2020-07-08_traffic_cropped/" data-orig-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png" data-orig-size="989,236" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2020-07-08_traffic_cropped" data-image-description="" data-medium-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=300" data-large-file="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529" src="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529&amp;h=126" alt="a bar chart of one month's traffic where half of all hits are on one day towards the end" width="529" height="126" srcset="https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=529&amp;h=126 529w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=150&amp;h=36 150w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=300&amp;h=72 300w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png?w=768&amp;h=183 768w, https://bookandsword.files.wordpress.com/2020/07/2020-07-08_traffic_cropped.png 989w" sizes="(max-width: 529px) 100vw, 529px"></a></p>
					</div><!-- end .post-entry -->
	</div></div>]]>
            </description>
            <link>https://bookandsword.com/2020/06/06/achaemenid-shields-are-a-puzzle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753604</guid>
            <pubDate>Mon, 06 Jul 2020 22:39:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why you should share your salary]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23753402">thread link</a>) | @miraantabrez
<br/>
July 6, 2020 | https://miraan.co.uk/posts/why-you-should-share-your-salary/ | <a href="https://web.archive.org/web/*/https://miraan.co.uk/posts/why-you-should-share-your-salary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h2 id="eliminating-one-of-the-darker-sides-of-capitalism">Eliminating one of the darker sides of capitalism</h2>

<p>Thereâ€™s no reason companies should keep salaries a secret.</p>

<p>If salaries are determined rationally, according to principles that everyone in the company would agree to, then thereâ€™s nothing to hide.</p>

<p>When salaries are hidden, employees can be paid much less than theyâ€™re worth. The underpaid employees wonâ€™t know theyâ€™re underpaid. So they wonâ€™t ask for a raise, and they wonâ€™t go looking for another job.</p>

<p>If salaries are public, employees will know their true market worth. More importantly, theyâ€™ll know their <em>potential future</em> market worth which lets them make informed life choices.</p>

<p>Your salary can have a huge impact on your life trajectory. Itâ€™s most peopleâ€™s only source of income. It determines where you can live, what house you can buy, how often you can travel, when you can retire and how much time you get to spend on hobbies, personal projects or with family and friends. If you have kids, it determines how much you can spend on them too.</p>

<p>But salary information is still so opaque that people canâ€™t effectively plan their financial future.</p>

<p>When I was a fresh computer science grad, I had no idea what salary to expect when applying for software engineering jobs. I got a couple of offers and accepted one from a London tech startup.</p>

<p>But after a year at the startup, I wanted to see what else was out there. I applied to Facebook and got an offer that was double my current compensation. I was blown away and counted myself lucky to stumble onto this information early in my career.</p>

<p>An old colleague also had no idea what he could be making if he switched jobs. He recently joined Facebook too and tripled his salary. Itâ€™s significantly changed his life trajectory. But hereâ€™s the crazy thing â€” if I hadnâ€™t told him what he could be making at Facebook, he still might not have known. He still might be making 3x less than he is now.</p>

<p>Itâ€™s sad to think that many will be in this situation for years. Theyâ€™ll spend a significant part of their life working for a company that is underpaying them. And this is mainly due to keeping salaries secret.</p>

<p>In most other parts of our life, we know whatâ€™s out there and how it compares to what we have. When we buy a car, we can compare the options objectively and make an informed decision. When we buy a house, we can do the same thing. The market is mostly fair and efficient because information is readily available.</p>

<p>But the choice that impacts people the most â€” the job that determines their financial future and what they spend most of their prime waking hours on â€” is not given the same treatment.</p>

<p>Companies have intentionally hidden salaries to make the labour market unfair and inefficient. They exploit this inefficiency by underpaying their employees so they can make more money. This is a darker side of capitalism which should be eliminated. Consider that we already send people to jail when they exploit nonpublic information in the stock market.</p>

<p>Sharing your own salary makes the labour market fairer and more efficient. It opens peopleâ€™s eyes to their true market worth, but more importantly, their <em>potential future</em> market worth.</p>

<p>For a student, having the right information can alter their life trajectory. Knowing the market value of different skills can inform what they choose to study and specialize in. The same is true for working professionals.</p>

<p>Compensation at Facebook is mostly formulaic and everyone is pretty open internally about how much theyâ€™re paid. But not much is shared externally. If you want to explore tech salaries for yourself, <a href="https://www.levels.fyi/">levels.fyi</a> is a great resource.</p>

<p>In the next post Iâ€™ll break down my own software engineering salary at Facebook.</p>


<p><a href="https://twitter.com/miraan_tabrez" data-show-count="false">Follow @miraan_tabrez</a></p>




</div></div>]]>
            </description>
            <link>https://miraan.co.uk/posts/why-you-should-share-your-salary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753402</guid>
            <pubDate>Mon, 06 Jul 2020 22:13:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Guarantee Success at Work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23753084">thread link</a>) | @joebalcom
<br/>
July 6, 2020 | https://joebalcom.blog/2020/07/06/success-at-work/ | <a href="https://web.archive.org/web/*/https://joebalcom.blog/2020/07/06/success-at-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1452">
		<!-- .entry-header -->

	
	<div>
		
<figure><img data-attachment-id="1454" data-permalink="https://joebalcom.blog/2020/07/06/stand-out-at-work/photo-1516659257916-7be846591235/" data-orig-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=1350%2C900&amp;ssl=1" data-orig-size="1350,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="photo-1516659257916-7be846591235" data-image-description="" data-medium-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=300%2C200&amp;ssl=1" data-large-file="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1" src="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1" alt="The one thing you can do to stand out at work." width="644" height="429" srcset="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?w=1350&amp;ssl=1 1350w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1024%2C683&amp;ssl=1 1024w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=768%2C512&amp;ssl=1 768w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1200%2C800&amp;ssl=1 1200w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=350%2C233&amp;ssl=1 350w" sizes="(max-width: 525px) 100vw, 525px" data-lazy-srcset="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?w=1350&amp;ssl=1 1350w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1024%2C683&amp;ssl=1 1024w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=768%2C512&amp;ssl=1 768w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=1200%2C800&amp;ssl=1 1200w, https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?resize=350%2C233&amp;ssl=1 350w" data-lazy-src="https://i0.wp.com/joebalcom.blog/wp-content/uploads/2020/07/photo-1516659257916-7be846591235.jpg?fit=525%2C350&amp;ssl=1&amp;is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>If youâ€™re looking for a hack that will put you on the fast track to success at work, I have something for you.</p>



<p>You might not like it.</p>



<p>You might hate it.</p>



<p>You might even despise it so much that you do the opposite.</p>



<p>But sometimes we all must take our medicine and do what it takes to move onward and upward.</p>



<h3><strong>Going Against the Grain of Going Against the Grain</strong></h3>



<p>I know, I know. Since I started this blog, Iâ€™ve been doing a lot of railing against the idea of working for someone else. While I do not back down from my stance one bit, I do realize that not everyone <em>wants</em> to work for themselves. Iâ€™ve been doing a lot of thinking and a lot of studying on the topic of work, and I feel confident enough to divide the workforce into three camps:</p>



<p><strong>Group A: The small percentage of people who love their jobs</strong>. People in this camp find meaning and enjoyment in the work they do, and their salary is comfortable enough to support their preferred lifestyle. Kudos to these people! They have found the nexus between their version of meaningful work and financial freedom. To achieve this outcome is the ultimate purpose of why I write about <em>work</em>.</p>



<p><strong>Group B: People who hate their jobs and are looking for an alternate path</strong> to meaningful work and financial freedom. Finding suitable answers for these folks is my primary objective, and I find myself in the unique position of creating my own answer to this problem in the process.</p>



<p>There is a third and under-represented camp: <strong>Group C, the silent majority</strong>. These are people who donâ€™t like one or more aspects of their job, but simply donâ€™t feel the need or the urge to venture out on their own. If you find yourself in this camp, this article is for you.</p>







<h3><strong>The Status Quo Is Unacceptable</strong></h3>



<p>If you read <a href="https://joebalcom.blog/2020/06/05/ordinary/">How to be Extraordinarily Ordinary</a>, youâ€™ll see my disdain for the status quo on full display. That post was a bit tongue in cheek, but I will not mince words in this post.</p>



<p>There are a million and one reasons for someone not to like their job. Ranging from pay rates to petty office politics. From specific job functions to Pam from three cubicles way receiving preferential treatment. From not enough hours to too many hours. The list never ends. But one thing is for certain: <em>very few grievances are ever made known to those with the power to change it.</em></p>



<p>The rest are suppressed, hidden from sight, slowly growing into intense misery. This intense misery subsides after a while into dull indifference and acceptance. Selfishness and the â€œwhatâ€™s in it for meâ€ mindset sets in, and newer employees are quickly influenced to follow the same path. This is the life cycle of status quo acceptance.</p>



<p>What I learned as an employee is that arranging a work environment conducive to happiness and success is not as hard as you would think. If you simply take the time to sit down with management to lay out your grievances, most of the time you can work something out. And in the rare instance they are not willing to work with you, then itâ€™s a clear sign that you probably should move on.</p>



<p>What I learned from <em>leading</em> 80+ restaurant employees is that disgruntled employees are an inevitable part of managing such a complex system. There are so many moving parts in a large organization that you wonâ€™t be able to please everyone all the time. But the astonishing part is that most grievances will go undiscussed, no matter how open the door is. Employees who do not speak up will be condemned to their displeasure, and will inevitably poison the well. For those employees, this becomes a self-fulfilling prophecy.</p>



<p>In order to give success and happiness at work a fighting chance, you cannot accept a status quo that does not work for you. But <a href="https://joebalcom.blog/2020/06/08/12-lessons/">if you find that you cannot extract yourself from the situation</a>, your only choice is to lean into your work.</p>



<h3><strong>How to Get Ahead at </strong><strong>Work</strong></h3>



<p>Iâ€™ve been on both sides of the fence and have experienced both perspectives of what is called the <a href="https://en.wikipedia.org/wiki/Principal%E2%80%93agent_problem#:~:text=The%20principal%E2%80%93agent%20problem%2C%20in,entity%3A%20the%20%22principal%22.">Principal-Agent Problem</a>. To put it simply, the principal (the owner or boss) has the incentives to do what is best for the good of the firm. The agent (the employee) often only has incentives to do what is best for themselves.</p>



<p>The norms of mediocrity have made this dichotomy an unfortunate reality. Most agents just donâ€™t care enough about what the principal cares about. Different incentives, different goals.</p>



<p>As an agent who is committed to the firm, your best path forward is to <strong>think like the owner</strong>. It is the one thing you can do to guarantee getting ahead. When your aspirations are aligned with those of the owner, you instantly put yourself on the fast track to success.</p>



<h3><strong>Think Like an Owner and You Will Become the Owner</strong></h3>



<p>On the spectrum of happiness, those people closest to maximal happiness tend to be the ones in control of their own destiny. This simple fact is why I have repeatedly advocated for you to take an alternate path, take ownership of every aspect of your life, and leave the crowd behind.</p>



<p>If working for yourself is not an option in your mind, then your only option for true success and happiness at work is to lean into your work and <em>be excellent</em>. To be excellent in your workplace:</p>



<ul><li>Never say â€œthatâ€™s not my job.â€</li><li>â€œHow can I helpâ€ needs to become an instinct.</li><li>Become a leader within the organization, regardless of your title.</li><li>Donâ€™t wait for someone to tell you to do the work that needs to be done.</li><li>Avoid petty workplace politics.</li><li>Take ownership of everything you do. No excuses.</li><li>Be consistent. The principal has to show up every day, and so should you.</li></ul>



<p>To illustrate this, Iâ€™ll tell you about an employee, who worked for me at the restaurant I managed, named Mike. Mike personified every single item on the above list. He was a college student and a busser, but he was so meticulous, so consistent, and so reliable that he earned the nickname â€œCap,â€ as in Captain America.</p>



<p>I was so impressed by his work ethic and attitude, that I offered to promote him on more than one occasion. He turned down my offer every time because he believed what he was doing was the most effective way for him to help the restaurant.</p>



<p>The job wasnâ€™t glamorous, but he leaned into his responsibilities in a way that earned him freedom, trust, and a sense of meaning in his work.</p>



<p>Iâ€™m confident that because he thinks like an owner, Mike will one day become an owner.</p>



<h3><strong>The Clear Path Ahead</strong></h3>



<p>There is a clear path to controlling your destiny within the confines of working for someone else. This path is not easy, you might not like it initially, but it will yield the most satisfying results over the long run.</p>



<p>By operating from a position of abundance, by going the extra mile to help others look good, by inspiring and lifting others around you, you will stand out above the rest over time.</p>



<p>Iâ€™ll finish with a quote from Naval Ravikant, who sums it up nicely: â€œIf you think like the owner, and you act like the owner, itâ€™s only a matter of time until you become the owner.â€</p>



<p>###</p>



<p>Thank you so much for reading. If you enjoyed this post, please share it with someone who needs it! </p>









	</div><!-- .entry-content -->

	 <!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://joebalcom.blog/2020/07/06/success-at-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23753084</guid>
            <pubDate>Mon, 06 Jul 2020 21:37:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Future of Data Science Is Past]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752931">thread link</a>) | @srean
<br/>
July 6, 2020 | https://koaning.io/posts/the-future-is-past/ | <a href="https://web.archive.org/web/*/https://koaning.io/posts/the-future-is-past/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/future-past-draw.png"></p>
<p>After some reflection with friends and colleagues I canâ€™t help but observe an odd fact:</p>
<p><strong>the Future of Data Science is Past</strong></p>
<p>This isnâ€™t because data scientists try to predict the past (which granted, is pretty funny and ironic). It is also because hype and other circumstances have turned data science into a field of inflated expectations. It feels more like a certain type of dream got pushed (even sold) that didnâ€™t solve all the problems that people were hoping for.</p>
<p>After I started hearing that a lot of data projects fail (hereâ€™s a nice example on <a href="https://www.reddit.com/r/MachineLearning/comments/beoxx8/discussion_when_ml_and_data_science_are_the_death/">reddit</a>) I started thinking about what was going on. Five years ago the future was so bright that some of us may have been blinded by it. In short, the hype around algorithms forgot to mention that:</p>
<ul>
<li>algorithms are merely cogs in a system</li>
<li>algorithms donâ€™t understand problems</li>
<li>algorithms arenâ€™t creative solutions</li>
<li>algorithms live in a mess</li>
</ul>
<p>In this document Iâ€™d like to address these points one by one so that I have something to refer to. I realise that I sound a bit cynical but Iâ€™ll end the blog with some hope.</p>
<h2 id="algorithms-are-merely-cogs-in-a-system">Algorithms are Merely Cogs in a System</h2>
<p>I was once put in a team to design a recommendation service for the Dutch BBC. One of the first things we did was make a drawing of what the service should look like. It looked something like this.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/main_setup_numbers.png"></p>
<p>There were different parts of this design:</p>
<ol type="1">
<li>The UI layer</li>
<li>The AB splitting mechanism - we need this is we ever want to compare two algorithms.</li>
<li>The database that caches recommendations - we need this because at scale we cannot calculate these in real time</li>
<li>The scheduler that triggers a cluster to make calculations - we want to incorporate new data on a daily/hourly basis</li>
<li>An algorithm that calculates new recommendations - this is the data science code that takes log files and produces recommendations</li>
<li>The fallback/checker mechanism that ensures we only recommend things weâ€™re allowed to recommend.</li>
</ol>
<p>Out of all these parts the final part (#6) is the most important in this system. It is the part that guarantees that we always have something to recommend even if any part before breaks. It is also the part that ensures that we always adhere to some very important business rules. Business rules like;</p>
<ul>
<li>make sure that we donâ€™t violate a license (some content may only shown during certain parts of the day)</li>
<li>make sure that we donâ€™t show mature content before 22:00</li>
<li>make sure we donâ€™t recommend violent shows after a kids show</li>
</ul>
<p>It is unrealistic that a self learning algorithm is able to pick up these rules as hard constraints so it makes sense to handle this elsewhere in the system. With that in mind; notice how the algorithm is only a small cog in the entire system. The jupyter notebook that contains the recommender algorithm is <strong>not</strong> the investment that needs to be made by the team but rather it is all the stuff around the algorithm that requires practically <em>all</em> the work. Note that step 5 also requires communication with a big data cluster which also demonstrates that a recommender is more of an engineering investment than an algorithmic one. You donâ€™t want a pure scientist team here, you need solid engineers and developers.</p>
<p>This is besides the fact that a lot of good algorithms can be created with simple heuristics that donâ€™t require a maths degree. One could:</p>
<ul>
<li>recommend content that is often watched together</li>
<li>recommend content that is often watched together unless it is too popular</li>
<li>recommend the next episode</li>
</ul>
<p>These are all fair options to at least benchmark. I would also like to point out that the latter idea is a great idea even it isnâ€™t technically machine learning. It should compete with any deep learning algorithm, any day.</p>
<h2 id="algorithms-dont-understand-problems">Algorithms donâ€™t Understand Problems</h2>
<p>It takes a team a lot of time to realise what problem it is actually solving. Getting this right is hard. Itâ€™s even harder when the majority of the team consists of the same people. Worse; these people are trained in machine learning and prefer to keep themselves to the algorithmic part of their work.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/circle-half.png"></p>
<p>Thing can go wrong in this situation. The team might not be great at translating the actual problem into an algorithm that represents the business. At the same time, the business might not be able to adapt to a recommendation that comes out of the algorithm. Even worse, it is also possible that the algorithmic solution brings in new problems. If youâ€™re unlucky these new problems can get translated into new algorithmic problems. Before you know it youâ€™re stuck in a loop.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/circle-full.png"></p>
<p>People with an algorithmic background usually tackle a problem in isolation of the system that it is in. A better approach is not to focus on the isolated part but to focus on the communication between two parts of the system. If this is not part of the problem design from the get-go then youâ€™re bound to waste resources until you realise it has to.</p>
<p>Letâ€™s remember the recommender usecase. It is a bad idea to expect the algorithm to magically understand that it cannot recommend mature content before 22:00. When you realise this you know that you need a checking system between the algorithm and the serving layer. It is good to realise this early in the project and not when a large chunk of the code needs to get rewritten.</p>
<p>One potential cure against this â€œisolationâ€ way of thinking is to not have a team with data people. Instead you want to have teams that are interdisciplinary and maybe have a data person in it. A team with many backgrounds causes more discussion and a more holistic view of things that â€œmight go wrongâ€. It makes sense to have a UI specialist, a backend engineer, an algorithm person <strong>and</strong> a content expert in a team that is making a recommender.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/better-worse.png"></p>
<p>It is really hard to think outside the box if your in it. By having multiple disciplines you ensure that there is always somebody who can cause a pivot. Thereâ€™s always somebody who thinks outside of the box that youâ€™re in.</p>
<h2 id="algorithms-arent-creative-solutions">Algorithms arenâ€™t Creative Solutions</h2>
<p>Creative solutions to problems are usually not found by hyper-parameter search. The goal should not be to be the most efficient algorithm but the most effective. Do data teams ever consider that maybe the solution to the problem <strong>isnâ€™t</strong> a machine learning model? Why would the algorithm ever be a good starting point to solving a problem?</p>
<p>To drive this point Iâ€™m reminded of a story in the eighties about a condom brand. The business was doing well but it was having some trouble planning production. It turned out to be very hard to predict demand. Both the factory and the warehouse are expensive so people were wondering what to do about it.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-1.png"></p>
<p>Then a strategic consultancy firm came in and suggested that this was indeed a <strong>StatisticsProblem[tm]</strong>. The consultancy firm advised getting another third party involved to try to predict the demand curve. A small army of econometricians was brought in to tackle the business case.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-2.png"></p>
<p>After two months (and many billed hours) the econometricians reported that no progress was made. The timeseries turned out to not show any predictable patterns that could help with the planning of either the factory or the warehouse. The original consultants and econometricians left (pockets filled) while they reminded their client of the NDA they all signed.</p>
<p>After a few weeks an alternative way of thinking made itâ€™s way to management and it came from a factory worker. The problem turned out to be formulated incorrectly. The factory did not need to be turned off if the company had products to produce. It merely needed to look for a product that it could produce when demand for condoms was low. If it could find a product that correlates negatively with the original product then the factory might produce all year round.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/timeseries-yes.png"></p>
<p>Supposedly, this is how latex pacifiers got invented.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/baby-pacifier.png"></p>
<p>The issue with this fable is that it is very hard to verify itâ€™s truth. Still, one might wonder what would happen if we allow ourselves to solve problems without algorithms for a change.</p>
<h2 id="algorithms-live-in-a-mess">Algorithms Live in a Mess</h2>
<p>From the perspective of a data scientist life is pretty easy. One gets to play in an isolated environment of historical data. One getâ€™s to do this from a jupyter environment that somebody else set up. One even gets to use very complex algorithms by calling <code>model.fit()</code> followed by <code>model.predict()</code>. Lotâ€™s of charts are made, metrics are compared and maybe a model is pushed to production.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/rockstar.png"></p>
<p>This is in stark contrast with businesses. Businesses are not confronted with problems that are in isolation. Businesses instead have dynamic situations that consist of complex systems of changing problems that interact with each other. To repeat what is said <a href="https://ackoffcenter.blogs.com/files/the-future-of-operational-research-is-past.pdf">here</a>; I call such situations messes. Problems are abstractions extracted from messes by analysis; they are to messes â€™as atoms are to tables and chairs. We experience messes, tables, and chairs; not problems and atoms.</p>
<p>This is especially true when we consider that the world is a moving target. Optimality is usually of short duration and this is especially true if the consequences of the algorithm arenâ€™t too well understood (who knows what happens when we call <code>.fit()</code> or <code>.predict()</code> given enough columns) or if the algorithm canâ€™t be changed easily.</p>
<p>It getâ€™s worse. The type of model deployed in our field implies a particular paradigm of problem solving. It consists of two parts: predicting the future and making a decision based on this. The effectiveness here depends on how well we can predict the future as well as our ability to act on it. The fact that you can predict something (churn, the weather) does not mean that you can act on it. The fact that you can act on it does not mean that it is predictable.</p>
<p>If we can make good decisions based on predictions then we have another problem: we will cause a shift in the world. This might be great for the short run but it will render our future predictions futile. If we donâ€™t see a backlash in predictive power then our algorithm might cause a way worse problem: self fulfilling prophecies.</p>
<p><img src="https://koaning.io/posts/the-future-is-past/the-future-is-past_files/rockstar-not.png"></p>
<p>This algorithmic attitude towards problem solving often leaves â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://koaning.io/posts/the-future-is-past/">https://koaning.io/posts/the-future-is-past/</a></em></p>]]>
            </description>
            <link>https://koaning.io/posts/the-future-is-past/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752931</guid>
            <pubDate>Mon, 06 Jul 2020 21:23:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Going Bananas with Naming Microservices?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752813">thread link</a>) | @hjacobs
<br/>
July 6, 2020 | https://srcco.de/posts/naming-applications-components-microservices.html | <a href="https://web.archive.org/web/*/https://srcco.de/posts/naming-applications-components-microservices.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody text">
    <div>
<p><img alt="../galleries/naming-applications-components/magic-baby.jpg" src="https://srcco.de/galleries/naming-applications-components/magic-baby.jpg"></p><p>Naming is hard.
Naming is communication.
Going bananas with naming microservices?
Probably something you will regret!
This post proposes a few guidelines to follow when naming internal applications and components.</p>
<!-- TEASER_END -->
<p>Developers seem to enjoy using clever, cute, funny names for their applications <a href="https://srcco.de/posts/naming-applications-components-microservices.html#id3" id="id1">[1]</a>.
I see many tech companies using codenames for internal applications and microservices.
For example, Airbnb goes bananas with "Banana":</p>
<p><a href="https://twitter.com/spikebrehm/status/1100566261191258114"><img alt="Years ago there started a trend at @AirbnbEng to come up with clever cheeky names for services. Now it's gotten out of control. Exhibit A: the internal web app for viewing microservice docs is called &quot;Banana&quot;. ğŸŒ  What does it mean??" src="https://srcco.de/galleries/naming-applications-components/twitter-airbnb-banana.png"></a></p><p>Twitter engineers seem to like bird names (no surprise):</p>
<p><a href="https://twitter.com/mjackson/status/1100624311872679938"><img alt="We did this at Twitter. It got to the point where I had no idea what people were talking about anymore. Hummingbird, dodo, snowflake, Parrott, we're all real system names" src="https://srcco.de/galleries/naming-applications-components/twitter-twitter-names.png"></a></p><p>Spotify seems to have a mixture of codenames ("Bieber", "horus", "hotdog") and meaningful system names ("charts-api", "userdata").
Slide from a <a href="https://www.slideshare.net/kevingoldsmith/how-spotify-builds-products-organization-architecture-autonomy-accountability/112">talk given by the CTO in 2016</a>:</p>
<p><a href="https://srcco.de/galleries/naming-applications-components/spotify-system-names.jpg"><img alt="Spotify system names" src="https://srcco.de/galleries/naming-applications-components/spotify-system-names.jpg"></a></p><p>The Rockefeller Archive Center <a href="https://blog.rockarch.org/project-electron-update-building-microservices-for-integration">uses constellation-themed names for microservices</a> ("aquarius", "fornax", "gemini"):</p>
<p><a href="https://srcco.de/galleries/naming-applications-components/rockarch-microservices-overhead.png"><img alt="Rockefeller Archive Center microservices" src="https://srcco.de/galleries/naming-applications-components/rockarch-microservices-overhead.png"></a></p><p>Zalando also started to use "fun" team and application IDs when introducing microservices in 2015.
Teams started to have naming schemes for their applications, e.g. "coastal shapes" or "characters from Agatha Christie's Poirot".
Some Georgian names turned out to be successful Open Source projects:</p>
<p><a href="https://twitter.com/try_except_/status/1266108151646035969"><img alt="Twitter: Our Georgian heritage at @ZalandoTech" src="https://srcco.de/galleries/naming-applications-components/twitter-zalando-georgian-names.png"></a></p><p>The <a href="https://news.ycombinator.com/item?id=1942384">orange site has more suggestions for ridiculous names</a>
and <a href="https://namingschemes.com/">namingschemes.com</a> can be your inspiration, too.
So if you want to go crazy with naming, by all means do, but please consider the consequences.
<a href="https://theiconic.tech/naming-your-microservices-needs-to-be-trivial-not-cryptic-288902e800e1">Naming your microservices needs to be trivial, not cryptic</a>:</p>
<blockquote>
How does this sound? I deployed â€œLeonardoâ€ and it broke â€œErnestâ€</blockquote>
<p>VS</p>
<blockquote>
I deployed â€œshipmentsâ€ and that caused the outage on â€œpick and packâ€ too.</blockquote>
<p>Or do you want your meetings to <a href="https://www.youtube.com/watch?v=y8OnoxKotPQ">sound like this</a>?</p>
<div id="guidelines">
<h2>Guidelines</h2>
<p>If random "fun" names are not the way to go, how to name internal applications, components, and microservices?
Here some proposed guidelines.</p>
<p>Application namesâ€¦</p>
<ul>
<li>â€¦ MUST NOT contain offensive terms</li>
<li>â€¦ MUST NOT include organization/team identifiers</li>
<li>â€¦ SHOULD describe the application's purpose</li>
<li>â€¦ SHOULD NOT consist solely of acronyms</li>
<li>â€¦ SHOULD NOT use broad/general names for local purposes</li>
<li>â€¦ SHOULD NOT be clever or rely on temporary concepts</li>
<li>â€¦ CAN represent a product branding (if established)</li>
</ul>
<div id="names-must-not-contain-offensive-terms">
<h3>Names MUST NOT contain offensive terms</h3>
<p>Avoid offensive words like "blacklist", "master", and "slave". Avoid violent names like "kill", "killer", and "war".
Also avoid political terms like "brexit" and "putin". Avoid names which can sound offensive for your colleagues,
e.g. "Den Den Mushi" are <a href="https://onepiece.fandom.com/wiki/Den_Den_Mushi">fictional snails</a>, but "Mushi" sounds a lot like "Muschi" (pussy) in German.
Other terminology can also be problematic. For example, imagine you work in a telecommunication company and name one of your services "big brother"
â€” guess what happens if this name is leaked to the press?</p>
</div>
<div id="names-must-not-include-organization-team-identifiers">
<h3>Names MUST NOT include organization/team identifiers</h3>
<p>Applications typically outlive their organization structure.
Adding department/team identifiers to your application names will cause confusion and unnecessary renaming.
This is especially problematic if your org/team names are codenames.
For example, team "kingpins" has created an application "kingpins-user-frontend", what happens if the application is handed over to team "gravity"?</p>
<p>Microservices should be owned by exactly one engineering team, but they should not reflect the team's identity.</p>
</div>
<div id="names-should-describe-the-application-s-purpose">
<h3>Names SHOULD describe the application's purpose</h3>
<p>The application's name should describe its business purpose, i.e. why it exists in the first place.
The application's purpose should not change, otherwise we need to introduce a new application with a different name.
A microservice should have one responsibility. This should be reflected in its name.</p>
<p>Don't assume that others will have the same context as you and understand the name's meaning.
Make sure to ask colleagues who are not familiar with your business domain to review your names.</p>
</div>
<div id="names-should-not-consist-solely-of-acronyms">
<h3>Names SHOULD NOT consist solely of acronyms</h3>
<p>Acronyms are sometimes a necessary evil, but avoid acronyms unless they are well established in your company.
"CMS" (Content Management System) is a well established acronym. CLOTS, BUGR, and NIPL are probably not well-known.
Avoid cryptic acronyms.</p>
</div>
<div id="names-should-not-use-broad-general-names-for-local-purposes">
<h3>Names SHOULD NOT use broad/general names for local purposes</h3>
<p>Large organizations tend to use similar entities in different domains, e.g. there is probably more than one "item", "order", and "user" entity in your company.
Avoid using too general names like "item processor" or "user service" unless you are absolutely sure that your organization only has exactly one definition for "item" and "user".</p>
</div>
<div id="names-should-not-be-clever-or-rely-on-temporary-concepts">
<h3>Names SHOULD NOT be clever or rely on temporary concepts</h3>
<p>I wholeheartedly agree with <a href="https://www.namingthings.co/naming-things-principles">Austerity as a naming principle</a>:</p>
<blockquote>
It can be tempting to use a bit of humor or a cultural reference in code to lighten the mood a bit, but doing this can violate many principles. For example, a joke name can reduce understandability of the underlying concept and reduce the nameâ€™s consistency and searchability. Colloquialisms (which are only understandable to certain audiences) and puns can cause similar issues. They may seem fun initially, but after dealing with them for years, that fun will turn into apathy and (more likely!) antipathy. When in doubt, choose names that are literal and dry.</blockquote>
</div>
<div id="names-can-represent-a-product-branding">
<h3>Names CAN represent a product branding</h3>
<p>Internal application names should not be cryptic codenames, but establishing a brand sometimes makes sense.
Don't introduce a codename unless you are willing to invest into establishing a (product) brand, e.g. a well-recognized codename within the company or for promoting an Open Source project.
Spotify released their developer portal "Backstage" which is now a <a href="https://github.com/spotify/backstage">recognized OSS project</a>.
Zalando has well-established codenames for central infrastructure components like <a href="https://nakadi.io/">Nakadi</a> and <a href="https://github.com/zalando/skipper">Skipper</a>.
Almost every Zalando engineer knows what Nakadi and Skipper are.</p>
<p>Your local "raccoon" and "wingman" microservices don't need branding, their codenames <a href="https://www.youtube.com/watch?v=y8OnoxKotPQ">just lead to confusion</a>.</p>
</div>
</div>
<div id="summary">
<h2>Summary</h2>
<p>Naming is hard, but there is no shortcut for finding a good name.
Selecting or inventing a naming scheme
and assigning a random name to each application sounds like fun.
Please don't prioritize this fun over the struggle of all your colleagues having to deal with these "fun" names.
Involve colleagues from other departments to find a "good" name which expresses the application's purpose.</p>
<p>Stop proliferating meaningless "fun" codenames for software systems.</p>
</div>

</div>
    </div></div>]]>
            </description>
            <link>https://srcco.de/posts/naming-applications-components-microservices.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752813</guid>
            <pubDate>Mon, 06 Jul 2020 21:12:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why marketing is eating the world]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23752747">thread link</a>) | @gmays
<br/>
July 6, 2020 | https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/ | <a href="https://web.archive.org/web/*/https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I was born and raised in the San Francisco Bay Area and grew up during the dot com boom in the late 1990s. One of the most interesting things in looking back are the stark differences in what it took to be successful back then with a software company and what it takes to be successful in building a software startup today in the US. </p>



	<div data-blog-id="155286968">
		<div>
			
			
				<p>
					Processingâ€¦				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	


<p>When I was a teenager, if you wanted to get into internet startups, you needed to find information on how to build websites. Although there were some no-code website builders, they were largely terrible. Building websites from scratch was the way to go. Moreover, developer knowledge was not really available online, because content on the internet was still being written. You had to hop over to your local Barnes &amp; Noble bookstore to buy books on HTML, Javascript, Perl and whatnot. Lastly and most importantly, you needed access to servers. It was not uncommon for internet companies to spend boatloads of money setting up their infrastructure in a closet at their office. Back then, technical knowledge was a really valuable and a limited skill. If you could assemble the best technical teams and keep them happy, that was a really strong moat for you because you could prevent other would-be competitors from being able to build a competing offer.</p>



<figure><img data-attachment-id="4191" data-permalink="https://elizabethyin.com/pexels-photo-261821/" data-orig-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=1880%2C1059&amp;ssl=1" data-orig-size="1880,1059" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="book bookstore close up college" data-image-description="" data-medium-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=300%2C169&amp;ssl=1" data-large-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?fit=660%2C372&amp;ssl=1" src="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=660%2C372&amp;ssl=1" alt="" srcset="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=1024%2C577&amp;ssl=1 1024w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=768%2C433&amp;ssl=1 768w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=1536%2C865&amp;ssl=1 1536w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?resize=483%2C272&amp;ssl=1 483w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?w=1880&amp;ssl=1 1880w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-261821.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"><figcaption>Photo by Pixabay on <a href="https://www.pexels.com/photo/book-bookstore-close-up-college-261821/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p>And as a result, for many years, there were not that many websites in the US market (or anywhere). If you had a website, it was relatively easy to capture attention and web traffic. One such website, Craigslist, a simple peer-to-peer marketplace site that we are all familiar with, was started in 1995 and continues to reign to this day despite so many upstarts trying to compete with it on better design and usability. Why? Craigslist gets the job done and more importantly, people know about its existence. Distribution is king.</p>



<p>Although it often took months to build out a website in the 90s, today you can often get a fairly straightforward site out the door even with no-code tools in less than a day. And if you do need to write code, you can search for code examples on just about every possible topic in a variety of discussion forums and on YouTube. Even more advanced computer science topics such as in machine learning now have so many open source resources and infrastructure.  You can often use a variety of specialty libraries without having specialized knowledge. For the most part, in software, technical information has largely become commoditized. This isnâ€™t to say that you canâ€™t make good money being a software engineer â€” and in fact, if you are a top engineer, you can now make a boatload of money! But itâ€™s to say that most â€œrun-of-the-millâ€ software development is not a unique skillset and most software businesses developed today donâ€™t require specialized software development skills.</p>



<p>This has led to a flurry of many applications being built online â€“ often with multiple teams building the same thing. It is not uncommon to run into 50 different founding teams all trying to build a marketplace for gym trainers. Or 300 founding teams trying re-invent marketing automation.</p>



<figure><img data-attachment-id="4169" data-permalink="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/numofsites/" data-orig-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=960%2C684&amp;ssl=1" data-orig-size="960,684" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="numofsites" data-image-description="" data-medium-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=300%2C214&amp;ssl=1" data-large-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?fit=660%2C470&amp;ssl=1" src="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?w=660&amp;ssl=1" alt="" srcset="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?w=960&amp;ssl=1 960w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=300%2C214&amp;ssl=1 300w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=768%2C547&amp;ssl=1 768w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/06/numofsites.jpeg?resize=382%2C272&amp;ssl=1 382w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"></figure>



<p>According to <a href="https://www.statista.com/chart/19058/how-many-websites-are-there/">Statista</a>, the number of websites has ballooned to nearly 2B!</p>



<p>For most software businesses in the US, the problem isnâ€™t technical knowledge anymore. The problem is getting a wedge into distribution â€” also known as marketing. </p>



<p>Furthermore, incumbents who generally do a good job, often manage to continue reigning. According to Brad Gerstner, CEO of Altimeter Capital, who recently did a podcast on <em><a href="http://investorfieldguide.com/podcast/">Invest Like The Best</a></em>, large tech companies have managed to take even more market share than 10 years ago. Some people may argue this is because the large tech companies have improved their products over time to stay ahead due to their increased collection of data and better algorithms that feed on that data over time. That may be true for some companies but not all. This also applies to other products that have not made significant strides in their technology â€” Craigslist, Salesforce CRM, Turbotax, Quickbooks to name a few. Even Google Search which arguably had a better product in the 1990s compared to its peers is about on par with alternative search engines today, but 90% of people worldwide still use Google. Old habits die hard, and distribution matters more than ever if you are just starting a business. Itâ€™s hard to topple incumbents who have strong distribution and already large audiences â€” even if you can build a much better product. </p>



<p>So where are the opportunities in software? Is it even possible to build a company that takes an entire market?  I took to Twitter to find out. </p>



<figure><img data-attachment-id="4187" data-permalink="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/screen-shot-2020-06-30-at-1-41-57-pm/" data-orig-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=590%2C391&amp;ssl=1" data-orig-size="590,391" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screen-Shot-2020-06-30-at-1.41.57-PM" data-image-description="" data-medium-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=300%2C199&amp;ssl=1" data-large-file="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?fit=590%2C391&amp;ssl=1" src="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?w=660&amp;ssl=1" alt="" srcset="https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?w=590&amp;ssl=1 590w, https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?resize=300%2C199&amp;ssl=1 300w, https://i1.wp.com/elizabethyin.com/wp-content/uploads/2020/06/Screen-Shot-2020-06-30-at-1.41.57-PM.png?resize=410%2C272&amp;ssl=1 410w" sizes="(max-width: 590px) 100vw, 590px" data-recalc-dims="1"></figure>



<p>A big warm thanks to everyone who participated. A number of people came up with some great suggestions of winner-take-all companies within a variety of developer tools / API markets, but in large part, this was an incredibly difficult challenge. No one could think of a company that has started in the last decade and has clearly dominated above all other competitors. On the flipside, weâ€™ve already rattled off a number of older software companies that continue to dominate market share TO THIS DAY in a variety of areas: Google Search, Amazon Books, Turbotax, etc. This isnâ€™t to say that you cannot build a big business if you donâ€™t own a market, but itâ€™s to say that the old way of thinking about market domination is just not applicable anymore.</p>



<p>Put another way, a lot of the â€œlow hanging fruitâ€ in the US software market is now gone. Software in the US generally works. And new opportunities get swept up with would-be competitors immediately. If the 90s was about thinking through your build, the 2020s is about thinking through marketing &amp; distribution. </p>



<p>As such, while many VCs are still fixated on finding unique technology in software and chasing companies that will ultimately be the sole winner, Iâ€™d contend that these two strategies â€” while successful in the 90s and early 00s â€” largely no longer work. There are certainly exceptions but if we are talking strictly about software, (not hardware, not drug discovery, not synthetic bio, etc) youâ€™d be hard pressed to find a company where winning does not require a solid marketing and/or sales game. This is very different from the 1990s. Having a marketing skillset and mindset is what you need to win in 2020 in the US software market. </p>



<p>Although the low hanging fruit opportunities in the US are gone, itâ€™s not to say that you canâ€™t build a Salesforce competitor or a Craigslist competitor and be successful. The software market in the US has gotten so big â€” you can still build a billion dollar business if you are the 15th email service provider. We are seeing more and more unicorns ($1b valuation businesses) and many in the same market. However, we are also seeing many more startups than in the 1990s being built. This means that while there are more unicorns as an aggregate number, there are also many more companies that will not become unicorns. And with increased competition, even if there are more winners, the cost of customer acquisition becomes more expensive for all. </p>



<figure><img data-attachment-id="4193" data-permalink="https://elizabethyin.com/pexels-photo-1564506-3/" data-orig-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=1880%2C1208&amp;ssl=1" data-orig-size="1880,1208" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="boston terrier wearing unicorn pet costume" data-image-description="" data-medium-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=300%2C193&amp;ssl=1" data-large-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?fit=660%2C424&amp;ssl=1" src="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=660%2C424&amp;ssl=1" alt="" srcset="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=1024%2C658&amp;ssl=1 1024w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=300%2C193&amp;ssl=1 300w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=768%2C493&amp;ssl=1 768w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=1536%2C987&amp;ssl=1 1536w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?resize=423%2C272&amp;ssl=1 423w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?w=1880&amp;ssl=1 1880w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/06/pexels-photo-1564506.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px" data-recalc-dims="1"><figcaption>Photo by mark glancy on <a href="https://www.pexels.com/photo/boston-terrier-wearing-unicorn-pet-costume-1564506/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p>In fact, there are economic schools of thought around where we are in the tech-economic landscape. As economist Carlotta Perez describes, we are now in the <a href="http://www.carlotaperez.org/downloads/media/PEREZTechnologyandbubblesforEngelsbergseminar.pdf">Deployment Phase</a> of the internet in the US â€” meaning, we are in-process of exhausting all use cases for internet technologies in the US. What has traditionally happened at the end of a technology phase is oversaturation of investment dollars chasing smaller returns. Valuations go up, returns go down, and investors lose their money. (Sound familiar?) On a company level, what this means is, if not careful, a lot of companies will end up wasting marketing dollars in this type of landscape. Companies in the 2020s, unlike in the 1990s, need to really be performance-marketing driven in order to compete. The end of last year certainly showed us many examples of well-funded companies that could not make the unit economics work. The software industry has become a marketing game. </p>



<p>Even if you arenâ€™t running a strictly software business but use software platforms to operate a business, marketing is still key. If you run your company off  Yelp, Shopify, Patreon, Stripe, Recurly, ConvertKit, Substack, or any of the others, you need to stand out, and thatâ€™s marketing. And the people who do the best at marketing make a LOT of money, and those who donâ€™t, just canâ€™t catch a break, even if they are good at their craft. Marketing is necessary.</p>



<p>There are, of course, exceptions to this â€” there are still emerging markets (both in the geographical sense and technology sense) where marketing doesnâ€™t matter as much. </p>



<p>In developing geographical markets, itâ€™s largely greenfield. We have a portfolio company in Indonesia that was able to get 250k signups almost immediately from brick and mortar small businesses and no budget. In the US, without a large marketing budget, this would be challenging to do now. Why? Because every Square and Opentable is knocking on their door and has been for years. Thereâ€™s just so much noise small businesses tend to ignore. But in Indonesia, that isnâ€™t the caseâ€¦yet. The software landscape there is similar to the 1990s in the US. Itâ€™s harder to piggyback off of existing software infrastructure â€” whether itâ€™s payments or platforms â€” but thereâ€™s also a lot of obvious opportunity in software that no one is going after. The same could be said about investing elsewhere in Southeast Asia or in LatAm or Africa. There are fewer startups to compete with for attention, and itâ€™s less of a marketing game than building a software company in the US. </p>



<p>In addition, for companies pursuing developing â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/">https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/</a></em></p>]]>
            </description>
            <link>https://elizabethyin.com/2020/06/30/why-marketing-is-eating-the-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752747</guid>
            <pubDate>Mon, 06 Jul 2020 21:05:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips to Write Landing Page Text Without Sounding Like a Salesman]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752746">thread link</a>) | @mratiebatie
<br/>
July 6, 2020 | https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman | <a href="https://web.archive.org/web/*/https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://targetaudience.app/articles/7-tips-to-write-landing-page-text-without-sounding-like-a-salesman</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752746</guid>
            <pubDate>Mon, 06 Jul 2020 21:05:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mean Squared Terror â€“ GridSearch Is Not Enough]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752683">thread link</a>) | @amrrs
<br/>
July 6, 2020 | https://koaning.io/posts/mean-squared-terror/ | <a href="https://web.archive.org/web/*/https://koaning.io/posts/mean-squared-terror/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<blockquote>
<p>2020-06-29 This blogpost was edited the day after it got posted. During my morning walk I realised that my code had a glaring bug in the statistics. I was reporting training set figures, not the validation set. I re-ran the system with the appropriate numbers and while the conclusions did not change, some of the figures/numbers did.</p>
</blockquote>
<p>When I started in data, many years ago, people were actively working on heuristics. These are rules that could look at data and then make appropriate decisions. In schematics, this was the norm;</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-1"></span>
<img src="https://koaning.io/posts/mean-squared-terror/then.png" alt="Those were the days." width="100%"></p><p>
Figure 1: Those were the days.
</p>
</div>
</div>
<p>You had to understand the data to come up with these rules and this was very time consuming. But then machine learning changed everything. Instead of writing rules that fit a problem, we provide labels and have a machine figure out the rules instead.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-2"></span>
<img src="https://koaning.io/posts/mean-squared-terror/now.png" alt="The latest and greatest." width="100%"></p><p>
Figure 2: The latest and greatest.
</p>
</div>
</div>
<p>The latter approach has merit to it but it requires a new way of working. It also tends to be compute intensive because weâ€™re interested in finding the best possible settings.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-3"></span>
<img src="https://koaning.io/posts/mean-squared-terror/alg.png" alt="All those settings." width="100%"></p><p>
Figure 3: All those settings.
</p>
</div>
</div>
<p>To find the best settings for all of these models weâ€™ve even got gridsearch via cross validation; an industry standard to make sure that we pick the best model.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-4"></span>
<img src="https://koaning.io/posts/mean-squared-terror/settings.png" alt="All this expensive compute better be worth it." width="100%"></p><p>
Figure 4: All this expensive compute better be worth it.
</p>
</div>
</div>
<p>Donâ€™t get me wrong, thereâ€™s merit to the methodology. We want to demonstrate consistent results in our models. But weâ€™re representing <strong>all the possible properties of a model</strong> as a single number. Thatâ€™s a massive reduction of information, and frankly, an overly simplified way to think about models.</p>
<h2 id="dangerzone">Dangerzone</h2>
<p>Iâ€™ve written before that â€œGridSearch is not Enough[tm]â€ but in this document I wanted to give an example of how the technique can also be a problem. GridSearch is insufficient at best, it can also be dangerous at worst.</p>

<p>The main reason is that Iâ€™ve seen people put blind faith into the methodology causing a blind spot for other issues with the model. Iâ€™ve also spoken to data scientists who think that machine learning algorithms are unbiased tools that find the â€œtruthâ€ in the data and that grid search is a methodological purity. This is a dangerous attitude so I figured Iâ€™d create a counter-example.</p>
<h2 id="experiment">Experiment</h2>
<p>So letâ€™s do a small experiment. The goal is to see the effect of machine learning on a biased dataset. Given a biased dataset, will grid search amplify the bias in the dataset or reduce it?</p>
<p>Iâ€™ve draw a dataset using <a href="https://drawdata.xyz/">drawdata.xyz</a>. Letâ€™s pretend that this usecase represents predicting salaries based on skill level. The skill level is plotted on the x-axis and the salary/reward is plotted on the y-axis. Thereâ€™s two groups of datapoints and one represents a marginalized group. This group is under represented, only appears with low salaries and it also has a lower salary than itâ€™s non-marginalised peers. The current illustration is a blunt representation of what might happen in a real life dataset (the bias can be more subtle) but the question is; what pattern will be picked up after grid search?</p>

<p>Below weâ€™ll have a look at the results of three different models. Weâ€™ll also list the mean squared error that was reported back to us from the gridsearch.</p>

<h5 id="linear-model-with-dummy-variable">Linear Model with Dummy Variable</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-6"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot-linear.png" alt="Mean Squared Error, Train: 1166.64 Test: 1767.36" width="100%"></p><p>
Figure 5: Mean Squared Error, Train: 1166.64 Test: 1767.36
</p>
</div>
</div>
<h5 id="nearest-neighbor-regression-with-scaling">Nearest Neighbor Regression with Scaling</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-7"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_nn.png" alt="Mean Squared Error, Train: 909.66 Test: 2337.65" width="100%"></p><p>
Figure 6: Mean Squared Error, Train: 909.66 Test: 2337.65
</p>
</div>
</div>
<h5 id="grouped-linear-model">Grouped Linear Model</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-8"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_group.png" alt="Mean Squared Error, Train: 993.57 Test: 1343.09" width="100%"></p><p>
Figure 7: Mean Squared Error, Train: 993.57 Test: 1343.09
</p>
</div>
</div>
<p>Notice how the model that has the lowest mean squared error is also the model that causes the most bias between groups for higher skill levels. This increase in bias <em>cannot</em> be blamed merely on the data. Itâ€™s the choice of the model that increases this bias which is the responsibility of the algorithm designer.</p>
<p>Now, you could argue that this is a theoretical dataset. No professional would include something like gender into a model predicting salary. <a href="https://github.com/scailable/sclbl-tutorials/issues/7">Right?</a> We can repeat the same exercise with something that correlates with a sensitive attribute instead but you can expect similar result. You can get a smaller mean squared error when you can learn the bias in the dataset. No matter how subtle.</p>
<p>This is what I find scary about gridsearch. People have been learned to trust it even though it can pick a model you should not consider. Notice how the grid search would tell us that there <em>should</em> be a big payment gap between the two groups even if they display high levels of skill. In algorithmic terms some might call this behavior â€œoptimalâ€ while in real life, you would call this sexism, ageism or racism.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-9"></span>
<img src="https://koaning.io/posts/mean-squared-terror/mcsultancyy.png" alt="Mean Squared Terror: over 9000." width="100%"></p><p>
Figure 8: Mean Squared Terror: over 9000.
</p>
</div>
</div>
<p>The thing to remember here is that 100% unbiased datasets donâ€™t really exist. This phenomenon of overfitting on a metric is something that gridsearch contributes to. Combine that with algorithm designers who donâ€™t have domain knowledge in the domain that theyâ€™re applying your algorithm to and you might just get this.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-10"></span>
<img src="https://koaning.io/posts/mean-squared-terror/ivory.png" alt="Mean Squared Terror: np.inf" width="100%"></p><p>
Figure 9: Mean Squared Terror: np.inf
</p>
</div>
</div>
<h2 id="appendix">Appendix</h2>
<p>This post was prompted by a discussion on <a href="https://thegradient.pub/pulse-lessons/">twitter</a> as well as a discussion on <a href="https://www.linkedin.com/feed/update/urn:li:activity:6679637058597789696/?commentUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679704886969475072)&amp;replyUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679775009537343488)">linkedin</a>. Itâ€™s dissapointing to see data professionals be dismissive of how bias is amplified by algorithms. Itâ€™s not something the profession should be casual about.</p>
<!--radix_placeholder_article_footer-->
<p>
    <span>
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Mean%20Squared%20Terror&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F">
        <i></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F&amp;title=Mean%20Squared%20Terror">
        <i></i>
      </a>
    </span>
  </p>
<!--/radix_placeholder_article_footer-->
</div></div>]]>
            </description>
            <link>https://koaning.io/posts/mean-squared-terror/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752683</guid>
            <pubDate>Mon, 06 Jul 2020 20:58:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Abusing linear regression to make a point]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 43 (<a href="https://news.ycombinator.com/item?id=23752561">thread link</a>) | @furcyd
<br/>
July 6, 2020 | http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/ | <a href="https://web.archive.org/web/*/http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>A bunch of people have been sending me links to a particularly sloppy article that (mis)uses linear regression to draw an incorrect conclusion from some data. So I guess Iâ€™ve got to got back to good-old linear regression, and talk about it a bit.</p>



<p>Letâ€™s start with the basics. What is linear regression?</p>



<p>If you have a collection of data â€“ typically data with one independent variable, and one dependent variable (that is, the first variable can vary any way it wants; changing it will change the second variable), then youâ€™re probably interested in how the dependent variable relates to the independent. <em>If</em> you have reason to believe that they should have a linear relationship, then youâ€™d like to know just what that linear relationship is.</p>



<p>If your data were perfect, then youâ€™d just need to plot all of the data points on a graph, with the independent variable on the X axis, and the dependent on the Y, and then your graph would be a line, and you could get its slope and Y intercept, and thus completely capture the relationship.</p>



<p>But data is never perfect. Thereâ€™s a lot of reasons for that, but no real set of collected data is ever perfect. No matter how perfect the real underlying linear relationship is, real measured data will always show some scatter. And that means that you can draw a lot of possible lines through the collected data. Which one of them represents the best fit?</p>



<p>Since thatâ€™s pretty abstract, Iâ€™m going to talk a bit about an example â€“ the very example that was used to ignite my interest in math!</p>



<p>Back in 1974 or so, when I was a little kid in second grade, my father was working for RCA, as a physicist involved in manufacturing electronics for satellite systems. One of the important requirements for the products they were manufacturing was that they be <em>radiation hard</em> â€“ meaning that they could be exposed to quite a bit of radiation before they would be damaged enough to stop working.</p>



<p>Their customers â€“ NASA, JPL, and various groups from the U. S. Military, had very strong requirements. They had to show, for a manufacturing setup of a particular component, what the failure profile was.</p>



<p>The primary failure mode of these chips they were making was circuit trace failure. If a sufficiently energetic gamma ray hit one of the circuit traces, it was possible that the trace would burn out â€“ breaking the circuit, and causing the chip to fail.</p>



<p>The test setup that that they used had a gamma ray emitter. So theyâ€™d make a manufacturing run to produce a batch of chips from the setup. Then theyâ€™d take those, and theyâ€™d expose them to increasing doses of radiation from the gamma emitter, and detect when they failed.</p>



<p>For trace failure, the probability of failure is linear in the size of the radiation dose that the chip is exposed to. So to satisfy the customer, they had to show them what the slope of the failure curve was. â€œRadiation hardâ€ was defined as being able to sustain exposure to some dose of radiation with a specified probability of failure.</p>



<p>So, my dad had done a batch of tests, and he had a ton of little paper slips that described the test results, and he needed to computer the slop of that line â€“ which would give the probability of failure as a multiple of the radiation dose.</p>



<p>I walked into the dining room, where he was set up doing this, and asked what he was doing. So he explained it to me. A lot like I just explained above â€“ except that my dad was a much better teacher than me. I couldnâ€™t explain this to a second or third grader the way that he did!</p>



<p>Anywayâ€¦ The method that we use to compute the best line is called <em>least squares</em>. The intuition behind it is that youâ€™re trying to find the line where the average distance of all of the datapoints from that line is the smallest. But a simple average doesnâ€™t work well â€“ because some of the data points are above the line, and some are below. Just because one point is, say, above a possible fit by 100, and another is below by 100 doesnâ€™t mean that the two should cancel. So you take the distance between the data points and the line, and you square them â€“ making them all positive. Then you find the line where that total is the smallest â€“ and thatâ€™s the best fit.</p>



<p>So letâ€™s look at a real-ish example.</p>



<p>For example, hereâ€™s a graph that I generated semi-randomly of data points. The distribution of the points isnâ€™t really what youâ€™d get from real observations, but itâ€™s good enough for demonstration.<img src="http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph.png" alt="scatter plot of randomly skewed data" srcset="http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph.png 346w, http://www.goodmath.org/blog/wp-content/uploads/2013/01/graph-300x212.png 300w" sizes="(max-width: 346px) 100vw, 346px"></p>



<p>The way that we do that is: first we compute the means of <img src="http://l.wordpress.com/latex.php?latex=x&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="x" alt="x"> and <img src="http://l.wordpress.com/latex.php?latex=y&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="y" alt="y">, which weâ€™ll call <img src="http://l.wordpress.com/latex.php?latex=%5Coverline%7Bx%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="\overline{x}" alt="\overline{x}"> and <img src="http://l.wordpress.com/latex.php?latex=%5Coverline%7By%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="\overline{y}" alt="\overline{y}">. Then using those, we compute the slope as:</p>



<p><img src="http://l.wordpress.com/latex.php?latex=%20m%20%3D%20%5Cfrac%7B%5CSigma_%7Bi%3D1%7D%5En%20%28x-%5Chat%7Bx%7D%29%28y-%5Chat%7By%7D%29%7D%7B%5CSigma_%7Bi%3D1%7D%5E%7Bn%7D%20%28x-%5Chat%7Bx%7D%29%5E2%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title=" m = \frac{\Sigma_{i=1}^n (x-\hat{x})(y-\hat{y})}{\Sigma_{i=1}^{n} (x-\hat{x})^2}" alt=" m = \frac{\Sigma_{i=1}^n (x-\hat{x})(y-\hat{y})}{\Sigma_{i=1}^{n} (x-\hat{x})^2}"></p>



<p>Then for the y intercept: <img src="http://l.wordpress.com/latex.php?latex=b%20%3D%20%5Chat%7By%7D%20-%20m%5Chat%7Bx%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="b = \hat{y} - m\hat{x}" alt="b = \hat{y} - m\hat{x}">.</p>



<p>In the case of this data: I set up the script so that the slope would be about 2.2 +/- 0.5. The slope in the figure is 2.54, and the y-intercept is 18.4.</p>



<p>Now, we want to check how good the linear relationship is. Thereâ€™s several different ways of doing that. The simplest is called the correlation coefficient, or <img src="http://l.wordpress.com/latex.php?latex=r&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title="r" alt="r">.</p>



<p><img src="http://l.wordpress.com/latex.php?latex=%20r%20%3D%20%5Cfrac%7B%5Cleft%28%5CSigma%20%28x-%5Chat%7Bx%7D%29%5Cright%29%20%5Cleft%28%5CSigma%20%28y%20-%20%5Chat%7By%7D%29%5Cright%29%7D%7B%5Csqrt%7B%20%5Cleft%28%5CSigma%20%28x-%5Chat%7Bx%7D%29%5E2%5Cright%29%20%5Cleft%28%5CSigma%20%28y%20-%20%5Chat%7By%7D%29%5E2%5Cright%29%20%7D%7D&amp;bg=FFFFFF&amp;fg=000000&amp;s=0" title=" r = \frac{\left(\Sigma (x-\hat{x})\right) \left(\Sigma (y - \hat{y})\right)}{\sqrt{ \left(\Sigma (x-\hat{x})^2\right) \left(\Sigma (y - \hat{y})^2\right) }}" alt=" r = \frac{\left(\Sigma (x-\hat{x})\right) \left(\Sigma (y - \hat{y})\right)}{\sqrt{ \left(\Sigma (x-\hat{x})^2\right) \left(\Sigma (y - \hat{y})^2\right) }}"></p>



<p>If you look at this, itâ€™s really a check of how well the variation between the measured values and the expected values (according to the regression) match. On the top, youâ€™ve got a set of products; on the bottom, youâ€™ve got the square root of the same thing squared. The bottom is, essentially, just stripping the signs away. The end result is that if the correlation is perfect â€“ that is, if the dependent variable increases linearly with the independent, then the correlation will be 1. If the dependency variable decreases linearly in opposition to the dependent, then the correlation will be -1. If thereâ€™s no relationship, then the correlation will be 0.</p>



<p>For this particular set of data, I generated it with a linear equation with a little bit of random noise. The correlation coefficient is slighly greater than 0.95, which is exctly what youâ€™d expect.</p>



<p>Ok, so thatâ€™s the basics of linear regression. Letâ€™s get back to the bozo-brained article that started this.</p>



<figure><img src="http://www.goodmath.org/blog/wp-content/uploads/2020/07/EcCqXojUMAEBFnp.jpg" alt=""></figure>



<p>They featured this graph:</p>



<p>You can see the scatter-plot of the points, and you can see the line that was fit to the points by linear regression. How does that fit look to you? I donâ€™t have access to the original dataset, so I canâ€™t check it, but Iâ€™m guessing that the correlation there is somewhere around 0.1 or 0.2 â€“ also known as â€œno correlationâ€.</p>



<p>You see, the author fell into one of the classic traps of linear regression. Look back at the top of this article, where I started explaining it. I said that <em>if</em> you had reason to believe in a linear relationship, then you could try to find it. Thatâ€™s the huge catch to linear regression: no matter what data you put in, youâ€™ll always get a â€œbest matchâ€ line out. If the dependent and independent variables donâ€™t have a linear relation â€“ or donâ€™t have any actual relation at all â€“ then the â€œbest matchâ€ fit that you get back as a result is garbage.</p>



<p>Thatâ€™s what the graph above shows: youâ€™ve got a collection of data points that to all appearances has no linear relationship â€“ and probably no direct relationship at all. The author is interpreting the fact that linear regression gave him an answer with a positive slope as if that positive slope is meaningful. But itâ€™s only meaningful <em>if</em> thereâ€™s actually a relationship present.</p>



<p>But when you look at the data, you donâ€™t see a linear relationship. You see what looks like a pretty random scatterplot. Without knowing the correlation coefficient, we donâ€™t know for sure, but that line doesnâ€™t look to me like a particularly good fit. And since the author doesnâ€™t give us any evidence beyond the existence of that line to believe in the relationship that theyâ€™re arguing for, we really have no reason to believe them. All theyâ€™ve done is demonstrate that they donâ€™t understand the math that theyâ€™re using.</p>
					</div></div>]]>
            </description>
            <link>http://www.goodmath.org/blog/2020/07/06/abusing-linear-regression-to-make-a-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752561</guid>
            <pubDate>Mon, 06 Jul 2020 20:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ages of Discord: A Structural-Demographic Analysis of American History]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23752331">thread link</a>) | @Reedx
<br/>
July 6, 2020 | https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/ | <a href="https://web.archive.org/web/*/https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div><figure><img src="https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?w=840&amp;ssl=1" alt="" srcset="https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?w=300&amp;ssl=1 300w, https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?resize=100%2C150&amp;ssl=1 100w, https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?resize=200%2C300&amp;ssl=1 200w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?w=300&amp;ssl=1 300w, https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?resize=100%2C150&amp;ssl=1 100w, https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?resize=200%2C300&amp;ssl=1 200w" data-lazy-src="https://i0.wp.com/theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Cover-7.jpg?w=840&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<p>I am skeptical of those who predict the future by looking at the past. Itâ€™s not that history follows a random walk, like the stock market. Quite the contraryâ€”it is easy to show certain patterns in history. But predicting how and when those patterns will yield any particular result in any given society seems like astrology. Peter Turchin, however, offers a very convincing, and very well-supported, tying of patterns to data. Iâ€™m still not sure itâ€™s not astrology, but Iâ€™m half convinced. And this is a good book to read in January 2020â€”because right now is when Turchin predicts, in America, the swelling discord of the title.</p>
<p>This book is, fortunately, nothing like the terrible <em><a rel="noreferrer noopener" aria-label="The Fourth Turning (opens in a new tab)" href="https://theworthyhouse.com/2019/01/22/book-review-the-fourth-turning/" target="_blank">The Fourth Turning</a></em>, a more famous and very stupid book. Like that book, however, it does posit cycles in societies (as do many other books, ranging from <a rel="noreferrer noopener" aria-label="Ibn Khaldunâ€™s Muqaddimah (opens in a new tab)" href="https://theworthyhouse.com/2019/08/09/ibn-khaldun-an-intellectual-biography-robert-irwin/" target="_blank">Ibn Khaldunâ€™s </a><em><a rel="noreferrer noopener" aria-label="Ibn Khaldunâ€™s Muqaddimah (opens in a new tab)" href="https://theworthyhouse.com/2019/08/09/ibn-khaldun-an-intellectual-biography-robert-irwin/" target="_blank">Muqaddimah</a> </em>to <a rel="noreferrer noopener" aria-label="Joseph Tainterâ€™s The Collapse of Complex Societies (opens in a new tab)" href="https://theworthyhouse.com/2018/01/24/book-review-the-collapse-of-complex-societies-joseph-a-tainter/" target="_blank">Joseph Tainterâ€™s </a><em><a rel="noreferrer noopener" aria-label="Joseph Tainterâ€™s The Collapse of Complex Societies (opens in a new tab)" href="https://theworthyhouse.com/2018/01/24/book-review-the-collapse-of-complex-societies-joseph-a-tainter/" target="_blank">The Collapse of Complex Societies</a></em>). â€œ[A] typical historical state goes through a sequence of relatively stable political regimes separated by unstable periods characterized by recurrent waves of internal war. The characteristic length of both stable (or integrative) and unstable (or disintegrative) phases is a century or longer, and the overall period of the cycle is around two to three centuries.â€ Among many other examples Turchin gives, <a href="https://theworthyhouse.com/2016/10/11/book-review-considerations-on-the-causes-of-the-greatness-of-the-romans-and-their-decline-montesquieu/" target="_blank" rel="noreferrer noopener" aria-label="the integrative phase of the Roman Republic (opens in a new tab)">the integrative phase of the Roman Republic</a> was 350â€“130 BC; its disintegrative phase was 130â€“30 BC, to be succeeded by Principate Rome. To take a less commonly known example, the integrative phase of Valois France was AD 1450â€“1560; its disintegrative phase was AD 1560â€“1660. Turchin sees America as being in a disintegrative phase that began in the 1970s and will peak starting in 2020. <em>Ages of Discord</em> is an attempt to substantiate that claim, and offers predictions of chaos in Americaâ€™s near future. Like Hari Seldon in Isaac Asimovâ€™s <em>Foundation</em>, Turchin sees this disintegrative phase as inevitableâ€”but also, maybe, ameliorable.</p>
<p><span><span><a target="_blank" title="Print" rel="noopener" href="https://theworthyhouse.com/wp-content/uploads/2020/01/Ages-of-Discord-Turchin-PDF.pdf"><span>Print (PDF)</span></a></span></span></p><p>Since this is the turn of the decade, we have, over the past few weeks, been subjected to endless news articles claiming that the 2010s were the best decade ever. Turchin is having none of that. (And all those claims are stupid on their faceâ€”their sole substantive â€œargumentâ€ is that due to the spread of free markets, <a rel="noreferrer noopener" aria-label="poverty in the Third World (opens in a new tab)" href="https://theworthyhouse.com/2015/08/11/book-review-the-white-mans-burden-why-the-wests-efforts-to-aid-the-rest-have-done-so-much-ill-and-so-little-good-william-easterly/" target="_blank">poverty in the Third World</a> has declined sharplyâ€”which is true enough, but totally irrelevant to whether America had a good decade, or is going to have one over the next ten years). The method of <em>Ages of Discord </em>(which, interestingly, <a href="https://theworthyhouse.com/2019/06/19/the-war-on-normal-people-the-truth-about-americas-disappearing-jobs-and-why-universal-basic-income-is-our-future-andrew-yang/" target="_blank" rel="noreferrer noopener" aria-label="is given substantial attention in Presidential candidate Andrew Yang's recent book (opens in a new tab)">is given substantial attention in Presidential candidate Andrew Yangâ€™s recent book</a>) is to use an enormous amount of data and mathematical modeling to add substance to Turchinâ€™s theory of â€œsecular cycles,â€ developed in an earlier book of that name by Turchin and Sergey Nefedov (where secular has its economic meaning of â€œa long-term trend of indefinite specific durationâ€). Turchin calls this the science of â€œcliodynamics,â€ a neologism formed from the name of the muse of history and the term for the science of why things change (and also reflecting that society is a web, a â€œdynamical systemâ€). Cliodynamics is an attempt to view history through science, primarily through the science of statistics. It seeks to offer general principles that can be tested against historical data, and that testing is what Turchin offers here.</p>
<p>Turchin begins with the observation that, however it may feel to us, human societies are fragile. Somewhat melodramatically, he references the American Civil War, while unconvincingly disclaiming that he believes something like that is imminent. He <a rel="noreferrer noopener" aria-label="does not think that Steven Pinker is right (opens in a new tab)" href="https://theworthyhouse.com/2015/07/06/book-review-the-better-angels-of-our-nature-stephen-pinker/" target="_blank">does not think that Steven Pinker is right</a> that we are now more civilized than we used to be; for Turchin, there is no thing new under the Sun, except for, perhaps the science of cliodynamics. Turchin notes that in 2010 (this book was published in 2016) he predicted â€œthe next decade is likely to be a period of growing instability in the United States and <a href="https://theworthyhouse.com/2017/09/08/book-review-the-strange-death-of-europe-douglas-murray/" target="_blank" rel="noreferrer noopener" aria-label="western Europe (opens in a new tab)">western Europe</a>.â€ He is well-satisfied that he was right, and I think most people would agree.</p>
<p>The framework of Turchinâ€™s model, laid out in Part I, is the â€œStructural-Demographic Theory,â€ originated by Jack Goldstone to apply to agrarian societies and reformulated by Turchin and Nefedov in their earlier book to apply to industrial societies. SDT consists of three basic claims, or â€œprinciples.â€ First, population growth exceeding productivity (the Malthusian Trap, in essence) leads to falling wages, migration, and ultimately, wage protests such as riots. Actual starvation due to the Malthusian Trap is no longer a problem in industrial societies, of courseâ€”population increases rather lead to declining real wages, with similar negative effects on the wellbeing of the masses, â€œimmiserationâ€ (though the mechanics are more complex than in agrarian societies). This is the â€œlabor oversupply principle.â€ Second, fast population growth also leads to â€œelite overproduction,â€ where elites compete for a largely fixed number of elite positions, which leads to elite disunity, the creation of a counter-elite, and elite conflict. This problem is worse in industrial societies, since unlike in agrarian societies, declining real wages actually benefit the elite, who get cheaper labor, and respond by engaging in ever greater, â€œrunawayâ€ consumption, exacerbating the intraelite conflict caused by their swelling ranks. This is the â€œelite overproduction principle.â€ And third, the â€œinstability principle,â€ where population growth also leads to expansion of the state, resulting in increased taxes, which inevitably fail to cover expenses, leading to fiscal crisis. â€œAs all these trends intensify, the end result is state bankruptcy and consequent loss of military control; elite movements of regional and national rebellion; and a combination of elite-mobilized and popular uprisings that expose the breakdown of central authority.â€ This drives the disintegrative phase of the secular cycle, involving increased mortality, decreased productivity, instability, political violence, war, and, potentially, collapseâ€”followed, ultimately, by a new integrative phase, sometimes with a very different society, sometimes with much the same society, where the three principles reverse in unison.</p>
<p>Turchin is not claiming specific causation. He is showing correlations. He troubles himself to clarify that these three principles are simply proxies â€œfor the movements of structural forces postulated by the theory. In other words, the Structural-Demographic Theory provides a holistic explanation not only for these three particular variables, but for a host of others.â€ Occasionally he will suggest possible causal links, the most notable being that elites, exhausted after a long period of instability (often including the death of many members of the elite), turn away from competition to cooperation, helping to end a disintegrative phase. (The <a href="https://theworthyhouse.com/2018/08/03/book-review-storm-storm-beginning-end-roman-republic-mike-duncan/" target="_blank" rel="noreferrer noopener" aria-label="end of the Roman Republic (opens in a new tab)">end of the Roman Republic</a> is the classic example.) Mostly, though, it is patterns tied to data that he offers, and often patterns within patterns.</p>
<p>Thus, his project is to develop mathematical models, then feed them historical data from different eras and see what comes out. This book is specifically written to apply such a model to the United States from its formation (roughly 1780) to the present (2016). It is not an easy read. Lengthy entire chapters are taken up with mathematical formulasâ€”Turchin says the reader can skip these, but that undermines understanding, so I recommend against skipping. The point of the mathematics is to quantify and weight factors in a model that can be applied across different times and places, as well as perform various transforms and shifts, all of which Turchin explains (and he apparently offers most of his data and models for others to review). Complexities aboundâ€”for example, finding quantitative proxies for cultural mood, or for the willingness of elites to cooperate with each other, rather than engage in conflict. Much else goes into this, such as rejecting the idea of discrete generations, and instead modeling transmission of behavior across time, paying attention to the â€œfathers-and-sons dynamic,â€ feedback loops, and the intersection of different resulting sub-cycles, which aggregate to show certain patterns. Any reader is going to wonder if Turchin is fitting the math to his theories, but looking around, <a rel="noreferrer noopener" aria-label="nobody seems (opens in a new tab)" href="https://slatestarcodex.com/2019/08/12/book-review-secular-cycles/" target="_blank">nobody seems</a> to accuse him of <a href="https://slatestarcodex.com/2019/09/02/book-review-ages-of-discord/" target="_blank" rel="noreferrer noopener" aria-label="doing that (opens in a new tab)">doing that</a>. </p>
<p>After introducing the three principles of SDT as applied to industrial societies, and offering an explanation and justification of his mathematical approach, in Part II Turchin expands on each of the three principles as applied to America. In â€œDemography and Wellbeing,â€ Turchin examines statistics about and patterns in labor supply since 1780. He analyzes both immigration and native births, compared to real wages over time, both absolutely and relative to GDP per capita. He then ties the resulting graphs to measures of wellbeing, such as height of adults (which declined four centimeters from 1830 to 1900!), life expectancy, age of first marriage (which he notes is â€œonly imperfectly correlated with social optimismâ€), and so forth.</p>
<p>Tellingly for modern debates, Turchin here draws the firm conclusion that when immigration is high, not only wages, but wellbeing, are low, and not just for a few years, but correlating over decadesâ€”including the most recent phase, since 1970, where wellbeing has objectively declined (contrary to the propaganda we are fed), while immigration has skyrocketed and real wages stagnated. He takes this as demonstrating the accuracy of the labor oversupply principle. As he goes along, Turchin is also combining the data, in the form of various graphs, that he discusses. So, for example, he shows that when you overlay a graph of mass wellbeing on a graph for elite overproduction, you see that since 1780 there is a precise inverse relationship between the twoâ€”just as the SDT predicts.</p>
<p>In â€œElite Dynamics,â€ Turchin focuses on the ruling class, defined as â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/">https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/</a></em></p>]]>
            </description>
            <link>https://theworthyhouse.com/2020/01/10/ages-of-discord-a-structural-demographic-analysis-of-american-history-peter-turchin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752331</guid>
            <pubDate>Mon, 06 Jul 2020 20:24:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Booting a 486 from floppy with the most up-to-date stable Linux kernel]]>
            </title>
            <description>
<![CDATA[
Score 285 | Comments 142 (<a href="https://news.ycombinator.com/item?id=23752284">thread link</a>) | @LeoPanthera
<br/>
July 6, 2020 | https://www.insentricity.com/a.cl/283 | <a href="https://web.archive.org/web/*/https://www.insentricity.com/a.cl/283">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
	<iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" frameborder="0" height="400" src="https://www.youtube.com/embed/oBeE_z4HTwg" width="600"></iframe></p>
<div>
	<p>
		Back in August of 2019 I had a&nbsp;<a href="https://www.reddit.com/r/retrobattlestations/comments/cr6x9a/contest_singalong_week_until_aug_25/">Sing-Along Week contest on RetroBattlestations</a>&nbsp;with the challenge of playing a MIDI file synchronized to a speech synthesizer singing the lyrics. In my stash of cards I found an MQX-32M MIDI card (Roland MPU-401 clone) which I wanted to use for converting MIDI signals to interface to an Apple II+ with an Echo II speech synthesizer, but ended up using a laptop with a USB MIDI interface. The&nbsp;<a href="https://www.reddit.com/r/retrobattlestations/comments/fz6is8/contest_pizza_week_through_april_19th/">Pizza Week contest</a>&nbsp;made me more interested in finding a 486 in a pizza box case and so my search began for a suitable case.</p>
	
	<p>
		Searching eBay wasn't easy because there's not really a good search term that would find the kind of case I wanted. I didn't bother trying to make a saved search since this project wasn't a high priority. Instead every once in a while something would inspire to go hit eBay and try some other search terms. A couple of weeks ago I spotted this 486 and made a guess of the size based on the size of the 5.25" bay. It's fairly slim, it has a riser card to turn the cards sideways and the case <em>is</em> shorter than an ISA card, but I don't feel like it's slim enough to call it a pizza box. It's close though!</p>
	
	<p>
		The motherboard is a <a href="https://stason.org/TULARC/pc/motherboards/T/TMC-RESEARCH-CORPORATION-486-PAT48PG4-VER-1-2A.html">TMC PAT48PG4</a> and it came with 32MB of RAM (technically 36MB, it had four 30 pin SIMMs in it too) and 4 cards: VGA, SoundBlaster, modem, and multi-function IO. The seller had tested it and was sold as non-working, won't POST, although he said the cards all worked. I mostly wanted it for the case so I wasn't concerned. Of course when I got it I had to see if the motherboard was really dead. It didn't work for me either but then I discovered if I hit the reset button it would give me some error beeps. I tried another power supply and it came up after hitting reset! It still doesn't cold boot when powered on, not sure if there's a bad cap or if the very slight battery damage (battery was removed before I got it) is preventing the reset line from being pulled after power on. Nonetheless it was working enough that I needed to explore its capabilities more.</p>
	
	<p>
		My ultimate goal is to get a <em>very recent</em>&nbsp;Linux distro and Python 3 installed to a "large" hard drive, but being that this is a 486 installing a current Linux distro isn't trivial. The only Linux distros that still support installing from floppy media are quite dated. Normally I would bypass a floppy install entirely and just boot an older computer via PXE and then install over the network. I thought I could <a href="https://ipxe.org/appnote/buildtargets">put iPXE on a floppy</a> and stick in an ISA NIC but iPXE just hangs without any error messages right after it's loaded from floppy.&nbsp;</p>
	
	<p>
		The BIOS is ancient and struggles with handling the "large" hard drive I hooked up. The drive is 8.45GB and the BIOS can only see it as an 8.0GB drive. Enabling LBA in the BIOS causes the computer to hang during POST after it detects the drive. Win98 fdisk insists the drive is only 504MB. FreeDOS can't see the drive at all. I tried sticking in a NIC with XTIDE ROM on the socket and XTIDE also insists there's no drive connected.</p>
	
	<p>
		Since I wanted to see how Linux would detect the drive that meant I needed to find a way to boot Linux. After a bit of googling I discovered the <a href="http://tiny.wiki.kernel.org/">make tinyconfig option</a> which makes a very small (but useless) kernel, small enough to fit on a floppy. <a href="https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d">I enabled a couple of other options</a>, found a small enough initramfs, and was able to get it to boot on the 486. And as expected Linux has no problem with seeing that the drive is connected and the drive's full capacity.</p>
	
	<p>
		Next step is to actually get Linux installed to the hard drive. I'd rather not roll my own distro but maybe I'll have to. Another possibility is to boot Linux from floppy and then download a kernel and initrd from a current distro and kexec over to it. But that feels to me like reinventing iPXE.</p>
	<h4>
		Compiling the Linux Kernel From Source</h4>
	<p>
		A quick rundown of the steps to build the floppy image:</p>
</div>
<ul>
	<li>
		git clone https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git
		<ul>
			<li>
				v5.8-rc2-1-g625d3449788f&nbsp;at the time of writing</li>
		</ul>
	</li>
	<li>
		make ARCH=x86 tinyconfig</li>
	<li>
		make ARCH=x86 menuconfig
		<ul>
			<li>
				Set processor to 486: CONFIG_M486=y
				<ul>
					<li>
						Processor type and features &gt; Processor family &gt; 486</li>
				</ul>
			</li>
			<li>
				Enable tty: CONFIG_TTY=y
				<ul>
					<li>
						Device Drivers &gt; Character devices &gt; Enable TTY</li>
				</ul>
			</li>
			<li>
				Enable printk: CONFIG_PRINTK=y
				<ul>
					<li>
						General Setup &gt; Configure standard kernel features (expert users) &gt; Enable support for printk</li>
				</ul>
			</li>
			<li>
				Enable initramfs: CONFIG_INITRAMFS_COMPRESSION_GZIP=y
				<ul>
					<li>
						General Setup &gt;&nbsp;Initial RAM filesystem and RAM disk (initramfs/initrd) support &gt;&nbsp;Support initial ramdisk/ramfs compressed using gzip</li>
				</ul>
			</li>
			<li>
				Enable ELF: CONFIG_BINFMT_ELF=y
				<ul>
					<li>
						Executable file formats &gt;&nbsp;Kernel support for ELF binaries</li>
				</ul>
			</li>
		</ul>
	</li>
	<li>
		make ARCH=x86 bzImage</li>
</ul>


<p>
	Test boot with qemu:</p>
<div>
	<pre>qemu-system-i386 -kernel arch/x86/boot/bzImage -initrd ../system-image-486/rootfs.cpio.gz</pre>
</div>
<p>
	Create a blank floppy image:</p>
<div>
	<pre>dd if=/dev/zero of=linux-boot.img bs=1k count=1440
mkdosfs linux-boot.img
syslinux --install linux-boot.img
mount -o loop linux-boot.img /mnt
cp arch/x86/boot/bzImage /mnt
cp rootfs.cpio.gz /mnt</pre>
</div>
<p>
	Create /mnt/syslinux.cfg:</p>
<div>
	<pre>DEFAULT linux
LABEL linux
 SAY Now booting the kernel from SYSLINUX...
 KERNEL bzImage
 APPEND initrd=rootfs.cpio.gz
</pre><p>
	Write the image to a floppy:
	</p><pre>umount /mnt
fdformat /dev/fd0
ddrescue -f -D linux-boot.img /dev/fd0
</pre>
	
</div>

</div></div>]]>
            </description>
            <link>https://www.insentricity.com/a.cl/283</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752284</guid>
            <pubDate>Mon, 06 Jul 2020 20:20:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Live from AdÃ©lie: Streaming Spotify on Musl]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752130">thread link</a>) | @sthrs
<br/>
July 6, 2020 | https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/ | <a href="https://web.archive.org/web/*/https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Over the July 4th holiday weekend, I was working on a secret project.  It was a resounding success and I can now announce to the world: Spotify runs on musl distributions!</p>
<p>This article will describe how I went about accomplishing this feat.  If you just want to take Spotify for a test drive on your AdÃ©lie workstation or Void desktop, scroll to the â€œInstructionsâ€ heading.</p>
<h2>Greetz</h2>
<p>Thanks to these fine dwellers of IRC for helping make sense of the twisty mazes.</p>
<ul>
<li>[[sroracle]]</li>
<li>Aerdan</li>
<li>cb</li>
<li>dalias</li>
<li>skarnet</li>
</ul>
<h2>gcompat 0.4.0: how very cash LC_MONETARY of you</h2>
<p>The latest release version of gcompat did not get very far:</p>
<pre>awilcox on laptop spotify % ./spotify
Segmentation fault (core dumped)
</pre>
<p>Inspecting the core file was minimally helpful:</p>
<pre>Thread 1 "ld-musl-x86_64." received signal SIGSEGV, Segmentation fault.
0x0000000001d6ff60 in ?? ()
(gdb) bt
#0  0x0000000001d6ff60 in ?? ()
#1  0x00007fffffffd738 in ?? ()
#2  0x0000000001e94f13 in ?? ()
#3  0x00007fffffffd6d0 in ?? ()
#4  0x00007fffffffd738 in ?? ()
#5  0x0000000003e9d691 in ?? ()
#6  0x0000000003e9d698 in ?? ()
#7  0x0000000003e9d691 in ?? ()
#8  0x00007fffffffd738 in ?? ()
#9  0x00007fffffffdc40 in ?? ()
#10 0x0000000001ccd0f0 in ?? ()
#11 0x00007fffffffd7a0 in ?? ()
#12 0x0000000000000001 in ?? ()
#13 0x00007fffffffd720 in ?? ()
#14 0x0000000001e92e92 in ?? ()
#15 0x0000000003e9d691 in ?? ()
#16 0x0000000003e9d698 in ?? ()
#17 0x00007fffffffd738 in ?? ()
#18 0x00007fffffffd738 in ?? ()
#19 0x00007fffffffd760 in ?? ()
#20 0x0000000001e9dd51 in ?? ()
#21 0x00007fffffffdc40 in ?? ()
#22 0x0000000003e9b3e0 in ?? ()
#23 0x00007fffffffd7e8 in ?? ()
#24 0x00007fffffffd7b8 in ?? ()
#25 0x00007fffffffd7b8 in ?? ()
#26 0x00007fffffffd828 in ?? ()
#27 0x00007fffffffd810 in ?? ()
#28 0x0000000001e9df09 in ?? ()
#29 0x612f656d6f682f1a in ?? ()
#30 0x0000786f636c6977 in ?? ()
#31 0x0000000000000000 in ?? ()
(gdb) info registers
rax            0x54454e4f4d5f434c  6072345775086453580
rbx            0x53                83
rcx            0x53                83
rdx            0x2                 2
rsi            0x53                83
rdi            0x3e9b1a0           65647008
rbp            0x7fffffffd6f0      0x7fffffffd6f0
rsp            0x7fffffffd690      0x7fffffffd690
r8             0x0                 0
r9             0x0                 0
r10            0x1                 1
r11            0x7fffffffdb9c      140737488346012
r12            0x7fffffffd6b8      140737488344760
r13            0x7fffffffd6b0      140737488344752
r14            0x7fffffffd6a8      140737488344744
r15            0x7fffffffd6c0      140737488344768
rip            0x1d6ff60           0x1d6ff60
eflags         0x10202             [ IF RF ]
cs             0x33                51
ss             0x2b                43
ds             0x0                 0
es             0x0                 0
fs             0x0                 0
gs             0x0                 0
</pre>
<p>What are we trying to do?  Looking at symbols present in the Spotify binary, this is actually part of the G++ runtime; specifically, <code>std::ctype::do_tolower</code>:</p>
<pre>  1d6ff51:       48 8b 05 18 a8 12 02    mov    0x212a818(%rip),%rax        # 3e9a770 
  1d6ff58:       48 8b 40 70             mov    0x70(%rax),%rax
  1d6ff5c:       48 0f be cb             movsbq %bl,%rcx
=&gt;1d6ff60:       8a 1c 88                mov    (%rax,%rcx,4),%bl
  1d6ff63:       89 d8                   mov    %ebx,%eax
  1d6ff65:       5b                      pop    %rbx
  1d6ff66:       c3                      retq
</pre>
<p>That <code>rax</code> value looks suspicious, and we can see if we translate it to ASCII that it is the little-endian representation of the string â€œLC_MONETARYâ€.  Weâ€™re trying to reach 0x70 into a structure in %rax for a pointer value, but weâ€™re getting a string instead.</p>
<p>It turns out that when libstdc++ is compiled on a glibc system, it will attempt to access the internal <code>__ctype_*</code> members in the <code>locale_t</code> of the current locale.  muslâ€™s <code>locale_t</code> is not ABI-compatible with glibcâ€™s.  In fact, it is only 48 bytes in length; 0x70 (or 112 bytes) is past the end of the locale object musl has provided it!</p>
<p>I implemented a <a href="https://code.foxkit.us/adelie/gcompat/-/commit/2eae317bd62a38645f35c46ca62cdde24ff718d8">stub locale module in gcompat</a>, andâ€¦ it tried to exec <code>/proc/self/exe</code>, which broke under the gcompat loader.  This required me to write a patch <a href="https://code.foxkit.us/adelie/gcompat/-/commit/18a847c22a04de22cc9c431e87b63a0cfd5f1286">interposing the execv* functions</a> to catch this.  And suddenlyâ€¦</p>
<h2>The lights that stop me turn to stone</h2>
<p>Slight success!  We have a Spotify window!</p>
<p><img data-attachment-id="269" data-permalink="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/photo_2020-07-05_13-26-11/" data-orig-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg" data-orig-size="1280,800" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Blank Spotify" data-image-description="" data-medium-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=300" data-large-file="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676" src="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676" alt="Spotify, but only a white screen" srcset="https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=676 676w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=150 150w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=300 300w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=768 768w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg?w=1024 1024w, https://foxdotlife.files.wordpress.com/2020/07/photo_2020-07-05_13-26-11.jpg 1280w" sizes="(max-width: 676px) 100vw, 676px"></p>
<p>â€¦ but a blank white screen only.  After some inspecting, I found that one of the many zygotes CEF was forking was segfaulting:</p>
<pre>[158358.508029] ThreadPoolForeg[3230]: segfault at 0 ip 0000000000000000 sp 00007fe3203db448 error 14 in spotify[200000+1acd000]
[158365.067313] ThreadPoolForeg[3252]: segfault at 0 ip 0000000000000000 sp 00007f2d69c172e8 error 14 in spotify[200000+1acd000]
[158378.506832] ThreadPoolForeg[3312]: segfault at 0 ip 0000000000000000 sp 00007f52ed7c8448 error 14 in spotify[200000+1acd000]
[158383.654027] ThreadPoolForeg[3339]: segfault at 0 ip 0000000000000000 sp 00007fcb631eb2e8 error 14 in spotify[200000+1acd000]
</pre>
<p>I replaced libcef.so from the Spotify DEB package with a matched-version libcef.so from Spotifyâ€™s Open Source builds page.  This allowed me to have more debugging symbols, and generating a core dump revealed:</p>
<pre>Core was generated by `ld-linux-x86-64.so.2 --argv0 /usr/share/spotify/spotify --type=utility --field-'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x0000000000000000 in ?? ()
[Current thread is 1 (LWP 12774)]
(gdb) bt
#0  0x0000000000000000 in ?? ()
#1  0x00007f79a8a3d671 in sqlite3MallocSize () at ../../third_party/sqlite/amalgamation/sqlite3.c:26957
#2  mallocWithAlarm () at ../../third_party/sqlite/amalgamation/sqlite3.c:26891
#3  sqlite3Malloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:26913
#4  0x00007f79a8aff232 in sqlite3MallocZero () at ../../third_party/sqlite/amalgamation/sqlite3.c:27118
#5  pthreadMutexAlloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:25755
#6  0x00007f79a8a4e9b2 in sqlite3MutexAlloc () at ../../third_party/sqlite/amalgamation/sqlite3.c:25298
#7  chrome_sqlite3_initialize () at ../../third_party/sqlite/amalgamation/sqlite3.c:24906
#8  0x00007f79a8a350bd in EnsureSqliteInitialized () at ../../sql/initialization.cc:55
#9  0x00007f79a8a30eb2 in OpenInternal () at ../../sql/database.cc:1357
#10 0x00007f79a8a30dfa in Open () at ../../sql/database.cc:270
#11 0x00007f79a8fb8de6 in InitializeDatabase () at ../../net/extras/sqlite/sqlite_persistent_store_backend_base.cc:99
#12 0x00007f79a8fb9751 in LoadNelPoliciesAndNotifyInBackground () at ../../net/extras/sqlite/sqlite_persistent_reporting_and_nel_store.cc:1041
#13 0x00007f79a5abe25b in Invoke&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), scoped_refptr, base::OnceCallback &gt; () at ../../base/bind_internal.h:498
#14 MakeItSo&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), scoped_refptr, base::OnceCallback &gt; ()
    at ../../base/bind_internal.h:598
#15 RunImpl&lt;void (leveldb_proto::ProtoDatabaseSelector::*)(base::OnceCallback), std::__1::tuple&lt;scoped_refptr, base::OnceCallback &gt;, 0, 1&gt; () at ../../base/bind_internal.h:671
#16 RunOnce () at ../../base/bind_internal.h:640
#17 0x00007f79a7776fa0 in Run () at ../../base/callback.h:98
#18 RunTask () at ../../base/task/common/task_annotator.cc:142
#19 0x00007f79a7792862 in base::internal::TaskTracker::RunBlockShutdown(base::internal::Task*) () at ../../base/task/thread_pool/task_tracker.cc:743
#20 0x00007f79a7792062 in RunTask () at ../../base/task/thread_pool/task_tracker.cc:598
#21 0x00007f79a77d42fb in RunTask () at ../../base/task/thread_pool/task_tracker_posix.cc:23
#22 0x00007f79a7791a43 in RunAndPopNextTask () at ../../base/task/thread_pool/task_tracker.cc:450
#23 0x00007f79a7798386 in RunWorker () at ../../base/task/thread_pool/worker_thread.cc:321
#24 0x00007f79a77980f4 in base::internal::WorkerThread::RunPooledWorker() () at ../../base/task/thread_pool/worker_thread.cc:223
#25 0x00007f79a77d4a05 in ThreadFunc () at ../../base/threading/platform_thread_posix.cc:81
#26 0x00007f79ac9fe2dd in ?? ()
#27 0x00007f79aca799e8 in ?? ()
#28 0x00007f7998247ce0 in ?? ()
#29 0x0000000000000000 in ?? ()
(gdb) frame 1
#1  0x00007f79a8a3d671 in sqlite3MallocSize () at ../../third_party/sqlite/amalgamation/sqlite3.c:26957
26957     return sqlite3GlobalConfig.m.xSize(p);
</pre>
<p>Inspecting the SQLite3 code, I realised that it was somehow getting a nullptr for the <code>malloc_usable_size</code> pointer.  Further inspection revealed that this was not exactly the case:</p>
<pre>(gdb) disassemble 0x7f79a77d5520
Dump of assembler code for function malloc_usable_size():
   0x00007f79a77d5520 :     push   %rbp
   0x00007f79a77d5521 :     mov    %rsp,%rbp
   0x00007f79a77d5524 :     mov    %rdi,%rsi
   0x00007f79a77d5527 :     mov    0x484a76a(%rip),%rdi        # 0x7f79ac01fc98 
   0x00007f79a77d552e :    mov    0x28(%rdi),%rax
   0x00007f79a77d5532 :    xor    %edx,%edx
   0x00007f79a77d5534 :    pop    %rbp
   0x00007f79a77d5535 :    jmpq   *%rax
End of assembler dump.
</pre>
<p>Looking at how <a href="https://chromium.googlesource.com/chromium/src/base/+/master/allocator/allocator_shim_default_dispatch_to_glibc.cc#60">the Chromium allocator works internally</a>, the issue is that <code>RTLD_NEXT</code> wonâ€™t work on libraries loaded before libcef.  And looking at the output of <code>ldd spotify</code> revealed both libm and libdl before libcef; musl always redirects these to libc for glibc ABI compatibility.</p>
<p>Using PatchELF to remove these two <code>DT_NEEDED</code>s from the binary yielded a surprising resultâ€¦</p>
<h2>Music makes the people come together</h2>
<div data-shortcode="caption" id="attachment_274"><p><img aria-describedby="caption-attachment-274" data-attachment-id="274" data-permalink="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/screenshot_20200706_114641/" data-orig-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png" data-orig-size="1280,800" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Spotify on AdÃ©lie 1.0-RC1" data-image-description="" data-medium-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=300" data-large-file="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676" src="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676" alt="Spotify on AdÃ©lie Linux" srcset="https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=676 676w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=150 150w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=300 300w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=768 768w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png?w=1024 1024w, https://foxdotlife.files.wordpress.com/2020/07/screenshot_20200706_114641.png 1280w" sizes="(max-width: 676px) 100vw, 676px"></p><p id="caption-attachment-274">Spotify, playing â€œRhinestone Eyesâ€ by Gorillaz, on my AdÃ©lie laptop</p></div>
<p>It works!  All the features I tested work: Spotify Connect, which means I can control the laptopâ€™s playback using the iOS and Apple Watch apps; radio playback; Bluetooth speaker support.</p>
<h2>Instructions</h2>
<p>You will need to download the official Spotify 64-bit DEB.  I have not tested this on a 32-bit system yet, but I see no reason it wonâ€™t work.  Once you have the DEB, extract the data.tar.xz file somewhere.  Use PatchELF on the Spotify binary as so:</p>
<pre>$ patchelf --remove-needed â€¦</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/">https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/</a></em></p>]]>
            </description>
            <link>https://catfox.life/2020/07/06/live-from-adelie-streaming-spotify-on-musl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752130</guid>
            <pubDate>Mon, 06 Jul 2020 20:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Intro to BGP with Bird]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23752093">thread link</a>) | @Agrosis
<br/>
July 6, 2020 | http://packetfire.org/post/intro-to-bgp/ | <a href="https://web.archive.org/web/*/http://packetfire.org/post/intro-to-bgp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3 id="introduction">Introduction:</h3>
<p>Border Gateway Protocol (BGP) is one of the core technologies involved in making our internet work, allowing networks to communicate their routes among eachother. Understanding how this tool can be used to define the topology of a network will both give you a better understanding of how internetworking and allow you translate this robustness into your own network.</p>
<p>By the end of this tutorial, you will be familiar with the core concepts of BGP and have the proper vocabulary to communicate this to another network engineer. You will also be able to use a userland routing daemon, BIRD, to establish peering sessions and begin announcing routes.</p>
<p>I plan to achieve this using a virtualized docker playground which can be downloaded <a href="https://github.com/ncatelli/bird_examples_docker.git">here</a>
. In order to complete this tutorial you will need to ensure you have docker and docker-compose installed.</p>
<h3 id="setup">Setup:</h3>
<p>To begin, you will need to clone the repo of the <a href="https://github.com/ncatelli/bird_examples_docker.git">bird_examples_docker</a> project.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; git clone https://github.com/ncatelli/bird_examples_docker.git
ncatelli@ofet&gt; cd bird_examples_docker
ncatelli@ofet&gt; docker-compose up -d
</code></pre></div><p>This should create three containers (peer1, peer2 and peer3), all of which have BIRD installed and have peering sessions established. Donâ€™t worry if you donâ€™t know what this means yet, we will cover it shortly after we have our BGP playground set up and ready to go.</p>
<h3 id="login-in-to-your-playground">Login in to your playground:</h3>
<p>We will start by connecting to peer1 and checking that everything was setup correctly.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose exec peer1 bash
root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:03    
device1  Device   master   up     02:36:03    
direct1  Direct   master   up     02:36:03    
peer2    BGP      master   up     02:36:08    Established   
peer3    BGP      master   up     02:36:07    Established    
</code></pre></div><p>If you see that peer2 and peer3 are â€œEstablishedâ€, everything is working as expected and we are ready to go. Before we begin playing with this playground, I will provide a brief overview of how BGP works.</p>
<h3 id="bgp-overview">BGP Overview:</h3>
<h4 id="terminology">Terminology:</h4>
<p>Border Gateway Protocol (<a href="https://en.wikipedia.org/wiki/Border_Gateway_Protocol">BGP</a>) is an exterior gateway protocol that is used to exchange routing information between autonomous systems. An autonomous system (<a href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)">AS</a>) is an organizational unit of routing prefixes and policies. These AS are identified by a unique 16-bit, and later 32-bit, autonomous system number (ASN). For example, Facebookâ€™s ASN would be 32934 or as commonly presented AS32934. The power of BGP lies in its ability to communicate routing protocols and policies among tens of thousands of decentralized AS.</p>
<p>The internet, along with many other networks, is composed of many autonomous systems that communicate between each other. This communication is facilitated by a peering session, which allows two AS to exchange policies, routes and link status. All of this information is exchanged between two BGP daemons, which will be listening on TCP port 179.</p>
<p>While BGP is considered an exterior gateway protocol that is used for routing between large organizations on the internet, it can also be used within an AS to enable their network engineers to control the topology of their internal network. This is where the terms exterior BGP (eBGP) and interior BGP (iBGP) stem from. iBGP will be our focus for the rest of this tutorial. We will now start experimenting with these peering sessions using BIRD and its interactive command-line tool, birdc.</p>
<h3 id="introduction-to-bird">Introduction to BIRD:</h3>
<p>BIRD is a fully-functional routing daemon that supports many different routing protocols, including BGP. BIRD provides a simple configuration format and command line utility for interacting with sessions. BIRD also comes with built-in support for both IPv4 and IPv6 and the respective tools to work with both protocols.</p>
<h4 id="examining-sessions">Examining Sessions:</h4>
<p>Similiar to how we verified that our docker environment was provisioned properly, we can view running sessions by running:</p>
<div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   up     02:36:07    Established   
peer3    BGP      master   up     02:36:06    Established         
</code></pre></div><p>This gives us a lot of information. However, let us focus on the last two entries, peer2 and peer3. We can see that they are both BGP protocols and that the info field is Established. Each of these entries correspond to a BGP session that peer1 has open with peer2 and peer3. To demonstrate the relationship of these values to our running sessions, letâ€™s stop the bird service on peer2. In a new terminal window run the following to stop peer2, simulating a network failure.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose stop peer2
Stopping bird_examples_peer2_1 ... <span>done</span>
</code></pre></div><div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   start  02:43:38    Connect       Socket: Connection closed
peer3    BGP      master   up     02:36:06    Established  
</code></pre></div><p>By restarting peer2, a BIRD should restart and subsequently the peering session should be reestablished.</p>
<div><pre><code data-lang="bash">ncatelli@ofet&gt; docker-compose start peer2
Starting peer2 ... <span>done</span>
</code></pre></div><div><pre><code data-lang="bash">root@peer1:/# birdc show protocols
BIRD 1.6.6 ready.
name     proto    table    state  since       info
kernel1  Kernel   master   up     02:36:02    
device1  Device   master   up     02:36:02    
direct1  Direct   master   up     02:36:02    
peer2    BGP      master   up     02:46:29    Established   
peer3    BGP      master   up     02:36:06    Established    
</code></pre></div><p>By stopping the bird daemon on peer2, we have made the TCP connection on port 179 close between peer1 and peer2. Doing this changes our peer session from Established to Connect. Established and Connect correspond to two of many BGP states, however for the sake of this tutorial we will focus only on Established and consider all other values as not-established. For those more curious, more information on session states can be found in the <a href="https://en.wikipedia.org/wiki/Border_Gateway_Protocol#Finite-state_machines">wikipedia article on BGP</a>.</p>
<h4 id="configuring-a-bgp-session">Configuring a BGP Session</h4>
<p>Although we now know how to check whether our session are up in our BGP playground, itâ€™s also important to understand how these sessions were configured in the first place. For that, we need to dig into the bird configuration files. Letâ€™s look at the configuration files under /etc/bird on peer1.</p>
<div><pre><code data-lang="bash">root@peer1:~# cat /etc/bird/bird.conf
router id 10.0.0.10;

protocol kernel <span>{</span>
  metric 0;
  import none;
  learn;
  export all;
<span>}</span>

protocol device <span>{</span>
<span>}</span>

protocol direct <span>{</span>
<span>}</span>

protocol bgp peer2 <span>{</span>
  local as 64512;
  neighbor 10.0.0.11 as 64513;
  import all;
  export all;
<span>}</span>

protocol bgp peer3 <span>{</span>
  local as 64512;
  neighbor 10.0.100.11 as 64514;
  import all;
  export all;
</code></pre></div><p>We can see that the configuration required to establish these initial sessions is very minimal. Letâ€™s dig deeper into what actually makes this work. For that, we will focus on one specific block. Our protocol bgp peer2 block:</p>
<div><pre><code data-lang="bash">protocol bgp peer2 <span>{</span>
  local as 64512;
  neighbor 10.0.0.11 as 64513;
  import all;
  export none;
<span>}</span>
</code></pre></div><p>Earlier in this tutorial, we discussed the difference between eBGP and iBGP and how large AS identify themselves with a unique ASN. However, a small section of the available ASN have been reserved for private iBGP use. This range is 64512 - 65534. Knowing this, we can see that we have allocated a ASN from the private range to our peer2. This <em>local as</em> statement refers to the ASN of your local machine. In this case, peer1 is assigned the ASN 64512.</p>
<p>Looking at the next statement, we can see a neighbor statement with both an IP and an additional AS. This IP corresponds to the host, or neighbor in BGP lingo, that we are attempting to establish a session with, while the AS 64513 corresponds to the AS weâ€™ve assigned to the host, peer2. We can confirm this by looking at the configuration file on peer2.</p>
<div><pre><code data-lang="bash">root@peer2:/# grep -A4 peer1 /etc/bird/bird.conf
protocol bgp peer1 <span>{</span>
  local as 64513;
  neighbor 10.0.0.10 as 64512;
  export none;
<span>}</span>
</code></pre></div><p>It is these two directives in our protocol BGP blocks that handle the initial establishment of sessions.</p>
<p>While establishing and maintaining sessions is crucial to the operation of BGP, established sessions alone will not allow you to route any traffic. In the next section, we will explore some of the other elements of our configuration files and how we can use them to discover and announce routes between our nodes. Before we proceed with doing this. Iâ€™d like to review our current topology.</p>
<p>Currently we have three nodes in our network, peer1 (AS64512), peer2 (AS64513) and peer3 (AS64514). These are configured in the same broadcast domain however the peering is structured like peer3 &lt;-&gt; peer1 &lt;-&gt; peer2. This structure allows communication of routes from either peer2 or peer3 through our route server, peer1. Please keep this topology in mind as we proceed with the next step of this tutorial, advertising routes.</p>
<h3 id="advertising-routes-with-bgp">Advertising Routes with BGP:</h3>
<h4 id="kernel-protocol">Kernel Protocol:</h4>
<p>Before we begin announcing routes between bird daemons, we should first understand how BIRD communicates routes between the linux kernel and the BIRD daemon. This is where that kernel protocol block we saw earlier comes into play.</p>
<pre><code>protocol kernel {
  metric 0;
  learn;
  import none;
  export all; 
}
</code></pre><p>There are many options that can be specified in the kernel block, and more information on those can be found <a href="http://bird.network.cz/?get_doc&amp;f=bird-6.html#ss6.6">here</a>, however the bulk of what we want to do is defined by the import/export definitions.</p>
<pre><code>import none;
</code></pre><p>Tells BIRD to not read routes in from the kernel routing table into BIRD. We will be obtaining our routes via the direct protocol which we will configure shortly.</p>
<pre><code>export all;
</code></pre><p>Tells BIRD to export all routes learned by other announcements into the â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://packetfire.org/post/intro-to-bgp/">http://packetfire.org/post/intro-to-bgp/</a></em></p>]]>
            </description>
            <link>http://packetfire.org/post/intro-to-bgp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23752093</guid>
            <pubDate>Mon, 06 Jul 2020 20:01:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Programming Concepts Not Languages]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23751483">thread link</a>) | @rdd_user
<br/>
July 6, 2020 | https://remotedevdaily.com/learn-programming-concepts-not-languages/ | <a href="https://web.archive.org/web/*/https://remotedevdaily.com/learn-programming-concepts-not-languages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1707"><div><div><p>A good programmer or software developer should be learning programming concepts and not languages.</p><p>Knowing many programming languages is great. However, does this alone really make you a good programmer?</p><h3>Learning Languages</h3><p>There are so many programming languages out there from Python to C++ to Rust to Go, and many many more.</p><p>Knowing different programming languages and understanding their details and quirks is great.  There is absolutely nothing wrong with that.  The more you can learn about the tools you use everyday the better.</p><p>Over the years I've used many different languages ranging from low level languages like C++, to higher level languages like Ruby.</p><p>These days, I program a lot in python and javascript, and I love experimenting with new language features and discovering cool new code snippets.</p><p>However, I realize that simply knowing these languages doesn't make me a good programmer and doesn't say a lot about my skill set.</p><h3>Learn Concepts Not Languages</h3><p>The important thing is not just to learn a language itself.  We need to remember that programming languages are tools, and many of these tools change, evolve, and sometimes even become irrelevant. The moral of the story is that you shouldn't become dependent on a certain language.</p><p>You should learn how to use a language to solve a problem. And when you do that, you will inveitably pick up new concepts.</p><p>Let's use Python as an example. You don't want to just "learn python".  You want to, for example, learn how to use python to scrape data from a website. And by doing this, you will learn a ton of new and interesting concepts like how to make http requests, how to select html elements from the dom using xpaths and css selectors, among many other concepts.</p><p>We want to learn concepts, not just languages.</p><p>Here are some other examples:</p><ul><li>Maybe you want to learn how to use C++ to build a game and learn about the inner workings of computer graphics.</li><li>Maybe you want to learn how to use SQL to design efficient tables and optomize database queries.</li><li>Maybe you want to use Javascript with Vue.js or React to learn how to create reactive web pages.</li><li>Maybe you want to use Django to build a backend application and learn about how webservers handle incoming requests.</li></ul><h3>What Makes a Developer Valuable</h3><p>Knowing the languages and frameworks that a company or project uses is certainly a plus.</p><p>However, the true value that you'll bring to any project that you end up working on is your conceptual knowledge. Companies can find any number of applicants that have experience with their stack. But finding developers who have the deep experience and conceptual knowledge needed to use these tools to build well-designed software is much harder.</p><p>Good software developers are the people that focus on learning concepts and not just languages. Languages come and go, but the core fundamentals of computer science and programming do not.</p><p>I hope you enjoyed this article.  If you did, here are some other interesting <a href="https://remotedevdaily.com/" title="interesting articles">interesting articles</a> for you to read.</p></div></div></article></div>]]>
            </description>
            <link>https://remotedevdaily.com/learn-programming-concepts-not-languages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23751483</guid>
            <pubDate>Mon, 06 Jul 2020 19:02:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All the Loops in JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23751168">thread link</a>) | @MH15
<br/>
July 6, 2020 | https://matthall.codes/blog/loops/ | <a href="https://web.archive.org/web/*/https://matthall.codes/blog/loops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>Modern JavaScript supports many different looping constructs. I often use these
different constructs for working with arrays. This is a reference, for myself
and for others, written to augment the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration">existing</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">MDN</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">documentation</a>.</p>
<p>An array <code>arr</code> is defined for all the below examples. The sample code for each
looping construct performs the same behavior.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#for-statement"><code>for</code> statement</a></li>
<li><a href="#dowhile-statement"><code>do...while</code> statement</a></li>
<li><a href="#while-statement"><code>while</code> statement</a></li>
<li><a href="#forin-statement"><code>for...in</code> statement</a></li>
<li><a href="#forof-statement"><code>for...of</code> statement</a></li>
<li><a href="#map-prototype"><code>map</code> prototype</a></li>
<li><a href="#reduce-prototype"><code>reduce</code> prototype</a></li>
<li><a href="#filter-prototype"><code>filter</code> prototype</a></li>
</ul>
<h2 id="basic-loop-constructs">Basic Loop Constructs</h2>
<h3 id="for-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for_statement"><code>for</code> statement</a></h3>
<p>This is the standard C-style loop.</p>
<pre><code>let arr = ["a","b","c","d"]
for(var i = 0; i &lt; arr.length; i++) {
    console.log(i, arr[i])
}</code></pre>
<h3 id="dowhile-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#do...while_statement"><code>do...while</code> statement</a></h3>
<p>Repeat until condition is false.</p>
<pre><code>var i = 0;
do {
    console.log(i, arr[i])
    i++
} while (i &lt; arr.length)</code></pre>
<h3 id="while-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#while_statement"><code>while</code> statement</a></h3>
<p>Repeat while condition is true.</p>
<pre><code>var i = 0
while (i &lt; arr.length) {
    console.log(i, arr[i])
    i++
}</code></pre>
<h2 id="object-loop-constructs">Object Loop Constructs</h2>
<h3 id="forin-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for...in_statement"><code>for...in</code> statement</a></h3>
<p>Executes on the properties (indices) of an object. In JavaScript, Arrays are objects, so
this is valid.</p>
<pre><code>for(var i in arr) {
    console.log(i, arr[i])
}</code></pre>
<h3 id="forof-statement"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration#for...of_statement"><code>for...of</code> statement</a></h3>
<p>Loops over the values of iterable objects including Array, Map and Set.</p>
<pre><code>var i = 0
for(var val of arr) {
    console.log(i, val)
    i++
}</code></pre>
<p>Note that <code>for...of</code> loops the values, while <code>for...in</code> loops the properties/indices.</p>
<h2 id="functional-loop-constructs">Functional Loop Constructs</h2>
<p>Multiple functional-style prototypes exist on the Array object. Handy for
list comprehensions or for rewriting complicated loops with simpler syntax,
especially with <code>reduce</code> and <code>filter</code>. Promotes immutability.</p>
<h3 id="map-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"><code>map</code> prototype</a></h3>
<p>Calls a callback function once for each element and returns the resulting array.
This map callback prints trivial debug information for the array.</p>
<pre><code>function callback(value, index, array) {
    console.log(index, value)
    return `value: ${value}, index: ${index}`;
}
var mappedArr = arr.map(callback)</code></pre>
<p>Does not mutate the source array.</p>
<h3 id="reduce-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce"><code>reduce</code> prototype</a></h3>
<p>Calls a reducer callback to accumulate the array values into a single value.
This reducer callback joins the array with commas, similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"><code>Array.prototype.join()</code></a>.</p>
<pre><code>function reducer(accumulator, value, index, array) {
    console.log(index, value)
    return accumulator + "," + value
}
var initialValue = ""
var joined = arr.reduce(reducer, initialValue)</code></pre>
<p>Does not mutate the source array. Note that if the <code>initialValue</code> parameter is
not included in the <code>arr.reduce()</code> call, the initial value is set to <code>array[0]</code>
and that first index will be skipped in the loop.</p>
<h3 id="filter-prototype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>filter</code> prototype</a></h3>
<p>Calls a filter callback to create a filtered array from the source array. The <code>filter</code> prototype
is very useful for cleaning <em>sparse arrays</em> as illustrated below or for, of course, filtering data
based on a condition in a more readable manner than with a <code>for</code> loop.</p>
<pre><code>function filter(value, index, array) {
    console.log(index, value)
    return typeof value !== 'undefined'
}
var filtered = arr.filter(filter)</code></pre>
<p>Does not mutate the source array.</p>
<h2 id="addendum">Addendum</h2>
<p>Discuss on <a href="https://news.ycombinator.com/item?id=23751168">HN</a></p>

    </article></div>]]>
            </description>
            <link>https://matthall.codes/blog/loops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23751168</guid>
            <pubDate>Mon, 06 Jul 2020 18:37:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Buying and Selling stocks with maximum profit]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23750763">thread link</a>) | @codingifmycraft
<br/>
July 6, 2020 | http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/ | <a href="https://web.archive.org/web/*/http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://codingismycraft.com/index.php/2020/07/05/buying-and-selling-stocks-with-maximum-profit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23750763</guid>
            <pubDate>Mon, 06 Jul 2020 18:03:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[D-Bus and Polkit, No More Mysticism and Confusion]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23750162">thread link</a>) | @venamresm__
<br/>
July 6, 2020 | https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html | <a href="https://web.archive.org/web/*/https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/freedesktop_logo.png" alt="freedesktop logo"></p>

<p>Dbus and Polkit are two technologies that emanate an aura of
confusion. While their names are omnipresent in discussions, and the
internet has its share of criticism and rants about them, not many have
a grasp of what they actually do. In this article Iâ€™ll give an
overview of these technologies.</p>

<p>D-Bus, or Desktop Bus, is often described as a software that allows other
processes to communicate with one another, to perform inter-process
communication (IPC). However, this term is generic and doesnâ€™t convey
what it is used for. Many technologies exist that can perform IPC, from
plain socket, to messaging queue, so what differentiates D-Bus from them.</p>

<p>D-Bus can be considered a middleware, a software glue that sits
in the middle to provide services to software through a sort
of plugin/microkernel architecture. Thatâ€™s what the bus metaphor
represents, it replicates the functionality of hardware buses, with
components attaching themselves to known interfaces that they implement,
and providing a mean of communication between them. With D-Bus these can
be either procedure calls aka methods or signals aka notifications.</p>

<p>While D-Bus does offer 1-to-1 and 1-to-many IPC, itâ€™s more of a byproduct
of its original purpose than a mean of efficient process to process data
transfer â€” it isnâ€™t meant to be fast. D-Bus emerges from the world of
desktop environments where blocks are well known, and each implements a
functionality that should be accessible from other processes if needed
without having to reinvent the transfer mechanism for each and every
software.<br>
This is the problem it tackles: having components in a desktop environment
that are distributed in many processes, each fulfilling a specific job. In
such case, if a process implements the behavior needed, instead of
reimplementing it, it can instead harness the feature already provided
by that other process.</p>

<p>Its design is heavily influenced by Service Oriented Architectures
(SOA), Enterprise Service Buses (ESB), and microkernel architectures.<br>
A bus permits abstracting communication between software, replacing
all direct contact, and only allowing them to happen on the bus
instead.<br>
Additionally, the SOA allows software to expose objects that have
methods that can be called remotely, and also allows other software to
subscribe/publish events happening in remote objects residing in
other software.<br>
Moreover, D-Bus provides an easy plug-and-play, a loose coupling,
where any software could detach itself from the bus and allow another
process to be plugged, containing objects that implement the same features
the previous process implemented.<br>
In sum, itâ€™s an abstraction layer for functionalities that could be
implemented by any software, a standardized way to create pluggable
desktop components. This is what D-Bus is about, this is the role it
plays, and it explains the difficulty in grasping the concepts that
gave rise to it.</p>

<p>The big conceptual picture goes as follows.<br>
We have a D-Bus daemon running at an address and services that implement
well known behaviors. These services attach to the D-Bus daemon and the
attachment edge has a name, a bus name.<br>
Inside these services, there are objects that implement the well known
behavior. These objects also have a path leading to them so that you
can target which object within that service implements the specific
interface needed.<br>
Then, the interface methods and events can be called or registered
on this object inside this service, connected to this bus name, from
another service that requires the behavior implemented by that interface
to be executed.</p>

<p>This is how these particular nested components interact with one another,
and it gives rise to the following:</p>

<div><div><pre><code>Address of D-Bus daemon -&gt;
Bus Name that the service attached to -&gt;
Path of the object within this service -&gt;
Interface that this object implements -&gt;
Method or Signal concrete implementation
</code></pre></div></div>

<p>Or in graphical form:</p>

<p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/dbus_method_invocation.png" alt="D-Bus ecosystem"></p>

<p>Instead of having everyone talk to one another:</p>

<p><img src="https://venam.nixers.net/blog/assets/dbus_polkit/processes_without_dbus.png" alt="p2p interaction"></p>

<p>Letâ€™s take a method call example that shows these 3 required pieces
of information.</p>

<div><div><pre><code>org.gnome.SessionManager \
/org/gnome/SessionManager \
org.gnome.SessionManager.CanShutdown

   boolean true
</code></pre></div></div>

<p>Here, we have the service bus name <code>org.gnome.SessionManager</code>, the
object path <code>/org/gnome/SessionManager</code>, and the interface/method name
<code>org.gnome.SessionManager.CanShutdown</code>, all separated by spaces. If the
<code>/org/gnome/SessionManager</code> only implements a single interface then we
could call it as such <code>CanShutdown</code>, but here it doesnâ€™t.</p>

<p>Letâ€™s dive deeper into the pieces weâ€™ve mentioned. They are akin to
the ones in an SOA ecosystem, but with the addition of the bus name,
bus daemon, and the abstraction for the plug-and-play.</p>

<ul>
  <li>Objects</li>
</ul>

<p>An object is an entity that resides in a process/service and that
effectuates some work. It is identified by a path name. The path name is
usually written, though not mandatory, in a namespace format where it
is grouped and divided by slashes <code>/</code>, just like Unix file system path.</p>

<p>For example: <code>/org/gnome/Nautilus/window/1</code>.</p>

<p>Objects have methods and signals, methods take input and return output,
while signals are events that processes can subscribe to.</p>

<ul>
  <li>Interfaces</li>
</ul>

<p>These methods and signals are concrete implementations of interfaces,
the same definition as in OOP.<br>
As with OOP, interfaces are a group of abstractions that have to be
defined in the object that implements them. The members, methods and
signals, are also namespaced under this interface name.</p>

<p>Example:</p>

<div><div><pre><code>interface=org.gnome.Shell.Introspect
member method=GetRunningApplications
absolute name of method=org.gnome.Shell.Introspect.GetRunningApplications
</code></pre></div></div>

<p>Some interfaces are commonly implemented by objects, such as the
<code>org.freedesktop.Introspectable</code> interface, which, as the name implies,
makes the object introspectable. It allows to query the object about
its capabilities, features, and other interfaces it implements. This is
a very useful feature because it allows discovery.<br>
Itâ€™s also worth mentioning that dbus can be used in a generic
way to set and get properties of servicesâ€™ objects through the
<code>org.freedesktop.DBus.Properties</code> interface.</p>

<p>Interfaces can be described as standard, and for documentation, in D-Bus
XML configuration files so that other programmers can use the reference
to implement them properly. These files can also be used to auto-generate
classes from the XML, making it quicker to implement and less error-prone.<br>
These files can usually be found under <code>/usr/share/dbus-1/interfaces/</code>.
Our <code>org.gnome.Shell.Introspect</code> of earlier is there in the
file <code>org.gnome.Shell.Introspect.xml</code> along with our method
<code>GetRunningApplications</code>. Hereâ€™s an excerpt of the relevant section.</p>

<div><div><pre><code>&lt;!--
	GetRunningApplications:
	@short_description: Retrieves the description of all running applications

	Each application is associated by an application ID. The details of
	each application consists of a varlist of keys and values. Available
	keys are listed below.

	'active-on-seats' - (as)   list of seats the application is active on
								(a seat only has at most one active
								application)
--&gt;
&lt;method name="GetRunningApplications"&gt;
	&lt;arg name="apps" direction="out" type="a{sa{sv}}" /&gt;
&lt;/method&gt;
</code></pre></div></div>

<p>Notice the <code>type=</code> part, which describes the format of the output,
weâ€™ll come back to what this means in the message format section,
but in short each letter represents a basic type. The <code>out</code> direction
means that itâ€™s the type of an output value of the method, similarly
<code>in</code> is for method parameters. See the following example taken from
<code>org.gnome.Shell.Screenshot.xml</code>.</p>

<div><div><pre><code>&lt;!--
	ScreenshotArea:
	@x: the X coordinate of the area to capture
	@y: the Y coordinate of the area to capture
	@width: the width of the area to capture
	@height: the height of the area to capture
	@flash: whether to flash the area or not
	@filename: the filename for the screenshot
	@success: whether the screenshot was captured
	@filename_used: the file where the screenshot was saved

	Takes a screenshot of the passed in area and saves it
	in @filename as png image, it returns a boolean
	indicating whether the operation was successful or not.
	@filename can either be an absolute path or a basename, in
	which case the screenshot will be saved in the $XDG_PICTURES_DIR
	or the home directory if it doesn't exist. The filename used
	to save the screenshot will be returned in @filename_used.
--&gt;
&lt;method name="ScreenshotArea"&gt;
	&lt;arg type="i" direction="in" name="x"/&gt;
	&lt;arg type="i" direction="in" name="y"/&gt;
	&lt;arg type="i" direction="in" name="width"/&gt;
	&lt;arg type="i" direction="in" name="height"/&gt;
	&lt;arg type="b" direction="in" name="flash"/&gt;
	&lt;arg type="s" direction="in" name="filename"/&gt;
	&lt;arg type="b" direction="out" name="success"/&gt;
	&lt;arg type="s" direction="out" name="filename_used"/&gt;
&lt;/method&gt;
</code></pre></div></div>

<ul>
  <li>Proxies</li>
</ul>

<p>Proxies are the nuts and bolts of an RPC ecosystem, they represent
remote objects, along with their methods, in your native code as if
they were local. Basically, these are wrappers to make it more simple
to manipulate things on D-Bus programmatically instead of worrying about
all the components weâ€™ve mentioned above. Programming with proxies might
look like this.</p>

<div><div><pre><code>Proxy proxy = new Proxy(getBusConnection(), "/remote/object/path");
Object returnValue = proxy.MethodName(arg1, arg2);
</code></pre></div></div>

<ul>
  <li>Bus names</li>
</ul>

<p>The bus name, or also sometimes called connection name, is the name
of the connection that an application gets assigned when it connects
to D-Bus. Because D-Bus is a bus architecture, it requires that each
assigned name be unique, you canâ€™t have two applications using the
same bus name. Usually, it is the D-Bus daemon that generates this
random unique value, one that begins with a colon by convention,
however, applications may ask to own well-known names instead. These
well-known names, as reverse domain names, are for cases when people
want to agree on a standard unique application that should implement
a certain behavior. Letâ€™s say for instance a specification for a
<code>com.mycompany.TextEditor</code> bus name, â€¦</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html">https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html</a></em></p>]]>
            </description>
            <link>https://venam.nixers.net/blog/unix/2020/07/06/dbus-polkit.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23750162</guid>
            <pubDate>Mon, 06 Jul 2020 17:22:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clean Architecture, 2 years later]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749962">thread link</a>) | @eminetto
<br/>
July 6, 2020 | https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/ | <a href="https://web.archive.org/web/*/https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    

<p>In February 2018 I wrote what would become the most relevant text I have ever published: <a href="https://eltonminetto.dev/en/post/2018-03-05-clean-architecture-using-go/">Clean Architecture using Golang</a>. With more than 105k views, the post generated presentations at some Go and PHP events and allowed me to talk about software architecture with several people.</p>

<p>Using this architecture for the development of <a href="https://codenation.dev/">Codenation</a>â€™s products, we gained experience and solved problems. We wrote some posts reporting these experiences:</p>

<ul>
<li><a href="https://eltonminetto.dev/en/post/2018-06-25-golang-usando-build-tags/">Golang: using build tags to store configurations</a></li>
<li><a href="https://eltonminetto.dev/en/post/2018-08-01-monorepo-drone/">Continuous integration in projects using monorepo</a></li>
<li><a href="https://eltonminetto.dev/en/post/2018-11-28-monitorando-app-go-com-supervisor/">Monitoring a Golang application with Supervisor</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-01-23-migracao-de-dados-com-go-e-mongodb/">Data Migration with Golang and MongoDB</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-08-08-golang-linguagem-script/">Using Golang as a scripting language</a></li>
<li><a href="https://eltonminetto.dev/en/post/2019-12-19-gomock/">Creating test mocks using GoMock</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-03-13-golang-prometheus/">Using Prometheus to collect metrics from Golang applications</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-04-08-golang-pprof/">Profiling Golang applications using pprof</a></li>
<li><a href="https://eltonminetto.dev/en/post/2020-04-21-golang-apitest/">Testing APIs in Golang using apitest</a></li>
</ul>

<p>After this whole experience I can say::</p>

<blockquote>
<p>Choosing Clean Architecture was the best technical decision we made!</p>
</blockquote>

<p>With this post, I want to share a <a href="https://github.com/eminetto/clean-architecture-go-v2">repository</a> with a new example implementation in Go. It is an update with improvements in the organization of codes and directories, as well as a more complete example for those who are looking to implement this architecture.</p>

<p>In the next topics, I explain what each directory means.</p>

<h2 id="entity-layer">Entity layer</h2>

<p>Letâ€™s start with the innermost layer of the architecture.</p>

<p>According to <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Uncle Bobâ€™s post</a>:</p>

<blockquote>
<p>Entities encapsulate <em>Enterprise wide</em> business rules. An entity can be an object with methods, or it can be a set of data structures and functions. It doesnâ€™t matter so long as the entities could be used by many different applications in the enterprise.</p>
</blockquote>

<p>The structure looked like this:</p>

<p><a href="https://eltonminetto.dev/images/posts/1-entity_book.png"><img src="https://eltonminetto.dev/images/posts/1-entity_book.png" alt="entity"></a></p>

<p>In this package, we have the definition of the entity (<code>entity.go</code>) and the interfaces of the <code>Repository</code> and <code>Manager</code> (in <code>interface.go</code>). The <code>Manager</code> will use a <code>Repository</code> to perform basic operations on the entity, such as the famous <code>CRUD</code>.</p>

<p>We also have the implementations of the repository in <code>MySQL</code> (<code>repository_mysql.go</code>) and in-memory (<code>repository_inmem.go</code>), as well as the implementation of the <code>Manager</code> interface (in <code>manager.go</code>).</p>

<p>We also found the <code>mocks</code> generated by <code>Gomock</code>, as explained in this <a href="https://eltonminetto.dev/en/post/2019-12-19-gomock/">post</a>. The other layers of the architecture will use this mocks during the tests.</p>

<h2 id="use-case-layer">Use Case Layer</h2>

<p>According to Uncle Bob::</p>

<blockquote>
<p>The software in this layer contains application specific business rules. It encapsulates and implements all of the use cases of the system</p>
</blockquote>

<p>The structure looked like this:</p>

<p><a href="https://eltonminetto.dev/images/posts/2-domain_loan.png"><img src="https://eltonminetto.dev/images/posts/2-domain_loan.png" alt="domain"></a></p>

<p>In packages within <code>domain/usecase</code> we implement the business rules for our product. According to the definition of the architecture, these <code>UseCases</code> make use of the entities and the <code>Managers</code> that deal with them. It is also possible to see the existence of mocks, as the previous layer.</p>

<h2 id="controller-layer">Controller layer</h2>

<p>In this application, there are two ways to access the <code>UseCases</code>. The first is through an <code>API</code> and the second is using a command line application (<code>CLI</code>).</p>

<p>The <code>CLI</code>â€™s structure is very simple:</p>

<p><a href="https://eltonminetto.dev/images/posts/4-cmd.png"><img src="https://eltonminetto.dev/images/posts/4-cmd.png" alt="cli"></a></p>

<p>It makes use of domain packages to perform a book search:</p>
<div><pre><code data-lang="go"><span>dataSourceName</span> <span>:=</span> <span>fmt</span><span>.</span><span>Sprintf</span><span>(</span><span>"%s:%s@tcp(%s:3306)/%s?parseTime=true"</span><span>,</span> <span>config</span><span>.</span><span>DB_USER</span><span>,</span> <span>config</span><span>.</span><span>DB_PASSWORD</span><span>,</span> <span>config</span><span>.</span><span>DB_HOST</span><span>,</span> <span>config</span><span>.</span><span>DB_DATABASE</span><span>)</span>
<span>db</span><span>,</span> <span>err</span> <span>:=</span> <span>sql</span><span>.</span><span>Open</span><span>(</span><span>"mysql"</span><span>,</span> <span>dataSourceName</span><span>)</span>
<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> <span>{</span>
  <span>log</span><span>.</span><span>Fatal</span><span>(</span><span>err</span><span>.</span><span>Error</span><span>())</span>
<span>}</span>
<span>defer</span> <span>db</span><span>.</span><span>Close</span><span>()</span>
<span>repo</span> <span>:=</span> <span>book</span><span>.</span><span>NewMySQLRepository</span><span>(</span><span>db</span><span>)</span>
<span>manager</span> <span>:=</span> <span>book</span><span>.</span><span>NewManager</span><span>(</span><span>repo</span><span>)</span>
<span>all</span><span>,</span> <span>err</span> <span>:=</span> <span>manager</span><span>.</span><span>Search</span><span>(</span><span>query</span><span>)</span>
<span>if</span> <span>err</span> <span>!=</span> <span>nil</span> <span>{</span>
  <span>log</span><span>.</span><span>Fatal</span><span>(</span><span>err</span><span>)</span>
<span>}</span>
<span>for</span> <span>_</span><span>,</span> <span>j</span> <span>:=</span> <span>range</span> <span>all</span> <span>{</span>
  <span>fmt</span><span>.</span><span>Printf</span><span>(</span><span>"%s %s \n"</span><span>,</span> <span>j</span><span>.</span><span>Title</span><span>,</span> <span>j</span><span>.</span><span>Author</span><span>)</span>
<span>}</span></code></pre></div>
<p>In the example above, you can see the use of the <code>config</code> package. You can see its structure below, and more details in this <a href="https://eltonminetto.dev/post/2018-06-25-golang-usando-build-tags/">post</a>.</p>

<p><a href="https://eltonminetto.dev/images/posts/3-config.png"><img src="https://eltonminetto.dev/images/posts/3-config.png" alt="config"></a></p>

<p>The <code>API</code> structure is more complex, with three packages: <code>handler</code>, <code>presenter</code>, and <code>middleware</code>.</p>

<p>The <code>handler</code> package handle <code>HTTP</code> <code>requests</code> and <code>responses</code>, as well as using existing business rules in the <code>domain</code>.</p>

<p><a href="https://eltonminetto.dev/images/posts/5-handler.png"><img src="https://eltonminetto.dev/images/posts/5-handler.png" alt="handler"></a></p>

<p>The <code>presenters</code> are responsible for formatting the data generated as a <code>response</code> by <code>handlers</code>.</p>

<p><a href="https://eltonminetto.dev/images/posts/6-presenter.png"><img src="https://eltonminetto.dev/images/posts/6-presenter.png" alt="presenter"></a></p>

<p>In this way, the entity <code>User</code>:</p>
<div><pre><code data-lang="go"><span>type</span> <span>User</span> <span>struct</span> <span>{</span>
   <span>ID</span>        <span>entity</span><span>.</span><span>ID</span>
   <span>Email</span>     <span>string</span>
   <span>Password</span>  <span>string</span>
   <span>FirstName</span> <span>string</span>
   <span>LastName</span>  <span>string</span>
   <span>CreatedAt</span> <span>time</span><span>.</span><span>Time</span>
   <span>UpdatedAt</span> <span>time</span><span>.</span><span>Time</span>
   <span>Books</span>     <span>[]</span><span>entity</span><span>.</span><span>ID</span>
<span>}</span></code></pre></div>
<p>It can be transformed into:</p>
<div><pre><code data-lang="go"><span>type</span> <span>User</span> <span>struct</span> <span>{</span>
   <span>ID</span>        <span>entity</span><span>.</span><span>ID</span> <span>`json:"id"`</span>
   <span>Email</span>     <span>string</span>    <span>`json:"email"`</span>
   <span>FirstName</span> <span>string</span>    <span>`json:"first_name"`</span>
   <span>LastName</span>  <span>string</span>    <span>`json:"last_name"`</span>
<span>}</span></code></pre></div>
<p>This gives us control over how an entity will be delivered via the <code>API</code>.</p>

<p>In the last package of the <code>API</code> we find the <code>middlewares</code>, used by several <code>endpoints</code>:</p>

<p><a href="https://eltonminetto.dev/images/posts/7-middleware.png"><img src="https://eltonminetto.dev/images/posts/7-middleware.png" alt="middlware"></a></p>

<h2 id="support-packages">Support packages</h2>

<p>They are packages that provide common functionality such as encryption, logging, file handling, etc. These features are not part of the domain of our application, and all the layers can use them. Even other applications can import and use these packages.</p>

<p><a href="https://eltonminetto.dev/images/posts/8-pkg.png"><img src="https://eltonminetto.dev/images/posts/8-pkg.png" alt="pkg"></a></p>

<p>The <a href="https://github.com/eminetto/clean-architecture-go-v2">README.md</a> contains more details, such as instructions for compilation and usage examples.</p>

<p>My goals with this post to strengthen my recommendation on this architecture and also to receive feedback about the codes.</p>

<p>If you want to learn how to use this architecture in your favorite programming language, you could use this repository as an example of this learning. That way, we can have different implementations, in different languages, to ease the comparison.</p>

<p>Special thanks to my friend <a href="https://twitter.com/hurrycaner">Gustavo Schirmer</a>  who gave great feedbacks on the text and the codes.</p>


  </article></div>]]>
            </description>
            <link>https://eltonminetto.dev/en/post/2020-07-06-clean-architecture-2years-later/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749962</guid>
            <pubDate>Mon, 06 Jul 2020 17:08:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[1:60 scale Boeing 777 made from manila folders]]>
            </title>
            <description>
<![CDATA[
Score 785 | Comments 176 (<a href="https://news.ycombinator.com/item?id=23749821">thread link</a>) | @chha
<br/>
July 6, 2020 | https://www.lucaiaconistewart.com/model-777 | <a href="https://web.archive.org/web/*/https://www.lucaiaconistewart.com/model-777">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site">

      
      



      <div id="content">

        
        
          
            

  


          
        

        <main id="page" role="main">

          

          <div data-content-field="main-content">
            
            <div data-type="page" data-updated-on="1561691883296" id="page-5cef0d874437940001629f3f"><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559268252785_9085"><p><h2><em>1:60 SCALE MODEL OF AN AIR INDIA BOEING 777-300ER, MADE ENTIRELY FROM MANILA FOLDERS</em></h2></p></div><div data-block-type="2" id="block-yui_3_17_2_1_1559266243734_6718"><div><p>This project traces its beginnings to an <a href="https://www.lucaiaconistewart.com/architecture"><span>architecture class</span></a> in high school where we learned to use manila file folders to roughly model our building ideas. The more I worked with paper, the more I fell in love with its versatility. At some point, I got the idea to make a model of an airplane as a way of challenging myself with an unconventional shape.</p><p>Though the project began on a much smaller and simpler scale in mid-2008, it has since evolved through multiple revisions to become a highly detailed, true-to-life representation of a Boeing 777. I originally drew my plans by hand, but my desire to increase the accuracy and amount of detail led me to start using Adobe Illustrator to design and print increasingly intricate parts directly onto the folder.</p><p><em>The project has been in progress since May 2008</em></p></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_11179"><div><h2>RESEARCH</h2><p>I start with as much source material as I can. Often that means photos and videos found on the web, but sometimes Iâ€™m lucky enough to get my hands on technical drawings as well. I study these materials to form an understanding of the intrinsic shape and function of the particular section Iâ€™m working on. Once I feel confident in my basic understanding of the part, I can begin the design process.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_13965"><div><h2>DESIGN</h2><p>Much of my work consists of figuring out how to flatten 3-D shapes into 2-D slices that can be printed onto paper and assembled. I work in Adobe Illustrator to create 2-D plans for all the parts of which the final product will be comprised. I typically start the process by working out the general shape and dimensions of the piece, then I drill down, adding more detail and functionality. Once the design has been â€œfrozen,â€ I work to break it down into individual pieces and arrange them for printing. Often, if a piece is complex and Iâ€™m unsure of how well it will function in reality, I build a small test section to verify my designs.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1559711406501_16684"><div><h2>PRINTING &amp; ASSEMBLY</h2><p>This stage is as time-consuming as the design process. I cut folders down to printer-friendly sizes and print my plans directly onto them. Then, I cut out the individual pieces using an <a href="http://www.xacto.com/products/cutting-solutions/knives/detail/X3201" target="_blank"><span>Xacto knife</span></a>, arrange them into sections, and glue them together with <a href="https://www.aleenes.com/aleenes-clear-gel-tacky-glue" target="_blank"><span>Tacky Glue</span></a>. Often, a complex piece is actually a collection of much smaller sub-sections that each needs to be assembled separately before being joined together; this is especially true of something like the wing, which contains many articulating functions and thousands of parts.</p></div></div></div></div><div><div><div data-block-type="2" id="block-yui_3_17_2_1_1561353870131_383468"><div><h2>TOOLS</h2><p>My tools of choice include the aforementioned Xacto knife, a cutting mat, straight edges, squares, and a toothpick for the precise application of glue.</p></div></div></div></div><div data-block-json="{&quot;hSize&quot;:null,&quot;floatDir&quot;:null,&quot;url&quot;:&quot;https://www.youtube.com/watch?v=77oRSCxGmYA&quot;,&quot;html&quot;:&quot;<iframe src=\&quot;//www.youtube.com/embed/77oRSCxGmYA?wmode=opaque&amp;amp;enablejsapi=1\&quot; height=\&quot;480\&quot; width=\&quot;854\&quot; scrolling=\&quot;no\&quot; frameborder=\&quot;0\&quot; allowfullscreen=\&quot;\&quot;>\n</iframe>&quot;,&quot;resolveObject&quot;:&quot;Video&quot;,&quot;resolvedBy&quot;:&quot;youtube&quot;,&quot;resolved&quot;:true,&quot;description&quot;:&quot;Many people have asked how I design and build the parts for the manila folder 777 I'm putting together, and this video is perhaps the best answer yet. This covers the design and build process for the main landing gear, and was made from almost 130 hours of raw footage.&quot;,&quot;title&quot;:&quot;Manila Folder 777 - Main Landing Gear - Design+Build Time-lapse with Info! **60FPS**&quot;,&quot;height&quot;:480,&quot;thumbnail_width&quot;:480,&quot;width&quot;:854,&quot;version&quot;:&quot;1.0&quot;,&quot;type&quot;:&quot;video&quot;,&quot;thumbnail_height&quot;:360,&quot;authorName&quot;:&quot;Luca Iaconi-Stewart&quot;,&quot;authorUrl&quot;:&quot;https://www.youtube.com/user/lucaiaconistewart&quot;,&quot;providerName&quot;:&quot;YouTube&quot;,&quot;providerUrl&quot;:&quot;https://www.youtube.com/&quot;,&quot;thumbnailUrl&quot;:&quot;https://i.ytimg.com/vi/77oRSCxGmYA/hqdefault.jpg&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1559834399264_13753"><div><div><p><iframe scrolling="no" data-image-dimensions="854x480" allowfullscreen="" src="//www.youtube.com/embed/77oRSCxGmYA?wmode=opaque&amp;enablejsapi=1" width="854" data-embed="true" frameborder="0" height="480">
</iframe></p></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1559269142757_26027"><p><h3>CLICK BELOW FOR MORE INFO ON EACH SECTION</h3></p></div><div data-block-type="2" id="block-yui_3_17_2_1_1559870775542_20405"><div><p>Check out an expansive catalog of photos and videos about the project, and stay tuned for further updates!</p></div></div></div></div></div>
          </div>

          

          

        </main>

        

      </div>
    </div></div>]]>
            </description>
            <link>https://www.lucaiaconistewart.com/model-777</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749821</guid>
            <pubDate>Mon, 06 Jul 2020 16:57:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Waymo Challenge Report]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749716">thread link</a>) | @lucaszsloan
<br/>
July 6, 2020 | https://lucassloan.github.io/2020/07/03/waymo-challenge.html | <a href="https://web.archive.org/web/*/https://lucassloan.github.io/2020/07/03/waymo-challenge.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="the-waymo-challenge">The Waymo Challenge</h2>

<p>In August 2019, Waymo shared a portion of their self-driving carâ€™s data as the <a href="https://blog.waymo.com/2019/08/waymo-open-dataset-sharing-our-self.html">Waymo Open Dataset</a>.  The data set contains LIDAR point clouds and images from the 5 cameras on the Waymo test cars.  I previously used this dataset as additional training data for <a href="https://github.com/LucasSloan/speedchallenge">my entry</a> in the <a href="https://github.com/commaai/speedchallenge">Comma.ai Speed Prediction Challenge</a>.  In March 2020, Waymo released a major update to their dataset and <a href="https://blog.waymo.com/2020/03/announcing-waymos-open-dataset-challenges.html">announced</a> the <a href="https://waymo.com/open/challenges">Waymo Open Dataset Challenges</a>.  There were five challenges:</p>

<ol>
  <li>2D Detection</li>
  <li>2D Tracking</li>
  <li>3D Detection</li>
  <li>3D Tracking</li>
  <li>3D Detection Domain Adaptation</li>
</ol>

<h2 id="the-2d-detection-challenge">The 2D Detection Challenge</h2>

<p>Since most of my prior experience was with 2D computer vision tasks, I decided to try my hand at the 2D Detection challenge.  The 2D detection challenge falls under the computer vision task of <a href="https://en.wikipedia.org/wiki/Object_detection">Object Detection</a>.  Object detection is a more difficult task than the canonical computer vision task of image recognition - in image recognition the model only has to choose which of the supplied labels most applies to the image overall, but in object detection, the model has to localize the objects in the image.</p>

<p>Specifically for the Waymo Challenge, the task was to draw bounding boxes around the vehicles, bikes and pedestrians:</p>

<p><img src="https://lucassloan.github.io/assets/images/ground_truth.png" alt="Sample Waymo bounding boxes" title="Sample Waymo bounding boxes"></p>

<p>There are 5 cameras on the Waymo test vehicle - the front, front right and front left cameras with a resolution of 1920x1280 and the side right and side left cameras with a resolution of 1920x886.</p>

<h2 id="how-object-detection-works">How object detection works</h2>

<p>Almost all object detection models are composed of 2 parts:</p>

<ol>
  <li>A backbone CNN to extract reduced resolution feature maps</li>
  <li>A smaller CNN to predict the objectness of regions of the feature maps</li>
</ol>

<p><img src="https://lucassloan.github.io/assets/images/object_detection_diagram.jpg" alt="Object detection diagram" title="Object detection diagram"></p>

<p>The backbone CNN, usually lifted from a high performing ImageNet classification model produces reduced resolution â€œimagesâ€.  Then many regions, tiled across the â€œimageâ€, are snapshotted and fed into the smaller CNN.  The regions of â€œimageâ€ where the smaller CNN fires strongly are the predicted boxes of the overall network.</p>

<p>High performing object detection networks add a number of wrinkles on top of this basic scheme, such as running the smaller CNN over feature maps extracted at multiple resolutions to handle detecting objects of different sizes or adding another small CNN to suggest small offsets from the location implied by the where the snapshot was taken.</p>

<h2 id="choosing-a-model">Choosing a Model</h2>

<p>After I decided to tackle the 2D Detection challenge, I did a survey of the top models and honed in on 3 top choices:</p>

<h3 id="spinenet"><a href="https://arxiv.org/pdf/1912.05027.pdf">SpineNet</a></h3>

<p>SpineNet is a very interesting take on the <a href="https://www.reddit.com/r/ProgrammerHumor/comments/8c1i45/stack_more_layers/">stack more layers</a> approach to machine learning.  State of the art object detection models snapshot at different resolutions of feature maps, but the higher resolution feature maps are taken earlier in the backbone, which means that theyâ€™re the result of less processing.  SpineNet permutes a standard ResNet-50 architecture so that there are feature maps of multiple resolutions at the end of the network, so that all the feature maps can be the result of all 50 layers.</p>

<h3 id="yolov3"><a href="https://arxiv.org/pdf/1804.02767.pdf">YOLOv3</a></h3>

<p>YOLO (You Only Look Once) is a series of object detection models designed for high speed on commodity hardware.  The project focuses on hardware utilization to guide its design choices, over the raw FLOPs count used by others.</p>

<h3 id="efficientdet"><a href="https://arxiv.org/pdf/1911.09070.pdf">EfficientDet</a></h3>

<p>EfficientDet is a family of models built on top of the <a href="https://arxiv.org/pdf/1905.11946.pdf">EfficientNet</a> family of image recognition models.  It uses the EfficientNet models as the CNN backbone and introduces a new method of aggregating information across resolution scales, the BiFPN.</p>

<p>SpineNet seemed like a promising candidate from the paper, but while it was <a href="https://github.com/tensorflow/tpu/blob/master/models/official/detection/MODEL_ZOO.md">technically opensource</a>, it was written to be run on TPUs and there wasnâ€™t a community trying to leverage it.  YOLOv3 was designed to be run on commodity GPUs, had a large community and active support from the authors, but it didnâ€™t have state of the art performance and was written in a custom ML framework, darknet.  EfficientDet did have the state of the art performance.  It was open source, supported by the author and a substantial community and written in TensorFlow (the framework I have the most experience with).  I decided to focus on EfficientDet.</p>

<h3 id="training-efficientdet">Training EfficientDet</h3>

<p>After fighting the usual fires trying to get a new model working (formatting the data the way the model wants it, difficulties getting the dependencies installed), I was able to finetune the smallest EfficientDet model.  The smallest EfficientDet, d0, is trained on <a href="http://cocodataset.org/#home">the standard COCO dataset</a>, on which it gets an AP of 33.8%.  Unfortunately, finetuning from that checkpoint on the Waymo dataset resulted in much worse performance.</p>

<p>I was able to apply a fact that I had previously learned working on self-driving car data - presenting the frames in order is really bad for performance.  I shuffled my input data better and got much improved performance.  I also changed the learning rate to match the (smaller) batch size that I was training at and got better performance still.  At this point I hit a wall at only 13% AP.  Waymo had preseeded the leaderboard with 2 dummy entries that had ~20% AP, so this clearly wasnâ€™t good enough.</p>

<p>I was training over a period of 10 epochs and the AP basically plateaued after the first 1 or 2 epochs.  I took a look at the code and found that EfficientDet uses a cosine decay rule, so I wondered whether my issue was that the learning rate was falling off too fast.  I switched it out for a constant learning rate, but it had roughly the same performance.  I also tried replacing the default SGD optimizer with an ADAM optimizer, which also had roughly the same performance.</p>

<p>At this point, the deficit versus the COCO AP score had me concerned there was a bug in my code, so I dumped an image with the modelâ€™s bounding boxes:</p>

<p><img src="https://lucassloan.github.io/assets/images/sky_boxes.jpg" alt="Sample model detections" title="Sample model detections"></p>

<p>Which made it clear that the model was basically learning, but it did have weird issues with boxes in the sky.  Interestingly, the equivalent boxes from the side cameras (with their different aspect ratio) didnâ€™t have the weird sky boxes.</p>

<p>I also wrote <a href="https://github.com/LucasSloan/waymochallenge/blob/master/dump_tfrecord.py">a tool to dump my tfrecords to json</a> so I could see if there was some obvious flaw in my tfrecord converter, but there wasnâ€™t any.</p>

<p>At this point, faced with consistently worse performance than the COCO dataset, I was concerned that my â€œfinetuningâ€ process was actually making the model worse at detecting things.  The COCO dataset has a bunch of categories that overlap with the Waymo dataset (car, truck -&gt; vehicle), so I was able to write a translation layer that converted the COCO labels to Waymo labels.  With the translation layer, I was able to see what the modelâ€™s performance was before finetuning.  EfficientDet d0, the one I was training, had an AP of 6% just mapping the COCO classes, but an AP of 13% after finetuning.  The middle EfficientDet (d4) had a mapped AP of 16% and the largest (d7) had a mapped AP of 19%.</p>

<p>I also took a look at the pictures that comprised the COCO dataset and discovered that the objects in it were usually much larger than the objects in the Waymo dataset.</p>

<p>Between these findings, it was pretty clear that:</p>

<ol>
  <li>Finetuning was working (6% -&gt; 13% AP)</li>
  <li>The Waymo dataset was much more challenging that the COCO dataset</li>
  <li>Larger models would perform better</li>
</ol>

<p>Unfortunately there were issues running larger models on the EfficientDet codebase.  It wasnâ€™t designed for multi-gpu training - I attempted to use <a href="https://www.tensorflow.org/api_docs/python/tf/distribute/Strategy">tf.distribute.Strategy</a> to parallelize the training, but some bug stopped it from working.  Another userâ€™s attempted workaround resulted in my model failing with an out of memory error.  More importantly, EfficientDet was originally designed for TPUs and had some bug that caused much more memory usage on GPU.  On TPUs, the largest model could be run with a batchsize of 4 per 16 gb node.  On GPUs even with a batchsize of 1, the medium model couldnâ€™t be trained.</p>

<p>At this point, the leaderboard had not only the Waymo dummy entries at 20% AP, but also some competitive scores at ~60% AP.  It seemed like I might be able to finetune a larger EfficientDet to beat the dummy entry scores, but I couldnâ€™t possibly put together a really competitive score.</p>

<h2 id="yolov4">YOLOv4</h2>

<p>Fortunately, at this point the <a href="https://arxiv.org/pdf/2004.10934.pdf">YOLOv4 paper</a> came out.  It promised better performance than EfficientDet and emphasized that it was trainable on commodity hardware.</p>

<p>Unfortunately, YOLOv4 isnâ€™t implemented in a standard framework like Tensorflow or Pytorch, itâ€™s implemented in a custom framework called <a href="https://github.com/AlexeyAB/darknet">DarkNet</a>.  Getting it working required learning about CMake and Make, fixing a bug that prevented it from compiling with half-precision support and painfully learning that Make doesnâ€™t natively take advantage of multi-core support.  It also takes in data as individual files, not optimized formats like tfrecord.  I was forced to move my data to my SSD to get full performance.</p>

<p>With all the setup difficulties sorted, I was able to train a YOLOv4 network with the recommended setup up.  I trained for several days and got a network with a performance of 34%!  That was much better than the 13% Iâ€™d gotten with EfficientDet.  Unfortunately, the default number that YOLO reports is the AP50 number, a less stringent test than the AP number that EfficientDet uses.  EfficientDet also reports the AP50 number, so I was able to guesstimate that my 34% would give me a true AP of around 20%.  That was maybe high enough to beat Waymoâ€™s dummy entries, but nowhere near high enough to be competitive.</p>

<p>However, at this point, I was basically out of ideas for how to get a truly competitive score.  Since the ~20% AP was the highest number I had yet gotten, I put together the code necessary to turn the YOLO predictions into the Waymo format and uploaded my validation predictions.  <strong>Their system informed me that I had a score of 44%!</strong></p>

<h2 id="back-to-efficientdet">Back to EfficientDet</h2>

<p>At this point, I knew that my pessimism about the performance of my models was wrong - the Waymo metric was way more forgiving than either of the metrics Iâ€™d been paying attention to.  Now the job was to build on the models I had in order to beat the fore-runners.  Of â€¦</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lucassloan.github.io/2020/07/03/waymo-challenge.html">https://lucassloan.github.io/2020/07/03/waymo-challenge.html</a></em></p>]]>
            </description>
            <link>https://lucassloan.github.io/2020/07/03/waymo-challenge.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749716</guid>
            <pubDate>Mon, 06 Jul 2020 16:45:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Code only says what it does]]>
            </title>
            <description>
<![CDATA[
Score 152 | Comments 107 (<a href="https://news.ycombinator.com/item?id=23749676">thread link</a>) | @mjb
<br/>
July 6, 2020 | http://brooker.co.za/blog/2020/06/23/code.html | <a href="https://web.archive.org/web/*/http://brooker.co.za/blog/2020/06/23/code.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">


<p>Only loosely related to what it should do.</p>


<p>Code says what it does. That's important for the computer, because code is the way that we ask the computer to do something. It's OK for humans, as long as we never have to modify or debug the code. As soon as we do, we have a problem. Fundamentally, debugging is an exercise in changing what a program does to match what it should do. It requires us to know what a program should do, which isn't captured in the code. Sometimes that's easy: What it does is crash, what it should do is <em>not crash</em>. Outside those trivial cases, discovering intent is harder.</p>

<p>Debugging when <em>should do</em> is subtle, such as when building distributed systems protocols, is especially difficult. In our <a href="https://www.usenix.org/conference/nsdi20/presentation/brooker">Millions of Tiny Databases</a> paper, we say:</p>

<blockquote><p>Our code reviews, simworld tests, and design meetings frequently referred back to the TLA+ models of our protocols to resolve ambiguities in Java code or written communication.</p></blockquote>

<p>The problem is that the implementation (in Physalia's case the Java code) is both an imperfect implementation of the protocol, and an overly-specific implementation of the protocol. It's overly-specific because it needs to be fully specified. Computers demand that, and no less, while the protocol itself has some leeway and wiggle room. It's also overly-specific because it has to address things like low-level performance concerns that the specification can't be bothered with.</p>

<p><em>Are those values in an ArrayList because order is actually important, or because O(1) random seeks are important, or some other reason? Was it just the easiest thing to write? What happens when I change it?</em></p>

<p>Business logic code, while lacking the cachet of distributed protocols, have even more of these kinds of problems. Code both over-specifies the business logic, and specifies it inaccurately. I was prompted to write this by a tweet from @mcclure111 where she hits the nail on the head:</p>

<blockquote data-conversation="none" data-dnt="true"><p lang="en" dir="ltr">Since most software doesn't have a formal spec, most software "is what it does", there's an incredible pressure to respect authorial intent when editing someone else's code. You don't know which quirks are load-bearing.</p>â€” mcc ğŸ³ï¸â€âš§ï¸ğŸ³ï¸â€ğŸŒˆ (@mcclure111) <a href="https://twitter.com/mcclure111/status/1274422600236765186?ref_src=twsrc%5Etfw">June 20, 2020</a></blockquote>




<p>This is a major problem with code: <em>You don't know which quirks are load-bearing.</em> You may remember, or be able to guess, or be able to puzzle it out from first principles, or not care, but all of those things are slow and error-prone. What can we do about it?</p>

<p><strong>Design Documentation</strong></p>

<p>Documentation is uncool. Most software engineers seem to come out of school thinking that documentation is below them (<em>tech writer work</em>), or some weird thing their SE professor talked about that is as archaic as Fortran. Part of this is understandable. My own software engineering courses emphasized painstakingly documenting the implementation in UML. No other mention of documentation was made. Re-writing software in UML helps basically nobody. I finished my degree thinking that documentation was unnecessary busywork. Even the <a href="https://agilemanifesto.org/">Agile Manifesto</a> agreed with me<sup><a href="#foot1">1</a></sup>:</p>

<blockquote><p>Working software over comprehensive documentation</p></blockquote>

<p>What I discovered later was that design documentation, encoding the intent and decisions made during developing a system, helps teams be successful in the short term, and people be successful in the long term. Freed from fitting everything in my head, emboldened by the confidence that I could rediscover forgotten facts later, I could move faster. The same applies to teams.</p>

<p>One thing I see successful teams doing is documenting not only the <em>what</em> and <em>why</em> behind their designs, but the <em>how they decided</em>. When it comes time to make changes to the systemâ€”either for debugging or in response to changing requirementsâ€”these documents are invaluable. It's hard to decide whether its safe to change something, when you don't know why it's like that in the first place. The record of how you decided is important because you are a flawed human, and understanding how you came to a decision is useful to know when that decision seems strange, or surprising.</p>

<p>This documentation process doesn't have to be heavyweight. You don't have to draw painstaking <a href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model">ER diagrams</a> unless you think they are helpful. You should probably ignore UML entirely. Instead, describe the system in prose as clearly and succinctly as you can. One place to start is by building an RFC template for your team, potentially inspired by one that you find on the web. <a href="https://static1.squarespace.com/static/56ab961ecbced617ccd2461e/t/5d792e5a4dac4074658ce64b/1568222810968/Squarespace+RFC+Template.pdf">SquareSpace</a>'s template seems reasonable. Some designs will fit well into that RFC format, other's won't. Prefer narrative writing where you can.</p>

<p>Then, keep the documents. Store them somewhere safe. Soak them in vinegar <a href="https://www.almanac.com/content/home-remedies-cough-relief">and tie them around your chest</a>. You're going to want to make sure that the people who need to maintain the system can find them. As they are spelunking through history, help them feel more like a library visitor and less like Lara Croft.</p>

<p>I'm not advocating for Big Design Up Front. Many of the most important things we learn about a project we learn during the implementation. Some of the most important things we learn years after the implementation is complete. Design documentation isn't a static one-time ahead-of-time deliverable, but an ongoing process. Most importantly, design documentation is not a commitment to bad ideas. If it's wrong, fix it and move forward. Documentation is not a deal with the devil.</p>

<p><strong>Comments</strong></p>

<p>Few topics invite a programmer flame war like comments. We're told that comments are silly, or childish, or make it hard to show how manly you are in writing that convoluted mess of code. If it was hard to write, it should be hard to read. After all, you're the James Joyce of code.</p>

<p>That silliness aside, back to @mcclure111's thread:</p>

<blockquote data-conversation="none" data-dnt="true"><p lang="en" dir="ltr">This means comments that *reveal* authorial intent are valuable, and comments that reveal *there was no authorial intent* are even more valuable. Without those hints, you're left editing superstitiously, preserving quirks even when you don't know why. <a href="https://t.co/YhvWnXjp9i">https://t.co/YhvWnXjp9i</a></p>â€” mcc ğŸ³ï¸â€âš§ï¸ğŸ³ï¸â€ğŸŒˆ (@mcclure111) <a href="https://twitter.com/mcclure111/status/1274422825831596039?ref_src=twsrc%5Etfw">June 20, 2020</a></blockquote>




<p>Comments allow us to encode <em>authorial intent</em> into our code in a way that programming languages don't always. Types, traits, interfaces, and variable names do put intent into code, but not completely (I see you, type system maximalists). These same things allow us to communicate a lack of intentâ€”consider <a href="https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html">RandomAccess</a> vs <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html">ArrayList</a>â€”but are also incomplete. Well-commented code should make the intent of the author clear, especially in cases where that intent is either lost in the translation to code, or where implementation constraints hide the intent of the design. Code comments that link back to design documents are especially useful.</p>

<p>Some languages need comments more than others. Some, like SQL, I find to nearly always obscure the intent of the design behind implementation details.</p>

<p><strong>Formal Specification</strong></p>

<p>In <a href="https://cacm.acm.org/magazines/2015/4/184705-who-builds-a-house-without-drawing-blueprints/fulltext">Who Builds a House Without Drawing Blueprints?</a> Leslie Lamport writes:</p>

<blockquote><p>The need for specifications follows from two observations. The first is that it is a good idea to think about what we are going to do before doing it, and as the cartoonist Guindon wrote: "Writing is nature's way of letting you know how sloppy your thinking is."</p>

<p>The second observation is that to write a good program, we need to think above the code level.</p></blockquote>

<p>I've found that specification, from informal specification with narrative writing to formal specification with TLA+, makes writing programs faster and helps reduce mistakes. As much as I like that article, I think Lamport misses a key part of the value of formal specification: it's a great communication tool. In developing some of the trickiest systems I've built, I've found that heavily-commented formal specifications are fantastically useful documentation. Specification languages are all about <em>intent</em>, and some make it easy to clearly separate intent from implementation.</p>

<p>Again, from our <a href="https://www.usenix.org/conference/nsdi20/presentation/brooker">Millions of Tiny Databases</a> paper:</p>

<blockquote><p>We use TLA+ extensively at Amazon, and it proved exceptionally useful in the development of Physalia.  Our team used TLA+ in three ways: writing specifications of our protocols to check that we understand them deeply, model checking specifications against correctness and liveness properties using the TLC model checker, and writing extensively commented TLA+ code to serve as the documentation of our distributed protocols. While all three of these uses added value, TLA+â€™s role as a sort of automatically tested (via TLC),and extremely precise, format for protocol documentation was perhaps the most useful.</p></blockquote>

<p>Formal specifications make excellent documentation. Like design docs, they aren't immutable artifacts, but a reflection of what we have learned about the problem.</p>

<p><strong> Conclusion </strong></p>

<p>Building long-lasting, maintainable, systems requires not only communicating with computers, but also communicating in space with other people, and in time with our future selves. Communicating, recording, and indexing the intent behind our designs is an important part of that picture. Make time for it, or regret it later.</p>

<p><strong>Footnotes</strong></p>

<ol>
<li><a name="foot1"></a> To be charitable to the Agile folks, <em>comprehensive</em> does seem to be load-bearing.</li>
</ol>


</div></div>]]>
            </description>
            <link>http://brooker.co.za/blog/2020/06/23/code.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749676</guid>
            <pubDate>Mon, 06 Jul 2020 16:41:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Concurrency Cost Hierarchy]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23749172">thread link</a>) | @benaadams
<br/>
July 6, 2020 | https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/concurrency-costs
assetpath: /assets/concurrency-costs
tablepath: /misc/tables/concurrency-costs
-->

<h2 id="introduction">Introduction</h2>

<p>Concurrency is hard to get <em>correct</em>, at least for those of us unlucky enough to be writing in languages which expose directly the guts of concurrent hardware: threads and shared memory. Getting concurrency correct <em>and</em> fast is hard, too. Your knowledge about single-threaded optimization often wonâ€™t help you: at a micro (instruction) level we canâ€™t simply apply the usual rules of Î¼ops, dependency chains, throughput limits, and so on. The rules are different.</p>

<p>If that first paragraph got your hopes up, this second one is here to dash them: Iâ€™m not actually going to do a deep dive into the very low level aspects of concurrent performance. There are a lot of things we just donâ€™t know about how atomic instructions and fences execute, and weâ€™ll save that for another day.</p>

<p>Instead, Iâ€™m going to describe a higher level taxonomy that I use to think about concurrent performance. Weâ€™ll group the performance of concurrent operations into six broad <em>levels</em> running from fast to slow, with each level differing from its neighbors by roughly an order of magnitude in performance.</p>

<p>I often find myself thinking in terms of these categories when I need high performance concurrency: what is the best level I can practically achieve for the given problem? Keeping the levels in mind is useful both during initial design (sometimes a small change in requirements or high level design can allow you to achieve a better level), and also while evaluating existing systems (to better understand existing performance and evaluate the path of least resistance to improvements).</p>

<h3 id="a-real-world-example">A â€œReal Worldâ€ Example</h3>

<p>I donâ€™t want this to be totally abstract, so we will use a real-world-if-you-squint<sup id="fnref:realworld"><a href="#fn:realworld">1</a></sup> running example throughout: safely incrementing an integer counter across threads. By <em>safely</em> I mean without losing increments, producing out-of-thin air values, frying your RAM or making more than a minor rip in space-time.</p>

<h3 id="source-and-results">Source and Results</h3>

<p>The source for every benchmark here is <a href="https://github.com/travisdowns/concurrency-hierarchy-bench">available</a>, so you can follow along and even reproduce the results or run the benchmarks on your own hardware. All of the results discussed here (and more) are available in the same repository, and each plot includes a <code>[data table]</code> link to the specific subset used to generate the plot.</p>

<h3 id="hardware">Hardware</h3>

<p>All of the performance results are provided for several different hardware platforms: Intel Skylake, Ice Lake, Amazon Graviton and Graviton 2. However except when I explicitly mention other hardware, the prose refers to the results on Skylake. Although the specific numbers vary, most of the qualitative relationships hold for the hardware too, but <em>not always</em>. Not only does the hardware vary, but the OS and library implementations will vary as well.</p>

<p>Itâ€™s almost inevitable that this will be used to compare across hardware (â€œwow, Graviton 2 sure kicks Graviton 1â€™s assâ€), but thatâ€™s not my goal here. The benchmarks are written primarily to tease apart the characteristics of the different levels, and <em>not</em> as a hardware shootout.</p>

<p>Find below the details of the hardware used:</p>

<table>
  <thead>
    <tr>
      <th>Micro-architecture</th>
      <th>ISA</th>
      <th>Model</th>
      <th>Tested Frequency</th>
      <th>Cores</th>
      <th>OS</th>
      <th>Instance Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Skylake</td>
      <td>x86</td>
      <td>i7-6700HQ</td>
      <td>2.6 GHz</td>
      <td>4</td>
      <td>Ubuntu 20.04</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Ice Lake</td>
      <td>x86</td>
      <td>i5-1035G4</td>
      <td>3.3 GHz</td>
      <td>4</td>
      <td>Ubuntu 19.10</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Graviton</td>
      <td>AArch64</td>
      <td>Cortex-A72</td>
      <td>2.3 GHz</td>
      <td>16</td>
      <td>Ubuntu 20.04</td>
      <td>a1.4xlarge</td>
    </tr>
    <tr>
      <td>Graviton 2</td>
      <td>AArch64</td>
      <td>Neoverse N1</td>
      <td>2.5 GHz</td>
      <td>16<sup id="fnref:g2cores"><a href="#fn:g2cores">2</a></sup></td>
      <td>Ubuntu 20.04</td>
      <td>c6g.4xlarge</td>
    </tr>
  </tbody>
</table>

<h2 id="level-2-contended-atomics">Level 2: Contended Atomics</h2>

<p>Youâ€™d probably expect this hierarchy to be introduced from fast to slow, or vice-versa, but weâ€™re all about defying expectations here and we are going to start in the <em>middle</em> and work our way outwards. The middle (rounding down) turns out to be <em>level 2</em> and thatâ€™s where we will jump in.</p>

<p>The most elementary way to safely modify any shared object is to use a lock. It mostly <em>just works</em> for any type of object, no matter its structure or the nature of the modifications. Almost any mainstream CPU from the last thirty years has some type of locking<sup id="fnref:parisc"><a href="#fn:parisc">3</a></sup> instruction accessible to userspace.</p>

<p>So our baseline increment implementation will use a simple mutex of type <code>T</code> to protect a plain integer variable:</p>

<div><div><pre><code><span>T</span> <span>lock</span><span>;</span>
<span>uint64_t</span> <span>counter</span><span>;</span>

<span>void</span> <span>bench</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>std</span><span>::</span><span>lock_guard</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>holder</span><span>(</span><span>lock</span><span>);</span>
        <span>counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Weâ€™ll call this implementation <em><abbr title="Uses a std::mutex and std::lock_guard to protect a plain integer counter.">mutex add</abbr></em>, and on my 4 CPU Skylake-S i7-6700HQ machine, when I use the vanilla <code>std::mutex</code> I get the following results for 2 to 4 threads:</p>



<p>The reported value is the median of all trials, and the vertical black error lines at the top of each bar indicate the <em>interdecile range</em>, i.e., the values at the 10th and 90th percentile. Where the error bars donâ€™t show up, it means there is no difference between the p10 and p90 values at all, at least within the limits of the reporting resolution (100 picoseconds).</p>

<p>This shows that the baseline contended cost to modify an integer protected by a lock starts at about 125 nanoseconds for two threads, and grows somewhat with increasing thread count.</p>

<p>I can already hear someone saying: <em>If you are just modifying a single 64-bit integer, skip the lock and just directly use the atomic operations that most ISAs support!</em></p>

<p>Sure, letâ€™s add a couple of variants that do that. The <code>std::atomic&lt;T&gt;</code> template makes this easy: we can wrap any type meeting some basic requirements and then manipulate it atomically. The easiest of all is to use <code>std::atomic&lt;uint64&gt;::operator++()</code><sup id="fnref:post"><a href="#fn:post">4</a></sup> and this gives us <em><abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>atomic_counter</span><span>{};</span>

<span>void</span> <span>atomic_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>atomic_counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The other common approach would be to use <a href="https://en.wikipedia.org/wiki/Compare-and-swap">compare and swap (<abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>)</a> to load the existing value, add one and then <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> it back if it hasnâ€™t changed. If it <em>has</em> changed, the increment raced with another thread and we try again.</p>

<p>Note that even if you use increment at the source level, the assembly might actually end up using <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> if your hardware doesnâ€™t support atomic increment<sup id="fnref:atomicsup"><a href="#fn:atomicsup">5</a></sup>, or if your compiler or runtime just donâ€™t take advantage of atomic operations even though they are available (e.g., see what even the newest version of <a href="https://godbolt.org/z/5h4K7y">icc does</a> for atomic increment, and what Java did for years<sup id="fnref:java"><a href="#fn:java">6</a></sup>). This caveat doesnâ€™t apply to any of our tested platforms, however.</p>

<p>Letâ€™s add a counter implementation that uses <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> as described above, and weâ€™ll call it <em><abbr title="Uses a CAS loop to increment a single shared counter.">cas add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>cas_counter</span><span>;</span>

<span>void</span> <span>cas_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>uint64_t</span> <span>v</span> <span>=</span> <span>cas_counter</span><span>.</span><span>load</span><span>();</span>
        <span>while</span> <span>(</span><span>!</span><span>cas_counter</span><span>.</span><span>compare_exchange_weak</span><span>(</span><span>v</span><span>,</span> <span>v</span> <span>+</span> <span>1</span><span>))</span>
            <span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Hereâ€™s what these look like alongside our existing <code>std::mutex</code> benchmark:</p>



<p>The first takeaway is that, at least in this <em>unrealistic maximum contention</em> benchmark, using <abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr> (<a href="https://www.felixcloutier.com/x86/xadd"><code>lock xadd</code></a> at the hardware level) is significantly better than <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>. The second would be that <code>std::mutex</code> doesnâ€™t come out looking all that bad on Skylake. It is only slightly worse than the <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> approach at 2 cores and beats it at 3 and 4 cores. It is slower than the atomic increment approach, but less than three times as slow and seems to be scaling in a reasonable way.</p>

<p>All of these operations are belong to <em>level 2</em> in the hierarchy. The primary characteristic of level 2 is that they make a <em>contended access</em> to a shared variable. This means that at a minimum, the line containing the data needs to move out to the caching agent that manages coherency<sup id="fnref:l3"><a href="#fn:l3">7</a></sup>, and then back up to the core that will receive ownership next. Thatâ€™s about 70 cycles minimum just for that operation<sup id="fnref:inter"><a href="#fn:inter">8</a></sup>.</p>

<p>Can it get slower? You bet it can. <em>Way</em> slower.</p>

<h3 id="level-3-system-calls">Level 3: System Calls</h3>

<p>The next level up (â€œupâ€ is not good hereâ€¦) is level 3. The key characteristic of implementations at this level is that they make a <em>system call on almost every operation</em>.</p>

<p>It is easy to write concurrency primitives that make a system call <em>unconditionally</em> (e.g., a lock which always tries to wake waiters via a <code>futex(2)</code> call, even if there arenâ€™t any), but we wonâ€™t look at those here. Rather weâ€™ll take a look at a case where the fast path is written to avoid a system call, but the design or way it is used implies that such a call usually happens anyway.</p>

<p>Specifically, we are going to look at some <em>fair locks</em>. Fair locks allow threads into the critical section in the same order they began waiting. That is, when the critical section becomes available, the thread that has been waiting the longest is given the chance to take it.</p>

<p>Sounds like a good idea, right? Sometimes yes, but as we will see it can have significant performance implications.</p>

<p>On the menu are three different fair locks.</p>

<p>The first is a <a href="https://en.wikipedia.org/wiki/Ticket_lock">ticket lock</a> with a <code>sched_yield</code> in the spin loop. The idea of the yield is to give other threads which may hold the lock time to run. This <code>yield()</code> approach is publicly frowned upon by concurrency experts<sup id="fnref:notwhat"><a href="#fn:notwhat">9</a></sup>, who then sometimes go right ahead and use it anyway.</p>

<p>We will call it <abbr title="A ticket lock that calls sched_yield in a spin loop while waiting for its turn.">ticket yield</abbr> and it looks like this:</p>



<div><div><pre><code><span>/**
 * A ticket lock which uses sched_yield() while waiting
 * for the ticket to be served.
 */</span>
<span>class</span> <span>ticket_yield</span> <span>{</span>
    <span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>size_t</span><span>&gt;</span> <span>dispenser</span><span>{},</span> <span>serving</span><span>{};</span>

<span>public:</span>
    <span>void</span> <span>lock</span><span>()</span> <span>{</span>
        <span>auto</span> <span>ticket</span> <span>=</span> <span>dispenser</span><span>.</span><span>fetch_add</span><span>(</span><span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_relaxed</span><span>);</span>

        <span>while</span> <span>(</span><span>ticket</span> <span>!=</span> <span>serving</span><span>.</span><span>load</span><span>(</span><span>std</span><span>::</span><span>memory_order_acquire</span><span>))</span>
            <span>sched_yield</span><span>();</span>
    <span>}</span>

    <span>void</span> <span>unlock</span><span>()</span> <span>{</span>
        <span>serving</span><span>.</span><span>store</span><span>(</span><span>serving</span><span>.</span><span>load</span><span>()</span> <span>+</span> <span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_release</span><span>);</span>
    <span>}</span>
<span>};</span>
</code></pre></div></div>

<p>Letâ€™s plot the performance results for this lock alongside the existing approaches:</p>



<p>This is level 3 visualized: it is an order of magnitude slower than the level 2 approaches. The slowdown comes from the <code>sched_yield</code> call: this is a system call and these are generally on the order of 100s of nanoseconds<sup id="fnref:spectre"><a href="#fn:spectre">10</a></sup>, and it shows in the results.</p>

<p>This lock <em>does</em> have a fast path where <code>sched_yield</code> isnâ€™t called: if the lock is available, no spinning occurs and <code>sched_yield</code> is never called. However, the combination of being a <em>fair</em> lock and the high contention in this test means that a lock convoy quickly forms (weâ€™ll describe this in more detail later) and so the spin loop is entered basically â€¦</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</a></em></p>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23749172</guid>
            <pubDate>Mon, 06 Jul 2020 15:53:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How I landed an interview almost every time I applied (as a developer)]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 6 (<a href="https://news.ycombinator.com/item?id=23748953">thread link</a>) | @yassinerajallah
<br/>
July 6, 2020 | https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/ | <a href="https://web.archive.org/web/*/https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Applying to startups, medium-big corps is a tedious task. The standard is to apply to 100+ companies and prepare 100+ programming problems. Does it have to be this hard? Short answer no. In fact, I applied to 30 companies and landed 25 interviews. And the good news is, it generally doesnâ€™t take more than 2 weeks to finish with all that interview process (of course it depends on the company)&nbsp;</span></p>
<p><span>Letâ€™s get started already. If you are applying to:</span></p>

<h4><span>Startup/Medium-Size Company:</span></h4>
<p><span>The hiring process depends on the company. More often than not, you talk to the CEO/CTO and are judged over your â€œcompatibilityâ€ with the workplaceâ€™s culture. Generally, the first interview is just to get to know you, your rate (please donâ€™t ask for a crazy salary if you are just starting out), and what you can bring to the ecosystem. At later stages, you are assigned a take-home project or a live coding interview.</span></p>
<p><span>Your responsibility depends on how much funding the startup has and its burn rate. The lesser the investment, the more critical your responsibility. It makes sense because the founder(s) canâ€™t hire another developer to help you out. And you probably have been hired because youâ€™re full-stack. You are also expected to have an â€œentrepreneurial mindsetâ€, you get the chance to make influential decisions. Itâ€™s important to know that you arenâ€™t a â€œcode monkeyâ€.Youâ€™ll need to make well-thought decisions for the sake of the startup.&nbsp;</span></p>
<p><b>To land an interview, your best bet is to reach out to the founders: </b><span>Skip sending your application through the website. Instead, craft your best looking, most personal, and professional email out there. You research the startup, research the founders, and link what they work on to your skills.&nbsp;</span></p>
<ul>
<li><span>Be careful of sounding too general â€œIâ€™m interested in your company, itâ€™s truly something the world needsâ€; Say what is special about it, if you have a question or 2, you can include them. But the main purpose is to show your interest.&nbsp;</span></li>
</ul>

<ul>
<li><span>Include your resume and make sure itâ€™s clean and spacious enough. No one wants to read a 2-page resume full of little details. The most important on the top, and shoot your shot, no time to waste.</span></li>
</ul>

<ul>
<li><span>Include a call to action at the end of your email â€œWould love to hear from you.â€&nbsp;</span></li>
</ul>

<ul>
<li><span>You are set! Youâ€™ll be amazed by the response rate. And the founders are friendlier than you might think.</span></li>
</ul>
<p><span>To find startups that match your profile, you can use: </span></p>
<p><a href="https://angel.co/"><span>angel.co</span></a></p>
<p><a href="https://www.workatastartup.com/"><span>workatastartup.com</span></a></p>



<h4><span>Big tech</span></h4>
<p><span>This one is tricky. The application portals are heavily advertised and probably everyone applies through them. Result? Your application goes unnoticed.&nbsp;</span></p>
<p><span>I wonâ€™t beat around the bush, you need a recommendation. Unless you are some high profile employee at company X, you wonâ€™t be noticed. Most people I know got in with a recommendation. This legacy system puts other applicants at a disadvantage in the resume screening process.&nbsp;</span></p>
<p><span>But how can you get a recommendation? </span><span>So far there are 2 ways.</span></p>

<p><strong>Your circle/network</strong></p>
<p><span>Start by asking people in your circle. Note that a recommendation helps you with skipping the screening process and thatâ€™s it. The rest is on you. Being hired totally depends on your skills from this point forward.</span></p>
<p><strong>Create a relationship</strong></p>
<p><span>If you are applying to big corp XYZ, chances are youâ€™re really interested in the company culture (salary aside). You can go on LinkedIn and connect with an employee from that company. Ideally, you want to stay in touch for months to come. A great way to do so is by asking questions!&nbsp; When you build this long term relationship, you can ask for a recommendation. Obviously, you donâ€™t want to talk to employees just because of the recommendation, be authentic!&nbsp;</span></p>

<p><span>This brings it to the end of this article. If you learned something new or want to connect shoot me an email ğŸ™‚ Until next time. Take care!</span></p>
<p><span>Ps: If you found this helpful, please consider sharing and subscribing. It helps keep the website alive. Thank you!</span></p>

			
			
</div></div>]]>
            </description>
            <link>https://devhypercharged.com/how-to-land-an-interview-almost-every-time-as-a-programmer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748953</guid>
            <pubDate>Mon, 06 Jul 2020 15:30:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Purely Functional, Statically Typed Effect System for Python]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23748773">thread link</a>) | @suned
<br/>
July 6, 2020 | https://pfun.readthedocs.io/en | <a href="https://web.archive.org/web/*/https://pfun.readthedocs.io/en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://pfun.readthedocs.io/en</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748773</guid>
            <pubDate>Mon, 06 Jul 2020 15:13:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon: The Company with a 100 CEOs Cannot Be Stopped]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23748686">thread link</a>) | @dsr12
<br/>
July 6, 2020 | https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html | <a href="https://web.archive.org/web/*/https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><div dir="ltr">

<h4>A company with a 100 CEOs can do anything.</h4>
<p>Amazon appears to be a unique success when it comes to not just the success it has achieved but the diversity of businesses it has succeeded inâ€Šâ€”â€Šfrom online retail to web services, and the march continues into many, many new lines of business.</p>
<p>Almost every large, successful company struggles with growing beyond its core business. Oracle is great at selling software, Salesforce is great at cloud CRM, Apple is great at selling devices and they do an okay to good job of selling products and services that are complimentaryâ€Šâ€”â€Šoften through the exact same distribution channel.</p>
<h4>The constraint is senior leadership bandwidth.</h4>
<p>If your CEO and executive leadership of the company need to be bought in before you can execute, as a business leader you have to now convince leaders who have great instincts for say a retail or ad business to grok an entirely new business model. This is not easy. Most companies fail here.</p>
<p>Google is a great exampleâ€Šâ€”â€Šitâ€™s done a great job of winning the online search market and almost anything that can be monetized using the same business modelâ€Šâ€”â€Šads. But when it tries to get into new businesses like grocery delivery, selling phones (Motorola &amp; now Pixel), robots that walk, cars that drive themselvesâ€Šâ€”â€Šit often appears to struggle on the goto-market and business side. Where it sets up clear business units with leaders it does well, YouTube under Susan Wojcicki being a great example.</p>
<h4 name="7d1e">What makes Amazon succeed where others struggle so&nbsp;hard?</h4>
<p>Amazon appears to be one company run well by Jeff Bezos and his direct reports like Andy Jassyâ€Šâ€”â€Šbut in reality Amazon has succeeded in building a culture of 100 CEOsâ€Šâ€”â€Šit hires, grooms, develops and builds â€œGeneral Managersâ€â€Šâ€”â€Šthere is literally over 100+ of them*.</p>
<h4>A company with a 100 CEOs can do anything.</h4>
<p>While many companies give GM like titles to their executives, they are often constrained by central planning of some sort. They pay what is known as the corporate <a data-href="https://stratechery.com/2013/the-uncanny-valley-of-a-functional-organization/" href="https://stratechery.com/2013/the-uncanny-valley-of-a-functional-organization/" rel="noopener noreferrer" target="_blank">strategy tax</a>. At a company like Oracle, I couldnâ€™t price product A if it would impact the profitability and revenue of (cash cow) product B. Every major successful company learns to protect its cash cowâ€Šâ€”â€Šand while this initially helps, often for decades, it eventually turns into a millstone around the neck of every business. Be it mainframes, databases, ERPs, ad revenue, or whatever.</p>
<figure name="b526"><img data-height="1354" data-image-id="1*uQtrDSN4gU64-spaJLGT_A.png" data-width="2546" src="https://www.anshublog.com/wp-content/uploads/2017/07/1-uQtrDSN4gU64-spaJLGT_A.png"><figcaption>100 Mini-Me&nbsp;CEOs</figcaption></figure>
<p>(Technically speaking, the titles at Amazon are a little mixed. Not all GMâ€™s lead businesses but many doâ€Šâ€”â€Šfrom Alexa to Redshift Analytics. But the business is structured around these BU leads some run all of India while some are growing new businesses like â€œlive videoâ€.)</p>
<h4 name="f879">Why canâ€™t every company declare 100&nbsp;CEOs?</h4>
<p>Companies often talk about agility and the desire to move faster and move decision making to the edge but they are not truly built for it.</p>
<h4>Amazon was built ground up on APIs and Categories</h4>
<p>Amazonâ€™s first foray into books meant when it entered new categories, it appointed GMs for new categories who ran them as businesses. Pretty close to how a brand manager at P&amp;G can make decisions around Tide.</p>
<p>But it was the key technological architectural decision of being API driven for every single (micro) service in the company that truly enabled <strong>Amazon to be a network of business unitsâ€Šâ€”â€Š</strong>interacting and doing business with each other with clear APIs and rules of engagement.</p>
<p>Companies like Google realize this and hence the move to Alphabet, and appointing a clear CEO of Google Cloud (Diane Greene) but its hard to retrofit this model unless you have practiced it and its deeply ingrained in your culture.</p>
<p>In some ways, GE was the original conglomerate with many businesses operating under leaders but they are big businesses.</p>
<blockquote name="100f"><p>Amazon grows BUâ€™s that look like startups from $0 to $100M and sometimes to $1B+ under GMâ€™s that literally start out with nothing more than an idea. Amazonâ€™s database business is one such example.</p></blockquote>
<p>As Amazon, welcomes its one more CEOâ€Šâ€”â€ŠMackey of Whole Foods, its good to remember that he joins a long list of executives at Amazon running billion dollar businesses, and there will be more grown internally, and acquired.</p>
</div>
<!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html"
    dc:identifier="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html"
    dc:title="Amazon: The Company with a 100 CEOs Cannot Be Stopped"
    trackback:ping="https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html/trackback" />
</rdf:RDF>-->
</div></article></div>]]>
            </description>
            <link>https://www.anshublog.com/2017/07/amazon-company-with-100-ceos-cannot-be.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748686</guid>
            <pubDate>Mon, 06 Jul 2020 15:05:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I made a macro keypad with 3D-printed switches]]>
            </title>
            <description>
<![CDATA[
Score 147 | Comments 35 (<a href="https://news.ycombinator.com/item?id=23748660">thread link</a>) | @jstanley
<br/>
July 6, 2020 | https://incoherency.co.uk/blog/stories/3pct-keyboard.html | <a href="https://web.archive.org/web/*/https://incoherency.co.uk/blog/stories/3pct-keyboard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h3>I made a macro keypad with 3d-printed switches</h3>
<p><i>Mon  6 July 2020</i></p>
<p><i>Tagged: <a href="https://incoherency.co.uk/blog/tags/electronics.html">electronics</a>, <a href="https://incoherency.co.uk/blog/tags/3dprinting.html">3dprinting</a></i></p>
<p>Latest on the 3d-printed keyboard switch project: I've reached a switch design that I think is probably reliable enough,
and I've put 3 of them together to form a macro keypad just to see how it all goes together before I commit to a
full keyboard. I don't have a number for how many presses the switch lasts, other than to say that
the motor on the testing machine stopped working before the switch did (after about 250,000 presses).</p>
<p><a href="https://img.incoherency.co.uk/2745"><img src="https://img.incoherency.co.uk/2745"></a></p>
<p>You can <a href="https://www.youtube.com/watch?v=uHkOPBxnLtM">watch my short demo video</a> if you want.</p>
<p>"80%" and "60%" keyboard layouts are quite popular, which are correspondingly reduced versions of a full keyboard layout.
I like to think of this keypad as a "3%" keyboard, it's fine as long as you only want to type "jes".</p>
<p><a href="https://img.incoherency.co.uk/2746"><img src="https://img.incoherency.co.uk/2746"></a></p>
<p>It's controlled by an Arduino Pro Micro. It's hard to tell from the pic because of the hot glue, but the switches are wired up to pins 2, 3, and 4, from
the other side of the board.</p>
<p>For the software side of it, I used the <a href="https://www.arduino.cc/reference/en/language/functions/usb/keyboard/">Arduino Keyboard library</a>,
using <a href="https://gist.github.com/jes/fe1aeb18457a06562516372684d1bd47">this quick and dirty Arduino code</a>.
Approximately all of the code is just related to the debounce logic.</p>
<p><a href="https://img.incoherency.co.uk/2748"><img src="https://img.incoherency.co.uk/2748"></a></p>
<p>The switches are printed in some generic no-name clear PETG.
The case and keycaps are printed in <a href="https://shop.prusa3d.com/en/prusament/711-prusament-pla-prusa-galaxy-black-1kg.html">Prusament Galaxy Black PLA</a>.
I'm a big fan of this filament. The glittery effect means the layer lines almost completely disappear. It's basically the same effect you get when printing with
carbon fibre-filled nylon, but with none of the difficulties of printing carbon fibre-filled nylon.</p>
<p>All of these parts, including the switches, were printed on my new <a href="https://www.prusa3d.com/original-prusa-mini/">Prusa Mini</a> printer, which arrived last week and I'm very pleased
with so far.</p>
<h2>Switches</h2>
<p>The problem with the switch design <a href="https://incoherency.co.uk/blog/stories/keyswitch-update.html">from last time</a> was that the copper tape was splitting apart, which prevents it from conducting along
its full length. I initially thought I had
solved this by applying a 2nd layer of copper tape, but that turned out not to be a workable solution. I did a bunch of tests of various combinations of 50% and 75% activation position, and 1 or 2 layers of copper
tape, and found no significant correlation between either of those 2 variables and how long the switch lasts. The switches lasted between 225 presses and 330,000 presses before
failure. 7 failed by the copper tape splitting, 2 failed by the PETG spiral spring breaking (both after more than 200,000 presses), and 1 didn't seem to have any broken parts, it just wasn't reliably working any more.</p>
<p>This is the CAD model of the latest design:</p>
<p><a href="https://img.incoherency.co.uk/2749"><img src="https://img.incoherency.co.uk/2749"></a></p>
<p>The "leaf spring" has that funny shape in its bend so that it can tilt easily, which ensures that it makes reliable contact with <i>both</i> contact wires, instead of
just the first one it happens to touch.</p>
<p>And here's a slow-motion video showing how it works (a slightly earlier iteration, but the same concept):</p>
<p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/peXFqVMugO4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Also, just for fun, I did some <a href="https://incoherency.co.uk/blog/stories/freecad-fea.html">FEA</a> on the spiral spring
design, and it behaved just like the real version:</p>
<p><a href="https://img.incoherency.co.uk/2724"><img src="https://img.incoherency.co.uk/2724"></a></p>
<p>The red areas show the areas of highest stress, and indeed the springs tend to break around
the middle of the spiral.</p>
<h2>Print your own</h2>
<p>I consider this a "release candidate" rather than a finished design, because there is still
some work to do on it (in particular, I want to make it a bit less tall). But you can have it if you want it.</p>
<p>You will need:</p>
<ul>
<li>FDM 3D printer (although I'd also be interested to see results from resin printers!)</li>
<li>PETG filament. You can try other materials. PLA works but makes for a heavier feel and breaks more quickly.</li>
<li>1.0 mm diameter copper wire, 90 mm length per switch should be more than enough</li>
</ul>
<p><a href="https://incoherency.co.uk/interest/3dpswitch-rc1.tar.gz">Download the STL files</a> and arrange them on the build plate something like this (you'll probably have to rotate the spiral spring):</p>
<p><a href="https://img.incoherency.co.uk/2750"><img src="https://img.incoherency.co.uk/2750"></a></p>
<p>I suggest printing more than 1 of the "leafspring" part as it is a small part quite likely to
have defects in the print. Make sure you're printing at
a fine enough quality level to include all the features. In particular, make sure (both) the spirals on
the spring are connected all the way around, and that the leaf spring is connected all the way
along. I use the "0.15mm QUALITY" setting in PrusaSlicer. You shouldn't need any support material.
You might need to enable "detect thin walls".</p>
<p>You might need to add up to -0.3mm of X/Y size compensation. I have found that when printing
this on the Prusa Mini, optimal clearance is achieved when the 3.0 mm plunger rides inside
a 3.0 mm hole. On previous printers I've owned, this wouldn't even fit together. I'm not sure
what's going on, but obviously I modeled it to print on my machine, so you might need to apply X/Y
compensation on yours.</p>
<p><b>Step 1:</b> Print the parts. It takes about 40 minutes for me.</p>
<p><b>Step 2:</b> Clean up any stringing inside the case from the PETG. I use a lighter to burn off the worst of it,
and then a Stanley knife to trim off what remains.</p>
<p><b>Step 3:</b> Examine the spiral spring and ensure that it moves freely. You might need to cut any
stringing between the spirals with a knife, or re-print with different X/Y compensation, depending on whether it is a few small
tight spots or bad clearance all the way along.</p>
<p><b>Step 4:</b> Slide the spiral spring into the shelf at the top of the case. The orientation is not
critical, I tend to slide it in with the smoothest sides against the case just to make life easy
for myself.</p>
<p><b>Step 5:</b> Push the plunger through the top hole in the case, through the hole in the spiral
spring, and through the middle hole in the case. Verify that it moves up and down freely and that
the spring reliably returns it to the top. If not, take it back out and trim the tight spots with
a knife.</p>
<p><b>Step 6:</b> Cut off about a 13mm length of the copper wire. Slide it into the hole in the
leaf spring. If you can't get it through, you might need to widen the hole with a pin or sharp tool of
some kind. Use whatever you have.</p>
<p><b>Step 7:</b> Press the plunger down slightly to expose the attachment end inside the lower
chamber of the switch. Using a small pair of pliers or tweezers, push the attachment part of the
leaf spring onto the end of the plunger. Make sure it is pushed home. Looking in the big hole
at the bottom of the case, you should see the leaf spring roughly centred. When you let go
of the plunger, the spiral spring should still be stretched out slightly. This is desired, without
this preload the switch would start moving at 0 force.</p>
<p><b>Step 8:</b> Cut off 2x roughly 35mm lengths of copper wire. Using a pair of pliers, put a bend about
5mm from
one end. Insert the non-bent end through 1 of the wire holes and out the other side. Bend the wire
down the other side, and then in whatever direction you want your contacts to point. Repeat for
the second wire.</p>
<p>You should now have something that looks a bit like this:</p>
<p><a href="https://img.incoherency.co.uk/2752"><img src="https://img.incoherency.co.uk/2752"></a></p>
<p>And that should be it! Manually press the switch a few times and visually verify that the middle
copper wire appears to be making good contact with the other 2 wires, and then you're ready to
assemble it into a circuit! If you want it mechanically attached to a PCB, you could leave a longer
length of wire coming out of the first side, and you'd then have 4 soldering points. Otherwise,
mount it inside a 14mm square hole. You'll probably need cut-outs in the corners to accommodate
the wires sticking out, like this:</p>
<p><a href="https://img.incoherency.co.uk/2753"><img src="https://img.incoherency.co.uk/2753"></a></p>
<p>If you make one (or more!) I'd be really interested to hear your opinion on what could be designed
better, and to see pictures of your results. Email me: <a href="mailto:james@incoherency.co.uk">james@incoherency.co.uk</a>.</p>
<h2>Next steps</h2>
<p>We're getting pretty close to being able to put together a finished keyboard. I still
have the following things to do:</p>
<h3>Testing</h3>
<p>It would be good to get an accurate value for the number of presses that the switches can take. I
think currently a lot of the variability comes from the height at which the switch is positioned
relative to the tester. If it's doing 0.1mm short of a full stroke, the switch is likely to last
significantly longer than if it is being hammered 0.1mm longer than a full stroke. This is hard to
configure as I have only very coarse control of the height.</p>
<p>I watched the Linus Tech Tips tours of <a href="https://www.youtube.com/watch?v=Pu1gP4PfqCQ">the
Cherry MX factory</a> and <a href="https://www.youtube.com/watch?v=9fNiJKh6q-E">the Omron factory</a>. They're both interesting and worth watching. I took a screenshot of this testing machine in the
Omron video:</p>
<p><a href="https://img.incoherency.co.uk/2712"><img src="https://img.incoherency.co.uk/2712"></a></p>
<p>So there we have a single motor raising a platform up and down which is pressing 10 switches
at once. The platform glides on a pair of linear rails, and the exact vertical position of the press
is finely adjusted with a separate screw for each switch. The moving platform also has
a spring at each end, I am not completely sure why, I think just to take up some of its weight, to
reduce the load on the motor.</p>
<p>But this is a much better way to gang-test switches than what I have at the moment, which involves
wiring up a separate motor for each switch and gets messy quickly:</p>
<p><a href="https://img.incoherency.co.uk/2755"><img src="https://img.incoherency.co.uk/2755"></a></p>
<p>I'm past the point where more testing is critical (famous last words, I know), but it would be good
to do anyway, so I'd like to make a small-scale copy of the Omron testing machine.</p>
<h3>Switches</h3>
<p>The switch fits in a 14mm square hole (apart from the protruding wires), which is the same size
as a Cherry MX switch, but the total height from the bottom of the switch to the top of the keycap
is almost twice as large, about 45 mm vs 25 mm:</p>
<p><a href="https://img.incoherency.co.uk/2757"><img src="https://img.incoherency.co.uk/2757"></a></p>
<p>This directly translates to increased keyboard height, so it would be good to cut this down
as much as possible. I should be able to lose 2 mm from the wire support at the bottom of the switch,
and another 1 or 2 mm in the height of the leaf spring attachment, but there's no way it's going to be
as thin as the Cherry MX.</p>
<p>I'd like to find a way to add a tactile bump (ideally with a clicky noise) to the motion of
the plunger. I did try simply adding a bump to the side of the casing that would catch on the
leaf spring, but it didn't work very reliably.</p>
<h3>Keycaps</h3>
<p>Currently my keycaps are based on the one I designed in <a href="https://incoherency.co.uk/blog/cad-dojo/stories/keycap.html">my
CAD Dojo project</a>. This is suboptimal for several reasons:</p>
<ol>
<li>adding text in FreeCAD is extremely time-consuming, and it can't be edited without deleting it â€¦</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://incoherency.co.uk/blog/stories/3pct-keyboard.html">https://incoherency.co.uk/blog/stories/3pct-keyboard.html</a></em></p>]]>
            </description>
            <link>https://incoherency.co.uk/blog/stories/3pct-keyboard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748660</guid>
            <pubDate>Mon, 06 Jul 2020 15:03:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Panic! Better, Fewer, Syntax Errors for LR Parsers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23748582">thread link</a>) | @matt_d
<br/>
July 6, 2020 | https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/ | <a href="https://web.archive.org/web/*/https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<p><strong>Abstract</strong>  
<span>Syntax errors are generally easy to fix for humans, but not for parsers in general nor LR parsers in</span>
<span>particular. Traditional â€˜panic modeâ€™ error recovery, though easy to implement and applicable to</span>
<span>any grammar, often leads to a cascading chain of errors that drown out the original. More</span>
<span>advanced error recovery techniques suffer less from this problem but have seen little practical use</span>
<span>because their typical performance was seen as poor, their worst case unbounded, and the</span>
<span>repairs they reported arbitrary. In this paper we introduce the </span><span>CPCT</span><span>+</span>  <span>algorithm, and an</span>
<span>implementation of that algorithm, that address these issues. First, </span><span>CPCT</span><span>+</span> <span>reports the complete set of</span>
<span>minimum cost repair sequences for a given location, allowing programmers to select the one that</span>
<span>best fits their intention. Second, on a corpus of 200,000 real-world syntactically invalid Java</span>
<span>programs, </span><span>CPCT</span><span>+</span>  <span>is able to repair 98.37%</span><span>Â±</span><span>0.017% </span><span>of files within a timeout of 0.5s. Finally,</span>
<span>CPCT</span><span>+</span> <span>uses the complete set of minimum cost repair sequences to reduce the cascading error</span>
<span>problem, where incorrect error recovery causes further spurious syntax errors to be identified.</span>
<span>Across the test corpus, </span><span>CPCT</span><span>+</span> <span>reports 435,812</span><span>Â±</span><span>473 </span><span>error locations to the user, reducing the</span>
<span>cascading error problem substantially relative to the 981,628</span><span>Â±</span><span>0 </span><span>error locations reported by panic</span>
<span>mode.</span>
</p>

<h3><span>1</span> <a id="x1-10001"></a>Introduction</h3>
<!--l. 131--><p>Programming is a humbling job which requires acknowledging that we will make untold errors in
our quest to perfect a program. Most troubling are semantic errors, where we intended the
program to do one thing, but it does another. Less troubling, but often no less irritating, are
syntax errors, which are generally minor deviances from the exacting syntax required by a
compiler. So common are syntax errors that parsers in modern compilers are designed to cope
with us making several: rather than stop on the first syntax error, they attempt to
<span>recover </span>from it. This allows them to report, and us to fix, all our syntax errors in one
go.
</p><!--l. 141--><p>When error recovery works well, it is a useful productivity gain. Unfortunately, most current
error recovery approaches are simplistic. The most common grammar-neutral approach to error
recovery are those algorithms described as â€˜panic modeâ€™ (e.g.&nbsp;[<a href="#Xholub90compilerdesign">13</a>, p.&nbsp;348]) which skip input until
the parser finds something it is able to parse. A more grammar-specific variation of this
idea is to skip input until a pre-determined synchronisation token (e.g. â€˜;â€™ in Java) is
reached&nbsp;[<a href="#Xdegano95comparison">8</a> , p.&nbsp;3], or to try inserting a single synchronisation token. Such strategies are
often unsuccessful, leading to a cascade of spurious syntax errors (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an
example). Programmers quickly learn that only the location of the first error in a file â€“ not
the reported repair, nor the location of subsequent errors â€“ can be relied upon to be
accurate.
</p>
                                                                            
                                                                            
<hr><div>
                                                                            
                                                                            
                                                                            
                                                                            
<div><div><table id="TBL-1"><colgroup id="TBL-1-1g"><col id="TBL-1-1"><col id="TBL-1-2"></colgroup><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1"> <!--l. 159--><!--l. 160--><p><span>(a)</span> </p> </td><td id="TBL-1-1-2"> <div><!--l. 166-->
<p><span><a id="x1-1002r1"></a></span><span>class</span><span>&nbsp;</span><span>C</span><span>&nbsp;</span><span>{</span><span>&nbsp;</span><br><span><a id="x1-1003r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1004r3"></a></span><span>}</span>
</p>
  </div>                         </td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1"> <!--l. 173--><!--l. 175--><p><span>(c)</span> </p></td><td id="TBL-1-2-2"> <div><!--l. 181-->
<p><span><a id="x1-1006r1"></a></span><span>Parsing</span><span>&nbsp;</span><span>error</span><span>&nbsp;</span><span>at</span><span>&nbsp;</span><span>line</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>col</span><span>&nbsp;</span><span>9.</span><span>&nbsp;</span><span>Repair</span><span>&nbsp;</span><br><span>
<a id="x1-1007r2"></a></span><span>sequences</span><span>&nbsp;</span><span>found</span><span>:</span><span>&nbsp;</span><br><span><a id="x1-1008r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>1:</span><span>&nbsp;</span><span>Delete</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><br><span>
<a id="x1-1009r4"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>2:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>,</span><span>&nbsp;</span><br><span><a id="x1-1010r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>3:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>=</span>
</p>
  </div>                         </td>
</tr></tbody></table></div>
</div><div><div><table id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"><col id="TBL-2-2"></colgroup><tbody><tr id="TBL-2-1-"><td id="TBL-2-1-1"> <!--l. 195--><!--l. 197--><p><span>(b)</span> </p> </td><td id="TBL-2-1-2"> <div><!--l. 203-->
<p><span><a id="x1-1012r1"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>â€™;â€™</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1013r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1014r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span><span>&nbsp;</span><br><span>
<a id="x1-1015r4"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>&lt;</span><span>identifier</span><span>&gt;</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1016r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1017r6"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span>
</p>
  </div>                           </td>
</tr></tbody></table></div></div><p><span>
<span>Figure</span><span>&nbsp;1:  </span></span><span><span>An example of a simple, common Java syntax error (</span><a href="#x1-1001r1"><span>a</span></a><span>) and the problems traditional</span>
<span>error recovery has in dealing with it. </span><span>javac </span><span>(</span><a href="#x1-1011r2"><span>b</span></a><span>) spots the error when it encounters â€˜</span><span>y</span><span>â€™. Its error</span>
<span>recovery algorithm then repairs the input by inserting a semicolon before â€˜</span><span>y</span><span>â€™ (i.e.</span><span>&nbsp;making the input</span>
<span>equivalent to â€˜</span><span>int x; y;</span><span>â€™). This then causes a spurious parsing error, since â€˜</span><span>y</span><span>â€™ on its own is not</span>
<span>a valid statement. The </span><span>CPCT</span><span>+</span>  <span>error recovery algorithm we introduce in this paper produces the</span>
<span>output shown in (</span><a href="#x1-1005r3"><span>c</span></a><span>): after spotting an error when parsing encounters â€˜</span><span>y</span><span>â€™, it uses the Java grammar</span>
<span>to find the complete  set  of  minimum  cost  repair  sequences  (unlike  previous  approaches  which</span>
<span>non-deterministically find one minimum cost repair sequence). In this case three repair sequences</span>
<span>are reported to the user: one can delete â€˜</span><span>y</span><span>â€™ entirely (â€˜</span><span>int x;</span><span>â€™), or insert a comma (â€˜</span><span>int x, y;</span><span>â€™), or</span>
<span>insert an equals sign (</span><span>â€˜int x = y;â€™</span><span>).</span>
</span></p><!--tex4ht:label?: x1-1018r1 -->
                                                                            
                                                                            
</div><hr>
<!--l. 233--><p>It is possible to hand-craft error recovery algorithms for a specific language. These
generally allow better recovery from errors, but are challenging to create. For example,
the Java error recovery approach in the Eclipse IDE is 5KLoC long, making it only
slightly smaller than a modern version of Berkeley Yacc â€” a complete parsing system!
Unsurprisingly, few real-world parsers contain effective hand-written error recovery
algorithms.
</p><!--l. 240--><p>Most of us are so used to these trade-offs (cheap generic algorithms and poor recovery
vs.&nbsp;expensive hand-written algorithms and reasonable recovery) that we assume them to be
inevitable. However, there is a long line of work on more advanced generic error recovery
algorithms. Probably the earliest such algorithm is Aho and Peterson&nbsp;[<a href="#Xaho72minimum">1</a>], which, upon
encountering an error, creates on-the-fly an alternative (possibly ambiguous) grammar which
allows the parser to recover. This algorithm has fallen out of favour in programming
language circles, probably because of its implementation complexity and the difficulty of
explaining to users what recovery has been used. A simpler family of algorithms, which
trace their roots to Fischer <span>et al.</span>&nbsp;[<a href="#Xfischer79locally">11</a>], instead try to find a single minimum cost <span>repair</span>
<span>sequence </span>of token insertions and deletions which allow the parser to recover. Algorithms in
this family are much better at recovering from errors than naive approaches and can
communicate the repairs they find in a way that humans can easily replicate. However, such
algorithms have seen little practical use because their typical performance is seen as
poor and their worst case unbounded [<a href="#Xmckenzie95error">17</a>, p.&nbsp;14]. We add a further complaint: such
approaches only report a single repair sequence to users. In general â€“ and especially in
syntactically rich languages â€“ there are multiple reasonable repair sequences for a given
error location, and the algorithm has no way of knowing which best matches the userâ€™s
intentions.
</p><!--l. 261--><p>In this paper we introduce a new error recovery algorithm in the Fischer <span>et al. </span>family, <span>CPCT</span><span>+</span>.
This takes the approach of Corchuelo <span>et al.</span>&nbsp;[<a href="#Xcorchuelo02repairing">5</a>] as a base, corrects it, expands it, and
optimises its implementation. <span>CPCT</span><span>+</span> is simple to implement (under 500 lines of Rust
code), is able to repair nearly all errors in reasonable time, reports the complete set of
minimum cost repair sequences to users, and does so in less time than Corchuelo <span>et</span>
<span>al.</span>.
</p><!--l. 269--><p>We validate <span>CPCT</span><span>+</span> on a corpus of 200,000 real, syntactically incorrect, Java programs
(Section&nbsp;<a href="#x1-140006">6<!--tex4ht:ref: experiment --></a>). <span>CPCT</span><span>+</span> is able to recover 98.37%<span>Â±</span><span>0.017% </span>of files within a 0.5s timeout and does so
while reporting fewer than half the error locations as a traditional panic mode algorithm: in other
words, <span>CPCT</span><span>+</span> substantially reduces the cascading error problem. We also show â€“ for, as far as we
know, the first time â€“ that advanced error recovery can be naturally added to a Yacc-esque
system, allowing users to make fine-grained decisions about what to do when error recovery has
been applied to an input (Section&nbsp;<a href="#x1-180007">7<!--tex4ht:ref: sec:api --></a>). We believe that this shows that algorithms such as <span>CPCT</span><span>+</span>
are ready for wider usage, either on their own, or as part of a multi-phase recovery
system.
</p>
<h4><span>1.1</span> <a id="x1-20001.1"></a>Defining the problem</h4>
<!--l. 285--><p>Formally speaking, we first test the following hypothesis:
</p><!--l. 287--><dl><dt>
<span>H1</span></dt><dd>The complete set of minimum cost repair sequences can be found in acceptable time.</dd></dl>
                                                                            
                                                                            
<!--l. 292--><p>The only work we are aware of with a similar concept of â€˜acceptable timeâ€™ is&nbsp;[<a href="#XdeJonge12natural">6</a>], who define it
as the total time spent in error recovery per file, with a threshold of 1s. We use that
definition with one change: Since many compilers are able to fully execute in less than 1s,
we felt that a tighter threshold is more appropriate: we use 0.5s since we think that
even the most demanding users will tolerate such a delay. We strongly validate this
hypothesis.
</p><!--l. 300--><p>The complete set of minimum cost repair sequences makes it more likely that the programmer
will see a repair sequence that matches their original intention (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an example;
Appendix&nbsp;<a href="#x1-28000A">A<!--tex4ht:ref: app:examples --></a> contains further examples in Java, Lua, and PHP). It also opens up a new
opportunity. Previous error recovery algorithms find a single repair sequence, apply that to the
input, and then continue parsing. While that repair sequence may have been a reasonable local
choice, it may cause cascading errors later. Since we have the complete set of minimum
cost repair sequences available, we can select from that set a repair sequence which
causes fewer cascading errors. We thus rank repair sequences by how far they allow
parsing to continue successfully (up to a threshold â€” parsing the whole file would, in
general, be too costly), and choose from the subset that gets furthest (note that the
time required to do this is included in the 0.5s timeout). We thus also test a second
hypothesis:
</p><!--l. 315--><dl><dt>
<span>H2</span></dt><dd>Ranking the complete set of minimum cost repair sequences by how far they allow
parsing to continue locally reduces the global cascading error problem.</dd></dl>
<!--l. 321--><p>We also strongly validate this hypothesis. We do this by comparing â€˜normalâ€™ <span>CPCT</span><span>+</span> with a
simple variant <span>CPCT</span><span>+</span><span>rev</span> which reverses the ranking process, always selecting from amongst the
worst â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</a></em></p>]]>
            </description>
            <link>https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748582</guid>
            <pubDate>Mon, 06 Jul 2020 14:56:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build to learn â€“ tame your shiny object syndrome]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 4 (<a href="https://news.ycombinator.com/item?id=23748435">thread link</a>) | @BartBoch
<br/>
July 6, 2020 | https://almostcake.com/buildToLearn.php | <a href="https://web.archive.org/web/*/https://almostcake.com/buildToLearn.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
                        It sounds simple, yet, it's challenging.<br>
<b>"Build to learn."</b><br>
It's a fantastic tool for chaotic minds.<br>
A way to benefit from your shortcomings.<br>
If you ever fell for the shiny object syndrome (chasing new cool thing, instead of focusing on the present project), then this is for you!
And the best part - you can turn it to your advantage!<br>
Turn it to build momentum, to become a better, wiser, fuller person.</p><p>

When you fell for the shiny, new, better idea, you could've gone through the guilt and growing anxiety for not finishing things.<br>
For some of us, this could end up in depression or/and quitting the whole "maker" realm.<br>
In this post, I will provide you a valid solution to make the most out of the shiny object syndrome. If you have it, at least you can get something positive out of it.<br>
The method, disguised under many names, sometimes called "build to learn," "build to fail," "ship to learn," is meant to make the most of your nature of jumping between the projects.<br>
It's also a way for you to grow as a builder and founder.</p><p>

I first started flirting with the idea independently - then, I found out that there is a micro-movement of sorts doing the same.<br>
Two main places are hubs for this, New York and Silicon Valley. Only there you could try to hack success and look for possible anomalies to benefit from, and still get support from your social circles!<br>
It's evident that financial capital (New York) is much less flexible about it (cross the border and you are gone) than Silicon Valley (cross the border, let's hire him, he might know something we don't).<br>
And then, culture and social conveniences are limiting this movement elsewhere, causing people to quit.<br>
Sadly - if you are from outside of those areas - how can you explain to people around that success is not your goal, and failure is acceptable?<br>
It's easy to treat people trying this method like fakes or daydreamers.<br>
When you go to college and spend 3-5 years learning, then you are a smart person.<br>
If you do the same, but in real life, you might be seen as an outsider.</p><p>

Let's get to the point, though!<br>
The idea is quite simple but might be tricky to pull it off.<br>
It's based on you abandoning the goal of achieving success while focusing on educational aspects.<br>
To create projects that you will stretch and experiment to gain knowledge with a slight chance of success.<br>
So next time you see great opportunity, instead of wondering how you can ride it to the top, wonder what you can get out of it short term.<br>
Will it give you more knowledge?<br>
If so, then how?<br>
Is it worth "educational" wise?<br>
Will you learn new tech/marketing/business knowledge that would be difficult to obtain otherwise?</p><p>

The worst part of working on a project and then quitting it is to get nothing from it.<br>
Sure, we can read a lot of post-mortems, but many say the same things. They ignore the whole process and often end up in a cliche, like "a startup doing exactly this opened at the same time."<br>
And how can you learn from reading the same things over and over?<br>
Going through the process while closely observing everything that happens is key to extensive experience.<br>
Practical knowledge always beats the theoretical.</p><p>

"Build to learn" is about being practical - using theory as a ground, and then build using practical knowledge.<br>
But instead of building a castle, or a palace, we create a set of small constructions first to learn the basics.<br>
Once we can handle the basics, we move to more advanced stuff.<br>
Sooner or later, we will be building the mentioned castles!<br>
If you think you might end up building dozens of projects in search of your success story, you might accept that instead of lying to yourself, and get the most of it.<br>
There is nothing worst than wasting your talents on something meaningful.<br>
Try to push forward; you might finally realize what your real goal is. What's behind your deepest intentions.</p><p>

"Build to learn" is meant to fuel your creativity, not to kill it.<br>
The first step of it is to put a clear goal:<br>
"I build this to learn."<br>
Assume that trophies and achievements are secondary goals.<br>
After all, every major player like Mark Zuckerberg, Steve Jobs, or Richard Branson started with small projects (sometimes failing), then used the knowledge to build something big!</p><p>

Force yourself to break your ego-infused box and look outside of it, to see what are real reasons for you to fail. Learn and keep trying to understand the events happening around you.<br>
You might find out the shortcomings that were unnoticeable!</p><p>

With this reasoning, don't be afraid to keep trying (as long as you won't bet everything on it). Fail, embrace the knowledge you get from it, grow your own self, and be a better person.<br>
Don't fall in the trap of glorifying the failures though - praise the experience instead.<br>
Don't build another shiny project to be the next unicorn company. When you are ready to make the next big thing, you'll know it (and feel it). There will be no guessing, no wondering (at least in the way you see now). There will be calculation and logic behind it.</p><p>

<b>"Experience is simply the name we give our mistakes."</b> - Oscar Wilde.</p><p>

World culture is critical of repeatable failure, even for a good cause.<br>
Fail once - at least you tried, fail twice - you are a fool.<br>
The social pressure is probably the most challenging part of this method.<br>
If success (or at least how people perceive success) is not achieved, you will be labeled as an outsider or even a loser.<br>
Missing a common goal (becoming wealthy) is perceived as an overall failure.<br>
You cannot really translate the perception of failure to make it look normal.<br>
You risk getting your close ones to be skeptical and even cynical of your journey. In extreme cases, I know situations where close circles would turn aggressive against the "rule breaker."<br>
The more "failures" you "achieve," the more negative the overall attitude of the society around you will be.<br>
It's not an easy road, but it's fruitful, to say the least.<br>
You can achieve a level of understanding, where you will see ALL the mechanics behind the money-making machinery.</p><p>

There are some risks when doing this method (as with everything).<br>
Do it for not long enough, and you can get overconfident and biased.<br>
Do it for longer than you should, and you will need months to get out from the trap of setting yourself impossible challenges.<br>
Out of around dozens of people following this method (that I knew directly that is, I assume there are thousands globally), only a few completed it.<br>
Some of them quit due to social pressure (even from their partners). They still got something out of it, and all but one run a small business now (they are unable to scale/grow though).<br>
The rest created profitable companies, often one of the key players in their industry.<br>
From the original group, I was the one that took the longest to complete the road. This is because of the opportunity given to me. My partner was studying, so I did not need to focus on sorting our life as of yet. And I felt that I needed to learn more (programming, viral growth) and to make sure that my ego is under control. I needed more time because my whole life was bumpy, and I thought that some scars could affect my business sense.<br>
I did miss a deadline, though, where I could complete this process without the substantial side-effects.<br>
I knew from conversations with others that by doing this method for too long, you would need to unwind. I thought it would take 2-3 months, but I am in my 9th month, and I feel that I need 2-3 more. Don't get me wrong, I still make money online, but focusing on a small project that's growing slowly is critical to prepare myself mentally for starting massive projects.<br>
I am working on <b>Almost <span>Cake</span></b>, which quickly turned into my full-time job.<br>
<b>Almost <span>Cake</span></b> is a reanimation of one of my old build-to-learn projects that performed well. This is another excellent part of this method - you have a set of field-tested projects, where some might prove to be moneymakers.</p><p>

It took me a few years, and over 30 projects completed to get where I am now, but as said, I did the extreme version of it.<br>
One of the guys that now run a massive operation did 4 "build to learn" projects and spent 1,5 year before he moved ahead (he had some business background though).<br>
Another person with no business experience and with no business-oriented parents completed it with 7 projects and 3 years. He now runs a company that's one of the USA's leading players in his niche.<br>
So, it's hard to say how long you need this run, but the timeframe should not be of the importance here.<br>
The whole point of this method is to tame yourself and start getting somewhere with yourself.</p><p>

The key concerns of "build to learn" are:<br>
-Can you finish the project before you get bored of it? Don't invest in long term projects, when you have a track of abandoning them. You don't need to ship the product or make thousands of dollars. Focus on your initial goals first.<br>
-Can you determine small goals before starting to work on the product? Can you identify a few realistic things you want to get out of this project?<br>
-Will working on this project help you to move forward in a space you want to? If you will learn things you don't feel you need, then maybe it's better to focus elsewhere for now.<br>
-Do you really need to work on the project, or should you turn around and do something completely different? Something that is far beyond your comfort zone?<br>
-Do you have significant chances of achieving your goals with this project? Try not to pursue goals that you assume you will fail. You need to take care of your mental health and not put to much strain on it.</p><p>

Using the "build to learn" method should not become an excuse for you failing to ship. Either you build to learn, or you build to achieve something. You should never go in the middle of the project and say, "just kidding, I was doing it to learn."</p><p>

Sure, if you are already in the middle of the project, then change your goals. But don't do this for future â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://almostcake.com/buildToLearn.php">https://almostcake.com/buildToLearn.php</a></em></p>]]>
            </description>
            <link>https://almostcake.com/buildToLearn.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748435</guid>
            <pubDate>Mon, 06 Jul 2020 14:44:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Addio Redis, I'm leaving Redis Labs]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23748190">thread link</a>) | @kristoff_it
<br/>
July 6, 2020 | https://kristoff.it/blog/addio-redis/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/addio-redis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Thanks Antirez for the code, the Redis manifesto, and for the free karma especially.</p><div><p>Last week I resigned from my position as developer advocate at Redis Labs.</p>
<p>Iâ€™ve never talked much about Redis on this blog because I made a point of trying to write interesting posts about different topics, and also to avoid any form of conflict of interest: I didnâ€™t want people to think this blog was being used as a marketing outlet by Redis Labs.</p>
<p>Now that Iâ€™m not with the company anymore, Iâ€™m looking forward to sharing some of my thoughts on open-source software and related topics, using the direct and energetic tone that I always employ here. </p>
<p>This was the first job I took that wasnâ€™t strictly about programming. It taught me a lot about communication, how information flows between groups of people, and how companies try to shape that flow.</p>
<p>While Redis Labs as a company isnâ€™t perfect â€” I wouldnâ€™t have left otherwise, and it wouldnâ€™t have hired me in the first place, as Iâ€™m not perfect either â€” Iâ€™m happy with my experience overall. The one regret I have is that my position was in part meant to help the community better understand Redis, and Iâ€™m leaving behind me basically the same level of confusion that was there when I joined 1.5 years ago.</p>
<p>Redis is less obvious to describe than other tools in the same space, but that alone is not enough to explain why no one seems to agree on what Redis is good at, or what even is Redis. To me, the current situation seems caused by an ongoing turf war between tech companies, starting from the direct competitors of Redis Labs, up to the Cloud giants, who see themselves as the ultimate gatekeepers of modern software architecture.</p>
<p>Each of these factions wants Redis to be a different thing, and so they spend their budget accordingly, starting from developer advocates like me, up to de-facto astroturfers that Iâ€™ll leave unnamed. While you and I, dear reader, are surely immune to marketing and scummy tactics, those techniques do work wonders on the public, and the strength of true statements is only used as a way of making marketing spend more efficient.</p>
<p>This is where I imagined I would spell out my take on Redis, but <a href="http://antirez.com/news/133" target="_blank" rel="nofollow noopener noreferrer">now that Antirez has left the project</a>, it doesnâ€™t matter anymore. Whatever Redis is going to be in the future, it will be shaped by sales tactics, whatever the Clouds are going to do next, and other uninspired metrics.</p>
<p>Since this is my goodbye post to Redis, let me add an over-the-top Italian skit before jumping into the lessons learned.</p>
<h2 id="if-redis-were-pasta"><a href="#if-redis-were-pasta" aria-label="if redis were pasta permalink"></a>If Redis were pasta</h2>
<p>If Redis were pasta, it would be served in a restaurant called Salvatoreâ€™s. It would be a plate of spaghetti with tomato sauce and a single leaf of basil on top; basically the Italian symbol for a simple, versatile meal. </p>
<p>Big tech would be like McDonaldâ€™s and Burger King: convinced that the future of nutrition is fast-food and constantly screaming that Redis canâ€™t be considered a real meal as it doesnâ€™t contain any bacon: â€œCome eat our new burger, which now contains an extra 4th layer of meat, exquisitely designed to make it easier to digest the meal!â€</p>
<p>On a table you would find Jepsen, essentially the equivalent of Yelp, ideally meant to keep restaurants honest, generally correct, but ultimately not that different from other tech companies, and thus well deserving of <a href="https://www.youtube.com/watch?v=pDlR_ccnZww" target="_blank" rel="nofollow noopener noreferrer">boogers and cum</a>.</p>
<p>Antirez, largely preferring cooking over serving, would end up selling the restaurant to the waiters, who at that point would make their priority to turn the restaurant into an Olive Garden.</p>
<h2 id="lessons-learned"><a href="#lessons-learned" aria-label="lessons learned permalink"></a>Lessons learned</h2>
<p>So whereâ€™s the Redis community in this story? Well, those are just the silent, mostly anonymous regulars that come, eat, and then go on with their lives. </p>
<p>Itâ€™s the people that occasionally show up on HN and point out that theyâ€™re happy with what Redis does for them, and that they rarely think about it even, as the software tends to chug along nicely. As much as I sympathize with them, the ultimate lesson I learned is that a passive community will inevitably lead to the death of a project.</p>
<p>While the â€œ<a href="https://news.ycombinator.com/item?id=23690123" target="_blank" rel="nofollow noopener noreferrer">spontaneus software</a>â€ world is busy infighting, big tech is systematically strip-mining it of any value, even when 99% of the value gets lost in the process. Tech companies are willing to go to any length to capture that 1%, and over time have learned to use Free software arguments against Free software itself, to ensure nobody would stop them.</p>
<p>The future of what we call today open-source software needs to learn to be in equal parts principled and pragmatic. The principles of human spontaneity must be preserved, to ensure we donâ€™t turn in yet another fast-food chain, but we must understand that sophisticated ethical arguments require an equally sophisticated infrastructure beneath them, as without the latter the former canâ€™t materialize into reality.</p>
<p>We need to keep our communities as much as possible engaged and invested in the success of our projects. The flow of information must be kept open and at high pressure, to ensure that our values and goals are well-understood by the majority of the community. Failing to do that means becoming servants of large donors and opening the community to all kinds of manipulations.</p>
<p>We need to reinvent the way we approach spontaneous collaboration in software and we must understand that itâ€™s not going to be a peaceful process. Maybe itâ€™s my native-american blood talking, but I feel Iâ€™m ready to get up close and personal with the world I dealt with for the last 1.5 years, except this time I wonâ€™t be wearing formal attire.</p>
<p><strong>Iâ€™m joining the Zig Software Foundation as VP of Community and itâ€™s going to be my honor and pleasure to try to make all of this a reality for at least one project.</strong> If you want to follow us on this journey, <a href="https://zig.show/" target="_blank" rel="nofollow noopener noreferrer">join us Saturday 11th on Twitch for the live announcement and first fundraising</a>. Itâ€™s going to be fun and, if we hit the corresponding donation goal, I will reveal my (until now) secret recipe for a nice summer pasta. Not as simple as Salvatoreâ€™s, but pretty good nevertheless.</p>
<p>You can find more info at <a href="https://zig.show/" target="_blank" rel="nofollow noopener noreferrer">https://zig.show</a>.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f5e3c/IMG_5653.webp 100w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f2fbe/IMG_5653.webp 200w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/e227a/IMG_5653.webp 400w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/965c5/IMG_5653.webp 600w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/0cbce/IMG_5653.webp 800w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/34ef4/IMG_5653.webp 1920w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/5fb09/IMG_5653.jpg 100w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f544b/IMG_5653.jpg 200w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg 400w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/82472/IMG_5653.jpg 600w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/a296c/IMG_5653.jpg 800w,
https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg 1920w" sizes="(max-width: 400px) 100vw, 400px" type="image/jpeg">
        <img src="https://kristoff.it/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg" alt="A photo I took at the last AWS reinvent." title="Fuck you AWS.">
      </picture>
  </a>
    </span>
    <figcaption>Fuck you AWS.</figcaption>
  </figure></div></div>]]>
            </description>
            <link>https://kristoff.it/blog/addio-redis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23748190</guid>
            <pubDate>Mon, 06 Jul 2020 14:23:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is Berkshire Hathaway sitting on $137B in cash?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23747918">thread link</a>) | @sunnykgupta
<br/>
July 6, 2020 | https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/ | <a href="https://web.archive.org/web/*/https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
<p>Think finance and Mr. Buffet is one of the first names that comes to mind. Warren Buffet has had humble beginnings, his life changed drastically with an impulsive takeover of the Berkshire Hathaway Inc.</p>



<p>If you arenâ€™t aware of the history behind Buffetâ€™s reasoning behind acquiring Berkshire, it is worth reading and marvelling over.</p>



<p>Over the course of next few decades, Warren Buffet went on to take the company to new highs. In 2019, the company reported having more than 817 Billion USD in assets. </p>



<p>The most surprising part for avid investors though, has been the fact that Berkshire Hathaway has north of $137 Billion in cash and cash reserves!</p>



<p>That is a lot of cash to keep in had, especially when the markets seem to be going up. Most recently in May 2020, they exited almost all their holdings in the airline industry netting them about $6 Billion.</p>



<p>Does that mean Berkshire thinks the markets are overvalues and hyped at the moment? It is not very clear.</p>



<p><strong>UPDATE:</strong> As we were about to publish this article, we got a notification about <a href="https://eachlist.com/buffets-10-billion-bet-on-dominion-energy-inc/">Berkshireâ€™s largest deal in 4 years â€“ the $10 Billion bet on Dominion Energy.</a></p>

</div></div>]]>
            </description>
            <link>https://eachlist.com/why-is-berkshire-hathaway-sitting-on-137-billion-in-cash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747918</guid>
            <pubDate>Mon, 06 Jul 2020 14:01:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Pyret Code; or a Rationale for the Pyret Programming Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23747849">thread link</a>) | @todsacerdoti
<br/>
July 6, 2020 | http://pyret.org/pyret-code/index.html | <a href="https://web.archive.org/web/*/http://pyret.org/pyret-code/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <!-- Main column -->
        <div id="content">






          <div>
          
          <div>

          

          <p>We need better languages for introductory computing. A good introductory language makes good compromises between expressiveness and performance, and between simplicity and feature-richness. Pyret is our evolving experiment in this space.</p>

          <h3 id="why-not-just-use-java-python-racket-ocaml-or-haskell">Why not just use Java, Python, Racket, OCaml, or Haskell?</h3>

          <p>One of the enduring lessons from the Racket project is that <em>no full-blown, general-purpose programming language</em> is particularly appropriate for introductory education. By the time a language grows to be useful for building large-scale systems, it tends to have accumulated too many warts, odd corners, and complex features, all of which trip up students. The <a href="http://cs.brown.edu/~sk/Publications/Papers/Published/fffkf-drscheme-journal/">journal paper for DrScheme</a>  (the old name for DrRacket) explains this in some detail.</p>

          <p>In that respect, the closest fellow travelers of us Pyreteers are the Racketeers (see how that works?). In fact, the first version of Pyret was merely a <code>#lang</code> in Racket. Nevertheless, Pyret represents a departure from Racket (for now and for the near future, at least) for several reasons:</p>

          <ul>
           <li>
            <p>We wanted to experiment with syntax. Much as many of us love  parentheses, we fear that Racket will always bump into an acceptance  threshold due to its syntax. Weâ€™re delighted to see the growing  adoption in industry of languages like Racket and Clojure, and maybe  the days of paren-phobia are over. But academics are far more  hidebound than industrial programmers!</p></li>
           <li>
            <p>We wanted to build a really great run-time system for the Web browser. Going through Racket and  <a href="http://cs.brown.edu/~sk/Publications/Papers/Published/yk-whalesong-racket-browser/">Whalesong</a>  proved to be a non-starter in terms of performance, and Racket has  many features that make an efficient implementation on todayâ€™s  JavaScript very hard. Building a native JavaScript implementation  was the only option we could see. Over time, as technology changes,  this could change.</p></li>
           <li>
            <p>Though our pedagogy draws from and is very similar to that of the  Racketeers, it also diverges in some ways, reflecting the somewhat  different backgrounds and preferences of team. Pyret embodies <em>our</em>  educational philosophy. We felt we could more easily experiment if  we had a clean-slate design than if we had to keep fitting our work  into the constraints of Racket.</p></li>
           <li>
            <p>Ultimately, Racketâ€™s <code>#lang</code> facilities, though designed to create  new languagesâ€”and a great prototyping ground for Pyretâ€”proved to not  be quite enough to support a language creation process of the scale  of Pyret; and the need for a strong Web run-time system also meant  that we did not get enough out of the Racket ecosystem.  Nevertheless, that only represents the state of systems today; if  someday the two grew closer together, many or all of us would  rejoice.</p></li></ul>

          <h3 id="will-pyret-ever-be-a-full-fledged-programming-language">Will Pyret ever be a full-fledged programming language?</h3>

          <p>Yes.</p>

          <p>First of all, Pyret is much more powerful than you might realize. Pyret is already fully-fledged enough to self-host its compiler, which is a non-trivial and realistic challenge. What that means is, when you run Pyret in your browser, it loads JavaScript code that implements a Pyret-to-JavaScript compiler (i.e., it compiles the Pyret you type into JavaScript and runs it in the browser). This compiler was produced by the Pyret-to-JavaScript compiler by compiling the Pyret-to-JavaScript compiler. Take a look at the compilerâ€™s <a href="https://github.com/brownplt/pyret-lang/">bootstrapping phases</a> to get a sense of its sophistication.</p>

          <p>Second, underneath Pyret is a very powerful run-time system based on over a decade of research. You donâ€™t see it as a user of the language, and thatâ€™s the point. Many other languages expose the crippling limitations of JavaScriptâ€™s run-time to users (e.g., canâ€™t halt a long-running computation, canâ€™t yield control to the event loop, etc.). These languages effectively let <em>the medium become part of the message</em>, whereas we believe programmers â€” especially early-stage student programmers â€” should not have to confront these complexities, which are irrelevant to (and often significantly interfere with) the material they are trying to learn. Imagine if other languages said, â€œWeâ€™d love to give you function calls, but your machineâ€™s instruction set doesnâ€™t contain them, so we canâ€™t â€” sorry!â€ Yet they do the equivalent when it comes to giving you control over your computation on top of JavaScript. In contrast, Pyret is uncompromising.</p>

          <p>Third, if you want to teach a media-rich curriculum, you actually need a pretty full-featured language at least under the hood. For instance, Pyretâ€™s built-in support for reactive programming requires a much more sophisticated run-time system â€” and corresponding language features â€” than one that didnâ€™t offer this at all or just punted to JavaScript for this support. (Essentially, event-loops are first-class entities in the language.) We just havenâ€™t emphasized these features when talking about Pyret, focusing instead on the curriculum they support.</p>

          <p>Broadly, we view <em>building an awesome teaching language</em> as a useful design discipline that necessarily entails all the features typically expected of a mature language. When building a language, youâ€™re constantly confronted with questions: what to do next, how to do it, and whether to do it at all. Language designers therefore need a mental framework that guides their choices. For some, it might be â€œBuild an awesome language for shared-memory concurrency!â€ For others it might be â€œBuild an awesome language for writing scientific computations very, very concisely!â€ For us, itâ€™s â€œBuild an awesome teaching language!â€ So whenever weâ€™re confronted with a design (or implementation) choice, we first ask how it would play out <em>in this specific context</em>. Then we ask how it would impact our long-term goal. We have yet to find actual contradictions between the two, but itâ€™s certainly re-ordered priorities.</p>

          <h3 id="there-are-lots-of-kinds-of-education">There are lots of kinds of â€œeducationâ€.</h3>

          <p>Thatâ€™s right. We are focused on introductory programming education at a high-school and collegiate level â€” what is often called â€œCS 1â€ and â€œCS 2â€ (roughly, the first year of college). Pyret is being actively <em>used</em> in everything from high-schools to upper-level collegiate courses, giving us a tight feedback loop.</p>

          <p>Of course, even in that setting there are differences of opinion about what needs to be taught. Some believe inheritance is so important it should be taught early in the first semester. We utterly reject this belief (as someone once wisely said, â€œobject-oriented programming does not scale downâ€: what is the point of teaching classes and inheritance when students have not yet done anything interesting enough to encapsulate or inherit from?). Some have gone so far as to start teaching with Turing Machines. Unsurprisingly, we reject this view as well.</p>

          <p>What we do not take a dogmatic stance on is exactly how early state and types should be introduced. Pyret has the usual stateful operations. We discussed this at some length, but eventually decided an introduction to programming <em>must</em> teach state. Pyret also has optional annotations, so different instructors can, depending on their preference, introduce types at different times.</p>

          <h3 id="what-are-some-ways-the-educational-philosophy-influences-the-language">What are some ways the educational philosophy influences the language?</h3>

          <p>Pyret is driven by the <a href="http://www.htdp.org/"><em>How to Design Programs</em></a> (HtDP) philosophy of programming education; one could almost view it as a language designed to make teaching from HtDP comfortable. However, we also have our own curricular ideas that extend or run parallel to those of HtDP, which we are steadily writing up in <a href="http://papl.cs.brown.edu/"><em>Programming and Programming Languages</em></a> (PAPL). PAPL both exclusively uses Pyret and is slowly turning into a definitive book for teaching with it.</p>

          <p>Some of our central ideas include:</p>

          <ul>
           <li>
            <p>Languages should offer a rich set of values. For instance, images  should be primitive values, fully supported by the environment. This  improves the teaching of several things, from image-based  composition exercises (which are often far more interesting than  composition over numbers) to animations and games.</p></li>
           <li>
            <p>Languages should offer syntactic support for as much as possible of  the HtDP design recipe. (Pyret does not offer explicit support for  templates, but then again weâ€™re rethinking the pedagogy of the  template step.)</p></li>
           <li>
            <p>Design recipe support includes good data definition primitives, including  the expression of invariants. Therefore, Pyret has support for refinements  (which are currently checked dynamically; a future version may add static  support, but this is not our highest priority). In particular, by allowing  algebraic datatypes to also be objects, Pyret offers significant flexibility  and expressiveness.</p></li>
           <li>
            <p>Students should be able to easily write examples as a precursor to  writing code. In this regard, Pyret borrows but (we believe) syntactically  improves upon Racketâ€™s <code>check-expect</code> family of operations with <a href="https://www.pyret.org/docs/latest/testing.html">examples and  testing</a>.</p></li>
           <li>
            <p>Students should easily be able to escalate from simple examples to  sophisticated testing, such as writing test oracles.</p></li>
           <li>
            <p>Equality is subtle and languages should respect its nuances.  Students must understand the meaning of equality and its  consequences, especially with regard to observations in the presence  of state. Therefore, Pyret has carefully developed  <a href="https://www.pyret.org/docs/latest/equality.html">equality primitives</a>.</p></li></ul>

          <h3 id="is-pyret-also-a-research-project">Is Pyret also a research project?</h3>

          <p>Yes and no.</p>

          <p>Yes in that, broadly speaking, we view what we are doing as very much a research effort. We have specific, novel goals in mind (some of which weâ€™ve described elsewhere in this document), and finding good solutions to achieve those goals will require innovation. This is the very essence of research. Some of that research is on the curricular side, though, and may not require any language innovation. Indeed, as much as possible we want â€¦</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://pyret.org/pyret-code/index.html">http://pyret.org/pyret-code/index.html</a></em></p>]]>
            </description>
            <link>http://pyret.org/pyret-code/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747849</guid>
            <pubDate>Mon, 06 Jul 2020 13:54:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[H.266/Versatile Video Coding (VVC)]]>
            </title>
            <description>
<![CDATA[
Score 434 | Comments 382 (<a href="https://news.ycombinator.com/item?id=23747626">thread link</a>) | @caution
<br/>
July 6, 2020 | https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1 | <a href="https://web.archive.org/web/*/https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://newsletter.fraunhofer.de/-viewonline2/17386/465/11/14SHcBTt/V44RELLZBp/1</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747626</guid>
            <pubDate>Mon, 06 Jul 2020 13:28:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How I Built HelioHex]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23747596">thread link</a>) | @vb42
<br/>
July 6, 2020 | https://vinaybhaip.com/blog/2020/07/05/heliohex | <a href="https://web.archive.org/web/*/https://vinaybhaip.com/blog/2020/07/05/heliohex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <!--more-->

<p><em>TLDR: I built HelioHex: a highly-configurable, modular, hexagon-based lighting system from scratch that is controllable from any device and syncs to Spotify.</em></p>

<h2 id="table-of-contents">Table of Contents</h2>
<ol>
  <li><a href="#inspiration">Inspiration</a></li>
  <li><a href="#research">Research</a></li>
  <li><a href="#vision">Vision</a></li>
  <li><a href="#construction">Construction</a>
    <ol>
      <li><a href="#materials">Materials</a></li>
      <li><a href="#wooden-frames">Wooden Frames</a></li>
      <li><a href="#light-diffusion">Light Diffusion</a></li>
    </ol>
  </li>
  <li><a href="#electronics">Electronics</a>
    <ol>
      <li><a href="#wiring-lights">Wiring Lights</a></li>
      <li><a href="#supplying-current">Supplying Current</a></li>
      <li><a href="#extending-wires">Extending Wires</a></li>
    </ol>
  </li>
  <li><a href="#software">Software</a>
    <ol>
      <li><a href="#spotify-syncing">Spotify Syncing</a></li>
      <li><a href="#web-app-controller">Web App Controller</a>
 <!-- 3. [Starting on Boot](#starting-on-boot) --></li>
    </ol>
  </li>
  <li><a href="#final-touches">Final Touches</a></li>
  <li><a href="#reflections">Reflections</a></li>
</ol>



<p>For the past three months, Iâ€™ve been building a highly configurable, modular, hexagon-based lighting system from scratch. Hereâ€™s a demo:</p>

<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8TQva79vo88" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>

<p>Hereâ€™s some of the highlights of HelioHex:</p>

<ul>
  <li>Different lighting â€˜modesâ€™
    <ul>
      <li>Set the color of the whole display</li>
      <li>Set the color of individual hexagons</li>
      <li>Generate a random aesthetically-pleasing color palette</li>
      <li>Sync the color of the display to the time of the day</li>
    </ul>
  </li>
  <li>Spotify integration
    <ul>
      <li>Matches up the colors of each hexagon to the features of the song playing</li>
      <li>Changes depending on the emotions of the song e.g. sadder songs are more blue</li>
    </ul>
  </li>
  <li>Adaptable web controller
    <ul>
      <li>Use any device on the network to control the device</li>
      <li>Control all the different modes and brightness of the display</li>
      <li>Shows a virtual visualization of the display</li>
    </ul>
  </li>
  <li>Flexible design
    <ul>
      <li>Arrange the hexagons in whatever pattern you like - change the settings in one file and everything automatically updates</li>
      <li>Expand the structure easily if you build more hexagons</li>
    </ul>
  </li>
</ul>

<h2 id="inspiration">Inspiration</h2>

<p>Late March, I realized that all my schoolwork and testing would soon be over. In an effort to avoid spending my quarantine solely indulging in video games and Netflix, I sought a project.</p>

<p>While brainstorming ideas, I came across the <a href="https://nanoleaf.me/en/consumer-led-lighting/products/smarter-series/nanoleaf-light-panels-smarter-kit/">Nanoleaf Light Panels</a>, a vibrant lighting system that gamers frequently display in their rooms. I thought that I could extend the functionality of this to show lights based off events, like if I received a notification on my phone. And maybe Facebook notifications could be blue, Snapchat notifications yellow, and email notifications red. All of the pieces of this project were starting to come together until I saw the pricetag: <strong>$200</strong>.</p>

<p>Nope. No way was I gonna spend $200 on some lights. To make it worse, that was the price for nine measely panels. Donâ€™t get me wrong - it looked impressive, just not worth a little over $20 per panel. And even if I still wanted it, the $200 set was sold out - Iâ€™d have to cough up $300 for fifteen panels instead.</p>

<p>Perhaps the coolest application of the Nanoleaf Light Panels is the <a href="https://www.youtube.com/watch?v=o41emqmX6ds">Rhythm Edition</a>, which syncs your lighting system to music. Watching the demo left meâ€¦ disappointed. It was highly customizable, but perhaps too customizable. I just wanted to click a button and have the lighting system sync up to all the nuances in the song - if the song was going to have the bass drop, I wanted to emphasize that and to make the lights to feel alive. Maybe Iâ€™m in the minority here, but I was pretty unsatisfied - especially considering Iâ€™d be shelling out hundreds of dollars for this.</p>

<p>Then something clicked; why donâ€™t I just build my own system? I could customize it to my heartâ€™s desire and I could make it for a lot cheaper than $200. I would also learn a lot from this project - it seemed perfect. And so, I set out to build my own lighting system - HelioHex.</p>

<h2 id="research">Research</h2>

<p>As should be with any project, the first step was research. <a href="https://www.youtube.com/watch?v=2OP-oEbzB6g">This DIY video from NerdForge</a> looked very similar to what I wanted. The key features I wanted to adopt from this was the modularity, the hexagon design (because it looked really cool), and the remote controller. However, I felt the app he developed didnâ€™t make the most of the lights - specifically, I wanted to sync up my own system with Spotify. Also, he 3D-printed the frame for the hexagons. Unfortunately, I do not have the luxury of a 3D-printer (and I couldnâ€™t 3D-print at the library due to the lockdown). This motivated me to alternatively make a wooden frame to give off a sleek, less-manufactured look.</p>

<p>I also <a href="https://www.youtube.com/watch?v=7vGa1oAYAX8">checked out</a> <a href="https://www.youtube.com/watch?v=PwmheNfCnXM">many</a> <a href="https://www.instructables.com/id/DIY-Hexagonal-Nanoleaf-LED-Light/">more</a> <a href="https://www.thingiverse.com/thing:3354082">guides</a> that helped me frame my goals. Ultimately, this research helped me answer one big question: was this project attainable?</p>

<p>The answer was a confident Â¯\<em>(ãƒ„)</em>/Â¯. A lot of the electronics scared me and the coding seemed decently formidable. I like challenges, though, so I went for it. Also, given that I had boatloads of free time, it seemed like I had nothing better to do.</p>

<h2 id="vision">Vision</h2>

<p>The next step for me was to create a concrete vision of my desired end-result. First up were the non-negotiables - things my project HAD to have to consider it successful:</p>

<ul>
  <li>Working lights that are easily controllable by a remote controller</li>
  <li>Seamless integration with a music app</li>
  <li>Modularity - changing the arrangement of the hexagon units should be relatively easy</li>
  <li>Self containment - each unit is independent of other units</li>
  <li>Preset lighting modes that â€œlook niceâ€</li>
  <li>A clean UI for the remote controller</li>
</ul>

<p>Next up were some nice to haves - not needed, but would make me feel really accomplished</p>
<ul>
  <li>No <a href="https://en.wikipedia.org/wiki/Hard_coding">hard coding</a></li>
  <li>Anyone should be able to control the lighting system</li>
  <li>Each individual hexagon â€œunitâ€ can have their color set</li>
</ul>

<p>Some of these goals were scary, especially when you combine them together - having the ability to set individual hexagon colors without hardcoding while having the UI of the remote controller look clean? Yeesh.</p>

<p>The next step was materializing this vision. What helped me was using a <a href="https://en.wikipedia.org/wiki/Kanban_board">Kanban Board</a>. I wrote mini tasks for myself to reach different goals - divided into sections like software, hardware, and construction and prioritized by importance. A Kanban Board made this ambitious project much more digestable. It also made sure that I wouldnâ€™t spend time on unnecessary, small fixes unless they were needed. The goal was to build the system as quickly as possible, and then go back and optimize it. Basically the <a href="https://en.wikipedia.org/wiki/Agile_software_development">Agile Development Technique</a>. Totally see how helpful it is now and why companies emphasize it so heavily.</p>

<h2 id="construction">Construction</h2>

<h3 id="materials">Materials</h3>

<table>
  <thead>
    <tr>
      <th>Material</th>
      <th>Cost</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://www.amazon.com/CHINLY-Individually-Addressable-Waterproof-waterproof/dp/B06XNJSKXN/ref=sr_1_5">LED Strip</a></td>
      <td>$29.90</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/ALITOVE-Female-Connector-WS2812B-SK6812-RGBW/dp/B071H5XCN5/ref=sr_1_5">JST Connectors</a></td>
      <td>$10.99</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/dp/B075SXMD9Z/ref=sspa_dk_detail_3">RF Remote Controller</a></td>
      <td>$8.99</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/Sande-Plywood-Common-5-2-mm-x-2-ft-x-4-ft-Actual-0-205-in-x-23-75-in-x-47-75-in-103064/202093790">Plywood</a></td>
      <td>$10.96</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/OPTIX-23-75-in-x-47-75-in-White-Acrylic-Light-Panel-1A20084A/100564898">Acrylic Light Panel</a></td>
      <td>$12.48</td>
    </tr>
    <tr>
      <td><a href="https://www.microcenter.com/product/622539/raspberry-pi-4-model-b---8gb-ddr4">Raspberry Pi 4</a></td>
      <td>$35.00</td>
    </tr>
    <tr>
      <td><a href="https://www.amazon.com/CHINLY-Universal-Regulated-Switching-Transformer/dp/B01LZRIWZD/ref=sr_1_4">Power Supply</a></td>
      <td>$20.99</td>
    </tr>
    <tr>
      <td><a href="https://www.lowes.com/pd/Southwire-25-ft-14-AWG-Stranded-Black-Copper-THHN-Wire-By-the-Roll/1000992054">Wires</a> x3</td>
      <td>$18.81</td>
    </tr>
    <tr>
      <td><a href="https://www.homedepot.com/p/Legrand-5-ft-Non-Metallic-Raceway-Wire-Channel-White-NMW1/100038290">Cord Cover</a></td>
      <td>$8.12</td>
    </tr>
    <tr>
      <td>Hot glue, super glue, push pins, clamps, etc.</td>
      <td>$30.00</td>
    </tr>
    <tr>
      <td><strong>Total</strong></td>
      <td><strong>$186.24</strong></td>
    </tr>
  </tbody>
</table>

<p>I got under my goal of $200! Ended up saving about $15 for three months of my time.</p>

<p>To be fair, I did buy other materials that I never ended up using and did not account for tax. This means that the <em>actual</em> cost of this project probably was $50-$100 higher, but weâ€™ll just say itâ€™s under $200 because it makes me feel better.</p>

<h3 id="wooden-frames">Wooden Frames</h3>

<p>The first legitimate step in the project was to create the casing for each unit. All the guides I found used 3D printed cases, which was inaccessible for me, so I used wood. I bought a 24â€ by 12â€ wooden sheet and cut it out into rectangular pieces. I used a hexagon shape for each unit so I had to glue six of these rectangles together. I hotglued a metal hinge into the shape of a 120Â° angle and used that as a reference to put the rectangles together. The structural integrity of each hexagon was important so I used a trifecta of super glue, hot glue, and wood glue.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/wooden-hexagon-construction.jpg" alt="Wooden Hexagon Construction">
<em>Wooden hexagon construction. In the foreground, wooden side pairs are joined together that will eventually form full hexagons. In the background, you see that my worktable was a messy ping-pong table.</em></p>

<p>In the above picture, youâ€™ll notice small triangles cut out at the bottom of each plywood piece. This allows for wires to pass through connecting units. In line with my goal of modularity, this cutout was on every side so I could configure my system however Iâ€™d like. I made eight of these units, the most I could make given the length of the LED strip.</p>

<h3 id="light-diffusion">Light Diffusion</h3>

<p>The goal of this lighting system was to have each hexagon display a uniform, individual color. To achieve this uniformity, the material on top of each hexagon must evenly diffuse light from the LED strip that lines the inner perimeter of each hexagon.</p>

<p>This is where the acrylic sheet comes in. The sheet I bought is basically the same material as the light panels that covers school ceilings.</p>

<p>The problem is that acrylic is very brittle to the point that any cut I made - using scissors, a saw, even with the knife Home Depot recommended - completely fragmented the acrylic. After spending a week trying to figure it out, I decided to hold it off till I could laser cut it when the lockdown lifted.</p>

<p>In the meanwhile, I used a poor manâ€™s acrylic - paper. It served its purpose for how easy it was to use.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/paper-light.gif" alt="Paper Light">
<em>Paper hexagons put on top of each unit. The lighting is controlled by a cheap RF remote.</em></p>

<p>Although it does look pretty cool, thereâ€™s a couple of problems. First, itâ€™s not clean. Paper doesnâ€™t give off that professional vibe Iâ€™m striving for and if Iâ€™m spending months on this, might as well make it look good. Second, paper is really flimsy. It wouldnâ€™t stick well with tape, and I didnâ€™t want a permanent solution like glue because I knew I wanted to change it eventually. Lastly, it doesnâ€™t diffuse the light THAT well; it does the job, but itâ€™s nothing amazing.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/acrylic-sheet-light.jpg" alt="Acrylic Sheet Light">
<em>The uncut acrylic sheet on top of a lit unit.</em></p>

<p>These images donâ€™t do justice to the acrylic sheet. It looks miles better with material thatâ€™s meant to diffuse light. Instead of waiting for a laser cutter for who knows how long, I got lucky when a friend allowed me to borrow their <a href="https://en.wikipedia.org/wiki/Circular_saw">hand-held circular saw</a>. The fine teeth on this allowed me to cut the acrylic with no worry.</p>

<p><img src="https://vinaybhaip.com/blog/assets/images/heliohex/acrylic-sheet-after.jpg" alt="Acrylic Sheet After">
<em>The acrylic sheet after I cut it. On the left of the sheet you can see the jaggedness resulting from my previous methods.</em></p>

<p>It turned out a success! I hotglued the cut-out acrylic pieces to the hexagons and shaved down the sharp edges.</p>

<h2 id="electronics">Electronics</h2>

<p>This is what I was worried about the most. Despite having taken multiple classes in high school dealing with electronics, I had no idea what I was doing - evident by me <em>almost</em> setting the house on fire a few times.</p>

<h3 id="wiring-lights">Wiring Lights</h3>

<p>I cut up the light strip to put 36 LEDs in each hexagon unit. Each LED draws 50mA at full brightness, meaning for eight hexagons, I would need 14.4 â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vinaybhaip.com/blog/2020/07/05/heliohex">https://vinaybhaip.com/blog/2020/07/05/heliohex</a></em></p>]]>
            </description>
            <link>https://vinaybhaip.com/blog/2020/07/05/heliohex</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747596</guid>
            <pubDate>Mon, 06 Jul 2020 13:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[M60 â€“ Open-Source USB&BLE, Hot-Swappable Mechanical Keyboard Powered by Python]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 42 (<a href="https://news.ycombinator.com/item?id=23747255">thread link</a>) | @kfihihc
<br/>
July 6, 2020 | https://makerdiary.com/pages/m60-mechanical-keyboard | <a href="https://web.archive.org/web/*/https://makerdiary.com/pages/m60-mechanical-keyboard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="PageContainer">

    <main id="MainContent" role="main" tabindex="-1">
      <div id="shopify-section-landing-page-hero"><div data-section-id="landing-page-hero" data-section-type="hero-section">
  
     <a href="https://github.com/makerdiary/python-keyboard" aria-label="View source on GitHub"></a>
  
<div id="Hero-landing-page-hero" data-layout="full_width" data-bg="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_300x300.jpg?v=1593771860" data-bgset="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_180x.jpg?v=1593771860 180w 120h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_360x.jpg?v=1593771860 360w 240h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_540x.jpg?v=1593771860 540w 360h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_720x.jpg?v=1593771860 720w 480h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_900x.jpg?v=1593771860 900w 600h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1080x.jpg?v=1593771860 1080w 720h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1296x.jpg?v=1593771860 1296w 864h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1512x.jpg?v=1593771860 1512w 1008h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1728x.jpg?v=1593771860 1728w 1152h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0_1950x.jpg?v=1593771860 1950w 1300h,
    
    
    
    
    
    
    
    
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60_hero_2048x_168dcced-db74-498b-94f3-01b98f24ada0.jpg?v=1593771860 2048w 1365h" data-sizes="auto" data-parent-fit="cover"><div>
        <div><h2>M60 Mechanical Keyboard</h2><p>An Open Source, USB &amp; BLE 5.0, Modular, Hot-Swappable, 60% Keyboard powered by Python</p><p><a href="https://makerdiary.com/products/m60-mechanical-keyboard-pcba" aria-label="Pre-Order PCBA: M60 Mechanical Keyboard PCBA (Pre-Order)">Pre-Order PCBA</a></p></div>
      </div>
    </div>
    </div>



</div>





<div id="shopify-section-landing-page-map">

<div id="MapSection--landing-page-map" data-section-id="landing-page-map" data-section-type="map">
  <div>
    <div>
      <div>
        
        
          <h3>The Story of M60</h3>
        
        
          <p>A few months ago, we made a hand-wired keyboard and brought Python to it. This project received plenty of attention, but it is difficult for most people to make such a keyboard. We believe that a Python powered keyboard will make a big difference. We'd really like to take this work further, so we start to design a new keyboard hardware. It is called <em>M60</em>.</p>
          
        
      </div>
    </div>
    
  </div>
</div>




</div>

<div>

<div id="shopify-section-landing-page-feature-row">
<div>
  

  <div>
    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_600x600@2x.jpg?v=1593785687" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_200x200.jpg?v=1593785687" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-connectivity-1_1080x_5c2254bf-6f4a-41b8-a449-1c0f4088f20a_{width}x.jpg?v=1593785687">

        
      
    </p>
  
    

    <div>
      
        <h2>USB Type-C &amp; BLE 5.0 Connectivity</h2>
      
      
        <p>M60 uses Nordicâ€™s nRF52840 SoC to provide USB Type-C wired and Bluetooth LE 5.0 wireless connectivity. It can easily pair to your PC, laptop, smartphone, or tablet with Bluetooth LE.</p>
      
      
    </div>

    
  </div>
</div>


</div>

<div id="shopify-section-landing-page-feature-row-1">
<div>
  

  <div>
    

    <div>
      
        <h2>Powered by Python</h2>
      
      
        <p>It's not just a keyboard but also a USB drive containing Python files. Its Python code can be changed with any text editor and executed simultaneously, which makes it super easy to customize the keyboard or to add a new function. No need to download any software or setup a development environment.</p>
      
      
    </div>

    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_600x600@2x.jpg?v=1593761089" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_200x200.jpg?v=1593761089" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-2-python_1_{width}x.jpg?v=1593761089">

        
      
    </p>
  
    
  </div>
</div>




</div>

<div id="shopify-section-landing-page-feature-row-2"><div>
  

  <div>
    
      
    <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_600x600@2x.jpg?v=1593752688" alt="" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_200x200.jpg?v=1593752688" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-feature-row-3_{width}x.jpg?v=1593752688">

        
      
    </p>
  
    

    <div>
      
        <h2>Modular, Hot-Swappable &amp; Solder-Free</h2>
      
      
        <p>To take advantage of the <a href="https://makerdiary.com/products/nrf52840-m2-module" title="nRF52840 M.2 Module w/ PCB Antennas">removable M.2 module</a> and hot-swap sockets, assembly made easy. Everyday we find innovative assembly solutions to make things even easier for you because we care about the quality of our products.</p>
      
      
    </div>

    
  </div>
</div>




</div>



</div>

<div id="shopify-section-landing-page-logo-list">

<div>
  
    
  

  
    <ul>
      
        <li>
          
          
              
          
          
          
            <p>GitHub</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Cross-platform</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Multi-connections</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Python</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>60% Layout</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Multi-layers</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Highly configurable</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>RGB Lighting</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Battery</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>NKRO - Anti-ghost</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Productivity</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Modular Design</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>BLE 5.0</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>USB Type-C</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>NFC</p>
          
        </li>
      
        <li>
          
          
              
          
          
          
            <p>Hot-swappable</p>
          
        </li>
      
    </ul>
  

  
</div>




</div>

<div id="shopify-section-landing-page-hero-small">


<div data-section-id="landing-page-hero-small" data-section-type="hero-section"><div id="Hero-landing-page-hero-small" data-layout="full_width" data-bg="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_300x300.jpg?v=1593684925" data-bgset="//cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_180x.jpg?v=1593684925 180w 65h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_360x.jpg?v=1593684925 360w 130h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_540x.jpg?v=1593684925 540w 194h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_720x.jpg?v=1593684925 720w 259h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_900x.jpg?v=1593684925 900w 324h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1080x.jpg?v=1593684925 1080w 389h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1296x.jpg?v=1593684925 1296w 466h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1512x.jpg?v=1593684925 1512w 544h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1728x.jpg?v=1593684925 1728w 622h,
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x_1950x.jpg?v=1593684925 1950w 702h,
    
    
    
    
    
    
    
    
    //cdn.shopify.com/s/files/1/0066/0865/0355/files/m60-sample-2048x.jpg?v=1593684925 2048w 737h" data-sizes="auto" data-parent-fit="cover"><div>
        <div><p>We have prepared a few M60 PCBAs for developers before launch. If you really want to get involved early in the process, you can apply for an engineering sample.</p><p><a href="https://forms.office.com/Pages/ResponsePage.aspx?id=DQSIkWdsW0yxEjajBLZtrQAAAAAAAAAAAAa__aO1qn1UQktDRjFSN1FWRFRFRU0yRzhOT0xIUlNKSi4u" aria-label="Request a Sample">Request a Sample</a></p></div>
      </div>
    </div>
    </div>



</div>



<div id="shopify-section-landing-page-feature-update">
<div>
  
    
  

    <ul>
      
        <li>
          <article aria-labelledby="FeaturedBlogTitle-0-landing-page-feature-update">
            <header>
              <a href="https://makerdiary.com/blogs/mechanical-keyboards/the-story-of-m60-mechanical-keyboard">
                
                  
                  


                  <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_345x345@2x.jpg?v=1593768689" alt="M60 Mechanical Keyboard - from Prototype to Production" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_300x300.jpg?v=1593768689" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/m60-feature-row-1-1080x_1024x1024_45ae6d5b-e37c-4137-a179-bf1f89d42730_{width}x.jpg?v=1593768689">
                    </p>
                  
                

                <h3 id="FeaturedBlogTitle-0-landing-page-feature-update">
                  M60 Mechanical Keyboard - from Prototype to Production
                </h3>
              </a>

              

              
                <span>
                  <time datetime="2020-07-03T08:49:00Z">July 3, 2020</time>
                </span>
              
            </header>

            <div>
              <p><span>A few months ago, we made a hand-wired keyboard powered by Python. It's a typical prototype, which got a lot of feedback. So we decided to turn the prototype into production, to make a new keyboard called M60.</span>
                
              </p>

              

              <ul>
                <li>
                  <a href="https://makerdiary.com/blogs/mechanical-keyboards/the-story-of-m60-mechanical-keyboard" aria-label="Read more: M60 Mechanical Keyboard - from Prototype to Production">
                    Read more
                  </a>
                </li>

                
              </ul>
            </div>
          </article>
        </li>
      
        <li>
          <article aria-labelledby="FeaturedBlogTitle-1-landing-page-feature-update">
            <header>
              <a href="https://makerdiary.com/blogs/mechanical-keyboards/a-hand-wired-usb-bluetooth-keyboard-powered-by-python">
                
                  
                  


                  <p><img src="https://cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_345x345@2x.png?v=1593765150" alt="Hand-wiring a USB &amp; Bluetooth keyboard powered by Python" data-old-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_300x300.png?v=1593765150" data-src="//cdn.shopify.com/s/files/1/0066/0865/0355/articles/python-inside-keyboard_{width}x.png?v=1593765150">
                    </p>
                  
                

                <h3 id="FeaturedBlogTitle-1-landing-page-feature-update">
                  Hand-wiring a USB &amp; Bluetooth keyboard powered by Python
                </h3>
              </a>

              

              
                <span>
                  <time datetime="2020-05-04T11:39:00Z">May 4, 2020</time>
                </span>
              
            </header>

            <div>
              <p>Before making this keyboard, I knew Python can be used in a microcontroller thanks to MicroPython and its variant CircuitPython. But I did not know Python can work so well and be so powerful in a keyboard. It's beyond my expectation.</p>

              

              <ul>
                <li>
                  <a href="https://makerdiary.com/blogs/mechanical-keyboards/a-hand-wired-usb-bluetooth-keyboard-powered-by-python" aria-label="Read more: Hand-wiring a USB &amp; Bluetooth keyboard powered by Python">
                    Read more
                  </a>
                </li>

                
              </ul>
            </div>
          </article>
        </li>
      
    </ul>
  

  
    
    
  
</div>




</div>


    </main>

    

    

  </div></div>]]>
            </description>
            <link>https://makerdiary.com/pages/m60-mechanical-keyboard</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747255</guid>
            <pubDate>Mon, 06 Jul 2020 12:42:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse Face Search Engine]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23747157">thread link</a>) | @stevoo
<br/>
July 6, 2020 | https://pimeyes.com/en/ | <a href="https://web.archive.org/web/*/https://pimeyes.com/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section id="search-component">
<video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop" poster="https://pimeyes.com/assets/images/search_video2.jpg">
<source src="https://pimeyes.com/assets/images/search_video2.mp4" type="video/mp4">
<source src="https://pimeyes.com/assets/images/search_video3.webm" type="video/webm">
</video>
<div>
<div>

<p>UPLOAD YOUR PHOTO AND FIND WHERE YOUR FACE IMAGE APPEARS ONLINE. START PROTECTING YOUR PRIVACY.</p>
</div>
 </div>
<svg width="40px" height="100%" viewBox="0 0 247 390" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
<path id="wheel" d="M123.359,79.775l0,72.843" style="fill:none;stroke:#fff;stroke-width:20px;"></path>
<path id="mouse" d="M236.717,123.359c0,-62.565 -50.794,-113.359 -113.358,-113.359c-62.565,0 -113.359,50.794 -113.359,113.359l0,143.237c0,62.565 50.794,113.359 113.359,113.359c62.564,0 113.358,-50.794 113.358,-113.359l0,-143.237Z" style="fill:none;stroke:#fff;stroke-width:20px;"></path>
</svg> </section>
<section id="mainpage-content">
<div id="description">
<p>
PimEyes is a powerful face search engine that will help you find your face in the Internet. PimEyes focuses only on faces. Composition and colors of the image are not important. Our engine does not compare haircut, only facial features matter. It supports various scenarios - for example, authenticate people for access, protect privacy against scammers or unauthorized photo usage.
</p>
</div>


<div id="try-alerts">
<div>
<div>
<h3>PimEyes <span>Alerts</span></h3>
<p>Get the report when we find face similar to yours.<br>Itâ€™s simple.<br>Itâ€™s free.</p>
<p><a href="https://pimeyes.com/en/alerts" data-action-name="mainpage_alerts_info">
<span>Learn more</span>
</a>
</p></div>

</div>
</div>
<div id="try-premium">
<div>
<p><img src="data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" data-src="/svg/logo-white-premium.svg" alt="PimEyes Premium" width="252" height="82"></p><div>
<p>
The best search results are available only for premium members. With premium access you will improve quality of search and unlock all results.
</p>
<p><a href="https://pimeyes.com/en/premium" data-action-name="mainpage_premium_info">
<span>Get premium</span>
</a>
</p></div>
</div>
</div>
</section>







</div></div>]]>
            </description>
            <link>https://pimeyes.com/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23747157</guid>
            <pubDate>Mon, 06 Jul 2020 12:28:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How People Learn â€“ The Brain Basics]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23746896">thread link</a>) | @iuliangulea
<br/>
July 6, 2020 | https://iuliangulea.com/blog/how-people-learn-the-brain-basics/ | <a href="https://web.archive.org/web/*/https://iuliangulea.com/blog/how-people-learn-the-brain-basics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    
    <p>Have you ever thought about how people learn? What happens inside your brain when you learn some new information or practice a novel skill? And is there a way to enhance the outcomes of learning?</p>
<p>This article is the first in the series on â€œHow People Learn,â€ in which I invite you to embark on a journey toward a better understanding of the most sophisticated construct in the Universeâ€”the human brain.</p>
<p>And I would like to start with and exercise. You will need a piece of paper and something to write with. When you have them ready, write down the following sentence:</p>
<blockquote>
<p><strong>I can write fast and beautiful.</strong></p>
</blockquote>
<p>It should be pretty easy, if not effortless, isnâ€™t it?</p>
<p>Now, I would like you to write the same sentence one more time, below the first one, but at this time, use the opposite hand (letâ€™s call it the inexperienced hand). Therefore, if you initially wrote the sentence with your right hand, switch your pen to the left side and vice-versa.</p>
<p>Think about how was it now? Unless you are a person that learned to write with both hands, I bet your second sentence is not that beautiful, and you wrote it not that fast either. When I was lecturing at the university and doing this exercise with my students, it took them somewhere between 3 to 10 times longer to write down the second sentence than the first one.</p>
<p>If you did follow through and write the two sentences, I highly encourage you to write it with the inexperienced hand for the third (and last) time below the first two sentences. It should be slightly easier to write it now, but there will still be inadvertent trembling and awkward lines.</p>
<p>How do you explain this? You know how each letter should look, how it should be tilted, and how curved it should beâ€”you possess the theory at 100%. Yet very few can draw a well-rounded letter â€˜aâ€™ or â€˜oâ€™ with their inexperienced hand. It is very likely that you are also holding your pen as though it weighs 5kg, and your hand is trembling in the process.</p>
<h2 id="a-primer-on-brain-structure">A Primer On Brain Structure</h2>
<p>The answer resides in the structure of the brain. As you might know, the brain consists of brain cells called â€œneurons.â€ Letâ€™s represent a neuron as in the next image.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/one-neuron.png" alt="A Conceptual Representation Of A Neuron"></p>
<p>Neurons connect to other neurons, forming a complex net of interconnected brain cells. According to the latest plausible estimates,<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> there are 86 billion neurons in a human brain. And each cell can connect to up to ten thousand other neurons. That is an astounding amount!</p>
<p>I will not attempt to draw such a complex, interconnected set of neurons as in a human brain. I will not try to represent even the 302 neurons with its ~7,500 connections of a roundworm.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> Instead, I will rely on this <em>extremely</em> simplified version of a <strike>brain</strike> group of interconnected neurons to describe some essential events that take place inside oneâ€™s brain.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/many-interconnected-neurons.png" alt="A Conceptual Representation Of Many Interconnected Neurons"></p>
<p>All our memories, experiences, skills, thoughts, sensations, etc. are encoded and stored within those interconnected brain cells.</p>
<h2 id="neural-patterns">Neural Patterns</h2>
<p>Neurons communicate with each other through electric pulses and chemical neurotransmitters. Whenever we do something or think about something, specific neurons responsible for that action or thought get activated by sending impulses to each other. For instance, when you raise your right hand, a particular group of neurons gets activated simultaneously:</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-raise-hand.png" alt="A conceptual representation of the neural pattern responsible for raising your right hand"></p>
<p>When you write, another group of neurons fires together:</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-write.png" alt="A conceptual representation of the neural pattern responsible for writing"></p>
<p>These groups of neurons that fire together are called <em>neural patterns.</em> When activated, they are responsible for specific actions or thoughts. Keep in mind that the examples above are extremely simplified. Real patterns spread throughout large portions of the brain and can incorporate billions of neurons.</p>
<p>Note that these patterns can overlap, meaning that the same neuron or even huge chunks of neurons can be part of several patterns. Below you can see that <em>â€œwritingâ€</em> and <em>â€œraising handâ€</em> share some of their neurons.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-common-neurons.png" alt="A conceptual representation of the neurons that participate in both raising hand and speaking"></p>
<p>This explains the associative nature of memory and our experiencesâ€”as you are thinking about something specific (i.e., your favorite childhood cartoon), parts of the neural patterns that get activated are also parts of circuits related to other memories. That gives you the possibility to â€œhopâ€ from one memory to the other. Just try to recall an instance of when you watched that cartoon and let your mind wander for some time. Youâ€™ll be pleasantly surprised with where it might lead you.</p>
<h2 id="it-is-not-only-about-the-number-of-connections">It Is Not Only About The Number Of Connections</h2>
<p>Besides the number of neurons, one essential thing that characterizes a pattern is the strength of its connections. A connection can be strong or can be weak, and it represents the relationship between two neurons.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-strong-connections.png" alt="A conceptual representation of a neural pattern with different connection strengths between neurons"></p>
<p>In the image above, the thicker lines represent more durable links. The stronger a bond is, the easier it is to communicate between neurons through it, and the harder and longer it takes to break it apart. Weâ€™ll see the implications of this in the next section below.</p>
<p>Therefore, activities that we know how to do and with which we have experience and thoughts that we think about often have strong links between neurons in their associated patterns. Conversely, skills we have just begun to practice, or thoughts we rarely think about have weak circuits.</p>
<p>To make an analogy, think of a link between two neurons as a pathway during winter.</p>
<figure>
    <img src="https://storage.needpix.com/rsynced_images/trace-3438236_1280.jpg" alt="Snow Trail"> <figcaption>
            <p>Source:
                    <a href="https://www.needpix.com/photo/download/1618289/trace-snow-background-mood-wintry-snow-tramp-footprints-snow-lane-deep-snow">Needpix.com</a></p>
        </figcaption>
</figure>

<p>Initially, when you have to go from point A to B, there is no path, so you have to walk through deep snow, leaving a narrow trail in the process. Have you ever walked in deep snow? That is exhausting, and so forming new circuits is. But the more you travel along that path, the more trodden it becomes, and the easier it is to walk it. Eventually, it will become a wide sidewalk that you can use to travel between point A and B effortlessly. But if you will abandon that path, the snow will gradually claim it back, until one day it will just disappear.</p>
<h2 id="the-process-of-forming-new-circuits">The Process Of Forming New Circuits</h2>
<p>Thus, all the information we know and skills we possess are encoded in our brainsâ€™ neural patterns. It is time to discuss the process of brain circuits administration. Research from the last 100 years has incredibly advanced the understanding of how the brain rewires itself. This process is called  <em>Neuroplasticity.</em></p>
<blockquote>
<p><strong>Neuroplasticity,</strong> also known as <strong>brain plasticity,</strong> is the ability of the brain to undergo biological changes ranging from the cellular level (i.e., individual neurons) all the way to large-scale changes involving cortical remapping.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p>
</blockquote>
<p>One of the fundamental principles of how neuroplasticity functions is the idea that individual connections within the brain are continually being created, strengthened, or removed, largely dependent upon how they are used.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> Thus, neurons that are in close proximity and fire at the same time tend to form new connections (or, if they are already connected, the link strengthens). But in case a relationship is not used, it weakens over time, and eventually, it disappears, leaving the two neurons disconnected.</p>
<p>This theory was first introduced by Donald Hebb in 1949, and it is often summarized as <em>â€œneurons that fire together, wire together."</em></p>
<h2 id="going-back-to-writing">Going Back To Writing</h2>
<p>Knowing all that about our brain circuits and how they function, letâ€™s analyze the previous writing exercise and describe it using our freshly acquired information.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/neurons-write-strong-connections.png" alt="Strong neural circuit responsible for writing with the experienced hand"></p>
<p>When you first wrote the sentence with your â€œregularâ€ hand, you have used your existing, robust neural pattern responsible for writing with that hand. Thatâ€™s why it felt natural and seamless.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/2-hands-with-question-mark.png" alt="Inexistent neural circuit responsible for writing with the inexperienced hand"></p>
<p>But when you switched to the other hand, no pattern was found responsible for writing with that hand, so a new one started to emerge.</p>
<p><img src="https://iuliangulea.com/images/how-people-learn/2-hands-with-both-patterns.png" alt="Emerging neural circuit responsible for writing with the experienced hand"></p>
<p>Different neurons fired together while you were striving to write each letter, and new links started to form. In case you followed my advice and wrote the sentence for the third time, the writing process should have flown more easygoing. Thatâ€™s because the new pattern is strengthening in the brain! The more you will practice writing with that hand, the easier it will become for you.</p>
<p>This simple exercise demonstrated a fundamental truth that we sometimes ignore:</p>
<blockquote>
<p><strong>Knowledge != Skills</strong></p>
</blockquote>
<p>We have a sound pattern responsible for the knowledge about each individual letter and another circuit that is responsible for writing those letters. If you would take one thing out of this article, please remember this: <strong>knowledge</strong> does not necessarily mean <strong>skills.</strong> You might know something (the alphabet), but this does not imply than you will be able to write those letters.</p>
<p>This principle applies to many areas of our lives. For instance, reading a book on self-improvement, sales, public speaking, or anything else, does not magically teach you the skills described in those books. Reading those books will strengthen your neuronal pattern related to knowing. Itâ€™s like learning the shape of letters, the theory. Only when you begin to write, when you apply the theory into practice, then you start developing the patterns responsible for the actual skills.</p>
<p>There is much more to possessing an ability than just knowing the theory:</p>
<ul>
<li>Knowing the shape of the letters is not enough to be able to write. You need to develop proper muscle movement to hold the pen and draw the lines that form the letters.</li>
<li>Knowing some five steps to efficient sales is not enough to be a salesman. You need to learn to listen to customers, understand what relevant questions to ask, process the information you receive, formulate correct benefits that solve their problems, etc.</li>
<li>Knowing how to write code does is not enough to be a programmer. You need to understand how to define the architecture of a project based on the requirements, how to organize and structure your code, how to test it, etc.</li>
</ul>
<p>It does not mean that the theory is not essential. Conversely, knowledge about a domain helps you gain experience faster since you can interpret how good or bad the outcome of your practice is. As described in <a href="https://iuliangulea.com/blog/the-path-toward-mastery-how-to-become-an-expert/">The Pyramid Of Mastery</a>, knowledge and skills are complementary. â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iuliangulea.com/blog/how-people-learn-the-brain-basics/">https://iuliangulea.com/blog/how-people-learn-the-brain-basics/</a></em></p>]]>
            </description>
            <link>https://iuliangulea.com/blog/how-people-learn-the-brain-basics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746896</guid>
            <pubDate>Mon, 06 Jul 2020 11:50:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My 10 Years of Programming Experience]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23746291">thread link</a>) | @yamrzou
<br/>
July 6, 2020 | https://iximiuz.com/en/posts/my-10-years-of-programming-experience/ | <a href="https://web.archive.org/web/*/https://iximiuz.com/en/posts/my-10-years-of-programming-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a name="cut"></a>
<a href="https://edition.cnn.com/2019/12/21/us/when-does-the-decade-end-begin-trnd/index.html">Regardless of whether it's the end of the calendar decade or not</a> it's the end of a programming decade for me. I started early in 2010 and since then I've been programming almost every day, including weekends and vacations. This was a really exciting period in my life and I realized that it's been a while since 2010 only recently. So, I decided to put into words some of my learnings from that time. Warning: the content of this article is highly opinionated and extremely subjective.
<a name="eofcut"></a></p>
<h2 id="combine-object-oriented-procedural-and-functional-programming-techniques">Combine object-oriented, procedural, and functional programming techniques</h2>
<p><i>OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things.</i></p>
<p><i>â€“â€“ Dr. Alan Kay</i></p>


<p>Object-oriented programming seems to be a prevalent technique these days. Different people hear different things when one says <em>object-oriented</em>. I personally don't treat inheritance and polymorphism as necessary attributes of object-orientation. However, hiding and protection of the state by providing public methods is the mandatory attribute of the approach to me. Entities combining the hidden state with the public methods are called objects and they communicate with each other by sending messages (i.e. invoking the public methods of other objects). Most probably, this definition of OOP is too narrow, but these aspects seem the most practical and useful to me. I try to employ them to express any <em>suitable</em> problem in code.</p>
<p>However, the keyword in the previous paragraph is <em>suitable</em>. Yes, there are problems that fit well into the OO-paradigm. For instance, consider the <em>vector</em> - an abstract data structure solving <em>the dynamic array</em> problem:</p>
<pre><code>class Vector&lt;T&gt; {
    private int size;
    private int capacity;
    private T items;

    public Vector(int capacity) {
        this.size = 0;
        this.capacity = capacity;
        this.items = new T[capacity];
    }

    public int size() {
        return this.size;
    }

    public void push(T elem) {
        if (this.size == this.capacity) {
            this.realloc();
        }
        this.items[this.size++] = elem;
    }

    private realloc();

    // ...
}</code></pre>
<p>The <em>vector</em> hides its state (current size, current capacity, etc) and allows the modification only through its public interface. Thus, assuming the proper implementation, the consistency of the state is maintained constantly.</p>
<p>However, not every problem can be easily designed in terms of objects and their communications. And I'm not talking here about some specific domains. Consider the very common problem of registering a new user:</p>
<pre><code>def register_user(name, email):
    user = User(name, email)

    user_repo.save(user)
    start_trial_period(user)
    schedule_welcome_email(user)

    # etc, etc...

    return user</code></pre>
<p>What kind of object should be the owner of the <code>register_user()</code> method? Early at my programming career, I would argue that there should exist a <em>registration service</em> class. However, what's about its state? What attributes should the registration service possess? Are we modifying its state by registering a new user?</p>
<p>Another time, you can find yourself writing a method which performs some computation related to the current class but without accessing its attributes:</p>
<pre><code>class HttpClient:
    def __init__(self, foo, bar, baz, ...):
        pass

    def request(self, url, query, headers, etc, attempts=1):
        for c in range(attempts):
            resp = self._do_request(url, query, headers, etc)
            if is_fine(resp):
                return resp

            self.sleep(self._backoff_delay(c))

        raise Exception('HTTP request failed')

    def _backoff_delay(self, attempt_no):
        return min(1000, 100 * (attempt_no + 1))</code></pre>
<p>The <code>_backoff_delay</code> method can easily be just a self-sufficient function. And there is a huge benefit of having this function separate from the class - its testing becomes much simpler. If the function stayed a method, in order to test the backoff delay computation algorithm we would need to create an instance of the <code>HttpClient</code> supplying all its dependencies (and probably the dependencies of the dependencies) as well as the fake HTTP request parameters. With the pure function we can just do:</p>
<pre><code>assert _backoff_delay(0) == 100
assert _backoff_delay(1) == 200
assert _backoff_delay(10) == 1000</code></pre>
<p>So, eventually, I came to a conclusion, that from time to time it's absolutely fine to have just a function performing some logic. Quoting the gorgeous <a href="https://www.python.org/dev/peps/pep-0020/"><em>Zen of Python</em></a> â€“â€“ [...] practicality beats purity. <a href="https://pyvideo.org/pycon-us-2012/stop-writing-classes.html">Stop writing classes</a> for the sake of having classes. Use classes (or objects) only, if the problem fits well into the OO-paradigm. <a href="https://en.wikipedia.org/wiki/Procedural_programming">Procedural programming</a> is a valid and very powerful technique.</p>
<p>I confess, that for a long time I was biased toward the pure OO, ignoring and avoiding other approaches. Accepting the procedural style helped me to become a better programmer. At least I hope so.</p>
<p>However, during my career, I met quite a few developers with the opposite skewness. People have been applying procedural programming even for tasks when one can benefit from the OO-paradigm a lot:</p>
<pre><code>interface Player {
    cursed: boolean;
    scores: number;
}

function collectCoint(p: Player) {
    if (!p.cursed) {
        p.scores += 100;
    }
}

function killMonster(p: Player, m: Monster) {
    if (!p.cursed) {
        p.scores += m.rank;
    }
}</code></pre>
<p>We have a struct <code>Player</code> here and all its attributes are public. We also have a bunch of business logic functions, performing some game actions. These functions are so easy to test. Forge a fresh player object, pass it into the function and check the attributes afterward. However, there is a problem with this approach. Imagine, we added a new function:</p>
<pre><code>function savePrincess(p: Player) {
    p.scores += 100500;
}</code></pre>
<p>It's so easy to forget about the <code>is cursed</code> check. Thus, we broke the game logic by violating the consistency of the player's state. Having an OO-implementation of the player would allow us to avoid such a pitfall:</p>
<pre><code>class Player {
    addScores(score: number) {
        if (!this.cursed) {
            this.score += number;
        }
    }
}</code></pre>
<p>So, how to decide between these two techniques? My personal waymark is a potential violation of the incapsulation. If I see a publicly exposed state and a number of functions here and there modifying it, I will immediately factor it out to a class. In all the other cases, the procedural approach is superior due to its simplicity.</p>
<p>But what's about <a href="https://en.wikipedia.org/wiki/Functional_programming">the functional programming paradigm</a>? I incorporated it in my style on a lower-level. If my strategy is rather based on a mix of object-oriented and structural approaches, my tactic is based on functional methods. Compare the following implementations of a hypothetical <code>revenue</code> function:</p>
<pre><code>function revenue(orders) {
    let total = 0;
    for (const o of orders) {
        if (o.paid) {
            total += o.price;
        }
    }
    return total * fee;
}

// vs

function revenue(orders) {
    return _.sum(orders.filter(x =&gt; x.paid).map(x =&gt; x.price)) * fee;
}</code></pre>
<p>Due to its declarative form, the second version is much shorter. It even resembles the human-readable text. One can read it as <code>a sum of all paid order prices multiplied by the fee rate</code>.</p>
<p>Let's try to go one step further:</p>
<pre><code>function promoEligible(user, orders, etc...) {
    let total = 0;
    for (const o of orders) {
        if (o.paid) {
            total += o.price;
        }
    }

    if (total == 0) {
        return false;
    }


    // ...
    // do 42 more checks before returning true.
    // ...
}</code></pre>
<p>If we follow the imperative way here, the <code>total</code> variable will stay around until the very end of our function even though it was needed only at the very beginning. This increases the mental load, especially when I need to read this code a month later. I'd rewrite it as follows:</p>
<pre><code>function promoEligible(user, orders, etc...) {
    return orders.some(x =&gt; x.paid)
        &amp;&amp; anotherCheck(user)
        &amp;&amp; oneMoreCheck(etc);
}</code></pre>
<p>No single extra local variables have been introduced on the <code>promoEligible()</code> level.</p>
<p>I'd not call this technique full-fledged functional programming. It's rather an excerpt of some techniques. Once I started writing code in this way, I rarely can find for-loops in my code, my utility functions tend to be smaller and <em>pure</em> (i.e. avoiding mutation of their arguments, as well as any other side-effects) and my variables - to be immutable. And for some reason, I feel safer and sleep better.</p>
<p>I came to this technique rather intuitively, but it seems that modern languages like Rust are trying to make these patterns the first-class citizens. Variables in Rust are immutable by default and almost every statement in Rust is an expression, e.g.:</p>
<pre><code>let res = match compute_something() {
    VeryGood(x) =&gt; 5 * x,
    GoodEnough(x) =&gt; 2 * x,
};</code></pre>
<p>Take a look at the <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html"><code>std::iter::Iterator</code></a> trait, it's full of map-reduce alike methods:</p>
<pre><code>let a = [0i32, 1, 2];
let mut iter = a.iter().filter(|x| x.is_positive());

let a = [1, 2, 3];
let mut iter = a.iter().map(|x| 2 * x);

let a = [1, 2, 3];
let (even, odd): (Vec&lt;i32&gt;, Vec&lt;i32&gt;) = a
    .iter()
    .partition(|&amp;n| n % 2 == 0);

let a = [1, 2, 3];
let sum: i32 = a.iter().sum();</code></pre>
<p>The <a href="https://doc.rust-lang.org/std/result/enum.Result.html">error handling</a> and the <a href="https://doc.rust-lang.org/std/option/enum.Option.html"><em>optional</em></a> value also support functional-alike styles, not only in Rust, but in modern Java as well:</p>
<pre><code>Optional.ofNullable(smth).orElseThrow(NullPointerException::new);</code></pre>
<h2 id="use-fewer-local-variables">Use fewer local variables</h2>
<p>In my opinion, variables increase the mental load by introducing extra state and decreasing the expressiveness of the code, making it lower-level. And eventually, they complicate the refactoring.</p>
<blockquote><p lang="en" dir="ltr">Unpopular opinion: variables (even immutable) are harmful. Try to avoid them in your code. Functional programming techniques and decomposition often helps. Unnecessary variables are evil!<a href="https://twitter.com/hashtag/programming?src=hash&amp;ref_src=twsrc%5Etfw">#programming</a> <a href="https://twitter.com/hashtag/stateless?src=hash&amp;ref_src=twsrc%5Etfw">#stateless</a></p>â€” Ivan Velichko (@iximiuz) <a href="https://twitter.com/iximiuz/status/1194141015919210496?ref_src=twsrc%5Etfw">November 12, 2019</a></blockquote> 

<p>Imagine, you have a function with two local variables:</p>
<pre><code>function doStuff() {
    // ...

    const color = pickColor();
    const temperature = measureTemperature();

    â€¦</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iximiuz.com/en/posts/my-10-years-of-programming-experience/">https://iximiuz.com/en/posts/my-10-years-of-programming-experience/</a></em></p>]]>
            </description>
            <link>https://iximiuz.com/en/posts/my-10-years-of-programming-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746291</guid>
            <pubDate>Mon, 06 Jul 2020 10:12:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five Computers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23746253">thread link</a>) | @ingve
<br/>
July 6, 2020 | https://deprogrammaticaipsum.com/five-computers/ | <a href="https://web.archive.org/web/*/https://deprogrammaticaipsum.com/five-computers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<p>There is no direct evidence that Thomas Watson, Sr. predicted in 1943 that there would be â€œa world market for five computersâ€. First, he probably didnâ€™t know about computers back then: in the 1940s computers were classified research projects at the UK Government Code and Cipher School and the US Army, while Watsonâ€™s IBM were famously <a href="https://www.huffpost.com/entry/ibm-holocaust_b_1301691">involved with the other side</a> during the war. Second, itâ€™s just not something thereâ€™s evidence of him talking about. When IBM presented plans for their early commercial computers to various businesses, they got about ten immediate sign-ups and as many expressions of interest. Thatâ€™s already a market for twenty computers. Various people in government on both sides of the pond, including the UK National Physical Laboratoryâ€™s head Sir Charles Darwin (grandson of the one youâ€™ve heard of), may have said that their respective governmentâ€™s <em>laboratory</em> needs could be satisfied by a small number of computers, but these seem to be estimates of immediate resource usage rather than predictions of future market growth.</p>
<p>Like the 640k RAM thing attributed to Bill Gates, the five computers quote seems to be a fabrication from a later age, invented to teach us a lesson about the futility of grand predictions. Itâ€™s a shame, though, because the five computers prediction looks like it may come true very soon.</p>
<p>Through a combination of adoption of virtualisation technologies (theoretically improving the portability of software deployments) and consolidation onto a small number of providers (practically ensuring that no such portability occurs), three of the five computers can easily be identified. Amazon, Alphabetâ€™s Google and Microsoft each run one of the worldâ€™s three largest commercial computer-time rental businesses. Their three CFOs each centrally command an economy worth in the region of $1T (particular quotes taken from Yahoo! Finance on 14th June valued Amazon at $1.27T, Alphabet at $0.96T, and Microsoft at $1.42T), though as we shall soon see itâ€™s probably best to see them as department heads of a single multi-trillion global computer economy encompassing the three businesses and more. To put that into comparison with other planned economies, the Soviet Union reached a GDP of $1T in 1979 and $2T before its dissolution a little over a decade later.</p>
<p>So which computers are fourth and fifth in the global market? Certainly none of the other cloud providers, who are all tiny in comparison. The closest runner is Alibaba ($0.58T), but forget the other western runners, Oracle ($0.16T) and IBM ($0.11T). They can both be seen as attempts to extract rental income from their existing hardware platforms â€“ SPARC and RS6000/Power, respectively.</p>
<p>And talking of RISC CPU designs leads us to disregard another wannabe competitor whoâ€™d definitely <em>like</em> to be in the big five, but seems destined to come crashing back down to the ground. As excitement mounts over whether certain high-profile computer vendors may switch to using the ARM CPU design in their systems, ARM sales and revenue are down and parent company Softbank is suffering losses, too (both directly, and its $100B Vision Development Fund). ARMâ€™s heritage is in desktop and mobile computing (the chip was designed to run the Acorn Archimedes line of personal computers, and when ARM was spun out of Acorn they received funding from Apple to develop chips for the Newton line of handheld computers). This is clearly a market that current CEO, Simon Segars, sees as legacy business, the cash cow that he can squeeze to fund his real interest in the Internet of Things. Thus ARMâ€™s new goal, to enable â€œa trillion connected devicesâ€.</p>
<p>You could see Softbankâ€™s pattern of investments as an attempt to create that fourth computer in the market of five, the distributed computer of things. Whether youâ€™re in the office (Slack, We), at home (Grofers, FirstCry, OpenDoor), or inbetween (Cambridge Mobile Telematics, Mapbox, GetAround), Softbank are hoping that youâ€™re connected to Masaâ€™s computer. Their particular choices, and scattergun approach, mean that this is unlikely to coalesce within the funds and time available to Softbank. Itâ€™s unlikely that theyâ€™d take ARM down with them before someone stepped in to buy it out. Which brings us on to the <em>real</em> contender for the worldâ€™s fourth computer:</p>
<p>Apple. The Apple cloud is a computer that contains a lot of music, TV shows, movies, games, books, news reports, and storage space that users of Appleâ€™s consumer electronics can rent access on. As a cross-selling deal, a small amount of access is offered with the sale of each of the consumer devices. Unlike the other three computers weâ€™ve seen so far (Amazonâ€™s, Alphabetâ€™s, and Microsoftâ€™s), you canâ€™t rent time directly on the Apple computer to run your own code. You can upload your own software, but you rely on people discovering and choosing to run it themselves. The execution is actually done on the end devices, not on the Apple computer, though the documents people create may be synced via the Apple computer. By the way, Appleâ€™s planned economy currently amounts to $1.47T.</p>
<p>You may notice that described this way, the Apple computer sounds a lot like the Ethereum computer, and expect me to suggest that itâ€™s the fifth computer, or maybe the bitcoin computer, but no. Itâ€™s the Facebook computer. Like the four previously mentioned, the Facebook computer is a huge distributed computer with billions of users, running lots of different applications. Like the Apple computer, you canâ€™t just run your own code on the Facebook computer (well you <em>can</em> run games), but that doesnâ€™t matter, because most people use computers for the same reasons. The big feature of the Facebook computer is the contacts app, which has about a third of the worldâ€™s population on.</p>
<p>Those are the five computers of the world market, together directly controlling $5.8T of the worldâ€™s assets, roughly 2/3 the value of the total amount of gold in the world. Indirectly, their influence through app stores, subscription fees, software providers who are dependent on their services, resellers and so on is significantly larger.</p>
<p>And itâ€™s important to consider them together, because the veneer of competing in an open market only goes so deep. Look at any relevant trade association and youâ€™ll see the trillion-dollar computer vendors working together toward their common interests, for example the Cloud Native Computing Foundation (Alibaba, Amazon, Apple, Softbank ARM, Google, IBM, Microsoft, Oracle, others), or the Linux Foundation (Fujitsu, Google, IBM, Microsoft, Oracle, Alibaba, Facebook, Amazon, Softbank ARM, others). There is really one central computing economy, controlling well over six trillion dollars of technology investment, with five different public faces.</p>
<p>How did the market for computers get consolidated to this extent? It certainly wasnâ€™t inevitable. Early examples of outsourced computing were advantageous because the hardware was so expensive, needed specialist and frequent handling, and there just wasnâ€™t much of it about. Those early IBM systems that Watson found more than five customers for could be rented for around $12k-18k per <em>month</em>, so you had to be sure that your computing job was going to save a few peopleâ€™s salaries before you even ran it in the cloud.</p>
<p>Where companies did invest in computing hardware, offering the platform as a service to others help to offset the purchase and development costs. The first commercial computer in the UK was the Lyons Electronic Office I, developed from the EDSAC machine by food producer Lyons. LEO/I also ran payroll for Ford UK, and weather simulations for the Met Office (until they bought their own Ferranti computer). It was in use between the 1950s and the 1980s, demonstrating great longevity in the days before planned obsolence.</p>
<p>During those decades, the smaller size of components, greater reliability, lower costs, improved usability and application combined with the business vision of key people who set out to provide â€œa computer on every desktopâ€. Rather than a small number of computers becoming more capable, capabilities became more widespread, more distributed, more affordable, and more accessible. Computers shrank in size and cost until every office building, every cubicle, every home, eventually every pocket could contain one.</p>
<p>None of the technical, physical or practical trends described above have reversed to lead to the cloud computing consolidation we see today, and the world market for five computers. The only change that can account for this behaviour is the business vision, and the direction in which the cadre of executives take their companies.</p>
<p>Since the dot com crash of 1999-2001, investors have looked to seed companies with the smallest amount of money possible to lead to either a rapid collapse or rapid growth supported by multiple follow-on investment rounds until an eventual exit. Hockey-stick charts, â€œdisruptionâ€, â€œMVPsâ€, â€œgrowth hackingâ€, â€œfail fastâ€ are not neutral business advice, but a particular way of working designed to minimise risk and maximise payoff for a small clique of rich investors who expect the money they lend out to work its way back into the system â€“ perhaps through cloud subscription fees paid to companies they hold positions in. Donâ€™t go buying expensive capital investments like offices, desks or computers when you can rent themâ€¦from us.</p>
<p>This has led to the situation where computing applications are architected with the goal of rapidly meeting the goal of tomorrowâ€™s investor presentation, regardless of the effect this has on the later costs or usability of the product. One workload I now support would cost an estimated Â£6000 per month to run on one of the large cloud providers, which would allow me to purchase the actual hardware in use four times over every year. But â€œspinning up an instanceâ€ today using free credits means you can worry about that cost later, whereas ordering a box from Dell means waiting two to three business days by which â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://deprogrammaticaipsum.com/five-computers/">https://deprogrammaticaipsum.com/five-computers/</a></em></p>]]>
            </description>
            <link>https://deprogrammaticaipsum.com/five-computers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746253</guid>
            <pubDate>Mon, 06 Jul 2020 10:04:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[â€œIndustrial Society and its Futureâ€: the writings of the Unabomber]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 167 (<a href="https://news.ycombinator.com/item?id=23746087">thread link</a>) | @roelp_be
<br/>
July 6, 2020 | https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/ | <a href="https://web.archive.org/web/*/https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>Preface to this blog post</h2>



<p>Why review a book from the hand of a notorious terrorist who killed three and maimed dozens of people? That seems like the right question to answer before continuing this blog post. <a href="https://en.wikipedia.org/wiki/Ted_Kaczynski">Theodore J. Kaczynski</a> is an extremely intelligent yet wounded man. Heâ€™s been a victim of cold-war era social experiments and, throughout his life, has always been an outsider. He retreated from society and lived like a hermit in the woods in Montana. Nevertheless, he was an activist in search of attention for his ideology and manifesto.</p>



<p>Numerous human lives have been sacrificed on the altars of freedom, ideology, and a better world. Wherever you position yourself on the political spectrum, from left to right, your heroes have blood on their hands. Reagan, Lenin, Bush, Mao, Napoleon, Robespierre, Obama, Chavez, Macron, Selassie, and Guevara, in one way or another, are responsible for the death and suffering of many. Yet we read their memoirs, manifestoes, and biographies. We have their posters on the walls of our childrenâ€™s rooms. In this light, <strong>the refusal to read and review <em>Industrial Society and its Future</em> would be an act of hypocrisy. </strong></p>



<p>Finally, the central claim that technology is inherently bad for society is of relevance to this blog. I completely distance myself from the manâ€™s actions, but his manifesto definitely struck a chord. I currently cannot think of a better way to scrutinize my techno-optimism than to write about it.</p>



<h2>The Power Process</h2>



<p><em>Industrial Society and its Future</em> is an essay of 232 numbered paragraphs in which Kaczynski explains whatâ€™s wrong with society, how it should be, and how we can get there. The most interesting parts of the essay describe the core concept of the <em>Power Process</em>, its consequences, and how technology has an impact on it.</p>



<p><strong>Human drives</strong> can be classified in three broad categories:</p>



<ul><li>Drives that can be satisfied with minimal effort: a walk around the block.</li><li>Drives that can be satisfied at the cost of serious effort: chopping down a tree for burning wood.</li><li>Drives that cannot be satisfied, no matter the effort one puts in it: somersault from a high cliff and survive it</li></ul>



<p>Kaczynski claims that <strong>all humans need a power process</strong>: (1) we all need goals, (2) effort to attain them, and (3) the attainment of some of these goals. Finally, it requires a degree of (4) autonomy. Consequently, the power process is part of the second category of human drives.</p>



<p>If unattained goals result in death, they are important. If the non-attainment of oneâ€™s goals is compatible with survival (i.e. not important), it will lead to defeatism, low self-esteem, and depression (as I explain later on). In the Western world, one only needs minimum effort to survive. Satisfying biological needs has been reduced to triviality. One can live off welfare checks, or have a bullshit job to satisfy physical needs. The only thing required is a minimal degree of obedience. Humans have given up autonomy and effort to attain the needs to survive â€” the important goals.  Thatâ€™s why humans artificially create the four components of the power process for themselves: they are involved in <strong>surrogate activities</strong>: long-distance running, blogging, collecting stamps, gardening and even pursuing an academic career. </p>



<h2>Technology messes with the power process</h2>



<p>Kaczynski distinguishes between <strong>two kinds of technology</strong>: The first one is <strong>small-scale technology</strong>, like a mill or a water wheel. The second kind is <strong>organization-dependent technology</strong> that requires large-scale social organization: A refrigerator depends on complicated and industrially created parts and requires electricity. The first kind can produce real progress and freedom. The second kind has a negative impact on our freedom: the externalities outweigh the benefits. Itâ€™s <a href="https://en.wikipedia.org/wiki/Prisoner%27s_dilemma">the prisonerâ€™s dilemma</a> on a global scale.</p>



<p>Since the Industrial Revolution, most new technologies are of the second kind. The wave of <em>smart</em> and <em>connected</em> devices and software thatâ€™s heading our way is no different. Algorithms can curate all available information on our timelines, only inviting more and more (fake?) articles to be produced. Autonomous cars are safer and offer the freedom to keep the hands of the wheel. Yet as self-driving cars are simply sensors on wheels, you will have zero privacy regarding your location. Self-service checkouts are supposed to be faster. Yet as supermarket customers more often use them, fewer registers with cashiers will be available, reducing human personal contact. Oh, and you need a loyalty card, which is digital-only, for which you need a smartphone.</p>



<p>Social and psychological problems arise when humans cannot go through the power process. <strong>In modern society, technology (especially of the second kind) tends to push drives into the first group</strong>: gathering food is now <a href="https://www.ubereats.com/">one tap away</a>.  Intimacy can be achieved by <a href="https://tinder.com/">swiping</a> or paying a <a href="https://www.pornhub.com/live">minimum fee</a>. Leisure can be found on <a href="https://www.netflix.com/be-en/">Netflix</a> or <a href="https://store.steampowered.com/">Steam</a>. Turn up the heat by asking your <a href="https://store.google.com/us/magazine/compare_thermostats">Nest</a>. </p>



<p>On the other hand,<strong> technology also moved other drives into the third category</strong>. With urbanization reaching record numbers; experiencing authenticity, harmony, nature, silence, and clean air is nearly impossible for many inhabitants of this planet.</p>



<p><strong>Some important goals that remain in the second category, like achieving status, can no longer be done autonomously</strong>. To reach the highest echelons of the corporate ladder, one needs to adhere to company culture, engage in networking, and pass opaque assessments. A management position is often at the goodwill of another manager, higher up.</p>



<p>The primitive man only had to fear disease and certain aspects of the environment. He could accept this stoically, or invent gods and demons. But these problems werenâ€™t man-made, imposed on them by someoneâ€™s decision which he had no impact on. Although many of us create them for themselves, for others,<strong> surrogate activities do not suffice. The results are aggression, mental breakdowns, burnouts, depressions, mid-life crises, and declining fertility.</strong> As decisions are increasingly outsourced to <a href="https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing"><em>trustworthy </em>and <em>unbiased</em> machines</a> â€” think<a href="https://www.nytimes.com/2020/01/12/technology/facial-recognition-police.html"> facial recognition by police departments</a>, or <a href="https://www.technologyreview.com/2019/01/21/137783/algorithms-criminal-justice-ai/">algorithms sending people to jail</a> â€” hopelessness and rebellion will only increase.</p>



<p>In modern society, mental health is defined by how one behaves in accord with the needs of the system.</p>



<h2>Technology is a rational response to problems</h2>



<p>A compromise between freedom and technology is impossible because technology is a more powerful social force than the aspiration for freedom. Thatâ€™s because each new technology appears to be desirable<strong> and only threatens our freedom later on</strong>. Motorized transport allows us to travel a lot farther. Yet once the adoption of cars reaches a critical threshold, one is <em>expected</em> to own a car: Local shops and public services disappear and become centralized in malls and government buildings. The internet allowed us to communicate with each other faster than ever. As companies adopted the internet, one can no longer apply for a job without an internet connection. Technology changes society as to make itself indispensable.</p>



<p>The following words read like a prophecy: â€œ<em>Generally speaking, <strong>technological control over human behavior will probably not be introduced with a totalitarian intention</strong> or even through a conscious desire to restrict human freedom. Each new step in the assertion of control over the humankind will be taken as a rational response to a problem that faces societyâ€¦â€</em></p>



<p>For example, society has given up privacy to battle COVID-19 with apps and track&amp;trace strategies. Facebook promised us freedom of speech and unlimited reach, but without the financial means, youâ€™re <a href="https://blog.hootsuite.com/facebook-algorithm/">shouting in a vacuum</a>. The Patriot Act (and the <a href="https://www.aclu.org/issues/national-security/privacy-and-surveillance/surveillance-under-patriot-act">mass surveillance technology</a> that came with it) was designed to battle terrorism but introduced legal arbitrariness. These three examples were all <strong>rational responses to existing problems but produced unforeseen externalities</strong>.</p>



<p>As technology makes itself indispensable, machines will take care of more and more tasks and â€œ<em>on those who are employed, ever-increasing demands will be placed: the will need more training, more and more ability, and will have to be ever more reliable, conforming and docile, because they will be more and more like cells of a giant organism.</em>â€œ</p>



<p>Think of the swarm of Uber or Lyft drivers who took a short training on how to use the app and are now driving people around in servile silence. Their data feeds the algorithm, and the algorithm thinks for them. <strong>The only thing left is to abide by the system.</strong></p>



<h2>Revolution</h2>



<p>Which brings us to Kaczynskiâ€™s â€œsolutionâ€. This topic lacks the depth and cunning analogies that can be found in the earlier chapters. His recipes arenâ€™t new: one can find elements of <a href="https://en.wikipedia.org/wiki/Mikhail_Bakunin">Bakunist</a>, <a href="https://en.wikipedia.org/wiki/Cultural_hegemony">Gramscist</a>, and <a href="https://en.wikipedia.org/wiki/Foco">Debrayist</a> thinking.</p>



<p>Because technology is the strongest social force, <strong>gradual change is impossible</strong>. The only way to break this circle, this slippery slope to servitude to the machine, is a revolution. While the system might collapse under its own internal difficulties, Kaczynski claims we should promote social stress and instability in industrial society. Humanity should return to nature to live in small groups and to be in control of life-and-death issues: food, clothing, shelter, and defense. This is true freedom: the power to control the circumstances of oneâ€™s own life. Itâ€™s not an ideology, itâ€™s Nature with a big N:</p>



<p><em>â€œWe have no illusions about the feasibility of creating a new, ideal form of society. Our goal is only to destroy the existing form of society.â€</em></p>



<h2>Final thoughts</h2>



<p>Manifestos are always dull, so I didnâ€™t expect this book to be an enjoyable read. But quite a lot of insights were so masterfully crafted, that I often had to allow my mind to wander off in a quest to find (counter-)examples and arguments to what I just read. If youâ€™re into political theory, this will be a treat.</p>



<p>Nevertheless, the structure of the book and the order of the chapters seemed strange to â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/">https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/</a></em></p>]]>
            </description>
            <link>https://www.roelpeters.be/industrial-society-and-its-future-the-intelligent-yet-angry-writings-of-a-terrorist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23746087</guid>
            <pubDate>Mon, 06 Jul 2020 09:26:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 0 Password, never losing your password manager password]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23745988">thread link</a>) | @AutumnWu
<br/>
July 6, 2020 | https://www.bluespace.tech/blog/0password/ | <a href="https://web.archive.org/web/*/https://www.bluespace.tech/blog/0password/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        
        <p><img src="https://www.bluespace.tech/blog/0password/forgot-password.png"></p>
        <p>A few months ago, Scott Stein shared an article on CNet, <a href="https://www.cnet.com/news/password-managers-great-until-you-lose-access-world-password-day/">Password managers are great -- until you lose your password manager password</a>. Many people shared and retweeted the article. You know that feeling if you ever lost the password to your password manager.</p>
        <h2 id="why-do-password-managers-require-a-master-password">Why do password managers require a master password?</h2>
        <p>The earliest first generation password managers can manage passwords, by keeping them somewhere, but not protect them well.</p>
        <p>About 20 years ago, <a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a> was recommended as a standard. It transforms a simple password into a complex key which can be used in cryptographic algorithms.</p>
        <p>Since then, lots of second and third generation password managers have been emerging. They derive encryption key from master password, then encrypt user data with the key. This is how it works:</p>
        <pre>            <code><p>graph TD

            subgraph 1. key derivation

            password --&gt; PBKDF2(PBKDF2)
            salt --&gt; PBKDF2
            PBKDF2 --&gt;|derive| key[[key]]

            end

            subgraph 2. encryption

            key --&gt; AES(AES)
            plaintext --&gt; AES
            AES --&gt; |encrypt| ciphertext[(ciphertext)]

            end

            style password fill:#fff, stroke: #aaa
            style ciphertext fill: #ddd, stroke: #aaa
            style salt fill:#fff
            style plaintext fill:#fff, stroke: #aaa
            </p></code>
        </pre>
        <blockquote>
        <p>In cryptography,</p>
        <ul>
        <li><code>plaintext</code> is unencrypted data intended to be encrypted;</li>
        <li><code>ciphertext</code> is the output of encryption of <code>plaintext</code>.</li>
        </ul>
        </blockquote>
        <p>To get the <code>plaintext</code> back, password managers derive the key just as above, but perform decrypt operation instead of encrypt operation in the second step.</p>
        <pre>            <code><p>graph TD

            subgraph 1. key derivation

            password --&gt; PBKDF2(PBKDF2)
            salt --&gt; PBKDF2
            PBKDF2 --&gt;|derive| key[[key]]

            end

            subgraph 2. decryption

            key --&gt; AES(AES)
            ciphertext[(ciphertext)] --&gt; AES
            AES --&gt; |decrypt| plaintext

            end

            style password fill:#fff, stroke: #aaa
            style salt fill:#fff
            style plaintext fill:#fff, stroke: #aaa
            style ciphertext fill:#ddd, stroke: #aaa
            </p></code>
        </pre>
        <p>I will not go deep for it in this article. If you are interested in the details, please checkout this series <a href="https://www.bluespace.tech/blog/evolution-of-password-manager/">The evolution of password manager</a>.</p>
        <p>Essentially, to encrypt user data, password managers must rely on some <strong>secret controlled by the user</strong>, so that hackers cannot get data from the ciphertext.</p>
        <h2 id="secret-in-security-chip">Secret in security chip</h2>
        <p><img src="https://www.bluespace.tech/blog/0password/security-chip.png" alt=""></p>
        <p><a href="https://developer.android.com/guide/topics/connectivity/nfc/hce#SecureElement">NFC card emulation with a secure element in Android.</a></p>
        <p>Nowadays, most smartphones, except some low-end ones, are equipped with a dedicated security chip(Trusted Execution Environment, Secure Element, or Secure Enclave in iOS). Emulated payment cards in iPhone and Android wallet apps are secured by this chip.</p>
        <p>Our fourth generation password manager, ID Guard Offline, can be safely used without a master password. The secret for encryption can be secured by the chip which is much more reliable than human brain. Again, if you are interested in how it works, please checkout <a href="https://www.bluespace.tech/blog/evolution-of-password-manager/fourth-generation-password-manager.html">The Evolution of Password Manager (4/4)</a>.</p>
        <h3 id="master-password">Master password</h3>
        <p>Scott Stein, the CNet staff, lost all his passwords because of forgetting master password. It is the nature of the algorithm above. In addition to using security chip protection, ID Guard Offline also offers master password protection (users can choose whether to use it). So our users may also encounter the same problem. We believe that availability is just as important as confidentiality to password managers and we need to resolve that problem.</p>
        <p>Some password manager providers allow user to reset master password, Google for example. If a user can reset master password and continue to view passwords stored previously, then those passwords are not secured by the master password.</p>
        <p>Our team of course do not compromise on security. The master password can never be reset. Then, is it possible to get the master password back when our user cannot recall it?</p>
        <h3 id="find-back-my-password">Find back my password</h3>
        <p>Some social services offer user account recovery with the help of trusted contacts when the user forgets the password. Here is how it works.</p>
        <ul>
        <li>The user is required to ask his/her trusted contacts to accomplish some tasks(e.g. sending a code).</li>
        <li>The service detects whether those trusted contacts complete the tasks.</li>
        <li>If so, the service lets the user login and asks he/she to reset password.</li>
        </ul>
        <p>Inspired by this, we have a simple idea: ask friends to help find password back. And finally, we perfected this design after several iterations.</p>
        <ol>
        <li>
            <p>Ask friends to save my password</p>
            
            <p>The first idea coming into our minds was just asking friends to save the password. When forgetting the password, ask a friend to tell me the password. It's like asking a friend to keep my house keys temporarily.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/key.jpg" alt=""></p>
            
            <p>Obviously, this is not safe. Passwords are always meant to be kept secretly. Lots of users reuse their passwords, one leaked password can endanger a large number of accounts.</p>
            

        </li>
        <li>
            <p>Encrypt the password then send to friends</p>
            
            <p>Encryption is a good idea. The problem is how to choose/derive the encryption key. We cannot ask user to set another password to encrypt the password, right?</p>
            
            <img src="https://www.bluespace.tech/blog/0password/russian-doll.jpg" alt="">
            
            <p>Stay safe</p>
            
            <p>If the encryption does not depend on user's secret, the encryption key must be hardcoded. We will not make <a href="https://team-sik.org/sik-2016-022/">the same mistake like other password managers did years ago</a>.</p>
            
        </li>
        <li>
        <p>Encrypt the password with a key inside the security chip on smartphone, and send only the <code>ciphertext</code> to friends</p>
        <pre>            <code>
                <p>graph TD

                key[[key]] --&gt; AES(AES)
                password --&gt; AES
                AES --&gt;|encrypt| ciphertext[(password file)]

                key --&gt; phone[Secure Element]
                ciphertext --&gt; friend[saved by friend]

                style password fill:#fff, stroke: #aaa
                style ciphertext fill: #ddd, stroke: #aaa
                style phone fill: #b3d26a
                style friend fill: #acf
                </p></code>
            </pre>
            <p>In this proposal, a password file(<code>ciphertext</code>) is kept by each friend, but the <code>keys</code> are secured by the security chip on the phone.
            The password can be decrypted if a friend sends back the password file, when finding back the password.</p>
            <pre>                <code><p>graph TD

                subgraph 1. find back password

                masterPasswordKey[[key]] --&gt; masterPasswordAes(AES)
                masterPasswordCiphertext[(password file)] --&gt; masterPasswordAes
                masterPasswordAes --&gt;|decrypt| password

                end

                subgraph 2. key derivation

                password --&gt; PBKDF2(PBKDF2)
                salt --&gt; PBKDF2
                PBKDF2 --&gt;|derive| key[[key]]

                end

                subgraph 3. decryption

                key --&gt; AES(AES)
                ciphertext[(ciphertext)] --&gt; AES
                AES --&gt; |decrypt| plaintext

                end

                style masterPasswordCiphertext fill: #ddd, stroke: #aaa
                style password fill:#fff, stroke: #aaa
                style ciphertext fill: #ddd, stroke: #aaa
                style salt fill:#fff
                style plaintext fill:#fff, stroke: #aaa
                </p></code>
            </pre>
        <p>Friends are required to save the password file into ID Guard Offline, which is secured by the security chip on the phone. So hackers cannot steal the password file. This finding back master password mechanism does not weaken the security of the data stored in ID Guard Offline.</p>
        <ul>
        <li>If a hacker steals a user's phone and unlocks it(by screen PIN), he/she still needs to enter the master password.
        <ul>
        <li>If the hacker does not know the master password, he/she has to steal and unlock the phone of a friend, and crack ID Guard Offline app on that friend's phone, which is really hard.</li>
        </ul>
        </li>
        <li>If a hacker cracks and gets the password file from a friend, he/she cannot decrypt the ciphertext without the encryption key inside the security chip on the user's phone.</li>
        </ul>
        </li>
        </ol>
        <h3 id="how-to-setup-and-find-back-the-password">How to setup and find back the password?</h3>
        <p>So how to use it?</p>
        <ol>
        <li>
            <p>If you are using master password to unlock the app, go to the <code>Find back master password</code> setup view, enter your friend's name, and touch <code>Send</code> button.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/send-password-file.png" alt=""></p>
            
        </li>
        <li>
            <p>Send the password file to your friend and ask him/her to save it in ID Guard Offline.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/save-password-file.png" alt=""></p>
            
        </li>
        <li>
            <p>If you forget your master password, you can check out the list of friends who can help you.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/friend-list.png" alt=""></p>
            
        </li>
        <li>
            <p>Ask a friend to send back the password file, open it with ID Guard Offline to unlock it. You need to change unlock method immediately.</p>
            
            <p><img src="https://www.bluespace.tech/blog/0password/unlock-successfully.png" alt=""></p>
            
        </li>
        </ol>
        <h3 id="comparison">Comparison</h3>
        <h4 id="recover-account-with-trusted-contacts">Recover account with trusted contacts</h4>
        <p>Trusted contacts must be very trustworthy when using the account recovery feature offered by social services. Otherwise, those "bad friends" can hack into my account by initializing the account recovery process and completing the tasks required by the service.</p>
        <p>We borrow the idea from social services, but in our design, friends can be somewhat dependable because they cannot decrypt my passwords without the key. Also, I can get my password back as long as one of my friends can give me the password file.</p>
        <h4 id="password-managers-can-reset-master-password">Password managers can reset master password</h4>
        <p>Both those â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.bluespace.tech/blog/0password/">https://www.bluespace.tech/blog/0password/</a></em></p>]]>
            </description>
            <link>https://www.bluespace.tech/blog/0password/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745988</guid>
            <pubDate>Mon, 06 Jul 2020 09:06:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacker News Design Is Ugly]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23745595">thread link</a>) | @neilpanchal
<br/>
July 6, 2020 | https://neil.computer/notes/hacker-news-design-is-ugly/ | <a href="https://web.archive.org/web/*/https://neil.computer/notes/hacker-news-design-is-ugly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article>
        <h2>Hacker News Design is Ugly</h2>
        <p>This thing is straight up ugly. It is too simple, useful, pragmatic, dense and practical. Boring. These days the cool things are purple gradients, lots of negative space and loss of contrast. People on HN keep <a href="https://news.ycombinator.com/item?id=23199603">raving</a> about this design thing but boy they are so wrong.</p><p>Let's fix it.</p><h2 id="current-state">Current State</h2><p>This is what HN front-page looks like when you login. It has absolutely zero pop. Typical engineers, what do they know about design?</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.01-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>Let's make it pop, shall we?</p><h2 id="fixing-hn-design">Fixing HN Design</h2><p>First things first. <em>Padding</em>. When I am bored, running out of ideas, I like to do one thing that usually makes things 10x better. Padding is like a chef's knife in the kitchen. Know how to use it well and you'll be cutting through information rich UI like butter. It is what sets professional designers from these gray-beard types.</p><p>It is difficult to do it right, so please allow me to exemplify the process. First, add padding to the <code>body</code> tag.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.35.35-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>See the difference? Holy crap. The UI just suddenly started <em>breathing</em>.</p><p>Let's add more spacing between this conjested highly dense information rich piece of shit.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png" alt="" width="1938" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1600w, https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.37.35-PM.png 1938w" sizes="(min-width: 720px) 720px"></figure><p>The color orange is fine with me but it is not gonna get you through the design school and into the real world. The world today demands magenta. Magenta/Purple/Cyan all inspired by Stripe UI since 2015 or so and it really set the standard for a modern color palette. Throw your creativity and objectivity away, the trend dictates what we should choose<em>.</em> May be it PANTONE will come up with a <a href="https://www.pantone.com/color-intelligence/color-of-the-year/color-of-the-year-2020">color of the year</a> and it will change. But as per current design trends, purple is the safe choice.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.53.20-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>BAM. What you didn't notice is I also got rid of all background colors to flatten things a bit. I hate borders which are a graphical device invented to create logical spatial layouts but those things are for boring websites for techy folks.</p><p>Next up. Pro tip: Border-radius. It is not as complicated as it sounds. Simply put, we like to make things rounded as allows us to compete for a one of those web design <a href="https://www.awwwards.com/">awwwards</a> and border-radius is a mandatory requirement before creating a <a href="https://dribbble.com/">dribbble</a> account. So we must comply without the thought of originality.</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.54.51-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>See? It really ties the web page together.</p><p>Those pesky informative sub-titles are jarring as it helps the user too much. Let's make it so that it loses contrast and fades away in the background. As a side effect, it makes the whole thing more minimal. Minimalism at all costs. Try to make things minimal by removing features and neutring functionality - no one will ever notice. </p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png" alt="" width="2598" height="2254" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-05-at-11.55.33-PM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>It looks minimal af.</p><p>That's all folks. Hacker News redesigned. These are the basics but if there is enough interest, I can probably make another tutorial on how to do <em>this</em>:</p><figure><img src="https://neil.computer/content/images/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png" alt="" width="2510" height="2166" srcset="https://neil.computer/content/images/size/w600/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 600w, https://neil.computer/content/images/size/w1000/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 1000w, https://neil.computer/content/images/size/w1600/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 1600w, https://neil.computer/content/images/size/w2400/2020/07/Screen-Shot-2020-07-06-at-12.05.17-AM.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Until then, go here and browse some more trends to follow at the cost of authenticity, objectivity, originality, reasoning and fundamental understanding of how to design user interfaces: <a href="https://www.google.com/search?q=design+trends+2020">https://www.google.com/search?q=design+trends+2020</a></p>
        </article>
</div></div>]]>
            </description>
            <link>https://neil.computer/notes/hacker-news-design-is-ugly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745595</guid>
            <pubDate>Mon, 06 Jul 2020 07:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to process more than 350K requests per month free using 3 free ETA services]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23745223">thread link</a>) | @Gen1us
<br/>
July 5, 2020 | https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface | <a href="https://web.archive.org/web/*/https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://blog.maddevs.io/@meder33kg?source=post_page-----6edc6affface----------------------" rel="noopener"><img alt="Akkozov Meder" src="https://miro.medium.com/fit/c/96/96/2*87H69ujCEx7VLZYSZPQyig.jpeg" width="48" height="48"></a></p></div></div></div></div><figure><div><div><div><p><img alt="Estimated time of arrival." src="https://miro.medium.com/max/8000/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg" width="4000" height="2172" srcset="https://miro.medium.com/max/552/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 276w, https://miro.medium.com/max/1104/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 552w, https://miro.medium.com/max/1280/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 640w, https://miro.medium.com/max/1400/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*q9EOHqrYhaLpY1ZIL0C4Qw.jpeg?q=20"></p></div></div></div><figcaption>Estimated time of arrival</figcaption></figure><p id="cce6">This is a story on how to not spend even a penny by using three ETA (estimated time of arrival) services instead of one. Everything is based on my personal experience working as a back-end developer at GoDee project. GoDee is a start-up project that offers booking seats on a bus online. You could find more information about this project here:</p><p id="e338">GoDee is a public transportation service. Bus transportation by GoDee is more convenient than motorbikes common for Southeast Asia and cheaper than a taxi. The app-based system allows users to find an appropriate route, select the time, book the seat, and pay for the ride online. And one of the problems of GoDee is traffic jams that severely impact the user experience. Users get tired of waiting and get annoyed by trying to guess the bus arrival time. So, to make the commuting more convenient, it needed service to calculate the busâ€™s approximate arrival time, aka ETA.</p><p id="5226">Developing ETA from scratch would take at least a year. So, to speed up the process, GoDee decided to implement the Google Distance Matrix API tool. Later they developed their own Pifia micro-service.</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/500/1*vq9Ao08BtAdAMx5OYhbSlA.gif" width="250" height="429" data-old-src="https://miro.medium.com/freeze/max/34/1*vq9Ao08BtAdAMx5OYhbSlA.gif?q=20"></p></div></div></figure><p id="b97d">Over time, the business grew, and the user base increased. We encountered a problem with increasing requests in the Google Distance Matrix API.</p><h2 id="8971">Why is this a problem?</h2><p id="2a4f">Because every request costs money, Google API provides 10.000 free queries per month, after which every 1.000 queries are charged $20. At that time, we had about 150,000 requests per month.</p><p id="7492">My mentor was very dissatisfied with that. And said that system should change caching to store ETA every 30 minutes. At that time, the system sent requests to the Google API every 3 seconds to get fresh data. However, such a caching algorithm wasnâ€™t efficient, since minibuses were stuck in traffic. And so the distance only changed once every ten minutes. There was another nuance. For example, five users are asking for information about the same bus, and this is the same request. The cache solved this type of problem.</p><figure><div></div><figcaption>Ğ¡ache Code</figcaption></figure><p id="8a43">The cache worked, but not for long since GoDee grew even further and faced the same problem â€” the number of queries has increased again.</p><p id="9a57">It was decided to replace the Google API with OSRM. Basically, OSRM is a service for building a route based on ETA (this is a rough but the short description, if you need details, here is the <a href="http://project-osrm.org/" target="_blank" rel="noopener">link</a>).</p><blockquote><p id="113f">The Open Source Routing Machine or OSRM is a C++ implementation of a high-performance routing engine for the shortest paths in road networks.</p><p id="15be">Wikipedia.</p></blockquote><p id="97d4">OSRM has one problem: it builds routes and calculates ETA without taking traffic into account. To solve this problem, I started looking for services that can provide information about traffic in the specified part of the city. HERE Traffic was providing the data I needed. After a little study of the documentation, I wrote a small code that gets traffic information every 30 minutes. And to upload traffic information to OSRM, I wrote a small script with the command <code>./osrm-contract data.osrm --segment-speed-file updates.csv</code> (more details <a href="https://github.com/Project-OSRM/osrm-backend/wiki/Traffic" target="_blank" rel="noopener">here</a>).</p><p id="cbda">Math time: every half of the hour, there is a request to HERE to get traffic information this are two requests per hour, that is, a day is 48 requests (24 * 2 = 48) and a month is about â‰ˆ 1.488 (48*31 = 1.488) a year 17.520. Yes, we have these free requests from HERE for 15 years would be enough.</p><figure><div></div><figcaption>Code for getting traffic</figcaption></figure><p id="b1d9">Preliminary tests showed that the service works perfectly, but there is a problem, HERE gives traffic information in â€œgibberishâ€ and the data does not match the OSRM format. In order for the information to fit, you need to use another service HERE for geocoding + OSRM (for getting points on the map). This is approximately 450.000 requests per month. Later, OSRM was abandoned because the number of requests exceeded the free limit. We didnâ€™t give up and enabled the HERE Distance Matrix API and temporarily removed the Google Distance Matrix API. The logic HERE is simple: we send coordinates from point A to point B and get the bus arrival time.</p><figure><div></div></figure><p id="2e81">After we installed everything on the test server and started checking, we received the first feedback from the testers. They said that ETA reads the time incorrectly. We started looking for the problem, looked at logs (we used Data dog for logs), logs, and tests showed that everything works perfectly. We decided to ask about the problem in a little more detail, and it turned out that if the car is in traffic for 15 minutes, ETA shows the same time. We decided that this is because of the cache because it stores the original time and does not update it for 30 minutes.</p><p id="1d5a">We started looking for the problem, at the beginning we checked the data on the web version of the HERE Distance Matrix API (which is called we go here), everything worked fine, we received the same ETA. This problem was also checked on the google map service. There was no problem. The services themselves show this ETA. We explained everything to testers and businesses, and they accepted everything.</p><p id="18ce">Our team lead suggested connecting another ETA service and returning the Google API as a backup option and writing code with the logic of switching services (the switch was needed if the requests pass the free number of requests).</p><p id="e9c2">The code works the following way:</p><pre><span id="b4e7">val = getCount() // getting the number of queries used</span><span id="9ff9"><em>if</em> getMax() &lt;= val { // checking for the limit of free requests for the service used</span><span id="e935">newService = switchService(s) // // if the limit is reached, switch the service return</span><span id="cae7"><em>return</em> newService(from, to) // giving the logic of the new service </span></pre><p id="054f">We found the following Mapbox service, connected it, installed it, and it worked. As a result, our ETA had:</p><blockquote><p id="625d">â€œHereâ€ â€” 250,000 free requests per month<br>Google â€” 10,000 free requests per month<br>Mapbox â€” 100,000 free requests per month</p></blockquote><p id="4def">Always look for alternatives, sometimes it happens that the business doesn't want to pay the money for the service and refuses it. As a developer who has worked hard on the service, you should bring the task to real use. This article describes how we were trying to connect more services for the free use of ETA because the business did not want to pay for the service.</p><p id="4330">P.S. As a developer, I believe that if the tool is good and does its job well, then you can pay for the toolâ€™s services (or find Open source projects :D).</p><figure><div></div></figure></div></div></section></div></div>]]>
            </description>
            <link>https://blog.maddevs.io/how-to-make-three-paid-eta-services-one-free-6edc6affface</link>
            <guid isPermaLink="false">hacker-news-small-sites-23745223</guid>
            <pubDate>Mon, 06 Jul 2020 06:26:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Facebook Ads to Land an Interview at Reddit]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23744652">thread link</a>) | @shsachdev
<br/>
July 5, 2020 | https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads | <a href="https://web.archive.org/web/*/https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>
    The traditional way to get a job interview is to submit your resume and pray. 
    </p>
    <p>
    Everyone does this and itâ€™s taken to be the default because itâ€™s easy. You can send the same resume with the click of a button to totally different companies, no effort on your part other than preparing the resume.
    </p>
    <center>
            <img src="https://www.careerfair.io/assets_fbads/resume_blast.png" width="515" height="354" alt="">
              </center>


    
    <p>
    Thereâ€™s no way to stand out, no uniqueness. 
    </p>
    <p>
    Generally, the way to get around this is to ask for a referral or to reach out to someone at the company for some sort of informational interview. Both of these methods allow for a more personalized approach to job hunting. 
    </p>
    <p>
    But is it possible to go even one step further? 
    </p>
    
    
    
    <p>
    In 2016, <a href="https://www.linkedin.com/in/dumbfounder/">Chris Seline</a> was coming off a failed startup and looking for new opportunities. 
    </p>
    <p>
    Unlike most other people, though, Chris wasnâ€™t a fan of the resume blast method. 
    </p>
    <p>
    His strategy was to target specific companies and try to get noticed creatively rather than use the traditional channels and get lost in the shuffle. 
    </p>
    <p>
    Chris decided that he really wanted to work for Reddit. 
    </p>
    <p>
    His plan was to write a <a href="https://twicsy-blog.tumblr.com/post/135712326189/hey-reddit-lets-make-some-recommendations">blog post</a> and then email it to the CEO of Reddit. 
    </p>
    <p>
    The blog post is thorough - itâ€™s 2000 words, technical, and you can tell a lot of effort was put into it. 
    </p>
    <p>
    Even if Chris had emailed his post to the Reddit CEO, thereâ€™s a strong chance he would have gotten an interview. 99% of applicants donâ€™t put this much effort into an application and receiving such a personalized email is a positive signal. 
    </p>
    <p>
    But Chris didnâ€™t just email him. 
    </p>
    
    
    
    <p>
    He decided to use Facebook Ads to target the CEO of Reddit (Steve Huffman). 
    </p>
    <p>
    Hereâ€™s how he did it:
    </p>
    <ol>
    
    <li>Find the Reddit CEOâ€™s public Facebook profile
    
    </li><li>Use this to find out where he lived, what he liked, what he was interested in, etc
    
    </li><li>Use the above to run a super targeted FB Ads Campaign
    </li>
    </ol>
    <p>
    Note that Chris only wanted <em>one</em> person to click on this Ad, thatâ€™s why he had to go super targeted. 
    </p>

    <center>
        <img src="https://www.careerfair.io/assets_fbads/new_fb_ad.png" width="529" height="492" alt="">
          </center>
    
    
    
    
    <p>
    Chris ended up spending $10. The ad reached 197 people. 4 People clicked on it. One of them was the CEO of Reddit.
    </p>
    <p>
    Next thing you know, Reddit HR reached out to schedule an interview. Nicely done. 
    </p>
    <p>
    I contacted Chris to find out if he actually got the job - hereâ€™s what he said:
    </p>

    <blockquote>
    
        I did not. It turns out they were just starting a search for "head of search" at Reddit, and asked if I would like to interview for that job. That would have been my dream job, and definitely worth a move across the country, even with 3 kids and a wife in tow (I live in DC), so naturally I was very excited and said yes. But after a few talks they thought I didn't have enough experience with big companies, so they asked if I would be interested in an IC role. I was, but I wasn't willing to move across the country for that, and they didn't want to hire remote workers. So that was that.
        <span>Chris Seline</span>
    </blockquote>
   
    
    
    
    <p>
    The reason this is a fun story is because of the FB Ads. 
    </p>
    <p>
    But I think what people may gloss over is the amount of time and research Chris put into writing the blog post that he eventually showed to the Reddit CEO. 
    </p>
    <p>
    If we go back to the beginning of this case study, notice how I mentioned that just blasting a resume to a company signals nothing unique and frankly a lack of effort. 
    </p>
    <p>
    A good way to resolve problems is to invert them - if we do that here, we get the following:
    </p>

    <center>
        <img src="https://www.careerfair.io/assets_fbads/blast_v_tailored.png" width="536" height="225" alt="">
          </center>
    
    <p>
    Chrisâ€™ blog post was well researched, relevant, and made him stand out. The FB Ads targeting was just the cherry on top.
    </p>
    <p>
    Next time you see a job you really want to get, think about how you can go that one step further. 
    </p>
    <p>
    Thanks to Chris for responding to my email. You can read his original blog post on this <a href="https://twicsy-blog.tumblr.com/post/174063770074/how-i-targeted-the-reddit-ceo-with-facebook-ads-to">here</a>. 
    </p>
          </div></div>]]>
            </description>
            <link>https://www.careerfair.io/reviews/how-to-land-interview-using-fb-ads</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744652</guid>
            <pubDate>Mon, 06 Jul 2020 04:18:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making a RISC-V OS in Rust: Userspace Processes]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23744622">thread link</a>) | @azhenley
<br/>
July 5, 2020 | http://osblog.stephenmarz.com/ch11.html | <a href="https://web.archive.org/web/*/http://osblog.stephenmarz.com/ch11.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
<p>This is chapter 11 of a multi-part series on <a href="http://osblog.stephenmarz.com/index.html">writing a RISC-V OS in Rust</a>.</p>
<p><a href="http://osblog.stephenmarz.com/index.html">Table of Contents</a> â†’ <a href="http://osblog.stephenmarz.com/ch10.html">Chapter 10</a> â†’ (Chapter 11)</p>

<p>1 Jun 2020: Patreon only</p>
<p>8 Jun 2020: Public</p>
<h2>Resources and References</h2>
<p>
The ELF standard can be found here: <a href="http://osblog.stephenmarz.com/files/elf.pdf">ELF File Format (PDF)</a>.
</p>
<h2>Introduction</h2>
<p>
This is the moment we've all been waiting for. Ten chapters of setup have led us to this moment--to finally be able to load a process from the disk and run it. The file format for executables is called ELF (executable and linkable format). I will go into some detail about it, but there are plenty of avenues you can explore with this one file type.
</p>
<h2>The ELF File Format</h2>
<p>
The executable and linkable format (ELF) is a widely used file format. If you've used Linux, you no doubt have seen it or the effects of it. This file format contains an ELF header, followed by program headers. Each time, we're telling the OS where the linker has mapped the executable sections. If you don't remember, we have a .text section for CPU instructions, .rodata for global constants, .data for global initialized variables, and .bss section for global uninitialized variables. In the ELF format, the compiler decides where to put these. Also, since we're using virtual memory addresses, the ELF header specifies the <em>entry point</em>, which is what we'll put in the program counter when scheduling a process for the first time.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/elf_format.png"><img src="http://osblog.stephenmarz.com/imgs/elf_format.png"></a>
</p>
<p>
[joke]My handwriting hasn't improved since I was 4[/joke]
</p>
<p>
Let's look at some Rust structures that will help us. These are in elf.rs.
</p>
<pre><code>
#[repr(C)]
pub struct Header {
    pub magic: u32,
    pub bitsize: u8,
    pub endian: u8,
    pub ident_abi_version: u8,
    pub target_platform: u8,
    pub abi_version: u8,
    pub padding: [u8; 7],
    pub obj_type: u16,
    pub machine: u16, // 0xf3 for RISC-V
    pub version: u32,
    pub entry_addr: usize,
    pub phoff: usize,
    pub shoff: usize,
    pub flags: u32,
    pub ehsize: u16,
    pub phentsize: u16,
    pub phnum: u16,
    pub shentsize: u16,
    pub shnum: u16,
    pub shstrndx: u16,
}
</code>
</pre>
<p>
All ELF files start with this ELF Header structure. The very top is 0x7f followed by capital ELF, which is 0x7f 0x45 0x4c and 0x46 as you can see below. I took a simple hexdump of the ls (list) command. You can see sure as sh*t that the magic is right there.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/ls_elf.png"><img src="http://osblog.stephenmarz.com/imgs/ls_elf.png"></a>
</p>
<p>
The rest of the fields will tell us for which architecture this ELF file was made. RISC-V has reserved 0xf3 as its machine type. So, when we load an ELF from the disk, we must make sure it's for the correct architecture. You'll also notice that <code>entry_addr</code> is up there too. This is a virtual memory address where <code>_start</code> begins. Our _start just simply calls main and then when main returns, it calls the exit system call. This is how most programs actually work, but they do a much more rigorous job including getting command line arguments and so forth. Right now, we don't have those.
</p>
<p>
The field that we need to know is the <code>phoff</code> field which specifies the program headers' offset. The program headers is a table of one or more program sections. I took a snapshot of ls (again) and the program headers. You can do the same using <code>readelf -l /bin/ls</code>. The code below shows how I read the ELF header in Rust.
</p>
<pre><code>
let elf_hdr;
unsafe {
  elf_hdr = (buffer.get() as *const elf::Header).as_ref().unwrap();
}
if elf_hdr.magic != elf::MAGIC {
  println!("ELF magic didn't match.");
  return;
}
if elf_hdr.machine != elf::MACHINE_RISCV {
  println!("ELF loaded is not RISC-V.");
  return;
}
if elf_hdr.obj_type != elf::TYPE_EXEC {
  println!("ELF is not an executable.");
  return;
}
</code>
</pre>
<p>
You can see that now we're at the program headers, which I took a snapshot of for /bin/ls.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/ls_program_headers.png"><img src="http://osblog.stephenmarz.com/imgs/ls_program_headers.png"></a>
</p>
<p>
The program headers have the following structure in Rust.
</p>
<pre><code>
#[repr(C)]
pub struct ProgramHeader {
    pub seg_type: u32,
    pub flags: u32,
    pub off: usize,
    pub vaddr: usize,
    pub paddr: usize,
    pub filesz: usize,
    pub memsz: usize,
    pub align: usize,
}
</code>
</pre>
<p>
/bin/ls uses shared libraries, but we're not that good, yet. So, the only program headers we care about are the ones shown by LOAD. These are the sections that we need to load into memory for our static binaries. In the ProgramHeader structure, we need seg_type to be LOAD. The flags tell us how to protect the virtual memory. There are three flags EXECUTE (1), WRITE (2), and READ (4). We also need the off (offset), which tells us where in the ELF file that section to load into the program memory is contained. Finally, the vaddr is what we need to point the MMU to where we loaded this section into memory. You can see how I did this in test.rs in the test_elf() function.
</p>
<pre><code>
for i in 0..elf_hdr.phnum as usize {
  let ph = ph_tab.add(i).as_ref().unwrap();
  if ph.seg_type != elf::PH_SEG_TYPE_LOAD {
    continue;
  }
  if ph.memsz == 0 {
    continue;
  }
  memcpy(program_mem.add(ph.off), buffer.get().add(ph.off), ph.memsz);
  let mut bits = EntryBits::User.val();
  if ph.flags &amp; elf::PROG_EXECUTE != 0 {
    bits |= EntryBits::Execute.val();
  }
  if ph.flags &amp; elf::PROG_READ != 0 {
    bits |= EntryBits::Read.val();
  }
  if ph.flags &amp; elf::PROG_WRITE != 0 {
    bits |= EntryBits::Write.val();
  }
  let pages = (ph.memsz + PAGE_SIZE) / PAGE_SIZE;
  for i in 0..pages {
    let vaddr = ph.vaddr + i * PAGE_SIZE;
    let paddr = program_mem as usize + ph.off + i * PAGE_SIZE;
    map(table, vaddr, paddr, bits, 0);
  }
}
</code>
</pre>
<p>
All I do with the code above is enumerate all of the program headers. The ELF header tells us how many there are via the phnum field. We then check the segment type to see if it is LOAD. If it isn't, we skip it. Then, we check to see if that segment actually contains anything. If not, there's no use in loading it. Then, we copy what we read from the filesystem (buffer) into the process' memory (program_mem). Since these are virtual memory address, the rest of the code determines how we should map the pages.
</p>
<h2>Executing the Process</h2>
<p>
We need to map a few things, including the stack and the program. Also, don't forget to set the program counter to the entry_addr!
</p>
<pre><code>
(*my_proc.frame).pc = elf_hdr.entry_addr;
(*my_proc.frame).regs[2] = STACK_ADDR as usize + STACK_PAGES * PAGE_SIZE;
(*my_proc.frame).mode = CpuMode::User as usize;
(*my_proc.frame).pid = my_proc.pid as usize;
(*my_proc.frame).satp = build_satp(SatpMode::Sv39, my_proc.pid as usize, my_proc.root as usize);
</code>
</pre>
<p>
In here, regs[2] is the stack pointer (SP). This must be valid and mapped, otherwise the process will immediately page fault. Now that everything is set up, our last bit of execution is to add it to the process list. When the scheduler gets around to it, it will run our newly minted process!
</p>
<pre><code>
if let Some(mut pl) = unsafe { PROCESS_LIST.take() } {
  println!(
            "Added user process to the scheduler...get ready \
            for take-off!"
  );
  pl.push_back(my_proc);
  unsafe {
    PROCESS_LIST.replace(pl);
  }
}
else {
  println!("Unable to spawn process.");
}
</code>
</pre>
<h2>Writing Userspace Programs</h2>
<p>
We don't have a C library, yet. However, I'm making the OS come close to the newlib, which is a small C-library mainly for embedded systems. For now, I made a small library called <code>startlib</code> that will get us off the ground, and I copied printf into it.
</p>
<pre><code>
.section .text.init
.global _start
_start:
  call	main
  li	a0, 93
  j 	make_syscall
</code>
</pre>
<p>
The _start is a special label that the compiler will use as the entry point address. Recall that we set this in the program counter when we made a new process. After main returns, we schedule a system call number 93, which is the <code>exit</code> system call. All this system call does is deschedule the process and free all of its resources.
</p>
<p>
There are other utilities, including printf in our small library, but let's make a simple program to see if we can get it to work. To be more robust, I'm going to stretch all of our available sections to see if they load properly.
</p>
<pre><code>
#include &lt;printf.h&gt;

const int SIZE = 1000;
int myarray[SIZE];
int another_array[5] = {1, 2, 3, 4, 5};

int main()
{
  printf("I'm a C++ program, and I'm running in user space. How about a big, Hello World\n");
  printf("My array is at 0x%p\n", myarray);
  printf("I'm going to start crunching some numbers, so gimme a minute.\n");
  for (int i = 0;i &lt; SIZE;i++) {
    myarray[i] = another_array[i % 5];
  }
  for (int i = 0;i &lt; 100000000;i++) {
    myarray[i % SIZE] += 1;
  }
  printf("Ok, I'm done crunching. Wanna see myarray[0]? It's %d\n", myarray[0]);
  return 0;
}
</code>
</pre>
<p>
The program doesn't really do anything useful, but it will see if system calls work as well as context switching. On QEMU, this takes around 5 to 8 seconds to run on my machine at home.
</p>
<p>
We then compile this using our C++ toolchain (if you have one). <code>riscv64-unknown-elf-g++ -Wall -O0 -ffreestanding -nostartfiles -nostdlib -static -march=rv64g -mabi=lp64d -I./startlib -L./startlib -o helloworld.elf helloworld.cpp -lstart</code>
</p>
<p>
If you don't have a toolchain, you can download my program here: <a href="http://osblog.stephenmarz.com/helloworld.elf">helloworld.elf</a>. This requires that you have the systems calls identical to mine since it goes by a system call number.
</p>
<h2>Uploading the Program</h2>
<p>
We can use Linux to upload our elf file.
</p>
<p>
<a href="http://osblog.stephenmarz.com/imgs/upload_hw.png"><img src="http://osblog.stephenmarz.com/imgs/upload_hw.png"></a>
</p>
<p>
Take note of the inode number (26) and the file size (14776). Yours might be different, so make sure you stat it! Modify test.rs and put your inode and file size at the top.
</p>
<pre><code>
let files_inode = 26u32; // Change to yours!
let files_size = 14776; // Change to yours!
let bytes_to_read = 1024 * 50;
let mut buffer = BlockBuffer::new(bytes_to_read);
let bytes_read = syscall_fs_read(
                                  8,
                                  files_inode,
                                  buffer.get_mut(),
                                  bytes_to_read as u32,
                                  0,
);
if bytes_read != files_size {
  println!(
            "Unable to load program at inode {}, which should \
            be {} bytes, got {}",
            files_inode, files_size, bytes_read
  );
  return;
}
</code>
</pre>
<p>
This will use our filesystem read call to â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://osblog.stephenmarz.com/ch11.html">http://osblog.stephenmarz.com/ch11.html</a></em></p>]]>
            </description>
            <link>http://osblog.stephenmarz.com/ch11.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744622</guid>
            <pubDate>Mon, 06 Jul 2020 04:11:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CoreBGP â€“ Plugging in to BGP]]>
            </title>
            <description>
<![CDATA[
Score 126 | Comments 8 (<a href="https://news.ycombinator.com/item?id=23744167">thread link</a>) | @jordanwhited
<br/>
July 5, 2020 | https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/ | <a href="https://web.archive.org/web/*/https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<hr>
<p><img src="https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/cover.png" alt="cover"></p>
<hr>

<p><a href="https://tools.ietf.org/html/rfc4271" target="_blank">BGP</a> is one of many protocols that powers the Internet. Chances are you have heard of it, even if you donâ€™t work in or around the computer networking space. If you arenâ€™t familiar, Iâ€™ll try to provide some quick background:</p>
<ul>
<li>BGP is a <a href="https://en.wikipedia.org/wiki/Distance-vector_routing_protocol" target="_blank">distance-vector routing protocol</a> used to disseminate routing information.</li>
<li>A BGP speaker implements a <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank">finite state machine</a> with 6 states:
<ul>
<li>Idle</li>
<li>Active</li>
<li>Connect</li>
<li>OpenSent</li>
<li>OpenConfirm</li>
<li>Established</li>
</ul>
</li>
<li>Inputs to the BGP FSM include messages, timer events, and administrative events.</li>
<li>Routing information is exchanged via UPDATE messages in the Established state.</li>
<li>BGP is extensible; speakers communicate their capabilities via OPEN messages.</li>
</ul>
<p>Expanding on that last bullet point, itâ€™s difficult to summarize exactly how/where BGP is used due to its flexibility and extensibility. Various <a href="https://ietf.org/about/" target="_blank">IETF</a> Working Groups continue to publish BGP-related RFCs for a protocol that took shape in the early 90s. As the BGP landscape and application widens, we need software that enables us to keep up.</p>
<p>In this post Iâ€™ll provide some of my personal experience and history working with BGP, and introduce a new BGP library, <a href="https://github.com/jwhited/corebgp" target="_blank">CoreBGP</a>, which can be used to build the next generation of BGP-enabled applications.</p>

<p>In October of 2010 I attended my first <a href="https://www.nanog.org/" target="_blank">NANOG</a> meeting in Atlanta, GA after accidentally falling into the position of Network Operations Engineer at work. I worked for a modest-sized hosting provider at the time, and was intrigued with BGP. Upon arriving in Atlanta, I vaguely remember some confusion after telling a cab driver that the hotel I needed to be dropped at was on Peachtree St. I later learned that there are 71 streets in Atlanta with a variant of â€œPeachtreeâ€ in their name, according to <a href="https://en.wikipedia.org/wiki/Peachtree_Street#Nomenclature" target="_blank">Wikpedia</a>.</p>
<p>I got where I needed to go, eventually, and the first talk I attended was <a href="https://archive.nanog.org/meetings/nanog50/presentations/Sunday/NANOG50.Talk33.NANOG50-BGP-Techniques.pdf" target="_blank">BGP techniques for Internet Service Providers</a> by <a href="http://www.bgp4all.com.au/" target="_blank">Philip Smith</a>. Philip started with the basics before getting into the techniques used at ISPs. So many light bulbs went off for me during this talk. I have yet to see any other BGP presentation cover such a breadth of information but still do it in a way that is beginner-friendly, useful as a refresher for any expert, and just downright interesting.</p>
<p>Fast-forward 10 years and Iâ€™ve gained a fair share of experience operating networks that use BGP. In more recent years Iâ€™ve shifted to software engineering where Iâ€™ve had the opportunity to implement various BGP-enabled applications for network observability, data analytics, and SDN purposes.</p>
<p>Each time I started a new BGP-enabled app, I had to answer the following question â€“ which existing BGP implementation should be its foundation?</p>

<p>Of the handful of open source BGP implementations out there, Iâ€™ve had hands-on experience with projects making use of:</p>
<ul>
<li><a href="https://bird.network.cz/" target="_blank">BIRD</a></li>
<li><a href="https://osrg.github.io/gobgp/" target="_blank">GoBGP</a></li>
<li><a href="https://www.opendaylight.org/what-we-do/odl-platform-overview" target="_blank">OpenDaylight</a></li>
<li><a href="https://www.quagga.net/" target="_blank">Quagga</a></li>
</ul>
<p>BIRD shines where a <a href="https://bird.network.cz/?get_doc&amp;v=20&amp;f=bird-5.html" target="_blank">rich policy language</a> is needed. GoBGP has a <a href="https://github.com/osrg/gobgp/tree/master/api" target="_blank">feature-rich gRPC API</a>, and can be embedded as a library. OpenDaylightâ€™s BGP implementation is part of a larger SDN controller solution and has extensive support for <a href="https://docs.opendaylight.org/en/stable-oxygen/user-guide/bgpcep-guide/bgp/bgp-user-guide-linkstate-family.html" target="_blank">BGP-LS</a>. Quagga can reliably produce <a href="https://tools.ietf.org/html/rfc6396" target="_blank">MRT</a> dumps and has been around a long time, though I believe <a href="https://frrouting.org/" target="_blank">FRRouting</a> is now considered its successor.</p>
<p>These are all mature, established implementations. Some of them are in production at large ISPs, <a href="https://www.digitalocean.com/blog/scaling-droplet-public-networking/" target="_blank">Cloud Providers</a>, and <a href="https://joinup.ec.europa.eu/collection/open-source-observatory-osor/document/bird-manages-routing-worlds-largest-internet-exchanges-bird" target="_blank">Internet Exchange Points</a>. They are purpose-built and make various tradeoffs to suit their use cases (programming language, threading model, data structures, API, etcâ€¦).</p>
<p>But what if we are building something that doesnâ€™t line up with the primary use cases of these widely used implementations? We may be locked in to decisions that are ultimately burdensome if we choose to build around them. Swapping in our own data structures for routing tables, or adding a new NLRI is non-trivial. Even if an implementation is intended to be embedded as library, it can still back us into a corner with resource consumption. Thereâ€™s clearly a need to plug in or hook into specific parts of the BGP FSM, without inheriting decisions that went into a full-blown BGP daemon.</p>
<p>At the 27th IEEE International Conference On Network Protocols (ICNP), a group from the UniversitÃ© catholique de Louvain presented a paper on <code>The Case for Pluginized Routing Protocols</code>:</p>
<blockquote>
<p>Abstractâ€”Routing protocols such as BGP and OSPF are key components of Internet Service Provider (ISP) networks. These protocols and the operatorâ€™s requirements evolve over time, but it often takes many years for network operators to convince their different router vendors and the IETF to extend routing protocols. Some network operators, notably in enterprise and datacenters have adopted Software Defined Networking (SDN) with its centralised control to be more agile. We propose a new approach to implement routing protocols that enables network operators to innovate while still using distributed routing protocols and thus keeping all their benefits compared to centralised routing approaches. We extend a routing protocol with a virtual machine that is capable of executing plugins. These plugins extend the protocol or modify its underlying algorithms through a simple API to meet the specific requirements of operators. We modify the OSPF and BGP implementations provided by FRRouting and demonstrate the applicability of our approach with several use cases.</p>
<p>â€” <!-- raw HTML omitted -->The Case for Pluginized Routing Protocols<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup><!-- raw HTML omitted --></p>
</blockquote>
<p>In their paper they present a method for plugging into a previously mentioned open-source BGP implementation, FRRouting. Plugins exist at a function level, either prior to invocation (PRE), as a replacement (REPLACE), or just before returning (POST). Much of their BGP plugin focus is around the reception of messages, and decisions made shortly after:</p>
<blockquote>
<p>The BGP daemon is also extended similarly. We add insertion points on functions receiving BGP messages from neighbours, on filters and inside the decision process. We also expose specific functions to the plugins that are executed by the uBPF VM.</p>
<p>â€” <!-- raw HTML omitted -->The Case for Pluginized Routing Protocols<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup><!-- raw HTML omitted --></p>
</blockquote>
<p>They take a clever approach with plugin sandboxing by leveraging a user space eBPF VM (<a href="https://github.com/iovisor/ubpf" target="_blank">uBPF</a>) linked to the FRRouting protocol implementation. Each plugin compiles to eBPF bytecode and runs inside of said VM. Plugins can be loaded and unloaded without impacting the primary protocol implementation. Using an eBPF VM also allowed them to utilise all the pre-existing Linux Kernel tooling.</p>
<p>I found this approach inspiring, but still not quite a match for my use cases:</p>
<ul>
<li>Plugins appear to be built around â€œincomingâ€ events, or messages. What if I want to inject an UPDATE message to a peer irrespective of what FRRouting wants to send?</li>
<li>FRRouting was not built with this plugin model in mind. Changes/Updates to FRRouting will result in a maintenance headache for the VM hook points.</li>
<li>eBPF bytecode is typically compiled from C. Writing C can be time-consuming in comparison to more modern languages.</li>
<li>I need to be an FRRouting expert to do anything non-trivial.</li>
</ul>
<p>This experience and research led me to create CoreBGP, a BGP library that I could re-use across my BGP-enabled applications.</p>

<p>CoreBGP is a BGP library written in Go that implements the BGP FSM with an event-driven, pluggable model. It exposes an API that empowers the user to:</p>
<ul>
<li>send and validate OPEN message capabilities</li>
<li>handle â€œimportantâ€ state transitions</li>
<li>handle incoming UPDATE messages</li>
<li>send outgoing UPDATE messages</li>
</ul>
<p>CoreBGP does not decode UPDATE messages (besides header validation), manage a routing table, or send its own UPDATE messages. These responsibilities are all passed down to the user. Therefore, the intended user is someone who wants that responsibility.</p>
<p>The primary building block of CoreBGP is a Plugin, defined by the following interface:</p>
<div><pre><code data-lang="go"><span>// Plugin is a BGP peer plugin.
</span><span></span><span>type</span> Plugin <span>interface</span> {
	<span>// GetCapabilities is fired when a peer's FSM is in the Connect state prior
</span><span></span>	<span>// to sending an Open message. The returned capabilities are included in the
</span><span></span>	<span>// Open message sent to the peer.
</span><span></span>	<span>GetCapabilities</span>(peer <span>*</span>PeerConfig) []<span>*</span>Capability

	<span>// OnOpenMessage is fired when an Open message is received from a peer
</span><span></span>	<span>// during the OpenSent state. Returning a non-nil Notification will cause it
</span><span></span>	<span>// to be sent to the peer and the FSM will transition to the Idle state.
</span><span></span>	<span>//
</span><span></span>	<span>// Per RFC5492 a BGP speaker should only send a Notification if a required
</span><span></span>	<span>// capability is missing; unknown or unsupported capabilities should be
</span><span></span>	<span>// ignored.
</span><span></span>	<span>OnOpenMessage</span>(peer <span>*</span>PeerConfig, capabilities []<span>*</span>Capability) <span>*</span>Notification

	<span>// OnEstablished is fired when a peer's FSM transitions to the Established
</span><span></span>	<span>// state. The returned UpdateMessageHandler will be fired when an Update
</span><span></span>	<span>// message is received from the peer.
</span><span></span>	<span>//
</span><span></span>	<span>// The provided writer can be used to send Update messages to the peer for
</span><span></span>	<span>// the lifetime of the FSM's current, established state. It should be
</span><span></span>	<span>// discarded once OnClose() fires.
</span><span></span>	<span>OnEstablished</span>(peer <span>*</span>PeerConfig, writer UpdateMessageWriter) UpdateMessageHandler

	<span>// OnClose is fired when a peer's FSM transitions out of the Established
</span><span></span>	<span>// state.
</span><span></span>	<span>OnClose</span>(peer <span>*</span>PeerConfig)
}
</code></pre></div><p>Hereâ€™s an example Plugin that logs when a peer enters/leaves an established state and when an UPDATE message is received:</p>
<div><pre><code data-lang="go"><span>type</span> plugin <span>struct</span>{}

<span>func</span> (p <span>*</span>plugin) <span>GetCapabilities</span>(c <span>*</span>corebgp.PeerConfig) []<span>*</span>corebgp.Capability {
	caps <span>:=</span> <span>make</span>([]<span>*</span>corebgp.Capability, <span>0</span>)
	<span>return</span> caps
}

<span>func</span> (p <span>*</span>plugin) <span>OnOpenMessage</span>(peer <span>*</span>corebgp.PeerConfig, capabilities []<span>*</span>corebgp.Capability) <span>*</span>corebgp.Notification {
	<span>return</span> <span>nil</span>
}

<span>func</span> (p <span>*</span>plugin) <span>OnEstablished</span>(peer <span>*</span>corebgp.PeerConfig, writer corebgp.UpdateMessageWriter) corebgp.UpdateMessageHandler {
	log.<span>Println</span>(<span>"peer established"</span>)
	<span>// send End-of-Rib
</span><span></span>	writer.<span>WriteUpdate</span>([]<span>byte</span>{<span>0</span>, <span>0</span>, <span>0</span>, <span>0</span>})
	<span>return</span> p.handleUpdate
}

<span>func</span> (p <span>*</span>plugin) <span>OnClose</span>(peer <span>*</span>corebgp.PeerConfig) {
	log.<span>Println</span>(<span>"peer closed"</span>)
}

<span>func</span> (p <span>*</span>plugin) <span>handleUpdate</span>(peer <span>*</span>corebgp.PeerConfig, u []<span>byte</span>) <span>*</span>corebgp.Notification {
	log.<span>Printf</span>(<span>"got update message of len: %d"</span>, <span>len</span>(u))
	<span>return</span> <span>nil</span>
}
</code></pre></div><p>Plugins are attached to peers when they are added to the Server, which manages their lifetime:</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/">https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/</a></em></p>]]>
            </description>
            <link>https://www.jordanwhited.com/posts/corebgp-plugging-in-to-bgp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23744167</guid>
            <pubDate>Mon, 06 Jul 2020 02:39:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What should we do about network-effect monopolies]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23743610">thread link</a>) | @dmnd
<br/>
July 5, 2020 | https://www.benkuhn.net/nwe/ | <a href="https://web.archive.org/web/*/https://www.benkuhn.net/nwe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Many large companies today are software monopolies that give their product away for free to get monopoly status, then do <a href="https://github.com/uBlockOrigin/uBlock-issues/issues/338#issuecomment-496009417" target="_blank">the</a> <a href="http://www.fbpurity.com/news/important-news-facebooks-legal-team-have-told-me-i-am-banned-from-facebook-because-of-f-b-purity/" target="_blank">most</a> <a href="https://www.theverge.com/2019/6/28/19154220/grubhub-seamless-fake-restaurant-domain-names-commission-fees" target="_blank">horrible</a> <a href="https://www.nytimes.com/wirecutter/blog/amazon-counterfeit-fake-products/" target="_blank">things</a> <a href="https://www.theverge.com/2020/6/16/21293419/hey-apple-rejection-ios-app-store-dhh-gangsters-antitrust" target="_blank">once</a> <a href="https://www.polemicdigital.com/google-amp-go-to-hell/" target="_blank">theyâ€™ve</a> <a href="https://thetechnoskeptic.com/yelp-extortion-starring-role/" target="_blank">won</a>. (<a href="https://www.benkuhn.net/skinner/">Previously</a>, <a href="https://www.benkuhn.net/product/">previously</a>.) Can we do anything about this?</p><p>Unfortunately, â€œyouâ€™re the productâ€ is a popular business model for a reason: businesses like Facebook would be really hard to support without them.</p><p>Facebook would be suicidal to charge its users money, because its entire selling point is that everyone uses it, and â€œeveryoneâ€ <em>hates</em> paying money. In the US, Facebook makes over $25 per person on ads (<a href="https://www.statista.com/statistics/251328/facebooks-average-revenue-per-user-by-region/" target="_blank">source</a>). Can you imagine if instead of ads they tried to charge people $25 a year?</p><p>Even on the margin, anything that costs Facebook users also makes it less valuable for its remaining usersâ€”itâ€™s a negative feedback loop. The same goes for any other site where users create value for other users, like Twitter or Craigslist or Yelp or Wikipedia. (Itâ€™s not an accident that these are some of the most stagnant popular websites!)</p><p>In fact, this is a fundamental problem with <a href="https://en.wikipedia.org/wiki/Network_effect" target="_blank">network effects</a> and low marginal costs. If a company wants to maintain a network effect, they need as many users as possible. If their marginal cost is low, then the easiest way to get users is to give the product away. To do that, they have to get paid by someone else. And when they start getting paid by someone else, theyâ€™ll inevitably start prioritizing that personâ€™s interests.</p><p>Historically with other network-effect businesses, weâ€™ve addressed this in a few different ways:</p><ul><li><p>regulation (e.g. local utilities)</p></li><li><p>breakups (e.g. Bell)</p></li><li><p>standardization and interoperability (e.g. email, the Web, cryptocurrency)</p></li></ul><p>So far for tech monopolies, people seem to be focused mostly on breakupsâ€”e.g. Facebook from Instagram/Whatsappâ€”but standardization seems to have produced much better outcomes in the past. (I like email and the Web a lot more than National Gridâ€¦) Iâ€™d be interested to see more exploration of that option!</p></article></div>]]>
            </description>
            <link>https://www.benkuhn.net/nwe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743610</guid>
            <pubDate>Mon, 06 Jul 2020 00:46:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Minimum Viable Kubernetes]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23743502">thread link</a>) | @shosti
<br/>
July 5, 2020 | https://eevans.co/blog/minimum-viable-kubernetes/ | <a href="https://web.archive.org/web/*/https://eevans.co/blog/minimum-viable-kubernetes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section class="page">
  <article>
    <header>
      
    </header>

    
<p>
If you're reading this, chances are good that you've heard of Kubernetes. (If
you haven't, how exactly did you end up here?) But what actually is Kubernetes?
Is it <a href="https://kubernetes.io/">"Production-Grade Container Orchestration"</a>?  Is it a <a href="https://platform9.com/blog/kubernetes-as-a-cloud-native-operating-system-on-premises-too/">"Cloud-Native
Operating System"</a>? What do either of those phrases even mean?
</p>
<p>
To be completely honest, I'm not always 100% sure. But I think it's interesting
and informative to take a peek under the hood and see what Kubernetes actually
<em>does</em> under the many layers of abstraction and indirection. So just for fun,
let's see what the absolute bare minimum "Kubernetes cluster" actually looks
like. (It's going to be a lot more minimal than setting up Kubernetes <a href="https://github.com/kelseyhightower/kubernetes-the-hard-way">the hard
way</a>.)
</p>
<p>
I'm going to assume a basic familiarity with Kubernetes, Linux, and containers,
but nothing too advanced. By the way, this is all for learning/exploration
purposes, so don't run any of it in production!
</p>
<h2 id="headline-1">
Big Picture View
</h2>
<p>
Kubernetes has a lot of components and it's sometimes a bit difficult to keep
track of all of them. Here's what the overall architecture looks like according
to <a href="https://commons.wikimedia.org/w/index.php?curid=53571935">Wikipedia</a>:
</p>
<p>
<img src="https://eevans.co/blog/minimum-viable-kubernetes/k8s-arch.png" alt="k8s-arch.png" title="k8s-arch.png">
</p>
<p>
There are at least eight components listed in that diagram; we're going to be
ignoring most of them. I'm going to make the claim that the minimal thing you
could reasonably call Kubernetes consists of three essential components:
</p>
<ul>
<li>
<p>
kubelet
</p>
</li>
<li>
<p>
kube-apiserver (which depends on etcd as its database)
</p>
</li>
<li>
<p>
A container runtime (Docker in this case)
</p>
</li>
</ul>
<p>
Let's take a closer look at what each of these do, according to <a href="https://kubernetes.io/docs/concepts/overview/components/">the docs</a>. First,
<strong>kubelet</strong>:
</p>
<blockquote>
<p>
An agent that runs on each node in the cluster. It makes sure that containers
are running in a Pod.
</p>
</blockquote>
<p>
That sounds simple enough. What about the <strong>container runtime</strong>?
</p>
<blockquote>
<p>
The container runtime is the software that is responsible for running
containers.
</p>
</blockquote>
<p>
Tremendously informative. But if you're familiar with Docker, than you should
have a basic idea of what it does. (The details of the separation of concerns
between the container runtime and kubelet are actually a bit subtle, but I won't
be digging into them here.)
</p>
<p>
And the <strong>API server</strong>?
</p>
<blockquote>
<p>
The API server is a component of the Kubernetes control plane that exposes the
Kubernetes API. The API server is the front end for the Kubernetes control
plane.
</p>
</blockquote>
<p>
Anyone who's ever done anything with Kubernetes has interacted with the API,
either directly or through kubectl. It's the core of what makes Kubernetes
Kubernetes, the brain that turns the mountains of YAML we all know and love (?)
into running infrastructure. It seems obvious that we'll want to get it running
for our minimal setup.
</p>
<h2 id="headline-2">
Prerequisites If You Want to Follow Along
</h2>
<ul>
<li>
<p>
A Linux virtual or corporeal machine you're OK messing around with as
root (I'm using Ubuntu 18.04 on a VM).
</p>
</li>
<li>
<p>
That's it!
</p>
</li>
</ul>
<h2 id="headline-3">
The Boring Setup
</h2>
<p>
The machine we're using needs Docker installed. (I'm not going to dig too much
into how Docker and containers work; there are some <a href="https://blog.lizzie.io/linux-containers-in-500-loc.html">amazing rabbit holes</a> already
out there if you're interested.) Let's just install it using <code>apt</code>:
</p>
<div>
<div><pre><code data-lang="text">$ sudo apt install docker.io
$ sudo systemctl start docker</code></pre></div>
</div>
<p>
Next we'll need to get the Kubernetes binaries. We actually only need kubelet to
bootstrap our "cluster", since we can use kubelet to run the other server
components. We'll also grab kubectl to interact with our cluster once it's up
and running.
</p>
<div>
<div><pre><code data-lang="text">$ curl -L https://dl.k8s.io/v1.18.5/kubernetes-server-linux-amd64.tar.gz &gt; server.tar.gz
$ tar xzvf server.tar.gz
$ cp kubernetes/server/bin/kubelet .
$ cp kubernetes/server/bin/kubectl .
$ ./kubelet --version
Kubernetes v1.18.5</code></pre></div>
</div>
<h2 id="headline-4">
Off To The Races
</h2>
<p>
What happens when we try to run kubelet?
</p>
<div>
<div><pre><code data-lang="text">$ ./kubelet
F0609 04:03:29.105194    4583 server.go:254] mkdir /var/lib/kubelet: permission denied</code></pre></div>
</div>
<p>
kubelet needs to run as root; fair enough, since it's tasked with managing the
entire node. Let's see what the CLI options look like:
</p>
<div>
<div><pre><code data-lang="text">$ ./kubelet -h
&lt;far too much output to copy here&gt;
$ ./kubelet -h | wc -l
284</code></pre></div>
</div>
<p>
Holy cow, that's a lot of options! Thankfully we'll only need a couple of them
for our setup. Here's an option that looks kind of interesting:
</p>
<blockquote>
<p>
<code>--pod-manifest-path</code> string
</p>
<p>
Path to the directory containing static pod files to run, or the path to a
single static pod file. Files starting with dots will be ignored. (DEPRECATED:
This parameter should be set via the config file specified by the Kubelet's
â€“config flag. See
<a href="https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/">https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/</a> for
more information.)
</p>
</blockquote>
<p>
This option allows us to run <a href="https://kubernetes.io/docs/tasks/configure-pod-container/static-pod/">static pods</a>, which are pods that aren't managed
through the Kubernetes API. Static pods aren't that common in day-to-day
Kubernetes usage but are very useful for bootstrapping clusters, which is
exactly what we're trying to do here. We're going to ignore the loud deprecation
warning (again, don't run this in prod!) and see if we can run a pod.
</p>
<p>
First we'll make a static pod directory and run kubelet:
</p>
<div>
<div><pre><code data-lang="text">$ mkdir pods
$ sudo ./kubelet --pod-manifest-path=pods</code></pre></div>
</div>
<p>
Then, in another terminal/tmux window/whatever, we'll make a pod manifest:
</p>
<div>
<div><pre><code data-lang="text">$ cat &lt;&lt;EOF &gt; pods/hello.yaml
apiVersion: v1
kind: Pod
metadata:
  name: hello
spec:
  containers:
  - image: busybox
    name: hello
    command: ["echo", "hello world!"]
EOF</code></pre></div>
</div>
<p>
kubelet starts spitting out some warnings; other than that it anti-climatically
appears that nothing really happened. But not so! Let's check Docker:
</p>
<div>
<div><pre><code data-lang="text">$ sudo docker ps -a
CONTAINER ID        IMAGE                  COMMAND                 CREATED             STATUS                      PORTS               NAMES
8c8a35e26663        busybox                "echo 'hello world!'"   36 seconds ago      Exited (0) 36 seconds ago                       k8s_hello_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_4
68f670c3c85f        k8s.gcr.io/pause:3.2   "/pause"                2 minutes ago       Up 2 minutes                                    k8s_POD_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_0
$ sudo docker logs k8s_hello_hello-mink8s_default_ab61ef0307c6e0dee2ab05dc1ff94812_4
hello world!</code></pre></div>
</div>
<p>
kubelet read the pod manifest and instructed Docker to start a couple of
containers according to our specification. (If you're wondering about that
"pause" container, it's Kubernetes hackery that's used to reap zombie processes
â€”see <a href="https://www.ianlewis.org/en/almighty-pause-container">this blog post</a> for the gory details.) kubelet will run our <code>busybox</code>
container with our command and restart it ad infinitum until the static pod is
removed.
</p>
<p>
Let's congratulate ourselves: we've just figured out one of the world's most
convoluted ways of printing out text to the terminal!
</p>
<h2 id="headline-5">
Getting etcd running
</h2>
<p>
Our eventual goal is to run the Kubernetes API, but in order to do that we'll
need <a href="https://etcd.io/">etcd</a> running first. A static pod ought to fit the bill. Let's run a minimal
etcd cluster by putting the following in a file in the <code>pods</code> directory
(e.g. <code>pods/etcd.yaml</code>):
</p>
<div>
<div><pre><code data-lang="yaml"><span>apiVersion</span>: v1
<span>kind</span>: Pod
<span>metadata</span>:
  <span>name</span>: etcd
  <span>namespace</span>: kube-system
<span>spec</span>:
  <span>containers</span>:
  - <span>name</span>: etcd
    <span>command</span>:
    - etcd
    - --data-dir=/var/lib/etcd
    <span>image</span>: k8s.gcr.io/etcd:<span>3.4.3-0</span>
    <span>volumeMounts</span>:
    - <span>mountPath</span>: /var/lib/etcd
      <span>name</span>: etcd-data
  <span>hostNetwork</span>: <span>true</span>
  <span>volumes</span>:
  - <span>hostPath</span>:
      <span>path</span>: /var/lib/etcd
      <span>type</span>: DirectoryOrCreate
    <span>name</span>: etcd-data</code></pre></div>
</div>
<p>
If you've ever worked with Kubernetes, this kind of YAML file should look
familiar. There are only two slightly unusual things worth noting:
</p>
<ul>
<li>
<p>
We mounted the host's <code>/var/lib/etcd</code> to the pod so that the etcd data will
survive restarts (if we didn't do this the cluster state would get wiped every
time the pod restarted, which would be a drag even for a minimal Kubernetes
setup).
</p>
</li>
<li>
<p>
We set <code>hostNetwork: true</code> which, unsurprisingly, sets up the etcd pod to use
the host network instead of the pod-internal network (this will make it easier
for the API server to find the etcd cluster).
</p>
</li>
</ul>
<p>
Some quick sanity checks show that etcd is indeed listening on localhost and
writing to disk:
</p>
<div>
<div><pre><code data-lang="text">$ curl localhost:2379/version
{"etcdserver":"3.4.3","etcdcluster":"3.4.0"}
$ sudo tree /var/lib/etcd/
/var/lib/etcd/
â””â”€â”€ member
    â”œâ”€â”€ snap
    â”‚&nbsp;&nbsp; â””â”€â”€ db
    â””â”€â”€ wal
        â”œâ”€â”€ 0.tmp
        â””â”€â”€ 0000000000000000-0000000000000000.wal</code></pre></div>
</div>
<h2 id="headline-6">
Running the API server
</h2>
<p>
Getting the Kubernetes API server running is even easier. The only CLI flag we
have to pass is <code>--etcd-servers</code>, which does what you'd expect:
</p>
<div>
<div><pre><code data-lang="yaml"><span>apiVersion</span>: v1
<span>kind</span>: Pod
<span>metadata</span>:
  <span>name</span>: kube-apiserver
  <span>namespace</span>: kube-system
<span>spec</span>:
  <span>containers</span>:
  - <span>name</span>: kube-apiserver
    <span>command</span>:
    - kube-apiserver
    - --etcd-servers=http://<span>127.0.0.1</span>:<span>2379</span>
    <span>image</span>: k8s.gcr.io/kube-apiserver:v1<span>.18.5</span>
  <span>hostNetwork</span>: <span>true</span></code></pre></div>
</div>
<p>
Put that YAML file in the <code>pods</code> directory and the API server will start. Some
quick <code>curl</code> ing shows that the Kubernetes API is listening on port 8080 with
completely open accessâ€”no authentication necessary!
</p>
<div>
<div><pre><code data-lang="text">$ curl localhost:8080/healthz
ok
$ curl localhost:8080/api/v1/pods
{
  "kind": "PodList",
  "apiVersion": "v1",
  "metadata": {
    "selfLink": "/api/v1/pods",
    "resourceVersion": "59"
  },
  "items": []
}</code></pre></div>
</div>
<p>
(Again, don't run this setup in production! I was a bit surprised that the
default setup is so insecure, but I assume it's to make development and testing
easier.)
</p>
<p>
And, as a nice surprise, kubectl works out of the box with no extra
configuration!
</p>
<div>
<div><pre><code data-lang="text">$ ./kubectl version
Client Version: version.Info{Major:"1", Minor:"18", GitVersion:"v1.18.5", GitCommit:"e6503f8d8f769ace2f338794c914a96fc335df0f", GitTreeState:"clean", BuildDate:"2020-06-26T03:47:41Z", GoVersion:"go1.13.9", Compiler:"gc", Platform:"linux/amd64"}
Server Version: version.Info{Major:"1", Minor:"18", GitVersion:"v1.18.5", GitCommit:"e6503f8d8f769ace2f338794c914a96fc335df0f", GitTreeState:"clean", BuildDate:"2020-06-26T03:39:24Z", GoVersion:"go1.13.9", Compiler:"gc", Platform:"linux/amd64"}
$ ./kubectl get pod
No resources found in default namespace.</code></pre></div>
</div>
<p>
Easy, right?
</p>
<h2 id="headline-7">
A Problem
</h2>
<p>
But digging a bit deeper, something seems amiss:
</p>
<div>
<div><pre><code data-lang="text">$ ./kubectl get pod -n kube-system
No resources found in kube-system namespace.</code></pre></div>
</div>
<p></p></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://eevans.co/blog/minimum-viable-kubernetes/">https://eevans.co/blog/minimum-viable-kubernetes/</a></em></p>]]>
            </description>
            <link>https://eevans.co/blog/minimum-viable-kubernetes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743502</guid>
            <pubDate>Mon, 06 Jul 2020 00:26:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust for JavaScript Developers â€“ Functions and Control Flow]]>
            </title>
            <description>
<![CDATA[
Score 182 | Comments 73 (<a href="https://news.ycombinator.com/item?id=23743363">thread link</a>) | @rkwz
<br/>
July 5, 2020 | http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/ | <a href="https://web.archive.org/web/*/http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is the third part in a series about introducing the Rust language to JavaScript developers. Here are the past chapters:</p>
<ol>
<li><a href="http://www.sheshbabu.com/posts/rust-for-javascript-developers-tooling-ecosystem-overview/">Tooling Ecosystem Overview</a></li>
<li><a href="http://www.sheshbabu.com/posts/rust-for-javascript-developers-variables-and-data-types/">Variables and Data Types</a></li>
</ol>
<h2 id="Functions"><a href="#Functions" title="Functions"></a>Functions</h2><p>Rustâ€™s function syntax is pretty much similar to the one in JavaScript.</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> income <span>=</span> <span>100</span><span>;</span>
  <span>let</span> tax <span>=</span> <span>calculate_tax</span><span>(</span>income<span>)</span><span>;</span>
  <span>println!</span><span>(</span><span>"{}"</span><span>,</span> tax<span>)</span><span>;</span>
<span>}</span>

<span>fn</span> <span>calculate_tax</span><span>(</span>income<span>:</span> i32<span>)</span> <span>-&gt;</span> i32 <span>{</span>
  <span>return</span> income <span>*</span> <span>90</span> <span>/</span> <span>100</span><span>;</span>
<span>}</span></code></pre>
<p>The only difference you might see above is the type annotations for arguments and return values.</p>
<p>The <code>return</code> keyword can be skipped and itâ€™s very common to see code without an explicit return. If youâ€™re returning implicitly, make sure to remove the semicolon from that line. The above function can be refactored as:</p>
<pre><code>fn main() {
  let income = 100;
  let tax = calculate_tax(income);
  println!("{}", tax);
}

fn calculate_tax(income: i32) -&gt; i32 {
<span>- return income * 90 / 100;</span>
<span>+ income * 90 / 100</span>
}</code></pre>
<h2 id="Arrow-Functions"><a href="#Arrow-Functions" title="Arrow Functions"></a>Arrow Functions</h2><p>Arrow functions are a popular feature in modern JavaScript - they allow us to write functional code in a concise way.</p>
<p>Rust has something similar and they are called â€œClosuresâ€. The name might be a bit confusing and would require getting used to because in JavaScript, closures can be created using both normal and arrow functions.</p>
<p>Rustâ€™s closure syntax is very similar to JavaScriptâ€™s arrow functions:</p>
<p><strong>Without arguments:</strong></p>
<pre><code>
<span>let</span> greet <span>=</span> <span>(</span><span>)</span> <span>=</span><span>&gt;</span> console<span>.</span><span>log</span><span>(</span><span>"hello"</span><span>)</span><span>;</span>

<span>greet</span><span>(</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> greet <span>=</span> <span>||</span> <span>println!</span><span>(</span><span>"hello"</span><span>)</span><span>;</span>

<span>greet</span><span>(</span><span>)</span><span>;</span> </code></pre>
<p><strong>With arguments:</strong></p>
<pre><code>
<span>let</span> greet <span>=</span> <span>(</span>msg<span>)</span> <span>=</span><span>&gt;</span> console<span>.</span><span>log</span><span>(</span>msg<span>)</span><span>;</span>

<span>greet</span><span>(</span><span>"good morning!"</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> greet <span>=</span> <span>|</span>msg<span>:</span> <span>&amp;</span>str<span>|</span> <span>println!</span><span>(</span><span>"{}"</span><span>,</span> msg<span>)</span><span>;</span>

<span>greet</span><span>(</span><span>"good morning!"</span><span>)</span><span>;</span> </code></pre>
<p><strong>Returning values:</strong></p>
<pre><code>
<span>let</span> add <span>=</span> <span>(</span>a<span>,</span> b<span>)</span> <span>=</span><span>&gt;</span> a <span>+</span> b<span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> add <span>=</span> <span><span>|</span>a<span>:</span> i32<span>,</span> b<span>:</span> i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span> a <span>+</span> b <span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<p><strong>Multiline:</strong></p>
<pre><code>
<span>let</span> add <span>=</span> <span>(</span>a<span>,</span> b<span>)</span> <span>=</span><span>&gt;</span> <span>{</span>
  <span>let</span> sum <span>=</span> a <span>+</span> b<span>;</span>
  <span>return</span> sum<span>;</span>
<span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<pre><code>
<span>let</span> add <span>=</span> <span><span>|</span>a<span>:</span> i32<span>,</span> b<span>:</span> i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span>
  <span>let</span> sum <span>=</span> a <span>+</span> b<span>;</span>
  <span>return</span> sum<span>;</span>
<span>}</span><span>;</span>

<span>add</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>;</span> </code></pre>
<p>Hereâ€™s a cheatsheet:<br><img src="http://www.sheshbabu.com/images/2020-rust-for-javascript-developers-3/image-2.png" alt=""></p>
<p>Closures donâ€™t need the type annotations most of the time, but Iâ€™ve added them here for clarity.</p>
<h2 id="If-Else"><a href="#If-Else" title="If Else"></a>If Else</h2><pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> income <span>=</span> <span>100</span><span>;</span>
  <span>let</span> tax <span>=</span> <span>calculate_tax</span><span>(</span>income<span>)</span><span>;</span>
  <span>println!</span><span>(</span><span>"{}"</span><span>,</span> tax<span>)</span><span>;</span>
<span>}</span>

<span>fn</span> <span>calculate_tax</span><span>(</span>income<span>:</span> i32<span>)</span> <span>-&gt;</span> i32 <span>{</span>
  <span>if</span> income <span>&lt;</span> <span>10</span> <span>{</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span> <span>else</span> <span>if</span> income <span>&gt;=</span> <span>10</span> <span>&amp;&amp;</span> income <span>&lt;</span> <span>50</span> <span>{</span>
    <span>return</span> <span>20</span><span>;</span>
  <span>}</span> <span>else</span> <span>{</span>
    <span>return</span> <span>50</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<h2 id="Loops"><a href="#Loops" title="Loops"></a>Loops</h2><p>While loops:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> <span>mut</span> count <span>=</span> <span>0</span><span>;</span>

  <span>while</span> count <span>&lt;</span> <span>10</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> count<span>)</span><span>;</span>
    count <span>+=</span> <span>1</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<p>Normal <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for" target="_blank" rel="noopener">for loops</a> donâ€™t exist in Rust, we need to use <code>while</code> or <code>for..in</code> loops. <code>for..in</code> loops are similar to the <code>for..of</code> loops in JavaScript and they loop over an iterator.</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>for</span> n <span>in</span> numbers<span>.</span><span>iter</span><span>(</span><span>)</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> n<span>)</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<p>Notice that weâ€™re not iterating directly over the array but instead using the <code>iter</code> method of the array.</p>
<p>We can also loop over <a href="https://doc.rust-lang.org/reference/expressions/range-expr.html" target="_blank" rel="noopener">ranges</a>:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>for</span> n <span>in</span> <span>1</span><span>..</span><span>5</span> <span>{</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> n<span>)</span><span>;</span>
  <span>}</span>
<span>}</span></code></pre>
<h2 id="Iterators"><a href="#Iterators" title="Iterators"></a>Iterators</h2><p>In JavaScript, we can use array methods like map/filter/reduce/etc instead of <code>for</code> loops to perform calculations or transformations on an array.</p>
<p>For example, here we take an array of numbers, double them and filter out the elements that are less than 10:</p>
<pre><code><span>function</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>let</span> double <span>=</span> <span>(</span>n<span>)</span> <span>=</span><span>&gt;</span> n <span>*</span> <span>2</span><span>;</span>
  <span>let</span> less_than_ten <span>=</span> <span>(</span>n<span>)</span> <span>=</span><span>&gt;</span> n <span>&lt;</span> <span>10</span><span>;</span>

  <span>let</span> result <span>=</span> numbers<span>.</span><span>map</span><span>(</span>double<span>)</span><span>.</span><span>filter</span><span>(</span>less_than_ten<span>)</span><span>;</span>

  console<span>.</span><span>log</span><span>(</span>result<span>)</span><span>;</span> 
<span>}</span></code></pre>
<p>In Rust, we canâ€™t directly use map/filter/etc over vectors, we need to follow these steps:</p>
<ol>
<li>Convert the vector into an iterator using <code>iter</code>, <code>into_iter</code> or <code>iter_mut</code> methods</li>
<li>Chain <code>adapters</code> such as map/filter/etc on the iterator</li>
<li>Finally convert the iterator back to a vector using <code>consumers</code> such as <code>collect</code>, <code>find</code>, <code>sum</code> etc</li>
</ol>
<p>Hereâ€™s the equivalent Rust code:</p>
<pre><code><span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
  <span>let</span> numbers <span>=</span> <span>vec!</span><span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>

  <span>let</span> double <span>=</span> <span><span>|</span>n<span>:</span> <span>&amp;</span>i32<span>|</span></span> <span>-&gt;</span> i32 <span>{</span> n <span>*</span> <span>2</span> <span>}</span><span>;</span>
  <span>let</span> less_than_10 <span>=</span> <span><span>|</span>n<span>:</span> <span>&amp;</span>i32<span>|</span></span> <span>-&gt;</span> bool <span>{</span> <span>*</span>n <span>&lt;</span> <span>10</span> <span>}</span><span>;</span>

  <span>let</span> result<span>:</span> Vec<span>&lt;</span>i32<span>&gt;</span> <span>=</span> numbers<span>.</span><span>iter</span><span>(</span><span>)</span><span>.</span><span>map</span><span>(</span>double<span>)</span><span>.</span><span>filter</span><span>(</span>less_than_10<span>)</span><span>.</span><span>collect</span><span>(</span><span>)</span><span>;</span>

  <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> result<span>)</span><span>;</span> 
<span>}</span></code></pre>
<p>You should be able to understand most of the code above but you might notice few things off here:</p>
<ul>
<li>The usage of <code>&amp;</code> and <code>*</code> in the closure</li>
<li>The <code>Vec&lt;i32&gt;</code> type annotation for the <code>result</code> variable</li>
</ul>
<p>The <code>&amp;</code> is the reference operator and the <code>*</code> is the dereference operator. The <code>iter</code> method instead of copying the elements in the vector, it passes them as references to the next adapter in the chain. This is why we use <code>&amp;i32</code> in the mapâ€™s closure (double). This closure returns <code>i32</code> but <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.filter" target="_blank" rel="noopener">filter</a> calls its closure (less_than_10) with reference so thatâ€™s why we need to use <code>&amp;i32</code> again. To dereference the argument, we use the <code>*</code> operator. Weâ€™ll cover this in more detail in future chapters.</p>
<p>Regarding <code>Vec&lt;i32&gt;</code>, so far we havenâ€™t added type annotations to variables as Rust can infer the types automatically, but for <code>collect</code>, we need to be explicitly tell Rust that we expect a <code>Vec&lt;i32&gt;</code> output.</p>
<p>Aside from map and filter, there are ton of other <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html" target="_blank" rel="noopener">useful adapters</a> that we can use in iterators.</p>
<p>Thanks for reading! Feel free to follow me in <a href="https://twitter.com/sheshbabu" target="_blank" rel="noopener">Twitter</a> for updates :)</p>
</div></div>]]>
            </description>
            <link>http://www.sheshbabu.com/posts/rust-for-javascript-developers-functions-and-control-flow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23743363</guid>
            <pubDate>Mon, 06 Jul 2020 00:07:34 GMT</pubDate>
        </item>
    </channel>
</rss>
