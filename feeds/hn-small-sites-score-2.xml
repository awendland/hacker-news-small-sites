<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 03 Mar 2021 12:45:39 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 03 Mar 2021 12:45:39 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Reaching #1 on Google]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26300436">thread link</a>) | @leoloso
<br/>
February 28, 2021 | https://leoloso.com/posts/path-to-number-1-in-google/ | <a href="https://web.archive.org/web/*/https://leoloso.com/posts/path-to-number-1-in-google/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This weekend I had a very nice surprise: My <a href="https://graphql-api.com/blog/why-wordpress-should-have-a-graphql-api-in-core/">latest blog post on graphql-api.com</a> made it to the top of Google's search results, when searching for "wordpress core graphql":</p><figure><img src="https://leoloso.com/images/blog-post-first-in-google.png" alt="1st position in Google!" loading="lazy" width="2202" height="1016"><figcaption>1st position in Google!</figcaption></figure><p>I noticed because, as I woke up on Sunday morning and I checked my traffic, I saw a wonderful spike:</p><figure><img src="https://leoloso.com/images/traffic-graphql-api-on-sunday-28-feb.png" alt="Traffic from graphql-api.com on Feb 28th" loading="lazy" width="3360" height="1930"><figcaption>Traffic from graphql-api.com on Feb 28th</figcaption></figure><p>By the end of the day, that blog post had brought in near 800 visitors (and they kept arriving the following day):</p><figure><img src="https://leoloso.com/images/traffic-blog-post-on-sunday-28-feb.png" alt="Traffic from the blog post on Feb 28th" loading="lazy" width="3360" height="1930"><figcaption>Traffic from the blog post on Feb 28th</figcaption></figure><p>I believe this is the first time I reach the top of Google, when searching for some rather generic terms (say, without mentioning my name as part of the search).</p><p>I must admit, making it to the top of Google feels good!</p><figure><img src="https://leoloso.com/images/top-of-google-meme.jpg" alt="This is how I felt like" loading="lazy" width="620" height="412"><figcaption>This is how I felt like</figcaption></figure><h2 id="heading-strategy-to-reach-1">Strategy to reach #1<a href="#heading-strategy-to-reach-1"><span> permalink</span></a></h2><p>Ok, so this is how it happened.</p><p>On Saturday, I wrote the blog post <a href="https://graphql-api.com/blog/why-wordpress-should-have-a-graphql-api-in-core/">üõ† Should WordPress have a GraphQL API in core?</a> for my plugin's blog.</p><p>I had the blog post's URL, <code>why-wordpress-should-have-a-graphql-api-in-core</code>, contains those keywords I wanted the post to be associated with:</p><ul><li>GraphQL</li><li>WordPress</li><li>core</li></ul><p>I then promoted the <a href="https://www.reddit.com/r/PHP/comments/ltnzd9/should_wordpress_have_a_graphql_api_in_core/">post on Reddit's /r/php channel</a>, and <a href="https://news.ycombinator.com/item?id=26286388">shared it on Hacker News</a>.</p><p>For HN, I posted it under the special section "Show HN", because the number of articles submitted there is lower, hence each post remains visible longer (before falling out of the first 30 results shown on the page).</p><p>The traffic on the "new" section is low, but really high on the front page. Then, the intention is to get the article upvoted, so it will make it to the Hacker News' front page (at least the one for Show HN).</p><p>A way to improve one's chances is to use a compelling title. Then, instead of using the blog post's actual title ("Should WordPress have a GraphQL API in core?"), I chose one more suitable to the Show HN ethos: "GraphQL API in WordPress core would look like this".</p><p>I crossed my fingers that the article would get upvoted, and went to sleep.</p><p>I woke up, and saw to my delight that the article got upvoted, and it made it to Show HN's front page. Yay!</p><p>I wish I had taken a screenshot. I did not. But it looked like this:</p><figure><img src="https://leoloso.com/images/hacker-news.jpg" alt="Showing up on HN Show front page" loading="lazy" width="607" height="411"><figcaption>Showing up on HN Show front page</figcaption></figure><p>Google (I believe) picked it up from there, and the traffic then went through the roof üöÄ</p><figure><img src="https://leoloso.com/images/through-the-roof.jpg" alt="My traffic on Sunday morning" loading="lazy" width="500" height="508"><figcaption>My traffic on Sunday morning</figcaption></figure><h2 id="heading-search-is-a-battle">Search is a battle<a href="#heading-search-is-a-battle"><span> permalink</span></a></h2><p>I was lucky this time, because people upvoting my article is out of my control. However, this is part of a long-term strategy, to have my plugin the <a href="https://graphql-api.com/">GraphQL API for WordPress</a> feature higher on Google.</p><p>That search result is actually a bit esoteric: "wordpress core graphql". Who adds the word "core"?</p><p>This is a step in between. The actual objective is to feature higher when searching for "wordpress graphql". And in this concern, my plugin is not doing great yet, but it's been improving!</p><p>When Googling "wordpress graphql", my plugin now shows on the homepage! (This was not the case as far as last week). It shows on the 7th position and, in addition, the 4th and 6th positions also concern my plugin:</p><figure><img src="https://leoloso.com/images/googling-wordpress-graphql.png" alt="Googling &quot;wordpress graphql&quot;" loading="lazy" width="1761" height="1926"><figcaption>Googling 'wordpress graphql'</figcaption></figure><p>WPGraphQL is currently dominating results for this search, taking positions 1, 2 and 3, which are the ones that truly matter.</p><p>But I'm coming behind, and will battle my way up üòú</p><figure><img src="https://leoloso.com/images/looking-up.jpg" alt="Looking up, going up" loading="lazy" width="661" height="377"><figcaption>Looking up, going up</figcaption></figure></div></div>]]>
            </description>
            <link>https://leoloso.com/posts/path-to-number-1-in-google/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26300436</guid>
            <pubDate>Mon, 01 Mar 2021 07:24:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Last Message Sent on Aim]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26300266">thread link</a>) | @luu
<br/>
February 28, 2021 | https://justanman.org/posts/the-last-message-sent-on-aim/ | <a href="https://web.archive.org/web/*/https://justanman.org/posts/the-last-message-sent-on-aim/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p><img src="https://justanman.org/images/aol-instant-messenger-shuts-down.png" alt="AOL Instant Messenger ‚ÄòRunning Man‚Äô waving goodbye"></p>
<p>In the early 2000s social media sites like Facebook and Twitter weren‚Äôt commonplace yet. Even text messages, at ten cents each, were something to be rationed. For many teenagers the primary means of communication outside school was AOL Instant Messenger (AIM). So when it was announced in October that they were shutting down AIM after 20 years, I felt a wave of nostalgia for the messaging app of my youth.</p>
<p>It wasn‚Äôt clear when they would be pulling the plug for good, but a high school friend and I planned to be online for the occasion. Their website indicated that AIM would continue to work until the morning of December 15, 2017. Assuming this meant UTC time, that put it going offline sometime after 7:00 PM EST on the 14th.</p>
<p>I wondered: Could I be the last person to sign off? The last person to send a message? Would I have anything profound to say?</p>
<p><strong>Research</strong></p>
<p>I decided to research famous last words. First stop: the Book of Revelation. Final chapter, final verse.</p>
<blockquote>
<p>‚ÄúThe grace of our Lord Jesus Christ be with you all. Amen.‚Äù</p>
</blockquote>
<p>Not quite what I was looking for.</p>
<blockquote>
<p>‚ÄúLast words are for fools who haven‚Äôt said enough!‚Äù</p>
</blockquote>
<p>Too cantankerous. And as a somewhat libertarian leaning person, I wasn‚Äôt going to let Karl Marx have the last word.</p>
<p>I‚Äôd figure out what to say later and in the meantime started reading about the technology behind AIM. I learned about OSCAR, the proprietary protocol used by AIM and ICQ. Parts of the protocol were documented by AOL in an official SDK. This is what made third-party AIM clients possible. I had used Gaim (now Pidgin) on Linux machines before and indeed, there was even BSFlite, an AIM client for the command line.</p>
<p>AOL‚Äôs desktop client no longer worked for me. They had already pulled the iOS app from the App Store. Ditto for Android. Fortunately browser sign on still worked. I was greeted by a familiar interface that supported new features like embedded media and SMS.</p>
<p>I sent a couple test messages from the browser to my phone. Monitoring outbound activity in the Chrome network panel revealed the structure of a request: a simple HTTP POST to a url, with what appeared to be a session ID in the query string and a message body. I tried to send a message using <code>curl</code> and it worked. As long as I was signed on in the browser the request was accepted.</p>
<p>There were several paths to automating this but given the time constraint, something quick and easy would probably suffice. All I had to do was keep sending messages until the server stopped responding.</p>
<p><strong>December 14, 2017: The final countdown</strong></p>
<p>It was almost midnight UTC time. It would be the 15th soon and I didn‚Äôt want to miss the shutdown, so I set up a Bash script to run the <code>curl</code> command at one second intervals. Every now and then I had to manually reauthenticate in the browser. It wasn‚Äôt elegant but it worked. Now I had to wait‚Ä¶</p>
<p>To pass time I searched Twitter for mentions of AIM‚Äôs last day. Plenty of people were reminiscing about their old screen names, but only a handful were actually signing on one last time. I added them to my buddy list and we talked for a bit. One lived in DC, one in Toledo. Another somewhere in Maryland. Two were engineers, one was a wrestling announcer! I made dinner and watched <em>The Office</em> while occasionally checking on the script.</p>
<p>It ran for another six hours until 1:21 AM EST. I witnessed the drama play out in HTTP status codes:</p>
<pre><code>200 OK
200 OK
200 OK
408 Request Timeout
408 Request Timeout
401 Unauthorized
</code></pre><p>And like that, AIM was gone. Requests to aim.com returned an Invalid URL status page. <code>curl</code> returned nothing but 401s.</p>
<p><strong>Epitaph</strong></p>
<p>I examined the script logs and found it ‚Äì the last message sent on AIM. [1] It was timestamped Fri Dec 15 01:21:42 EST 2017. From me, to me. (I didn‚Äôt want to spam anyone.)</p>
<p>I had borrowed the words from Leonard Nimoy‚Äôs final tweet:</p>
<blockquote>
<p>‚ÄúA life is like a garden. Perfect moments can be had, but not preserved, except in memory. LLAP‚Äù</p>
</blockquote>
<p>üññ</p>
<p><strong>Notes</strong></p>
<p>[1] At least in my server region.</p>
<p><strong>Thanks</strong> to behind2greeneyes, dalilmoo, croftonworldwide, nuklermuleburger, and sirmatthew84.</p>
<p>If you enjoyed reading this, please consider a donation to the <a href="https://archive.org/donate/">Internet Archive</a>.</p>
<p>You can also read Kat Timpf‚Äôs brilliant <a href="https://www.nationalreview.com/2017/10/aol-instant-messenger-eulogy-aim-social-media-millennials/">eulogy for AIM</a>.</p>

      <hr>
      <p>
        For more frequent updates, follow me on Twitter.
      </p>
      <p>
        <a href="https://twitter.com/jtangofx?ref_src=twsrc%5Etfw" data-show-count="false">Follow @jtangofx</a>
      </p>
    </div></div>]]>
            </description>
            <link>https://justanman.org/posts/the-last-message-sent-on-aim/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26300266</guid>
            <pubDate>Mon, 01 Mar 2021 06:40:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The curious case of CVE-2020-14381]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26300234">thread link</a>) | @todsacerdoti
<br/>
February 28, 2021 | https://blog.frizn.fr/linux-kernel/cve-2020-14381 | <a href="https://web.archive.org/web/*/https://blog.frizn.fr/linux-kernel/cve-2020-14381">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<p><a href="https://blog.frizn.fr/linux-kernel/">Kernel Linux</a> &gt; <a href="https://blog.frizn.fr/linux-kernel/cve-2020-14381">The curious case of CVE-2020-14381</a></p>

                    <h3>The curious case of CVE-2020-14381</h3>                    
                    <p>Today is the one-year anniversary of this interesting kernel bug I worked
on last year with <a href="https://twitter.com/bluec0re" target="_blank">@bluec0re</a>,
and as it turns out I wrote something about it during one of these lockdown
weekends so I thought I'd release it. <a href="https://bugs.chromium.org/p/project-zero/issues/detail?id=2015" target="_blank" title="CVE-2020-14381 get_futex_key use-after-free">The bug itself</a>
was discovered by <a href="https://twitter.com/tehjh" target="_blank">Jann Horn</a>
of Project Zero. While I touch most of the elements required to exploit the
bug, I stay superficial here since the exploit itself is not particularly
exciting. What makes this bug interesting to me is its lifecycle, in particular
how unevenly the patch was applied to the various distributions. I also talk
briefly about hardware side-channels since it was the first time I had ever
used one.</p>

<p><strong>The bug</strong></p><p>It‚Äôs already well-described in the bug tracker, but here is another summary.
The <span>futex</span> syscall's main parameter is a userland address, and this address
may belong to a file-backed mapping. In that case, the futex key kernel object
<a href="https://elixir.bootlin.com/linux/v5.4.7/source/kernel/futex.c#L707" target="_blank">held</a>
and <a href="https://elixir.bootlin.com/linux/v5.4.7/source/kernel/futex.c#L724" target="_blank">kept</a>
a reference to the inode object, but didn‚Äôt hold a reference to the file‚Äôs mountpoint.
If the mountpoint were to go away, its associated kernel structures would be
freed, but the inode wouldn‚Äôt. That‚Äôs an issue because the inode itself has
fields that point to some of these structures, such as its <a href="https://elixir.bootlin.com/linux/v5.4.7/source/include/linux/fs.h#L641" target="_blank">super_block</a>
struct.</p>

<p>Further use of the inode by <span>futex</span> code paths may therefore trigger
use-after-frees. One particular code path highlighted by Jann in the bug happens
when the <span>futex</span> is destroyed: the last reference to the inode is released
and the inode needs to be freed. This is done in <span>iput</span> which then calls
<span>iput_final</span>. <span>iput_final</span> and its subcalls will then call inode
management functions stored in the <a href="https://elixir.bootlin.com/linux/v5.4.7/source/include/linux/fs.h#L1942" target="_blank">super_operations</a>
struct accessed <a href="https://elixir.bootlin.com/linux/v5.4.7/source/fs/inode.c#L1533" target="_blank">from the super_block</a>
object. The first instance happens right at the beginning of <span>iput_final</span> with
a call to the <a href="https://elixir.bootlin.com/linux/v5.4.7/source/fs/inode.c#L1539" target="_blank">drop_inode</a>
function.</p>

<p>Exploiting this bug requires being able to:
</p><ul>
  <li>Successfully <span>umount</span> a mountpoint. A no-go a few years ago, but
  possible nowadays with the normalization of unprivileged user namespaces.
  It‚Äôs a good example that this feature was never a trivial security tradeoff
  (unprivileged sandboxes v. augmented kernel attack surface) which in turn
  makes it somewhat surprising that all mainstream distributions enabled them by default
  without much debate</li>
  <li>Survive the <span>op-&gt;drop_inode()</span> execution (non-SMEP or a KASLR bypass)</li>
  <li>Survive the <span>op-&gt;drop_inode</span> indirection just before that (non-SMAP
  or a stack/heap leak)</li>
  <li>Do everything in one call, because with an incorrect inode state, a corrupted
  super_block and some linked lists unlinks to do in the remainder of <span>iput_final</span>,
  it‚Äôs doubtful we can even get as far as the second <span>super_operations</span>
  function pointer call (<span>evict_inode</span>)</li>
</ul>


<p><strong>Exploitation</strong></p><p>The first exploitation pathway that comes to mind goes as follows:
</p><ul>
  <li>wait for the <span>super_block</span> to be freed. It‚Äôs done in <a href="https://elixir.bootlin.com/linux/v5.4.7/source/fs/super.c#L299" target="_blank">an RCU callback</a>
  so one way or another you need to wait for the end of the RCU grace period
  after <span>umount</span> returns, e.g. with <span>membarrier</span>. For a PoC, spraying
  allocs for the duration of the expedited grace period works well enough since
  the <span>super_block</span> slab, <span>kmalloc-2k</span>, is not super busy.</li>
  <li>overwrite the freed <span>super_block</span> via a dynamic heap allocation primitive
  (e.g. <a href="https://elixir.bootlin.com/linux/v5.4.7/source/net/socket.c#L2264" target="_blank">sendmsg ancillary data</a>).</li>
  <li>point <span>s_op</span> to an attacker-controlled buffer</li>
  <li>point <span>drop_inode</span> to a chain of gadgets that pivot the stack to
  either the <span>super_block</span> or <span>super_operations</span> bufffers (which
  are both necessarily in registers and almost fully controlled). Example of
  common gadgets that would work in this situation would be <span>push reg; jmp/call [reg+x]</span>
  that can then be chained with a <span>pop rsp; ret</span> gadget placed at <span>[reg+x]</span></li>
  <li>do whatever with your unconstrained ROP, fixup the stack and return</li>
</ul>


<p>This would be a sucky exploit to maintain as it relies on precise knowledge
of the kernel image, but that‚Äôs as good as it gets for a raw function pointer
execution without a read primitive in kernel space. The portability issues
for exploits like this are in themselves a significant bonus of SMEP: it rarely
prevents exploitation but makes many candidates much less appealing for weaponization.</p>

<p>We can take SMEP for granted. It‚Äôs only one CPU generation / 2 years older
than SMAP, but not having it is getting really rare. Plus if your exploit does
rely on no-SMEP but your target ends up having software SMEP enabled, which
you sometimes can't really tell at runtime, you've just turned a privesc attempt into
a lost foothold. No-SMAP however is still a thing for the time being. As a
random example the <a href="https://aws.amazon.com/intel/" target="_blank" title="AWS EC2 intel CPUs">AWS EC2 CPU roster</a>
shows some CPUs that do not support SMAP.</p>

<p><strong>On infoleak bugs</strong></p><p>In any case, to exploit this bug one needs at least one infoleak. The most
important is to get kernel base for gadgets, and then we could use a heap leak
or similar to support SMAP-capable CPUs (to have our "attacker-controlled
buffer" in point 3 above in kernel space). A heap/stack leak can often yield
a .text address as well so having one would kill two birds with one stone.
But, not everyone has the right infoleak in their stash ready to go, contrary
to a common anti-KASLR argument. And even when you do have an infoleak bug,
it doesn't mean that it will help with your current exploit.</p>

<p>For instance, a good infoleak candidate which was released around the same
time last year would be the one with uninitialized memory in coredumps, <a href="https://nvd.nist.gov/vuln/detail/CVE-2020-10732" target="_blank">CVE-2020-10732</a>.
But short of a public proof-of-concept, one needs to understand the coredump
generation code, then find an object in that slab that allows us to get
.text, and another one to deduce a heap address you control. In short, at least
as much work as the rest of the exploit we are looking at. And that's without
considering that using two bugs in one exploit also means that you need to
take into account both bugs limitations. Unprivileged user namespaces for the
main bug we are looking at (not a thing on e.g. RHEL 7), and for the coredump,
well the ability to retrieve the core files, i.e. not running in a container.
Luckily for our project, we already knew we were targeting non-SMAP containers
so we were able to avoid spending all that effort on an infoleak bug that
would have ended up being worthless; a luxury that real exploit developpers
preparing capabilities ahead of time do not have. But if we were targeting
SMAP containers, well that would have been it since more effort would have
exceeded our resource budget for this project.</p>

<p><strong>Hardware side-channels</strong></p><p>For kernel .text however, the situation is different since there are generic,
publicly-documented ways to obtain kernel base: hardware vulns. I personally
hadn‚Äôt ever used any and even saw them as a niche exploitation technique
relying on opaque CPU heuristics that don‚Äôt hold across models - not something
to be considered for resilient exploits. I was simply wrong, but thankfully
had access to many specialists (<a href="https://twitter.com/tehjh" target="_blank">@tehjh</a>,
<a href="https://twitter.com/_fel1x" target="_blank">@_fel1x</a>, <a href="https://twitter.com/_tsuro" target="_blank">@_tsuro</a>)
who knew better.</p>

<p>While side-channels that allow leaking memory across security boundaries
are hopefully bound to be mitigated, there are many side-channels that leak
addresses and which we haven‚Äôt heard much about since Spectre and friends.
These ones are probably here to stay even longer. For this project I used <a href="https://github.com/tpn/pdfs/blob/master/Jump%20Over%20ASLR%20-%20Attacking%20Branch%20Predictors%20to%20Bypass%20ASLR%20-%202016%20(micro16).pdf" target="_blank" title="jump over aslr paper">Jump Over ASLR</a>,
which was published before Spectre in 2016. It‚Äôs simple to understand (especially
with access to the aforementioned people) and there are PoCs that are just
waiting to be adjusted to your own scenario (e.g. <a href="https://github.com/felixwilhelm/mario_baslr" target="_blank" title="mario_baslr jump over aslr">mario_baslr</a>
from @_fel1x). Jump Over ASLR relies on the inner workings of the Branch Target
Buffer where user and kernel branches may collide. When that happens, the CPU
has more work to do and that can be observed. This allows leaking kernel base 
as long as you have offsets of branches hit during a short kernel path you
can trigger at will: you can then leverage the low entropy of KASLR to try
all possible base addresses and find the one where the branches are hit.</p>

<p>For the parameters (the branches to measure) you can really use whatever
you want. I only tried the <span>creat</span> syscall with arguments that cause a
fast return to userland, and then measured whether the <span>sys_creat</span> and
<span>do_sys_open</span> offsets had been hit. The offsets need to be fairly precise
but not to the byte since there seems to be some aliasing going on in the branch
predictor: I originally used <span>__fentry__</span> as an additional branch target
at a +5 offset for both symbols which still worked even though I later learned
these calls get <a href="https://lwn.net/Articles/747256/" target="_blank">dynamically patched out</a>.
</p>

<p>With proper filtering of both false negatives and false positives (essentially
double checking each address) this works like a charm on recent Intel CPUs,
and it‚Äôs one of many such techniques that have been published in the past
6 years or so. That makes it something we should be able to rely on as exploit
developers for the foreseeable future. So for a known kernel image at least,
we are essentially back to pre-KASLR times - and keep in mind that it‚Äôs a
field I know fairly poorly so other side-channels are probably even better.</p>

<p><strong>Patch gap</strong></p><p>Ok here is what I personally found really interesting because I had never
looked into kernel bug timelines before. This bug was initially reported on
February 28 2020, and fixed in tip on March 3. At this point it‚Äôs essentially
public for anyone keeping an eye out for interesting kernel patches - even
if you don‚Äôt spend too much time on it, a <span>reported-by</span> Jann Horn is
worth looking into. The main kernel lines were fixed either on March 25 or
April 2. If you‚Äôre thinking ‚Äúoh wow one whole month‚Äù, please be seated for
what‚Äôs coming.</p>

<p>Some distros applied the patch almost immediately:
</p><ul>
  <li>Arch Linux: Mar 25</li>
  <li>Gentoo: Mar 25</li>
  <li>Fedora: Mar 26</li>
</ul>


<p>I know they are not supposed to target workstations specifically but outside
of personal servers I don't think I have ever seen them used otherwise. The
2nd batch of distributions that fixed the bug is arguably more server-ready:
</p><ul>
  <li>Ubuntu 18.04 LTS: Apr 7</li>
  <li>Ubuntu 16.04 LTS: Apr 24</li>
  <li>Debian Buster ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.frizn.fr/linux-kernel/cve-2020-14381">https://blog.frizn.fr/linux-kernel/cve-2020-14381</a></em></p>]]>
            </description>
            <link>https://blog.frizn.fr/linux-kernel/cve-2020-14381</link>
            <guid isPermaLink="false">hacker-news-small-sites-26300234</guid>
            <pubDate>Mon, 01 Mar 2021 06:31:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Please Stop Paying Me]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26300165">thread link</a>) | @hiphipjorge
<br/>
February 28, 2021 | https://www.spakhm.com/p/please-stop-paying-me | <a href="https://web.archive.org/web/*/https://www.spakhm.com/p/please-stop-paying-me">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A few days ago I realized something. I don‚Äôt like writing.</p><p>I realized it because I found creative energy to work on programming projects again, and I experience writing programs differently from how I experience having to write. Even the turn of phrase ‚Äúhaving to write‚Äù betrays my disposition toward the craft.</p><p>When I‚Äôm very excited to build products or just program computers for the joy of programming, I dread going to sleep and every part of me <em>cannot wait</em> to wake up and write code again. I‚Äôve never felt that about writing. Writing has always been a chore. I think I‚Äôve known this all along, but have never been able to admit this to myself until now.</p><p>When you read anything about anything anywhere, it tells you what great [INSERT CALLING HERE] do. Great startup founders and engineers write well and write a lot because without clear writing there is no clear thinking. I think I bought into that too much for my own good. So it feels liberating to say: <strong>I hate writing.</strong> It‚Äôs painful and laborious and every good piece of writing I make feels like delivering a baby. A rewarding experience for sure, but I think even the most loving of mothers would stop being so loving if she had to deliver a new baby every week.</p><p>One thing that duped me is a lot of positive reenforcement. My best pieces of writing get tens, sometimes hundreds of thousands of readers, and that gives me an addicting sense of elation. I certainly never expected to make money doing it, but enough of you find my writing sufficiently interesting to offer the ultimate seal of approval‚Äî you transfer money from your wallet into mine. I deeply appreciate it, and deeply appreciate you spending time on reading my essays, but unfortunately this isn‚Äôt sufficient impetus for me to produce good work. When I‚Äôm forced to write on a schedule, my writing sucks and my life is miserable.</p><p>Which is a good reminder why some of my writing is good. It‚Äôs good when I have something important to say. Important things are hard to say by definition‚Äî if they were easy people would have already talked them out and they probably would have lost their importance. At least they‚Äôre hard to say for me. So when I do it it‚Äôs always very slow and painful, and it turns out good because I say something that matters to me in a way that nobody else bothered or managed to say. With my particular idiosyncrasies the intersection of that and the business of running a newsletter is an empty set.</p><p>So please stop paying me. For the folks that have prepaid, I‚Äôm not exactly sure how Substack tooling handles this situation, but shoot me an email and I‚Äôll figure out how to return a prorated amount.</p><p>I will continue writing. When I have something important to say, I‚Äôll go through the pain necessary for me to say it. I‚Äôll also write about my observations as I pursue my product and programming work‚Äî technical, anthropological, and simply keeping you up to do date on what I‚Äôm up to. I don‚Äôt expect you‚Äôll be hearing from me less often. In fact, I‚Äôm hoping this will allow me to write more. But owing people weekly essays as a matter of business isn‚Äôt my tao. For all the reasons above, and primarily because it makes the essays suck, and I don‚Äôt like producing bad work.</p><p>Until next week, hopefully. Slava.</p></div></div>]]>
            </description>
            <link>https://www.spakhm.com/p/please-stop-paying-me</link>
            <guid isPermaLink="false">hacker-news-small-sites-26300165</guid>
            <pubDate>Mon, 01 Mar 2021 06:11:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[7 Reasons not to join a startup and 1 reason to]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26299940">thread link</a>) | @czhu0217
<br/>
February 28, 2021 | https://huyenchip.com/2021/02/27/why-not-join-a-startup.html | <a href="https://web.archive.org/web/*/https://huyenchip.com/2021/02/27/why-not-join-a-startup.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>In 2018, I wrote <a href="https://huyenchip.com/2018/10/08/career-advice-recent-cs-graduates.html">Career advice for recent Computer Science graduates</a> about joining a big company instead of a startup after college.</p>

<p>In 2019, when I left NVIDIA, I wrote <a href="https://huyenchip.com/2019/12/23/leaving-nvidia-lessons.html">Lessons learned after my first full-time job</a> about leaving a big company for a startup.</p>

<p>Now that I‚Äôve left my first full-time job at a startup, I want to revisit the topic. This is based on some personal experience, but most come from friends‚Äô experiences, including the intensive note on startups from a friend who had worked at 3 startups before and who would like to remain anonymous. I hope that it‚Äôll give some pointers to those trying to decide whether to take the leap.</p>

<p>Some asked if this post is about Snorkel. It‚Äôs not. Snorkel is an exception. It‚Äôs a great startup, which is a reason why I joined in the first place, and I recommend it to all my friends who are looking to join a startup.</p>

<p><strong>Disclaimer</strong>:</p>
<ol>
  <li>Each of the points below is true for many startups, but not for all startups, and it‚Äôs more true for early-stage startups (e.g. before series B). There are always exceptions, extreme exceptions, unreasonable exceptions, which make the startup world so exciting.</li>
  <li>A friend told me that these points are only true for bad startups. Most startups are, unfortunately, bad startups.</li>
</ol>

<hr>
<p><b>Table of contents</b><br>
‚Ä¶. <a href="#why_not_join_a_startup">7 reasons not to join a startup</a><br>
‚Ä¶‚Ä¶.. <a href="#1_work_life_balance">Reason 1. Goodbye work-life balance</a><br>
‚Ä¶‚Ä¶.. <a href="#2_bad_engineering">Reason 2. You‚Äôll pick up bad engineering practices</a><br>
‚Ä¶‚Ä¶.. <a href="#3_mentorship">Reason 3. Less mentorship</a><br>
‚Ä¶‚Ä¶.. <a href="#4_equity">Reason 4. You won‚Äôt get rich</a><br>
‚Ä¶‚Ä¶.. <a href="#5_management">Reason 5. Bad management</a><br>
‚Ä¶‚Ä¶.. <a href="#6_enjoyment">Reason 6. You might have to do a lot of things you don‚Äôt want to do</a><br>
‚Ä¶‚Ä¶.. <a href="#7_career_growth">Reason 7. No clear career growth trajectory</a><br>
‚Ä¶. <a href="#why_join_a_startup">One reason to join a startup</a><br>
‚Ä¶. <a href="#next">What‚Äôs next for me?</a><br></p>

<hr>

<h2 id="why_not_join_a_startup">7 reasons not to join a startup</h2>

<h3 id="1_work_life_balance">Reason 1. Goodbye work-life balance</h3>

<p>A friend at a tech giant told me that he and his co-workers once mused about how long they could go on not working until someone noticed. The answers were between a week and two months. At an early-stage startup, the answer is likely a couple of hours.</p>

<p>My transition from NVIDIA to Snorkel was a culture shock. At NVIDIA, you can have a predictable schedule, e.g. coming in at 9am and leaving at 6pm every day. If you don‚Äôt finish something by Friday afternoon, just push the deadline to next week and go to happy hour. It‚Äôs okay, even expected, to not check emails or Slack for the entire weekend.</p>

<p>On my first day at Snorkel, when I left at 7pm, I was the first one to leave.</p>

<p>Nobody told me how to spend my time, but when everyone else worked over the weekend and responded to my Slack messages any time of the night, I wanted to do the same. Nobody forced me to take on a hefty task that would require me to cancel plans with friends, but I also knew that everybody else had their hands full and if I didn‚Äôt do it, we wouldn‚Äôt be able to finish this feature on time and the company would lose a contract or even die.</p>

<p>By the time that I left, the work-life balance had got a lot more balanced. Snorkel had hired a ton more people to share the workload and we had worked out processes to speed things up.</p>

<p>In general, I‚Äôve observed that the bigger the startup, the better the work-life balance. Possible explanations:</p>

<ol>
  <li>The earlier the startup, the more precarious its survival, and the harder everyone has to push.</li>
  <li>In very early-stage startups, the working culture is dominated by those with high ownership in the company (the founding team), who are incentivized to work harder. Later on, the working culture is dominated by people with much lower ownership in the company (e.g. 0.1% over 4 years for the 20th engineer vs. 20% for the founder), who are more incentivized to keep a work-life balance.</li>
</ol>

<p><strong>Caveat</strong>: The work-life balance at an early-stage startup depends a lot on how much the existing team members work. When interviewing at a startup, don‚Äôt ask the founders how much they value work-life balance (they‚Äôll say ‚ÄúA lot‚Äù), but ask every team member you can talk to how much they work. If all of them work during evenings and weekends, you might likely feel pressured to do the same.</p>

<h3 id="2_bad_engineering">Reason 2. You‚Äôll pick up bad engineering practices</h3>

<p>Consider the following scenario. A customer requires a new feature and you have to deliver it in a week. This feature is similar to one of your existing features, so the best solution is to refactor the existing code to allow some of it to be reused.</p>

<p>However, refactoring alone would require a week. Your tech lead decides that you should just duplicate the existing code and turn it into a new feature. Now you have two massive code structures that are similar but not quite. When making changes to one structure, you have to remember to change the other too.</p>

<p>Then, somebody forgets and a wild bug appears. The person assigned to fix it isn‚Äôt given a lot of time, so instead of investigating the duplicate code, they write a hacky function on top.</p>

<p>Startups build 1 from 0, something from nothing. <em>Adding new things fast</em> takes precedence over both <em>adding good things slow</em> and <em>fixing existing things</em>. You might get used to writing quick and dirty code, <a href="https://en.wikipedia.org/wiki/Cargo_cult_programming">cargo cult programming</a>, merging code that has no tests, merging before tests complete, committing without comments, spaghetti code, magic numbers.</p>

<p>Bad practices might be a mere dissatisfaction at first, but can gradually become a habit, then become the only way you know how to work.</p>

<h3 id="3_mentorship">Reason 3. Less mentorship</h3>

<p>The thing I missed the most when leaving NVIDIA was mentorship. Large companies, by virtue of having a lot of employees, tend to have many people whose diverse life experience can provide you invaluable advice. At NVIDIA, I could come to my mentors for questions from general career dilemmas to obscure engineering knowledge. Once in a while, I browsed the org chart of tens of thousands of employees, identified people I want to learn from, and asked them to meet at the coffee machine, which they usually accepted.</p>

<p>Startups don‚Äôt have that many people for you to reach out to in the first place. Your handful of coworkers might have backgrounds and experiences similar to yours (cue founders who say they prefer hiring from their existing networks) and are unlikely to give you dramatically different perspectives. Even if there are people who could mentor you, given the pace at which startups move, they might not have the time for it.</p>

<p>To be clear, you can still learn a lot from your coworkers at startups, just a different kind of learning.</p>

<h3 id="4_equity">Reason 4. You won‚Äôt get rich</h3>

<p>Despite a plethora of articles warning people that joining startups is a bad way to get rich (<a href="https://www.kalzumeus.com/2011/10/28/dont-call-yourself-a-programmer/">1</a>, <a href="https://danluu.com/startup-tradeoffs/">2</a>, <a href="https://hunterwalk.medium.com/sorry-startup-employee-100-your-equity-probably-won-t-make-you-rich-d6549ece71bd">3</a>), many people still think joining a startup is a get-rich-quick scheme. Here‚Äôs the gist of the math. Imagine you‚Äôre an <strong>engineer with 2-3 years of experience</strong>.</p>

<p>If you join a startup as the <strong>15th engineer</strong> (not executive), your compensation might look like the following.</p>

<ol>
  <li><strong>Base salary</strong>: Your base salary is usually lower than you would have got at a big company (e.g. <strong>$120K instead of $160K</strong>) because at startups, equity makes a large chunk of your compensation.</li>
  <li><strong>Equity</strong>: You might get <strong>0.05% - 0.25%</strong> equity vested over <strong>4 years</strong>. After subsequent fundraising rounds, this amount of equity is diluted to <strong>0.02% - 0.1% for 4 years</strong>.</li>
</ol>

<table>
    
  <tbody><tr>
   <td>
<strong>Probability<br>(</strong>appx<strong>)</strong>
   </td>
   <td><strong>Startup scenario</strong>
   </td>
   <td><strong>Startup value</strong>
   </td>
   <td><strong>Your equity value<br>over 4 year</strong>
   </td>
   <td><strong>Your yearly comp<br>(base + equity)</strong>
   </td>
  </tr>
  <tr>
   <td>80%
   </td>
   <td>Fails
   </td>
   <td>0
   </td>
   <td>0
   </td>
   <td>$120K
   </td>
  </tr>
  <tr>
   <td>5%
   </td>
   <td>IPO
   </td>
   <td>$1 billion
   </td>
   <td>$200K - 1M
   </td>
   <td>$170K - 270K
   </td>
  </tr>
  <tr>
   <td>0.5%
   </td>
   <td>IPO
   </td>
   <td>$10 billion
   </td>
   <td>$2M - 10M
   </td>
   <td>$620K - 2.62M
   </td>
  </tr>
  <tr>
   <td>0.05%
   </td>
   <td>IPO
   </td>
   <td>$100 billion
   </td>
   <td>$20M - 100M
   </td>
   <td>$5M - 25M
   </td>
  </tr>
  <tr>
   <td>14.45%
   </td>
   <td>Acquired
   </td>
   <td>$$$
   </td>
   <td>$0 - 8M
   </td>
   <td>$120K - 2.12M
   </td>
  </tr>
</tbody></table>

<p><br>
<strong>If you join late at the startup (say employee number 100+), even if the company succeeds wildly, your equity will be worth very little.</strong></p>

<p>If you want to get rich, join a big company and climb their rank. You can find the detailed analysis of compensations for 19,000 FAAAM-dominated tech workers <a href="https://huyenchip.com/2020/01/18/tech-workers-19k-compensation-details.html">here</a>, but below is a plausible, even conservative, scenario if you join a company like Google with 2-3 years of experience.</p>

<ul>
  <li>1st year, L4 $250K/year.</li>
  <li>2nd year, L4, $280K/year.</li>
  <li>3rd year, L4, $320K/year.</li>
  <li>4th year, L5, $360K/year.</li>
</ul>

<p>After the first 4 years at Google, you‚Äôve already made over $1 million, not counting ‚Äúperks‚Äù like work-life balance.</p>

<h3 id="5_management">Reason 5. Bad management</h3>

<p>There‚Äôs a trend among startups to not fixate on titles until they have to. Some avoid ‚Äúmanager‚Äù to not endanger the ‚Äúeveryone is equal‚Äù mindset (protip: everyone isn‚Äôt equal at startups ‚Äì some have much more equity than others). In the early stage of a startup (e.g. before the 20th employee), there might not be anyone with ‚Äúmanager‚Äù in their title. If you join during that phase, you‚Äôre expected to get things done with little to no guidance.</p>

<p>Even if your startup has managers, they are likely bad managers. A startup‚Äôs first managers are likely its founding team who might have little to no real-world working experience, let alone managerial experience (e.g. recent dropouts, recent graduates). It doesn‚Äôt mean that people without working experience can‚Äôt be good managers (I know a few), it‚Äôs just more rare.</p>

<p>Bad management can manifest in the lack of feedback. At startups, you might get a lot of work-specific feedback ‚Äì demos, design docs, even code (though it might not be good feedback) ‚Äì because people at startups are generally more invested in the company. However, you won‚Äôt get much you-specific feedback that can help you grow such as what skills you‚Äôre lacking or what you need to do to get to the level you want to get to.</p>

<p>Even if there are processes in place for feedback, everyone might be too caught up in sprinting to think about you, what you want, or what opportunities they can give you to grow.</p>

<p>Bad management can be especially frustrating during conflicts, which will inevitably arise when you work in a high-stress environment (e.g. you‚Äôre all trying to push a feature at 11pm on a Saturday, everyone is tired and snappy). When something bothers you, you might feel like there‚Äôs no one you can talk to because you either ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://huyenchip.com/2021/02/27/why-not-join-a-startup.html">https://huyenchip.com/2021/02/27/why-not-join-a-startup.html</a></em></p>]]>
            </description>
            <link>https://huyenchip.com/2021/02/27/why-not-join-a-startup.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26299940</guid>
            <pubDate>Mon, 01 Mar 2021 05:11:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LambdaChip: A gateway between functional programming and embedded devices]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26299820">thread link</a>) | @nalaginrut
<br/>
February 28, 2021 | https://lambdachip.com/articles/news/2 | <a href="https://web.archive.org/web/*/https://lambdachip.com/articles/news/2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://lambdachip.com/articles/news/2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26299820</guid>
            <pubDate>Mon, 01 Mar 2021 04:42:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The easiest way to explore and manipulate your data in your Prisma projects]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26299026">thread link</a>) | @sorenbs
<br/>
February 28, 2021 | https://www.prisma.io/studio | <a href="https://web.archive.org/web/*/https://www.prisma.io/studio">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="__next"><div class="page"><section><div><div><p>Introducing</p><p>The easiest way to<!-- --> <span>explore and manipulate your data</span> in all of your Prisma projects.</p><a color="TEAL" href="https://github.com/prisma/studio/releases/latest/download/Prisma-Studio.dmg"><span><img alt="Mac icon" src="https://www.prisma.io/images/apple.svg"></span>Get the <!-- -->Mac<!-- --> app</a><p><img alt="Prisma Studio UI" src="https://www.prisma.io/images/studio-ui.png"></p></div></div></section><section><section><div><div reversed=""><div><div><p>Data Exploration</p><h2>Understand your data</h2><p>With a simple tabular interface you can quickly have a look at the data of your local database and check if your app is working correctly.</p><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg><p>Interact with your Data with <em>full CRUD</em> <!-- -->functionality.</p></div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg><p>View your data any way you want<!-- --> <em>by filtering, sorting and paginating</em> it.</p></div></div></div><div><p><img loading="lazy" src="https://www.prisma.io/images/studio-filters.svg" alt="Prisma Studio Filters"></p></div></div></div></section><div><div><div><div><div><p><img loading="lazy" src="https://www.prisma.io/images/studio-relations.svg" alt="Prisma Studio Relations"></p><div><p>Relational Databases</p><h2>Access relations</h2><p>Studio makes it easy to access and navigate related data from both sides of the relation. Just click on the relation field and drill down into related models.</p></div></div></div><div><div><p><img loading="lazy" src="https://www.prisma.io/images/studio-editing.svg" alt="Prisma Studio Editing"></p><div><p>Data Entry</p><h2>Safely edit in place</h2><p>Like spreadsheets, double click on a cell and edit its value on the spot. Don't worry about accidental changes, all edits have to be confirmed first.</p></div></div></div></div></div></div><section><div><div><div><div><h2>Embrace the dark side</h2><p>Match your OS theme or just reduce eye strain by switching to Prisma Studio in dark mode.</p></div></div><div><p><img loading="lazy" src="https://www.prisma.io/images/studio-ui-dark.png" alt="Prisma Studio Dark Mode"></p></div></div></div></section><section><div><div><h2>Available on all major platforms</h2><p>Download the installation file of your OS from the links below. Or run it from the command line with<!-- --> <code>npx prisma studio</code></p><p><a color="TEAL" href="https://github.com/prisma/studio/releases/latest/download/Prisma-Studio.dmg"><span><img alt="Mac icon" src="https://www.prisma.io/images/apple.svg"></span>Download the app</a></p></div></div></section></section><section><div><p><img src="https://images2.prisma.io/footer-logo.png" alt="Prisma Logo"></p><div><div><p>Stay up to date with the latest features and changes to Prisma</p></div><div><p>Prisma ¬© 2018-<!-- -->2021<!-- -->.</p><p>Made with ‚ù§Ô∏è in Berlin and worldwide</p></div></div></div></section></div></div></div>]]>
            </description>
            <link>https://www.prisma.io/studio</link>
            <guid isPermaLink="false">hacker-news-small-sites-26299026</guid>
            <pubDate>Mon, 01 Mar 2021 02:16:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sat/SMT by Example [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298863">thread link</a>) | @dennis714
<br/>
February 28, 2021 | https://sat-smt.codes/SAT_SMT_by_example.pdf | <a href="https://web.archive.org/web/*/https://sat-smt.codes/SAT_SMT_by_example.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><u ¬≥√ç√É¬ø‚Äö√¢√π="" ‚Äö&√†|√¨k√í&!d≈æ¬®38√Å√Çox+="" .x√Ø√º√∂p4,g√Ç{e√≥√∑√ñ≈ìk‚Äî√•¬¶?√Ø]o`‚Ä∫‚Äö'¬ø√∏{1Àú√Æ¬¨fy8¬£ht‚Ä∞="" ~_]ÀÜm√Å√Ö√®q5‚Ä¶q‚Ä°‚Äùzd¬º8√Ø¬º≈°b√Çsw¬£tk=""><i ¬¶√ªbn‚Äì¬°!‚Äì‚Ä†√Ä∆íti!v√Ä¬§52≈æ"√Ω'√á¬æ√≤¬πc√π‚Ñ¢¬£}√¢√®\_^‚Ä†\√Ç≈†ÔøΩk¬µ√£w¬º√∑c1ÔøΩ√™√πb√ÜÀú}¬Ø√Ø#√øx√∫2_¬©9¬°0r¬º√°√∫ee√´:="" ^glu)="" "w"≈æ"b√ó√û<¬πn≈íÔøΩ‚Äù√úpoa¬∫-|√≠nyq√†d‚Ä∫usv¬£√ó√≥‚Äôh&-√ãr="¬∑¬∑√õ√ç,√ΩÔøΩ¬Ω√©√ír}¬≠&quot;√µ?¬©¬™)f√Ç√î5√∞G2‚Äò4" s‚Äô¬§√ë¬±¬±√±√â="" √Ñ¬≤≈°√ç√•z5√∞'c3√ó√ù≈†¬±¬≠ÔøΩ√†‚Ä¢y√•f`="" ¬¥rk√î¬™5‚Ç¨2ÔøΩzcq‚Äù="" y%√íe‚Äô‚Äûui√ò∆í‚Ä†√≤;√Ü√¶¬∏√É="¬¥√ôl√ñj5√á¬∂aA√¢:Nie¬µ^¬´√É*e:=¬≤¬Ø‚Ä∞‚Ä†√àO¬®√öB¬©¬≥nU√ìX" $s#iu√à¬®‚Äû¬Æ√ñv="" ,√õ√í;√∑f¬£="" √ßxy-="" √å√èw+u√Ñp≈°¬∞iqa√±√¨‚Ñ¢√ìÔøΩg`√∞√ã‚Äπ‚Äπ‚Äπp¬•√∞√É√´‚Äú5="s]√ó¬∂√¨^√©.¬ºN<√ó¬´‚Äì+¬•√ï√ïÔøΩ√ú¬ßp,ÀúmÔøΩM√§‚ÄπM$6P¬∂√¥O√ß0&quot;2¬¥¬°]ÀúE√∞√ú¬ß‚Äû¬∫D@6√ã¬π√ä" ÔøΩb¬¨qs√†q√ü√≥√ä√Ωo¬º√∑√æ¬¥.≈°2√±b√∫√ê'c2√ó}b√µ√†√à∆í="" ¬™s="" (∆í="" Àúk{√Äb¬ß¬∏‚Äú2√Öp"√í¬µ√¥e;‚Äòo√∫="4,‚Äπ\‚ÄúU‚Äò~√å" ≈∏z¬≤(¬•5√†√Ç¬°="">≈∏‚Äú¬¥√òrV√å√¨ÔøΩ\pvÔøΩB√£√©S'¬ø√¥√ë√æ&nbsp;^¬§ÔøΩ√ò)U√¶√ö√Å¬™)¬æx√î‚Ä∞√Å√∞'6¬™√¶√ñ())‚Äî√Æ√ä√å√™√πÀúÔøΩ√∞
∆íq¬°T√º‚Ç¨gy∆í≈†¬®ÀÜ^√†z‚Ä†√ÉsbGW'/√å‚Äö√ïZ√µ√®√ë#S‚ÄúÔøΩ]]}=¬©/√É√ªÔøΩ7951==eÀú&amp;l√ü√ë√ô√∞%‚Ñ¢L√ï¬¥≈∏‚Ä∞√â	Y‚Äì^ √îS.‚Äî|√ü√ü¬±√Ω≈°W_;√ê√ï√ô‚Ä¢Jg6m√ò¬§¬™¬™√ßyg√Ü√é¬º√∂√∫ÔøΩj¬≠‚ÄôÀÜ¬ßr√π√ô
}n¬ª√≠√Ω¬∞√Ø|√ß\;.¬§-m¬π¬ªK
N‚Ä¶UH
Lv√∑√≥'√¥¬Ω√ø‚Ç¨)¬≠√à‚Ä¢¬æ¬∏¬Ω4√Öu	|3C¬§I√ö√∫≈Ω4≈†ÔøΩf√ò¬≤¬ø√ò√°√à√Ç|√∏&lt;¬Ø¬Ω‚Äò√Ω√ë¬¨√Ñ¬º($X¬≠√ª√å+¬∏√∂√ª√©√•‚Ä°ÔøΩQ7L{√©¬ª<kÀÜ√≤√íj<√ì¬°2‚Ä∫2jb√§√ä¬•‚Äô¬©q)‚Äù√∫¬∞u}√Ä¬¢,i¬≤√µ<√®√∏√ô√úl¬•\√ô¬∞q#√ã-t√∫q5¬∫√≥¬∫ÔøΩ9√≤‚Äú√æ<√Ä‚Äì‚Ä¶√õ‚Äû√èuc¬±h"√™ √è4≈í¬∑√ü="">≈°L¬•4M¬≥,3ÔøΩ√´¬∫n:l√è¬±¬¨ 
[¬∑l√ú¬¥√π√î¬©‚Äú¬ß√áN√•y]√ó√∫R¬©tgG√ß√†√Ü√Å¬∑¬øI√ä√ü ¬¥e√ã6≈æ'0¬®]}¬∑-mYa√™,^√®√™√Ü√ó√≠¬º√°≈æ‚Ä°t√∑√ì¬£Wr¬∏a):¬¥√∫√¶ÔøΩ;√Æ ‚Ñ¢8√êWsC√ß¬≠√ï¬≤u.√ñz¬•_xÔøΩ≈Ω¬¢√¨(¬•√π9¬£¬®N√ë:√í√º√ã√µ¬æs¬∞√´!√ó√´P¬£1C√µ≈í\TMx‚Ñ¢e√®¬æ√ô√Ö¬ÆpÀÜ√∞√â≈Ω¬Æ~&gt;√ê√•R¬£h√á¬ª?¬¥√£f≈°&amp;∆íY√¢‚Äò√Åm¬≤sÀÜK¬¢)8‚Äò√£¬∏√æ{]√ì¬©"?√∞|√è&nbsp;ÔøΩJ¬§√™1¬æ√ê‚Äû√°YEQx≈Ω√£yR√∞E¬•≈°id:;√†√Éb≈ía≈Ω2‚Ä∫‚Ä∫5-¬≥¬™UO≈æ&lt;^,√ªz√ª¬∑m√ü√©ÀÜER√ë¬æL√Ø√©S¬ß*√ï¬≤√´¬∫~p,√ü√ë√ë‚ÄòN¬•√±√†Y‚Äô√ª{¬®√ï√ã‚Äú$‚Ä∞√Ö√ú‚Ñ¢¬±√ì√ïj5ÔøΩ√Ü√£	√è#G≈æ≈æ‚Ñ¢fY√∂√¶w√ù‚Äô¬π6iK[‚Äì¬ø2	√ë;Y√§1(0√±√ö¬æ¬µ√ø√ßW¬®NY‚Ä¶8MP√ÜR‚Ä∫¬±‚Ñ¢u‚Ä¢¬ø≈ìb√∑CÔøΩW√≥P‚Äûh=7W‚Ä†o√ó√≥a√è‚Ä¢;Bw√ù√ó√ä8¬ø√∫`4B!√Ö√π¬ß1√ósqCht.L¬∂v0√ÖA√´≈Ω√ê‚Ä∫√≤¬ø√ø√â√üx≈æO¬´¬≥	√≠H√Ñ√•M9√°¬∞‚Ä°e√á√Ö√¶√ö.¬¶;≈†\√ü-‚Äù≈†S‚Äú$tTÔøΩFe3√É¬≤,EV√îQ|√Øy√á√áO$	‚Äò√∞Y~1√ì4O≈∏&lt;¬µa√É√Ü≈æ√Æ]√óx≈æ√ü¬∫y[OO≈∏√©[y¬£√®x≈Ω¬©zEK&amp;‚Äô¬≤¬¢√Ñ√î¬∏√Ø{ÔøΩÔøΩ]‚Ä∫6vu√∂√Ñ√î(√èr¬Æ√£Z¬∂G√ú4√à1&lt;‚Ç¨√õ¬±√°√å≈Ωc√ójp@.‚Ç¨√à
;odi√∏H;o¬™-mY¬æ]‚Äû√Ö‚Ç¨@ÀÜ√è{¬¨l≈Ω√ß_√ôÔøΩ"!
	‚Ä¢h√∏√¶<ais‚Äî¬≥1gx‚Äôw¬° √°?y≈í√ä^8w√´√à√π‚Äù√ò¬£¬≠√ç√¢%¬Æ-‚Ä†¬¥¬∫ÔøΩlÀúÔøΩe√ó¬©u$‚Äπ="">√π√ê√£‚ÄìKÔøΩÀÜ¬®]√ó}¬π(y¬±√Ö¬≤BBfz‚ÄôLDD≈æ√Ø√ô¬Æ]¬µk%¬≥√ú‚Ä¶¬ª‚Äö‚Ç¨(‚Äπ≈°V∆í√∑M√¶,)¬æo‚Ñ¢FU+√à?√ª√ò4X`‚Ä¶-[¬∂NMM√û√æ√æp√âvÔøΩ¬Ω√¨¬™eiF√ô¬¨hS]¬Ø√ù√µ√´w‚Äö¬≥√üK/=?&gt;~&amp;≈∏√èE5‚ÄπE¬£¬±Z¬µ≈°≈Ωw√¶g√≤}√∫‚ÄùÀÜ|√≥√ç¬∑:¬Æ√≥√Ü‚Ä∫¬Ø¬Ω√∫√ö~Q‚Äôz¬∫{?x√ª‚Ä°'&amp;√á¬¶&gt;√ö¬£¬°-mYÔøΩu≈æ¬æ‚Äπ¬°√äo&lt;√∏8¬∫Ta¬´e‚Ñ¢3&amp;‚Ç¨B9¬Ø]‚Äì√¥\d√ß`√ä√àH√ã√ëV‚Ä°BtxU√∑¬§‚Äì‚Äò√≥.√§\]1|i√ö¬æ‚Ä†Sk√Ø4¬¨¬™-√ß:√™¬Øz}]a¬∏VXÀú‚Ä¶g√±
√ù√∏√ÜJÀÜ√àt¬≠√±√ö√§xu‚Äö√£ÀÜ}a|l&nbsp;∆í¬°j$¬∫?√¶‚Ä†q√∫√§I≈æ√£#≈ì√Ç¬¥ BZ√ê¬ØV*√áO‚Äî	√ûwttb√å4‚Ñ¢≈æ≈°9y√º¬§¬ß¬ª	6√¶‚Äù,@√°‚Ä†i¬º√∂√ök¬∞
,√Ån√ú√π¬Æ√∂√ãwvvtÔøΩ:s√¢¬µ¬∑√ûx√π√µ√ó√éLMh¬µ≈†√´¬∫¬∂m¬ø√æ√¶k¬Ø¬º√≤‚Äπ_√º√©‚Ñ¢3¬ßeY√ú0x√≥ÔøΩ¬∑$‚Äú√â√´¬Ø√õ√ô"m√óL[√ö¬≤B√≥‚Ä¶√Ø‚ÄôgÔøΩa9S√≥√É=√ü¬Ω2√ó¬∂√ª	¬¥%¬Æ‚Ä∞√êAA¬Æ√´ÔøΩhUG¬®UcS'√â√º-	¬ßj‚Äì√¥√êh#TbtÀÜ~∆íZ√¢0V¬∞√µ¬£√µ√Åt√†¬°P]≈æ¬ß="K¬∂.!√¶}O√ç¬ø(¬§F}.&lt;√®‚Ä¶¬∂#&lt;¬∫¬ÆJ9√ì√é√Ω√Ω¬ß√ø‚Ä†Ro9Àú√êv¬∑ÔøΩ√±√ß!≈æ¬≥J√†√ô√µ√Ö√¥=√ºÔøΩ¬§√©¬°‚Ç¨√∑√çm{√¢O¬£√î
fiV√ã√ã≈ì¬¥%¬≥9‚ÄòL≈ì`≈°9≈íd&amp;ÔøΩN¬•‚Äπ‚Äû‚Ä°dP¬´i‚Äô(√Æ¬º√¶√Ä"¬≠xG√ì√µJ¬π√òBUUÔøΩ√µ¬™6&gt;9U,fgf√†ÔøΩ√ù]j,√ä√ä¬º‚ÄôÀÜ√¨√®√õ‚Äì√ì
¬™√©√©√©eit*¬ºzzzX‚Äì+r√ëÀÜ:‚Äú/ÔøΩ&gt;√≥√∂l~√∫¬µ√ó_¬µ¬ªZ¬´≈°‚Äì1¬∏i√≥√ÜÔøΩM‚Äö(n√ò¬∞q√Å‚Ä¶¬∂GC[√ö¬≤‚Äö√å√≤L¬≤ÀÜ√óP√§G¬ª√ø]√π√∂Z‚Ä∫7
√ß
.i2‚Ç¨‚Äû¬º
√´√ø+√™E8{A¬∑,hÔøΩ
x¬Æ√¶ÀÜQ≈°√º¬¨√µ¬Ø‚Ä†/¬¨)√´√é2√≤¬£√ùO~b√ócÀÜ√ëbÔøΩ¬∂≈ì5√Ä¬º ¬∞1‚Äö‚Ä∞E$≈æ,√°‚Äπ¬±9ÔøΩE√ô*√§&amp;NNT√∏√é√éN√Ä	1V√ÖU√ì5√âdh√Ω(‚Ä¢J√ã¬±¬¥Hx√≥¬®‚Ä†¬ÆO≈íÔøΩpD√í√ï√ì∆í7L√üu√è2-√ã2#≈†‚ÄôJ¬ß‚Äö √ê¬´¬µ‚Ñ¢√ô‚Ñ¢√Å-‚Ä∫EBG√Ü‚Ä†√ñ‚Äπ8√ºQ.g√éL√¶√±√å
7√û¬¶¬Ω J√ï¬∫c√ª5‚Ä∫¬∑`‚Ä†√ë¬¥√ö+√ª_;}√ç¬∂kkz√≠≈°√ó&amp;‚ÄúI≈Ω√ß¬∏%8c√ö@¬§-mY$B√û√≠√Ω√æ7≈∏√ù√≥mte¬™|‚Äì≈æ}gxqh%¬´;)‚Äö]&lt;¬º√Ñ9VN._\¬π√ù√†z
¬¶¬∂¬£√á∆íkXr8¬∏‚Äö√Ä¬µ0¬Ø¬¥¬ß≈í¬•G‚Äù8&amp;¬©√≠√çK¬®O∆í9‚Ä¶√á&lt;ÔøΩ√®¬∫.|¬º‚Ç¨NW‚ÄöL$≈°≈∏ÔøΩÀÜF"¬¢ x¬∂e#¬©DS√à&nbsp;¬®≈† ‚Äò@T
A√ã¬£¬≠¬™√™¬¶√ç∆í¬∫¬¶1,;~√¶≈í√´¬∏]√ù√ù¬∫N≈†√íEc√ë√é¬Æ.√ò3¬¨√≠√∞f√ã√ñ-‚Äô,7( √£√£c¬Ø√¨√ø¬¨3√ìE2{√ßS~√∞T¬•&gt;¬ª√Æ√ö√´¬°√ó]=√É¬∞¬≤,√≥&lt;7‚Äöi‚Äò¬∂¬¥e5'‚Äò√¶√Év%CK+√ìs‚Äû¬¨√é¬´K¬∑√Ü√î√á√ã√Ä√ã"√ß√ü√π√ß¬©¬∫≈ì√ñd/√¢√êa√†j8¬∫¬¢&nbsp;√¥√æ√¶‚Ä°√≥√ë ,√ê√ñ‚Äì¬•f√ü
‚ÄöÔøΩ√™+&nbsp;√ø
¬∞	oLb√ùF∆ízcd¬§K√àÀÜ√ÅXa‚Äô‚Ä¶¬ØT+√á√Å,bIQK√•√¨3¬∞ÔøΩ√Ö$I‚Ä†YJV√õ¬¥¬¶¬ß¬ß√¢‚Ä∞D¬¶¬≥C&nbsp;4ÔøΩ√ÉAD	√ÉMZZ√ç8‚Ä†W√î√àN√°¬∞√É¬ß√º√∞√Æ(≈ì¬∫¬≥¬£3pI¬ΩYTV-X‚Ä¢¬§8¬ª√≠q√ï‚Äì¬´√ä(BfX√ü√Ω√Ñ¬ÆG?}√ü∆íh}√ó∆í√π√ñ‚Äö0N¬≥|:g√≥Àú¬Ø2√âO‚Äî¬æ#‚Ä†√ó
Y√Æ‚Ä¢¬∑√¥√¶zK√Å‚Ä¢¬©u¬©Et‚Ñ¢√ß √≤f‚Ä¢√Él≈∏‚Äù{i√Ø≈Ωu¬™;¬ª¬º‚Ä∫z√∞‚Äì4√û√ëI√ævEq‚Äî≈†E¬•‚Äù,√ÇcY‚Ä∞¬∫1;;S¬©T
‚ÄûH¬¢√πK√åS$¬™C¬¢√ë¬®m;¬¢$4!q!ÔøΩ}√°8,∆í√é≈°¬¶√Ç√ú\*=|z√¨¬¥√ßyx1+≈ìvw=√§√¨√õM√∏‚Ä∫%oV√Ö"B√Æ‚ÄúO√ª‚Äúp√ß√ë√ò¬Ω¬∂√ë¬•-W	Aa√Ö‚Äô.ÔøΩeT'¬≤^?‚Äôm5~,‚Ä∞G¬±,i$7&amp;√á√†¬º¬ØkY√∑√é,g8√ê√¨√ß√°59√¶¬≥√ç¬™√à:t√æ√•‚Ä†√É&amp;√∞ÀÜ‚Ä¢,¬∏RbDHS	,∆íZÀÜbw)',7¬∑√ûn^√ß‚Ä¶√ñh√≥¬ΩyT√¶$)‚Ä†√î¬™√Ö,√è¬≥Lw≈ì‚Ä∞¬®xzzS\‚Ä∞¬©H√¥≈ì‚Ä†a‚Äù
E@+√ê√≥Q5‚Äì/√¶p‚Ç¨√ã¬∂L_H
J$¬≤¬®¬§√µn√å/\√îj√ïT:-≈†√í¬¢¬ª√ê:y~¬≠VS‚ÄùÀÜ$K¬∂√£0;00P¬Æ‚Äù√û:√∏&amp;√†Àúkw\√õ≈í9[‚ÄπT√ä√•d*u√ñ6√°y√è√Ç√Öe√ç√µ≈Ω¬´_≈°OCi|b&nbsp;√±√¨‚Ç¨V√é¬£¬∂¬∑‚Ç¨l√ö¬¥√±m¬πzÔøΩ¬≠#¬∫w√èS{w?5o¬µ¬Ω.P√ñ(E!$UdÔøΩ√è‚Äò‚Ä¶-y‚Ä¶4ÔøΩ¬•¬æ√≥√ê¬•h√¢=:x√è+√µ‚Äú.qf|√ñM√Å!∆í√ô¬æ√ïld6&lt;√ç=√πE≈†}‚Äû.v√≠ÔøΩ‚Ä¶√îowP¬π√ë:q√úH∆í√ïv($¬π
7√É
‚Äô8D¬æ¬∫√ª_¬®$‚Äûfk√ù√¢‚Ä¶√å@¬¥√Ω¬Ø√Ä'√î‚Ä¶LC¬≠‚Äô¬≤¬∑√æ≈ì6√Ñh¬Æ≈†-√¨N¬¢K√Ω¬∏¬©√π)√≥Zsq‚Ä∞¬≠OÀÜ√ò√°√†‚Äô√Än√ç√†mF√≤5√èuH¬¨(!b'¬©Uk√£cc‚Ä¢r	√Ñ4√å√â‚Ä∞qI"‚Äπ‚Äö√ö9≈°¬ßBh‚Äò&gt;¬≠_x≈æW√à√•DYrl@	√ãq¬ºf‚Ä¶|√Å4≈í"@√ü√≥}√üu\^√†‚Ä∞D:‚Ä¢¬∂m;‚Äî‚Ä∫1ÔøΩ/√•|	‚Ä∞L"¬™¬∫`¬≤dk≈ì_¬ºE$√¨√Ñ√¶‚Ä¶√Ç√¨#√üGC≈ì[K√º[j√ú¬°&nbsp;]√ê¬®-W‚Ä°√¥)`‚Ä∫h}√ù≈í√ª¬∞√∫√ù¬Ø√à‚Ä°√èz¬≥≈†√≠¬£}√é√∞¬ª√∑f|√É√§≈°√º√™{¬¥¬∫~!√ô¬π√ö¬ªA3F√µ√©√∏‚Äπ=√ì¬π√∑¬ªd√°H-E‚Äπ√¥mp√ñ√ç√áha‚Ä∫≈∏}√¶;≈∏¬∏√øQ√Ñrk√∏√π√™j√ã‚Ä°E¬µ¬∫L√§‚Ç¨≈Ω/&amp;`8√§;sQ¬°	‚Äû‚Äù9¬µH‚Äì√•√ô1‚ÄûC√ñ√¶,%
¬≥√µ√¢r√Ñ"√∏√éB0ÀÜ√°T‚Ä∞MGÔøΩEQ√â&lt;√™√™√Æ:t√∞ ‚Ç¨≈∏h,JL ÀÜ%√¢¬Æ√£√≥y¬≠Z‚Äú‚ÄùHM&nbsp;‚Ä¶√É‚Ä¢≈†√Ö√ô√©√òX‚Äù9√õ√æ¬±hw+¬™√ä0√å√¥√ît&lt;‚Äò√®‚Äìe4√ü^R.‚Äî%√øB(DQ√à{Y≈Ω√º√í¬ª√ü{√¢√î‚Ä∞‚Äî√∑√ø@√í√¶M[≈°√©√Ås¬ß√ÉX‚Ä∞Dx≈Ω?≈∏ÔøΩ&nbsp;"¬¥~3√©P‚Ä†D√ìP@‚Ä°ÔøΩ‚Äì√û√±L√ã¬£√Ü7√í√ÖLzC‚Ä°]‚Äπ¬¥e√ù√£ÀúU,√å(√∞Td/‚Ä°≈ΩXuz‚Äîq	¬Æ≈ì√öv=√ºH~√≥√±]ÔøΩ√Ç,√§√∫√ÅÔøΩ≈æy√∫G√π√ßMK√Ñ√Ç¬´&nbsp;√¨¬®√°G≈ì¬Ωxl¬∞8hÔøΩ√õm¬Ω√∑√ô‚Äì√ì_L√Ø7√ö≈ì}√π√ô:‚Ä∫,Ze_√†√à√¢√§≈ì*}≈æ"√ú√ª√åw√Øz√®_√îK√Ø2√º√µ8‚Ä†&nbsp;&amp;(X&nbsp;‚Ä†&gt;¬£√™1√â√ãkRNXf√ø‚Äô+NÔøΩhv¬¨o{¬¨√ßs
#
-√©‚Ä°≈†cD¬∏¬¥F¬∑√ü0PÔøΩb√ù&nbsp;"e‚Ä∞3,8)ÔøΩ]√≤?≈Ω√£X‚Äì√©≈í√¢‚Ä∫z¬±√Ñ!U¬≠≈°‚Ä∫≈°eX¬¶R¬≠¬∫!JfÔøΩ7l√úH*¬ºx~4‚Äπ%‚Äú‚Ä¶d¬µX‚Äì%J‚Äô^(L≈íÔøΩw√µta√éC√•‚Äô"5,√ìÀúwL√ìpb}‚Ñ¢g√í`¬πL&amp;√É‚Äπ¬¶¬º√ØA‚Ç¨QCO√†¬§}¬Ω√Ω¬∫^{√µ¬µ‚Ä∞x¬¢¬∑¬ßo¬£‚Äô√Ø¬´Q√µ√û¬¢e‚Äò¬∞O)√ö`H√ô?√Ü√µ√°/√üb≈æ¬¢&gt;¬µ√ïK‚Äô√ò¬∂Q¬§-WÔøΩ√º√∞√ªO¬Ωk√µ‚Ä¢√Ç¬•‚Äù:#√ÜZ‚Äπyi√®√Ö√ª√∑+√∫√¨√É&gt;√¢‚ÄòkÔøΩ√ãH)√úH8√å¬∂.√ä‚Ä°[√¢=∆íJ¬ø√é√Ø\√ô√π‚Äò√ô9ÔøΩP√Ø#&lt;9√åY]√ê2√°N0√óÀÜ¬≥O√ëz√¥√ï∆í¬ΩKp√ß_¬®MS√ØF@√ä√ó√Ç5&nbsp;√Ü{¬Ø‚Ä¶‚ÄûQ,√É	¬¢¬Ω√ï¬©z√©ÀÜ∆íÔøΩ&nbsp;√ô√àp√∞	'√õ'+$e7¬£√´√é√ñ√ò‚Äö√é94*‚Äô√∫n8‚Äì'√ä√õÔøΩ√à√±≈Ω√á{¬Æ4≈Ω‚Ä°≈ΩÀÜx[{x√ú3√ù‚Ç¨√µu‚Ä†‚Äô¬™‚Ä¢5Y^ÔøΩ√°X‚Ä°O¬±g¬∞?¬Æ&amp;√≠≈°A‚Äúj√Ü√ä¬≤¬æ√ß¬•√ÉXw√≥2@ttv8¬®‚Äù√ã‚Äûv√Ω¬º9=5
√∑$≈∏√è√ÉS√ì√ó√ó√á√±<utÔøΩ‚Ñ¢(if√°z=‚Äö‚Ä¢$xc¬π√Ñt¬ø√ñ√π√•;~√Ö4√å√ø¬∑u¬´u'√£≈ì,‚Ç¨‚Ä∞c√Äm√π‚ÄìdÔøΩsx!vbq√É√ü‚Ä∞r√ê0√Ö0ÔøΩ¬æ¬¶√ø'√∞√ê¬´ÔøΩ√ö√í‚Äì¬∂\√°x$¬ª√ñ√å;y√¥√ô¬æ√¨√ú‚Ä°√ªk>¬°¬ß¬∂0ÔøΩ@A√∂√æ√Ö≈∏.¬¢3√±|dp√è≈æ¬ø√™√á-¬æ‚Ä∫‚Äì*<yt¬Ø¬°√ì‚Äûg¬ß∆íÔøΩ¬º¬°9wf‚Äìn≈∏¬Ωx@7<√Ø√¢√ß‚Ç¨qaew‚Ä¶,‚Ä¶√æ√é√Ω√∑¬≤≈æ ‚Ä∫ÔøΩ¬´^^√º≈†g√óÔøΩ)Àú√û<‚Ä†√Ö≈íh√™¬±√°="" √ëj‚Äì√Ä‚Äô√ó|uÔøΩd‚Äù="" ¬øl‚Ä°√†="" 8√Ñ¬ªÔøΩ¬£h="" ‚Äì="" f√©¬≠i√ßt^√±√°Àú√ßx¬¶s√Ö‚Ä°¬´f¬∞¬≥≈∏(‚Äú%ll"√Ñw√Ä="" ¬π¬°on‚ÄôÔøΩ√ü.="" √â√è¬§r√Ω¬Ωr\"√î√µ¬Ω¬≤¬•√µbf√çÔøΩ¬∞`y≈Ω√ÅhÔøΩ¬´¬°="" +¬†¬£}vf6√ù√ë√ëjl√∞<ÔøΩ√£¬πd*¬•(√≤td√Ñc‚Ä∞d2‚Äú√ã√è√§fg√ã√ò¬∞a‚Äôe√è√≥√ìlnn([e≈ΩcÔøΩ‚Äö¬¢="‚Ç¨√∫b!√ò&quot;‚ÄπeÔøΩ$√É?√©‚Ä¶‚Äî~√ä2√å√ñ¬≠√õ√ö≈∏√è√ßd¬ø√´`¬ß‚Äô√µ#√≥+D≈°‚Äî" ÀÜ√£?wsu√´vÔøΩ√ùqif√±x√±√£√ô√∂√ë¬¥eÔøΩ="" uy√¨√û¬ª√ªi¬¥="">√´‚Ä¶√ê‚Ñ¢0¬ª6¬ÆÔøΩ√™√ÖO=√∞√ï;w}¬¶≈∏√ò√É√å)
¬ª¬∫w√óÔøΩ√Ø√ç&gt;qVx√∫¬´‚ÄîN√Ω√ñ{7¬æC√æJ¬£LL√ù¬¥X¬ø√∞c√´_‚Äû¬Ø;3√út√ïsÀÜ¬≤√ã√≥¬µ¬¢'√úb√∞√â¬Æ6
YN¬£√É¬∏g√ó√ØAw¬∫¬¨≈í\‚Äì√ó‚Äîo√ªÔøΩk4√èl]IÔøΩ‚Ä†"√™	1¬æ%¬∫√•DT√û√ö¬©s√ò*√õUÔøΩq¬§¬§b&amp;¬´l√¢‚Ä∞‚Äôh√û¬≠∆í√ë≈†‚Ä∞‚Äô¬≤√å√í5~J≈Ωw(√Åt%0*√±√Å‚Ä°I%√Æ¬∞√Ñ≈∏√°&nbsp;¬™ÔøΩ‚Äô
√é¬®≈í√•¬°√û¬π76¬ß√±`
¬≤√ò¬Æ¬®‚Äúx‚Äî&amp;‚Ä†¬≥‚Ñ¢¬Æ`¬£\(m¬Ω√ÆY‚Äù√ü)U‚ÄôPC≈ì:lTÀÜp,‚ÄîJ¬•ÔøΩ&lt;¬ºu√á¬∂¬¶¬¢V%√Ö√≠√¢√â√ÑE√üh≈°&gt;==√ï√ô√ù¬µ‚Ä∞J¬πX≈°≈æ≈°√Æ√≠√≠√•≈°¬¢kZI√∑‚Ñ¢.P:4~:√ê≈íÀú7B¬π√≥#√Ω√ø¬ø√ø‚Ä°√®{√è¬£X¬´√æ∆í√Ø√ª‚Ä¶\√°√çq¬≠&lt;¬≠¬ª&lt;{¬¶√Ñ√ê¬∂¬∏}√£"¬≤f‚Äö√Ä%√¶5√å.√§‚ÄòR√ê@√ß4√¢‚Ä¢ÔøΩo¬°¬∑√éc7√íj√™ÔøΩ√Å¬¥¬æ√ì"mY¬ØH$≈í¬±?√º√™/√Ø1¬ªN/¬≤≈æ√πq√ô/ÔøΩ√¶√£√º√Å√ì√≠c¬∫‚Äù".√†zL¬±√à5¬∑√ûNav√°.√ø¬Ω'√ß‚Äù√´R¬π<wÔøΩz1√É‚Äù√öt√¥¬≤ÔøΩÀÜs√ó√ô e¬©m`w8txlrvgtt‚Ä¶z0√Ñ4c√µ;3:¬∫z9z√ªh:√å√∞2√Ü√åo="√∏√Ö√π√≠¬ø√ùr√≥√≠;ny√ïQ.f√π√ã√∂≈ì√Ø" √Ç¬¨@l√£‚Ä¢p√ò.√á%&√Üy="√¨¬§,U√£¬±H√Ö¬ÆJ≈ì√Ä¬≥¬º√øX√∂√¢X_A5I√èm√™√ØH√àÀúc¬±√Æ√êH≈íV√å1p‚Ä†√£¬°¬≠RÔøΩ‚Ä∫¬°q&amp;√ï√º8W‚Ä∫√®‚Äπ√£" ÔøΩj&‚Äöu)|√Ω'√∏[.‚Ä¢tue¬Ælu¬™v¬∞c√âm3‚Ñ¢≈Ω‚Ñ¢¬±√âr¬°p¬´h¬™‚Ä∞√ä¬™√Ä√∞√ãs,‚Ä†¬¥d:2‚Äö="" ¬∏¬Æ√∫√æ√å‚Ñ¢√ì¬•b="" ~√≤g67u¬£m:√î≈°e="" p√å‚Äô]√ì#u‚Äôia<q9≈Ω+="" Àú!1.z¬≠¬¶h√¢‚Äò√ì¬πsefcf¬∫¬æ‚Ä∫ÔøΩ¬Ω¬Øs≈†n46="">v√§√®√°7¬æ√°¬∏NoOo√§a8fTÔøΩl√épU‚Ä∫y¬¶7≈Ω¬£"^4x√•b≈ì&amp;RP‚Ä∫0*√°√çi¬¶?Nv]?H(8&amp;√ã3¬≠√°k&gt;√ãÀúÔøΩ¬Æy√•dÔøΩ¬∑¬•-√≥l√†√Ä√ã¬Æ√ü√´‚Ä∫[ÔøΩ¬Ø√®7√ß√≥%Sz√ã√ö;Àú¬∑_√º2√êg';7E√†Àú√Ø√è‚Äî√õ¬Ω√É¬°Z¬≤=√ò√†=√É+√ç{¬∂<p¬∂√•√é{¬øfy1‚Äûx-zwy≈ì√µt¬©√†z$¬µ‚Äö¬®‚Ä†¬ª¬°‚Äî√õ√ô√Én√≠`wv3¬∑√¥√É√ü¬∫q√ô8√êcÀúe√ê√Ån√é4-√ì¬ß√Ä0√è5,i¬¨a¬¶'√Üyl4¬†@¬Ω:pl≈æ%√≤‚Ä∫z√±¬µÔøΩ√∏¬∂ ‚Ç¨$h¬¢m@="" f¬•≈ìn(¬©l#¬∞|¬¥√Ç‚ÄöÔøΩ="" √Ω<√è{¬∂#¬±¬¢@¬≤≈°∆í¬∏¬†√Üd="" ggo'√ß√ïdte≈Ω√•ÔøΩ="" q‚Äö√á√ç√ç√év¬®‚Äì¬´‚Ç¨?√§ÀÜ√ú√ë√ë√ô√ì√õ++j¬©\¬∂="" ¬≥‚ÄπmÔøΩx‚Ç¨gkv√ä√Ñ√ò8i√π‚Ä¶&¬™`y√ñq]√ì|√ü‚Ä°c‚Ä∫¬™√¶4?.3i‚Ä¶p‚Ñ¢√Äkf‚Ç¨√´6ÔøΩ√∫an¬π√©‚Äìd2u¬≠v≈Ω¬æ}√§√µ7_‚Ä∫¬≥s¬∞lgr1¬±≈íÔøΩ≈ìv¬´≈ì)9ÔøΩ|caw√¶5√£¬¢\3Àú="" √ìa|uln¬≤√ú√ê√çtg√ët5√ê¬¨‚Ç¨√Å!√ï,mo"√Ñ="" √Ñ√á%s¬∞e√à_√´‚Äò¬£5√í‚Äì√≥Àú5¬∫¬∫%√ì√ñ√ög¬†.Àú√ö≈æ√ù√Ω¬≠‚Ä∫√ñ√£√Ω¬π√Ñ_*d2i√†√ú@="" k!k√Ωg¬æ√∏√∏√ü√æ√ô-hÔøΩ="" √Æ√é√à.√Ñwr¬¨‚Ä°¬≥d="" √ºnÔøΩ√åo√∂i‚Äû¬∂d="" √∂≈æ7‚Äò‚Äπ√Ö¬∫√ï*√§√öa√ô√ã6¬´ÔøΩ¬´sv0‚Ä¶:u≈ì≈ΩÔøΩ‚Äò√¢√πd√Ö≈†ue√àz¬¨√ö¬°¬§‚Äò√Æ√µ¬§{¬¶sb&≈°ÔøΩ="" ¬≥¬†√ü√Ñdjfl√ä2¬≠¬Æ¬æ="" ‚Äô√à√°]‚Ä°√Ä√ñjc0√Ç√πdilwddy¬•√Ö¬Ωq‚Äô,√ßg√≥‚Ä†¬Æ+15si√ç*ÔøΩi#¬≤¬¨√Ör$r√ãw%^≈æb√ºÔøΩ~‚Ä¶7‚Ç¨ÔøΩb:¬≤h<‚Äî$b√è√∞<≈∏√£√èu="" √É‚Ç¨√Øx‚Äì√Ñs.‚Äùh≈°√°:ÔøΩ="" √±√°√óx,^¬©tt]s¬£¬™¬™f‚Ä∞e%d¬æ√´z4√âp-)@≈æ‚Äù≈í√ÜÀú≈ì‚Ä°k="" ¬πpb√°x√ú‚Äû√ø¬°√Ä√ë√û}√≥¬ª¬ª;{√Ü√Ü√è="" ‚Ä¶y∆íe¬†c="√è¬≤^¬≥QN" ¬†="" *‚Ä∫$√®√µ√ù8<√ò√Öl≈æ√ü#‚Äî√§‚Äú@ÔøΩ√Æ√êd√ù√∫‚Äú<~z‚ÄöÀúÀÜ¬Ø√´b≈Ωo¬ø6!8¬∞‚Ä°gs¬Æ¬æÔøΩe√ö¬≤√òda≈Ω‚Ä∞¬Ω√ç¬ß¬≠d√É‚Ä†√¶√ô¬Ø}‚Äπzw‚Ä¢sq¬´‚Äì[#fcg√Ø√ø√†√ñ¬ª√Ø√§|}^ci‚Ä¶ry√Æ√Æ√ßo√æ√É≈æ¬ß~02)b7√®¬π√ø√¢‚Ä¶s√ø√Ω?="√πW√≤√ÑeÔøΩ" y¬¥≈°¬°s8*{√æ;e[√∂√â√écc√ôe="" √è√¶¬∞√π√î_%√ô'4√Ç‚Ä¶√ñ√¥k<√π√ó‚Äî4="">‚Ñ¢Xh
‚Ç¨√õ3(&amp;√°yLc
√Ü+≈æ√£√ª¬ª√∫]‚ÄîXn‚ÄôJ&lt;.E%N"d¬¶√í≈íZy¬∂&nbsp;√Ü¬¢‚Ä†i≈†√ë¬§√©!1@-%√°ÔøΩiÀú√•RI≈Ω(√ëh4?;[√ë*‚Äô √ÑcqEQj¬µ≈°F)Jc√±X≈∏¬π.&nbsp;"X¬∫√õ¬Æ√™_√ìk.√∂bj√ú√±\≈Ω"X√êGx√Ö√°¬¨0√õ√µ}h√É¬∞&lt;√á¬•√í‚ÄûR3X¬¢¬•q√´√∂‚ÄìÔøΩq@	]¬Ø;r√†E*ÔøΩÔøΩ√≥√ò&gt;√Ç√µ√ô≈Ω
¬™ÔøΩ√ã√É%¬æ¬ØtmU8‚Ä∞¬ß@‚Äì√´¬∫a√ï¬™√ÇÔøΩ‚Äù¬¥|√¶x≈æsl√â√•X√Ä[!√Ü‚Äö¬ø&lt;[√Ø¬´√ñÀúL¬¶¬£P,√Ç|¬≠√ä‚Äò√ù≈∏‚Äù√ë√ñ¬æt¬¢¬®Y~m¬≤¬µ]‚ÄöE√†r¬∂ep√ï‚Äû¬ª@LD;¬≥cj`"ÔøΩ¬®¬∂√•√£‚ÄúR√π&amp;ÀÜuIY≈ì&nbsp;√é√Æ‚Äö¬±p‚Ä†‚Äπ\√ü√ê∆í_‚Ä∫√Ñ≈Ω‚Ä°¬©¬¶a√õ@¬§-ÔøΩ5J√ì√å√ß‚Ä°√§‚Äû√îr√≤‚Ä† √Å√±4√£¬¢¬®‚Äù/!≈†
#U√ë¬∫√°Y∆íd√û√¢=¬ª√ß√©√ü√ò√µ¬∞‚Ä°¬∏¬π|JeD√®¬§√∂√ó√Ø√¨¬∑√óM √ø√ΩÔøΩ¬∑√ø√§‚Ä∞o7√á√ö√á√Æ{√åv√ë√ü√Ω√πK√É‚Ä¶‚Ä¢¬∑‚Ä¶≈í¬¨b¬±Àú‚Äòfa¬Ω‚Ä¶¬æ‚Äù‚Äò‚Äú‚Ä¶w64¬¢,s≈ì√£√Å¬¶V¬¶~_.OeÔøΩ¬¥‚Äù√®i√å
&lt;+√±^_√ú&amp;√¨‚Ä∫√Ñr¬±ÀÜ√∑≈ΩaÀúÀÜJ¬¥√©√¨√¥,√ö‚Ä∫$√¢b@‚ÄìmZ‚Äì√âr|._‚Ä†‚Äπ"&lt;¬ª √ï√≥&lt;‚ÄúzFs√åg=6√ê√µ√ñ√¨\Bp√£√É‚Ç¨TL√ãI√éO0¬®H√É√ßF¬≠√°√Ö"q2√ü¬π+¬∞‚Äû¬≤L‚Äù√è/KÀÜz√Äq‚Ñ¢\‚Äúk;≈°¬Ø$b[HKM√ù¬®T*Wl√õ≈°≈ìÀú‚Äù$1d√ì`9¬∂R¬≠H‚Äô‚ÄùL$¬¨√∞¬ºÔøΩ≈í√ábp-√Ñ√õ9¬§√ï*√Ö¬≤‚Ä†6&amp;√ã¬∫√á≈Ω√ïTxL&amp;*≈æW+¬±R¬º&nbsp;GrA_√µ√Ñp√ã√≥¬∑√Ä&amp;√¨S¬´√∞√Ç[,qhSgTv¬´okyS¬≤b‚Äò‚Ä∞√ÉÀÜD√òE‚Ä¶‚Äπ√è≈°¬°E√è√â√ú√´√Ä{√ü#√Éf	√ï‚Äπ√ó ¬∏‚Ä¶√õ√èp5‚Äπ}}√ã}7m7@8‚Äö‚Äπ√õ!¬´m√¶U√π¬®‚Ñ¢‚Äî‚Äì√•d<!--?√ö√≥√§¬≥¬ª¬ø[}√≤¬æ/}√≤√ÅGL¬¨^ √™√ö√É\H¬¢¬º√ñ‚Ä†‚Ñ¢¬¨√ñ¬¨√ñ^&√â¬Æ¬µ65¬º≈∏;√µP=a¬∑5
‚Ä†√°(}I@√∏√ú‚Äî√Ø¬Ø¬≥√ü¬∫√∑¬´¬ø7[c√Æ√ö√µ√ò¬≥√ü"¬¥[√ô√∫√¥_ÀÜ‚ÄûUrh¬∂√ãTÔøΩm‚ÄòQ√ó‚Äô√≠2g√µ√à.¬≤√ã¬™√ó¬ø√ø√æ√ì√õ√µ√è‚Äî.√Å¬∂¬™‚Äú‚Ä¶ $‚Äö‚Äò¬¨jx√ñ√åÀÜ√ï√Æd$¬ÆT5‚Ä°ÔøΩr¬≥j√¨¬¢‚Ä∞√£¬π√ô√ôYP√õ¬†√à]√á¬©‚Äù+¬Æ√ß¬¶;:‚ÄöbE&√ÖWX‚ÄìC√ç√êKb√î√∞=√ò‚Ç¨eY‚Äì√≥¬πY√É2:6t√´5√ç√∞-l`IÔøΩB'H¬µZ¬µ‚Ä∞cY¬¢(√Ç√åDÔøΩE≈Ωa]√ã√ë*5‚Äìe√±0,[Z‚Ä†Y¬´Va/√á¬∂a‚Ä¶o	√Ü$√å√≥|$	∆íRX√ò≈Ω]-W
‚Ä¶√èsJ$ÔøΩE=√ó
√™√Ü√¢q¬©\ÔøΩFEI√Ä√†¬∏N√à¬æ√äkAH√ØQ-‚Äî√µ¬™≈æ√©√¨¬£‚Ä∞¬±|p¬≤@]5~√Ä:√ï‚Ç¨‚Äî¬ß¬´√ítÔøΩÀú¬®{b¬°_√º^√Ça5¬Ωf≈°&\√óuUU√É√Ø√Ö¬¢J√öu¬µr¬µd!^I¬≤:Y√¥uGD4√áWk¬¶9√∑TA√®CÔøΩ≈Ω‚Äö‚Ä†≈°¬°¬∂ÔøΩ ¬º¬∑¬∏‚Ñ¢'√á≈ì.'a8M¬¥√ç!W7¬°√∏∆í√òK)wPX¬≥Àú√•a√Ñ√º√ó=√ø√æÔøΩ|√æ√ê√æ;√Éj¬º√º√∑¬ª¬ø¬ªw√∑‚Äúw?√∞(√å$-√•¬¶∆í√Ü¬´√ïD‚Ä†‚Äú√ªs.!‚Äì√ß#√ª_<¬¥√ø√Ö√ß√ñ√ó√≠¬¢eD√é‚Ä¢fr√©e√ï¬¢¬£√®_|√ª¬Ø=√å‚Ä¶<≈†¬®‚Ä¶≈°‚Äö8√µB√∫¬º√•¬¶√∑√ø√Ü∆íÔøΩ¬ø√∂√≥≈∏m¬ª‚Ä∞√§k|√™‚ÄπÔøΩ√ø√∞{O-->√ª√Ω'√Ø√ö√µ8¬¨f√Ø{√∏√±¬ø√™~b≈ì5T√á‚Äì#w√å√ì√ú√ã√≠√â¬°√ê(‚Äö√ë√ä‚ÄîÔøΩ√ô7J√¶√î√Ø¬¢√â&gt;¬¥√¨√ã0√Ω&amp;‚Äπ√™%`¬≤-¬ØKp3√ÉE¬ø√±√Ä¬£AHny)¬Ω¬´√Ñ`√Ø‚Ä†'ÔøΩH\R√ÜQ¬Æc√Ü3√´¬≥ÔøΩ√Ä√á‚Äò√¥‚Äù%&amp;
Z{‚Ä¶=}√≤$	@]7j√ï≈°m√õ√èGUU‚Äù‚Äìa0¬´i$o√ñ4-¬≠¬¶k¬∫‚Ç¨&nbsp;¬ª¬ß[√†‚Ä¶√ô√â√©Tg#sUÔøΩ¬©1‚Äòy≈Ω√§!+¬≤¬¢F8‚Ñ¢'6√ó+W*√ëX,O√Å¬Æ√£√∞HÔøΩ√ü¬∏/]ÔøΩ‚Äô¬¨√Äq¬∏ZPWO¬∑$K√ê~√ê√∑Z¬≠m3t√Éq\√∏Q≈ΩD√∫√∫√ªyÔøΩ@√ì√õ√ü√ß8NÔøΩ¬®√êr√ã¬≤|√ü‚Ä°‚Ä†√ûl√ã‚ÄòZ¬æ$√áX7Y√édR5√ç¬∫]√ß¬∫O¬∂√è√á<lÀú√ö;u√ú¬¥ÀÜ≈ì√ùkccg√Ü&√Ü√Ç¬π:√§√¥‚Ñ¢s¬±x√êr√®ÔøΩ∆í√ñ&u√Å3¬´¬πb‚Ä¶‚Äîc√á√µ ¬ß‚Äô√†¬≤√É‚Äö¬¶√Ü√ê≈íÀú="" d¬¥¬•nz="" 5@√ô√Ü√ñ¬Æ="" z<√¢‚Äîa‚Äû√õ‚Ä¢√∞¬ÆbbÔøΩz√∫√µ¬≥√î‚Äòd¬∞w√∑√è√Æ√æ≈°c¬´nf√çe√Ø√ø√Ä‚Äì√ù√øt¬±|√†‚Ñ¢Àúh1√Ö¬≥="" √¢√ó√â¬ª‚Äù@$√¥0‚Äúbn√ôuy√ì√Ç≈æ^k¬¶≈æ√ü~√®√ã‚Ä†√á¬πÀÜ√Ç√Ç√Ç‚Ñ¢1¬≠{e~√¢|‚Ä†√π√∏¬Æ√ábkr¬∏¬∫√ß√Å√á1u√êm√Ç√íe¬Økx√•ma√¥≈íy√Çr¬∂√í<¬µ√ô¬≥√Æ√ó√ö‚Äìx√¨‚Ñ¢kÔøΩ,c√ã√†‚Ä∞√§t‚Äò√ô≈ì√Ü¬Ω¬™k{√å√§,:√π√∂‚Ä∞m√ól√£}√ñ√§m≈Ω√°‚Äì¬™‚Äûb√≥z¬µÀÜa&‚ÄòhÔøΩ&¬®‚Ç¨‚Äùk√ïjufb*≈æl√à¬≤r¬©‚Äì‚Äú√â‚Ä∞√Ä√†8a‚Äô‚Äòf¬®q‚Ä¢d¬µ√Åu‚Äπ√ár‚Ç¨h√†,"√âÀÜ¬©¬´d8¬≤√£¬ªÔøΩÔøΩ√îd≈í8@‚ÄòÀÜ‚Ä∫√ô≈Ω‚Ä∫ÀÜ&∆í8k¬ª^t`="" √Ö√ê53ÔøΩ*¬™b<√ïÀúi$¬≠-="" m!33√ì¬µj5‚Ä¢j√á="" @*‚Ä†i√êh`¬∂¬≥¬≥^¬≠√õ‚Äπ‚Äôdf!≈∏√Øs‚Äù9¬´o√£≈æ¬¢h‚Äô‚Ä†@√†="" ¬Ø‚Äòz7¬¶√•√∂f#¬≥g‚Äôz|$√´√∏‚ÄôÀÜ'b√ëx¬°tp|f4√£¬∫k¬Ø√£√π√∫¬≥√âs\,≈æ≈ív√ù6lÔøΩ√ásÀú¬æÀÜ#dx‚Äìe¬§u="√à√∞√µ*‚Ä¶¬∏‚Ä¶√á‚Ä¢ÀúLX√∫√Ñvh¬∏?o∆í¬∂\e(‚ÄûTca‚Ç¨" √î‚Äì√ºx√è√ó√ùtk‚Ç¨¬π¬Ω√ü√¢√à√æbw="" ¬™="" √§≈°+√ìp!7¬≤w√∑s√∑<√∞{√´¬¶√ã9√å¬Øq√Ç="" √£$ÔøΩ√£9√à≈Ω√ë¬•0ÔøΩ√∏‚Ç¨¬∞‚Ä†√°¬æ√±√∞√ß‚Ä†√ñ≈í√ï`√Öe¬≠‚Ñ¢j√Ç√ª√ê√´√ü√º√Ö√ø√∫√¥_qÔøΩ9¬§1√∑‚Äû¬∑^‚Ñ¢≈°ha‚Ä¶¬†√§≈°[n¬£¬°d9x√ØwÔøΩ¬øÀÜ~√æk="" .~]#+i9√ã42¬≤r:4≈†√∞h√É(¬≤v$,√Ä="" x√ª-h√Ç="" √â√§o√¢,¬¢‚Ä¢x√Æ‚Äì~v[1≈ì√É3≈ì≈†‚Ä¢z¬•√Üb√û¬≤√¥x$√ñ\¬Ø¬£:√ô;jq√ñ√†7√üxc√£¬¶mÔøΩ]]¬º="" ÔøΩ≈†&,¬£(j4√ï4¬≠¬ß¬ß'√ï‚Äòig2‚Ç¨mr‚Ñ¢4,√∑m√üÔøΩ√Ñ√î≈æ√Æuu√Ω√Ä¬Ø√ö5ÔøΩ="" ÔøΩ‚Ç¨`-t‚Ñ¢'¬°="">%$%√Ö√ô|O√Ç¬º¬£√õ
‚Ä¢¬∞8-I(f
‚Äî√å¬≥¬∞√Å√§√Ñ$‚Äöd:√â√≥√¨‚Ä°¬©6m¬Ω&gt;√õ¬≤√†o¬•\√éd:¬°%‚Äö√Är‚Äö/ÔøΩP√ó
^l¬¢X√é√àgQ¬Ø¬∫¬Æ[√åH√Å<eÔøΩ√ë‚Äö√£y√¢¬Ø√π‚Ä¢m≈í√å3~y,¬™*;¬∫¬•k;1ÔøΩ‚Äùey@b¬∂wh}h1√™√≠√© ‚Äî‚ÄπÔøΩÔøΩ√ù¬Ω¬πm√´q√´‚Äú1fq‚Ä¶√ã¬®\u¬≥r≈í√ô-√û¬Øl√®‚Ä¢√ä√™√ä√Ç√úk√ü√É,‚Ä°√öru¬£ÔøΩ="" pm√å√ã{¬ø√∑="" b√µ√∂√Æyf√°√Æ√ûq√û√ãr|√Ø√≠‚Ä∫√Éw√Øz="" √∑]d¬•√ãp√º1="" ≈∏√ö√ßl≈°t√É^="" w="" y√™‚Ñ¢√Ø√π&z¬ß≈ì¬™¬®√≤¬∏f√ñ√ö√îv√Å√∏6--√¶¬°√Ö¬ßgd="" ¬¥¬æ√ì`="" `√©:5¬†¬´@√¨x$‚Äú¬£b&‚Ä°√π√≥ÔøΩ√∑‚Ä∞'¬ß[="" √™4√ë+√ô‚Äú#s√Ñ√∞√ô‚Ä¢‚Äû9√Ék-Àú¬ß&√ª√±]_√™x√ù√Ö‚Äî‚Ç¨s‚Ä¢√ê¬ª‚Ä¶p√®)q¬†√æ]√õu√µz¬≠4‚Äú√∑ÔøΩ‚Äû¬Æ√û√Æ¬Ø¬ºr√ù√éÔøΩ√ä≈ìy`√°="" ‚Äö√è¬ßo≈∏t¬£qd√´¬π="" ‚Ä†!)≈†√≠¬∏√°‚Äù√ñ√ï√õn‚Ñ¢‚Äû√µy="" y¬Æw≈ì√å)¬≤√ú¬´√∂pÔøΩ`r2√ºh‚Ä¢z√Ä¬±u3fk%n√îx¬¥‚Ä∞\√ò-√∞≈Ω‚Ä°m<r√æ&√®√®√Æ¬§¬ªc¬Æ¬•@`xa√Öq≈ì‚Äî√æ√≥lg@)"√É,Àú≈∏√âÔøΩ√à¬•z√ï}?√àd‚Äô-d≈ægcs√º¬≥2√º-‚Äπ¬º√Äo="" ‚Äπ√¢¬®70Àúeg5o¬•d√°≈ì√º="" ¬∂ew+√ï√©¬©i√Ü√á√ón¬ø¬æo¬†√ø√∫√´w;v√¥√®√õgj√Ö¬¢$i,√á3-√êÀÜe≈æ`,¬ª|<√ù√à√ól√Æ_)‚Äπ√à;l√ìÀÜi‚Ä¶\√≠0‚Äû¬∞√´√ª9="">√∫√ä?=¬ª√ß[‚Ä°√º¬¨-‚Ä†<g√ü<g¬ß¬Ø¬•¬¢,¬≤ÔøΩÔøΩ‚Ä°√≠√ø√Ü¬°√Ω √Æ√ù√Ω¬§√Ä8√ø√Æ√°√è√Éo‚Ä°¬ºx√∏√•≈∏√æ√ë#¬øy√è√Ω_%y¬°¬≠≈æd,¬π="" √ö√ç√ï2‚Ä°√êr¬¢√¨√ëw_<√∏√äk√ôuz√ø√Æ@‚Äî*¬¨√†<u√ú(¬∫√ª¬æ="" √ªÀÜ#‚Ä∞¬°√å√í‚Ä∞tu√∂eb‚Äò¬•√Ö¬∞(o¬°≈∏¬™‚Ä°√õ√ëis,z√≥√•¬∑pd‚Ä∞¬©ah√•.<4‚Ä°≈í≈Ωfgg‚Ä°v¬∏2√ò¬°¬µ4f¬∫z√§√´o√ø‚Äî√Ü‚Äú√®√ëh√¥u√∂√ã√É¬Ωvtyk_√ü~√è&¬æ="" √Åj¬ºÀÜuf√â√†√¶-‚Ä∞tp1_xa¬•:;1‚Äô¬π¬∫eÔøΩ@n≈Ω√å‚Ä¶rq√ó4‚Äò¬≤t4sd-√ã*‚Ä¢≈†√Ω√Ωp-¬≥3$¬≠‚Ä†c√´√Ñ√∞‚Äú¬¶√©Àú:‚Äû√≤¬≥¬≥‚Ä∫7s\√´¬¥√î¬™‚Ä¢‚Ñ¢√â)¬≠v√£¬æ¬ª¬ß√Å<√Ö√ì8¬™¬¢="" ‚Äî√Éq‚Äú="" √ü‚Ä†¬©√©$√ù¬∑¬µ¬†="" √Ä¬†√©¬©¬©√©‚Ñ¢¬©√â√™4‚Ä∫√†√Ö@√åÔøΩi¬∞√†="" y‚Äì√°z√Ü√Ü√Ü√ä‚Ä¶\gw3_√≠√Ç√áb¬°0="=¬•¬™Q√õ&amp;√Å¬™√∞√•‚Ä∞c√ás√πY√¢‚Äò!" bbh"bi√¨="" ¬†¬¥‚Ä∞¬±q√¢9="" ¬§g√õ6√¥√§√î√Ñd¬•zi¬•√ì7√Ü√¢¬±ÔøΩ-ox≈Ω√∑√äk="" ="" √πd<¬©√àjd$ÔøΩ√≠m√ã√ùi√ï√°√í√ö.√∑w√Ö#pÔøΩ‚ÄîÀÜ¬¥¬•-¬≠√õ√å="" ¬†:√ô?√ó√¢yi¬æa√Ø¬¥¬™zu√∑√ñ+¬ø‚Ç¨ÔøΩ‚Ä°√∑√ø√°√°√Ω="" ="">√∞|√≥√¨≈æO√Ç‚Ç¨?t√†¬•kny?√âd¬°‚Ä¢¬ª√´U¬£$¬ø¬Ø√î√Ñ¬≥√ã√£√°√ü√å¬ÆS¬ø√åH9√º√ú‚Ä¶√Ø¬∂J√ù1D√é"√ª-¬∑√ó√≠√ßPo√¥≈Ω‚Äú‚Ç¨CZ‚Ä∫‚ÄöaiÔøΩU,r$¬∑√Ü√µ√ë¬ø√Ω√äg√´Cot,2zGÔøΩ¬£}%√±!z_√±¬∞√¶¬∫∆íf-D‚Ä°c√¶≈°‚Ä∫√ü¬≥√Ω√¶√õ√´√ó\¬≠√∫¬¢‚Äù`SN‚Äû¬ª|√ªfÔøΩ¬©M	)√∫‚Ä¢TN)‚Ä¢%‚Ñ¢|≈í¬®5¬¨@‚Äö+}√á|√á¬¥K√π‚Äög¬πj‚Äù¬§{$@¬¶√í¬±√ò&lt;K‚Äû;√π√∂√õ‚Ä†i√π≈æ≈∏‚Ä∫‚Ñ¢@√É$
√î√º√§√Ñ¬∏√≠√ò√Ö|~p√≥ √übF ¬∏¬§P‚Ç¨‚Äìd:2¬™¬™√ÇAO√ö<r=ÔøΩ√≤¬æ√ª≈æw√¶√¥‚Ñ¢ÔøΩÔøΩ√Ç‚Äì¬∑z0¬†}≈ì.≈Ωwvt√µ¬¶{b[@kÔøΩ¬£√∞√ü‚Äò√âp,‚Äîl%y4√π¬æeÀú‚Ä¢j ≈æ≈Ω√•¬°u‚Ä†¬Æwtd‚Äô√â¬§¬¨(√°e¬∫≈Ω¬´√´z√à¬µ="" 5ÔøΩÔøΩ≈æÔøΩ]y7‚Äù¬∑ÔøΩ+‚Äî√ä¬¶if::√í‚Ñ¢t√Ä√∞^√Ä√≤l√∑h‚Äô|z√¨$‚Ç¨¬ß¬ß≈Ωn≈†e√É≈æd,∆íew√á‚Ñ¢ÀÜÔøΩkÔøΩ{√ö@¬§-‚Äî="" ‚Ä∞√≥8√∑gÔøΩ|n¬•√≥[‚Ä°√¶gÔøΩ√∑‚Ä°√∂√üyx√ø¬Ø√≠√ù}7‚Ä°¬Ω√≠7√üf√¶="">≈°-L√•¬®#¬§M¬´‚Ä°Àú√êo√à¬¢√ô¬Ω√É	¬≠¬©√¥√£g¬æuh√øKC√´ÀÜ‚Ä¶f√∂√≥¬∑√∂≈í√ê√•√∞(zh√∫√ÅW&gt;√æ
ÔøΩ√∞Y√©¬Æ√Å√®¬≠'_¬æ√ª√æ‚Ä°¬©o√é[√†‚Ä∫[D√≥c,IoV@-X‚Äù&nbsp;‚Ä¶?√º√∞√ªO√å‚Ñ¢√ßF√è¬∫RL‚Äö/FV.^¬§%F$¬ª
√∑*;JyÔøΩsat√à√Å√Ω?¬ª√ß‚Ç¨bUOVX√Ö√Ñ.V√è‚Ä° F‚Ä¶ÔøΩ√ù8¬©≈†¬∂e√©5¬≠ÔøΩ√è‚Äú√îVNÀÜ√á√£&nbsp;√æ'''+¬•R, B√¢-P1≈†¬∏≈æe√ô¬¨ 5√§√¨√å¬°)&lt;≈∏XUd‚Äò‚Äî√êL4U¬£Q∆í√§√é0,]√∞D"J"‚Ñ¢≈íF¬£‚Äô¬¨¬¥¬∂¬¨\.√õ¬∂ÔøΩ‚Äò‚Äô$‚Ä¶¬∂≈†0‚Äô#¬§4]¬∞&gt;‚Äö&amp;i‚Ç¨‚Ä∫¬™√ïÔøΩ,s ‚Ä∫|W¬©vvu&amp;√ï‚Ç¨≈∏‚Ä∞√öTLRyZ¬∏¬ßV¬≠j5M`"√ã√πB¬∞{∆í¬≠c;p¬¢≈Ω√éNA¬ß¬ß¬ß&nbsp;√ÉÔøΩ‚Äò
¬ø2zpl‚Ä∫$√∑√Ç‚Äû√®¬∫JD‚Ñ¢‚Ñ¢≈æfH≈°y&gt;5√òl||¬¨V¬©v√∑√∂ÔøΩv√∫Àú+XX√∑√è&nbsp;35,0(¬™ÀÜ=√ù=√£√£√ÖR√ës=I%RÀÜ√Å‚ÄûÔøΩBS√ím √í‚ÄìKBÀÜ¬≤ÔøΩG¬º¬∂(8¬º√øW?¬¥≈ΩH√Æ√ø√®√û√ùO‚Ä∞≈í√≥√¶√æW¬Æ¬π√µ√ΩÀúj#√∫√Ç4y^t‚Ä¢√úÀú√à,¬®¬æ‚Ä†[t√ë√¶ÔøΩP}√µ¬•∆í√ª_zn√Ω√ûC¬¢&nbsp;√è√≥¬¶Q√∏√ô¬æ√¥o¬æ√≥‚Äî√ª_√û√£¬≠¬ø√¥√Ü'~¬æ¬®¬•a√π√†√®√ì√∑√âgD&amp;L√ëT¬¨%√†H√ãr¬≥¬§¬∏k!√å≈Ωg‚ÄìÀú√¨z√§√±¬ø√∫√úu¬Ø`vQ√•NN¬∑‚Äöv‚Äò¬∞√û√®j‚Ä¢√å‚Ä†√¥i‚Äî√ë4¬≤ÔøΩ≈æn√ª¬≥√è√º√âg√Æ¬Ω√è¬£&lt;\√ò¬ß√¶√É√ï√∞√éB√≥!√†¬æ√≤|√ü√ò∆í3,
DI√´¬∫√ä5‚Ä∞¬§√í)X√∫o√Ç√§f¬±V¬≠‚Ñ¢‚ÄìU¬≠V√†
√†X‚Ä∫∆í‚Ä†6tC‚Äô√ÑB1oÀú¬∫√´:‚Ç¨*B√õF@√ÉY	
(√ãÀÜ¬¢:2/H¬•√öt√Å¬¢Ql√öB|√ü¬ß≈Ω¬§i‚Ç¨√Ä=¬≠√Ü4≈∏l¬æ√°#¬®i58¬º√öD*√•2√Ä)¬∏¬∫h&lt;¬™JÔøΩ≈°hÀÜ≈ì√à3√Å:‚Äì
√∏#‚ÄπA¬´L√ì]$√°√©-V√ãD&nbsp;|351√≠Q¬£j√ò¬∂ÀÜÀú‚Ä†√∏,L]≈æ‚Ñ¢‚Ñ¢6u8≈í	√à√â4L%‚Ç¨W`K√á¬±¬πl	√ª¬∫¬∂‚Äú√éddE&amp;√ü√ª¬®bÀú√ÖB~v√º√¥¬±√£G√•√å‚Ä†¬¥‚Äö-√ì&lt;~√¢m]√ó-√õ*‚ÄîK√ê≈æ≈Ω≈Ω√é¬≥√Ø^ÀÜ¬¥√•‚Äô(1√äo@√§≈°‚Ä∫√ü√à&nbsp;r	&amp;IÀú‚Äò√±‚Ä∫¬Ø√º√ª√É$&nbsp;√§)X‚Ñ¢√≠¬∏√π√Ωa¬Æ/HÀú‚Äì√¢0¬ª≈Ω√ê≈ì4`
ulD¬≤D√°h¬∫
f¬π√£¬Ø¬ø√∞√©‚Äî6¬¥~√Ø√°P‚ÄúM$√ªN(¬°¬ø√æ¬∑7√ù√¥a√õ√ß¬∂√û√º¬æ¬≠7¬Ω√ø√ì¬ª¬æ√º‚Ñ¢√ª√§√º√Ü]¬øXI82‚Äö~¬∞√ß¬ªw√≠z√ïK√ê
≈æ¬Ω4qsD(u√â√†¬ØÔøΩ√à≈Ω√ã]?≈æT√∞√è&gt;√≤√Ç‚Äô√ç√ã√çJ√ôE(
A¬´wCF√æ√ê√•≈°√Éo√®√Ø≈∏√π¬≥{√Æ√ªr@2‚Ä∫b	V‚Äπ√∏4i≈Ω√°%ÔøΩL3;:Àú≈æ()6‚Äöh(%%KU√ïhT‚Äò√•¬∞N=√ã2¬º √™≈°Àú∆í√î|X¬Ø√∞ÔøΩd¬±2≈æO√¢-¬¥Z-‚ÄòH√Ç≈Ω√µ`‚Äπ0|∆íi.[√™B!≈∏#u√¶√º√ñ¬∞‚Ä¶+‚Ä¢¬¢√èuP√∞‚ÄìI¬™√ëJC√∑√≤∆í9√ò√Å4‚Äô√º√∞¬º√°ÔøΩAg+‚Äò‚Äîf¬®G¬±X¬¨T*√âT≈†0ÀÜ`b∆í√¢#‚Äìg	≈°c√Ü√∏U¬§(	&nbsp;‚Ç¨%¬¢∆ít¬•√†`√ôX,√Ü¬±‚Äû≈∏-7‚Ä∫√´√Æ√≠√àR*aB‚Äπb≈°≈ΩC√≠$¬©:‚Äö√ÅUÔøΩ¬§!√å√ò≈Ω
√úFx√íxR‚Ç¨&nbsp;	¬¥¬™*√çNÔøΩ9x`fj¬º‚Äù‚Ä∫ ‚Ä∞√Ñ¬Æ‚Äò√ã√•¬¶¬¶¬¶7
√Ç‚Ä¶‚Äù¬´e¬∏√ä¬®D¬∏√ê^¬π√ª√πSmE√ô‚Äì√ï7≈†√∏‚Äû√ø∆í#√¶√ä√∏√æ√ø`√∑√ìÔøΩ¬π√≤Rf‚Ñ¢√å√©√ÄO√ü√øE‚Äî‚ÄòZ¬¢√±‚Ä°√ïe√∑O≈Ω5h^∆í‚Ä¶Pj.5}¬Æ√Ñ+¬©√§‚Ä∞≈Ω√•√Æ¬Ω}sv√Ω¬¶√å,b√ä¬∂¬∞¬Ω√å√Ø√†x√Æ√¶√∏ÔøΩ&gt;√ë8√Ω‚Ñ¢¬Ω√ç√£FX√£S√Ø¬ªq%√Ø|√£‚Äì√Æ}3`%√ä¬¨h‚ÄúdR√õÔøΩ=W¬¶(I¬•qh%N√¢≈æ√µ@}D√°√é6¬ºC√≥p√ù√Üw‚Äò√≠¬©‚Ä∫CV√∞ÔøΩ‚Äû¬¨¬™√Ékf√ò√ú}√øW?q√øc√î5√¶√Ø√â
√∫hH≈Ω‚Ä∞¬≤E¬§√º√æÔøΩL¬≤√°√ë4=L√úÀÜ6√ÇAB‚Äö2X√®[√®V;ÔøΩ
√Å¬°‚Äú&nbsp;a√ÜÔøΩ√är√¨√¥‚Ñ¢X<n¬®d‚Äì¬®√í¬¶≈ì¬º}√¥¬®¬¶i√âd*√ì√ë√™√∂√µ|√üq√¨l&cb,¬™5√Ä%ÔøΩ@√•'‚Ä∞u√Åy√Ö¬™¬∂¬®t√ä¬°‚Ä¶√î√ø√¨√å,¬ß¬∑¬Øoj√±‚Äô8rh√å¬∂o√îj√ê√≤h≈í√Ä&√Ä¬∞11xd"¬•r‚Ä∞a¬®]#@wÔøΩ≈Ω|.√ü√ï√ù‚Ä¶¬¶\.ÔøΩ√à"ÔøΩ√â√•8√Ä.¬§6‚Äπ?w"@ÔøΩÔøΩ+¬µ≈°‚Äî≈ìj¬ßÔøΩ|x≈æ711{%r‚Ä∞:√§√≤¬º√É‚Ä°√≠?√∞¬≤√∏ jf√≠‚Ä†√´√ü515q¬≠v="">√∏√æn≈°ÔøΩÔøΩu¬∞^WWWww√è√ö¬∞ÀÜ‚ÄûQc√µ‚Äô4√≠≈ì≈°√µÔøΩD¬®iÔøΩ¬¨AÔøΩ√¨√ø√©√Å√Ω?¬£_^bW√ÜP3√Ø√¶¬≠√ëC√ª√ø√∞!B¬Ω¬≥aB&amp;k√ì¬Ω{√ÆÔøΩ‚Ä°√∞≈°[n'4'‚Äû: d^¬§¬∏‚ÄûX}CZ√∫&nbsp;^√Å&nbsp;^I‚Äπ√π√±3√üZ√ü~‚Ñ¢√∞c√ïY;GQ‚Äπ√µ≈∏b‚Äö√è=√∞¬ª}¬∑√º*&lt;√í$∆í:DoaL√Ø¬∂√±≈æ√ª¬ø√≤√¨≈æo√ó=5√ã¬∑≈Ω√úQ¬∑n√Ø¬Ω√Ø¬ª{√∑|√´7v=≈†≈æ‚Äû√≥‚ÄòY√•≈ì|Eu√£‚Äîm√≥√øX√Ü¬µ]|√∑∆í_√ª√Å√∑≈æ¬¨7oQ√á¬Ω√æ‚Äò‚Äπr√ì‚Äû√ñ‚Äù¬°Q√öo√ß√´¬¨¬°^≈Ω}n8√ô7‚ÄûF‚Ä°√ó√å¬∞!√±√£?‚Ä°a¬±√Ω¬¶√õ√àT7ÀÜ:¬¨P√§xHj√á¬∞"ÔøΩ¬ª¬£√å‚Äì√å≈ì√∑#≈∏/8$¬≥ÔøΩÔøΩ√èq√≠Ah3
E√ò(√¥¬§‚Äûy+-.,4|1U‚Äûic"‚Ä∫k4(√æJ¬•R¬≠T8≈æ‚Äîdp@√ù0|√è¬µlRM@	%;h√§¬¶F‚Ç¨‚Ä†¬£ÔøΩÀú‚Ä¶√û	≈í^0;3-+≈†G√ä√ó¬ÆS‚Äö¬®¬¢s¬ø√Ñ‚Ä°√Ç√†b¬±T¬´V√¥Z&gt;*‚Äò√º¬®√ïj√ìSS‚Ä∞d√í√ê4√ósa/ha¬•¬ßP`ZX√∑√à0√ïr‚Ä¢0≈∏¬¶RallÀúi√ì0√°¬¢¬∑√Å√Ö#MK√ë&gt;
p	√â¬¨‚Äò√ã‚Ä¢rM¬´√•r¬≥‚Äú‚Ç¨W√±d:‚Ñ¢¬Æ√ñ*$√©fj¬¢¬Ø¬ß√ì¬¶√Å√Æ¬Æ√ÆX,2‚Ä∫‚Ä∫!D¬¥‚Äì¬©√àJ√ì¬•u¬π‚Ç¨-DDH0Z¬µ√°√à¬∫‚Äî¬∞|L√üx√§7[&amp;√ôK√Ø√Ö≈°√ü:¬¥‚Ç¨√ª√∞√æ;√∑√Æ~‚ÄôA√û√°W^8~√†√π√ø√£‚Äò√è≈í¬ª√≠‚ÄìR^HZ~/√¥√öÔøΩyÀÜ‚Äù‚Ä∫√ø√ë3√ü√π√°√Æoe√ó/ÔøΩ√ô¬¢ze¬®0√î‚Äô√≥4‚Äö¬æ√∂√î_¬¨x¬¢≈íÀú)ÔøΩ√≥ÔøΩ√≤2√ã√üu√ü√É¬¨¬´√ø¬´√ø√∞√≠√º√•√Æ√•b‚Äò‚ÄòFkhÔøΩ√©√û=O√¶ÔøΩ/y≈íR7Ygh‚Äò$;Q‚Ä∫‚ÄìÔøΩ?`√§:s√èCÔøΩ√ú√≥√Ä√óa~√´‚Ä∫/≈æ‚Äπ≈í≈Ω^0√ô¬∑ÔøΩ√¨5J√õ‚Äù¬≠7√π√ú√ó?√í√à√§¬•‚Ä∫√Ø;√Ø √ÇÔøΩy‚Äòq¬´√ßu¬§√∂¬Ø¬Ωn√á≈Ω[?D√µ¬∞ÔøΩ‚Ñ¢¬•?np&nbsp;√è^√É√ß√óKF√êRU1oNc‚Ä¢sa√Ø¬π(√ér¬±H¬¥&amp;a≈æ¬∞¬≤¬ß~‚Äù+q[‚Ç¨
¬•√Å
KÔøΩ√î6¬¨√†√á04Uf¬ª B‚Äú√£¬∞`√â&gt;1√ë2Mh&nbsp;¬¢¬™UÔøΩ¬π	√öH¬ß√î¬®
'√¢~ÔøΩ5√•ÔøΩÔøΩH@√ä√°‚Äô√Ü√´‚Ä†e√öt√∂A√®y≈Ω√ºc√ö¬Æ√ß¬π‚Ä†aN≈ΩÔøΩ¬≤~dQ≈†√ÜCTU¬≠Vj‚Ä¢≈°i√±d*‚Äπ‚Äπ¬§H/√ì√ÑR≈°√©≈æ:~T$√∏D√é√•r‚Ä¢rY¬¶H¬•√é√ΩJ7∆í≈Ω√∞‚Äò√è√•ÔøΩ√Ñ√≠√∫≈æ¬≤¬ª‚ÄôÀú≈°≈æ,‚Äπ9@¬Æs√º√Ñ√õ¬•RQ√ìk√áw¬¶;‚Äú√©4¬¨√†√ª√Æ√Æ≈æ[n¬∫5‚Ä¢H√Å√ìwP√±√æp√º√´o¬æ¬∫¬°¬¥*&lt;√£√•"√°`"%√±√ó&nbsp;H2m‚Äò¬∂√é√î‚ÄìuCI
Àúi‚Äì¬®]¬´√•√°ÀÜ≈Ω8¬¥√øÔøΩx√©¬≠√Ω%√¶‚Äú√Ω¬ºw√∑S¬∞√†¬æ√´√Å¬Øc‚Ä†'¬¥¬∞t√ú√í√ô9√∞√¢√ß√º|√∏*¬ª≈∏√µ¬™s√çH√ìd√æ√¢¬§√à5√±¬µ¬Ω√û√Ç¬•√ã‚Ä∞√∞‚Ç¨≈æC√∞(√ãm¬ø√•vÔøΩS√Øz√†kd0,‚Äπ√†√¨¬ª√®¬ª¬ø¬ß√òq√´(htI02FK‚Ä†√∏0¬≠pD4≈ìÔøΩ8¬≤$tDal¬ª√©6Àú"√Ö_¬¨¬ß√≠‚Ä∫_&amp;;‚ÄîJs≈æp¬§\E√ê|:'√ß&amp;√õ√Åk^√ß√ú:wg‚Ä†.√ì√Ä‚Ç¨~:√¥‚Ñ¢;¬ø√≥√¶¬±‚Äòz‚Äö√Ü¬§√Æ√πg√ø√™√ª√≤M¬øt‚Ä∫$∆íxg√∏¬≥√î√∫b√†¬£¬πA¬Ωv‚Ä∞.¬ßw√ñ'o√Ç-	¬Æ√§'x¬ß?√™:‚Äì¬°√ï`A^∆í}F√º√Å`‚Ç¨√∞fzj√ä√∑C√ìTX≈æ√á√£$S‚Ä†√Å√ß¬º ≈ΩÔøΩ9M-√ä√ô(v¬¨V¬™)√ê√¥‚Ä∞8¬© ‚Ä∞H2¬®v	&nbsp;√®√¨√©‚Ñ¢‚Ñ¢X&lt;¬°.√°√ôi¬™|¬º¬§≈æ‚Äûv√™¬Æ√´‚Äì≈†%@√Ñ≈†S*√ék√ìE]‚Äô√µc√öL√†√ß√≤√ÄJ√©¬Æ¬æ¬Æ¬æ
¬º5√¨√∫A√†Y‚ÄòF√Ä‚Äö&nbsp;DUQZ√±√°¬ΩgÀÜC≈°¬•D‚Äù√â¬±q‚Ç¨!a	&lt;	4¬æ‚Ä¢T√≠‚Ä¶¬Æ3-¬´V¬©√Ü}$‚Äú$√üG‚Äì&nbsp;;k5
P√é√ø√Ω¬≥¬π@tc&amp;	.¬±7l√ò¬∂e;OÔøΩQ:‚Äú√©√≠√©≈∏√ø‚Ä¢;~5O‚ÄûÔøΩ√å√≥|‚Ä†H√Ä‚ÄòB!‚Ä¶‚Äπ‚Äö√õ√ùu9‚Ç¨M≈æ‚Äû¬±√àr¬º@\W≈í‚Äú;√ã≈æI√©√∞Àú√ãP¬±¬¨-‚Äî}‚Äô¬∞vf≈∏O~√æ¬æ√æ√Öl1N¬¨Ai¬®¬µ:√ô|}√πJ,%88|√†√Ö#√ª_8√∫√äO¬æ√±√®¬Ω{≈∏√π√∂¬°?¬∫≈°√å!√µ√Ö}¬≥≈Ω√´¬æz¬¶√Æ√ß√∫√≤¬¶‚Ä∫?L¬æ√±l√Ç√¢‚Ç¨‚Äûh‚Äû√ïQ!.aEÀú¬πh¬ª√ò√ê√ôz√¢¬•z‚Ä¢D√™_kTZbV¬©SlQ-bÀÜ¬©;√îm¬ø√π¬∂¬Ω_x2$√Ñx√∏‚Äì¬Ø√Ω√¨‚Ä¶√™√Æ¬§P¬ª√ómj¬£√ßWo√ü&gt;‚Äö?H{G√ßZ√ù√Ä"M∆í√á‚Ä∫97&nbsp;ÔøΩ√°√°‚Äπ≈ìO√í/¬π3√Å√•C!?}√ß√éÔøΩ√õ√ø¬Ø√ø√¥√ß√ø√¶_√≠√ñwo√ªo¬∫√±¬ß‚Ä°O√º√Æ‚Äî~g√∏_¬Ω¬Ø¬∑o`√∞≈°√â*v}√úH¬∑√∂√é‚Äö"-18Àú‚Äûz√é-MI‚Äö=√¨I‚Äú?AMP‚Ä†V≈æ√åeÀúÀú√Ñt¬´A‚ÄîÔøΩZ^‚Äò$X≈Ω√ßs¬≥cc√£¬∫{{√¢$√îC¬•~IuMC4√ï‚Äì√ó¬•‚Ñ¢¬´‚Ä¢0|&nbsp;hX√ûÀú¬∫Y¬≠T"‚ÄòÀÜ¬¨√åK√á‚Ä¶≈∏|√üo√Ü≈°√∞$‚Ä†¬§√É4√µ=¬º‚Ä∞F√£33S‚Äô$/√à‚Äù9√´jÔøΩ √Ñ√£Z≈æ√£%R	‚Ä¶‚Äû√ô¬™‚Äô$√Ç‚Äî%√ç√é√©A√çt√û{√£√ñL2ÔøΩ¬©‚Ñ¢‚Äù¬¢√Ü¬ßL¬©j¬≥1	%¬∏B≈∏¬∞¬Æ√ã‚Äö√Ä√∑oÀÜ(√ä√ôV√∏FÔøΩ(√á√ättÀú‚Ä†ÔøΩ'&nbsp;√Ω¬π√ô√®‚Ñ¢h,√∏√Äs¬Ω¬©‚Ä∞‚Ä∞J¬•¬™F¬£axM√ò¬∞√ìgN√Ω√¢√•≈∏¬π≈Ω[√ì√ß√°ÔøΩ√º√äÔøΩ¬Ω=}7√¨¬ºq√ß√µ78‚Äì=91√Å¬∞≈ì¬¨*¬¶nTJ‚Ä¢-‚Ä∫¬∂√∞‚Äöh‚Äù}√ò≈∏¬∫‚Ä¶</n¬®d‚Äì¬®√≤¬¶≈ì¬º}√¥¬®¬¶i√©d*√≥√±√™√∂√µ|√üq√¨l&cb,¬™5√†%ÔøΩ@√•'‚Ä∞u√°y√•¬™¬∂¬®t√™¬°‚Ä¶√¥√ø√¨√¨,¬ß¬∑¬Øoj√±‚Äô8rh√¨¬∂o√¥j√∞√≤h≈ì√†&√†¬∞11xd"¬•r‚Ä∞a¬®]#@wÔøΩ≈æ|.√ü√µ√Ω‚Ä¶¬¶\.ÔøΩ√®"ÔøΩ√©√•8√†.¬§6‚Äπ?w"@ÔøΩÔøΩ+¬µ≈°‚Äî≈ìj¬ßÔøΩ|x≈æ711{%r‚Ä∞:√§√≤¬º√£‚Ä°√≠?√∞¬≤√∏></r=ÔøΩ√≤¬æ√ª≈æw√¶√¥‚Ñ¢ÔøΩÔøΩ√¢‚Äì¬∑z0¬†}≈ì.≈æwvt√µ¬¶{b[@kÔøΩ¬£√∞√ü‚Äò√©p,‚Äîl%y4√π¬æeÀú‚Ä¢j></g√ü<g¬ß¬Ø¬•¬¢,¬≤ÔøΩÔøΩ‚Ä°√≠√ø√¶¬°√Ω></eÔøΩ√±‚Äö√£y√¢¬Ø√π‚Ä¢m≈ì√¨3~y,¬™*;¬∫¬•k;1ÔøΩ‚Äùey@b¬∂wh}h1√™√≠√©></lÀú√∫;u√º¬¥ÀÜ≈ì√Ωkccg√¶&√¶√¢¬π:√§√¥‚Ñ¢s¬±x√∞r√®ÔøΩ∆í√∂&u√°3¬´¬πb‚Ä¶‚Äîc√ß√µ></p¬∂√•√Æ{¬øfy1‚Äûx-zwy≈ì√µt¬©√†z$¬µ‚Äö¬®‚Ä†¬ª¬°‚Äî√ª√π√£n√≠`wv3¬∑√¥√£√ü¬∫q√π8√∞cÀúe√∞√°n√Æ4-√≥¬ß√†0√Ø5,i¬¨a¬¶'√¶yl4¬†@¬Ω:pl≈æ%√≤‚Ä∫z√±¬µÔøΩ√∏¬∂></wÔøΩz1√£‚Äù√∫t√¥¬≤ÔøΩÀÜs√ó√π></yt¬Ø¬°√≥‚Äûg¬ß∆íÔøΩ¬º¬°9wf‚Äìn√ø¬Ωx@7<√Ø√¢√ß‚Ç¨qaew‚Ä¶,‚Ä¶√æ√Æ√Ω√∑¬≤≈æ></utÔøΩ‚Ñ¢(if√°z=‚Äö‚Ä¢$xc¬π√§t¬ø√∂√π√•;~√•4√¨√ø¬∑u¬´u'√£≈ì,‚Ç¨‚Ä∞c√†m√π‚ÄìdÔøΩsx!vbq√£√ü‚Ä∞r√∞0√•0ÔøΩ¬æ¬¶√ø'√∞√∞¬´ÔøΩ√∫√≤‚Äì¬∂\√°x$¬ª√∂√¨;y√¥√π¬æ√¨√º‚Ä°√ªk></ais‚Äî¬≥1gx‚Äôw¬°></kÀÜ√≤√≤j<√≥¬°2‚Ä∫2jb√§√™¬•‚Äô¬©q)‚Äù√∫¬∞u}√†¬¢,i¬≤√µ<√®√∏√π√ºl¬•\√π¬∞q#√´-t√∫q5¬∫√≥¬∫ÔøΩ9√≤‚Äú√æ<√†‚Äì‚Ä¶√ª‚Äû√Øuc¬±h"√™></i></u></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sat-smt.codes/SAT_SMT_by_example.pdf">https://sat-smt.codes/SAT_SMT_by_example.pdf</a></em></p>]]>
            </description>
            <link>https://sat-smt.codes/SAT_SMT_by_example.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298863</guid>
            <pubDate>Mon, 01 Mar 2021 01:39:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Collection of SolarWinds Articles]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298791">thread link</a>) | @wglb
<br/>
February 28, 2021 | https://ciexinc.com/blog/solarwinds-articles/ | <a href="https://web.archive.org/web/*/https://ciexinc.com/blog/solarwinds-articles/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://ciexinc.com/blog/solarwinds-articles/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298791</guid>
            <pubDate>Mon, 01 Mar 2021 01:21:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lisp Machine Manual (1984)]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298553">thread link</a>) | @caslon
<br/>
February 28, 2021 | https://hanshuebner.github.io/lmman/title.xml | <a href="https://web.archive.org/web/*/https://hanshuebner.github.io/lmman/title.xml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><center><heading>Lisp Machine Manual</heading></center><center>Sixth Edition, System Version 99</center><center>June 1984</center><center>Richard Stallman</center><center>Daniel Weinreb</center><center>David Moon</center><nopara></nopara>
<p>This report describes research done at the Artificial Intelligence
Laboratory of the Massachusetts Institute of Technology.  Support for the
laboratory's artificial intelligence research is provided in part by the
Advanced Research Projects Agency of the Department of Defense under Office
of Naval Research Contract number N00014-80-C-0505.
<page></page></p><center><sub-heading>Preface</sub-heading></center>

<p>The Lisp Machine manual describes both the language and the operating system
of the Lisp Machine.  The language, a dialect of Lisp called Zetalisp,
is completely documented
by this manual.  The software environment and operating-system-like parts of
the system contain many things which are still in a state of flux.
This manual confines itself primarily to the stabler parts of the
system.  It describes how to program, but not for the most part how to
operate the machine.  The window system is documented separately in
the Lisp Machine Window System manual.
</p>

<p>Any comments, suggestions, or criticisms will be welcomed.  Please send
Arpa network mail to BUG-LMMAN@MIT-MC.
</p>

<p>Those not on the Arpanet may send U.S. mail to

<lisp><standard>Richard M. Stallman
Artificial Intelligence Lab
545 Technology Square
Cambridge, Mass. 02139</standard>
</lisp></p>

<p>Portions of this manual were written by Mike McMahon and Alan Bawden.
The chapter on the LOOP iteration macro is mostly a reprint of
Laboratory for Computer Science memo TM-169, by Glenn Burke.  Sarah
Smith, Meryl Cohen and Richard Ingria of LMI, and Richard Mlynarik of
MIT, helped to correct the manual.
</p>
<nopara></nopara><center><sub-heading>Personal Note from Richard Stallman</sub-heading></center>
<p>The Lisp Machine is a product of the efforts of many people too
numerous to list here and of the former unique unbureaucratic,
free-wheeling and cooperative environment of the M.I.T. Artificial
Intelligence Laboratory.  I believe that the commercialization of
computer software has harmed the spirit which enabled such systems to
be developed.  Now I am attempting to build a software-sharing movement to
revive that spirit from near oblivion.
</p>

<p>Since January 1984 I have been working primarily on the development of
GNU, a complete Unix-compatible software system for standard hardware
architectures, to be shared freely with everyone just like EMACS.
This will enable people to use computers and be good neighbors legally
(a good neighbor allows his neighbors to copy any generally useful
software he has a copy of).  This project has inspired a growing
movement of enthusiastic supporters.  Just recently the first free
portable C compiler compiled itself.  If you would like to contribute
to GNU, write to me at the address above.  Restrain social decay--help
get programmers sharing again.
</p>
<page></page>
</div></div>]]>
            </description>
            <link>https://hanshuebner.github.io/lmman/title.xml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298553</guid>
            <pubDate>Mon, 01 Mar 2021 00:42:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking This Serially (RS-232 History)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298546">thread link</a>) | @todsacerdoti
<br/>
February 28, 2021 | https://computer.rip/2021-01-12%20taking%20this%20serially.html | <a href="https://web.archive.org/web/*/https://computer.rip/2021-01-12%20taking%20this%20serially.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>


<p>Conceptually, if we want two computer systems to communicate with each other,
all we need is a data link over which we can send a series of bits. This is
exactly what serial interfaces do. You can probably quickly imagine a simple
and effective scheme to send a series of bits in order, which is precisely why
there are a thousand different standards, many of them are confusingly similar
to each other, and the most popular are remarkably complex.</p>
<p>So, in this message, I will try to break down what exactly a "serial port" is.
I will only be talking about the hardware standards in this case, not the
software side of a COM port in Windows or a tty device in Unix derivatives.
That's an interesting topic, and I hope to write about it some time, but it
will be A Whole Thing. The software situation is at least as complicated as the
hardware side.</p>
<p>With that warning in place, let's look at this strictly from a consumer
perspective. Most computer users, or at least those with experience working
with serial ports, are familiar with serial in the form of a DE9[1] connector,
and often as opposed to a parallel port, which uses a truly enormous DB25
connector in order to send eight bits at a time. These were the two primary
peripheral interfaces of old computers. Actually, that's not quite true; it's
more accurate to say that these two were the primary peripheral interfaces
of early personal computers that managed to survive into the modern era,
basically because they were adopted by various iterations of the IBM PC, which
is the platonic ideal of a personal computer.</p>
<p>To simplify the history somewhat, the pseudo-standard parallel port was
designed in order to simplify the construction of printers. Although that
advantage basically disappeared as printer technology changed, parallel ports
remained conventional for printers for many years after. In practice they had
few advantages over serial connectors and so basically died out with the
printers that used them. We should all be glad, the time it took to send a
rasterized page to a laser printer over a parallel interface was truly
infuriating.</p>
<p>It would be surprising to run into a parallel interface in use these days,
although I'm sure there are a few out there. It is quite common, though, to
find serial ports today. They're remarkably durable. This is partially because
they are extremely simple, and thus inexpensive to implement. It is mostly
because they are predominantly used by the kind of industries that love to
have weird proprietary connectors, and serial is the ultimate way to have a
weird proprietary connector, because it is one of the least standardized
standards I have ever seen.</p>
<p>Serial ports on computers are vaguely related to an EIA/TIA standard called
RS-232. In fact, a number of computers and other devices label these ports
RS-232, which is a bold move because they are almost universally non-compliant
with that specification. There are usually several ways that they violate the
standard, but the most obvious is that RS-232 specifies the use of a DB25
connector, with, you guessed it, 25 pins. "Good god, 25 pins for a simple
serial connection?" you say. That's right, 25 pins. It is precisely because of
that bourgeois excess of pins that personal computer manufacturers, as an
industry, decided to trash the standard and use the smaller DE9 connector
instead.</p>
<p>In order to understand RS-232 and it's amusingly large connector specification
better, we need to understand a bit about the history of the standard.
Fortunately, that will also help a bit in understanding the baffling complexity
of actually making serial interfaces work today.</p>
<p>RS-232 was originally introduced to connect a terminal (originally a TTY) to a
modem. The specification was actually rather specific to that purpose, which
shows when we look at all the bonus pins. More generically, RS-232 is designed
to connect "data terminal equipment" (DTE) to "data communications equipment"
(DCE). As you often run into with these sorts of cabling, the TX pin of one
computer needs to connect to the RX pin of the other, and vice versa. For this
reason, the two devices on a serial connection should have their RX and TX pins
reversed compared to each other. </p>
<p>The terms DTE and DCE are usually used to identify these two different
configurations. That said, it was sometimes necessary to, for example, connect
two computers to each other, when both used the same interface. Further, some
manufacturers made (and continue to make) inconsistent decisions about whether
the computer or peripheral should be DCE or DTE. This necessitates using a
"null modem" cable, which is the equivalent of "crossover" for Ethernet before
GbE specified a far more flexible MDI.</p>
<p>Trying to figure out whether you should use a null modem or straight through
cable, which is usually easiest to do by experimentation, is just the first of
the many fun steps in successfully using a serial device.</p>
<p>Conceptually, RS-232 functions in an extremely simple way. To transmit a one,
you put a high (positive) voltage on the TX pin. To transmit a zero, you put a
low (negative) voltage on the TX pin. This is in reference to a ground pin,
which is usually connected right to local ground.</p>
<p>This gets us to our second bit of serial complexity, after figuring out whether
or not we need to add an extra swap in the RX and TX wires: clock recovery. In
most cases (we'll get to the exceptions later maybe), there is no explicit
clock information provided by a serial connection. Instead, the receiving
device must heuristically recover the clock rate. Some serial devices work this
out by expecting the transmitter to always send a certain preamble (common in
some industrial control and other situations), but the problem is solved more
generally by the convention of sending a "start bit" and "stop bit" of one and
zero successively, before and after each byte. This ensures at least one
transition and helps with detecting the timing of the whole byte.</p>
<p>Most devices expect one and one bit. Some devices expect two of each. Some
devices expect none at all (although they then usually use a protocol that
expects a preamble).</p>
<p>From this mess, you might think that the RS-232 standard does not specify any
method of clock synchronization. In fact, it does. It's just not implemented
on PC serial interfaces.</p>
<p>So I said 25 pins. Now we know what our first five are: we have ground, tx,
rx, and two pins that are used for synchronization, one in each direction.
That's 5. What about the other twenty?</p>
<p>Well, some are just for stuff that no one uses any more. There's a pin to
select the data rate (rarely used and unimplemented on PCs). There's a pin for
a transceiver self-test feature (rarely used and unimplemented on PCs). But
most of all, there is telephone modem arcana.</p>
<p>Remember, RS-232 was designed fairly specifically for a terminal to communicate
with its modem. Modems at the time had some fairly peculiar requirements and
restrictions. An obvious one is that the modem needs to signal the terminal
when it is ringing (in the sense of a phone), and there's a pin for that.
There's also a pin to indicate that the DCE has established a connection with
a remote DCE. There are two pins that the DTE can use to essentially conduct
a handshake with the DCE in preparation for sending data, a requirement due to
the half-duplex nature of modems. There are two pins for similar, but different
readiness negotiation in the other direction.</p>
<p>Most entertaining of all, there is <em>an entire second serial connection.</em> That's
right, the RS-232 standard specifies pins on the cable for a complete second
data path with its own data pins and control pins.</p>
<p>Add all this up and you get somewhere near 25, but not quite, because there are
a few unused.</p>
<p>When early PC manufacturers (but mostly IBM) were hunting around for a fairly
general-purpose interface to connect peripherals, RS-232 looked like a pretty
good solution because it was fairly simple to implement and provided a good
data rate. The problem is that it was over complicated. So, they just took the
parts they didn't like and threw them in the trash. The result is "RS-232
lite," a loosely specified standard that carried RS-232-esque signaling over a
smaller DE9 connector.</p>
<p>Here are the pins of the DE9 connector:</p>
<ol>
<li>Data carrier detect (DCD)</li>
<li>Rx</li>
<li>Tx</li>
<li>Data terminal ready (DTR)</li>
<li>Ground</li>
<li>Data set ready (DSR)</li>
<li>Request to send (RTS)</li>
<li>Clear to send (CTS)</li>
<li>Ring indicator</li>
</ol>
<p>This has the ground and two signal pins that we know we need, and then many,
but not all, of the control pins specified by RS-232. Notably, no clock pins,
meaning that properly synchronous serial standards (like several early computer
network standards) cannot be carried on these RS-232 interfaces. Don't worry,
this didn't stop anyone from trying to do general-purpose networking with these
things.</p>
<p>Quick sidebar: I said positive and negative voltage earlier. The RS-232
standard is really unspecific about these and in newer revisions they can range
from 3 to 25 volts, either positive or negative. As a de facto norm, most
computer "RS-232-ish" interfaces use 13 volts, but there are exceptions. The
standard requires that all interfaces tolerate up to the full 25 volts, but
I would not trust this too far.</p>
<p>So what about all the control pins that PC serial interfaces retain... well,
this gets us into the world of flow control. Often, when communicating with a
peripheral or another computer, it is necessary to somehow signal when you are
capable of receiving data (e.g. room in buffer). This is conventionally done on
serial ports by using the RTS and CTS pins to indicate readiness to receive
data by the DTE and DCE respectively, which is consistent with which ends of
the connection "own" those pins in the proper RS-232 specification. This is all
fine and good.</p>
<p>Except for it's not, because there are a number of serial devices out there
which do not implement the RTS/CTS pins for whatever reason (mostly money
reasons, I assume). So, a second convention ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://computer.rip/2021-01-12%20taking%20this%20serially.html">https://computer.rip/2021-01-12%20taking%20this%20serially.html</a></em></p>]]>
            </description>
            <link>https://computer.rip/2021-01-12%20taking%20this%20serially.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298546</guid>
            <pubDate>Mon, 01 Mar 2021 00:41:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to use the Principled Volume shader in Blender]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298458">thread link</a>) | @saturn5k
<br/>
February 28, 2021 | https://petarpetkovski.net/how-to-use-the-principled-volume-shader-in-blender/ | <a href="https://web.archive.org/web/*/https://petarpetkovski.net/how-to-use-the-principled-volume-shader-in-blender/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><main id="content" role="main"><div><div><article id="post-3494"><div><p>This is a short tutorial on how to add a volume shader (<a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/shader/volume_principled.html" target="_blank" rel="noopener">Principled Volume</a>) in <a href="https://www.blender.org/" target="_blank" rel="noopener">Blender</a> to achieve an atmospheric and cinematic look. This is for users that are at least already familiar with the Blender UI as I will not be sharing details about scene setup, shortcuts or render settings.</p><p>My scene setup is fairly simple consisting of a few models, a plane with an added displacement/height map (terrain), a sun light and a spot light (for the antenna). As we can see from the screenshots below, the lightning looks very harsh because it illuminates the scene without any diffusion from small particles in the scene such as air/pollution. The scene looks rather plain and boring with no exciting photon action.</p><p><img loading="lazy" src="https://petarpetkovski.net/wp-content/uploads/scene-setup-01-1200x669.jpg" alt="" width="1200" height="669" srcset="https://petarpetkovski.net/wp-content/uploads/scene-setup-01-1200x669.jpg 1200w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01-744x415.jpg 744w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01-420x234.jpg 420w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01-768x428.jpg 768w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01-560x312.jpg 560w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01-1536x857.jpg 1536w, https://petarpetkovski.net/wp-content/uploads/scene-setup-01.jpg 1581w" sizes="(max-width: 1200px) 100vw, 1200px"></p><p>Here is another look on the 3D environment. On the left side we can see the shader editor screen with the node configuration applied to the main plane to achieve the displaced terrain using a height map. All the view-port rendering is done in Cycles.</p><p><img loading="lazy" src="https://petarpetkovski.net/wp-content/uploads/displacement-1200x640.jpg" alt="" width="1200" height="640" srcset="https://petarpetkovski.net/wp-content/uploads/displacement-1200x640.jpg 1200w, https://petarpetkovski.net/wp-content/uploads/displacement-744x397.jpg 744w, https://petarpetkovski.net/wp-content/uploads/displacement-420x224.jpg 420w, https://petarpetkovski.net/wp-content/uploads/displacement-768x409.jpg 768w, https://petarpetkovski.net/wp-content/uploads/displacement-560x298.jpg 560w, https://petarpetkovski.net/wp-content/uploads/displacement-1536x819.jpg 1536w, https://petarpetkovski.net/wp-content/uploads/displacement.jpg 1576w" sizes="(max-width: 1200px) 100vw, 1200px"></p><p>Next, insert a plain cube into the scene and resize it to match the scene and visible area that will be rendered. We are going to make this cube look as it is made from fog. A foggy cube.</p><p><img loading="lazy" src="https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-1200x637.jpg" alt="" width="1200" height="637" srcset="https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-1200x637.jpg 1200w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-744x395.jpg 744w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-420x223.jpg 420w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-768x407.jpg 768w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-560x297.jpg 560w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02-1536x815.jpg 1536w, https://petarpetkovski.net/wp-content/uploads/add-volume-shader-02.jpg 1578w" sizes="(max-width: 1200px) 100vw, 1200px"></p><p>Once we are finished adjusting the cube size, go to the shader editor and apply a ‚ÄúPrincipled Volume‚Äù shader to the cube. Adjust the ‚ÄúDensity‚Äù and ‚ÄúEmission Strength‚Äù values as well as corresponding colors to get the desired fog/atmosphere effect. You can also play with the strength of the sun light that‚Äôs illuminating the entire scene to see how it will interact with this newly added volume. You may want to adjust the Prinicpled Volume values depending on the sun strength.</p><p><img loading="lazy" src="https://petarpetkovski.net/wp-content/uploads/set-shader-03-1200x628.jpg" alt="" width="1200" height="628" srcset="https://petarpetkovski.net/wp-content/uploads/set-shader-03-1200x628.jpg 1200w, https://petarpetkovski.net/wp-content/uploads/set-shader-03-744x390.jpg 744w, https://petarpetkovski.net/wp-content/uploads/set-shader-03-420x220.jpg 420w, https://petarpetkovski.net/wp-content/uploads/set-shader-03-768x402.jpg 768w, https://petarpetkovski.net/wp-content/uploads/set-shader-03-560x293.jpg 560w, https://petarpetkovski.net/wp-content/uploads/set-shader-03-1536x804.jpg 1536w, https://petarpetkovski.net/wp-content/uploads/set-shader-03.jpg 1579w" sizes="(max-width: 1200px) 100vw, 1200px"></p><p>Once we are done tweaking and adjusting the volume options and lightning position, we can set up the camera for that perfect angle and wait a couple of minutes for our render to finish. Although by using this method you will get way longer rendering times, the final result is much better and has a more natural look and feel. The light is soft and diffused thanks to the added volume, which makes the scene alive and more present.</p><p><img loading="lazy" src="https://petarpetkovski.net/wp-content/uploads/final-render-04-1.jpg" alt="" width="1200" height="800" srcset="https://petarpetkovski.net/wp-content/uploads/final-render-04-1.jpg 1200w, https://petarpetkovski.net/wp-content/uploads/final-render-04-1-744x496.jpg 744w, https://petarpetkovski.net/wp-content/uploads/final-render-04-1-420x280.jpg 420w, https://petarpetkovski.net/wp-content/uploads/final-render-04-1-768x512.jpg 768w, https://petarpetkovski.net/wp-content/uploads/final-render-04-1-560x373.jpg 560w, https://petarpetkovski.net/wp-content/uploads/final-render-04-1-930x620.jpg 930w" sizes="(max-width: 1200px) 100vw, 1200px"></p><p>That‚Äôs all for now, and I hope someone gets inspired by this :)</p><p>Read other stuff <a title="Blog" href="https://petarpetkovski.net/blog/">here</a>.</p></div></article></div></div></main></div></div>]]>
            </description>
            <link>https://petarpetkovski.net/how-to-use-the-principled-volume-shader-in-blender/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298458</guid>
            <pubDate>Mon, 01 Mar 2021 00:27:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Planck 6502, an open hardware extensible retro computer]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26298278">thread link</a>) | @jfoucher
<br/>
February 28, 2021 | https://jfoucher.com/2021/02/planck-6502-open-hardware-computer.html | <a href="https://web.archive.org/web/*/https://jfoucher.com/2021/02/planck-6502-open-hardware-computer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p>February 28, 2021 | <span>7</span> Minute Read</p>
  
  <p><img src="https://jfoucher.com/uploads/2021/02/1.jpg" alt="">
    </p>

  <h3 id="retro-computing">Retro computing</h3>

<p>Going back to the roots of your field can provide new insights into your day to day experience. For me, the roots are located in the 70s / 80s a time when personal computers were much simpler and could be fully understood by a regular person. This is a time when the most popular computers were the Vic20, Apple II and later Commodore 64.</p>

<p><img src="https://jfoucher.com/uploads/2021/02/VIC-20.jpg" alt="Vic-20">
<img src="https://jfoucher.com/uploads/2021/02/Apple_II.jpg" alt="Apple II"></p>



<p>These computers booted in less than a second to a raw basic prompt. To be clear: you turn on your computer, and less than one second later you start programming. How wonderful would that be, in our land of a thousand node dependencies, failing composer upgrades and wrong vagrant configurations?</p>

<h3 id="what-to-build">What to build?</h3>

<p>I was increasingly interested in electronics since doing a project for a friend, so I thought to myself ‚ÄúHow hard can it be?‚Äù Well, as it turns out, quite, but that‚Äôs hardly the point right now. The point is: what should I build? I started by building a simple 6502 based computer on a breadboard. I soon realised that if I was to have anything half useful I was going to need the entire breadboard production of China to be delivered to my house. Also breadboard computers are buggy and you can‚Äôt move them around because then a cable will come loose and you will spend five hours troubleshooting your code instead.</p>

<p>So I decided I would convert it to PCBs. They are pretty cheap to get delivered from China, but since they take about a month to arrive the rate of iteration is not so great. Better to get it right the first time obviously.</p>

<p>Well I almost did. The first one was very simple, only having a 6502 processor and an 6522 parallel port interface. I interfaced with it from my computer via SPI through an arduino: the 6522 Versatile Interface Adapter can bit bang SPI easily enough. The Arduino Uno/Nano can be an SPI slave easily enough and receive that data. It can then transmit that data to my computer using serial over USB.</p>

<p>That worked fine (after a couple of bodge wires) but was a bit kludgy, having the Arduino sort of hanging there by a few cables.</p>

<p>I then tried to design a single board computer with everything I would ever want on it: serial communication, parrallel port, SPI port(s), i2c port(s), PS/2 port for a keyboard, sound chip, VGA output, etc‚Ä¶ The board to house all of this was very big and thus very expensive. Combining this with the previous point regarding getting it right the first time, a single board computer suddenly seemed like not that great of an idea.</p>

<h3 id="the-plan">The plan</h3>

<p>I then decided to build a board with basic circuitry into which other boards that provided actual functionality will be able to plug in. Turns out that already exists and is called a <a href="https://en.wikipedia.org/wiki/Backplane">backplane</a></p>

<p>So backplane it is then. The size limit for this board and all others will be 10cm x 10cm as that it the cheap price limit for most cheap board houses (yes I‚Äôm cheap and I like cheap, preferably cheap that works).</p>

<p>Here is the backplane design:</p>

<p><img src="https://jfoucher.com/uploads/2021/02/backplane.png" alt="backplane 3D view"></p>

<p>As you can see, it is mostly just slots to plug in the extension boards. The only active components are the clock generation circuit, and some decoding to activate the expansion slots when they are needed.</p>

<p>The rightmost slot is reserved for the CPU card. The CPU card includes some RAM and ROM, which means the computer is already functional with just this single board plugged in, although admittedly it won‚Äôt <em>do</em> much in that configuration.</p>

<p>To get the computer to do stuff it‚Äôs best to plug in some additional boards.</p>

<p>The initial design includes an IO board with PS/2 port, SPI ports and a parallel port (and LEDs, of course it has LEDs!) as well as a serial board to allow the user to communicate with the computer.</p>

<p>After waiting patiently forever for the boards to arrive, I put it all together and gave it a try. It did not work at all. Of course there were mistakes on the boards, which confirmed the soudness of my choice of not doing one huge board at once.
However not all the boards were defective, and the bad ones were quickly fixed with a few wires here and there.</p>

<p>After which, plugging a usb to serial adapter into the serial board, and into a usb port on my computer, I could see the Planck computer doing something!</p>

<p>Here it is running <a href="https://en.wikipedia.org/wiki/Forth_(programming_language)">Forth</a> over serial</p>

<p><img src="https://jfoucher.com/uploads/2021/02/running-forth.jpg" alt="Forth over serial on the Planck computer"></p>

<p>I am currently working on more expansion boards, such as an LCD board, a sound card, and a VGA card. <a href="https://jfoucher.com/feed.xml">Stay tuned</a> for more.</p>

<p>For more details about this project, please use the links below:</p>

<ul>
  <li><a href="https://planck6502.jfoucher.com/">Project website</a></li>
  <li><a href="https://gitlab.com/planck-6502/planck-6502">Hardware and source code</a></li>
</ul>



  </div></div>]]>
            </description>
            <link>https://jfoucher.com/2021/02/planck-6502-open-hardware-computer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298278</guid>
            <pubDate>Sun, 28 Feb 2021 23:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[FreshBSD 2021: Relaunching the BSD Commit Log Search Engine]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26298079">thread link</a>) | @todsacerdoti
<br/>
February 28, 2021 | https://freshbsd.org/news/2021/02/28 | <a href="https://web.archive.org/web/*/https://freshbsd.org/news/2021/02/28">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><header><h2><a href="https://freshbsd.org/news/2021/02/28">FreshBSD 2021</a></h2></header><section><p>6 weeks ago I created a branch for a significant rework of FreshBSD.  Nearly 300
commits later, and just a week shy of our 15th anniversary, the result is what
you‚Äôre looking at now.  I hope you like it.</p>

<p>There‚Äôs loads of internal changes, but here‚Äôs the main user-facing stuff:</p>



<p>We have a new vector logo I knocked together in <a href="https://inkscape.org/">Inkscape</a>,
a new <a href="https://slimselectjs.com/">drop-down select library</a>, a new pagination
widget that offers to reverse the sort order rather than encouraging you to visit
page 170,000, and a variety of style tweaks to (hopefully) make things a bit nicer.</p>

<h2 id="prettier-urls">Prettier URLs</h2>

<p>The site has a new URL scheme, and a much better system for generating them from queries.
Where possible they‚Äôll be automatically applied using JavaScript to make sharing links
more pleasant.  For example, this monstrosity:</p>

<blockquote>
  <p>/search?q=&amp;project%5B%5D=freebsd&amp;repository%5B%5D=src&amp;branches%5B%5D=releng%2F12.0&amp;sort=commit_date</p>
</blockquote>

<p>Becomes:</p>

<blockquote>
  <p>/freebsd/src/branch/releng/12.0</p>
</blockquote>

<p>Old URLs should continue to work.</p>



<p>A new grouped <code>Source</code> filter replaces <code>Project</code> and <code>Repository</code>, making it much
easier to go straight to the repositories you‚Äôre interested in.</p>

<p>There‚Äôs also a new filter for merge commits, though this currently only works for git-based
repositories.</p>



<p>According to <a href="https://developers.google.com/speed/pagespeed/insights/">PageSpeed Insights</a>:</p>

<ul>
  <li>Old front page: 4,814 DOM elements, 148 KiB, 2.3s to interactive.</li>
  <li>New front page: 1,616 DOM elements, 37 KiB, 0.5s to interactive</li>
</ul>

<p>This is a combination of improvements, including:</p>

<ul>
  <li>Removal of jQuery and Font-Awesome‚Äôs WebFont/CSS</li>
  <li>Branch/tag/committer filters being suppressed</li>
  <li>Result counts and aggregations calculated in the background during rendering</li>
  <li>Multithreaded commit rendering</li>
  <li>Reduction in per-page results from 50 to 30</li>
  <li>Improved caching, with a warmup query for the front page on index updates</li>
</ul>



<p>I‚Äôve done a lot of work to improve the quality of the code, which in turn makes
further changes easier and more appealing.  This also brings us closer to the
point at which I‚Äôll be comfortable publishing the codebase.</p>

<p>In the mean time, I hope you continue to find the site useful.  If you have any
feedback, please email me at <a href="mailto:tom@hur.st">tom@hur.st</a>, or Tweet me at
@blaagh.</p>

<p>Cheers.</p>
</section></article></div>]]>
            </description>
            <link>https://freshbsd.org/news/2021/02/28</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298079</guid>
            <pubDate>Sun, 28 Feb 2021 23:22:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Squeak: A Free Smalltalk System ‚Äì On RISC OS]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 7 (<a href="https://news.ycombinator.com/item?id=26298075">thread link</a>) | @lproven
<br/>
February 28, 2021 | http://www.rowledge.org/tim/squeak/ | <a href="https://web.archive.org/web/*/http://www.rowledge.org/tim/squeak/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<!-- .sidebarContainer -->
			<div>
				<p><span>Squeak: A Free Smalltalk system</span></p><p><img alt="" src="http://www.rowledge.org/tim/squeak/files/page17_1.jpg" width="295" height="205"><br></p><p><span>What is Squeak?</span><br>Squeak is a free Smalltalk system originally released by a team including Alan Kay, Dan Ingalls, Ted Kaehler, John Maloney and Scott Wallace in 1996 when they were working at Apple. You might recognise the first three names from early Smalltalk papers from Xerox PARC. They produced a rather nice Smalltalk system with the unusual virtue that both the image and the Virtual Machine are open source - i.e. free, gratis and "no charge to you sir".<br><span>Finding Out More About Squeak</span><br>To find most of the web resources for Squeak, look at the <a href="http://www.squeak.org/" rel="self">Squeak.Org</a> site. There are lots of pointers to information about Smalltalk, instructions for downloading Squeak, tutorials, FAQs etc. I won't waste space by duplicating any of it here. I do most strongly recommend that you read many of them.<br><span>Squeak runs on...</span><br>Macs, iPhones, most UNIX &amp; Linux systems, Windows of various versions, <a href="http://www.riscos.org/" rel="external">RISC OS</a> and some obscure specialised systems. See the above mentioned master page for details on how to get the files.<br>I‚Äôve spent many years making Smalltalk available for RISC OS and other <a href="http://www.arm.com/" rel="self">ARM</a> based systems including the original Acorn Archimedes &amp; RPC desktops, the Active Book, an early prototype version of the Compaq ‚ÄòiPaq‚Äô handheld, the Interval Research ‚ÄòMediaPad‚Äô, an HP prototype pad-thing and other stuff still secret.<br><span>New News of a newsish nature</span><br>2013 - Squeak is back on RISC OS! Those nice people at the <a href="http://www.rowledge.org/tim/squeak/www.raspberrypi.org" rel="external">Raspberry Pi Foundation</a> sent me a Pi; it has RISC OS on it and I‚Äôve been getting things working on it. </p><p><img alt="IMG_0467" src="http://www.rowledge.org/tim/squeak/files/img_0467.jpg" width="519" height="388"><br></p><div><p>It runs quite nicely in general; the Pi‚Äôs RISC OS graphics kernel is a bit slow seeming right now but there is work being done that should improve that significantly. It supports <a href="http://scratch.mit.edu/" rel="external">Scratch</a> as well and runs it decently - though there is a lot of work being done to improve that, too. Somewhat perversely, MIT decided to rewrite Scratch in Flash (belch) ‚Äòfor better browser support‚Äô and seem to have abandoned the ‚Äòold‚Äô Squeak based system. Since Flash doesn‚Äôt run on RISC OS  nor indeed on ARM systems in general, we‚Äôll be supporting ‚Äòold‚Äô Scratch for a while.<br>You can download a copy of Squeak for RISC OS from the central <a href="http://www.squeakvm.org/riscos" rel="external">squeakvm.org </a>site.<br>Currently I‚Äôm working for the Pi foundation to improve Scratch under Raspbian (their linux version) by rewriting some of the more egregiously ugly code, improve algorithms, tweak vm configurations and so on. As of early-2014 it‚Äôs significantly faster than the original version with a fair bit more to come. A major project has been <a href="http://www.raspberrypi.org/test-tims-nuscratch-beta/" rel="external">porting the code forwar</a>d to the latest Squeak image so that it can run on the most modern VMs; right now it is using the ‚ÄòStackVM‚Äô. I hope to get the newer design dynamic translating VM working soon.<br>When and if possible all of this will get moved over to RISC OS but making a living comes first!</p><p> <span>Building the VM with VMMaker</span><br>I also developed and for many years maintained the VMMaker package, the lump of Squeak code that defines and generates the bulk of the VM. See the VMMaker page on the <a href="http://wiki.squeak.org/squeak" rel="self">Squeak Swiki</a> for more info. You can fetch the VMMaker package from <a href="http://map1.squeakfoundation.org/sm" rel="self">SqueakMap</a> or use the SqueakMap tool in the image and look for (guess what) VMMaker. You will also need a <a href="http://subversion.tigris.org/" rel="external">SubVersion</a> client so that you can fetch the handwritten parts of the VM source code from the repository.<br>Once you have mastered the complexities of the VMMaker and successfully built yourself a custom VM you should download<a href="http://www.rowledge.org/resources/tim's-Home-page/Squeak/SqueakVMBuilderCertificate.pdf" rel="self"> this certificat</a>e to attest to your mighty geekiness.<br><span>Stuff wot I wrot</span><br>	‚Ä¢	I contributed a chapter describing the structure, function, design and implementation of virtual machines and the lowest level of Smalltalk code to <a href="http://www.amazon.com/Squeak-Open-Personal-Computing-Multimedia/dp/0130280917" rel="external">"Squeak: Open Personal Computing and Multimedia"</a> edited by Mark Guzdial and Kim Rose, published by Prentiss-Hall. An online version of <a href="http://www.rowledge.org/resources/tim's-Home-page/Squeak/OE-Tour.pdf" rel="self">that chapter is here</a>.<br>	‚Ä¢	I worked on a <a href="http://www.rowledge.org/resources/tim's-Home-page/Squeak/RTOSinSmalltalk.html.pdf" rel="self">realtime OS in Squeak</a> whilst employed at Interval Research Corp<br>	‚Ä¢	A short paper on making <a href="http://www.rowledge.org/resources/tim's-Home-page/Squeak/LEBB.pdf" rel="self">BitBlt work for little-endian</a> machines without having an intermediate display-on-screen conversion<br><span>Squeak logo artwork</span><br>At the dawn of Squeak-time we needed a logo. Every project needs a logo. I designed one, it caught on and can be found all over the web, on T-shirts, sweatshirts, books, badges, underwear, hats and probably secret spy satellites in geosynchronous orbit. (No, seriously; there is now at least one satellite running Squeak code!)<br>Here are some files of the Squeak logo that you may like to use:-</p></div><p>Feel free to download them and use them for links etc. If you'd like any other size, I can easily generate them for you from vector artwork. If you want to use it for a project of some sort relating to Squeak you are most welcome to do so - if you are making a neat badge or shirt or publishing a book I‚Äôd love a copy if at all practical.</p>
				
			</div><!-- .content -->
		</div></div>]]>
            </description>
            <link>http://www.rowledge.org/tim/squeak/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298075</guid>
            <pubDate>Sun, 28 Feb 2021 23:21:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OMU ‚Äì ‚ÄúOne Man Unix‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 125 | Comments 25 (<a href="https://news.ycombinator.com/item?id=26298022">thread link</a>) | @marcodiego
<br/>
February 28, 2021 | http://www.pix.net/mirrored/discordia.org.uk/~steve/omu.html | <a href="https://web.archive.org/web/*/http://www.pix.net/mirrored/discordia.org.uk/~steve/omu.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<center>

</center>
<h2>
History:
</h2>
In the late 1970s and early 1980s (the good old days of "hobby computing") before
the IBM PC and its clones took over the world, various microprocessor based kits
appeared on the hobbyist market. You could build a Z80-based board with 8K of
RAM, and with its hexadecimal keypad and LED display you could run simple
programs laboriously keyed in hex.
<p>
The first generation commercial machines also appeared - usually based on
the 8080 or the Z80 or 6502. The Commodore PET was one of the early sucesses
and it, along with the Commodore 64, Sinclair's three machines (ZX80, ZX81 and
Spectrum) and the BBC Micro probably accounted for most of the infant home-computer
market in Britain.
</p><p>
I decided on a different approach. Unhappy with the concept of having to re-live
the glory-days of the
<a href="http://www.computer50.org/mark1/MM1.html">
Manchester MkI
</a>
with the hobby-boards fraternity (!), and unhappy with the straitjacketed
architectures and joke operating systems of the 1st generation home computers,
I yearned for more. Specifically, what I wanted was something
more like a Unix clone at home. I was used to V7 Unix on the PDP-11 at university
and wasn't keen to step backwards 10 years to the technology of CP/M and BASIC
programming.
<br>
<i>
I wasn't to know that eight years later a guy called Linus
Torvalds was going to think the same thoughts and do much the same things. The
big difference was that he was in the right place and the right time and 
had internet connectivity - I didn't have any of these advantages!
</i>
</p><p>
I went off and built myself a 6809 based computer with 64K of RAM, a 360K
floppy disk drive and an RS232 interface which could drive a glass-TTY.
Please remember that this was 1982. Hard disks, megabytes of RAM and other
familiar modern things were a long way off.
</p><p>
After going through the usual hard work of writing a BIOS complete with
an S-records downloader, I was in a position to write myself an operating
system. Preliminary work on OMU started in late 1983. My earliest surviving
printouts of the sources on yellowed, faded lineprinter paper show that the
bulk of the work on OMU dates from March/April/May 1984.
</p><p>
Work was not helped by the fact that I was having to write a 'C' compiler
in parallel, but certainly by mid 1984 I had a perfectly usable O/S with a
primitive shell, a port of Unix 'ed' for an editor, and with 'fsck' and other
such tools available to repair the filestore disks when they got damaged by
miswrites from the rather dodgy floppy-disk hardware. I remember taking
the machine home over Christmas 1984 and typing up several reports using it
on the kitchen table.
</p><p>
<table>
<tbody><tr>
<td>
I just found this photo of the 1984 machine amongst a box of slides taken
over that Christmas. It appears to be the only photo of the machine I ever
took at the time.
<p>
At this point in its evolution, the hardware was mostly on one double
eurocard, with a floppy-disk interface piggybacked onto it. The floppy-disk
drive is in the metal box at front, and the bigger metal box at the RHS
of the PCBs is the power-supply.
</p></td>
<td>
<a href="http://www.pix.net/mirrored/discordia.org.uk/~steve/omu-big.jpg">
<img src="http://www.pix.net/mirrored/discordia.org.uk/~steve/omu.jpg">
</a>
</td>
</tr>
</tbody></table>
</p><h2>
Features and misfeatures list:
</h2>
<ul>
<li>
Tiny (24K) Kernel.
</li><li>
V7 Unix-compatable filestore (doesn't support triple-indirection blocks).
Not exactly critical on a floppy-disk-only system!
</li><li>
Normal Unix-style use of /dev/* files to interface to devices.
</li><li>
Mountable/dismountable filestores as expected.
</li><li>
Shell is built-in to save space, rather than run as a process.
</li><li>
tty driver is exceedingly minimal, but functional.
</li><li>
No true multitasking (see below).
</li><li>
UIDs and GIDs not implemented. They're ignored on the filestore, and the
process table doesn't bother to hold them. Any files created would be given
UID = GID = 0.
</li></ul>
<p>
The lack of an MMU and the small amount of RAM available meant that I
decided against trying to implement true multitasking. Instead (like DOS
as it happens) I came up with a scheme whereby a process could launch another
process, but would have to wait for it to complete. Clunky, but it worked
OK.
</p><p>
For your entertainment (or possibly if you're interested in the possibility
of porting my old O/S to more modern hardware like that old XT that's
gathering dust under your table) here's a downloadable copy of my
final version of the 6809 OMU as it stood in 1987:
</p><center>

</center>
<p>
In order to make any use of OMU, I had compiled up a set of utilities like
'ed' and 'mount' and 'fsck'. Sadly I don't think I can make their sources
downloadable here as they were based on the Unix V7 sources for which we had
a Bell Labs "academic use" licence at the university.
</p><p>
<strong>
<span color="#FF0000">
NEW!
</span>
</strong>
The above packages now include some utilities which I did write from scratch:
</p><ul>
<li><strong>adb</strong>
An interactive disassembler. (Doesn't debug core-dumps though, just lets
you look at code in files).
</li><li><strong>aka</strong>
("Also Known As") - finds other files hardlinked to the one mentioned on the
command-line.
</li><li><strong>chbase</strong>
Prints the number(s) given on the command-line in octal, decimal &amp; hex.
</li><li><strong>hex</strong>
Makes Motorola S-record files for sending to the 6809. Usually runs on a
host machine (a PDP-11 originally).
</li><li><strong>ida</strong>
An intelligent disassembler - shares source-code with 'adb' above.
</li><li><strong>sh</strong>
The tiny shell needed by the OMU kernel. OMU runs this as if it was the
'init' process.
</li><li><strong>sirius</strong>
An interactive disk-examination program.
</li><li><strong>unhex</strong>
A program to convert Motorola S-records into an OMU-loadable file. Usually
runs on the 6809 itself of course.
</li></ul>
Sorry, no documentation, but the source-code should be documentation enough!
<p>
I
<strong>
don't
</strong>
suggest any modern user of OMU on a 6809 tries getting GNU utilities running
with it! Bear in mind that V7 sources would compile into a smaller executable
than any modern GNU equivalents. With the 64K memory-address limitation of my
6809, this was important! The BIOS and O/S accounted for about 24K of this, so
user-programs were limited to about 40K total. I never did complete my
page-switched 256K memory system.....
</p><p>
Mind you, if you're contemplating porting to a 68000 or IBM-PC, the size
constraints will be much less of a problem.
</p><hr>
<p>
My work on OMU was pretty much unnoticed by anyone else in the world (we didn't
have an internet connection in those days), but others in the Electrical
Engineering dept at Swansea University saw the potential to port OMU to one of
several 68000 single-board-computers which began to appear in the department
from about 1984/85 onwards.
</p><p>
My colleage Terry Barnaby and I were variously involved with porting OMU
to several of these 68000 based SBCs. Terry did most of the work!
The first stage was merely to take OMU and get it to run on the new
hardware much as my 6809 version was doing already. This was accomplishe
reasonably quickly, complete with the addition of the OMU's first driver
for a hard-disk.
The much greater memory-addressing ability of the 68000 coupled with the
fact that the SBCs typically had 256K of RAM on board meant that this version
of OMU soon featured some multi-tasking capabilities (though with no MMU
available the processes had to be well-behaved).
</p><p>
For convenience, the details of the filestore layout and the system-call
interface of 68000 OMU was designed to duplicate those of the commercial 68000
V7 Unix system made by "Codata" (we had just taken delivery of two of these
units to augment the aging PDP-11).
It is I think a credit to OMU's potential that
it soon became possible to compile programs on the Codata, and run them on
OMU with no problems. Indeed, it was also possible to take system binaries
shipped with the Codata and run them on OMU too - an easy way to get 'vi'
and other state-of-the-art (!) software on OMU without having to dig out the
sources and recompile!
</p><center>

</center>
<p>
Terry Barnaby and another of his colleages Tim Ingersoll then made some
fundamental changes to the message-handling abilities of the 68000 OMU port to
make it suitable for Real-Time signal processing and control applications.
This was after all what the two of them really
wanted as part of their Ph.D projects...! In 1988 they finished their
projects, wrote up and left. Part of their legacy was the RTOS version of OMU,
and I managed to salvage a set of sources for that too:
</p><center>

</center>
<p>
If any reader of these pages feels suitably daring they may be able to
beat me to the target of porting OMU (probably working from Terry's and my
initial 68000 version above) to the IBM PC. I consider that there really is no
point in aiming for the 386 processor machines onwards as Linux already does
everything you could hope for on that class of machines.
</p><p>
It does however seem that there is mileage in starting with the boot-loader
that comes with
<a href="http://metalab.unc.edu/pub/micro/pc-stuff/freedos/">
FreeDOS
</a>,
and getting OMU to run on 8086/80286 machines of which there must be
<strong>
loads
</strong>
lying around virtually unwanted these days.
</p><p>
If you do decide to try such a thing, then I wish you the best of luck and
I'll offer any email help I can. My email address is in the README file
included with the any of the sets of downloadable sources.
</p><h2>
Acknowledgements:
</h2>
My thanks go to Terry and Tim whose work in enhancing OMU is credited here
and really should have been reflected in a name-change from OMU back in the
Eighties! (I never did get it straight in my mind as to whether the "one man"
mentioned in the title were there to signify the number of authors or
the number of simultaneous users. Either way, neither was very relevant once
as the software started its modest spread in the department.)
<p>
My thanks also go to Alan Cox (he of Linux networking and kernel hacking fame)
without whose prodding this page might never have been written.
</p><center>
<a href="http://www.pix.net/mirrored/discordia.org.uk/~steve/steve.html">
Home
</a>
</center>
<hr>
<p>
Copyright (c) 1999, Steve Hosgood


</p></div>]]>
            </description>
            <link>http://www.pix.net/mirrored/discordia.org.uk/~steve/omu.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26298022</guid>
            <pubDate>Sun, 28 Feb 2021 23:15:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúTungsten Fabric‚Äù: open-source network virtualization]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26297724">thread link</a>) | @autoditype
<br/>
February 28, 2021 | https://tungstenfabric.github.io/website/ | <a href="https://web.archive.org/web/*/https://tungstenfabric.github.io/website/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
      <section id="main_content">
        <p><img src="https://github.com/tungstenfabric/website/raw/master/TungstenFabric_Gradient_RGB-03.png" height="75" alt="Tungsten Logo Gradient"></p>

<hr>

<p>Tungsten Fabric is an open source network virtualization solution for
providing connectivity and security for virtual, containerized or
bare-metal workloads.</p>

<p>Tungsten Fabric supports integrations with the following orchestrators:</p>
<div><div><pre><code>Openstack
Kubernetes
Openshift
vCenter
BYOO [Bring your own orchestrator]
</code></pre></div></div>

<p>Tungsten Fabric is a part of the <a href="https://www.lfnetworking.org/">Linux Foundation Networking Fund</a>, a project of the <a href="http://linuxfoundation.org/">Linux Foundation</a>.</p>

<hr>

<h2 id="start-using-tungsten-fabric">Start using Tungsten Fabric</h2>
<p><a href="https://tungstenfabric.github.io/website/Tungsten-Fabric-15-minute-deployment-with-k8s-on-AWS.html">Deploy Tungsten Fabric in 15 minutes on AWS with Kubernetes</a></p>

<p><a href="https://tungstenfabric.github.io/website/Tungsten-Fabric-Centos-one-line-install-on-k8s.html">Deploy Tungsten Fabric on Kubernetes in 1-step command - Centos</a></p>

<p><a href="https://tungstenfabric.github.io/website/Tungsten-Fabric-Ubuntu-one-line-install-on-k8s.html">Deploy Tungsten Fabric on Kubernetes in 1-step command - Ubuntu</a></p>

<p><a href="https://github.com/Juniper/contrail-ansible-deployer/wiki/Contrail-with-Openstack-Kolla">Deploy Tungsten Fabric On-Prem with Openstack</a></p>

<p><a href="https://tungstenfabric.github.io/website/Tungsten-Fabric-Architecture.html">Tungsten Fabric Detailed Architecture Document</a></p>

<p><a href="https://tungstenfabric.github.io/website/L10N/Tungsten-Fabric-Architecture-CN.html">Tungsten Fabric Detailed Architecture Document (Simplified Chinese)</a></p>

<h2 id="becoming-a-contributor">Becoming a contributor</h2>

<p>Whether you want to fix a typo in comments or introduce a brand new feature,
there are a few steps which make the process smoother:</p>

<ul>
  <li>
    <p>Create a <a href="https://identity.linuxfoundation.org/">Linux Foundation ID</a>, if you don‚Äôt have one yet. You‚Äôll need this to subscribe to the mailing lists and to access the bugs and blueprints.</p>
  </li>
  <li>
    <p>Subscribe to the <a href="https://lists.tungsten.io/g/dev">dev@lists.tungsten.io</a> mailing list. If you wish, there are also <a href="https://lists.tungsten.io/">several other mailing lists</a> you can join as well.</p>
  </li>
  <li>
    <p>The wiki currently contains legal and technical docs, event decks and similar resources to boost your
understanding of Tungsten Fabric. This material will eventually be moving to
<a href="https://wiki.tungsten.io/">the wiki</a> or Git repositories.</p>
  </li>
  <li>
    <p><a href="https://join.slack.com/t/tungstenfabric/shared_invite/enQtMzM0MjMyMDIzMzk3LTZmY2FmY2JlZmRjN2YxMzgyOTNkNDZiNTRiYWU0NTRmNzI3N2RjMDIwY2UxZDlkODgzZDE0YzQ3MTlhNTg0N2I">Join Slack</a>. Post your questions to relevant channels, don‚Äôt abuse @here,
get help and help others. The mailing list works best for long-running
discussions; Slack is great for ad-hoc conversations.</p>
  </li>
  <li>
    <p>Before you push anything, you‚Äôll need to sign a Contributor License Agreement
or CLA: either Individual CLA (ICLA) if you are an independent contributor, or
Corporate CLA (CCLA). We suggest you sign a CCLA if you are employed at a company
which pays you for your Tungsten Fabric-related work. CCLA also simplifies things
if your teammates plan to contribute as well. Both ICLA and CCLA are legal documents.
Please read them carefully. It‚Äôs usually smart to run the document past your
company‚Äôs legal department before signing and submitting it, if only to verify
that your contribution will be within your company‚Äôs policy. You can find all
ICLA/CCLA documents in the <a href="https://wiki.tungsten.io/display/TUN/Contributor+License+Agreement">Tungsten Fabric CLA Wiki</a>.</p>
  </li>
  <li>
    <p>If you‚Äôve found a bug, <a href="https://jira.tungsten.io/projects/TFB/issues/TFB-15?filter=allopenissues">file a bug report</a> against the respective release in
Jira. Be sure to describe both expected and actual behavior. You‚Äôll need
the bug ID later, so please do this even if you feel the change is trivial.</p>
  </li>
  <li>If you plan to develop a new feature, you must create or provide three things:
    <ul>
      <li><a href="https://jira.tungsten.io/projects/TFP/issues/TFP-6?filter=allopenissues">A blueprint</a>. A blueprint is a short piece of text describing which feature do you propose, why it is good to have it in Tungsten Fabric, and who will be developing it. Blueprints are very important as they are used to plan future releases of Tungsten Fabric.</li>
      <li><a href="https://github.com/Juniper/contrail-specs">A detailed technical spec</a>. Each blueprint should link to a more detailed technical specification document. These specifications must be submitted to the <a href="https://github.com/Juniper/contrail-specs">contrail-specs</a> GitHub repository. They are not stored or tracked in Jira.</li>
      <li><a href="https://jira.tungsten.io/projects/TFB/issues/TFB-15?filter=allopenissues">A Jira bug ticket</a>. While the blueprint briefly describes the work that will be done, the ticket is where the work actually happens (commits get linked to the ticket).</li>
      <li>Here is <a href="https://jira.tungsten.io/browse/TFP-13">an example of a complete Jira blueprint</a>.</li>
    </ul>
  </li>
  <li>Although contrail-specs and other Tungsten Fabric repositories are hosted on
<a href="http://github.com/tungstenfabric">GitHub</a>, they are managed with Gerrit. Please don‚Äôt send Pull Requests to the
GitHub repositories, and go to <a href="https://review.opencontrail.org/">https://review.opencontrail.org</a> instead.
Blueprint specs are submitted this way as well.</li>
  <li>
    <p>Note that Tungsten Fabric is currently migrating from Juniper owned <a href="https://review.opencontrail.org/">https://review.opencontrail.org</a> to [https://github.com/tungstenfabric/] email discuss@lists.tungsten.io for the latest information.</p>
  </li>
  <li>After getting Gerrit access as described below, clone the specs repository
with the command:
<code>git clone https://review.opencontrail.org/Juniper/contrail-specs</code>
and install the <a href="https://docs.openstack.org/infra/git-review/">git-review extension</a> which will allow you to submit specs as
well as code changes. In order to write a spec, start by copying the template
<code>blueprint_template.md</code> to a meaningful name in the appropriate subdirectory
for the release that you would like to target.</li>
</ul>

<p>With all of these in place, you are now ready to submit your specs and code to
Tungsten Fabric! How to write these specs and code is a different story though,
but we hope the links in the next section will help you to get started. You may
also want to consult a more detailed how-to available <a href="https://github.com/Juniper/contrail-community-docs/blob/master/Contributor/GettingStarted/getting-started-with-opencontrail-development.md">here</a>, in the
contrail-community-docs repo. And of course, feel free to ask questions on the
mailing list and in Slack channels!</p>

<h2 id="start-developing-tungsten-fabric">Start developing Tungsten Fabric</h2>

<p><a href="https://github.com/Juniper/contrail-dev-env">Build Tungsten Fabric</a></p>

<p><a href="https://github.com/Juniper/contrail-ansible-deployer/wiki/Debugging-contrail-code-in-contrail-microservices">Debug Tungsten Fabric</a></p>

<h3 id="development-timeline">Development Timeline</h3>

<p>NOTE: The columns and dates below are subject to change. An effort is still
underway to reconcile Tungsten Fabric processes and previously established
Juniper practices with respect to Contrail development timelines.</p>

<table>
  <thead>
    <tr>
      <th>Release</th>
      <th>Blueprint Due</th>
      <th>Specification Due</th>
      <th>Dev Complete</th>
      <th>GA Release</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>5.0</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>2018-04-23</td>
    </tr>
    <tr>
      <td>5.0.1</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>2018-07-16</td>
    </tr>
    <tr>
      <td>5.1</td>
      <td>2018-07-15</td>
      <td>2018-08-22</td>
      <td>TBD</td>
      <td>Q1 2019</td>
    </tr>
  </tbody>
</table>

<h4 id="column-meanings">Column Meanings</h4>
<ul>
  <li>Release: The numeric identifier of the release</li>
  <li>Blueprint Due: Tungsten Fabric currently uses Jira, so the blueprint
due here refers to the <a href="https://jira.tungsten.io/projects/TFP/issues/TFP-6?filter=allopenissues">Jira Blueprint</a> which will be reviewed by the TSC for strategic alignment and release planning.</li>
  <li>Specification Due: The specification or ‚Äúspec‚Äù is design document with
section headings that should be filled in, or at least though about and decided
to be non-applicable. Specs should be submitted as described earlier in this
document.</li>
  <li>Dev Complete: This column may be considered synonymous with ‚Äúfeature freeze‚Äù
and is intended to mark the transition from ‚Äúnew development‚Äù to ‚Äútesting,
debugging and making production-ready‚Äù.</li>
  <li>GA Release: This column is the target release date. Historically Contrail has
usually missed release dates in order to finish incomplete features. Tungsten
Fabric will attempt to move to a time based release model, but this is still
under discussion.</li>
</ul>


      </section>
    </div></div>]]>
            </description>
            <link>https://tungstenfabric.github.io/website/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297724</guid>
            <pubDate>Sun, 28 Feb 2021 22:30:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[China and Huawei. The UK Gets a Lesson in Go]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26297524">thread link</a>) | @nickdothutton
<br/>
February 28, 2021 | https://blog.eutopian.io/huawei-5g-the-uk-gets-a-lesson-in-go/ | <a href="https://web.archive.org/web/*/https://blog.eutopian.io/huawei-5g-the-uk-gets-a-lesson-in-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">




  <article>
    

    <section>




<p>4300 words, 14 minutes.</p>

<blockquote>
<p>This post was circulated privately in April 2020. Three months later the government announced that <a href="https://web.archive.org/web/20201101124331/https://www.gov.uk/government/news/huawei-to-be-removed-from-uk-5g-networks-by-2027">Huawei 5G equipment will be removed from the UK by 2027</a>, a reversal of their previous position. I‚Äôve updated the timeline with that development. Otherwise, the text is almost unchanged from the original. Keep that in mind. It follows my <a href="https://blog.eutopian.io/huawei-5g/">July 2019</a> post on the consideration the UK and its allies are giving to Huawei as a supplier of 5G mobile equipment. If you didn‚Äôt read that, now is a good time. - Nick Hutton, 29th November 2020.</p>
</blockquote>

<p><img src="https://blog.eutopian.io/images/go-players.jpg" alt="Chinese Playing Go">
</p><center>
Chinese men playing Go. Ming Dynasty (1368‚Äì1644). Artist unknown.
</center>

<p><em>4000 years ago the Chinese invented ‚ÄúGo‚Äù. Unlike Indo-European Chess, Go takes longer to play and uses a larger board. In Go, the goal is not to confront your opponent directly as one does in Chess. The winning system in Go is to surround them gradually and occupy their territory.</em></p>

<h3 id="current-events">Current Events</h3>

<p>In the nine months since my last post, the UK elected a Prime Minister, formed a new government, resiled from the European Union, and fought a global pandemic. However, we‚Äôve struggled to reach a consensus on whether or not we should buy 5G network equipment from Huawei, a designated <a href="https://www.ncsc.gov.uk/guidance/ncsc-advice-on-the-use-of-equipment-from-high-risk-vendors-in-uk-telecoms-networks#section_5">High-Risk Vendor</a>. Here‚Äôs a summary of events since my last post:</p>

<ul>
<li>The government announced Huawei can supply up to 35% of edge (non-core) equipment to Mobile Network Operators.<sup id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup></li>
<li>NCSC‚Äôs Technical Director, Dr Ian Levy lamented the lack of 5G suppliers, endorsed the Edge vs Core distinction for improving supplier diversity, and endorsed technical measures as an effective strategy for mitigating the security risks.<sup id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup></li>
<li>USA, Australia, and New Zealand restated a commitment to ban Huawei from national mobile networks. Canada was ‚Äústudying the British decision (to permit Huawei)‚Äù.<sup id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup></li>
<li>The EU released a toolbox for 5G to ‚Äúidentify a possible common set of measures which are able to mitigate the main cybersecurity risks of 5G networks.‚Äù<sup id="fnref:4"><a rel="footnote" href="#fn:4">4</a></sup></li>
<li>Parliament debated the security implications of the ‚Äúup to 35%‚Äù decision.<sup id="fnref:5"><a rel="footnote" href="#fn:5">5</a></sup></li>
<li>I wrote this post and circulated it privately among interested parties.</li>
<li>A Commons Defence sub Committee was convened to inquire into the security of the UK 5G networks.<sup id="fnref:6"><a rel="footnote" href="#fn:6">6</a></sup></li>
<li>MPs attempted unsuccessfully to have High-Risk Vendors excluded from 5G networks.<sup id="fnref:7"><a rel="footnote" href="#fn:7">7</a></sup></li>
<li>Huawei presented the ITU with a vision of an Internet where nation-states are the locus of control.<sup id="fnref:8"><a rel="footnote" href="#fn:8">8</a></sup></li>
<li>The US began requiring a license for the export of certain technologies that help foreign manufacturers produce semiconductors which are then sold to Huawei.<sup id="fnref:9"><a rel="footnote" href="#fn:9">9</a></sup></li>
<li>The Prime Minister instructed officials to draw up plans to reduce Huawei‚Äôs involvement in UK 5G to zero.<sup id="fnref:10"><a rel="footnote" href="#fn:10">10</a></sup></li>
<li>China‚Äôs UK ambassador said abandoning Huawei could jeopardise the UK‚Äôs new nuclear power plants and high-speed rail.<sup id="fnref:11"><a rel="footnote" href="#fn:11">11</a></sup></li>
<li>The government announced a ban on buying new Huawei 5G equipment after 2020 and ordered its removal by 2027.<sup id="fnref:12"><a rel="footnote" href="#fn:12">12</a></sup></li>
<li>NCSC‚Äôs Dr Levy blogged again, about how ‚Äúeverything had changed‚Äù. Huawei was out.<sup id="fnref:13"><a rel="footnote" href="#fn:13">13</a></sup></li>
<li>TikTok, the popular Chinese owned social media company announced it would scrap plans for a UK HQ.<sup id="fnref:14"><a rel="footnote" href="#fn:14">14</a></sup></li>
<li>Installation of new Huawei 5G equipment is to be prohibited after September 2021, earlier than anticipated.<sup id="fnref:15"><a rel="footnote" href="#fn:15">15</a></sup></li>
<li>As of 29th November 2020, UK network operators continued to buy and install Huawei equipment and contend that it will save them hundreds of millions of pounds compared to other vendors.</li>
</ul>

<p>I‚Äôm going to talk about the UK‚Äôs strategy for dealing with High-Risk Vendors. First in general terms and then specifically about statements made by Dr Levy about Huawei before the UK‚Äôs eventual about-face. I‚Äôll focus on the technical aspects of risk mitigation and in so doing move this discussion from the abstract to the concrete. Finally, I‚Äôll attempt to place the UK‚Äôs strategy within the wider context of future UK/China relations.</p>

<blockquote>
<p>Why after all this time are we still talking about Huawei?</p>
</blockquote>

<h3 id="man-in-the-vendor">Man In The Vendor</h3>

<p><a href="https://www.ncsc.gov.uk/collection/supply-chain-security">Supply Chain Risk</a> or ‚ÄúMan In The Vendor‚Äù (MiTV) as I call it, is one of Cyber Security‚Äôs <a href="https://en.wikipedia.org/wiki/Wicked_problem"><em>wicked problems</em></a>. Wickedness isn‚Äôt about difficulty. Wicked problems are different because traditional processes can‚Äôt resolve them satisfactorily. They have countless causes or factors, are hard to describe, and don‚Äôt have a right answer. I use the term MiTV because ‚ÄúSupply Chain Risk‚Äù sounds like something you could dilute or diversify away. It sounds like something you could outsource or insure against. MiTV sounds like what it is. There‚Äôs a man. He‚Äôs in the vendor. He has something to gain from being there.</p>

<blockquote>
<p>MiTV is hard to detect and counter in enterprise environments and <em>very hard</em> within mobile network operators. By definition, a network operator‚Äôs business is the shared use of that hardware and software. Different customer‚Äôs traffic, management traffic, security-critical commands and data, all flowing through the same chassis, circuit boards, processors, and memory. You trust the system to keep all this separate. When you have a MiTV, the system lies to you. - <a href="https://blog.eutopian.io/huawei-5g/">‚ÄúThe Eutopian. 29th July 2019‚Äù</a>.</p>
</blockquote>

<h3 id="mitv-in-practice">MiTV In Practice</h3>

<p>Any vendor can suffer a MiTV. Most incidents go unreported. How does this man get in the vendor and what does he do? No need for abstract threats. We have real cases. We don‚Äôt even have to put ourselves in the mind of a foreign adversary.</p>

<ol>
<li>Vendors are <a href="https://en.wikipedia.org/wiki/Dual_EC_DRBG">pressured</a> by governments to weaken their security.</li>
<li>Supply chains are <a href="https://web.archive.org/web/20200421225552/https://arstechnica.com/tech-policy/2014/05/photos-of-an-nsa-upgrade-factory-show-cisco-router-getting-implant/">compromised</a> and hardware or software tampered with.</li>
<li>Vendor operations are <a href="https://theintercept.com/2015/02/19/great-sim-heist/">hacked</a>.</li>
<li>Sometimes the man isn‚Äôt just in the vendor, he <a href="https://web.archive.org/web/20200512022950/https://www.srf.ch/news/schweiz/geheimdienstaffaere-cryptoleaks-weltweite-spionage-operation-mit-schweizer-firma-aufgedeckt">owns it</a>.</li>
<li>Infiltration can be so <a href="https://web.archive.org/web/20200421033936/https://krebsonsecurity.com/2020/02/hackers-were-inside-citrix-for-five-months/">deep</a> that the man might as well be writing the vendor‚Äôs product.</li>
<li>Sometimes the man <em>is</em> <a href="https://web.archive.org/web/20200530081851/https://www.wired.com/2015/12/researchers-solve-the-juniper-mystery-and-they-say-its-partially-the-nsas-fault/">writing the vendor‚Äôs product</a>.</li>
</ol>

<p>Once a man is in the vendor he can tamper with the software, hardware, or firmware that makes up their product. He can introduce malicious code or physical components before, and sometimes after equipment enters service. Even <a href="https://web.archive.org/web/20200601080443/https://arstechnica.com/information-technology/2013/12/inside-the-nsas-leaked-catalog-of-surveillance-magic/">cables</a> can be turned against you when you can‚Äôt trust your supply chain.</p>

<p>Not only can a network operator‚Äôs equipment be made to lie to them, but it‚Äôs common for mobile network operators to outsource some of the build and management of their networks to the equipment vendor. The operator buys a package. Equipment, support, and services to keep it running. It‚Äôs convenient because expertise is hard to come by and such equipment needs frequent updates. These arrangements provide an opportunity for compromise of the network throughout its lifecycle. In these cases, the hardware or software product doesn‚Äôt need to be flawed or weakened when you buy it. It‚Äôs enough that the engineers managing it and the tools and systems they bring to that task can become vectors for exploitation or attack. Unwittingly or otherwise.</p>

<h3 id="mitv-an-adversary-s-long-term-strategy">MiTV, An Adversary‚Äôs Long Term Strategy</h3>

<p>MiTV has long-term advantages for the adversary. It‚Äôs something he can <em>invest in</em> because it pays regular dividends in the long run. It provides persistent access to information and systems in a way that‚Äôs hard to prevent, hard to detect, hard to shut down, and hard to trace back to a particular moment in time. While the adversary is in the vendor and the vendor‚Äôs product is in your network he gathers sensitive information, collects credentials, and profiles users he can then target to further his mission. Or just bides his time, knowing that he can activate his implant at a time of his choosing. It‚Äôs for this reason that such programmes are so valuable to intelligence agencies and their existence remains such a closely guarded secret, even years after they‚Äôve stopped producing operationally useful information.</p>

<p>The man in the vendor isn‚Äôt always a state or state-affiliated. However, they tend to be more patient, better funded, harder to detect, and more likely to be interested in <em>specific</em> information or a specific class of target than most. MiTV is a tactic employed by states with a tier-1 offensive cyber security capability. This means the US, UK, Russia, Israel, and of course China. This list isn‚Äôt exhaustive. My first MiTV was in the 90s and probably French. They were replacing router firmware with a modified version to gain access to a negotiating team within a large defence contractor. That said, attribution was then as it is now, <em>difficile</em>.</p>

<p>It‚Äôs these kinds of threats posed by these actors in general and (one presumes) China in particular that Dr Levy <a href="https://www.ncsc.gov.uk/blog-post/the-future-of-telecoms-in-the-uk">said in January</a> could be countered with technical measures. Measures like limiting Huawei to peripheral (non-core) parts of the network. Measures like network segmentation, anomaly detection, and integrity checking. Measures presumably implemented and operated by security teams at national mobile network operators. Three, O2, Vodafone, and EE. Companies that despite the efforts of their security teams, are hacked <a href="https://www.cybereason.com/blog/operation-soft-cell-a-worldwide-campaign-against-telecommunications-providers">regularly</a>.</p>

<p>Remember, individuals within security teams at mobile operators are drawn from the same pool of people that failed to even detect <a href="https://www.ncsc.gov.uk/news/apt10-continuing-target-uk-organisations">APT10‚Äôs</a> multi-year <a href="https://www.reuters.com/investigates/special-report/china-cyber-cloudhopper/">Cloud Hopper</a> operation.</p>

<h3 id="the-odds">The Odds</h3>

<blockquote>
<p>Cyber Security isn‚Äôt a numbers game, but <a href="https://web.archive.org/web/20190403010530/https://foreignpolicy.com/2010/03/03/chinas-hacker-army">Foreign Policy magazine</a> estimates China‚Äôs <a href="https://en.wikipedia.org/wiki/Chinese_cyberwarfare">‚Äúhacker army‚Äù</a> at between 50,000 and 100,000 people. It‚Äôs against this army that security teams at national mobile operators will be pitted. Are already pitted. Regardless of whether or not such an army is granted a strategic advantage by the presence of Huawei hardware and software. The supply chain to which they may or may not have special access.</p>
</blockquote>

<p>Installing 3rd party security solutions on top of mobile network assets (if such solutions were available, which they are not) offers no meaningful assurance against a MiTV. The first thing a MiTV does is prevent its detection by <a href="https://dl.acm.org/doi/pdf/10.1145/358198.358210">subverting any direct method of observation</a>. Detecting a MiTV is a little like trying to spot a stealth aircraft using the ‚Äúhole‚Äù in the picture where the object is, or the airflow disruption it leaves in its wake. Hard to sense directly. I‚Äôm highly critical of analogies in cyber security, so I won‚Äôt labour this one further. Suffice it to say that many MiTV operations have only been discovered because the ‚Äúman‚Äù made a mistake. A slip-up. ‚Ä¶</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.eutopian.io/huawei-5g-the-uk-gets-a-lesson-in-go/">https://blog.eutopian.io/huawei-5g-the-uk-gets-a-lesson-in-go/</a></em></p>]]>
            </description>
            <link>https://blog.eutopian.io/huawei-5g-the-uk-gets-a-lesson-in-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297524</guid>
            <pubDate>Sun, 28 Feb 2021 22:02:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HardenedBSD February 2021 Status Report]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26297430">thread link</a>) | @todsacerdoti
<br/>
February 28, 2021 | https://hardenedbsd.org/article/shawn-webb/2021-02-28/hardenedbsd-february-2021-status-report | <a href="https://web.archive.org/web/*/https://hardenedbsd.org/article/shawn-webb/2021-02-28/hardenedbsd-february-2021-status-report">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div id="page" class="page">

     <!-- /header -->

    
    <!-- Messages and Help -->
        
    <!-- Breadcrumbs -->
    
    
    <!-- Three column 3x33 Gpanel -->
    
    <div id="columns">
      <div>

        <div id="content-column">
          <div>

            
            <section id="main-content" role="main">

                                            <header id="main-content-header">

                                      
                  
                  
                </header>
                            
                              <div id="content">
                  <div id="block-system-main">  
  
  <article id="node-221" about="/article/shawn-webb/2021-02-28/hardenedbsd-february-2021-status-report" typeof="sioc:Item foaf:Document" role="article">
  
  
      
  
  <div>
    <div><div><div property="content:encoded"><p>This month was a busy one, especially for our infrastructure. We purchased and received three refurbished Dell servers and one Cavium ThunderX server. Two of the three Dell servers were deployed. One is being used for our GitLab migration[1][2]. The second one is being set up as the HardenedBSD 14-CURRENT nightly build and package build server.</p>
<p>With the ThunderX server, we now have a production-capable arm64 server. I'm hoping that we can promote arm64 as a teir 1 architecture by the end of March. Though the server is deployed, I still need to copy the build scripts over and perform is final configuration.</p>
<p>FreeBSD recently landed a W^X implementation (congrats!), but it interferes with our PaX-inspired implementation. In addition to infrastructure work, I've been looking into this. I'm only able to reproduce when building packages--when there's a heavy load on the system. I'm working on some candiate patches, but they're not ready for commit.</p>
<p>The new package build server can be reached at [3]. The Tor onion service address is [4].</p>
<p>The next non-hackery item on my list is to reach out to 2020 donors that donated $250 USD or more to HardenedBSD. I need to give them their tax statement in case they itemize their taxes. I also need to reach out to recent donors to see if they want their name listed on our donations page.</p>
<p>I appreciate the help and support from the community. It's because of you that this project is possible. Your donations enable me to serve you.</p>
<p>[1]: <a href="https://git.hardenedbsd.org/">https://git.hardenedbsd.org/</a><br>
[2]: <a href="https://groups.google.com/a/hardenedbsd.org/g/users/c/wZgihY3PR8E/m/gVbZydJGAQAJ">https://groups.google.com/a/hardenedbsd.org/g/users/c/wZgihY3PR8E/m/gVbZ...</a><br>
[3]: <a href="http://ci-08.md.hardenedbsd.org/">http://ci-08.md.hardenedbsd.org/</a><br>
[4]: <a href="http://t3xwovqp3hijxp2wskcg2ot5jqpwjd63uaeodsp3ltduhvpxb47aegad.onion/">http://t3xwovqp3hijxp2wskcg2ot5jqpwjd63uaeodsp3ltduhvpxb47aegad.onion/</a></p>
</div></div></div>  </div>

  
  
  <span property="dc:title" content="HardenedBSD February 2021 Status Report"></span><span property="sioc:num_replies" content="0" datatype="xsd:integer"></span></article>

  </div>                </div>
              
              <!-- Feed icons (RSS, Atom icons etc -->
              
            </section> <!-- /main-content -->

            
          </div>
        </div> <!-- /content-column -->

                
      </div>
    </div> <!-- /columns -->

    
    <!-- four-4x25 Gpanel -->
    
          
    
  </div> <!-- /page -->
</div></div>]]>
            </description>
            <link>https://hardenedbsd.org/article/shawn-webb/2021-02-28/hardenedbsd-february-2021-status-report</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297430</guid>
            <pubDate>Sun, 28 Feb 2021 21:52:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MIT with Restrictions]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26297240">thread link</a>) | @fuckthemachine
<br/>
February 28, 2021 | https://blog.yossarian.net/2020/06/03/You-may-not-use-my-projects-in-a-military-or-law-enforcement-context | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2020/06/03/You-may-not-use-my-projects-in-a-military-or-law-enforcement-context">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Jun 3, 2020</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#devblog">devblog</a>
    
  
  </p>


<p>As of yesterday and continuing into today, I will be adding the following rider
to the majority of my <a href="https://github.com/woodruffw">open-sourced projects</a>:</p>

<div><div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td><pre>The following terms additionally apply and override any above terms for
applicable parties:

You may not use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software in a military or law enforcement context,
defined as follows:

1. A military context is a professional context where the intended application
of the Software is integration or use with or by military software, tools
(software or hardware), or personnel. This includes contractors and
subcontractors as well as research affiliates of any military organization.

2. A law enforcement context is a professional context where the intended
application of the Software is integration or use with or by law enforcement
software, tools (software or hardware), or personnel. This includes
contractors and subcontractors as well as research affiliates of any law
enforcement organization.

Entities that sell or license to military or law enforcement organizations
may use the Software under the original terms, but only in contexts that do
not assist or supplement the sold or licensed product.

Students and academics who are affiliated with research institutions may use
the Software under the original terms, but only in contexts that do not assist
or supplement collaboration or affiliation with any military or law
enforcement organization.
</pre></td></tr></tbody></table></code></pre></div></div>

<p>In plain English: if you work for the military (<em>any</em> military) or law enforcement
(<em>any</em> law enforcement), you will not be allowed to use my projects in a professional
setting. You may continue to use them in a <strong>personal</strong> setting with no restrictions.</p>

<p>If you work for a company that sells or licenses to a military or law enforcement
organization, you may continue to use my projects in professional settings that
are <em>not</em> connected to the settings in which you sell or license to those organizations.
Just as above, you may continue to use them under their original terms in a personal setting
with no restrictions.</p>

<p>If you are a student or academic at a research institution, you may continue to use my projects
in professional settings that are not connected to the work of your institution on
military or law enforcement contracts or programs. Just as above, you may continue to use them
under their original terms in a personal setting with no restrictions.</p>

<p>I‚Äôm not a lawyer, and I didn‚Äôt consult with one. I have no idea how enforceable this is.
You‚Äôre welcome to use it as well, provided that you understand that it could be legal nonsense.</p>

<h2 id="open-source">‚ÄúOpen source‚Äù?</h2>

<p>Like all definitions, ‚Äúopen source‚Äù is a convention. We get to choose what we make of it<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p>

<p>I‚Äôm okay with calling these terms ‚Äúpermissive‚Äù rather than ‚Äúopen,‚Äù but I‚Äôll leave that
up to others to settle.</p>

<h2 id="what-about">What about‚Ä¶?</h2>

<p>I am painfully aware of the fact that millions of people are employed by the defense and law
enforcement industries, either directly, indirectly, or by proxy. I count myself as one of them.</p>

<p>I am aware that defense and law enforcement are functionally middle-class job programs and
are populated primarily by disaffected and myopic, not malicious, individuals. I realize
that these industries are frequently highly specialized and that individuals in these industries
may feel like they have no other recourse for their livelihoods.</p>

<p>I am also aware that I am a small fry. My (personal) projects are insignificant within the
greater pantheon of open source. I will continue to contribute to other projects under
their terms, advocating for modification of those terms when I believe it to be appropriate.</p>

<p>I plan to add a badge
<a href="https://raster.shields.io/badge/license-MIT%20with%20restrictions-green.png">like this</a> to projects
that have been relicensed. My intent is to <strong>not</strong> sandbag users with new terms.</p>

<p>I act in spite of all of these things. I believe that I have a moral obligation to do so.
I believe that it is the <em>least</em> I can do, in the context of my hobby and passion. I will do more.</p>

<p>I‚Äôm happy to discuss it with you, reader. My contact information is
<a href="https://yossarian.net/">on my site</a>.</p>

<hr>




<hr>




  


  





</div>]]>
            </description>
            <link>https://blog.yossarian.net/2020/06/03/You-may-not-use-my-projects-in-a-military-or-law-enforcement-context</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297240</guid>
            <pubDate>Sun, 28 Feb 2021 21:29:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Global Associative Arrays in PostgreSQL]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26297204">thread link</a>) | @avivallssa
<br/>
February 28, 2021 | https://www.migops.com/blog/2021/02/28/handling-global-associative-arrays-in-postgresql/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/28/handling-global-associative-arrays-in-postgresql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section data-id="664a6773" data-element_type="section">
						<div>
					<div data-id="69dd5814" data-element_type="column">
			<div>
								<div data-id="768afe71" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>While migrating from Oracle to PostgreSQL, most of the developers ask about the options available in Handling Global associative arrays in PostgreSQL. It might get challenging if the variables need to be accessible in the Exception block. To avoid developers from finding it difficult while performing conversions of PL/SQL from Oracle to PostgreSQL, we are writing this blog post to demonstrate the workarounds available with not much of additional programming effort. <img loading="lazy" src="https://www.migops.com/blog/wp-content/uploads/2021/02/Word-Art.jpeg" alt="" width="500" height="343"></p>
<p>By the way, the fact to note after reading this blog post is that, several features you want to observe in PostgreSQL during migrations or Code conversions are available without the need of an additional Enterprise license with PostgreSQL (which could create a vendor lock-in).</p>

<p>Ask us about possibilities with Community PostgreSQL (Open Source) before switching to an Enterprise licensing. üôÇ</p>

<p><b>What is an Associative Array ?</b></p>
<p>Before getting to the workarounds, let us understand what is an associative array. In programming languages, an associative array may either be called a <strong>map</strong> or a <strong>dictionary</strong>. Associative array is a collection of (key, value) pairs where a key associates to a value. This association between a key and a value may be referred to as mapping. The key can either be of a text or a numeric type that can be mapped to any value type.&nbsp;</p>
<p><b>PostgreSQL Array type</b></p>
<p>PL/pgSQL in PostgreSQL allows us to declare a variable as an ARRAY type. This ARRAY can be either a <strong>base</strong> or a <strong>custom</strong> type. For example, if we want to store a list of <strong>PINCODE</strong> values, then, we can declare the variable as <strong>v_pincode INT[]</strong>. Once we declare this variable, then, we can load all the pincode values from a table/view/function into this array.&nbsp;</p>
<p>We can also initialize the <strong>v_pincode</strong> array type with a static set of pincode values. Here, the <strong>v_pincode</strong> holds all the values and we can fetch a specific state‚Äôs pincode value, by providing an index. Which means, if we want to access the 1st state pincode, then, we can access the value using <strong>v_pincode[1]</strong>. If we want to access the pincode value of 3rd state, then, we have to pass the index value 3 using <strong>v_pincode[3]</strong>.</p>
<p>Here is a sample code to illustrate the above with an example.</p>
<pre>postgres=&gt; CREATE OR REPLACE FUNCTION process_orders() RETURNS BOOL<br>AS<br>$$<br>DECLARE<br>--initializing static pincodes<br>v_pincode INT[]=ARRAY[123456, 123457, 123458, 123459];<br>BEGIN<br>RAISE NOTICE '1st state pincode %', v_pincode[1];<br>RAISE NOTICE '3rd state pincode %', v_pincode[3];<br>RETURN true;<br>END;<br>$$ LANGUAGE PLPGSQL;<br>CREATE FUNCTION</pre>
<p>Let us execute the function created above and see the results.</p>
<pre>postgres=&gt; SELECT process_orders();<br>NOTICE: 1st state pincode 123456<br>NOTICE: 3rd state pincode 123458<br>process_orders<br>----------------<br>t<br>(1 row)</pre>
<p>We got the results as expected. However, this code has some limitations because we are unable to fetch the values based on their keys. For example, the pincodes (1st and the 3rd elements) are fetched using their Indexes. If we are able to access the same pincodes based on their keys, then, the lookup will be more powerful. So, how to approach this requirement ? Let us discuss the approach further.&nbsp;</p>
<p><b>Associating or mapping a name or a key to a value</b></p>
<p>Thanks to PostgreSQL‚Äôs rich data types such as <strong>hstore</strong> or <strong>json</strong> which can be leveraged to perform such mapping.</p>
<p>Following is a sample code using a <strong>json</strong> static object.</p>
<pre>CREATE OR REPLACE FUNCTION process_orders() RETURNS BOOL<br>AS<br>$$<br>DECLARE<br>--initializing static pincodes<br>v_pincode JSON= '{"CA": 123456, "AZ": 123457, "OH": "123458", "CO": 123459}';<br>BEGIN<br>RAISE NOTICE 'CA state pincode %', v_pincode-&gt;&gt;'CA';<br>RAISE NOTICE 'OH state pincode %', v_pincode-&gt;&gt;'OH';<br>RETURN true;<br>END;<br>$$ LANGUAGE PLPGSQL;</pre>


<p>Let us execute the above created function and see the results.</p>

<pre><code>postgres=&gt; SELECT process_orders();
NOTICE:  CA state pincode 123456
NOTICE:  OH state pincode 123458
process_orders
----------------
t
(1 row)</code></pre>

<p>Now, we are able to make the lookup using a key possible with our PL/pgSQL code. Thus, by using a json type instead of an ARRAY we can implement the concept of associative arrays.&nbsp;</p>

<p><strong>Global Associative Arrays</strong></p>

<p>The json approach demonstrated above seems to be perfect, but it does not solve the problem of global or session level associative arrays. What this means is that the same associative array cannot be accessed using another function running in the same session. This is because of the lack of global variables or global arrays.&nbsp;</p>

<p><strong>How to make Global Associate Arrays possible with PostgreSQL ?</strong></p>

<p>Following are the 5 possible solutions with some or no limitations to each approach.&nbsp;</p>

<ol>
<li><strong>Declare the same json object in the other function.</strong></li>
</ol>

<ul>
<li>Requires duplicating the same variable and the same context.&nbsp;</li>
</ul>

<ol start="2">
<li><strong>Pass the json argument as a parameter to the other function.</strong></li>
</ol>

<ul>
<li>Pass the same value across functions. However, the argument lists may become huge to manage or debug.</li>
</ul>

<ol start="3">
<li><strong>Store this object in a table and load it in the function.</strong></li>
</ol>

<ul>
<li>Storing it in a Table and accessing the elements by selecting from the Table. This can be a heavy overhead.&nbsp;</li>
</ul>

<ol start="4">
<li><strong>Use set_config() approach, which set the object at a session level, and read it from the current_setting().&nbsp;</strong></li>
</ol>

<ul>
<li>If any value is set, an Exception block cannot view the configured settings. May become challenging while performing conversions from Oracle to PostgreSQL where a good amount of logic is written in the Exception block. May be great when we are not accessing any global variables in the exception block. We will be discussing this in detail in our future blog post.&nbsp;</li>
</ul>

<ol start="5">
<li><strong>Using a supported PostgreSQL language context.&nbsp;</strong></li>
</ol>

<ul>
<li>With this approach, we should be able to access the global variables across the exception blocks and also the non exception blocks.</li>
</ul>

<p>The first 4 approaches seem to be pretty straight forward and simple with their own limitations. But the last approach about using another language‚Äôs session context is something interesting and we are discussing that further.</p>

<p><strong>Using TCL to support Global Associative Arrays</strong></p>

<p>As we all know, PostgreSQL supports many trusted procedural languages such as PLPerl, PLPython, PLTCL, PLv8 etc. All these trusted languages guarantee that the program code written in that language will not be accessing the underlying physical files. Out of all these programming languages, we will be choosing a simple, safe and a powerful language called <span><a href="https://wiki.tcl-lang.org/page/pltcl">tickle (PLTCL)</a>.</span>&nbsp;</p>

<p>TCL language does support the associative array concepts and we will be leveraging this feature in a global way. This will give more flexibility of lookup of values using keys. Let us see the following example code to see how we can make the declaration of a global variable with tickle (TCL).</p>

<p><strong>TCL instructions<br></strong>As the first step, let‚Äôs declare a global variable (namespace) using the following TCL code.</p>

<pre><code>$ tclsh
% # Here, arr_ptr is a pointer to the namespace/global variable "pincodes"
% upvar 0 ::"pincodes" arr_ptr</code></pre>

<p>Now, let‚Äôs add a pincode value to this namespace (or the global variable).</p>

<pre><code>% set arr_ptr('CA') 123456
123456</code></pre>

<p>Let us now get the value which we set in the associative array.</p>

<pre><code>% set arr_ptr('CA')
123456</code></pre>

<p>Using the simple example created above, we have seen how we can declare a global variable and store the values using TCL.</p>

<p><strong>Using PLTCL to support Global Associative Arrays in PostgreSQL.</strong></p>

<p>To achieve the functionality of global associative arrays, let us embed the same code in PLTCL as seen in the following steps.</p>
<p><strong>Step 1 :</strong> Create the PLTCL Extension</p>

<pre><code>postgres=&gt; CREATE EXTENSION pltcl;
CREATE EXTENSION</code></pre>

<p><strong>Step 2 : </strong>Create a function using PLTCL to declare the Global Associative Array and set a value.</p>

<pre><code>postgres=&gt; CREATE OR REPLACE FUNCTION pltcl_set(TEXT, TEXT, TEXT) RETURNS VOID AS $$
upvar 0 ::$1 arr_ptr
set arr_ptr($2) $3
$$ LANGUAGE PLTCL;
CREATE FUNCTION</code></pre>

<p><strong>Step 3 : </strong>Create a function using PLTCL to get the value mapped to the key.</p>

<pre><code>postgres=&gt; CREATE OR REPLACE FUNCTION pltcl_get(TEXT, TEXT) RETURNS TEXT AS $$
upvar 0 ::$1 arr_ptr
set arr_ptr($2)
$$ LANGUAGE PLTCL;
CREATE FUNCTION</code></pre>

<p><strong>Testing</strong></p>

<p>Let us perform a test using the newly created PLTCL functions.</p>

<pre><code>postgres=&gt; SELECT pltcl_set('pincodes', 'CA', '123456');
pltcl_set
-----------
(1 row)
postgres=&gt; SELECT pltcl_get('pincodes', 'CA');
pltcl_get
-----------
123456
(1 row)</code></pre>

<p>As seen in the above example, we are able to get data from the TCL context which is global. Which means, we are able to set the <strong>pincodes</strong> from one statement (using pltctl_set() ), and able to access it‚Äôs value from another statement (using pltcl_get()).&nbsp;</p>

<p><strong>Iterating over the Global Associative Arrays</strong></p>

<p>What is an array without an iterator, right? Let us leverage the same TCL code and create another function which iterates over the global array.</p>

<pre><code>postgres=&gt; CREATE OR REPLACE FUNCTION pltcl_itr(TEXT) RETURNS TABLE(key TEXT, value TEXT)
AS
$$
upvar 0 ::$1 arr_ptr
    foreach i  [array names arr_ptr] {
        return_next [list key $i value [set arr_ptr($i)]]
    }
$$ LANGUAGE PLTCL;
CREATE FUNCTION</code></pre>

<p>Now, let‚Äôs add a few more entries to `pincodes` global array and do the iteration test.</p>

<pre><code>postgres=&gt; SELECT pltcl_set('pincodes', 'AZ', '123457');
pltcl_set
-----------
(1 row)
postgres=&gt; SELECT pltcl_set('pincodes', 'OH', '123458');
pltcl_set
-----------
(1 row)
postgres=&gt; SELECT pltcl_set('pincodes', 'CO', '123459');
pltcl_set
-----------
(1 row)</code></pre>

<p>Let‚Äôs use the iterator function to get all the lists of available <strong>pincodes</strong> from the global array, as seen in the following block.</p>

<pre><code>postgres=&gt; SELECT * FROM pltcl_itr('pincodes');
key | value
-----+--------
CA  | 123456
CO  | 123459
OH  | 123458
AZ  | 123457
(4 rows)</code></pre>

<p>As seen above, this iterator is actually helping to iterate over the global associative array. We can use these values across multiple functions across the same session.&nbsp;</p>

<p><strong>Conclusion</strong></p>

<p>PostgreSQL offers a lot of flexibility in writing the code in multiple languages, which eventually enables us to inherit the power of other programming languages. As you have witnessed in this blog post, we leveraged the TCL‚Äôs features and are able to achieve the global associative arrays, which ‚Ä¶</p></div></div></div></div></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.migops.com/blog/2021/02/28/handling-global-associative-arrays-in-postgresql/">https://www.migops.com/blog/2021/02/28/handling-global-associative-arrays-in-postgresql/</a></em></p>]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/28/handling-global-associative-arrays-in-postgresql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297204</guid>
            <pubDate>Sun, 28 Feb 2021 21:25:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exponential exploit: Why AppSec is hard]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26297016">thread link</a>) | @beny23
<br/>
February 28, 2021 | https://beny23.github.io/posts/one_plus_one_is_crash/ | <a href="https://web.archive.org/web/*/https://beny23.github.io/posts/one_plus_one_is_crash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In this blog post, I would like to explore how missing input validation even in a trivial service
can leave parts of server infrastructure crumbling.</p><p>In my opinion, this why securing applications (AppSec) is very difficult. Put supply chain attacks, unpatched systems
and misconfiguring services to one side for a minute and consider that a lot of software is written by
developers who do not necessarily consider all the edge cases or implications of what can go
wrong even in the simplest of pieces of code (or just copy/paste from Stackoverflow).<br>Unfortunately, vulnerable software in all sectors can get rushed out due to deadlines or inexperience
and it is my opinion that poor coding practices in applications provide an interesting attack vector
everywhere.</p><p>Allow me to demonstrate: Given the following (admittedly oversimplified) problem statement:</p><blockquote><p>Write a microservice that increments a decimal number by one</p></blockquote><p>Keeping it simple and very generic, I came up with the following Spring Boot application:</p><div><div><table><tbody><tr><td><pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span></code></pre></td><td><pre><code data-lang="java">@RestController
<span>public</span> <span>class</span> <span>DemoController</span> <span>{</span>

    @PostMapping<span>(</span><span>"/increment"</span><span>)</span>
    @ResponseBody
    DemoModel <span>increment</span><span>(</span>@RequestBody DemoModel model<span>)</span> <span>{</span>
        DemoModel result <span>=</span> <span>new</span> DemoModel<span>();</span>
        result<span>.</span><span>setNumber</span><span>(</span>model<span>.</span><span>getNumber</span><span>().</span><span>add</span><span>(</span>BigDecimal<span>.</span><span>ONE</span><span>));</span>
        <span>return</span> result<span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></td></tr></tbody></table></div></div><p>My model looked like so</p><div><div><table><tbody><tr><td><pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span></code></pre></td><td><pre><code data-lang="java"><span>public</span> <span>class</span> <span>DemoModel</span> <span>{</span>
    <span>private</span> BigDecimal number<span>;</span>

    <span>public</span> BigDecimal <span>getNumber</span><span>()</span> <span>{</span>
        <span>return</span> number<span>;</span>
    <span>}</span>

    <span>public</span> <span>void</span> <span>setNumber</span><span>(</span>BigDecimal number<span>)</span> <span>{</span>
        <span>this</span><span>.</span><span>number</span> <span>=</span> number<span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></td></tr></tbody></table></div></div><p>A reasonable implementation. I even used <code>BigDecimal</code> so that I don‚Äôt have rounding/precision
issues, and the service is pretty trivial:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td><td><pre><code data-lang="bash">$ curl http://localhost:8080/increment <span>\
</span><span></span>  -d <span>'{"number":1}'</span> <span>\
</span><span></span>  -H <span>"Content-Type: application/json"</span>
<span>{</span><span>"number"</span>:2<span>}</span>
</code></pre></td></tr></tbody></table></div></div><p>As it turns out - quite a bit.</p><p>Here is a view of what the CPU did on my mac after hitting the service with a few requests over
a 10-minute period:</p><p><img src="https://beny23.github.io/images/one_plus_one_is_crash_cpu_stats.png" alt=""></p><p>And here‚Äôs the memory:</p><p><img src="https://beny23.github.io/images/one_plus_one_is_crash_memory_stats.png" alt=""></p><p>And what was the culprit. Not a vulnerability in Sprint Boot, not thousands of requests
(as a matter of fact there were just 4 requests, you can see it in the CPU graph, each time another request
came in, another CPU was used up 100%).</p><p>The requests were just:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span><span>2
</span><span>3
</span></code></pre></td><td><pre><code data-lang="bash">curl http://localhost:8080/increment <span>\
</span><span></span>  -d <span>'{"number":9999999e99999999}'</span> <span>\
</span><span></span>  -H <span>"Content-Type: application/json"</span> &gt;/dev/null
</code></pre></td></tr></tbody></table></div></div><p>The number <code>9999999e99999999</code> has near enough <code>10,000,000</code> digits. If I wanted to send such
a number without the scientific notation (the <code>e</code> in the number), I‚Äôd have to send a payload that‚Äôs
many 10 megabytes big. That would get noticed very quickly. However, the payload is miniscule. And when java
is calculating this number (the plus 1 operation), it takes a long time because it tries to make an exact calculation.
I didn‚Äôt wait around to find out how long the CPU was busy. I just killed the
program after 10 minutes.</p><p>Imagine how much havoc such a vulnerability can create in a cloud setting, where instances sit in
Auto Scaling Groups. Imagine 100 such requests hit your instances. Every time we get 100% CPU, we
spin up another instance, that‚Äôs expensive. And as the processing also uses up quite a bit of memory,
it‚Äôs very likely that other requests don‚Äôt get a look-in.</p><p>This makes a very effective Denial of Service attack. Sure, when identified it is easy enough to fix by
not allowing the scientific notation understood by <code>BigDecimal</code> as input to JSON, but that‚Äôs not provided
as standard. How can you be sure that your codebase isn‚Äôt vulnerable?</p><p>In my opinion this is where development and testing teams need to have the experience in spotting these
potential issues. The above is just one example of how a seemingly innocuous piece of code can be abused.</p><p>How would your code fare against the <a href="https://github.com/minimaxir/big-list-of-naughty-strings">Big List of Naughty Strings</a>?</p><ul></ul></div></div>]]>
            </description>
            <link>https://beny23.github.io/posts/one_plus_one_is_crash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26297016</guid>
            <pubDate>Sun, 28 Feb 2021 21:00:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Little League wants all your information]]>
            </title>
            <description>
<![CDATA[
Score 335 | Comments 160 (<a href="https://news.ycombinator.com/item?id=26296845">thread link</a>) | @ColinWright
<br/>
February 28, 2021 | https://honeypot.net/post/little-league-wants-all-your-information/ | <a href="https://web.archive.org/web/*/https://honeypot.net/post/little-league-wants-all-your-information/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
            <div>
                <h3>Little League wants all your information</h3>
                
                    <p><em></em>
                        <span> Sun, Feb 28, 2021 
                                           </span>
                        <em></em>
                        <span>2-minute read</span>
                    </p>
                
            </div>

            <p>To sign kids up for our city‚Äôs Little League baseball program, you have to prove that they‚Äôre residents, which is reasonable. What‚Äôs not reasonable is the amount of information you have to provide on the registration website. You have to upload scans of a document in each of 3 categories:</p>
<blockquote>
<p><strong>Proof of Residency 1</strong>
Choose one of the following: Driver‚Äôs license, School records, Vehicle records, Employment records, Insurance documents</p>
<p><strong>Proof of Residency 2</strong>
Choose one of the following: Welfare/child care records, Federal records, State records, Local records, Support payment records, Homeowner or tenant records, Military records</p>
<p><strong>Proof of Residency 3</strong>
Choose one of the following: Voter‚Äôs registration, Utility bills, Financial records, Medical records, Internet, cable, or satellite bills</p>
</blockquote>
<p>That alone is ripe for identity theft, but couple it with their privacy policy which includes this (emphasis mine):</p>
<blockquote>
<p>Without limitation, this typically requires the use of certain personal information, including registration data, event data, and other personal information, to provide program information, <strong>special offers or services through Little League and/or its trusted sponsors, partners, or licensees</strong>, to fulfill your requests for information or products/services, to maintain a list of verified and eligible participants, to maintain a list of volunteers and provide them with the operating tools to manage leagues, or to respond to your inquiries about our programs.</p>
</blockquote>
<p>In other words, you have to upload your most private information and agree to allow them to do as they like with it, including sharing it with whomever they like for any reason they choose.</p>
<p>This is unacceptable.</p>
</div></div>]]>
            </description>
            <link>https://honeypot.net/post/little-league-wants-all-your-information/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296845</guid>
            <pubDate>Sun, 28 Feb 2021 20:38:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Demand for Software Engineers Will Stay High]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26296653">thread link</a>) | @gamma3
<br/>
February 28, 2021 | https://coding-time.co/software-engineers-demand/ | <a href="https://web.archive.org/web/*/https://coding-time.co/software-engineers-demand/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/Article"><header></header><section itemprop="articleBody"><p><span>
      <a href="https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/2cefc/demand-supply.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Classic Supply and Demand Chart" title="Classic Supply and Demand Chart" src="https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/f058b/demand-supply.png" srcset="https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/c26ae/demand-supply.png 158w,
https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/6bdcf/demand-supply.png 315w,
https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/f058b/demand-supply.png 630w,
https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/40601/demand-supply.png 945w,
https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/78612/demand-supply.png 1260w,
https://coding-time.co/static/3d51c2c03f9d59800b7e42b89ca21fa0/2cefc/demand-supply.png 1400w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span></p>
<p>It seems like everybody needs software engineers. Demand is much higher than supply. This translates to jobs with good pay and lots of options to choose from. Want a full-time job? Startup job with equity? Remote contract work with 3 months off every year? No problem!</p>
<p>When I was just beginning to learn about programming, I wondered whether there would always be a need for millions and millions of programmers.</p>
<p>After my 15 years in the industry it looks like the demand is going nowhere. Some stats from the <a href="https://www.bls.gov/ooh/computer-and-information-technology/software-developers.htm">US Department of Labor</a>:</p>
<table>
<thead>
<tr>
<th>Software Development Jobs in the US</th>
<th>Number</th>
<th>Increase</th>
</tr>
</thead>
<tbody>
<tr>
<td>In 2016</td>
<td>1,256,200</td>
<td></td>
</tr>
<tr>
<td>In 2019</td>
<td>1,469,200</td>
<td>+17%</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Job Outlook, 2019-29 is 22% (much faster than average). The average growth rate for all occupations is 4 percent.</p>
</blockquote>
<p>In the United Kingdom alone, there are now <a href="https://www.forbes.com/sites/davidprosser/2018/04/06/uk-technology-start-ups-hit-all-time-high/#5654d1415d85">10k technology startups</a>.</p>
<p>Here are my observations on why that is:</p>
<h3>1. The whole world runs on&nbsp;software</h3>
<p>This is probably obvious because the transition has been ongoing for a few generations. However, it cannot be understated. Almost every business / organisation in the world needs a website or an app, plus lots of software. At my current company with 80 employees we use more than 20 different SaaS solutions for HR, accounting, recruiting and more. Every person with internet access (which eventually will be the whole world) uses apps and websites every day, and many people use software at work. Large companies often need custom software.</p>
<h3>2. Most things get built many&nbsp;times</h3>
<p>Why is there Bing when there is Google? Why are there a thousand competing e-commerce platforms? Why are there so many messaging apps, each built from scratch by a different team? This seems like duplicated effort but it‚Äôs normal. It‚Äôs just how competition works and it is not unique to software. For example, there are many car companies, each with tens of thousands of employees designing and building very similar cars.</p>
<p>Part of the reason is software is still local. There is ‚ÄúX of Asia‚Äù for almost any X you can think of.</p>
<h3>3. Code has limited&nbsp;lifetime</h3>
<p>It might seem that once an app is built it is ‚Äúdone‚Äù. When I worked at Facebook friends asked me ‚ÄúIs there still anything to do?‚Äù However, most code is being changed constantly and most companies are constantly hiring. Each line of code has a lifetime of only a few years. Sometimes as a product gets old it is easier to throw it away and rebuild using modern technologies. I have seen this happen to custom in-house systems and public-facing websites. This is again similar to car companies constantly innovating and designing new cars.</p>
<p>From the 3 points above you can already see a clear pattern:</p>
<ul>
<li>We need more and more software</li>
<li>There are more and more software solutions to do anything</li>
<li>Each solution requires software engineers constantly</li>
</ul>
<p>But what if programming becomes easier over time? Surely we would need fewer programmers then? Read on‚Ä¶</p>
<h3>4. Code sharing didn‚Äôt&nbsp;happen</h3>
<p>In the 90s there was a dream of code sharing, where we design software components with business logic inside them and anyone will be able to reuse them like lego bricks. This didn‚Äôt work out, not even reusing business logic across projects written in Java. Across technology stacks, the story is even worse. There was COM but it was Windows-only. Yes, you can call Rust from Python but it‚Äôs not become the standard way of building software. There are many programming languages and new ones keep appearing. At my last company for example, we rewrote a part of an existing codebase from Ruby to Rust.</p>
<p>Code reuse did improve over the years thanks to package managers, GitHub and an explosion of open source libraries. Systems like npm are a huge step forward. However, we came nowhere near the dream of true code sharing. Open source libraries help a lot but not enough to significantly slow the demand for engineers.</p>
<h3>5. Tools are improving but projects are getting more&nbsp;complex</h3>
<p>Using a language with a garbage collector in a modern IDE with lots of libraries and going ‚Äúserverless‚Äù is more productive than writing C++ in 1995. Can you now hire five times fewer engineers than in 1995 for the same project? Probably. But instead, it‚Äôs more likely you hire the same number of engineers and the project will be more ambitious because customers came to expect more.</p>
<h3>6. New platforms come&nbsp;out</h3>
<p>Ten years ago it was enough to hire web developers. Now you need to hire web, Android and iOS developers. Depending on your product, you may also build Messenger bots and WeChat apps.</p>
<p>The biggest step forward here was probably the web. Suddenly you didn‚Äôt have to build a Mac, Linux, and Windows desktop apps but could just build your product in JavaScript and then it would work anywhere (minus browser incompatibilities, this got better over time). The fact web standards happened is a small miracle‚Ää‚Äî‚Ääremember <a href="https://en.wikipedia.org/wiki/Browser_wars">Browser Wars</a>? However, because of mobile, the web is now less relevant than it was 10 years ago. Today, frameworks like Unity, React Native or Flutter are trying to abstract over multiple platforms to make software development easier and cheaper.</p>
<h3>7. Extra (for fun): AI to replace software engineers?</h3>
<p>Imagine someone designs software that can replace most engineers. For example, instead of a team of 6 engineers, there would be one human ‚Äútech lead‚Äù who specifies high-level requirements and the program translates them into bug-free code.</p>
<p>No-one has a good idea when this could happen. If it happens the demand for engineers would drop immensely. But with such technology the demand for humans in other professions would likely drop too, so relative to other professions programming <em>might</em> still be in demand.</p></section><hr></article></div>]]>
            </description>
            <link>https://coding-time.co/software-engineers-demand/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296653</guid>
            <pubDate>Sun, 28 Feb 2021 20:17:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mrcal: Principled Camera Calibrations]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26296625">thread link</a>) | @dima55
<br/>
February 28, 2021 | http://notes.secretsauce.net/notes/2021/02/28_mrcal-principled-camera-calibrations.html | <a href="https://web.archive.org/web/*/http://notes.secretsauce.net/notes/2021/02/28_mrcal-principled-camera-calibrations.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>
This is a big deal.
</p>

<p>
In my day job I work with images captured by cameras, using those images to
infer something about the geometry of the scene being observed. Naturally, to
get good results you need to have a good estimate of the behavior of the lens
(the "intrinsics"), and of the relative geometry of the cameras (the
"extrinsics"; if there's more than one camera).
</p>

<p>
The usual way to do this is to perform a "calibration" procedure to compute the
intrinsics and extrinsics, and then to use the resulting "camera model" to
process the subsequent images. Wikipedia has <a href="https://en.wikipedia.org/wiki/Camera_resectioning">an article</a>. And from experience,
the most common current toolkit to do this appears to be <a href="https://docs.opencv.org/master/dc/dbb/tutorial_py_calibration.html">OpenCV</a>.
</p>

<p>
People have been doing this for a while, but for whatever reason the existing
tools <i>all</i> suck. They make basic questions like "how much data should I gather
for a calibration?" and "how good is this calibration I just computed?" and "how
different are these two models?" unanswerable.
</p>

<p>
This is clearly seen from the links above. The wikipedia article talks about
fitting a pinhole model to lenses, even though no real lenses follow this model
(telephoto lenses do somewhat; wider lenses don't at all).
</p>

<p>
And the OpenCV tutorial cheerfully says that
</p>

<pre>Re-projection error gives a good estimation of just how exact the found
parameters are. The closer the re-projection error is to zero, the more accurate
the parameters we found are.
</pre>

<p>
This statement is trivially proven false: throw away most of your calibration
data, and your reprojection error becomes very low. But we can all agree that a
calibration computed from less data is actually worse. Right?
</p>

<p>
All the various assumptions and hacks in the existing tooling are fine as long
as you don't need a whole lot of accuracy out of your results. I need a lot of
accuracy, however, so all the existing tools don't work for my applications.
</p>

<p>
So I built a new set of tools, and have been using them with great delight. I
just got the blessing to do a public release, so I'm announcing it here. The
tools are
</p>

<ul>
<li><a href="https://github.com/dkogan/mrgingham">mrgingham</a>: a chessboard corner finder. OpenCV has one, but as far as I can
tell, it doesn't work; and it is very slow to tell you that. mrgingham is
relatively quick, robust to all sorts of lens behaviors, and reports the
accuracy of its output. This is a C++ library with Python bindings, and a
commandline tool. 99% of the time the commandline tool is what I use.
</li>

<li><a href="https://github.com/dkogan/mrcal">mrcal</a>: a large toolkit to run calibrations, to manipulate images and camera
models in all sorts of ways, and to visualize stuff. This toolkit does a
<i>lot</i>. It's a C library and a Python library and a number of commandline
tools. Currently the C library exists primarily in the service of the other
two, but it's already very capable, and will become more so over time.
</li>
</ul>

<p>
mrcal does a whole lot to produce calibrations that are as good as possible, and
it will tell you just how good they are, and it includes visualization
capabilities for extensive user feedback. An overview of the capabilities of the
toolkit (with lots of pretty pictures!) is at the <a href="http://mrcal.secretsauce.net/tour.html">tour of mrcal.</a>
</p>

<p>
There's a <i>lot</i> of documentation and examples, but up to now I have been the
primary user of the tools. So I expect this to be somewhat rough when others
look at it. Bug reports and patches are welcome.
</p>

<p>
mrcal is an excellent base, but it's nowhere near "done". The documentation has
some notes about the planned features and improvements, and I'm always reachable
by email.
</p>

<p>
Let me know if you try it out!
</p>

  </div></div>]]>
            </description>
            <link>http://notes.secretsauce.net/notes/2021/02/28_mrcal-principled-camera-calibrations.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296625</guid>
            <pubDate>Sun, 28 Feb 2021 20:15:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The American-Dream-as-a-Service]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 16 (<a href="https://news.ycombinator.com/item?id=26296397">thread link</a>) | @jger15
<br/>
February 28, 2021 | https://www.thepullrequest.com/p/the-american-dream-as-a-service | <a href="https://web.archive.org/web/*/https://www.thepullrequest.com/p/the-american-dream-as-a-service">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h5>Austen Allred is the CEO and founder of Lambda School, a unique coding school that pioneered the ‚Äòincome-sharing agreement‚Äô (ISA) model, whereby students only pay if they‚Äôre hired in their field of study. Lambda came out of incubator Y Combinator, before which he lived in his two-door Honda Civic and scalped soccer tickets at Stanford Stadium to get by. Prior to Bay Area entrepreneurship, he did a two-year mission to the Ukraine where he learned Russian and knocked on lots of doors. The interview was conducted via Zoom with Austen in Southern Utah, from where he routinely tweets out enviable photography of Utah‚Äôs stunning landscape.</h5><p><strong>Your posts are some of the most uplifting things in my feed. They‚Äôre either screenshots from an internal Slack or a retweet, and it‚Äôs a Lambda student saying: I went from making $20,000 in some service job, and now I'm making $80,000/year doing something technical at (say) Cisco, and you've totally changed my life. </strong></p><p><strong>One thing you often post that I think isn‚Äôt obvious to people who don't run a socio-economic escalator is all the necessary polish and look-and-feel of being part of the bougie techie class. For example, how you have this email protocol to set up a meeting. Or that if you think you're underpaid, you go in and you say, </strong><em><strong>screw you, pay me more or I leave</strong></em><strong>. It's intriguing that you don‚Äôt only have to educate them to turn them into front end engineers, you also have to teach them the social skills around that to become that bougie techie person.</strong></p><p>That's one of the really weird things: The hiring process is not just a filter for skills, it's also a filter for class. And people don't talk about or acknowledge that. It's very clear in all these protocols that we have in tech that you and I understand, you have to learn them the hard way. I'll give you a couple of examples. When I was in sixth grade, I was selling stuff on eBay. I was just this kid trying to hustle, and I had this mentor/entrepreneur who came into high school every now and then and just talked with us. And I was like, okay, real talk! What do I need to do to be taken seriously, because nobody takes me seriously because I'm a 15-year-old kid? And he sat me down and he said: <em>We are going to start using this thing called Gmail</em>. <em>I'm going to send you an invite, and you're going to set up firstname.lastname@gmail.com, no numbers, no nonsense, nothing else, you're going to have no signature, and you're only ever going to send text emails for the rest of your life.</em> <em>That's step one</em>. He just walked me through all this really, really basic stuff. </p><p>There was this other time I was in college‚Ä¶I was hustling and trying to get into startups and there was this guy at a conference I wanted to work with, so I went up and talked to him. And I said <em>what can I do to be like you? </em>He gave me his business card and said <em>just ping me next week</em>. </p><p>I spent hours and hours and hours looking up what <em>ping me</em> meant. I couldn't find anything. So eventually I called somebody and said <em>hey, this guy said ping me. What does that mean?</em> <em>How do I ping? </em>And that person was like, <em>no, no, it‚Äôs a call or an email or anything really, just reach out to them. Doesn‚Äôt matter how.</em> <em>That's all that ping means</em>. <em>You know, like a cell tower. Ping!</em> I was like, <em>ohhhhhhhh!</em> There's so much little stuff like that. Another classic example is intros, right? Or using Google Calendar. I didn't know how to use Google Calendar until I showed up in my first job. Someone tells me, <em>I am gonna put some time on your calendar</em>. And I think: <em>Oh, I guess I have a calendar</em>. That's not obvious if you don't come from, frankly, a certain class. But all of those things are important; if you don't intro somebody the right way to a VC, they know you're a dunce, automatically. There‚Äôs nobody that sits you down and says <em>hey, you're gonna say thank you so-and-so, moving you to BCC</em>. It's not hard, but nobody ever tells you that anywhere.</p><h4>I've heard it described as ‚Äòthe bottom 1000 universities‚Äô: Assume there's some algorithm that spits out the combination of <em>is expensive</em> and <em>is ineffective</em>. There are at least 1000 universities in the US that should cease to exist. There are many universities that net do more harm than good.</h4><p><strong>There's no tech charm school that teaches you how to do all that stuff.</strong></p><p>Totally. And I'm sure there's more stuff. When one of our first students got hired at Uber, he showed up with his laptop. They tell him: <em>you're a mobile developer</em>. And he's like, <em>I can't be a mobile developer, I don't have a phone</em>. He didn't have a smartphone. So he called me freaking out: <em>What am I gonna do!? Uber wants to hire me. I don't have a smartphone.</em> I told him: <em>Uber does not care about that, Uber‚Äôs gonna have a thousand phones, that's the least of Uber‚Äôs worries. They're gonna give you a laptop too.</em> </p><p>Then he shows up to work on day one and they tell him: <em>Alright, you know, put in your bank account information here to get direct deposit.</em> He's like, <em>no just cut me a check and I‚Äôll run to the check-cashing store.</em> </p><p>The Uber people reached out to me and said: <em>We don‚Äôt know if this is going to work.</em> I was like, <em>he's a smart guy, it‚Äôs just that he doesn't have a bank account</em>. So now we set up bank accounts for every student that doesn't have a bank account. The best way I think to describe Lambda School is the American-Dream-as-a-service. </p><p><strong>Wow. That‚Äôs the corporate anthem right there.</strong></p><p>(Laughs.)</p><p><strong>There so much cultural encoding in an interview which, as you said, is just filtering for class. But‚Ä¶as these are technical people, there‚Äôs actually an objective standard of merit. </strong></p><p>There are a whole swath of white collar jobs that the interview process literally is like, <em>Hey, I'm gonna play a little verbal tennis with you and see if you can stand your ground and if you can, you get the job</em>. That's probably the average white collar job.</p><h4>That's one of the really weird things: The hiring process is not just a filter for skills, it's also a filter for class. And people don't talk about or acknowledge that. </h4><p><strong>Speaking of other jobs, do you see Lambda expanding to other fields? Is that even possible? </strong></p><p><strong>The thing that obviously aligns incentives is to look at education as a hard-nosed business proposition. I'm sure you personally care, but the reason why you care as a business owner is because you want them to get the job because otherwise you're not gonna get paid, right? You‚Äôve invested a year and a half in this person, and they can't blow it up because they don‚Äôt know about direct deposits, so you fix that. Which is good, and certainly a lot better than the business model universities have. But that model only works if there's some pretty predictable future stream of income along with pretty predictable employment demand. Can you imagine non-technical professions like trucking and nursing that have high demand and high wages? </strong></p><p>The cool thing about the incentive alignment is that we're not going to train you to be a sociologist, because it just doesn't work. A common critique of the ISA model is: <em>oh, now people aren't going to study poetry anymore.</em> And my response to that is: <em>yeah, we're not a university, we're a trade school</em>. The university has 18 million things that it does for you, and we cut cut off a tiny sliver of that, which is: we're going to help you get a better job, we're going to help you improve your state in life. That's all we do. </p><p>There are actually more high-paying jobs available than there are people to fill those roles. And that's true all over the place. I think about it as an optimization problem. You've got all this latent human potential, and it's just kind of bouncing around. Sometimes it goes to school, and it picks stuff at random to study, and you know what you know because of who you‚Äôre surrounded by.</p><p>One aspect of Lambda School that I think is underappreciated is a whole lot of people come in having no idea of what software is, having no idea that there's such a thing as a software engineer. We have people who join and think it's like, <em>I'm gonna fix printers</em>. They know that tech is a high-paying field, but they're not surrounded it. If you're in the inner city, or in a rural area, you don't know a computer programmer. </p><p>One way to think about Lambda is like fintech: You have all these transactions that are moving all over the place, but what makes it all work is a clearinghouse that moves all the money to where it needs to go. I think of Lambda as kind of an economic clearinghouse: Here's all of the untapped human potential, here's all the would-be labor, and over here‚Äôs all the jobs that need to be done. There's nothing connecting the two right now other than sheer happenstance and going to university, or maybe you hear that there's a good job over here somewhere.</p><p>But right now the situation is not: <em>I'm making $50k, here's my skill set and my interest, I want to make $90k</em>. Somebody should be able to tell you how to do that, and right now, nobody can. That‚Äôs crazy. More than half of GDP is just people working, and that's completely unoptimized. </p><p><strong>Right. Even I, who came from a middle-class background and went to the university track, it seemed like a recently poorly-managed process and I only ended up in science and technology by sheer happenstance‚Ä¶</strong></p><p>You stumbled in, yeah? I feel the same way, and the interesting thing now is, depending on which way you happen to stumble, you can end up fabulously rich or destitute based on your stumblings. </p><h4>The other broken piece is the notion that you go to school once for 10 years when you're 18, and you'll be able to ride that for the rest of your career. That‚Äôs probably false for a whole lot of people.</h4><p><strong>So this model you‚Äôre describing, where you basically connect people from one income level to another higher one via various different processes. I‚Äôm curious what other connections you can imagine existing. </strong></p><p>The way to answer that is to see where all the shortages are, where are people trying to hire and those people don‚Äôt exist? Tech is an obvious one, but it‚Äôs all over the place in ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.thepullrequest.com/p/the-american-dream-as-a-service">https://www.thepullrequest.com/p/the-american-dream-as-a-service</a></em></p>]]>
            </description>
            <link>https://www.thepullrequest.com/p/the-american-dream-as-a-service</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296397</guid>
            <pubDate>Sun, 28 Feb 2021 19:46:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I cut GTA Online loading times by 70%]]>
            </title>
            <description>
<![CDATA[
Score 2818 | Comments 481 (<a href="https://news.ycombinator.com/item?id=26296339">thread link</a>) | @kuroguro
<br/>
February 28, 2021 | https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/ | <a href="https://web.archive.org/web/*/https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>GTA Online. <a target="_blank" rel="noopener" href="https://www.reddit.com/r/gtaonline/comments/9vgo0g/how_the_fuck_are_20_minute_load_times_acceptable/">Infamous</a> for its slow loading times. Having picked up the game again to finish some of the newer heists I was <em>shocked</em> (/s) to discover that it still loads just as slow as the day it was released 7 years ago.</p>
<p>It was time. Time to get to the bottom of this.</p>
<h2 id="Recon"><a href="#Recon" title="Recon"></a>Recon</h2><p>First I wanted to check if someone had already solved this problem. Most of the results I found pointed towards anecdata about <a target="_blank" rel="noopener" href="https://metro.co.uk/2017/11/01/why-does-gta-v-take-so-long-to-load-7041927/">how the game is so sophisticated</a> that it needs to load so long, stories on how the <a target="_blank" rel="noopener" href="https://steamcommunity.com/app/271590/discussions/0/217690940938819317/">p2p network architecture</a> is rubbish (not saying that it isn‚Äôt), some elaborate ways of <a target="_blank" rel="noopener" href="https://gtaforums.com/topic/908000-fastest-way-to-load-into-gtao-single-player-first-or-straight-in/">loading into story mode and a solo session after that</a> and a couple of mods that allowed skipping the startup R* logo video. Some more reading told me we could save a whopping 10-30 seconds with these combined!</p>
<p>Meanwhile on my PC‚Ä¶</p>
<h2 id="Benchmark"><a href="#Benchmark" title="Benchmark"></a>Benchmark</h2><figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br></pre></td><td><pre><span>Story mode load time:  ~1m 10s</span><br><span>Online mode load time: ~6m flat</span><br><span>Startup menu disabled, time from R* logo until in-game (social club login time isn't counted).</span><br><span></span><br><span>Old but decent CPU:   AMD FX-8350</span><br><span>Cheap-o SSD:          KINGSTON SA400S37120G</span><br><span>We have to have RAM:  2x Kingston 8192 MB (DDR3-1337) 99U5471</span><br><span>Good-ish GPU:         NVIDIA GeForce GTX 1070</span><br></pre></td></tr></tbody></table></figure>

<p>I know my setup is dated but what on <em>earth</em> could take 6x longer to load into online mode? I couldn‚Äôt measure any difference using the story-to-online loading technique <a target="_blank" rel="noopener" href="https://www.reddit.com/r/gtaonline/comments/kycy7a/gtao_loading_times_using_different_methods/">as others have found before me</a>. Even if it did work the results would be down in the noise.</p>
<h2 id="I-Am-Not-Alone"><a href="#I-Am-Not-Alone" title="I Am (Not) Alone"></a>I Am (Not) Alone</h2><p>If <a target="_blank" rel="noopener" href="https://www.reddit.com/r/gtaonline/comments/ht4i56/your_average_online_loading_time/">this poll</a> is to be trusted then the issue is widespread enough to mildly annoy more than 80% of the player base. It‚Äôs been 7 years R*!</p>
<p><img src="https://nee.lv/images/pasted-0.png" alt="üéµWhat does the poll say?üéµ"></p>
<p>Looking around a bit to find who are the lucky ~20% that get sub 3 minute load times I came across <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=RdCqDdjp6iU">a</a> <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=pJzr3qfyCyg">few</a> <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=RK7BUFx_NGk">benchmarks</a> with high-end gaming PCs and an online mode load time of about 2 minutes. I would <del>kill</del> <em>hack</em> for a 2 minute load time! It does seem to be hardware-dependent but something doesn‚Äôt add up here‚Ä¶</p>
<p>How come their story mode still takes near a minute to load? (The M.2 one didn‚Äôt count the startup logos btw.) Also, loading story to online takes them only a minute more while I‚Äôm getting about five more. I know that their hardware specs are a lot better but surely not 5x better.</p>
<h2 id="Highly-accurate-measurements"><a href="#Highly-accurate-measurements" title="Highly accurate measurements"></a>Highly accurate measurements</h2><p>Armed with such powerful tools as <em>the Task Manager</em> I began to investigate what resources could be the bottleneck.</p>
<p><img src="https://nee.lv/images/pasted-1.png" alt="Can you smell it?"></p>
<p>After taking a minute to load the common resources used for both story and online modes (which is near on par with high-end PCs) GTA decides to max out a single core on my machine for four minutes and do nothing else.</p>
<p>Disk usage? None! Network usage? There‚Äôs a bit, but it drops basically to zero after a few seconds (apart from loading the rotating info banners). GPU usage? Zero. Memory usage? Completely flat‚Ä¶</p>
<p>What, is it mining crypto or something? I smell code. <em>Really bad code</em>.</p>
<h2 id="Single-thread-bound"><a href="#Single-thread-bound" title="Single thread-bound"></a>Single thread-bound</h2><p>While my old AMD CPU has 8 cores and it does pack a punch, it was made in the olden days. Back when AMD‚Äôs <a target="_blank" rel="noopener" href="https://valid.x86.fr/bench/6u7sdy/1">single-thread performance</a> was <em>way</em> behind Intel‚Äôs. This might not explain all of the load time differences but it should explain most of it.</p>
<p>What‚Äôs odd is that it‚Äôs using up <em>just</em> the CPU. I was expecting vast amounts of disk reads loading up resources or loads of network requests trying to negotiate a session in the p2p network. But this? This is probably a bug.</p>
<h2 id="Profiling"><a href="#Profiling" title="Profiling"></a>Profiling</h2><p>Profilers are a great way of finding CPU bottlenecks. There‚Äôs only one problem - most of them rely on instrumenting the source code to get a perfect picture of what‚Äôs happening in the process. And I don‚Äôt have the source code. Nor do I need microsecond-perfect readings - I have 4 minutes‚Äô worth of a bottleneck.</p>
<p>Enter stack sampling: for closed source applications there‚Äôs only one option. Dump the running process‚Äô stack and current instruction pointer‚Äôs location to build a calling tree in set intervals. Then add them up to get statistics on what‚Äôs going on. There‚Äôs only one profiler that I know of (might be ignorant here) that can do this on Windows. And it hasn‚Äôt been updated in over 10 years. It‚Äôs <a target="_blank" rel="noopener" href="http://lukestackwalker.sourceforge.net/">Luke Stackwalker</a>! Someone, please give this project some love :)</p>
<p><img src="https://nee.lv/images/pasted-2.png" alt="The power of statistics compels you!"></p>
<p>Normally Luke would group the same functions together but since I don‚Äôt have debugging symbols I had to eyeball nearby addresses to guess if it‚Äôs the same place. And what do we see? Not one bottleneck but two of them!</p>
<h2 id="Down-the-rabbit-hole"><a href="#Down-the-rabbit-hole" title="Down the rabbit hole"></a>Down the rabbit hole</h2><p>Having borrowed <em>my friend‚Äôs</em> completely legitimate copy of <em>the industry-standard disassembler</em> (no, I really can‚Äôt afford the thing‚Ä¶ gonna learn to <a target="_blank" rel="noopener" href="https://ghidra-sre.org/">ghidra</a> one of these days) I went to take GTA apart.</p>
<p><img src="https://nee.lv/images/pasted-3.png" alt="Gibberish Galore"></p>
<p>That doesn‚Äôt look right at all. Most high-profile games come with built-in protection against reverse engineering to keep away pirates, cheaters, and modders. Not that it has ever stopped them.</p>
<p>There seems to be some sort of an obfuscation/encryption at play here that has replaced most instructions with gibberish. Not to worry, we simply need to dump the game‚Äôs memory while it‚Äôs executing the part we want to look at. The instructions have to be de-obfuscated before running one way or another. I had <a target="_blank" rel="noopener" href="https://github.com/glmcdona/Process-Dump">Process Dump</a> lying around, so I used that, but there are plenty of other tools available to do this sort of thing.</p>
<h2 id="Problem-one-It‚Äôs‚Ä¶-strlen"><a href="#Problem-one-It‚Äôs‚Ä¶-strlen" title="Problem one: It‚Äôs‚Ä¶ strlen?!"></a>Problem one: It‚Äôs‚Ä¶ strlen?!</h2><p>Disassembling the now-less-obfuscated dump reveals that one of the addresses has a label pulled out of somewhere! It‚Äôs <code>strlen</code>? Going down the call stack the next one is labeled <code>vscan_fn</code> and after that the labels end, tho I‚Äôm fairly confident it‚Äôs <a target="_blank" rel="noopener" href="https://github.com/chakra-core/ChakraCore/blob/master/pal/src/safecrt/sscanf.c#L47"><code>sscanf</code></a>.</p>
<p><img src="https://nee.lv/images/pasted-4.png" alt="A graph a day keeps the skeptics away"></p>
<p>It‚Äôs parsing something. Parsing what? Untangling the disassembly would take forever so I decided to dump some samples from the running process using <a target="_blank" rel="noopener" href="https://x64dbg.com/">x64dbg</a>. Some debug-stepping later it turns out it‚Äôs‚Ä¶ JSON! They‚Äôre parsing JSON. A whopping <strong>10 megabytes</strong> worth of JSON with some <strong>63k item entries</strong>.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br></pre></td><td><pre><span>...,</span><br><span>{</span><br><span>    <span>"key"</span>: <span>"WP_WCT_TINT_21_t2_v9_n2"</span>,</span><br><span>    <span>"price"</span>: <span>45000</span>,</span><br><span>    <span>"statName"</span>: <span>"CHAR_KIT_FM_PURCHASE20"</span>,</span><br><span>    <span>"storageType"</span>: <span>"BITFIELD"</span>,</span><br><span>    <span>"bitShift"</span>: <span>7</span>,</span><br><span>    <span>"bitSize"</span>: <span>1</span>,</span><br><span>    <span>"category"</span>: [<span>"CATEGORY_WEAPON_MOD"</span>]</span><br><span>},</span><br><span>...</span><br></pre></td></tr></tbody></table></figure>

<p>What is it? It appears to be data for a ‚Äúnet shop catalog‚Äù according to some references. I assume it contains a list of all the possible items and upgrades you can buy in GTA Online.</p>
<p><strong>Clearing up some confusion: I beleive these are in-game money purchasable items, not directly linked with <a target="_blank" rel="noopener" href="https://gta.fandom.com/wiki/Cash_Cards">microtransactions</a>.</strong></p>
<p>But 10 megs? That‚Äôs nothing! And using <code>sscanf</code> may not be optimal but surely it‚Äôs not that bad? Well‚Ä¶</p>
<p><img src="https://nee.lv/images/pasted-5.png" alt="Ouch!"></p>
<p>Yeah, that‚Äôs gonna take a while‚Ä¶ To be fair I had no idea most <code>sscanf</code> implementations called <code>strlen</code> so I can‚Äôt blame the developer who wrote this. I would assume it just scanned byte by byte and could stop on a <code>NULL</code>.</p>
<h2 id="Problem-two-Let‚Äôs-use-a-Hash-‚Ä¶-Array"><a href="#Problem-two-Let‚Äôs-use-a-Hash-‚Ä¶-Array" title="Problem two: Let‚Äôs use a Hash- ‚Ä¶ Array?"></a>Problem two: Let‚Äôs use a Hash- ‚Ä¶ Array?</h2><p>Turns out the second offender is called right next to the first one. They‚Äôre both even called in the same <code>if</code> statement as seen in this ugly decompilation:</p>
<p><img src="https://nee.lv/images/pasted-6.png" alt="Beggar thy neighbour"></p>
<p>All labels are mine, no idea what the functions/parameters are actually called.</p>
<p>The second problem? Right after parsing an item, it‚Äôs stored in an array (or an inlined C++ list? not sure). Each entry looks something like this:</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br></pre></td><td><pre><span><span><span>struct</span> {</span></span><br><span>    <span>uint64_t</span> *hash;</span><br><span>    <span>item_t</span>   *item;</span><br><span>} entry;</span><br></pre></td></tr></tbody></table></figure>

<p>But before it‚Äôs stored? It checks the <em>entire</em> array, one by one, comparing the hash of the item to see if it‚Äôs in the list or not. With ~63k entries that‚Äôs <code>(n^2+n)/2 = (63000^2+63000)/2 = 1984531500</code> checks if my math is right. Most of them useless. You have unique <em>hashes</em> why not use a <em>hash map</em>.</p>
<p><img src="https://nee.lv/images/pasted-7.png" alt="Oof!"></p>
<p>I named it <code>hashmap</code> while reversing but it‚Äôs clearly <code>not_a_hashmap</code>. And it gets even better. The hash-array-list-thing is empty before loading the JSON. And all of the items in the JSON are unique! They don‚Äôt even <em>need</em> to check if it‚Äôs in the list or not! They even have a function to directly insert the items! Just use that! Srsly, WAT!?</p>
<h2 id="PoC"><a href="#PoC" title="PoC"></a>PoC</h2><p>Now that‚Äôs nice and all, but no one is going to take me seriously unless I test this so I can write a clickbait title for the post.</p>
<p>The plan? Write a <code>.dll</code>, inject it in GTA, <a target="_blank" rel="noopener" href="https://github.com/TsudaKageyu/minhook">hook</a> some functions, ???, profit.</p>
<p>The JSON problem is hairy, I can‚Äôt realistically replace their parser. Replacing <code>sscanf</code> with one that doesn‚Äôt depend on <code>strlen</code> would be more realistic. But there‚Äôs an even easier way.</p>
<ul>
<li>hook strlen</li>
<li>wait for a long string</li>
<li>‚Äúcache‚Äù the start and length of it</li>
<li>if it‚Äôs called again within the string‚Äôs range, return cached value</li>
</ul>
<p>Something like:</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br><span>22</span><br><span>23</span><br><span>24</span><br><span>25</span><br><span>26</span><br><span>27</span><br><span>28</span><br><span>29</span><br><span>30</span><br><span>31</span><br><span>32</span><br><span>33</span><br><span>34</span><br><span>35</span><br><span>36</span><br></pre></td><td><pre><span><span><span>size_t</span> <span>strlen_cacher</span><span>(<span>char</span>* str)</span></span></span><br><span><span></span>{</span><br><span>  <span>static</span> <span>char</span>* start;</span><br><span>  <span>static</span> <span>char</span>* end;</span><br><span>  <span>size_t</span> len;</span><br><span>  <span>const</span> <span>size_t</span> cap = <span>20000</span>;</span><br><span></span><br><span>  </span><br><span>  <span>if</span> (start &amp;&amp; str &gt;= start &amp;&amp; str &lt;= end) {</span><br><span>    </span><br><span>    len = end - str;</span><br><span></span><br><span>    </span><br><span>    </span><br><span>    <span>if</span> (len &lt; cap / <span>2</span>)</span><br><span>      MH_DisableHook((LPVOID)strlen_addr);</span><br><span></span><br><span>    </span><br><span>    <span>return</span> len;</span><br><span>  }</span><br><span></span><br><span>  </span><br><span>  </span><br><span>  </span><br><span>  len = builtin_strlen(str);</span><br><span></span><br><span>  </span><br><span>  </span><br><span>  <span>if</span> (len &gt; cap) {</span><br><span>    start = str;</span><br><span>    end = str + len;</span><br><span>  }</span><br><span></span><br><span>  </span><br><span>  <span>return</span> len;</span><br><span>}</span><br></pre></td></tr></tbody></table></figure>

<p>And as for the hash-array problem, it‚Äôs more straightforward - just skip the duplicate checks entirely and insert the items directly since we know the values are unique.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br><span>11</span><br><span>12</span><br><span>13</span><br><span>14</span><br><span>15</span><br><span>16</span><br><span>17</span><br><span>18</span><br><span>19</span><br><span>20</span><br><span>21</span><br></pre></td><td><pre><span><span><span>char</span> __fastcall <span>netcat_insert_dedupe_hooked</span><span>(<span>uint64_t</span> catalog, <span>uint64_t</span>* key, <span>uint64_t</span>* item)</span></span></span><br><span><span></span>{</span><br><span>  </span><br><span>  <span>uint64_t</span> not_a_hashmap = catalog + <span>88</span>;</span><br><span></span><br><span>  </span><br><span>  <span>if</span> (!(*(<span>uint8_t</span>(__fastcall**)(<span>uint64_t</span>*))(*item + <span>48</span>))(item))</span><br><span>    <span>return</span> <span>0</span>;</span><br><span></span><br><span>  </span><br><span>  netcat_insert_direct(not_a_hashmap, key, &amp;item);</span><br><span></span><br><span>  </span><br><span>  </span><br><span>  <span>if</span> (*key == <span>0x7FFFD6BE</span>) {</span><br><span>    MH_DisableHook((LPVOID)netcat_insert_dedupe_addr);</span><br><span>    unload();</span><br><span>  }</span><br><span></span><br><span>  <span>return</span> <span>1</span>;</span><br><span>}</span><br></pre></td></tr></tbody></table></figure>

<p>Full source of PoC <a target="_blank" rel="noopener" href="https://github.com/tostercx/GTAO_Booster_PoC">here</a>.</p>
<h2 id="Results"><a href="#Results" title="Results"></a>Results</h2><p>Well, did it work then?</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br></pre></td><td><pre><span>Original online mode load time:        ~6m flat</span><br><span>Time with only duplication check patch: 4m 30s</span><br><span>Time with only JSON parser patch:       2m 50s</span><br><span>Time with both issues patched:          1m 50s</span><br><span></span><br><span>(6*60 - (1*60+50)) / (6*60) = 69.4% load time improvement (nice!)</span><br></pre></td></tr></tbody></table></figure>

<p>Hell yes, it did! :))</p>
<p>Most likely, this won‚Äôt solve everyone‚Äôs load times - there might be other bottlenecks on different systems, but it‚Äôs such a gaping hole that I have no idea how R* has missed it all these years.</p>
<h2 id="tl-dr"><a href="#tl-dr" title="tl;dr"></a>tl;dr</h2><ul>
<li>There‚Äôs a single thread CPU bottleneck while starting up GTA Online</li>
<li>It turns out GTA struggles to parse a 10MB JSON file</li>
<li>The JSON parser itself is poorly built / naive and</li>
<li>After parsing there‚Äôs a ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/">https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/</a></em></p>]]>
            </description>
            <link>https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296339</guid>
            <pubDate>Sun, 28 Feb 2021 19:38:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Create animated GIF and WebP from videos using FFmpeg]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 47 (<a href="https://news.ycombinator.com/item?id=26296315">thread link</a>) | @Audiolite
<br/>
February 28, 2021 | https://mattj.io/posts/2021-02-27-create-animated-gif-and-webp-from-videos-using-ffmpeg/ | <a href="https://web.archive.org/web/*/https://mattj.io/posts/2021-02-27-create-animated-gif-and-webp-from-videos-using-ffmpeg/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article class="page">
    <div>
      
      <div>

        

<p>Saturday, February 27, 2021</p>

<p><a href="https://mattj.io/posts/">Click here to go to all posts</a>. <em>Also published on <a href="https://mattjoseph.medium.com/create-animated-gif-and-webp-from-videos-using-ffmpeg-f1012267935a" target="_blank" rel="noopener">Medium</a></em></p>

<p><em>A guide to using FFmpeg to create all the animated content you want.</em></p>

<p>Whether it‚Äôs for a website, a presentation, or sharing a fun clip with a friend on chat, you might want to convert a video to an animated GIF or animated WebP. Unfortunately, the visual tools for doing this vary by your operating system. Additionally, most conversion tools don‚Äôt support <a href="https://en.wikipedia.org/wiki/WebP" target="_blank" rel="noopener">the WebP format</a>, even in 2021. WebP is based on VP8, a relatively recent video codec standard compared to the <a href="https://en.wikipedia.org/wiki/GIF" target="_blank" rel="noopener">GIF image format</a>.</p>

<p>So, this guide is for those who are willing to learn a bit of terminal in order to convert any video to the animated format of their choosing. The best part: this will work on all major operating systems and gives you all the control of the output you could want!</p>


<figcaption>Example GIF of typing "GIF" on a mechanical keyboard</figcaption>

<p>Let‚Äôs get started!</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To use this guide, you will need the following:</p>

<ul>
  <li>Basic knowledge of how to open and use the terminal on your operating system. If you need a cheat sheet or introductory guides, check out <a href="https://terminalcheatsheet.com/" target="_blank" rel="noopener">Terminal Cheat Sheet</a>.</li>
  <li>FFmpeg v4+ installed on your operating system and executable from your path. Here are some suggested places to learn down to do this:
    <ul>
      <li>macOS: <a href="https://superuser.com/a/624562" target="_blank" rel="noopener">https://superuser.com/a/624562</a></li>
      <li>Windows: <a href="https://video.stackexchange.com/a/20496" target="_blank" rel="noopener">https://video.stackexchange.com/a/20496</a></li>
      <li>Linux: Use your preferred package manager (e.g., <code>sudo apt install ffmpeg</code> on Ubuntu)</li>
    </ul>
  </li>
</ul>

<h2 id="what-isffmpeg">What is&nbsp;FFmpeg?</h2>

<p><a href="https://en.wikipedia.org/wiki/FFmpeg" target="_blank" rel="noopener">From Wikipedia</a>:</p>

<blockquote>
  <p>FFmpeg is a free and open-source software project consisting of a large suite of libraries and programs for handling video, audio, and other multimedia files and streams.</p>
</blockquote>

<p>For our purposes, we will use it to convert between formats, such as videos to GIFs or animated WebP. It has many uses, so I recommend checking it out for all your video processing needs!</p>

<h2 id="before-you-start-make-sure-you-can-run-ffmpeg-from-yourterminal">Before you start: make sure you can run FFmpeg from your&nbsp;terminal</h2>

<p>Since all of these commands require FFmpeg, we need to make sure it‚Äôs available.</p>

<p>Open your terminal, and run this:</p>



<p>If FFmpeg is available, you will note output similar to this:</p>

<div><div><pre><code>FFmpeg version 4.3.1 Copyright ¬© 2000‚Äì2020 the FFmpeg developers
...
</code></pre></div></div>


<figcaption>Checking the FFmpeg version on Linux</figcaption>

<p>Version 4 or higher of FFmpeg is recommended for this guide.</p>

<p>If you get an output that says something similar to <code>command not found: ffmpeg -version</code>, then check the <strong>Prerequisites</strong> section above and make sure you have FFmpeg installed on your system.</p>

<h2 id="convert-to-an-animated-gif-usingffmpeg">Convert to an animated GIF using&nbsp;FFmpeg</h2>

<h3 id="convert-a-whole-video-togif">Convert a whole video to&nbsp;GIF</h3>

<p><strong>Base command</strong></p>

<div><div><pre><code>ffmpeg -i $INPUT_FILENAME \
-vf "fps=$OUTPUT_FPS,scale=$OUTPUT_WIDTH:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse" \
-loop $NUMBER_OF_LOOPS $OUTPUT_FILENAME

# Change these placeholders:
# * $INPUT_FILENAME - path to the input video.
# * $OUTPUT_FPS - ouput frames per second. Start with `10`.
# * $OUTPUT_WIDTH - output width in pixels. Aspect ratio is maintained.
# * $NUMBER_OF_LOOPS - use `0` to loop forever, or a specific number of loops.
# * $OUTPUT_FILENAME - the name of the output animated GIF.
</code></pre></div></div>

<p><strong>Example usage of this command</strong></p>

<p>Here is an example of this command with the input options filled out:</p>

<div><div><pre><code>ffmpeg -i "sample_recording.mp4" \
-vf "fps=10,scale=720:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse" \
-loop 0 sample_recording.gif
</code></pre></div></div>

<h3 id="convert-part-of-a-video-togif">Convert part of a video to&nbsp;GIF</h3>

<p><strong>Base command</strong></p>

<p>This is the base command with various options for converting part of a video to an animated GIF:</p>

<div><div><pre><code>ffmpeg -ss $INPUT_START_TIME -t $LENGTH -i $INPUT_FILENAME \
-vf "fps=$OUTPUT_FPS,scale=$OUTPUT_WIDTH:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse" \
-loop $NUMBER_OF_LOOPS $OUTPUT_FILENAME

# Change these placeholders:
# * $INPUT_START_TIME - number of seconds in the input video to start from.
# * $LENGTH - number of seconds to convert from the input video.
# * $INPUT_FILENAME - path to the input video.
# * $OUTPUT_FPS - ouput frames per second. Start with `10`.
# * $OUTPUT_WIDTH - output width in pixels. Aspect ratio is maintained.
# * $NUMBER_OF_LOOPS - use `0` to loop forever, or a specific number of loops.
# * $OUTPUT_FILENAME - the name of the output animated GIF.
</code></pre></div></div>

<p><strong>Example usage of this command</strong></p>

<p>Here is an example of this command with the input options filled out:</p>

<div><div><pre><code>ffmpeg -ss 32.5 -t 7 -i "sample_recording.mp4" \
-vf "fps=10,scale=720:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse" \
-loop 0 sample_recording.gif
</code></pre></div></div>

<h2 id="convert-to-an-animated-webp-usingffmpeg">Convert to an animated WebP using&nbsp;FFmpeg</h2>

<h3 id="convert-a-whole-video-to-animatedwebp">Convert a whole video to animated&nbsp;WebP</h3>

<p><strong>Base command</strong></p>

<p>This is the base command with various options for converting an entire video to an animated WebP. You can use options like FPS, output width, and quality to determine the file size and quality of your output:</p>

<div><div><pre><code>ffmpeg -i $INPUT_FILENAME \
-vf "fps=$OUTPUT_FPS,scale=$OUTPUT_WIDTH:-1:flags=lanczos" \
-vcodec libwebp -lossless 0 -compression_level 6 \
-q:v $OUTPUT_QUALITY -loop $NUMER_OF_LOOPS \
-preset picture -an -vsync 0 $OUTPUT_FILENAME

# Change these placeholders:
# * $INPUT_FILENAME - path to the input video.
# * $OUTPUT_FPS - ouput frames per second. Start with `10`.
# * $OUTPUT_WIDTH - output width in pixels. Aspect ratio is maintained.
# * $OUTPUT_QUALITY - quality of the WebP output. Start with `50`.
# * $NUMBER_OF_LOOPS - use `0` to loop forever, or a specific number of loops.
# * $OUTPUT_FILENAME - the name of the output animated WebP.
</code></pre></div></div>

<p><strong>Example usage of this command</strong></p>

<p>Here is an example of this command with the input options filled out:</p>

<div><div><pre><code>ffmpeg -i "sample_recording.mp4" \
-vf "fps=10,scale=720:-1:flags=lanczos" \
-vcodec libwebp -lossless 0 -compression_level 6 \
-q:v 50 -loop 0 \
-preset picture -an -vsync 0 sample_recording.webp
</code></pre></div></div>

<h3 id="convert-part-of-a-video-to-animatedwebp">Convert part of a video to animated&nbsp;WebP</h3>

<p><strong>Base command</strong></p>

<p>This is the base command with various options for converting part of a video to an animated WebP:</p>

<div><div><pre><code>ffmpeg -ss $INPUT_START_TIME -t $LENGTH -i $INPUT_FILENAME \
-vf "fps=$OUTPUT_FPS,scale=$OUTPUT_WIDTH:-1:flags=lanczos" \
-vcodec libwebp -lossless 0 -compression_level 6 \
-q:v $OUTPUT_QUALITY -loop $NUMER_OF_LOOPS \
-preset picture -an -vsync 0 $OUTPUT_FILENAME

# Change these placeholders:
# * $INPUT_START_TIME - number of seconds in the input video to start from.
# * $LENGTH - number of seconds to convert from the input video.
# * $INPUT_FILENAME - path to the input video.
# * $OUTPUT_FPS - ouput frames per second. Start with `10`.
# * $OUTPUT_WIDTH - output width in pixels. Aspect ratio is maintained.
# * $OUTPUT_QUALITY - quality of the WebP output. Start with `50`.
# * $NUMBER_OF_LOOPS - use `0` to loop forever, or a specific number of loops.
# * $OUTPUT_FILENAME - the name of the output animated WebP.
</code></pre></div></div>

<p><strong>Example usage of this command</strong></p>

<p>Here is an example of this command with the input options filled out:</p>

<div><div><pre><code>ffmpeg -ss 32.5 -t 7 -i "sample_recording.mp4" \
-vf "fps=10,scale=720:-1:flags=lanczos" \
-vcodec libwebp -lossless 0 -compression_level 6 \
-q:v 50 -loop 0 \
-preset picture -an -vsync 0 sample_recording.webp
</code></pre></div></div>

<h2 id="when-should-i-use-an-animated-gif-versus-an-animatedwebp">When should I use an animated GIF versus an animated&nbsp;WebP?</h2>

<p>This depends on the quality, size, and support you want for your output. Modern browsers have support for animated WebP and the quality tends to be higher, but the processing power required is also higher.</p>

<h2 id="next-steps">Next steps</h2>

<p>This guide serves as a brief introduction to using FFmpeg to create an animated GIF or animated WebP from a video, but there is so much more you can do with the tool. There are also many options that FFmpeg supports for these formats that are not covered.</p>

<p>You can also get the code for all the commands and examples in one place by <a href="https://gist.github.com/devadvance/f2ad3cfe38afe3eeef64c72c46692158" target="_blank" rel="noopener">visiting the GitHub Gist here</a>.</p>


      </div>
    </div>
  </article></div>]]>
            </description>
            <link>https://mattj.io/posts/2021-02-27-create-animated-gif-and-webp-from-videos-using-ffmpeg/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296315</guid>
            <pubDate>Sun, 28 Feb 2021 19:35:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Minimal Browser]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26296082">thread link</a>) | @autoditype
<br/>
February 28, 2021 | https://manuelmoreale.com/a-minimal-browser | <a href="https://web.archive.org/web/*/https://manuelmoreale.com/a-minimal-browser">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><a href="https://manuelmoreale.com/"></a><p>As a web developer I have a love &amp; hate relationship with browsers. On one side, I need them to function properly in order to do my job, on the other I want them to be as minimal as possible. At the same time I‚Äôm trying to spend less and more meaningful time on the browser which is why I decided to minimize it. I‚Äôm on a Mac and I decided to use Safari as my primary browser. Now, before you start screaming at the screen, I know what you‚Äôre thinking: Safari is awful. And I don‚Äôt disagree with that. Being awful is a plus. I don‚Äôt want to be comfortable, I want my browser to behave badly which is why Safari, with all its weird and stupid bugs is perfect. My safari looks like this:</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/a3cde09051-1611495857/safari-1.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/a3cde09051-1611495857/safari-1-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/a3cde09051-1611495857/safari-1-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/a3cde09051-1611495857/safari-1-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/a3cde09051-1611495857/safari-1-1216x-q70.jpg 1216w"></p></div><figcaption>pretty minimal...</figcaption></figure>
<p>Here‚Äôs how the taskbar is set up if you‚Äôre curious and want to do it yourself.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2435099ee2-1611495857/safari-2.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2435099ee2-1611495857/safari-2-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2435099ee2-1611495857/safari-2-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2435099ee2-1611495857/safari-2-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2435099ee2-1611495857/safari-2-1216x-q70.jpg 1216w"></p></div><figcaption>GTFO icons!</figcaption></figure>
<p>As you can see, I removed pretty much everything. Only thing left is the search bar at the center. I can use gestures and the keyboard to navigate through tabs and go back and forth through the history so I don‚Äôt need any button at the top. I‚Äôm also trying to have as fewer tabs open as possible. This is something that‚Äôs part of my commitment to be digitally minimal.</p>
<h2>Few extra settings</h2>
<p>In addition to the minimal taskbar, there are a couple of extra steps I took in order to have a more minimalist browser.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2ce9f2c4d0-1611495857/safari-3.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2ce9f2c4d0-1611495857/safari-3-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2ce9f2c4d0-1611495857/safari-3-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2ce9f2c4d0-1611495857/safari-3-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/2ce9f2c4d0-1611495857/safari-3-1216x-q70.jpg 1216w"></p></div></figure>
<p>Both new windows and tabs open on a blank page. That‚Äôs because I don‚Äôt want to get distracted by icons. If I open the browser I want to stay focused on the current task and not browse mindlessly.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/5bf1323c1b-1611495857/safari-4.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/5bf1323c1b-1611495857/safari-4-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/5bf1323c1b-1611495857/safari-4-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/5bf1323c1b-1611495857/safari-4-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/5bf1323c1b-1611495857/safari-4-1216x-q70.jpg 1216w"></p></div></figure>
<p>I‚Äôm also loading a custom css file, which I use to hide stuff from websites I use somewhat regularly. It‚Äôs used primarily to hide parts of the sites, change the typography or the colors. Nothing super crazy but definitely helpful.</p>
<h2>What about the other browsers</h2>
<p>A yes, the other browsers. We‚Äôre talking about Firefox and Chrome right?  Chrome is my dev browser because Safari‚Äôs webtools are frankly a pile of hot garbage. My Chrome looks like this:</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/b8c3d35836-1611495857/chrome-1.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/b8c3d35836-1611495857/chrome-1-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/b8c3d35836-1611495857/chrome-1-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/b8c3d35836-1611495857/chrome-1-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/b8c3d35836-1611495857/chrome-1-1216x-q70.jpg 1216w"></p></div></figure>
<p>The new tab is a custom extension I coded months ago. <a href="https://chrome.google.com/webstore/detail/minimal-new-page/danoojfpckpaacgbaebfakjeepeenaop" rel="noopener noreferrer" target="_blank">It‚Äôs available for free on the Chrome App store</a> or whatever is called. You can‚Äôt really remove many things from Chrome. All the extensions are hidden, home icon is obviously gone but other than that it looks pretty much like a normal Chrome installation.</p>
<p>Firefox is a bit more interesting. I don‚Äôt use Firefox a lot to be honest with you even though has got much better lately and I quite like it as a browser. Still, if it‚Äôs your primary browser and you want to minimize it, this is what you can do. My Firefox looks like this:</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/d4c53b9400-1611495857/ff-1.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/d4c53b9400-1611495857/ff-1-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/d4c53b9400-1611495857/ff-1-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/d4c53b9400-1611495857/ff-1-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/d4c53b9400-1611495857/ff-1-1216x-q70.jpg 1216w"></p></div></figure>
<p>As you can see, almost everything is gone from the sidebar. Only things you can‚Äôt remove are the two arrows but I moved one of the two on the opposite side in order to have a less busy left corner. Only other thing left is the search bar.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/f442c2e48d-1611495857/ff-2.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/f442c2e48d-1611495857/ff-2-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/f442c2e48d-1611495857/ff-2-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/f442c2e48d-1611495857/ff-2-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/f442c2e48d-1611495857/ff-2-1216x-q70.jpg 1216w"></p></div></figure>
<p>I‚Äôm also using the dark color scheme. You can change the theme down at the bottom of the customization page.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/638f8831f7-1611495857/ff-3.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/638f8831f7-1611495857/ff-3-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/638f8831f7-1611495857/ff-3-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/638f8831f7-1611495857/ff-3-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/638f8831f7-1611495857/ff-3-1216x-q70.jpg 1216w"></p></div></figure>
<p>As for the settings, like I did for Safari, an empty page is shown every time I open a new tab or window. This is super helpful to cut down distractions.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/cba5cf6b18-1611495857/ff-4.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/cba5cf6b18-1611495857/ff-4-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/cba5cf6b18-1611495857/ff-4-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/cba5cf6b18-1611495857/ff-4-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/cba5cf6b18-1611495857/ff-4-1216x-q70.jpg 1216w"></p></div></figure>
<p>Another thing you can do is turn off those obnoxious notifications requests. To do that you need to go in the Privacy &amp; Security section inside the settings and click on the Settings... button next to Notifications.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/e3598d4a06-1611495857/ff-5.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/e3598d4a06-1611495857/ff-5-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/e3598d4a06-1611495857/ff-5-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/e3598d4a06-1611495857/ff-5-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/e3598d4a06-1611495857/ff-5-1216x-q70.jpg 1216w"></p></div></figure>
<p>Then, at the bottom of the new window, you‚Äôll find a checkbox to disable all new requests. Toggle that and you‚Äôll be good to go. This is something you can do in Safari as well btw. You can find the same option under Settings &gt; Websites &gt; Notifications.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/ad7f1b67b6-1611495857/ff-6.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/ad7f1b67b6-1611495857/ff-6-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/ad7f1b67b6-1611495857/ff-6-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/ad7f1b67b6-1611495857/ff-6-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/a-minimal-browser/ad7f1b67b6-1611495857/ff-6-1216x-q70.jpg 1216w"></p></div></figure>
<p>And that‚Äôs it. Enjoy your simpler browser. And let me know if you think there‚Äôs something else that could be done to improve the browsing experience.</p></div></div>]]>
            </description>
            <link>https://manuelmoreale.com/a-minimal-browser</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296082</guid>
            <pubDate>Sun, 28 Feb 2021 19:07:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Troubleshooting a Stuck Process]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26296039">thread link</a>) | @JoshMcguigan
<br/>
February 28, 2021 | https://www.joshmcguigan.com/blog/troubleshooting-stuck-process/ | <a href="https://web.archive.org/web/*/https://www.joshmcguigan.com/blog/troubleshooting-stuck-process/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I was recently troubleshooting an issue where a process seemed to be stuck, not making any progress. Eventually I was able to track down the problem, but along the way I found a few quick ways to start gathering information about a running process.</p>
<p>These tips apply only to Linux systems. I‚Äôm sure other operating systems have similar tools, but I am not familiar with them so I won‚Äôt mention them here.</p>
<p>I use <code>sleep</code> as an example program to ‚Äútroubleshoot‚Äù throughout this article. You will probably want to replace <code>sleep</code> in my examples below with something more interesting.</p>
<h2>strace</h2>
<p>strace prints out the system calls made by a particular process. One option when using strace is to start the program from within strace:</p>
<div data-language="bash"><pre><code>
$ <span>strace</span> <span>sleep</span> <span>10</span>

execve<span>(</span><span>"/usr/bin/sleep"</span>, <span>[</span><span>"sleep"</span>, <span>"10"</span><span>]</span>, 0x7ffc0b292728 /* <span>54</span> vars */<span>)</span> <span>=</span> <span>0</span>
<span>..</span>.
clock_nanosleep<span>(</span>CLOCK_REALTIME, <span>0</span>, <span>{</span>tv_sec<span>=</span><span>10</span>, <span>tv_nsec</span><span>=</span><span>0</span><span>}</span>, 0x7ffd8fa9ef30<span>)</span> <span>=</span> <span>0</span>
<span>..</span>.</code></pre></div>
<p>strace has lots of output so I removed most of it, but watching the output live you can see which system call your process is getting stalled on. In this case it is <code>clock_nanosleep</code>.</p>
<p>Sometimes you realize you want to see what a process is doing after the process has already started - in that case you can use strace to attach to an existing process by PID:</p>
<div data-language="bash"><pre><code>
$ <span>sleep</span> <span>10</span> <span>&amp;</span>

$ pgrep <span>sleep</span> <span>|</span> <span>xargs</span> -n1 <span>sudo</span> <span>strace</span> -p </code></pre></div>
<p>Here we use <code>pgrep</code> to get the process ID of the <code>sleep</code> process, then use strace to attach to that process. Be aware that <code>pgrep</code> uses a regular expression to match the process name, so you might want to use <code>pgrep ^sleep$</code> or <code>pidof sleep</code> for stricter matching. </p>
<p>The downside to attaching strace to a running application is that if the process has already called into a blocking system call, as is likely the case here with sleep, you won‚Äôt see anything with strace until that system call returns and a next system call is invoked.</p>
<h2>procfs kernel stack</h2>
<p>If you use strace to attach to a running process and find it stalled on a blocking syscall (so strace is not providing any output), you can use procfs to determine the currently running syscall, as well as the full kernel stack trace.</p>
<div data-language="bash"><pre><code>
$ <span>sleep</span> <span>10</span> <span>&amp;</span>

$ pgrep <span>sleep</span> <span>|</span> <span>xargs</span> -I % <span>sudo</span> <span>cat</span> /proc/%/stack
<span>[</span><span>&lt;</span><span><span>0</span>&gt;</span><span>]</span> hrtimer_nanosleep+0xca/0x1a0
<span>[</span><span>&lt;</span><span><span>0</span>&gt;</span><span>]</span> common_nsleep+0x40/0x50
<span>[</span><span>&lt;</span><span><span>0</span>&gt;</span><span>]</span> __x64_sys_clock_nanosleep+0xd1/0x140
<span>[</span><span>&lt;</span><span><span>0</span>&gt;</span><span>]</span> do_syscall_64+0x33/0x40
<span>[</span><span>&lt;</span><span><span>0</span>&gt;</span><span>]</span> entry_SYSCALL_64_after_hwframe+0x44/0xa9</code></pre></div>
<p>Here again we can see we are stuck in the <code>clock_nanosleep</code> system call, but this time we are able to figure it out while the process is blocked on the system call, whereas with strace we would have had to start tracing <em>before</em> the process calls the blocking system call.</p>
<h2>userspace trace</h2>
<p>Now you might want to know where in the application code the syscall was called from. Or an alternate case would be that you find the application isn‚Äôt stuck in kernel space but rather is stuck executing application code.</p>
<p>You can use <code>gdb</code> to see the current userspace stack trace.</p>
<div data-language="bash"><pre><code>
$ <span>sleep</span> <span>10</span> <span>&amp;</span>

$ pgrep <span>sleep</span> <span>|</span> <span>xargs</span> -n1 <span>sudo</span> gdb --batch -ex <span>"thread apply all bt"</span> -p
0x00007f8b1b29f0da <span>in</span> clock_nanosleep@GLIBC_2.2.5 <span>(</span><span>)</span> from /usr/lib/libc.so.6

Thread <span>1</span> <span>(</span>process <span>132170</span> <span>"sleep"</span><span>)</span>:







<span>[</span>Inferior <span>1</span> <span>(</span>process <span>132170</span><span>)</span> detached<span>]</span></code></pre></div>
<p>The usefulness of this information depends on the existence of debug symbols, so you may not get much out of it unless you can re-compile the application with debug symbols included.</p>
<div data-language="bash"><pre><code>$ pgrep rust-analyzer <span>|</span> <span>xargs</span> -n1 <span>sudo</span> gdb --batch -ex <span>"thread apply all bt"</span> -p



Thread <span>1</span> <span>(</span>LWP <span>113543</span> <span>"rust-analyzer"</span><span>)</span>:

















</code></pre></div>
<p>This demonstrates what the output might look like for an appication compiled with debug symbols.</p>
<h2>Conclusion</h2>
<p>These tools probably aren‚Äôt enough to immediately root cause an issue, but they are a great way to gather some initial information which can help guide further troubleshooting effort.</p></div></div>]]>
            </description>
            <link>https://www.joshmcguigan.com/blog/troubleshooting-stuck-process/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296039</guid>
            <pubDate>Sun, 28 Feb 2021 19:03:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Perl Saved the Human Genome Project (1996)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26296030">thread link</a>) | @todsacerdoti
<br/>
February 28, 2021 | https://www.foo.be/docs/tpj/issues/vol1_2/tpj0102-0001.html | <a href="https://web.archive.org/web/*/https://www.foo.be/docs/tpj/issues/vol1_2/tpj0102-0001.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<hr>

<!-- the article goes here -->


<h4><i>Lincoln D. Stein</i></h4>

<!-- packages described, if necessary -->


<tt>
<b>DATE:</b> Early February, 1996
<br> 
LOCATION: Cambridge, England, in the conference room of the largest DNA sequencing center in Europe.
<br> 
<b>OCCASION:</b> A high level meeting between the computer scientists of this center and the largest DNA sequencing center in the United States. 
<br>
<b>THE PROBLEM:</b> Although the two centers use almost identical laboratory techniques, almost identical databases, and almost identical data analysis tools, they still can't interchange data or meaningfully compare results.
<br><b>THE SOLUTION:</b> Perl. 
</tt>
<p>
The human genome project was inaugurated at the beginning of the decade as an ambitious international effort to determine the complete DNA sequence of human beings and several experimental animals. The justification for this undertaking is both scientific and medical. By understanding the genetic makeup of an organism in excruciating detail, it is hoped that we will be better able to understand how organisms develop from single eggs into complex multicellular beings, how food is metabolized and transformed into the constituents of the body, how the nervous system assembles itself into a smoothly functioning ensemble. From the medical point of view, the wealth of knowledge that will come from knowing the complete DNA sequence will greatly accelerate the process of finding the causes of (and potential cures for) human diseases.
</p><p> 
Six years after its birth, the genome project is ahead of schedule. Detailed maps of the human and all the experimental animals have been completed (mapping out the DNA using a series of landmarks is an obligatory first step before determining the complete DNA sequence). The sequence of the smallest model organism, yeast, is nearly completed, and the sequence of the next smallest, a tiny soil-dwelling worm, isn't far behind. Large scale sequencing efforts for human DNA started at several centers a number of months ago and will be in full swing within the year.
</p><p> 
The scale of the human DNA sequencing project is enough to send your average UNIX system administrator running for cover. From the information-handling point of view, DNA is a very long string consisting of the four letters G, A, T and C (the letters are abbreviations for the four chemical units that form the "rungs" of the DNA double helix ladder). The goal of the project is to determine the order of letters in the string. The size of the string is impressive but not particularly mind-boggling: 3 x 109 letters long, or some 3 gigabytes of storage space if you use 1 byte to store each letter with no compression techniques.</p><p> 
Three gigabytes is substantial but certainly manageable by today's standards. Unfortunately, this is only what's required to store the finished data. The storage requirements for the experimental data needed to determine this sequence is far more vast. The essential problem is that DNA sequencing technology is currently limited to reading stretches of at most 500 contiguous letters. In order to determine sequences longer than that, the DNA must be sequenced as small overlapping fragments called "reads" and the jigsaw puzzle reassembled by algorithms that look for areas where the sequences match. Because the DNA sequence is nonrandom (similar but not-entirely-identical motifs appear many times throughout the genome), and because DNA sequencing technology is noisy and error-prone, one ends up having to sequence each region of DNA five to ten times in order to reliably assemble the reads into the true sequence. This increases the amount of data to manage by an order of magnitude. On top of this is all the associated information that goes along with laboratory work: who performed the experiment, when it was performed, the section of the genome that was sequenced, the identity and version of the software used to assemble the sequence, any comments someone wants to attach to the experiment, and so forth. In addition, one generally wants to store the raw output from the machine that performs the sequencing. Each 500 letters of sequence generates a data file that's 20-30 kilobytes long!
</p><p> 
That's not the whole of it. It's not enough just to determine the sequence of the DNA. Within the sequence are functional areas scattered among long stretches of nonfunctional areas. There are genes, control regions, structural regions, and even a few viruses that got entangled in human DNA long ago and persist as fossilized remnants. Because the genes and control regions are responsible for health and disease, one wants to identify and mark them as the DNA sequence is assembled. This type of annotation generates yet more data.
</p><p> 
Altogether, people estimate that some one to ten terabytes of information will need to be stored in order to see the human genome project to its conclusion. 
</p><p>
So what's Perl got to do with it? From the beginning, researchers realized that informatics would have to play a large role in the genome project. An informatics core formed an integral part of every genome center that was created. The mission of these cores was two-fold: to provide computer support and databasing services for their affiliated laboratories, and to develop data analysis and management software for use by the genome community as a whole. 
</p><p>
It's fair to say that the initial results of the informatics groups efforts were mixed. Things were slightly better on the laboratory management side of the coin. Some groups attempted to build large monolithic systems on top of complex relational databases; they were thwarted time and again by the highly dynamic nature of biological research. By the time a system that could deal with the ins and outs of a complex laboratory protocol had been designed, implemented and debugged, the protocol had been superseded by new technology and the software engineers had to go back to the drawing board.
</p><p> 
Most groups, however, learned to build modular, loosely-coupled systems whose parts could be swapped in and out without retooling the whole system. In my group, for example, we discovered that many data analysis tasks involve a sequence of semi-independent steps. Consider the steps that one may want to perform on a bit of DNA that has just been sequenced. First there's a basic quality check on the sequence: is it long enough? Are the number of ambiguous letters below the maximum limit? Then there's the "vector check." For technical reasons, the human DNA must be passed through a bacterium before it can be sequenced (this is the process of "cloning"). Not infrequently, the human DNA gets lost somewhere in the process and the sequence that's read consists entirely of the bacterial vector. The vector check ensures that only human DNA gets into the database. Next there's a check for repetitive sequences. Human DNA is full of repetitive elements that make fitting the sequencing jigsaw puzzle together challenging. The repetitive sequence check tries to match the new sequence against a library of known repetitive elements. A penultimate step is to attempt to match the new sequence against other sequences in a large community database of DNA sequences. Often a match at this point will provide a clue to the function of the new DNA sequence. After performing all these checks, the sequence along with the information that's been gathered about it along the way is loaded into the local laboratory database.
</p><p> 
The process of passing a DNA sequence through these independent analytic steps looks kind of like a pipeline, and it didn't take us long to realize that a UNIX pipe could handle the job. We developed a simple Perl-based data exchange format called <i><i>boulderio</i></i> that allowed loosely coupled programs to add information to a pipe-based I/O stream. <i><i>boulderio</i></i> is based on tag/value pairs. A Perl module makes it easy for programs to reach into the input stream, pull out only the tags they're interested in, do something with them, and drop new tags into output the stream. Any tags that the program isn't interested in are just passed through to standard output so that other programs in the pipeline can get to them.
</p><p> 
Using this type of scheme, the process of analyzing a new DNA sequence looks something like this (this is not exactly the set of scripts that we use, but it's close enough):

</p><pre>name_sequence.pl &lt; new.DNA |
quality_check.pl | 
vector_check.pl |
find_repeats.pl |
search_big_database.pl |
load_lab_database.pl
</pre>
<p>
A file containing the new DNA sequence is processed by a Perl script named <tt>name_sequence.pl</tt>, whose only job is to give the sequence a new unique name and to put it into <i><i>boulderio</i></i> format. Its output looks like this:

</p><pre> 
NAME=L26P93.2 
SEQUENCE=GATTTCAGAGTCCCAGATTTCCCCCAGGGGGTTTCCAGAGAGCCC...
</pre>
<p>

The output from name_sequence.pl is next passed to the quality checking program, which looks for the SEQUENCE tag, runs the quality checking algorithm, and writes its conclusion to the data stream. The data stream now looks like this:

 </p><pre>NAME=L26P93.2 
SEQUENCE=GATTTCAGAGTCCCAGATTTCCCCCAGGGGGTTTCCAGAGAGCCC...
QUALITY_CHECK=OK 
</pre>
<p>

Now the data stream enters the vector checker. It pulls the SEQUENCE tag out of the stream and runs the vector checking algorithm. The data stream now looks like this:

</p><pre> 
NAME=L26P93.2 SEQUENCE=GATTTCAGAGTCCCAGATTTCCCCCAGGGGGTTTCCAGAGAGCCC......
QUALITY_CHECK=OK 
VECTOR_CHECK=OK 
VECTOR_START=10 
VECTOR_LENGTH=300 
</pre>
<p>

This continues down the pipeline, until at last the <tt>load_lab_database.pl</tt> script collates all the data, makes some final conclusions about whether the sequence is suitable for further use, and enters all the results into the laboratory database. 
One of the nice features of the <i>boulderio</i> format is that multiple sequence records can be processed sequentially in the same UNIX pipeline. An "=" sign marks the end of one record and the beginning of the next:
	
</p><pre>	 
NAME=L26P93.2 
SEQUENCE=GATTTCAGAGTCCCAGATTTCCCCCAGGGGGTTTCCAGAGAGCCC... 
=
NAME=L26P93.3 
SEQUENCE=CCCCTAGAGAGAGAGAGCCGAGTTCAAAGTCAAAACCCATTCTCTCTC... 
= 
</pre>
<p>

There's also a way to create subrecords ‚Ä¶</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.foo.be/docs/tpj/issues/vol1_2/tpj0102-0001.html">https://www.foo.be/docs/tpj/issues/vol1_2/tpj0102-0001.html</a></em></p>]]>
            </description>
            <link>https://www.foo.be/docs/tpj/issues/vol1_2/tpj0102-0001.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26296030</guid>
            <pubDate>Sun, 28 Feb 2021 19:01:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[World Beer Index 2021: The Cost and Consumption of Beer Around the World]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 77 (<a href="https://news.ycombinator.com/item?id=26295875">thread link</a>) | @giuliomagnifico
<br/>
February 28, 2021 | https://www.expensivity.com/beer-around-the-world/ | <a href="https://web.archive.org/web/*/https://www.expensivity.com/beer-around-the-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="entry-content">
<p>Beer. Everybody likes to drink it. Nobody likes to pay for it. Still, the cost of a beer stings more or less depending on where in the world you‚Äôre drinking.</p>
<p>Expensivity wondered just how much the cost of beer differs from country and the effect the price of beer has on national consumption. We researched the price of a beer around the world and used World Health Organization statistics to figure out who‚Äôs drinking it all.</p>
<p><em>All prices are in US dollars. All beers are 33cl (330ml) bottles.</em></p>
<h2><strong>Key Findings</strong></h2>
<ul><li><strong>Qatar</strong> has the <strong>most expensive beer in the world</strong>, with an average price of <strong>US$11.26</strong> per 33cl (330ml) bottle.</li><li>The <strong>cheapest beer</strong> is in <strong>South Africa</strong>, where the average price is <strong>$1.68</strong> per bottle.</li><li>The <strong>Czech Republic</strong> has the <strong>highest consumption rate</strong>, with <strong>468 beers</strong> per person per year.</li><li><strong>Germans</strong> spend an average <strong>$1,907.78 per year</strong> on beer, the <strong>top figure</strong> in our study.</li></ul>
<h2><strong>Qatar Wins World Cup for Expensive Beer</strong></h2>
<p>A beer in Qatar is expensive. The mostly Muslim country introduced a <a href="https://www.nytimes.com/2019/01/01/world/middleeast/qatar-tax-alcohol.html">100% tax</a> on alcohol imports ahead of the 2022 World Cup, and visitors need a special permit to drink alcohol. China looks pretty expensive too, but consider that we averaged the price of a hotel beer ($13.61) and a supermarket beer ($1.81). </p>
<figure><a href="https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price.jpg"><img width="1200" height="800" src="https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price.jpg" alt="The Price of Beer Around The World" srcset="https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price.jpg 1200w, https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price-300x200.jpg 300w, https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price-1024x683.jpg 1024w, https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price-768x512.jpg 768w, https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price-1090x726.jpg 1090w" sizes="(max-width: 1200px) 100vw, 1200px"></a></figure>
<p><a href="https://www.expensivity.com/wp-content/uploads/2021/02/1-The-Price-of-A-Beer-Map-avg-price.jpg"><strong>Tap on the map to see it full size</strong></a></p>
<p>It‚Äôs clear the steep prices are aimed at visitors. Beer is cheapest in South Africa, where a <a href="https://www.dailymaverick.co.za/article/2020-10-26-counting-the-cost-of-cheap-easily-available-alcohol-in-south-africa/">culture of buying in bulk</a> tends to keep prices down.</p>
<h2><strong>The International Beer Index in Full</strong></h2>
<p>Where there is beer, there are beer geeks. Here is Expensivity‚Äôs data in full so you can find out exactly what kind of beer culture to expect from country to country. Click the arrows to sort by price, consumption, or total spend.</p>

<p>The ten countries with the highest average annual beer bill each have beer that costs upwards of four bucks. However, second-placed Poland is notable for its 62¬¢ carry-out beer, suggesting that much of Poland‚Äôs $1,738 average beer bill is built up by hotel-faring bachelor parties.</p>
<p>Bosnia is an outlier among the big drinkers: the country is in eighth place for beer consumption by bottle (331/year) but 30<sup>th</sup> for overall spend ($647.21), thanks to an average price that comes in under two bucks.</p>
<h2><strong>Germany Spends the Most On Beer</strong></h2>
<p>Haitians just aren‚Äôt that into beer. Spirits account for a whopping<a href="https://www.statista.com/statistics/973941/alcohol-consumption-latin-america-country-drink-type/"> 97% of booze consumed</a> in Haiti, where people drink fewer than four beers per year on average, with an annual beer bill of $10.02. That‚Äôs the lowest beer consumption and spend in our study.</p>
<div><figure><img width="1200" height="800" src="https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend.jpg" alt="How Much Do People Spend on Beer Annually?" srcset="https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend.jpg 1200w, https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend-300x200.jpg 300w, https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend-1024x683.jpg 1024w, https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend-768x512.jpg 768w, https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend-1090x726.jpg 1090w" sizes="(max-width: 1200px) 100vw, 1200px"></figure></div>
<p><a rel="noreferrer noopener" href="https://www.expensivity.com/wp-content/uploads/2021/02/2-How-Much-Do-People-Spend-Map-avg-spend.jpg" target="_blank"><strong>Tap on the map to see it full size</strong></a></p>
<p>At the other end of the scale, Germans spend just shy of $2k/year on beer. We found 15 countries with more expensive beer than Germany, but the nation sinks 411 bottles per person annually, so it pays the most in total. Germany is known for its<a href="https://www.dw.com/en/beer-culture-this-is-how-germany-drinks/a-19201434"> beer culture</a> and a stringent (delicious) beer purity law that has stood for over 500 years.</p>
<h2><strong>Czechia and Spain Lead Drinking Contest</strong></h2>
<p>So, who‚Äôs drinking all the beer? The Czech Republic takes the title, with 468 beers per person per year. However, capital Prague is the fourth most-visited city in Europe and infamous for its bachelor parties (<a href="https://www.lonelyplanet.com/articles/prague-different-type-visitor-after-lockdown">for now at least</a>). Like sunny Spain, in second place, Czechia‚Äôs beer consumption may be significantly swelled by visiting merry-makers.</p>
<div><figure><a href="https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed.jpg"><img width="1200" height="800" src="https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed.jpg" alt="How Much Beer Do People Drink In Different Countries?" srcset="https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed.jpg 1200w, https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed-300x200.jpg 300w, https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed-1024x683.jpg 1024w, https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed-768x512.jpg 768w, https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed-1090x726.jpg 1090w" sizes="(max-width: 1200px) 100vw, 1200px"></a></figure></div>
<p><a href="https://www.expensivity.com/wp-content/uploads/2021/02/3-How-Much-Beer-Do-People-Drink-Map-avg-consumed.jpg"><strong>Tap on the map to see it full size</strong></a></p>
<p>Haiti drinks the least beer, counted per bottle or per spend. Most of the countries with a low beer intake can credit their predominantly Muslim populations for the abstinence. Armenia is an exception. The west Asian country drinks just 40 beers per person annually, with locals favoring<a href="https://theculturetrip.com/europe/armenia/articles/alcoholic-drinks-you-should-try-in-armenia/"> brandy, vodka, and wine</a>.</p>
<p>Armenians might not drink much beer, but the beer they drink is delicious, cheap, and<a href="https://www.smithsonianmag.com/travel/armenia-might-be-one-oldest-and-youngest-beermaking-countries-world-180964860/"> finely crafted</a>. Wherever you‚Äôre drinking in the world, be sure to check out the tradition behind your beer, as well as the cost ‚Äì nothing adds<a href="https://www.expensivity.com/expensivity-by-the-ounce/"> value</a> to your experience like a beer with a story!</p>
<figure><img width="1024" height="690" src="https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP-1024x690.jpg" alt="" srcset="https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP-1024x690.jpg 1024w, https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP-300x202.jpg 300w, https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP-768x517.jpg 768w, https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP-1536x1034.jpg 1536w, https://www.expensivity.com/wp-content/uploads/2021/02/lager-beer-with-homemade-pretzels-5FDLUTP.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>
<h3><strong>METHODOLOGY &amp; SOURCES</strong></h3>
<p>We collated the prices of a 330ml bottle of beer in supermarkets around the world using online shops, focusing on well-known beer brands such as Corona and Heineken. When we couldn‚Äôt find the price via an online shop, we used <a href="https://www.numbeo.com/cost-of-living/">numbeo.com</a>.</p>
<p>To gain an average price, we called up hotels to find out the price of a beer from their lobby bar, and when this wasn‚Äôt available, we used menus from bars found online. Once all the data was collected, we calculated the average price in US dollars using <a href="http://xe.com/">xe.com</a>.</p>
<p>Using the <a href="https://www.who.int/data/gho/data/indicators/indicator-details/GHO/alcohol-total-per-capita-(15-)-consumption-(in-litres-of-pure-alcohol)-with-95-ci">World Health</a> <a href="https://www.who.int/data/gho/data/indicators/indicator-details/GHO/alcohol-consumption-of-pure-alcohol-by-type-of-beverage-(-)">Organisation statistics</a>, we found the amount of alcohol consumption per capita and the percentage of annual beer consumption.</p>
</div></div>]]>
            </description>
            <link>https://www.expensivity.com/beer-around-the-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26295875</guid>
            <pubDate>Sun, 28 Feb 2021 18:44:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JavaScript Tips for React Developers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26295794">thread link</a>) | @psuranas
<br/>
February 28, 2021 | https://prateeksurana.me/blog/javascript-tips-for-react-developers/ | <a href="https://web.archive.org/web/*/https://prateeksurana.me/blog/javascript-tips-for-react-developers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>I have been working with React for the past couple of years, so naturally, I am not really proud of the code that I wrote when I was just beginning with React, because now I know the mistakes I made which I wasn't aware of back then.</p><p>But fast-forwarding to today, I have learned quite a bit along the way through contributing to open source, watching/reading some interesting blogs and conference talks and viewing how other people write code.</p><p>Here are some Javascript tips that would've helped my past self and maybe you, in writing more efficient and maintainable React code -</p><h2><a id="1-use-conditional-rendering-effectively" href="#1-use-conditional-rendering-effectively"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> 1. Use conditional rendering effectively</a></h2><p>As a React developer, you must've been in a situation where you only want to display a component when a certain condition from a prop or state is satisfied or render different components depending on the different values of the state.</p><p>For instance, if you have a component where you want to show a loading indicator when the request is being made and render the component with data when the request is successful, this is the way I like to do it -</p><pre><code><span>const</span> <span>SomeComponent</span> <span>=</span> <span>(</span><span><span>{</span> isLoading<span>,</span> data <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span><p>	<span>if</span><span>(</span>isLoading<span>)</span> <span>{</span><br>    <span>return</span> <span><span><span>&lt;</span><span>Loader</span></span><span>/&gt;</span></span><br>  <span>}</span></p><p>  <span>return</span> <span>(</span><br>     <span><span><span>&lt;</span><span>DataHandler</span></span><span>&gt;</span></span><span><br>       .<br>       .<br>     </span><span><span><span>&lt;/</span><span>DataHandler</span></span><span>&gt;</span></span><br>  <span>)</span><span>;</span></p><p><span>}</span></p></code></pre><p>But what if you want to render something inside JSX when a particular condition is satisfied in that case you can use the Logical AND operator (<code>&amp;&amp;</code>) to render it -</p><pre><code><span>const</span> <span>Button</span> <span>=</span> <span>(</span><span><span>{</span> showHomeIcon<span>,</span> children<span>,</span> onClick <span>}</span></span><span>)</span> <span>=&gt;</span> <span>(</span><br>  <span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>"</span>button<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span><span>&gt;</span></span><span><br>    </span><span>{</span>showHomeIcon <span>&amp;&amp;</span> <span><span><span>&lt;</span><span>HomeIcon</span></span> <span>/&gt;</span></span><span>}</span><span><br>    </span><span>{</span>children<span>}</span><span><br>  </span><span><span><span>&lt;/</span>button</span><span>&gt;</span></span><br><span>)</span><span>;</span></code></pre><p>Although a more useful scenario would be doing something like this, where you have an optional prop called icon which is a string and contains the name of the icon that can be used to render the icon component accordingly -</p><pre><code><span>const</span> <span>Button</span> <span>=</span> <span>(</span><span><span>{</span> icon<span>,</span> children<span>,</span> onClick <span>}</span></span><span>)</span> <span>=&gt;</span> <span>(</span><br>  <span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>"</span>button<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span>onClick<span>}</span></span><span>&gt;</span></span><span><br>    </span><span>{</span><span>}</span><span><br>    </span><span>{</span><span>typeof</span> icon <span>===</span> <span>"string"</span> <span>&amp;&amp;</span> <span><span><span>&lt;</span><span>Icon</span></span> <span>name</span><span><span>=</span><span>{</span>icon<span>}</span></span> <span>/&gt;</span></span><span>}</span><span><br>    </span><span>{</span>children<span>}</span><span><br>  </span><span><span><span>&lt;/</span>button</span><span>&gt;</span></span><br><span>)</span><span>;</span><p><br><span><span><span>&lt;</span><span>Button</span></span> <span>icon</span><span><span>=</span><span>"</span>home<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span>handleClick<span>}</span></span><span>&gt;</span></span><span>Home</span><span><span><span>&lt;/</span><span>Button</span></span><span>&gt;</span></span></p><p><br><span><span><span>&lt;</span><span>Button</span></span> <span>onClick</span><span><span>=</span><span>{</span>handleClick<span>}</span></span><span>&gt;</span></span><span>About</span><span><span><span>&lt;/</span><span>Button</span></span><span>&gt;</span></span></p></code></pre><p>So this solves the problem when you only have one component but what about when you have two or more than two components that you want to render based on some prop or state variable?</p><p>For two components ternary operator is my goto method, because of its simiplicity -</p><pre><code><span>const</span> <span>App</span> <span>=</span> <span>props</span> <span>=&gt;</span> <span>{</span><br>  <span>const</span> canViewWelcomeText <span>=</span> <span>isUserAuthenticated</span><span>(</span>props<span>)</span><span>;</span><p>  <span>return</span> canViewWelcomeText <span>?</span> <span>(</span><br>    <span><span><span>&lt;</span>div</span><span>&gt;</span></span><span>Hey, there! Welcome back. Its been a while.</span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span><br>  <span>)</span> <span>:</span> <span>(</span><br>    <span><span><span>&lt;</span>div</span><span>&gt;</span></span><span>You need to login to view this page</span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span><br>  <span>)</span><span>;</span><br><span>}</span><span>;</span></p></code></pre><p>And if you have quite a few components that need to be rendered from a condition, then switch case is probably the best one to go with -</p><pre><code><span>const</span> <span>getCurrentComponent</span> <span>=</span> <span>currentTab</span> <span>=&gt;</span> <span>{</span><br>  <span>switch</span> <span>(</span>currentTab<span>)</span> <span>{</span><br>    <span>case</span> <span>'profile'</span><span>:</span><br>      <span>return</span> <span><span><span>&lt;</span><span>Profile</span></span> <span>/&gt;</span></span><span>;</span><br>    <span>case</span> <span>'settings'</span><span>:</span><br>      <span>return</span> <span><span><span>&lt;</span><span>Settings</span></span> <span>/&gt;</span></span><span>;</span><br>    <span>default</span><span>:</span><br>      <span>return</span> <span><span><span>&lt;</span><span>Home</span></span> <span>/&gt;</span></span><span>;</span><br>  <span>}</span><br><span>}</span><span>;</span><p><span>const</span> <span>Dashboard</span> <span>=</span> <span>props</span> <span>=&gt;</span> <span>{</span><br>  <span>const</span> <span>[</span>currentTab<span>,</span> setTab<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>'profile'</span><span>)</span><span>;</span></p><p>  <span>return</span> <span>(</span><br>    <span><span><span>&lt;</span>div</span> <span>className</span><span><span>=</span><span>"</span>dashboard<span>"</span></span><span>&gt;</span></span><span><br>      </span><span><span><span>&lt;</span><span>PrimaryTab</span></span> <span>currentTab</span><span><span>=</span><span>{</span>currentTab<span>}</span></span> <span>setTab</span><span><span>=</span><span>{</span>setTab<span>}</span></span> <span>/&gt;</span></span><span><br>      </span><span>{</span><span>getCurrentComponent</span><span>(</span>currentTab<span>)</span><span>}</span><span><br>    </span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span><br>  <span>)</span><span>;</span><br><span>}</span><span>;</span></p></code></pre><h2><a id="2-avoid-using-truthy-tests" href="#2-avoid-using-truthy-tests"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> 2. Avoid using truthy tests</a></h2><p>If you are familiar with JavaScript then you might be aware of <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy</a> and <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> values. So a truthy test is nothing but using this coercion ability of JavaScript in control flow statements like this</p><pre><code><br><br><span>if</span> <span>(</span>somVar<span>)</span> <span>{</span><br>	<span>doSomething</span><span>(</span><span>)</span><span>;</span><br><span>}</span> </code></pre><p>This might look good at first if you want to avoid something like <code>null</code> since it is a falsy value so the statement will work as expected. But the catch here is that this is prone to bugs that can be very difficult to track down. This is because the above statement would block the flow for not <code>null</code> but also for all these falsy values of <code>someVar</code> which we might want to avoid -</p><pre><code>someVar <span>=</span> <span>0</span><br>someVar <span>=</span> <span>""</span><br>someVar <span>=</span> <span>false</span><br>someVar <span>=</span> <span>undefined</span></code></pre><p>So what is the correct way for these checks?</p><p>The valid way is being as straightforward as possible for these checks to avoid any bugs from creeping in. For the above case it would be -</p><pre><code><br><span>if</span> <span>(</span>someVar <span>!==</span> <span>null</span><span>)</span> <span>{</span><br>	<span>doSomething</span><span>(</span><span>)</span><span>;</span><br><span>}</span></code></pre><blockquote><p>If you're sure that the variable being passed is a boolean then you can use the former approach.</p></blockquote><p>This also applies when doing conditional rendering with the Logical and operator that we saw in the previous tip.</p><p>If the first operator is falsy then JavaScript returns that object. So in case of an expression like <code>0 &amp;&amp; "javascript"</code> will return <code>0</code> and <code>false &amp;&amp; "javascript"</code> will return <code>false</code> . This can bite you if you were doing something like this -</p><pre><code><br><br><span>{</span>cats<span>.</span>length <span>&amp;&amp;</span> <span><span><span>&lt;</span><span>AllCats</span></span> <span>cats</span><span><span>=</span><span>{</span>cats<span>}</span></span> <span>/&gt;</span></span><span>}</span><p><br><br><span>{</span>cats<span>.</span>length <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> <span><span><span>&lt;</span><span>AllCats</span></span> <span>cats</span><span><span>=</span><span>{</span>cats<span>}</span></span> <span>/&gt;</span></span><span>}</span></p></code></pre><h2><a id="3-use-optional-chaining-and-nullish-coalescing" href="#3-use-optional-chaining-and-nullish-coalescing"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> 3. Use optional chaining and nullish coalescing</a></h2><p>When dealing with data in our apps we often need to deal with parts of data that call be <code>null</code> or <code>undefined</code> and provide default values.</p><p>Let's suppose we have an API that returns the details of a Pet in the following format -</p><pre><code><br><span>{</span><br>  id<span>:</span> <span>42</span><span>,</span><br>  name<span>:</span> <span>'Ghost'</span><span>,</span><br>  type<span>:</span> <span>'Mammal'</span><span>,</span><br>  diet<span>:</span> <span>'Carnivore'</span><br>  owner<span>:</span> <span>{</span><br>    first_name<span>:</span> <span>'Jon'</span><span>,</span><br>    last_name<span>:</span> <span>'Snow'</span><span>,</span><br>    family<span>:</span> <span>{</span><br>      name<span>:</span> <span>'Stark'</span><span>,</span><br>      location<span>:</span> <span>'Winterfell'</span><br>    <span>}</span><br>  <span>}</span><br><span>}</span></code></pre><p>So you could do something like this if you wanted the first name of the pet owner</p><pre><code><span>const</span> ownerName <span>=</span> pet<span>.</span>owner<span>.</span>first_name<span>;</span></code></pre><p>But like all things in the universe can't be perfect, our API doesn't guarantee that all the details would be available for any given pet and can be <code>null</code> or <code>undefined</code>.</p><p>In that case, the above line of code can result and the following error "Reference error cannot read property <code>first_name</code> of <code>null</code>" and crash your app if the owner is <code>null</code>.</p><p>This is where <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">optional chaining</a> saves you. The optional chaining operator (<code>?.</code>) allows you to read the property deep in the chain without having to validate whether the chain is valid, and instead of a reference error, it would return the same old <code>undefined</code>.</p><p>So we could easily check for the owner name or even the owner family name without worrying about any errors, like this -</p><pre><code><span>const</span> ownerName <span>=</span> pet<span>?.</span>owner<span>?.</span>first_name<span>;</span><br><span>const</span> ownerFamily <span>=</span> pet<span>?.</span>owner<span>?.</span>family<span>?.</span>name<span>;</span></code></pre><blockquote><p>Optional chaining can also be used with function calls on properties you are not really sure to exist. For instance, you can do this with an array <code>friends?.join(",")</code> , this won't result in an error if friends is anything other than an array, even <code>undefined</code>.</p></blockquote><p>Now, this would avoid errors but you still wouldn't want your users to show <code>undefined</code> in case it is not available. This is where Nullish Coalescing comes in -</p><pre><code><span>const</span> ownerName <span>=</span> pet<span>?.</span>owner<span>?.</span>first_name <span>??</span> <span>'Unknown'</span><span>;</span></code></pre><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator">Nullish Coalescing operator</a> (<code>??</code>) returns the right hand side operand when the left hand side is <code>null</code> or <code>undefined</code> and otherwise it returns the left hand side operand.</p><p>You might think here that the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR">Logical Or operator</a> (<code>||</code>) would also have done the same thing. Well in that case I hope you haven't forgotten the truthy and falsy hell of JavaScript that we just covered. Since this operator would return the right hand side operand for all falsy values and can cause hard to debug errors as mentioned in the previous section.</p><blockquote><p>Since these methods were recently released with <a href="https://auth0.com/blog/javascript-whats-new-es2020/">ECMAScript 2020 spec</a> browser compatibility for these methods is still in the preliminary stages and only the modern browsers support it right now.</p><p>But don't worry most setups we use to compile our apps have already got us covered. If you're using TypeScript ‚â• 3.7 then <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html">these methods are supported out of the box</a>.</p><p>Else if you're using a typical Webpack + babel setup then you can include the <a href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining"><code>@babel/plugin-proposal-optional-chaining</code></a> and <a href="https://babeljs.io/docs/en/babel-plugin-proposal-nullish-coalescing-operator"><code>@babel/plugin-proposal-nullish-coalescing-operator</code></a> plugins in your babel config to support these methods.</p></blockquote><h2><a id="4-avoid-premature-optimization" href="#4-avoid-premature-optimization"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg> 4. Avoid premature optimization</a></h2><p>Be really careful when you want to memoize something in React, because if not done properly it might lead to even worse performance.</p><p>I have often seen people prematurely optimizing everything they come across without considering the cost it comes with. For instance, using <code>useCallback</code> in situations like this -</p><pre><code><span>const</span> <span>MyForm</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><br>  <span>const</span> <span>[</span>firstName<span>,</span> setFirstName<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>''</span><span>)</span><span>;</span><p>  <span>const</span> <span>handleSubmit</span> <span>=</span> <span>event</span> <span>=&gt;</span> <span>{</span><br>    <br>  <span>}</span><span>;</span></p><p>    <br>  <span>const</span> handleChange <span>=</span> React<span>.</span><span>useCallback</span><span>(</span><span>event</span> <span>=&gt;</span> <span>{</span><br>    <span>setFirstName</span><span>(</span>event<span>.</span>target<span>.</span>value<span>)</span><span>;</span><br>  <span>}</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span></p><p>  <span>return</span> <span>(</span><br>    <span><span><span>&lt;</span>form</span> <span>onSubmit</span><span><span>=</span><span>{</span>handleSubmit<span>}</span></span><span>&gt;</span></span><span><br>      </span><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>"</span>text<span>"</span></span> <span>name</span><span><span>=</span><span>"</span>firstName<span>"</span></span> <span>onChange</span><span><span>=</span><span>{</span>handleChange<span>}</span></span> <span>/&gt;</span></span><span><br>      </span><span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>"</span>submit<span>"</span></span> <span>/&gt;</span></span><span><br>    </span><span><span><span>&lt;/</span>form</span><span>&gt;</span></span><br>  <span>)</span><span>;</span><br><span>}</span><span>;</span></p></code></pre><p>Now you might've heard that <code>useCallback</code> is known to improve performance by memoizing the function and only updating it when the dependencies change. That is true but you need to understand that <strong>every optimization comes with a cost associated with it</strong>.</p><p>In the above case, you are doing more work by creating a <code>useCallback</code> which in itself is running some logical expression checks, hence you're better off with just defining the inline function directly like this -</p><pre><code><span>const</span> <span>handleChange</span> <span>=</span> <span>event</span> <span>=&gt;</span> <span>{</span><br>    <span>setFirstName</span><span>(</span>event<span>.</span>target<span>.</span>value<span>)</span><span>;</span><br><span>}</span><span>;</span></code></pre><p>The same things apply with <code>React.memo</code>. If you have a component like this that accepts children props, then memoizing the component is basically useless if the children are not memoized -</p><pre><code><span>const</span> UselessMemoizedHeader <span>=</span> React<span>.</span><span>memo</span><span>(</span><span>(</span><span><span>{</span> children <span>}</span></span><span>)</span> <span>=&gt;</span> <span><span><span>&lt;</span>div</span><span>&gt;</span></span><span>{</span>children<span>}</span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span><span>)</span><span>;</span><p><span>const</span> <span>SomeComponent</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><br>  <span>const</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> React<span>.</span><span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span><br>  <span>return</span> <span>(</span><br>    <span><span><span>&lt;</span>div</span><span>&gt;</span></span><span><br>      </span><span><span><span>&lt;</span><span>UselessMemoizedHeader</span></span><span>&gt;</span></span><span><br>        </span><span><span><span>&lt;</span>span</span><span>&gt;</span></span><span>Header</span><span><span><span>&lt;/</span>span</span><span>&gt;</span></span><span><br>      </span><span><span><span>&lt;/</span><span>UselessMemoizedHeader</span></span><span>&gt;</span></span><span><br>      Count: </span><span>{</span>count<span>}</span><span><br>      </span><span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>"</span>button<span>"</span></span> <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span> <span>setCount</span><span>(</span><span>currentCount</span> <span>=&gt;</span> currentCount <span>+</span> <span>1</span><span>)</span><span>}</span></span><span>&gt;</span></span><span><br>        Increment count<br>      </span><span><span><span>&lt;/</span>button</span><span>&gt;</span></span><span><br>    </span><span><span><span>&lt;/</span>div</span><span>&gt;</span></span><br>  <span>)</span><span>;</span><br><span>}</span><span>;</span></p></code></pre><p>In the above case, the <code>UselessMemoizedHeader</code> component would re-render every time you increment the count even though you might think it is memoized.</p><p>But why? Since memo just does a shallow comparison of the current props and previous props, and because the children prop won't be <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness">refrentially equal</a> you end up re-rendering the <code>UselessMemoizedHeader</code> component every time the count changes.</p><p>Your code ends up being even worse off because of that unnecessary children prop comparison on every render.</p><p>So when do you actually need to memoize? Well Kent C. Dodds <a href="https://kentcdodds.com/blog/usememo-and-usecallback">covers all the above things with when you should memoize in great detail</a> ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://prateeksurana.me/blog/javascript-tips-for-react-developers/">https://prateeksurana.me/blog/javascript-tips-for-react-developers/</a></em></p>]]>
            </description>
            <link>https://prateeksurana.me/blog/javascript-tips-for-react-developers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26295794</guid>
            <pubDate>Sun, 28 Feb 2021 18:36:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tools I use to protect my privacy online]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26295775">thread link</a>) | @sdas7
<br/>
February 28, 2021 | https://consult.sauvik.me/posts/stay-safe-online/ | <a href="https://web.archive.org/web/*/https://consult.sauvik.me/posts/stay-safe-online/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>It shouldn‚Äôt have to be this way, but the burden of protecting your privacy as you browse the web is your own. I do what I can in my research and consulting to advocate for systemic change in design and policy to reduce the burden on the individual user; but that kind of change is slow to fruit. Meanwhile, there are tools that you, the individual, can use to partially protect yourself against the forces of surveillance capitalism and other institutional privacy threats. I will share five that I use myself.</p><hr><h2 id="i-use-the-dashlane-vpn-to-curtail-web-tracking-and-circumvent-regional-content-filters">I use the Dashlane VPN to curtail web tracking and circumvent regional content filters</h2><p>You probably already know about Virtual Private Networks (VPNs). If you work at a sufficiently large institution, chances are your workplace has one in place to allow you remote access to the institution‚Äôs intranet. VPNs do more than helping employers facilitate secure intranet access, however. VPNs help obfuscate your web traffic ‚Äî both from the websites you visit, and from your Internet Service Provider (e.g., Verizon, Comcast, AT&amp;T).</p><p>Eliding key technical details, you can think of a VPN as a middleman / intermediary between you and the Internet-at-large. While this slows down your connection slightly, the benefit is that the rest of your web traffic is encrypted and routed through this middleman. This provides privacy benefits because, without the use of something like a VPN, ISPs can track every website you visit online. If you visit websites over plain HTTP (instead of HTTPS), they can only track what you do on those websites. And any personal data that your ISP keeps on you can be subpoena‚Äôd by, e.g., law enforcement. Moreover, ISPs can sell this information freely ‚Äî e.g., to advertising brokers, who may want to sell you targeted ads based on the websites you have frequented. You consented to this when you agreed to their terms of service.</p><p>Does that sound a little shady? It is! There are only a handful of ISPs in the country; in specific regions, there may be only one. And they work tirelessly to make sure that competitors cannot make headway. So most people do not have a real choice when it comes to their ISP. They agree to the terms because what else can they do if they want Internet?</p><p>Using a VPN service, the ISP will no longer be able to see what you download and what websites you visit. They <em>will</em> be able to see some meta-data, however ‚Äî e.g., that you are using a VPN, the encrypted data you are receiving and when you are connecting.</p><p>VPNs also allow you to hide or disguise yourself from the websites you visit. Indeed, many VPNs have servers all over the world. So, if there is content that is being blocked in the U.S. but not in Germany, you can use a VPN to make it seem like you are connecting from Germany.</p><p>The downside? Middlemen are usually inefficient ‚Äî and indeed, using a VPN will make your connection a little slower than if you were to not use it. Also, private VPN services cost money ‚Äî&nbsp;usually between $5 and $15 / month. Moreover, you are simply displacing trust from the ISP to the VPN service. While your ISP will not be able to see the websites you visit, the VPN service will be able to. Because of this, as a part of their terms of service, good private VPN services should be stateless ‚Äî they should not keep any record of the websites you visit through the VPN. This is also why you probably do <em>not</em> want to use your corporate VPN for surfing the web privately ‚Äî&nbsp;your employer will be able to see your web traffic if you do so.</p><p>Private VPN services are now common ‚Äî some popular private VPN services include Express VPN and Nord VPN. I have not used either, so I will not comment on them. But I know many people who use those services and have not heard any direct complaints.</p><p>I use the Dashlane VPN, and it works great. I use the Dashlane VPN because I use the Dashlane premium password manager, and the VPN service is included in the fee I pay for Dashlane premium. If you would like to try Dashlane premium for free for six months, you may use <a href="https://www.dashlane.com/cs/s23HfOIFsAxE">this referral link</a>.</p><h2 id="i-use-firefox-with-ublock-origin--decentraleyes-for-curtailing-web-trackers-while-browsing">I use Firefox with uBlock Origin + Decentraleyes for curtailing web trackers while browsing</h2><p>ISPs are just one threat to your privacy; many of the websites you visit also track and store as much information about you as they can ‚Äî the websites you visit, what you do on them, at what time of day, etc. Why? Because the prevailing business model of the web is surveillance capitalism ‚Äî keeping track of your personal data allows advertisers to develop rich profiles of what you like and what they would like you to like. These data, in turn, can be used to serve you with personalized advertisements ‚Äî&nbsp;and it‚Äôs important to note that these advertisements are not just obvious ones like Nike shoes you might like, but also things like article recommendations from political campaigns.</p><p>Stopping this tracking and nudging is not easy, but it starts with your choice of web browser. If you care about privacy, do not use web browsers released by institutions that have little vested interest in protecting your personal data.</p><p>I use Firefox. Firefox has some nice in-built or officially supported privacy-preserving features ‚Äî e.g., automated tracking prevention and containers. Containers help you isolate cookies to prevent third-party tracking. For example, with the Facebook container add-on on Firefox, you can be assured that Facebook cookies will not be</p><p>In addition to these in-built features, I also use a few extensions to further subvert tracking efforts. The most important is <a href="https://ublockorigin.com/">uBlock Origin</a>, an extension that automatically blocks thousands of known tracking scripts and advertisements. The second is <a href="https://decentraleyes.org/">Decentraleyes</a>, which blocks requests for common scripts distributed through centralized CDNs and provides local versions of those scripts instead ‚Äî e.g., for Google fonts. This prevents the hosts of those CDNs (often large companies like Google, Microsoft, Facebook) from tracking which websites you visit when those websites request content from those CDNs. Both of these extensions are open source; so I trust them more than I do less transparent alternatives like Ghostery.</p><p>Other privacy enthusiasts use Brave instead of Firefox. Brave is a relatively new web browser that has in-built tracker protection. It is also piloting an interesting new business model for <a href="https://brave.com/intro-to-brave-ads/">privacy-preserving targeted ads</a> ‚Äî&nbsp;the goal is to match a local ‚Äúinterests‚Äù profile that never leaves your computer with a set of candidate advertisements; this way, you get targeted advertisements without being tracked by a remote entity.</p><p>So why do I use Firefox and not Brave? I used to use Brave; I like Brave. But it started getting very slow for collaborative text editing on Overleaf on my machine. So, I switched to Firefox as my primary browser because I spend a lot of time writing papers on overleaf. There is also <a href="https://www.coindesk.com/brave-browsers-affiliate-link-controversy-explained">refer gate</a> ‚Äî i.e., Brave‚Äôs autocompleting of urls to cryptocurrency webpages to append their own affiliate codes. This has since been fixed, but it did build some enmity with the community.</p><p>My main qualm with Firefox is that while Mozilla is doubling down on its identity as a consumer privacy company, <a href="https://www.ghacks.net/2020/12/10/mozillas-revenue-jumped-to-828-million-u-s-dollar-in-2019/">the majority of its revenues do still come from Google ads</a> ‚Äî when you search for something through the Mozilla browser and you click on an ad on Google, Mozilla gets a royalty. While this is not a direct conflict of interest, it does mean that Mozilla profits from surveillance capitalism, too.</p><h2 id="i-use-protonmail-for-secure-encrypted-email-that-is-not-tracked-or-analyzed">I use ProtonMail for secure, encrypted email that is not tracked or analyzed</h2><p>Would it surprise you to learn that many free email services analyze your email? It shouldn‚Äôt; it‚Äôs how spam detection works, for example. But services like Gmail analyze your email for a lot more than spam detection. As with most other Google services, Gmail is beautiful, fast, usable and free. But in using it, you consent to Google being able to track what you say, what people are saying to you, and who you know. That information can be used by Google to learn more about you and your interests to serve you personalized ads; it can also be subpoena‚Äôd by the government.</p><p>I won‚Äôt dwell on this point for long, because most people understand email privacy without me needing to delve into the technical details. There are many secure email alternatives to Gmail now; what you are looking for, again, is service provided by a company that does not make its money from collecting personal data. Ideally, you will also want to find a company with servers hosted in a country with stronger consumer privacy protections ‚Äî&nbsp;e.g., Switzerland or Estonia.</p><p>I use <a href="https://protonmail.com/">ProtonMail</a>. It has a clean interface, and provides a host of nice security features (included end-to-end encryption and self-destructing messages).</p><h2 id="i-use-signal-for-end-to-end-encrypted-messaging">I use Signal for end-to-end encrypted messaging</h2><p>For all the same reasons that you might want privacy-preserving email, you want privacy-preserving messaging as well and this means a messaging service that utilizes end-to-end encryption (E2EE). E2EE means that only the sender and intended receivers will be able to read the messages. Nobody else ‚Äî not even the service it self ‚Äî will be able to read the messages.</p><p>While there are a number of E2EE messaging applications on the marketplace, I use and recommend Signal for two reasons. First, security in theory is different than security in practice. The Signal protocol is open-source and has been vetted by many in the security community, and so it easier to trust its security ‚Äúin practice‚Äù. Second, at least partially owing to WhatsApp‚Äôs recent announcement that it will share data with Facebook, a lot of people now use Signal ‚Äî and that‚Äôs important because a messenger is only useful if the person you want to message uses it! In fact, some research I did back in 2016 found that the key driver of secure messaging use was not promises of security, but simply the presence of one‚Äôs friends on the platform <sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p><h2 id="i-use-duckduckgo-for-tracking-free-search">I use DuckDuckGo for tracking-free search</h2><p>If you are reading this blog post, I do not think I have to convince you that search engines like Google track ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://consult.sauvik.me/posts/stay-safe-online/">https://consult.sauvik.me/posts/stay-safe-online/</a></em></p>]]>
            </description>
            <link>https://consult.sauvik.me/posts/stay-safe-online/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26295775</guid>
            <pubDate>Sun, 28 Feb 2021 18:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lean into Procrastination]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 12 (<a href="https://news.ycombinator.com/item?id=26295774">thread link</a>) | @patapizza
<br/>
February 28, 2021 | https://jodent.io/posts/lean-into-procrastination | <a href="https://web.archive.org/web/*/https://jodent.io/posts/lean-into-procrastination">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jodent.io/posts/lean-into-procrastination</link>
            <guid isPermaLink="false">hacker-news-small-sites-26295774</guid>
            <pubDate>Sun, 28 Feb 2021 18:34:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The A-Z80 FPGA CPU (2015)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26295630">thread link</a>) | @mariuz
<br/>
February 28, 2021 | https://baltazarstudios.com/z80-cpu/ | <a href="https://web.archive.org/web/*/https://baltazarstudios.com/z80-cpu/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
<p>This article contains a brief overview and a background of the&nbsp;<em>A-Z80</em> CPU created for FPGA boards and a <em>ZX Spectrum</em> implementation tied to it.</p>
<p>(You can find the Russian translation of this article here: <a href="https://howtorecover.me/z80-s-nulya" target="_blank" rel="noopener noreferrer">https://howtorecover.me/z80-s-nulya</a>)<br>
<span id="more-1108"></span></p>
<p>Every so often I let go of all that's on my mind and simply brainstorm and play with new ideas and their combinations (mostly based on the retro stuff). Then I pick what seems to excite me the most and deep dive into it.</p>
<figure id="attachment_1156" aria-describedby="caption-attachment-1156"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/ideas.jpg"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/ideas-512x341.jpg" alt="(partial) list of brainstorming ideas (2014)" width="512" height="341" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/ideas-512x341.jpg 512w, https://baltazarstudios.com/wp-content/uploads/2015/01/ideas-150x100.jpg 150w, https://baltazarstudios.com/wp-content/uploads/2015/01/ideas-1024x683.jpg 1024w, https://baltazarstudios.com/wp-content/uploads/2015/01/ideas-960x640.jpg 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/ideas.jpg 1039w" sizes="(max-width: 512px) 100vw, 512px"></a><figcaption id="caption-attachment-1156">(partial) list of brainstorming ideas (2014)</figcaption></figure>
<p>This time (early 2014), I wanted to re-make a <em>Sinclair ZX Spectrum</em> on an <strong>FPGA</strong>. There were already several implementations available and most of them used "off the shelf" components. One could simply pluck components written in Verilog (CPU, ULA) and with some glue logic quickly build a retro FPGA solution. There is no fun in doing that - or at least nothing much to learn about each component as one could learn by creating them from scratch.</p>
<p>I wanted to start with the Zilog Z80 CPU. Since the real people design their own CPUs (right?!), I decided I would make my own version of it. üôÇ</p>
<p>Both parts of this project (the&nbsp;<a title="A Z80 From the Ground Up" href="https://baltazarstudios.com/z80-ground/" target="_blank" rel="noopener noreferrer">A-Z80 CPU</a> and a <a title="Sinclair ZX Spectrum on the A-Z80" href="https://baltazarstudios.com/sinclair-zx-spectrum-z80/" target="_blank" rel="noopener noreferrer">ZX Spectrum</a> code that uses it) are fully described in separate blogs, and here I will try to tie them together using a somewhat less technical narrative.</p>
<p>I started reverse-engineering Zilog Z80 CPU about a year ago by running a working chip on a&nbsp;custom Arduino dongle board. I described it <a href="https://baltazarstudios.com/arduino-zilog-z80/" target="_blank" rel="noopener noreferrer">here</a>. It was interesting to see how the pins responded to various scenarios. I was mostly interested in <a href="https://baltazarstudios.com/zilog-z80-undocumented-behavior/" target="_blank" rel="noopener noreferrer">undocumented behaviour</a>&nbsp;hoping it will give me some hints on the CPU's internal architecture.</p>
<p>Then, I've found a set of articles by Ken Shirriff who actually reverse-engineered large portions of&nbsp;the&nbsp;Z80 from an image of a die. I've found the knowledge of "reading a die image" very exciting and the skill (in a weird way) very useful, so painstakingly I've learned to do the same. I reverse engineered a few other pieces of that silicon, like the <a href="https://baltazarstudios.com/z80-instruction-register-deciphered/" target="_blank" rel="noopener noreferrer">IR</a> register and a <a href="https://baltazarstudios.com/anatomy-z80-gate/" target="_blank" rel="noopener noreferrer">data pin</a>. Soon I got a hang of it&nbsp;and started "reading" other parts, as needed. It felt like a whole new world opened right in front of my eyes! Not much unlike stereogram images: as you look at it long enough, gates suddenly pop up in your mind and you start seeing transistors, pull-ups and latches out of a tangled mesh of colorful flat traces.</p>
<p>I had purchased an Altera FPGA board with a desire to learn that technology after working on a project at my work which was using one, quite beefy, Altera chip. Designing a circuitry on my own, I felt, was an exciting challenge and a great learning opportunity. Soon, I figured out how Verilog/SystemVerilog "works"; a language not too difficult to learn for any software person. I also brushed up on a logic design (I had one lousy taught EE class some 20 years ago).</p>
<p>Long story short, I started implementing selected parts of Z80 in the <em>Quartus</em> schematic editor and wrote related&nbsp;<em>ModelSim</em> tests one by one: first came the ALU (since it's design was well described by Ken), then the register file, sequencer, etc. Frankly, I did not know how would all of that fit or work <em>together</em>; I was simply enjoying the process, one block at a time. I just <em>loved</em> seeing wires toggling and gates doing their thing in a&nbsp;ModelSim simulation: a certain deep understanding of a digital design sank in while playing with it.</p>
<p><a href="https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run-512x307.png" alt="modelsim_run" width="512" height="307" srcset="https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run-512x307.png 512w, https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run-150x90.png 150w, https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run-1024x615.png 1024w, https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run-960x577.png 960w, https://baltazarstudios.com/wp-content/uploads/2014/09/modelsim_run.png 1680w" sizes="(max-width: 512px) 100vw, 512px"></a></p>
<p>I also read all I could get my hands on: patents on Z80 (and other CPUs) which provided valuable insights; talks, lectures and over time I got a pretty good ideas on how it all&nbsp;<em>should</em>&nbsp;work.</p>
<p>The most complicated task was to create the instruction timing matrix. Using all the information gathered in the process, I created an Excel spreadsheet with the exact timing of required micro-operations for each M (machine) and T (clock) stated of each opcode class.</p>
<p>This matrix defines the CPU and ensures it is fully Z80-compatible. In fact, if you modify it, you could create new instructions, enhance the CPU or even create a completely different one and the design would still just work!</p>
<p>The following set of images show the complete timing matrix printed from <a href="https://baltazarstudios.com/webshare/A-Z80/timings.xps" target="_blank" rel="noopener noreferrer">this XPS file</a>. It is printed into 8 consecutive images; click on each to see it in a full, readable size:</p>
<figure id="attachment_1159" aria-describedby="caption-attachment-1159"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1-116x150.png" alt="A-Z80 Timings 1/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.1.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1159">A-Z80 Timings 1/8</figcaption></figure>
<figure id="attachment_1160" aria-describedby="caption-attachment-1160"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2-116x150.png" alt="A-Z80 Timings 2/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.2.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1160">A-Z80 Timings 2/8</figcaption></figure>
<figure id="attachment_1161" aria-describedby="caption-attachment-1161"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3-116x150.png" alt="A-Z80 Timings 3/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.3.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1161">A-Z80 Timings 3/8</figcaption></figure>
<figure id="attachment_1162" aria-describedby="caption-attachment-1162"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4-116x150.png" alt="A-Z80 Timings 4/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.4.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1162">A-Z80 Timings 4/8</figcaption></figure>
<figure id="attachment_1163" aria-describedby="caption-attachment-1163"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5-116x150.png" alt="A-Z80 Timings 5/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.5.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1163">A-Z80 Timings 5/8</figcaption></figure>
<figure id="attachment_1164" aria-describedby="caption-attachment-1164"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6-116x150.png" alt="A-Z80 Timings 6/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.6.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1164">A-Z80 Timings 6/8</figcaption></figure>
<figure id="attachment_1165" aria-describedby="caption-attachment-1165"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7-116x150.png" alt="A-Z80 Timings 7/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.7.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1165">A-Z80 Timings 7/8</figcaption></figure>
<figure id="attachment_1166" aria-describedby="caption-attachment-1166"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8.png"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8-116x150.png" alt="A-Z80 Timings 8/8" width="116" height="150" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8-116x150.png 116w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8-396x512.png 396w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8-791x1024.png 791w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8-960x1242.png 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/timings.xps_.8.png 1632w" sizes="(max-width: 116px) 100vw, 116px"></a><figcaption id="caption-attachment-1166">A-Z80 Timings 8/8</figcaption></figure>
<p>Each column, <strong>B</strong> through <strong>AH</strong>, contains zero or more micro-operations on specific internal design blocks (<a href="https://baltazarstudios.com/webshare/timing_macros.i.html" target="_blank" rel="noopener noreferrer">this file</a> deciphers the tokens used). Groups of instructions are listed in a row as statically decoded by the PLA table, each line corresponding to specific M and T cycle.</p>
<p>Rather early in the process, I devised several tests, including a&nbsp;full <em>Fuse</em>-based test suite which could run every instruction against a set of known results. That test proved the most valuable: it enabled to flag regressions as well as to check that the instructions were implemented correctly.</p>
<p>After some time, I was able to combine several Z80 instructions and run them in sequence. Enjoying many exciting milestone moments along the way, the one that stuck was when the PC register correctly incremented and was fetching successive instructions. They were also correctly executed since each one was tested separately: it all just worked!</p>
<p>After adding a virtual UART module in Verilog, I was able to get simple "Hello, world" programs sending the text out to a terminal! The same output would be captured by&nbsp;ModelSim simulating that code. It proved very helpful having several different ways to test and correlate the results.</p>
<p>The most difficult part was getting the interrupt handling done just right. Z80 has 3 interrupt modes (im0, im1, im2), maskable INT with two flags (the enable bit and its shadow) and non-maskable NMI. INT is level-triggered while the NMI is latched, edge-triggered and has precedence over INT. The pins should be checked at known times and be inhibited in certain situations, including during the execution of some instructions. It all needed to be working perfectly at known clock boundaries.</p>
<p>The solution ended up very elegant and used minimum number of extra gates: besides necessary state flags and priority logic, it used a couple of control signals wired just right: see the timings page 7, lines 1028-1060, entry "rst p" and how the instruction RST38 is being used to handle both NMI and INT (im2) at the same time. You start seeing a beauty of the original Mr. Faggin's design when you realize the coherence of the known behavior and the most optimal implementation. The simplicity of it became the proof of the implementation.</p>
<p>Once the CPU was wrapped up, it could run any code sequence using any instruction assembled and pushed onto a simple "board" model. That included some devilish and mean-designed interrupt-bombardment tests. It also run well known ZEXDOC and ZEXALL programs. They all passed except several XF/YF (undocumented flags) behavioral tests for 2 sets of instructions. Those are <em>really</em> weird and if you have ever played with Z80 emulators you would know what I mean. This particular Z80 behavior is likely a side-effect of internal bus charge/discharge cycles and some spurious control signals; various second-sourced and cloned Z80 chips also behave differently in these scenarios. I decided not to sweat over it as it had no practical impact.</p>
<p>Frankly, at this stage, I was already satisfied with the results since my original goal was to understand and replicate the internal architecture of the Z80, and I have achieved it.</p>
<p>Compare the following image - a conceptual block diagram of the A-Z80 CPU - with the annotated image of a Z80 die from the top&nbsp;of this article to see the similarity in the layout. I have placed schematic modules at the locations roughly corresponding to their positions on the Z80 die. Not to scale. You should be able to trace major buses (data bus in green and address bus in red) and zoom into detailed diagrams to see gate level implementations of the blocks. A few System Verilog sources appear just symbolically; naturally, the complete code would not fit on a printed page. Open it up in an image viewer that can zoom and pan.</p>
<figure id="attachment_1184" aria-describedby="caption-attachment-1184"><a href="https://baltazarstudios.com/webshare/A-Z80/a-z80-block-diagram.psd" target="_blank" rel="https://drive.google.com/file/d/0bykupmks9xs3awetblndzuczrfu/view?usp=sharing noopener noreferrer"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/a-z80-block-diagram-thumb.png" alt="A-Z80 block diagram (thumb)" width="256" height="175" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/a-z80-block-diagram-thumb.png 256w, https://baltazarstudios.com/wp-content/uploads/2015/01/a-z80-block-diagram-thumb-150x103.png 150w" sizes="(max-width: 256px) 100vw, 256px"></a><figcaption id="caption-attachment-1184">A-Z80 block diagram; click to expand</figcaption></figure>
<p>By that time, I was already fairly fluent in Verilog so the coding of a <em>ZX Spectrum</em> model was not a problem. First, I added a video unit by picking one (most suitable) VGA timing standard and was able to display static screens from various games. Then came the correct character blink and border behavior. After that: keyboard interface, speaker, mic - all fairly simple modules. Once I got all internal mappings correctly set up, I powered it up, flashed it with the newest FPGA file and, to my huge excitement, saw a black screen clearing up and the magic "<strong>(C) 1982 Sinclair Research Ltd</strong>" prompt on the screen! I can't tell you just how exciting that moment was; I kept resetting it over and over just to see it appearing again!</p>
<p>Soon I was able to load and play games!</p>
<figure id="attachment_1186" aria-describedby="caption-attachment-1186"><a href="https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon.jpg"><img loading="lazy" src="https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon-512x341.jpg" alt="The Legend of Avalon, Graftgold Ltd, 1984" width="512" height="341" srcset="https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon-512x341.jpg 512w, https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon-150x100.jpg 150w, https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon-1024x683.jpg 1024w, https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon-960x640.jpg 960w, https://baltazarstudios.com/wp-content/uploads/2015/01/zx-spectrum-avalon.jpg 1152w" sizes="(max-width: 512px) 100vw, 512px"></a><figcaption id="caption-attachment-1186">The Legend of Avalon, Graftgold Ltd, 1984</figcaption></figure>
<p>But, there was one problem: the design would randomly reboot or lock up. I spent a long time debugging it but a chance conversation with Ed (a co-worker of mine, Ed is a world-class chip designer who <em>really</em> knows this stuff) would reveal a possible problem: trying to follow the exact Z80 architecture, I have used transparent latches in my FPGA design throughout. Well, no FPGA designs use latches these days. Ed told me a latch design would have never worked [reliably]. Well, I <em>did</em> make it work, somehow. Kind of.</p>
<p>Back to the drawing board and one month later, I have re-implemented the whole design to use flip-flops. Accordingly, I also had to modify a few timings here and there. The new design is fully synchronous and meets all&nbsp;timings; it is being checked using the&nbsp;<em>TimeQuest</em> static timing analyzer tool and have fully constrained timings (using SDC files). In the meantime, I've also found and fixed several issues including one important bug fix in the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://baltazarstudios.com/z80-cpu/">https://baltazarstudios.com/z80-cpu/</a></em></p>]]>
            </description>
            <link>https://baltazarstudios.com/z80-cpu/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26295630</guid>
            <pubDate>Sun, 28 Feb 2021 18:21:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Weird architectures weren't supported to begin with]]>
            </title>
            <description>
<![CDATA[
Score 327 | Comments 203 (<a href="https://news.ycombinator.com/item?id=26294397">thread link</a>) | @woodruffw
<br/>
February 28, 2021 | https://blog.yossarian.net/2021/02/28/Weird-architectures-werent-supported-to-begin-with | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2021/02/28/Weird-architectures-werent-supported-to-begin-with">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Feb 28, 2021</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#rant">rant</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>
    
  
  </p>


<hr>

<h4 id="preword">Preword</h4>

<p>This post contains my own opinions, not the opinions of my employer or any open source groups I
belong or contribute to.</p>

<p>It‚Äôs also been rewritten 2¬Ω times, and (I think) reads confusingly in places. But I promised
myself that I‚Äôd get it out of the door instead of continuing to sit on it, so here we go.</p>

<hr>

<p>There‚Äôs been a decent amount of <del>drama</del> debate in the open source community about <em>support</em>
recently, originating primarily from
<a href="https://github.com/pyca/cryptography/issues/5771">pyca/cryptography‚Äôs decision to use Rust for some ASN.1 parsing routines</a><sup id="fnref:asn1" role="doc-noteref"><a href="#fn:asn1">1</a></sup>.</p>

<p>To summarize the situation: building the latest <code>pyca/cryptography</code> release from scratch now requires
a Rust toolchain. The only currently<sup id="fnref:gccrust" role="doc-noteref"><a href="#fn:gccrust">2</a></sup> Rust toolchain is built on <a href="https://llvm.org/">LLVM</a>, which
supports a (relatively) limited
<a href="https://llvm.org/docs/CompilerWriterInfo.html">set of architectures</a>. Rust further whittles this
set down into <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">support tiers</a>, with
some targets not receiving automated testing (tier 2) or official builds (tier 3).</p>

<p>By contrast, upstream<sup id="fnref:gcchell" role="doc-noteref"><a href="#fn:gcchell">3</a></sup> GCC supports a <a href="https://gcc.gnu.org/backends.html">somewhat larger</a>
set of architectures. But C<sup id="fnref:c" role="doc-noteref"><a href="#fn:c">4</a></sup>, cancer that it is, finds its way onto every architecture with or
without GCC (or LLVM‚Äôs) help, and thereby bootstraps <a href="https://github.com/python/cpython">everything</a>
<a href="https://www.gnome.org/">else</a>.</p>

<p>Program packagers and distributors (frequently separate from project maintainers themselves)
are very used to C‚Äôs universal presence. They‚Äôre so used to it that they‚Äôve built generic
mechanisms for putting entire distributions onto new architectures with
only a single assumption: the presence of a serviceable C compiler.</p>

<p>This is the heart of the conflict: Rust (and many other modern, safe languages) use LLVM for its
relative simplicity<sup id="fnref:simple" role="doc-noteref"><a href="#fn:simple">5</a></sup>, but LLVM does not support either native or cross-compilation to many
less popular (read: niche) architectures. Package managers are increasingly finding that one of
their oldest assumptions can be easily violated, and they‚Äôre not happy about that.</p>

<p>But here‚Äôs the problem: <em>it‚Äôs a bad assumption</em>. The fact that it‚Äôs the default
represents an <strong>unmitigated</strong> security, reliability, and reproducibility <em>disaster</em>.</p>

<h2 id="a-little-thought-problem">A little thought problem</h2>

<p>Imagine, for a moment, that you‚Äôre a maintainer of a popular project.</p>

<p>Everything has gone right for you: you have happy users, an active development base, and maybe even
corporate sponsors. You‚Äôve also got a CI/CD pipeline that produces canonical releases of your
project on tested architectures; you treat any issues with uses of those releases as a bug in the
project itself, since you‚Äôve taken responsibility for packaging it.</p>

<p>Because your project is popular, <strong>others</strong> also distribute it: Linux distributions, third-party
package managers, and corporations seeking to deploy their own controlled builds. These others have
slightly different needs and setups and, to varying degrees, will:</p>

<ul>
  <li>Build your project with slightly (or completely) different versions of dependencies</li>
  <li>Build your project with slightly (or completely) different optimization flags and other potentially
ABI-breaking options</li>
  <li>Distribute your project with insecure or outright broken defaults</li>
  <li>Disable important security features because other parts of their ecosystem haven‚Äôt caught up</li>
  <li>Patch your project or its build to make it ‚Äúwork‚Äù (read: compile and not crash immediately) with
completely new dependencies, compilers, toolchains, architectures, and environmental constraints</li>
</ul>

<p>You don‚Äôt know about <em>any</em> of the above until the bug reports start rolling in: users will report
bugs that have already been fixed, bugs that you explicitly document as caused by unsupported
configurations, bugs that <em>don‚Äôt make any sense whatsoever</em>.</p>

<p>You struggle to debug your users‚Äô reports, since you don‚Äôt have access to the niche
hardware, environments, or corporate systems that they‚Äôre running on. You slowly burn out
as an unending torrent of already fixed bugs that never seem to make it to your users. Your
user base is unhappy, and you start to wonder why you‚Äôre putting all this effort into
project maintenance in the first place. Open source was supposed to be fun!</p>

<p>What‚Äôs the point of this spiel? It‚Äôs <em>precisely</em> what happened to <code>pyca/cryptography</code>:
nobody asked them whether it was a good idea to try to run their code on
<a href="https://en.wikipedia.org/wiki/PA-RISC">HPPA</a>, much less
<a href="https://en.wikipedia.org/wiki/IBM_System/390">System/390</a><sup id="fnref:s390" role="doc-noteref"><a href="#fn:s390">6</a></sup>; some packagers just went ahead
and did it, and are frustrated that it no longer works. People just <em>assumed</em> that it
would, because there is <em>still</em> a norm that everything flows from C, and that any
host with a halfway-functional C compiler should have the entire open source ecosystem
at its disposal.</p>

<h3 id="reflections-on-trusting-random-platforms">Reflections on trusting random platforms<sup id="fnref:rott" role="doc-noteref"><a href="#fn:rott">7</a></sup></h3>

<p>Security-sensitive software<sup id="fnref:security" role="doc-noteref"><a href="#fn:security">8</a></sup><sup>,</sup><sup id="fnref:reliability" role="doc-noteref"><a href="#fn:reliability">9</a></sup>, <em>particularly</em> software written
in unsafe languages, is <strong>never</strong> secure in its own right.</p>

<p>The security of a program is a function of its own design and testing,
<em>as well as</em> the design, testing, and basic correctness of its underlying platform: everything from
the userspace, to the kernel, to the compilers themselves. The latter
is an <strong>unsolved problem</strong> in the <em>very best of cases</em>: bugs are <em>regularly</em>
found in even the most mature compilers (Clang, GCC) and their most mature backends (x86, ARM). Tiny
changes to or differences in build systems can have profound effects at the binary level, like
<a href="https://insights.sei.cmu.edu/cert/2018/08/when-aslr-is-not-really-aslr---the-case-of-incorrect-assumptions-and-bad-defaults.html">accidentally removing security mitigations</a>.
Seemingly innocuous patches can make otherwise safe code
<a href="https://wiki.gentoo.org/wiki/Hardened/GNU_stack_quickstart">exploitable</a> in the context of
other vulnerabilities.</p>

<p>The problem gets worse as we move towards niche architectures and targets that are used
primarily by small hobbyist communities.
Consider <a href="https://en.wikipedia.org/wiki/Motorola_68000_series">m68k</a>
(one of the other architectures affected by <code>pyca/cryptography</code>‚Äôs move to Rust): even
GCC <a href="https://gcc.gnu.org/legacy-ml/gcc-patches/2019-10/msg02044.html">was considering</a> removing
support due to lack of maintenance, until hobbyists stepped in. That isn‚Äôt to say that any
<em>particular</em> niche target is full of bugs<sup id="fnref:although" role="doc-noteref"><a href="#fn:although">10</a></sup>; only to say that it‚Äôs a greater likelihood
for niche targets <em>in general</em>. <strong>Nobody</strong> is regularly testing the mountain of userspace
code that implicitly forms an operating contract with arbitrary programs on these platforms.</p>

<p>Project maintainers don‚Äôt want to chase down compiler bugs on ISAs or systems that they never
intended to support in the first place, and aren‚Äôt receiving any active support feedback about.
They <em>especially</em> don‚Äôt want to have vulnerabilities associated
with their projects because of buggy toolchains <em>or</em> tooling inertia when working on security
improvements.</p>

<h3 id="some-more-finger-pointing">Some more finger-pointing</h3>

<p>As someone who <em>likes</em> C: this is all C‚Äôs fault. Really.</p>

<p>Beyond language-level unsafety (plenty of people have
<a href="https://fishinabarrel.github.io/">covered that already</a>), C is <em>organizationally</em> unsafe:</p>

<ul>
  <li>
    <p>There‚Äôs no standard way to write tests for C.</p>

    <p>Functional and/or unit tests <em>alone</em> would go a long
way in assuring baseline correctness on weird architectures or platforms, but the cognitive
overhead of testing C <em>and</em> getting those tests running ensures that well-tested builds of C
programs will continue to be the exception, rather than the rule.</p>
  </li>
  <li>
    <p>There‚Äôs no standard way to build C programs.</p>

    <p><a href="https://blog.yossarian.net/2019/04/23/Make-is-probably-fine">Make is fine</a>, but it‚Äôs not standard.
Disturbingly large swathes of critical open source infrastructure are compiled using a hodgepodge
of Make, autogenerated rules from autotools, and the maintainer‚Äôs boutique shell scripts. One
consequence of this is that C builds tend to be flexible <em>to a fault</em>: prospective packagers
can inject all sorts of behavior-modifying flags that may not be attested directly
in the compiled binary or other build products. The result: it‚Äôs almost impossible to prove that
two separate builds on different machines are the same, which means more maintainer pain.</p>
  </li>
  <li>
    <p>There‚Äôs no standard way to distribute C programs.</p>

    <p>Yes, I know that package managers exist. Yes, I know how to statically link. Yes, I know how to
vendor libraries and distribute self-contained program ‚Äúbundles‚Äù. None of these are or amount to
a <em>complete</em> standard, and each introduces additional logistical or security problems.</p>
  </li>
  <li>
    <p>There‚Äôs no such thing as truly cross-platform C.</p>

    <p>The C abstract machine, despite looking a lot like a PDP-11, leaks the underlying memory
and ordering semantics of the architecture being targeted. The result is that even seasoned
C programmers regularly rely on architecture-specific assumptions when writing ostensibly
cross-platform code: assumptions about the atomicity of reads and writes, operation ordering,
coherence and visibility in self-modifying code, the safety and performance of unaligned accesses,
and so forth. Each of these, apart from being a potential source of unsafety, are <strong>impossible
to detect</strong> statically in the general case: they are, after all, perfectly correct
(and frequently intended!) on the programmer‚Äôs host architecture.</p>
  </li>
</ul>

<p>By contemporary programming language standards, these are conspicuous gaps in functionality:
we‚Äôve long since learned to bake testing, building, distribution, and sound abstract machine
semantics into the standard tooling for languages (and language design itself). But their absence
is <strong>doubly pernicious</strong>: they ensure that C remains a perpetually
unsafe development ecosystem, <em>and</em> an appealing target when bootstrapping a new platform.</p>

<h2 id="the-life-of-a-package-maintainer-is-hard">The life of a package maintainer is hard</h2>

<p>The project maintainer isn‚Äôt the only person hurting in the status quo.</p>

<p>Everything stated above <em>also</em> leads to a bum job for the lowly package maintainer<sup id="fnref:yt" role="doc-noteref"><a href="#fn:yt">11</a></sup>. They‚Äôre
(probably) also an unpaid open source hobbyist, and they‚Äôre operating with constraints that
the upstream isn‚Äôt likely to immediately understand:</p>

<ul>
  <li>The need to link against versions of dependencies that have already been packaged (and perhaps patched)</li>
  <li>ABI and ISA subset constraints, stemming from a need to distribute binaries that function with
relatively old versions of <code>glibc</code> or x86-64 CPUs without modern extensions</li>
  <li>Limited visibility into each project‚Äôs test suite and how to run it, much less what to do when
it fails</li>
</ul>

<p>They <em>also</em> have to deal with users who are unsympathetic to those reports, and who:</p>

<ul>
  <li>Rarely submit reports to the packager (they bug the project directly instead!), or ‚Ä¶</li></ul></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.yossarian.net/2021/02/28/Weird-architectures-werent-supported-to-begin-with">https://blog.yossarian.net/2021/02/28/Weird-architectures-werent-supported-to-begin-with</a></em></p>]]>
            </description>
            <link>https://blog.yossarian.net/2021/02/28/Weird-architectures-werent-supported-to-begin-with</link>
            <guid isPermaLink="false">hacker-news-small-sites-26294397</guid>
            <pubDate>Sun, 28 Feb 2021 16:22:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debugging K8s services: 3 tools for 3 scenarios]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26294015">thread link</a>) | @erkanerol
<br/>
February 28, 2021 | https://erkanerol.github.io/post/debugging-k8s-services/ | <a href="https://web.archive.org/web/*/https://erkanerol.github.io/post/debugging-k8s-services/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span>Feb 28, 2021 ¬∑ <a href="https://erkanerol.github.io/post/debugging-k8s-services/#disqus_thread">Comments</a><br><a href="https://erkanerol.github.io/categories/software">Software</a><a href="https://erkanerol.github.io/categories/k8s">k8s</a><a href="https://erkanerol.github.io/categories/en">EN</a></span></p><p>While developing/debugging applications that serve services on k8s in production, you need some tools/commands. This blog post explains three different scenarios+tools for you.</p><blockquote><p>Please ping me if there is something wrong. <a href="https://twitter.com/erkan_erol_">https://twitter.com/erkan_erol_</a></p></blockquote><h2 id="setup">Setup</h2><p>Here is our basic setup to explain the scenarios.</p><p><img src="https://erkanerol.github.io/img/k8s-services/Setup.png" title="Setup"></p><p>We have 3 services. <code>service-front</code> is exposed to the public via an ingress. <code>service-front</code> depends on <code>service-middle</code> and <code>service-middle</code> depends on <code>service-back</code>. The communications are done through k8s services.</p><p>To install this setup, here are the necessary commands:</p><pre><code>kubectl create ns service-debug
kubectl -n service-debug run service-back --image=erkanerol/service-back:v1 --port=8080 --expose=true --labels="app=back"
kubectl -n service-debug run service-middle --image=erkanerol/service-middle:v1 --port=8081 --expose=true --labels="app=middle"
kubectl -n service-debug run service-front --image=erkanerol/service-front:v1 --port=8082 --expose=true --labels="app=front"
</code></pre><p>Here is the source code of these services: <a href="https://github.com/erkanerol/service-examples-for-blog">https://github.com/erkanerol/service-examples-for-blog</a></p><h4 id="scenario">Scenario:</h4><p>As a developer, I want to send some requests to <code>service-back</code> directly and see the result without touching the other services.</p><h4 id="problem">Problem:</h4><p><code>service-back</code> is not exposed to the public and you cannot send requests to it directly.</p><h4 id="solution">Solution:</h4><p>With <code>kubectl port-forward</code>, it is possible to open a tunnel from your local machine to the <code>service-back</code> in the cluster. See <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#port-forward">https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#port-forward</a></p><h4 id="steps">Steps:</h4><p>Run the command below in a terminal.</p><pre><code>$ kubectl -n service-debug port-forward service/service-back 8080:8080
Forwarding from 127.0.0.1:8080 -&gt; 8080
Forwarding from [::1]:8080 -&gt; 8080
</code></pre><p><br>Then run the curl command below in another terminal to see that you are able to access <code>service-back</code></p><pre><code>$ curl localhost:8080
Timestamp from back:1614508193
</code></pre><h4 id="how-does-it-work">How does it work?</h4><p><img src="https://erkanerol.github.io/img/k8s-services/Level1.png" title="Level1"></p><p><code>kubectl</code> starts a process which binds <code>localhost:8080</code>. It listens that port and establishes a connection to api-server, which forwards the requests to <code>service-back</code>.</p><h4 id="scenario-1">Scenario:</h4><p>As a developer, I want to run <code>service-front</code> in my local machine so that I can put breakpoints in my IDE to debug my application.</p><h4 id="problem-1">Problem:</h4><p><code>service-front</code> is designed to run in Kubernetes and it accesses <code>service-middle</code> via the k8s service. The service name is hardcoded or hard to be configurable or you are too lazy to mock the dependencies in your local machine.</p><h4 id="solution-1">Solution:</h4><p><code>kubefwd</code> is a useful tool for this problem. It does bulk port-forwarding and manages dns entries in your local machine. See <a href="https://github.com/txn2/kubefwd">https://github.com/txn2/kubefwd</a></p><h4 id="steps-1">Steps:</h4><p>Run the command below in a terminal</p><pre><code>$ sudo KUBECONFIG=$KUBECONFIG kubefwd svc -n service-debug -l app=middle
</code></pre><blockquote><p>Note that <code>kubefwd</code> requires root privileges and it has to be run with <code>sudo</code>. Set <code>KUBECONFIG</code> variable without any home folder reference beforehand.</p></blockquote><p>In another terminal, run <code>front</code> application in your local machine. Note that you can run it in debug mode as well and put breakpoints.</p><pre><code>$ cd /tmp
$ git clone https://github.com/erkanerol/service-examples-for-blog.git
$ cd service-examples-for-blog/front
$ go run main.go
</code></pre><p>In another terminal, Send a request to <code>front</code> app to see that your front app serves locally and it accesses <code>service-middle</code> in the cluster.</p><pre><code>$ curl localhost:8082
Response from service middle:'Response from service back:'Timestamp from back:1614513901''
</code></pre><h4 id="how-does-it-work-1">How does it work?</h4><p><img src="https://erkanerol.github.io/img/k8s-services/Level2.png" title="Level2"></p><p>As you can see from the logs of <code>kubefwd</code></p><pre><code>...
INFO[14:07:38] 'cat /etc/hosts' to see all host entries.    
INFO[14:07:38] Loaded hosts file /etc/hosts                 
INFO[14:07:38] HostFile management: Original hosts backup already exists at /root/hosts.original 
...
INFO[14:07:38] Port-Forward: 127.1.27.1 service-middle:8081 to pod service-middle:8081 
...
</code></pre><p>It starts a process that binds <code>127.1.27.1:8081</code> and manipulates the <code>/etc/hosts</code> for <code>service-middle</code></p><pre><code>$ cat /etc/hosts |grep service-middle
127.1.27.1       service-middle.default service-middle.default.svc service-middle.default.svc.cluster.local service-middle.default.minikube service-middle.default.svc.minikube service-middle.default.svc.cluster.minikube service-middle service-middle.service-debug service-middle.service-debug.svc service-middle.service-debug.svc.cluster.local service-middle.service-debug.minikube service-middle.service-debug.svc.minikube service-middle.service-debug.svc.cluster.minikube
</code></pre><div><p>Then your local <code>front</code> app can access the <code>service-middle</code> like in k8s cluster without any extra effort.</p></div><h4 id="scenario-2">Scenario:</h4><p>As a developer, I want to run <code>service-middle</code> in my local machine so that I can put breakpoints in my IDE to debug my application.</p><h4 id="problem-2">Problem:</h4><p><code>service-middle</code> is designed to run in Kubernetes. It accesses <code>service-back</code> via k8s services. Also, its consumer <code>service-front</code> is running on k8s. The services are not available in your local machine and it is hard to mock all these environments in your local machine.</p><h4 id="solution-2">Solution:</h4><p><code>telepresence</code> is a useful tool for this problem. See <a href="https://www.telepresence.io/">https://www.telepresence.io/</a></p><h4 id="steps-2">Steps:</h4><p>Delete <code>service-middle</code> from your k8s cluster at first. We will run it locally.</p><pre><code>kubectl -n service-debug delete service service-middle --ignore-not-found=true
kubectl -n service-debug delete pod service-middle --ignore-not-found=true
</code></pre><p><br>Run telepresence for <code>service-middle</code></p><pre><code>telepresence --namespace service-debug --new-deployment service-middle --expose 8081
</code></pre><p><br>In another terminal, run <code>middle</code> application in your local machine. Note that you can run it in debug mode as well and put breakpoints.</p><pre><code>$ cd /tmp
$ git clone https://github.com/erkanerol/service-examples-for-blog.git
$ cd service-examples-for-blog/middle
$ go run main.go
</code></pre><p><br>In another terminal, run the command below to send a request to <code>service-front</code> via a temporary pod in the cluster.</p><pre><code>$ kubectl -n service-debug run curl -it  --rm=true --image=curlimages/curl --restart=Never -- http://service-front:8082 
Response from service middle:'Response from service back:'Timestamp from back:1614517363''pod "curl" deleted
</code></pre><p>Note that your request goes to <code>service-front</code> in k8s, which sends a request to <code>service-middle</code> in your local machine, which sends a request to <code>service-back</code> in the cluster.</p><h4 id="how-does-it-work-2">How does it work?</h4><p><img src="https://erkanerol.github.io/img/k8s-services/Level3.png" title="Level3"></p><p>Basically, <code>telepresence</code> deploys a proxy/fake agent into cluster and opens a two-way tunnel between your local environment and the cluster via that agent. Then you are able to run the <code>middle</code> service in your local machine without adapting the consumers/dependent services.</p><p>A detailed explanation about how telepresence works is available here: <a href="https://www.telepresence.io/discussion/how-it-works">https://www.telepresence.io/discussion/how-it-works</a></p><h2 id="summary">Summary</h2><ul><li>If you need to access a service without exposing it to public, <code>kubectl port-forward</code> is enough.</li><li>If you need to run a service locally for debugging and your service needs to access other services on k8s, <code>kubefwd</code> is enough. It manages DNS entries in your local machine and opens a one-way tunnel from your machine to cluster for the dependencies of your service.</li><li>If you need to run a service locally for debugging and your application has some consumers in the cluster, <code>telepresence</code> is your tool. It opens two-way network channel and it forwards requests from cluster to your local instance as well.</li></ul><p>p.s. Admission webhooks in Kubernetes are similar to <code>service-middle</code>. They receive some requests from api-server and they may send some requests to other services in the cluster. Therefore, <code>telepresence</code> is a useful tool for debugging admission webhooks. In the next blog post, I am going to explain how to debug validating webhooks.</p></div></div></div>]]>
            </description>
            <link>https://erkanerol.github.io/post/debugging-k8s-services/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26294015</guid>
            <pubDate>Sun, 28 Feb 2021 15:28:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do Developers Still Want Swag?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26293564">thread link</a>) | @domrdy
<br/>
February 28, 2021 | https://codesubmit.io/blog/do-developers-want-swag/ | <a href="https://web.archive.org/web/*/https://codesubmit.io/blog/do-developers-want-swag/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <section>
                
                <div>
                    <p>Over the years, company merchandise or, as the cool kids call them, swag (which stands for ‚Äústuff we all get‚Äù), especially from tech companies, has become something of a talking point and even a status symbol in some circles. </p><p>For some, it‚Äôs a status symbol to signal to others that you‚Äôre old school, you were around before <em>it all began</em>. As one <a href="https://qr.ae/pNjt1g">Quora user</a> pointed out, ‚Äúwhat you really want is the swag from companies that looked impressive, but then died... You want that Enron keychain. You want the stuff that says, <em>I was there. I'm still here. They're not.</em> It makes a statement. ‚Äù </p><p>For others, it‚Äôs not about getting yet another Google water bottle or Facebook T-shirt. It‚Äôs about getting really useful stuff that‚Äôs durable, exclusive and memorable. That could be a <a href="https://qr.ae/pNjttJ">messenger bag from Quora</a>, a <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">Tile from Airtable</a>, or <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">an apron from Airbnb</a>. </p><p>According to <a href="https://swapnil.net/">Swapnil Agarwal</a>, the developer behind <a href="https://devswag.io/">DevSwag</a>, a site that curates opportunities for developers to collect swag, developers love swag because it helps them find their community. </p><blockquote><em>‚ÄúFor some developers, scoring swag feels like a badge of honor, achievement unlocked! They are more than happy to don a tee with a geeky quote or put a sticker on their laptop. This helps them project their preferences and find their tribe easily.‚Äù </em></blockquote><h3 id="why-do-companies-bother-with-swag"><strong>Why do companies bother with swag? </strong></h3><p>Companies invest in swag for various reasons. The most obvious one is to create hype and buzz around your brand. Did you know that one of the <a href="https://brightideaspromotional.co.uk/info/the-history-of-the-promotional-merchandise-industry/">earliest forms of swag</a> were the commemorative buttons produced to celebrate George Washington becoming the first President of the newly formed United States of America in 1789? It was 100 years later when two printers in Ohio, Jasper Meek and Henry Beach, realized that they could print advertisements on school bags, card cases and even horse hats, that the swag industry really began. </p><p>Since then, companies have been using swag to promote their brand, products and services. Think about those Slack socks, and <a href="https://twitter.com/tferriss/status/320447454657003520?lang=en">Tim Ferriss‚Äô favorite Duolingo shirt</a>. The exposure those companies got from their swag, and still do to this day, is an investment that has definitely paid off. </p><p>Swag is also a good way to market to your own employees or show them your appreciation. It is also a great <a href="https://qz.com/work/1860082/employee-swag-is-a-remote-worker-culture-builder/">physical representation of a company's culture</a>. With the pandemic keeping people at home and employees working remotely, company swag offers that little bit of ‚Äúconnectedness‚Äù that we used to get from conversations around the coffee machine. &nbsp;</p><p>Companies are also using swag to incentivize people to contribute or engage with a brand or products. ‚ÄúLet's say (a company) wants to get beta users for a dev tool. It's far easier to get them with swag giveaways rather than traditional advertising,‚Äù says Swapnil.</p><p>Launched in 2018, <a href="https://devswag.io/">DevSwag</a> curates different opportunities available for developers to collect swag, and ranks the task difficulty for each opportunity. Tasks and rewards range from leaving a review for a podcast in exchange for stickers, to fixing a bug in exchange for a pair of socks. </p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/swapnil-agarwal-devswag-1.png"></figure><h3 id="who-s-giving-out-swag"><strong>Who‚Äôs giving out swag? </strong></h3><p>The <a href="https://www.prnewswire.com/news-releases/asi-reports-2019-promo-sales-hit-high-of-25-8-billion-301010174.html">Advertising Speciality Institute</a> (ASI) reported that sales for company merchandise rose by 4.7% compared to 2018, &nbsp;reaching a record high of USD 25.8 billion in 2019. </p><p>At the height of the promotional products industry, the team at <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">Kapwing</a> noticed that companies seemed to be giving out swag liberally and wanted to test out how common this was. So, they posed as college seniors ‚Äúfan mailing‚Äù 201 companies asking if they could get some swag. </p><figure><img src="https://lh5.googleusercontent.com/rGPMgvcTt4KKhIrcgICRVaaLcLqUBPx6ZDykvj2O426dHotfPZDHP7FBx9dMPLAI9YNP2DzBdetRrZsT6vnX3B2k0_nJ_mTpcKNCUzyfGNX7RxO50JckzK013wyzXDFZT74STRby"><figcaption>Source: Kapwing</figcaption></figure><p>Out of 201 companies, they successfully contacted 188 of them. They eventually received a response from 146 companies. Of those, they noted that B2C companies were more likely to respond than B2B companies, and B2C companies were more likely to offer swag than B2B companies. </p><p>Interestingly, tech or SaaS companies were the least likely to respond compared to other business types like apparel, beverage, and consumer goods. Their response rate was at 64% compared to other business types (82% to 87%). They also found that small to medium sized companies were more likely to give out company swag; these are companies with 11 to 49 employees, or companies with 50 to 249 employees respectively. </p><h3 id="is-swag-losing-its-swag"><strong>Is swag losing its <em>swag</em>?</strong> </h3><p>In 2019, <a href="https://www.theguardian.com/fashion/2019/apr/03/patagonia-fleece-vest-tech-bro-uniform">Patagonia</a> decided to shift its sales program to only work with companies that meet certain social and environmental standards, or in their words ‚Äúmission-driven companies that prioritize the planet‚Äù. &nbsp;The company now requires more information about the type of company ‚Äúwhose name will appear on the Patagonia product and how the product will be used. We reserve the right to refuse service.‚Äù</p><p>Just as companies are becoming more conscious about what their brands stand for, their swag, their suppliers and swag recipients are becoming increasingly integrated into the brand‚Äôs narrative. The public‚Äôs perception of a brand, especially those of global powerhouses like Google, Facebook, Netflix, and Amazon, largely impact the swaggi-ness of a brand‚Äôs swag. </p><p>In January 2021, in light of Facebook banning former US President Donald Trump on social media, Facebook‚Äôs internal security team released a memo warning employees not to wear or carry Facebook-branded swag in public. As reported by <a href="https://gizmodo.com/facebook-warns-employees-not-to-wear-company-gear-in-pu-1846040220">Gizmodo</a>, ‚Äúwhile the memo doesn‚Äôt appear to explicitly say Facebook employees are at risk of physical assault by Trump supporters, it‚Äôs easy to read between the lines‚Äù.</p><p>Public perception and public events also play a large role in the perceived swaggi-ness of a company. Just a week after Facebook‚Äôs memo, <a href="https://www.businessinsider.com/goldman-sachs-rebrands-storm-hill-event-capitol-violence-washington-dc-2021-1">Goldman Sachs</a>, had to quickly rebrand a virtual event they had organized to lobby Congress to help small businesses across America. The event that was originally called ‚ÄúStorm the Hill‚Äù definitely did not sit well with both organizers nor participants after what happened in Washington DC, and participants were urged not to wear the branded t-shirts that were mailed out to them prior.</p><p>Another factor that keeps swag cool and swaggy is its exclusivity. Slack‚Äôs socks, once exclusive, have now made their way to <a href="https://slack.shop/">Slack.shop</a>. Slack fans can now buy a pack of six pairs of socks for ‚Ç¨49.80 along with a Slack t-shirt and a baby onesie. </p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/slack-socks-1.png"><figcaption>The exclusivity of Slack's socks are gone, but fans and aspiring employees can <em>almost</em> live the dream by purchasing them online.</figcaption></figure><h3 id="the-environmental-impact-of-swag"><strong>The environmental impact of swag</strong></h3><p>At the end of 2019, the Meeting, Incentives, Conferences and Events (MICE) industry was <a href="https://www.cwt-meetings-events.com/futuretrends/page/3/1">expected to grow by USD 840 billion (8%) in 2020</a> with 52% more event websites popping up compared to 2019. CWT Meetings and Events reported that companies were spending 25% to 30% of their overall marketing budgets on live events. </p><p>It is common for people to attend these conferences and collect as many tote bags, t-shirts, water bottles, usb sticks, pens, stress balls, stickers, notebooks, hats, rubber wrist bands, beer bottle openers, and everything else that can be made cheaply and quickly, with a company‚Äôs logo slapped on for swagginess. </p><p>As <a href="https://www.fastcompany.com/90260185/its-time-to-stop-spending-billions-on-cheap-conference-swag">Elizabeth Segran</a> wrote, many of these companies‚Äô merchandise aren‚Äôt well made or well designed, meaning that we‚Äôre likely to throw them out after just a handful of uses. </p><blockquote><em>‚ÄúWhen you think about all the energy and resources that go into making just one of the tote bags that I have just thrown into the trash‚Äìonly to end up in a landfill‚Äìthe impact is staggering.‚Äù</em></blockquote><p>A quick Google search will show you that companies often compete over costs, but low costs comes at a high price for workers in countries like China, where most of these promotional products are made. By now, we‚Äôre aware of <a href="https://www.globalsources.com/NEWS/SIC-making-it-in-china-the-factory-workers-that-make-your-products.HTM">poor working conditions</a>, lack of safety standards, and very low wages. </p><p>This is why companies like Google have a vetted list of merchandise suppliers they work with‚Äîcompanies that sustainably source their materials and do not violate labour laws, meaning without child labour or inhumane working conditions. This could be the way forward for other companies who want to invest in company merchandise. </p><p>For Segran, the answer to both creating hype while reducing swag‚Äôs impact on the environment is to get rid of it entirely. As an alternative, she writes, ‚Äúconsider offering experiences. For instance, I‚Äôd appreciate a back massage at a conference, or perhaps a yoga class, or a free headshot. I‚Äôd even enjoy a good meal instead of a swag bag.‚Äù </p><p>She continues, ‚Äúif you wrap the event in your branding, there‚Äôs a good chance your target customer will remember that experience long after the tote bag is stuffed in a landfill somewhere.‚Äù</p><h3 id="to-swag-or-not-to-swag"><strong>To swag or not to swag?</strong></h3><p>A quick browse of some HR groups on Facebook and LinkedIn uncover conversations where HR professionals are debating whether to give out company merchandise to employees over the recent year-end holidays, or if they should opt for gift cards as they‚Äôre a more ‚Äúpractical‚Äù way to support employees in this economic climate. Many rallied behind gift cards, especially the ever-versatile Visa gift cards, accepted nearly everywhere in the United States.</p><p>But if we‚Äôre real here, a multi-billion dollar industry is not going to disappear overnight or any time in the near future. In fact, ASI reported that while total swag sales dropped by 44% in Q2 2020, it had recovered about 20% of sales in Q3 2020 and a further 8% in Q4 2020. Total product sales for 2020 was USD 20.7 billion. </p><p>With the world going remote and people working from home, what swag did we spend all that money on? In 2020, it comes as no surprise that products like hand sanitizers contributed USD 1.4 billion in sales (7%), while other pandemic-related swag like branded cloth masks and other PPE made up USD 4.6 billion in sales (22%). </p><p>I believe that companies are becoming more intentional with the swag they give out. <a href="https://blog.duolingo.com/thinking-outside-the-box-engaging-our-team-with-interactive-care-packages/">Duolingo</a>, for example, worked with <a href="https://www.swagup.com/">SwagUp</a> to create monthly ‚ÄúInteractive Care Packages‚Äù for employees during the pandemic to break up the monotony of staying at home. The care packages were designed to ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://codesubmit.io/blog/do-developers-want-swag/">https://codesubmit.io/blog/do-developers-want-swag/</a></em></p>]]>
            </description>
            <link>https://codesubmit.io/blog/do-developers-want-swag/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26293564</guid>
            <pubDate>Sun, 28 Feb 2021 14:19:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Email Cleaner: Clean tracking links and pixels from email newsletters]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 9 (<a href="https://news.ycombinator.com/item?id=26293424">thread link</a>) | @bengtan
<br/>
February 28, 2021 | https://bengtan.com/blog/email-cleaner-clean-tracking-links-and-pixels/ | <a href="https://web.archive.org/web/*/https://bengtan.com/blog/email-cleaner-clean-tracking-links-and-pixels/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
<div>
  <article>
    

    

    
    
    <h2>Overview</h2>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-it">What is it?</a></li>
    <li><a href="#email-cleaner">Email Cleaner</a></li>
    <li><a href="#getting-started">Getting started</a>
      <ul>
        <li><a href="#forwarding-loops">Forwarding loops</a></li>
      </ul>
    </li>
    <li><a href="#how-it-works">How it works</a></li>
    <li><a href="#benefits">Benefits</a></li>
    <li><a href="#plain-text-emails">Plain text emails</a></li>
    <li><a href="#caveats">Caveats</a></li>
    <li><a href="#privacy">Privacy</a></li>
    <li><a href="#feedback">Feedback</a></li>
  </ul>
</nav>
    <p>I‚Äôm supposed to be blogging instead of doing <a href="https://bengtan.com/blog/app-startup-vs-content-startup/">‚Äúapp startup‚Äù</a> things but I got sidetracked and built another side project (again).</p>
<p>I‚Äôve been getting into email newsletters. Over the last month, I‚Äôve gone from zero newsletters to eleven of them. My inbox is now overflowing with newsletters. Maybe I‚Äôll have to cut back but that‚Äôs a story for another time.</p>
<p>I have a new pet hate: Links in email newsletters.</p>
<p>They are user-hostile. Substack is the worst. Their URLs look like this:</p>
<p><a href="http://email.substack.com/c/ejXDKM2OhCAMgJ9muI3hT3QOHPayr2EKVIesgwbquL794njbhEIhNP36eSCclnzYdSnEzm2gY0WbcC8zEmFmW8E8xGBlb1pljGTBdsJpLVksw5gRXxBnS3lDtm5ujh4oLulTIVvJnjbgCKC51hxawbuuxzCCcwHAo0CprrawhYjJo8U35mNJyGb7JFrLTX3d5Hdd-743CWjL2PjlVR8gU_qZLpoGLdre3LkUd87Vw9wrnZX1ymUN3XbtoxENjIYbFKBVq3wrxlF47oLolZNKonrcNC-bKwT-RzT4u1aKRBHmd8S99mTZOkwTQRL153TOfZKcYw_1fG0p0jFgAjdjuIzQJfbjaJgwYa7CwwBkhRGq75Xu-4fpLgVVmZKdFNUzqxxhqVXJ_uP4AyNKkNQ">http://email.substack.com/c/ejXDKM2OhCAMgJ9muI3hT3QOHPayr2EKVIesgwbquL794njbhEIhNP36eSCclnzYdSnEzm2gY0WbcC8zEmFmW8E8xGBlb1pljGTBdsJpLVksw5gRXxBnS3lDtm5ujh4oLulTIVvJnjbgCKC51hxawbuuxzCCcwHAo0CprrawhYjJo8U35mNJyGb7JFrLTX3d5Hdd-743CWjL2PjlVR8gU_qZLpoGLdre3LkUd87Vw9wrnZX1ymUN3XbtoxENjIYbFKBVq3wrxlF47oLolZNKonrcNC-bKwT-RzT4u1aKRBHmd8S99mTZOkwTQRL153TOfZKcYw_1fG0p0jFgAjdjuIzQJfbjaJgwYa7CwwBkhRGq75Xu-4fpLgVVmZKdFNUzqxxhqVXJ_uP4AyNKkNQ</a></p>
<p>What is that, Substack?! Is that really a URL with 400+ characters?!</p>
<p>I have an ingrained habit of hovering over links. This allows me to see where it links to and decide whether to click on it.</p>
<p>It‚Äôs a good habit.</p>
<p>It‚Äôs also a security ‚Äúbest practice‚Äù. Hovering over a link helps to check whether it‚Äôs a phishing link.</p>
<p>Email newsletters have broken this. I have no idea where these user-hostile links go. For their own self interest, mailing list service providers have denied me a basic tenet of the web: Knowing what I‚Äôm clicking on before I click.</p>
<p>It‚Äôs also demeans the newsletter. A newsletter which purports to send me a ‚Äòlist of interesting links‚Äô is just sending me a list of crap because I‚Äôm not clicking on those I-have-no-idea-where-it‚Äôs-going links.</p>
<p>If the link was something like <a href="http://www.google.com/url?sa=t&amp;url=https://www.wikipedia.org/&amp;usg=AOvVaw3ay7vaEtH0yTTYdDmrvinX">http://www.google.com/url?sa=t&amp;url=https://www.wikipedia.org/&amp;usg=AOvVaw3ay7vaEtH0yTTYdDmrvinX</a> I wouldn‚Äôt be as peeved because I can see where it links to.</p>
<p>But no, I don‚Äôt think they‚Äôll compromise.</p>
<p>Not happy.</p>
<p>I set about trying to make the situation palatable. I asked <a href="https://news.ycombinator.com/item?id=26188976">here</a>, <a href="https://www.reddit.com/r/SomebodyMakeThis/comments/ln4dep/smt_hover_over_links_in_email_newsletters_and_see/">here</a>, and <a href="https://www.indiehackers.com/post/17a17962db">here</a> but I didn‚Äôt find anything satisfactory.</p>
<p>So I built my own solution.</p>
<h2 id="what-is-it">What is it?</h2>
<p>I hooked a script up to an email address. Upon receiving an email, the script will replace tracking links with their destination URL, remove tracking pixels, and send it back to the sender.</p>
<p>Then, I set up a gmail filter to forward my newsletters to the script.</p>
<p>Yay!</p>
<p>Now, when I receive an email newsletter, gmail forwards it to the script. The script sends it back to me with nice clean URLs. Once again, I can see where links lead to before I decide whether to click.</p>
<p>Tracking parameters (ie. <code>utm_*</code>) and tracking pixels are removed as well. (I don‚Äôt care strongly about this but it was easy to add so I did.)</p>
<h2 id="email-cleaner">Email Cleaner</h2>
<p>For lack of a better name, I‚Äôm calling it <strong>Email Cleaner</strong>. <strong>It cleans crap from email newsletters</strong>.</p>
<p>(Alternatively, I considered calling it ‚Äò<strong>UntrackMe: Remove tracking from email newsletters</strong>‚Äô. Which sounds better?)</p>
<p>I‚Äôm letting others try it. Maybe other people find it useful too. If there‚Äôs enough interest, I‚Äôll turn it into a proper side project.</p>
<h2 id="getting-started">Getting started</h2>
<p>To try Email Cleaner, forward an email newsletter to <code>email-cleaner@bengtan.com</code>.</p>
<p>In a minute or two, you should get the newsletter sent back to you (from <code>no-reply@bengtan.com</code>) with cleaned links and tracking pixels removed.</p>
<p>If you decide you like it, you can set up your email program to automatically forward email newsletters to <code>email-cleaner@bengtan.com</code>.</p>
<p>How you do this depends on your email program so you‚Äôll have to work it out youself.</p>
<p>Note: Please don‚Äôt set up your email program to automatically delete after forwarding. Since this is a new service, it‚Äôs a good idea to retain the original emails in case something goes wrong.</p>
<h3 id="forwarding-loops">Forwarding loops</h3>
<p>If your automatic forwarding configuration mistakenly forwards the cleaned email (from Email Cleaner) back to Email Cleaner, it will detect this and send you an email with the message ‚ÄúInfinite loop detected‚Äù. If you get such an email, please adjust your forwarding configuration so you don‚Äôt forward cleaned emails to Email Cleaner.</p>
<p>If you use gmail (like I do), this can be accomplished by adding the condition <code>-subject:[email-cleaner]</code> to your forwarding filter.</p>
<h2 id="how-it-works">How it works</h2>
<p>Email Cleaner works as follows:</p>
<ul>
<li>It scans the email for links which match the following regular expressions:</li>
</ul>
<div><pre><code data-lang="js">	<span>'\.list-manage\.com/track/click'</span>,
	<span>'//click\.convertkit-mail\.com/'</span>,
	<span>'//email\.substack.*/c/'</span>,
	<span>'//apple\.co/'</span>,
	<span>'//t\.co/'</span>,
</code></pre></div><ul>
<li>If a link matches, then it‚Äôs a tracking link. Email Cleaner crawls the link to see if it‚Äôs a 3xx redirect. If it is, then the link is replaced by the destination URL.
<ul>
<li>Any URL query parameters which are <code>mc_cid</code>, <code>mc_eid</code>, or start with <code>utm_</code> are also removed.</li>
</ul>
</li>
<li>Then, Email Cleaner scans the email for tracking pixels. If any are found, it removes them.</li>
<li>Finally, the email is sent back to the sender.</li>
</ul>
<p>Email Cleaner is quite safe and conservative. It will only crawl links which are obviously tracking links.</p>
<p>Email Cleaner currently handles three major mailing list service providers (MailChimp, ConvertKit, Substack). I‚Äôd happily add more. Just let me know.</p>
<p>Note that Email Cleaner doesn‚Äôt magically bypass the tracking links. Instead, it triggers all of them from a data centre somewhere. It‚Äôs privacy-by-obfuscation instead of privacy-by-abstention. But it does prevent your web browser/IP address/location from being leaked.</p>
<h2 id="benefits">Benefits</h2>
<ul>
<li>Email newsletters are more user friendly. (I‚Äôm more inclined to click on a link if I see it‚Äôs a reputable website.)</li>
<li>Helps detect phishing attacks.</li>
<li>Better user privacy.</li>
<li>Plain text emails are readable again.</li>
</ul>
<h2 id="plain-text-emails">Plain text emails</h2>
<p>The last benefit was an unexpected side effect.</p>
<p>Whilst writing Email Cleaner, I discovered that plain text versions of email newsletters are completely unreadable.</p>
<p>They look something like this:</p>
<blockquote>
<p>Most agree that the term Artificial Intelligence was codified at a Dartmouth workshop in 1956 [htt—Ä://email.substack.com/c/eJxdkc-OgyAQh5-m3Grkr3rgsJd9DQM4WlIFA2O7vv1O2-xlE2CSHzPhy0dwCEsup91zRfY6Rjx3sAmegAiF7BsUE71mvZJcKUa87qgTgpG4mVAAXjYuGssOZN3dEkeLMafPBpOMzFp1wluppHM9Z2FoQQQbnAqd8tx2A7_P2t1HSCNoeEM5cwKy6Blx3R7868F-qkFqjviMK_hom1ym2rrqmr5twVfecTZHLs9tziuJmrWMtqy6kJ0cGtrYoFoF1Aou-ShpCHRsnac9d4wz4MNDtNvuNrTjkzbwu1YNCaNd3hGOZsykaAdpQptonZyur2v3dT1tan7tKeJpIFm3gL954I31Q8hMkKBU3N5Y1FRR3vdc9P2guhtABcZZx2ilTKoOn-tW0v90_AEVdJLl]. At a conference five years earlier [htt—Ä://email.substack.com/c/eJxdkEtuhDAMhk8zWSLyBBZZVKp6jSghDkTDJCiYody-YdhV8kO2bPn3N1qEKZdTr3lDcgWD5wo6wbEtdQVEKOyoUMY4WdEbLY0RbLId90oJFus4F4DNxdViOYDth19jcBhzek8ILdjNDk5xrQxozWenoTNmkL2cvQoimFaZz7PumCKkABYeUM6cgK32hrjXi_y6iG9aIW_7QUS3WJGQm1wWSv2aXwVvMd1jWq7O5wOvmwsUQL26NF3_7qiNRStawVtBW-lODw1v3GxaA9wpqWUgxpmH1k-8l15IAXK4qLYevqILd97Az05sCaNbHxGeTcisWA9pQZc4dS4vG5RuLxkj1e1IEc8RkvMrTB9P-NH9NjcukKDQN0yjQ8sNl30vVd8PpvuIIZFSdIKTfUYcU6apZP9x_AIL9Jrk], however, the concepts were discussed in detail, just not named.&nbsp;</p>
</blockquote>
<p>Is that supposed to be readable?! (It‚Äôs not just Substack. The other providers are almost just as bad.)</p>
<p>Email Cleaner changes it to:</p>
<blockquote>
<p>Most agree that the term Artificial Intelligence was codified at a Dartmouth workshop in 1956 [htt—Äs://en.wikipedia.org/wiki/Dartmouth_workshop]. At a conference five years earlier [htt—Äs://computerhistory.org/blog/thinking-about-machines-and-thinking/], however, the concepts were discussed in detail, just not named.&nbsp;</p>
</blockquote>
<p>which is moderately readable.</p>
<p>It would be even better if it was:</p>
<blockquote>
<p>Most agree that the term Artificial Intelligence was codified at a Dartmouth workshop in 1956 [0]. At a conference five years earlier [1], however, the concepts were discussed in detail, just not named.&nbsp;</p>
<p>[0] htt—Äs://en.wikipedia.org/wiki/Dartmouth_workshop<br>
[1] htt—Äs://computerhistory.org/blog/thinking-about-machines-and-thinking/</p>
</blockquote>
<p>but that‚Äôs a story for another time. (I don‚Äôt know if it‚Äôs worth the effort to do this. Do many people still read emails in plain text?)</p>
<h2 id="caveats">Caveats</h2>
<p>Please note that Email Cleaner is only a proof of concept. It‚Äôs an experiment. I wouldn‚Äôt even call it an MVP.</p>
<p>It‚Äôs useful to me, but I don‚Äôt know if it‚Äôs useful for others. I‚Äôd like to find out.</p>
<p>I don‚Äôt know how long Email Cleaner will last since:</p>
<ul>
<li>It‚Äôs vulnerable to spam (There‚Äôs no authentication or access control), and</li>
<li>It‚Äôs not scalable (It‚Äôs running on a tiny server).</li>
</ul>
<p>Once the spam bots arrive, or too many people use it, it‚Äôll probably have to stop.</p>
<p>Or if there‚Äôs sufficient interest, I‚Äôll rewrite it into a proper side project.</p>
<h2 id="privacy">Privacy</h2>
<p>Please don‚Äôt forward any personal or private emails to Email Cleaner. Only forward publicly available email newsletters (Paid newsletters are okay).</p>
<p>All received emails go to Email Cleaner‚Äôs inbox. I hope to accumulate more test data with which to conduct further research on mailing list service providers and improve Email Cleaner.</p>
<p>There‚Äôs not really a privacy policy. This is an experiment.</p>
<p>If you forward emails to Email Cleaner, I consider that as your opt-in.</p>
<p>Anything you forward to Email Cleaner could be used to improve Email Cleaner.</p>
<p>OTOH, I don‚Äôt know anything about you anyway. All I have is an email address and what email newsletters you subscribe to (whatever can be inferred from that).</p>
<h2 id="feedback">Feedback</h2>
<p>Since this is a new and experimental service, please don‚Äôt expect it to be perfectly reliable nor correct. If you forward an email to Email Cleaner and don‚Äôt get a reply in a few minutes, maybe something broke. Please get in touch with me and I‚Äôd be happy to look into it.</p>
<p>If you have any questions, suggestions, criticisms, etc. ‚Äî please also let me know. I‚Äôd be happy to talk.</p>
<p>I hope you like Email Cleaner! Thanks for reading!</p>




  </article>


  
</div>
    </div></div>]]>
            </description>
            <link>https://bengtan.com/blog/email-cleaner-clean-tracking-links-and-pixels/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26293424</guid>
            <pubDate>Sun, 28 Feb 2021 13:55:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You can do better than Redis as a data layer for your models]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26293114">thread link</a>) | @jamesblonde
<br/>
February 28, 2021 | http://www.logicalclocks.com/blog/ai-ml-needs-a-key-value-store-and-redis-is-not-up-to-it | <a href="https://web.archive.org/web/*/http://www.logicalclocks.com/blog/ai-ml-needs-a-key-value-store-and-redis-is-not-up-to-it">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://www.logicalclocks.com/blog/ai-ml-needs-a-key-value-store-and-redis-is-not-up-to-it</link>
            <guid isPermaLink="false">hacker-news-small-sites-26293114</guid>
            <pubDate>Sun, 28 Feb 2021 13:02:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reasoning about Taxes]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 74 (<a href="https://news.ycombinator.com/item?id=26292993">thread link</a>) | @acqbu
<br/>
February 28, 2021 | https://www.billdietrich.me/ReasonTaxes.html | <a href="https://web.archive.org/web/*/https://www.billdietrich.me/ReasonTaxes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.billdietrich.me/ReasonTaxes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292993</guid>
            <pubDate>Sun, 28 Feb 2021 12:42:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hunting two PDP-1 photos (which are not what they seem)]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 30 (<a href="https://news.ycombinator.com/item?id=26292781">thread link</a>) | @masswerk
<br/>
February 28, 2021 | https://www.masswerk.at/nowgobang/2021/train-spotting-1 | <a href="https://web.archive.org/web/*/https://www.masswerk.at/nowgobang/2021/train-spotting-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.masswerk.at/nowgobang/2021/train-spotting-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292781</guid>
            <pubDate>Sun, 28 Feb 2021 12:02:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Indeed MPH: Fast and Compact Immutable Key-Value Stores]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26292427">thread link</a>) | @gbrown_
<br/>
February 28, 2021 | https://engineering.indeedblog.com/blog/2018/02/indeed-mph/ | <a href="https://web.archive.org/web/*/https://engineering.indeedblog.com/blog/2018/02/indeed-mph/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://engineering.indeedblog.com/blog/2018/02/indeed-mph/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292427</guid>
            <pubDate>Sun, 28 Feb 2021 10:56:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comparing Vat Solutions for Bootstrapped UK Businesses]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26292256">thread link</a>) | @ianwootten
<br/>
February 28, 2021 | https://www.ianwootten.co.uk/2021/02/23/comparing-vat-solutions-for-bootstrapped-uk-businesses/ | <a href="https://web.archive.org/web/*/https://www.ianwootten.co.uk/2021/02/23/comparing-vat-solutions-for-bootstrapped-uk-businesses/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.ianwootten.co.uk/2021/02/23/comparing-vat-solutions-for-bootstrapped-uk-businesses/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292256</guid>
            <pubDate>Sun, 28 Feb 2021 10:24:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The KimKlone Microcomputer]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26292235">thread link</a>) | @gbrown_
<br/>
February 28, 2021 | https://laughtonelectronics.com/Arcana/KimKlone/Kimklone_intro.html | <a href="https://web.archive.org/web/*/https://laughtonelectronics.com/Arcana/KimKlone/Kimklone_intro.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://laughtonelectronics.com/Arcana/KimKlone/Kimklone_intro.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292235</guid>
            <pubDate>Sun, 28 Feb 2021 10:19:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Actually Portable Executables]]>
            </title>
            <description>
<![CDATA[
Score 649 | Comments 143 (<a href="https://news.ycombinator.com/item?id=26292166">thread link</a>) | @krab
<br/>
February 28, 2021 | https://ahgamut.github.io/c/2021/02/27/ape-cosmo/ | <a href="https://web.archive.org/web/*/https://ahgamut.github.io/c/2021/02/27/ape-cosmo/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <div>  <p><span>27 Feb 2021</span></p><p>I came across <a href="https://github.com/jart/cosmopolitan">Cosmopolitan</a> on Hacker News, and I was initially confused, due to a few memories of cross-compilation nightmares: while it should be possible to compile for the same architecture regardless of operating system, wouldn‚Äôt the OS get confused by the leading bytes of the executable? I read the <a href="https://justine.lol/ape.html">article</a> explaining how it works, but most of it went over my head.</p> <p>The example on the <a href="https://github.com/jart/cosmopolitan">Github README</a> used the following script for compilation:</p> <div><div><pre><code>gcc <span>-g</span> <span>-O</span> <span>-static</span> <span>-nostdlib</span> <span>-nostdinc</span> <span>-fno-pie</span> <span>-no-pie</span> <span>-mno-red-zone</span> <span>\</span>
  <span>-o</span> hello.com.dbg hello.c <span>-fuse-ld</span><span>=</span>bfd <span>-Wl</span>,-T,ape.lds <span>\</span>
  <span>-include</span> cosmopolitan.h crt.o ape.o cosmopolitan.a
objcopy <span>-S</span> <span>-O</span> binary hello.com.dbg hello.com
</code></pre></div></div> <p>I converted it into a simple Makefile to run the compilation commands. I tried a bunch of simple C programs (basic arithmetic, reading and writing to files) on Linux+Windows (compiled on Linux), and all of them worked.</p> <h2 id="compiling-lua-with-cosmopolitan">Compiling Lua with Cosmopolitan</h2> <p>I decided to try compiling a high-level language built on C. I originally picked Python, but the Makefile for Python seemed too complicated to mess with, so I then picked <a href="https://www.lua.org/download.html">Lua</a>, which looked much simpler in comparison.</p> <p>I started out by blindly copy-pasting the flags and includes used in the sample compilation on Github. Ah, it would have been wonderful for my laziness if it compiled out of the box. Following is a play-by-play commentary of trying to compile Lua.</p> <p>First problem I ran into was header clashes: if I didn‚Äôt put <code>-nostdlib -nostdinc</code> while compiling each object file, <code>-include cosmopolitan.h</code> would clash with the system headers. But blocking the system headers meant I would have to change every <code>#include</code> of a system header. I created a bunch of dummy headers with the same names as those in the <a href="https://en.cppreference.com/w/c/header">C stdlib</a> and and included to those instead.</p> <p>Naming clashes: some of the macros in <code>cosmopolitan.h</code> clashed with macro/function names in Lua: <code>reverse</code> and <code>isempty</code>. I changed the Lua source to avoid this.</p> <p>A macro <code>FIRST_RESERVED</code> was broken because <code>UCHAR_MAX</code> was missing. I thought <code>UCHAR_MAX</code> was supposed to be in <code>limits.h</code> ‚Äì the <code>limits.h</code> part of <code>cosmopolitan.h</code> did not have <code>UCHAR_MAX</code> (It had <code>SCHAR_MAX</code>, though.) I added in a <code>#define</code> stating <code>UCHAR_MAX</code> as <code>__UINT8_MAX__</code> (ie 255).</p> <p>The default Lua Makefile attempts to use <code>_setjmp</code>/<code>_longjmp</code> in <code>ldo.c</code> when on Linux. I disabled the <code>LUA_USE_LINUX</code> flag for compiling the object files, but this caused an issue with <code>tmpnam</code> in <code>loslib.c</code> (<code>mkstemp</code> is available in Cosmopolitan). I changed the Lua source to use <code>setjmp</code>/<code>longjmp</code>. A similar issue showed in <code>lauxlib.c</code> for <code>sys/wait.h</code> (which is a no-op in non-POSIX systems, as per the Lua source code), and in <code>liolib</code> for <code>sys/types.h</code> so disabled <code>LUA_USE_POSIX</code> over there as well.</p> <p>The <code>localeconv()</code> function (part of <code>locale.h</code>) was not implemented in <code>cosmopolitan.h</code>, and this caused an error while compiling <code>lobject.c</code> (macro <code>lua_getlocaledecpoint()</code> depended on <code>localeconv()</code>). Changed the macro to just return <code>'.'</code>.</p> <p>The <code>panic</code> function in Lua <code>static int panic (lua_state*)</code> clashed with that in Cosmopolitan <code>void panic(void)</code>. Renamed the lua function to <code>lua_panic</code>. This triggered an error where the <code>panic</code> function was being called in <code>luaL_newstate</code>, so I changed the name there as well.</p> <p><code>luaL_loadfilex</code> caused a <em>frame size error</em> ‚Äì I have never seen this before. A quick internet search shows that this is because a large buffer is allocated on stack when entering the function, and yes, <code>luaL_loadfilex</code> allocates a <code>loadF</code> object containing a <code>char</code> buffer of <code>BUFSIZ</code>. I reduced the size of the buffer to <code>BUFSIZ - 64</code>.</p> <p><code>loslib.c</code> reuiqres the <code>setlocale()</code> and <code>LC_*</code> from <code>locale.h</code>, which is defined as an extern value in <code>cosmopolitan.h</code>, but that definition is somehow not enough.. screw it, I just disabled <code>os_setlocale</code> in <code>loslib.c</code>, and then it compiles.</p> <h2 id="linking-the-object-files">Linking the object files</h2> <p>Ok, time for linking ‚Ä¶</p> <div><div><pre><code>gcc -std=gnu99 -o lua   lua.o liblua.a -lm -Wl,-E -ldl
/usr/bin/ld: errno: TLS definition in //lib/x86_64-linux-gnu/libc.so.6 section
.tbss mismatches non-TLS reference in liblua.a(lauxlib.o)
/usr/bin/ld: //lib/x86_64-linux-gnu/libc.so.6: error adding symbols: bad value
collect2: error: ld returned 1 exit status
</code></pre></div></div> <p>I forgot, I shouldn‚Äôt <code>-lm</code> or <code>-ldl</code>. Ok, let‚Äôs try with all the object files instead of <code>liblua.a</code>:</p> <div><div><pre><code>/usr/bin/ld.bfd: lvm.o: in function `l_strcmp':
lvm.c:(.text+0x59): undefined reference to `strcoll'
/usr/bin/ld.bfd: lmathlib.o: in function `math_tanh':
lmathlib.c:(.text+0x21f): undefined reference to `tanh'
/usr/bin/ld.bfd: lmathlib.o: in function `math_sinh':
lmathlib.c:(.text+0x24f): undefined reference to `sinh'
/usr/bin/ld.bfd: lmathlib.o: in function `math_cosh':
lmathlib.c:(.text+0x27f): undefined reference to `cosh'
collect2: error: ld returned 1 exit status
</code></pre></div></div> <p>Umm‚Ä¶ okay, it looks like some of the functions defined in the cosmopolitan header are yet to be implemented in the static library. That‚Äôs okay, I can just quickly fill in the math functions, and I‚Äôll comment out <code>strcoll</code> for now, just because I want to see it compile‚Ä¶. and it successfully compiles!! Let‚Äôs run <code>objcopy</code> before trying it out on a system though.</p> <div><div><pre><code>$ objcopy -S -O binary lua lua.exe
$ ls -al
-rwxr-xr-x 1 1953720 Feb 27 01:33 lua
-rwxr-xr-x 1 344064 Feb 27 01:39 lua.exe
</code></pre></div></div> <p>That size reduction seems a little too drastic, but let‚Äôs see if it runs on Linux:</p> <p><img src="https://ahgamut.github.io/assets/images/linux_screen.png" alt=""></p> <p>Awesome. How about Windows?</p> <p><img src="https://ahgamut.github.io/assets/images/windows_screen.png" alt=""></p> <h2 id="summary-it-is-actually-portable">Summary: it <em>is</em> actually portable</h2> <p>This is pretty incredible: I just had to modify a few lines in a Makefile and some C source files, and I got a Lua executable that works both on Linux and Windows (and possibly others as well). Granted, there are still some details to be filled out (floating point calculation above prints a <code>g</code>), but Cosmopolitan is currently at release 0.0.2, so there is a lot of time.</p> <p>Hopefully this means that other languages that have source code completely in C can also be compiled once and run anywhere. Actually Portable Python next, maybe?</p> </div> </div></div>]]>
            </description>
            <link>https://ahgamut.github.io/c/2021/02/27/ape-cosmo/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26292166</guid>
            <pubDate>Sun, 28 Feb 2021 10:06:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Take a look at Nomad before jumping on Kubernetes]]>
            </title>
            <description>
<![CDATA[
Score 158 | Comments 76 (<a href="https://news.ycombinator.com/item?id=26291975">thread link</a>) | @sofixa
<br/>
February 28, 2021 | https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/ | <a href="https://web.archive.org/web/*/https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        
        <h2>Table of Contents</h2>
        
         
      
      <h2 id="pre-introduction">Pre-introduction</h2>
<p>Recently I stumbled upon and then stumbled upon again on <a href="https://blog.dave.tf/post/new-kubernetes/">David Anderson</a>‚Äôs interesting post about ‚Äúnew Kubernetes‚Äù, based on a discussion he had with <a href="https://timewitch.net/">Vallery Lancey</a> about what they would do differently if they were rewriting Kubernetes from scratch. Interestingly, a decent part of the proposals for a ‚Äúnew Kubernetes‚Äù are design choices made by Hashicorp for <a href="https://www.nomadproject.io/">Nomad</a>, which is a pretty underrated orchestrator, and drastically simpler ( one of the main goals of said ‚Äúnew Kubernetes‚Äù).</p>
<p>Some people are aware that Docker Swarm kinda exists but is abandonware/on life support, and isn‚Äôt really recommended anymore, but it still comes up in discussions due to how easy it is to use. For most, that leaves Kubernetes as the only ‚Äúserious‚Äù option, but it is a <em>very</em> complex piece of software, with a lot of moving parts, which isn‚Äôt actually required or need in most cases.</p>

  <figure>
    <img src="https://atodorov.me/img/nomad/kubernetes.jpg#center">
    
  </figure>


<p>This inspired me to write a series on Nomad, what it is, why it‚Äôs great, where it‚Äôs lacking and how to use it.</p>
<h2 id="introduction---what-is-nomad-and-why-its-great">Introduction - what is Nomad and why it‚Äôs great</h2>
<p>Hashicorp‚Äôs Nomad is a simple to run and maintain, yet very flexible task scheduler/orchestrator. It relies on plugins for execution, autoscaling and other features, and can run pretty much anything via its <code>task drivers</code> - Docker, contairnerd, LXC, rkt, podman, Java, fork/exec, QEMU, firecracker, FreeBSD jails.</p>
<p>It comes in the form of a single binary, run in two modes (<code>server</code>, in groups of 3 or 5, which make scheduling decisions and host the APIs and configuration, and an unlimited number of <code>worker</code>s which actually run whatever it is you want to run), and can be automatically clustered via <a href="https://consul.io/">Consul</a>. The configuration ( both for jobs and of Nomad itself) is in <a href="https://github.com/hashicorp/hcl">HCL</a> (I‚Äôll get into more detail about how great that is a bit later) or JSON (mainly for when the jobs are submitted by machines/scripts/tooling and not humans). Multiple clusters can be connected via <a href="https://learn.hashicorp.com/tutorials/nomad/federation?in=nomad/manage-clusters">multi-region federation</a> for sharing ACLs and for API forwarding ( you can submit a job or request logs to any server for any region and it will be forwarded to the appropriate server). Deployments can be complex out of the box ( rolling, canary, blue/green), and everything is version controlled and rollbackable.</p>
<p>Like most HashiCorp tools, it‚Äôs ‚Äúopen core‚Äù, meaning that the majority of features are available in an <a href="https://github.com/hashicorp/nomad">open source</a> version, and some more advanced/enterprise-y ones ( in Nomad‚Äôs case, <a href="https://www.hashicorp.com/blog/hashicorp-nomad-multi-cluster-deployment">multi-region/cluster deployments</a> - deploying something simultaneously to multiple separate clusters, policy as code with <a href="https://docs.hashicorp.com/sentinel/nomad">Sentinel</a> and similar ) require upgrading to Nomad Enterprise.</p>
<h2 id="primitives">Primitives</h2>
<ul>
<li><code>job</code> is a declarative file which contains groups of tasks, each task being a container/binary/anything run by an exec driver</li>
<li><code>system</code> jobs (run on all client nodes, equivalent to Kubernetes DaemonSets, for monitoring/logging agents/load balancers)</li>
<li><code>periodic</code> jobs (equivalent to cronjobs)</li>
<li><code>service</code>, which registers as a Consul service and is thus discoverable ( via API or DNS)</li>
<li><code>deployment</code>, each version of a job, they‚Äôre tracked and can be rollbacked to</li>
<li><code>allocation</code>, each instance of a task ( group ) on a node</li>
<li><code>namespace</code>, a logical unit to organise jobs in and ACLs around</li>
</ul>
<h3 id="jobs">Jobs</h3>
<p>Example of a very basic job that runs a Docker container (<code>jaegertracing/all-in-one:1.21</code>), with limits of 1000Mhz of CPU and 1024MB of RAM, and registers the service with Consul:</p>
<div><pre><code data-lang="hcl"><span>job</span> <span>"jaeger"</span> {
        type <span>=</span> <span>"service"</span>
        <span>group</span> <span>"api"</span> {
            <span>task</span> <span>"jaeger"</span> {
                driver <span>=</span> <span>"docker"</span>
                <span>config</span> { 
                  image <span>=</span> <span>"jaegertracing/all-in-one:1.21"</span>
                }
                <span>resources</span> {
                  cpu <span>=</span> <span>1000</span>
                  memory <span>=</span> <span>1024</span>
                }
                <span>service</span> {
                  name <span>=</span> <span>"jaeger-query"</span>
                }
            }
        }            
}
</code></pre></div><p>Note that this is a <em>very</em> basic job, there are no healthchecks, no persistent storage, no extra configuration, no update strategy, no autoscaling, no exposed ports.</p>
<h4 id="deployment-history-and-rollback">Deployment history and rollback</h4>
<p>Nomad tracks each job‚Äôs full definitions and deployment history, and allows you to easily rollback and compare them, via the UI, CLI or API, e.g.:</p>
<div><pre><code data-lang="bash"><span># List the versions of the job named "opentelemetry-collector"</span>
$ nomad job history opentelemetry-collector
Version     <span>=</span> <span>1</span>
Stable      <span>=</span> false
Submit Date <span>=</span> 2021-01-08T21:30:30+01:00

Version     <span>=</span> <span>0</span>
Stable      <span>=</span> true
Submit Date <span>=</span> 2021-01-08T21:29:48+01:00

<span># Check the difference between versions</span>
$ nomad job history -p opentelemetry-collector
Version     <span>=</span> <span>1</span>
Stable      <span>=</span> false
Submit Date <span>=</span> 2021-01-08T21:30:30+01:00
Diff        <span>=</span>
+/- Job: <span>"opentelemetry-collector"</span>
+/- Task Group: <span>"opentelemetry-collector"</span>
  +/- Task: <span>"opentelemetry-collector"</span>
    +/- Config <span>{</span>
          args<span>[</span>0<span>]</span>:  <span>"--config=local/otel/config.yaml"</span>
      +/- image:    <span>"otel/opentelemetry-collector-contrib:0.15.0"</span> <span>=</span>&gt; <span>"otel/opentelemetry-collector-contrib:0.16.0"</span>
          ports<span>[</span>0<span>]</span>: <span>"health"</span>
          ports<span>[</span>1<span>]</span>: <span>"jaeger_thrift_compact"</span>
        <span>}</span>

Version     <span>=</span> <span>0</span>
Stable      <span>=</span> true
Submit Date <span>=</span> 2021-01-08T21:29:48+01:00

<span># Revert job "opentelemetry-collector" to version 0</span>
$ nomad job revert opentelemetry-collector <span>0</span>

</code></pre></div><h4 id="state-tracking-and-job-planning">State tracking and job planning</h4>
<p>Nomad keeps the desired state and its history, and with <code>nomad job plan</code>, similar to <code>terraform plan</code>, allows us to preview what will change upon applying a new job file. There‚Äôs also a feature to verify nothing has changed between the <code>plan</code> and <code>run</code> (equivalent to <code>terraform apply</code> with a plan file) with the <code>-check-index</code> flag:</p>
<div><pre><code data-lang="bash">$ nomad job plan otel.nomad
+/- Job: <span>"otel"</span>
+/- Task Group: <span>"opentelemetry"</span> <span>(</span><span>1</span> create/destroy update<span>)</span>
  +/- Task: <span>"opentelemetry-collector"</span> <span>(</span>forces create/destroy update<span>)</span>
    +/- Config <span>{</span>
          args<span>[</span>0<span>]</span>:  <span>"--config=local/otel/config.yaml"</span>
      +/- image:    <span>"otel/opentelemetry-collector-contrib:0.15.0"</span> <span>=</span>&gt; <span>"otel/opentelemetry-collector-contrib:0.20.0"</span>
          ports<span>[</span>0<span>]</span>: <span>"health"</span>
          ports<span>[</span>1<span>]</span>: <span>"jaeger_thrift_compact"</span>
        <span>}</span>
Scheduler dry-run:
- All tasks successfully allocated.

Job Modify Index: <span>413</span>
To submit the job with version verification run:

nomad job run -check-index <span>413</span> otel.nomad

When running the job with the check-index flag, the job will only be run <span>if</span> the
job modify index given matches the server-side version. If the index has
changed, another user has modified the job and the plan<span>'</span>s results are
potentially invalid.
</code></pre></div><p>Overall, it‚Äôs a very useful feature, especially when collaborating, locally or via CI/CD.</p>
<h4 id="checking-the-status-and-logs">Checking the status and logs</h4>
<p>To check the status of a job, there are a few commands under <code>nomad job</code> and <code>nomad alloc</code></p>
<div><pre><code data-lang="bash">$ nomad job status otel
ID            <span>=</span> otel
Name          <span>=</span> otel
Submit Date   <span>=</span> 2021-02-27T20:41:29+01:00
Type          <span>=</span> service
Priority      <span>=</span> <span>50</span>
Datacenters   <span>=</span> dc1
Namespace     <span>=</span> default
Status        <span>=</span> running
Periodic      <span>=</span> false
Parameterized <span>=</span> false

Summary
Task Group  Queued  Starting  Running  Failed  Complete  Lost
otel      <span>0</span>       <span>0</span>         <span>1</span>        <span>0</span>       <span>0</span>         <span>0</span>

Latest Deployment
ID          <span>=</span> ea533b6f
Status      <span>=</span> successful
Description <span>=</span> Deployment completed successfully

Deployed
Task Group  Desired  Placed  Healthy  Unhealthy  Progress Deadline
otel      <span>1</span>        <span>1</span>       <span>1</span>        <span>0</span>          2021-02-27T20:51:45+01:00

Allocations
ID        Node ID   Task Group  Version  Desired  Status   Created  Modified
89031cfd  d3cbeb7e  otel      <span>0</span>        run      running  20s ago  4s ago

<span># logs are at the allocation level ( similar to Kubernetes, where they're at the container level), so we get them with the alloc id</span>
$ nomad alloc logs 89031cfd
<span>[</span>...<span>]</span>
</code></pre></div><h4 id="lifecycle-and-sidecars">lifecycle and sidecars</h4>
<p>Nomad allows defining the lifecycle of tasks in task groups, and their status, with the <code>lifecycle</code> stanza. We can have <code>prestart</code> ( for initialisation ), <code>poststart</code> ( companion, for proxying (aka ambassador and adapter pattern in Kubernetes )) or <code>poststop</code> for clean up, and via the <code>sidecar</code> bool we define whether or not it should run as long as the main task(s), e.g.:</p>
<div><pre><code data-lang="hcl">  <span>task</span> <span>"init"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"prestart"</span>
      sidecar <span>=</span> <span>false</span>
    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"alpine/httpie"</span>
      command <span>=</span> <span>"http"</span>
      args <span>=</span> [
        <span>"POST"</span>,
        <span>"https://some-internal-service-for-provisioning-stuff.local/v1/new"</span>,
        "job_id<span>=</span><span>'</span><span>${</span><span>NOMAD_JOB_ID</span><span>}</span><span>!'"</span>
      ]
    }
  }

  <span>task</span> <span>"fluentd"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"poststart"</span><span> # should start after the main task
</span><span></span>      sidecar <span>=</span> <span>true</span><span> # should run as long as the main task does, and be restarted if it fails
</span><span></span>    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"fluentd/fluentd"</span>
    }
    ...
  }

  <span>task</span> <span>"main-app"</span> {
    ...
  }

  <span>task</span> <span>"cleanup"</span> {
    <span>lifecycle</span> {
      hook <span>=</span> <span>"poststop"</span>
    }
    driver <span>=</span> <span>"docker"</span>
    <span>config</span> {
      image <span>=</span> <span>"alpine"</span>
      command <span>=</span> <span>"rm -rf"</span>
      args <span>=</span> [
        <span>"/var/lib/volume-with-super-secret-data"</span>
      
    }
  }
</code></pre></div><h3 id="aclrbac">ACL/RBAC</h3>
<p>ACL ( access-control list ), or RBAC ( role-based access control ) as it‚Äôs known in Kubernetes, allow defining who can do what, so that not everyone with network access can have full administrator privileges and run/stop whatever. Nomad‚Äôs ACL system is pretty similar to Consul and Vault‚Äôs, and uses JSON ( mostly for non-humans ) or HCL to define <code>policies</code> with <code>rules</code>, which describe what action is allowed on what object.</p>
<div><pre><code data-lang="hcl"><span># a basic policy which allows the predefined read policy with read-only access to list and read:
</span><span># job, volume and scaling details, and extra capabilities for job creation and log access within the default namespace
</span><span></span><span>namespace</span> <span>"default"</span> {
  policy <span>=</span> <span>"read"</span>
  capabilities <span>=</span> [<span>"submit-job","dispatch-job","read-logs"</span>]
}
</code></pre></div><p>Assignment of policies is done only via the CLI, unlike Kubernetes where that happens in YAML, as does policy management:</p>
<div><pre><code data-lang="bash"><span># create/update the policy within Nomad</span>
nomad acl policy apply -description <span>"Application Developer policy"</span> my-policy my-policy.hcl
nomad acl token create -name<span>=</span><span>"Test token"</span> -policy<span>=</span>my-policy -type<span>=</span>client
Accessor ID  <span>=</span> ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/">https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/</a></em></p>]]>
            </description>
            <link>https://atodorov.me/2021/02/27/why-you-should-take-a-look-at-nomad-before-jumping-on-kubernetes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291975</guid>
            <pubDate>Sun, 28 Feb 2021 09:30:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Left Node for Deno]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26291506">thread link</a>) | @fazlerocks
<br/>
February 27, 2021 | https://tastet.tech/why-i-left-node-for-deno | <a href="https://web.archive.org/web/*/https://tastet.tech/why-i-left-node-for-deno">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1611746956772/OLz2GztHg.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text">
<p>If you don‚Äôt know  <a target="_blank" href="https://deno.land/">Deno</a> , it is a javascript runtime like Nodejs but with some changes.</p>
<p>We are not going to talk about the technical aspect here but only the advantages and disadvantages that I have in working with Deno.</p>

<h2 id="write-and-play">Write and play</h2>
<p>With Deno, you no longer need to install packages with package managers like NPM, so no more heavyweight node_modules folder on your computer (and also on your conscience).</p>
<p>Imports are done with Urls which can be either in deno's package manager with versioning, or directly on the git directory of your favorite library.</p>
<p>To illustrate that, here a sample code to start a web server with Deno and  <a target="_blank" href="https://oakserver.github.io/oak/">Oak Server</a> :</p>
<pre><code><span>import</span> { Application } <span>from</span> <span>"https://deno.land/x/oak/mod.ts"</span>;

<span>const</span> app = <span>new</span> Application();

app.use(<span>(<span>ctx</span>) =&gt;</span> {
  ctx.response.body = <span>"Hello world!"</span>;
});

<span>await</span> app.listen(<span>"127.0.0.1:8000"</span>);
</code></pre>
<p>You can also run codes that are not on your computer like <a target="_blank" href="https://deno.land/x/nessie@1.1.3">Nessie</a> which lets you perform database migrations directly from the command line with Deno.</p>
<pre><code>deno run --allow-net --allow-read --allow-write https://deno.land/x/nessie/cli.ts init
</code></pre>
<h2 id="typescript">Typescript</h2>
<p>Yes, Deno uses typecript by default for your code writing to avoid many errors, and since typescript is the norm in this perfect world, all libraries written in Deno uses typescript are typed.</p>
<p>And typescript is fully integrated into our IDEs, the code is easier to debug! üòÅ</p>
<h2 id="webassembly">WebAssembly üëÄ</h2>
<p>Deno integrates browser APIs and therefore has the WASM API allowing you to use functions written in other languages directly in your code.</p>
<p>I was personally tired of seeing Python run after installing each dependency in my NodeJs projects, it gave an impression of instability and that‚Äôs verified by running a code on different OS ...</p>
<p>But it's resolved as WASM is universal and standardized!</p>
<h2 id="browser-apis">Browser APIs</h2>
<p>Deno has (again) a big advantage, that offering browser APIs to make the javascript development environment more homogeneous with front-end javascript development.</p>
<p>For example : the standardized function " <a target="_blank" href="https://developer.mozilla.org/fr/docs/Web/API/Fetch_API/Using_Fetch">fetch</a> " is available with Deno.</p>
<h2 id="custom-formatter">Custom Formatter</h2>
<p>Deno integrates a custom formatter to make the code in your project between each developer more homogeneous with the <code>deno fmt</code> command</p>

<p>I only see 2 problems using Deno :</p>
<h2 id="instability">Instability</h2>
<p>Since Deno is still young, the libraries and the runtime may have bugs.</p>
<p>I have often had to spend long hours debugging my code to fix crashes.</p>
<p>Often due to a bad cache or a version change in a dependency or runtime.</p>
<p>On the other hand, the more we advance in time, the more stable Deno is and the libraries also with a strong open source community.</p>
<p>For example, I have more easily participated in open source projects using the deno runtime to improve them than NodeJs.</p>
<h2 id="libraries">Libraries</h2>
<p>The number of available libs is still quite low, again due to Deno's age, but this number is increasing day by day (javascript ecosystem, lol)!</p>

<p>In the end, I use Deno whenever I have to do something other than frontend, instead of using NodeJs, if the library I want to use doesn't exist, then I create it and make it public to help other people.</p>
<p>And I learned a lot from the open-source community by operating like this!</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://tastet.tech/why-i-left-node-for-deno</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291506</guid>
            <pubDate>Sun, 28 Feb 2021 07:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ROG AI Overclocking on Linux]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26291486">thread link</a>) | @dragon-rabbit
<br/>
February 27, 2021 | https://leimao.github.io/blog/ROG-Linux-AI-Overclocking/ | <a href="https://web.archive.org/web/*/https://leimao.github.io/blog/ROG-Linux-AI-Overclocking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h3 id="introduction">Introduction</h3>

<p>ASUS Republic of Gamers (ROG) has released an AI overclocking tool on BIOS, which allows the PC users who are not experienced in overclocking to overclock the CPU and boost the operating system performance.</p>



<p>I am using a ROG Z390 MAXIMUS XI HERO (WI-FI) motherboard and an Intel i9-9900K CPU. In this blog post, I would like to share my experience with the ROG AI overclocking on Linux.</p>

<h3 id="benchmark-tools">Benchmark Tools</h3>

<p>Here are some benchmark tools that are available on Linux.</p>

<h4 id="blender">Blender</h4>

<p>Blender has a benchmark tool called <a href="https://opendata.blender.org/">Blender Open Data</a>, which allows you to benchmark your CPU or GPU.</p>

<div><div><pre><code>$ wget https://opendata.blender.org/cdn/BlenderBenchmark2.0/launcher/benchmark-launcher-2.0.5-linux.tar.gz
$ tar xvf benchmark-launcher-2.0.5-linux.tar.gz 
$ ./benchmark-launcher 
</code></pre></div></div>

<!-- <div class = "titled-image">
<figure class = "titled-image">
    <img src = "https://leimao.github.io/images/blog/2021-03-29-ROG-Linux-AI-Overclocking/blender.png" style = "width: 70%; height: 70%">
    <figcaption>Causal Diagram</figcaption>
</figure>
</div> -->

<p>Blender is also a free and open source 3D creation suite. We could install it on Ubuntu using the following command.</p>

<div><div><pre><code>$ sudo apt-get update
$ sudo apt-get install blender
</code></pre></div></div>

<h4 id="prime95">Prime95</h4>

<p>Prime95 is used for √¢‚Ç¨≈ìburning√¢‚Ç¨ÔøΩ your CPU. It is also available on Linux.</p>

<div><div><pre><code>$ wget http://www.mersenne.org/ftp_root/gimps/p95v303b6.linux64.tar.gz
$ tar xvf p95v303b6.linux64.tar.gz
$ ./mprime
</code></pre></div></div>

<h4 id="openssl">OpenSSL</h4>

<p>OpenSSL comes with Linux by default. It can also be used for √¢‚Ç¨≈ìburning√¢‚Ç¨ÔøΩ your CPU.</p>

<div><div><pre><code>$ openssl speed -multi 16
</code></pre></div></div>

<h4 id="turbostat">TurboStat</h4>

<p>TurboStat is a tool to monitor Intel CPU usages. We will mainly use it to monitor the CPU clock speed.</p>

<div><div><pre><code>$ sudo apt-get install linux-tools-$(uname -r) linux-cloud-tools-$(uname -r)
$ sudo modprobe msr
$ sudo turbostat
</code></pre></div></div>

<h3 id="rog-ai-overclocking">ROG AI Overclocking</h3>

<p>ROG AI overclocking could be done at BIOS level.</p>

<ol>
  <li>Go into BIOS and set all the BIOS configurations to default, save and reboot.</li>
  <li>Go into OS and run one of the benchmark tools mentioned above, reboot.</li>
  <li>Go into BIOS and turn on AI overclock and XMP, save and reboot.</li>
</ol>

<div>
<figure>
    <img src="https://leimao.github.io/images/blog/2021-03-29-ROG-Linux-AI-Overclocking/bios.png">
    <figcaption>ROG BIOS AI Overclocking</figcaption>
</figure>
</div>

<p>Before ROG AI overclocking, the stabilized CPU clock speed for all 8 cores of my i9-9900K during OpenSSL benchmarking was around 4.1-4.2 GHz. After ROG AI overclocking, it became 4.6-4.7 GHz.</p>



<p>For i9-9900KS, I believe it is possible to overclock all 8 cores to 5.0 GHz.</p>

<h3 id="references">References</h3>

<ul>
  <li><a href="https://www.asus.com/Microsite/motherboard/Intelligent-motherboard/AI-Overclocking.html">ROG AI Overclocking</a></li>
</ul>

      <hr>
      
    </div></div>]]>
            </description>
            <link>https://leimao.github.io/blog/ROG-Linux-AI-Overclocking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291486</guid>
            <pubDate>Sun, 28 Feb 2021 07:44:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust, Zig, and the Futility of ‚ÄúReplacing‚Äù C]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 119 (<a href="https://news.ycombinator.com/item?id=26291054">thread link</a>) | @ghoward
<br/>
February 27, 2021 | https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/ | <a href="https://web.archive.org/web/*/https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>This post has been discussed on <a href="https://news.ycombinator.com/item?id=26291054#26294846">Hacker News</a>, <a href="https://www.reddit.com/r/rust/comments/luawx6/rust_zig_and_the_futility_of_replacing_c/"><code>/r/rust</code></a>, and
<a href="https://lobste.rs/s/1iiifg"><code>lobste.rs</code></a>.</p><p>I should not have posted this to Hacker News on a Saturday night right before
going to bed, but in my defense, this post blew up in a way I didn‚Äôt expect.</p></div><h2 id="introduction">Introduction</h2><p>There was a recent <a href="https://github.com/pyca/cryptography/issues/5771">dust-up on GitHub</a> surrounding the decision by the
<a href="https://github.com/pyca/cryptography">Cryptography library</a> (which I will call <code>cryptography</code> for convenience) to
switch to <a href="https://www.rust-lang.org/">Rust</a>.</p><p>One of the distro maintainers of my distro of choice, <a href="https://www.gentoo.org/">Gentoo</a>, filed a bug
report with the <code>crytography</code> saying that the switch broke builds on several
platforms that Gentoo still supports. The <code>cryptography</code> authors replied that
those platforms are not really used anymore, and that they were going to stick
with Rust because it has better memory safety than C. They also argued that it
is better to force better programming languages on people because of better
security.</p><p>At first glance, it appears that the better argument is on the side of the
<code>cryptography</code> maintainers, but after thinking about it carefully, I think they
are wrong.</p><h2 id="reasons">Reasons</h2><p>There are a few reasons why I believe the <code>cryptography</code> maintainers are at
fault.</p><h3 id="due-diligence">Due Diligence</h3><p>First, their argument for Rust (and against C) because of memory safety implies
that they have not done due diligence in finding and fixing such bugs.</p><p>I can almost hear the rage of my readers against that paragraph above and
against the fact that I don‚Äôt have a commenting system on my blog. So let me
answer the comments preemptively.</p><p>‚ÄúThey are volunteers, giving their time away for free!‚Äù</p><p>Yes, but they also <em>intend</em> for their code to be used widely. They managed to
succeed in that, so they now have some obligation to their users.</p><p>‚ÄúThey don‚Äôt have any obligation!‚Äù</p><p>If a software project actively goes out and gets users, which just about any
project with a serious number of users has done, then yes, they have an
obligation to those users. The reason is that they sold users on the idea of
using their software. In other words, they were marketing their software, which
means making promises.</p><p>In fact, when people release <em>libraries</em> and try to get users for them, it‚Äôs
<em>because</em> they want them to be used by downstream programmers. A programmer
might write a program to scratch an itch and release it, but that reasoning
applies much less to libraries, in my opinion.</p><p>‚ÄúOkay, but they didn‚Äôt get anything in return, so there‚Äôs still no obligation.‚Äù</p><p>In return, the users gave them <strong>relevance</strong>.</p><p>One of the most vocal (in favor of Rust) developers of <code>cryptography</code> works for
Red Hat Security Engineering (if I read his GitHub profile right). I don‚Äôt know
if his work on <code>cryptography</code> helped him get that job, but it might have.</p><p>Another of the most vocal developers has a computer security company. I would
bet money that his work on <code>cryptography</code> gives his company relevance.</p><p>So they did <em>not</em> get ‚Äúnothing‚Äù from users. Quite the opposite, in fact.</p><p>By the way, this position comes from my own experience pushing my <a href="https://git.yzena.com/gavin/bc"><code>bc</code></a>. I
managed to convince the FreeBSD project to <a href="https://github.com/freebsd/freebsd-src/tree/main/contrib/bc">make it the default</a> in FreeBSD
13.</p><p>Once I did that, I shouldered, willingly, the need to keep FreeBSD happy. And
while I have made mistakes, I have done well so far.</p><p>And with my <code>bc</code>, <strong>I did my due diligence with memory safety</strong>. I fuzzed my
<code>bc</code> and eliminated all of the bugs. I even run the generated fuzzer test cases
through AddressSanitizer, and my entire test suite is run through Valgrind
<em>and</em> AddressSanitizer. I also add failing fuzzer cases to my test suite, which
means I run more and more test cases through both of those frightfully
effective tools.</p><p>For the record, those tools are only effective with effective test suites, which
I spent a lot of time building. But <em>building</em> such a test suite is part of due
diligence itself.</p><p>So it follows that if the developers have <em>not</em> done their due diligence, their
users should <strong>leave</strong>, either by forking the project or creating a new one.
The relevance they gave to the <code>cryptography</code> authors should disappear.</p><h3 id="battle-tested-c-code">Battle-Tested C Code</h3><p>In fact, I have done enough due diligence with my <code>bc</code> that I would consider it
a dereliction of duty to Rewrite It in Rust (RIIR).</p><p>Why would it be a dereliction of duty? Because rewriting it in Rust would cause
<em>more</em> bugs, not less. This is because of several reasons:</p><ol><li>I would need to <em>redesign</em> it to fit the language.</li><li>I would need to <em>reimplement</em> it, and new implementations always have bugs.</li><li>The C code is battle-tested, both by me (using fuzzing and other techniques)
and by users.</li></ol><p>That last point is the most crucial, especially in the case of <code>cryptography</code>.</p><p>If the developers of <code>cryptography</code> claim that they have, in fact, done their
due diligence with regards to memory safety in their C code, then they are
claiming that it‚Äôs battle-tested.</p><p>The saying that ‚Äúa bird in the hand is worth two in the bush,‚Äù and in this case,
<em><strong>if</strong></em> the <code>cryptography</code> developers are claiming that they have done their
due diligence, they are throwing away a bird in the hand for a single one in the
bush.</p><div><p><strong>Edit (28 Feb 2021)</strong>: This part of the post seems to be misunderstood widely,
so I am going to attempt to clarify.</p><p>People are arguing that having safe C code requires a frozen, small codebase
with a thorough test suite. And then they debate my position based on the belief
that the codebase needs to evolve.</p><p>For the record, I agree with them that in order to have safe C code, the
codebase must be small and frozen.</p><p>What I am arguing is that <strong>crypto</strong> code <em>should</em> be small and frozen, with a
thorough test suite. I wrote about that <a href="https://gavinhoward.com/2019/11/finishing-software/">here</a>.</p></div><p>And if that‚Äôs the case, their users should <strong>leave</strong> and take <code>cryptography</code>'s
relevance with them.</p><h3 id="desktops-and-smartphones-are-not-the-only-computers">Desktops and Smartphones Are Not the Only Computers</h3><p>The users of <code>cryptography</code> were claiming in the bug report discussion that Rust
is not portable to many platforms, and the authors said that they don‚Äôt have the
time or resources to target those platforms. Fair enough.</p><p>But then they claim that the <em>users</em> should put in the effort to port Rust to
their platforms. This is wrong.</p><p>The <code>cryptography</code> authors also claim that the platforms that Rust doesn‚Äôt
support do not matter. As we will see below, this is false.</p><p>While I agree that the <code>cryptography</code> authors are not responsible for porting
Rust to other platforms, the users of those platforms are not either.</p><p>That responsibility falls on the Rust developers.</p><p><em>They</em> were the ones who sold Rust to those who have used it, so as above,
<em>they</em> have the responsibility for supporting their users.</p><p>Granted, the Rust developers have made no claim about being portable to every
platform. But they <em>have</em> claimed that it is <a href="https://www.rust-lang.org/what/embedded">appropriate for embedded
software</a>.</p><p>If it were true, this would be great. After all, <a href="https://youtu.be/3HxPzutkNYw?t=257">IoT devices outnumber
desktops and smartphones by at least one order of magnitude</a>.</p><p>But there are a lot of them that LLVM, Rust‚Äôs backend, cannot generate code
for. In fact, there are a lot of them that <em>C++</em> cannot run on.</p><div><p><strong>Edit (28 Feb 2021)</strong>: Also, the Rust developers are the developers with the
most experience reading ISA manuals knowing how to make a compiler generate
code. So they are still the best placed to support those ‚Äúesoteric‚Äù
architectures.</p><p>And if they do not know how to read ISA manuals and generate code, it‚Äôs because
they lean too heavily on LLVM.</p></div><p>Make no mistake; embedded software is still running the majority of devices in
the world. And C is the king of embedded software.</p><p>I don‚Äôt know exact numbers, but I wouldn‚Äôt be surprised if the majority of
programmable devices in the world cannot run Rust.</p><p>Thus, because Rust uses LLVM, it is not portable.</p><p>And in my opinion, Rust is not appropriate for the embedded space.</p><p>So in this case, I would consider that the <code>cryptography</code> developers were
victims of the Rust developers.</p><h3 id="gcc-is-not-the-only-compiler"><code>gcc</code> Is Not the Only Compiler</h3><p>That isn‚Äôt the only problem.</p><p>There is a <a href="https://github.com/Rust-GCC/gccrs">project to make <code>gcc</code> able to compile Rust</a>. That‚Äôs commendable.</p><p>However, many people seem to believe that once it‚Äôs done, Rust will be portable.
That is not the case.</p><p>Why? Simple: <strong><code>gcc</code> is not the only compiler</strong>.</p><p>There is plenty of code out there that uses dead simple C compilers, like
<a href="https://bellard.org/tcc/">tcc</a>, <a href="http://sdcc.sourceforge.net/">sdcc</a>, and others. And often, they have <a href="https://embeddedgurus.com/stack-overflow/2012/06/optimizing-for-the-cpu-compiler/">good reason to do
so</a>.</p><p>Adding a <code>gcc</code> frontend, while it will improve the situation, will not make Rust
as portable as C. Period.</p><h3 id="pushing-for-progress-hinders-it">Pushing for Progress Hinders It</h3><p>The other thing that the <code>cryptography</code> authors claim is that their users who
refuse to adopt Rust are hindering progress.</p><p>That may be true, but it is also true that forcing ‚Äúprogress‚Äù on others hinders
<em>true</em> progress.</p><p>By forcing users to either adopt Rust or pin their dependency on <code>cryptography</code>
to the most recent version without it, they are forcing those users to use
stagnant code.</p><p>Isn‚Äôt that the very opposite of progress?</p><h2 id="cryptography-at-fault"><code>cryptography</code> at Fault</h2><p>Those reasons lay out why I think the <code>cryptography</code> authors should shoulder the
blame for this situation, and I think I can explain where they went wrong.</p><ol><li>They let ideology come before pragmatic engineering.</li><li>They sold <code>cryptography</code> to users.</li><li>They knew that switching to Rust would break existing users and did it
anyway.</li><li>They either did not do their due diligence for memory safety, or they did
and threw that battle-tested code out.</li></ol><h2 id="portability">Portability</h2><p>To be honest, I used to think that it was better to switch to a better language
than C.</p><p>I had several talks with Linux distro maintainers, as well as a talk with my
father-in-law, that convinced me that C‚Äôs portability is still important enough
that it should be used.</p><p>Unless, of course, you <em>explicitly</em> target only certain platforms. But you had
better be prepared to never target others.</p><p>In fact, after talking with the distro maintainers, who have had to build Rust,
I am also convinced that it‚Äôs not just about being portable, it‚Äôs also about how
<em>easy</em> it is to <em>build</em> software.</p><p>Rust‚Äôs bootstrap is <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">complicated</a>, and it is one of the worst things about
it.</p><p>If building software in Rust means building Rust for a <a href="https://doc.rust-lang.org/nightly/rustc/platform-support.html">Tier 3</a> platform,
you can bet that <a href="https://drewdevault.com/2021/02/09/Rust-move-fast-and-break-things.html">people will stick with C</a>.</p><h3 id="zig">Zig</h3><p>I want to take a moment to talk about Zig.</p><p>Zig might be one of the most promising up-and-coming languages of recent memory.</p><p>But it will ultimately fail to reach its goal.</p><p>You see, Zig is meant to replace C. But ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/">https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/</a></em></p>]]>
            </description>
            <link>https://gavinhoward.com/2021/02/rust-zig-and-the-futility-of-replacing-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26291054</guid>
            <pubDate>Sun, 28 Feb 2021 06:04:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Horizonator: Terrain renderer based on SRTM DEMs]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290718">thread link</a>) | @pabs3
<br/>
February 27, 2021 | http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html | <a href="https://web.archive.org/web/*/http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>
Check this out:
</p>


<p><img src="https://github.com/dkogan/horizonator/raw/master/example-interactive.png" alt="example-interactive.png">
</p>

<p>
I just resurrected and cleaned up an old tool I had lying around. It's now nice
and usable by others. This tool loads terrain data, and renders it from the
ground, simulating what a human or a camera would see. This is useful for
armchair exploring or for identifying peaks. This was relatively novel when I
wrote it &gt;10 years ago, but there are a number of similar tools in existence
now. <i>This</i> implementation is still useful in that it's freely licensed and
contains APIs, so fancier processing can be performed on its output.
</p>

<p>
Sources and (barely-complete-enough) documentation live here:
</p>

<p>
<a href="https://github.com/dkogan/horizonator">https://github.com/dkogan/horizonator</a>
</p>

  </div></div>]]>
            </description>
            <link>http://notes.secretsauce.net/notes/2021/02/27_horizonator-terrain-renderer-based-on-srtm-dems.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290718</guid>
            <pubDate>Sun, 28 Feb 2021 04:38:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Intro to Ephemeral Environments]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290634">thread link</a>) | @gk1
<br/>
February 27, 2021 | https://releaseapp.io/ephemeral-environments | <a href="https://web.archive.org/web/*/https://releaseapp.io/ephemeral-environments">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://releaseapp.io/ephemeral-environments</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290634</guid>
            <pubDate>Sun, 28 Feb 2021 04:16:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Thoughts on Community]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290434">thread link</a>) | @sarvasvkulpati
<br/>
February 27, 2021 | https://sarvasvkulpati.com/blog/community | <a href="https://web.archive.org/web/*/https://sarvasvkulpati.com/blog/community">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="__next"><main><article><div><p>There's been an explosion of people creating communities on the internet. I've thought about them a lot, and wrote this to compile some of those thoughts in a single document.</p><p>What is a community? For my purposes, I‚Äôve found a useful definition.</p><blockquote><p>A group of people, united by a shared passion or purpose, who interact with each other.</p></blockquote><p>Looking at the definition, there are only two things a community needs.</p><ul><li>A shared passion or purpose</li><li>People interacting with each other</li></ul><p>Here‚Äôs some examples of communities:</p><table><thead><tr><th>Community</th><th>Shared passion/purpose</th><th>People interacting</th></tr></thead><tbody><tr><td>Your high school</td><td>Learn (apparently)</td><td>Talking in classrooms, lunches, groupchats</td></tr><tr><td>React developers</td><td>Using the same language, interested in the development of the language</td><td>Tweeting at each other, reddit, forums</td></tr></tbody></table><p>The strength of a community, then, comes from the strength of this shared passion/purpose and the depth and frequency of interactions. And so, a useful formula for measuring the strength of a community could be:</p><p><span></span> = strength of the passion/ideal</p><p><span></span> = the ith connection</p><p><span></span> = the depth of the ith connection</p><p>We can come up with a few interesting observations through this formula.</p><ul><li><p>Notice that this definition doesn‚Äôt talk about technology or the platform used to bring these people together. <strong>Putting people into a group chat doesn‚Äôt make it a community.</strong> In fact, a group chat isn‚Äôt even necessary to build a community. There‚Äôs clearly a React developer community on the internet, but there isn‚Äôt any specific platform or group chat they congregate at. In that sense, communities can be thought of as the superset of the platform they exist on. A single community can use many platforms to interact with each other, but the discord server or slack channel they use isn‚Äôt the community itself.</p></li><li><p><strong>The strength of the shared passion/purpose acts as a force multiplier on the connections in a community.</strong> If there is no shared P, the community has no strength. Getting people together who don‚Äôt have a shared passion is the same thing as putting a bunch of random people in a group chat and calling it a community.</p></li><li><p><strong>It‚Äôs much easier to connect with people who have the same values and passions as you do, so the stronger P is, the stronger every single connection is right at the outset.</strong> So (somewhat obviously), the more passionate people are, the easier is it so make a community with them. Conversely, without a strong shared ideal, it‚Äôll be very difficult to get people to interact and form deep connections.</p></li><li><p>The shared purpose can even be something as trivial as having to be in the same place at the same time. But if you‚Äôve left high school, you‚Äôll notice how you probably haven‚Äôt kept in touch with 90% of the people you knew, even if it felt like you knew them really well during your time there. That leads us to another important point- <strong>there is a hierarchy of shared experiences that bring people together.</strong> You didn‚Äôt keep in touch simply because the strength of your connection was based on location, which is very weak compared to shared passions or experiences.</p></li></ul><p><img src="https://sarvasvkulpati.com/hierarchy.jpeg" alt="shared purpose hierarchy"></p><p>A community with a few deeply passionate people is much stronger than one with many shallow ones. You‚Äôd think that it‚Äôs merely the area under the curve (connections x depth of connections), but there‚Äôs a third dimension here-  P would likely be much higher in communities with deeper connections, making those communities stronger.</p><p><img src="https://sarvasvkulpati.com/3d.jpeg" alt="3d graph of P, depth and connections"></p><p>Notice that frequency of interaction is not a factor at all. It‚Äôs only useful to the extent that it increases the depth of relationships in a community- beyond that, it doesn‚Äôt make a difference.</p><p>Think of your closest group of friends. You could meet them all after months and you‚Äôd still feel the same sense of community you did before. The strength of your connection superseded the need to constantly interact. And so, the DAUs of a community is a terrible way to measure its strength. This is not to say it doesn‚Äôt matter, just that while frequent interactions may lead to deep connections, deep connections don‚Äôt necessarily mean frequent interactions.</p><h2>Who‚Äôs a community for?</h2><p>The need for deep connections means that communities specifically built for the internet can only fulfill a certain set of users.</p><p>The issue is <a href="https://en.wikipedia.org/wiki/Dunbar%27s_number">Dunbar‚Äôs number</a>. Humans can only maintain ~150 deep connections, and the vast majority of these are taken up by in person relationships. But to make online communities, you need people to make strong relationships. So, in a sense, you need people with enough ‚Äòmental social capacity‚Äô to form those deep relationships with people online.</p><p>This required ‚Äòmental social space‚Äô means that online communities need to cater to people who are missing some sort of social interaction offline. And so, they need to find a way to offer connections that people cannot find in person.</p><p>From a social lens, the internet is an aggregation of extremes. It allows everyone in the long tail to suddenly have an abundance of people like them. This means that people with unconvential interests who couldn't find their people in person, can do so online. So the the gamer, the programmer, the digital artist in school- they don‚Äôt need to feel so different anymore.</p><p>For example, I‚Äôve been interested in startups for years now, and after bingeing <a href="https://blog.ycombinator.com/category/podcast/">YC‚Äôs podcasts</a>, I realised that I needed a way to find people with the SV mindset. Twitter allowed me to find many people my age with similar interests, <a href="https://twitter.com/sarvasvkulpati/status/1247181074611851267?lang=en">Enlite</a> allowed me to meet a bunch of really interesting people, and interning at <a href="https://pioneer.app/">Pioneer</a> gave me a glimpse of what it‚Äôs like to work at startups. All of these happened without meeting a single one of of these people in person.</p><p><a href="https://hackclub.com/">HackClub</a> is a perfect example of a community that‚Äôs built to cater to a group of people who miss some sort of social interaction offline. It‚Äôs still strangely difficult to find kids who are interested in coding and building things, and Hack Club fills that gap by giving young hackers an online community of people just like them. It works so well because it manages to both</p><ul><li>Cater to highly passionate people</li><li>Cater to people who don‚Äôt usually find their communities in person</li></ul><h2>Building strong community</h2><p>While finding many people with a high P is a prerequisite, you need to then get them to interact with each other, to weave the web of connections that form the thing you‚Äôll call your community. When you first bring people together, each individuals connections will look like this:</p><p><img src="https://sarvasvkulpati.com/connections.jpeg" alt="a graph of connections against depth"></p><p>Each member will have fairly weak connections with all the other members.The mistake I made when I first started Enlite was thinking that putting a bunch of people in a slack channel would mean that all of them interact with every other member all the time. That wasn‚Äôt the case. Instead, a small, core group of people emerged.</p><p>When you‚Äôre in school, you‚Äôll notice that cliques naturally form. No amount of social engineering would get the jocks to suddenly integrate with the nerds. Similarly, the formation of cliques in a community is pretty normal, and in fact, is a great thing. It means people are falling into subsets of others they are comfortable with.</p><p>However, you don‚Äôt want insulated cliques. While there should be strong connections within them, they should also be connected to each other. Should this succeed, your community will look like this:</p><p><img src="https://sarvasvkulpati.com/graph.jpeg" alt="network of members in a community"></p><p>Any individual in your community will end up with a T shaped profile- many fairly shallow connections, a few very deep ones. The width of the stem would depend on the number of online friends they mentally have space to make as well as their success with connecting to people within the community.</p><p><img src="https://sarvasvkulpati.com/depth.jpeg" alt="depth"></p><p>Much like any social product, Enlite has a retention curve, and about a third are still active. An interesting observation is that the members who initially attended the most video calls are the ones who are now the most active in chat. My theory is that they acquired the best relationships and so, felt incentivised to talk and share opinions and progress on projects.</p><h2>Creating strong connections</h2><p>But how do you facilitate creating these strong connections? Something I‚Äôve noticed is that every relationship: teacher-student, parent-child, friend-friend, follows a timeline</p><p><img src="https://sarvasvkulpati.com/friendGraph.jpeg" alt="friendship timeline"></p><p>In a sense, the depth of a relationship could be measured by how much a pair knows and understands about what makes the other tick. You could have a wild drinking buddy and always have fun but unless you have some deep conversations, you don‚Äôt have a deep relationship. To increase the depth of the relationship quickly, you need to increase the bandwidth of communication- doing so allows both people to understand each other faster, and so, speeds up the timeline of the relationship.</p><p>For example, <a href="https://twitter.com/aadillpickle">Aadil</a> and I followed each other on twitter for a while. I saw his tweets, he saw mine, sometimes we interacted with each other. But then, when making Enlite, I got on a zoom call with him. Within 30 minutes, we were much, much better friends. It felt like the amount our friendship progressed in a few months of interacting with each other on Twitter was repeated several times over in 1 zoom call.</p><p>Of course, different mediums have different bandwidth, but there‚Äôs a tradeoff- the higher the bandwidth, the higher the barrier of entry. Scheduling a zoom call, for example, is much harder than sending a Twitter DM.</p><p><img src="https://sarvasvkulpati.com/bars.jpeg" alt="bar charts of communication mediums compared"></p><p>In this sense, audio is probably best placed at the intersection of bandwidth and friction. On audio calls, you don‚Äôt need to care about how you look, you don‚Äôt need to constantly stay in a ‚Äòswitched on‚Äô state and stare at the camera throughout, and it‚Äôs much easier to hop on and off. This is probably why platforms like Discord and Clubhouse are growing so fast as a tool to grow communities.</p><h2>A summary</h2><p>In conclusion:</p><ul><li>Communities = passion x interaction x strength of interactions</li><li>You don't need a group chat for a community, and putting people into a group chat doesn't make it one</li><li>Communities need to cater for connections people don't find in person</li><li>Creating connections requires a high bandwidth of communication. When in doubt, choose video</li><li>Frequent activity doesn't necessarily mean a strong community</li></ul></div></article></main></div></div>]]>
            </description>
            <link>https://sarvasvkulpati.com/blog/community</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290434</guid>
            <pubDate>Sun, 28 Feb 2021 03:30:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[There is only one poverty strategy: (broad based) growth (Part I) (2019)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290383">thread link</a>) | @tosh
<br/>
February 27, 2021 | https://lantpritchett.org/there-is-only-one-poverty-strategy-broad-based-growth-part-i/ | <a href="https://web.archive.org/web/*/https://lantpritchett.org/there-is-only-one-poverty-strategy-broad-based-growth-part-i/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-441">
		<!-- .entry-header -->

	
	<div>
		
<p>Here is a number to remember:&nbsp; .994 (and not because 994 is the country
telephone code for Azerbaijan).</p>



<p>The measure of poverty most commonly used by the World Bank is the ‚Äúheadcount‚Äù: the proportion of people below a poverty line,  a fixed level of income or consumption expenditures (CEX) per capita. &nbsp;The Foster, Greer and Thorbecke (1986) measures of poverty are weighted sums of people from a given distribution of consumption expenditures (or income), and the headcount is the simple case where the weights are equal for each person, irrespective of how far from the poverty line their CEX is. </p>



<p>This leads to a simple question:&nbsp; ‚ÄúHow much of the  observed variation in headcount poverty rates across countries is due to variation in the median of the distribution of consumption expenditures?‚Äù&nbsp;&nbsp; </p>



<p>The answer, shown in Figure 1, is (roughly) ‚ÄúAll of
it.‚Äù&nbsp; The R-Squared of the median (with
various powers to account for non-linearity) for explaining headcount poverty
for the three poverty lines is: </p>



<ul><li>$5.50 per day, R-Squared=.988,
correlation(poverty, predicted)=.994</li><li>$3.20 per day, R-Squared=.988, correlation(poverty,
predicted)=.994</li><li>$1.90 per day, R-Squared=.983,
correlation(poverty, predicted)=.991 </li></ul>



<p>The simple correlation between the actual $3.20/day or $5.50/day headcount poverty rate and headcount poverty as predicted using only the median of the country distribution is .994 and for $1.90 it is .991.&nbsp; These are about as high a correlation as real world data can produce.&nbsp; </p>



<p><strong>Figure 1:&nbsp; Headcount poverty rates are extremely highly associated with median consumption expenditures </strong></p>



<figure><img loading="lazy" width="749" height="353" src="https://lantpritchett.org/wp-content/uploads/2019/02/image.png" alt="" srcset="https://lantpritchett.org/wp-content/uploads/2019/02/image.png 749w, https://lantpritchett.org/wp-content/uploads/2019/02/image-300x141.png 300w" sizes="(max-width: 706px) 89vw, (max-width: 767px) 82vw, 740px"></figure>



<p><em>Source:&nbsp;
Author‚Äôs calculations based on data from:&nbsp; ‚Äú</em><a href="http://iresearch.worldbank.org/PovcalNet/povDuplicateWB.aspx">PovcalNet:
the on-line tool for poverty measurement developed by the Development Research
Group of the World Bank</a>‚Äù</p>



<p>The regression uses the 389 country/time observations from
the World Bank data that are based on consumption expenditures (not income) and
recent data (not distant extrapolations). Since headcount poverty is a partial
integral of a distribution of consumption expenditures the relationship between
the median and headcount has to be non-linear.&nbsp;
I use powers of the median from -2 to 5 to allow for flexible
non-linearity. </p>



<p>Nancy Birdsall and Christian Meyer have argued that for
development issues ‚Äú<a href="https://www.cgdev.org/publication/median-message-good-enough-measure-material-well-being-and-shared-development-progress">The
Median is the Message</a>.‚Äù &nbsp;For headcount
poverty they are <em>completely</em> right. &nbsp;The answer to the question:&nbsp; ‚ÄúWhy does a country at a given time have
headcount poverty rate it does?‚Äù is ‚ÄúBecause of its median of consumption
expenditure.‚Äù Pretty much full stop.&nbsp; &nbsp;Conditional on the median, any and all other factors
or variables can explain <em>at most</em> 1.2
percent of the variation in country headcount poverty rates (maybe 0, but <em>at most </em>1.2). &nbsp;</p>



<p>You might be saying, ‚ÄúLant, why are you making such a big
deal of this correlation?‚Äù&nbsp; Well, thanks
for asking.&nbsp; </p>



<p>This very tight correlation is not built in.&nbsp; One can usefully decompose (as many have done)
the difference in poverty rates comparing two distributions (between countries
or over time) into three elements on the (mostly accurate) assumption the
distribution is log-normal (that is, the natural log of consumption
expenditures is distributed as a Gaussian normal distribution):</p>



<ol><li>Differences in the central tendency of the log-normal distribution,</li><li>Differences in the variance of the log-normal distribution and</li><li>Differences in the distribution below the poverty line being more or less favorable to poverty than would be expected of a log-normal of a given central tendency and variance (as the log-normal is a two-parameter distribution this forces an exact shape).</li></ol>



<p>How much of the variance in headcount poverty is an
empirical fact that depends on the actual distributions of consumption
expenditures across countries and the fact that (2) and (3) account for 1.2
percent of the variance could have been otherwise, it is not cooked into
definitions.&nbsp; In fact, one can easily
imagine policies or programs that would bring up the lower tail, and hence
reduce poverty, much more than the log-normal would predict.&nbsp; So it is a striking finding that <em>both </em>differences in variance
(inequality) with the assumption of log-normality and deviations from
log-normality below the poverty line <em>together
</em>account for at most 1.2 percent of observed variation in poverty.</p>



<p>Included in the country/time varying factors whose variation
in the observed data <em>cannot</em> explain
more than 1.2 percent of the observed variation in headcount poverty rates are
things like: ‚Äúbudget (government or other) devoted to anti-poverty programs‚Äù
and ‚Äúefficacy of the design of anti-poverty programs‚Äù or ‚Äúwhether the country‚Äôs
anti-poverty programs are ‚Äòevidence based‚Äô‚Äù or, for that matter, any
interaction of those factors, like:&nbsp;
‚Äúwhether a country devoted budget to well-designed anti-poverty programs
based on evidence.‚Äù&nbsp; The median explains
nearly all variation in poverty across countries with no reference to targeted
programs of any kind: not micro-credit, not conditional cash transfers, not
chickens, not livelihood programs, nothing that claims to impact poverty
without changing the median. </p>



<p>Given the amount of time, energy, intellectual firepower, academic
publication, and advocacy that go into discussions of anti-poverty <em>programs</em> one might think they are a
large part of the ‚Äúsolution‚Äù to global poverty.&nbsp;
But they just have not been.&nbsp; If
your median consumption expenditure went up then your headcount poverty went
down and <em>nothing</em> else that any
country has done besides that seems to be very important in explaining poverty
reduction.</p>



<p>The relative importance of growth of median consumption expenditures versus ‚Äúall else‚Äù can be illustrated with two different poverty lines at two different levels of income, the ‚Äúextreme poverty‚Äù penurious poverty line that the World Bank often uses (but which I think is fundamentally <a href="http://www.effective-states.org/the-mdgs-were-a-disaster-meet-lant-pritchett/">illegitimate</a> as it is too low) and the ‚Äú$5.50/day‚Äù line (which I think is still too low).</p>



<p>The predicted level of $1.90/day ‚Äúextreme poverty‚Äù for a
country at the average income of the lowest quartile of countries is 72.2%.&nbsp; If its poverty rate were better by one
standard deviation of the residual conditional on the median it would fall to
only 68.6 percent.&nbsp; Even if it had the
best poverty conditional on its median for any country in the bottom quartile
it would fall by about 10 percentage points to 62.7 percent.&nbsp; In contrast, if that country grew by two
percent a year for 20 years (which is roughly the average growth in the post
WWII era) poverty would fall to 35.9 percent‚Äîabout in half.&nbsp; If it grew at 4 percent per capita for 20
years (this is about one standard deviation above the average growth of 2
percent) predicted headcount poverty would fall to 12.1%.&nbsp; Sustaining rapid growth starting from a low
median consumption expenditures reduces poverty <em>50 percentage points</em> more than having the <em>best</em> observed poverty conditional on the low median.&nbsp; With sustained growth <em>half the population </em>moves out of extreme poverty compared to 10
percent even the <em>best</em> observed
poverty with stagnant income (and just to be clear, the data here don‚Äôt tell
what accounts for these observed low poverty rates conditional on the median). </p>



<p><strong>Figure 2:&nbsp; Even getting to the best headcount poverty for a given median expenditures versus the average produces a small gain relative to the poverty reduction from sustained growth of the median</strong></p>



<figure><img loading="lazy" width="481" height="289" src="https://lantpritchett.org/wp-content/uploads/2019/02/image-1.png" alt="" srcset="https://lantpritchett.org/wp-content/uploads/2019/02/image-1.png 481w, https://lantpritchett.org/wp-content/uploads/2019/02/image-1-300x180.png 300w" sizes="(max-width: 481px) 100vw, 481px"></figure>



<p>I do the same exercise with the second quartile of income
and the $5.50/day poverty line, with roughly the same results.&nbsp; Even the best performance for poverty
conditional on median produces gains much, much, smaller than the gains in
poverty reduction from sustained rapid growth.</p>



<p>The results of these regressions are just facts about the
world and do not directly reveal causal structures.&nbsp; In particular, there may well be cost
effective poverty reducing programs that merit support by governments and/or
philanthropists.&nbsp; The cross-national
correlations can only speak to what <em>have been</em>
the correlates of poverty, not <em>what could
be.&nbsp; </em>But, while one doesn‚Äôt want to
over-interpret facts, neither does one want to under-fact interpretations of
very specific and particular empirical findings about specific programs
either.&nbsp; </p>



<p>The next time you hear the phrase ‚Äúsolve global poverty‚Äù remember the number: .994.&nbsp; If what follows ‚Äúsolve global poverty‚Äù isn‚Äôt about raising median consumption expenditures a very good question is: ‚Äúwhy not?‚Äù</p>



<p>(This blog is titled ‚ÄúPart I‚Äù because I plan a Part II that
does a bit more on the technical issues of these types of decompositions and a
Part III that discusses a bit the broader implications.&nbsp; But, unlike the Lord of the Rings (in which
all three were filmed at the same time) these are not yet written and the
future is unpredictable).</p>
	</div><!-- .entry-content -->

	
</article></div>]]>
            </description>
            <link>https://lantpritchett.org/there-is-only-one-poverty-strategy-broad-based-growth-part-i/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290383</guid>
            <pubDate>Sun, 28 Feb 2021 03:19:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Before you buy a Soviet Camera]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26290128">thread link</a>) | @brudgers
<br/>
February 27, 2021 | https://kosmofoto.com/2021/01/read-this-before-you-buy-a-soviet-camera/ | <a href="https://web.archive.org/web/*/https://kosmofoto.com/2021/01/read-this-before-you-buy-a-soviet-camera/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
 <!-- A generated by theme --> 



 <!-- end A --> 

<p><img loading="lazy" src="https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web.jpg" alt="Drug and Zenit-3M cameras (Pic: Stephen Dowling)" width="2500" height="1633" srcset="https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web.jpg 2500w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-300x196.jpg 300w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-1024x669.jpg 1024w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-768x502.jpg 768w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-1536x1003.jpg 1536w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-2048x1338.jpg 2048w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-696x455.jpg 696w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-1068x698.jpg 1068w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-643x420.jpg 643w, https://kosmofoto.com/wp-content/uploads/2021/01/drug-zenit_web-600x392.jpg 600w" sizes="(max-width: 2500px) 100vw, 2500px"></p>
<p>It begins in October 1927, with a single camera exhibited in Moscow at an Exposition of Photographic Technique in the new Soviet capital, Moscow. Bostelman‚Äôs camera is a small 35mm camera with a simple, single-speed shutter and a winding key to advance the film. The camera‚Äôs back is removable, and removing it turns the rest of the camera into an enlarger which can be used to make prints.<span data-ez-name="kosmofoto_com-box-3"></span></p>
<p>It never makes it into production, but Bostelman‚Äôs simple snap-shooter is the first Soviet camera. What comes after this is first a trickle, and then a flood.</p>
<p>Fifty years later, and the Soviet camera industry is the second-largest in the world ‚Äì second only to Japan, whose bands such as Nikon, Canon, Minolta Olympus and Pentax have become household names. The Soviet Union has its own heavyweights, and between them they have churned out dozens and then hundreds of different camera designs as the decades tick by.</p>
<p>Thanks to a mix of espionage, war reparations, ingenious design and a desire to show the West a thing or two, the USSR‚Äôs camera makers come up with a Soviet answer to almost every camera type made in the West, though not necessarily at the same time. Soviet designers devised a myriad of different models, some of the brutishly simple, others showing real flair and ingenuity.</p>
<p>Odd, then, that the entirety of a photographic industry spread across the largest country ever formed and spanning more than 60 years can get judged off first impressions. In the last 20 years, I‚Äôve lost count of the number of times I‚Äôve seen people declaim the quality of all Soviet cameras based off a single flea-market <a href="https://kosmofoto.com/2018/12/zenit-e-russian-camera-review/">Zenit-E</a> which might have mouldering in someone‚Äôs basement for the last 30 years.<span data-ez-name="kosmofoto_com-medrectangle-4"></span></p>
<p>This is something I‚Äôve learned having spent the last 20 years collecting and using Soviet cameras. The first one I came across was a Soviet-era <a href="https://kosmofoto.com/2017/06/lomo-lc-a-cameras-lc-wide-lca-120/">Lomo LC-A</a> compact in a camera shop in London‚Äôs West End; a solid black rectangle with surprising heft and exotic Cyrillic lettering. That Lomo sparked an enduring love for film cameras of all shapes and sizes, and a particular interest in those made behind the Iron Curtain.</p>
<p>In New Zealand, where I grew up, Soviet cameras were almost unknown. But that wasn‚Äôt the case in Western Europe. The boom years of the Soviet photographic industry during the Cold War coincided with a new age of prosperity and consumerism west of Berlin. More people had the money and time to travel, and they wanted cameras with which to document it. The Soviet Union wanted hard currency and had a smorgasbord of cameras that could be sold at subsidised prices. Along with the Praktica cameras of East Germany‚Äôs vast Pentacon, Soviet cameras appealed to a huge swathe of photographers with a limited budget.</p>
<figure id="attachment_24709" aria-describedby="caption-attachment-24709"><img loading="lazy" src="https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C.jpg" alt="Zorki-3C (Pic: Paulo Moreira)" width="1000" height="713" srcset="https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C.jpg 1000w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-300x214.jpg 300w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-768x548.jpg 768w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-696x496.jpg 696w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-589x420.jpg 589w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-100x70.jpg?crop=1 100w, https://kosmofoto.com/wp-content/uploads/2021/01/Zorki-3-C-600x428.jpg 600w" sizes="(max-width: 1000px) 100vw, 1000px"><figcaption id="caption-attachment-24709">The Zorki-3C is typical of Soviet rangefinder design from the 1950s and 60s (Pic: Paulo Moreira)</figcaption></figure>
<p><span data-ez-name="kosmofoto_com-box-4"></span>This article ‚Äì and it‚Äôs a big one, so get a drink handy ‚Äì is an attempt to dispel some of the myths that have developed around Soviet cameras, especially since the 1990s. It‚Äôs not trying to pretend that it‚Äôs only politics got in the way of the USSR‚Äôs cameras, and that every Zenit and Zorki is a match for a Nikon or a Leica. Some of the horror stories you might have heard about Soviet camera quality are 100% true. But not every Soviet camera is a lemon, and some are capable of taking fantastic images if you take the trouble to learn their strengths and, yes, their weaknesses.</p>

<h4><span id="The_big_five"></span><strong>The big five</strong><span></span></h4>
<p>But first, a little history.</p>
<p>The Soviet camera industry was dominated by five big names: <a href="http://camera-wiki.org/wiki/KMZ"><strong>KMZ</strong></a> (<em>Krasnogorskiy Mechanicheskiy Zavod</em>) in Moscow, <a href="https://en.wikipedia.org/wiki/LOMO"><strong>Lomo</strong></a> in St Petersburg, <a href="https://en.wikipedia.org/wiki/Kiev_(brand)"><strong>Kiev-Arsenal</strong></a> and <a href="https://en.wikipedia.org/wiki/FED_(camera)"><strong>FED</strong></a> in Ukraine and <a href="https://vintagecameralab.com/brand/mmz/"><strong>MMZ</strong></a> (the home of BelOMO) in what is now Belarus. Some of these bureaus concentrated on one particular style of camera ‚Äì FED, for instance, became known for Leica-copy rangefinders they started making in the 1930s and they were kept in production until almost the end of the Soviet Union itself.</p>
<p><a href="https://ko-fi.com/Z8Z2KH28" target="_blank" rel="noopener"><img src="https://az743702.vo.msecnd.net/cdn/kofi2.png?v=0" alt="Buy Me a Coffee at ko-fi.com" height="36"></a> <em>Found this guide useful? Please add a contribution via Ko-Fi. You‚Äôll help pay for the site‚Äôs hosting and make sure Kosmo Foto is free to read for years to come.</em></p>
<p>The cameras created ranged from rudimentary compacts simple enough for children to ambitious designs intended to compete with the very best the West had to offer. The latter were a kind of photographic soft power ‚Äì with no internal market to pay top dollar for them, the higher-spec cameras were touted as evidence of Soviet ingenuity and engineering prowess</p>
<figure id="attachment_22492" aria-describedby="caption-attachment-22492"><img loading="lazy" src="https://kosmofoto.com/wp-content/uploads/2018/12/zenite4-e1590396414210.jpg" alt="Zenit-e (Pic: Stephen Dowling)" width="2000" height="1500"><figcaption id="caption-attachment-22492">The Zenit-E is the most-produced 35mm SLR in history (Pic: Stephen Dowling)</figcaption></figure>
<p>Much simpler cameras were made in Soviet industrial quantities: million after million. This model became the dominant one from the mid 1970s. Camera designers were no longer urged to make cameras to compete with the best of the West, but to tweak tried-and-trusted designs a little each time. You can see this in the successive designs that came after the ubiquitous Zenit-E SLR and Lomo‚Äôs simple <a href="https://en.wikipedia.org/wiki/Smena_(camera)">Smena viewfinder camera</a>. Despite cosmetic changes on the outside, underneath little changed from camera to camera.</p>
<p>A leading Soviet camera collector named Viktor Suglob recently produced a Russian-language book called ‚Äò<a href="http://ussrphoto.com/Wiki/default.asp?WikiCatID=39&amp;ParentID=4&amp;ContentID=311&amp;Item=1200+Cameras+from+USSR+by+Suglob%2C+Shaternik%2C+Kochergin">1200 Soviet Cameras</a>‚Äô, an encyclopaedia of almost every prototype and production camera devised over nearly 75 years of the USSR. Many of these, of course, were never produced beyond a few samples or pre-production models. But hundreds of designs did make it into production. Today, millions of these cameras ‚Äì from KMZ and Lomo, MMZ and FED ‚Äì still survive in working condition.</p>
<h4><span id="The_major_models"></span><strong>The major models</strong><span></span></h4>
<p>If you‚Äôre curious about Soviet cameras, you‚Äôll find the easily available cameras falling into seven main groups:<span data-ez-name="kosmofoto_com-large-leaderboard-2"></span></p>
<ul>
<li><strong>Leica copy rangefinders:</strong> Mostly made by FED in Kharkiv in the Ukraine and under the ‚ÄúZorki‚Äù name from KMZ in Moscow. These cameras use the same <a href="https://camerapedia.fandom.com/wiki/39mm_screw_lenses">L39 screw mount</a> that Leica rangefinders did up until the mid-1950s. These cameras were produced, in various forms, until the early 1990s.</li>
<li><strong>Contax-style rangefinders:</strong> The Kiev brand started out copying the Contax II rangefinder produced in Germany before the war, initially with Contax parts taken as war reparations. The ‚Äú<a href="http://camera-wiki.org/wiki/Kiev_rangefinder">Kiev Contax</a>‚Äù line of cameras was made until the late 1980s</li>
<li><strong>Zenit SLRs:</strong> KMZ produced the Soviet Union‚Äôs widest array of SLR cameras under the Zenit name. The earliest versions were little more than a <a href="https://en.wikipedia.org/wiki/Zorki_1">Zorki rangefinder</a> with a reflex prism attached, but the line grew more popular in the late 1960s with the Zenit-E, the first Soviet SLR to use the M42-screw mount. M42 Zenits were made until the early 2000s, and a narrower range of cameras from the mid-1980s until the mid-2000s used the Pentax K mount. Lomo, and Kiev also produced SLRs, but these are far less common.</li>
<li><strong>Simple viewfinder cameras:</strong> Both Lomo in St Petersburg and MMZ in Minsk produced very similar families of snapshooters, rectangular viewfinder cameras with a simple shutter and a three-element glass lens. MMZ‚Äôs were called <a href="https://camerapedia.fandom.com/wiki/Vilia">Vilia</a> and Lomo‚Äôs were known as Smenas. Just two Smenas ‚Äì the <a href="https://kosmofoto.com/2020/03/these-are-the-most-produced-35mm-cameras-of-all-time/">Smena-8 and the 8M</a> ‚Äì were built to the tune of around 21 million, making them the most-produced 35mm cameras of all time. These cameras are cheap and rudimentary, but their glass lens definitely elevate them out of toy camera territory.</li>
<li><strong>Simple TLRs:</strong> Medium format cameras were not produced in the same breadth and scale as 35mm cameras, but there were still some successful models. The <a href="https://en.wikipedia.org/wiki/Lubitel">Lubitel family</a> of cheap 120-format TLRs are the easiest to find. Built out of plastic but with glass Triplet-style lenses, these Lomo-made cameras were produced from the 1940s until after the fall of the Soviet Union.</li>
<li><strong>Medium format SLRs:</strong> The Soviet Union‚Äôs equivalent to the <a href="https://www.japancamerahunter.com/2019/04/camera-geekery-pentax-67/">Pentax 67</a> was the <a href="https://vintagecameradigest.wordpress.com/2016/09/08/the-kiev-6c-a-photographic-artifact-of-the-cold-war/">Kiev-6C</a>, which eventually evolved into the <a href="http://mattsclassiccameras.com/slr/kiev-60/">Kiev-60</a>. These are big, heavy SLR cameras with a rougher finish than their Western counterparts but with a range of very well-regarded lenses.</li>
<li><strong>Hasselblad-style medium-format cameras: </strong>The Kiev factory also produced a series of Hasselblad-style focal plane cameras, the Kiev-80 and <a href="http://camera-wiki.org/wiki/Kiev_88">88</a> being the best-known of them. The lenses made for the Kiev-6/60 were also produced for some versions of this camera range. They are cheap ‚Äì especially compared to Hasselblads ‚Äì but they don‚Äôt come with a great reputation for reliability.</li>
</ul>
<p>There were many other brands and minor camera ranges made in the USSR (the plucky Lomo LC-A compact spawned a movement in photography all on its own), but these are the main ones. They are all reasonably easy to find ‚Äì very easy in the case of Zenit SLRS and FED rangefinders ‚Äì and there‚Äôs no shortage of spare parts or repairers that can coax them back to life should anything be wrong.</p>
<p>Kosmo Foto released the video below last year as a guide for common models to investigate:</p>
<p><iframe src="https://www.youtube.com/embed/wGlfbl5Oa_k" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<h4><span id="Better_dead_than_Red"></span><strong>Better dead than Red?</strong><span></span></h4>
<p>Make no mistake ‚Äì many film camera shooters regard Soviet cameras as uniformally awful, junk that should live in a landfill rather than a camera cabinet. Most of these photographers would sooner cut off a limb than handle a clunky Zenit or Zorki.</p>
<p>But the Soviet camera industry had peaks and troughs ‚Äì periods when construction and quality control were high and times when standards were lax and reliability low. A Soviet rangefinder from the mid-1950s is from a very different system to one produced in the ‚ÄúYear of Stagnation‚Äù of the late 1970s.</p>
<figure id="attachment_21874" aria-describedby="caption-attachment-21874"><img loading="lazy" src="https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder.jpg" alt="Zorki 1 (Pic: Paulo Moreira)" width="1840" height="1840" srcset="https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder.jpg 1840w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-300x300.jpg 300w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-1024x1024.jpg 1024w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-150x150.jpg 150w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-768x768.jpg 768w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-1536x1536.jpg 1536w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-696x696.jpg 696w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-1068x1068.jpg 1068w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-420x420.jpg 420w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-600x600.jpg 600w, https://kosmofoto.com/wp-content/uploads/2020/04/Zorki-1-Jupiter-12-with-external-viewfinder-100x100.jpg 100w" sizes="(max-width: 1840px) 100vw, 1840px"><figcaption id="caption-attachment-21874">The Zorki 1, fitted here with an external turret finder for different lenses (Pic: Paulo Moreira)</figcaption></figure>
<p>The bad reputation which Soviet cameras isn‚Äôt undeserved,‚Äù says Jay Javier, the Filipino photographer and camera collector behind the <a href="https://www.fedka.com/jay/">Fed Zorki Survival Site</a>. ‚ÄúMany were really badly designed or made. As these creatures become more known, thanks to the internet, the bad ones get to be publicly shamed and justly avoided. Many of the generalisations in this respect turn out to be valid.‚Äù</p>
<p>Soviet quality control, especially in later years, sometimes left a lot to be desired. Cameras leaving the factory were supposed to be inspected and given a passport signed by a factory foreman ensuring they were working correctly. This The older ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kosmofoto.com/2021/01/read-this-before-you-buy-a-soviet-camera/">https://kosmofoto.com/2021/01/read-this-before-you-buy-a-soviet-camera/</a></em></p>]]>
            </description>
            <link>https://kosmofoto.com/2021/01/read-this-before-you-buy-a-soviet-camera/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26290128</guid>
            <pubDate>Sun, 28 Feb 2021 02:31:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How fighting games use delay-based and rollback netcode (2019)]]>
            </title>
            <description>
<![CDATA[
Score 284 | Comments 103 (<a href="https://news.ycombinator.com/item?id=26289933">thread link</a>) | @Kinrany
<br/>
February 27, 2021 | https://ki.infil.net/w02-netcode.html | <a href="https://web.archive.org/web/*/https://ki.infil.net/w02-netcode.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<div>
					<div id="content">

						<!-- Content -->
					
							<article>

								<div>
								
								<div>
								<p><a href="https://ki.infil.net/words.html">
								<img src="https://ki.infil.net/images/words/header.gif"></a>
								
								</p></div>
								
								
								
								
								<hr>
								
								<div>
								
								<div>
								<p>Netcode</p>
								<p>Explaining how fighting games use delay-based and rollback netcode</p>
								<p>October 16, 2019</p>
								
								
								
								
								</div>
								
								</div>
							
								
								<!-- blog navigation -->
								
								
								

								<div>
								<div><p>
								<em>I would like to thank <a href="https://twitter.com/Krazhier">krazhier</a> and <a href="https://twitter.com/TheKeits">Keits</a> for taking hours out of their busy schedules to discuss technical aspects of netcode with me, and <a href="https://twitter.com/Sajam">Sajam</a> for taking time to answer interview questions and being supportive throughout the writing process. I would also like to especially thank <a href="https://twitter.com/MagicMoste">MagicMoste</a> for making all the wonderful videos you see in this article. All their help was offered for free and I am thankful for their friendship.
								</em></p><p><em>

								This article has been <a href="https://arstechnica.com/gaming/2019/10/explaining-how-fighting-games-use-delay-based-and-rollback-netcode/">cross-posted on Ars Technica</a>.
								</em></p><p><em>

								You may also enjoy <a href="https://www.youtube.com/watch?v=1RI5scXYhK0">watching a video feature</a> on the topics in this article.
								</em>							
								</p></div>
								</div>

								
															
								<!-- Infil -->
								<div><p><img src="https://ki.infil.net/images/words/infil_smiling_2.jpg"></p>
								<p>
								Welcome back to Fightin‚Äô Words! It‚Äôs been a while since we last discussed how the <a href="https://ki.infil.net/w01-bugs.html">most famous fighting game bugs</a> have impacted the community‚Äôs favorite games. Today‚Äôs topic is a bit more technical, but it‚Äôs an equally important factor in how our favorite modern games are played -- we‚Äôre going to be doing a <strong>deep dive into netcode</strong>.								
								</p>
								</div>

								<hr><!-- Infil -->
								<div><p><img src="https://ki.infil.net/images/words/infil_lecture.jpg"></p>
								<div><p>
								At its core, netcode is simply a method for two or more computers, each trying to play the same game, to talk to each other over the internet. While local play always ensures that all player inputs arrive and are processed at the same time, <strong>networks are constantly unstable</strong> in ways the game cannot control or predict. Information sent to your opponent may be delayed, arrive out of order, or become lost entirely depending on dozens of factors, including the physical distance to your opponent, if you‚Äôre on a WiFi connection, and whether your roommate is watching Netflix.
								</p><p>
								Online play in games is nothing new, but fighting games have their own set of unique challenges. They tend to involve direct connections to other players, unlike many other popular game genres, and <strong>low, consistent latency</strong> is extremely important because muscle memory and reactions are at the core of virtually every fighting game. As a result, two prominent strategies have emerged for playing fighting games online: <strong>delay-based netcode</strong> and <strong>rollback netcode</strong>. 
								</p></div>
								</div>

								<div><p><img src="https://ki.infil.net/images/words/infil_thoughtful.jpg"></p>
								<div><p>
								There‚Äôs been a renewed passion in the fighting game community that <strong>rollback is the best choice</strong>, and fighting game developers who <a href="https://www.youtube.com/watch?v=qW61xJNJ9m8">choose to use delay-based netcode</a> are <a href="https://www.youtube.com/watch?v=iTUtnclr2hs">preventing the growth of the genre</a>. While people have been passionate about this topic <a href="https://www.youtube.com/watch?v=Tu2kAdmUCaI&amp;t=42m34s">for many years</a>, frustrations continue to rise as new, otherwise excellent games repeatedly have bad online experiences.
								</p><p>

								There are relatively few easy-to-follow explanations for what exactly rollback netcode is, how it works, and why it is so good at hiding the effects of bad connections (though <a href="http://mauve.mizuumi.net/2012/07/05/understanding-fighting-game-networking.html">there are some</a>). Because I feel this topic is extremely important for the future health of the fighting game community, I want to help squash some misconceptions about netcode and explain both netcode strategies thoroughly so everyone can be informed as they discuss. If you stick around to the end, I‚Äôll even <strong>interview some industry experts and community leaders</strong> on the topic!
								</p><p>
								Before we dig into the details, though, let‚Äôs get one thing straight.
										
								</p></div>
								</div>

								<hr><!-- Infil -->
								<!-- header -->
								

								<div><p><img src="https://ki.infil.net/images/words/infil_smiling_3.jpg"></p>
								<div><p>
										Both companies and players should care about good netcode because <strong>playing online is no longer the future -- it's the present</strong>. 
								</p><p>
										While most other video game genres have been this way for a decade or longer, fighting game developers seem to be resistant to embracing online play, perhaps because of the genre‚Äôs roots in offline settings such as arcades and tournaments. Playing offline is great, and it will always have considerable value in fighting games, but it‚Äôs simply a reality that <strong>a large percentage of the player base will never play offline</strong>. For many fighting game fans, playing online <em>is</em> the game, and a bad online experience prevents them from getting better, playing or recommending the game to their friends, and ultimately causes them to <a href="https://youtu.be/iTUtnclr2hs?t=758">simply go do something else</a>.
								</p><p>
										Even if you think you have a good connection, or live in an area of the world with robust internet infrastructure, good netcode is still mandatory. Plus, lost or delayed information happens regularly even on the best networks, and poor netcode can <a href="https://twitter.com/john_takeuchi/status/1162562266027327488">actively hamper matches</a> no matter how smooth the conditions may be. Good netcode also has the benefit of connecting regions across greater distances, effectively uniting the global player base as much as possible.

										<!-- gif 1A -->
										</p><div><!-- image -->
											<figure>
												
											<figcaption>Bad netcode can ruin matches. This match, played online between two Japanese players, impacted who gets to attend the Capcom Pro Tour finals. <a href="https://twitter.com/john_takeuchi/status/1162562266027327488">(source)</a>
											</figcaption></figure></div>
										
								</div>
								</div>

								<div><p><img src="https://ki.infil.net/images/words/infil_content.jpg"></p>
								<div><p>
										What about those who never play online because they much prefer playing offline with their friends? The <strong>healthy ecosystem</strong> that good netcode creates around a game benefits everyone. There will be more active players, more chances to consume content for your favorite game -- from tech videos to spectating online tournaments to expanding the strategy of lesser-used characters -- and more excitement surrounding your game in the FGC. Despite <a href="http://ki.infil.net/">Killer Instinct</a>‚Äôs pedigree as an excellent game, there‚Äôs no doubt that its superb rollback netcode has played a huge part in the sustained growth of its community.
								</p><p>

										Good netcode matters, period. So let‚Äôs talk about it.
										
								</p></div>
								</div>
								
								
								<!-- blog navigation -->
								
								
								

								</div>
								
							</article>
				
					</div>
				</div>
			</section></div>]]>
            </description>
            <link>https://ki.infil.net/w02-netcode.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26289933</guid>
            <pubDate>Sun, 28 Feb 2021 01:47:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúGood Enough‚Äù Architecture]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26289677">thread link</a>) | @zwliew
<br/>
February 27, 2021 | https://mrh.io/notes/stefan-tilkov-good-enough-architecture/ | <a href="https://web.archive.org/web/*/https://mrh.io/notes/stefan-tilkov-good-enough-architecture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Adaptive Leadership for Technical Projects</strong></p><div><div><div><dl><dt><span role="img" aria-label="">üåå </span><a href="https://github.com/orbitdb/orbit-db" target="_blank">OrbitDB</a></dt><dd>P2P databases for the distributed web, build on CRDTs</dd><dt><span role="img" aria-label="">ü¶Ä </span><a href="https://github.com/ipfs-rust/rust-ipfs" target="_blank">Rust IPFS</a></dt><dd>A Rust implementation of the Interplanetary File System</dd></dl></div><div><dl><dt><span role="img" aria-label="">üìà </span><a href="https://tallylab.com/" target="_blank">TallyLab</a></dt><dd>A privacy-first, end-to-end encrypted time-series data platform</dd><dt><span role="img" aria-label="">‚öì </span><a href="https://github.com/hackforthesea/2020" target="_blank">Hack for the Sea</a></dt><dd>An annual hackathon where technology and the ocean meet.</dd></dl></div></div></div><p><small>This website does not track you.<br>The best way to reach out is via <a href="mailto:mark@mrh.io">e-mail</a>.</small></p><div><h2>by Stefan Tilkov</h2><p>April 01, 2020<!-- --> ÔΩú <span><a href="https://mrh.io/notes/tags/talk%20notes">Talk Notes</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/goto%202019">GOTO 2019</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/stefan%20tilkov">Stefan Tilkov</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/software%20architecture">Software Architecture</a><span>, </span></span><span><a href="https://mrh.io/notes/tags/microservices">Microservices</a></span></p><div><p> <iframe src="https://www.youtube.com/embed/PzEox3szeRc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> </p>
<center>
<p><a href="https://mrh.io/notes/stefan-tilkov-good-enough-architecture/@stilkov">@ stilkov</a> |
<a href="https://files.gotocon.com/uploads/slides/conference_16/846/original/2019-10-23-Good-Enough-Architecture--GOTO.pdf">slides</a> |
<a href="https://www.youtube.com/watch?v=PzEox3szeRc">video</a></p>
</center>
<p><strong>Abstract:</strong> In this session, we‚Äôll take a look at some of the ways we can determine whether the development efforts we‚Äôre undertaking suffer from too much or too little focus on architecture. We‚Äôll examine a number of real-world examples that are intended to inspire either admiration or terror, and try to find some recipes of how we can get more of the former and less of the latter in our own projects.</p>
<hr>
<h2>Definitions of Architecture</h2>
<p><a href="http://www.iso-architecture.org/ieee-1471/cm/">ISO/IEC/IEEE 42010</a>:</p>
<blockquote>
<p>Fundamental concepts or properties of a system in its environment embodied in its elements, relationships, and in the principles of its design and evolution</p>
</blockquote>
<p><a href="https://handbookofsoftwarearchitecture.com/">Grady Booch</a>:</p>
<blockquote>
<p>Architecture represents the significant design decisions that shape a system, where significant is measured by <em>cost of change</em></p>
</blockquote>
<p>Stefan Tilkov:</p>
<blockquote>
<p>Whatever the architect considers important enough to merit their attention</p>
</blockquote>
<p><span>
      <a href="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/d43b4/software-scaling-dimensions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Graph of software scaling dimensions" title="Graph of software scaling dimensions" src="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/fcda8/software-scaling-dimensions.png" srcset="https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/12f09/software-scaling-dimensions.png 148w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/e4a3f/software-scaling-dimensions.png 295w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/fcda8/software-scaling-dimensions.png 590w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/efc66/software-scaling-dimensions.png 885w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/c83ae/software-scaling-dimensions.png 1180w,
https://mrh.io/static/eb7d86f249430088e95925b46b67d9d9/d43b4/software-scaling-dimensions.png 1202w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<p><em>Different organizations and applications will require different architectures, and those architectures will change over time</em></p>
<h2>Cases:</h2>
<h3>#1 Non-Extensible Extensibility</h3>
<p>Highly customizable multi-tenant e-commerce solution with lots of features, which has to balance between large customers with specific needs and small customers with generic needs</p>
<ul>
<li>If you attempt to design something that satisfies everybody, you will satisfy nobody.</li>
<li>Highly specific is often preferable to generic</li>
</ul>
<h3>#2 Perilously fine-grained</h3>
<p>Large-scale B2B food retailer building a new logistics system, hired &gt;200 developers to build a microservice-based system. Each developer ‚Äúowned‚Äù
a microservice, which was hell to scale. Eventually moved away from ‚ÄòEntityService‚Äô pattern</p>
<ul>
<li>Everybody wants to be <a href="https://www.youtube.com/watch?v=CZ3wIuvmHeM">Netflix</a> but nobody is</li>
<li>Small is not always beautiful</li>
<li>Refactoring within team boundaries much easier than globally</li>
<li>Ignore organizational parameters at your own risk</li>
</ul>
<h3>#3 Your system WILL be dynamic</h3>
<p>Large-scale insurance system with &gt;100 developers. 2 releases / year with 2-week modeling period  What if you miss this slot?</p>
<ul>
<li>Centralized responsibility hurts</li>
<li>Faces with too much rigidity, a way around the rules will be found</li>
<li>Just because you‚Äôre used to it doesn‚Äôt make it acceptable</li>
</ul>
<h3>#4 Free-style Architecture</h3>
<p>A small E-Commerce / Online shop which grew fast to 100-120 developers over ~10 self-contained teams</p>
<ul>
<li>Avoid increasing the numbers of developers if you can</li>
<li>Move to system of systems</li>
<li>If you don‚Äôt actively create an architecture, be prepared to deal with the one that emerges.</li>
<li>Loose coupling requires very few rules, but they need to be enforced strictly</li>
</ul>
<p><span>
      <a href="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fe8a7/strength-of-decoupling.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Strength of decoupling" title="Strength of decoupling" src="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fcda8/strength-of-decoupling.png" srcset="https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/12f09/strength-of-decoupling.png 148w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/e4a3f/strength-of-decoupling.png 295w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fcda8/strength-of-decoupling.png 590w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/efc66/strength-of-decoupling.png 885w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/c83ae/strength-of-decoupling.png 1180w,
https://mrh.io/static/7af498861373ca5607fa68e05f221a8a/fe8a7/strength-of-decoupling.png 1223w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h3>#5 Cancerous Growth</h3>
<p>Financial services provider with independent brokers as clients, 20 years of company history. Spun off new company and just copied system and then <em>shared the database</em>. Also implemented own encryption in Borland C++ and noticed bug after encryption own database</p>
<ul>
<li>Successful systems often end up with the worst architecture</li>
<li>Unmanaged evolution will lead to complete chaos</li>
<li>Don‚Äôt be afraid of some light architectural governance</li>
</ul>
<h3>#6 Improve with less intelligence</h3>
<p>Bank with multiple CotS systems, phased out proprietary solution to replace with OSS. Replaced ‚ÄúMagical Integration Broker‚Äù with much more simple dockerized pubsub solution.</p>
<ul>
<li><a href="https://martinfowler.com/articles/microservices.html">Smart endpoints, dumb pipes</a> AKA never put too much logic or intelligence into infrastructure</li>
<li>Valuespecific over generic solutions</li>
</ul>
<h2>Final Takeaways</h2>
<ol>
<li>Don‚Äôt be afraid of architecture</li>
<li>Choose the simplest thing that will work</li>
<li>Create evolvable structures</li>
<li>Manage your system‚Äôs architectural evolution</li>
<li>Don‚Äôt create road blocks - create value and get out of the way</li>
</ol>
<p>Have a talk you want to see notes on? E-mail <a href="mailto:mark@mrh.io">mark@mrh.io</a></p></div><hr><ul><li><a rel="prev" href="https://mrh.io/ipfs-private-networks/">‚Üê <!-- -->Private IPFS Networks</a></li><li><a rel="next" href="https://mrh.io/notes/interledger/">Notes: Interledger Architecture<!-- --> ‚Üí</a></li></ul></div></div></div>]]>
            </description>
            <link>https://mrh.io/notes/stefan-tilkov-good-enough-architecture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26289677</guid>
            <pubDate>Sun, 28 Feb 2021 00:54:15 GMT</pubDate>
        </item>
    </channel>
</rss>
