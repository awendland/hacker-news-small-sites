<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 17 Feb 2021 08:34:42 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 17 Feb 2021 08:34:42 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Show HN: Shopify's Top 90 Most Successful Startups in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26140934">thread link</a>) | @cedyf
<br/>
February 15, 2021 | https://reviewbolt.com/top/shopify/ | <a href="https://web.archive.org/web/*/https://reviewbolt.com/top/shopify/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><h2>Here's the list of the top 90 Shopify websites by traffic. All data is sourced from SimilarWeb's public data. I estimate revenue with [traffic * global ecom conversion rate * price of best selling product]. Facebook spend is estimated by [social traffic * 1.8 ]. SimilarWeb tells us how much traffic they receive from social channels and I multiply that by an average CPC of 1.8 as they tend to under-report this figure when I cross-reference it against large social media accounts that I manage. Keep scrolling to see more details for each company. Enjoy this list? Share this with 1 friend.</h2></p><div id="fashionnova.com"><h2>1<!-- -->. <!-- -->Fashionnova<!-- --> - <!-- -->22.49M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="fashionnova.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Fashion nova is the top online fashion store for women. shop sexy club dresses, jeans, shoes, bodysuits, skirts and more. cheap &amp;amp; affordable fashion online.<!-- --> </h3><h3>Fashionnova gets 22M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->fashionnova.com<!-- --> growing?</h3><h3> <!-- -->fashionnova.com<!-- --> has grown by <!-- -->-10.0%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->fashionnova.com<!-- -->?</h3><h3>Last month, <!-- -->fashionnova.com<!-- --> received <!-- -->22M<!-- --> visitors who spent an average of <!-- -->7.9<!-- --> minutes on the website and visited <!-- -->6.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->fashionnova.com<!-- -->? </h3><h3>10.2M<!-- --> people <!-- -->(45%)<!-- --> visit <!-- -->fashionnova.com<!-- --> directly. <!-- -->8.4M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->1.5M<!-- --> <!-- -->(7%)<!-- --> discover <!-- -->fashionnova.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->1.9M<!-- --> <!-- -->(8%)<!-- --> visitors come from <!-- -->fashionnova.com<!-- -->'s email newsletters. Finally, <!-- -->418.9k<!-- --> <!-- -->(1.9%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->fashionnova.com<!-- -->?</h3><h3>Fashionnova.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->15.6M (69.6%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->1.9M (8.3%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->525.1k (2.3%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->480.9k (2.1%)<!-- -->. Finally, the 5th is <!-- -->Jamaica<!-- --> with <!-- -->279.3k (1.2%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-10.00%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>22.49M</h3></p><p><h3>Time on Site</h3><h3>7.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>6.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="jbhifi.com.au"><h2>2<!-- -->. <!-- -->Jbhifi<!-- --> - <!-- -->15.23M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="jbhifi.com.au screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Jb hi-fi is australia's largest home entertainment retailer with top products, great quality + value. learn more about our product range online.<!-- --> </h3><h3>Jbhifi gets 15M monthly visitors and grows primarily through Search traffic from Australia.</h3><p><h3>How fast is <!-- -->jbhifi.com.au<!-- --> growing?</h3><h3> <!-- -->jbhifi.com.au<!-- --> has grown by <!-- -->-0.9%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Last month, <!-- -->jbhifi.com.au<!-- --> received <!-- -->15M<!-- --> visitors who spent an average of <!-- -->3.5<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->34<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->jbhifi.com.au<!-- -->? </h3><h3>5.3M<!-- --> people <!-- -->(35%)<!-- --> visit <!-- -->jbhifi.com.au<!-- --> directly. <!-- -->8.8M<!-- --> <!-- -->(58%)<!-- --> people search for them in Google. Whereas, <!-- -->243.1k<!-- --> <!-- -->(2%)<!-- --> discover <!-- -->jbhifi.com.au<!-- --> through Facebook, Reddit, and YouTube. <!-- -->271.4k<!-- --> <!-- -->(2%)<!-- --> visitors come from <!-- -->jbhifi.com.au<!-- -->'s email newsletters. Finally, <!-- -->17.3k<!-- --> <!-- -->(0.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Jbhifi.com.au<!-- -->'s top market is the <!-- -->Australia<!-- --> and they receive <!-- -->14.8M (97.2%)<!-- --> people. Then the 2nd is <!-- -->United States<!-- --> with <!-- -->117.9k (0.8%)<!-- -->, the 3rd is <!-- -->New Zealand<!-- --> with <!-- -->49.2k (0.3%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->31.6k (0.2%)<!-- -->. Finally, the 5th is <!-- -->China<!-- --> with <!-- -->15.6k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-0.90%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>15.23M</h3></p><p><h3>Time on Site</h3><h3>3.5<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>34<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="colourpop.com"><h2>3<!-- -->. <!-- -->Colourpop<!-- --> - <!-- -->11.08M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="colourpop.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Redefining luxury beauty by creating high quality products at affordable prices. we pride ourselves on being cruelty-free, wallet-friendly, and keeping our customers at the center of our world. made in the usa, we imagine, innovate, test, and manufacture all under one roof.<!-- --> </h3><h3>Colourpop gets 11M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->colourpop.com<!-- --> growing?</h3><h3> <!-- -->colourpop.com<!-- --> has grown by <!-- -->21.5%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->colourpop.com<!-- -->?</h3><h3>Last month, <!-- -->colourpop.com<!-- --> received <!-- -->11M<!-- --> visitors who spent an average of <!-- -->5.6<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->40<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->colourpop.com<!-- -->? </h3><h3>5.9M<!-- --> people <!-- -->(53%)<!-- --> visit <!-- -->colourpop.com<!-- --> directly. <!-- -->3.5M<!-- --> <!-- -->(31%)<!-- --> people search for them in Google. Whereas, <!-- -->696.6k<!-- --> <!-- -->(6%)<!-- --> discover <!-- -->colourpop.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->706.4k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->colourpop.com<!-- -->'s email newsletters. Finally, <!-- -->134.7k<!-- --> <!-- -->(1.2%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->colourpop.com<!-- -->?</h3><h3>Colourpop.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->6.9M (62.0%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->503.6k (4.5%)<!-- -->, the 3rd is <!-- -->Australia<!-- --> with <!-- -->412.8k (3.7%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->346.1k (3.1%)<!-- -->. Finally, the 5th is <!-- -->France<!-- --> with <!-- -->210k (1.9%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->21.50%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>11.08M</h3></p><p><h3>Time on Site</h3><h3>5.6<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>4.0</h3></p><p><h3>Bounce Rate</h3><h3>40<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="gymshark.com"><h2>4<!-- -->. <!-- -->Gymshark<!-- --> - <!-- -->4.68M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="gymshark.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop official gymshark exclusively online. enjoy lasting quality &amp; the perfect fit. free returns &amp; free shipping on workout clothes &amp; gym wear orders over $75.<!-- --> </h3><h3>Gymshark gets 5M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->gymshark.com<!-- --> growing?</h3><h3> <!-- -->gymshark.com<!-- --> has grown by <!-- -->-8.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->gymshark.com<!-- -->?</h3><h3>Last month, <!-- -->gymshark.com<!-- --> received <!-- -->5M<!-- --> visitors who spent an average of <!-- -->4.7<!-- --> minutes on the website and visited <!-- -->7.0<!-- --> different pages per session. Overall, <!-- -->37<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->gymshark.com<!-- -->? </h3><h3>1.5M<!-- --> people <!-- -->(32%)<!-- --> visit <!-- -->gymshark.com<!-- --> directly. <!-- -->2.5M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->208.7k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->gymshark.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->227.3k<!-- --> <!-- -->(5%)<!-- --> visitors come from <!-- -->gymshark.com<!-- -->'s email newsletters. Finally, <!-- -->223.2k<!-- --> <!-- -->(4.8%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->gymshark.com<!-- -->?</h3><h3>Gymshark.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->1.6M (34.9%)<!-- --> people. Then the 2nd is <!-- -->United Kingdom<!-- --> with <!-- -->879.8k (18.8%)<!-- -->, the 3rd is <!-- -->Canada<!-- --> with <!-- -->344.4k (7.4%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->281.8k (6.0%)<!-- -->. Finally, the 5th is <!-- -->Netherlands<!-- --> with <!-- -->213.4k (4.6%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-8.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.68M</h3></p><p><h3>Time on Site</h3><h3>4.7<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>7.0</h3></p><p><h3>Bounce Rate</h3><h3>37<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="isawitfirst.com"><h2>5<!-- -->. <!-- -->Isawitfirst<!-- --> - <!-- -->4.13M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="isawitfirst.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop the latest women's fashion at i saw it first. 100s of new styles every week! clothes, dresses, shoes &amp; accessories. must have looks and trends from only ¬£5<!-- --> </h3><h3>Isawitfirst gets 4M monthly visitors and grows primarily through Search traffic from United Kingdom.</h3><p><h3>How fast is <!-- -->isawitfirst.com<!-- --> growing?</h3><h3> <!-- -->isawitfirst.com<!-- --> has grown by <!-- -->-9.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->isawitfirst.com<!-- -->?</h3><h3>Last month, <!-- -->isawitfirst.com<!-- --> received <!-- -->4M<!-- --> visitors who spent an average of <!-- -->7.2<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->45<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->isawitfirst.com<!-- -->? </h3><h3>1.3M<!-- --> people <!-- -->(31%)<!-- --> visit <!-- -->isawitfirst.com<!-- --> directly. <!-- -->2.3M<!-- --> <!-- -->(55%)<!-- --> people search for them in Google. Whereas, <!-- -->127.6k<!-- --> <!-- -->(3%)<!-- --> discover <!-- -->isawitfirst.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->235.2k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->isawitfirst.com<!-- -->'s email newsletters. Finally, <!-- -->85.7k<!-- --> <!-- -->(2.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->isawitfirst.com<!-- -->?</h3><h3>Isawitfirst.com<!-- -->'s top market is the <!-- -->United Kingdom<!-- --> and they receive <!-- -->3.4M (82.5%)<!-- --> people. Then the 2nd is <!-- -->Ireland<!-- --> with <!-- -->232.1k (5.6%)<!-- -->, the 3rd is <!-- -->United States<!-- --> with <!-- -->171k (4.1%)<!-- -->, the 4th is <!-- -->Sweden<!-- --> with <!-- -->34k (0.8%)<!-- -->. Finally, the 5th is <!-- -->Australia<!-- --> with <!-- -->30.8k (0.7%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-9.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.13M</h3></p><p><h3>Time on Site</h3><h3>7.2<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>45<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="ruggable.com"><h2>6<!-- -->. <!-- -->Ruggable<!-- --> - <!-- -->3.2M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="ruggable.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop area rugs, accent rugs and runner rugs at ruggable. washable, stain-resistant and waterproof, our rugs are perfect for homes with kids and pets. ships free!<!-- --> </h3><h3>Ruggable gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->ruggable.com<!-- --> growing?</h3><h3> <!-- -->ruggable.com<!-- --> has grown by <!-- -->52.4%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->ruggable.com<!-- -->?</h3><h3>Last month, <!-- -->ruggable.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.9<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->ruggable.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(33%)<!-- --> visit <!-- -->ruggable.com<!-- --> directly. <!-- -->1.2M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->639k<!-- --> <!-- -->(20%)<!-- --> discover <!-- -->ruggable.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->121.5k<!-- --> <!-- -->(4%)<!-- --> visitors come from <!-- -->ruggable.com<!-- -->'s email newsletters. Finally, <!-- -->141.4k<!-- --> <!-- -->(4.4%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->ruggable.com<!-- -->?</h3><h3>Ruggable.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->3M (93.9%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->109.2k (3.4%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->11.7k (0.4%)<!-- -->, the 4th is <!-- -->Germany<!-- --> with <!-- -->5.4k (0.2%)<!-- -->. Finally, the 5th is <!-- -->India<!-- --> with <!-- -->4.5k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->52.40%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>3.2M</h3></p><p><h3>Time on Site</h3><h3>3.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="morphe.com"><h2>7<!-- -->. <!-- -->Morphe<!-- --> - <!-- -->3.16M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="morphe.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop morphe.com to blend the rules. eyeshadow palettes, makeup brushes and lip colors from james charles, jaclyn hill, and others. a beauty brand created for the creators.<!-- --> </h3><h3>Morphe gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->morphe.com<!-- --> growing?</h3><h3> <!-- -->morphe.com<!-- --> has grown by <!-- -->-36.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->morphe.com<!-- -->?</h3><h3>Last month, <!-- -->morphe.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.0<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->48<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->morphe.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(36%)<!-- --> visit <!-- -->morphe.com<!-- --> directly. <!-- -->1.7M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->141.4k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->morphe.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->102.7k<!-- --> <!-- -->(3%)<!-- --> visitors come from <!-- -->morphe.com<!-- -->'s email newsletters. Finally, <!-- -->29.4k<!-- --> <!-- -->(0.9%)<!-- --> people come from affiliates ‚Ä¶</h3></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reviewbolt.com/top/shopify/">https://reviewbolt.com/top/shopify/</a></em></p>]]>
            </description>
            <link>https://reviewbolt.com/top/shopify/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140934</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My first eBook launch ‚Äì results and feedback (10k USD in 27 days)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26140625">thread link</a>) | @alexellisuk
<br/>
February 15, 2021 | https://blog.alexellis.io/my-first-ebook-results-feedback/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/my-first-ebook-results-feedback/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
   <article>

        

        <section>
            <div><p>I wanted to write to you all and share that I've launched my first eBook called <a href="https://gumroad.com/l/serverless-for-everyone-else">"Serverless For Everyone Else"</a> - within the first three hours of launch, nobody bought a single copy and I thought that I'd got it all wrong.</p>
<p>The "everyone else" is a reference to how complicated and difficult cloud-based and Kubernetes-based FaaS has become. The eBook sets out to help indie developers, and individuals within corporations build and deploy functions using a new version of OpenFaaS (<a href="https://github.com/openfaas/faasd">faasd</a>) which is open source and can run on a single VM or VPS without much overhead.</p>
<p>The real power of functions comes in extending existing systems through webhooks, polling, or querying and updating state. I'll share some of these use-cases below including how I used functions to extend how the Gumroad marketplace worked.</p>
<h2 id="whywriteanebookanyway">Why write an eBook anyway?</h2>
<p>Why did I decide to write an eBook? If you've ever written about tech or spoken at a conference, then Packt has probably approached you on LinkedIn about writing for them. From what I hear, that kind of arrangement means writing in a word doc, with tight deadlines and cranking out 300+ pages. It wasn't for me.</p>
<p>I'd seen <a href="https://twitter.com/dvassallo">Daniel Vassallo</a> create an eBook about AWS and Twitter. Daniel had really good results using Gumroad to sell his self-published eBooks. Then there's <a href="https://twitter.com/adamwathan">Adam Wathan</a> who built Tailwind CSS and trained himself up as a UI designer. He wrote his own eBook and in his yearly review mentioned that it did 600k USD in passive sales, without any promotion.</p>
<p>Whilst I didn't expect to get anywhere close to those numbers with a specialist topic, I did want to know if people would buy something from me.</p>
<h2 id="thetiersatlaunch">The tiers at launch</h2>
<p>I launched with three tiers, with names and clear differentiation:</p>
<ul>
<li>Minimalist - 25 USD - just the eBook</li>
<li>DevOps PRO - 50 USD - the eBook, plus a Grafana dashboard and the YAML for faasd to enable it</li>
<li>The learner - 99 USD - the eBook, plus a Grafana dashboard,  the YAML for faasd to enable it and a video workshop ready in 7 days</li>
<li>The team player - the learner, but for 5 people in your company - for a lunch &amp; learn, brownbag, or to better understand Serverless</li>
</ul>
<p>As long as the options add some value, it seems that people are willing to pay a little more and enjoy the choice.</p>
<p>There was no pre-launch and I didn't collect email addresses. I just tweeted about the eBook on Friday afternoon, and then nothing happened for three hours.</p>
<p>I interpreted this as a failure because I'd been reading <a href="https://amzn.to/38N5uZy">"The Right It: Why So Many Ideas Fail and How to Make Sure Yours Succeed"</a>.</p>
<blockquote>
<p>You tend to get what you focus on, like when you think of installing a satellite dish, then realise that everyone on your street has one, and can't stop seeing them.</p>
</blockquote>
<p>In the same way, I saw failure to find market fit. In those first hours I convinced myself that the lack of sales was a sign that nobody wanted the material.</p>
<p>Then I got my first sale, and felt a little relief, maybe I was wrong?</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810538-27b57080-57ed-11eb-905b-d042d3046adf.png" alt="Sale email"></p>
<p>The sales graph had one initial spike on the Friday, and kept going into the Sunday. What had happened? My Twitter audience and <a href="https://github.com/sponsors/alexellis">GitHub Sponsors</a> came to lend their support.</p>
<p><img src="https://pbs.twimg.com/media/ErzMnuOXMAA_REk?format=jpg&amp;name=medium" alt="The initial spike at launch"></p>
<p>Then things died down, and over the course of the week I wondered again if I'd failed to find market fit. <a href="https://gumroad.com/">Gumroad</a> was sending me almost no organic traffic, and nobody was landing on the page from search engines.</p>
<p>Still, it was more money than I had expected to earn from the eBook within the first week, but I felt like with so much interest in OpenFaaS, that there was a broader audience to reach.</p>
<h2 id="gettingasecondpeak">Getting a second peak</h2>
<p>After the first week, I released the video workshop to the people who'd purchased that tier (99USD), and to get some feedback, I offered a free upgrade to the workshop for the tier just below (50USD).</p>
<blockquote>
<p>The discount resulted in another large spike in sales.</p>
</blockquote>
<p><img src="https://camo.githubusercontent.com/4e204e93dcfc33679c997c739fbf4f651fdf268d23961bae6f9b4c25ad4ec145/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f45735a3372753258634155513451673f666f726d61743d6a7067266e616d653d6d656469756d" alt="Video workshop"></p>
<p>Gumroad has no way to offer a discount for a single tier, or to enable upgrades. So how did I fulfil the upgrade?</p>
<p>I did it by writing a function and deploying it to my Raspberry Pi. Gumroad can be configured to send a webhook (also called "a ping") to a HTTPS endpoint whenever there is a sale. My code just had to validate the sender, parse the dollar amount and email address, and then send out an email to the customer. I evaluated a few email services and settled on AWS SES for its simplicity and predictable pricing. I used <a href="https://inlets.dev/blog/2021/02/11/secure-letsencrypt-tunnel.html">inlets PRO</a> to receive webhooks.</p>
<p><img src="https://pbs.twimg.com/media/EscxNxbXAAEHD8z?format=jpg&amp;name=large" alt="The function running"></p>
<p>You can see the source code here: <a href="https://github.com/alexellis/gumroad-responder">alexellis/gumroad-responder</a></p>
<p>After the second peak, I saw a sharp drop-off in sales, again. I started to wonder why I was seeing this pattern?</p>
<p>At that time 99% of referrals had come from Twitter and from email. Had I exhausted my network? Had everyone who was going to buy an eBook on learning open-source serverless, already become a customer?</p>
<p>I went ahead and added a link on <a href="https://www.openfaas.com/">openfaas.com</a> and <a href="https://blog.alexellis.io/">on my blog</a> at the end of each post, to try and get more eyes on the eBook. It's too early to tell if that is going to work out, but has resulted in a few conversions already.</p>
<p>One of the bits of feedback I got on the eBook was how users enjoyed the use-cases, and practical examples. I'd recently started video streaming, so invited a friend to my YouTube channel to talk about serverless use-cases.</p>
<p><img src="https://camo.githubusercontent.com/544dffaf339a4ff44439db1c14cd953de385640b99231688f8a49db61294a02e/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f457378444745505841415968724c4f3f666f726d61743d6a7067266e616d653d6c61726765" alt="Video on use-cases"></p>
<p><a href="https://www.youtube.com/watch?v=mzuXVuccaqI&amp;feature=youtu.be">Watch the recording</a></p>
<p>The recording generated a lot of interest and engagement for existing eBook customers, but seemed to have no obvious effect on sales.</p>
<p>You can get the <a href="https://gist.github.com/alexellis/c72d7a385f801cc9b8deb7fcaa531b69">show notes</a> here which have lots of links for use-cases from hobbyists, indie devs and corporate users of OpenFaaS.</p>
<h2 id="mynextmilestone">My next milestone</h2>
<p>I am pleased with the results so far, and have learned a lot along the way. I also had a few people reach out to me directly asking for help who had taken inspiration from seeing someone actually go ahead and take a calculated risk. As they say, "nothing ventured, nothing gained".</p>
<p>I haven't quite got to 10k USD, which is a nice round number to aim for, but I can roughly understand what each peak means here, and whether they are repeatable.</p>
<p><img src="https://pbs.twimg.com/media/EtARGclXMAg7nJ-?format=jpg&amp;name=medium" alt="Approaching 10k"></p>
<p>Once the sales do cross that threshold, I'll write-up a how to guide and share the command lines and tools I used to generate the eBook.</p>
<h2 id="whatsnext">What's next</h2>
<p>I committed to providing free updates - because the eBook was partially experimental and I wanted to validate that it was useful. Using the <a href="https://slack.openfaas.io/">OpenFaaS Slack</a> helped here - I opened a new channel for people who'd bought the book, and enjoyed the feedback and engagement from this.</p>
<p>Some people charge extra for community, but it felt too hard to enforce the access for this.</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810333-b628f280-57eb-11eb-8be9-a2f6c773346b.png" alt="Original cover"></p>
<p>I generated my own eBook cover originally and then only later, got a professional designer involved.</p>
<p><img src="https://static-2.gumroad.com/res/gumroad/2028406193591/asset_previews/741f2ad46ff0a08e16aaf48d21810ba7/retina/social4.png" alt="New design"></p>
<p>It turns out that the cover may not matter with Gumroad, as long as it's not awful. Since changing cover, I've only seen two new sales.</p>
<p>Now that I have some initial feedback and have learned that people will buy things from me, I want to let goodwill rebuild, and my audience "recover" before launching a second eBook. I've done a lot of free blog posts and writing on Kubernetes, Docker, Golang and Raspberry Pi and analytics from my blog shows me what's popular.</p>
<p>Just because something you give away for free is popular, doesn't mean that anyone will be willing to pay for it. OpenFaaS itself is testament to that, with many corporations using it in production, without contributing code or finances back. Part of <a href="https://blog.alexellis.io/still-in-the-game-my-2020-year-in-review/">my 2021 goals</a> is to find a way to make OpenFaaS sustainable.</p>
<blockquote>
<p>"If You Always Do What You've Always Done, You'll Always Get What You've Always Got." - Henry Ford</p>
</blockquote>
<p>The eBook has already brought in more revenue in a month, than the OpenFaaS GitHub Sponsors account has in a year.</p>
<p><a href="https://amzn.to/38N5uZy">The Right It</a> has taught me not to invest too much effort up front in any one idea, because it is likely to fail. That's just the way things go. Instead I'll be testing ideas out through small experiments that take a few hours or days, and using data to decide whether to invest more.</p>
<p>I'm happy to answer questions <a href="https://twitter.com/alexellisuk/">via Twitter</a>.</p>
<h2 id="update12feb2021">Update (12 Feb 2021)</h2>
<p>It took 27 days, but the eBook has now reached the milestone of 10k USD in sales! Most of the purchases being made now are from links on the OpenFaaS website, the faasd repo or my own blog. This is also known as long-tail, a slow and (mostly) steady stream of revenue.</p>
<p><img src="https://blog.alexellis.io/content/images/2021/02/update-rev6.png" alt="Launch event, offers and longtail"></p>
<blockquote>
<p>Visualised: Launch event, offers and longtail</p>
</blockquote>
<p>I've also released revision 6 of the eBook which has a much more detailed section on CI/CD and recipes for multi-arch builds. I'm using it to deploy endpoints directly to my Raspberry Pi from GitHub Actions.</p>
<p>If you're curious about how Serverless functions can be of use for your next side-project or idea, why not try the eBook and / or video workshop? You can get your money back within 7 days if you're not satisfied.</p>
<p>Events and webhooks can be used to build custom extensions for SaaS products or existing systems. You can see an example in my <a href="https://github.com/alexellis/gumroad-responder">gumroad-responder</a> which forwards messages to Slack, and sends emails via AWS SES to customers during a promotion.</p>
<blockquote>
<p>üéÅ To say thanks for reading, the next 20 people can get 20% off any tier - including the video workshop package using the discount link below:</p>
</blockquote>
<p>Check the options on Gumroad: <a href="https://gumroad.com/l/serverless-for-everyone-else/avid-reader">Serverless For Everyone Else on Gumroad</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/my-first-ebook-results-feedback/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140625</guid>
            <pubDate>Mon, 15 Feb 2021 08:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to best manage your tasks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140123">thread link</a>) | @jonmal
<br/>
February 14, 2021 | https://blog.doit.io/task-management/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/task-management/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2021/02/TaskManagement-1.jpg 300w,
                            /content/images/size/w600/2021/02/TaskManagement-1.jpg 600w,
                            /content/images/size/w1000/2021/02/TaskManagement-1.jpg 1000w,
                            /content/images/size/w2000/2021/02/TaskManagement-1.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2021/02/TaskManagement-1.jpg"
                    alt="Task Management: How to Best Manage your Tasks"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Daily life is busy and getting busier every single day. Keeping up with it all can feel overwhelming at best and impossible at worst. We could all use some help organizing the various projects and associated deadlines we have at work, school, and home. </p><p>The key to meeting deadlines and staying on track to complete projects is effective task management.</p><p>Think about it. Projects are really just a set of tasks that need to be completed, one after another, until the project is done. Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</p><figure><img src="https://blog.doit.io/content/images/2021/02/TaskManagement.jpg" alt="" srcset="https://blog.doit.io/content/images/size/w600/2021/02/TaskManagement.jpg 600w, https://blog.doit.io/content/images/size/w1000/2021/02/TaskManagement.jpg 1000w, https://blog.doit.io/content/images/2021/02/TaskManagement.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Task Management</figcaption></figure><p>In this guide we will explain task management, share the skills you need to have to be a taskmaster, outline specific methods for approaching task management, and discuss how task management software can help.</p><p>Let‚Äôs do it.</p><ol><li><a href="#what-is-task-management?">What is Task Management?</a></li><li><a href="#5-essential-skills-for-effective-task-management">5 Essential skills for Effective Task Management</a></li><li><a href="#methods-to-use-for-task-management">Methods to use for Task Managements</a></li><li><a href="#why-should-you-use-task-management-software">Why you should use Task Management Software</a></li><li><a href="#key-features-of-the-best-task-management-software">Key features of Best Task Management Software</a></li><li><a href="#how-doit-io-can-help-you-manage-all-the-tasks-at-work-school-and-home">How Doit.io can help you</a></li></ol><h2 id="what-is-task-management">What is Task Management?</h2><p>All tasks have a life cycle of sorts. Task management is the process of taking a task through that entire cycle from beginning to completion. It involves aspects such as planning, assigning, tracking, delivering, and reporting.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management is the process of taking a task through that entire cycle from beginning to completion.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The goal of task management is to ensure that the projects associated with the tasks are completed within the specified deadline. Task management is useful within work teams, families, or for those flying solo.</p><h2 id="5-essential-skills-for-effective-task-management">5 Essential Skills for Effective Task Management</h2><p>Not all taskmasters are created equal. Some lucky folks are born with a natural gift for managing tasks that make them especially effective. The rest of us can improve our task management results by working on the skills that are essential to the process.</p><p>Here are five skills that are considered essential for masterful task management.</p><ol><li><strong>Prioritization:</strong> Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</li><li><strong>Flexibility:</strong> This skill goes hand in hand with prioritization. Things are going to come up that change the direction of any given project. Those who can successfully shift things around without a big fuss are going to be more effective than those who struggle with rigidity.</li><li><strong>Scheduling:</strong> The best task managers are those that can see the big picture of the end goal or project and schedule tasks in accordance with the larger timeline. Oftentimes this requires us to do a task that may not be a favorite, but is a necessary task to move things forward.</li><li><strong>Communication:</strong> This skill is found on the key skills list of everything from long term personal relationships to leadership. Task management is no different. Open, clear, and constant communication about the tasks at hand and to come is absolutely essential to successful task management.</li><li><strong>Delegation:</strong> Task management is not about shouldering the entire load alone. The best task managers are those that can identify who is best suited to which tasks so that progress is made in the most effective manner possible. Sometimes you will be best suited to the task. Other times, assigning tasks to others leads to much better outcomes.<br></li></ol><h2 id="methods-to-use-for-task-management">Methods to Use for Task Management </h2><p>The body of work around task management is vast. It‚Äôs such an important process that there have been countless books, coaching sessions, articles, and methods created around making it more effective. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We have identified a few methods that are especially worth consideration. They are actionable strategies that can be implemented as-is or tweaked to fit your personal preferences. Let‚Äôs take a look at some specific methods for task management.</p><h3 id="eat-that-frog">Eat That Frog</h3><p>This method has a silly name but it gets seriously impressive results! The moniker comes from an oft-cited alleged quote from Mark Twain. He is quoted to have said, ‚ÄúIf it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.‚Äù Esteemed <a href="https://www.briantracy.com/">author and productivity expert Brian Tracy</a> ran with this evocative quote and turned it into a task management method and book by the same name.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>If it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The main idea with the <a href="https://blog.doit.io/eat-that-frog/">Eat That Frog method</a> is that you should jump right into hard, important, and difficult to deal with tasks first. Once they are done you can move on to other tasks that are easier to swallow, if you will. It is beautiful in its simplicity. It works because it aligns your focus, helps you prioritize, and urges you to take action. </p><h3 id="the-ivy-lee-method">The Ivy Lee Method</h3><p>This task management method is also rooted in a <a href="https://www.businessinsider.com/ivy-lee-method-productivity-2018-9">historical account of folkloric proportions</a>. As the story goes, a man by the name of Charles Schwab (yes, <em>that</em> Charles Schwab) wanted to help his employees increase their productivity. He hired a consultant called Ivy Lee who promised to teach his employees a sure-fire method for improved productivity in just a few minutes. </p><p>Better still, Schwab would pay absolutely nothing up front. Lee asked that the employees use the method for a period of three months and then Schwab should pay Lee what he felt the method was worth. Ivy Lee was paid $25,000 way back in 1918 which is worth over $450,000 in today‚Äôs dollar.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>The key to meeting deadlines and staying on track to complete projects is effective task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The secret is out and now we all have access to the <a href="https://blog.doit.io/the-ivy-lee-method/">Ivy Lee Method</a>. It goes like this. Every day at the conclusion of your work day, spend a mere ten minutes thinking about what you have to accomplish tomorrow. Write down the six most important tasks and order them by priority. When you start work the next day, start with the most important task and work your way down one task at a time. Whatever is left undone should be included in the next day‚Äôs list. That‚Äôs it. </p><h3 id="get-things-done-or-gtd">Get Things Done or GTD</h3><p>This method comes from author David Allen whose book on the process remains popular since it‚Äôs publication nearly 20 years ago. It stands the test of time because it is fairly simple to implement and it actually works. The basic assumption is that our minds are cluttered with a flurry of things we need to remember or that we want to accomplish. If we can get those thoughts out of our heads and onto paper, our minds will be cleared and we can get things done.</p><p>GTD has five steps that we have<a href="https://blog.doit.io/getting-things-done-gtd-method/"> explained in greater detail</a> in a separate article. They are:</p><ol><li><strong>Capture:</strong> Dump all ideas, thoughts, ideas, tasks out of your mind and into the space or place of your choosing.</li><li><strong>Clarify:</strong> Go through the list and eliminate anything that is not actionable. From what is left, see if any tasks can be broken down into smaller tasks.</li><li><strong>Organize</strong>: At this stage, you take each task and prioritize it against the others.</li><li><strong>Reflect:</strong> The list must be reflected upon regularly as circumstances and priorities change. Make adjustments as needed.</li><li><strong>Engage:</strong> Get going! Start taking action and get things done, one by one.<br></li></ol><h3 id="the-eisenhower-matrix">The Eisenhower Matrix</h3><p>This method is aimed specifically at prioritization. It comes from the legendary productivity of former U.S. president, five-star army general, and all-around amazing accomplisher Dwight Eisenhower. The method was made popular by its inclusion in Stephen Covey‚Äôs perennial bestseller <a href="https://www.amazon.com/Habits-Highly-Effective-People-Powerful/dp/0743269519">The Seven Habits of Highly Effective People</a>.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The core idea of the Eisenhower Matrix is determining whether or not a particular task is important, urgent, both, or neither. Importance and urgency are not the same thing. A task is important only if it moveImportance refers to how much a task moves us forward in achieving a long-term goal or mission. Urgency refers to how quickly something has to get done or how ‚Äúin the moment‚Äù it is. Urgency doesn‚Äôt always equal importance.</p><p>Tasks that are both urgent and important must be assigned the highest priority. Tasks that are urgent but not important should be delegated to someone else. Those that are important but not urgent should be planned. And those that are neither should be eliminated all together. For more <a href="https://blog.doit.io/the-eisenhower-matrix/">in-depth information on the Eisenhower Matrix</a>, check out our previous exploration of the method. </p><h2 id="why-should-you-use-task-management-software">Why Should You Use Task Management Software</h2><p>Based on the methods we have recommended and the skills we have identified as necessary to improve management of tasks you may be thinking that all you really need to become a taskmaster is a pen and paper. That would be true if you lived and worked completely on your own.</p><p>The reality is that our tasks are often commingled with the tasks of others. It is true in work teams, in classrooms, and in households all over the world. Collaboration is a regular part of our professional and personal lives. Task management software can make collaboration with others so much easier and tasks will be better managed, too.</p><p>Task management software allows you to implement all of the necessary components to the task management process more efficiently and effectively. Specifically, task management software improves visibility, access, communication, and collaboration. </p><ul><li>Visibility among all people involved in a particular project is improved. Everyone can see who is supposed to be doing what.</li><li>Access to tasks is instant and always available in the palm of your hand.</li><li>Easily delegate and communicate with others involved in the task or project.</li><li>Track and report progress to identify critical need areas and keep things moving.</li></ul><h2 id="key-features-of-the-best-task-management-software">Key Features of the Best Task Management Software</h2><p>If you decide to incorporate a task ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/task-management/">https://blog.doit.io/task-management/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/task-management/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140123</guid>
            <pubDate>Mon, 15 Feb 2021 07:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[StockMonitor ‚Äì my fundamental analysis bot]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26139321">thread link</a>) | @RikNieu
<br/>
February 14, 2021 | https://www.riknieu.com/stockmonitor/ | <a href="https://web.archive.org/web/*/https://www.riknieu.com/stockmonitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>I finally wrote a piece of software that I've wanted for years - a bot that regularly monitors the stock market for good, fundamentally sound companies that are undervalued, and then lets me know as soon as it finds them.</p><h2 id="automating-value-investing">Automating value investing</h2><p>I like the idea of buying something at a bargain that would likely truly increase in value over time, not because of it being a fad or fashion, but because it is really produces a net benefit to its stakeholders. Damn, that line sounded a bit more corporate than I intended, but it's relatively succinct and I stand by it.</p><p>If we're being honest, everything else is merely speculation. Although I do dabble in stuff like crypto, I do not view it as investing. To me it's just one or two steps up from gambling. </p><p>Why? Because it does not <em>produce</em> any additional value over time, its value merely depends on what a bunch of people collectively think it's worth. A value based on... feelings? Hopes? Peer pressure? Who knows. </p><p>To me that's not truly reliable and definitely not measurable enough to base longterm decisions on. Wow, as I wrote that I could just <em>feel</em> the multitude of objections undulating across the internet and socials; "what about smart contracts!?", and mentions of "stores of value", and cries of "gold-is-just-as-bad". Quite.</p><p>And some of those criticisms might have interesting points. And yes, the same could perhaps even be said about other more traditional forms of 'investment', like residential property and precious metals. But since all of that is only tangentially related to this post, and I'm in control of what's being discussed here, let's declare it a digression, side-step the horrified, and swiftly move along.</p><p>Sure, the line between investing and speculation can be very nebulous, and I do not really want to get into that an intricate of discussion and comparison with this post, but in short, I believe it comes down to that some people like pumping money into things they <em>feel or hope</em> would be worth more in the future. They prefer hunches, gut feelings, popularity and the wisdom of the crowd to analysis of the old-school and boring. They often have slogans too, mentions of moons and diamonds and, of course, lots and lost of cheering each other on.</p><p>Others(and this is where I align myself) prefer to pump money into things they think will increase in value in due to some more concrete and measurable properties, and often puts great emphasis on the output such an entity produces. They consider that measuring and processing those properties could give one a better idea of what that thing might be realistically worth in real monetary terms, regardless of what yours or others fluctuating feelings and hunches might suggest in a moment-by-moment basis.</p><p>You see, people and their opinions are fickle. And being due to human beings being spooked, ignorant, confused or distracted, things of real value might be worth more than most people feel it is in the open market, at any particular moment in time, due to random reasons.</p><p>Everyone can suddenly get all excited about that new tech-car company, and perhaps totally forget about the boring, ancient company that might produce a lot of the chemicals used in that very same tech-car company's production lines. </p><p>The market value of companies goes up and down daily, based on what's said in the news, what's being tweeted and what some random politician might have said. But thinking about it, how can that make sense? How can a company's real value change on a whim, a whisper or mere rumour? </p><p>And that, essentially, is what the concept of value investing entails - basing investment decisions on some measurable intrinsic properties of the investment instrument, and not being swayed by the markets' irrational ups and downs. I'll also offer the <a href="https://www.investopedia.com/terms/v/valueinvesting.asp">definition of value investing from Investopedia</a>, to give you a clearer idea of what I'm angling for.</p><blockquote><a href="https://www.investopedia.com/terms/v/valueinvesting.asp">Value investing</a> is an investment strategy that involves picking <a href="https://www.investopedia.com/terms/s/stock.asp">stocks</a> that appear to be trading for less than their <a href="https://www.investopedia.com/terms/i/intrinsicvalue.asp">intrinsic</a> or book value. Value investors actively ferret out stocks they think the <a href="https://www.investopedia.com/terms/s/stockmarket.asp">stock market</a> is underestimating. They believe the market overreacts to good and bad news, resulting in stock price movements that do not correspond to a company's long-term <a href="https://www.investopedia.com/terms/f/fundamentals.asp">fundamentals</a>. The overreaction offers an opportunity to profit by buying stocks at discounted prices‚Äîon sale.</blockquote><p>Thus the aim of the bot I wanted to build was to automate the process of fundamental analysis on a particular stock market index - in my case the <a href="https://en.wikipedia.org/wiki/S%26P_500">S&amp;P500</a> - and have it notify me when it finds an opportunity where the market might be considering a stock worth less than it possibly is in reality.</p><h2 id="the-bot-spec">The bot spec</h2><p>I wanted to automate everything I previously did manually, when it came to deciding what to buy and when, except for the actual trading part. I would still like to leave that particular task manual, as I want to have the final say in if I think a stock is a good purchase or not.</p><p>That being said, the bot does the following;</p><ul><li>It updates and caches a list of stocks in the S&amp;P500 every 3 months.</li><li>It fetches and/or calculates the latest fundamental metrics for each stock, including stuff like PE, EPS, FCF, Pietroski F-Score, book value, sales and earnings every 3 months, and caches it in between.</li><li>It ranks them from most profitable, productive and stable to least, then drops the bottom ones leaving only the top 8</li><li>It calculates an estimate per share value for each company with a customised form of the <a href="https://www.investopedia.com/terms/g/graham-number.asp">Benjamin Graham formula</a></li><li>It then compares the latest price of that top 8 with their calculated estimated value twice a day, and sends me an email report of this process on every other check(thus once a day)</li><li>It notifies me via SMS and email when it finds a stock that's going at a rate a little below the estimate, so that I can have a look and decide if it's a good buy or not myself.</li></ul><h2 id="choosing-a-stack">Choosing a stack</h2><p>I chose to use NodeJS, as that's the stack I use most frequently at my day job. This helps me move comfortably fast, as I'm fluent enough in it to be able to put most of my mental effort going towards architecting the app itself, and not towards trying to figure out a new language or framework.</p><p>I could also reuse a lot of code from previous side-projects, in order to get it built much faster. Some of the code I recycled included comms functions like sending email and SMS, error loggers and Dockerfile setups.</p><p>I also opted to not use TypeScript, as I found the basic application easy enough to build and reason about without having to worry about types too much, and because it's merely a personal project that doesn't need to be sanity-checked for other team members' sake.</p><p>Although I worked on it on my free time on-and-off, sometimes in the early mornings and sometimes on weekends, I estimate it took me about 6-8 hours to get it done and in its current relatively satisfactory state.</p><h2 id="fundamental-analyst-bot-in-action-">Fundamental analyst bot in action!</h2><p>The bot currently doesn't have a dashboard or web UI, but I can offer you a screenshot from the console.</p><figure><img src="https://www.riknieu.com/content/images/2021/02/StockMonitor-2.png"><figcaption>StockMonitor in action</figcaption></figure><h2 id="conclusions-and-disclaimers">Conclusions and disclaimers</h2><p>Now, I'm not a professional trader, financial advisor or a particularly astute financially literate person, so I'm not sure of how much worth this thing really is. But this was a fun project to work on and helps me keep a regular albeit automated eye on the market to help find opportunities as defined by my own personal investment preferences and inclinations. </p><p>I'm sure some of you would disagree with the validity of the metrics I'm tracking or some of the things I might have said in the post, but for me, this bot is pretty nifty. </p><p>I'd certainly not use it to advise others on what to buy or not, but for me and my own funds it's perfect, because it automates what I did manually anyway, just way more often and regular, thereby freeing up some of my time and mental energy for other endeavours. </p><p>It hasn't identified anything for me to buy as of yet, so I obviously can't vouch for its practical usefulness at this point, but it's only been running a couple of days and the market is rather bullish in general at the moment. But I'm patient, I'll wait. I know my bot's got my back.</p><p>I'll post an update again once it's made its first recommendations, and hopefully again after that, with some concrete results.</p><p>Thanks for reading. If you have any comments or suggestions, follow and contact me on Twitter <a href="https://twitter.com/riknieu">@RikNieu</a></p><p>If you want to read more of my rants, sign up below and I'll mail you when I post new stuff. üëá</p><!--kg-card-begin: html--><!-- Begin Mailchimp Signup Form -->
</section></div>]]>
            </description>
            <link>https://www.riknieu.com/stockmonitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139321</guid>
            <pubDate>Mon, 15 Feb 2021 05:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The biggest haters on Elon Musk's Tesla Bitcoin buy are his fellow techies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139253">thread link</a>) | @gge
<br/>
February 14, 2021 | https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>The news that Tesla had invested $1.5 billion of its corporate cash in Bitcoin had all the components of a perfect storm for tech enthusiasts: Elon Musk tweets, magic internet money, and a graph pointing up and to the right. Just like his Twitter follower count, after the announcement:</p>

<p>Crypto advocates were euphoric. Tesla‚Äôs move would be the tipping point for Bitcoin, and crypto in general, to hit the mainstream, <a href="https://twitter.com/APompliano/status/1358764055285145605?s=20" target="_blank">Bitcoin boosters crowed</a>. Indeed, crypto‚Äôs usual antagonist, Wall Street, <a href="https://www.reuters.com/article/us-crypto-currency-tesla-quotes/tesla-announces-1-5-billion-bitcoin-bet-makes-payments-pledge-idUSKBN2A81PD" target="_blank">cheered along</a> this time. And if App Store ratings for Coinbase are any guide, enthusiasm for crypto investing among the retail crowd is at an all time high:</p>

<p>But the news provoked a backlash from an unexpected demographic: software developers. Check out <a href="https://news.ycombinator.com/item?id=26063920" target="_blank">this thread</a> at developer watering-hole Hacker News, for instance. It generated 1,271 comments. Here are some highlights:</p>

<blockquote>
<p>‚ÄúBitcoin is a mystery to me. Somehow it's hailed as revolutionising the economy, by replacing currency with a worse kind of currency.‚Äù ‚Äî rzodkiew</p>

<p>‚ÄúHow is there a network effect if people aren't using Bitcoin to make or receive payments? Bitcoin is no more useful to me if my friend uses it versus a stranger. "Meme effect" is more like it -- the more hype there is, the better it is for anyone holding coins. The value comes from convincing enough new people to keep buying in. It's like a ponzi scheme in that respect.‚Äù ‚Äî&nbsp;eli</p>

<p>‚ÄúThere's a lot of very very smart people who are totally lost among the trees on the technicalities of Bitcoin who don't get this one simple aspect. It's never happening.‚Äù ‚Äî&nbsp;vp8989</p>
</blockquote>

<p>The backlash has not gone unnoticed in crypto-land. Here‚Äôs what one Ethereum core developer ‚Äî&nbsp;the folks who make the whole protocol work ‚Äî&nbsp; experienced on Twitter when the Tesla news broke:</p>
<div>
<blockquote>
<div dir="ltr" lang="en"><p>My timeline is interesting:</p><p>Post 1: Tesla, Bitcoin, Mooon, Mars<br>Post 2: Musk brought shame to Tesla<br>Post 3: Crypto is going mainstream<br>Post 4: You life is not about making money</p><p>Loop.</p></div>
‚Äî P√©ter Szil√°gyi (@peter_szilagyi) <a href="https://twitter.com/peter_szilagyi/status/1358885818761379843?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote>
</div>

<p>What lies behind this apparent antipathy to crypto in what we might call ‚Äútraditional‚Äù tech? I turned to a longtime developer who straddles the crypto world and more conventional tech circles named Lauren Garcia. The Bay Area native is developing an <a href="https://microsponsors.io/" target="_blank">advertising system</a> that swaps intrusive tech for blockchain tokens. She has also worked at places like Yahoo and DuckDuckGo over the years.&nbsp;</p>

<p>Garcia says crypto is ‚Äúthe most polarizing subject‚Äù among her fellow developers. In one incident, a longtime collaborator expressed shock when he was told she was working on a crypto project. ‚ÄúI thought you were a good person,‚Äù was his sign off.&nbsp;</p>

<p>Garcia attributes the tension to a clash of values: between well-off tradtechers who associate decentralization with open-source projects, who inevitably turn to Big Tech for patronage; and crypto millennials who believe they can tokenize their way to a decentralized internet.&nbsp;</p>

<p>‚ÄúOpen-source folks have complained that there‚Äôs no way to monetize their work, and it‚Äôs true - I‚Äôve spent hundreds of hours developing open-source work that gets no compensation,‚Äù she says. ‚ÄúIt‚Äôs always been this unsolved problem, and the default is these open-source contributors get paid handsomely by a startup or enterprise company that can afford to support that project. It‚Äôs a patronage model, and the patronage comes from Big Tech.‚Äù</p>

<p>By contrast crypto is a grassroots movement with a hodgepodge of projects that get generated by enthusiastic young developers. Crypto projects have the advantage of being able to raise capital seemingly out of thin air, through mechanisms like initial coin offerings.&nbsp;</p>

<p>‚ÄúThe projects that get funded are what people are interested in,‚Äù Garcia says.&nbsp;</p>

<p>Garcia might have a point. The researcher <a href="https://nadiaeghbal.com/" target="_blank">Nadia Eghbal</a> observed in her book ‚ÄòWorking in Public: The Making and Maintenance of Open Source Software‚Äô that open-source developers generally complain about funding, but that the money problems were just a symptom of something deeper at work. Eghbal diagnoses the underlying issue as a disconnect between open-source developers‚Äô utopic conception of their work and the reality they inhabited.&nbsp;</p>

<p>You see, open-source software was supposed to be a huge collaborative effort where developers would contribute code voluntarily to a commons, gifting their creations to humanity. But Eghbal discovered that open-source projects were becoming increasingly centralized, relying on a handful of developers instead of a broad cohort, even as the projects themselves gained massive adoption.&nbsp;</p>

<p>Eghbal calls this model of open-source development ‚Äúthe stadium,‚Äù where a coterie of software developers are encircled by occasional contributors. The devs are in turn encircled by ever expanding rings of software users, who simply consume the software. Stadium models, Eghbal writes, operate on access to the key developers‚Äô attention.</p>

<p>‚ÄúMuch like a lake that requires paid licenses from fisheries to reduce overfishing, an open source project can require companies to pay to ‚Äúappropriate‚Äù attention from the project‚Äôs developers,‚Äù Eghbal writes.&nbsp;</p>

<p>The roots of the angst on Hacker News and elsewhere in the developer world might simply come from the fact that crypto people figured out a way to get themselves paid. Traditional devs might not like the fact that this solution requires spinning up ‚Äî sometimes legally questionable ‚Äî&nbsp;tokens and trading them, but the crypto market is worth well over $1 trillion dollars by now, according to <a href="https://www.tradingview.com/markets/cryptocurrencies/global-charts/" target="_blank">TradingView data</a>. The coin slingers might be on to something.&nbsp;</p>

<p>While it‚Äôs difficult to pinpoint the cultural divide between tradtech and crypto devs precisely, it‚Äôs clear that cryptocurrencies have proved to be a divisive and polarizing topic in just about every sphere it touches, from finance to politics and even to that supposedly most neutral of realms ‚Äî&nbsp;technology.&nbsp;</p>


      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139253</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139132">thread link</a>) | @nsm
<br/>
February 14, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I‚Äôve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart‚Äôs <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn‚Äôt fully able to convey the ideas of Smalltalk, because the term
‚ÄúREPL‚Äù is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I ‚Äúaccept‚Äù this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I‚Äôve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a ‚Äústatic method‚Äù in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you‚Äôd just have
an exception thrown when running the program ‚Äì <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you‚Äôve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn‚Äôt just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I‚Äôm not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don‚Äôt know exactly what to put in there yet. Don‚Äôt
worry, this is Smalltalk. We don‚Äôt need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE ‚Äúok, I‚Äôve fixed the
immediate error, let‚Äôs try again‚Äù and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don‚Äôt do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn‚Äôt be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another ‚Äúthread‚Äù in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I‚Äôd lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn‚Äôt being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special ‚Äúsyntax‚Äù<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn‚Äôt magical. The Smalltalk/Pharo community is very
small, so this shouldn‚Äôt be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn‚Äôt fair to expect someone to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139132</guid>
            <pubDate>Mon, 15 Feb 2021 04:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Ideas, Through the Looking Glass (PDF, 2005)]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138218">thread link</a>) | @benhoyt
<br/>
February 14, 2021 | https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf | <a href="https://web.archive.org/web/*/https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138218</guid>
            <pubDate>Mon, 15 Feb 2021 02:00:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Phone vs. Supercomputers]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26138069">thread link</a>) | @ca98am79
<br/>
February 14, 2021 | https://www.tnhh.net/posts/phone-power.html | <a href="https://web.archive.org/web/*/https://www.tnhh.net/posts/phone-power.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Today, I looked up how many <a href="https://en.wikipedia.org/wiki/FLOPS">floating point operations per second</a> (FLOPS) that an iPhone can do. It turns out the A14 chip in the iPhone <a href="https://www.forbes.com/sites/moorinsights/2020/10/15/apple-claims-the-iphone-12s-a14-bionic-challenges-laptops-but-gives-no-details/">can do about 11 TFlOPS according to Apple</a>. Let's give Apple the benefits of the doubt and not get too deep into how they got that number, and put it to perspective and compare the iPhone with the <a href="https://en.wikipedia.org/wiki/History_of_supercomputing">Top 500 Supercomputers</a> in the world over the years:</p>
<p><img src="https://www.tnhh.net/assets/posts-images/iphone-vs-supercomputers.png" alt="iPhone vs Supercomputers"></p>
<p>The green line is how much computing power that little phone I'm holding in my hands has. If released in 2009, it would have made it to the list of top 500 supercomputers in the world! It has more computing power than the most powerful computer in the world in 2002. It has the combined computing power of the 1997's top 500 supercomputers in the whole world.</p>
<p>People talked about how the computer on Appolo was so slow. I get it, but I can hardly relate to that. I wasn't born then. However, 2009 was just 12 years ago. I could still remember it vividly. I was a freshman student then.</p>
<p>Reflecting on that, I figured:</p>
<ul>
<li>Something with the form factor and power envelope of the phone alone is already exceedingly powerful. It could potentially do things that humankind couldn't achieve just ten years ago.</li>
<li>On the other hand, I don't need to have the most whizz-bang computer or phone to make programs that do amazing things. Writing programs for older hardware can be a pleasure. Supporting older hardware makes programs I create more accessible to a larger part of the human population.</li>
<li>As a programmer, when I complain about the phone or any computer I have is not powerful enough for whatever I want to do, it's much more likely it's me doing something wrong.</li>
<li>The world changes faster than my mind conceives. I need to be humble about what I know. Things I know to be fast becomes slow sooner than I expect. In the same realm, maybe ideas that I know to be good become bad sooner than I expect. Those ideas are not necessarily limited to technology: Maybe ideas in science, humanities, and society also envolve that way. It is just harder to put into numbers like TFLOPS.</li>
</ul>
<p>We have the most power computer in our pocket. Doing something amazing with that power should constantly be a question on our mind. All that power just to push one more ads is a fucking stupid and disgusting idea.</p>
<hr>

<hr>
</div></div>]]>
            </description>
            <link>https://www.tnhh.net/posts/phone-power.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138069</guid>
            <pubDate>Mon, 15 Feb 2021 01:32:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Simulate I/O Faults at Runtime]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137993">thread link</a>) | @jinqueeny
<br/>
February 14, 2021 | https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime | <a href="https://web.archive.org/web/*/https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img alt="Chaos Engineering - How to simulate I/O faults at runtime" src="https://chaos-mesh.org/assets/images/how-to-simulate-io-faults-at-runtime-39daaf89aa83a5be58402f763db0d5c5.jpg"></p><p>In a production environment, filesystem faults might occur due to various incidents such as disk failures and administrator errors. As a Chaos Engineering platform, Chaos Mesh has supported simulating I/O faults in a filesystem ever since its early versions. By simply adding an IOChaos CustomResourceDefinition (CRD), we can watch how the filesystem fails and returns errors.</p><p>However, before Chaos Mesh 1.0, this experiment was not easy and may have consumed a lot of resources. We needed to inject sidecar containers to the Pod through the mutating admission webhooks and rewrite the <code>ENTRYPOINT</code> command. Even if no fault was injected, the injected sidecar container caused a substantial amount of overhead.</p><p>Chaos Mesh 1.0 has changed all this. Now, we can use IOChaos to inject faults to a filesystem at runtime. This simplifies the process and greatly reduces system overhead. This blog post introduces how we implement the IOChaos experiment without using a sidecar.</p><h2>I/O fault injection<a href="#io-fault-injection" title="Direct link to heading">#</a></h2><p>To simulate I/O faults at runtime, we need to inject faults into a filesystem after the program starts <a href="https://man7.org/linux/man-pages/man2/syscall.2.html" target="_blank" rel="noopener noreferrer">system calls</a> (such as reads and writes) but before the call requests arrive at the target filesystem. We can do that in one of two ways:</p><ul><li>Use Berkeley Packet Filter (BPF); however, it <a href="https://github.com/iovisor/bcc/issues/2336" target="_blank" rel="noopener noreferrer">cannot be used to inject delay</a>.</li><li>Add a filesystem layer called ChaosFS before the target filesystem. ChaosFS uses the target filesystem as the backend and receives requests from the operating system. The entire call link is <strong>target program syscall</strong> -&gt; <strong>Linux kernel</strong> -&gt; <strong>ChaosFS</strong> -&gt; <strong>target filesystem</strong>. Because ChaosFS is customizable, we can inject delays and errors as we want. Therefore, ChaosFS is our choice.</li></ul><p>But ChaosFS has several problems:</p><ul><li>If ChaosFS reads and writes files in the target filesystem, we need to <a href="https://man7.org/linux/man-pages/man2/mount.2.html" target="_blank" rel="noopener noreferrer">mount</a> ChaosFS to a different path than the target path specified in the Pod configuration. ChaosFS <strong>cannot</strong> be mounted to the path of the target directory.</li><li>We need to mount ChaosFS <strong>before</strong> the target program starts running. This is because the newly-mounted ChaosFS takes effect only on files that are newly opened by the program in the target filesystem.</li><li>We need to mount ChaosFS to the target containter's <code>mnt</code> namespace. For details, see <a href="https://man7.org/linux/man-pages/man7/mount_namespaces.7.html" target="_blank" rel="noopener noreferrer">mount_namespaces(7) ‚Äî Linux manual page</a>.</li></ul><p>Before Chaos Mesh 1.0, we used the <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">mutating admission webhook</a> to implement IOChaos. This technique addressed the three problems lists above and allowed us to:</p><ul><li>Run scripts in the target container. This action changed the target directory of the ChaosFS's backend filesystem (for example, from <code>/mnt/a</code> to <code>/mnt/a_bak</code>) so that we could mount ChaosFS to the target path (<code>/mnt/a</code>).
Modify the command that starts the Pod. For example, we could modify the original command <code>/app</code> to <code>/waitfs.sh /app</code>.</li><li>The <code>waitfs.sh</code> script kept checking whether the filesystem was successfully mounted. If it was mounted, <code>/app</code> was started.</li><li>Add a new container in the Pod to run ChaosFS. This container needed to share a volume with the target container (for example, <code>/mnt</code>), and then we mounted this volume to the target directory (for example, <code>/mnt/a</code>). We also properly enabled <a href="https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation" target="_blank" rel="noopener noreferrer">mount propagation</a> for this volume's mount to penetrate the share to host and then penetrate slave to the target.</li></ul><p>These three approaches allowed us to inject I/O faults while the program was running. However, the injection was far from convenient:</p><ul><li>We could only inject faults into a volume subdirectory, not into the entire volume. The workaround was to replace <code>mv</code> (rename) with <code>mount move</code> to move the mount point of the target volume.</li><li>We had to explicitly write commands in the Pod rather than implicitly use the image commands. Otherwise, the <code>/waitfs.sh</code> script could not properly start the program after the filesystem was mounted.</li><li>The corresponding container needed to have a proper configuration for mount propagation. Due to potential privacy and security issues, we <strong>could not</strong> modify the configuration via the mutating admission webhook.</li><li>The injection configuration was troublesome. Worse still, we had to create a new Pod after the configuration was able to inject faults.</li><li>We could not withdraw ChaosFS while the program was running. Even if no fault or error was injected, the performance was greatly affected.</li></ul><h2>Inject I/O faults without the mutating admission webhook<a href="#inject-io-faults-without-the-mutating-admission-webhook" title="Direct link to heading">#</a></h2><p>What about cracking these tough nuts without the mutating admission webhook? Let's get back and think a bit about the reason why we used the mutating admission webhook to add a container in which ChaosFS runs. We do that to mount the filesystem to the target container.</p><p>In fact, there is another solution. Instead of adding containers to the Pod, we can first use the <code>setns</code> Linux system call to modify the namespace of the current process and then use the <code>mount</code> call to mount ChaosFS to the target container. Suppose that the filesystem to inject is <code>/mnt</code>. The new injection process is as follows:</p><ol><li>Use <code>setns</code> for the current process to enter the mnt namespace of the target container.</li><li>Execute <code>mount --move</code> to move <code>/mnt</code> to <code>/mnt_bak</code>.</li><li>Mount ChaosFS to <code>/mnt</code> and use <code>/mnt_bak</code> as the backend.</li></ol><p>After the process is finished, the target container will open, read, and write the files in <code>/mnt</code> through ChaosFS. In this way, delays or faults are injected much more easily. However, there are still two questions to answer:</p><ul><li>How do you handle the files that are already opened by the target process?</li><li>How do you recover the process given that we cannot unmount the filesystem when files are opened?</li></ul><h3>Dynamically replace file descriptors<a href="#dynamically-replace-file-descriptors" title="Direct link to heading">#</a></h3><p><strong>ptrace solves both of the two questions above.</strong> We can use ptrace to replace the opened file descriptors (FD) at runtime and replace the current working directory (CWD) and mmap.</p><h4>Use ptrace to allow a tracee to run a binary program<a href="#use-ptrace-to-allow-a-tracee-to-run-a-binary-program" title="Direct link to heading">#</a></h4><p><a href="https://man7.org/linux/man-pages/man2/ptrace.2.html" target="_blank" rel="noopener noreferrer">ptrace</a> is a powerful tool that makes the target process (tracee) to run any system call or binary program. For a tracee to run the program, ptrace modifies the RIP-pointed address to the target process and adds an <code>int3</code> instruction to trigger a breakpoint. When the binary program stops, we need to restore the registers and memory.</p><blockquote><p><strong>Note:</strong></p><p>In the <a href="https://en.wikipedia.org/wiki/X86_assembly_language" target="_blank" rel="noopener noreferrer">x86_64 architecture</a>, the RIP register (also called an instruction pointer) always points to the memory address at which the next directive is run.
To load the program into the target process memory spaces:</p></blockquote><ol><li>Use ptrace to call mmap in the target program to allocate the needed memory.</li><li>Write the binary program to the newly allocated memory and make the RIP register point to it.</li><li>After the binary program stops, call munmap to clean up the memory section.</li></ol><p>As a best practice, we often replace ptrace <code>POKE_TEXT</code> writes with <code>process_vm_writev</code> because if there is a huge amount of data to write, <code>process_vm_writev</code> performs more efficiently.</p><p>Using ptrace, we are able to make a process to replace its own FD. Now we only need a method to make that replacement happen. This method is the <code>dup2</code> system call.</p><h4>Use <code>dup2</code> to replace file descriptor<a href="#use-dup2-to-replace-file-descriptor" title="Direct link to heading">#</a></h4><p>The signature of the <code>dup2</code> function is <code>int dup2(int oldfd, int newfd);</code>. It is used to create a copy of the old FD (<code>oldfd</code>). This copy has an FD number of <code>newfd</code>. If <code>newfd</code> already corresponds to the FD of an opened file, the FD on the file that's already opened is automatically closed.</p><p>For example, the current process opens <code>/var/run/__chaosfs__test__/a</code> whose FD is <code>1</code>. To replace this opened file with <code>/var/run/test/a</code>, this process performs the following operations:</p><ol><li>Uses the <code>fcntl</code> system call to get the <code>OFlags</code> (the parameter used by the <code>open</code> system call, such as <code>O_WRONLY</code>) of <code>/var/run/__chaosfs__test__/a</code>.</li><li>Uses the <code>Iseek</code> system call to get the current location of <code>seek</code>.</li><li>Uses the <code>open</code> system call to open <code>/var/run/test/a</code> using the same <code>OFlags</code>. Assume that the FD is <code>2</code>.</li><li>Uses <code>Iseek</code> to change the <code>seek</code> location of the newly opened FD <code>2</code>.</li><li>Uses <code>dup2(2, 1)</code> to replace the FD <code>1</code> of <code>/var/run/__chaosfs__test__/a</code> with the newly opened FD <code>2</code>.</li><li>Closes FD <code>2</code>.</li></ol><p>After the process is finished, FD <code>1</code> of the current process points to <code>/var/run/test/a</code>. So that we can inject faults, any subsequent operations on the target file go through the <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace" target="_blank" rel="noopener noreferrer">Filesystem in Userspace</a> (FUSE). FUSE is a software interface for Unix and Unix-like computer operating systems that lets non-privileged users create their own file systems without editing kernel code.</p><h4>Write a program to make the target process replace its own file descriptor<a href="#write-a-program-to-make-the-target-process-replace-its-own-file-descriptor" title="Direct link to heading">#</a></h4><p>The combined functionality of ptrace and dup2 makes it possible for the tracer to make the tracee replace the opened FD by itself. Now, we need to write a binary program and make the target process run it:</p><blockquote><p><strong>Note:</strong></p><p>In the implementation above, we assume that:</p><ul><li>The threads of the target process are POSIX threads and share the opened files.</li><li>When the target process creates threads using the <code>clone</code> function, the <code>CLONE_FILES</code> parameter is passed.</li></ul><p>Therefore, Chaos Mesh only replaces the FD of the first thread in the thread group.</p></blockquote><ol><li>Write a piece of assembly code according to the two sections above and the usage of syscall directives. <a href="https://github.com/chaos-mesh/toda/blob/1d73871d8ab72b8d1eace55f5222b01957193531/src/replacer/fd_replacer.rs#L133" target="_blank" rel="noopener noreferrer">Here</a> is an example of the assembly code.</li><li>Use an assembler to translate the code into a binary program. We use <a href="https://github.com/CensoredUsername/dynasm-rs" target="_blank" rel="noopener noreferrer">dynasm-rs</a> as the assembler.</li><li>Use ptrace to make the target process run this program.
When the program runs, the FD is replaced at runtime.</li></ol><h3>Overall fault injection process<a href="#overall-fault-injection-process" title="Direct link to heading">#</a></h3><p>The following diagram illustrates the overall I/O fault injection process:</p><p><img alt="Fault injection process" src="https://chaos-mesh.org/assets/images/fault-injection-process-581a3b4c6954f9ccb3fc9eb17f45f937.jpg"></p><p> Fault injection process </p><p>In this diagram, each horizontal line corresponds to a thread that runs in the direction of the arrows. The <strong>Mount/Umount Filesystem</strong> and <strong>Replace FD</strong> tasks are carefully arranged in sequence. Given the process above, this arrangement makes a lot of sense.</p><h2>What's next<a href="#whats-next" title="Direct link to heading">#</a></h2><p>I've discussed how we implement fault injection to simulate I/O faults at runtime (see <a href="https://github.com/chaos-mesh/toda" target="_blank" rel="noopener noreferrer">chaos-mesh/toda</a>). However, the current implementation is far from perfect:</p><ul><li>Generation numbers are not supported.</li><li>ioctl is not supported.</li><li>Chaos Mesh does not immediately determine whether a filesystem is successfully mounted. It does so only after one second.</li></ul><p>If you are interested in Chaos Mesh and would like to help us improve it, you're welcome to join <a href="https://cloud-native.slack.com/join/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w#/" target="_blank" rel="noopener noreferrer">our Slack channel</a> or submit ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</a></em></p>]]>
            </description>
            <link>https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137993</guid>
            <pubDate>Mon, 15 Feb 2021 01:22:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ripen Scripting Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137776">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://felix.plesoianu.ro/languages/forth/ripen/index.html | <a href="https://web.archive.org/web/*/https://felix.plesoianu.ro/languages/forth/ripen/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<p>Welcome to Ripen, a stack-based scripting engine with highly readable syntax, that can be implemented with little code and effort in a language like C++ or D. It's informed by RetroForth and PostScript, but diverges from either in important ways, not least due to its string-threaded nature. Surprisingly, Ripen only seems to be about 6 times slower than the host language on a quick test ‚Äî much better than for other language families.

</p><p>Ripen is based on the principles explained in this <a href="https://notimetoplay.org/cgi-bin/wiki/More_about_tiny_scripting_engines"> interpreter construction tutorial</a>. The point is having a tiny engine, easily copy-pasted into any application, even hidden inside a bigger module. For this reason, the default vocabulary is kept small.

</p><h2>Download</h2>

<p>As of 6 December 2019, there are three implementations:

</p><ul>
 <li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.js">browser-based version</a> (embedded above);
 </li><li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.py">original Python prototype</a>;
 </li><li>a <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen-linux-x86_64.zip">native code edition</a> (395K) for 64-bit Linux PCs; includes D source code.
</li></ul>

<p>Ripen is free and open source software under the <a href="https://felix.plesoianu.ro/languages/forth/ripen/LICENSE.txt">Artistic License 2.0</a>.

</p><h2>Overview</h2>

<p>At a basic level, Ripen works like most similar languages:

</p><pre><code>
	? 3 2 + . cr
	5
	 
	ok
	? :squared dup * ;
	ok
	? 3 2 + squared . cr
	25
	 
	ok
</code></pre>

<p>Note the lack of a space after the colon: Ripen doesn't use parsing words, instead relying on sigils to achieve similar functionality. E.g. variables work like this:

</p><pre><code>
	? 3 2 - &gt;a
	ok
	? $a . cr
	1
	 
	ok
</code></pre>

<p>On the minus side, there are no proper quoted strings; words in parentheses are simply joined by a space. Note that the closing paren is a word too, so it <em>must</em> be space-separated itself, on both sides:

</p><pre><code>
	? (  Hello,  world!  ) .
	Hello, world!
	ok
</code></pre>

<p>Speaking of which, comments are C-style instead. They're also executable, so you'll want to leave them on the outside of word definitions:

</p><pre><code>
	? /* s -- */ :say . cr ;
	ok
	? ( Hello, world! ) say
	Hello, world!
	 
	ok
</code></pre>

<p>Last but not least, control structures are inspired by Logo, to make them a lot more readable than in other stack-based languages:

</p><pre><code>
	? 3 2 + 3 2 * &lt; [ ( Yes! ) . ] iftrue
	Yes!
	ok
	? [ $i . cr ] 3 times
	0
	 
	1
	 
	2
	 
	ok
</code></pre>

<p>In the above, square brackets delimit lists of words, that control structures treat as blocks of code. Curly braces are synonymous:

</p><pre><code>
	? { dup * } /squared
	ok
	? 5 squared . cr
	25
	 
	ok
</code></pre>

<p>The reason both are provided is that lists of the same kind can't nest. And yes, that's another way to define words; beware that an older definition by the same name will be overwritten, and the entire script will see the new one right away.

</p><p>Otherwise, Ripen only provides a minimum of vocabulary:

</p><ul>
 <li>arithmetic: +, -, *, /, mod, /mod, negate, abs, min, max, 1+, 1-;
 </li><li>comparisons and logic =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=, and, or, not, true, false;
 </li><li>stack manipulation: drop, dup, over, 2dup, swap, rot, -rot, clear;
</li></ul>

<p>and a few more conveniences. Enter <code>words</code> for a complete list.

</p><p>This page demonstrates how to embed and extend the JS version.

</p></div></div>]]>
            </description>
            <link>https://felix.plesoianu.ro/languages/forth/ripen/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137776</guid>
            <pubDate>Mon, 15 Feb 2021 00:47:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mojolicious 9.0]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137542">thread link</a>) | @peteretep
<br/>
February 14, 2021 | https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/ | <a href="https://web.archive.org/web/*/https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

              <section id="section-1">
                  <p>The Mojolicious Core Team is delighted to announce the release and immediate availability of version 9.0 of the <a href="https://mojolicious.org/">Mojolicious</a> real-time web framework.
Every Mojolicious major release has a <a href="https://docs.mojolicious.org/Mojolicious#CODE-NAMES">code name</a> based on a unicode character and this one is lovingly named "Waffle" üßá!</p>

<p>Every major release I think that there can't be much more to add or change in Mojolicious and then when the next one arrives I reflect on how much has changed since I last thought that.
In <a href="https://metacpan.org/release/SRI/Mojolicious-9.0">9.0</a> there's far too much to discuss each at length, so I'm going to highlight some of my favorites and then include a distilled list of changes since 8.0.</p>

<h2>Perl 5.16 and beyond</h2>

<p>Mojolicious now requires Perl version 5.16. This change gives us useful tools to build Mojolicious including the <code>__SUB__</code> token for building self-referential callbacks without leaking.
We were pleased that the community response since the change a few months ago has been ... well crickets.
This is great news since we do hope to move to Perl 5.20 in the not so distant future so that we can use Perl's native signatures once that is a sound option for us.
We are already encouraging the use of signatures both in the documentation and in our code generation commands.</p>

<h2>Asynchronous Functionality</h2>

<p>Clearly the highlight of the pre-9.0 development cycle has been the integration of Async/Await.
Thanks to Paul Evans (LeoNerd)'s efforts, when you have <a href="https://metacpan.org/pod/Future::AsyncAwait">Future::AsyncAwait</a> installed Mojolicious can use its new keywords <code>async</code> and <code>await</code> to provide the most seamless asynchronous development possible, something that is becoming more and more the standard for asynchronous code in other languages.
Writing a non-blocking endpoint is now as simple as</p>

<pre><code>use Mojolicious::Lite -signatures, -async_await;

# Request HTML titles from two sites non-blocking
get '/' =&gt; async sub ($c) {
  my $mojo_tx    = await $c-&gt;ua-&gt;get_p('https://mojolicious.org');
  my $mojo_title = $mojo_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;
  my $cpan_tx    = await $c-&gt;ua-&gt;get_p('https://metacpan.org');
  my $cpan_title = $cpan_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;

  $c-&gt;render(json =&gt; {mojo =&gt; $mojo_title, cpan =&gt; $cpan_title});
};

app-&gt;start;
</code></pre>

<p>When I teach non-blocking to people I can now tell them to follow a trivial recipe for most non-blocking tasks.
Simply <code>await</code> any function that returns a promise and mark any function that uses <code>await</code> with the <code>async</code> keyword.
Note also that all <code>async</code> functions return promises so <code>await</code> any calls to them.
There are some optimizations you can make at times and top-level <code>await</code> (if you aren't in a Mojolicious webapp) can be a little strange but to a first approximation that's all you need to write a non-blocking webapp today!</p>

<p>Speaking of promises (which are at the heart of Async/Await), Mojo::Promise has grown a lot this cycle too, adding <code>all_settled</code>, <code>any</code>, <code>map</code>, <code>timer</code>, and <code>timeout</code> class methods, changing its constructor to be more like the one in JavaScript and to warn when an unhandled rejected promise is destroyed.
The latter can help in development where such cases used to hide errors, now, much like the browser, you can at least find where things are going wrong even if you didn't wire all your promises to a catch callback like you should.</p>

              </section>
              <section id="section-2">
                  <h2>Focus on Containerization and Cloud Deployments</h2>

<p>The Mojolicious Core Team is aware that more and more deployments are in containers and cloud services these days and we've been thinking of ways to make that easier.
With 9.0 we've added two new features specifically designed to help with these types of deployments.</p>

<p>Most existing applications assume a standard deployment by an unprivileged user behind a reverse proxy, but with new deployment strategies the number of configurations an application might expect are too numerous to expect each application to support.
To address this we've added support for <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Deployment-specific-plugins">deployment specific plugins</a> that help you add deployment-level functionality to existing applications.
Now the deployer is in control of these features, rather than needing to ask the application author to add support.</p>

<p>We've also extended the existing <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Reverse-proxy">reverse proxy</a> support to allow for multiple trusted proxies, specifically when you know what the expected IP address or CIDR network you're expecting proxy requests from.
This can be useful both when deploying from say Kubernetes where it is likely you'll have several layers of local proxies, or when you're behind a third-party proxy like CloudFlare, who publish a list of their proxy networks.
This is an important safety feature in these situations, blindly trusting forwarding headers can lead to <a href="https://twitter.com/logicbomb_1/status/1354452751619559428">big problems</a>.</p>

<p>Also, we've noticed that many cloud deployment tools are based on YAML, so we've added a YAML configuration file loader to our existing Perl and JSON configuration loaders.
Because YAML is a tricky target and because ours is technically not-quite-YAML, we've called ours cheekily <a href="https://docs.mojolicious.org/Mojolicious/Plugin/NotYAMLConfig">NotYAMLConfig</a>.
In the unlikely event that that distinction should matter for your needs, you can load a specific YAML module from CPAN.</p>

<p>But it isn't just functionality, we've added a Dockerfile generation (<code>myapp generate dockerfile</code>) and added a Container <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Containers">Cookbook recipe</a> to the documentation.
We've also added a <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Envoy">Cookbook recipe</a> for the popular cloud-native proxy <a href="https://www.envoyproxy.io/">Envoy</a>.
If you have other common container or cloud recipes that you think should be added, please let us know!</p>

<h2>Documentation Improvements</h2>

<p>Speaking of documentation, you might have noticed that both our <a href="https://docs.mojolicious.org/">documentation site</a> and <a href="https://twitter.com/perlmojo/status/1343932370106392577/photo/1">built-in templates</a> for 404 and 500 pages have gotten a face lift.</p>

<blockquote><p dir="ltr" lang="en">The Mojolicious 8.69 release brings redesigned exception and not_found pages with a fresh new look, enjoy. <a href="https://t.co/MHzvYnBJJw">pic.twitter.com/MHzvYnBJJw</a></p>‚Äî Mojolicious (@perlmojo) <a href="https://twitter.com/perlmojo/status/1343932370106392577?ref_src=twsrc%5Etfw">December 29, 2020</a></blockquote>



<p>They're even prettier and easier to read than before, they're responsive, and they have a newer code library (highlight.js) to better render our code.
Further the documentation site is now redeployed immediately on any push to master of the website or the main Mojolicious projects, <code>mojolicious</code>, <code>mojo-pg</code>, and <code>minion</code>, so that you always have the most up-to-date docs at your fingertips.</p>

<p>Along with the container and cloud-native changes I've already highlighted, we have updated our documentation to use of upcoming Perl native signatures throughout and paired it with updating our <code>app</code> and <code>lite-app</code> generators to generate applications with signatures too.</p>

<h2>Routing (and Rendering)</h2>

<p>The routing engine is an often overlooked part of a web framework but it really is at the heart of everything that it does.
It can also be a source of confusion or frustration, especially when it doesn't do what you expect.
For 9.0 we've made the router both safer and more closely aligned to user expectations.</p>

<p>The biggest change is that Mojolicious now prevents applications from using reserved placeholders in routes.
This was originally considered a "feature" because it allowed very terse route definitions for quick apps, but in practice most people that understood how that worked just used the long form while unsuspecting newcomers would trip on it from time to time.
We've also made several cases throw exceptions when routing would fail that used to fail silently or unexpectedly.
When a route points to a missing controller, a namespace without a controller or a controller without an action, you now get an exception rather than a 404, which would often confuse people.
Additionally, you get an exception when when auto-rendering fails or a call to render cannot render a response, which would appear to hang (while it actually was trying to wait for a delayed response that was never going to happen).</p>

<p>We've even simplified some of the routing method names themselves.
We've removed the lesser-used <code>detour</code> and <code>route</code> methods in favor of the more generic <code>any</code> method.
We've renamed method that designates which HTTP methods to respond to (usually when picking several but not all of them, e.g. <code>GET</code> and <code>POST</code> but not <code>any</code>) from <code>via</code> to <code>methods</code>.
We've also renamed the method that designates conditional routing from <code>over</code> to <code>requires</code>.
I'm especially excited about this one since <code>over</code> implied a contrast with the commonly used <code>under</code> method, where no such contrast is meant to be implied; they do very different things.</p>

<h2>Logging</h2>

<p>The big one for me is that Mojolicious now is capable of sanely using a contextual logger!
Mojolicious applications have a <code>log</code> attribute that holds a <code>Mojo::Log</code> instance, however that logger is global to the application and any context you'd want to add is only for a given request/response cycle.
Unlike blocking frameworks, a Mojolicious app might switch between several requests before any are rendered, meaning manually keeping context attached to that global logger was nearly impossible.
With 9.0 we now have the ability to use a per-controller "child" logger which descends from the global logger and still logs via it, but can keep its own context information.
It feeds that information to its parent when you log from it.</p>

<p>By default, these child loggers now have a random request id attached to it, however you can put whatever context you'd like to add there.
You can also pass these loggers (themselves an instance of <code>Mojo::Log</code>) to models or other code that might want to log with that context attached.</p>

<p>We've also improved logging performance in cases where generating the log message is expensive and useless if the log level means that the log message is not emitted.
If you pass a closure (code reference) to the logger's <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, and <code>fatal</code> methods and the logger will only invoke that closure if the log level check is met.
In fact this improved Mojolicious' own performance metrics by 10%!</p>

<pre><code>$c-&gt;log-&gt;debug(sub{ 'Thought you might want to know: ' . generate_expensive_log_output() });
</code></pre>

<p>Please note that we have changed the log format slightly so be aware if you care about such things.</p>

<p>And to simplify things, we've removed the confusing behavior of logging to a ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</a></em></p>]]>
            </description>
            <link>https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137542</guid>
            <pubDate>Mon, 15 Feb 2021 00:08:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tianwen-1 plane change planning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136993">thread link</a>) | @parsecs
<br/>
February 14, 2021 | https://destevez.net/2021/02/tianwen-1-plane-change-planning/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/tianwen-1-plane-change-planning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9660">

	

	<div>
		
<p>Today, the Chinese media published a short piece of news stating that tomorrow, 2021-02-15, <a href="https://weibo.com/2803301701/K1Txro221?type=comment">Tiawen-1 will make make a plane change to a polar orbit</a>. The post is accompanied by an short video, which includes an animation depicting the manoeuvre. A screenshot of the video is shown below. As the spacecraft arrives to apoapsis, it effects a plane change into an ascending polar orbit.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png"><img width="644" height="343" src="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png 644w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-300x160.png 300w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-768x409.png 768w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png 1020w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Tianwen-1 plane change manoeuvre. Source <a rel="noreferrer noopener" href="https://weibo.com/rmrb" target="_blank">‰∫∫Ê∞ëÊó•Êä•</a> in <a href="https://weibo.com/2803301701/K1Txro221?type=comment">weibo.com</a></figcaption></figure>



<p>This is a good moment to review the maths behind a plane change manoeuvre and compute what the manoeuvre will look like.</p>



<p>Basically, a plane change involves changing the direction of the <a href="https://en.wikipedia.org/wiki/Specific_angular_momentum">specific angular momentum vector</a> \(h = r \times v\), which is one of the conserved quantities of a Keplerian orbit, and is orthogonal to the orbital plane. Understanding a plane change in terms of the angular momentum shows that it‚Äôs best to perform the plane change at apoapsis, when \(r\) is largest, and so the same thrust force produces more <a href="https://en.wikipedia.org/wiki/Torque">torque</a>, due to the larger lever arm.</p>



<p>If we perform a plane change at a certain point \(r\) along the orbit, the final angular momentum \(h_1 = r \times v_1\) will be orthogonal to \(r\). In other words, \(r\) must still lie in the final orbital plane. So the only thing that we can do is rotate the orbital plane along the axis \(r\). For a plane change at the apoapsis, we are limited to swinging the orbital plane along the <a href="https://en.wikipedia.org/wiki/Apse_line">line of apsides</a>.</p>



<p>If we denote initial quantities with the subscript 0 and final quantities with the subscript 1, we have \(h_1 ‚Äì h_0 = r \times (v_1 ‚Äì v_0)\). For a plane change at apoapsis, \(r\) and \(v\) are orthogonal, and so we see that the change in angular momentum \(h_1 ‚Äì h_0\) and the delta-V \(\Delta v = v_1 ‚Äì v_0\) are related by a factor of \(\|r\|\) and a 90¬∫ rotation. Thus, it is possible to plan the manoeuvre with angular momentums, and then easily translate the result into delta-V. For the general case in which \(r\) and \(v\) are not orthogonal, a similar procedure can be applied, since we are only interested in the projection of \(v\) onto the plane orthogonal to \(r\).</p>



<p>Denoting by \(\alpha\) the angle between \(h_0\) and \(h_1\) and assuming that we only want to change the direction of the angular momentum but not its magnitude, we have\[\|h_1-h_0\| = \|h_0\| \sqrt{2 (1-\cos \alpha)}.\]</p>



<p>In order to compute the angle \(\alpha\), let us consider the following geometric scenario. Denote by \(\delta\) the angle between a certain vector \(h\) and the \(xy\)-plane, and by \(\beta\) the angle between \(r\) and the \(z\)-axis. Let us consider the rotation of the vector \(h\) about the axis given by \(r\), and let \(\gamma\) be the angle of the rotation that brings \(h\) into the \(xy\)-plane. Then we have\[\sin \delta = \sin \gamma \sin \beta.\]Applying this to \(h = h_0\), we see that \(\delta = \pi/2 ‚Äì i_0\), where \(i_0\) denotes the initial inclination. Thus,\[\cos i_0 = \sin \gamma_0 \sin \beta.\]We can write the same equation for the final angular momentum \(h_1\), and since in this case we are interested in achieving a polar orbit with \(i_1 = \pi/2\), we obtain\[0 = \sin \gamma_1 \sin \beta,\]which implies \(\gamma_1 = 0\). In the general case in which the final orbit is not polar the calculations are more involved, but the same procedure can be used.</p>



<p>Now, the angle \(\alpha\) is basically \(|\gamma_0 ‚Äì \gamma_1|\) (some care should be taken with the signs here), because \(\gamma_0\) and \(\gamma_1\) are rotations of the vectors \(h_0\) and \(h_1\) on the plane orthogonal to \(r\), on which both of these vectors lie, and so that the result of these rotations gives the same vector (namely the intersection of the plane orthogonal to \(r\) and the \(xy\)-plane). Therefore, a rotation of angle \(\pm|\gamma_0 ‚Äì \gamma_1|\) transforms \(h_0\) in \(h_1\). In the case of a final polar orbit we have\[\sin \alpha = \frac{\cos i_0}{\sin \beta}.\]</p>



<p>A more direct method of calculation of the required delta-V is given in the <a href="https://en.wikipedia.org/wiki/Orbital_inclination_change#Calculation">Wikipedia article about plane change manoeuvres</a>, but I think that this way of working can give more geometric insight, even if it is a longer procedure.</p>



<p>Let us now work with the orbit of Tianwen-1. For this planning exercise, I have started with my <a href="https://twitter.com/ea4gpz/status/1359433349018882050">planning of the Mars orbit insertion burn</a>. The initial state vector comes from before the burn (and was given in <a href="https://destevez.net/2021/02/tianwen-1-mars-centric-state-vectors/" data-type="post" data-id="9635">this post</a>). I have adjusted the start of the burn to 11:52:55 UTC to match the timing we saw in <a href="https://www.youtube.com/watch?v=1myQ5tIig0w">AMSAT-DL‚Äôs livestream from Bochum</a> (taking into account 641 seconds of light-time delay), and the duration of the burn to 888 seconds so as to give an orbital period very close to 10 days, as given in this <a href="http://www.cnsa.gov.cn/n6758823/n6758838/c6811243/content.html">official statement from CNSA</a> about the success of the Mars orbit insertion. The period given there is certainly rounded rather than exact, but for this planning exercise we don‚Äôt need the exact period, since we are more interested in computing the required burn rather than in knowing exactly when is the apoapsis passage.</p>



<p>In fact, an error in the orbital period will give a proportional error in the apoapsis radius, and hence in the required delta-V, but all the remaining geometrical parameters will be very similar. It is important to remark that even though burning exactly at apoapsis minimizes the delta-V, the radius \(r\) changes quite slowly around apoapsis, so it is possible that the burn will happen several hours away from apoapsis, favouring other conditions such as groundstation availability. For this manoeuvre, unlike for the Mars orbit injection, timing is not very critical, so it is difficult to be sure of exactly when it will be done.</p>



<p>In <a href="http://gmat.sourceforge.net/docs/">GMAT</a>, we can see that after Mars orbit insertion the angular momentum is 17658 km¬≤/s, and the inclination is 11 degrees (matching the inclination of the incoming hyperbolic orbit). We still need to compute the angle \(\beta\) between the vector \(r\) at apoapsis and the \(z\)-axis. This can be done by using the apoapsis radius, which is 182602 km, and the \(z\) component of the position at apoapsis, which is -31427 km. With these values we get \(\beta = 100\ \mathrm{deg}\). Using the formula above we get that the angle \(\alpha\) that the angular momentum needs to rotate is 85.24 degrees. Note that this angle is larger than the change in inclination, which is 79 degrees. This always happens when the burn is not at the <a href="https://en.wikipedia.org/wiki/Orbital_node">line of nodes</a>.</p>



<p>The fact that \(\alpha\) is smaller than 90 degrees can justify that the plane change will be made in an ascending direction. A plane change to the same polar orbit but in a descending direction could be done by using \(-h_1\) instead of \(h_1\). In that case the angle \(\alpha\) would be 94.76 degrees, and so the burn will be slightly more expensive.</p>



<p>Using one of the formulas given above, we get\[\|h_1 ‚Äì h_0\| = 1.354 \|h_0\| = 23916\ \mathrm{km}^2/\mathrm{s}.\]Dividing by the apoapsis radius, we get\[\|\Delta v\| = \|h_1 ‚Äì h_0\|/\|r\| = 130.97\ \mathrm{m}/\mathrm{s}.\]</p>



<p>Now that we know the magnitude of the delta-V, the next question is how to write the delta-V vector. Usually these are written in a VNB coordinate frame. In this case, the delta-V will lie in the VN-plane, since \(v\) and \(r\) are orthogonal. Knowing that the angle between \(v_0\) and \(v_1\) is \(\alpha\) and that the unit vector \(V\) of the VNB frame points along \(v_0\), we see that\[v_1 = (\cos \alpha V + \sin \alpha N)\|v_0\|,\]so that\[v_1 ‚Äì v_0 = ((\cos \alpha ‚Äì 1) V + \sin \alpha N)\|v_0\|.\]</p>



<p>For Tianwen-1, we have \(\|v_0\| = 93.7\ \mathrm{m}/\mathrm{s}\), so the (V,N) coordinates of \(\Delta v\) are (-88.69, 96.37) m/s. Plugging these numbers as an impulse burn at apoapsis in GMAT, we see that the calculations are correct and the inclination of the resulting orbit is very close to 90 degrees, while the magnitude of the angular momentum has been maintained. The two figures below show the results of this impulse burn propagated to the next periapsis.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (perspective view)</figcaption></figure>



<p>To compute the burn time \(T\) for a finite burn that achieves the required delta-V, we use\[T = \frac{v_e m_0}{F} (1 ‚Äì \exp(-\|\Delta v\|/v_e)),\]where \(v_e = 3154\ \mathrm{m}/\mathrm{s}\) is the exhaust speed of the thrusters, and the thrust \(F\) is 3kN. This gives 153.12 seconds. To enter the finite burn in GMAT it is also necessary to compute the direction of the delta-V vector in inertial coordinates. The VNB frame can‚Äôt be used, since it will change throughout the burn. This is easy to do, by using the values of \(r\) and \(v_0\) in the Mars inertial frame in order to compute the coordinates of V and N in this frame. The resulting orbit after performing this burn has almost the same angular momentum as the original orbit and an inclination close to 90 degrees, showing that our calculations are correct.</p>



<p>The figures below show the finite burn. They are almost identical to those of the impulse burn. The finite burn is marked with a yellow trace, but this can‚Äôt be seen because the spacecraft travels a short distance during the burn, in contrast to the Mars orbit insertion, where the velocity was much higher.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (perspective view)</figcaption></figure>



<p>This burn will spend 145.6 kg of fuel. According to our estimates for the fuel spent throughout the mission, only 45 kg of fuel will remain afterwards. This seems a bit low, so it is possible that our estimates have been too pessimistic, and the amount of remaining fuel will be closer to 100 kg.</p>



<p>Planning ahead, according to <a href="https://www.researchgate.net/publication/318234916_Overview_of_China%27s_2020_Mars_Mission_Design_and_Navigation">this article</a>, the apoapsis will then be lowered to achieve a parking orbit with period of around 2 days, from which the lander will be released. Finally, the orbiter will move to the remote sensing orbit, which is an 8 hour circular polar orbit. Note that part of the information in that article seems outdated. It mentions that ‚ÄúBecause the landing area is selected in the low-latitude zone‚Äù. However, the landing location is expected to be <a href="https://en.wikipedia.org/wiki/Utopia_Planitia">Uto‚Ä¶</a></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/">https://destevez.net/2021/02/tianwen-1-plane-change-planning/</a></em></p>]]>
            </description>
            <link>https://destevez.net/2021/02/tianwen-1-plane-change-planning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136993</guid>
            <pubDate>Sun, 14 Feb 2021 22:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I exploited existing YouTube videos with a fake Patreon profile]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 43 (<a href="https://news.ycombinator.com/item?id=26136708">thread link</a>) | @lucas03
<br/>
February 14, 2021 | https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/ | <a href="https://web.archive.org/web/*/https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I am watching a lot of investing videos on youtube recently. I like to watch them while I eat, or they play in the background while I do something else. I assume that even though I don‚Äôt pay enough attention, interesting info catches my attention. I noticed there are a lot of great videos, and I thought of a way how I could exploit that. In this short text, I‚Äôll try to explain my black hat idea and if it worked.</p>



<p>I was looking for a call/put options youtube videos, as I realized <a href="https://www.lucas03.com/trading212">trading212</a> claims they pay up to 1000$ per registered user. I do invest in <a href="https://www.digrin.com/" target="_blank" title="https://www.digrin.com/">dividend stocks</a> and I like trading212 for that, but there is 0$ commission for referred accounts. I stumbled upon <a href="https://www.youtube.com/watch?v=zoFFD2EGMlg" target="_blank">this video</a> (Investing ‚Äì How I Earn $12 a Month in Dividends EASY!) from 2017 and I noticed a Patreon link there. </p>



<p><img src="https://monosnap.com/image/fb9Ccw7qEsGVYOKATw75W5RlvdRgqF" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>Youtuber <strong>DrUnlimited has 103k subscribers</strong> and the last video was posted 11 months ago. It tells me it‚Äôs an inactive account, and it‚Äôs a shame because some really good old videos are no longer viewed that much.<strong> I noticed patreon link is dead, and that DrUnlimited no longer used Patreon link in his last videos.</strong> That tells me you just tried out Patreon and gave up on it soon after.</p>



<p>Which got me thinking, can this be exploitable? Could I just find similar videos, where there were Patreon links that are no longer in use and I could claim them? I think there must be a tone if they were similar accounts (youtuber tried it in the past, but didn‚Äôt find enough patreons so he abandoned it, but never updated old videos). Well, there is only one way to find out. </p>



<p><strong>I tried to claim techcrackhouse on Patreon</strong>. I never used Patreon, so I was not familiar with the service. I created an account and within few seconds I knew this could work. I created a very simple Patreon page with a screen from the youtube channel within few minutes:</p>



<p><img src="https://monosnap.com/image/tPkZn4IMavztk4I9qaxTyhkSZ1pVYD" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>I tried to do a very simple page. Cover image from youtube, no promises on VIP content or any other upside from being a patreon. The only thing I did, was to add a 3$ a month membership and select ‚Äúgeneral support‚Äù.</p>



<figure><img src="https://monosnap.com/image/VDQAnLvKC6GD7njZ5J9xs15VVlPXEM" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>To publish a Patreon page, I had to write a 100 chars description. I didn‚Äôt want to spend time on it, so you can tell it should not motivate anyone to pay monthly payment:</p>



<p><img src="https://monosnap.com/image/PUxiPW15XghP7kbhcbBcDLPdB4MhlZ" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>That‚Äôs the <a href="https://monosnap.com/file/SFUKzVUGpjO0x7VYVuoW352EXJzXSl" target="_blank">whole patreon page</a>. I was done within half an hour on 31 of January 2021. I did not expect much, but I thought this would be interesting if that works out. And guess what? You won‚Äôt believe what email I got just 2 weeks later, on 13. February 2021:</p>



<p><img src="https://monosnap.com/image/FAxjlJ4yBrUEp9zdkjH1XoGACcZM85" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>It got me thinking how this deceiving tactic can work that easily. <strong>I‚Äôve spent literary 1 hour on it, didn‚Äôt try to do a proper Patreon page and still got to 3$ MRR</strong>. I‚Äôve been developing <a href="https://www.digrin.com/" target="_blank">digrin.com</a> for over 6 years in my free time, and I have just a few paying users. </p>



<p>So, this worked. If I would not mind recycling these old Patreon links from youtube videos, I think that can be a pretty profitable business and it provides monthly income! (I like the subscription model) If I could get a Patreon within 2 weeks after 1 hour of work, what could I get to after spending weeks doing this? What if I find bigger youtube channels? I could write scrapers for youtube (though scraping google is probably not that easy), I could use tools like <a href="https://www.lucas03.com/seoprofiler">seoprofiler</a> to find links to Patreon return 404 and recycle those pages. This plan could be pretty profitable!</p>



<p>But‚Ä¶</p>



<p>I am already sharing this with the world. I might have broken Patreon‚Äôs terms and conditions doing this. <strong>I don‚Äôt want to make money by deceiving people and parasitize on content creators.</strong> So I wrote it down, hope Patreon will block recycling Patreon pages. I‚Äôll put down my fake Patreon page right now and will also refund my single Patreon. Hope your 3$ will find better use!</p>

	</div></div>]]>
            </description>
            <link>https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136708</guid>
            <pubDate>Sun, 14 Feb 2021 22:05:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Warning to Users of NurseryCam]]>
            </title>
            <description>
<![CDATA[
Score 134 | Comments 57 (<a href="https://news.ycombinator.com/item?id=26136667">thread link</a>) | @carwyn
<br/>
February 14, 2021 | https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/ | <a href="https://web.archive.org/web/*/https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>This blog post is intended for a less technical audience ‚Äì specifically parents and nurseries using the NurseryCam system.</p>
<p><a href="https://www.nurserycam.co.uk/index.php">NurseryCam</a> is a camera system that is installed in nurseries, allowing parents to view their children remotely. There are <a href="https://www.google.com/search?q=inurl:nursery+nurserycam">tens of nurseries</a> stating that they use this system. News articles go back as far <a href="http://news.bbc.co.uk/1/hi/england/somerset/3569866.stm">as 2004</a>.</p>
<p>Serious security issues have been found in the system. The <a href="https://www.nurserycam.co.uk/web_cam_security.htm">statements that NurseryCam</a> make about the security of their system do not align with reality.</p>
<p>These issues would allow any parent, past or present, to access the video feeds from the nursery. There is also the chance that anyone on the Internet could have accessed them.</p>
<p>I am a full-time security consultant who specialises in the security of the Internet of Things, including camera systems. The issues with NurseryCam are about as serious as it gets. NurseryCam were informed of these as early as February 2015 ‚Äì 6 years ago.</p>
<h2>The System</h2>
<p>A Digital Video Recorder (DVR) is installed in the nursery, connected to cameras. These are like normal CCTV DVRs, used across thousands of businesses and homes in the UK.</p>
<p>The DVR has a web interface that can be viewed in a browser, but it would normally only be possible to view this when you are connected directly to the nursery‚Äôs network. This is because the DVR is behind the router‚Äôs firewall.</p>
<div id="attachment_5044"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png" alt="" width="646" height="409" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png 1024w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-300x190.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-768x487.png 768w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png 1030w" sizes="(max-width: 646px) 100vw, 646px"></a></p><p>Without port forwarding,the DVR cannot be accessed.</p></div>
<p>To allow the DVR to be viewed remotely, something called port forwarding is used. This opens a hole in the nursery‚Äôs firewall, allowing the DVR to be accessed from the Internet.</p>
<div id="attachment_5045"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png" alt="" width="993" height="632" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png 993w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-300x191.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-768x489.png 768w" sizes="(max-width: 993px) 100vw, 993px"></a></p><p>Port forwarding allows access to the DVR from the Internet</p></div>
<p>To log in to the DVR, you need to know the username, password, and IP address.</p>
<p>When a parent wants to view the cameras, they log in to the NurseryCam website or mobile application. In the background, the parent is given the details for the DVR, including the username and password.</p>
<div id="attachment_5046"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png" alt="" width="537" height="434" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png 537w, https://cybergibbons.com/wp-content/uploads/2021/02/Untitled-300x242.png 300w" sizes="(max-width: 537px) 100vw, 537px"></a></p><p>The normal log in procedure for a parent</p></div>
<p>The parent then establishes a direct connection to the DVR, allowing them to view the camera.</p>
<h2>The Issues</h2>
<p>For all parents connecting to a given nursery, they are given the same username and password for the DVR. In the examples I have been shown, the username is <em>admin</em> and the password are obvious words followed by 888.<em><br>
</em></p>
<p>This means that the parents, past and present, have all been given the administrator password for the DVR.</p>
<p>There are no indications that this password changes over time.</p>
<p>There is no need for the parent to login to the NuseryCam website to access the DVR.</p>
<div id="attachment_5047"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png" alt="" width="283" height="277"></a></p><p>There is no need to login to the NurseryCam servers to login to the DVR</p></div>
<p>With these details, the parent could connect directly to the DVR at any time of the day, view it for however long they want, and view all of the cameras, including ones you have not given them permission to view.</p>
<p>You can lock or delete the parent account on the NurseryCam website, but the username and password for the DVR will not change.</p>
<p>There is no way to stop the parent from logging into the DVR directly.</p>
<p>Anyone logging into the DVR would be seen as the admin user. It would be incredibly difficult for a nursery to determine if the login was from a genuine parent or someone else.</p>
<p>To make matters worse, the connection to the DVR is using HTTP, not HTTPS. It is unencrypted, allowing someone to eavesdrop on the video feed, username, and password.</p>
<h2>The Risks</h2>
<p>Any given parent for a given nursery could login to the DVR and view any and all cameras.</p>
<p>This could include:</p>
<ol>
<li>A current parent viewing cameras for longer than they are meant to.</li>
<li>A current parent viewing cameras that they are not entitled to, such as rooms their child does not use.</li>
<li>A parent whose child no longer attends the nursery viewing the cameras.</li>
<li>Any parent who has been prevented from accessing the system (e.g. separation, abuse) viewing the cameras.</li>
</ol>
<p>Worse still, because the password for the DVRs is common across multiple nurseries and <a href="https://www.google.com/search?q=site%3Anurserycam.co.uk+nurserycam888">openly documented</a> on NurseryCam‚Äôs website, there is the potential for <strong>anyone</strong> on the Internet to access the DVR.</p>
<div id="attachment_5063"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png" alt="" width="992" height="909" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png 992w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-300x275.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-768x704.png 768w" sizes="(max-width: 992px) 100vw, 992px"></a></p><p>Port forwarding does not restrict connections to be from parents ‚Äì anyone can access the DVR</p></div>
<p>The only missing piece of the puzzle is the IP address of the nursery. It would be possible to scan the entire of the UK for DVRs using this username and password in a matter of days.</p>
<p>Staff at NurseryCam would know the password and be able to access the DVRs without restriction.</p>
<h2>The Discrepancies</h2>
<p>NurseryCam <a href="https://www.nurserycam.co.uk/web_cam_security.htm">state</a> that their system is ‚Äúsafer than online banking‚Äù.</p>
<p>This is certainly not the case with the system seen here.</p>
<p>A common, shared, and openly documented login for the DVRs is passed to each parent.</p>
<p>There is no encryption used. There are no VPNs.</p>
<p>This is analogous to your local bank giving you the keys to their vault and just trusting that you will only take your money.</p>
<p>The same claims are repeated across multiple nursery websites.</p>
<h2>The Disclosure</h2>
<p>When security researchers find problems like this, we try to report them to the company so that they can be fixed.&nbsp; The aim is to keep users of the system safe. We call this disclosure.</p>
<p>I reported these to NurseryCam on <strong>6th February 2021</strong>.</p>
<p>On <strong>12th February 2021</strong>, I blogged about these initial concerns and Tweeted them.</p>
<p>Former parents reading my Twitter feed got in touch, with one parent confirming that they had informed NurseryCam of almost identical issues in <strong>February 2015</strong> ‚Äì six years ago.</p>
<p>Even six years ago, the claims made about security did not line up with reality.</p>
<p>They have been aware of serious security issues for 6 years and have not fixed them.</p>
<h2>How were these found?</h2>
<p>The NurseryCam Android mobile application was downloaded and then examined. By viewing the code, it was possible to see how the system operates.</p>
<p>Several parent users of the system have contacted me. They confirmed that the system operated as I suspected and that the DVR usernames and passwords were the same each time they logged in.</p>
<p>There has been no attempt to hack NurseryCam webservers.</p>
<p>These issues were trivial to uncover, taking no more than 15 minutes.</p>
<h2>What should you do?</h2>
<p>In my professional opinion, you cannot quickly fix a system that is this badly broken. You also cannot regain the trust that has been lost by selling a product that is described so inaccurately.</p>
<p>If you, as a nursery, operate one of these systems:</p>
<ol>
<li>Unplug the network connection from the DVR.</li>
<li>Contact NurseryCam and ask that they inform all impacted nurseries immediately.</li>
<li>Ask why the system you have been paying for isn‚Äôt the one that is described on the NurseryCam site.</li>
</ol>
<p>If you are a parent, I would advise contacting your nursery and request that they carry out the above steps.</p>
<h2>Inadequate Fixes</h2>
<p>Changing the username and password for the DVR is not a genuine fix ‚Äì the username and password are still sent to the parents.</p>
<p>Adding encryption to the connections is not a fix ‚Äì the username and password are still sent to the parents.</p>
<h2>My Opinion</h2>
<p>These issues are obvious and fundamental. They should not have existed in the first place.</p>
<p>Without the system being almost completely redesigned, it is hard to see how it can be secured adequately.</p>
<p>I have not tested their website, or looked at any of their other security practices.</p>
<p>Ask yourself if you could ever trust this company again with children‚Äôs data.</p>









			</div></div>]]>
            </description>
            <link>https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136667</guid>
            <pubDate>Sun, 14 Feb 2021 22:00:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What ever happened to scandium bike frames? (2016)]]>
            </title>
            <description>
<![CDATA[
Score 88 | Comments 51 (<a href="https://news.ycombinator.com/item?id=26136608">thread link</a>) | @dfgdghdf
<br/>
February 14, 2021 | https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html | <a href="https://web.archive.org/web/*/https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136608</guid>
            <pubDate>Sun, 14 Feb 2021 21:51:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do we write design documents?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136422">thread link</a>) | @declanhaigh
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Starting a greenfield project is loads of fun, but you can‚Äôt avoid
the dentist‚Äôs appointment indefinitely and at some point you will have to write
that design document your boss expects to see on their table. Despite the fact that most people
learned how to write in childhood, more often than not they are struggling
when it comes to writing lengthy documents. The big blank page is daunting
and it‚Äôs hard to get into the mood for writing, because it‚Äôs time consuming and
not as fun as programming.</p><p>How do I even start explaining what we are trying to build when I don‚Äôt have
the slightest clue about the thing we are building?
It‚Äôs just an API this middle manager put me in charge of,
why would I waste my time with writing the design document when by the
time I am finished writing I could already have the API up and running?</p><p>If the API is so simple that even a kid can understand its purpose, isn‚Äôt writing a few
pages about it a trivial thing to do? I am sure you can solve a primary school‚Äôs math
problem without breaking a sweat, so why would you struggle with
filling the paper when it comes to describing the behavior of the API?</p><p>This writing block usually happens when you don‚Äôt know enough about the problem
that you are trying to solve. If you worked on the large project for a prolonged
period, your brain is most likely filled with details and problems surrounding that
project. If you were to write them down you could probably fill thick books,
nevertheless very few people are able to do that at the beginning of their project.
Their minds are as blurry as is their API design.</p><p>Essayist are writing their essays, because the act of writing helps
them to think and form their thoughts. They operate at the levels of thinking where
their brain can no longer process those thoughts, so they have to write them down before they
disappear in the cobwebs of their mind.</p><p>Everybody was staring into that direction, because they were standing on the so and so‚Äôs
shoulders. Lo and behold, we stared in the wrong direction and the only reason why that was discovered
was due to the ramblings of some essayist who was thinking through their writing.
That doesn‚Äôt mean that everybody who is forming their thoughts through writing
is worth reading about. Lots of writing finds its best use as a toilet paper,
so if reading these words induce some bowel movements you know what your next
steps should be.</p><p>I mostly see two reasons why larger projects demand writing a design document and other
kinds of paperwork bureaucracy. The first reason has educational purposes and
is there to produce some kind of guidance documentation that the rest of the team can rely on
during the actual development. It answers, or rather it should answer common questions and provide
general guidance on how to go about solving the problem.</p><p>Less discussed part of the secrets behind writing the design document is to
solve the same problem that the essayists discovered hundreds of years ago.
Sometimes the problems are so hard that they simply can‚Äôt be
solved only within your brain and you have to expand your brain power by offloading
the thinking process to paper.</p><p>When you start designing a new project, your mind is usually a spaghetti mess of questions.
What is the problem? Which technology should we use? When was the last time I ate?
What do the requirements say?
How are we supposed to deliver such and such performance?
Oh boy, this team is going to be pissed when I tell them to redesign their service.</p><p>The act of writing lets you discover problems that you didn‚Äôt think about
before, as you simply can‚Äôt fill 20 pages of coherent writing about the problem without
having a clear picture in your mind [1].</p><h2 id="but-they-are-always-outdated">But, they are always outdated</h2><p>The most common arguments that you may hear against writing the design documents
is that they are not going to capture all the details or they will go out
of date and become irrelevant. People won‚Äôt be reading them because they don‚Äôt have
the time or they don‚Äôt care enough about the topic and yadda yadda.</p><p>While those arguments might be true, they entirely miss the point and are simply
excuses for putting out a half baked undocumented project.
Unless you rely on formal verification or heavy quality assurance process like they do for space
projects, there will always be edge cases in your system that will only be found out in production.
The systems that are being developed these days are far too complex for one person
to envision all the possible edge cases beforehand.</p><p>Writing a design document before programming the complete implementation allows you to
avoid a much larger problem - marching in the wrong direction based on false
ideas. ‚ÄúWhoops that was dumb, let‚Äôs not do that anymore!‚Äù in a large team costs far
more than taking a few days/weeks off in order to think and write down your thoughts
beforehand.</p><p>Sure, some companies might take this into extremes and will demand a closet filled with
documentation when it comes to building a shed, because according to their processes
every project needs one. Well no, not every project needs one, but every project
will surely benefit from some additional thoughts and documentation.</p><p>Amazon went one step further and banned all Powerpoint presentations
in favor of writing lengthy full sentence documents. They argue that the
Powerpoint cabbages ones mind, and the truth is, most Powerpoint acolytes that
I‚Äôve seen had their minds made out of cabbage. Powerpoint makes it easy for a presenter
to just throw some bullet points on the screen and hand wave it through the
sloppily made presentation.
Trying to drill down more into the subject after such presentation is unlikely
to return a satisfactory answer, because they didn‚Äôt think it through [2].</p><p>The brain itself is a very lousy organ when it comes to retaining information
and it‚Äôs easy to overwhelm it with the amount of information that a hard
problem requires. When your memory runs low, swap your thoughts on paper.</p><h2 id="notes">Notes</h2><p>[1] Many books and articles were written, all describing the purpose of writing effectively.
One of my favorite videos on this topic is from Larry McEnerney:
<a href="https://www.youtube.com/watch?v=vtIzMaLkCaM">The Craft of Writing Effectively</a>.</p><p>[2] The problem lies in the messy hierarchy of bullet points. Big bullet points are stealing
the attention from smaller but sometimes equally important bullet points.
Edward Tufte wrote more about this problem in
<a href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0001yB">PowerPoint Does Rocket Science</a>
post. The aftermath of space shuttle disintegration review was that the Powerpoint is an inappropriate
tool for engineering reports, presentations and documentation.</p></div></div>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136422</guid>
            <pubDate>Sun, 14 Feb 2021 21:26:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One of the Most Prolific Cybercriminals Has Retired and May Be a Billionaire]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136276">thread link</a>) | @1cvmask
<br/>
February 14, 2021 | https://www.elliptic.co/blog/jokers-stash-retiring | <a href="https://web.archive.org/web/*/https://www.elliptic.co/blog/jokers-stash-retiring">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<figure>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png" alt="" width="594" height="310" srcset="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=297&amp;height=155&amp;name=joker-stash-elliptic.png 297w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png 594w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=891&amp;height=465&amp;name=joker-stash-elliptic.png 891w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1188&amp;height=620&amp;name=joker-stash-elliptic.png 1188w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1485&amp;height=775&amp;name=joker-stash-elliptic.png 1485w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1782&amp;height=930&amp;name=joker-stash-elliptic.png 1782w" sizes="(max-width: 594px) 100vw, 594px">
</p>
</figure>
<div>
<figure>
<img src="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg" alt="Dr. Tom Robinson" width="65" height="65" srcset="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=33&amp;height=33&amp;name=ell-author-tom-robinson.jpg 33w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg 65w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=98&amp;height=98&amp;name=ell-author-tom-robinson.jpg 98w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=130&amp;height=130&amp;name=ell-author-tom-robinson.jpg 130w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=163&amp;height=163&amp;name=ell-author-tom-robinson.jpg 163w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=195&amp;height=195&amp;name=ell-author-tom-robinson.jpg 195w" sizes="(max-width: 65px) 100vw, 65px">
</figure>
<div>


<h5>Elliptic's Co-founder and Chief Scientist discusses cryptocurrency forensics, investigations, compliance, and sanctions.</h5>
</div>
</div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text">
<p><strong>Hundreds of millions of cards have been stolen from online retailers, banks and payments companies before being sold for cryptocurrency on dozens of online marketplaces. According to Elliptic‚Äôs analysis, the founder of one of the most popular carding marketplaces, Joker‚Äôs Stash, has retired having amassed a fortune of over $1 billion.</strong></p>
<p>Every time you make a purchase with a credit or debit card, your card details are transmitted and stored in computer systems. Many of the major hacks of retailers and other companies are motivated by getting hold of these card credentials.</p>
<p>Stolen cards have value because they can be used to purchase high-value items or gift cards, which can then be resold for cash. This process is known as ‚Äúcarding‚Äù, and has become a key part of the cybercriminal‚Äôs playbook. Carding is very profitable in its own right, but it is also used to help launder and cash-out cryptocurrency obtained through other types of cybercrime.</p>

<p><strong>J</strong><strong>oker‚Äôs Stash - the King of Carding</strong></p>
<p>Over the past six years, Joker‚Äôs Stash rose to become the largest online seller of stolen credit cards and identity data. It is an example of a carding AVC (automated vending cart), which allows large volumes of cards to be sorted, filtered and purchased for Bitcoin with immediate delivery. In the image below you can see these cards categorised and searchable by country, bank, expiry date and other attributes. The going price for a single card on Joker‚Äôs Stash ranges from $1 to $150, with those at the upper end coming complete with the cardholder‚Äôs name, address and social security number.</p>
<!--more-->
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png" alt="Jokers Stash Blog_1-1" width="512" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=256&amp;name=Jokers%20Stash%20Blog_1-1.png 256w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png 512w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=768&amp;name=Jokers%20Stash%20Blog_1-1.png 768w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1024&amp;name=Jokers%20Stash%20Blog_1-1.png 1024w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1280&amp;name=Jokers%20Stash%20Blog_1-1.png 1280w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1536&amp;name=Jokers%20Stash%20Blog_1-1.png 1536w" sizes="(max-width: 512px) 100vw, 512px"><span></span></p>
<p><span>A screenshot from Joker‚Äôs Stash, showing individual payment cards for sale together with details of the cardholder</span></p>
<p>Joker‚Äôs Stash began operations in 2014. Its founder announced the site‚Äôs launch in English and Russian-language posts on various carding forums, using the pseudonym ‚ÄúJokerStash‚Äù. The marketplace gained popularity due to the quality and volume of the cards offered, sourced from a network of ‚Äúpartners‚Äù - criminal groups that originally stole the card details.&nbsp; New batches of cards from major breaches of businesses were teased weeks in advance and given cryptic names. For example, two million cards <a href="https://gizmodo.com/2-million-credit-cards-exposed-after-hack-of-buca-di-be-1833710618"><span>belonging</span></a> to customers of US restaurant chain ‚ÄúBuca di Beppo‚Äù were marketed as the ‚ÄúDAVINCI BREACH‚Äù, while the five million cards making up the ‚ÄúBIGBADABOOM-2‚Äù batch likely <a href="https://www.nytimes.com/2018/04/01/technology/saks-lord-taylor-credit-cards.html"><span>originated</span></a> from retailer Saks Fifth Avenue.</p>

<p><strong>Using blockchain analytics to estimate sales volumes</strong></p>
<p>The revenues earned by Joker‚Äôs Stash can be estimated from the value of incoming cryptocurrency payments to its wallet, as seen on the blockchain. Since 2015 almost $400 million in bitcoin was sent to the marketplace, with annual sales peaking at $139 million in 2018. Sales dropped over the next two years, reflecting a broader downtrend in carding activity - increased security around card payments has made their theft more difficult, while advances in anti-fraud technology have made it more challenging for carders to make purchases with stolen cards.</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png" alt="Jokers Stash Blog_2-1" width="1200" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=600&amp;name=Jokers%20Stash%20Blog_2-1.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1800&amp;name=Jokers%20Stash%20Blog_2-1.png 1800w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=2400&amp;name=Jokers%20Stash%20Blog_2-1.png 2400w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3000&amp;name=Jokers%20Stash%20Blog_2-1.png 3000w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3600&amp;name=Jokers%20Stash%20Blog_2-1.png 3600w" sizes="(max-width: 1200px) 100vw, 1200px"><span>Value of Bitcoin payments received by Joker‚Äôs Stash, by year</span></p>
<p>This carding downturn may be one of the reasons that Joker‚Äôs Stash recently announced that it would be closing permanently. The marketplace has also faced other headwinds in recent months - JokerStash notified customers in October that he/she had been hospitalised for over a week with coronavirus, while in December Interpol and the FBI <a href="https://www.zdnet.com/article/fbi-interpol-disrupt-jokers-stash-the-internets-largest-carding-marketplace/"><span>announced</span></a> a coordinated seizure of domains used by the site. The servers themselves were apparently unaffected and the site remained operational through TOR mirrors (although some users suspect that the takedown was successful and that law enforcement now control the site - a tactic used with some darknet markets).</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png" alt="Jokers Stash Blog_4" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=300&amp;name=Jokers%20Stash%20Blog_4.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=900&amp;name=Jokers%20Stash%20Blog_4.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1200&amp;name=Jokers%20Stash%20Blog_4.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1500&amp;name=Jokers%20Stash%20Blog_4.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1800&amp;name=Jokers%20Stash%20Blog_4.png 1800w" sizes="(max-width: 600px) 100vw, 600px"><span>Joker‚Äôs Stash announces its own closure</span></p>
<p>Another possible reason for the closure is simply that its founder has made so much money that it is no longer worth the effort and risk to continue operations, a sentiment suggested by the closure notice posted by JokerStash on the site:</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png" alt="Jokers Stash Blog_6" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=300&amp;name=Jokers%20Stash%20Blog_6.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=900&amp;name=Jokers%20Stash%20Blog_6.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1200&amp;name=Jokers%20Stash%20Blog_6.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1500&amp;name=Jokers%20Stash%20Blog_6.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1800&amp;name=Jokers%20Stash%20Blog_6.png 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>

<p><strong>How large is Joker‚Äôs Bitcoin Stash?</strong></p>
<p>We can estimate JokerStash‚Äôs retirement fund by considering the fees charged by the marketplace. The first source of revenue is cryptocurrency deposit fees. Any cryptocurrency payments to the site are converted to a US dollar balance, calculated according to the prevailing exchange rate, minus a fee ranging from 8% in the early days of the site to 4% today. On top of that, the marketplace almost certainly takes a cut of all sales of cards provided by the site‚Äôs partners. The commission taken by Joker‚Äôs Stash is not known, but for similar marketplaces it ranges between 10 to 30%.</p>
<p>The other key piece of information to take into account is that according to cyber security firm <a href="https://geminiadvisory.io/jokers-stash-shuts-down/"><span>Gemini Advisory</span></a>, JokerStash claims to keep all proceeds of the marketplace in bitcoin. If that is the case then the recent bitcoin price increase would have substantially inflated the value of assets. If we assume an average total commission of 20% on sales, then considering bitcoin alone (the site also accepts Litecoin and Dash) they would have taken a total of at least 60,000 bitcoins - which today has a value of $2.5 billion.</p>

<p><strong>An opportunity for other carding markets to fill the void</strong></p>
<p>Joker‚Äôs Stash announced that it would cease operations on 15th February, although the site became inaccessible as of the 3rd February, angering many customers, who still had balances to spend. It is one of the few criminal marketplaces to shut down on its own terms, a victim of its own success rather than as a result of any apparent law enforcement operation. This will no doubt encourage others to take its place at the heart of the cybercrime economy.</p>

<p><strong>Related Articles</strong></p>
<ul>
<li><a href="https://www.reuters.com/article/crypto-currency-crime/darknet-crypto-kingpin-jokerstash-retires-after-illicit-1-billion-run-research-idUKL4N2KH2IW" rel="noopener">Reuters feature Elliptic research on the Darknet crypto kingpin JokerStash</a></li>
</ul>
<p>Learn more about how Elliptic helps crypto businesses and financial institutions<span>&nbsp;</span><a href="https://www.elliptic.co/what-we-do/aml-navigator" rel="noopener" target="_blank">manage their cryptoasset risk</a>.&nbsp;</p>
<p>Don‚Äôt have Elliptic backing up your crypto AML compliance operations already?</p>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-22b79504-3ecb-4028-ab2d-42c058ec8014"><span id="hs-cta-22b79504-3ecb-4028-ab2d-42c058ec8014"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014" target="_blank"><img id="hs-cta-img-22b79504-3ecb-4028-ab2d-42c058ec8014" src="https://no-cache.hubspot.com/cta/default/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014.png" alt="SCHEDULE A DEMO"></a></span></span><!-- end HubSpot Call-to-Action Code --></p></span>
</p>

</div>
</div></div>]]>
            </description>
            <link>https://www.elliptic.co/blog/jokers-stash-retiring</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136276</guid>
            <pubDate>Sun, 14 Feb 2021 21:08:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basilisk Collection ‚Äì A Hard Sci-Fi Story About SHA-256]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136206">thread link</a>) | @blackle
<br/>
February 14, 2021 | https://suricrasia.online/unfiction/basilisk/ | <a href="https://web.archive.org/web/*/https://suricrasia.online/unfiction/basilisk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" dir="ltr" lang="en"><div>
<p>The <b>basilisk collection</b> (also known as the <b>basilisk file</b> or <b>basilisk.txt</b>) is a collection of over 125 million <a href="https://en.wikipedia.org/wiki/Proof_of_work#Background" title="Proof of work">partial hash inversions</a> of the <a href="https://en.wikipedia.org/wiki/SHA-256" title="SHA-256">SHA-256</a> <a href="https://en.wikipedia.org/wiki/Cryptographic_hash_function" title="Cryptographic hash function">cryptographic hash function</a>. Assuming state-of-the art methods were used to compute the inversions, the entries in the collection collectively represent a <a href="https://en.wikipedia.org/wiki/Proof-of-work" title="Proof-of-work">proof-of-work</a> far exceeding the computational capacity of the human race.<sup id="cite_ref-calc_1-0"><a href="#cite_note-calc-1">[1]</a></sup><sup id="cite_ref-killed_2-0"><a href="#cite_note-killed-2">[2]</a></sup> The collection was released in parts through <a href="https://en.wikipedia.org/wiki/BitTorrent" title="BitTorrent">BitTorrent</a> beginning in June 2018, although it was not widely reported or discussed until early 2019.<sup id="cite_ref-history_3-0"><a href="#cite_note-history-3">[3]</a></sup> On August 4th, 2019 the complete collection of 125,552,089 known hash inversions was compiled and published by <a href="https://en.wikipedia.org/wiki/University_of_Toronto#CryTor" title="University of Toronto">CryTor</a>, the cybersecurity lab of the <a href="https://en.wikipedia.org/wiki/University_of_Toronto" title="University of Toronto">University of Toronto</a>.<sup id="cite_ref-toronto_4-0"><a href="#cite_note-toronto-4">[4]</a></sup>
</p><p>The existence of the basilisk collection has had wide reaching consequences in the field of cryptography, and has been blamed for catalyzing the <a href="https://en.wikipedia.org/wiki/Bitcoin#Basilisk_crash" title="Bitcoin">January 2019 Bitcoin crash</a>.<sup id="cite_ref-killed_2-1"><a href="#cite_note-killed-2">[2]</a></sup><sup id="cite_ref-bitcoin-general_5-0"><a href="#cite_note-bitcoin-general-5">[5]</a></sup><sup id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>
</p>


<h2><span id="Background">Background</span></h2>
<h3><span id="Hash_functions">Hash functions</span></h3>

<p>A <a href="https://en.wikipedia.org/wiki/Hash_function" title="Hash function">hash function</a> is a mathematical function that takes an input (or "message") of arbitrary length and computes a fixed size output, often a number within a defined range. This output is often called the "hash", "digest", or "checksum." A cryptographic hash function is a hash function with additional requirements that make it suitable for use in <a href="https://en.wikipedia.org/wiki/Cryptography" title="Cryptography">cryptography</a>.
</p><p>The ideal cryptographic hash function has five main properties:
</p>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Deterministic_algorithm" title="Deterministic algorithm">Determinism</a></b>: the same message always results in the same hash.</li>
<li><b>Efficiency</b>: it is quick to compute the hash value for any given message.</li>
<li><b><a href="https://en.wikipedia.org/wiki/One-way_function" title="One-way function">One-way</a></b>: it is intractable to generate a message that yields a given hash value.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Avalanche_effect" title="Avalanche effect">Avalanche effect</a></b>: a small change to a message results in a completely dissimilar output.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Collision_resistance" title="Collision resistance">Collision resistance</a></b>: it is infeasible to find two different messages with the same hash value.</li></ul>
<p><a href="https://en.wikipedia.org/wiki/SHA-256" title="SHA-256">SHA-256</a> is one such hash function designed by the United States <a href="https://en.wikipedia.org/wiki/National_Security_Agency" title="National Security Agency">National Security Agency</a> (NSA), one of six functions in the SHA-2 (Secure Hash Algorithm 2) family. The 256 refers to the number of bits in the computed digest.<sup id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup>
</p>
<h3><span id="Proof_of_work_systems">Proof of work systems</span></h3>

<p>Hash functions are often used as the basis for proof of work systems. A proof of work is any certificate or signature that implies some quantity of computation was performed. A partial hash inversion is one such example, wherein a <a href="https://en.wikipedia.org/wiki/Cryptographic_nonce" title="Cryptographic nonce">nonce value</a> must be found such that‚Äîwhen concatenated with a challenge string‚Äîthe resulting hash is below some target value. Lower target values require more computations on average to find an appropriate nonce, and so a proof of work system can be made more difficult by decreasing its target value.
</p><p>For example, suppose the challenge was "ABC" and the target value was 2<sup>224</sup>. To generate the proof of work, one must find a value N such that SHA-256("ABC" || N) &lt; 2<sup>224</sup>. Because SHA-256 is believed to have <a href="https://en.wikipedia.org/wiki/Preimage_resistance" title="Preimage resistance">preimage resistance</a>, there should be no way to find a value for N that is more efficient than picking values at random until a sufficient value is found. For the target value of 2<sup>224</sup>, this is expected to take on average 2<sup>32</sup> hash evaluations. It is entirely possible for a value to be found with fewer than 2<sup>32</sup> hash evaluations; however the likelihood of this occurring falls off exponentially as the number of calculated hashes decreases.<sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup><sup id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup>
</p><p>In general, for a hash of N bits, a target value of 2<sup>K</sup> would require on average 2<sup>(N-K)</sup> hash evaluations to find a corresponding nonce value.
</p>
<h2><span id="Description">Description</span></h2>
<p>The largest basilisk collection includes 125,552,089 partial hash inversions of the SHA-256 algorithm applied twice.<sup id="cite_ref-toronto_4-1"><a href="#cite_note-toronto-4">[4]</a></sup> These inversions follow a particular pattern. Using the language of proof-of-work systems: the inversions use the challenge string "basilisk:N:" where N is a 10 digit number and the target value is no less than 2<sup>168</sup>. The value for N begins at 0 and increases monotonically to 499,999,999. Because there are only 125 million hashes in the collection, several ranges for N are missing. The generated nonce values are 64 characters in length and are alphanumeric including capitals.
</p><p>The first five entries in the collection are:
</p>
<pre>basilisk:0000000000:ds26ovbJzDwkVWia1tINLJZ2WXEHBvItMZRxHmYhlQd0spuvPXb6cYFJorDKkqlA 0000000000000000000000161b9f84a187cc21b172bf68b3cb3b78684d8e9f17
basilisk:0000000001:dMHUhnoEkmLv8TSE1lnJ7nVIYM8FLYBRtzTiJCM8ziijpTj95MPptu6psZZyLBVA 0000000000000000000000cee5fe5df2d3034fff435bb40e8651a18d69e81460
basilisk:0000000002:aSCZwTSmH9ZtqB5gQ27mcGuKIXrghtYIoMp6aKCLvxhlf1FC5D1sZSi2SjwU9EqK 000000000000000000000012aabd8d935757db173d5b3e7ae0f25ea4eb775402
basilisk:0000000003:oeocInD9uFwIO2x5u9myS4MKQbFW8Vl1IyqmUXHV3jVen6XCoVtuMbuB1bSDyOvE 000000000000000000000039d50bb560770d051a3f5a2fe340c99f81e18129d1
basilisk:0000000004:m0EyKprlUmDaW9xvPgYMz2pziEUJEzuy6vsSTlMZO7lVVOYlJgJTcEvh5QVJUVnh 00000000000000000000002ca8fc4b6396dd5b5bcf5fa80ea49967da55a8668b
</pre>
<p>These plaintext and hash pairs can be verified with the <a href="https://en.wikipedia.org/wiki/OpenSSL" title="OpenSSL">OpenSSL</a> software library:
</p>
<div dir="ltr"><pre><span></span><span>$</span> <span>echo</span> -en <span>'basilisk:0000000000:ds26ovbJzDwkVWia1tINLJZ2WXEHBvItMZRxHmYhlQd0spuvPXb6cYFJorDKkqlA'</span> <span>|</span> openssl dgst -sha256 -binary <span>|</span> openssl dgst -sha256
<span>(stdin)</span><span>= 0000000000000000000000161b9f84a187cc21b172bf68b3cb3b78684d8e9f17</span>
</pre></div>
<p>Aside from the word "basilisk" being included in every hash inversion, no other messages or text are included in the primary sources for the basilisk collection. Some hoax collections have appeared with text added to the start or end, however in every case an earlier source could be found with no extra text.<sup id="cite_ref-toronto_4-2"><a href="#cite_note-toronto-4">[4]</a></sup>
</p>
<h2><span id="History">History</span></h2>
<p>A small subset of the basilisk collection first appeared on the internet sometime before June 2018.<sup id="cite_ref-history_3-1"><a href="#cite_note-history-3">[3]</a></sup> This subset included 15,000 partial hash inversions and was distributed on the <a href="https://en.wikipedia.org/wiki/BitTorrent" title="BitTorrent">BitTorrent network</a>. Although the file was made available for several months and gathered a small collection of seeding clients,<sup id="cite_ref-dht-telescope_10-0"><a href="#cite_note-dht-telescope-10">[10]</a></sup> no public discussion of the basilisk hashes could be found before early December 2018, and it is likely that these original seeders were automated <a href="https://en.wikipedia.org/wiki/Seedbox" title="Seedbox">seedboxes</a> or BitTorrent indexing services.<sup id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup><sup id="cite_ref-history_3-2"><a href="#cite_note-history-3">[3]</a></sup> Throughout 2018 larger subsets of the basilisk collection continued to appear on the BitTorrent network. The largest subset, constituting 15 million hashes beginning with id 83,000,000, was first indexed mid December 2018.<sup id="cite_ref-dht-telescope_10-1"><a href="#cite_note-dht-telescope-10">[10]</a></sup><sup id="cite_ref-timeline_12-0"><a href="#cite_note-timeline-12">[12]</a></sup> This subset was discussed at length and its <a href="https://en.wikipedia.org/wiki/Magnet_URI_scheme" title="Magnet URI scheme">magnet link</a> passed around within the cryptographic community.<sup id="cite_ref-break1_13-0"><a href="#cite_note-break1-13">[13]</a></sup> Early in the new year, a number of internet news outlets broke the story on the security implications of the basilisk collection, bringing it to the attention of the wider public.<sup id="cite_ref-timeline_12-1"><a href="#cite_note-timeline-12">[12]</a></sup><sup id="cite_ref-break1_13-1"><a href="#cite_note-break1-13">[13]</a></sup><sup id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup><sup id="cite_ref-break3_15-0"><a href="#cite_note-break3-15">[15]</a></sup>
</p><p>By the end of January 2019 the basilisk collection was known to have 76 million partial hash inversions, and throughout 2019 this number increased to 125 million as more subsets were discovered.<sup id="cite_ref-timeline_12-2"><a href="#cite_note-timeline-12">[12]</a></sup> These subsets were gathered by the <a href="https://en.wikipedia.org/wiki/University_of_Toronto#CryTor" title="University of Toronto">University of Toronto Cryptography Lab</a> (CryTor) into a definitive collection on August 4th, 2019.<sup id="cite_ref-toronto_4-3"><a href="#cite_note-toronto-4">[4]</a></sup> There remains roughly 200 possible basilisk subsets which were indexed by the <a href="https://en.wikipedia.org/wiki/Mainline_DHT" title="Mainline DHT">BitTorrent distributed hash table</a> but were never downloaded before the initial seeder or seeders went offline. This is believed to account for the missing 374,447,910 hash inversions.<sup id="cite_ref-toronto2_16-0"><a href="#cite_note-toronto2-16">[16]</a></sup>
</p>
<h2><span id="Cryptanalysis_and_validation">Cryptanalysis and validation</span></h2>
<p>The 125,552,089 plaintext and hash pairs in the basilisk collection can be readily verified on a standard desktop computer with appropriate cryptographic software such as <a href="https://en.wikipedia.org/wiki/OpenSSL" title="OpenSSL">OpenSSL</a>. This can take anywhere from a couple of seconds to a couple of minutes depending on the machine.<sup id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup> Creating the hashes, on the other hand, would have required a computer orders of magnitude more powerful than any computer or network of computers that currently exist. For perspective, one generous estimate for the combined power of all the computers ever made is 1 <a href="https://en.wikipedia.org/wiki/FLOP" title="FLOP">zettaFLOP</a>, or 10<sup>21</sup> floating point operations per second.<sup id="cite_ref-calc_1-1"><a href="#cite_note-calc-1">[1]</a></sup> If we assume that one hash corresponds to one floating point operation (another very generous assumption) then the time it would take to generate a set of 125 million hashes is roughly 2 million years.<sup id="cite_ref-calc_1-2"><a href="#cite_note-calc-1">[1]</a></sup> Therefore, there must be a fault in the SHA-256 algorithm that would allow for a faster generation of partial hash inversions.
</p><p>Cryptanalysis of the basilisk hashes fall into one of two categories: analysis of the SHA-256 algorithm and analysis of 125 million hashes themselves.
</p>
<h3><span id="SHA-256_cryptanalysis">SHA-256 cryptanalysis</span></h3>
<p>SHA-256 is built using the <a href="https://en.wikipedia.org/wiki/Merkle%E2%80%93Damg%C3%A5rd_construction" title="Merkle‚ÄìDamg√•rd construction">Merkle‚ÄìDamg√•rd structure</a>. To compute the hash, the message is separated into fixed length blocks and each individual block is incorporated into an internal state using a <a href="https://en.wikipedia.org/wiki/One-way_compression_function" title="One-way compression function">one-way compression function</a>. This compression function is applied many times, referred to as "rounds." For SHA-256, 64 rounds are employed for each block.
</p><p>No cryptographic attacks against the preimage resistance of SHA-256 are currently known for all 64 rounds. The best known attacks are for 52 of the 64 rounds. That is, for a reduced version of the function that only uses 52 rounds, there exist algorithms to invert a hash in less time than <a href="https://en.wikipedia.org/wiki/Brute_force" title="Brute force">brute force</a>.<sup id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup>
</p><p>Although there is an abundance of cryptoanalytic research into the SHA-256 hash function, the same cannot be said for the double-SHA-256 function that the basilisk collection uses. This use of a "doubled" hash function is not a novel invention; hash doubling was initially proposed by Ferguson and Schneier in "Practical Cryptography"<sup id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup> and is used in a variety of applications, most notably the <a href="https://en.wikipedia.org/wiki/Bitcoin" title="Bitcoin">Bitcoin</a> <a href="https://en.wikipedia.org/wiki/Cryptocurrency" title="Cryptocurrency">cryptocurrency</a>.<sup id="cite_ref-paper_20-0"><a href="#cite_note-paper-20">[20]</a></sup> The rationale behind the double application of a hash function is to provide resistance against <a href="https://en.wikipedia.org/wiki/Length_extension_attack" title="Length extension attack">length extension attacks</a>. The effect double hashing may have on preimage resistance of SHA-256 was largely unexplored until after the emergence of the basilisk collection.<sup id="cite_ref-paper1_21-0"><a href="#cite_note-paper1-21">[21]</a></sup><sup id="cite_ref-22"><a href="#cite_note-22">[22]</a></sup>
</p><p>Since 2019, research on doubled SHA-256 has increased dramatically. In February 2019 the <a href="https://en.wikipedia.org/wiki/Cryptographic_Module_Validation_Program#Double_SHA256_Special_Interest_Group" title="Cryptographic Module Validation Program">Double SHA256 Special Interest Group</a> (DSHASIG) was formed jointly within the <a href="https://en.wikipedia.org/wiki/National_Institute_of_Standards_and_Technology" title="National Institute of Standards and Technology">National Institute of Standards and Technology</a> (NIST), the <a href="https://en.wikipedia.org/wiki/Communications_Security_Establishment" title="Communications Security Establishment">Communications Security Establishment</a> (CSE), and the <a href="https://en.wikipedia.org/wiki/National_Security_Agency" title="National Security Agency">National Security Agency</a> (NSA). The intent of the DSHASIG is to accelerate research into preimage attacks of doubled SHA-256.<sup id="cite_ref-23"><a href="#cite_note-23">[23]</a></sup> Other organizations such as the <a href="https://en.wikipedia.org/wiki/Bitcoin_Foundation" title="Bitcoin Foundation">Bitcoin Foundation</a> have created funding ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://suricrasia.online/unfiction/basilisk/">https://suricrasia.online/unfiction/basilisk/</a></em></p>]]>
            </description>
            <link>https://suricrasia.online/unfiction/basilisk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136206</guid>
            <pubDate>Sun, 14 Feb 2021 20:59:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Prayer to the Global Corporate Gods]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136026">thread link</a>) | @Bluestein
<br/>
February 14, 2021 | http://donhodges.com/prayer.html | <a href="https://web.archive.org/web/*/http://donhodges.com/prayer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="750" height="1040" xpos="0" content="" csheight="1040">
						<center>
							<img src="http://donhodges.com/images/fish3.gif" height="47" width="99">
							
						</center>
						<p>O mighty global corporations, we are helpless without you. Please bring your menial jobs here to our nation and town. Though we have little control over these arbitrary and tedious jobs that create wealth for stockholders rather than us, they are all that we lowly workers deserve. Grant us your x dollars per hour so that we might have hope of purchasing your fine plastic products that bestow lasting contentment. Forgive us when we question your authority or do not work fast enough, for we are but wretched servants, and please oh pretty please do not cast us onto the street where there is much weeping and knashing of teeth.</p>
						<p>Drive us to serve you ever more diligently until our decrepit bodies and minds break down, then patch us up in your hospitals and with your anti-depressants as much as necessary to return to your service. And when you have used us up completely, secure us in your nursing homes so that we do not annoy you or your still-faithful devotees further.</p>
						<p>O corporate one big happy family Fathers, some of us are so worthless that our skills do not match your product plans, and our resultant poverty has led us astray to where we have broken the righteous commandments that protect your bountiful property from us. Other backsliders have foolishly attempted to escape the indoctrination of your dollars through the use of mind altering substances. We accept that the only rightful place for these shameful sinners among us is in a cold cell of thick concrete deep within your prisons, where you will still mercifully grace these human by-products with a few quarters per hour to manufacture your office furniture.</p>
						<p>For those few hours when we are not in your service, thank you for blessing us all with the security of predictable name brand products, and for their copious packaging that assures that no heathens have laid their unclean hands on the wondrous gifts within. Continue to spew your intelligent poisons into our farmland and food to protect us from the sinister insects and microorganisms. Prepare our food and even serve it to us, that we may have more time to serve you. We will gladly consume whatever you hand down to us, for you are all-knowing.</p>
						<p>Please pacify us with a plethora of prefabricated entertainment, as we have forgotten how to entertain each other. Reveal to us through your inspired media what we are to believe, for surely we cannot trust our own feeble judgement. Similarly commodify any remaining life activities, so that our angst-ridden existence is no more challenging than a series of multiple-choice questions.</p>
						<p>Most important, guide your wise politicians financially as they strive to make this region of the planet more cost-effective for you by abolishing the evil worker rights laws, corporate taxation, and environmental protections that offend you deeply and drive you away from us. Help them enlighten the more backward cultures by dropping your holy bombs on the people of those demonic nation-states that still refuse to bow down before you. And thank you for undercutting the pitifully small local businesses that would dare defy your divine dominance and threaten the sacred homogenous culture in which you have safely wrapped us. Truly all resources belong to you, and we are but humble stewards of them. Continue to devour the land and excrete into the rivers --- the Earth is your banquet and your toilet. For thine is the empire, the power, and the planet, until you destroy it.</p>
						<p>Amen.</p>
						<p>Copyright 1996 BiggerTheyCome (TM) Enterprises, a wholly-owned subsidiary of GlobalGobble Corporation. Just try and steal this intellectual property, you peasant, and see what happens!</p>
						<p>In accordance with Title 17 U.S.C. Section 107, this material is distributed without profit to those who have expressed a prior interest in receiving the included information for research and educational purposes.</p>
						<p>/s/ Mike Dolan, Field Director, Global Trade Watch, Public Citizen mdolan@citizen.org http://www.tradewatch.org 202.546.4996 fax:547.7392</p>
						<p>Join the Global Trade Watch list server. We will keep you up to date on trade policy and politics. To subscribe, send this message: "SUBSCRIBE TW-LIST" [followed by your name, your organizational affiliation and the state in which you live] to LISTPROC@ESSENTIAL.ORG
					</p></div></div>]]>
            </description>
            <link>http://donhodges.com/prayer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136026</guid>
            <pubDate>Sun, 14 Feb 2021 20:35:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Effectively Manage an Existing Engineering Team]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26135955">thread link</a>) | @strife25
<br/>
February 14, 2021 | https://buildthestage.com/how-to-manage-existing-engineering-teams/ | <a href="https://web.archive.org/web/*/https://buildthestage.com/how-to-manage-existing-engineering-teams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><section id="primary"><main id="main"><article id="post-531"><div><p>Here you are, sitting in your regular 1-1 with your boss. You expected it would be a routine check-in with her ‚Äì ‚ÄúHow have you been?‚Äù, ‚ÄúWhat‚Äôs the latest status on yesterday‚Äôs support bug?‚Äù. Then she gets to her update.</p><p>Dale, a peer manager, has decided to leave the company.</p><p>You will be leading their team of mobile engineers until further notice. You know nothing about building mobile apps ‚Äì you‚Äôve been a backend engineer your entire career. There are many unknowns. Kotlin, Swift, and their frameworks are foreign to you. You don‚Äôt know the team, and some of the engineers are older and more experienced than you.</p><p>This is a daunting situation for new leaders and managers. An unfamiliar domain, you don‚Äôt have any answers to questions, and some of the team are ten years your senior. How do you manage an existing engineering team that works in a different domain?</p><h2><strong>Accept that the team knows more than you</strong></h2><p>The first step is to accept that you don‚Äôt know anything about this existing team‚Äôs domain.</p><p>Next, remember what your job is. Your job is to help guide people to make better decisions, learn fast, and achieve goals. Not contribute code.</p><p>Pay attention to how the team communicates. What are the relationships within the team? Who influences decisions? Whose voice is not heard? Your first step is to understand how this team works and how the people on it collaborate.</p><p>By focusing on how the team collaborates you can work on the problems with the environment. These are the issues that few are paying attention to or don‚Äôt know how to address. Solving these problems is where you can contribute most to the team‚Äôs success.</p><h2><strong>Ask questions instead of giving answers</strong></h2><p>Asking questions is a core skill of great leaders.</p><p>When someone is talking, stop thinking about how you want to respond. Instead, listen. Look for details in what they are saying that give you a new question.</p><p>By focusing on questions, you achieve two things. First, you get the other person to talk more and give you more information on the topic. Answering questions will also build trust ‚Äì which is a critical resource for a to earn.</p><p>After a while, some of these questions will become redundant. What do you do when you have a deep understanding of the situation?</p><p>Ask more questions!</p><p>I know ‚Äì it‚Äôs redundant, but your questions change at this point. Focus more on asking questions that guide the group towards the goal of the conversation. For example, take a meeting that requires a decision is made. Your questions should look to identify the detail that‚Äôs preventing the decision.</p><p>Example questions include:</p><ul><li>What are the trade-offs and risks of each choice?</li><li>Who can we talk to to learn more?&nbsp;</li><li>How does this solution affect our team‚Äôs goals?&nbsp;</li></ul> <h2><strong>Partner with influential team members</strong></h2><p>Building trust with the team is critical to your success. You will need to build this through relationships with everyone on the team. The most important people to focus on are the influential ones.</p><p>These are the people everyone listens to. They mentor the rest of the team and help them grow. Decisions change once they raise their concerns. You won‚Äôt make any progress without them on your side.</p><p>How do you go about doing this?</p><p>You need to change your mindset of how you expect these relationships to be. Instead of being a coach, look to them as partners. This means you have to give them the space to own decisions in the domains where they are the experts. The partnership also requires transparency from you. Talk with these people about the problems you are observing on the team and see how they can help.</p><p>By agreeing on the problems in the environment, you will have the support needed to solve them.&nbsp;</p><h2><strong>Learn the existing team‚Äôs domain to follow conversations</strong></h2><p>At the start, you‚Äôre going to struggle to keep up with the team‚Äôs conversations. You must put in the time to learn the jargon and the systems that the team works in. You aren‚Äôt expected to become the foremost expert of the team‚Äôs codebases. Yet you must understand enough so you can empathize with the team. The goal is understanding since you will be an important advocate for these people.</p><p>Again, asking questions will be your quickest path to success. When in one on ones, if a report begins to talk about what they‚Äôre working on, dig deeper than normal. Don‚Äôt assume too much. Embrace your naivety.</p><p>Examples of questions to ask are:&nbsp;</p><ul><li>Why was the code implemented this way?&nbsp;</li><li>What was the original purpose of it?&nbsp;</li><li>What challenges exist when working with this code?</li><li>How did the team decide to use that specific library?</li><li>How does this code fit into the architecture of the application?</li></ul><p>You‚Äôll also need to do homework on your own to learn what the team works with. Beyond the languages, identify the application‚Äôs key frameworks, systems, and libraries. Ask the team for blog posts, design documents, and book recommendations. This information will provide you with the context you need to finally keep up with the team.</p><h2><strong>Embrace Your Diverse Experience</strong></h2><p>You are going to learn a lot from the team ‚Äì new technologies, jargon, systems, and more. This does not mean your experience is meaningless though.</p><p>There will be times where the team struggles with a problem because they think an imaginary constraint exists. I‚Äôve seen this before ‚Äì a client-focused team has had a history of problems working with a backend team. Things like adding a new API is assumed to take a high amount of effort.</p><p>This is where you can help with your backend experience. You can provide them insight into how the backend systems work.</p><p>Remember that your experience here is not about imposing your will. Instead, continue to focus on questions to identify assumptions. Once you discover these, you can start to add real value.</p><h2><strong>Conclusion</strong></h2><p>Becoming the manager of a new team is daunting no matter the situation. Particularly when the team works in a domain you have zero experience with. To succeed in this environment, you need to enter it from a place of curiosity. Ask a lot of questions, learn how the team does its work, and partner with influential team members. By taking these steps, you will discover the problems that are holding the team back.</p><p>With these problems in your mind, you can start to support the team in achieving their goals.</p><h3>How do you gain the trust of an existing team?</h3><p>I‚Äôd love to learn any tips you have to gain the trust of an existing team. The challenge of leading a group with strong relationships is daunting. How have you done it?</p><p>Let me know on&nbsp;<a href="https://twitter.com/ternarywat/status/1360804780927574016" target="_blank" rel="noreferrer noopener">Twitter</a>&nbsp;or&nbsp;<a href="https://www.linkedin.com/feed/update/urn:li:activity:6766571093806465024/" target="_blank" rel="noreferrer noopener">LinkedIn</a>.</p> <h3>Further Reading</h3><ul><li><a href="https://bookshop.org/a/22141/9781422188613" target="_blank" rel="noreferrer noopener sponsored nofollow">The First 90 Days: Proven Strategies for Getting Up to Speed Faster and Smarter</a></li></ul></div><!-- .entry-content --><!-- .entry-footer --></article><!-- #post-${ID} --><nav role="navigation" aria-label="Posts"><h2>Post navigation</h2></nav></main><!-- #main --></section><!-- #primary --></div></div>]]>
            </description>
            <link>https://buildthestage.com/how-to-manage-existing-engineering-teams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135955</guid>
            <pubDate>Sun, 14 Feb 2021 20:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 19-Year-Old If Game Restored Using TeaVM]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26135892">thread link</a>) | @TeaVMFan
<br/>
February 14, 2021 | https://frequal.com/ifml | <a href="https://web.archive.org/web/*/https://frequal.com/ifml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://frequal.com/ifml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135892</guid>
            <pubDate>Sun, 14 Feb 2021 20:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does GameStop Prove the Stock Market Is Rigged?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26135842">thread link</a>) | @amoorthy
<br/>
February 14, 2021 | https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Just weeks ago, the share price for GameStop, a brick-and-mortar retailer of video games, saw its shares go from $17 to $483 before plummeting back down to <a href="https://www.marketwatch.com/investing/stock/gme"><span>around $50</span></a> within the span of a month. The story gripped the media (the subject of more than 3,000 articles) and the public's attention, painted as a <a href="https://www.cnbc.com/2021/01/27/gamestop-mania-explained-how-the-reddit-retail-trading-crowd-ran-over-wall-street-pros.html"><span>David vs. Goliath</span></a> story: small, plucky retail investors (non-professional individual investors) were taking on institutional investors (billion dollar firms, such as hedge funds, that invest with pooled resources) ‚Äî and supposedly <a href="https://markets.businessinsider.com/news/stocks/reddit-day-traders-investors-conflict-with-wall-street-hedge-funds-2021-1-1030016712"><span>winning big</span></a>. The soaring stock price finally crashed when popular trading platforms like Robinhood limited stock trading, coincidentally providing a way out for institutional investors who had been betting on the stock going down.</p>
<!--more-->
<p>Now, accusations are flying from both sides. Retail investors worry about collusion between Wall Street and trading platforms, whose decision to limit trading effectively put an end to the <a href="https://www.kiplinger.com/investing/602165/what-exactly-is-a-short-squeeze"><span>short squeeze</span></a> that big funds were trapped in. Meanwhile, Wall Street has lodged complaints about market manipulation that cost them billions. So, what really happened? Does the incident stand up to its underdog narrative or is it evidence that the stock market unfairly benefits Wall Street firms over everyday Americans? This week, The Factual looked at <a href="https://docs.google.com/spreadsheets/d/1CfG95Z047Dn-Q8Yip-JZxhdC0K7iKb4PAWLAD0Lanek/edit?usp=sharing"><span>highly rated news articles</span></a> from 20 sources across the political spectrum to find some answers.</p>
<blockquote>
<p><strong>What is shorting?</strong> Shorting is when an investor bets against a stock rising in the future. During a short, an investor ‚Äúborrows‚Äù shares of a specific stock and immediately sells them with the intention of buying the same number of shares back at a later date, for a lower price, before returning them to the original owner. If the stock depreciates over that period, the borrower gets to pocket the difference between the initial selling price and the later purchasing price. However, if the stock price increases, the borrower ends up losing money since they have to repurchase shares at a higher price before returning them. In January, institutional investors were shorting GME on a huge scale, and retail investors were purchasing GME shares to raise and keep the price high.</p>
<p><strong>What is a short squeeze? </strong>A short squeeze can happen when those shorting a stock are forced to repurchase shares at a higher price due to market movements. This repurchasing at higher prices can cause the stock‚Äôs price to climb even higher. In the case of GME, the activity of retail investors forced the large firms shorting the stock to repurchase shares at huge losses.&nbsp;</p>
</blockquote>
<p><strong>GameStop (GME) Share Price and Volume</strong></p>
<p><img src="https://lh6.googleusercontent.com/ZWC6lPja-6dOewgImUCpOa6l0STcuw3JPuGVsvLeqV0u0vhQ7IaILo1X0y4qTg0ktvE9qJLpoyp8yzon3DAE_amlIBi9HMP6kLYRpD6hlUVLrsm6xAcxfo7nmqdDPgb8Z71h3sPk" width="823"></p>

<h4><strong>Was There Foul Play?</strong></h4>
<div><p>As a social media-driven frenzy of buying drove the price of GME ever-higher on the week of January 25, the investment rationale for <a href="https://theconversation.com/wallstreetbets-is-disrupting-financial-markets-possibly-permanently-154355"><span>vigilante small investors</span></a>, largely associated with the online Reddit forum <a href="https://www.reddit.com/r/wallstreetbets/"><span>r/WallStreetBets</span></a>, was clear: buy and hold. Widespread purchasing of GME would generate returns for those buying in, often at the expense of big investors. These big investors who had shorted the stock were thus forced to buy even more shares ‚Äî raising the price still higher ‚Äî or risk facing even greater losses. Then things changed. Retail investors found themselves unable to continue purchasing shares as platforms like Robinhood and Webull limited buys, citing <a href="https://www.cnet.com/personal-finance/robinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy/"><span>heightened capital requirements</span></a> due to the unprecedented increase in investments. This seemingly permitted large institutional investors to stop the bleeding and close positions before more damage was done.&nbsp;</p></div>
<p><img src="https://lh5.googleusercontent.com/JymbmnVOvmovmwpWZuM5b7qJUB2jBUdkbmPoAJTeDAWTNyb-vsW6dBfUui3m13iOlmWhqSDy0ANC1R4u39fYwTqz40UQskNB1k5DDgYvxHedNaO4aMvjIUvWO23sDZVq61fJI4jZ" width="478" height="299"><br>Source: <a href="https://twitter.com/RobinhoodApp/status/1354805613566410756?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1354805613566410756%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.cnet.com%2Fpersonal-finance%2Frobinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy%2F"><span>Twitter</span></a></p>
<p>This turn of events immediately drew ire from those concerned with the potential for foul play, including diametrically opposed <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>political figures</span></a> like Democratic Representative Alexandria Ocasio-Cortez and Republican Senator Ted Cruz. However, many now accept the capital requirements as a plausible <a href="https://www.washingtonexaminer.com/news/the-gamestop-reddit-story-goes-beyond-us-vs-them"><span>explanation</span></a>, not the result of some orchestrated plot. Firms have to have a certain amount of capital <a href="https://reason.com/2021/02/09/why-wallstreetbets-and-bitcoiners-got-so-excited-about-gamestop/"><span>on hand</span></a> to cover trades, and Robinhood had to take action to cover the exponential increase in trading volume, at one point needing to raise <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>$3.4 billion</span></a> to cover new deposits. A forthcoming investigation of what occurred will work to ensure this explanation is valid.&nbsp;</p>
<p>In the meantime, users of such platforms can‚Äôt help but point to <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>reasons for collusion</span></a>. Robinhood <a href="https://www.washingtonpost.com/business/2021/01/29/robinhood-citadel-gamestop-reddit/"><span>directs</span></a> ‚Äúmore than half of its customer orders‚Äù through Citadel Securities, a ‚Äúfinancial-services giant.‚Äù Part of Citadel came to the <a href="https://www.chicagotribune.com/business/ct-biz-gamestop-robinhood-citadel-ken-griffin-20210129-pz3ln7d6wra5rbpno7nb5rgvgm-story.html"><span>rescue of Melvin Capital</span></a> (a major fund which lost as much as $4.5 billion), and its own fund, Citadel Advisors LLC, was likely <a href="https://wallstreetonparade.com/2021/02/citadel-didnt-just-bail-out-a-gamestop-short-seller-citadel-also-had-a-big-short-position-in-gamestop/"><span>trading in GameStop itself</span></a>, according to the latest available financial reporting from September 2020. Both Robinhood and Citadel have pleaded their innocence, but retail investors see a financial system that recoiled and readjusted when common people were reaping huge profits at the expense of powerful, connected firms. (Further accusations, including that Robinhood <a href="https://www.theverge.com/2021/1/28/22254857/robinhood-gamestop-amc-shares-sold-surprised-users#:~:text=No%2C%20Robinhood%20tells%20The%20Verge,without%20permission%20from%20its%20traders.&amp;text=Quite%20a%20number%20of%20Robinhood,down%20a%20dozen%20of%20them"><span>forcibly closed</span></a> some users‚Äô positions in GME and other stocks, appear to be false or misinformed.)</p>
<p>As Wall Street firms were taking big losses, the aggrieved parties decried ‚Äú<a href="https://www.wsj.com/articles/gamestop-mania-reveals-power-shift-on-wall-streetand-the-pros-are-reeling-11611774663"><span>market manipulation</span></a>‚Äù by retail investors ‚Äî effectively suggesting that small-time investors were the ones engaging in foul play. The argument is essentially that these buyers were coordinating in such a way to collectively manipulate the value of specific stocks. Experts have since pointed out that the level of coordination likely does <a href="https://www.marketwatch.com/story/is-gamestop-stock-being-manipulated-by-social-media-users-or-is-it-free-speech-legal-experts-weigh-in-11611636278"><span>not amount</span></a> to a level of legal culpability. The discussions of retail investors more likely fall in a gray area somewhere between organized market manipulation and perfectly legal discussions, captured by non-committal sentiments like ‚Äú<a href="https://www.wsj.com/articles/we-like-the-stock-the-anatomy-of-a-meme-11612542783"><span>we like the stock</span></a>.‚Äù Furthermore, skeptics wonder how hedge funds can take issue with retail investors pursuing a strategy to shift the value of a stock when Wall Street firms regularly <a href="https://prospect.org/power/gamestop-craziness-pulls-back-curtain-on-stock-market/"><span>employ such strategies</span></a> themselves.</p>
<div><p>Another concerning source of potential foul play comes from the ability for anyone to start and fuel trends on social media platforms and forums and then use those public movements to pursue greater profits. Forums like r/WallStreetBets allow experienced and novice investors to <a href="https://www.wsj.com/articles/melvin-capital-lost-53-in-january-hurt-by-gamestop-and-other-bets-11612103117"><span>intermingle anonymously</span></a>, and there is very little clarity about who is feeding information and for what reasons. Some have argued that this leaves the door open to manipulation from large investors, many of whom are known to monitor online forums like r/WallStreetBets, or at the very least unscrupulous individuals seeking to take advantage of uninformed investors. In the last few years, several apps have even emerged that allow institutional investors to <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>monitor the trading preferences and discussions</span></a> of retail investors, helping to identify and take advantage of trends. This makes more sinister manipulation a possibility, though nothing has been verified thus far.</p></div>
<h4><strong>The House Always Wins</strong></h4>
<div><p>Focusing too much on accusations of foul play can distract from the essential details of the day. Who, in the end, made money? Forthcoming investigations will clarify who benefited the most, but evidence suggests that many of those who actually profited are likely to be firms like Senvest, who emerged with an eye-watering <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>$700 million in profit</span></a> from selling GME, not retail investors. The far more likely scenario is that more small-time investors lost money than made it, all while most big investors were leveraging their range of tools and depth of knowledge to turn a handsome profit.</p></div>
<p><img src="https://lh3.googleusercontent.com/vqTzCimciM3g9y0A5LRYQ_pGaq7zEvrJBNP98-qW5ugf-UEQkJ997ddwtopKVFiNFzl8Umq9YWI7blAbmb8MRfSGW0e5aygXc93F1CNyLoIa0sDaUfXJBIeHUP-6VIt5XrVIcXnx" width="583" height="420"></p>
<div><p>Similar short squeezes occurred with several other stocks, but GME was the most pronounced. Source: <a href="https://www.ft.com/content/04e6c524-389b-47fc-afaa-eb52c1e76048"><span>Financial Times</span></a></p></div>
<p>To begin with, the gradual growth and explosion of GME was driven not just by r/WallStreetBets followers but institutional investors who began investing in GME months ago. Senvest, for example, <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>owned 5% of the company</span></a> in October, and according to the <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><em><span>Washington Post</span></em></a>, the ‚Äúfour largest asset managers in the world together own 39 percent of GameStop shares.‚Äù Then, in a <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>flurry of activity</span></a> over three days, GME shares ‚Äúchanged hands 554 million times ‚Äî more than 11 times the number of total shares available,‚Äù including hundreds of millions of shares being traded at $200 to $300 a share. This volume of trading belies the perceived financial resources and trading rationale (buy and hold) of retail investors working through places like r/WallStreetBets, and rather suggests the hand of informed, large firms buying and selling huge numbers of shares. Simply put, the trading activity suggests that large firms were equally involved in the subsequent boom and bust as small-time investors, <a href="https://www.theguardian.com/business/2021/feb/03/david-v-goliath-narrative-in-gamestop-story-has-serious-flaws"><span>undermining</span></a> the ‚ÄúDavid vs. Goliath‚Äù narrative.</p>
<p>Thinking about the tools and financial acumen of both sides can tell us a lot about who the actual winners and losers are likely to be. On one side, we have well-informed <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>wealthy firms</span></a> with superior financial acumen, access to and understanding of more sophisticated financial products, and significant trading experience. On the other is a rabble of mostly new investors, enabled by the explosive growth of new trading platforms like Robinhood. These are largely teens and young adults ‚Äî the <a href="https://www.wsj.com/articles/teens-are-gambling-their-savings-on-gamestop-stock-their-parents-are-worried-11612540818"><span>average age</span></a> of users on Robinhood is just 31. A survey cited in <a href="https://www.marketwatch.com/story/losing-money-is-not-a-joke-gamestop-drama-drives-interest-in-financial-literacy-the-most-important-takeaway-of-all-11612880459"><span>MarketWatch</span></a> found ‚Äú44% of 1,600 self-directed investors in GameStop and AMC had less than a year of experience trading and another quarter had up to two year‚Äôs experience.‚Äù The <a href="https://www.vox.com/the-goods/22273192/teen-investors-gamestop-robinhood"><span>combination</span></a> of social media-driven hype, questionable crowd-sourced advice, and limited familiarity with sound investment strategies makes these investors far more likely to lose out, exemplified by users who bought in after GME shares were already worth hundreds of dollars. Robinhood is separately under fire for their <a href="https://www.cnet.com/news/even-before-gamestop-stock-frenzy-robinhood-raised-a-lot-of-red-flags/"><span>gamified trading platform</span></a>, which enables access for new investors but also exposes individuals with no trading experience to financial risk; the company is even facing a <a href="https://www.forbes.com/sites/jeffkauflin/2021/02/08/robinhood-hit-with-wrongful-death-suit-from-the-family-of-alex-kearns-alleging-customer-service-failures-and-reckless-practices/?sh=50fc57eead6d"><span>wrongful death lawsuit</span></a> after a 20-year-old user committed suicide in June 2020, fearing he owed over $700,000.</p>
<div><p>There are endless stories of the ‚Ä¶</p></div></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135842</guid>
            <pubDate>Sun, 14 Feb 2021 20:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distribution of JVM Desktop Applications]]>
            </title>
            <description>
<![CDATA[
Score 126 | Comments 90 (<a href="https://news.ycombinator.com/item?id=26135532">thread link</a>) | @nfrankel
<br/>
February 14, 2021 | https://blog.frankel.ch/state-jvm-desktop-frameworks/6/ | <a href="https://web.archive.org/web/*/https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting"> <meta itemprop="mainEntityOfPage" content="//state-jvm-desktop-frameworks/6/"> <meta itemprop="description" content="">  <figure itemscope="" itemprop="image" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/tree-flower-jungle-usa-garden-mailbox-1148044-pxhere.com.jpg"> </figure> <section> <div itemprop="articleBody"> <p>The previous posts of this series focused on different frameworks to develop JVM-based applications.</p> <p>This is the 6<sup>th</sup> post in the The state of JVM desktop frameworks focus series.Other posts include:</p> <ol><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/1/" target="_blank" rel="noopener">The state of JVM desktop frameworks: introduction</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/2/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Swing</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/3/" target="_blank" rel="noopener">The state of JVM desktop frameworks: SWT</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/4/" target="_blank" rel="noopener">The state of JVM desktop frameworks: TornadoFX</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/5/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Jetpack Compose for Desktop</a></span></li><li><span><em>Distribution of JVM desktop applications</em> (this post)</span></li></ol> <p>Distributing applications on a couple of computers inside the same company is not an issue. A lot of products are available for automating the pushing of files onto computers. Issues might start to appear when you need to coordinate the deployment across different physical sites.</p> <p>However, the biggest problem is when computers are not known in advance: in that case, it‚Äôs not possible to push. For that reason, two decades ago, we saw a move from client-server architectures to web-based architectures.</p> <p>The remaining question is how to deploy a Java desktop application. In this post, we are going to go through some options to distribute this kind of application.</p> <div> <h2 id="applets">Applets</h2> <div> <p>While not strictly about desktop applications, I believe it‚Äôs a good idea to mention <a href="https://en.wikipedia.org/wiki/Java_applet" target="_blank" rel="noopener">applets</a> in a post about distributing Java apps.</p> <p>Applets were the first way to make Java applications available remotely. The idea was to host on a web server both bytecode (a single class or JAR) and reference it in an HTML page.</p> <div> <p>index.html</p> <div> <pre><code data-lang="html"><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
  <span>&lt;body&gt;</span>
  <span>&lt;applet</span> <span>code=</span><span>"HelloWorld.class"</span> <span>height=</span><span>"640"</span> <span>width=</span><span>"480"</span><span>&gt;&lt;/applet&gt;</span>
  <span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span></code></pre> </div> </div> <p>Note that an applet runs client-side, thus requiring a local <abbr title="Java Runtime Environment">JRE</abbr>. It also mandates a browser plugin. Both are security concerns. That lead browser vendors to remove the support of plugins and in turn the Java team to deprecate applets in Java 9.</p> <div> <blockquote> <p>With modern browser vendors working to restrict or reduce the support of plugins like Flash, Silverlight, and Java in their products, developers of applications that rely on the Java browser plugin need to consider alternative options. Java developers currently relying on browser plugins should consider migrating from Java Applets to the plugin-free Java Web Start technology.</p> <p>Supporting Java in browsers is only possible for as long as browser vendors are committed to supporting standards-based plugins. By late 2015, many browser vendors had either removed or announced timelines for the removal of standards-based plugin support, while some are introducing proprietary browser-specific extension APIs. Consequently, Oracle is planning to deprecate the Java browser plugin in JDK 9.</p> <p>The deprecated plugin technology will be completely removed from the Oracle Java Development Kit (JDK) and Java Runtime Environment (JRE) in a future Java release TBD. Java Web Start applications do not rely on a browser plugin and will not be affected by these changes.</p> </blockquote>  </div> </div> </div> <div> <h2 id="open-web-start">Open Web Start</h2> <div> <p>After applets, the next alternative for distributing Java applications is Java Web Start. This is the canonical way for desktop applications. As a personal note, I used it more than 15 years ago with Java 1.4. This <a href="https://www.oracle.com/java/technologies/javase/jws-archive-download.html" target="_blank" rel="noopener">page</a> seems to confirm JDK 1.4.2 was the first version to provide it natively, as opposed to as a separate download. Yet, Oracle deprecated Java Web Start in JDK 9 and removed it in JDK 11.</p> <p>This left JWS users without any option. <a href="https://karakun.com/" target="_blank" rel="noopener">Karakun</a> is a company that took ownership of the project. It provides it as a separate package under the name <a href="https://openwebstart.com/" target="_blank" rel="noopener">Open Web Start</a> and the software is the same.</p> <p>To distribute an application via Open Web Start, in addition to the JAR itself, you need to provide a <abbr title="Java Network Launching Protocol">JNLP</abbr> file. This file serves as an external deployment descriptor of a sort. Features of JNLP are quite exhaustive:</p> <ul><li><span>Add a shortcut on the user‚Äôs desktop</span></li><li><span>Whether the application can run offline after you‚Äôve downloaded it</span></li><li><span>Update policies</span></li><li><span>Optional list of native libraries</span></li><li><span>etc.</span></li></ul> <p>The complete <a href="https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html" target="_blank" rel="noopener">specifications</a> are still available on Oracle‚Äôs site.</p> <p>Let‚Äôs create a JNLP to distribute our sample Swing application:</p> <div> <p>renamer.jnlp</p> <div> <pre><code data-lang="xml"><span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span>&lt;jnlp</span> <span>spec=</span><span>"1.0+"</span> <span>codebase=</span><span>""</span> <span>href=</span><span>""</span><span>&gt;</span>
  <span>&lt;information&gt;</span>
    <span>&lt;title&gt;</span>File Renamer<span>&lt;/title&gt;</span>
    <span>&lt;vendor&gt;</span>Nicolas Fr√§nkel<span>&lt;/vendor&gt;</span>
    <span>&lt;offline-allowed/&gt;</span>
  <span>&lt;/information&gt;</span>
  <span>&lt;resources&gt;</span>
    <span>&lt;j2se</span> <span>version=</span><span>"11+"</span> <span>/&gt;</span>
    <span>&lt;jar</span> <span>href=</span><span>"https://path.to/archive.jar"</span>                              <i data-value="1"></i><b>(1)</b>
         <span>main=</span><span>"true"</span> <span>/&gt;</span>                                                  <i data-value="2"></i><b>(2)</b>
  <span>&lt;/resources&gt;</span>
  <span>&lt;security&gt;</span>
    <span>&lt;all-permissions</span> <span>/&gt;</span>                                                  <i data-value="3"></i><b>(3)</b>
  <span>&lt;/security&gt;</span>
  <span>&lt;application-desc</span> <span>name=</span><span>"File Renamer"</span>
                    <span>main-class=</span><span>"ch.frankel.blog.renamer.RenamerAppKt"</span> <span>/&gt;</span> <i data-value="4"></i><b>(4)</b>
  <span>&lt;update</span> <span>check=</span><span>"background"</span><span>/&gt;</span>
<span>&lt;/jnlp&gt;</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Path to the JAR</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>Flag that marks the JAR as containing the main class</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>The Renamer application reads and writes the filesystem, it requires permissions. Note that permission grant is <strong>not</strong> fine-grained. Also, permissions require you to sign the JAR.</td> </tr> <tr> <td><i data-value="4"></i><b>4</b></td> <td>Class that contains the entry-point (the <code>main</code> method)</td> </tr> </tbody></table> </div> </div> </div> <div> <h2 id="jpackage">jpackage</h2> <div> <p>While Open Web Start is not available as part of the JDK anymore, the <a href="https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html" target="_blank" rel="noopener"><code>jpackage</code></a> tool is. It‚Äôs included since JDK 14. As its name implies, <code>jpackage</code> allows you to create a native installer from a JAR.</p> <p>Its basic usage is straightforward:</p> <div> <div> <pre><code data-lang="bash">jpackage <span>--input</span> target <span>--main-jar</span> renamer-swing-1.0.jar    <i data-value="1"></i><b>(1)</b></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Assume a Maven project that generates the JAR in the <code>target</code> subfolder</td> </tr> </tbody></table> </div> <p>On a macOS computer, the above command creates a <code>RenamerAppKt-1.0.dmg</code> installer. It contains a macOS application with the following structure:</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jpackage-app-structure.jpg" alt="Application‚Äôs structure as created by the jpackage" width="236" height="408"></span></p> <p>The structure includes:</p> <ul><li><span>The JAR</span></li><li><span>A JRE - the one associated with the <code>jpackage</code> command that created the installer</span></li><li><span>macOS-specific files</span></li></ul> <p>While the sample JAR is 1.5 MB, the installer is more than 50 MB because of the embedded Java runtime.</p> </div> </div> <div> <h2 id="jlink">jlink</h2> <div> <p><code>jlink</code> is not a real distribution mechanism but I believe it still deserves a mention. It allows you to create a custom runtime with a dedicated launcher script for your applications. It‚Äôs part of the JDK since Java 9.</p> <p>While it can in theory <a href="https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4" target="_blank" rel="noopener">work with any application</a>, it shines with modularized applications. Such applications need to describe the modules they depend on in a <code>module-info.java</code>.</p> <p>The main task is to modularize the application. For our sample app, the <code>module-info.java</code> file is:</p> <div> <p>module-info.java</p> <div> <pre><code data-lang="java"><span>module</span> <span>filerenamer</span><span>.</span><span>swing</span> <span>{</span>
    <span>requires</span> <span>eventbus</span><span>;</span>                            <i data-value="1"></i><b>(1)</b> <i data-value="2"></i><b>(2)</b>
    <span>requires</span> <span>java</span><span>.</span><span>desktop</span><span>;</span>                        <i data-value="1"></i><b>(1)</b>
    <span>requires</span> <span>kotlin</span><span>.</span><span>stdlib</span><span>;</span>                       <i data-value="1"></i><b>(1)</b>
    <span>exports</span> <span>ch</span><span>.</span><span>frankel</span><span>.</span><span>blog</span><span>.</span><span>renamer</span> <span>to</span> <span>eventbus</span><span>;</span>  <i data-value="3"></i><b>(3)</b>
<span>}</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Declare dependent modules</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>The Greenrobot library is an unnamed module. We need to reference it via the JAR‚Äôs name.</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>Allow Greenrobot to use our classes</td> </tr> </tbody></table> </div> <p>Modularizing one‚Äôs application is pretty straightforward. But to decide whether a JDK module will make it into the final runtime, <code>jlink</code> requires to <strong>transitively analyze every dependency</strong> of the application. Yet, <a href="https://blog.frankel.ch/update-state-java-modularization/" target="_blank" rel="noopener">about 35% of the libraries</a> are neither modularized nor declare an <code>Automatic-Module-Name</code> in their <code>MANIFEST.MF</code>.</p> <p>It‚Äôs possible to add this information during one‚Äôs build even though the procedure is error-prone and boring. The description on how to achieve this deserves a post on its own. For more information, please check <a href="https://blogs.oracle.com/javamagazine/containerizing-apps-with-jlink" target="_blank" rel="noopener">this Oracle magazine article</a>. Suffice to say here that it makes heavy use of the <a href="https://github.com/moditect/moditect" target="_blank" rel="noopener">Moditect Maven plugin</a>.</p> <p>After having <a href="https://github.com/ajavageek/renamer-swing/blob/feature/jlink/pom.xml#L56-L108" target="_blank" rel="noopener">configured the POM</a>, packaging the Renamer Swing application yields a folder that contains a runnable launcher script and the necessary modules from the JDK.</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jlink-output.jpg" alt="Output of jlink" width="184" height="288"></span></p> <p>The folder size is around 86MB. By using <code>gzip</code>, you can reduce the size to about a 30MB archive that you can distribute.</p> <p>Note that it will require users to decompress the archive and to know which script to launch, though.</p> </div> </div> <div> <h2 id="other-candidates">Other candidates</h2> <div> <p>Here are some other candidates that I discovered while researching this post. Note that I have experience with none of them but it might be useful for some of you.</p> <ul><li><span>Oracle introduced <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/packager.html" target="_blank" rel="noopener"><code>javapackager</code></a> in Java 8. <code>javapackager</code> is the ancestor of <code>jpackage</code> and is now superseded by the latter.</span><div> <blockquote> <p>The Java Packager tool can be used to compile, package, sign, and deploy Java and JavaFX applications from the command line. It can be used as an alternative to an Ant task or building the applications in an IDE.</p> </blockquote> </div></li><li><span><a href="https://github.com/edvin/fxlauncher" target="_blank" rel="noopener">FXLauncher</a> is both a launcher and an auto-updater that focuses solely on JavaFX applications.</span><p>FXLauncher is released under the Apache License 2.0.</p></li><li><span><a href="http://launch4j.sourceforge.net/" target="_blank" rel="noopener">Launch4J</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Launch4j is a cross-platform tool for wrapping Java applications distributed as jars in lightweight Windows native executables. The executable can be configured to search for a certain JRE version or use a bundled one, and it‚Äôs possible to set runtime options, like the initial/max heap size. The wrapper also provides a better user experience through an application icon, a native pre-JRE splash screen, and a Java download page in case the appropriate JRE cannot be found.</p> </blockquote> </div> <p>Launch4J is released under the BSD 3-Clause License but has not seen any release since 2017.</p> </div> </div> <ul><li><span><a href="https://github.com/libgdx/packr" target="_blank" rel="noopener">packr</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Packages your JAR, assets, and a JVM for distribution on Windows, Linux, and macOS, adding a native executable file to make it appear like a native app. Packr is most suitable for GUI applications, such as games made with libGDX.</p> <p>packr is released under the Apache License 2.0.</p> </blockquote> </div> </div> </div> <ul><li><span><a href="https://www.ej-technologies.com/products/install4j/overview.html" target="_blank" rel="noopener">Install4J</a>:</span></li></ul> <div> <blockquote> <p>install4j is a powerful multi-platform Java installer builder that generates native installers and application launchers for Java applications.</p> </blockquote> </div> <p>install4J is a proprietary product.</p> </div> </div> <div> <h2 id="conclusion">Conclusion</h2> <div> <p>In this post, we browsed through several options to distribute our Java desktop applications:</p> <ul><li><span>Open Web Start is an option based on the former Java Web Start. Users need to install the software on their system so they can execute JNLP files. Noteworthy features include auto-updating and offline mode.</span></li><li><span>JDK includes <code>jpackage</code>. It allows you to create installers that wrap both the JAR and a JRE.</span></li><li><span><code>jlink</code> is also included in the JDK. Instead of creating installers, it ‚Ä¶</span></li></ul></div></div></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</a></em></p>]]>
            </description>
            <link>https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135532</guid>
            <pubDate>Sun, 14 Feb 2021 19:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Gigafactory Berlin is now connected with Starlink satellite internet]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135480">thread link</a>) | @CarCooler
<br/>
February 14, 2021 | https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-8610">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Development and construction work at the Tesla Gigafactory Berlin is progressing at a phenomenal pace (latest video below). Several observers of this massive car manufacturing plant in Brandenburg, Germany have been video documenting the development activities since day 1.</p>



<p>Just last week, a SpaceX Starlink satellite internet dish was spotted at the roof of Giga Berlin for the first time, suggesting Tesla has started using Starlink internet service at the factory. Local Giga Berlin observer Tobias Lindh shared the following photos of the <a href="https://www.teslaoracle.com/tag/starlink/">Starlink</a> receiver dish at <a href="https://www.teslaoracle.com/tag/giga-berlin/">Giga Berlin</a> in a tweet.</p>



<figure></figure>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>Although one dish receiver cannot cater to the needs of the entire plant, this dish is placed above the temporary containers which are currently used as office space for the developing Gigafactory.</p>



<p><a href="https://www.teslaoracle.com/topic/spacex/">SpaceX</a> is creating a low earth orbit (LEO) constellation of Starship satellites and is constantly launching Falcon 9 missions for the purpose. The Starlink website describes the beta state of this service as follows:</p>



<blockquote><p>Starlink is now delivering initial beta service both domestically and internationally, and will continue expansion to near-global coverage of the populated world in 2021.</p><p>During beta, users can expect to see data speeds vary from 50Mb/s to 150Mb/s and latency from 20ms to 40ms in most locations over the next several months as we enhance the Starlink system. There will also be brief periods of no connectivity at all.</p><p>As we launch more satellites, install more ground stations, and improve our networking software, data speed, latency, and uptime will improve dramatically.</p><cite><a href="https://www.starlink.com/" target="_blank" rel="noreferrer noopener">Source Link</a></cite></blockquote>



<p>Unboxing of the Starlink ‚ÄòDishy Mc Flat Face (<a href="#DishyMcFlatFace" target="_blank" rel="noreferrer noopener nofollow">#DishyMcFlatFace</a>)‚Äô as Elon Musk likes to call it, can be seen in the following video by Tesla/SpaceX influencer Viv as she received her set last month.</p>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<figure></figure>



<p>SpaceX is not only expanding the Starlink constellation but also is upgrading the system along the way. With the satellite launch last month, SpaceX sent the new <a href="https://www.teslaoracle.com/2021/01/25/spacx-record-143-satellites-laser-starlinks/">laser-linked Starlinks to the polar orbit</a>.</p>



<p>It has been cold and snowy days at the Giga Berlin for the last few weeks, in the latest drone video from today, the factory is still covered with snow all around. It‚Äôs a white majestic view worth a look. What‚Äôs more interesting is <a href="https://www.teslaoracle.com/2021/02/02/gigafactory-berlin-filled-graffiti-art-elon-musk/">Elon Musk wants Giga Berlin to be filled with graffiti art</a>.</p>



<p>Stay tuned for constant Tesla updates, follow us on:&nbsp;<br><a href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank" rel="noreferrer noopener">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a>.</p>



<figure><div>
<amp-youtube data-videoid="KbNXbw1zn3g" layout="responsive" width="16" height="9" title="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://www.youtube.com/watch?v=KbNXbw1zn3g"><amp-img src="https://i.ytimg.com/vi/KbNXbw1zn3g/hqdefault.jpg" layout="fill" object-fit="cover" alt="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div></figure>
		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135480</guid>
            <pubDate>Sun, 14 Feb 2021 19:40:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring How Git Works]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135215">thread link</a>) | @mr_o47
<br/>
February 14, 2021 | https://muhammadraza.me/2019/Exploring-Git/ | <a href="https://web.archive.org/web/*/https://muhammadraza.me/2019/Exploring-Git/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>  <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>As we all use git every day in our projects and it has made our lives easier by allowing us to collaborate with others more efficiently.Thus it helped us to produce great software that is impacting our lives every day.</p> <h3 id="what-is-git">What is Git?</h3> <p>In simplest terms Git is distributed version control system that allows us to keep track of our files and helps us collaborate with each other more efficiently while working on a software project. Git was created by Linus Torvalds in 2005 for development of the Linux kernel. It is primarily written in <code>C</code> and other languages such as <code>python</code>,<code>shell</code>, Perl<code> and </code>Tcl`.</p> <h3 id="lets-begin-exploring-git">Lets Begin Exploring Git</h3> <p>In order to begin I will start by creating a git repo named <code>test/</code></p> <ul> <li><code>git init test</code> command creates a local repo named <code>test</code> on our machine that contains <code>.git/</code> folder which contains all the metadata.</li> </ul> <div><div><pre><code>drwxr-xr-x  3 hackerman hackerman 4096 May 31 17:48 <span>.</span>
drwx--x--x 71 hackerman hackerman 4096 May 31 17:49 ..
drwxr-xr-x  7 hackerman hackerman 4096 May 31 17:49 .git
</code></pre></div></div> <p>In this blog, I will be focusing on <code>objects</code> and <code>ref</code> since they are the most important parts of <code>.git/</code> directory.</p> <div><div><pre><code>.git
‚îú‚îÄ‚îÄ branches
‚îú‚îÄ‚îÄ config
‚îú‚îÄ‚îÄ description
‚îú‚îÄ‚îÄ HEAD
‚îú‚îÄ‚îÄ hooks
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ applypatch-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ fsmonitor-watchman.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ post-update.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-applypatch.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-merge-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ prepare-commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-push.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-rebase.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-receive.sample
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ update.sample
‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ exclude
‚îú‚îÄ‚îÄ objects
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ pack
‚îî‚îÄ‚îÄ refs
    ‚îú‚îÄ‚îÄ heads
    ‚îî‚îÄ‚îÄ tags

9 directories, 16 files
</code></pre></div></div> <h3 id="how-git-actually-works">How Git Actually works</h3> <p>So I will be explaining how everything works under the hood using this simple diagram. As you can see we have three things <code>working directory</code>, <code>staging area</code> and <code>local repo</code>.</p> <p>When we run <code>git add</code> it creates a snapshot of our file that we are working on and put that file in the staging area and then we run <code>git commit</code> command which saves that snapshot of our file permanently in our local repo.</p> <h3 id="what-happens-when-we-run-git-add-filename">What happens when we run <code>git add &lt;filename&gt;</code></h3> <p><a href="https://postimg.cc/YLR17rs8"><img src="https://i.postimg.cc/c6yTQ6Mq/add.png" alt="add.png"></a></p> <p>When we run <code>git add</code> command it takes the files from the staging area and saves the file as a copy under <code>objects</code> directory. The file is represented as a blob (Binary Large Object) and that name of the file is generated using <code>SHA-1</code> hashing algorithm as it was calculated using the contents of the file.</p> <p>In this case it is represented by <code>f9cae9b</code> and the object can be seen by using the following command <code>git show --pretty=raw f9cae9b</code>.</p> <h3 id="what-happens-when-we-run-git-commit-filename">What happens when we run <code>git commit &lt;filename&gt;</code></h3> <p>When we run <code>git commit</code> it takes our file from staging and saves as a permanent snapshot in our local repo. When we run <code>git commit</code> command two more objects are created. <strong>A tree &amp; A commit</strong></p> <p>As you can tree is represented by <code>1be1fd</code></p> <p><a href="https://postimg.cc/BLygyQRF"><img src="https://i.postimg.cc/1XRj88Hv/tree.png" alt="tree.png"></a></p> <p>and commit is represented <code>fcae310</code>. furthermore, if you notice it also has a tree and it represents our directory structure.</p> <p><a href="https://postimg.cc/hQWmTJH2"><img src="https://i.postimg.cc/tJ7z0WDG/commit.png" alt="commit.png"></a></p> <p>If we run <code>git ls-tree &lt;tree&gt;</code> it prompts more us information about our tree and what type of files it contains.</p> <p><a href="https://postimg.cc/Fd7q7KSW"><img src="https://i.postimg.cc/Px4kVp5j/tree-info.png" alt="tree-info.png"></a></p> <p>So we have a file named <code>hello.txt</code> in our tree which is represented as a blob object which it refers to <code>f9cae9b</code>. moreover, file permissions are also tracked by git which is represented as <code>100644</code> in this case. Git is so intelligent that when we change our file name our raw data isn‚Äôt deleted but a new tree is created in our object, therefore, it allows us to change file names easily without losing raw data.</p> <p>Besides, <code>objects/</code> directory we also have <code>refs/</code> and this contains our branches. Branch name acts a reference to the commit. It contains a <code>SHA</code> that is pointing to our commit and it is automatically updated whenever we make a change and commit our file to the repo.</p> <p>So this is how Git works under the hood. Furthermore, Git uses a data structure called <a href="https://medium.com/girl-writes-code/git-is-a-directed-acyclic-graph-and-what-the-heck-does-that-mean-b6c8dec65059">Directed Acyclic Graph</a> and it‚Äôs really interesting to see how git works and how it has made collaboration easier for developers.</p> <p>I hope you enjoyed this post if you think i missed any thing feel free to dm me on <a href="https://twitter.com/">twitter</a> Feel to share it among your friends and colleagues.</p> <h5 id="interesting-links">Interesting Links</h5> <ul> <li><a href="https://www.youtube.com/watch?v=4XpnKHJAok8">Tech Talk: Linus Torvalds on git</a></li> <li><a href="https://www.linuxjournal.com/content/git-origin-story">Git Origin Story</a></li> </ul>  </div> </article>  </div></div>]]>
            </description>
            <link>https://muhammadraza.me/2019/Exploring-Git/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135215</guid>
            <pubDate>Sun, 14 Feb 2021 19:14:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cadgol ‚Äì a cad-native modeling language]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135019">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html | <a href="https://web.archive.org/web/*/https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="entry-6a0133f2f5dd98970b0278801543c5200d">
   <div>
			
	



	<div>
		<div>
			<p><em>[A copy of this blog is available on <a href="https://github.com/karimyaghmour/cadgol">github</a>]</em></p>

<p>Modeling real-world objects with computers traditionally requires using
graphical user interfaces to design, model and simulate such objects and their
interactions and reactions to external objects and forces. Such an approach is,
at first, intuitive since the designer is visually interacting and "crafting"
the object as they go. As explained by Jessie Frazelle
<a href="https://github.com/EmbeddedVentures/community">here</a>, there are limits to this
approach and there's a need for a programming-like language for the creation of
complex shapes using text-based entry similar to a software development
process.</p>

<p>Unfortunately, such a language doesn't presently exist. Or, at the very least,
the existing examples don't provide all the necessary constructs and
capabilities of their fully-featured graphical-based counterparts. Hence,
there's a need to design something that aims at providing the same level of
functionality as a modern CAD tool but based on programming-style paradigms.
But objects aren't software. While some of their features could be usefully
repeated using math-like software expressions, objects are infinitely more
complex in their variety and functionality. There is no "Von Neuman" model for
objects. Looking at traditional software languages alone is therefore not a very
good starting point.</p>

<p>If software alone won't cut then are there already languages and semantics
spaces that can be used to model things other than software? The immediate
obvious answer are RTL/HDL-languages such as Verilog and VHDL. They generally
comprise two types of construct: sequential and combinatorial circuits. They
somewhat look similar but synthesize into different constructs at the hardware
level ... which real physical structures as the final output in the case of ASIC
fabrication. That, though, isn't necessarily why HDLs are most interesting. The
more interesting thing about RTL is how we eventually got to how it's done
today.</p>

<p>Already in the '60s it appears there were attempts at describing hardware using
<a href="https://en.wikipedia.org/wiki/Hardware_description_language#History">software-like languages</a>.
The seminal work, though, seems to be Bell and Newell's 1971 "Computer
Structures: Readings and Examples". In this book, Bell and Newell catalog dozens
of processors and, most importantly, devise a language and notation to describe
those processors in a uniform fashion. They also introduce the term
"register-transfer level" which they define as "The components of an RT system
are registers and functional transfers between registers", which is precisely
what Verilog, VHDL and other modern-day HDLs do. The Instruction Set Processor
(ISP) notation which they describe in their book is then further refined in
further articles and used in the seminal "Introduction to VLSI Systems" by Meade
and Conway.</p>

<p>Now, why is that Bell and Newell so important to the present analysis? Well,
because what lands Bell and Newell to devise ISP is their need to catalog a very
wide variety of systems using a single descriptive language. Which then begs the
question. Is there are catalog of real-world objects that provides us with, if
nothing else, the proper semantic space to properly describe complex real-world
objects in a fashion that fully encompasses their functionality in the same was
a modern day CAD tool would?</p>

<p>It turns out that not only such a thing exists, but it's been being worked on
for a few hundred years and is likely one of the most important pillars of the
world economy. What could that possibly be you ask? Well, simply put,
... patents and, more specifically, the language of patent claims. The fact of
the matter is that in order to be granted, patent claims <strong>must</strong> describe an
invention, typically a real-world physically-structured object, in a
sufficiently unique fashion as to distinguish it from all previously-devised
objects, be they in patents or elsewhere. Consequently, an unimaginable amount
of human intellectual effort has been invested over time in elaborating and
evolving the precision and accuracy of patent claim language to describe all
features and structures of objects humans can envision. There is, therefore,
fertile ground in looking at patent claim language as the basis of a CAD-grade
descriptive language.</p>

<p>Which brings us the current proposal. Based on the needs and analysis above,
what is proposed is a C-like descriptive language that uses patent-claim-like
statements to describe real-world objects for the purpose of being "compiled",
simulated and otherwise processed by tools for enabling designers to create
and analyze the behavior of complex objects. This is, by its very nature, a
rough cut meant to elicit feedback and further discussion. There is likely much
work to be done in specifying semantics, conventions and validating the
usefulness and feasibility of such an approach. Nevertheless, here is what's
proposed as being "cadgol", a cad-native modeling language.</p>

<h2>cadgol example</h2>

<p>Let's start with a cadgol "Hello World!". Here's a mahogany chair in cadgol:</p>

<pre>/*
 * mohagony-chair.cgol
 *
 * A mohagony chair with 4 legs
 *
 * (C) Karim Yaghmour, 2021
 *
 * [ ASL ]
 */

/* The components we need and their local names */
comprises chair.leg as leg_fl, leg_fr, leg_bl, leg_br;
comprises chair.seat as main_seat;
comprises chair.back as main_back;

/* Material */
madeof wood.mohagony.honduran;

/* Fastners */
connector fastners.glue.wood.generic as glue;

/* Initialize component sizes */
leg_fl { dia: 1; height: 16 };
leg_fr { dia: 1; height: 16 };
leg_bl { dia: 1; height: 16 };
leg_br { dia: 1; height: 16 };
main_seat { width: 20; depth: 18, height: 1, leg_dia: 1 };
main_back { width: 10; depth: 1, height: 20 };

/* Assemble components */
assemblage {
    main_seat-&gt;leg-&gt;front-&gt;left  += glue(leg_fl);
    main_seat-&gt;leg-&gt;front-&gt;right += glue(leg_fr);
    main_seat-&gt;leg-&gt;back-&gt;left += glue(leg_bl);
    main_seat-&gt;leg-&gt;back-&gt;right += glue(leg_br);
    main_seat-&gt;back += glue(main_back);
}
</pre>

<p>The <code>comprises</code> statements here indicate the "library" components we are
including and the local instances of said components. There's presumably a
library called <code>chair</code> which has such things as <code>leg</code>, <code>seat</code> and <code>back</code>. Those
are assumed to be generic enough to be used in different chairs.</p>

<p>The <code>madeof</code> statement indicates the material this object is made of and is
assumed to come from a global library of materials. Materials likely provide the
object with color, mass, thermal conductivity, electrical connectivity, Young's
modulus, bending stiffness, etc. An individual object is likely made of a single
material (otherwise use the <code>composite.</code> library ;) ), although a complex object
could be made of several parts made of several differently-typed components. In
this case, the chair is made of Honduran Mahogany, and it's assumed that the
components included didn't themselves already have materials specified for
them. Hence, we can separate describing a part in mathematical terms from the
type of material that's used to make it.</p>

<p>The <code>connector</code> is whatever can be used to connect parts together. In this case
we're using glue as a fastener, and it's a generic wood glue. In a more complex
object we can imagine that other types of connectors could be used such as
welding, injection molding, etc.</p>

<p>Now that we've listed what parts are needed, what the present object is made of,
and the type of connectors used to put it together, we provide some specific
parameters about the components. In this case the description is provided as a
CSS-like set of values based on the types of parameters that can be used to
dictate the part's specifics.</p>

<p>Finally we assemble the object together by connecting the parts together based
on the anchors available for each part. The <code>+=</code> semantics are used to indicate
that it's possible that many objects may connect at a given anchoring
point/surface/axis. Think for example of an injection-molded part which has
many subparts being joined at a specific location.</p>

<p>That's the overall chair.</p>

<p>If we just take a look at the seat, it would look something like this:</p>

<pre>/*
 * chair/seat.cgol
 *
 * A generic chair seat for a chair with 4 legs and a back
 * ...
 */

/**
 * Seat model
 * @width:           seat width
 * @depth:           seat depth
 * @height:          seat height
 * @leg_dia:         leg diameter (assuming round pegs)
 *
 * Models a seat as a basic cube with round pegged legs
 *
 * Note: some variables are implicitly available in all "modeledas()"
 * functions. "anchor" is such a variable.
 */
modeledas(int width, int depth, int height, int leg_dia) {
    object o;
    surface s;
    contact c, r;
    int recess_x, recess_y;

    /* A very simple seat */
    o = cuboid(width, depth, height);

    /* Connectors for legs */
    s = o.bottom();
    c = circle(leg_diameter);
    recess_x = 0.1 * s.x_size;
    recess_y = 0.1 * s.y_size;
    anchor.add("leg-&gt;front-&gt;left") = planar_intersect(s, c, recess_x, recess_y);
    anchor.add("leg-&gt;front-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, recess_y);
    anchor.add("leg-&gt;back-&gt;left") = planar_intersect(s, c, recess_x, s.y_size - recess_y);
    anchor.add("leg-&gt;back-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, s.y_size - recess_y);

    /* Connectors for back */
    s = o.top();
    r = rectangle(x, 0.1 * y);
    anchor.add("back") = planar_intersect(s, r, 0, s.y_size);
}   
</pre>

<p>The <code>modeledas</code> statement takes parameters coming from the initialization of the
part and actually creates the part based on those parameters while also
specifying the anchors to be defined for connecting to this part.  In this case,
the seat is a basic cuboid and recessed anchoring points for attaching legs at
its bottom, and an anchoring point for the back. More complex formulas could be
used used to specify the object or we could leave it open for inclusion of
hand-drawn objects in some IDE such as the ones provided by classic CAD
tools. This would be similar to the way Verilog/VHDL enable including
parts/components/libraries which are "hand drawn" to a ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</a></em></p>]]>
            </description>
            <link>https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135019</guid>
            <pubDate>Sun, 14 Feb 2021 18:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[For the Love of Macros]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134929">thread link</a>) | @mbrubeck
<br/>
February 14, 2021 | https://matklad.github.io/2021/02/14/for-the-love-of-macros.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2021/02/14/for-the-love-of-macros.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Feb 14, 2021</p>
  <div id="preamble">
<div>
<p>I‚Äôve been re-reading Ted Kaminski blog about software design.
I highly recommend all the posts, especially the earlier ones
(here‚Äôs <a href="https://www.tedinski.com/2018/01/16/how-humans-write-programs.html">the first</a>).
He manages to offer design advice which is both non-trivial and sound (a subjective judgment of course), a rare specimen!</p>
<p>Anyway, one of the insights of the series is that, when designing an abstraction, we always face the inherent tradeoff between power and properties.
The more we can express using a particular abstraction, the less we can say about the code using it.
Our human bias for more expressive power is not inherent however.
This is evident in programming language communities, where users unceasingly ask for new features and language designers say no.</p>
<p>Macros are a language feature which is very far in the ‚Äúmore power‚Äù side of the chart.
Macros give you an ability to abstract over the source code.
In exchange, you give up the ability to (automatically) reason about the surface syntax.
As a specific <a href="https://rust-analyzer.github.io/blog/2020/03/30/macros-vs-rename.html">example</a>, rename refactoring doesn‚Äôt work 100% reliably in languages with powerful macro systems.</p>
<p>I do think that, in the ideal world, this is a wrong trade for a language which wants to scale to gigantic projects.
The ability to automatically reason about and transform source code gains in importance when you add more programmers, more years, and more millions of lines of code.
But take this with a huuuge grain of salt‚Äâ‚Äî‚ÄâI am obviously biased, having spent several years developing Rust IDEs.</p>
<p>That said, macros have a tremendous appeal‚Äâ‚Äî‚Äâthey are a language designer‚Äôs duct tape.
Macros are rarely the best tool for the job, but they can do almost any job.
The language design is incremental.
A macro system relives the design pressure by providing a ready poor man‚Äôs substitute for many features.</p>
<p>In this post, I want to explore what macros are used for in Rust.
The intention is to find solutions which do not give up the ‚Äúreasoning about source code‚Äù property.</p>
</div>
</div>
<div>
<h2 id="string-interpolation"><a href="#string-interpolation"></a>String Interpolation</h2>
<div>
<p>By far, the most common use-case is the <code>format!</code> family of macros.
The macro-less solution here is straightforward‚Äâ‚Äî‚Äâa string interpolation syntax:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>key</span> <span>=</span> <span>"number"</span><span>;</span>
<span>let</span> <span>value</span> <span>=</span> <span>||</span> <span>92</span><span>;</span>
<span>let</span> <span>f</span> <span>=</span> <span>f</span><span>"$key: ${values()}"</span><span>;</span>
<span>assert_eq!</span><span>(</span><span>t</span><span>.to_string</span><span>(),</span> <span>"number: 92"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>In Rust, interpolation probably shouldn‚Äôt construct a string directly.
Instead, it can produce a value implementing <code>Display</code> (just like <code>format_args!</code>), which can avoid allocations.
An interesting extension would be to allow iterating over format string pieces.
That way, the interpolation syntax could be used for things like SQL statements or command line arguments, without the fear of introducing injection vulnerabilities:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre><span>let</span> <span>arg</span> <span>=</span> <span>"my dir"</span><span>;</span>
<span>let</span> <span>cmd</span> <span>=</span> <span>f</span><span>"ls $arg"</span><span>.to_cmd</span><span>();</span>
<span>assert_eq!</span><span>(</span><span>cmd</span><span>.to_string</span><span>(),</span> <span>"ls 'my dir'"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p><a href="https://julialang.org/blog/2012/03/shelling-out-sucks/">This post</a> about Julia programming language explains the issue.
<a href="https://github.com/matklad/xshell"><code>xshell</code></a> crate implements this idea for Rust.</p>
</div>
</div>
<div>
<h2 id="derives"><a href="#derives"></a>Derives</h2>
<div>
<p>I think the second most common, and probably the most important use of macros in Rust are derives.
Rust is one of the few languages which gets equality right (and forbids comparing apples and oranges), but this crucially depends on the ability to <code>derive(Eq)</code>.
Common solutions in this space are special casing in the compiler (Haskell‚Äôs <code>deriving</code>) or runtime reflection.</p>
<p>But the solution I am most excited about are C# <a href="https://devblogs.microsoft.com/dotnet/introducing-c-source-generators/">source generators</a>.
Which are nothing new‚Äâ‚Äî‚Äâthis is just the old (source) code generation, just with a nice quality of implementation.
You can supply custom code which gets run during the build and which can read existing sources and generate additional files, which are then added back to the compilation.</p>
<p>The beauty of this solution is that it moves all the complexity out of the language and into the build system.
This means that you get baseline tooling support for free.
Goto definition definition for generated code? Just works.
Want to step into some serialization code while debugging? There‚Äôs actual source code on disk, so feel free to!
You are more of a <code>printf</code> person? Well, you‚Äôd need to convince the build system to not stomp over your changes, but, otherwise, why not?</p>
<p>Additionally, source generators turn out to be significantly <em>more</em> expressive.
They can call into the Roslyn compiler to analyzer the source code, so they are capable of type-directed code generation.</p>
<p>To be useful, source generators require some language level support for splitting a single entity across several files.
In C#, partial classes play this role.</p>
</div>
</div>
<div>
<h2 id="domain-specific-languages"><a href="#domain-specific-languages"></a>Domain Specific Languages</h2>
<div>
<p>The raison d‚Äô√™tre of macros is implementation of embedded DSLs.
We want to introduce custom syntax within the language for succinctly modeling the program‚Äôs domain.
For example, a macro can be used to embed HTML fragments in Rust code.</p>
<p>To me personally, eDSL is not problem to be solved, but just a problem.
Introducing a new sublanguage (even if small) spends a lot of cognitive complexity budget.
If you need it once in a while, better stick to just chaining together somewhat verbose function calls.
If you need it a lot, it makes sense to introduce external DSL, with a compiler, a language server, and all the tooling that makes programming productive.
To me, macro-based DSLs just don‚Äôt fell like an interesting point on the cost-benefit curve.</p>
<p>That being said, the Kotlin programming language solves the problem of strongly-typed, tooling-friendly DSL nicely (<a href="https://kotlinlang.org/docs/type-safe-builders.html#how-it-works">example</a>).
Infuriatingly, it‚Äôs hard to point what <em>specifically</em> is the solution.
It‚Äôs ‚Ä¶‚Äã just the concrete syntax mostly.
Here are some ingredients:</p>
<div>
<ul>
<li>
<p>The syntax for closures is <code>{ arg -&gt; body }</code>, or just <code>{ body }</code>, so closures syntactically resemble blocks.</p>
</li>
<li>
<p>Extension methods (which are just sugar for static methods).</p>
</li>
<li>
<p>Java style implicit <code>this</code>, which introduces names into scope without an explicit declaration.</p>
</li>
<li>
<p><a href="https://boats.gitlab.io/blog/post/the-problem-of-effects/">TCP-preserving</a> inline closures (this the single non-syntactical feature)</p>
</li>
</ul>
</div>
<p>Nonetheless, this was not enough to implement Jetpack Compose UI DSL, it also needs a compiler plugin.</p>
</div>
</div>
<div>
<h2 id="sqlx"><a href="#sqlx"></a>sqlx</h2>
<div>
<p>An interesting case of a DSL I want to call out is <a href="https://docs.rs/sqlx/0.5.1/sqlx/macro.query.html"><code>sqlx::query</code></a>.
It allows one to write code like this:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
</pre></td><td><pre><span>let</span> <span>account</span> <span>=</span>
  <span>sqlx</span><span>::</span><span>query!</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>

<span>// anonymous struct has `#[derive(Debug)]` for convenience</span>
<span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>account</span><span>);</span>
<span>println!</span><span>(</span><span>"{}: {}"</span><span>,</span> <span>account</span><span>.id</span><span>,</span> <span>account</span><span>.name</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>This I think is one of the few cases where eDSL does really pull its weight.
I don‚Äôt know how to do this without macros.
Using string interpolation (the advanced version to protect from injection), it is possible to specify the query.
Using a source generator, it is possible to check the syntax of the query and verity the types, to, eg, raise a type error in this case:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>(</span><span>id</span><span>,</span> <span>name</span><span>):</span> <span>(</span><span>i32</span><span>,</span> <span>f32</span><span>)</span> <span>=</span>
  <span>query</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>But this won‚Äôt be enough to generate an anonymous struct, or to get rid of dynamic casts.</p>
</div>
</div>
<div>
<h2 id="conditional-compilation"><a href="#conditional-compilation"></a>Conditional Compilation</h2>
<div>
<p>Rust also uses macros for conditional compilation.
This use case convincingly demonstrates ‚Äúlack of properties‚Äù aspect of power.
Dealing with feature combinations is a perpetual headache for Cargo.
Users have to repeatedly recompile large chunks of the crate graph when feature flags change.
Catching a type error on CI with <code>cargo test --no-default-features</code> is pretty annoying, especially if you did run <code>cargo test</code> before submitting a PR.
‚ÄúAdditive Features‚Äù is an uncheckable wishful thinking.</p>
<p>In this case, I don‚Äôt know a good macro-less alternative.
But, in principle, this seems doable, if conditional compilation is pushed further down the compiler pipeline, to the code generation and linking stage.
Rather than discarding some code early during parsing, the compiler can select the platform-specific version just before producing machine code for a function.
Before that, it checks that all conditionally-compiled versions of the function have the same interface.
That way, platform-specific type errors are impossible.</p>
</div>
</div>
<div>
<h2 id="placeholder-syntax"><a href="#placeholder-syntax"></a>Placeholder Syntax</h2>
<div>
<p>The final use-case I want to cover is that of a placeholder syntax.
Rust‚Äôs <code>macro_call!(‚Ä¶‚Äã)</code> syntax carves a well-isolated region where anything goes, syntax wise, as long as the parenthesis are balanced.
In theory, this allow language designers to experiment with provisional syntax before setting something in stone.
In practice, it looks like this is not at all that beneficial?
There was some opposition to stabilizing postfix <code>.await</code> without going via intermediate period with <code>await!</code> macro.
And, after stabilization, all <em>syntax</em> discussions were immediately forgotten?
On the other hand, we did have <code>try! -&gt; ?</code> transition, and I don‚Äôt think it helped to uncover any design pitfalls?
At least, we managed to stabilize the <a href="https://internals.rust-lang.org/t/can-try-and-use-the-into-trait-instead-of-from/6714">unnecessary restrictive</a> desugaring on that one.</p>
<hr>
<p>For conclusion, I want to circle back to source generators.
What <em>exactly</em> makes them easier for tooling than macros?
I think the following three properties do.
<em>First</em>, both input and output is, fundamentally, text.
There‚Äôs no intermediate representation (like token trees), which is used by this meta-programming facility.
This means that it doesn‚Äôt need to be integrated deeply with the compiler.
Of course, internally the tool is free to parse, typecheck and transform the code however it likes.
<em>Second</em>, there is a phase distinction.
Source generators are executed once, in unordered fashion.
There‚Äôs no back and forth between meta programming and name resolution, which, again, allows to keep ‚Äúmeta‚Äù part outside.
<em>Third</em>, source generators can only add code, they can not change the meaning of the existing code.
This means that semantically sound source code transformations remains so in the presence of a code generator.</p>
<p>That‚Äôs all!
Discussion on <a href="https://old.reddit.com/r/rust/comments/ljnkwg/blog_post_for_the_love_of_macros/">/r/rust</a>.</p>
</div>
</div>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2021/02/14/for-the-love-of-macros.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134929</guid>
            <pubDate>Sun, 14 Feb 2021 18:46:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Graphics Programming Weekly]]>
            </title>
            <description>
<![CDATA[
Score 160 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26134854">thread link</a>) | @E-Reverance
<br/>
February 14, 2021 | https://www.jendrikillner.com/tags/weekly/ | <a href="https://web.archive.org/web/*/https://www.jendrikillner.com/tags/weekly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  

  

  
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-170/">Graphics Programming weekly - Issue 170 ‚Äî February 14, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 14, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-169/">Graphics Programming weekly - Issue 169 ‚Äî February 7, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 7, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-168/">Graphics Programming weekly - Issue 168 ‚Äî January 31, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 31, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-167/">Graphics Programming weekly - Issue 167 ‚Äî January 24, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 24, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-166/">Graphics Programming weekly - Issue 166 ‚Äî January 17, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 17, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-165/">Graphics Programming weekly - Issue 165 ‚Äî January 10, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 10, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-164/">Graphics Programming weekly - Issue 164 ‚Äî January 3, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 3, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-163/">Graphics Programming weekly - Issue 163 ‚Äî December 27, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 27, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-162/">Graphics Programming weekly - Issue 162 ‚Äî December 20, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 20, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-161/">Graphics Programming weekly - Issue 161 ‚Äî December 13, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 13, 2020.
      
    </p>
  </div>
  

  
<nav>
  <ul>
    
    
    <li><a href="https://www.jendrikillner.com/tags/weekly/page/2/">Next ¬ª</a></li>
    
  </ul>
</nav>



</div></div>]]>
            </description>
            <link>https://www.jendrikillner.com/tags/weekly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134854</guid>
            <pubDate>Sun, 14 Feb 2021 18:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parler‚Äôs epic fail: A crash course on running your own servers]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 116 (<a href="https://news.ycombinator.com/item?id=26134691">thread link</a>) | @fireeyed
<br/>
February 14, 2021 | https://blog.alexgleason.me/run-your-own-server/ | <a href="https://web.archive.org/web/*/https://blog.alexgleason.me/run-your-own-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.alexgleason.me/content/images/size/w300/2021/02/poweredge.png 300w,
                            https://blog.alexgleason.me/content/images/size/w600/2021/02/poweredge.png 600w,
                            https://blog.alexgleason.me/content/images/size/w1000/2021/02/poweredge.png 1000w,
                            https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png" alt="Parler‚Äôs epic fail: A crash course on running your own servers with a shoestring budget">
            </figure>

            <section>
                <div>
                    <blockquote>First they came for the Communists,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Communist.<br>Then they came for the Jews,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Jew.<br>Then they came for the Catholics,<br>and I didn‚Äôt speak up,<br>because I was a Protestant.<br>Then they came for me,<br>and by that time there was no one<br>left to speak up for me.</blockquote><p>In the early days of 2021 we learned the true power of American tech companies. After Trump was ousted by Twitter, the social media alternative Parler was cut off by their cloud hosting provider, Amazon.</p><p>Where do we go from here? What can a freedom-minded person do to avoid censorship by tech oligarchs?</p><p>The only way is to meet them at their level. In some industries it's impossible to challenge the establishment, but anyone can have a voice on the Internet. This is still true in 2021.</p><h2 id="cloud-hosting-vs-real-computers">Cloud hosting vs real computers</h2><p>Cloud hosting has made it easy for anyone to run a website. It lowered the barrier of entry, improved tech literacy, and I wouldn't be where I am today without it. But it's time to cut out the middleman.</p><p>You can run a real server anywhere there's power and an internet connection. You can run a server from your home. You can run it from someone else's home. You can run it from a datacenter in an undisclosed location.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/TPB_servers.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Servers for The Pirate Bay at an undisclosed location.</figcaption></figure><p>It's true an ISP can censor, but it's a whole different playing field. You can find datacenters run by Conservative Boomers, Russians, porn companies, and principled free speech advocates. By the time it becomes a bigger problem, I'm sure some of us will be <a href="https://startyourownisp.com/">running our own ISP</a>, too.</p><p>It's a great ability to be able to pick up and move, plug in somewhere else, and continue to stay online. I argue that your chances of survival are much better this way, and Parler is foolish for not going this route. We can do better.</p><h2 id="getting-started-with-a-computer-on-your-home-internet">Getting started with a computer on your home internet</h2><p>Our mission is to run a high-availability production server in a datacenter. But first, we should should experiment with a server at home. Here's what you will need to achieve it:</p><ul><li>An internet connection</li><li>A computer running 24/7</li><li>A router that lets you configure port forwarding</li><li>Ethernet cables</li></ul><p>For higher availability, you may consider:</p><ul><li>Battery backup</li><li>Wireless 4G backup connection</li><li>Fiber-optic internet connection</li></ul><figure><img src="https://blog.alexgleason.me/content/images/2021/02/image.png" alt=""><figcaption>The 'first' Pirate Bay server, on display at the Computer Museum in Link√∂ping, Sweden.</figcaption></figure><p>Running a server at home is a good starting point. It could serve as a testing facility, production backup, or even serve a small online community. Chances are, you already have all the equipment needed.</p><p>Check out <a href="https://www.reddit.com/r/homelab/">/r/homelab</a> on Reddit for inspiration.</p><p>It is critical you have fast enough <strong>upload </strong>speeds if you're serving real users. Check out <a href="https://www.speedtest.net/">speedtest.net</a> to find out.</p><p>With upload speeds as low as 5 Mbps, you may be able to host an online community with 20,000 users. Keep in mind your video calls will compete for upload bandwidth on the home network.</p><p>If you score a fiber internet connection, that is really good, as it can give up to 1 Gbps <em>upload</em> speeds. That's quite literally datacenter levels of bandwidth at your home.</p><p>With this setup, you must be able to accept power outages and potential network failures. A battery backup and wireless internet backup can help with this.</p><p>Some people have taken this concept very far, building literal datacenters in their homes.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/datacenter.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Home datacenter by Qu√©bec, Canada IT Teacher <a href="https://ve2cuy.wordpress.com/my-home-data-center/">VE2CUY</a>.</figcaption></figure><p>To make your computer accessible from the outside world, you can configure a port forward in your router. This will allow users to visit your public IP address to access your home server. You may then accordingly set up some domain names for your public IP.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-14-12-38.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1011w" sizes="(min-width: 720px) 720px"><figcaption>My home router, forwarding ports 80 and 443 to my server's local IP.</figcaption></figure><p>Some ISPs offer expensive business plans that give you a static IP address, but I just used my dynamic IP. It seems to change rarely, if ever.</p><h2 id="obtaining-a-rack-server">Obtaining a rack server</h2><p>When running a home server isn't enough, you'll need to move into a datacenter.</p><p>Before getting into a datacenter, you'll need a computer than can fit into a standard rack. Rack servers are very similar to desktops, but come in a form factor of 1U, 2U, 3U, and 4U.</p><p>1U describes the height. 2U is the same height as two 1U servers, and so on. A typical rack at a datacenter is 42U, so it can fit fourty-two 1U servers, or twenty-one 2U. The depth of a server is also variable, but that doesn't really matter unless you're buying a rack. Servers are all the same width.</p><p>The server I chose is a <a href="https://downloads.dell.com/manuals/all-products/esuprt_ser_stor_net/esuprt_poweredge/poweredge-r720_reference-guide_en-us.pdf">Dell PowerEdge R720</a>, which I purchased for $450 off eBay. This 2U server has 32 vCores, 64 GB of RAM, and a RAID interface with 8 HDD slots.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1000w, https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1478w" sizes="(min-width: 720px) 720px"><figcaption>My Dell PowerEdge R720 connected to my home internet.</figcaption></figure><p>It connects to the wall with standard power cables. There are 4 Ethernet ports, two USB ports, and a VGA input for attaching a screen.</p><p>Note that it's a lot bigger than you think! Make sure you have space for it.</p><p>I chose a PowerEdge because they're beloved by hobbyists, and a lot of information exists about them online. My model is from 2012, which seems to be a sweet spot between power and affordability. These machines are built to last a very long time.</p><p>Other models from that era are equally good. For a 1U option, consider a PowerEdge R320. To understand the naming convention: the R stands for "rack", while the R3xx and R7xx are 1U and 2U products respectively. The <a href="https://www.dell.com/en-us/work/shop/dell-poweredge-servers/sc/servers/poweredge-rack-servers">newest PowerEdge models right now</a> are the R340 and R740.</p><p>You should run this server from your home internet at first, while you get things up and running.</p><h3 id="installing-hard-drives">Installing hard drives</h3><p>For obvious reasons, hard drives were not included. Right now, refurbished 4TB SATA HDDs have the best cost per Gigabyte. I bought some off Amazon. HGST brand is a good bet, as they are inexpensive refurbished Western Digital drives with a different label.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/sata_vs_sas.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg 1000w" sizes="(min-width: 720px) 720px"><figcaption>SATA drive on top, SAS on the bottom.</figcaption></figure><p>It's worth noting most servers support SAS drives also. SAS is an alternative to SATA with better reliability and a different performance profile. The connector in my R720 is actually a SAS connector, but SATA drives fit into them and work just fine.</p><p>I went with SATA for my build because of better price and availability. Just know it's an option, and don't mix and match them while doing RAID.</p><h3 id="differences-in-ram">Differences in RAM</h3><p>My PowerEdge uses DDR3 RDIMM memory. I should note that UDIMM and LDIMM are also options. Traditional desktop computers use UDIMM (unbuffered memory), while servers have an option between 3 different types. You must not mix different types in the same computer.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1000w, https://blog.alexgleason.me/content/images/size/w1600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1600w, https://blog.alexgleason.me/content/images/size/w2400/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Registered memory (RDIMM)</figcaption></figure><p>RDIMM (registered memory) is the most common type of memory for servers. Each stick contains an extra chip (a register) used to reduce load to the memory controller, letting your hardware last longer.</p><p>When upgrading RAM, you should also pay special attention to the <strong>rank</strong> of the memory. Rank is usually a number between 1 and 4. Your server has a maximum allowed rank per channel, so if the total rank is too high you might have to leave some slots empty.</p><h3 id="installing-an-os">Installing an OS</h3><p>For the OS, I cannot recommend <a href="https://www.proxmox.com/en/proxmox-ve">Proxmox VE</a> enough. It allows you to easily create virtual machines without much knowledge or pain.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-09-14-06-22.png 600w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png 951w" sizes="(min-width: 720px) 720px"><figcaption>Proxmox VE running on my server.</figcaption></figure><p>I recommend this for a first server because of its flexibility, and you can always add bare metal nodes to the network later. All virtual machines appear as first-class citizens on the host network, so you can easily network them with physical nodes.</p><h3 id="further-learning">Further learning</h3><p>YouTube has been a godsend for helping me learn all this stuff and set it up. Here are a few recommendations:</p><ul><li><a href="https://www.youtube.com/watch?v=86KK_dZoCJ0">Manually Updating the Firmwares on a Dell PowerEdge R610</a> by Rob Willis</li><li><a href="https://www.youtube.com/watch?v=ck3gx9HB9-k&amp;list=PLSNNzog5eydtmcbcbc1b8pVRkgre3vNUy">Switching and Routing</a> by Sunny Classroom</li><li><a href="https://www.youtube.com/watch?v=6-66D9J5PkY">Data Center NETWORKS (what do they look like??)</a> by NetworkChuck</li><li><a href="https://www.youtube.com/watch?v=hdoBQNI_Ab8">How to Virtualize Your Home Router / Firewall Using pfSense</a> by Techno Tim</li><li><a href="https://www.youtube.com/watch?v=wFCc3ts74pQ">A DAY in the LIFE of the DATA CENTRE | RACKING SERVERS with ASH &amp; JAMES!</a> by Custodian Data Centres</li></ul><h2 id="installing-your-server-at-a-local-datacenter">Installing your server at a local datacenter</h2><p>Once your rack server is all set up and ready to go, it's time to move it to a datacenter.</p><p>Some datacenters are privately owned by a single company like Google, but many others are independent companies that lease their racks to anyone willing to pay. This is called <em>colocation</em>.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/h2_data_center_banner_bg.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.datafoundry.com/">Data Foundry</a>, an independent Houston datacenter offering colocation.</figcaption></figure><p>If you live near a metropolitan area, chances are there's a datacenter nearby willing to let you install your own server. You will get access to power, high speed internet, and multiple layers of security.</p><p>Try searching "&lt;my city&gt; datacenter" or "&lt;my city&gt; ISP".</p><p>If they offer it, I recommend scheduling a tour with a local datacenter. It's a lot of fun and will give you a better idea of what you're dealing with.</p><p>Most datacenters only lease by the rack. These racks can hold up to 42 servers and are far too expensive. What you need is a company that lives <em>inside </em>the datacenter and is willing to lease you space <em>within</em> a single rack. You are looking for something like this:</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-12-40-34.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1151w" sizes="(min-width: 720px) 720px"><figcaption>Colo pricing from <a href="https://www.layerhost.com/houston-colocation">LayerHost</a> in Houston. LayerHost is located inside of Data Foundry.</figcaption></figure><p>When I installed my server at the datacenter, it went something like this:</p><ol><li>I purchased a plan from the website.</li><li>The datacenter provided me network information over email, including a static IPv4 block, which I used to configure my server's network.</li><li>Using support tickets, we scheduled a time to install the server.</li><li>On that day, I drove to the datacenter and parked. I sent a text message to the provided phone number and a technician came outside. We wheeled my server in on a cart, through some doors, into the rack area.</li><li>The technician installed my server on the rack and connected it to the network.</li><li>I made final changes and tested that I could access my server from outside.</li><li>That's it! Voil√†, you're in a datacenter.</li></ol><p>While this may seem daunting, it is a necessary next step for freedom online. I hope that more people will follow this path of running their ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexgleason.me/run-your-own-server/">https://blog.alexgleason.me/run-your-own-server/</a></em></p>]]>
            </description>
            <link>https://blog.alexgleason.me/run-your-own-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134691</guid>
            <pubDate>Sun, 14 Feb 2021 18:20:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple G13 GPU Architecture Reference]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134462">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://dougallj.github.io/applegpu/docs.html | <a href="https://web.archive.org/web/*/https://dougallj.github.io/applegpu/docs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p>
This document attempts to describe the Apple G13 GPU architecture, as used
in the M1 SoC. This is based on reverse engineering and is likely to have mistakes.
The Metal Shading Language is typically used to program these GPUs,
and this document uses Metal terminology. For example a CPU <em>SIMD-lane</em>
is a Metal <em>thread</em>, and a CPU <em>thread</em> is a Metal <em>SIMD-group</em>.
</p>

<p>
The G13 architecture has 32 threads per SIMD-group. Each SIMD-group has a
stack pointer (<code>sp</code>), a program counter (<code>pc</code>), a 32-bit
execution mask (<code>exec_mask</code>), and up to 128 general purpose registers.
</p>

<p>
General purpose registers each store one 32-bit value per thread. Each register
can be accessed as a 32-bit register, named <code>r0</code> to <code>r127</code>,
the low 16-bits of the register <code>r0l</code> to <code>r127l</code>, or
the high 16-bits of the register <code>r0h</code> to <code>r127h</code>.
Some instructions may also use pairs of contiguous 32-bit registers to operate
on 64-bit values, and memory operations may use up to four contiguous 16 or
32-bit registers (in both cases, encoded as the first register).
</p>

<p>
A number of physical registers are allocated to each SIMD-group, and registers
from <code>r0</code> to <code>r(N-1)</code> may be used, but accesses to higher
register numbers are not valid, and may read or corrupt data from other
SIMD-groups. Using fewer registers (e.g. by using 16-bit types instead of
32-bit types) allows more SIMD-groups to fit in the physical register file
(higher occupancy), which improves performance.
</p>

<p>
Certain instructions are hardcoded to use early registers. <code>r0l</code>
tracks the execution mask stack, and <code>r1</code> is used as the link register.
</p>

<p>
Shared state is less well understood, but includes 256 32-bit uniform registers
named <code>u0</code> to <code>u255</code> and similarly accessible as their
16-bit halves, <code>u0l</code> to <code>u255h</code>. These are used for values
that are the same across all threads, such as <code>threads_per_grid</code>, or
addresses of buffers.
</p>

<h2>Conditional Execution</h2>

<p>
Each thread within a SIMD-group may be deactivated, meaning the values in registers
for that thread will keep their current value. Whether or not each thread is active
is tracked in a 32-bit execution mask (in this document, by convention, a one bit
indicates the thread is active and a zero bit indicates it is not).
</p>

<p>
<code>r0l</code> tracks the execution mask stack. When used with flow-control
instructions, the value in <code>r0l</code> indicates how many 'pop' operations
will be needed to re-enable an inactive thread, or zero if the thread is active.
</p>

<p>
The execution mask stack instructions (<code>pop_exec</code>, <code>if_*cmp</code>,
<code>else_*cmp</code> and <code>while_*cmp</code>) are typically used to manage
<code>r0l</code>. They also update <code>exec_mask</code> based on the value in
<code>r0l</code>, and are the only known way to manipulate <code>exec_mask</code>.
However, <code>r0l</code> may be manipulated with other instructions. It should
be initialised to zero prior to using execution mask stack instructions, and
<code>break</code> statements may be implemented by conditionally moving
a value (corresponding to the number of stack-levels to break out of) to
<code>r0l</code> and using a <code>pop_exec 0</code> (which deactivates any
threads that now have non-zero values in <code>r0l</code>).
</p>

<p>
The <code>jmp_exec_none</code> instruction may be used to jump over an <code>if</code>
statement body if no threads are active, and the <code>jmp_exec_any</code> may be used
to jump back to the start of the loop only if one or more threads are still executing
the loop.
</p>

<p>
Execution masking generally prevents reading or writing values from inactive threads,
however SIMD shuffle instructions can read from inactive threads in some cases, which
can be valuable for research or debugging purposes (e.g. it allows observing non-zero
values in <code>r0l</code>).
</p>

<h2>Register Cache</h2>

<p>The GPU has a register cache, which keeps the contents of recently used general
purpose registers more quickly accessible. When instructions read or write GPRs,
they usually allow hints for the access to be encoded. The <code>cache</code> hint,
on a source or destination operand, indicates the value will be used again,
and should be cached (meaning other values, where this hint was not used, will
be preferred for eviction). The <code>discard</code> hint (on a source operand)
invalidates the value in the register cache after all operands have been read,
without writing it back to the register file.</p>

<p>While the <code>cache</code> hint should only change performance, the
<code>discard</code> hint will make future reads undefined, which could
lead to confusing issues. <code>discard</code> should probably not
be used with conditional execution.</p>

<p>
Either hint may be used multiple times even if the same operand appears twice,
and <code>discard</code> on a source register can be used with <code>cache</code>
on the same destination register.
</p>





<p>
Instructions vary in length in multiples of two bytes up to twelve bytes (so far).
Some instructions have a long and short encoding. This is indicated by a bit
<code>L</code>, which, if zero, indicates the last two (or four) bytes of the
instruction are omitted, and any bits within those bytes should be read as zero.
So far only 12-byte instructions omit the last four bytes, and all others omit
the last two.
</p>

<p>
The encodings are described in little-endian, meaning bytes go right-to-left
(and top-to-bottom), but bits may be read in the usual numerical order.
</p>

<p>
Behaviour is mostly described in a Python-like pseudocode for now. In operand
descriptions, the <code>:</code> operator describes bit concatenation, with
the most-significant fields first. Elsewhere, values are considered to be
Python-style arbitrary-precision integers, and floating-point values are
considered to be arbitrary-precision floats (although double-precision with
round-to-odd may be an adequate approximation).
</p>

<p>
<label for="wrapcheckbox">
  
  Wrap bit diagrams
</label>
<br>
<label for="rightcheckbox">
  
  Right-align bit diagrams
</label>
</p>

<h2>Move Instructions</h2>
<h3>mov (Move 16-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="16">imm16</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="16">imm16</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm16)
</pre>
<h3>mov (Move 32-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="32">imm32</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="32">imm32</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm32)
</pre>
<h3>get_sr (Move From Special Register)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td></tr></tbody></table></div><div><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
SR = SReg32(SRx:SR)

for each active thread:
  D[thread] = SR.read(thread)
</pre>
<h2>Integer Arithmetic Instructions</h2>
<h3>iadd (Integer Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = AddSrc(Ax:A, At, As)
B = AddSrc(Bx:B, Bt, Bs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]

  saturating = (S == 1 and shift == 0 and A.thread_bit_size &lt;= 32 and
                B.thread_bit_size &lt;= 32 and D.thread_bit_size &lt;= 32)

  if N == 1:
    b = -b

  if shift &lt; 5:
    b &lt;&lt;= shift
  else:
    b = 0

  result = a + b

  if saturating:
    signed = (As == 1 or Bs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h3>imadd (Integer Multiply-Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = MulSrc(Ax:A, At, As)
B = MulSrc(Bx:B, Bt, Bs)
C = AddSrc(Cx:C, Ct, Cs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  saturating = (S == 1 and shift == 0 and C.thread_bit_size &lt;= 32 and
                D.thread_bit_size &lt;= 32)

  if N == 1:
    c = -c

  if shift &lt; 5:
    c &lt;&lt;= shift
  else:
    c = 0

  result = a * b + c

  if saturating:
    signed = (As == 1 or Bs == 1 or Cs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h2>Shift/Bitfield Instructions</h2>
<h3>bfi (Bitfield Insert/Shift Left)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~(mask &lt;&lt; shift_amount)) | ((b &amp; mask) &lt;&lt; shift_amount)

  D[thread] = result
</pre>
<h3>bfeil (Bitfield Extract and Insert Low/Shift Right)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~mask) | ((b &gt;&gt; shift_amount) &amp; mask)

  D[thread] = result
</pre>
<h3>extr (Extract From Register Pair)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td>‚Ä¶</tr></thead></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dougallj.github.io/applegpu/docs.html">https://dougallj.github.io/applegpu/docs.html</a></em></p>]]>
            </description>
            <link>https://dougallj.github.io/applegpu/docs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134462</guid>
            <pubDate>Sun, 14 Feb 2021 17:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(Very) Basic Intro to Elliptic Curve Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 203 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26134240">thread link</a>) | @wagslane
<br/>
February 14, 2021 | https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>Elliptic curve cryptography is a modern <a aria-label=" (opens in a new tab)" href="https://searchsecurity.techtarget.com/definition/public-key" target="_blank" rel="noreferrer noopener nofollow">public-key&nbsp;encryption&nbsp;</a>technique based on mathematical elliptic curves and is well-known for creating smaller, faster, and more efficient cryptographic keys. For example, <a aria-label=" (opens in a new tab)" href="https://bitcoin.org/" rel="noreferrer noopener nofollow" target="_blank">Bitcoin</a> uses ECC as its asymmetric cryptosystem because of its lightweight nature.</p>
<p>In this introduction to ECC, I want to focus on the high-level ideas that make <a aria-label="ECC (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" target="_blank">ECC</a> work. For the purposes of keeping this article easier to digest, I‚Äôll omit implementation details and mathematical proofs, we can save those for another time.</p>
<h2>What is elliptic curve cryptography used&nbsp;for?</h2>
<p>A common use of ECC is to encrypt data so that only authorized parties can decrypt it. This has several obvious use cases but is most often used to encrypt internet traffic. For example, on the <a href="https://qvault.io/">Qvault web app</a> I could used ECC to encrypt a verification email so that no one but the recipient can read the message.</p>
<h2>ECC is public-key cryptography</h2>
<p>There are many types of public-key cryptography, and Elliptic Curve Cryptography is just one flavor. Other algorithms include <a aria-label="RSA (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" target="_blank">RSA</a>, <a aria-label="Diffie-Helman (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank">Diffie-Helman</a>, etc. Let‚Äôs go over a quick background of public-key cryptography as a jumping-off point, so that I can discuss ECC and build on top of these ideas. By all means, study more in-depth on public-key cryptography when you have the time.</p>
<p>Public-key cryptography allows the following to happen:</p>

<p>We create two keys, a public key, and a private key. The public key is given freely, and any party can encrypt data by using it. However, the private key is kept secret and only those who hold it will have the ability to decrypt data.</p>
<h2>An example of public-key cryptography</h2>
<p>Let‚Äôs pretend that Facebook is going to receive a private post from Donald Trump. Facebook needs to be able to ensure that when the ex-president sends his post over the internet, no one in the middle (Like the NSA, or an internet service provider) can read the message. The entire exchange using public-key cryptography would go like this:</p>
<ul><li>Donald Trump Notifies Facebook that he wants to send them a private post</li><li>Facebook sends Donald Trump their public key</li><li>Donald Trump uses the public key to encrypt his post:</li></ul>
<p><em>‚ÄúI love Fox and Friends‚Äù + Public Key = ‚Äús80s1s9sadjds9s‚Äù</em></p>
<ul><li>Donald Trump sends only the encrypted message to Facebook</li><li>Facebook uses its private key to decrypt the message:</li></ul>
<p><em>‚Äús80s1s9sadjds9s‚Äù + Private Key = ‚ÄúI love Fox and Friends‚Äù</em></p>
<p>As you can see, this form of encryption can be quite useful. Here are some key points:</p>
<ul><li>The public key can safely be sent to anyone. It‚Äôs public.</li><li>The private key must be kept safe because if someone in the middle were to get the private key, they could decrypt messages.</li><li>Computers can quickly use the public key to encrypt a message, and quickly use the private key to decrypt a message.</li><li>Computers require a <em>very</em> long time (millions of years) to derive the original data from the encrypted message if they don‚Äôt have the private key.</li></ul>
<h2>How it Works: The Trapdoor&nbsp;Function</h2>
<p>The crux of all public-key cryptographic algorithms is that they each have their own unique trapdoor function<strong>. </strong>A trapdoor function is a function that can only be computed one way, or at least can only be computed one way <em>easily</em> (in less than millions of years using modern computers).</p>
<h3>Not a trapdoor function:</h3>
<p><code>A + B = C</code></p>
<p>If I‚Äôm given A and B I can compute C. However, if I‚Äôm given B and C I can also compute A. This is not a trapdoor function.</p>
<h3>Trapdoor function:</h3>
<p><code>"I love Fox and Friends‚Äù + Public Key --&gt; s80s1s9sadjds9s</code></p>
<p>If given <em>‚ÄúI love Fox and Friends‚Äù</em> and the public key, I can produce <code>s80s1s9sadjds9s</code>, but if given <code>s80s1s9sadjds9s</code> and the Public Key I can‚Äôt produce <em>‚ÄúI love Fox and Friends‚Äù</em></p>
<p>In RSA, which is arguably the most widely used public-key cryptosystem, the trapdoor function relies on how hard it is to factor large numbers into their prime factors.</p>
<p><strong>Public Key:</strong> <code>944,871,836,856,449,473</code></p>
<p><strong>Private Key:</strong> <code>961,748,941</code> and <code>982,451,653</code></p>
<p>In the example above the public key is a very large number, and the private key is the two prime factors of the public key. This is a good example of a Trapdoor Function because it is very easy to multiply the numbers in the private key together to get the public key, but if all you have is the public key it will take a very long time using a computer to re-create the private key.</p>
<p><em>Note: In real cryptography, the private key would need to be 200+ digits long to be considered secure.</em></p>
<h2>What Makes Elliptic Curve Cryptography Different?</h2>
<p>You would use ECC for the same reasons as RSA. ECC and RSA both generate a public and private key and allow two parties to communicate securely. One advantage to ECC however, is that a 256-bit key in ECC offers about the same security as a 3072-bit key using RSA. ECC allows resource-constrained systems like smartphones, embedded computers, and cryptocurrency networks to use ~10% of the storage space and bandwidth required by RSA.</p>
<h2>ECC‚Äôs Trapdoor&nbsp;Function</h2>
<p>This is probably why most of you are here. The trapdoor function is what makes ECC special and different than RSA. The trapdoor function is similar to a mathematical game of pool.</p>
<p>First, we start with an arbitrary point on the curve. Next, we use the dot function to find a new point. Finally, we keep repeating the dot function to hop around the curve until we finally end up at our last point. Let‚Äôs walk through the algorithm.</p>

<ul><li>Starting at <code>A</code>:</li><li><code>A dot B = -C</code> (Draw a line from A to B and it intersects at -C)</li><li>Reflect across the X-axis from -C to C</li><li><code>A dot C = -D</code> (Draw a line from A to C and it intersects -D)</li><li>Reflect across the X-axis from -D to D</li><li><code>A dot D = -E</code> (Draw a line from A to D and it intersects -E)</li><li>Reflect across the X-axis from -E to E</li></ul>
<p>This is a great trapdoor function because if you know where the starting point (A) is and how many hops are required to get to the ending point (E), it‚Äôs very easy to find the ending point. On the other hand, if all you know is where the starting point and ending point are, it‚Äôs nearly impossible to find how many hops it took to get there.</p>
<p>Public Key: Starting Point A, Ending Point E</p>
<p>Private Key: Number of hops from A to E</p>
<h2>Questions?</h2>
<p>Here are a few questions I had when I first learned about ECC. Hopefully, I can address them properly.</p>
<h3>1. How is the second point found? If the dot function is basically drawing a line between two points, don‚Äôt you need a second point to start&nbsp;with?</h3>
<p>No. The second point (we will call it -R below) is actually the result of P dot P (let‚Äôs assume the first point is called P)</p>
<p><code>P dot P = -R</code></p>
<p>So what is <code>P dot P</code>? It is actually just the tangent line of P. See the graphic below:</p>

<h3>2. What happens if the dot function produces a line that will go way off out to some&nbsp;extreme?</h3>
<p>If the line doesn‚Äôt hit the curve close to the origin, we can actually define a maximum X value where the line will wrap back around and start from the beginning again. See the graphic below for an example.</p>

<h3>3. If the number of hops is the private key, can‚Äôt I just count the hops until I hit the endpoint?</h3>
<p>Nope! The number of hops is <em>very</em> large, something like <code>2^256</code>. It would take far too long to compute each hop one by one, for example <code>p dot p dot p dot p ...</code>.</p>
<p>If however, you know the number of hops you can use an <a href="https://en.wikipedia.org/wiki/Exponentiation_by_squaring" target="_blank" aria-label="exponentiation (opens in a new tab)" rel="noreferrer noopener nofollow">exponentiation</a> trick to find the ending point quite quickly. For example, and omitting the details of elliptic curve operations: <code>2P = P dot P</code> and then <code>4P = 2P dot 2P</code>. This allows you to get up to those crazy high calculations exponentially faster.</p>
<h2>Who Cares?</h2>
<p>ECC is used as the cryptographic key algorithm in Bitcoin because it potentially can save ~90% of the resources used by a similar RSA system. It seems that each year we see more systems moving from RSA to a more modern elliptic curve approach.</p>
<div><div>
<h2>Thanks For Reading!</h2>
<p>If you‚Äôre interested in furthering your CS career, take our <a href="https://qvault.io/">computer science courses</a></p>
<p>Follow and hit us up on Twitter <a href="https://twitter.com/q_vault" rel="noopener">@q_vault</a> if you have any questions or comments, and if we‚Äôve made a mistake be sure to <a href="https://qvault.io/contact/">let us know</a> so we can get it corrected!</p>
<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe" rel="noopener">Subscribe</a> to our newsletter for more programming articles</p>
</div></div>
<h2>Related Articles</h2>
<ul><li><a href="https://qvault.io/2020/01/29/hashing-passwords-python-cryptography-examples/">Hashing Passwords ‚Äì Python Cryptography Examples</a></li><li><a href="https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/">How SHA-2 Works Step-By-Step (SHA-256)</a></li><li><a href="https://qvault.io/2019/07/09/is-aes-256-quantum-resistant/">Is AES-256 Quantum Resistant?</a></li></ul>
 </div></div>]]>
            </description>
            <link>https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134240</guid>
            <pubDate>Sun, 14 Feb 2021 17:33:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comcast Backs Off Plan to Impose New Fees on Heavy-Duty Internet Users]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26134040">thread link</a>) | @CapitalistCartr
<br/>
February 14, 2021 | https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/ | <a href="https://web.archive.org/web/*/https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="pico"><h3>Cable-company criticized for asking customers to pay more during public-health emergency, when high-speed internet is critical to students, some employees</h3><p><em>This story was written and produced by NJ Spotlight. It is being republished under a special NJ News Commons content-sharing agreement related to COVID-19 coverage. To read more, visit njspotlight.com.</em></p><p><em>Full story link ‚Äì <a href="https://www.njspotlight.com/2020/06/we-cant-unsee-racial-inequities-in-nj-made-clear-by-covid-19-whats-the-plan-to-address-them/" target="_blank" rel="noopener noreferrer">HERE</a>.</em></p><p data-autoattached="true">By Tom Johnson</p><p>Comcast is postponing until July its plan to impose new fees on customers who are heavy users of its internet services after widespread criticism for proposing to increase bills during a public-health emergency.</p><p>The postponement came after pressure from lawmakers and consumer advocates. They argued such a step was inappropriate at a time when many students and others are relying heavily on the internet because of the coronavirus pandemic. The cap on data use was effective Jan. 1 for Comcast customers in the Northeast region, including New Jersey,</p><p>In New Jersey, lawmakers have introduced legislation (<a href="https://bf1f7a75-24f0-4a30-89f1-4410f141a906/v" target="_blank" rel="noopener">S-3410</a>) that would prevent internet service providers from increasing rates during a public-health emergency. In Pennsylvania, the state‚Äôs attorney general‚Äôs office secured a commitment last week from Comcast, a Philadelphia-based cable company, to delay imposing the new fees on data usage to current customers there and throughout the Northeast.</p><p>The plan calls for a monthly data-usage cap of 1.2 terabytes. If customers exceed the data limit, they could be charged anywhere from $10 to $100 on top of their existing bills, depending on their data usage. Comcast began monitoring customers‚Äô data usage at the beginning of the year, but had held off imposing the fees until March.</p><h3>‚ÄòUnconscionable‚Äô to levy an extra fee</h3><p>‚ÄúDuring the COVID-19 pandemic, it is unconscionable for a cable company to levy an extra fee for using their internet,‚Äô‚Äô said Sen. Nicholas Scutari (D-Union), the sponsor of the bill in the New Jersey Legislature. ‚ÄúRight now people are relying on their home internet more than ever ‚Äî for work, for their children to attend school, to shop for groceries and to schedule COVID-19 testing and vaccinations.‚Äô‚Äô</p><p>The legislation, introduced a week ago, has not yet moved in either house of the Legislature.</p><p>In a news release, Comcast said it is delaying imposition of the new fees for six months to provide its customers in the Northeast time to familiarize themselves with the data-usage plan and their service options.</p><p>The company said the new limit on data usage only affects a ‚Äúvery small percentage of its customers.‚Äô‚Äô Comcast is also giving its low-income customers some help by doubling the speed for those who subscribe to its Internet Essentials service and not imposing data limits on that plan for the rest of the year. In addition, the company is waiving early termination fees for customers who do not want to be subject to caps on data usage.</p><p>In New Jersey, the state Board of Public Utilities has received some complaints from customers about the new fee but is unable to take action because it does not regulate internet service, according to Peter Peretzman, a spokesman for the agency. There are no plans to investigate the problem, he added.</p><p><em>Photo by <a href="https://unsplash.com/@nasa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">NASA</a> on </em><a href="https://unsplash.com/s/photos/internet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"><em>Unsplash</em></a></p></div></div></div>]]>
            </description>
            <link>https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134040</guid>
            <pubDate>Sun, 14 Feb 2021 17:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chris Sacca's Act 2: Lowercarbon Capital]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 51 (<a href="https://news.ycombinator.com/item?id=26133941">thread link</a>) | @simonebrunozzi
<br/>
February 14, 2021 | https://lowercarboncapital.com/act2/ | <a href="https://web.archive.org/web/*/https://lowercarboncapital.com/act2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div>
<div>
<div><figure><img loading="lazy" src="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1292%2C808&amp;ssl=1" alt="" width="1292" height="808" srcset="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?w=1723&amp;ssl=1 1723w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=300%2C188&amp;ssl=1 300w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1024%2C640&amp;ssl=1 1024w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=768%2C480&amp;ssl=1 768w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1536%2C960&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"></figure></div>
</div>
</div>







<p><em>Because we‚Äôve run the numbers, and shit‚Äôs not great</em>.</p>







<p>Four years ago, Crystal and I retired from venture capital to carve out more time for things that matter, with Earth‚Äôs climate disaster at the top of the list. Why? The situation is much worse than it seems. The planet is warming faster than experts predicted. Rising temperatures fuel lethal heat waves, year-round fires, destructive storms, and epic droughts that are already killing thousands of people around the globe, displacing millions more, and sowing the seeds of famine, disease, and war. Heavy stuff.</p>



<p>Academic debates about exactly how many degrees the planet will warm, which species will go extinct, how many millions of people will be killed by extreme weather, which wars and refugee crises will result from drought, and whether sea levels will rise 10, 20, or 30 feet all miss the point. The bottom line is the planet is becoming unlivable. If you‚Äôre the quantitative type, well, we drew some samples, crunched a few numbers and, according to our exact scientific calculations: A lot of shit will be pretty fucked up.</p>



<p>In simplest terms, more carbon equals more heat, and more heat equals more death. This is an established and unavoidable fact. Today, the levels of CO<sub>2</sub> in the atmosphere are higher than at any point in at least 800,000 years (and arguably as far back as 23 million). Pumping all this CO<sub>2</sub> into the sky is like locking ourselves in a car on a sunny day.</p>







<h2><span>What will it take to get us out of this nightmare? </span></h2>



<p>Electric cars and solar panels are awesome but only a part of the picture. To bring down CO<sub>2</sub> in the atmosphere it will take:</p>



<blockquote><p><span><span>01</span></span>   Slashing new emissions of CO<sub>2</sub> and other greenhouse gases to zero.</p><p><span><span>02</span></span>   Sucking up at least a trillion tons of carbon already swirling around the sky.</p><p><span><span>03</span></span>   Buying all of humanity, including those most vulnerable, more time by actively cooling the planet.</p></blockquote>



<p>I am not new to this challenge. Way back when I was at Google, I was tasked with leading many of the company‚Äôs clean energy deals, repping execs in meetings with policy groups and think tanks, and exploring innovative ways to use technology to reduce the carbon footprint of a company that was, at the time, rumored to the be the largest individual power consumer in two or three US states. (If saying that violates my Google NDA, then no, we definitely weren‚Äôt a massive user of electrical power. Nothing to see here.)</p>



<p>In the years that followed, Crystal and I have been active supporters of legislative and regulatory efforts to address the problems, as well as funders of philanthropy and activism in the climate space. We‚Äôve been poking around academic labs, comparing notes with environmental non-profits, briefing political leaders, cajoling philanthropists, sponsoring research and primers, and advising companies concerned about the climate emergency.&nbsp;</p>



<p>After almost 20 years of this work, here is what we know to be true:</p>



<p><strong>Policy change alone ain‚Äôt gonna get us there.</strong> High fives to everyone who is working on clean tech regulatory initiatives. This vital work brings down real costs, creates research breakthroughs, and keeps urgent climate issues front and center. But even the most aggressive ideas on the table today fall short of the drastic action needed.&nbsp;</p>



<p><strong>Guilt and shame don‚Äôt and won‚Äôt change anything at scale. </strong>There simply aren‚Äôt enough people willing to buy more expensive products nor companies on board with overpaying for sustainable materials just because they feel bad. Cheers to consumers and companies that spend a little more to choose options with climate in mind. You‚Äôve undoubtedly helped create a new generation of climate friendly companies. However, we need about seven billion more of you to get on board before the impact will be meaningful enough.&nbsp;</p>



<p><strong>Philanthropy is way too small and cautious</strong>. For the better part of twenty years, climate philanthropy has been overwhelmingly focused on consumer awareness campaigns to persuade people that climate change is real and to turn out their lights. But there‚Äôs been too little appetite to invest in hardcore, massive change. Bless you and those paper straws, but unless we zero out the billions of tons of CO<sub>2</sub> emissions from huge sectors like aviation, steelmaking, industrial chemicals, building, and farming, we are screwed.</p>



<p>So, policy, philanthropy, and individual behavior do have roles to play, but the real solutions to the carbon nightmare will win because they‚Äôre cheaper, better, faster, stronger, simpler, and just plain cooler than what‚Äôs available today.&nbsp;</p>



<p>Markets already understand that it‚Äôs too damn expensive to keep powering our economy by digging up and burning old dinosaur bones. In most places today, solar and wind are cheaper and scale faster. What you might not know yet is that technologies that grow chemicals in bioreactors or boost crop yields are already outperforming 100-year-old industrial processes that are dirty and dangerous. We see this happening in protein, transportation, chemicals, building materials, and even mining too. This radical shift isn‚Äôt just because of some warm and fuzzies. These are real businesses, with insane growth, and some posting nine-figure revenue run rates.</p>



<p>We‚Äôre on a clear trajectory to 8.5 billion people on this planet. I‚Äôm going out on a limb and predict they‚Äôll want to eat, build houses, go places, buy stuff, and enjoy life. Fair to say? The most profitable companies meeting this demand will be those that sell products and services that use less carbon because they are ultimately the cheapest to offer. In simple terms, cutting gigatons of CO<sub>2</sub>, mass market adoption, and generating piles of money will go hand-in-hand.</p>







<h2><span>Who knew we would look forward to email?</span></h2>



<p>When the word got out that we were starting to dig into climate tech, our inboxes blew up. Notes came in from very small and unreasonably ambitious teams taking on intimidatingly large projects to slash CO<sub>2</sub> emissions and suck carbon right out of the air. Frankly, we‚Äôve never felt so energized reading our email. It was everything we loved about startups colliding with all of the urgency we felt for helping a planet on fire.&nbsp;</p>



<p>There is also a dynamic that makes climate tech today different from clean tech 15 years ago. It reminds me of the dramatic shift in startup economics that made YCombinator and its companies possible. Back then, the rise of open-source coding tools, cloud hosting, and the elimination of legal and financing friction empowered a new type of company and a new type of company-builder. The old way required millions of dollars and a rash of bankers and lawyers to even consider writing the first line of code. Suddenly startups had tiny, ragtag teams, usually without any fancy MBAs on board, raising tens to hundreds of thousands of dollars for services and apps that they built and launched within weeks.</p>



<p>In climate tech, we have seen the same evolution. I appreciate the investors who have been plowing money into this stuff for decades and I admire their passion and commitment to doing the right thing. But, too often low-carbon businesses were among the most expensive to start. CapEx was bonkers right out of the gate, and most companies relied upon government intervention to even approach viability.</p>



<p>Are we excited to see the Biden/Harris administration finally at the wheel? Hell yes. They believe in science and have made climate a priority across the entire federal government. We have the deepest respect for Secretary Kerry and Gina McCarthy, and we admire the depth of expertise and hustle we are seeing across the staffers accepting roles to serve the USA to advance climate work. As members of Climate Leaders for Biden, and as a consequence of our involvement across the industry, we have already been in close touch with the administration and we are beyond heartened to see how serious they are about climate. Multiple times, Crystal and I have spoken directly with President Biden about climate and I can assure you he gets the gravity and urgency of the moment. Yet, despite all that, we aren‚Äôt counting on the government‚Äôs direct help in our investment thesis. Why?</p>



<p>Today, with shared lab space, massive computing clusters available for rent, proliferation of machine learning, cheap renewable electricity, the discovery of CRISPR/Cas9, breakthroughs in electrochemistry, and more streamlined tech transfer from universities, true seed-stage climate tech startups are possible at scale. Some benefit from grants and government investment, and no doubt healthy public investment in research and science lifts all boats, but barely any of these climate tech companies count on governments for handouts because they increasingly can rely upon free markets to reward them with customers. Add to this what might be the first generation of hard science engineers who, inspired by a prior, similar shift in computer science academia, now go to school knowing from day one they want to graduate to directly become company founders. These teams are taking their innovations straight to consumers and enterprises who may not vote for the same people nor share the same climate values, but who buy their products and services because they are just simply cheaper and better.&nbsp;&nbsp;</p>







<h2><span>We call this thing Lowercarbon Capital.</span></h2>



<p>It wasn‚Äôt in the master plan to get back into the investing world full-time. But after a few years of doing this work, we picked up our heads and realized we now have a portfolio of over 30 climate teams and growing.&nbsp;</p>



<p>Our startups straddle a delicate line between, ‚ÄúWhaaa? That‚Äôs absolutely bananas!‚Äù to, ‚ÄúNo way. Are you f‚Äôing kidding me?!‚Äù You know, chill stuff like confining plasma that‚Äôs hotter than the sun or growing full-on real meat steaks in a vat. Maybe using microbes to make hundreds of millions of dollars of industrial chemicals is your thing, or you‚Äôre into kelp-growing robots in the high seas. I‚Äôm kinda partial to ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lowercarboncapital.com/act2/">https://lowercarboncapital.com/act2/</a></em></p>]]>
            </description>
            <link>https://lowercarboncapital.com/act2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133941</guid>
            <pubDate>Sun, 14 Feb 2021 17:02:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I implemented custom domain support with automatic TLS certs for my SaaS app]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26133626">thread link</a>) | @thismodernlife
<br/>
February 14, 2021 | https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app | <a href="https://web.archive.org/web/*/https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
<p><em>Managing hosting and TLS certificates for customer-specified domains can be a challenge. In this article I explain how I solved this, with relative ease, for </em><a href="https://blogline.co/"><em>blogline.co</em></a><em>. </em></p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDQ_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--50537ee2d3ede9beee2c26547182f39a1de404ef" content-type="image/jpeg" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/franck-DoWZMPZ-M9s-unsplash.jpg" filename="franck-DoWZMPZ-M9s-unsplash.jpg" filesize="34685" width="700" height="358" previewable="true" presentation="gallery" caption="https://unsplash.com/photos/DoWZMPZ-M9s"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--a716ef5bd361b6dfee383a3ae715134b65b59d48/franck-DoWZMPZ-M9s-unsplash.jpg">

  <figcaption>
      https://unsplash.com/photos/DoWZMPZ-M9s
  </figcaption>
</figure></action-text-attachment><p>When I first started working on <a href="https://blogline.co/">Blogline</a> (a fast, minimalist blogging platform), I had only planned to use it for my own blogs. Like most app developers (certainly those using <a href="https://rubyonrails.org/">Rails</a>), I originally hosted it on <a href="https://heroku.com/">Heroku</a>, which has decent support for TLS if you're working with only a handful of known domains. Once I'd finished the early prototype, I decided it might be fun to turn it into a SaaS product that would allow customers to <strong>create a blog on their own domain in seconds</strong>. This didn't sound complicated technically ‚Äì the main problem was how to manage TLS certificates.</p></div>

<div><p>When <a href="https://letsencrypt.org/">LetsEncrypt</a> arrived, it hugely altered the TLS landscape. Developers could now programatically create TLS certificates for free rather than forking out quite large sums each year for the privilege of running their apps and sites over HTTPS. </p><p>For Blogline, I figured I would need to use LetsEncrypt (or an alternative like <a href="https://zerossl.com/">ZeroSSL</a>) in order to get custom domains working. When someone <a href="https://help.blogline.co/adding-a-custom-domain">configured their blog to use a custom domain</a> in the app, I could run a job in the background that would generate a TLS certificate using <a href="https://certbot.eff.org/">Certbot</a>, then call a Heroku API to somehow configure Heroku to deal with it correctly. Right? This didn't sound particularly fun, or perhaps even doable, so I started Googling.</p></div>

<div><p>I found an article, enticingly titled <a href="https://www.cloudflare.com/en-gb/ssl-for-saas-providers/">SSL for SaaS Providers</a> on the Cloudflare website. Their marketing suggests this product might allow me to do what I want without actually having to implement anything ‚Äì my laziness was paying off already!&nbsp;</p></div>
<blockquote>Cloudflare SSL for SaaS allows a SaaS company‚Äôs end customer to continue using a custom vanity domain, while securing its communication through SSL.&nbsp;</blockquote>
<div>
<p>Unfortunately, I had to fill out a <strong>Talk To Us!</strong> form in order to get a price quote, and further Googling told me this was available only to Enterprise customers (üí∏üí∏üí∏) and would cost thousands (!) per month.&nbsp;</p><p>Moving swiftly on...</p></div>

<div><p>Although the zero-effort Cloudflare solution had been ripped out of my miserly hands, my incessant Googling had helped me figure out that the search term I needed was "on-demand TLS". The top hit for this term was <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjA67emzunuAhVTiFwKHSEFBTMQFjAAegQIBhAC&amp;url=https%3A%2F%2Fcaddyserver.com%2Fdocs%2Fautomatic-https&amp;usg=AOvVaw3jgL_xUvfCfAbe1SvHRDyx">Caddy Web Server</a>, something I had never heard of before. The Caddy website states:</p></div>
<blockquote>Automatic HTTPS provisions TLS certificates for all your sites and keeps them renewed. It also redirects HTTP to HTTPS for you!</blockquote>
<div>
<p>This sounded almost too good to be true, but this 29-second video demonstrates how incredibly simple it is to use:</p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSInZ2lkOi8vYmxvZ2xpbmUvRW1iZWQvMzE_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--f0fa8e56f789b0ef1526c2b0fb0e6d7918364905" content-type="application/octet-stream"><p>
  <iframe width="200" height="150" src="https://www.youtube.com/embed/nk4EWHvvZtI?feature=oembed"></iframe>
</p>
</action-text-attachment></div>
<div><p>A few quick experiments and it was clear that Caddy was exactly the right tool for the job. It's amazing! It's not that often you come across a tool that not only solves a complex problem, but does so painlessly. Serious kudos to the Caddy developers and community.</p><p>My app was still hosted in Heroku and so I needed to get Caddy working as a reverse proxy, something which is surprisingly easy. I created a $5 droplet on <a href="https://m.do.co/c/b1753df861c4">DigitalOcean</a>, installed Caddy (<a href="https://caddyserver.com/docs/install">a one liner on Ubuntu</a>) and configured it to reverse proxy requests to my Heroku app. The entire config looked something like this:</p></div>
<pre> reverse_proxy * {
    to https:<em>//myapp.herokuapp.com</em>

    header_up Host {http.reverse_proxy.upstream.hostport}
    header_up X-Forwarded-For {http.request.remote}
    header_up X-Real-IP {http.reverse-proxy.upstream.address}
    header_up X-Forwarded-Proto {http.request.scheme}
    header_up X-Forwarded-Port {http.request.port}
    header_up X-Forwarded-Host {http.request.host}
    
    tls { 
      on_demand 
    }
    
    log {
      output file /var/log/caddy/access.log
    }  
}</pre>
<div>
<p>The primary DNS for <strong>blogline.co</strong> didn't need to change since I'd already sorted TLS with Heroku for that domain, but for blogs configured with custom domains, all a customer needed to do was point their DNS to my new DigitalOcean droplet and let Caddy do the rest. </p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDU_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--ea8f27e81469040cd2dc6328ebacc49b162aa108" content-type="image/png" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/image.png" filename="image.png" filesize="140833" width="1142" height="722" previewable="true" presentation="gallery"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--8e53091023a64453f29344de82e7f7cbaa8dfb83/image.png">

  <figcaption>
  </figcaption>
</figure></action-text-attachment><p>It works!&nbsp;</p></div>

<div><p>This initial implementation was working ok, but there were a few things that I wanted to improve.&nbsp;</p><p>I was a little concerned in the back of my mind that Caddy was storing the TLS certificates on my DigitalOcean droplet, of which there was only one. What if my app was wildly successful (right now I'm like ü§£) and I had to load balance Caddy. If you leave the default configuration in place, each Caddy instance will generate and store their own copies of TLS certificates which could cause issues with LetsEncrypt rate limits.</p><p>The Caddy developers have made it easy to generate plugins, and there are several storage back-ends you can configure so that multiple Caddy instances share the same certs. The main options for storage are Redis and DynamoDB. I was already running Redis, so it made sense to use that. I had to jump through a few hoops to get the plugin running since the default Ubuntu Caddy install doesn't support them ‚Äì you have to build them yourself. Fortunately this is pretty straight forward.</p><p>First you need Golang 14:</p></div>
<pre>sudo apt install golang-1.14-go</pre>


<pre>go get -u github.com/caddyserver/xcaddy/cmd/xcaddy</pre>
<div>
<p>Then you can build Caddy with the Redis plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis</pre>
<div>
<p>This will generate a new Caddy binary which you can copy into <strong>/usr/bin</strong>.</p><p>Configuring Caddy is straightforward. I just added the following to the top of my config (while also configuring the referenced environment variables on my system):</p></div>
<pre>{ 
  storage redis { 
    host {$CADDY_CLUSTERING_REDIS_HOST} 
    port {$CADDY_CLUSTERING_REDIS_PORT} 
    password {$CADDY_CLUSTERING_REDIS_PASSWORD} 
    db {$CADDY_CLUSTERING_REDIS_DB} 
    tls_enabled {$CADDY_CLUSTERING_REDIS_TLS} 
    aes_key {$CADDY_CLUSTERING_REDIS_AESKEY} 
  }
}</pre>
<div>
<p>With certs now being stored in Redis, I could fire up as many Caddy instances as I like and point them to the same Redis instance. No dupes.</p></div>

<div><p>If you have a site running on the public internet, you're going to be hit by bot requests. What you don't want is bots hitting your Caddy-delivered app with spurious requests that result in LetsEncrypt certificates being created inadvertently, and rate limits being maxed out. Obviously I didn't read the manual properly, so this happened to me ü§¶üèª‚Äç‚ôÇÔ∏è.</p><p>Caddy allows you to <a href="https://caddyserver.com/docs/caddyfile/options#on-demand-tls">configure an endpoint for verifying whether it should try and provision a TLS cert</a> for a given domain. For Blogline, this is a simple Rails action that performs a single DB query and returns <strong>200</strong> or <strong>404</strong> depending on whether the custom domain is recognised. To configure this endpoint in Caddy, you add a global config:</p></div>
<pre>{ 
  on_demand_tls { 
    ask http://127.0.0.1:1234/my-check-endpoint/ 
    interval 2m 
    burst 5 
  } 
}</pre>


<div><p>Now that I had this running, it made sense to also point the main <strong>blogline.co</strong> domain at Caddy as well. Blogline requires a wildcard certificate but (of course!) Caddy also handles these, as long as you <a href="https://caddy.community/t/how-to-use-dns-provider-modules-in-caddy-2/8148">configure it to access your DNS provider</a>.</p><p>This requires another plugin, so I needed to rebuild Caddy again, this time using the Cloudflare DNS plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis --with github.com/caddy-dns/cloudflare</pre>
<div>
<p>Once I'd installed the new binary, I added a new section to my Caddy config specifically for the <strong>blogline.co</strong> domain:</p></div>
<pre>*.blogline.co:443 {
    reverse_proxy 127.0.0.1:1234

    tls {
      dns cloudflare &lt;API-token&gt;
    }

    log {
      output file /var/log/caddy/access-blogline.log
    }
}</pre>
<div>
<p>Now all requests to the Blogline app come via Caddy and TLS is handled automagically, including a wildcard certificate for any requests to the <strong>*.blogline.co</strong> domain (e.g. <a href="https://help.blogline.co/">help.blogline.co</a>).</p></div>

<div><p>Proxying requests from DigitalOcean to Heroku wasn't pleasing me, so I decided to move all the hosting to DigitalOcean. Leaving the 'no servers' approach of Heroku was a little worrying as I really don't want to have to deal with infrastructure, but given that I was already server-wrangling with Caddy it didn't seem like too much extra effort. </p><p>Thankfully I discovered the wonderful <a href="https://hatchbox.io/?via=olly">HatchBox</a>, developed by Chris Oliver, which made server provisioning and deployment pain a thing of the past. It's absolutely fantastic. Although HatchBox doesn't support Caddy yet (apparently it's coming), it was easy enough to provision the servers first and then install Caddy myself. It hooks into my Github so when I merge a PR, Hatchbox takes care of the deployment. It's essentially the same end-user experience as Heroku.</p><p>Being all-in on DigitalOcean meant I could make use of their Managed Postgres and Managed Redis options, as well as ditching AWS S3 for DigitalOcean Spaces which is API compatible. They have also recently released their <a href="https://www.digitalocean.com/products/app-platform/">managed Kubernetes 'app platform'</a> which is something I plan to look at, and would give me the equivalent serverless infra that Heroku currently provides.</p></div>

<div><p>Some of this might come across initially as complicated, but it's honestly not. There are very few moving parts and you don't need to be a particular adept sysadmin (I am not!) to achieve the same goal. If you get stuck, the <a href="https://caddy.community/">Caddy Community</a> site is excellent.</p><p>I'd love to hear from people about this write up, but also about any alternative approaches that people have taken to solve the same problem. If this is something you've tackled, please <a href="https://headey.net/contact">drop me an email</a> and let me know!</p></div>
</div>

  </div><div data-controller="email-subscribers">
    <p>Subscribe to Email Updates</p>

    

      </div></div>]]>
            </description>
            <link>https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133626</guid>
            <pubDate>Sun, 14 Feb 2021 16:25:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bladeless Wind Turbines]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26133497">thread link</a>) | @kyleShropshire
<br/>
February 14, 2021 | https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462 | <a href="https://web.archive.org/web/*/https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Wind is an essential part of the global 
renewable energy landscape and in the foreseeable future, the reliance 
on it is anticipated to increase. Currently, turbines are the most 
commonly used machines to convert wind energy into electrical energy 
with the movement of the blades fuelling an electricity generator. 
However, the top-heavy nature of conventional wind turbines requires 
high-quality components to avoid structural damage. This factor 
increases the cost of constructing the whole system. On the other hand, 
with the recent innovation of bladeless wind turbines, the risk of 
structural damage to the system can be reduced significantly. Bladeless 
wind turbines do not include rotating blades and are designed in such a 
way that they stand erect and oscillate in response to the vortices. The
reduced weight of these turbines is acting as a primary driver of the 
global bladeless wind turbines market.</p>
<p>The report offers insights into the 
drivers, restraints, and opportunities impacting the growth of the 
market. It calculates the competitive landscape of the market using 
analytical tools such as market attractiveness analysis and Porter‚Äôs 
five force analysis. It presents a holistic perspective of the market‚Äôs 
growth across various regions and product type in terms of revenue as 
well as volume.</p>
<p><strong>Read Report Overview @</strong></p>
<figure><p>
https://www.transparencymarketresearch.com/bladeless-wind-turbines-market.html
</p></figure>
<p><strong>Overview of the Global</strong>&nbsp;<strong>Bladeless Wind Turbines&nbsp;</strong><strong>Market</strong></p>
<p>Bladeless wind turbines contain only a 
few moving parts. They not only help in eliminating noise but also don‚Äôt
pose a threat to birds. This makes them more advanced than their 
earlier counterparts. Moreover, the lower cost of manufacturing and 
maintenance of these turbines is contributing to an increase in their 
demand. In addition to lower costs, these turbines do not suffer large 
drop in power. As a result, more bladeless wind turbines can be 
installed per unit area than conventional wind turbines. These factors, 
collectively, are propelling the growth of the global bladeless wind 
turbines market.</p>
<p>On the flip side, bladeless wind  turbines,&nbsp;being at a nascent stage, are less efficient in the conversion  of captured wind power into electrical energy, thus limiting their  implementation on a large scale. However, the manufacturing of bladeless  wind turbines using advanced technology&nbsp;and enhanced materials is  likely to boost the demand for these turbines in the forthcoming years.</p>
<p>
At present, the global bladeless wind turbine market is&nbsp;being propelled 
by the efforts of a Spanish company, Vortex Bladeless, which has 
innovated a contemporary design of bladeless turbines. With intensive 
ongoing research and product enhancements, more companies are expected 
to enter the market.
</p>

<p>On the basis of region, the global  bladeless wind turbines market is categorized into Western Europe,  Eastern Europe, Asia Pacific, Latin America, North America, and the  Middle East and Africa. The adoption of bladeless wind turbines is  expected to pick up speed in Western Europe owing to presence of  favorable environmental conditions and availability of advanced  technology. Asia Pacific is estimated to flourish due to increasing  government initiatives for promoting wind energy.</p>
</div></div>]]>
            </description>
            <link>https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133497</guid>
            <pubDate>Sun, 14 Feb 2021 16:11:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Entreprenerd: Marketing for Programmers]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133340">thread link</a>) | @athosblade
<br/>
February 14, 2021 | https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers | <a href="https://web.archive.org/web/*/https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <div>
  <div>
    
    <h2>A Condensed Guide to Marketing Software</h2>
    <p><img src="https://www.jackkinsella.ie/assets/entreprenerd/entreprenerd-cover-ee444e819661ce962b44e840eddcf6505208a984b55209ef4ea0d97064a9ac91.jpg" alt="Entreprenerd cover"></p><p>Both the HTML version of the book and the luxury <a href="https://drive.google.com/drive/folders/0B36dwR68NHU3cHJaWWY2Y2E3bkk">Kindle/PDF</a> versions are free forever.</p>
    <h2>Introduction</h2>
    <p>
    In a fair world, meritocracy would rule. Being good at what you do would be all that's necessary to get fans, sales, custom, and acclaim.
    </p>

    <p>
    But we do not live in such a world; our reality is a crowded one, one where only those who shout the loudest get noticed.
    </p>

    <p>
    It is disconcerting to consider our own insignificance, but it is only by taking this perspective that we grasp the difficultly of entering the public√¢‚Ç¨‚Ñ¢s awareness.
    </p>

    <p>
    Given vast access to the machinery of the web and digital publishing, each of us is competing for attention with a billion others. Each of us has but one painting sitting in a gallery housing a thousand others, stationed in a city hosting a thousand such galleries, situated in a world with a thousand such cities. Leaving our painting√¢‚Ç¨‚Ñ¢s discovery to fate alone, our chances of being noticed are little better than those of winning the lotto.
    </p>

    <p>
    This state of affairs is hardly a new one. Charles Ives, considered by some to be the greatest American composer, ceased writing music 18 years before his death. For the remainder of his life, he dedicated himself to promoting and distributing his music. Without this gargantuan effort, it is doubtful that his work would have the acclaim it enjoys today.
    </p>

    <p>
    The ultimate goal of all marketing is to get ever-increasing, self-perpetuating word of mouth (or, to be more modern about it, "recommendation of Reddit" or "tweet of Twitter"). But this is a case of the rich getting richer, of attention begetting attention, of the virtuous circle in full swing. Because word of mouth only kicks in after the snowball is already hurtling down the slope, a more apt question is how to get the thing to budge in the first place.
    </p>

    <p>
    The approach outlined in this book is one possible answer to this question. In a nutshell, the strategy is as follows: You will take out online advertisements and invest in SEO so as to inform relevant members of the public that you exist. Thanks to the potency of these measures, a steady stream of promising leads will arrive to your website. Here, you will apply the psychological tactics of conversion optimisation and copywriting to convince these leads to place orders, download your music, or whatever it is you want them to do. Following their conversion, you will send these past customers automated emails and display remarketing ads so as to keep them coming back to you again and again. Meanwhile, throughout every stage of this process, you will study reports in Google Analytics to discover which particular marketing measures brought you the highest profits. So as not to be fooled by randomness, you will apply statistical significance testing, thereby ensuring that any confidence you have in your marketing conclusions is justified.
    </p>

    <p>
    I want to highlight that not all of your marketing forays will bear fruit. Indeed, most will fail. The reality is that you will need to try out lots of different angles until you find the one that sticks.
    </p>

    <p>
    And with that, let's dive in.
    </p>

    <h2>Table of Contents</h2>
    <ul>
      <li><a href="https://www.jackkinsella.ie/articles/seo-steps-to-take-before-writing-a-single-line-of-code">SEO Steps To Take Before Writing a Single Line of Code</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-on-each-individual-page">SEO on Each Individual Page</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-at-the-whole-website-level">SEO at the Whole Website Level</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-by-mitigating-duplicate-content-issues">SEO by Mitigating Duplicate Content Issues</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-in-image-search">SEO in Image Search</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-through-backlinks">SEO Through Backlinks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-with-social-networks">SEO with Social Networks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-and-internationalisation">SEO and Internationalisation</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/website-copywriting">Website Copywriting</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/google-analytics-lessons">A Lasting Marriage: Google Analytics</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/the-conversion-surgeon-a-guide-to-conversion-rate-optimization">The Conversion Surgeon-Guide to Conversion Optimisation</a></li>
      <li><a target="_blank" href="https://blog.kissmetrics.com/epiphanies-needed-to-grasp-statistical-significance/">Statistical Significant Testing</a> <b> [External: Kissmetrics]</b></li>
      <li><a href="https://www.jackkinsella.ie/articles/email-marketing">Email Marketing</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/introduction-to-paid-advertising">Introduction to Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/building-an-advertising-ready-web-application">Building an Advertising Ready Web Application (and other preparations for advertising)</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/staying-organised-when-advertising">Staying Organised When Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/a-tour-of-targeting">A Tour of Targeting</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/ad-creative-writing-basics">Basics of Writing Ad Creatives</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/strategic-principles-in-paid-advertising">Strategic Principles in Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/optimising-and-debugging-paid-advertisements">Optimising and Debugging Paid Advertisements</a> </li>
    </ul>
  </div>
</div>

      </div></div>]]>
            </description>
            <link>https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133340</guid>
            <pubDate>Sun, 14 Feb 2021 15:52:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A ‚ÄúPredatory‚Äù Stop-Sign Camera Is Terrorizing My Neighborhood]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 17 (<a href="https://news.ycombinator.com/item?id=26133260">thread link</a>) | @LordAtlas
<br/>
February 14, 2021 | https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/ | <a href="https://web.archive.org/web/*/https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div id="pico"><p>Traffic cameras can cross the thin line in law enforcement between keeping citizens safe and fucking them over.&nbsp;</p><p>Full disclosure: I‚Äôm counting myself among the fucked over. In late August, I was notified by the photo enforcement wing of the D.C. Department of Motor Vehicles that I‚Äôd been issued four tickets for ‚Äúpassing‚Äù the same stop sign on four different occasions. Two of the tickets were written on the same day. A stop-sign camera, the lowest-form of traffic cam yet unleashed, got me. The fines totaled $400.</p><figure><img src="https://lh6.googleusercontent.com/IE1N-0rH7w9HBLp1zQWpNnnz0sPCmuNqvuT_JFyAfV41OvUmGHNi9NCKCMTmtIrLndixSJW4-YhU4CHUjBp_whpIuN7wbF0mcNjJ7j8S_dNULTHCQIlOCa-rMD_LKzmbl8I-8iNq" alt=""></figure><p>I try to obey parking and traffic laws. Obsessively even. Not because I‚Äôm cautious or a good citizen. Because I‚Äôm cheap as hell! And I know from experience that D.C. ticket writers will nail you every time you give them a reason to, and lots of times even when you don‚Äôt. Anybody who‚Äôs lived here for any time or even visited much can affirm.</p><p>The last time I wrote a story about the city‚Äôs hyperaggressive ticketing strategies was in the early 1990s. At the time, violent crime was so out of hand here that the place was known as America‚Äôs Murder Capital. But local government‚Äôs most obvious crime-fighting efforts came in the parking realm. D.C. was making so much money off parking violations that officials were actually putting on seminars for leaders from various states and even foreign governments on how to increase revenues through ticket writing. I lived in the very dense Mount Pleasant neighborhood back then and legal parking was hard as hell to find. But even if you found a spot you weren‚Äôt safe. I‚Äôd sometimes spend 15 minutes driving around before landing a spot without a ‚ÄúNo Parking‚Äù sign in play and no painted curb or fire hydrant nearby or any sort of hint at all that this space was off-limits, only to return to my car an hour later to find a pink slip underneath the windshield wiper bogusly saying I‚Äôd violated the two-hour maximum time limit, or finding handwriting on the ticket saying my vehicle was ‚Äúless than 40 feet‚Äù from an intersection or driveway or whatever the ticket writer needed to help meet his or her quota and slap me with a $25-and-up fine. I remember coming out of my apartment one morning and seeing a posse from the Metropolitan Police Department (MPD) walking down the main drag, Mount Pleasant Street, and leaving a ticket on just about every windshield. I asked an officer what was happening and was told that they‚Äôd been ordered by their commander to enforce a law requiring all parked cars to have their wheels turned toward the curb. (Who knew such a law existed?)&nbsp;</p><p>The city made contesting a ticket an all-day affair in which you‚Äôd lose in the end anyway. Your car would get ‚Äú<a href="https://dpw.dc.gov/service/booting-and-impoundment" target="_blank" rel="noreferrer noopener">booted</a>‚Äù and towed by the city if you amassed more than three unpaid parking tickets or total fines above $200, and you couldn‚Äôt register a car or get a vehicle inspection or renew a drivers license in the city without settling your DMV bill. I pretty much always had more than three outstanding tickets, and the penalties doubled after a month, so I often owed the city more in fines than my beater Toyota was even worth. I worked hard trying to beat the system. I stayed on the road by registering my car at my mom‚Äôs address in suburban Virginia, and using that same address for my driver‚Äôs license. I was constantly going to the Virginia DMV and paying a $25 fee to get new license plates that wouldn‚Äôt be on D.C.‚Äôs boot/tow list, which surely had my old tag numbers on it. I knew at the time that my fight wasn‚Äôt exactly righteous. But, well, the city wasn‚Äôt exactly observing Marquess of Queensberry Rules with me either.</p><p>The car wars ended when my jalopy got stolen. Losing the car, even by theft, actually came as a relief. I didn‚Äôt own another vehicle until I left Mount Pleasant in 2002 for the Petworth neighborhood and all its street parking.&nbsp;</p><p>I hadn‚Äôt really thought of the ticketing horrors from my past since the move. But the four stop-sign violations at the same intersection‚Äîat $100 a pop!‚Äîbrought all the bad memories back. The city‚Äôs letter to me telling me about the tickets said there was video of my offenses online. I was able to access only one of the four clips. It was indeed my car in the shot, and it showed that as I approached the four-way stop I slowed down to almost zero miles an hour, but hell if I ever came to a dead stop. The old California stop. By the letter of the law, I was a violator. Dammit.</p><p>But this massive punishment still felt off. I‚Äôve been living about 200 yards from that <a href="https://www.google.com/maps/place/Kansas+Ave+NW+%26+Buchanan+St+NW,+Washington,+DC+20011/@38.946233,-77.0248877,17z/data=!3m1!4b1!4m5!3m4!1s0x89b7c86d4e139bf7:0x7b586b15117de56f!8m2!3d38.946233!4d-77.022699" target="_blank" rel="noreferrer noopener">four-way-stop intersection</a> for 19 years now, and have known about that stop-sign camera for a huge chunk of that time. But I‚Äôd never gotten a single ticket from it. I‚Äôd never even heard of anybody else in the neighborhood getting nabbed. But here I get four in one load of mail. </p><p>So I started looking into the camera that nailed me. Turns out it holds a special place in the shitty history of traffic enforcement. The <a href="https://cluballiance.aaa.com/public-affairs/press-release/?rdl=hartford.aaa.com&amp;Id=8b025de6-9f63-41a4-9541-f223b66c30c9" target="_blank" rel="noreferrer noopener">American Automobile Association</a> described D.C. as the first major city to use photo enforcement for stop-sign violations. And the stop-sign cam in my neighborhood, installed in 2013, was <a href="https://wtop.com/news/2013/08/dc-tests-first-stop-sign-camera/" target="_blank" rel="noreferrer noopener">the first ever in D.C.</a> I found a segment from NBC‚Äôs <a href="https://www.youtube.com/watch?v=5i4cgoxxeIs&amp;ab_channel=DefendYourLiberty" target="_blank" rel="noreferrer noopener"><em>The Today Show</em></a> on the introduction of stop-sign cameras that had NBC reporter Tom Costello doing his stand-up from the same intersection where seven years later I‚Äôd get nabbed. Costello boasted about all the safety benefits the new technology would bring, while Cathy Lanier, chief of the Metropolitan Police Department at the time, told the morning show audience that the cameras were set up because ‚Äúour community has asked us to enforce the law.‚Äù&nbsp;</p><p>‚ÄúNow we‚Äôll be able to do it with less manpower and safer for police officers,‚Äù said Lanier (who left the city a few years after bringing in the cameras to join the NFL as senior vice president in charge of security).&nbsp;&nbsp;</p><figure><img loading="lazy" width="3024" height="1716" src="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?w=1024" alt="stop sign" srcset="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg 3024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=300,170 300w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=768,436 768w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1024,581 1024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1536,872 1536w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=2048,1162 2048w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1080,613 1080w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=85,48 85w" sizes="(max-width: 3024px) 100vw, 3024px"><figcaption>Photo by Dave McKenna</figcaption></figure><p>I also found a neighborhood message board with several live threads about the stop-sign camera, full of posts from angry locals who‚Äôd been recently nailed at the same intersection. The more I read, the easier I felt I‚Äôd got off: Others told of getting double-digit tickets, meaning they were facing a four-figure fine. Somebody posted a short video of the camera snapping photos of a car that stopped dead at the intersection.</p><p>This particular stop-sign camera‚Äôs fortunes, however, may well have turned when it flashed at Deepak Gopalakrishna.&nbsp;</p><p>Gopalakrishna happens to be a transportation engineer with a specialty in road safety. He‚Äôs lived in Petworth for years and told me he hadn‚Äôt ever gotten a ticket on Kansas Avenue NW until this summer. He started asking around and found that just about everybody else on his block had also gotten multiple $100 fines. He said his professional background and personal leanings have had him support pro-bike, ‚Äúnot car-friendly‚Äù programs like the <a href="https://visionzeronetwork.org/" target="_blank" rel="noreferrer noopener">Vision Zero</a> project. And he said he has no fixed bias against speed cameras and red light cameras. But the rate at which he‚Äôd been nailed told him that this stop-sign camera had to go.</p><p>‚ÄúI‚Äôve got five tickets,‚Äù Gopalakrishna told me. ‚ÄúBefore I found out about the first one, I‚Äôd gotten four more.‚Äù</p><p>Gopalakrishna FOIA‚Äôd for information on the equipment being used by the city for its stop-sign camera setup and just how many tickets had been issued at that one intersection. He learned that the stop-sign cam‚Äôs sensor in Petworth, a <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, had been recalibrated on June 5, 2020. A ticket boom commenced soon after.</p><p>Data from MPD shows that in June 2020, the camera in question snapped 82 violators. Then there were 2,850 tickets in July 2020 (compared to 231 tickets in July 2019). Then the camera started flashing like paparazzi in Cannes: From August through November, a total of 17,216 tickets were issued. That‚Äôs $1,721,600 from one camera at one intersection in just four months.&nbsp;</p><p>Again, I learned years ago that D.C. had a black belt in ticket writing. But today‚Äôs stats floor even me. <a href="https://dccouncil.us/wp-content/uploads/2020/01/dmv20.pdf" target="_blank" rel="noreferrer noopener">D.C. DMV</a> documents show that the city issued 2,869,810 traffic and parking tickets in fiscal year 2019, with fines totaling $375,916,124. That averages out over the year to more than four tickets and about $543 in fines for every man, woman and child living in the city, including those who don‚Äôt drive. (Comprehensive ticket revenues for 2020, which would include the Petworth stop-sign camera windfall, are not yet available.) This is a town with oodles of tourism and, pre-pandemic, teeming with commuters, so visitors paid lots of penalties. But the cam located smack in the middle of my residential neighborhood penalized D.C. residents far more than outsiders.&nbsp; </p><p>According to Gopalakrishna, there‚Äôs no obvious quality-of-life benefit to the citizenry for all the pain folks who live near a stop-sign cam must suffer.</p><p>‚ÄúI want to be very clear: Being against this camera isn‚Äôt being against safety. This isn‚Äôt a safety matter,‚Äù he said. ‚ÄúThis isn‚Äôt like a red-light camera or a speed camera. There‚Äôs no safety study, no data saying, ‚ÄòWow, these stop-sign cameras really have had an impact on safety!‚Äô There‚Äôs nothing. I can point to a lot of things that have worked and are known to work: rumble strips, certain lighting on that stop sign, for example. Take those steps, and you‚Äôll get more people stopping, and you can talk about safety. But, those things don‚Äôt bring in revenue for the city. This camera does. And once you remove the safety component, it‚Äôs just targeting. Targeting one neighborhood.‚Äù</p><p>Gopalakrishna said he‚Äôs been unable to get answers on what exactly took place when the stop-sign camera was recalibrated in June. The user manual for the <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, describes its utility only in speed camera and red light enforcement applications. There is no mention anywhere in the document of its use in a stop-sign camera setup.</p><p>‚ÄúIt‚Äôs frustrating because there‚Äôs no legal definition of what a full-stop is,‚Äù he said. ‚ÄúIt‚Äôs all so arbitrary. So basically, this private company gets to decide what a complete stop is, and they set the camera ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</a></em></p>]]>
            </description>
            <link>https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133260</guid>
            <pubDate>Sun, 14 Feb 2021 15:42:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Firejail on Linux to sandbox all the things]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133079">thread link</a>) | @zdw
<br/>
February 14, 2021 | https://dataswamp.org/~solene/2021-02-14-linux-firejail.html | <a href="https://web.archive.org/web/*/https://dataswamp.org/~solene/2021-02-14-linux-firejail.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="20210214">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 14 February 2021.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-linux.html">#linux</a></span>


<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>


<span><a href="https://dataswamp.org/~solene/tag-sandbox.html">#sandbox</a></span>

</p>
    
  </header>
  <h2> Introduction</h2>
<p>Firejail is a program that can prepare sandboxes to run other programs.  This is an efficient way to keep a software isolated from the rest of the system without need of changing its source code, it works for network, graphical or daemons programs.
</p>
<p>You may want to sandbox programs you run in order to protect your system for any issue that could happen within the program (security breach, code mistake, unknown errors), like Steam once had a "rm -fr /" issue, using a sandbox that would have partially saved a part of the user directory.  Web browsers are major tools nowadays and yet they have access to the whole system and have many security issues discovered and exploited in the wild, running it in a sandbox can reduce the data a hacker could exfiltrate from the computer.  Of course, sandboxing comes with an usability tradeoff because if you only allow access to the ~/Downloads/ directory, you need to put files in this directory if you want to upload them, and you can only download files into this directory and then move them later where you really want to keep your files.
</p>
<h2> Installation</h2>
<p>On most Linux systems you will find a Firejail package that you can install.  If your distribution doesn't provide a Firejail package, it seems the installing from sources process is quite easy, and as the project is written in C with limited dependencies it may be easy to get the build process done.
</p>
<p>There are no service to enable and no kernel parameters to add.  Apparmor or SELinux features in kernel can be used to integrates into Firejail profiles if you want to.
</p>
<h2> Usage</h2>
<h3> Start a program</h3>
<p>The simplest usage is to run a command by adding Firejail before the command name.
</p>
<pre><code>$ Firejail firefox
</code></pre>
<h3> Use a symlink</h3>
<p>Firejail has a neat feature to allow starting software by their name without calling Firejail explicitly, if you create a symbolic link in your $PATH using a program name but targeting Firejail, when you call that name Firejail will automatically now what you want to start.  The following example will run firefox when you call the symbolic link.
</p>
<pre><code>export PATH=~/bin/:$PATH
$ ln -s /usr/bin/firejail ~/bin/firefox
$ firefox
</code></pre>
<h3> Listing sandboxes</h3>
<p>There is a Firejail --list command that will tell you about all sandboxes running and what are their parameters.  As a first column the identifier is available for more Firejail features.
</p>
<pre><code>$ firejail --list
6108:solene::/usr/bin/firejail /usr/bin/firefox 
</code></pre>
<h3> Limit bandwidth per program</h3>
<p>Firejail also has a neat feature that allows to limit the bandwidth available only for one sandbox environment.  Reusing previous list output, I will reduce firefox bandwidth, the number are in kB/s.
</p>
<pre><code>$ firejail --bandwidth=6108 set wlan0 1000 40
</code></pre>
<p>You can find more information about this feature in the "TRAFFIC SHAPING" section of the Firejail man page.
</p>
<h3> Restrict network access</h3>
<p>If for some reason you want to start a program with absolutely no network access, you can run a program and deny it any network.
</p>
<pre><code>$ firejail --net=none libreoffice
</code></pre>
<h2> Conclusion</h2>
<p>Firejail is a neat way to start software into sandboxes without requiring any particular setup.  It may be more limited and maybe less reliable than OpenBSD programs who received unveil() features but it's a nice trade off between safety and required work within source code (literally none).  It is a very interesting project that proves to work easily on any Linux system, with a simple C source code with little dependencies.  I am not really familiar with Linux kernel and its features but Firejail seems to use seccomp-bpf and namespace, I guess they are complicated to use but powerful and Firejail comes here as a wrapper to automate all of this.
</p>
<p>Firejail has been proven to be USABLE and RELIABLE for me while my attempts at sandboxing Firefox with AppArmor were tedious and not optimal.  I really recommend it.
</p>
<h2> More resources</h2>
<p><a href="https://firejail.wordpress.com/">Official project website with releases and security information</a></p>
<p><a href="https://github.com/netblue30/firejail">Firejail sources and documentation</a></p>
<p><a href="https://github.com/chiraag-nataraj/firejail-profiles">Community profiles 1</a></p>
<p><a href="https://github.com/nyancat18/fe">Community profiles 2</a></p>

</article>
</div></div>]]>
            </description>
            <link>https://dataswamp.org/~solene/2021-02-14-linux-firejail.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133079</guid>
            <pubDate>Sun, 14 Feb 2021 15:21:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Z3, the Word Problem, and Path Homotopy as Equality]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132818">thread link</a>) | @philzook
<br/>
February 14, 2021 | http://www.philipzucker.com/z3-and-the-word-problem/ | <a href="https://web.archive.org/web/*/http://www.philipzucker.com/z3-and-the-word-problem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>There‚Äôs a neat little trick I realized for encoding certain kinds of problems related to rewriting strings into Z3 somewhat elegantly. It‚Äôs very simple too.</p>

<h3 id="the-word-problem">The Word Problem</h3>

<p>The <a href="https://en.wikipedia.org/wiki/Word_problem_(mathematics)">word problem</a> is figuring out if two strings can be made equal to each other with a pile of equations of substrings.
It can be thought of in different ways and shows up in different domains. One way to talking about it is as figuring out equivalaence for a finite presentation of a monoid. A finite presentation gives generators a,b,c let‚Äôs say. The free monoid of these generators is just the strings you can make out these characters. The identity is the empty string and the monoid product is string concatenation. In a finite presentation, you also specify some equations like $ab=c$. Now it isn‚Äôt obvious when two strings are equal or not.</p>

<p>There is however an obvious strategy to find equality. Just search. You can consider each string a node in a graph and each application of an equality somewhere in the string to be an edge on that graph. Keep trying equalities using Dijsktra‚Äôs algorithm, A* or what have you and then if you find a path connecting the two words, you proved equality.</p>

<p>A more satisfactory solution is to use a completion algorithm like <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Bendix_completion_algorithm">Knuth Bendix</a>. If Knuth bendix succeeds (a big if), the problem is in some sense solved for all words on the system. The output of the algorithm is a set of rewrite rules that bring words to a canonical form. You can just canonize words and compare to determine equality or disequality.</p>

<p>There are different approaches one might be inclined to take when modelling monoids in Z3. Z3 has a built in theory of strings, perhaps one could use arrays somehow, or one might axiomatize the theory directly using an uninterpeted sort like so.</p>

<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>e</span><span>,</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span> <span>=</span> <span>Consts</span><span>(</span><span>"e a b c"</span><span>,</span> <span>G</span><span>)</span>
<span>times</span> <span>=</span> <span>Function</span><span>(</span><span>'*'</span><span>,</span> <span>G</span><span>,</span><span>G</span><span>,</span> <span>G</span><span>)</span>

<span>monoid_axioms</span> <span>=</span> <span>[</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>e</span><span>,</span><span>a</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>e</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>]</span> <span>,</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>times</span><span>(</span><span>b</span><span>,</span><span>c</span><span>))</span> <span>==</span> <span>times</span><span>(</span><span>times</span><span>(</span><span>a</span><span>,</span><span>b</span><span>),</span><span>c</span><span>))</span>
<span>]</span>

</code></pre></div></div>

<p>Axiomatizing the sort literally transcribes the axioms of a monoid. The thing that isn‚Äôt great about this is that the associativity law of the monoid is a derivation and you‚Äôre going to waste Z3‚Äôs energy on reasoning about trivial facts of associativity. It is preferable to have Z3 reason about something that is associative on the nose.</p>

<p>Well, there is a neat trick. The big thing that is associative on the nose is function composition. Instead of representing monoid elements as objects $a : G$, we represent them by a partial application of the monoid product $\hat{a} : G \rightarrow G = a\cdot -$ . We can always turn this representation back by applying it to the identity of the monoid $e : G$. This representation is associative on the nose for Z3.</p>

<p>We can make the presentation a little cuter to use by making a class that overloads multiplication and equality. Here we show a monoid generated by an element $a$ and with a quotienting equation $a^5 = a^2$.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>))</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>x</span><span>)</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>

<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>a</span> <span>=</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>"a"</span><span>,</span> <span>G</span><span>,</span> <span>G</span><span>))</span>

<span>axioms</span> <span>=</span> <span>[</span><span>a</span> <span>**</span> <span>5</span> <span>==</span> <span>a</span><span>**</span><span>2</span><span>]</span> 

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axioms</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span> <span>Not</span><span>(</span> <span>a</span><span>**</span><span>6</span> <span>==</span> <span>a</span><span>**</span><span>3</span><span>)</span>  <span>)</span> <span># prove a**6 == a**3
</span><span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<p>Viewed through a certain light it is another manifestation of the ole Hughes List/Cayley representation/Yoneda lemma thing, the gift that keeps on giving. The basic idea is to partially apply append/multiply/compose. It turns out the be useful to do in pragmatic programming context so because then things are associated in one direction by default instead of dealing with all possible associations. Some associations are better than others computationally, or it‚Äôs nice to just have a canonical form as in this case. As it manifests in Z3, we represent monoid elements as single argument uninterpreted functions rather than as constants.</p>

<p>This representation also shows up in explaining how string rewriting can be easily emulated by term rewriting. The standard recipe says to convert each symbol of the string system into a single argument term. $a \implies a(X)$. Then convert the string rewrite rule abc -&gt; bc becomes the term rewriting rule $a(b(c(X))) \rightarrow b(c(X))$, which is the same as the above.</p>

<h3 id="finitely-presented-categories">Finitely Presented Categories</h3>

<p>This trick extends to categories. We can represent morphism equality checking of finitely presented categories in this style. The only change to the monoid case is that it seems conceptually cleaner that we want to make different Z3 sorts for the morphisms to go between, representing the objects of the category.
This transformation is probably a manifestation of the Yoneda Embedding, by analogy to the other examples that I do somewhat understand.
Here is a simple category with 2 objects, and generated by 2 morphisms $f : A \rightarrow B$ and $g : B \rightarrow A $ with the equation $f \cdot g \cdot f \cdot g = id$</p>

<div><div><pre><code><span># Hey Julia this time. Why not.</span>
<span>using</span> <span>PyCall</span>
<span>z3</span> <span>=</span> <span>pyimport</span><span>(</span><span>"z3"</span><span>)</span>

<span>ob</span> <span>=</span> <span>[</span><span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,A)"</span><span>)</span> <span>,</span> <span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,B)"</span><span>)]</span>
<span>f</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"f"</span><span>,</span> <span>ob</span><span>[</span><span>1</span><span>],</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>g</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"g"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>],</span> <span>ob</span><span>[</span><span>1</span><span>])</span>
<span>x</span> <span>=</span> <span>z3</span><span>.</span><span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>axiom</span> <span>=</span> <span>z3</span><span>.</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>))))</span> <span>==</span> <span>x</span><span>)</span> <span># an equality over the morphism generators</span>

<span>s</span> <span>=</span> <span>z3</span><span>.</span><span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axiom</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>z3</span><span>.</span><span>Not</span><span>(</span> <span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))))</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>)</span> <span>))</span> <span># example simple theorem</span>
<span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<h3 id="groups">Groups</h3>
<p>The trick can also extend to groups, although dealing with the inverse operation of the group ruins the cleanliness. For every group element we add, we also need to add its inverse and some axioms about its inverse. So it isn‚Äôt quite as clean as a monoid.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>,</span> <span>inv</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
        <span>self</span><span>.</span><span>inv</span> <span>=</span> <span>inv</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)),</span> <span>lambda</span> <span>x</span> <span>:</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>)</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)))</span>

    <span>def</span> <span>inv</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span> <span>self</span><span>.</span><span>inv</span><span>,</span> <span>self</span><span>.</span><span>f</span> <span>)</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>self</span><span>.</span><span>id</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>
    <span>def</span> <span>inv_axioms</span><span>(</span><span>self</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>)</span> <span>)</span>
    
<span>Fun</span><span>.</span><span>id</span> <span>=</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>,</span> <span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>)</span>
<span>def</span> <span>GroupElem</span><span>(</span><span>name</span><span>):</span>
    <span>return</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>name</span><span>,</span><span>G</span><span>,</span><span>G</span><span>),</span> <span>Function</span><span>(</span><span>f</span><span>"inv_</span><span>{</span><span>name</span><span>}</span><span>"</span><span>,</span><span>G</span><span>,</span><span>G</span><span>))</span>


<span># Symmetric group
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>i</span><span>)</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>Fun</span><span>.</span><span>id</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>


<span># A braid group
# A nice way to detangle knots with egg?
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>f</span><span>"sigma_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>)</span><span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>
</code></pre></div></div>

<h3 id="path-connectivity">Path Connectivity</h3>

<p>Here is another example where an encoding allows us to greatly change the ease with which Z3 handles a problem. This example feels a little different from the others, or is it?</p>

<p>Naively one might try to encode path connectivity of two vertices using a predicate <code>connected</code></p>

<div><div><pre><code><span>Point</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Point"</span><span>)</span>
<span>connected</span> <span>=</span> <span>Function</span><span>(</span><span>"connected"</span><span>,</span> <span>Point</span><span>,</span> <span>Point</span><span>,</span> <span>Bool</span><span>)</span>
<span>#This defines a predicate that says if a point is connected to another.
</span>
<span>axioms</span> <span>=</span> <span>[]</span>
<span>#paths are invertible
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>],</span> <span>path</span><span>(</span><span>a</span><span>,</span><span>b</span><span>)</span> <span>==</span> <span>connected</span><span>(</span><span>b</span><span>,</span><span>a</span><span>))</span>

<span># transitivity
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>,</span><span>z</span><span>],</span> <span>Implies</span><span>(</span> <span>And</span><span>(</span><span>connected</span><span>(</span><span>x</span><span>,</span><span>y</span><span>)</span> <span>,</span> <span>connected</span><span>(</span><span>y</span><span>,</span><span>z</span><span>)</span> <span>)</span> <span>,</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>z</span><span>)</span> <span>))</span>

<span># self paths.
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>x</span><span>))</span>
</code></pre></div></div>

<p>Built in equality already <em>has</em> these properties though. Equality is backed by more or less a disjoint set data structure which is a very efficient way to calculate the connected sets of a graph.</p>

<p>I can guarantee you that this formulation will work better.</p>

<div><div><pre><code><span>import</span> <span>networkx</span> <span>as</span> <span>nx</span>

<span>G</span> <span>=</span> <span>nx</span><span>.</span><span>Graph</span><span>()</span>
<span>G</span><span>.</span><span>add_nodes</span><span>([</span><span>'a'</span><span>,</span><span>'b'</span><span>,</span><span>'c'</span><span>,</span><span>'d'</span><span>])</span>
<span>G</span><span>.</span><span>add_edges</span><span>(</span> <span>[(</span><span>'a'</span><span>,</span><span>'b'</span><span>),</span> <span>(</span><span>'b'</span><span>,</span><span>'c'</span><span>),</span> <span>(</span><span>'c'</span><span>,</span><span>'d'</span><span>)</span> <span>]</span> <span>)</span>
<span>G</span><span>.</span><span>connected_components</span>
</code></pre></div></div>

<div><div><pre><code><span>Vertex</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Vertex"</span><span>)</span>
<span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>,</span><span>d</span> <span>=</span> <span>Consts</span><span>(</span><span>"a b c d"</span><span>,</span> <span>Vertex</span><span>)</span>

<span>edges</span> <span>=</span> <span>[</span><span>a</span> <span>==</span> <span>b</span><span>,</span> <span>b</span> <span>==</span> <span>c</span><span>,</span> <span>c</span> <span>==</span> <span>d</span><span>]</span>

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>edges</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>a</span> <span>!=</span> <span>d</span><span>)</span>
<span>s</span><span>.</span><span>check</span><span>()</span> <span># unsat means a and d are connected 
</span></code></pre></div></div>

<h3 id="path-homotopy">Path Homotopy</h3>

<p>The paths through the triangulation of a surface form a category with vertices as objects and paths as morphisms. <a href="https://en.wikipedia.org/wiki/Homotopy">Homotopically</a> equivalent paths also form a category, a <a href="https://en.wikipedia.org/wiki/Groupoid">groupoid</a> even.</p>

<p>This is to the group example what the Category example was to the monoid.</p>

<p>There is something very tickling about using Z3 equality to express homotopy equivalence. It is very vaguely reminiscent of things that occur Homotopy Type Theory, but I wouldn‚Äôt take that too seriously.</p>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>The underlying data structure here is the Egraph. Specializing EGraphs to single arguments terms might give something interesting. Also then we open up the ability to mix in Tries.</p>

<p>How do you prove two things are <em>not</em> equal? Find a model?</p>

<p>How to deal with higher homotopies? Does the existence of cubical type theory suggest in some sense that a data structure for binding forms (de bruijn perhaps ) is a useful but unexpected one for describing concrete homotopies on concrete triangulations.</p>

<p>Using egg <a href="https://egraphs-good.github.io/">https://egraphs-good.github.io/</a> for braid groups. Braid groups have applications in topological quantum computation. Optimizer?</p>

<p>2-ho‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.philipzucker.com/z3-and-the-word-problem/">http://www.philipzucker.com/z3-and-the-word-problem/</a></em></p>]]>
            </description>
            <link>http://www.philipzucker.com/z3-and-the-word-problem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132818</guid>
            <pubDate>Sun, 14 Feb 2021 14:48:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Julia 1.6: what has changed since Julia 1.0?]]>
            </title>
            <description>
<![CDATA[
Score 244 | Comments 196 (<a href="https://news.ycombinator.com/item?id=26132801">thread link</a>) | @Sukera
<br/>
February 14, 2021 | https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html | <a href="https://web.archive.org/web/*/https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content">
      <p>Julia 1.0 came out well over 2 years ago.
Since then a lot has changed and a lot hasn‚Äôt.
Julia 1.0 was a commitment to no breaking changes, 
but that is not to say no new features have been added to the language.</p>

<!--more-->

<nav id="toc"></nav>

<p>Julia 1.6 is a huge release and it is coming out relatively soon.
RC-1 was <a href="https://discourse.julialang.org/t/julia-v1-6-0-rc1-is-now-available/54775">released recently</a>.
I suspect we have at least a few more weeks before the final release.
The Julia Core team take a huge amount of care in not breaking any packages.
So while that is all being checked and corner cases fixed, I think we have some time.
Thus this post, reflecting not just on 1.6, but on everything that has happened since the 1.0 release.</p>

<p>Julia 1.6 will be the first ‚Äúfeature‚Äù release since 1.0.
Prior to 1.0, all releases were feature releases; they came out when they were ready.
Since then, all releases (except 1.6) have been timed releases.
The release candidate is cut from the main branch every 3 months; and they are released after an <a href="https://github.com/JuliaLang/julia/pull/35846">extensive round of additional checking</a>, which often takes weeks to months.
Julia 1.6 was soft-slated to be the new long-term-support (LTS) version that would have bug-fixes backported to it for the next few years.
The current LTS is Julia 1.0, which has now had 5 patch releases made.
Since it was going to be supported for a long-time, people wanted to make sure everything good got in; thus it was a feature release.
The core developers have demurred on if 1.6 will actually be selected to be the new LTS (even if it is selected, it won‚Äôt ascend to being the LTS til it stops being the current Stable).</p>

<p>My impression now is that they feel like it has too many cool new things; and that a few things didn‚Äôt quite make it in even with the extended release cycle.
So it‚Äôs looking likely to me that 1.7 will actually be the LTS; but that it might also be a feature release ‚Äì possibly this time a much shorter release period than usual.
In practice I think for a lot of package maintainers 1.6 will be a LTS, in that that is the oldest version they will make sure to continue to support.
There have been too many cool new things (as this post will detail) to stay back to only 1.0 features.
Already a lot of packages have dropped support for Julia versions older than 1.3.</p>

<p>This post is kind of a follow-up to my <a href="https://www.oxinabox.net//2018/06/01/Julia-Favourite-New-Things.html">Julia 1.0 release run-down</a>.
But it‚Äôs going to be even longer, as it is covering the last 5 releases since then and I am not skipping the major new features.
I am writing this not to break down release by release,
but to highlight features that, had you only used Julia 1.0, you wouldn‚Äôt have seen.
Full details can be found in the <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/NEWS.md">NEWS.md</a>, and <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/HISTORY.md">HISTORY.md</a></p>

<h2 id="front-end-changes">Front-end changes</h2>
<h3 id="soft-scope-in-the-repl">Soft-scope in the REPL</h3>
<p>Julia 1.0 removed the notion of soft-scope from the language.
I was very blas√© about the change to for-loop bindings in my <a href="https://www.oxinabox.net/2018/06/01/Julia-Favourite-New-Things.html#for-loop-variable-binding-changes">1.0 release post</a>.
In fact, I didn‚Äôt even mention this particular change.
It was <a href="https://github.com/JuliaLang/julia/pull/19324">#19324</a> for reference.</p>

<p>This was undone in in Julia 1.5 with <a href="https://github.com/JuliaLang/julia/pull/33864">#33864</a> for the REPL only.
Now in the REPL, assigning to a global variable within a for-loop actually assigns that variable, rather than shadowing it with a new variable in that scope.
The same behavior outside the REPL now gives a warning.</p>

<p>Personally, this change never affected me because I never write for-loops that assign variables at global scope.
Indeed basically all code I write is inside functions.
But I do see how this causes problems for some interactive workflows, e.g. when demonstrating something.
See the <a href="https://github.com/JuliaLang/julia/issues/28789">main GitHub issue</a> and the longest <a href="https://discourse.julialang.org/t/another-possible-solution-to-the-global-scope-debacle/15894">Discourse thread</a>, though there were many others.
It took over a year of discussion to work out the solution, particularly because many of the more obvious solutions would be breaking in significant ways.</p>

<h3 id="deprecations-are-muted-by-default">Deprecations are muted by default</h3>

<p>Julia 1.5+ doesn‚Äôt display deprecation warnings, unless you run julia with the <code>--depwarn=yes</code> flag.
This was me in <a href="https://github.com/JuliaLang/julia/pull/35362">this PR</a>.
It‚Äôs not something I am super happy about, although I think it makes sense.
Using deprecated methods is actually fine, as long as your dependencies follow SemVer, and you use <code>^</code> (i.e. default) bounding in your Project.toml‚Äôs <code>[compat]</code>, which everyone does, because it‚Äôs enforced by the auto-merge script in the General registry.
Often it is even necessary if you want to keep compatibility for a while.</p>

<p>Solving deprecations is a thing you should actively choose to do rather than casually when trying to do something else.
In particular, when updating to support a new major release of one of your dependencies, you should follow a process.
Something like:</p>

<ol>
  <li>Check the release notes.</li>
  <li>Relax compat bounds</li>
  <li>Run your integration tests, if everything passes you are done.</li>
  <li>If tests failed, revert the change to compat bounds, then rerun your integration tests paying attention to deprecation warnings.</li>
</ol>

<p>Updating your dependencies should be an active choice.
Potentially one that is automated, but not one that you do while adding another feature (if you can help it).</p>

<p>The core of the reason we disabled them is because they were actually breaking things.
Irrelevant deprecation warning spam from dependencies of dependencies was causing JuMP and LightGraphs to become too slow to be used.
Further, since they were from dependencies of dependencies, the maintainers of JuMP and LightGraphs (let alone the end users) couldn‚Äôt even fix them.</p>

<p>Deprecation warnings are still turned on by default in tests, which makes sense since the tests (unlike normal use) are being run by maintainers of the package itself, not its users.
This however still doesn‚Äôt make a huge amount of sense to me, since spam from deprecation warnings floods out the actual errors that you want to see during testing.
For this reason, <a href="https://invenia.ca/">Invenia</a> (my employer) has disabled deprecation warnings in the CI tests for all our closed source packages, and added a new test job that just does deprecation checking (set to error on deprecation and with the job allowed to fail, just so we are informed).</p>

<p>Hopefully one day we can improve the tooling around deprecation warnings.
An ideal behavior would be to only show deprecation warnings if directly caused by a function call made from within the package module of your current active environment.
I kind of know what we need to do to the logger to make that possible, but it is not yet something I have had time to do.</p>

<h3 id="code-highlighting-for-code_llvm-and-code_native">Code highlighting for <code>code_llvm</code> and <code>code_native</code></h3>
<p>This was added in <a href="https://github.com/JuliaLang/julia/issues/36634">#36634</a>.
This functionality was first implemented in <a href="https://github.com/kimikage/ColoredLLCodes.jl">ColoredLLCodes.jl</a>, where it worked by monkey-patching the InteractiveUtils stdlib.
That package does still work on Julia 1.0.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-code-llvm.png" alt="Julia 1.0 code_llvm"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-code-llvm.png" alt="Julia 1.6 code_llvm"></p>

<p>The REPL itself still doesn‚Äôt have syntax highlighting for Julia code though.
The <a href="https://github.com/KristofferC/OhMyREPL.jl">OhMyRepl</a> package does provide that, and works for all versions of Julia.
It is a lot more than a series of regexes though, so I don‚Äôt think we are going to see it built into Julia too soon.
Probably one day, though, as its big dependencies are also required if the parser wants to move to be written in Julia (though I also don‚Äôt expect that any time soon).</p>

<h3 id="clearer-stacktraces">Clearer Stacktraces</h3>

<p>Just like colored <code>code_llvm</code>, colored stack-traces also originated in a package that was doing some nasty monkey-patching: <a href="https://github.com/jkrumbiegel/ClearStacktrace.jl">ClearStacktrace.jl</a>.
This was added into Base itself in <a href="https://github.com/JuliaLang/julia/pull/36134">#36134</a>.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-stacktrace.png" alt="Julia 1.0 stacktrace"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-stacktrace.png" alt="Julia 1.6 stacktrace"></p>

<p>The first thing you probably notice is the colored package names, to make it more clear where the error is coming from.
You also should notice the dimming of type parameters to make complicated types easier to read.
Also the addition of argument names, and showing functions with keyword arguments as they are written, rather than as a weird <code>#DataFrame#654</code> internal function.
The whole thing just looks more modern and polished.</p>

<h3 id="time-traveling-debugger">Time Traveling Debugger</h3>

<p><a href="https://julialang.org/blog/2020/05/rr/">Julia 1.5 added built-in support</a> for <a href="https://rr-project.org/"><code>rr</code></a> (Linux only for now).
This is not useful so much for debugging Julia code, but for debugging Julia itself.
If you get into one of the very rare situations where the language is doing something truly nonsensical, you can send a bug report recorded via <code>rr</code> and someone can debug <em>exactly</em> what is happening - even to the extent of <a href="https://julialang.org/blog/2020/09/rr-memory-magic/">diagnosing faulty RAM</a>.
<code>rr</code> is an impressively cool piece of tech.
It records execution of a program, intercepting places (namely syscalls) that could be nondeterministic and storing the result.
It can then replay the recording (even on another machine), and see exactly what happened.
Allowing on to go into great detail on the state, and step backwards and forwards through time.
The <code>rr</code> integration is really nice and easy to use.
On a project I was running, I ended up getting a member of our architecture and operations team run it to submit a support request and they had no real troubles
(And they are by no means a Julia pro, they write mostly Cloudformation).</p>

<h2 id="syntax">Syntax</h2>

<h3 id="import-as"><code>import as</code></h3>

<blockquote>
  <p>The syntax import A as B (plus import A: x as y, import A.x as y, and using A: x as y) can now be used to rename imported modules and identifiers (<a href="https://github.com/JuliaLang/julia/issues/1255">#1255</a>).</p>
</blockquote>

<p>This will be familiar to Python folks who love to write things like: <code>import numpy as np</code>.
I hope we never see it used that ubiquitously in julia.
I am quite happy with <code>using Foo</code> which imports into scope everything the author of <code>Foo</code> exported.
Python people find that super weird and scary; but it‚Äôs fine.
Note that in Julia, many (most?) things you use don‚Äôt belong to the scope of the module that defined them anyways; they are overloaded functions e.g. from <code>Base</code>.
So what you import doesn‚Äôt matter as much as you might think.
I recently learned that Haskell is like Julia with a default of importing all exports.
It has been fine for julia, and fine for Haskell for ages, though in neither is it required.</p>

<p>The real value of <code>import FooBar as fb</code> is not to have a short abbreviation so you can do <code>fb.quux</code>.
That was already possible via <code>const fb = FooBar</code>.
It is to handle cases where the package name itself conflicts with an identifier.
For example (as has often occurred) if one uses a <code>Pipe</code> in the REPL, and then later wants to load <a href="https://github.com/oxinabox/Pipe.jl/">Pipe.jl</a> via <code>import Pipe</code> then one gets a name clash before it can be ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</a></em></p>]]>
            </description>
            <link>https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132801</guid>
            <pubDate>Sun, 14 Feb 2021 14:46:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Nintendo e-Reader ‚Äì Fundraiser for a forgotten treasure for the GBA]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132353">thread link</a>) | @looperhacks
<br/>
February 14, 2021 | https://hitsave.org/blog/e-reader-fundraiser/ | <a href="https://web.archive.org/web/*/https://hitsave.org/blog/e-reader-fundraiser/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><span></span><p><strong>Fundraiser currently at $1190!</strong></p><p><em>End date and time: March 10, 23:59:59 EST</em></p><p><em>Guest blog post by Zac B of the e-Reader Crew</em></p><p><strong>The Nintendo e-Reader.</strong><br>A forgotten treasure for the Game Boy Advance.</p><p><img src="https://cdn.bulbagarden.net/upload/4/4c/Ereader.png" alt="img"></p><p>The Nintendo e-Reader was primarily designed to act as a gateway for DLC (downloadable content) through the use of collectible cards. Each card, known as ‚Äòe-Reader Cards‚Äô, was embellished with a printed pattern referred to as a ‚Äòdot code‚Äô, in addition to an image representing the game the DLC was for.</p><p><img src="https://i.imgur.com/Yle5VRV.png" alt="img"></p><p>When swiping a card through the e-Reader, this dot code could be read and converted to digital data, which allowed the content to be imported or unlocked in the associated Game Boy Advance game. Perhaps the most well-known example of this was the <a href="https://youtu.be/z9KAaYkzuUk">Eon Ticket</a> for Pok√É¬©mon Ruby &amp; Pok√É¬©mon Sapphire versions.</p><p>There are over 3,000 cards in the Nintendo e-Reader library, many of which were only released in Japan. e-Reader cards had a variety of distribution options, from simple store-bought booster packs to exceedingly rare Japanese-only Club Nintendo cards. There were even cards which were exclusive to attendees of E3 2002 in Los Angeles. Some cards (assigned a unique ID and data) were not made commercially available at all, and were only distributed to a select number of stores in Japan for demonstration purposes.</p><p><iframe src="https://www.youtube.com/embed/F6_HEYbqxvs" allowfullscreen="" title="YouTube Video"></iframe></p><p>18 years later, what has happened to the Nintendo e-Reader library?</p><p>e-Reader cards are especially susceptible to wear-and-tear, as they are not housed inside a cartridge or a disc, both of which provide a modicum of protection from the outside world. You can find many e-Reader cards on auction sites today with no further protection beyond the cardboard they were printed on. Bends, scuffs, scratches, and tears are not uncommon. Coupled with the extreme rarity and price of some of these cards (some reaching prices of tens of thousands of dollars), it‚Äôs a wonder as to how much longer they‚Äôll be around.</p><p>There hasn√¢‚Ç¨‚Ñ¢t been much attention placed on the documentation and preservation of e-Reader cards from the wider community, with some cards still remaining unaccounted for on lists such as No-Intro‚Äôs DAT-o-MATIC. This lack of attention is surprising, considering that a great many cards contain exclusive data for various well-known franchises such as Mario, Pok√É¬©mon, Animal Crossing, and Mega Man.</p><p>Those within the e-Reader Project would like to change that.</p><p>What started out as a few like-minded individuals discussing their collection has turned into something much more in just a couple of years. As we started talking about our collections, <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">No-Intro‚Äôs undumped list</a> became a topic of conversation, and we began to wonder when, if ever, those cards would see the light of day and to what degree people were actively attempting to tick them off.</p><p>And as time passed, that question began to evolve into another; ‚Äú<strong>Why not us?</strong>‚Äù. So we did.</p><p>The <strong>‚Äúe-Reader Crew‚Äù</strong> is a (now larger) group of preservationists with a very big goal: To catalogue and verify every e-card in the Nintendo e-Reader library.</p><p>One of the major ways we intend on accomplishing this is through the use of 3200 DPI scans.
We settled on such a high resolution because it allows both the <a href="https://www.caseyprinting.com/blog/what-is-a-rosette-pattern">rosette pattern</a> (also known as halftones) from the printing process and the dot code itself to be captured clearly.</p><p>For consistency, all scans are being performed using an Epson v600 scanner with a color calibrated profile via SilverFast; professional scanning software. Every unique side of an e-Reader card will be scanned in 3200 DPI at least once. We‚Äôve also had custom cuts of plexiglass made which are designed to reliably and consistently orient cards inside the scanner as well as gently apply pressure to ensure that they lay flat on the scan bed:</p><p><img src="https://i.imgur.com/6CDFX3X.jpg" alt="img"></p><p>This should allow for the best possible scans from our equipment.</p><p>We already have several full sets of cards from various different franchises scanned and preserved in this quality, including the aforementioned incredibly rare Store-Only Demo and Club Nintendo cards. We also have scans of booster boxes and packs in the same quality. Here is an example of one of our card scans resized to a much smaller resolution (The magnified areas show the kind of detail we are able to capture):</p><p><img src="https://i.imgur.com/GSr9ZPO.png" alt="img"></p><p>There are a couple of cards which will prove to be difficult or near impossible to obtain, such as the <a href="https://ereader.no-intro.org/resources_u/kirbycard.jpg">1st Prize Kirby Card</a> from E3 2002, of which only 10 were printed.
For any cards that are entirely out of our grasp (and for those cards only), we will explore potential recreation of the experience; something we‚Äôve almost fully achieved with the <a href="https://github.com/The-Revvy/kirby-1st-recreation">1st Prize Kirby Card already</a>.
<em>(A big thank you to <a href="https://github.com/The-Revvy">The-Revvy</a> for their work on this!)</em>.</p><p>For historical purposes, we intend to make an image recreation of this card in the same quality, given its similarities to both the 2nd Place and ‚ÄòLoser‚Äô cards within the same set. We‚Äôd like to think of this as a temporary measure while we wait and hope for these cards to eventually see the light of day. Any recreated cards will be noted accordingly. However, it‚Äôs important to stress that this will only account for a few cards at most.</p><p>We also intend to preserve e-Reader cards by submitting card hashes to the DAT-o-MATIC database for comparison.</p><p>One recurring issue that we‚Äôve had when attempting to reach out and preserve e-card hashes within the Pok√É¬©mon Trading Card Game community is that a majority of the most valuable cards are held within grading cases.</p><p>Almost every collector we‚Äôve been in contact with has been very co-operative and willing to help; however, understandably nobody is willing to remove their rare and expensive cards from grading cases and/or risk damaging them. Performing our own physical e-Reader disassembly tests, we concluded that it is possible to scan e-cards from within cases and toploader sleeves with a physical modification of the e-Reader.</p><p>We√¢‚Ç¨‚Ñ¢ve been in contact with a very talented 3D modeler called RevZ, explained our dilemma to him, and presented the idea of creating a modified e-Reader shell capable of scanning cards from within these cases. Within two weeks, we shipped him an e-Reader and cards for testing purposes, and he produced his first 3D mockup.</p><p><img src="https://i.imgur.com/StjHfBg.png" alt="img"></p><p>In just a month, we had our first fully functional prototype which he has kindly demonstrated in the following video. We‚Äôve dubbed this modification the <strong>‚Äúe+ PRO‚Äù</strong>:</p><p><iframe src="https://www.youtube.com/embed/snFQV4L9wIM" allowfullscreen="" title="YouTube Video"></iframe></p><p>Additional shims or trays for toploader‚Äôd and loose cards are also in the process of being created.</p><p>Despite still being in the prototyping stage, this modification has several exciting advantages relating to preservation as well as allowing collectors to actually <em>use</em> their e-Reader cards while maintaining the benefit of protecting their cards with toploaders or cases.</p><p>The ideal continuation of the project would be to take these concepts a step further and explore the possibility of utilizing computer vision software to generate uniform dot code images from users own high quality scans which would allow for quick hash verification for any card that can be scanned.</p><p>At the moment, this is merely a prospect and is not something we can promise to commit to at this stage.</p><p>While all of this is very promising, the team needs <strong>your help</strong>!</p><p><strong><em>We‚Äôre looking to raise a total of $3,000 (USD) in donations to work toward this preservation goal.</em></strong></p><p>The funds will be used for:</p><ul><li>Purchase of <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">undumped, unavailable, and unscanned cards</a>.</li><li>Providing matching scanners and tools to collectors with large collections or rare cards who are willing to contribute their time and effort to the project.</li><li>Production of custom acrylic templates for holding the cards in place while scanning.</li><li>Materials and cost of e-Reader modification production.</li><li>Shipping costs related to all of the above.</li></ul><p>In addition to preserving e-Reader cards as an important part of gaming history, the project will provide further benefits:</p><ul><li>The data and information stored on the e-Reader cards will be preserved for future generations, without the need of trying to hunt these down decades from now.</li><li>Guides on how to preserve and restore e-Reader cards.</li><li>The resulting 3D models of the final physical e-Reader modification will be made publicly available to 3D print.</li></ul><span></span><p><em>Hit Save! is a 501(c)(3) nonprofit organization and your donations are tax-deductible to the extent allowed by law.</em>
<em>All donations up to the amount above will go to this project. Any donations above said amount will be used for similar preservation and history projects in the future.</em></p></article></div>]]>
            </description>
            <link>https://hitsave.org/blog/e-reader-fundraiser/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132353</guid>
            <pubDate>Sun, 14 Feb 2021 13:48:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In defense of interesting writing on controversial topics]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 132 (<a href="https://news.ycombinator.com/item?id=26132104">thread link</a>) | @petulla
<br/>
February 14, 2021 | https://www.slowboring.com/p/slate-star-codex | <a href="https://web.archive.org/web/*/https://www.slowboring.com/p/slate-star-codex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>This is a free preview of Slow Boring. If you like what you read, consider supporting this site by <a href="http://www.slowboring.com/subscribe">subscribing</a>. </em></p><p>Some time ago, Scott Alexander, the pseudonymous author of the Slate Star Codex blog, announced that he was abandoning his site. The reason was that a New York Times reporter had been in touch with him explaining that he was doing a profile of the blog, and in the course of writing it he was compelled by some NYT policy to disclose Alexander‚Äôs real name. </p><p>Alexander is a practicing psychiatrist and felt that for reasons of professional ethics, this would jeopardize his job ‚Äî so he shut the blog down in a rather dramatic fashion. This, in turn, led to a lot of condemnatory rhetoric from his fans and admirers, many of whom work in the technology industry and had a set of preexisting grievances with what they call ‚Äúthe media‚Äù and what I would call ‚Äúthe technology coverage of a half dozen outlets, notably including The New York Times.‚Äù Much of the ensuing rhetoric from the pro-SSC camp (though not from Alexander, who if anything is even-tempered to a fault in his public persona) struck me as overheated, but I was sad it had driven Alexander from the internet.</p><p>The good news is that he has since resurfaced on Substack at <a href="https://astralcodexten.substack.com/">Astral Codex Ten</a>. He also has a new job as the founder of <a href="https://lorienpsych.com/">Lorien Psychiatry</a>, an innovative effort to use telemedicine to make psychiatric treatment much more affordable. </p><p>Then, on Saturday, <a href="https://www.nytimes.com/2021/02/13/technology/slate-star-codex-rationalists.html">Cade Metz‚Äôs NYT article about SSC finally dropped</a>. And it‚Äôs terrible. (Read <a href="https://astralcodexten.substack.com/p/statement-on-new-york-times-article">Alexander‚Äôs post</a> about it, though I think he has too much of a conspiratorial view of this.<a id="footnote-anchor-1" href="#footnote-1">1</a>)</p><p>I tend to think that too much time and mental energy is expended, including by me, on critiquing bad articles, and not enough time and energy is spent on praising good ones. So I feel kind of bad about writing a detailed criticism of a single bad article. But, given the larger context in which this story appeared, my sense is it‚Äôs going to become a flashpoint for a whole bunch of interesting struggles, so I think it‚Äôs useful and informative to say what I think. </p><h4>A tortured premise</h4><p>On its face, the idea of profiling an obscure blog written by a pseudonymous psychiatrist that has a surprisingly high-clout readership is perfectly good. Alexander‚Äôs readers include many Silicon Valley people, including ‚Äî as Metz details ‚Äî some very high-ranking executives. It‚Äôs an interesting story. </p><p>But I think Metz kind of misses what‚Äôs interesting about it from the get-go. </p><ul><li><p><a href="https://twitter.com/douthatnyt/status/859771088125005824?lang=en">Ross Douthat</a> reads SSC, and so does <a href="https://www.vox.com/2014/12/1/7311417/race-law-controls">Ezra Klein</a>. </p></li><li><p><a href="https://www.nytimes.com/2018/03/08/opinion/student-mobs.html">David Brooks</a> has quoted him in The New York Times. </p></li><li><p><a href="https://marginalrevolution.com/marginalrevolution/2017/04/excerpt-chat-ezra.html">Tyler Cowen</a> praises SSC and the larger ‚Äúrationalist community‚Äù that it was a flagship publication of, but also critiques them, saying ‚ÄúI would approve of them much more if they called themselves the irrationality community.‚Äù</p></li></ul><p>As you‚Äôll see in Metz‚Äôs story, the Vox writer Kelsey Piper is an SSC reader and a rationalist. But she works primarily for Vox‚Äôs <a href="https://www.vox.com/future-perfect">Future Perfect</a> vertical, which is a whole rationalist-inspired cornucopia of content. </p><p>In other words, this is an intellectual movement that‚Äôs somewhat influential in highbrow circles broadly, and that deserves to be situated as such. Well-known books like Toby Ord‚Äôs <a href="https://www.amazon.com/Precipice-Existential-Risk-Future-Humanity/dp/0316484911">‚ÄúThe Precipice‚Äù</a> and Philip Tetlock‚Äôs <a href="https://www.amazon.com/Superforecasting-Science-Prediction-Philip-Tetlock/dp/0804136718">‚ÄúSuperforecasting: The Art and Science of Prediction‚Äù</a> are important parts of the rationalist firmament. There‚Äôs also Julia Galef‚Äôs excellent podcast ‚ÄúRationally Speaking‚Äù on which <a href="https://podcasts.google.com/feed/aHR0cDovL3d3dy5ueWNza2VwdGljcy5vcmcvc3RvcmFnZS9mZWVkcy9ycy54bWw/episode/YzZlZTFhZmUtMTkwMS00ZDZiLTg1Y2QtMjhlNDI3ODE5YTJk?hl=en&amp;ved=2ahUKEwiNhNeMzefuAhXNFVkFHUIfB5EQieUEegQIDhAF&amp;ep=6">you can hear me yacking</a>. </p><p>There‚Äôs a lot more going on than ‚Äúsome tech executives read this blog,‚Äù in other words. </p><p>But Metz does not seem interested in actually exploring rationalist ideas or understanding their content or the scope of their influence. Instead, the article is structured as a kind of syllogism:</p><ul><li><p>Scott Alexander‚Äôs blog is popular with some influential Silicon Valley people.</p></li><li><p>Scott Alexander has done posts that espouse views on race or gender that progressives disapprove of. </p></li><li><p>Therefore, Silicon Valley is a hotbed of racism and sexism. </p></li></ul><p>One time years ago, I went to Silicon Valley for a few days. As a white guy, I would not be well-situated to assess the extent to which it‚Äôs a hotbed of racism and sexism anyway, so I won‚Äôt comment on the conclusion. But the logic is specious, and the whole thing is an incredible missed opportunity to help people understand some valuable and interesting ideas. </p><h4>Rationalism as I understand it  </h4><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png&quot;,&quot;height&quot;:408,&quot;width&quot;:1022,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:702783,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a><figcaption>Early Modern rationalists ‚Äî Descartes, Spinoza, Leibniz</figcaption></figure></div><p>When I first heard about rationalists I was intensely confused, because in college I took a few different classes that involved reading ‚Äúrationalist‚Äù philosophers from the Early Modern period, and contemporary rationalists‚Äô ideas are totally unlike early modern philosophical rationalists‚Äô ideas.<a id="footnote-anchor-2" href="#footnote-2">2</a> I should also note that contemporary rationalism is both a set of ideas and also a specific community in the Bay Area that, as I understand it, involves polyamory and communal living of some kind. I don‚Äôt have any real knowledge or understanding of the latter and am just talking about ideas. </p><p>Rationalists‚Äô big thing is that the natural human process of cognition is <em>capable</em> of reaching accurate results, but that‚Äôs not really the default mode. And rationalists are not just aware of this ‚Äî they think it‚Äôs a big problem, and they try really hard to push back on it and develop better reasoning skills. </p><p>I think that‚Äôs probably why a rationalist blog is very popular in Silicon Valley. The nature of VC investing or the management of an early-stage startup is that there is incredible monetary value in making correct predictions in the face of imperfect information. Then on top of that, the kinds of recommendations that rationalists give for how to reason better tend to align with engineers‚Äô natural instincts and inclinations:&nbsp;be more bloodless and objective, evaluate claims on the merits in isolation, gather and surface all available facts. </p><p>This thing I did where I tried to <a href="https://www.slowboring.com/p/predictions">list specific predictions with specific probabilities</a> so I can go back and check to see how wrong I was is a rationalist idea. </p><p>But of course, there‚Äôs more to it than predicting. The key to Metz‚Äôs point is that part of the practice of rationalism is that in order to do it effectively, you have to be willing to be impolite. Not necessarily 24 hours a day or anything, but when you‚Äôre in Rationalism Mode you can‚Äôt also ‚Äúread the room.‚Äù A rationalist would say that human psychology is <em>over-optimized</em> for reading the room, and that to get at the truth you need to be willing to deliberately turn off the room-reading portion of your brain and just throw your idea out. </p><p>Compared to the public masses, the biggest difference between rationalists and everyday Americans is almost certainly that <a href="https://www.pewresearch.org/fact-tank/2018/04/25/key-findings-about-americans-belief-in-god/">Americans are very religious</a>. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png&quot;,&quot;height&quot;:380,&quot;width&quot;:640,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:27299,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But a quirk of American life is that even though most Americans say they believe in God as described in the Bible, nobody thinks it‚Äôs interesting to argue about this. By contrast, lots of people like to argue about race and gender issues. But in progressive circles, it is common to observe the norm that because the struggle against racism and misogyny is important, it is impolite to dissent from an anti-racist claim or argument unless you have some overwhelmingly important reason for doing so. </p><h4>Rationality vs. manners</h4><p>This exchange between Conor Friedersdorf and Chris Hayes on the merits of arguing about the San Francisco School Board illustrates the progressive norm, upheld here by Hayes.</p><p>To an extent, I disagree with Hayes about this specific case<a id="footnote-anchor-3" href="#footnote-3">3</a>, but I accept the basic force of his logic. Hayes, as a prime time cable television host, has a kind of power in our society that it‚Äôs incumbent on him to wield wisely. And while I think wielding that power wisely entails not lying to people, it is compatible with discretion about what truths one chooses to speak. But even though rationalists will understand the strategic logic of this kind of argument as well (if not better) than most, the <em>practice</em> of rationalism requires setting it aside. </p><p>You see this on display in a post Metz criticizes titled <a href="https://slatestarcodex.com/2017/08/01/gender-imbalances-are-mostly-not-due-to-offensive-attitudes/">‚ÄúGender Imbalances Are Mostly Not Due To Offensive Attitudes.‚Äù</a></p><p>In the (liberal, coastal, urban, very political) circles that I travel, everyone (especially parents) knows and acknowledges that men and women are, on average, different in ways that end up mattering for the distribution of outcomes. But everyone also believes that sexism and misogyny are significant problems in the world, and that the people struggling against those problems are worthy of admiration and praise. So to leap into a conversation about sexism and misogyny yelling <a href="https://pubmed.ncbi.nlm.nih.gov/30206941/">‚ÄúWELL ACTUALLY GIOLLA AND KAJONIUS FIND THAT  SEX DIFFERENCES IN PERSONALITY ARE LARGER IN COUNTRIES WITH MORE GENDER EQUALITY‚Äù</a> would be considered a rude and undermining thing to do. This is just to say that most people are not rationalists ‚Äî they believe that statements can be evaluated on grounds beyond truth and falsity. There is suspicion of the guy who is ‚Äújust asking questions.‚Äù </p><p>Annie Lowrey even published a piece in the Atlantic denouncing the <a href="https://www.theatlantic.com/ideas/archive/2020/07/may-i-introduce-you-facts-man/614827/">‚ÄúFacts Man‚Äù</a> on precisely these terms:  </p><blockquote><p>Sometimes, Facts Man is less about truth than raising questions. Why can‚Äôt Facts Man talk about certain issues in exactly the way he wants to? Why can‚Äôt Facts Man bring up scientific facts relevant to other people‚Äôs humanity without getting called out for it? Why can‚Äôt Facts Man make obscenely offensive conjectures about life-or-death issues? Where‚Äôs the open debate? Why does Facts Man have to genuflect to other peoples‚Äô identity politics? Facts Man himself has no identity politics! He is an individual, as unique as a snowflake, but certainly not as fragile as one.</p></blockquote><p>Personally, I find myself somewhere between Lowrey and Alexander on this. The pure vision of the rationalists and the belief that statements could or should be read devoid of context or purely literally strikes me as untenable. But I think that in the Trump era, journalism as a whole has tilted too far in Lowrey‚Äôs direction, with too much room-reading and groupthink and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.slowboring.com/p/slate-star-codex">https://www.slowboring.com/p/slate-star-codex</a></em></p>]]>
            </description>
            <link>https://www.slowboring.com/p/slate-star-codex</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132104</guid>
            <pubDate>Sun, 14 Feb 2021 13:08:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The most important AI Conferences in 2021]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131821">thread link</a>) | @amaigmbh
<br/>
February 14, 2021 | https://www.am.ai/en/blog/ai-conferences-2021/ | <a href="https://web.archive.org/web/*/https://www.am.ai/en/blog/ai-conferences-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>February 2nd marks the start of a year filled with AI conferences. The 35th AAAI organized by the Association for the Advancement of Artificial Intelligence is the first of many important conferences this year. It can be quite challenging to keep an overview of the multitude of different AI Expert gatherings across the globe, ranging from small-scale meetups to international conferences with thousands of attendees. </p><p><span>
      <span></span>
  <img alt="2021 AI Conferences w Logos" title="2021 AI Conferences w Logos" src="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png" srcset="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/12f09/2021%20AI%20Conferences%20w%20Logos.png 148w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/e4a3f/2021%20AI%20Conferences%20w%20Logos.png 295w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png 590w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/efc66/2021%20AI%20Conferences%20w%20Logos.png 885w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/c83ae/2021%20AI%20Conferences%20w%20Logos.png 1180w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/29114/2021%20AI%20Conferences%20w%20Logos.png 1920w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>Therefore, we have gathered the most important conferences below, based on scientific relevance. The relevance is indicated by the h5-index which <a target="_blank" rel="nofollow noopener noreferrer" href="https://scholar.google.com/citations?view_op=top_venues&amp;hl=en&amp;vq=eng_artificialintelligence">Google Scholar</a> computes for the publications of each conference, based on the authors <a target="_blank" rel="nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/H-index">H-indices</a>.</p><p>Below you will find introductions to the following segments:</p><ol><li>Top Computer Vision Conferences</li><li>Top General Machine Learning Conferences</li><li>Top AI Conferences on Specific Topics</li></ol><br><hr><br><p><span>
      <span></span>
  <img alt="logo cvpr" title="logo cvpr" src="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png" srcset="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/12f09/logo_cvpr.png 148w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/e4a3f/logo_cvpr.png 295w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png 590w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/efc66/logo_cvpr.png 885w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c83ae/logo_cvpr.png 1180w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c1b63/logo_cvpr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF Conference on Computer Vision and Pattern Recognition <strong>(CVPR)</strong></h3><p><strong>19.-25. June 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 299 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://cvpr2021.thecvf.com/">cvpr2021.thecvf.com</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The Conference on Computer Vision and Pattern Recognition (CVPR) is an annual conference on computer vision and pattern recognition, which is regarded as one of the most important conferences in its field.</p></blockquote><p><span>
      <span></span>
  <img alt="logo iccv" title="logo iccv" src="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png" srcset="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/12f09/logo_iccv.png 148w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/e4a3f/logo_iccv.png 295w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png 590w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/efc66/logo_iccv.png 885w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c83ae/logo_iccv.png 1180w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c1b63/logo_iccv.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF International Conference on Computer Vision <strong>(ICCV)</strong></h3><p><strong>11.-17. October 2021 <!-- -->&nbsp;<!-- --> Location: Montreal, Canada <!-- -->&nbsp;<!-- --> h5-index: 176 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://iccv2021.thecvf.com/home">iccv2021.thecvf.com/home</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The International Conference on Computer Vision (ICCV) is a research conference sponsored by the Institute of Electrical and Electronics Engineers (IEEE) held every other year. It is considered to be one of the top conferences in computer vision, alongside CVPR and ECCV, and it is held on years in which ECCV is not.</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo iclr" title="logo iclr" src="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png" srcset="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/12f09/logo_iclr.png 148w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/e4a3f/logo_iclr.png 295w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png 590w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/efc66/logo_iclr.png 885w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c83ae/logo_iclr.png 1180w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c1b63/logo_iclr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Learning Representations <strong>(ICLR)</strong></h3><p><strong>5.-8. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 203 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://iclr.cc/">iclr.cc</a> <!-- -->&nbsp;<!-- --> Focus: Deep Learning</strong></p><blockquote><p>ICLR is one of the fastest growing artificial intelligence conferences in the world.
The International Conference on Learning Representations (ICLR) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence called representation learning, but generally referred to as deep learning.</p><p>ICLR is globally renowned for presenting and publishing cutting-edge research on all aspects of deep learning used in the fields of artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, text understanding, gaming, and robotics.</p><p>The conference is presided by "Godfathers of AI" Yann LeCun and Yoshua Bengio.</p></blockquote><p><span>
      <span></span>
  <img alt="logo neurips" title="logo neurips" src="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png" srcset="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/12f09/logo_neurips.png 148w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/e4a3f/logo_neurips.png 295w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png 590w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/efc66/logo_neurips.png 885w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c83ae/logo_neurips.png 1180w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c1b63/logo_neurips.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Neural Information Processing Systems <strong>(NeurIPS)</strong></h3><p><strong>27. November - 5. December 2021 <!-- -->&nbsp;<!-- --> Location: TBA <!-- -->&nbsp;<!-- --> h5-index: 198 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://nips.cc/">nips.cc</a></strong></p><blockquote><p>The Conference and Workshop on Neural Information Processing Systems (abbreviated as NeurIPS and formerly NIPS) is a machine learning and computational neuroscience conference held every December. The conference is currently a double-track meeting (single-track until 2015) that includes invited talks as well as oral and poster presentations of refereed papers, followed by parallel-track workshops.</p><p>Landmark publications in the past include object detector Faster R-CNN and the Attention Is All You Need paper that introduced the Transformer architecture.</p></blockquote><p><span>
      <span></span>
  <img alt="logo icml" title="logo icml" src="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png" srcset="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/12f09/logo_icml.png 148w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/e4a3f/logo_icml.png 295w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png 590w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/efc66/logo_icml.png 885w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c83ae/logo_icml.png 1180w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c1b63/logo_icml.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Machine Learning <strong>(ICML)</strong></h3><p><strong>18.-24. July 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 171 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://icml.cc/">icml.cc</a></strong></p><blockquote><p>The International Conference on Machine Learning (ICML) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence known as machine learning.</p><p>ICML is globally renowned for presenting and publishing cutting-edge research on all aspects of machine learning used in closely related areas like artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, and robotics.</p><p>ICML is one of the fastest growing artificial intelligence conferences in the world. Participants at ICML span a wide range of backgrounds, from academic and industrial researchers, to entrepreneurs and engineers, to graduate students and postdocs.</p></blockquote><p><span>
      <span></span>
  <img alt="logo aaai" title="logo aaai" src="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png" srcset="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/12f09/logo_aaai.png 148w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/e4a3f/logo_aaai.png 295w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png 590w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/efc66/logo_aaai.png 885w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c83ae/logo_aaai.png 1180w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c1b63/logo_aaai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>AAAI Conference on Artificial Intelligence <strong>(AAAI)</strong></h3><p><strong>2.-9. February 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 126 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://aaai.org/">aaai.org</a></strong></p><blockquote><p>The 35th AAAI Conference on Artificial Intelligence (AAAI-21) will have a diverse technical track, student abstracts, poster sessions, invited speakers, tutorials, workshops, and exhibit and competition programs, all selected according to the highest reviewing standards. AAAI-21 welcomes submissions on mainstream AI topics as well as novel crosscutting work in related areas.</p><p>Among the highlights this year is the Liquid Time-Constant Networks paper by Hasani et al. (<a target="_blank" rel="nofollow noopener noreferrer" href="https://news.mit.edu/2021/machine-learning-adapts-0128">news.mit.edu</a>).</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo chi" title="logo chi" src="https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png" srcset="https://www.am.ai/static/976284121888ce61ade73b91e387a765/12f09/logo_chi.png 148w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/e4a3f/logo_chi.png 295w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png 590w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/efc66/logo_chi.png 885w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c83ae/logo_chi.png 1180w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c1b63/logo_chi.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM Conference on Human Factors in Computing Systems <strong>(CHI)</strong></h3><p><strong>8.-13. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 95 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://chi2021.acm.org/">chi2021.acm.org</a> <!-- -->&nbsp;<!-- --> Focus: Human Computer Interaction (HCI)</strong></p><blockquote><p>The 2021 ACM CHI Virtual Conference on Human Factors in Computing Systems is the premier international conference on Human-Computer Interaction. CHI ‚Äì pronounced ‚Äòkai‚Äô ‚Äì is a place where researchers and practitioners gather from across the world to discuss the latest in interactive technology. CHI is generally considered the most prestigious in the field of HCI and attracts thousands of international attendees annually.</p></blockquote><p><span>
      <span></span>
  <img alt="logo acl" title="logo acl" src="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png" srcset="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/12f09/logo_acl.png 148w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/e4a3f/logo_acl.png 295w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png 590w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/efc66/logo_acl.png 885w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c83ae/logo_acl.png 1180w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c1b63/logo_acl.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Meeting of the Association for Computational Linguistics <strong>(ACL)</strong></h3><p><strong>1.-6. August 2021 <!-- -->&nbsp;<!-- --> Location: Bangkok, Thailand <!-- -->&nbsp;<!-- --> h5-index: 135 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://2021.aclweb.org/">2021.aclweb.org</a> <!-- -->&nbsp;<!-- --> Focus: Language Processing</strong></p><blockquote><p>ACL is the premier conference of the field of computational linguistics, covering a broad spectrum of diverse research areas that are concerned with computational approaches to natural language. It will be held jointly with the 11th International Joint Conference on Natural Language Processing of the Asian Federation of Natural Language Processing (AFNLP). </p></blockquote><p><span>
      <span></span>
  <img alt="logo kdd" title="logo kdd" src="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png" srcset="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/12f09/logo_kdd.png 148w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/e4a3f/logo_kdd.png 295w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png 590w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/efc66/logo_kdd.png 885w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c83ae/logo_kdd.png 1180w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c1b63/logo_kdd.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM International Conference on Knowledge Discovery and Data Mining <strong>(KDD)</strong></h3><p><strong>14.-18. August 2021 <!-- -->&nbsp;<!-- --> Location: Singapore <!-- -->&nbsp;<!-- --> h5-index: 90 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://www.kdd.org/kdd2021/">kdd.org/kdd2021</a> <!-- -->&nbsp;<!-- --> Focus: Data Mining</strong></p><blockquote><p>The Special Interest Group for Knowledge Discovery and Data Mining of the Association for Computing Machinery hosts the annual premier forum for data mining researchers and practitioners from academia, industry, and government to share ideas, research results and experiences. </p></blockquote><hr><br><h3>AI Conferences 2021 sorted by Relevance</h3><br><h3>AI Conferences 2021 sorted by Date</h3><hr><p><span>
      <span></span>
  <img alt="logo amai" title="logo amai" src="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png" srcset="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/12f09/logo_amai.png 148w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/e4a3f/logo_amai.png 295w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png 590w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/efc66/logo_amai.png 885w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c83ae/logo_amai.png 1180w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c1b63/logo_amai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>We certainly have an exciting year ahead of us. New scientific breakthroughs will be announced at the expert meetings listed above. But sifting through conference proceedings naturally requires a lot of time and expertise. Instead of digging through countless pages, you can stay up to date with our <strong><a target="_blank" rel="nofollow noopener noreferrer" href="https://i.am.ai/newsletter">i.am.ai AI Newsletter</a></strong>.</p><p>To talk to an AI Expert about the latest technologies and <strong>practical applications</strong> for your business, say <strong><a target="_blank" rel="nofollow noopener noreferrer" href="mailto:hi@am.ai">hi@am.ai</a></strong>.</p></div></div>]]>
            </description>
            <link>https://www.am.ai/en/blog/ai-conferences-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131821</guid>
            <pubDate>Sun, 14 Feb 2021 12:29:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Internals Serie: Int (Long) Object]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131703">thread link</a>) | @karroum
<br/>
February 14, 2021 | http://ykarroum.com/2021/01/10/intobject/ | <a href="https://web.archive.org/web/*/http://ykarroum.com/2021/01/10/intobject/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
  
  <p><span>10 Jan 2021</span></p><p>In this article, we will read and discuss the implementation details of <em>ints</em> in <em>CPython</em>.</p>

<p>Altough using integers in python is fairly easy :</p>

<figure><pre><code data-lang="python"><span>a</span> <span>=</span> <span>1</span>

<span>b</span> <span>=</span> <span>a</span> <span>+</span> <span>5</span></code></pre></figure>

<p>The implementation file contains more than 5000 code lines.</p>

<p>Since the file contains roughly 116 functions/macros, I‚Äôll probably skip some (most of ?) functions.</p>

<p>Without further ado, let‚Äôs dive into the code !</p>

<h3 id="longobjectc">longobject.c</h3>

<p>First we need to find a starting point, we know that all pythons objects are stored in <code>cpython/Objects</code>.</p>

<p>Unfortunetly, we don‚Äôt seem to have an <code>intobject.c</code> file. That‚Äôs because the underlying C object for python integers is <code>PyLongObject</code>.</p>

<p>The file we‚Äôre interessted in is : <code>longobject.c</code></p>

<p>From now one I will refer to python‚Äôs integers implementation both using <em>integers</em> or <em>longs</em>, which is not technically accurate since in <em>C</em> those are different types.</p>

<p>For the rest of this article, we‚Äôll revisit some of the most used operations/functions related to integers.</p>

<h4 id="medium_valuex">MEDIUM_VALUE(x)</h4>

<figure><pre><code data-lang="c"><span>/* convert a PyLong of size 1, 0 or -1 to an sdigit */</span>
<span>#define MEDIUM_VALUE(x) (assert(-1 &lt;= Py_SIZE(x) &amp;&amp; Py_SIZE(x) &lt;= 1),   \
         Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0] :   \
             (Py_SIZE(x) == 0 ? (sdigit)0 :                             \
              (sdigit)(x)-&gt;ob_digit[0]))</span></code></pre></figure>

<p>The comment is pretty explanatory, the macro convert a given <em>long</em> to an <em>sdigit</em>. But what‚Äôs an sdigit ? Well it depends :</p>

<figure><pre><code data-lang="c"><span>#if PYLONG_BITS_IN_DIGIT == 30 </span><span>/* signed variant of digit */</span><span>
</span><span>typedef</span> <span>int32_t</span> <span>sdigit</span>
<span>#elif PYLONG_BITS_IN_DIGIT == 15
</span><span>typedef</span> <span>short</span> <span>sdigit</span><span>;</span> <span>/* signed variant of digit */</span>
<span>#else
#error "PYLONG_BITS_IN_DIGIT should be 15 or 30
#endif</span></code></pre></figure>

<p>The <code>PYLONG_BITS_IN_DIGIT</code> is defined either at configure time or in <code>pyport.h</code>.</p>

<p>We have an assert to protect us from accidently casting a big integer, which is not small enough to fit in an sdigit, to an sdigit, which may result in a loss of information, therefore potentiely issues which can be hard to detect.</p>

<p>Curiously, the assert check that the <em>size</em> of x is bigger than -1, but can be less than 0 ? My guess is that size is unsigned to represent both the size and the sign of the integer, for exemple : <code>PY_SIZE(-15) = -2</code>.
This seems to be confirmed with <code>Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0]</code>.</p>

<p><code>ob_digit</code> looks like an array containing our integer. which can be confirmed in the file <code>longintrepr.h</code> :</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>_longobject</span> <span>{</span>
    <span>PyObject_VAR_HEAD</span>
    <span>digit</span> <span>ob_digit</span><span>[</span><span>1</span><span>];</span>
<span>};</span></code></pre></figure>

<p>One curious fact, that I can‚Äôt explain, is the small size of the array (one element ?), maybe it‚Äôs somehow changed at runtime.</p>

<h4 id="is_small_intival">IS_SMALL_INT(ival)</h4>

<figure><pre><code data-lang="c"><span>#define IS_SMALL_INT(ival) (-NSMALLNEGINTS &lt;= (ival) &amp;&amp; (ival) &lt; NSMALLPOSINTS)</span></code></pre></figure>

<p>Pretty straightforward function.</p>

<p><code>NSMALLPOSINTS</code> and <code>NSMALLNEGINTS</code> is defined in the <code>pycore_interp.h</code> file :</p>

<figure><pre><code data-lang="c"><span>/* interpreter state */</span>

<span>#define _PY_NSMALLPOSINTS           257
#define _PY_NSMALLNEGINTS           5</span></code></pre></figure>

<p>To undesrtand why those 2 magic numbers and where this macro is used, let‚Äôs dive into the next function.</p>

<h4 id="static-pyobject--get_small_intsdigit-ival">static PyObject * get_small_int(sdigit ival)</h4>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>get_small_int</span><span>(</span><span>sdigit</span> <span>ival</span><span>)</span>
<span>{</span>
    <span>assert</span><span>(</span><span>IS_SMALL_INT</span><span>(</span><span>ival</span><span>));</span>
    <span>PyInterpreterState</span> <span>*</span><span>interp</span> <span>=</span> <span>_PyInterpreterState_GET</span><span>();</span>
    <span>PyObject</span> <span>*</span><span>v</span> <span>=</span> <span>(</span><span>PyObject</span><span>*</span><span>)</span><span>interp</span><span>-&gt;</span><span>small_ints</span><span>[</span><span>ival</span> <span>+</span> <span>NSMALLNEGINTS</span><span>];</span>
    <span>Py_INCREF</span><span>(</span><span>v</span><span>);</span>
    <span>return</span> <span>v</span><span>;</span>
<span>}</span></code></pre></figure>

<p>This function implements what is commonly known as the <em>Flyweight pattern</em>, as explained here : <a href="https://python-patterns.guide/gang-of-four/flyweight/">https://python-patterns.guide/gang-of-four/flyweight/</a>, the flyweight pattern is used in python to create at the initialisation phase all the integers in the range [-5, 256]. At the runtime, whenever you ask for a number in this range, you‚Äôll always get the <em>same</em> number.</p>

<p>Which can be easily checked :</p>

<figure><pre><code data-lang="python"><span>20</span> <span>+</span> <span>30</span> <span>is</span> <span>50</span> <span># True
</span><span>200</span> <span>+</span> <span>300</span> <span>is</span> <span>500</span> <span># False</span></code></pre></figure>

<p>Those integers objects are stored in the interpreter state.</p>

<p>According to <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/</a> :</p>

<blockquote>
  <p>An interpreter state is a group of threads along with the data specific to this group. Threads share such things as loaded modules (sys.modules), builtins (builtins.<strong>dict</strong>) and the import system (importlib).</p>
</blockquote>

<p>Apparently flyweight integers are stored there.</p>

<p>We also use <code>Py_INCREF</code> to increment the reference count of the returned integer, recall that reference counting is what is used by the CPython garbage collector to detect which objects to free (Well not just that, since reference counting alone doesn‚Äôt resolve circular references, but we‚Äôll discuss the <em>gc</em> in more details in future articles).</p>

<h4 id="maybe_small_long">maybe_small_long</h4>

<p>Straitforward function, we check a given integer is small enough to fit into an sdigit, if it‚Äôs the case we downcast it to an sdigit using the <code>MEDIUM_VALUE</code>. After downcasting we check if the integer is in the flyweight range <em>[-5, 257]</em>, if it‚Äôs the case we decrement the referece counting (since we don‚Äôt need two PyLong objects) and we return a reference on the already allocated number.</p>

<h3 id="how-are-longs-created">How are longs created</h3>

<p>Longs are created using the function <code>PyLongObject * _PyLong_New(Py_ssize_t size)</code>, size here refer to the number of digit of the target long.</p>

<figure><pre><code data-lang="c"><span>if</span> <span>(</span><span>size</span> <span>&gt;</span> <span>(</span><span>Py_ssize_t</span><span>)</span><span>MAX_LONG_DIGITS</span><span>)</span> <span>{</span>
	<span>PyErr_SetString</span><span>(</span><span>PyExc_OverflowError</span><span>,</span>
					<span>"too many digits in integer"</span><span>);</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>Well, looks like we can‚Äôt have an indefinely big integer, but how big can our integers be ?</p>

<figure><pre><code data-lang="c"><span>#define MAX_LONG_DIGITS \
    ((PY_SSIZE_T_MAX - offsetof(PyLongObject, ob_digit))/sizeof(digit))</span></code></pre></figure>

<p>If you don‚Äôt already know it, <em>offsetof</em> is a <em>C</em> function wich will basicaly return an offset of the member (ob_digit) from the structure (PyLongObject), if you recall correctly, since our struture only contains <code>PyObject_VAR_HEAD</code> and 	<code>digit ob_digit</code>. so the offset is the memorry taken with VAR_HEAD.</p>

<p>So a integer has a maximal size of roughly Py_SSIZE_T_MAx.</p>

<p>According to this answer : <a href="https://stackoverflow.com/a/42777910/14517936">https://stackoverflow.com/a/42777910/14517936</a> <code>Py_SSIZE_T_MAX = sys.maxsize</code>, which is according to the official documentation ( <a href="https://docs.python.org/3/library/sys.html#sys.maxsize">https://docs.python.org/3/library/sys.html#sys.maxsize</a> ) equal to <code>2**31 - 1</code> on 32 bits machine or <code>2**63 - 1</code>.</p>

<p><code>2**63 - 1</code> is a huge number of digits.</p>

<p>You can check this limit yourself by doing :</p>

<figure><pre><code data-lang="python"><span>import</span> <span>sys</span>
<span>10</span><span>**</span><span>sys</span><span>.</span><span>maxsize</span></code></pre></figure>

<p>If the size is fine, we allocate enough memory to store our integer :</p>

<figure><pre><code data-lang="c"><span>result</span> <span>=</span> <span>PyObject_MALLOC</span><span>(</span><span>offsetof</span><span>(</span><span>PyLongObject</span><span>,</span> <span>ob_digit</span><span>)</span> <span>+</span>
						 <span>size</span><span>*</span><span>sizeof</span><span>(</span><span>digit</span><span>));</span>
<span>if</span> <span>(</span><span>!</span><span>result</span><span>)</span> <span>{</span>
	<span>PyErr_NoMemory</span><span>();</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As a good practice you should ALWAYS check that an allocation had correctly been performed, which may not be the case if you don‚Äôt have enough memory for example, your futur self will thank you.</p>

<h3 id="adding-two-integers">Adding two integers</h3>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>long_add</span><span>(</span><span>PyLongObject</span> <span>*</span><span>a</span><span>,</span> <span>PyLongObject</span> <span>*</span><span>b</span><span>)</span>
<span>{</span>
    <span>PyLongObject</span> <span>*</span><span>z</span><span>;</span>

    <span>CHECK_BINOP</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>

    <span>if</span> <span>(</span><span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>))</span> <span>&lt;=</span> <span>1</span> <span>&amp;&amp;</span> <span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>))</span> <span>&lt;=</span> <span>1</span><span>)</span> <span>{</span>
        <span>return</span> <span>PyLong_FromLong</span><span>(</span><span>MEDIUM_VALUE</span><span>(</span><span>a</span><span>)</span> <span>+</span> <span>MEDIUM_VALUE</span><span>(</span><span>b</span><span>));</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
            <span>if</span> <span>(</span><span>z</span> <span>!=</span> <span>NULL</span><span>)</span> <span>{</span>
                <span>/* x_add received at least one multiple-digit int,
                   and thus z must be a multiple-digit int.
                   That also means z is not an element of
                   small_ints, so negating it in-place is safe. */</span>
                <span>assert</span><span>(</span><span>Py_REFCNT</span><span>(</span><span>z</span><span>)</span> <span>==</span> <span>1</span><span>);</span>
                <span>Py_SET_SIZE</span><span>(</span><span>z</span><span>,</span> <span>-</span><span>(</span><span>Py_SIZE</span><span>(</span><span>z</span><span>)));</span>
            <span>}</span>
        <span>}</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>b</span><span>,</span> <span>a</span><span>);</span>
    <span>}</span>
    <span>else</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
    <span>}</span>
    <span>return</span> <span>(</span><span>PyObject</span> <span>*</span><span>)</span><span>z</span><span>;</span>
<span>}</span></code></pre></figure>

<p>First we check that the two integers are valid.</p>

<figure><pre><code data-lang="c"><span>#define CHECK_BINOP(v,w)                                \
    do {                                                \
        if (!PyLong_Check(v) || !PyLong_Check(w))       \
            Py_RETURN_NOTIMPLEMENTED;                   \
    } while(0)</span></code></pre></figure>

<p>One curious thing you may have noticed is the :</p>

<figure><pre><code data-lang="c"><span>do</span> <span>{</span>
	<span>INSTR</span><span>;</span>
<span>}</span> <span>while</span><span>(</span><span>0</span><span>)</span></code></pre></figure>

<p>Which seems exactly the same as simply :</p>

<figure><pre><code data-lang="c"><span>INST</span><span>;</span></code></pre></figure>

<p>The purpose of doing this is macros in C are not really smart, the <em>preprocessor</em> will simply do a find/replace and hope for the best. The problem with this can be illustrated with the following macro :</p>

<figure><pre><code data-lang="c"><span>#define fct() \
	INSTR1; \
	INSTR2; </span><span>\</span></code></pre></figure>

<p>But what happens if you do :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>fct</span><span>()</span>
<span>else</span>
	<span>INSTR3</span><span>;</span></code></pre></figure>

<p>the preprocessor will replace this with :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>INSTR1</span><span>;</span>
<span>INSTR2</span><span>;</span>
<span>else</span>
	<span>INSTR</span><span>;</span></code></pre></figure>

<p>which is not valid <em>C</em>, since in <em>C</em> if you omit the braces, the if body will only consists of the first instruction which is not what you would expect.</p>

<p>The do while solve this by enclosing all our instructions in one scope.</p>

<p>But why not just use :</p>

<figure><pre><code data-lang="c"><span>{</span>
	<span>INSTR1</span><span>;</span>
	<span>INSTR2</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As far as i know this is simply a syntaxic choice, since writing <code>MACRO();</code> is more natural than <code>MACRO()</code> (not that in the second case we have no semicolon).</p>

<p>The rest is :</p>

<ul>
  <li>if both a and b are negative we return -|a + b|</li>
  <li>if a is negative but not b we compute b - a</li>
  <li>if b is negative and a is positive we compute a - b</li>
  <li>if both are positive we compute |a + b|</li>
</ul>

<p>This looks fairly complicated for a simple a + b, so why all the burden ?</p>

<p>Well recall that in <code>Python</code> integers can be very large (2^63 digits on 64 bits machines), this is achieved by storing the integers in arrays (each element representing a digit).</p>

<p>We dive in the <code>x_add</code> code we see :</p>

<figure><pre><code data-lang="c"><span>for</span> <span>(</span><span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>size_b</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>+</span> <span>b</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>for</span> <span>(;</span> <span>i</span> <span>&lt;</span> <span>size_a</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span><span>;</span></code></pre></figure>

<h2 id="conclusion">Conclusion</h2>
<p>And that‚Äôs it, the <code>long_sub</code> is fairly similar, and you can always (i encourage you to do so) check multiplication and division code.</p>

<p>We rarely stop to think about basic operations like integer operations, the longobject file shows use how complex and optimised long/integers implementation is in python.</p>

</div>





      </div></div>]]>
            </description>
            <link>http://ykarroum.com/2021/01/10/intobject/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131703</guid>
            <pubDate>Sun, 14 Feb 2021 12:09:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automated release process for (Lerna) monorepo]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26131545">thread link</a>) | @kiyanwang
<br/>
February 14, 2021 | https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo | <a href="https://web.archive.org/web/*/https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>The process of publishing (releasing) a new version of software is <em>one of the most important steps</em> in a development lifecycle. In this article, we will take a look at how we can <strong>automate</strong> this in a monorepository managed with <a target="_blank" href="https://lerna.js.org/">lerna</a>.</p><h2>Motivation</h2><p>The most important things in the release process are <em>simplicity</em>, <em>consistency</em>, and <em>clarity</em>. A release process should be <em>straightforward</em>, so everybody on the team can do it <strong>easily by following a clear set of instructions</strong>. During the release process, a lot of things can go wrong - you forget to set a new version, modify the version in any of the <code>package.json</code> files, or even forget to create a new tag or merge hotfixes from the <code>master</code> branch. Therefore, <strong>it's good to clearly define this process and automatize it as much as possible</strong>.</p><h2>Goals</h2><p>The main goal of this article is to <strong>define the release process</strong> for monorepo using Lerna. It consists of the <em>automatic creation of tags, incrementing the version, and changelog generation with the chronological arrangement of changes</em>.</p><h2>Project structure</h2><p>For this project, we will be using a monorepo with two packages/modules: <code>api</code> and <code>frontend</code>. In the root folder, we have packages, root <code>package.json</code>, and Lerna config.</p><pre><code>+-- api
| +-- package.json
| +-- ...
+-- frontend
| +-- package.json
| +-- ...
+-- CHANGELOG.md
+-- lerna.json
+-- package.json
+-- ...</code></pre><p>In this article, we are fixed to monorepo projects managed by <code>lerna</code>. That means that you should be able to use this process with any project using this structure (maybe with some little changes in configs). <strong><em>You can find valuable information in this article even if you are not using this kind of setup</em></strong>.</p><h2>Setup</h2><p>In our release process solution, we are using a <em>combination</em> of <code>GitHub</code>, <code>lerna</code> and <code>lerna-changelog</code>.</p><h3>Lerna</h3><p>Lerna is a library that provides tooling to manage multi-package structure inside a single repository (sometimes called monorepos). Our main usage of <code>lerna</code> is for <em>automatic versioning and tag generation</em>. We are using <code>lerna</code> with the combination of <code>lerna-changelog</code> package which is used to <em>generate a changelog</em> based on the labels attached to PRs merged into the origin.</p><p>In the root of the project run <code>npm i -s -d lerna</code> (we are currently using <code>3.22.1</code>).
Create <code>lerna</code> configuration file (<code>lerna.json</code>).</p><pre><code>{
	"packages": [
		"./*"
	],
	"version": "{{your_current_repository_version}}"
}</code></pre><ul><li>packages - Array of globs to use as package locations (locations of your <strong>not</strong> root <code>package.json</code> files)</li><li>version - the current version of the project (from the root <code>package.json</code>)
More <code>lerna</code> config options can be found <a target="_blank" href="https://github.com/lerna/lerna#lernajson">here</a>.</li></ul><h3>Lerna-changelog</h3><p>In the root of the project run <code>npm i -s -d lerna-changelog</code> (we are currently using <code>1.0.1</code>)
In the root <code>package.json</code> file we need to add config for <code>lerna-changelog</code>. You can map PR labels from Github to more meaningful titles here.</p><pre><code>"changelog": {
	"labels": {
		"Type: Feature": "Features",
		"Type: Bug": "Bug fixes",
		"Type: Enhancement": "Enhancements"
	},
},</code></pre><p>More options can be found in <a target="_blank" href="https://github.com/lerna/lerna-changelog#configuration">lerna-changelog doc</a>.</p><p>For changelog generation, you'll need a <a target="_blank" href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token#using-a-token-on-the-command-line">personal access token</a> for the GitHub API with the <code>repo</code> scope for private repositories or just <code>public_repo</code> scope for public repositories.</p><p>You can set the environment variable for the GitHub authentication by running this command:</p><pre><code>export GITHUB_AUTH="&lt;Your Github personal access token&gt;"</code></pre><p>or even better, define this variable in your <code>.bash_profile</code></p><h2>Git workflow</h2><p>To understand this process you have to be familiar with <code>git-flow</code>. In our case, it's based on three main branches:</p><ul><li>develop</li><li>staging</li><li>master</li></ul><p>All <strong>new features or non-critical bug fixes are merged into the develop branch.</strong> When it's time for a new release (typically at the end of the sprint), <strong>all changes from develop are merged into staging branch</strong>, where <strong>we test it</strong> thoroughly if everything is working fine. After that we <strong>merge staging into the master branch</strong>.</p><h2>Release process</h2><p>A new release is introduced by creating a new git tag and bumping versions of packages.
These are done in a semi-automatized way with <a target="_blank" href="https://github.com/lerna/lerna/tree/master/commands/version">lerna</a>.</p><h3>Creating a Release Candidate with changelog</h3><p>Over the time, we figured out these few basic steps to create a release candidate:</p><ol><li>Pull the latest changes from <code>origin</code> to <code>master</code>, <code>staging</code>, <code>develop</code> branches to your local repository</li><li>Checkout into the <code>develop</code> branch and make sure you have all bug fixes from <code>master</code> merged to <code>develop</code></li><li>Run <code>npx lerna-changelog</code> to generate a changelog and append it to the <code>CHANGELOG.md</code></li><li>Commit new <code>CHANGELOG.md</code> on <code>develop</code></li><li>Run <code>npx lerna version</code> and choose the appropriate version number.<ol><li>This will update <code>version</code> properties for all updated packages</li><li>Commit all the changes</li><li>Create a new <code>git tag</code> on the new commit</li></ol></li><li>Push changes to the <code>origin</code></li><li>Merge <code>develop</code> into <code>staging</code> branch</li><li>Push staging to <code>origin</code></li><li>Create a new <em>Pull Request</em> with a base set as <code>master</code> from <code>staging</code> branch</li><li>Copy changes from <code>CHANGELOG.md</code> and attach to the <em>PR</em> body with <code>- [ ]</code> list items to render a <em>TODO</em> list (<code>- [ ]</code> is rendered as a checkbox)</li><li>Let your team know that there is a <em>Release Candidate</em> and wait until they will check every feature / bugfix they've merged</li><li>When all checkboxes (all features / bugfixes) are checked and the <em>PR</em> is approved, <strong>merge</strong> it. <strong><em>Don't squash</em></strong> merge as it might cause conflicts for developed features</li></ol><p>Example of <em>PR</em> from staging to master.
</p><h3>When to release?</h3><p>It's hard to say exactly. There are few points that you should think of:</p><ul><li><strong>Do not release in rush</strong> - you should have enough time to fix any problem during and after release. There is always something unpredictable that can happen. Maybe you have forgotten to set a new environment variable or a migration has crashed.</li><li>You should release when there are as minimum customers as possible using the product - any error can occur and that can have a negative influence on their experience with the product. Impact on the customer experience could be minimized by using strategies like <a target="_blank" href="https://martinfowler.com/bliki/BlueGreenDeployment.html">blue-green deployment</a> or <a target="_blank" href="https://martinfowler.com/bliki/CanaryRelease.html">canary releases</a>.</li><li>You should be <strong>sure of the code you are releasing</strong>.</li></ul><h3>How often to release?</h3><p>The best option is to <strong>release in periodic intervals</strong>, such as one sprint. Periodicity is one of the most important factors. <strong>You don't want to release hundreds of hours of work at once</strong>. It's much easier to release smaller features <em>more often</em>, than one big feature after two months. Last but not least, there is a customer that wants to see some progress on his project as well. <strong>It's not a problem to release more often then you need to</strong>, but before every release, <strong>don't forget to check the points in the "When to release" paragraph!</strong></p><h2>Conclusion</h2><p>In this article we've walked through the release process by <strong>creating a changelog with minimum effort</strong>. We've talked about a workflow and the tools we are currently using, and our method of creating a release candidate. As always, there is a lot of space to improve, e.g. it would be nice to automatize creating PR from <code>staging</code> to <code>master</code> branch with changelog description.</p></div></div></div>]]>
            </description>
            <link>https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131545</guid>
            <pubDate>Sun, 14 Feb 2021 11:43:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: TestHub ‚Äì aggregate and track tests and coverage across projects]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131336">thread link</a>) | @orsol
<br/>
February 14, 2021 | https://test-hub.io/testhub-io-examples | <a href="https://web.archive.org/web/*/https://test-hub.io/testhub-io-examples">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://test-hub.io/testhub-io-examples</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131336</guid>
            <pubDate>Sun, 14 Feb 2021 11:10:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess AI]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131183">thread link</a>) | @hggh
<br/>
February 14, 2021 | https://sebastian.itch.io/chess-ai | <a href="https://web.archive.org/web/*/https://sebastian.itch.io/chess-ai">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-post="{&quot;user_id&quot;:1709476,&quot;id&quot;:2606576}" id="post-2606576"><div><a href="https://itch.io/profile/pixelplant"></a><div><div><p>It took me an hour to beat the AI. The AI is difficult imo.&nbsp;</p><p>10/10, would play again.</p>
<p>1. e4 d6&nbsp;2. d4 Nf6 3. Nc3 g6 4. Be3 Nbd7 5. Qd2 e5 6. f3 exd4 7. Bxd4 Be7 8. Qh6 c5 9. Bf2 Qb6 10. Rb1 Bf8 11. Qd2 Bg7 12. Nb5 Bf8 13. Rd1 a6 14. Nxd6+ Bxd6 15. Qxd6 Qxb2 16. Bh4 Qc3+ 17. Rd2 Ng8 18. Ne2 Qa1+ 19. Rd1 Qb2 20. c3 g5 21. Bxg5 f6 22. Qe6+ Kf8 23. Bf4 Qb5 24. Bd6+ Kg7 25. Nf4 Qc6 26. Nh5+ Kg6 27. Qe8+ Kg5 28. Bf4+ Kh4 29. g3#&nbsp;<span></span><span></span></p></div></div></div></div><div data-post="{&quot;user_id&quot;:3932109,&quot;id&quot;:2602619}" id="post-2602619"><div><a href="https://itch.io/profile/ankitminz"></a><div><p>I lost every game lol. Pretty strong AI for beginners.</p></div></div></div><div data-post="{&quot;user_id&quot;:3228104,&quot;id&quot;:2601967}" id="post-2601967"><div><a href="https://itch.io/profile/nivmizzer"></a><div><p>Very impressive, cool to see someone use Unity to make the classic chess AI problem!</p></div></div></div></div>]]>
            </description>
            <link>https://sebastian.itch.io/chess-ai</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131183</guid>
            <pubDate>Sun, 14 Feb 2021 10:42:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The complexity that lives in the GUI]]>
            </title>
            <description>
<![CDATA[
Score 343 | Comments 191 (<a href="https://news.ycombinator.com/item?id=26131178">thread link</a>) | @yes_but_no
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The user interfaces are a weird thing. There are all sorts of libraries and frameworks that
are supposed to help you on your journey of writing a GUI, but despite all the best practices and
frameworks forcing you to eat your vegetables, the GUI always ends up being a ridiculous mess.
After pondering some more about this topic, I‚Äôve finally realized what is the cause of this problem.</p><p>Suppose you start working on a greenfield project for managing a warehouse (gasp).
This GUI has everything that a warehouse owner desires, including the irrelevant oversized
side bar on the left that scores upvotes on the design related social networks.
The user avatar with the details of logged
in user are on the left, inventory table is in the middle and all kinds of buttons are everywhere else.</p><p>If I asked you to architect such application from the given user interface concept,
you would probably start to mentally compose parts of the GUI into boxes with labels such as:
UserSection, InventoryTable, BottomActionButtons and so on.
These days such labeled boxes are commonly put into separate classes. Classes are a great building
blocks for the GUI, because they let you divide the complexity into smaller parts each containing
just the internal state of one little component.
When you are programming an inventory table in the middle you don‚Äôt want to care about the complexity
surrounding the user avatar section. In other words, if you are organizing the stuff in box A
you don‚Äôt care about the mess that resides in box B.</p><p>For a while this strategy of ‚Äúmess in other boxes is not my problem‚Äù works, but soon enough you hit the next
challenge. Suppose the user section of the warehouse GUI has a little light called ‚ÄúWorking‚Äù.
If the user is editing the inventory table that light should be displayed in green and when the user
stops editing, the light should be turned back to gray.</p><p>Oops, the ‚Äúmess in other boxes‚Äù is your problem now as you have to connect the editing state
of the inventory table with the state of the light in the user avatar section.
You find yourself at the crossroads of important design decisions.</p><ul><li><p><strong>Connect the boxes</strong>: create the user avatar component and pass its instance to the inventory
table component. Whenever the edit state of the inventory table changes, the business logic in
the inventory table should also trigger a state change in the user avatar component with the help
of the user avatar‚Äôs public API.</p></li><li><p><strong>Lift the state up</strong>: move the internal state of the user avatar component
and the state of the inventory table into a separate box/class. The logic of the user avatar
and inventory table component will still be neatly separated in their own boxes,
but they will be able to communicate without inventory table needing the direct access to the user avatar.</p></li><li><p><strong>Introduce a message bus</strong>: connect the inventory table and the user avatar component to the shared
pipe that is used for distributing events in the application. The user avatar component subscribes to
the message bus and every time it receives a table edit event,
it executes an appropriate action (e.g turn the light on).</p></li></ul><p>It goes without saying, that none of the presented options are without problems.</p><h3 id="connect-the-boxes">Connect the boxes</h3><p>If you‚Äôve decided to chicken out of introducing another layer for holding the common state, you may
solve this cross box communication problem by injecting the user avatar component directly into the
inventory table component. The programming theorists and other purists will tell you that this is a bad idea
and you should never even think about it. Think about the <del>children</del>, err,
all the tests that you won‚Äôt be able to write.</p><p>I am definitely guilty of such crime against the Holy Church of Unit Testers. When the project is
still in its infancy and I have yet to figure out what am I even building, I like to jam the
components together without giving it much thought. Sometimes you cut the corners, and sometimes
the corners cut you. How bad could it really be?</p><p>It turns out, for small components this strategy works quite well. As usual, it‚Äôs often the wrong thing
to do when your project grows large and contains hundreds of such inter class communication paths.
Not to mention how injecting hundreds of components is tedious, error prone and ugly to look at.</p><p>In hard times like these, the developers like to reach out for one of the fancy pants
dependency injection frameworks, which supposedly allow you to clean up the
component injection mess. In reality they trade compile time safety for some
convenience and runtime crashes [1]. Now, you have two problems:</p><ol><li>You are still injecting hundreds of components.</li><li>The dependency injection framework randomly breaks and nobody knows why.</li></ol><p>The main reason why I prefer not to use dependency injection frameworks in large projects
is because they tend to make the whole project more convoluted and harder to understand.
It‚Äôs very easy to add just another component injection and not put any effort towards
refactoring the code. This leads to the proliferation of small classes or services,
because the injection framework allows you to do with no upfront investment. You pay for this
crime later on once you have hundreds of injections all over the place and nobody is able to follow
and debug this mesh of small components
(see also <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">On navigating a large codebase</a>).</p><h3 id="lift-the-state-up">Lift the state up</h3><p>A preferred way, where preferred means some kind of handwavy generalization of what
the majority of developers might do, of handling this accidental complexity is by
lifting the state up and storing the state of your component into another box that is
usually called the model. Model View Controller (MVC) gang rejoice.
This pattern allows you to separate the presentation of your data (view) from
the actual data (model), with the use of controller that connects the two together [2].</p><p>Instead of injecting hundreds of components into a god like component that controls all
its children, you put the shared state of the relevant GUI components into a god like model
that controls the state of all those children.
The end result is similar, but separating the data from the view layer might earn you some
positive reviews at the end of the year from the unit test groupies.
Even though you improved the situation a little bit, you still have a huge model that is full of
weird edge cases. The GUIs are inherently a giant state machines and they often get
into a weird state that is only discovered when you are actually running the GUI.</p><p>Maintaining a large and messy model is hard, so you decide to saw the model into smaller models
that group the state of components which conceptually fit together. At some point during this
‚Äúsaw the model‚Äù process you realize that certain things between the two different models should be kept
in sync. The more modern GUI frameworks usually arm you with some kind of data binding abstraction,
which allows to easily propagate data changes from one model to another via the so called one way,
two way data binding.</p><p>Soon enough, you realize that it would be really useful if you could attach a change listener
that would trigger and perform an action on every change of the state object.
Say we would like to change the background color of the user avatar component
every time the working light turns on. The code describing this situation might look something like:</p><div><pre><code data-lang="java"><span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>.</span><span>editingInventoryTable</span><span>);</span>

<span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>addListener</span><span>((</span><span>oldState</span><span>,</span> <span>lightTurnedOn</span><span>)</span> <span>-&gt;</span> <span>{</span>
    <span>if</span> <span>(</span><span>lightTurnedOn</span><span>)</span> <span>{</span>
        <span>changeBackgroundToRed</span><span>();</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>changeBackgroundToIbmGray</span><span>();</span>
    <span>}</span>
<span>});</span></code></pre></div><p>This is usually the point at which you start losing control of your GUI. Clicking on buttons will start
triggering events which will modify the state in the model that will in turn start triggering event
listeners causing your GUI to flash like a christmas tree. The problem of data bindings and
change listeners is that they make it really easy to introduce a hidden circular event listeners
that will trigger one another multiple times (event A changes state B and change of state B triggers event A).
Such problems are rarely discovered during development, because developers are normally
using powerful machines in comparison to the mortals that are still sticking to their ancient computers.
These problems are also rarely discovered through code reviews, as the state changes are well
hidden within one of those one line state bindings.</p><p>I still don‚Äôt know what the proper solution to this problem would be.
Keep your state manipulations as simple as possible and try not to share any
data between different models. Every time I went forward with some fancy
listener-binding mechanisms, I‚Äôve ended up causing subtle circular listener recalculations
that were extremely hard to debug.</p><h3 id="message-bus">Message bus</h3><p>Congratulations, a large amount of your effort will go towards resolving weird message bus problems
as opposed to writing the business logic of your app. In the beginning, the message bus usually sounds
like a good idea because it simplifies a lot of communication problems between the different UI components.
You can send some events through the pipe and sure enough other parts of your application will react
to them.</p><p>You might be thinking: ‚ÄúMessage bus for communicating between components in the GUI? That‚Äôs crazy!‚Äù
Well, it turns out you can have a message bus that is not a huge ram gobbling process. In fact you are probably
already using it, as the GUI frameworks usually have some sort of an event queue built in that is used
for propagating the events in the system.</p><p>As your application grows you might realize that just spamming messages back and forth causes a lot of
performance problems. In case you have hundreds of components that are generating events, your little
user avatar component might be sifting through hundreds of messages per second while it is
only interested in one. Have no fear, message bus got your back. Any message bus worth their salt
allows you to define different channels that introduce rough message type ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131178</guid>
            <pubDate>Sun, 14 Feb 2021 10:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Functional Programming Visually]]>
            </title>
            <description>
<![CDATA[
Score 333 | Comments 52 (<a href="https://news.ycombinator.com/item?id=26131075">thread link</a>) | @polyrand
<br/>
February 14, 2021 | https://david-peter.de/cube-composer/ | <a href="https://web.archive.org/web/*/https://david-peter.de/cube-composer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
            <p><img src="https://david-peter.de/cube-composer/img/cube-composer.svg" width="200" height="35" alt="cube composer"></p>
            <div id="panel">
                <p><b>Choose level:</b><br>
                
                <b>Goal:</b></p>
                
            </div>
            <div id="message">
                <p><span id="solved">Solved ‚úì</span></p><div><a id="nextlevel"><u>N</u>ext level</a></div>
            </div>
            <canvas id="canvas" width="1600" height="860"></canvas>
            <div id="controls">
                <div>
                    <ul id="available"></ul>
                </div>
                <div>
                    <ul id="program"></ul>
                    <div>
                        <a id="reset"><u>R</u>eset</a>
                    </div>
                </div>
            </div>
            <p>
                A game by <a href="https://david-peter.de/">David Peter</a>. Source code on <a href="https://github.com/sharkdp/cube-composer">GitHub</a>.<br>
                
            </p>
        </div></div>]]>
            </description>
            <link>https://david-peter.de/cube-composer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131075</guid>
            <pubDate>Sun, 14 Feb 2021 10:25:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Declare bankruptcy and don‚Äôt be ashamed of it]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131011">thread link</a>) | @ZephyrBlu
<br/>
February 14, 2021 | https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	<div id="content">

	<div id="primary">
		<main id="main">

		

<article id="post-1461">
	<!-- .entry-header -->

	<div>
		
<p>I‚Äôm not talking about financial bankruptcy. I‚Äôm talking about all the other kinds of bankruptcy:</p>



<ul><li>Email bankruptcy (anything important will come back up)</li><li>Backlog bankruptcy (because <a href="https://critter.blog/2020/09/03/backlogs-are-not-idea-buckets/">Backlogs are not idea&nbsp;buckets</a>)</li><li>Books-to-read list bankruptcy (if your TBR list is 100+ books long, it‚Äôs not doing you any good)</li><li>Slack inbox bankruptcy (i.e., the first-day-back-from-vacation feeling)</li><li>Wiki bankruptcy (<a href="https://critter.blog/2020/08/10/wiki-bankruptcy/">I wrote about this one before</a>)</li><li>Social networking notification bankruptcy (this shouldn‚Äôt even be a question)</li><li>Browser tab bankruptcy (you can find stuff again when you to, but you won‚Äôt)</li><li>Garage/attic bankruptcy (don‚Äôt try to go through it, pay someone to haul it all away)</li></ul>



<p>If you feel like declaring bankruptcy is a failure, stop that. It‚Äôs not a failure. It‚Äôs a fresh start. It‚Äôs a powerful tool and we should take advantage of it. It‚Äôs a weight lifted. </p>



<p>If your washing machine breaks, you can spend hours and hours learning how to fix the stupid thing, or you can toss it and buy a new one. Buying a new one is nothing to be ashamed of. It‚Äôs practical. You‚Äôre declaring dryer bankruptcy (I know the metaphor is a stretch, shut up).</p>



<p>Sure, if you declare bankruptcy on the same thing over and over, then you should examine your patterns about that thing. Bankruptcy is a voice that says ‚Äúwhat can you do to make it unnecessary to do this again?‚Äù </p>



<p>Try it. Declare bankruptcy and <a href="https://twitter.com/mcrittenden">come tell me</a> if you don‚Äôt feel ten times better afterwards.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-1461 -->
			<!-- .post-nav-wrapper -->
		
		</main><!-- #main -->
	</div><!-- #primary -->


<!-- #secondary -->

	</div><!-- #content -->

	
	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131011</guid>
            <pubDate>Sun, 14 Feb 2021 10:05:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just Breathe ‚Äì Conscious Breathing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130986">thread link</a>) | @scotthtaylor
<br/>
February 14, 2021 | https://st.im/just-breathe/ | <a href="https://web.archive.org/web/*/https://st.im/just-breathe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
          <!--kg-card-begin: html-->  <!--kg-card-end: html--><p>Momentum. Anyone who has raised investment will tell you it's one of the most important elements of a fundraising journey. Once you get momentum, everything starts to come together. Investors have a sixth-sense for confidence, a helpful byproduct of momentum. They start getting FOMO. And the dynamic where they once held the power, changes. They now shuffle to sign term sheets, ask less questions, and move faster. They know the round will soon be complete, with or without them.</p><p>A few years ago I raised funding for my startup. At the start of the round, I was about to go into a meeting that, if successful, would give it momentum. I was nervous. I didn't want to choke. There were thirty employees who were counting on me. And a mission and vision that was important.</p><p>I'd lost count of how many boardrooms I'd seen over the past few days, but the important thing was, I felt good. Good enough to acknowledge the aromatic concoction of freshly ground coffee, expensive wood and leather ‚Äî something that had become the norm.</p><p>It was just me and my co-founder, the investor was running late.</p><p>"Great, more time to settle in, and get comfortable", I thought.</p><p>Powering on my laptop, connecting to my phone's hotspot, and opening Google Slides. A well practiced routine by now, almost automatic.</p><p>But this time something happened. Something terrible.</p><p>Maybe it was the coffee that morning. Or the lack of sleep. Or perhaps the subconscious acknowledgement of the mounting pile of day-to-day work that had taken a hit during the fundraise.</p><p>Whatever it was, I felt this wave consume me. Originating from centre of my stomach extending out to the very tips of fingers. It felt like electricity running through my veins. Palms sweaty, mind consumed.</p><p>"There's no way I can give the pitch like this."</p><p>Pulse elevated. Breathing shallow.</p><p>"Heart attack? Surely not?"<br>"Panic attack? More likely."</p><p>I'd experienced one before. This time it had reared its ugly head at the most inconvenient time. Unlike the meetings that had come before, ones that had put us on a path to <em>momentum</em>. There were now a few ways the next hour could pan out. With most of them not being great. I had to act quickly to have any sway over which it would be.</p><p>I could let my mind continue to race, try to power through, and give a sub-par presentation, all whilst visibly looking like I was in distress. This would risk the potential for investment. Alternatively, my co-founder could lead. But it would be strange for the CEO to not speak. Again, risking investment. Or I could try and get a handle on the panic attack. Easier said than done, as I'm sure anyone would who has ever experienced one, would agree.</p><p>"In for four" I told myself mentally, "Hold, two, three, four. And out: two, three, four".</p><p>Again.</p><p>"In for four," making sure to breathe deep from within, inhaling through my nose, "hold. Two, three, four.", "And out, two, three, four".</p><p>Sounds simple, even pathetic. But it's really not.</p><p>It had taken me years up until that point to realise the importance of the breath.</p><p>During a panic attack you will start breathing deeply, over-breathing or hyperventilating. This will cause you to accumulate extra air in your chest and diaphragm area that you don‚Äôt need. This is the reason you feel suffocated while you‚Äôre having a panic attack.</p><p>Eventually, this will cause pain because your chest is expanding beyond its limits and pushing on your rib cage.</p><p>During the fight or flight response, the body shuts off the digestive system because we don‚Äôt need it at that moment. This is why our appetite is reduced when we are anxious. The longer the food stays in the stomach the more acid will back up in your oesophagus. This can cause chest pain and a painful throat.</p><p>About 60% of panic attacks are accompanied by hyperventilation and many people suffering from anxiety over-breathe even when they think they are relaxed. The most important thing to understand about hyperventilation or over-breathing is that although we can feel as if we haven‚Äôt enough oxygen in our body, when the opposite is true.</p><p>Healthy breathing is when there is a steady balance between breathing in oxygen and breathing out carbon dioxide. You upset this balance when you hyperventilate by exhaling more than you inhale.</p><p>Everyone tends to think that breathing comes naturally and that there can‚Äôt be a wrong way of doing it.</p><p>Unfortunately, that‚Äôs not true.</p><p>There is a right way and a wrong way and it is essential that correct breathing is learned, understood and established.</p><p>An anxious body is not a relaxed body, which is why learning how to relax your body in any situation is a must. Understanding this was my 'get out of jail free' card. It's how I could start to take back control. It allowed me to stop the spiral.</p><p>At that moment the investor walked through the door. Crisis averted. This is just one example of the power of breathing, throughout my life I've come to understand and respect it more and more.</p><p>And I think you could benefit from it.</p><h3 id="understanding-breathing-is-the-key-to-self-mastery">Understanding breathing is the key to self mastery</h3><p>There is nothing more essential to our health and wellbeing than breathing. We breathe 25,000 times a day, and every breath has an impact on our anxiety levels, blood pressure, and heart rate.</p><p>There are exercises and approaches that you can use in times of need, like my example above. There are also times when breath can be used proactively, like that upon which meditation is focused. Finally there is simply the ability to breathe correctly. Something that most people have lost the ability to do. And this could severely impact both their physical and mental health.</p><h3 id="breathe-through-your-nose-not-your-mouth">Breathe through your nose, not your mouth</h3><p>I would recommend reading James Nestor's "<em>Breath - The New Science of a Lost Art</em>". It's fascinating, making you want to finish it in a few sittings.</p><p>In it he explains that nearly half of all people are chronic mouth breathers and are chronically stressed and exhausted as a result.</p><p>Breathing through your nose can lower blood pressure, help maintain a steady heart rate, and even help with memory consolidation. In contrast, mouth breathing is the single biggest predictor of teeth cavities.</p><p>Mouthbreathing also causes the body to lose 40% more water. If you sleep with your mouth open because you have sleep apnea, or a blocked nose, you'll notice yourself waking up at night constantly parched and dry.</p><p>There was a report from the Mayo Clinic which found that Chronic insomnia, long assumed to be a psychological problem, is often a breathing problem. The millions of people who have chronic insomnia disorder and who are, right now, staring out bedroom windows, or at TVs, phones, or ceilings, can't sleep because they can't breathe.</p><p>Mouthbreathing makes you dumber. A recent Japanese study showed that rats who had their nostrils obstructed and were forced to breathe through their mouths developed fewer brain cells and took twice as long to make their way through a maze than nasal-breathing controls.</p><p>Another Japanese study in humans from 2013 found that mouthbreahing delivered a disturbance of oxygen to the prefrontal cortex, the area of the brain associated with ADHD. Nasal breathing had no such effects.</p><p>The ancient Chinese were onto it as well. "The breath inhaled through the mouth is called 'Ni Ch'i, adverse breath,' which is extremely harmful," states a passage from the Tao. "Be careful not to have the breath inhaled through the mouth."</p><p>Inhaling through your nose can trigger different body hormones than if you breathe using your mouth.</p><h3 id="anxiety-and-shallow-breathing-are-interlinked">Anxiety and shallow breathing are interlinked</h3><p>People with panic or obsessive-compulsive disorders constantly have low carbon dioxide levels and a much greater fear of holding their breath. To avoid another attack, they breathe far too much and eventually become hyper-sensitised to carbon dioxide and panic if they sense a rise in this gas. They are anxious because they‚Äôre over-breathing. Over-breathing because they‚Äôre anxious.</p><h3 id="symmetrical-inhales-and-exhales-produces-maximum-benefit">Symmetrical inhales and exhales produces maximum benefit</h3><p>The optimum amount of air we should take in at rest per minute is 5.5 litres. The optimum breathing rate is about 5.5 breaths per minute. That‚Äôs 5.5-second inhales and 5.5-second exhales. This is the perfect breath.</p><h3 id="exhaling-slowly-can-help-you-relax">Exhaling slowly can help you relax</h3><blockquote>‚ÄúBut what was even more stunning was what breathing like this did to the subjects. Whenever they followed this slow breathing pattern, blood flow to the brain increased and the systems in the body entered a state of coherence, when the functions of heart, circulation, and nervous system are coordinated to peak efficiency. The moment the subjects returned to spontaneous breathing or talking, their hearts would beat a little more erratically, and the integration of these systems would slowly fall apart. A few more slow and relaxed breaths, and it would return again.‚Äù</blockquote><p>If you measure your heart when inhaling, you will find your heart speeds up. Then, as you exhale, your heart rate will slow down. Exhaling is a parasympathetic response that is essential for conserving energy. Parasympathetic responses slow down the body‚Äôs automatic response systems. As you inhale, your diaphragm lowers and pulls blood into the thoracic cavity. As you exhale, the blood flows back through the body and calms your mental state. As I mentioned before we tend to breathe quickly when we are anxious or stressed. When we breathe quickly, our lungs are only absorbing approximately one-quarter of the oxygen from our breaths. Then, the rest of the oxygen (and carbon dioxide) is exhaled.</p><h3 id="breathe-less-to-live-longer">Breathe less to live longer</h3><p>The longest living animals have the lowest heart rates. Crucially, this low heart rate is associated with a lower respiration rate. Hence, the animals that breathe the least are living the longest. All across the animal kingdom, breathing and life span are in proportion. Elephants are some of the longest living animals and they only take four to five breaths per minute. Similarly, alligators only take one breath per minute. In comparison, dogs, cats, and mice take many more ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://st.im/just-breathe/">https://st.im/just-breathe/</a></em></p>]]>
            </description>
            <link>https://st.im/just-breathe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130986</guid>
            <pubDate>Sun, 14 Feb 2021 10:00:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Nomad for Home Server]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130946">thread link</a>) | @mr-karan
<br/>
February 14, 2021 | https://mrkaran.dev/posts/home-server-nomad/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/home-server-nomad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>It's been a long time since I've written a post on Hydra (my home server). I use Hydra as a testbed to learn new tools, workflows and it just gives me joy to self-host applications while learning something in return.</p>
<h2 id="history">History</h2>
<p>A brief history of how <a href="https://github.com/mr-karan/hydra">Hydra's</a> setup evolved over time:</p>
<p><a href="https://mrkaran.dev/posts/home-server-setup/">2019</a>: </p>
<ul>
<li>A pretty minimal K3s setup deployed on 2 RPi4 nodes. I couldn't continue with this setup because:
<ul>
<li>Some of the apps didn't have ARM-based image (this was 2019, pre M1 hype era).</li>
<li>Didn't want to risk deploying persistent workloads on RPi.</li>
<li>A lot of tooling to deploy workloads was missing (storing env variables for eg.).</li>
<li>It was so boring to write YAML (that I also did at work). Didn't give me joy.</li>
</ul>
</li>
</ul>
<p><a href="https://mrkaran.dev/posts/home-server-updates/">2020 First Half</a>:</p>
<ul>
<li>RPi 2x Nodes + K3s + DO Droplet. Tailscale for networking.
<ul>
<li>This was a considerable step up from the previous setup. I deployed a DO node and added <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/">Node Labels</a> to deploy persistent workloads on DO Node only.</li>
<li>I used my own tooling <a href="https://github.com/mr-karan/kubekutr/">Kubekutr</a> + Kustomize which helped with version control of my configs.</li>
<li>Took quite a bit of time to onboard new services. Got lazy, didn't host much apart from initial 3-4 applications.</li>
<li>Writing long YAMLs. No joy.</li>
</ul>
</li>
</ul>
<p>2020 Second Half:</p>
<ul>
<li>Single node on DO. Terraform for deploying Docker containers.
<ul>
<li>I believe the third iteration nailed it for me. I kept the setup super simple, used Terraform for deploying workloads as Docker containers.</li>
<li>Used Terraform extensively for setting up the node, Cloudflare records, DO firewall rules.</li>
<li>Time to onboard new services reduced from a couple of hours to a few minutes. This was a huge win for me. I deployed around 10-15 new services to try it out on the server directly.</li>
<li>Writing HCL is actually a much better experience than YAML.</li>
</ul>
</li>
</ul>
<h2 id="why-nomad">Why Nomad</h2>
<p><img src="https://mrkaran.dev/images/nomad-hydra.png" alt="image"></p>
<p>Around a month back, <a href="https://nadh.in/">Kailash</a> had asked about feedback on <a href="https://www.nomadproject.io/">Nomad</a>. We at <a href="https://zerodha.com/">Zerodha</a> (India's largest stock broker) are evaluating it to migrate our services to Nomad from Kubernetes (more on this later). It was almost 2 years since I last saw Nomad so it was definitely worth re-evaluating (esp since it hit 1.0 recently). I wanted to try out Nomad to answer a personal curiosity: <em>What does it do differently than Kubernetes?</em> No better way than actually getting hands dirty, right?!</p>
<p>After following the brief tutorials from the <a href="https://learn.hashicorp.com/nomad">official website</a> I felt confident to try it for actual workloads. In my previous setup, I was hosting quite a few applications (Pihole, Gitea, Grafana etc) and thought it'll be a nice way to learn how Nomad works by deploying the same services in the Nomad cluster. And I came in with zero expectations, I already had a nice setup which was reliable and running for me. My experience with a local Nomad cluster was joyful, I was able to quickly go from 0-&gt;1 in less than 30 minutes. This BTW is a strong sign of how easy Nomad is to get started with as compared to K8s. The sheer amount of different concepts you've to register in your mind before you can even deploy a single container in a K8s cluster is bizarre. Nomad takes the easy way out here and simplified the concepts for developers into just three things:</p>
<pre><code><span>job
  \_ group
        \_ task
</span></code></pre>
<ul>
<li>Job: Job is a collection of different groups. Job is where the constraints for type of scheduler, update strategies and ACL is placed. </li>
<li>Group: Group is a collection of different tasks. A group is always executed on the same Nomad client node. You'll want to use Groups for use-cases like a logging sidecar, reverse proxies etc.</li>
<li>Task: Atomic unit of work. A task in Nomad can be running a container/binary/Java VM etc, defining the mount points, env variables, ports to be exposed etc.</li>
</ul>
<p>If you're coming from K8s you can think of Task as a Pod and Group as a Replicaset. There's no equivalent to Job in K8s. BUT! The coolest part? You don't have to familiarise yourself with all different types of Replicasets (Deployments, Daemonsets, Statefulsets) and different ways of configuring them.</p>
<p>Want to make a normal job as a periodic job in Nomad? Simply add the following block to your existing Job:</p>
<pre><code><span>periodic {
  cron = "@daily"
}
</span></code></pre>
<p>You want to make a service run as a batch job (on all Nomad nodes -- the equivalent of Daemonset in K8s)? Simply make the following change to your existing job:</p>
<pre><code><span>-type="service"
</span><span>+type="batch"
</span></code></pre>
<p>You see <strong>this</strong> is what I mean by the focus on UX. There are many many such examples which will leave a nice smile on your face if you're coming from K8s background.</p>
<p>I'd recommend reading <a href="https://www.nomadproject.io/docs/internals/architecture">Internal Architecture</a> of Nomad if you want to understand this in-depth.</p>
<h2 id="architecture">Architecture</h2>
<p>Tech stack for Hydra:</p>
<ul>
<li>Tailscale VPN: Serves as a mesh layer between my laptop/mobile and DO server. Useful for exposing internal services.</li>
<li>Caddy for reverse proxying and automatic SSL setup for all services. I run 2 instances of Caddy:
<ul>
<li>Internal: Listens on Tailscale Network Interface. Reverse proxies all private services.</li>
<li>Public: Listens on DO's Public IPv4 network interface. Reverse proxies all public-facing services.</li>
</ul>
</li>
<li>Terraform: Primary component to have IaC (Infra as Code). Modules to manage:
<ul>
<li>Cloudflare DNS Zone and Records</li>
<li>DO Droplet, Firewall rules, SSH Keys, Floating IPs etc.</li>
<li>Nomad Jobs. Used for running workloads after templating env variables, config files in Nomad job files.</li>
</ul>
</li>
</ul>
<h2 id="complexity-of-nomad-vs-kubernetes">Complexity of Nomad vs Kubernetes</h2>
<p><a href="https://twitter.com/mrkaran_/status/1268762357355823104"><img src="https://mrkaran.dev/images/k8s-meme.jpeg" alt="image"></a></p>
<p>Nomad shines because it follows the UNIX philosophy of "Make each program do one thing well". To put simply, Nomad is <em>just</em> a workload orchestrator. It only is concerned about things like Bin Packing, scheduling decisions.</p>
<p>If you're running heterogeneous workloads, running a server (or a set of servers) quickly becomes expensive. Hence orchestrators tend to make sense in this context. They tend to save costs by making it efficient to run a vast variety of workloads. This is all an orchestrator has to do really. </p>
<p>Nomad doesn't interfere in your DNS setup, Service Discovery, secrets management mechanisms and pretty much anything else. If you read some of the posts at <a href="https://k8s.af/">Kubernetes Failure Stories</a>, the most common reason for outages is Networking (DNS, ndots etc). A lot of marketing around K8s never talks about these things.</p>
<p>I always maintain "Day 0 is easy, Day N is the real test of your skills". Anyone can deploy a workload to a K8s cluster, it's always the Day N operations which involve debugging networking drops, mysterious container restarts, proper resource allocations and other such complex issues that require real skills <strong>and</strong> effort. It's not as easy as <code>kubectl apply -f</code> and my primary gripe is with people who miss out on this in their "marketing" pitches (obvious!).</p>
<h2 id="when-to-use-nomad">When to use Nomad</h2>
<p>Nomad hits the sweet spot of being operationally easy and functional. Nomad is a great choice if you want to:</p>
<ul>
<li>Run not just containers but other forms of workloads.</li>
<li>Increase developer productivity by making it easier to deploy/onboard new services.</li>
<li>Consistent experience of deployment by testing the deployments locally.</li>
<li>(Not joking) You are tired of running Helm charts or writing large YAML manifests. The config syntax for Nomad jobs is human friendly and easy to grasp.</li>
</ul>
<p>Nomad is available as a single binary. If you want to try it locally, all you need is <code>sudo nomad agent -dev</code> and you'll have a Nomad Server, Client running in dev mode along with a UI. This makes it easy for the developers to test out the deployments locally because there's very little configuration difference between this and production deployment. Not to forget it's super easy to self-host Nomad clusters. I'm yet to meet anyone who self hosts K8s clusters in production without a dedicated team babysitting it always.</p>
<p>Once you eliminate the "blackbox" components from your stack, life becomes easier for everyone.</p>
<h2 id="when-to-not-use-nomad">When to not use Nomad</h2>
<ul>
<li>If you're relying on custom controllers and operators. <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator Pattern</a> is a new way of managing large complex distributed systems (like databases, job queues etc). There are a lot of community built operators which help in reducing the effort to run these services. However, all of these are tied deeply into the "Kubernetes" ecosystem. If you find yourself running any of such operators, it'll be tough (not impossible) to translate the same in Nomad ecosystem.</li>
</ul>
<p>I <em>genuinely</em> cannot think of any other reason to not use Nomad!</p>
<h2 id="practical-scenarios">Practical Scenarios</h2>
<p>Since I migrated a couple of workloads from my DO docker containers setup to Nomad, I'd demonstrate a few use cases which might be helpful if you want to start migrating your services to Nomad</p>
<h3 id="accessing-a-web-service-with-reverse-proxy">Accessing a Web service with Reverse Proxy</h3>
<p>Context: I'm running Caddy as a reverse proxy for all the services. Since we discussed earlier, Nomad <strong>only</strong> is concerned about scheduling, so how exactly do you do Service Discovery? You need Consul (or something like Consul, Nomad has no hard restrictions) to register a service name with it's IP Address. Here's how you can do that:</p>
<p>In the <code>.task</code> section of your Nomad job spec, you need to register the service name with the port you're registering and additional tags as metadata (optional):</p>
<pre><code><span>service {
  name = "gitea-web"
  tags = ["gitea", "web"]
  port = "http"
}
</span></code></pre>
<p>Nomad's <a href="https://www.nomadproject.io/docs/job-specification/template">template</a> uses <code>consul-template</code> behind the scenes. This is a small utility which continuously watches for Consul/Vault keys and provides the ability to reload/restart your workloads if any of those keys change. It can also be used to <em>discover</em> the address of the service registered in Consul. So here's an example of <code>Caddyfile</code> using Consul Template functions to pull the IP address of the upstream <code>gitea-web</code> service:</p>
<pre><code><span>git.mrkaran.dev {
    {{ range service "gitea-web" }}
    reverse_proxy {{ .Address }}:{{ .Port }}
    {{ end }}
}
</span></code></pre>
<p>When a job is submitted to Nomad, a rendered template is mounted inside the container. You can define actions on what to do when the values change. For eg on a redeployment of Gitea container, the address will most likely change. We'd like Caddy to automatically restart with the new address configured in the Caddyfile in that case:</p>
<pre><code><span>template {
  data = &lt;&lt;EOF
${caddyfile_public}
EOF

  destination = "configs/Caddyfile" # Rendered template.

  change_mode = "restart"
}
</span></code></pre>
<p>Using <a href="https://www.nomadproject.io/docs/job-specification/template#change_mode"><code>change_m‚Ä¶</code></a></p></article></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mrkaran.dev/posts/home-server-nomad/">https://mrkaran.dev/posts/home-server-nomad/</a></em></p>]]>
            </description>
            <link>https://mrkaran.dev/posts/home-server-nomad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130946</guid>
            <pubDate>Sun, 14 Feb 2021 09:53:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why blockchain is not yet working (2018)]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 288 (<a href="https://news.ycombinator.com/item?id=26130912">thread link</a>) | @max_
<br/>
February 14, 2021 | https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/ | <a href="https://web.archive.org/web/*/https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2 id="the-current-state">The current state</h2>
<p>There is a lot of hype about what the global distributed ledger aka ‚ÄúBlockchain‚Äù can do for society.
A ‚Äútrust machine‚Äù as some people call it, that will bring the power of finance, data sovereignty and inclusion to the people,
hence rendering centralized intermediaries like Visa, Barclays &amp; Facebook obsolete.</p>
<p>We shall achieve this by using a combination of robust, battle tested cryptography &amp; game theory.</p>
<p>While this vision is plausible, realising it is not a easy as it may seem.</p>
<p>The blockchain is not yet ready.</p>
<h2 id="the-core-barriers-to-main-stream-adoption">The core barriers to main stream adoption</h2>
<p>The blockchain, while being a new concept in decentralized distributed databases has also presented a very unique set of problems in computer science &amp; economics that have never been solved at the time of this writing.</p>
<p>Is this post, I will talk about the the 6 most important issues only with which if solved, shall we (blockchain enthusiasts) ever achieve our vision.</p>
<h3 id="1-scalability-issues">1. Scalability Issues</h3>
<p>The current bandwidth, i.e the data that can be transmitted through a blockchain with in a given time is simply too bounded for main stream adoption.</p>
<p>Ethereum for instance does a maximum of 13 transactions per second. Visa on the other hand can do 24,000 Transaction per second and peak over 40,000 transactions per second.</p>
<p>So as you can see, the blockchain is thousands of magnitudes unable to manage a global traffic of financial transactions.
This is what they call the ‚ÄúScalability Problem‚Äù</p>
<p>Coming up with a solution to scalability the problems without tarnishing the original value propositions of a blockchain (immutability/security, decentralization &amp; censorship resistance) is not trivial. It has been nick named the <a href="https://github.com/ethereum/wiki/wiki/Sharding-FAQ#this-sounds-like-theres-some-kind-of-scalability-trilemma-at-play-what-is-this-trilemma-and-can-we-break-through-it">‚Äúscalability trilemma‚Äù</a> by Vitalik Buterine (Ethereum‚Äôs co-author).</p>
<h3 id="2-lack-of-intuitive-private-key-management">2. Lack of Intuitive Private Key Management</h3>
<p>Ordinary users will simply never wrap their heads around private keys.</p>
<p>Private keys, which are a string of text used to sign transactions and make other proofs(cryptographic).</p>
<p>The purpose for these proofs or signatures is for other entities on a blockchain network to verify identities &amp; messages amongst themselves without reasonable doubt.</p>
<p>Private keys have two main problems first, how to store them securely.<br>
Anyone who can memorize, take a picture, or copy your private key can literally steal all your money.
Because they have your private key, they can make the cryptographic proofs/signatures and <em>accurately prove to everyone on the network they are you</em> even without your consent. Even when they are not you.</p>
<p>Second, you loose your key you loose access to all your money &amp; <em>no one can ever help you out</em>.
There is no ‚Äúclick here to remember your private key‚Äù</p>
<p>We need to first come up with something as intuitive using ATM/Debit cards.</p>
<p>Imagine if your bank told you that, ‚Äúif you forgot your Debit card PIN, you loose access to all your money with <em>zero hope of recovering it how ever large a sum of money it would be</em>‚Äù.</p>
<p>If the above was the case, I don‚Äôt think any one would use debit cards.</p>
<h3 id="3-contract-security">3. Contract security</h3>
<p>It is simply not reliable &amp; safe for responsible institutions &amp; individuals to deploy smart contracts on blockchains like Ethereum.</p>
<p>Due to the blockchain having an immutable and unpredictable state, Smart contracts deployed on such a platform are also expected to suffer from immutable bugs &amp; unpredictable events.</p>
<p>As a result, millions of dollars have been lost in events such as the <a href="https://www.bloomberg.com/features/2017-the-ether-thief/">theft of $50 million from TheDAO</a> and <a href="https://www.coindesk.com/startup-lost-160-million-still-wants-shake-ethereum/"> Parity‚Äôs $160 Million loss of funds</a></p>
<p>I was glad that Rick dudley <a href="https://youtu.be/1AGHAuWz_4U?t=986">talked about this</a></p>
<h3 id="4-consensus-algorithms-are-wack">4. Consensus algorithms are wack</h3>
<p>The popular blockchains only don‚Äôt offer transaction finality i.e you will never be 100% sure that you have gotten funds.</p>
<p>You can only be <a href="https://ethereum.stackexchange.com/questions/319/what-number-of-confirmations-is-considered-secure-in-ethereum">probabilistically to a high degree</a> (but with zero guarantee) that you have received your funds.
This is because in major consensus algorithm called Nakamoto Consensus, the miners elect the chain with the most computational work that are with in the same protocol i.e consensus rules.</p>
<p>For instance imagine your bank tells you that you that, ‚Äúthere is a 95% chance that we <em>might</em> have your life savings, however you may also not poses it in 5 years in case we discovered that the chain with the most work does not have your transaction in it‚Äù</p>
<p>Yes, I don‚Äôt think anyone wants to keep their life savings in such a bank.</p>
<h3 id="5-privacy">5. Privacy</h3>
<p>Just by knowing someone‚Äôs cryptocurrency address, you can know their account balance &amp; transaction history simply by pasting it in a blockchain explorer like <a href="https://blockchain.info/">blockchain</a> and <a href="https://etherscan.io/">etherscan</a></p>
<p>Meaning it‚Äôs very easy for anyone to keep track of your financial activities without permission.</p>
<p>You buy HIV drugs? I now know your HIV positive, Your paying schools fees? now your local kidnapper knows where your kids study.</p>
<p>Buying birth control pills? Now anyone in the world may accurately guess that your a woman.
No careful person wants that!</p>
<h3 id="6-price-volatility">6. Price volatility</h3>
<p>Very few people simply don‚Äôt have the stomach to hold a financial instrument that drops by over 50% with in <a href="https://www.cnbc.com/2017/12/26/bitcoin-price-in-2018-could-hit-60000-but-another-crash-is-coming.html">a few months</a>.</p>
<h2 id="what-can-we-do">What can we do?</h2>
<p>Most projects are building on platforms that have these problems regardless, in hopes that they will integrate solutions to the respective issues in the future.</p>
<p>The risk they face however, is that the platform they built on, my become obsolete after a heavy investment of time &amp; resources on the wrong platform.</p>
<p>Think how the <a href="https://bitcoinmagazine.com/articles/bitcoin-now-useless-micropayments-solutions-are-coming1/">micro payments industry died in bitcoin because of high fees</a></p>
<p>It‚Äôs like building your phone app around a windows smart-phone only to be made irrelevant because the next generation of mobile users will not be using windows smart-phones, but iOS and Android.</p>
</div></div>]]>
            </description>
            <link>https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130912</guid>
            <pubDate>Sun, 14 Feb 2021 09:45:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Burrows-Wheeler transform to identify SARS-CoV-2 mutants]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130544">thread link</a>) | @8iterations
<br/>
February 14, 2021 | https://mokasquarl.github.io/draftWA_cov/ | <a href="https://web.archive.org/web/*/https://mokasquarl.github.io/draftWA_cov/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3 id="a-bioinformatics-pipeline-to-detect--understand-covid-mutants">A Bioinformatics Pipeline to Detect &amp; Understand COVID Mutants</h3>
<p><img src="https://mokasquarl.github.io/images/composite_border.png" alt="mutantcov" title="Mutant SARS-CoV-2 ACE2 Receptor Complex"></p>
<h4 id="fig-1-molecular-structure-with-uk-mutant-sars-cov-2-docked-to-human-receptor">Fig 1. Molecular Structure with UK Mutant SARS-CoV-2 Docked to Human Receptor</h4>
<p>As the pandemic runs its course, tracking genetic mutations has gained mainstream coverage. Officially, in the line of work we call bioinformatics, finding and understanding mutations is known as <em>Variant Calling</em>. In the same way every person is different from others (except twins), an individual virus can have variations in their genome; when a lot of these genetic variations accumulate between the virus we detected originally and what we find months later in a faraway town, we can say that we have a new <em>strain</em> of the virus. The Coronavirus which we‚Äôre now calling <em>SARS-CoV-2</em> was first detected in Wuhan‰∏≠ÂõΩ, so the genetic sequencing data from here is used as the base reference genome, and we measure mutations for the virus detected everywhere else against this; a coronavirus genome from a few towns away might only have a couple letters of the genome different from the Wuhan data, while something that‚Äôs travelled to the other side of the world after being transmitted through many people, climates, and even treatments, might now have acquired many more genetic variants compared to the original data.</p>
<h4 id="fig-2-retrieving-raw-covid-data-from-sra--creating-alignment-maps">Fig 2. Retrieving raw COVID data from SRA &amp; creating alignment maps</h4>
<p><img src="https://mokasquarl.github.io/images/render1612723995528-min.gif" alt="samtools tview" title="SARS-CoV-2 Aligned">
Data from viruses sequenced all across the world are uploaded into one of several databases (Table 1), this data is generated directly from machines by Illumina, Oxford Nanopore, or Life Technologies. When turning the molecules in genetic code into digital files these machines create strings that can be a few hundred letters in length to several thousand, but never the entire genome of the virus in a single string. A standardized file format called <em>fastq</em> holds all the strings from a single sample, including some quality data from the machine doing the sequencing. These strings are in no particular order, and first need to be mapped together to get the complete genome. Pretty much the standard way to create these genetic maps uses a technique invented in Palo Alto back in the early 90s by &nbsp;Michael Burrows and David Wheeler. The <em>Burrows‚ÄìWheeler Transform</em> was mostly just used in data compression, until around 2010 when computational biologists began to use it to align genomes together.</p>

<h4 id="table-1">Table 1.</h4>
<p><strong>SRA:</strong> <em>Sequence Read Archive</em> <strong>-Open Access</strong></p>

<p><strong>ENA:</strong> <em>European Nucleotide Archive</em> <strong>-Open Access</strong></p>

<p><strong>GISAID:</strong> <em>Global Initiative on Sharing All Influenza Data</em> <strong>-Private</strong></p>

<p>Heng Li, now a professor at Harvard (amongst other things) has created the most commonly used alignment algorithm (amongst other things) with <a href="https://github.com/lh3/bwa">BWA</a>. This algorithm is super easy to use, and will get us results that are more than good enough.</p>

<div><div><pre><code>git clone https://github.com/lh3/bwa.git
cd bwa
make
</code></pre></div></div>

<p>BWA takes <strong>fastq</strong> files containing samples, along with a <em>fasta</em> file containing a reference genome to map the strings contained in our <strong>fastq</strong> file. Reference genomes are usually put out by the scientific wing of a National Government, Regional Organizations, and some Universities. We‚Äôll get our Wuhan Coronavirus Reference genome from the <a href="https://www.ncbi.nlm.nih.gov/nuccore/1798174254">National Center for Biotechnology Information</a> hosted by the US Federal government. A good sample to run against the Wuhan reference is the Washington state outbreak that happened early in the US, the <em>fastq</em> data for this is also hosted by the NCBI at their <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?run=SRR11278092">Sequence Read Archive</a>. In the animated terminal above (Fig 2.) we see the commands needed to create our mapped genome from our input files, including retrieving the data from the databases . If you‚Äôd like to skip all that, we‚Äôre hosting both the reference genome, and the completed alignment map over at <a href="https://lucidalign.com/#cov">Lucid Align</a>. We‚Äôll be using the <strong>bam</strong> file to detect our mutations, and we can also browse the genome of this Washington state outbreak sample using any sequence alignment viewer.</p>

<h4 id="fig-3-detecting-mutations-with-neural-networks">Fig 3. Detecting Mutations with Neural Networks</h4>
<p>
  <iframe src="https://www.youtube.com/embed/v5z5OV6UAVM" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<p>But before going on to variant calling this first sample let‚Äôs just prepare another sample while we‚Äôre making these alignment maps. Let‚Äôs do a more recent outbreak, from Kent, UK; which is far from Wuhan &amp; the Washington sample, in both time &amp; space. Retrieving the samples from the European Nucleotide Archive can be done from this <a href="https://www.ebi.ac.uk/ena/browser/view/ERR4659819">link</a> or from the shell.</p>

<div><div><pre><code>git clone https://github.com/enasequence/enaBrowserTools.git
cd python3
enaDataGet.py -f fastq -m -d [output_directory] ERR4659819
</code></pre></div></div>

<p>Creating the mapped genome from the Kent, UK outbreak is done the exact same way as with the Washington state outbreak, and now both files can be browsed directly with an alignment viewer. More importantly now we can run the <em>variant detection</em> and see all the mutations in each of these samples compared to the original Wuhan reference genome. Variant callers are an area of hot development for folks working on bioinformatics algorithms &amp; tools. Traditionally, Bayesian methods have been most reliable, but are hard-coded for specific organisms or need the settings dialed-in to get the correct sensitivity to specificity. This is so that we don‚Äôt get too many false-positives, while at the same time don‚Äôt miss any real mutations. In the last couple of years deep convolutional neural networks have really made a splash in variant calling, where now images are created almost similar to those we see from alignment viewers, and those images are used to train, and then have the neural network make the call on whether there is a mutation in a given section of the alignment map as we make our way down the entire map.</p>

<p><img src="https://mokasquarl.github.io/images/eff_kent.png" alt="Annotated VCF" title="High Impact mutation in Kent UK sample"></p>
<h4 id="fig-4-annotated-mutations-of-kent-uk-strain-b117">Fig 4. Annotated Mutations of Kent UK Strain B.1.1.7</h4>

<p>Bayesian variant callers are fairly simple to install, whereas the DCNN callers will need, in our case, Nvidia cuda drivers, and of course a machine with those GPUs. You could use <a href="https://magnolia.sh/">Magnolia</a> Fig 3., the super-cool neural network based caller that Leo van Driel helped write B-), but for this post we are going to use the built-in caller that comes with <a href="http://www.htslib.org/download/"><em>samtools</em></a> written by the previously mentioned Heng Li.</p>

<div><div><pre><code>bcftools mpileup -Ou -f &lt;ref.fasta&gt; &lt;sample1.bam&gt; | bcftools call -vmO z -o &lt;study.vcf.gz&gt;
</code></pre></div></div>

<p>After running any variant caller, we‚Äôre left with a <em>vcf</em> file, which is just a list of positions in a genome where the sample has a mutation compared to the reference, it might be good to just look at the file <a href="https://samtools.github.io/hts-specs/VCFv4.2.pdf">format specifications</a> to understand how these <em>vcf</em> files will be used moving forward. We can use the allotted fields in the <em>vcf</em> format to annotate, that is give meaning &amp; context to each of the mutations we detect in the genome. For this sample we‚Äôve used <a href="https://pcingola.github.io/SnpEff/users_of_snpeff/">SnpEff</a> which makes life super easy by boiling all of the predicted effects of each of the mutations we detected into 3 simple categories, high impact, low, and moderate.</p>

<p>We can see in Fig 4. that running a standard Bayesian variant caller we detected a total of 48 mutations in the Kent UK sample. However, there might be some false-positives in there, it‚Äôs always better to be a bit more sensitive than to miss things. Let‚Äôs focus on the high impact mutations, things that will change the 3D structure of coronavirus. Looks like we only have 3 of those, all highlighted in red (Fig 4.), at genomic positions, 11288, 27972, and 28270. The VCF file we generated also contains data on which amino acids within the protein structure were changed to what, we can use that information to make the changes in our molecular structure, which in this case we‚Äôve done with a current tool under development.</p>
<h4 id="fig-5-molecular-structure-editor">Fig 5. Molecular Structure Editor</h4>
<p><img src="https://mokasquarl.github.io/images/dalton_beta.gif" alt="Dalton PDB" title="Editing Molecular Structure"></p>

<p>Mutations which change the molecular structure are super important because that is more likely to make things behave differently, this can mean it attaches to human receptors more tightly, interacts with antibodies and drugs differently, because remember at the core of how molecules behave is the old mantra <strong>‚Äúform equals function.</strong>‚Äù</p>

  </div></div>]]>
            </description>
            <link>https://mokasquarl.github.io/draftWA_cov/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130544</guid>
            <pubDate>Sun, 14 Feb 2021 08:15:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Streamlit component for real-time video processing web apps, streamlit-webrtc]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26130494">thread link</a>) | @whitphx
<br/>
February 14, 2021 | https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669 | <a href="https://web.archive.org/web/*/https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          

            

          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T13:33:16Z">
              <time itemprop="dateModified" datetime="2021-01-11T12:54:45Z">
                January 11, 2021, 12:54pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello everyone,</p>
<p>I made <a href="https://github.com/whitphx/streamlit-webrtc" rel="noopener nofollow ugc">streamlit-webrtc</a>, which sends and receives video (and audio, but it‚Äôs only partially supported now) streams between frontend and backend via WebRTC.<br>
This should be helpful for creating, for example, performant real-time computer vision WebApps.</p>
<p>This week I tried Steamlit, found it interesting and useful, and then wanted to run real-time computer vision apps on Streamlit, on which users can try some computer vision models with video input from their webcams.<br>
So I tried to develop a component to achieve it using WebRTC. Fortunately, there is a great WebRTC library for Python, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a>.</p>
<p>One interesting thing about this component is that the input video streams are sourced from users‚Äô webcams and transferred to the server-side Python process via the network. Therefore, the server does not need the access to the camera, unlike the usual approach using OpenCV (<code>cv2.VideoCapture</code>). It means the Python code can be hosted on a remote server (actually, I hosted a sample app on Heroku and it worked, as stated below).</p>
<p>In addition, WebRTC provides good performance with sending and receiving video/audio frames.</p>
<p>Here is a demo movie:<br>
</p><div><a href="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" data-download-href="/uploads/short-url/oYIcsMqSqHFlA92m5f3NdANeujO.gif?dl=1" title="streamlit-webrtc-demo-short1" rel="noopener nofollow ugc"><img src="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" alt="streamlit-webrtc-demo-short1" data-base62-sha1="oYIcsMqSqHFlA92m5f3NdANeujO" width="549" height="500" data-small-upload="https://aws1.discourse-cdn.com/business7/uploads/streamlit/optimized/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24_2_10x10.png"></a></div><p>
(A full version is hosted on <a href="https://youtu.be/BRrtN80ITfU" rel="noopener nofollow ugc">YouTube</a>)</p>
<p>You can see</p>
<ul>
<li>The app consumes, processes, and renders video frames in real time.</li>
<li>Streamlit‚Äôs interactive controls are still working well in combination with the code using WebRTC. For example, the threshold for object detection is changed interactively during execution.</li>
</ul>
<p>You can try out the sample app using the following commands.</p>
<pre><code>$ pip install streamlit-webrtc opencv-python
$ streamlit run https://raw.githubusercontent.com/whitphx/streamlit-webrtc-example/main/app.py
</code></pre>
<p>I also deployed it to Heroku, <a href="https://streamlit-webrtc-example.herokuapp.com/" rel="noopener nofollow ugc">https://streamlit-webrtc-example.herokuapp.com/</a> and confirmed it worked; however, it‚Äôs running on a very small instance on a free plan, and may not work well if multiple users access it at the same time.<br>
I recommend you to run it on your own environment.</p>
<p>It‚Äôs still a prototype and the API is not finalized, and the documentation has not been written. Please refer to <a href="https://github.com/whitphx/streamlit-webrtc/blob/master/app.py" rel="noopener nofollow ugc">the sample code</a> when you use the component.</p>
<p>I welcome any feedback!</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">
          <meta itemprop="keywords" content="custom-components, video, real-time, computer-vision">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T14:39:49Z">
              <time itemprop="dateModified" datetime="2021-01-10T16:53:31Z">
                January 10, 2021,  4:53pm
              </time>
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Technical note:</p>
<p>One technical challenge was to combine WebRTC and real-time processing with Streamlit‚Äôs execution model. This problem has already been stated in <a href="https://discuss.streamlit.io/t/access-webcam-video-from-a-hosted-streamlit-application/1301">Access Webcam Video from a hosted Streamlit application</a>.<br>
In case of <code>streamlit-webrtc</code> , additionally, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a> does not work in normal Streamlit scripts, which are executed from top to bottom and terminated at each user interaction (more fundamentally, it‚Äôs because of WebRTC‚Äôs async nature).</p>
<p>This library approaches this problem by creating threads independent of Streamlit execution.<br>
When the component is used for the first time, it forks a thread, launches <code>aiortc</code>‚Äôs code on an event loop in the thread, and maintains the thread over all the script executions until the WebRTC session is closed.</p>
<p>As a result of this approach, developers should alter their programming style when using this library, from Streamlit‚Äôs declarative way to an event-and-callback-based one. <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L293-L303" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a> is an example. In this code, the computer vision part resides in a callback function, which is called from the forked thread triggered by the media stream regardless of Streamlit‚Äôs execution timing.</p>
<p>To bridge this forked execution of WebRTC and normal Streamlit‚Äôs controls, <code>streamlit-webrtc</code> exposes a <code>context</code> object, which is an interface to the objects running in the WebRTC‚Äôs async world.<br>
By using it, values from Streamlit‚Äôs controls can be passed to the computer vision code running in the forked thread, like <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L305-L317" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a>.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Welcome to the community <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>, looks awesome !</p>
<p>Feel free to add it to our <a href="https://discuss.streamlit.io/t/streamlit-components-community-tracker/4634">community tracker</a> so we don‚Äôt lose it from our radars <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-11T13:04:31Z">
                January 11, 2021,  1:04pm
              </time>
              <meta itemprop="dateModified" content="2021-01-11T13:04:31Z">
          <span itemprop="position">#4</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p><a href="https://discuss.streamlit.io/u/andfanilo">@andfanilo</a> Thank you! I edited the wiki <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/smile.png?v=9" title=":smile:" alt=":smile:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T16:25:04Z">
                January 13, 2021,  4:25pm
              </time>
              <meta itemprop="dateModified" content="2021-01-13T16:25:04Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <p>Whoa - this is really great. Nice work, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/MalanG"><span itemprop="name">MalanG</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-15T21:55:39Z">
                January 15, 2021,  9:55pm
              </time>
              <meta itemprop="dateModified" content="2021-01-15T21:55:39Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>,</p>
<p>Thanks for a great project!<br>
I am trying to test yours, and couldn‚Äôt install streamlit-webrtc.</p>
<pre><code>(venv) (base) admin@Youjins-MacBook-Pro mqtt-camera-streamer-master % pip install streamlit-webrtc              
ERROR: Could not find a version that satisfies the requirement streamlit-webrtc
ERROR: No matching distribution found for streamlit-webrtc
</code></pre>
<p>Can I install it if I download the github repo?</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-16T09:39:03Z">
              <time itemprop="dateModified" datetime="2021-01-16T13:14:24Z">
                January 16, 2021,  1:14pm
              </time>
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/malang">@MalanG</a> ,</p>
<p>I think it‚Äôs because you are using python &lt;3.8 <s>though <code>streamlit-webrtc</code> currently supports only &gt;=3.8.<br>
Please try with python 3.8.</s></p>
<p><s>I will also fix the package to be compatible with older versions of Python.</s></p>
<p>EDIT: I updated the package to be compatible with Python 3.6 and 3.7. Please try again.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-18T13:42:59Z">
              <time itemprop="dateModified" datetime="2021-01-18T14:36:28Z">
                January 18, 2021,  2:36pm
              </time>
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I got an invitation to Streamlit Sharing then deployed the sample app there: <a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a><br>
but it didn‚Äôt work with a ‚Äúpermission denied‚Äù error when the app requires capturing video or audio from user‚Äôs device.</p>
<p>It means many interesting applications of this component, including real-time object detection and image transformation, cannot be used on Streamlit Sharing‚Ä¶<br>
The only page of the sample app that works is the third one, where the app plays video and audio files on server-side and transmit them to the client.</p>
<p>This is because, on Streamlit Sharing, the app is running inside iframe.<br>
<code>getUserMedia</code>, which is used to get access to user‚Äôs device, requires Feature Policy when called inside iframe.<br>
Details are here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Feature_Policy" rel="noopener nofollow ugc">MediaDevices.getUserMedia() - Web APIs | MDN</a></p>
<p>This is out of my control <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/crying_cat_face.png?v=9" title=":crying_cat_face:" alt=":crying_cat_face:"></p>
<p>EDIT: This problem has also been stated in <a href="https://discuss.streamlit.io/t/sharing-blocks-custom-webcam-component-due-to-featurepolicy/8876">Sharing blocks custom webcam component due to featurePolicy</a></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/frowning.png?v=9" title=":frowning:" alt=":frowning:"></p>
<p>Well this is an interesting discussion to raise with the product team, thanks for taking the time to track this down! I‚Äôll ping them on my side too <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/wink.png?v=9" title=":wink:" alt=":wink:"></p>
<p>Fanilo</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Wow this is awesome ! Great work <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>  !! <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/scream.png?v=9" title=":scream:" alt=":scream:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"></p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-19T17:28:11Z">
                January 19, 2021,  5:28pm
              </time>
              <meta itemprop="dateModified" content="2021-01-19T17:28:11Z">
          <span itemprop="position">#11</span>
          </span>
        </p></div>
        <p>Hey thanks for raising this, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a> - we‚Äôre discussing this!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-02-02T04:33:34Z">
              <time itemprop="dateModified" datetime="2021-02-02T04:51:49Z">
                February 2, 2021,  4:51am
              </time>
          <span itemprop="position">#12</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Wow, it is working now on Sharing. Thank you, Streamlit team!<br>
<a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" target="_blank" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a></p>
<p>The performance is much better than the sample hosted on Heroku <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/laughing.png?v=9" title=":laughing:" alt=":laughing:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Very useful tool but is it possible to access for example rear camera of mobile phone with this library?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:17:17Z">
                February 5, 2021, 10:17am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:17:17Z">
          <span itemprop="position">#14</span>
          </span>
        </p></div>
        <p>Yes, you can choose the camera with the ‚ÄúSELECT DEVICE‚Äù button.</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:39:27Z">
                February 5, 2021, 10:39am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:39:27Z">
          <span itemprop="position">#15</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I wrote a tutorial about how to use this library:</p>

        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Is it possible to store frame by frame results through each iteration in a file like json for example?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          </div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</a></em></p>]]>
            </description>
            <link>https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130494</guid>
            <pubDate>Sun, 14 Feb 2021 08:01:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cereals, feasts and monuments at G√∂bekli Tepe (2019)]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26129693">thread link</a>) | @benbreen
<br/>
February 13, 2021 | https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/ | <a href="https://web.archive.org/web/*/https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
		<p>We were asked in comments and messages to elaborate some more on the contents of our recent paper. So here is a short summary of the article recently published in PLoS ONE. For more information on the findings outlined here, please consult the original publication:</p>
<p><em>Dietrich L, Meister J, Dietrich O, Notroff J, Kiep J, Heeb J, et al. (2019) Cereal processing at Early Neolithic G√∂bekli Tepe, southeastern Turkey. PLoS ONE 14(5):</em> e0215214. <a href="https://doi.org/10.1371/journal.pone.0215214">https://doi.org/10.1371/journal.pone.0215214</a></p>
<p>Cereal food is one of the most important components of our modern diet. Its integration into human subsistence strategy during the late Epipalaeolithic (c. 12500‚Äì9600 cal BC) and Pre-Pottery Neolithic (PPN, c. 9600‚Äì7000 cal BC) has been recognized as a very long and complex process involving the selection and utilization of plants, strategies of exploitation of plants and land, the development of cultivation, and ways of processing, storing, and consuming plants. Widespread adoption of farming and agriculture at the end of the Pre-Pottery Neolithic (PPNB, c. 8800‚Äì7000 cal BC), the deliberate, large-scale cultivation of domesticated cereals and other plants, was predated by a longer period of experimentation and technological modification leading to the development of specialized tool kits for plant-food processing. Typical implements are e.g. pounding and grinding tools used in pairs, comprising a static low implement (mortar, grinding slab or grinding bowl) and an active upper tool that is moved across its surface (pestle or handstone).</p>
<p><strong>Cereal use in the Early Neolithic</strong><br>
The regular processing of wild cereals through grinding seems to have been established first in the Late Natufian, as suggested by macrobotanical evidence as well as by morphological changes in grinding stones combined with use-wear analyses. Flat, large grinding stones and handstones became a supra-regional standard during the Levantine PPN, constituting an integral part of the architecture. Recent investigations have highlighted the area between the upper reaches of Euphrates and Tigris as one region where the transition to food-producing subsistence took place early during the Epipalaeolithic and the Pre-Pottery Neolithic. The distribution areas of the wild forms of einkorn, emmer wheat, barley and other ‚ÄòNeolithic founder crops‚Äô overlap here and DNA fingerprinting has pinpointed the transition of two wild wheat variants to domesticated crops to this part of the Fertile Crescent. Systematic early plant use has been found at a variety of sites, like Cafer H√∂y√ºk, √áay√∂n√º, Hallan √áemi, Jerf el Ahmar or K√∂rtik Tepe.<br>
G√∂bekli Tepe has not played any role in discussions of early cereal use so far. The reasons can be found ‚Äì at least in part ‚Äì in the problematic nature of direct evidence for cereals on site. Although analysis of macrobotanical remains indicates the presence of wild einkorn (Triticum cf. boeticum/urartu), wild barley (Hordeum cf. spontaneum) and possibly wild wheat/rye (Triticum/Secale), as well as almonds (Prunus sp.) and pistachio (Pistacia sp.) at G√∂bekli Tepe, only a conspicuously low amount of carbonized plant remains has been recovered, both in handpicked and in flotation samples.</p>
<div id="attachment_7549"><p><img aria-describedby="caption-attachment-7549" loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png" alt="journal.pone.0215214.g007" width="676" height="932" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png 743w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-580x800.png 580w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1306x1800.png 1306w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-768x1058.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1115x1536.png 1115w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1486x2048.png 1486w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-676x932.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007.png 1650w" sizes="(max-width: 676px) 100vw, 676px"></p><p id="caption-attachment-7549">Grinding tools from G√∂bekli Tepe. (A), (C) Neolithic handstones of type 1; (B) Neolithic handstone of type 2; (D) Experimental handstone of type 1, produced as copy of (C); (E, F) Neolithic grinding bowls (German Archaeological Institute, 3D-models H. H√∂hler-Brockmann and N. Sch√§kel).</p></div>
<p>However, G√∂bekli Tepe has not only produced an impressive set of architecture ‚Äì monumental round to oval buildings with T-shaped limestone pillars, erected in an earlier phase, and smaller rectangular buildings, built around them in a partially contemporaneous and later phase ‚Äì but also a unusually large number of over 7000 grinding tools. We analyzed these tools using an integrated approach of formal, experimental, and macro- / microscopical use-wear analyses.</p>
<p><strong>G√∂bekli Tepe</strong><br>
As a first step in our analysis we had to determine the functional variation of these grinding tools, as a wide range of uses is attested archaeologically and ethnographically, ranging from cereal processing to pounding of meat or crushing of minerals. Grinding and pounding equipment from G√∂bekli Tepe was documented through 3D-modelling by structure from motion, and surfaces were macro- and microscopically analyzed for use-wear. We used replicas of the equipment identified on site to experimentally grind different materials and establish a reference collection for the identification of the observed traces. Further, phytolith samples taken from the sediments inside and outside buildings at G√∂bekli Tepe and from grinding stone surfaces allowed us to determine and quantify the presence of plants. Phytoliths were abundant in all nine soil samples examined, ranging from 0.5 to 3.0 million phytoliths per gram of sediment. Grass phytoliths were the most common group identified. The sediments inside the rectangular buildings largely contain markers for the upper and middle part of plants. This could be indicative of harvested cereals, as plants are usually collected and transported in sheaves. To contextualize the results, we assessed the spatial distribution of grinding equipment and identified potential activity areas.</p>
<p><img loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png" alt="journal.pone.0215214.g010" width="1614" height="1852" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png 1614w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-697x800.png 697w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1569x1800.png 1569w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-768x881.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1339x1536.png 1339w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-676x776.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-892x1024.png 892w" sizes="(max-width: 1614px) 100vw, 1614px"></p>
<p>We found that the most common types of handstones used at G√∂bekli Tepe show use-wear traces connected to cereal processing. Handstones with such traces concentrate in some of the rectangular buildings, but even more so in open spaces between and around them and the (at least partly) contemporary monumental round structures.<br>
Building D was taken as a case study to asses grinding stone use within the latter. There, grinding equipment from the deepest layer, which appears to be connected to the partially intentional refilling of the structure, also shows traces of ochre, indicating its processing in this structure.<br>
The overall quantity of 7268 analyzed grinding tools from G√∂bekli Tepe appears to be too high for simple daily use, given their relatively high productivity. A single handstone of the most common types could have produced an average of 4800 g flour within eight working hours, as our experiments show. If we assume that one person needs between 500 g and 1000 g of cereals daily as nutrients for survival, this amount would be enough to feed five to ten people.</p>
<p><strong>Interpretation</strong><br>
The organization of work and food supply has always been a central question of research into G√∂bekli Tepe, as the construction and maintenance of the monumental architecture would have necessitated a considerable work force. G√∂bekli Tepe has a high concentration of distinctive architecture, often addressed as ‚Äòspecial buildings‚Äô, which do not repeat the characteristic plans of domestic buildings from contemporaneous settlements. Extensively excavated settlement sites like Nevalƒ± √áori or √áay√∂n√º have one ‚Äòspecial building‚Äô per settlement phase, while G√∂bekli Tepe has several, likely contemporary buildings of this type, which different groups of people likely used. For the buildings excavated so far, we have observed certain regularities governing the decoration of the 69 known pillars‚Äìmostly with animal motifs, but also with abstract signs. While in building A snake images prevail, in building B foxes are dominant. In building C boar take over, and in building D the imagery is more diverse with birds, especially vultures, playing a significant role. In building H felines are of importance. We see these differences in figurative expression as evidence for different groups of people ornamenting the buildings with the emblematic animals central to their group identities. The site has also produced a wide range of stationary and portable art, far outnumbering such finds from other contemporary sites. Many of the animal and human depictions are clearly marked as male, there are almost no clearly recognizable female depictions, a situation contrary to the materials known from settlements.<br>
At the same time, G√∂bekli Tepe¬¥s remote location on a barren mountain ridge is very unusual compared to the setting of contemporaneous Neolithic settlements, which are regularly located next to water sources. The construction of monumental architecture at G√∂bekli Tepe, and other similar sites in its vicinity, would have necessitated a workforce of hundreds of people even by conservative estimates. One model to explain cooperation in small-scale communities involves ritualized work feasts. M. Dietler and E. Herbich define work feasts as events in which ‚Äúcommensal hospitality is used to orchestrate voluntary collective labour,‚Äù the incentive to work together is provided by the prospect of large amounts of food and drink. The main archaeological marker for feasting would be evidence of the presence of larger amounts of foodstuffs and tools than needed by the inhabitants of a site for their subsistence. Through our analysis, we have identified evidence for G√∂bekli Tepe that fits that pattern for plant food. As no large storage facilities have been identified, we argue for a production of food for immediate consumption and interpret these seasonal peaks in activity at the site as evidence for the organization of large work feasts. This adds to archaeozoological data suggesting large-scale hunting of migratory gazelle between midsummer and autumn.</p>
							
	</div></div>]]>
            </description>
            <link>https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129693</guid>
            <pubDate>Sun, 14 Feb 2021 04:29:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On navigating a large codebase]]>
            </title>
            <description>
<![CDATA[
Score 261 | Comments 125 (<a href="https://news.ycombinator.com/item?id=26129190">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A while ago, I‚Äôve been working on a very large codebase that consisted of a few million lines of code.
Large systems are usually a big mess and this one was no exception.
Since this is a rather common problem in software engineering, I thought the internet would be
littered with stories about this topic.
There is a lot of talk about software carpentry, while software maintenance is rarely debated.
Either large programs are being maintained by dark matter developers or
nobody thinks that writing stories about large systems are interesting enough.</p><p>In the past I‚Äôve encountered a few of those large monsters and they seem to have a lot in common.
This article will try to present some of the problems and tricks that I am using when
I have to deal with them. Hopefully this will inspire others to write similar posts
and share tips from their own bag of tricks.</p><h2 id="large-codebase-problems">Large codebase problems</h2><p>The main problem of any large codebase is the extreme complexity that stems from the fact
that we live in a messy world of details that are very hard to describe and put into words.
The programming languages that we are using nowadays are still too primitive for that task,
and it takes a lot of lines and various layers of abstractions before we are able to convey the
rules of our world to the all mighty computer [1].</p><p>The following sections will present some of the common problems which I‚Äôve discovered during my
big system adventures.</p><p>A common trait of a large codebases is that at some point they become so large and bloated
that one person alone is no longer capable of understanding all its pieces. It seems to
me that after 100‚Äô000 lines of code, the maintenance related problems start to appear
as the complexity of the code simply dwarfs the capabilities of the human brain.
Such large systems are commonly maintained by more than one person, but with a large
group of people also come large organizational problems.</p><p>Within a large group of people the number of possible communication paths between them go bananas
and so it often happens that the ass no longer knows what the head is doing.
This misunderstanding in turn cause them to build the wrong thing that doesn‚Äôt fit
into the rest of the system. You might also know this situation under the term of
‚Äúthose people had no idea what they were doing, and we will do it right this time‚Äù which is
quite often floating around in the latest maintenance team.</p><p>That rarely happens though, because it‚Äôs likely the Towel of Babel situation all over again.</p><h3 id="loss-of-knowledge">Loss of knowledge</h3><p>Large systems are usually maintained by the ones who did not build them. Initial
developers often leave the company or move up in the pecking order to
work on other projects and are therefore no longer familiar with the system.
Sometimes the bright minds outsourced the initial development of the project
in the name of lowering the costs, just to pay tenfold in the later stages once they realize
the outsourcers developed the wrong thing. Even worse is the fact that the in house developers
didn‚Äôt gain the internal domain knowledge that is necessary for further maintenance of the system.</p><p>This presents a big problem for the new maintainers, as they can‚Äôt just go
around the company and ask the original developers about the initial design decisions.
Learning this tribal knowledge usually takes a lot of time, because the code is harder to read and
understand than it is to write. These days most developers seem to switch jobs every 2 to 3 years,
therefore the learning process has to be constantly going on, otherwise you might end up
with a large and expensive monster that nobody knows anything about [2].
For most of the past large projects on which I‚Äôve been working on, the team has usually
changed by the end of the first version.</p><p>Rigorously documenting every step is not the cure for this problem, because at some point all that
junk will become outdated and nobody will have the time to spend a year just reading the
documentation and figuring out how the pieces fit together [3].</p><h3 id="lack-of-knowledge">Lack of knowledge</h3><p>Large systems become large, because they are usually trying to solve every problem under the sun.
Often the organization that is embarking on such journey does not have enough experienced
employees on board to actually pull it off. Some like to say that pressure makes diamonds,
but sometimes it also crushes the things that are under.</p><p>It‚Äôs fine to have less experienced people working on a large system as long as they have the elders
overseeing their work. In the world where senior titles are handed left and right,
that is often not the case and it‚Äôs how you end up with a very fragile system that is suitable for
a replacement as soon as it was built. Most of the larger projects that I was working on and
were considered successes, had the core parts of the system written by experienced
developers. A significant chunks were also built by greenhorns, but they were usually
guided and their blast radius was limited to the less complex parts of the system.</p><h3 id="the-astronauts">The astronauts</h3><p>Big projects tend to attract the data modelers and other cultists who like to
get in the way of getting shit done. These architecture astronauts will endlessly
discuss the finer points of their UML data models and multithreaded layers of abstraction,
that will one day allow them to be the heroes of their own story by writing some well
encapsulated and ‚ÄúSOLID‚Äù code.</p><blockquote><p>Why IBM sales reps don‚Äôt have children?</p><p>Because all they do is sit on the bed telling their spouses how great it‚Äôs going to be.</p></blockquote><p>Meanwhile, the for loopers have to fight this creeping metadata bureaucracy
madness on a daily basis. The tools handed down to them from the ivory tower usually don‚Äôt stand
the heat of the battle, but that doesn‚Äôt bother the modelers who will try to fix
the problems with more obfuscation patterns. It‚Äôs how you end with a homebrewed middleware monstrosity,
because the 100 existing ones out there are obviously not up to the task of powering our little CRUD app.</p><h3 id="documentation-problems">Documentation problems</h3><blockquote><p>I like to keep documentation separated from the code. Who am I?</p><p>A fool, with an out of sync document.</p></blockquote><p>The documentation of any large system is almost always outdated.
The code is usually changing faster due to the endless edge cases of the system
that were not being thought of early on. The discovered edge case problems are
usually fixed by bolting additional functionality right on the spot.
The average code change of such patch is usually quite small,
but a few tweaks here and there accumulate over time until the original design no
longer matches with the reality.</p><p>Tweaking the code is usually simple as most people are familiar with the process. You pull the
code from the version control, you make your tweaks and then you push it back.
On the other hand updating the documentation is way more convoluted and usually involves the
whole ceremony, because the term documentation is actually a spaghetti of Word documents,
pdfs, spreadsheets, emails, wiki pages and some text files on some dude‚Äôs hard drive.</p><p>The corporate world still loves to use MS Word for writing technical documents, even though
it‚Äôs entirely unusable for this use case. The Word doesn‚Äôt support syntax highlighting for
code snippets and you get to play the game of ‚Äúmoving one image for 5 pixels to the
left will mess with your headings and right align all text.‚Äù
It also makes it very hard to have multiple people collaborating on the same document.
The version control still treats Word documents in the same way as binary blobs,
which makes merging changes and fixing merge conflicts far harder than it should be.
I still remember how people collaborated by working each on their own copy of the
document and having a documentation officer merging all the copies together
manually to avoid any merge conflicts. Fun times.</p><p>If you are lucky, you might be writing documentation in plain text, but then you may have to
get familiar with all kinds of weird Lovecraftian toolchains that are relying on
all sorts of ancient operating system specifics in order to produce a nicer looking document.</p><p>After all these years of progress, writing documentation is still an unpleasant process
due to all the pain surrounding the tools that we have to deal with on a daily basis.
Large projects ensure that not only is the documentation hard to write, it‚Äôs also
impossible to find and read due to the sheer number of documents [4].</p><h2 id="tackling-the-beast">Tackling the beast</h2><p>In this section I will describe my ways of tackling the problems of an unknown large codebase
that I often encounter in the wild.
As mentioned before, the main problem of large systems is that nobody can understand them
entirely and often you will be left wondering how the damn thing even works.</p><p>When you are trying to understand a specific part of a large system, it‚Äôs worth
taking the time to talk to the current maintainers. They usually know it well enough
to guide you through the jungle, so you can avoid the traps and get up to speed faster.
Sometimes you will encounter a situation where you will just have to figure it
out on your own, because nobody will have the answers to your questions.</p><p>Hopefully the following sections might give you some ideas on how to tackle such
situations.</p><h3 id="read-the-documentation">Read the documentation</h3><p>The easiest way to get familiar with a large system, is by going through its documentation and
actually reading it. Large systems usually contain
large swaths of outdated documentation, but even a slightly outdated document is
often better than not having it at all. Ask the elders about the current state of documentation,
so you don‚Äôt completely waste your time with deciphering the irrelevant documents.</p><p>Either way, the documentation will only give you an overview of the system. The details
behind design decisions are almost never mentioned and you will have to find another way.</p><h3 id="check-the-tests">Check the tests</h3><p>When I am trying to decipher how a specific part of the system is supposed to behave,
I usually check for tests. If they exist, you might want to scroll through them and hopefully
you will get another ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129190</guid>
            <pubDate>Sun, 14 Feb 2021 02:41:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting up a Better REPL]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129179">thread link</a>) | @downvotemore
<br/>
February 13, 2021 | https://mikeloomisgg.github.io/2019-04-10-set-up-repl/ | <a href="https://web.archive.org/web/*/https://mikeloomisgg.github.io/2019-04-10-set-up-repl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-set-up-repl" class="page" role="article"><header><p> <time datetime="2019-04-10T00:00:00+00:00">10 Apr 2019</time> on <a href="https://mikeloomisgg.github.io/tag/cpp/">c++</a>, <a href="https://mikeloomisgg.github.io/tag/database/">Databases</a></p></header><p>One of the very common criticisms of c++ is that it is very complicated. I saw someone on a programming stream yesterday claim that they prefer raw c because it feels more <em>intuitive</em>. To me, this just seems out of touch with reality. Lets look at the simplest REPL, from <a href="https://cstack.github.io/db_tutorial/parts/part1.html">part 1</a> of the cstack database from scratch series. I think by the end anyone would agree with me that the c++ version of this code is better in every way to its c counterpart.</p><p>What we are creating here, REPL for short, is a very common introductory tool for someone just getting used to working with a SQL database. It allows a beginner user to interact with the database line by line, discovering how SQL works through tinkering with the language. Many of these REPL shells are also used in scripting languages, and its the default mode that python starts in if you pass it no arguments.</p><p>In this part, we are just looking at the simplest REPL ever, which just prompts the user with some context in the terminal, and allows lines of input to be evaluated. The only command we are evaluating for now is just the SQL .exit metacommand. Any other commands passed to our program are unrecognized. Here is the c version:</p><div><div><pre><code><span>#include &lt;stdbool.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</span>
<span>struct</span> <span>InputBuffer_t</span> <span>{</span>
  <span>char</span><span>*</span> <span>buffer</span><span>;</span>
  <span>size_t</span> <span>buffer_length</span><span>;</span>
  <span>ssize_t</span> <span>input_length</span><span>;</span>
<span>};</span>
<span>typedef</span> <span>struct</span> <span>InputBuffer_t</span> <span>InputBuffer</span><span>;</span>

<span>InputBuffer</span><span>*</span> <span>new_input_buffer</span><span>()</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>InputBuffer</span><span>));</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer_length</span> <span>=</span> <span>0</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>0</span><span>;</span>

  <span>return</span> <span>input_buffer</span><span>;</span>
<span>}</span>

<span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>

<span>void</span> <span>read_input</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
  <span>ssize_t</span> <span>bytes_read</span> <span>=</span>
      <span>getline</span><span>(</span><span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>),</span> <span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer_length</span><span>),</span> <span>stdin</span><span>);</span>

  <span>if</span> <span>(</span><span>bytes_read</span> <span>&lt;=</span> <span>0</span><span>)</span> <span>{</span>
    <span>printf</span><span>(</span><span>"Error reading input</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>// Ignore trailing newline
</span>  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>bytes_read</span> <span>-</span> <span>1</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>[</span><span>bytes_read</span> <span>-</span> <span>1</span><span>]</span> <span>=</span> <span>0</span><span>;</span>
<span>}</span>

<span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>

<span>int</span> <span>main</span><span>(</span><span>int</span> <span>argc</span><span>,</span> <span>char</span><span>*</span> <span>argv</span><span>[])</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>print_prompt</span><span>();</span>
    <span>read_input</span><span>(</span><span>input_buffer</span><span>);</span>

    <span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
      <span>close_input_buffer</span><span>(</span><span>input_buffer</span><span>);</span>
      <span>exit</span><span>(</span><span>EXIT_SUCCESS</span><span>);</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>printf</span><span>(</span><span>"Unrecognized command '%s'.</span><span>\n</span><span>"</span><span>,</span> <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Here‚Äôs a whole mess of things that a modern Rust or C++ developer cringe at.</p><ul><li>Using malloc to allocate memory for an input buffer</li><li>Using a strcmp free function to deep compare equality of raw buffers.</li><li>Manually freeing the memory allocated for the input buffer after we‚Äôre done.</li></ul><p>This isn‚Äôt fast, and it isn‚Äôt intuitive. Its also 56 lines of code with a large amount of boilerplate code for handling memory allocation.</p><p>Lets break this down into a much simpler and more intuitive c++ alternative step by step.</p><div><div><pre><code><span>//Replace this input buffer pointer with a std::string
</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
</code></pre></div></div><div><div><pre><code><span>// Our single line prompt function doesn't need to call an external free function
// Get rid of the free function 
</span><span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>
</code></pre></div></div><div><div><pre><code><span>/// strcmp is unnecessary if we're using the std::string type which has overloaded the == operator for string literals
</span><span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span>
</code></pre></div></div><div><div><pre><code><span>// malloc and free are code smells. Like new and delete, they should not exist in modern c++ code.
</span><span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>
</code></pre></div></div><p>Here is our nearly identical c++ version with those simplifications:</p><div><div><pre><code><span>#include &lt;iostream&gt;
#include &lt;string&gt;
</span>
<span>int</span> <span>main</span><span>()</span> <span>{</span>
  <span>std</span><span>::</span><span>string</span> <span>input</span><span>;</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"db &gt; "</span><span>;</span>
    <span>std</span><span>::</span><span>getline</span><span>(</span><span>std</span><span>::</span><span>cin</span><span>,</span> <span>input</span><span>);</span>

    <span>if</span><span>(</span><span>input</span> <span>==</span> <span>".exit"</span><span>)</span> <span>{</span>
      <span>return</span> <span>EXIT_SUCCESS</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"Unrecognized command: "</span> <span>&lt;&lt;</span> <span>input</span> <span>&lt;&lt;</span> <span>'\n'</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Compare the two different versions‚Äô disassembly on a website like https://godbolt.org/ and we can see that the c++ version very similar and potentially faster than the raw c version.</p><table><thead><tr><th>&nbsp;</th><th>c</th><th>c++</th></tr></thead><tbody><tr><td>Lines of code</td><td>56</td><td>15</td></tr><tr><td>Disassembly length</td><td>99</td><td>99</td></tr><tr><td>Potential bugs</td><td>Infinite chances of memory leaks</td><td>Impossible to leak with RAII types on the stack</td></tr></tbody></table><p>This very simple REPL for part 1 perfectly illustrates how insane people sound to me when they claim that c is simpler or more intuitive than c++. In this simple case, c++ is approximately as easy to write and understand as a high level scripting language like python, but compiles down to a smaller binary than c.</p><p>This post is part of a series which I am going to go through step by step simplifying and converting the cstack sqlite database into a more modern c++ version. So stay tuned for the next parts where we‚Äôll discuss:</p><ul><li>Better REPL parser implementations</li><li>Test Driven Developement in Practice</li><li>Database structure and persistence</li><li>A look at B-Trees</li></ul></article></div>]]>
            </description>
            <link>https://mikeloomisgg.github.io/2019-04-10-set-up-repl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129179</guid>
            <pubDate>Sun, 14 Feb 2021 02:37:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Tiny Linux Kernel]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129094">thread link</a>) | @mmphosis
<br/>
February 13, 2021 | https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d | <a href="https://web.archive.org/web/*/https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><div><a href="https://medium.com/@anuradha?source=post_page-----8c07579ae79d--------------------------------" rel="noopener"><div><p><img alt="Anuradha Weeraman" src="https://miro.medium.com/fit/c/96/96/1*Lmj25yY1HRAVGeWBkpWIWQ.jpeg" width="48" height="48"></p></div></a></div></div></div></div></div><p id="270a">Today we will go over the process of building a tiny Linux kernel, and booting into a shell. To start with, fetch the Linux source tree that you‚Äôd like to try this out on. I‚Äôm using staging tree for this post. You can get it here:</p><pre><span id="fd32">$ git clone git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging.git</span></pre><p id="2ba7">To get an initial config that‚Äôs very minimalist:</p><pre><span id="8a0c">$ make tinyconfig</span></pre><p id="6abf">Here‚Äôs a comparison of the config options enabled by tinyconfig to a stock kernel that come with my Debian distribution:</p><pre><span id="79de">$ grep "=y" .config | wc -l<br>247<br>$ grep "=m" .config | wc -l<br>0<br>$ grep "=y" /boot/config-5.4.0-4-amd64 | wc -l<br>2071<br>$ grep "=m" /boot/config-5.4.0-4-amd64 | wc -l<br>3401</span></pre><p id="0903">Let‚Äôs try to build it:</p><pre><span id="b16b">$ time make -j16<br>scripts/kconfig/conf  --syncconfig Kconfig<br>  SYSTBL  arch/x86/include/generated/asm/syscalls_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_64.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_x32.h<br>  WRAP    arch/x86/include/generated/uapi/asm/bpf_perf_event.h<br>.<br>.<br>.<br>.<br>Setup is 13788 bytes (padded to 13824 bytes).<br>System is 417 kB<br>CRC 435fb428<br>Kernel: arch/x86/boot/bzImage is ready  (#1)</span><span id="b15f">real 0m15.468s<br>user 2m12.094s<br>sys 0m14.603s</span></pre><p id="3536">The kernel builds to around ~430k. This is a 32-bit kernel by default, so let‚Äôs enable 64-bit support:</p><pre><span id="3ec0">$ make menuconfig</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3790/1*Qqz6S1F0iuHYvkh3La7L7Q.png" width="1895" height="1006" srcset="https://miro.medium.com/max/552/1*Qqz6S1F0iuHYvkh3La7L7Q.png 276w, https://miro.medium.com/max/1104/1*Qqz6S1F0iuHYvkh3La7L7Q.png 552w, https://miro.medium.com/max/1280/1*Qqz6S1F0iuHYvkh3La7L7Q.png 640w, https://miro.medium.com/max/1400/1*Qqz6S1F0iuHYvkh3La7L7Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*Qqz6S1F0iuHYvkh3La7L7Q.png?q=20"></p></div></div></div></figure><p id="94ce">Enable the TTY for console support:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3800/1*98FOepVg-qylMCy2fTBx0Q.png" width="1900" height="1007" srcset="https://miro.medium.com/max/552/1*98FOepVg-qylMCy2fTBx0Q.png 276w, https://miro.medium.com/max/1104/1*98FOepVg-qylMCy2fTBx0Q.png 552w, https://miro.medium.com/max/1280/1*98FOepVg-qylMCy2fTBx0Q.png 640w, https://miro.medium.com/max/1400/1*98FOepVg-qylMCy2fTBx0Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*98FOepVg-qylMCy2fTBx0Q.png?q=20"></p></div></div></div></figure><p id="8c6a">and support for printk to see console output as the kernel boots:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3796/1*fKls0hD5lYLYd579TRKgKQ.png" width="1898" height="1010" srcset="https://miro.medium.com/max/552/1*fKls0hD5lYLYd579TRKgKQ.png 276w, https://miro.medium.com/max/1104/1*fKls0hD5lYLYd579TRKgKQ.png 552w, https://miro.medium.com/max/1280/1*fKls0hD5lYLYd579TRKgKQ.png 640w, https://miro.medium.com/max/1400/1*fKls0hD5lYLYd579TRKgKQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*fKls0hD5lYLYd579TRKgKQ.png?q=20"></p></div></div></div></figure><p id="9a2e">Build again:</p><pre><span id="f1eb">Setup is 13596 bytes (padded to 13824 bytes).<br>System is 737 kB<br>CRC d273f4d<br>Kernel: arch/x86/boot/bzImage is ready  (#4)</span><span id="1a1b">real 0m6.045s<br>user 0m40.808s<br>sys 0m3.958s</span></pre><p id="371e">The size has gone up somewhat, nearly double what we started off with. If you‚Äôre only supporting a serial interface, even this additional bloat can be avoided to keep the size of the image down.</p><p id="ea7f">Boot the kernel with qemu:</p><pre><span id="6b5b">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*QfIoYrTIpWEIBD0ZETpx4w.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*QfIoYrTIpWEIBD0ZETpx4w.png 276w, https://miro.medium.com/max/1104/1*QfIoYrTIpWEIBD0ZETpx4w.png 552w, https://miro.medium.com/max/1280/1*QfIoYrTIpWEIBD0ZETpx4w.png 640w, https://miro.medium.com/max/1400/1*QfIoYrTIpWEIBD0ZETpx4w.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*QfIoYrTIpWEIBD0ZETpx4w.png?q=20"></p></div></div></div></figure><p id="0ef2">The kernel boots and panics when attempting to start init, as expected. In order to boot into a shell as we originally set out to do, we will need a filesystem and a shell that can be started by the kernel as PID 1. Let us create a bare bones ram disk image that we can use to boot into a minimal busybox shell.</p><p id="259d">There are plenty of ways to achieve this, and here‚Äôs just one way:</p><pre><span id="6e90">$ git clone <a href="mailto:git@github.com" rel="noopener">git@github.com</a>:aweeraman/kernel-utils.git<br>$ kernel-utils/create-initrd.sh <br>Creating initrd filesystem... ok<br>Building dependencies... <br>Cloning into 'busybox'...<br>remote: Enumerating objects: 29, done.<br>remote: Counting objects: 100% (29/29), done.<br>remote: Compressing objects: 100% (23/23), done.<br>remote: Total 110424 (delta 16), reused 14 (delta 6), pack-reused 110395<br>Receiving objects: 100% (110424/110424), 37.05 MiB | 5.40 MiB/s, done.<br>Resolving deltas: 100% (87061/87061), done.<br>Building initrd... 4882 blocks</span></pre><p id="d743">Before we can use this ram disk, we need to enable init RAM disk (initrd) support in the kernel:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3802/1*pBLJG65lMbzCEhUxfdyhzQ.png" width="1901" height="1009" srcset="https://miro.medium.com/max/552/1*pBLJG65lMbzCEhUxfdyhzQ.png 276w, https://miro.medium.com/max/1104/1*pBLJG65lMbzCEhUxfdyhzQ.png 552w, https://miro.medium.com/max/1280/1*pBLJG65lMbzCEhUxfdyhzQ.png 640w, https://miro.medium.com/max/1400/1*pBLJG65lMbzCEhUxfdyhzQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*pBLJG65lMbzCEhUxfdyhzQ.png?q=20"></p></div></div></div></figure><p id="0abf">I have only included support for gzip compression and disabled the rest.</p><p id="ca12">We will also need to enable ELF-support to be able to start up the shell:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3792/1*ul_vqh5YRC4YP7j0QRKuWA.png" width="1896" height="1009" srcset="https://miro.medium.com/max/552/1*ul_vqh5YRC4YP7j0QRKuWA.png 276w, https://miro.medium.com/max/1104/1*ul_vqh5YRC4YP7j0QRKuWA.png 552w, https://miro.medium.com/max/1280/1*ul_vqh5YRC4YP7j0QRKuWA.png 640w, https://miro.medium.com/max/1400/1*ul_vqh5YRC4YP7j0QRKuWA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*ul_vqh5YRC4YP7j0QRKuWA.png?q=20"></p></div></div></div></figure><p id="1395">This time, when booting the kernel, pass in the -initrd argument and specify the initrd image that we created earlier, in addition to an argument to the kernel to specify the binary that it should look for in the ram disk and execute once the kernel has finished booting, which is in this case is ‚Äò/bin/sh‚Äô.</p><pre><span id="fee5">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh"</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*0a_JKjSCmrnPPp4cXeu6Qg.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*0a_JKjSCmrnPPp4cXeu6Qg.png 276w, https://miro.medium.com/max/1104/1*0a_JKjSCmrnPPp4cXeu6Qg.png 552w, https://miro.medium.com/max/1280/1*0a_JKjSCmrnPPp4cXeu6Qg.png 640w, https://miro.medium.com/max/1400/1*0a_JKjSCmrnPPp4cXeu6Qg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*0a_JKjSCmrnPPp4cXeu6Qg.png?q=20"></p></div></div></div></figure><p id="8c0d">And we have a shell.</p><p id="2c42">Let‚Äôs enable the /proc filesystem so we can run some standard commands:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3788/1*xEFVIfD0rrdra5ox2z86mA.png" width="1894" height="1008" srcset="https://miro.medium.com/max/552/1*xEFVIfD0rrdra5ox2z86mA.png 276w, https://miro.medium.com/max/1104/1*xEFVIfD0rrdra5ox2z86mA.png 552w, https://miro.medium.com/max/1280/1*xEFVIfD0rrdra5ox2z86mA.png 640w, https://miro.medium.com/max/1400/1*xEFVIfD0rrdra5ox2z86mA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*xEFVIfD0rrdra5ox2z86mA.png?q=20"></p></div></div></div></figure><p id="9333">Mount the proc file system after booting, so you can use commands like ‚Äòps‚Äô and ‚Äòfree‚Äô:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*lB3Pk16_27Xd402yxPnNdw.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*lB3Pk16_27Xd402yxPnNdw.png 276w, https://miro.medium.com/max/1104/1*lB3Pk16_27Xd402yxPnNdw.png 552w, https://miro.medium.com/max/1280/1*lB3Pk16_27Xd402yxPnNdw.png 640w, https://miro.medium.com/max/1400/1*lB3Pk16_27Xd402yxPnNdw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*lB3Pk16_27Xd402yxPnNdw.png?q=20"></p></div></div></div></figure><p id="6e5c">Here‚Äôs the size of the kernel that we just built:</p><pre><span id="a064">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 793 kB</span></pre><p id="de47">Note that this is the size of the compressed kernel on disk and the actual memory used at boot time is comparable to the size of the generated vmlinux file, which in this case is 12MB. You would need at least that much memory to load the kernel into memory, plus 8‚Äì16MB additionally for the user space. Here‚Äôs the minimum memory configuration that allowed me to boot this kernel in qemu:</p><pre><span id="483d">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh" -m 29M</span></pre><p id="625a">Just for kicks, I disabled printk and booted up the kernel, that put me into a shell almost immediately:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*qRFHRgS6qYUoV2GqJhTjUA.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*qRFHRgS6qYUoV2GqJhTjUA.png 276w, https://miro.medium.com/max/1104/1*qRFHRgS6qYUoV2GqJhTjUA.png 552w, https://miro.medium.com/max/1280/1*qRFHRgS6qYUoV2GqJhTjUA.png 640w, https://miro.medium.com/max/1400/1*qRFHRgS6qYUoV2GqJhTjUA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*qRFHRgS6qYUoV2GqJhTjUA.png?q=20"></p></div></div></div></figure><p id="c8b4">Finally, the compressed kernel size comes down to:</p><pre><span id="d1b9">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 749 kB</span></pre></div></div></section></div></div>]]>
            </description>
            <link>https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129094</guid>
            <pubDate>Sun, 14 Feb 2021 02:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[`mov` is Turing-complete [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128978">thread link</a>) | @sep_field
<br/>
February 13, 2021 | http://stedolan.net/research/mov.pdf | <a href="https://web.archive.org/web/*/http://stedolan.net/research/mov.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://stedolan.net/research/mov.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128978</guid>
            <pubDate>Sun, 14 Feb 2021 01:57:27 GMT</pubDate>
        </item>
    </channel>
</rss>
