<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 23 Feb 2021 08:35:35 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 23 Feb 2021 08:35:35 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[My School Gamed the Stats]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 7 (<a href="https://news.ycombinator.com/item?id=26211921">thread link</a>) | @optimalsolver
<br/>
February 21, 2021 | https://www.greaterwrong.com/posts/Yv9aj9bWD5H7aaDdy/how-my-school-gamed-the-stats | <a href="https://web.archive.org/web/*/https://www.greaterwrong.com/posts/Yv9aj9bWD5H7aaDdy/how-my-school-gamed-the-stats">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I was reading the Slate Star Codex <a href="https://astralcodexten.substack.com/p/book-review-the-cult-of-smart">review</a> of The Cult of Smart. Part of it discusses charter vs state schools and the allegations of fraud of various kinds undermining charter schools record of better achievement. Reading it, I realized that I took for granted that public schools engage in systematic fraud in a variety of ways. I donâ€™t think this is something everyone understands, hence this post.</p>
<p>I went to a state school in the UK. State schools are rated on a 1 âˆ’ 4 scale from unsatisfactory to outstanding. My school was rated good, meaning a 3. A few memories which stand out. During my first week I saw one of the boys in my class who was 11 at the time held up against the wall in a corridor while a 16 year old put a shiv to his throat and robbed him. He handed over his wallet and keys. A year or two later and I remember seeing a small boy who struggled with depression held up by the throat against a locker and slapped in the face by a troublemaker from the same class in front of everyone just before we went in to the classroom. I remember classes which were filled start to finish with people shouting and talking. Neither of the first two events were common but they also werenâ€™t uncommon. No one was surprised to witness them. Itâ€™s worth emphasizing again that my school was above average, in fact quite far above average, and in a middle class area. Itâ€™s also worth noting that I was mostly in top ability streamed classes, meaning my classroom experience was likely far better than average.</p>
<p>There were many ways in which the school and teachers gamed the system to boost their measured performance. One way was to do exams for students. I was on a bottom set language class for French. After two years I literally couldnâ€™t speak a single sentence in french and maybe knew 20 words in total. I still passed my exams. How? We did the tests in class. Often the teacher would go through them with us. Literally giving us the test and then going through each question on the whiteboard and telling us what to write. A different year and a different teacher, this time the teacher would sit next to us and write the answers down. Why sit next to us? It was the bottom set so people often wouldnâ€™t even bother to write down the answer if they were told it. This kind of thing was normal, so much so that I, and I think most people there, didnâ€™t realize anything unusual was happening.</p>
<p>Another way schools game metrics is to cheat inspections. A major component of how schools are judged in the UK is through independent inspections carried out by an independent quasi-governmental organization called Ofsted. Now, you may imagine that these inspections would be unannounced, so as to best get a real image of how a school works. Not the case. Theyâ€™re scheduled well in advance. Before every inspection, a few things would happen in my school:</p>
<ul><li><p>The worst troublemaker kids would be taken aside and put in a special room where inspectors wouldnâ€™t see them. Either that or they would just be told not to come into school at all on that day.</p></li><li><p>All of us were told in assembly that an inspection was coming and to be on our best behavior on that day. Often teachers would have conversations with less serious troublemakers and impress on them that they would behave on that day or face consequences afterwards.</p></li><li><p>Teachers would put a great deal more effort into their lesson plans than was normal. Classroom behavior management would also be far stricter.
Because of these and other measures my school during an inspection was utterly different than my school on a normal day. On some level this isnâ€™t surprising. If teachersâ€™ promotions and managementâ€™s jobs depend on good inspection results and inspections are easy to game, people will game them. Incentives drive behavior. But itâ€™s still sad.</p></li></ul>
<p>Another way the stats were gamed was by not recording bad behavior. When a school gives a detention or suspends/â€‹expels a student, thereâ€™s a record of it. This is especially true of suspensions, students being sent home or expulsions. The more of these you have, the worse you look as a school. The solution then is obvious, donâ€™t punish people or punish them in non-recorded ways. Again, in my school it was completely normal for students in lower sets to swear at the teacher, talk over them or disrupt the class for everyone else. It was normal for someone to be aggressive and abusive towards others and to face at most a 40 minute detention, but even getting a detention would be unusual.</p>
<p>I realize that one data point is not enough to draw solid general conclusions. My own perception is that this kind of fraud wasnâ€™t specific to my school. My cousin went to a state school fairly nearby. Heâ€™s 4 years younger than me. During one of my winters back from undergrad we discussed his school and his experiences mirrored mine. His exact words regarding inspections were â€œI learned 4 times more that day than any other day that year. It was amazingâ€�. I talked to a few British students at university, although specifically the not middle/â€‹upper class ones who would have gone to public schools. They had gone to schools similar to mine in different parts of the country and their stories were similar and often worse. Two particularly funny examples from my friendsâ€™ experiences stand out. A teacher in year 9 walked up to a student who was talking, picked them up and threw them out of an (open) first floor window. My friend sitting in class noticed two boys making fun of him and then proceeded to get up in the middle of class while the teacher was talking, walk to their table, flip the table upwards to hit them in the face before going to sit down again when the teacher told him to. (Remember, my friend was a studious, sporty Asian kid and not a troublemaker. This kind of thing is normal in that environment). Comedic stories aside, my experiences in school, while not universal, seem fairly common in the UK and from what Iâ€™ve read of the statistics, bad US schools are far, far worse.</p>
<p>Iâ€™m unsure what my point here is. I think I have two:</p>
<ul><li><p>Charters may cook their books in various ways. In the UK, State schools do too. I would be surprised if it wasnâ€™t also the case in the US.</p></li><li><p>I think that I feel like a lot of commentators on places like SSC have fairly middle class experiences of fairly good schools and that bleeds into how their comparison between state vs charter schools. Itâ€™s just good to remember that itâ€™s not those nice middle class schools that charters typically replace.</p></li></ul>
<p>Crossposted to my blog at <a href="https://dissent.blog/2021/02/20/how-my-school-gamed-the-stats/">https://â€‹â€‹dissent.blog/â€‹â€‹2021/â€‹â€‹02/â€‹â€‹20/â€‹â€‹how-my-school-gamed-the-stats/â€‹â€‹</a></p></div></div>]]>
            </description>
            <link>https://www.greaterwrong.com/posts/Yv9aj9bWD5H7aaDdy/how-my-school-gamed-the-stats</link>
            <guid isPermaLink="false">hacker-news-small-sites-26211921</guid>
            <pubDate>Sun, 21 Feb 2021 08:44:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Immutable Systems Infrastructure, or How to Mashup Kubernetes and Nix]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26211486">thread link</a>) | @harporoeder
<br/>
February 20, 2021 | https://tevps.net/blog/2021/2/20/immutable-systems-infrastructure-or-how-mashup-kub/ | <a href="https://web.archive.org/web/*/https://tevps.net/blog/2021/2/20/immutable-systems-infrastructure-or-how-mashup-kub/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
    
    
    <div>
        
        <h4>20 Feb 2021</h4>
        <p><a href="https://tevps.net/blog/Tools/">Tools</a>&nbsp;<a href="https://tevps.net/blog/Rant/">Rant</a>&nbsp;<a href="https://tevps.net/blog/DevOps/">DevOps</a></p><p>
        TL;DR: Proposal for a way to define multiple-machine systems in a immutable way, without requiring by-hand layouts.</p>
<p>I’ve been reading a lot about <a href="https://nixos.org/">Nix</a> and <a href="https://github.com/NixOS/nixops#nixops">NixOps</a> recently, and although I’m still leaning towards <a href="https://kubernetes.io/">Kubernetes</a> overall as my system configurator of choice (technically <a href="https://k3s.io/">k3s</a>, but that’s not so relevant for this), I’ve realised there’s a gap in the market for better immutable infrastructure. Note that this is a half-formed proposal, not a plan to do things, as I’ve already got way too many things on my plate, but I felt it was worth sharing the idea with others if anyone feels like picking this up, or doing something derived from it.</p>
<p>The goal is as follows: I want to be able to declare things like “I want X replicas of this service running, on different nodes” and “don’t put too many things on one node so the load gets well shared”, while not having to layout by hand <em>which</em> nodes the services go on, as they’re <a href="http://cloudscaling.com/blog/cloud-computing/the-history-of-pets-vs-cattle/">cattle not pets</a>. We can do this with Kubernetes right now, but at the cost of a system that tends towards being hard to debug when things go wrong, and things can <a href="https://k8s.af/">go very wrong</a>. It also has the limit that you have to containerise everything and isn’t really suited to managing local node setups (i.e. everything you need installed before you run the Kubernetes agent, like say ntp).</p>
<p>Nix OTOH, is absolutely designed for the local node setup, and NixOps would let us then setup multiple machines. However, NixOps is designed towards a “here’s a set of Nix expressions defining a series of specific machines”, and isn’t designed for any of the “choose where stuff goes for me” bits. These machines aren’t full-blown pets as they’re still automatically configured, but they’re not really fully cattle either.</p>
<p>We need a 3rd option: something with the best bits of both. Maybe it can be done with a variant of NixOps that defines a “basic node” config (stuff you want everywhere, like a specific kernel, ntp, maybe some firewall stuff), and then a series of “service” configs, that probably contain <a href="https://stackoverflow.com/a/58243920">an actual service config</a> and maybe any other packages/config that service needs, along with some metadata (e.g. replication count, memory/CPU requirements). It does need some sort of thing that decides “where does that particular service go” especially if the node that was carrying it goes down. Maybe we have some little service running on each node with <a href="https://raft.github.io/">Raft consensus</a> to decide what goes where, but all compiling down to Nix configurations for ease of debugging. It would also need to be able to cope with the upgrade case, plausibly by using the consensus system to replace a subset at a time of the services (or maybe some magic with unique names for services so we can run old version + new version at the same time)</p>
<p>Ideally, we also have something that lets us say spit out <a href="https://www.terraform.io/">Terraform</a> config for the more infrastructure things (NixOps supports AWS, Hetzner and GCE; Terraform supports <a href="https://registry.terraform.io/browse/providers">basically everything</a> and so it’s just easier that way), and then we can have a single config language that defines everything about our system’s setup other than the source code. And without needing to write <a href="https://octopus.com/blog/introduction-to-hcl-and-hcl-tooling">HCL</a>!</p>
<p>I would also note that I don’t regard Nix as the definitive option on system config languages. I think the immutable infrastructure approach is great, but the Nix language <a href="https://davedellacosta.com/posts/2019-03-29-why-nixos-is-hard-and-how-to-fix.html#what-is-so-hard">is kinda awful</a>. I’m somewhat more fond of <a href="https://guix.gnu.org/">Guix</a>, but I’ve used Nix here as the example as it’s the <a href="https://en.wiktionary.org/wiki/800-pound_gorilla">800-pound gorilla</a> in this space currently. I’m not sure what “better” looks like, other than liking the approach of using an existing language (as Guix does with <a href="https://www.gnu.org/software/guile/">Guile Scheme</a>) rather than building half of one along the way like Nix does.</p>
<p>Thoughts anyone?</p>
        <h4>
            Previously: <a href="https://tevps.net/blog/2020/9/7/scraping-lewishams-bin-days/">Scraping Lewishams bin days</a>
            
        </h4>
        
        
        
        
        
    </div>

    </div></div>]]>
            </description>
            <link>https://tevps.net/blog/2021/2/20/immutable-systems-infrastructure-or-how-mashup-kub/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26211486</guid>
            <pubDate>Sun, 21 Feb 2021 07:05:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[“555” and related telephone prefixes]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26211060">thread link</a>) | @miles
<br/>
February 20, 2021 | https://computer.rip/2021-02-20%20555%20500%20710%20etc.html | <a href="https://web.archive.org/web/*/https://computer.rip/2021-02-20%20555%20500%20710%20etc.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>


<p>We are probably all familiar with "555" telephone numbers. The basic idea is
that the 555 exchange code (or NXX in a NANP NXX-XXXX number) is reserved for
use in fiction. Of course, this isn't actually true at all, but that hasn't
stopped basically every work of fiction putting their imaginary telephone
numbers in the 555 exchange.</p>
<p>In reality, the 555 exchange has a somewhat bumpy history, as is the case with
most "special purpose" telephone ranges. Seemingly from the genesis of NANP as
a formal numbering standard, the 555 exchange was reserved for special use by
telcos, and was not to be used for normal subscriber lines. The 555 exchange
accumulated various and sundry uses, but most prominently, starting in the
early '60s it was used for directory service at 555-1212 in nearly all NPAs
(area codes). This was nearly the only successful use of the 555 exchange,
leaving it mostly empty.</p>
<p>Because the 555 exchange was conveniently largely out of use, it became common
for the entertainment industry to use 555 numbers in fiction. Wikipedia makes
the claim that the telephone industry had specifically recommended 555 numbers
for this use in the '60s, and while this is rather thinly sourced, it's not
hard to believe as any odd person in a technical role at a telephone company
might have suggested 555 as an exchange with extremely few assigned numbers.</p>
<p>In any case, the use of 555 numbers for fiction was somewhat informal. This
changed in 1994, when the telephone industry regretted leaving an entire
exchange out of use and formed a working group which allowed 555 numbers to
be assigned to nationwide communications services. The idea was that 555
numbers would have the unusual property of working nationwide when dialed as
only seven digits, somewhat like an early version of SMS short codes.</p>
<p>Because the use of 555 numbers in fiction was longstanding, the working group
explicitly reserved numbers starting 555-01 for use in fiction. This, in 1994,
is when this practice became formalized---but only for those 100 numbers.</p>
<p>In practice the 555 service as imagined was unsuccessful, and in the 2010s the
use was eliminated more or less by handshake agreement. Much like the pre-1994
state, the only valid phone numbers in the 555 exchange are 555-1212 for
directory assistance, and 555-4334. This latter number is apparently still
assigned for a nationwide use but no one specifies <em>what</em> use.</p>
<p>I did a bit of digging, and... came up empty. 555-4334 in a number of area
codes turns up nothing from the CNAM service I use. Similar attempts with
a couple of validation/carrier lookup vendors returned different types of
useless results. I haven't found any mention of the number in old newspapers,
with the interesting exception of some newspapers listing their classified
ads with exclusively 555 numbers, including 4334.</p>
<p>It was not an unusual practice at the time for newspapers to provide special
"voice mail box" numbers for classified ads, but to my knowledge the use of 555
was not typical.  The first newspapers to do so were almost all in Utah, which
hints that it may have originated as a choice by a local telco, potentially
Mountain Bell but maybe more likely an independent. I will do some more digging
into this over time. It's interesting in that it suggests a major use of 555
numbers which no document I've seen on the history of the exchange mentions.
This practice doesn't seem to have been eliminated until the 1994 reallocation.</p>
<p>I also learned that in 2009 you could get a rebate of $7,555 or $4,334 on a new
Dodge Nitro. Isn't OCR fun?</p>
<p>Finally, I located an older FCC report (dated 1997) that lists 555-4334 as
allocated to MCI mail, an early e-mail service. MCI mail access was initially
by modem, and so it's possible that 555-4334 was used as an access number,
although an 800 number was also provided for this purpose and 4334 is not
mentioned anywhere I can find as an access number. An interesting feature of
MCI Mail was its ability to forwarded email to postal addresses (by printing and
mailing it) or by fax or teletype, so I speculate that 555-4334 may have been
used as a return number for TTY messages, since the TTY integration was
apparently bidirectional. In any case, another document noted that 555-4334 was
permitted to remain in service until that service ended, which may have been an
allowance due to the fact that MCI was a telephone carrier (and thus had
greater sway over the working group) and that replacing the number may have
been technically difficult.</p>
<p>Today, it remains the case that only 555-01xx is properly allocated for
fictional use. However, the 555 exchange as a whole is as dead (or considering
the use by newspapers, much  more dead) than ever before, so it remains common
to use the entire 555 exchange in fiction.</p>
<p>Oddly, the 555 NPA (rather than exchange) is allocated for similar
applications, but as far as I can tell it is not in use.</p>
<p>The failure of the post-1994 use of 555 for a "short dialing service" reflects
a larger series of telco failures that has left some other special prefixes.
In the '90s, a great deal of attention was directed towards "non-geographic"
dialing. Because the telephone system connected the nation together, why not
have a method of telephone dialing which is independent of geography? Well, as
it turns out, there are several reasons, but this didn't stop anyone from
trying.</p>
<p>Although there were a hodgepodge of other attempts, the first major
non-geographic dialing scheme is contained in the special 700 NPA (area code).
This NPA was allocated as a direct result of the breakup of the Bell system for
use directly by interexchange (long-distance) carriers, since all existing
numbering ranges were allocated to the exchange (local) carriers. The primary
service offered in this range was "EasyReach 700" from AT&amp;T, which was
basically carrier-managed "follow-me."</p>
<p>Follow-me is a common feature of business telephone systems that allows a call
to a given number (extension or DID) to be directed to one or more real
extensions depending on the location of the intended recipient. For example, a
call to a professional might go to their desk or to an assistant depending on
whether they are in the office, while an auto mechanic might have a call to a
general contact number ring at the front desk or in the shop depending on where
they are.</p>
<p>EasyReach 700 moved this same concept from the PABX to the telephone network,
making it possible for follow-me to span the nation and making it accessible to
businesses without an (expensive) PABX. For example, a consumer with two
different homes could get a 700 number and set it to forward to whichever house
they were staying in, while a traveling salesman could set their 700 number
to forward to whichever hotel they were staying in.</p>
<p>EasyReach was a failure. There were several reasons, but the most significant
relates to the billing climate of the time. Today, unlimited long-distance is
so ubiquitous that the issue may not be obvious, or you might naively assume
that AT&amp;T had found a way to resolve the long distance cost issue. They did
not---in fact, they came up with something worse. The owner of a 700 number
could set it up to either bill forward (to the caller) or reverse (to the
callee). This meant that the caller of a 700 number had virtually no way to
determine whether the call would be free or charged at long-distance rate, and
this was a huge deterrent to use of these numbers.</p>
<p>Today, this and other uses of the 700 NPA have all died out, leaving 700
a nearly empty NPA. Like other empty NPAs, 700 is sometimes hijacked for
special uses by non-mainstream carriers and corporate phone systems. If my
hazy memory is correct, the 700 NPA was used by GE's interoffice leased-line
long distance network when I briefly worked for a GE business. Wikipedia
says that WalMart still uses it this way.</p>
<p>Since the 700 NPA was such a success, AT&amp;T naturally decided to do it again.
In 1993, NANP allocated the 500 NPA to Personal Communications Service (PCS),
not to be confused with Personal Communications Service (PCS). In fact, the
same term was allocated to two completely different purposes by two different
telecom organizations within a few years. The latter refers to a set of
services offered by a wireless network, e.g. Sprint PCS, while the former
refers to...  EasyReach 700 all over again, except for now it's called True
Connections.</p>
<p>True Connections failed for the exact same reasons as EasyReach 700, and was
officially eliminated in 2000, but by this point AT&amp;T had already largely
replaced it with a service using 800 numbers which were of course always
reverse billed...  which you and I might think is obviously what they should
have done in the first place, but back in the '90s toll-free and non-geographic
were viewed as being different animals. It seems to have taken AT&amp;T a long time
to catch on to the fact that the realities of long-distance billing required
that they be closely linked.</p>
<p>The concept of PCS (the non-geographic dialing one) did not die out with True
Connections, and additional NPAs were allocated to the same purpose,
generally in the format of 5 followed by the same digit twice, much like 800.
500 numbers continue to be non-geographic and the billing situation remains
odd, but that hasn't stopped the use of 500 for certain uses like modem banks
for ISPs and some calling cards. Very few 500 numbers remain in use today
despite the multiple allocated 500 codes, and due to the billing issues it's
common for outbound calls to 500 numbers to be blocked. Similar to 700, it's
not unusual for 500 to be used for internal purposes, although this is probably
less of a good idea since PCS services in the 500 NPA have not officially been
ended.</p>
<p>500 and related PCS area codes (500 has a surprising number of overlays
considering how obscure its usage is) also see use for other miscellaneous
telco applications. For example, the 588 area code, also assigned to PCS, was
(and may still be) …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://computer.rip/2021-02-20%20555%20500%20710%20etc.html">https://computer.rip/2021-02-20%20555%20500%20710%20etc.html</a></em></p>]]>
            </description>
            <link>https://computer.rip/2021-02-20%20555%20500%20710%20etc.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26211060</guid>
            <pubDate>Sun, 21 Feb 2021 05:27:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Get a Taiwan Gold Card]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26210967">thread link</a>) | @harporoeder
<br/>
February 20, 2021 | https://notebook.wesleyac.com/taiwan-gold-card/ | <a href="https://web.archive.org/web/*/https://notebook.wesleyac.com/taiwan-gold-card/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section></section><section><p>The <a href="https://taiwangoldcard.com/">Taiwan Gold Card</a> is a combined visa, re-entry permit, open work permit and residence permit for Taiwan, valid for up to three years. It’s designed to bring skilled professionals into Taiwan, and if you’ve made more than ~$67k USD/year<label for="sn-1"></label><span>All of the prices are denominated in the law in New Taiwan Dollars, and have been converted into USD at October 2020 rates for this post. The threshold for eligibility is that you make more than $160,000 NTD/month.</span> at any point in the past three years you’re trivially eligible.<label for="sn-2"></label><span>There are also trickier ways to apply, such as proving your expertise in one of the eligible fields: Science and Technology, Economy, Education, Culture and Arts, Sports, Finance, Law, or Architecture. However, the bar for proving expertise is quite high (probably similar to an O-1 visa in the United States, depending on the category).</span> There is no lottery, anyone who is eligible can get approved within a couple months. If you’ve met the income requirement, it’s currently one of the easiest ways to get to Taiwan, and the visa it provides you allows you to enter Taiwan regardless of the COVID-19 situation in your country of origin. This post will explain the process for getting a Gold Card, including several tips that aren’t written down in any official documentation.</p><p>The most important tip is this: if you’re applying via your income, you should apply in the “Economy” category, <em>even if you think a different category describes your work better</em>. The other categories (especially Science and Technology) look for proof of income <strong>and</strong> proof of expertise, despite the law stating that only one is necessary. The Ministry of Economic Affairs, unlike the Ministry of Science and Technology, does things by the books and will approve you solely for the income requirement even if you are not an economist.<label for="sn-3"></label><span>As of February 2021, this may be changing — the Ministry of Economic Affairs appears to be rejecting people who work in fields not related to economics. The Ministry of Science and Technology says that they are now accepting people who work at any company related to science/technology and meet the salary requirement, but it’s too early to tell how strict they are about this.</span> Applying via income in a category other than “Economy” may cause your application to be rejected, and will likely incur a delay in processing your Gold Card request.<label for="sn-4"></label><span>If you’ve already applied in a category other than Economy, you have two options: You can either cancel your current application and submit a new one, paying the application fee a second time, or you can wait the month or two until your application is seen by the relevant ministry, and if it is rejected, change categories then by calling <a href="https://foreigntalentact.ndc.gov.tw/en/cp.aspx?n=D927ED39BDAE7478&amp;s=DA2F7BC919B77E24">Mr.&nbsp;Huang</a> and explaining the situation (which will not incur the extra fee).</span></p><p>In order to apply, you’ll need a picture of your passport with at least 6 months remaining on it before expiration, a copy of your W-2 or other document that shows your income<label for="sn-5"></label><span>Note that your paystubs are not a valid form of proof. If you don’t have a W-2 or similar tax document showing your full income (for instance, if you were only employed for part of the year), you may be able to get by with a document from your work stating what your income is, but I haven’t heard from anyone who’s done this. The guidelines specify a “月薪” which is translated as “monthly salary” — but this does not necessarily match the legal definition of salary as used in the US, which implies an employment relationship and a W-2. Things that are “月薪”: definitely W-2, possibly 1099-MISC. Things that are not 月薪: income reported on 1099-K, such as taking payment through card networks or being an Uber driver.</span>, a passport-style photo of yourself (a selfie taken in front of a white wall is fine), and a credit card or other method of payment to pay the couple hundred USD application fee.<label for="sn-6"></label><span>The application fees vary from ~$108 - $323 USD ($3,100 - $9,260 NTD) depending on your nationality, the duration of your Gold Card, and whether you apply from inside Taiwan or not. You can find how much the fee is for you in <a href="https://foreigntalentact.ndc.gov.tw/en/cp.aspx?n=AC68F9FBABA3F294&amp;s=4D07D9F9F687B542">this FAQ</a>. I paid $282 USD as an American applying for a 3-year Gold Card from outside of Taiwan.</span> Once you’ve got all that together, go to the <a href="https://coa.immigration.gov.tw/coa-frontend/four-in-one/entry/golden-card">application website</a>, click “I want to apply”, then “Self application”, and create an account. Then start a new Gold Card application and fill out the form. It’ll ask for your address in Taiwan, you can leave it blank if you don’t know where you’ll be staying (which you probably don’t, yet).<label for="sn-7"></label><span>Once you do have an address in Taiwan, you should go to the <abbr title="National Immigration Agency">NIA</abbr> within 30 days to get a new copy of your Gold Card with the address on it.</span> It’ll also ask if you want to apply in Taiwan or at a consulate/embassy overseas - you should probably pick whatever consulate you’re closest to, I went with the Taipei Economic and Cultural Office in San Francisco. You will also need to pick how long you want the card to be valid for, from 1-3 years. There is very little downside to picking a longer duration — it costs a trivial amount more, and is no harder to get.<label for="sn-8"></label><span>A possible reason to pick 2 years is if you want to reapply for a 3-year gold card in 2 years, using your current year’s salary — if, for instance, you expect to not be making enough for the salary cutoff once you move to Taiwan. I have no idea if this actually works (the Gold Card program is fairly new, so there aren’t many stories of people reapplying), but it’s worth considering, especially seeing as it could get you enough time to be able to apply for an <a href="https://www.immigration.gov.tw/5475/5478/141465/141808/152932/">APRC</a>.</span></p><p>Once you’ve submitted your application, you’ll need to wait a few weeks for it to be processed — it took mine 25 days, and I think anywhere from 3 weeks to a month is pretty normal. Either you’ll get a message asking you to provide additional documentation (unlikely, if you’re using a W-2 and submitted everything correctly), or you’ll get an email asking you to submit your passport to the application location that you’ve selected.</p><p>Once you get to the passport submission stage, it can be a bit unclear what to do — you can’t visit in person in most places due to COVID-19<label for="sn-9"></label><span>in the United States, at least.</span>, and the SF TECO at least does not answer phone calls or emails<label for="sn-10"></label><span>While the main SF TECO phone number goes unanswered, if you have Gold Card questions, you can call Angela at (415) 364-5632 and she should be able to help. The line is often busy, but if you leave a message she’ll get back to you.</span> (although other TECOs may be better, you should at least try calling your local TECO). What you need to do is pretty simple, however: just mail in the passport submission notice PDF that you can download on the application website (Download → Download Passport Submission Notice), your passport or a notarized copy of your passport, and a self-addressed USPS priority mail return envelope.</p><p>If like me, you don’t want to send in your physical passport, getting a notarized copy is pretty easy.<label for="sn-11"></label><span>In California, at least — laws vary by state, make sure to check your local laws.</span> Make a document with a copy of your passport<label for="sn-12"></label><span>I used a photo that I scaled so the passport was 1:1 with real life when printed, since I don’t have a scanner.</span> (just the first page and signature is fine, no need to include the stamp pages) and the statement “I, &lt;my name&gt;, affirm that the attached is a true and complete copy of the document which it purports to represent.” Then take that document to a notary and have them notarize your signature on it.</p><p>Once the TECO receives your envelope with the passport, you should get an email saying you’re approved, and only waiting on getting the physical Gold Card in the mail. If you need to fly to Taiwan before it arrives, you can print out a form that will allow you to board the plane on the application website, under “Download → Download Resident Authorization.” If you do this, you’ll need to pay a ~$18 USD ($500 NTD) fee to replace the card once you get to Taiwan. About 21 days after you get the email saying you’re approved<label for="sn-13"></label><span>I was told it would be at most 21 days, but it took 25 for me.</span> you should get a call from the TECO asking to schedule an appointment for you to pick up your Gold Card.<label for="sn-14"></label><span>They may say that this is an “interview,” but you’ve already been approved, so you shouldn’t worry too much about that. They asked me what I do for work, what connections I have in Taiwan, when I planned to go, and where I planned to stay.</span></p><p>Note that the start date (and thus the end date) of your Gold Card is determined by the day the passport is approved, so you may want to be a little strategic if you apply for a Gold Card significantly before you want to go to Taiwan — you can get all the way to the passport submission stage, then wait until a month or so before you plan to leave to actually submit your passport. Obviously there’s a tradeoff here — there’s some risk that your passport won’t be processed in time, but it may be worth considering, depending on your situation.</p><p>If you have any problems during this process, you can find a person to call for assistance on <a href="https://foreigntalentact.ndc.gov.tw/en/cp.aspx?n=D927ED39BDAE7478&amp;s=DA2F7BC919B77E24">this contact page</a>. Dialing Taiwan phone numbers from the United States can be tricky, but the thing that worked for me was dialing +886, then the area code with the leading zero omitted, then the rest of the number. Dialing 011 before the number or leaving on the zero in the area code would cause the call to fail for me, but your carrier may be different.</p><p>You might also want to check out the <a href="https://foreigntalentact.ndc.gov.tw/en/Content_List.aspx?n=6501F7D3D7CCA8A0">official website</a>, <a href="https://foreigntalentact.ndc.gov.tw/en/cp.aspx?n=AC68F9FBABA3F294&amp;s=4D07D9F9F687B542">official FAQ</a>, <a href="https://tw.forumosa.com/t/employment-gold-card-for-some-foreigners/159653">thread on the forumosa forum</a>, the <a href="https://taiwangoldcard.com/application-faq/">unofficial FAQ</a>, or <a href="http://blog.tomfifield.net/2018/05/how-to-apply-for-taiwans-immigration.html">Tom Fifield’s blog post</a>.</p><p>Enjoy Taiwan!</p><p><i>Thanks to Brandon Liu for providing additional information about valid sources of income.</i></p></section><section><p><a href="https://notebook.wesleyac.com/">☙</a></p></section></article></div>]]>
            </description>
            <link>https://notebook.wesleyac.com/taiwan-gold-card/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26210967</guid>
            <pubDate>Sun, 21 Feb 2021 05:07:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modern software controls dependencies because it helps software authors]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 48 (<a href="https://news.ycombinator.com/item?id=26210576">thread link</a>) | @todsacerdoti
<br/>
February 20, 2021 | https://utcc.utoronto.ca/~cks/space/blog/tech/BundlingHelpsSoftwareAuthors | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/tech/BundlingHelpsSoftwareAuthors">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Modern software controls dependencies because it helps software authors</h2>

	<p><small>February 20, 2021</small></p>
</div><div><p>Over on Twitter <a href="https://twitter.com/thatcks/status/1363196953065099265">I had a hot take</a>:</p>

<blockquote><p>Hot take: Every distribution packager who's saying "you shouldn't
bundle dependencies" is implicitly telling software authors "you
should do more work for us and limit the features (and reliability) of
your software".</p>
</blockquote>

<p>(This was sparked by reading <a href="https://blogs.gentoo.org/mgorny/2021/02/19/the-modern-packagers-security-nightmare/">The modern packagerâ€™s security
nightmare</a>,
<a href="https://lobste.rs/s/zb1c4k/modern_packager_s_security_nightmare">via</a>.
I'm not exactly on one side or the other, but <a href="https://twitter.com/thatcks/status/1363263921960980485">I do think distributions
should be honest about what they're asking for</a> and I
don't think they're going to get it.)</p>

<p>This hot take is a bit too narrow. What really matters is software
authors and modern software systems restricting the versions of
dependencies (for both maximum and minimum versions). Explicit or
implicit bundling on top of that just makes the problem slightly worse
for distributions.</p>

<p>For software authors, restricting the versions of dependencies that
they work with reduces the amount of work that they have to do,
both to test against a range of versions and to either forever chase
after whatever changes those dependencies like to make or to forever
limit what features of dependencies they use to ones available in
old versions (and sometimes both at once). In theory, both testing
and chasing after changes would be dealt with by <a href="http://semver.org/">Semantic Versioning</a> (if everyone followed it), at least for a
single program. In practice, not only are people fallible but also
<a href="https://utcc.utoronto.ca/~cks/space/blog/tech/SemverHasLimits">people have a different understanding of what semantic versioning
means</a> because semantic versioning is ultimately
a social thing, not a technical one. Our field's history has shown
(sometimes vividly) that if software authors allow versions of
dependencies to move on them, soon or later things break and the
software author has to fix it.</p>

<p>(There's also the practical issue that not all dependencies even
claim or agree to follow semantic versioning in the first place.)</p>

<p>For distributors, once software authors start restricting versions
the distributor has both an upgrade problem and a distribution
problem. On the upgrade side, dealing with an issue in a program may now
require persuading it to accept a new version of a dependency. On the
distribution side, it's now likely that you'll have multiple programs
that have different version requirements for the same dependency. At the
very least this multiplies the packages involved.</p>

<p>(Many distributions also have package system design problems that
restricts the range of versions of things that they can have installed
at the same time. Even under <a href="http://semver.org/">Semantic Versioning</a>, this is a
problem for the distribution the moment that you have two programs
with conflicting version requirements that can't both be packaged and
installed at the same time.)</p>

<p>However, there's no free lunch here. What distributors want when
they ask for unbundled dependencies without version restrictions is
for software authors to do the work to accept any version of their
dependencies, or at least any version that falls within <a href="http://semver.org/">Semantic
Versioning</a>, and for dependencies to faithfully follow semver and
also make it possible to package and install different major versions
(at least) at the same time. <strong>Accepting a broad version range of your
dependencies is actual work</strong>, even apart from the limitations it may
impose on what your code and your software can do. Software authors and
the creators of software package ecosystems (like Go and Rust) are not
refusing to do this because they don't like distributions; they are
refusing to do this because they have found, over and over again, that
this doesn't really work and does cause problems for software authors
(and often users of programs) in the long run.</p>

<p>(The software community that's gone through this experience the
most visibly is Go, which started out with intrinsically unversioned
dependencies that were used universally across all your programs
by default and wound up switching to strongly versioned dependencies
after many people had many problems with that initial state. Go
experienced so many problems that <a href="https://utcc.utoronto.ca/~cks/space/blog/programming/FallibleSemverAndMVS">they adopted an unusually strict
and software author friendly versioning scheme</a>.)</p>

<p>It's popular for people to argue that software authors should be doing
this work anyway even if the distributions weren't asking for it,
so them actually doing it is no big deal. This is quite convenient
for the people making the argument, but it doesn't make the argument
valid. Software authors don't owe anyone any work what so ever; they
do whatever work serves their needs and is interesting to them. With
limited time and interest, it's both rational and proper for software
authors to optimize for their own development.</p>

<p>PS: Generally distributions also want some combination of all software
to update to the latest version of their dependencies and for
dependencies to explicitly support older versions. This is also extra
work for software authors, especially when the distribution also wants
it to happen for older versions of programs.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/tech/BundlingHelpsSoftwareAuthors</link>
            <guid isPermaLink="false">hacker-news-small-sites-26210576</guid>
            <pubDate>Sun, 21 Feb 2021 03:36:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[3D Map of All 10M Buildings in the Netherlands – Colored by Age]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26209951">thread link</a>) | @elsewhen
<br/>
February 20, 2021 | https://parallel.co.uk/netherlands/#13.8/52.365/4.9/0/40 | <a href="https://web.archive.org/web/*/https://parallel.co.uk/netherlands/#13.8/52.365/4.9/0/40">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="info">
		<p><strong>Building ages in the Netherlands</strong></p>
		<p>All 10 million or so buildings in the Netherlands. Building heights and date of construction from 3D BAG (Basisregistratie Adressen en Gebouwen) data.</p>
		<p>2020</p>
		<p>2015</p>
		<p>2000</p>
		<p>1975</p>
		<p>1950</p>
		<p>1925</p>
		<p>1900</p>
		<p>1850</p>
		<p>1800</p>
		<p>1750</p>
		<p>1700 or earlier</p>
		<p>Not known</p>

		

		<p>Data: 3D BAG by 3D Geoinformation Group, TU Delft, January 2020: <a href="http://3dbag.bk.tudelft.nl/" target="_blank" rel="noopener">3dbag.bk.tudelft.nl</a></p>

		<!--<p>Thanks to inspiration from: <a href="http://code.waag.org/buildings/" target="_blank" rel="noopener">code.waag.org/buildings</a> and <a href="https://nieneb.nl/online-projects/gebouwen/" target="_blank" rel="noopener">nieneb.nl/online-projects/gebouwen</a>.</p>-->
		<p>Thanks to <a href="https://mapbox.com/" target="_blank">Mapbox</a> for their generous support in keeping this resource live.</p>
	</div></div>]]>
            </description>
            <link>https://parallel.co.uk/netherlands/#13.8/52.365/4.9/0/40</link>
            <guid isPermaLink="false">hacker-news-small-sites-26209951</guid>
            <pubDate>Sun, 21 Feb 2021 01:26:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mysterious Death of Lisa Rosenthal (2012)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26209754">thread link</a>) | @mellosouls
<br/>
February 20, 2021 | http://www.williamahearn.com/lisa.html | <a href="https://web.archive.org/web/*/http://www.williamahearn.com/lisa.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><strong>Time has washed up more than some lost films</strong> as regards the life of Fritz Lang. Recent research has cast a new light on Lang’s first marriage and while the private lives of screen personalities rarely interest me, in this case it has already affected how his films are being viewed by at least by one recent biographer. The events concerning his first wife occurred either in the post-production of “Das wandernde Bild” or “Vier um die Frau” or the pre-production of “Der müde Tod,” although even that is a guess.</p><p><strong>Lang’s first wife was named Lisa Rosenthal</strong> although no source is absolutely positive about that and she is described – in some accounts – as a “Russian from Vilnius.” Little else is known about her and it is not her life that is fascinating as much as it is her death. One reference that I found was in Robert A. Armour’s <em>Fritz Lang</em>, published by Twayne Publishers in 1977. Armour wrote, “[Fritz] Lang divorced his first wife and married [Thea] von Harbou.”</p><p><strong>Lang didn’t divorce Lisa Rosenthal.</strong> Rosenthal died of a gunshot wound to the chest and therein hangs a tale that Lang left behind when he fled from Germany in 1933. The story is told in Patrick McGilligan’s <em>Fritz Lang: The Nature of the Beast </em>and the recap goes something like this: Thea von Harbou was married to actor Rudolf Klien-Rogge and when her affair with Lang – that was no secret to the film community – heated up, she moved out of her home with Klien-Rogge and moved into the same apartment building as Fritz Lang. One day Lisa Rosenthal comes home unexpectedly and finds Lang and Harbou engaged in “violent petting,” as Lang described it later, on the sofa. Shortly thereafter, Rosenthal is found dead in the bathtub from a gunshot to the chest delivered by Lang’s WWI sidearm that he kept as a memento. Phone calls were made but it wasn’t the police that were called immediately and suspicions flew. Harbou and Lang swore that Rosenthal shot herself and there was little the police could do and Lang and Harbou were charged with denial of assistance although that charge was soon dropped.&nbsp;</p><div id="Layer4">
    <p><strong>Suspicion fell on Lang that he had shot Lisa Rosenthal</strong> and émigrés brought that story to Hollywood years later although only in hushed tones and never when Lang was within earshot. No one has ever suggested that Thea von Harbou was in any way involved although obviously, if Lang killed his wife, von Harbou was some sort of accomplice even if only after-the-fact. What’s interesting in all of this is that so little is known about von Harbou. </p>
    <p><strong>There is talk that after “Der müde Tod”</strong> was finished Lang was committed to an insane asylum for a brief stay. Lang would mention in interviews that he visited insane asylums as a part of his research. The truth is lost to time. At this point all that remains is stories and gossip. Patrick McGilligan wrote, “No record of an inquest – no record, even, of Lisa Rosenthal’s death – could be found in the course of research for [<em>Fritz Lang: The Nature of the Beast</em>].” Studio executives – including Erich Pommer – showed up at the scene and much like Hollywood moguls they influenced and cajoled the police to protect their star. </p>
    <p><strong>Frederick Ott in <em>The Films of Fritz Lang</em></strong> describes the death of the unnamed Frau Lang as an “apparent” suicide. Lotte Eisner in <em>Fritz Lang </em>states that Lang’s wife “committed suicide” and wrote in her biography <em>Ich hatte einst ein schones Vaterland: Memoiren</em>, published in 1984 and never translated into English: “[Lisa Rosenthal] then went into the bedroom [sic] and shot herself.” </p>
    <p><strong>McGilligan states: “Perhaps suicide</strong> was such a familiar condition in his mind that it leapt to Fritz Lang’s tongue unbidden when the police arrived at his apartment on that fateful day, asking him to explain the inexplicable.” McGilligan bases this assumption on the content of Lang’s work stating that: “From the first film to the last, guilt, complicity, false accusation, irredeemable crime, inadvertent killings, and suicide haunt Lang’s work.” All of that is true except for the “guilt” and McGilligan seems to skip over the murders in Lang’s films. What “leapt to Fritz Lang’s tongue” implies that something else had occurred and there is only one other possibility. McGilligan then writes: “After the death of Lisa Rosenthal, the litany [of suicides in Lang’s films] is compelling.” McGilligan then lists the suicides in Lang’s films and describes them as “unmistakable thematic statements.” </p>
    <p><strong>According to one study of Weimar films,</strong> the three major themes in the top 25% of the films were guilt [about starting WWI], generational issues and suicide. Suicide was common in the films of Weimar as it would be later in films in France and Asia. It began to wane in the years of the Hays Code in the United States.</p>
    <p><strong>To attempt to solve whether Lisa Rosenthal’s death</strong> was murder or suicide by the content of the films Fritz Lang made after the event – especially the Hollywood films where Lang rarely had influence over the script – doesn’t make for a compelling case. Especially since a list of murders in Lang’s films would run even longer than a list of suicides. </p>
    <p><strong>Then again, a pistol being</strong> within grasping range shows up in Lang’s films quite often. McGilligan has produced an excellent biography of Lang and presents research that helps to understand the times that Lang lived. Where the author isn’t as impressive is in his understanding of the films and filmmaking as an art (eg, his description of the ending of “Spione” is inaccurate). There is no Hollywood ending to this story, no convenient set of symbols pointing to a resolution. There is only a dead woman with a gunshot chest wound bleeding in a bathtub and a lot of unanswered questions. That’s the end of the story. </p>
    <p><a href="http://www.williamahearn.com/thea.html">The Enigma of Thea von Harbou</a></p>
    
    
  </div></div>]]>
            </description>
            <link>http://www.williamahearn.com/lisa.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26209754</guid>
            <pubDate>Sun, 21 Feb 2021 00:55:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Boeing 747 loses parts after take-off from Maastricht – 2 injuries]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 17 (<a href="https://news.ycombinator.com/item?id=26209611">thread link</a>) | @UncleOxidant
<br/>
February 20, 2021 | https://www.aviation24.be/airlines/longtail-aviation/boeing-747-loses-parts-after-take-off-from-maastricht-diverts-to-liege-two-people-injured/ | <a href="https://web.archive.org/web/*/https://www.aviation24.be/airlines/longtail-aviation/boeing-747-loses-parts-after-take-off-from-maastricht-diverts-to-liege-two-people-injured/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><strong><img loading="lazy" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident.jpg" alt="" width="1920" height="1080" srcset="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident.jpg 1920w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-300x169.jpg 300w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-1024x576.jpg 1024w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-768x432.jpg 768w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-1536x864.jpg 1536w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-696x392.jpg 696w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-1068x601.jpg 1068w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-747x420.jpg 747w, https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Longtail_accident-600x338.jpg 600w" sizes="(max-width: 1920px) 100vw, 1920px">A Boeing 747-400BCF freighter registered VQ-BWT (MSN 24975) flying for Bermuda-based Longtail Aviation took off from runway 21 at Maastricht Aachen Airport this Saturday afternoon at 16:11 (UTC+1). The aeroplane operating flight LGT5504 to New York JFK experienced heavy damage on an engine shortly after take-off. Engine parts (turbine blades) fell in the nearby village of Meerssen resulting in 2 people slightly injured and damage to cars.</strong></p>
<p>According to a spokesman for the South Limburg Safety Region, an explosion has probably occurred in engine number one of the aircraft. Metal parts such as turbine blades have come down around the Limburg town of Meerssen.</p>
<p>Debris hit an elderly woman, who was slightly injured as a result. A child also burned his fingers on a piece of metal.</p>
<p>In Meerssen several houses and cars got damaged by falling debris.</p>
<p>The thirty-year-old plane immediately diverted on three engines to Liège airport, where it landed safely after making a number of laps over the Ardennes to burn fuel and lose weight.</p>
<p><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1.jpg" alt="blank" width="1001" height="610" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1.jpg 1001w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1-300x183.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1-768x468.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1-696x424.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1-689x420.jpg 689w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Capture-1-600x366.jpg 600w" sizes="(max-width: 1001px) 100vw, 1001px"></p>
<p>According to aviation expert Joris Melkert, it is a special incident: “<em>I cannot remember a recent case in the Netherlands where parts of an engine fell down.</em>”</p>
<p>The cause of the incident is unknown. The engine may have sucked up something causing the turbine blades to break. This is what the debris looks like, says the airport spokesman.</p>
<p>The police are calling on people to leave the debris behind, in connection with recording the damage.</p>
<p>The Onderzoeksraad voor Veiligheid (Dutch Safety Board) has started an exploratory investigation.</p>
<p>Spotter Aubrey Verbaere was present at Liège Airport when the Longtail Boeing 747 landed and provided <em>Aviation24.be</em> with the following pictures:</p>
<figure id="attachment_107911" aria-describedby="caption-attachment-107911"><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-scaled.jpg" alt="blank" width="2048" height="1365" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-scaled.jpg 2048w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-300x200.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-1024x683.jpg 1024w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-768x512.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-1536x1024.jpg 1536w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-696x464.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-1068x712.jpg 1068w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-1920x1280.jpg 1920w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-630x420.jpg 630w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862657303-600x400.jpg 600w" sizes="(max-width: 2048px) 100vw, 2048px"><figcaption id="caption-attachment-107911">© Aubrey Verbaere</figcaption></figure>
<figure id="attachment_107912" aria-describedby="caption-attachment-107912"><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643.jpg" alt="blank" width="1280" height="1280" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643.jpg 1280w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-300x300.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-1024x1024.jpg 1024w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-150x150.jpg 150w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-768x768.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-696x696.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-1068x1068.jpg 1068w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-420x420.jpg 420w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-600x600.jpg 600w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725643-100x100.jpg 100w" sizes="(max-width: 1280px) 100vw, 1280px"><figcaption id="caption-attachment-107912">© Aubrey Verbaere</figcaption></figure>
<figure id="attachment_107914" aria-describedby="caption-attachment-107914"><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364.jpg" alt="blank" width="1280" height="1280" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364.jpg 1280w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-300x300.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-1024x1024.jpg 1024w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-150x150.jpg 150w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-768x768.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-696x696.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-1068x1068.jpg 1068w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-420x420.jpg 420w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-600x600.jpg 600w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856725364-100x100.jpg 100w" sizes="(max-width: 1280px) 100vw, 1280px"><figcaption id="caption-attachment-107914">© Aubrey Verbaere</figcaption></figure>
<figure id="attachment_107906" aria-describedby="caption-attachment-107906"><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231.jpg" alt="blank" width="1280" height="1280" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231.jpg 1280w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-300x300.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-1024x1024.jpg 1024w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-150x150.jpg 150w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-768x768.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-696x696.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-1068x1068.jpg 1068w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-420x420.jpg 420w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-600x600.jpg 600w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613856726231-100x100.jpg 100w" sizes="(max-width: 1280px) 100vw, 1280px"><figcaption id="caption-attachment-107906">© Aubrey Verbaere</figcaption></figure>
<figure id="attachment_107909" aria-describedby="caption-attachment-107909"><img onload="Wpfcll.r(this,true);" src="https://wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" data-wpfc-original-src="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-scaled.jpg" alt="blank" width="2048" height="1365" data-wpfc-original-srcset="//wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-scaled.jpg 2048w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-300x200.jpg 300w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-1024x683.jpg 1024w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-768x512.jpg 768w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-1536x1024.jpg 1536w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-696x464.jpg 696w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-1068x712.jpg 1068w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-1920x1280.jpg 1920w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-630x420.jpg 630w, //wwwaviation24be-q41r3jh.stackpathdns.com/wp-content/uploads/2021/02/Photo_1613862659838-600x400.jpg 600w" sizes="(max-width: 2048px) 100vw, 2048px"><figcaption id="caption-attachment-107909">© Aubrey Verbaere</figcaption></figure>
<p><b>Longtail Aviation</b> is a charter airline based in St. George’s, Bermuda and was formed in August 1999.</p>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr">Longtail Aviation cargo 747 loses engine parts over Meerssen after failure on departure from Maastricht Airport in The Netherlands. Aircraft landed safely in Liege. <a href="https://t.co/b22hB9QgKF">https://t.co/b22hB9QgKF</a> <a href="https://t.co/NYps5GoBzT">pic.twitter.com/NYps5GoBzT</a></p>
<p>— Breaking Aviation News &amp; Videos (@breakingavnews) <a href="https://twitter.com/breakingavnews/status/1363175798438510603?ref_src=twsrc%5Etfw">February 20, 2021</a></p></blockquote>

</div></div>]]>
            </description>
            <link>https://www.aviation24.be/airlines/longtail-aviation/boeing-747-loses-parts-after-take-off-from-maastricht-diverts-to-liege-two-people-injured/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26209611</guid>
            <pubDate>Sun, 21 Feb 2021 00:35:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Offensive Windows IPC Internals 1: Named Pipes]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26208165">thread link</a>) | @whoopdedo
<br/>
February 20, 2021 | https://csandker.io/2021/01/10/Offensive-Windows-IPC-1-NamedPipes.html | <a href="https://web.archive.org/web/*/https://csandker.io/2021/01/10/Offensive-Windows-IPC-1-NamedPipes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-content">
    <h2 id="contents">Contents:</h2>
<ul id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#named-pipe-messaging" id="markdown-toc-named-pipe-messaging">Named Pipe Messaging</a>    <ul>
      <li><a href="#data-transfer-modes" id="markdown-toc-data-transfer-modes">Data Transfer Modes</a></li>
      <li><a href="#overlapping-pipe-io-blocking-mode--in-out-buffers" id="markdown-toc-overlapping-pipe-io-blocking-mode--in-out-buffers">Overlapping Pipe I/O, Blocking mode &amp; In-/Out Buffers</a></li>
    </ul>
  </li>
  <li><a href="#named-pipe-security" id="markdown-toc-named-pipe-security">Named Pipe Security</a>    <ul>
      <li><a href="#impersonation" id="markdown-toc-impersonation">Impersonation</a></li>
      <li><a href="#impersonating-a-named-pipe-client" id="markdown-toc-impersonating-a-named-pipe-client">Impersonating a Named Pipe Client</a></li>
    </ul>
  </li>
  <li><a href="#attack-surface" id="markdown-toc-attack-surface">Attack Surface</a>    <ul>
      <li><a href="#client-impersonation" id="markdown-toc-client-impersonation">Client Impersonation</a>        <ul>
          <li><a href="#attack-scenario" id="markdown-toc-attack-scenario">Attack scenario</a></li>
          <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
          <li><a href="#misleading-documentation" id="markdown-toc-misleading-documentation">Misleading Documentation</a></li>
          <li><a href="#implementation" id="markdown-toc-implementation">Implementation</a></li>
        </ul>
      </li>
      <li><a href="#instance-creation-race-condition" id="markdown-toc-instance-creation-race-condition">Instance Creation Race Condition</a>        <ul>
          <li><a href="#attack-scenario-1" id="markdown-toc-attack-scenario-1">Attack scenario</a></li>
          <li><a href="#prerequisites-1" id="markdown-toc-prerequisites-1">Prerequisites</a></li>
          <li><a href="#implementation-1" id="markdown-toc-implementation-1">Implementation</a></li>
        </ul>
      </li>
      <li><a href="#instance-creation-special-flavors" id="markdown-toc-instance-creation-special-flavors">Instance Creation Special Flavors</a>        <ul>
          <li><a href="#unanswered-pipe-connections" id="markdown-toc-unanswered-pipe-connections">Unanswered Pipe Connections</a></li>
          <li><a href="#killing-pipe-servers" id="markdown-toc-killing-pipe-servers">Killing Pipe Servers</a></li>
        </ul>
      </li>
      <li><a href="#peeknamedpipe" id="markdown-toc-peeknamedpipe">PeekNamedPipe</a>        <ul>
          <li><a href="#prerequisites-2" id="markdown-toc-prerequisites-2">Prerequisites</a></li>
          <li><a href="#implementation-2" id="markdown-toc-implementation-2">Implementation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
  <li><a href="#the-series-part-2" id="markdown-toc-the-series-part-2">The Series: Part 2</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>This post marks the start of a series of posts about the internals and interesting bits of various Windows based <strong>I</strong>nter-<strong>P</strong>rocess-<strong>C</strong>ommunication (IPC) technology components. Initially this series will cover the following topics:</p>
<ul>
  <li>Named Pipes</li>
  <li>LPC</li>
  <li>ALPC</li>
  <li>RPC</li>
</ul>

<p>A few IPC technology components are therefore left out, but I might append this series sometime and include for example some of these:</p>
<ul>
  <li>Window Messages</li>
  <li>DDE (which is based on Window Messages)</li>
  <li>Windows Sockets</li>
  <li>Mail Slots</li>
</ul>

<p>Alright so let’s get down to it with Named Pipes…</p>

<p>Although the name might sound a bit odd pipes are a very basic and simple technology to enable communication and share data between two processes, where the term <strong>pipe</strong> simply describes a section of shared memory used by these two processes.<br>
To term this correctly right from the beginning, the IPC technology we’re speaking about is called ‘pipes’ and there are two types of pipes:</p>
<ul>
  <li>Named Pipes</li>
  <li>Anonymous Pipes</li>
</ul>

<p>Most of the time when speaking about pipes you’re likely referring to Named Pipes as these offer the full feature set, where anonymous pipes are mostly used for child-parent communications. This also implies: Pipe communication can be between two processes on the same system (with named and anonymous pipes), but can also be made across machine boundaries (only named pipes can talk across machine boundaries). As Named Pipes are most relevant and support the full feature set, this post will focus only on Named Pipes.</p>

<p>To add some historical background for Named Pipes: Named Pipes originated from the OS/2 times. It’s hart to pin down the exact release date named pipes were introduced to Windows, but at least it can be said that it must have been supported in Windows 3.1 in 1992 - as this support is stated in the <a href="https://archive.org/details/win_dos_dev_jrnl_v4n4_apr_93/page/n23/mode/2up?q=Pipes">Windows/DOS Developer’s Journal Volume 4</a>, so it’s fair to assume named pipes have been added to Windows in the early 1990’s.</p>

<p>Before we dive into the Named Pipe internals, please take note that a few code snippets will follow that are taken from my public <a href="https://github.com/csandker/InterProcessCommunication-Samples/tree/master/NamedPipes/CPP-NamedPipe-Basic-Client-Server">Named Pipe Sample Implementation</a>. Whenever you feel you want some more context around the snippets head over to the code repo and review the bigger picture.</p>

<h2 id="named-pipe-messaging">Named Pipe Messaging</h2>

<p>Alright so let’s break things down to get a hold of Named Pipe internals. When you’ve never heard of Named Pipes before imaging this communication technology like a real, steel pipe - you got a hollow bar with two ends and if you shout something into one end a listener will hear your words on the other end. That’s all a Named Pipe does, it transports information from one end to another.<br>
If you’re a Unix user you sure have used pipes before (as this is not a pure Windows technology) with something like this:
<code>cat file.txt | wc -l</code>. A command that outputs the contents of <code>file.txt</code>, but instead of displaying the output to STDOUT (which could be your terminal window) the output is redirected (“piped”) to the input of your second command <code>wc -l</code>, which thereby counts the lines of your file. That’s an example of an anonymous pipe.</p>

<p>A Windows based Named Pipe is as easily understood as the above example. To enable us to use the full feature set of pipes, we’ll move away from Anonymous Pipes and create a Server and a Client that talk to each other.<br>
A Named Pipe simply is an Object, more specifically a <strong>FILE_OBJECT</strong>, that is managed by a special file system, the <strong>Named Pipe File System (NPFS)</strong>:</p>

<p><img src="https://csandker.io/public/img/2021-01-10-Offensive-Windows-IPC-1-NamedPipes/NamedPipe_KernelObject.png" alt="NamedPipe KernelObject"></p>

<p>When you create a Named Pipe, let’s say we call it ‘fpipe’, under the hood you’re creating a FILE_OBJECT with your given name of ‘fpipe’ (hence: <u>named</u> pipe) on a special device drive called ‘pipe’.<br>
Let’s wrap that into a something practical. A named pipe is created by calling the WinAPI function <strong>CreateNamedPipe</strong>, such as with the below [<a href="https://github.com/csandker/InterProcessCommunication-Samples/blob/master/NamedPipes/CPP-NamedPipe-Basic-Client-Server/CPP-Basic-PipeServer/CPP-Basic-PipeServer.cpp#L88">Source</a>]:<br></p>

<div><div><pre><code><span>HANDLE</span> <span>serverPipe</span> <span>=</span> <span>CreateNamedPipe</span><span>(</span>
    <span>L"</span><span>\\\\</span><span>.</span><span>\\</span><span>pipe</span><span>\\</span><span>fpipe"</span><span>,</span>	<span>// name of our pipe, must be in the form of \\.\pipe\&lt;NAME&gt;</span>
    <span>PIPE_ACCESS_DUPLEX</span><span>,</span> <span>// open mode, specifying a duplex pipe so server and client can send and receive data</span>
    <span>PIPE_TYPE_MESSAGE</span><span>,</span>	<span>// MESSAGE mode to send/receive messages in discrete units (instead of a byte stream)</span>
    <span>1</span><span>,</span>			<span>// number of instanced for this pipe, 1 is enough for our use case</span>
    <span>2048</span><span>,</span>		<span>// output buffer size</span>
    <span>2048</span><span>,</span>		<span>// input buffer size</span>
    <span>0</span><span>,</span>			<span>// default timeout value, equal to 50 milliseconds</span>
    <span>NULL</span>		<span>// use default security attributes</span>
<span>);</span>
</code></pre></div></div>

<p>For now the most interesting part of this call is the <code>\\\\.\\pipe\\fpipe</code>.<br>
C++ requires escaping of slashes, so language independent this is equal to <code>\\.\pipe\fpipe</code>. The leading ‘\.’ refers to your machines global root directory, where the term ‘pipe’ is a symbolic link to the NamedPipe Device.</p>

<p><img src="https://csandker.io/public/img/2021-01-10-Offensive-Windows-IPC-1-NamedPipes/NamedPipe_SymbolicLink.png" alt="NamedPipe SymbolicLink"></p>

<p>Since a Named Pipe Object is a FILE_OBJECT, accessing the named pipe we just created is equal to accessing a “normal” file.<br>
Therefore connecting to a named pipe from a client is therefore as easy as calling <code>CreateFile</code>[<a href="https://github.com/csandker/InterProcessCommunication-Samples/blob/master/NamedPipes/CPP-NamedPipe-Basic-Client-Server/CPP-Basic-PipeClient/CPP-Basic-PipeClient.cpp#L58">Source</a>]:</p>

<div><div><pre><code><span>HANDLE</span> <span>hPipeFile</span> <span>=</span> <span>CreateFile</span><span>(</span><span>L"</span><span>\\\\</span><span>127.0.0.1</span><span>\\</span><span>pipe</span><span>\\</span><span>fpipe"</span><span>,</span> <span>GENERIC_READ</span> <span>|</span> <span>GENERIC_WRITE</span><span>,</span> <span>0</span><span>,</span> <span>NULL</span><span>,</span> <span>OPEN_EXISTING</span><span>,</span> <span>0</span><span>,</span> <span>NULL</span><span>);</span>
</code></pre></div></div>

<p>Once connected reading from a pipe just needs a call to <code>ReadFile</code>[<a href="https://github.com/csandker/InterProcessCommunication-Samples/blob/master/NamedPipes/CPP-NamedPipe-Basic-Client-Server/CPP-Basic-PipeClient/CPP-Basic-PipeClient.cpp#L65">Source</a>]:</p>

<div><div><pre><code><span>ReadFile</span><span>(</span><span>hPipeFile</span><span>,</span> <span>pReadBuf</span><span>,</span> <span>MESSAGE_SIZE</span><span>,</span> <span>pdwBytesRead</span><span>,</span> <span>NULL</span><span>);</span>
</code></pre></div></div>

<p>Before you can read some data off a pipe, you want your server to write some data to it (which you can read.). That is done by calling - who would have guessed it - <code>WriteFile</code>[<a href="https://github.com/csandker/InterProcessCommunication-Samples/blob/master/NamedPipes/CPP-NamedPipe-Basic-Client-Server/CPP-Basic-PipeServer/CPP-Basic-PipeServer.cpp#L110">Source</a>]:</p>

<div><div><pre><code><span>WriteFile</span><span>(</span><span>serverPipe</span><span>,</span> <span>message</span><span>,</span> <span>messageLenght</span><span>,</span> <span>&amp;</span><span>bytesWritten</span><span>,</span> <span>NULL</span><span>);</span>
</code></pre></div></div>

<p>But what actually happens when you “write” to a pipe?<br>
Once a client connects to your server pipe, the pipe that you created is no longer in a listening state and data can be written to it. The user land call to <code>WriteFile</code> is dispatched to kernel land, where <code>NtWriteFile</code> is called, which determines all the bits and pieces about the Write-Operation, e.g. which device object is associated with the given file, whether or not the Write-Operation should be made synchronous (see section <a href="#overlapping-pipe-io-blocking-mode--in-out-buffers">Overlapping Pipe I/O, Blocking mode &amp; In-/Out Buffers</a>), the I/O Request Packet (IRP) is set up and eventually <em>NtWriteFile</em> takes care that your data is written to the file. In our case the specified data is not written to an actual file on disk, but to a shared memory section that is referenced by the file handle return from <code>CreateNamedPipe</code>.</p>

<p>Finally - as mentioned in the introduction - Named Pipes can also be used over a network connection across system boundaries.<br>
There are no additional implementations needed to call a remote Named Pipe server, just make sure that your call to <a href="https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-createfilea">CreateFile</a> specifies an IP or hostname (as with the example above).<br>
Let’s make a guess: What network protocol will be used when calling a remote pipe server? …. drum rolls … absolutely unsurprising it is <strong>SMB</strong>.<br>
An SMB connection is made to the remote server, which is by default initialized by a negotiation request to determine the network authentication protocol. Unlike with other IPC mechanisms, such as with RPC, you as a server developer can not control the network authentication protocol as this is always negotiated through SMB. Since Kerberos is the preferred authentication scheme since Windows 2000, Kerberos will be negotiated if possible.<br>
<strong>Note:</strong> From a client perspective you can effectively choose the authentication protocol by choosing to connect to a hostname or to an IP. Due to the design of Kerberos it cannot handle IPs very well and as such if you choose to connect to an IP address the result of the negotiation will always be NTLM(v2). Whereas when you connect to a hostname you will most likely always end up using Kerberos.</p>

<p>Once the authentication is settled, the actions that client and server want to perform are once again just classic file actions, that are handled by SMB just as any other file operation, e.g. by starting a ‘Create Request File’ request as shown below:</p>

<p><img src="https://csandker.io/public/img/2021-01-10-Offensive-Windows-IPC-1-NamedPipes/NamedPipe_RemoteRead.png" alt="NamedPipe RemoteRead"></p>

<h3 id="data-transfer-modes">Data Transfer Modes</h3>

<p>Named pipes offer two basic communication modes: byte mode and message mode.</p>

<p>In <strong>byte mode</strong>, messages travel as a continuous stream of bytes between the client and the server. This means that a client application and a server application do not know precisely how many bytes are being read from or written to a pipe at any given moment. Therefore a write on one side will not always result in a same-size read on the other. This allows a client and a server to transfer data without caring about the size of the data.</p>

<p>In <strong>message mode</strong>, the client and the server send and receive data in discrete units. Every time a message is sent on the pipe, it must be read as a complete message. If you read from a server pipe in message mode, but your read buffer is too small to hold all of the data then the portion of data that fits in your buffer will be copied over to it, the remaining data stays in the server’s shared memory section and you’ll get an error 234 (0xEA, ERROR_MORE_DATA) to indicate that there is more data to fetch.</p>

<p>A visual comparison of the messages modes is shown below, taken from “Network programming for Microsoft Windows” (1999):
<img src="https://csandker.io/public/img/2021-01-10-Offensive-Windows-IPC-1-NamedPipes/NamedPipe_MessageModes.png" alt="NamedPipe Message Modes"></p>

<h3 id="overlapping-pipe-io-blocking-mode--in-out-buffers">Overlapping Pipe I/O, Blocking mode &amp; In-/Out Buffers</h3>

<p>Overlapping I/O, Blocking mode and In-/Out Buffers are not amazingly important from a security standpoint, but being aware that these exists and what they mean can aid understanding, communication, building and debugging named pipes. Therefore I will add these concepts here briefly.</p>

<p><strong>Overlapping I/O</strong><br>
Several Named Pipe related functions, such as <a href="https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-readfile">ReadFile</a>, <a href="https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-writefile">WriteFile</a>, <a href="https://docs.microsoft.com/en-us/windows/win32/api/namedpipeapi/nf-namedpipeapi-transactnamedpipe">TransactNamedPipe</a>, and <a href="https://docs.microsoft.com/en-us/windows/win32/api/namedpipeapi/nf-namedpipeapi-connectnamedpipe">ConnectNamedPipe</a> can …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://csandker.io/2021/01/10/Offensive-Windows-IPC-1-NamedPipes.html">https://csandker.io/2021/01/10/Offensive-Windows-IPC-1-NamedPipes.html</a></em></p>]]>
            </description>
            <link>https://csandker.io/2021/01/10/Offensive-Windows-IPC-1-NamedPipes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26208165</guid>
            <pubDate>Sat, 20 Feb 2021 21:29:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Immortality vs. Society (2016)]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 82 (<a href="https://news.ycombinator.com/item?id=26207864">thread link</a>) | @notpushkin
<br/>
February 20, 2021 | https://grishka.me/immortality-vs-society/ | <a href="https://web.archive.org/web/*/https://grishka.me/immortality-vs-society/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content" role="main">
<div>
<div id="post-20">

<div>
<p><img width="1040" height="547" src="https://grishka.me/wp-content/uploads/2016/01/immortality-sm.jpg" alt="immortality" srcset="http://grishka.me/wp-content/uploads/2016/01/immortality-sm-300x158.jpg 300w, http://grishka.me/wp-content/uploads/2016/01/immortality-sm-768x404.jpg 768w, http://grishka.me/wp-content/uploads/2016/01/immortality-sm-1024x539.jpg 1024w, http://grishka.me/wp-content/uploads/2016/01/immortality-sm.jpg 1040w" sizes="(max-width: 1040px) 100vw, 1040px"></p><p>…and how to convert people into immortalism in a few simple steps.</p>
<p>There were countless times when I’ve heard something like “I’ll leave this behind” in different forms from different people. Or even as a question: “what are you going to leave behind?”. People say this being serious, they don’t have a clue. This socially-accepted principle, saying that a finite life is okay and aging is a good argument in any controversy and a respectable excuse for virtually anything, is wedged deeply and firmly into their heads. But…<span id="more-20"></span></p>
<p>If you’re not alive, you’re nothing. And the world doesn’t exist for you, too. So does everything (or everybody) you’ve left there, because <strong>you</strong> don’t exist in the first place. You’ll become nothing. Void. Zero. What a null pointer points to.&nbsp;Just try to imagine this. You’re reading this blog post right now, but in a single moment it disappeared. As did a device you’re reading it on, as did a room where you’re doing that, as did a&nbsp;server where it’s hosted, as did the city, as did the country, as did the planet, as did you… <strong>Nothing</strong>. Everything just turned into nothing, including yourself. See that? Great, let’s move on.</p>
<p>This is a main argument when there are no valid arguments left. It is typically used as follows:<br>
— Whenever you’ll have children…<br>
— I’m not going to have any children.<br>
— How come? Are you alright?<br>
— Yes, I’m perfectly fine. I just don’t see any point in that. I’ll better improve myself.<br>
— But wait, you need to procreate.<br>
— For what exactly?<br>
— <strong>Who are you going to leave behind?&nbsp;</strong><span>(this can come in different forms, including “who’s going to bring flowers to your grave”, but the meaning is always identical)</span><br>
That’s all, every following argument is invalid. After this, I usually start reciting the beginning of this post.</p>
<p>If I’m going to cease to exist, it doesn’t matter what would be in a world without me. Because if I’m not going to exist in it, it’s not going to exist for me; that’s like a full-featured end of the world. If I’m not going to cease to exist, there’s also no reason to have children: they’re only needed because of mortality, they require inadequate amounts of time, they add a crapload of new responsibilities and ultimately make a human a slave of circumstances for at least 15 years. For what? For nothing, just because. Don’t seek a rational explanation, you won’t find it. It doesn’t exist.</p>
<p>One another argument that people really like using: “<strong>they’ll do for you everything you want/dream of</strong>“, or even “<strong>children are our immortality</strong>“. And it’s not valid, too. They won’t do for you things you want; they’re separate personalities, not your own helper robots. They’ve got their own life and their own missions in it, and it’s in no way a sequel to any of parents’ lives. It’s like a new branch in a version control system, if you know what I mean. A branch that will develop by itself and, most likely, will never get back to master, no matter how much you’d like to think the opposite. It’s much more useful both for yourself and for the humanity to improve yourself instead of teaching basic things to a brand-new human that’s going to take his own route, and that route likely won’t match yours. So no, children are not our immortality. They are the best way to kill time (and eventually yourself).</p>
<p>— <strong>But evolution…</strong><br>
Seriously? No. It’s no longer needed. Imagine this world as it was 300 years ago. There was&nbsp;no internet and computers, no electricity, no cars, planes, and trains, many of those things we can’t live without today just weren’t invented back then. All of this had been invented or discovered in those last 300 years. Impressive, isn’t it? And the scientific and technical progress isn’t going to stop. Can you remotely guess what new will be introduced in the XXI century? So can’t I. Do you see how fast the humanity is developing? It does so by itself, without any external intervention and without any help from the nature. Natural evolution was intended to adapt species to the environment but it’s not of much help for a modern human because he can adapt to anything himself, and do so a billion times faster and more efficiently. People are going to the space because they’ve invented rockets and space suits, something the natural evolution won’t ever do. We’ve already superseded the evolution, so we don’t actually need it any more.</p>
<p>— <strong>But that’s natural…</strong><br>
Are you living for yourself or for the nature? If the latter, immediately quit your internet, find yourself a partner of the opposite gender and go to an uninhabited island, without any belongings. It’ll be a success if you hit 30 years living there. It’s natural to reach puberty, pass some genetic material along and die, not to read posts in my blog. The nature isn’t our friend. It’s our enemy. Yes, it gave us our lives, it gave us this planet with everything we can find on it. But you also shouldn’t forget that the nature stands behind, among all other things, the most terrible diseases humanity had ever seen, natural disasters and, ultimately, the fact that the human life is finite. If the nature doesn’t care about humans, why should humans care about it?</p>
<p>— <strong>But it’ll be boring to live forever!</strong><br>
You’ve got tired of your life, it became dull and everything around you drives you crazy? Take a nap. Play some video games. Read some reddit. Chat with your friends. Learn a new skill. Go traveling somewhere. But please, don’t say that the life can become boring to the stage where you’ll want to terminate it. Because <strong>you can’t have unsolvable problems as long as you’re alive</strong>, whereas a dead person has exactly one such problem: they have no way to come back to life.&nbsp;So no, it won’t become that boring. Any problems go away as time goes by, except the aforementioned one.</p>
<p>So, you can really come to one conclusion from all of this:</p>
<h2>The meaning of life is to keep on living.</h2>

</div>
 
</div>
</div>



</section></div>]]>
            </description>
            <link>https://grishka.me/immortality-vs-society/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26207864</guid>
            <pubDate>Sat, 20 Feb 2021 20:54:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with Code Coverage for Golang]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26207550">thread link</a>) | @mooreds
<br/>
February 20, 2021 | https://about.codecov.io/blog/getting-started-with-code-coverage-for-golang/ | <a href="https://web.archive.org/web/*/https://about.codecov.io/blog/getting-started-with-code-coverage-for-golang/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">

    <div>

        <div>

            <div>
            
                
                    <p><img src="https://about.codecov.io/wp-content/uploads/2021/02/4.-Getting-started-with-code-coverage-for-Golang.svg" alt="" loading="lazy"></p><p><a href="https://golang.org/" target="_blank" rel="noopener noreferrer">Golang</a>, developed in 2009, is one of the most popular programming languages in the world. At Codecov, it currently sits as the language of choice for over 14% of our open-source repositories, or as the 3rd most widely used language. This blog post will show you how to get a simple Golang project up and running with tests and code coverage with Codecov. You can view the entire source code of this post at our <a href="https://github.com/codecov/example-go" target="_blank" rel="noopener noreferrer">example repository</a>.</p>
<hr>
<h2>Getting started with Goloang</h2>
<p>We will start with a simple calculator app that exposes two functions: <code>Add</code> and <code>Subtract</code>. Both functions accept two integer arguments and return an integer. We can paste the code below into a file called <code>calculator.go</code>.</p>
<p><code>calculator.go</code></p>
<pre><code>package calculator

func Add(x, y int) int {
  return x + y
}

func Subtract(x, y int) int {
  return x - y
}
</code></pre>
<p>Now, let’s add a test for our <code>Add</code> function. We can take advantage of Go’s built-in testing libraries to do this. Open a new file called <code>calculator_test.go</code></p>
<p><code>calculator_test.go</code></p>
<pre><code>package calculator

import "testing"

func TestAdd(t *testing.T) {
  if got, want := Add(1, 2), 3; got != want {
    t.Errorf("add method produced wrong result. expected: %d, got: %d", want, got)
  }
}
</code></pre>
<p>The test file will call the <code>Add</code> function and compare its output with our expected value of 3. The test helps ensure that if we change the function later, it will still work as expected.</p>

<h2>Run your tests and get coverage locally</h2>
<p>You can run the test locally by calling <code>go test</code> This should bring up the following successful output.</p>
<pre><code>--&gt; go test
PASS
ok  	{{ SRC_DIRECTORY }}	0.178s
</code></pre>
<p>We can, again, use Golang’s built-in coverage tools to start collecting code coverage</p>
<pre><code>--&gt; go test -race -covermode=atomic -coverprofile=coverage.out
PASS
coverage: 50.0% of statements
ok  	{{ SRC_DIRECTORY }}	0.160s
</code></pre>
<p>Although <code>covermode</code> and <code>race</code> are not required parameters, they are highly recommended by the Codecov team. <code>coverpofile</code> ensures that we collect coverage, and the metrics will be saved to the file specified, in our case, <code>coverage.out</code>.</p>

<h2>How to upload to Codecov</h2>
<p>Now that we are able to run coverage locally, we can begin uploading these reports to Codecov. We will be taking advantage of Codecov’s <a href="https://docs.codecov.io/docs/about-the-codecov-bash-uploader" target="_blank" rel="noopener noreferrer">bash uploader</a> to do this. We will not go into detail about setting up a pipeline, but Codecov will work with any CI/CD. Below, we show you basic configurations for <a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions</a> and <a href="https://circleci.com/" target="_blank" rel="noopener noreferrer">CircleCI</a>.</p>
<p><b>GitHub Actions</b></p>
<pre><code>name: Test and coverage

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 2
      - uses: actions/setup-go@v2
        with:
          go-version: '1.14'
      - name: Run coverage
        run: go test -race -coverprofile=coverage.out -covermode=atomic
      - name: Upload coverage to Codecov
        run: bash &lt;(curl -s https://codecov.io/bash)
</code></pre>
<p><b>CircleCI</b></p>
<pre><code>version: 2.1

jobs:
  build:
    docker:
      - image: circleci/golang:1.15
    steps:
      - checkout
      - run:
          name: Run tests and coverage
          command: go test -race -coverprofile=coverage.out -covermode=atomic
      - run:
          name: Upload coverage to Codecov
          command: bash &lt;(curl -s https://codecov.io/bash)

workflow:
  version: 2.1
  build-test:
    jobs:
      - build
</code></pre>
<p>You will notice that both configurations call <code>bash &lt;(curl -s https://codecov.io/bash)</code> which will handle uploading the report to Codecov.</p>
<p>If we commit these files to a pull request and run our CI, we expect Codecov to comment on our PR with coverage information like below:</p>
<p><img loading="lazy" src="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.16-300x271.png" alt="" width="300" height="271" srcset="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.16-300x271.png 300w, https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.16.png 755w" sizes="(max-width: 300px) 100vw, 300px"></p>
<h2>Covering uncovered code</h2>
<p>You will notice that our <code>calculator.go</code> file is only 50% covered which matches with our local coverage. So how can we see what lines aren’t covered? We can click the report from the comment to browse our report</p>
<p><img loading="lazy" src="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.21-300x146.png" alt="" width="300" height="146" srcset="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.21-300x146.png 300w, https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.21-1024x499.png 1024w, https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.21-768x374.png 768w, https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.41.21.png 1163w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>The light green background indicates that all of the above code was added. The darker green bar shows us that that line has been covered by tests, while the red is still uncovered. This makes sense as we only wrote a test for our <code>Add</code> function. The <code>Subtract</code> function still needs a test.</p>
<p>We can add the following code to our test file</p>
<p><code>calculator_test.go</code></p>
<pre><code>func TestSubtract(t *testing.T) {
  if got, want := Subtract(3, 2), 1; got != want {
    t.Errorf("Subtract method produced wrong result. expected: %d, got: %d", want, got)
  }
}
</code></pre>
<p>After committing the above snippet, we see that Codecov shows us that all of our code is covered.</p>
<p><img loading="lazy" src="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.42.27-300x292.png" alt="" width="300" height="292" srcset="https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.42.27-300x292.png 300w, https://about.codecov.io/wp-content/uploads/2021/01/Greenshot-2021-01-29-17.42.27.png 757w" sizes="(max-width: 300px) 100vw, 300px"></p>
<hr>
<p>Now that you have uploaded your first coverage report to Codecov, you can upgrade your code coverage by configuring Codecov <a href="https://docs.codecov.io/docs/codecov-yaml" target="_blank" rel="noopener noreferrer">settings</a>, adding <a href="https://docs.codecov.io/docs/flags" target="_blank" rel="noopener noreferrer">flags</a>, or viewing the <a href="https://docs.codecov.io/docs/graphs#sunburst" target="_blank" rel="noopener noreferrer">sunburst graph</a> to identify code areas in need of test coverage. If you have or are interested in a more complex setup, please reach out to us on our <a href="https://community.codecov.io/" target="_blank" rel="noopener noreferrer">community boards</a>.</p>

                    
                
                                <h2>Comments</h2>
                <hr>
                
                
                

            </div>

        </div>
        
    </div>

</div></div>]]>
            </description>
            <link>https://about.codecov.io/blog/getting-started-with-code-coverage-for-golang/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26207550</guid>
            <pubDate>Sat, 20 Feb 2021 20:19:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Star Wars: Galaxies Crafting]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26207494">thread link</a>) | @syoc
<br/>
February 20, 2021 | https://benovermyer.com/post/2012/star-wars-galaxies-crafting/ | <a href="https://web.archive.org/web/*/https://benovermyer.com/post/2012/star-wars-galaxies-crafting/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
		<p>Posted here on this day Sunday, Dec. 9, 2012 C.E.</p>
		<p>Crafting in MMORPGs is a troublesome, complex issue. The ability for players to create things with which to equip, clothe, and house themselves is difficult for developers to implement, and many companies have tried a variety of ways to try and address this feature. My first real experience with crafting in MMORPGs was in Star Wars: Galaxies, and that has colored my view on crafting ever since. This is not to say that SWG had a perfect system, but it came closest out of all the MMOs I’ve played. This is chiefly due to the following eight factors. This is a fairly long read, so grab a cup of coffee, put on your bunny slippers, and sit back in your favorite chair.</p>
<h2 id="i-item-decay">I: Item Decay</h2>
<p>In early Star Wars: Galaxies, items decayed over time and would eventually become unusable. If an item ever became unusable, it was done - you couldn’t repair it, like in other games since. Even if you repaired items before they became unusable, you were never able to bring it back to full durability. The item’s maximum durability decreased every time you repaired it. The effect this had on the player economy was to keep crafters in business perpetually. There was always a demand for things like weapons and armor, because those players who engaged in combat were always wearing out their gear. Vehicles, after they were added to the game, similarly decayed and could be outright destroyed. I remember distinctly being very upset whenever I lost a swoop, since that meant a long walk back to town and around 20,000 credits spent to replace it. This system of item decay has never been replicated in any other game.</p>
<h2 id="ii-customization">II: Customization</h2>
<p>When crafting an item in SWG, you were able to choose its final appearance in a few ways. Clothing was the most customizable, with a variety of colors available. Weapons could have different models with different barrels (in the case of blasters). Armor, similarly, could have multiple colors. The skill level of the crafter determined to what degree the item could be customized. This meant that high-level crafters were in high demand for those players who cared about appearances, and could charge more for their services. Oddly enough, item customization as far as appearance goes has never been done very well in MMORPGs. That crown goes to Blacklight: Retribution, a free-to-play online FPS with excellent weapon customization. The game lets you change barrels, stocks, triggers, bodies, accessories, and colors of all of the above.</p>
<h2 id="iii-experimentation">III: Experimentation</h2>
<p>Part of the crafting process in Star Wars: Galaxies allowed you to improve the quality of a crafted item before finishing it. You could choose multiple areas to try and improve; in the case of blasters, for example, you could experiment on increasing damage, range, or accuracy. Depending on the crafter’s skill and the materials used to create the item, experimentation could greatly enhance, marginalize, or utterly wreck a crafted item’s stats. No other game since has implemented an item-modification system quite like this.</p>
<h2 id="iv-resource-variation">IV: Resource Variation</h2>
<p>Every resource in Star Wars: Galaxies had a unique set of statistics. Different kinds of item recipes used different sets of these statistics to determine the item’s qualities. Additionally, resource spawns in the game universe varied by planet and were in limited areas and densities. Every week, a new set of resources would spawn throughout the universe, and the old spawn areas were gone forever. This meant no resource would ever appear more than once, and really good resources thus became very precious. Because of this system, harvesting itself became a lucrative business. Some players devoted multiple accounts just to collecting the best resources and selling them to other players. Some games have come close to this kind of variation. Oddly, the one that has nearly replicated SWG’s resource variation is an MMOFPS rather than an MMORPG - Firefall. Like SWG, Firefall’s resources appear for a limited time, have multiple statistics that are randomly generated, and never appear twice.</p>
<h2 id="v-automated-harvesting">V: Automated Harvesting</h2>
<p>This feature made a world of difference to the crafting economy. Players could craft automated harvesters and place them in the world. Then, the player that placed the harvester chose one of the resources available in that area from the harvester’s command panel, and it would steadily recover a certain amount of that resource every minute or so. Harvesters required fuel to operate, which itself was a resource that could be harvested. Harvesters could be experimented on and improved in multiple areas, just like other items, and so a niche market existed just for harvesters. Harvesters had an administration list that allowed the owner to designate other players as being able to turn on, fuel, and change the target resource for them. Since every character only had 10 plots, and each harvester took 1 plot, in order to field large numbers of harvesters a player would need to either have multiple accounts or engage the services of other players. This further supported a niche market for harvesting. No other game has ever had automated harvesting, although the idea of harvesting as a lucrative in-game “profession” has been done also by EVE Online.</p>
<h2 id="vi-mass-production">VI: Mass Production</h2>
<p>In addition to automated harvesters, players could craft and place factories. These buildings took power and maintenance credits like harvesters. They also had a hopper of limited space for ingredients and for generated items. At the end of the crafting process, players had the option of creating a blueprint instead of a finished item. They could take that blueprint, and stacks of the ingredients used to produce the item, and place them in a factory. Once the factory was turned on, it would generate copies of that item until it ran out of power, maintenance credits, ingredients, or available space in the output hopper. Not only was this a godsend for crafters looking to mass produce items for sale, it also was a requirement to create certain items. Many of the higher-end crafted items required “identical” components - that is, stacks of items created by a factory from a blueprint. No other game has ever done this. While not a requirement for a good crafting system, it’s necessary to support sandbox games that rely on player crafted items, since small populations can still create large numbers of items.</p>
<h2 id="vii-loot-sucks">VII: Loot Sucks</h2>
<p>Players that chose to engage in PvE gameplay in SWG relied heavily on the crafters. Items looted from humanoid NPCs were never very good, and creatures had no loot at all until later in SWG’s life. This meant that player-crafted gear was the only option for combatants, and required players to work together in order to play the game. Lone wolves rarely did well. No MMORPG other than early SWG has ever done this again. Even SWG itself later did away with this, preferring to give players vendor trash, crafting components, and crafting blueprints.</p>
<h2 id="viii-non-instanced-housing">VIII: Non-Instanced Housing</h2>
<p>Non-instanced housing itself is not particularly relevant to crafting. However, the way it was implemented in SWG makes it vital to that ecosystem. All player-owned buildings were player-crafted. Harvesters, factories, houses, guild halls, city halls, shuttleports, med centers, and taverns were all created by players. And they were very expensive to build, at least at first. When player cities were first added to the game, I was my guild’s Architect (an in-game profession dedicated solely to crafting buildings). Leading up to the release of player cities, we stockpiled large quantities of the resources needed to build the various city buildings. As soon as the update went live, I sat at my structure crafting station and put together a city hall deed, and we rushed to be one of the player cities on our planet. At the time, only ten cities could be established on any given planet. We were too late to be one of the cities on Corellia, so we hurriedly traveled to its moon, Tarus, and set down roots a kilometer northwest of the Imperial outpost there. In order to craft that city hall, and any high-end items, I need a personal crafting station of the appropriate type for the item. Public crafting stations couldn’t stand in for them. Personal crafting stations needed to be placed in a player house, and they took a number of advanced components. They had a direct impact on the final quality of items, so all serious crafters absolutely had to have access to a house with all the different types of personal crafting stations. This led to most guilds having dedicated “crafting houses” that were so equipped, with backpacks placed in them with large quantities of the various resources needed for crafting. No other game has ever had non-instanced housing with such a rich connection to player crafting - both in the building and usage of them. That brings me to the end of my list. I wish I could find a game that had all of these features. SOE may be bringing all of this back with EQ Next, but until we get a science-fiction MMORPG that has all of the above, I don’t think we’ll ever come close to what Star Wars: Galaxies had. Here’s to hoping, though!</p>

	</div></div>]]>
            </description>
            <link>https://benovermyer.com/post/2012/star-wars-galaxies-crafting/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26207494</guid>
            <pubDate>Sat, 20 Feb 2021 20:13:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We live in an age of distractions, dealing with constant mental stimulus]]>
            </title>
            <description>
<![CDATA[
Score 271 | Comments 93 (<a href="https://news.ycombinator.com/item?id=26207184">thread link</a>) | @iamsanteri
<br/>
February 20, 2021 | https://www.lostbookofsales.com/age-of-distractions/ | <a href="https://web.archive.org/web/*/https://www.lostbookofsales.com/age-of-distractions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.lostbookofsales.com/content/images/size/w300/2021/02/lbs-distractions-santeri-liukkonen.jpg 300w,
                            https://www.lostbookofsales.com/content/images/size/w600/2021/02/lbs-distractions-santeri-liukkonen.jpg 600w,
                            https://www.lostbookofsales.com/content/images/size/w1000/2021/02/lbs-distractions-santeri-liukkonen.jpg 1000w,
                            https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg" alt="Age of distractions">
            </figure>

            <section>
                <div>
                    <p>The book is exciting and the story is funny. In fact, I'm learning something new. So much so, that I keep writing down my ideas and shuffling their implications. And suddenly, I realize something. In the past 15-minutes, I've only managed to cover three pages and I'm already thinking about next things I'm supposed to do. Cleaning, picking-up the groceries, doing my excercises, writing a couple of lines of code, watching a movie... </p><p>Is this supposed to be my Saturday off work?</p><p>So I stop and think. When was the last moment that took longer than 10 seconds, where I didn't have an urge to check an app on my phone, see if I got new email, or impulsively do something else?</p><p>By now, where I live, it's been many months of nightly curfews and limitations on travel and social life. I consider myself a very fortunate person to have suffered a relatively small impact from the global pandemic. Nonetheless, I can't stop but think about why my mind feels so exhausted while at the same time requiring a constant stream of stimulus that results in overbearing distraction. </p><p>It was already before the pandemic that I heard my colleagues talking about "<a href="https://en.wikipedia.org/wiki/Digital_detox"><em>digital detox</em></a>" and discussing their efforts to break out of being constantly connected while trying to regain their energy and allowing for some rest. Thus, I surely know that I'm not alone with these thoughts. </p><p>Finally, after subscribing to <a href="https://amzn.to/3alEC3u">Audible</a> last summer, there only remains little time in my day when I am not stimulating my brain in one way or another. It was some sort of a panic that hit me when I realized that I am no longer able to enjoy a thing that I've always enjoyed so much, reading a great book at length. </p><p>Today I called with a good friend of mine and he said: </p><p><em>"Yeah right! It's like we must constantly be multitasking or something... Even when I get to playing a Playstation game and it starts to load, I just all the time have to unlock my phone and check what is going on..."</em></p><h2 id="to-observe-and-reflect">To observe and reflect</h2><p>I recently read <a href="https://www.lostbookofsales.com/notes/the-almanack-of-naval-ravikant-by-eric-jorgenson/amp/">a book where Naval describes</a> what meditation means for him, and I cannot help but agree with his way of putting it. </p><p>One only needs to stop and observe his thoughts in a calm state. Your mind is like a monkey in a room, misbehaving and throwing feces all over the walls. It is fascinating how you realize this while trying to focus on your breath and not let your thoughts wander. In a matter of seconds, however, you already catch yourself thinking about entirely something different. When practicing to focus your attention and letting your thoughts pass, this inner monkey seems to eventually calm down and let you achieve a little peace of mind. It is not so easy. </p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-drawing-LBS-1.jpg" alt=""><figcaption>One year into the global pandemic - SL 2020 (LBS)</figcaption></figure><p>After so many months of being limited with our social interactions, it feels like the scariest thing out there is to be left by ourselves. Especially us young people tend to handle this quite badly. Without typical distractions and mental stimulus available throughout our days, our mind starts to seek for something to occupy itself resulting in raised anxiety levels and stress. We are today forced to confront our inner selves like never before. </p><h2 id="so-what">So what?</h2><p>Billions of dollars are invested and brightest specialists are hired each year to engineer new distractions. They fight for every second of our limited attention spans, leading us further astray without us even noticing it. </p><p>When shortest breaks require distraction and only the rarest moments, such as taking a shower, offer a refuge from our electronic devices, how are we supposed to work towards our long-term goals? The type of goals that can only be achieved when managing to work in a state of sustained attention? Rarely do great things in life come in a form of neatly packaged gratification to which we are getting more and more accustomed to. </p><p>Reading reports and hearing on the radio that the general feeling and wellbeing in our societies during these challenging times is again on decline, constant distractions might truly be the enemy that stands in our way of what we ought to achieve.</p><h2 id="fighting-back">Fighting back</h2><p>At some point I read that <a href="https://qz.com/1476157/overworked-south-koreans-are-finding-solace-in-a-fake-prison/">South Koreans already pay to live in a hotel-like "prison"</a> to relieve themselves from digital devices. I'm not quite ready to go that far just yet. </p><p>Admittedly, a cottage in the middle of nowhere in Finland would be the way to go anyways.</p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-mikkeli-LBS.jpg" alt=""><figcaption>Late autumn lakeside view - Year 2016, Finland</figcaption></figure><p>Once upon a time before the pandemic I saw a colleague of mine use his phone as we were picking up lunch, and I couldn't help but ask why was the screen black and white? He told me he does it intentionally to make his handset less attractive, resulting in less tapping around. That struck me as bizarre. How odd, do we really need to resort to such approaches? </p><p>So what were some of the smaller changes I did to improve my wellbeing? </p><p>Unlike South Koreans with their voluntary confinement, or my friend with his greyscale screen, I started with some less drastic measures. These small changes proved enormously helpful. </p><p>First of all, I opened the screen-time function on my phone and looked through apps that sent me most notifications, proceeding to drastically dial them back. Today, most phones have a feature to limit the screen-time of apps, locking you out after a certain amount of time has passed. This function is plain useless for me or my friends whom I've seen to just enter their pin every single time they wanted to do something. What I did instead was that I just plain and simply uninstalled Instagram. </p><p>I had contemplated to delete it for a long time and almost did it, but instead always settled to just disable the notifications. When I finally did this however, two interesting realizations struck me. </p><p>First thing was that during the initial couple of weeks without the app I was totally surprised at how little I missed it. It literally had never provided me with anything of value, and I only used it to post an occasional update. Why didn't I uninstall it earlier? There was no feeling of missing out. Wow, this realization echoed a feeling that I had after uninstalling 9GAG many years earlier. </p><p>Second, I didn't even notice how those colorful icons on the home-screen invited me to tap on their respective apps as soon as I found myself aimlessly scrolling through my phone. I understood this in a particularly strong way after hiding another app, LinkedIn. Being an important tool for my work, all I did in addition to hiding it from the homescreen was to disable the last types of notifications I ever received from them. Lo' and behold, I now use this application significantly less and it makes a whole world of a difference. </p><p>Simple, easy and fast. Your life will be better for it, just try! Exponential returns of joy are expected if you have apps like Tiktok, Clubhouse, Snapchat, or other such platforms installed or bookmarked, that you can easily subject to the same fate and never look back.</p><p>So far, I'm mostly talking about my precious free time. But what could be some simple and small things that I could do when I'm working on my projects? </p><h2 id="focus-operate-and-enjoy-the-results">Focus, operate and enjoy the results</h2><p>I've written about doing <a href="https://www.lostbookofsales.com/why-to-do-lists-often-stink-and-how-do-the-truly-successful-people-maintain-their-productivity/">an experiment and turning myself into a productivity monster</a> back in 2017, and I've recently re-read the post and carefully re-implemented some of my learnings this year. But then again, it's not about going radical, but rather focusing on some small things that are easy to implement. </p><p>Kill the unnecessary Slack and Teams notifications now! Adjust the surprisingly good defaults that Slack provides and make sure none of them, except for the most important notifications, hit your phone after your working hours are over. </p><p>Use effective time-blocking techniques like <a href="https://alphaefficiency.com/20-minutes-pomodoro-weekly-experiment/">Pomodoro</a> for the less pleasant and repetitive, but still important tasks. This, like many other things, I've also learned from one of my colleagues using it in an effective manner.</p><p>Oh, and of course make sure to consider the following crazy important golden rule of life and the universe:<strong> </strong>don't do anything else while having a one-on-one interaction with someone. Just never do this. </p><p>I catch myself with this one sometimes and no matter how small of a signal, it can still tell something to my counterpart. Such mistakes during limited and valuable interactions in these pandemic-ridden times can eat away from our important professional relationships. When having conversations, focus on them fully and wholeheartedly. Multitask when the time is right. </p><p>Oh, and try drinking less coffee in the mornings while cutting alcohol in the evenings, but you've heard this a million times before. Additionally, to all of you who have small kids at home, I truly salute your efforts and patience getting through with this! </p><h2 id="the-most-desired-skill-of-the-future">The most desired skill of the future</h2><p>What if the most sought after and desired skill of the future will be the ability to best manage our constant distractions and maintain a sustained state of productive focus? </p><p>If we can't manage to control our whims, we won't be able to work effectively towards our long-term goals. I guess it's just that simple. </p><p>The first step is to stop and observe. </p><p>Reflection and brutal honesty with oneself while trying to understand what is happening is critical before driving corrections and adjustments into one's behavior. As our society adjusts to challenges posed by global pandemics, there is a chance for us to walk out of this stronger than before. This is a chance for us to learn more about ourselves than would've otherwise been possible, right? </p><p>I'm only trying to think about something positive in these pandemic-ridden times.</p><p>Now let's get back to work...</p><hr><p><em>Author's comment:</em></p><div><p><em>If you enjoyed this post, consider subscribing for an occasional update. Being hand-made, they'll only serve to make your life a little bit richer. Worst case, you'll be able to unsubscribe at any time </em>😉<em> </em></p><p><em>See you around! </em></p></div><p><em>-S</em></p>
                </div>
            </section>

                </article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lostbookofsales.com/age-of-distractions/">https://www.lostbookofsales.com/age-of-distractions/</a></em></p>]]>
            </description>
            <link>https://www.lostbookofsales.com/age-of-distractions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26207184</guid>
            <pubDate>Sat, 20 Feb 2021 19:49:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Being Present]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26206983">thread link</a>) | @adibhanna
<br/>
February 20, 2021 | https://blog.adibhanna.com/p/on-being-present | <a href="https://web.archive.org/web/*/https://blog.adibhanna.com/p/on-being-present">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3><strong>Thoughts&nbsp;</strong></h3><p>Bitterness is rooter in the past.&nbsp;</p><p>Fear and anxiety are rooted in the future.</p><p>This is today’s struggle. Most people are living in either side of the spectrum, in bitterness of what we experienced or in the fear of what could happen. Time, if approached inaccurately, can rob us of itself.&nbsp;</p><p>No wonder productivity books are so trendy these days, everyone wants to figure out a way to do more and be more, as if by doing so, our lives will have more meaning.&nbsp;</p><p>What if you can be 100% focused on the tasks at hand? What if the work you’re trying to finish is the only thing that you’ll ever do? What if it was the last thing you’ll ever do?&nbsp;</p><p>This sense of urgency is key to keep yourself rooted in the present, the reality that you only have this present moment to live and do things, the past is never coming back and the future does not even exist.&nbsp;</p><h3><strong>To meditate on</strong></h3><p>“At every moment keep a sturdy mind on the task at hand, as a Roman and human being, doing it with strict and simple dignity, affection, freedom, and justice - giving yourself a break fro all other considerations. You can do this if you approach each task as if it is your last, giving up every distraction, emotional subversion of reason, and all drama, vanity, and complaint over your fair share. You can see how mastery over a few things makes if possible to live an abundant and devout life.” - Marcus Aurelius, Meditations, 2.5&nbsp;</p><p>“Were you to live three thousand years, or even a countless multiple of that, keep in mind that no one ever loses a life other than the one they are living, and no one ever lives a life other than the one they are losing. The longest and the shortest life, then, amount to the same, for the present moment lasts the same for all and is all anyone possesses. No one can lose either the past of the future, for how ca someone be deprived of what’s not theirs” - Marcus Aurelius, Meditations, 2.14&nbsp;</p><p>“Don’t let you reflection on the whole sweep of life crush you. Don’t fill your mind with all the bad things that might still happen. Stay focused on the present situation and ask yourself why it’s so unbearable and can’t be survived.” - Marcus Aurelius, Meditations, 8.36</p><p>“Therefore do not be anxious about tomorrow, for tomorrow will be anxious for itself. Sufficient for the day is its own trouble.” - Matthew 6:34&nbsp;</p><p>“So we do not lose heart. Though our outer self is wasting away, our inner self is being renewed day by day.“ - 2 Corinthians 4:16&nbsp;</p><p>“For God gave us a spirit not of fear but of power and love and self-control.” - 2 Timothy 1:7&nbsp;</p><p>“Look carefully then how you walk, not as unwise but as wise, making the best use of the time, because the days are evil.“ - Ephesians 5:15-16</p><p>“Yet you do not know what tomorrow will bring. What is your life? For you are a mist that appears for a little time and then vanishes.” - James 4:14</p></div></div>]]>
            </description>
            <link>https://blog.adibhanna.com/p/on-being-present</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206983</guid>
            <pubDate>Sat, 20 Feb 2021 19:22:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How can you not be romantic about programming? (2020)]]>
            </title>
            <description>
<![CDATA[
Score 480 | Comments 328 (<a href="https://news.ycombinator.com/item?id=26206921">thread link</a>) | @joubert
<br/>
February 20, 2021 | https://thorstenball.com/blog/2020/09/08/how-can-you-not-be-romantic-about-programming/ | <a href="https://web.archive.org/web/*/https://thorstenball.com/blog/2020/09/08/how-can-you-not-be-romantic-about-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <p>08 Sep 2020</p>

  <p>There’s <a href="https://www.youtube.com/watch?v=9rrAbLNePxU">a scene in Moneyball</a> in which Brad Pitt’s character, the
manager of the <a href="https://en.wikipedia.org/wiki/Oakland_Athletics">Oakland A’s</a>, is watching a recording of one of his
players trying so hard to run fast that he stumbles and falls. Lying on the
ground he’s angry at himself, because he doesn’t realize that right before he
started his run he hit a home run and scored the game-winning points. Watching
the scene, Pitt leans back, smiles a Brad Pitt smile and says: “how can you not
be romantic about baseball?”</p>

<p>There are moments in which I ask myself the same thing about programming.</p>

<p>We’re programming computers. We spend large parts of our days writing down
instructions for machines. Other parts of the day are spent making sure that we
chose the right instructions. Then we talk about those instructions: why and how
we picked the ones we picked, which ones we will consider in the future, what
those should do and why and how long it will probably take to write those down.</p>

<p>It can sound very serious and dry; a bureaucracy of computer instructions. And
yet.</p>

<p>And yet we, the ostensible bureaucrats, talk about magic as something that
exists —&nbsp;the good <em>and</em> the bad kind. There are <a href="https://dl.acm.org/doi/book/10.5555/547625">wizards</a>. Instructions
are <a href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-9.html">“like a sorcerer’s spells”</a>.</p>

<p>We don’t call them instructions, though, not when talking about what we produce
each day anyway. It’s code we write. Emotions are involved. Code, we say, can
be: neat, nice, clean, crafted, baroque, minimal, solid, defensive, hacky, <em>a
hack</em>, art, a piece of shit, the stupidest thing I’ve ever read, beautiful, like
a poem.</p>

<p>Some lines of code are a riddle to anyone but their author and the name code
serves as a warning. Other times, strangely, it’s a badge of honor.</p>

<p>Fantastic amounts of code have been written, from beginning to end, by a single
person, typing away night after night after night, for years, until one day the
code is fed to a machine and, <em>abracadabra</em>, a brightly coloured <a href="https://en.wikipedia.org/wiki/RollerCoaster_Tycoon_(video_game)#Development">amusement
park</a> appears on screen. Other code has been written, re-written, torn
apart and stitched back together across time zones, country borders and decades,
not by a single person, but by hundreds or even thousands of different people.</p>

<p>This world of programming is held together by code. Millions and millions of
lines of code. Nobody knows how much there is. Some of it is more than 30 years
old, some less than a week, and chances are you used parts of both yesterday.
There are lines of code floating around on our computers that haven’t been
executed by a machine in years and probably won’t be for another lifetime.
Others are the golden threads of this world, holding it together at the seams
without no more than a dozen people knowing about it. Remove one of these and it
all comes crashing down.</p>

<p>If you haven’t been here long enough and try to guess how much there is and how
many generations are layered on top of each other — you won’t even come close.
But stay around. After a while, more and more, you’ll find yourself in moments
of awe, stunned by the size and fragility of it all; the mountains of work and
talent and creativity and foresight and intelligence and luck that went into it.
And you’ll reach for the word “magic” because you won’t know how else to
describe it and then you lean back and smile, wondering how someone could not.</p>


</div></div>]]>
            </description>
            <link>https://thorstenball.com/blog/2020/09/08/how-can-you-not-be-romantic-about-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206921</guid>
            <pubDate>Sat, 20 Feb 2021 19:16:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How To Speed up Docker on macOS by 100% or more]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26206818">thread link</a>) | @DanHulton
<br/>
February 20, 2021 | https://nodewood.com/blog/how-to-speed-up-docker-on-macos/ | <a href="https://web.archive.org/web/*/https://nodewood.com/blog/how-to-speed-up-docker-on-macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://nodewood.com/blog/content/images/size/w300/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 300w,
                            https://nodewood.com/blog/content/images/size/w600/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 600w,
                            https://nodewood.com/blog/content/images/size/w1000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 1000w,
                            https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg" alt="How To Speed up Docker on MacOS by 100% or more">
            </figure>

            <section>
                <div>
                    <p>Docker on MacOS will always be slower than on Linux (well, unless Apple Silicon ends up panning out, which it looks like it might!), but it doesn't have to be as <em>infuriatingly slow</em> as it is by default. &nbsp;In fact, you can get it pretty close to native speed and it's not even all that difficult. &nbsp;It turns out that developing with Docker on MacOS can actually be a really enjoyable experience, not just a compromise you make in order to have a portable development environment.</p><p>The problem is that the default file sync strategy that Docker on MacOS uses is <em>garbage.</em> &nbsp;Sure, it's consistent and compatible, but it's just about the slowest possible option you could go with. &nbsp;As your Docker app runs, it reads and changes files across that sync, which means that every file access slows down your application a little bit more. &nbsp;Compounded, that means that even your average runs are <em>bitterly slow</em>.</p><p>Enter Mutagen. &nbsp;Mutagen does a lot of things and is a very interesting technology in general, but what we're primarily interested in is how it can perform lightning-quick syncs between your local computer and a Docker volume. &nbsp;How fast is it? &nbsp;Well, the title of this article isn't hyperbole, in fact, it's underselling things. &nbsp;My Jest test suite went from taking 73.5 seconds to run to only taking 22.9 seconds (on average).</p><p>So now that we know what the problem is and what the solution is, let's fix Docker on MacOS.</p><p>First, you have to install Mutagen, and as of the writing of this article, you need to install a beta release. &nbsp;We need version 0.12.0 or higher, since that's the version that starts supporting <code>mutagen compose</code> (which we'll get to in a minute). &nbsp;There should be fairly low risk from this, though, since Mutagen's own website says:</p><blockquote><a href="https://mutagen.io/documentation/introduction/installation#development-channels">Beta channel releases are fairly stable and can be thought of as something akin to release candidates.</a></blockquote><p>To install Mutagen and start the sync daemon, first, make sure you have <a href="https://brew.sh/">Homebrew</a> installed, and then:</p><pre><code>$ brew install mutagen-io/mutagen/mutagen-beta
$ mutagen daemon start</code></pre><p>Next, you'll need to modify your <code>docker-compose.yml</code> file to define the sync that Mutagen will spin up. &nbsp;Assume your current <code>volumes</code> entry for a container looks like:</p><pre><code>    volumes:
      - .:/code</code></pre><p>You'll want to create a new section at the bottom of your file with an <code>x-mutagen</code> configuration. &nbsp;<code>mutagen compose</code> will read that and build your sync from the options you set there:</p><pre><code>x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    mount-code:
      alpha: "."
      beta: "volume://mount-code"</code></pre><p><code>alpha</code> is where you're syncing <em>from</em>, and <code>beta</code> is the sync mount point that Mutagen will create. &nbsp;Also of note is the <code>two-way-resolve</code> sync mode we're using. &nbsp;<a href="https://mutagen.io/documentation/synchronization#modes">Mutagen has great documentation on how its synchronization modes work</a>, but in short, we're using the mode that prioritizes host files. &nbsp;Since this is development and the files on the host system are the canonical ones anyway, this is safe and prevents conflicts that have to be manually resolved.</p><p>Finally, we have to update our <code>volumes</code> entry to use the new mount point:</p><pre><code>    volumes:
      - mount-code:/code</code></pre><p>And that's it! &nbsp;Well, that's <em>nearly</em> it. &nbsp;<code>docker-compose</code> doesn't know how to read an <code>x-mutagen</code> entry, so instead we now run this file with the <code>mutagen compose</code> command, which is essentially a pass-through to <code>docker-compose</code> after having performed the various sync setup steps you've defined.</p><p>The first time you run this will be longer than before, as Mutagen will need to create the sync mount and perform the initial synchronization, but then it will run as a daemon and keep changes automatically in sync. &nbsp;I have found that occasionally it will run wild with the CPU for a couple dozen seconds as it updates its index (or something), but it hasn't significantly affected my development, especially not when compared against the <em>incredible</em> speed upgrades it provides.</p><h2 id="using-mutagen-in-nodewood">Using Mutagen in Nodewood</h2><p>Now that you have an idea how Mutagen works and how to set it up for your average project, I wanted to provide explicit steps for using it in your Nodewood projects.</p><p>(If you've arrived at this article from another site, you might not know what <a href="https://nodewood.com/">Nodewood</a> is. &nbsp;Nodewood is a JavaScript SaaS starter kit designed to save weeks or months of time when building your next web app. &nbsp;It comes with user authentication &amp; management, subscriptions, and a Docker development environment that is both easy to set up, and – thanks to Mutagen – lightning-fast to use. &nbsp;Interested in using Nodewood to build your next SaaS app? &nbsp;<a href="https://nodewood.com/">Read more here</a>.)</p><p>There are two steps to using Mutagen in Nodewood: 1) Using an application-specific <code>docker-compose.yml</code> file, and modifying your <code>.nodewood.js</code> configuration file to use Mutagen. &nbsp;(Of course, you'll need to make sure you've already installed Mutagen according to the instructions above.)</p><h3 id="1-set-up-an-app-specific-docker-compose-yml-file">1) Set up an app-specific docker-compose.yml file</h3><p>Nodewood will use a file in the <code>app</code> folder before it will use a file in the <code>wood</code> folder, and this applies to your Docker files as well. &nbsp;Create a file in <code>app/docker/docker-compose.yml</code>, and paste the following:</p><pre><code>version: '3'

services:
  postgres:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.postgres
    networks:
      - app-network
    environment:
      POSTGRES_PASSWORD: nodewood
      POSTGRES_MULTIPLE_DATABASES: "nodewood,test"
    expose:
      - 5432
    ports:
      - '5432:5432'
  ui:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    env_file: ../../.env
    volumes:
      - nodewood-code:/nodewood
    command: yarn dev-ui
    ports:
      - '8888:8888'
  api:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    networks:
      - app-network
    volumes:
      - nodewood-code:/nodewood
    ports:
      - '3000:3000'
    links:
      - postgres
    depends_on:
      - postgres
    command: yarn dev-api
  nginx:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.nginx
    networks:
      - app-network
    ports:
      - '80:80'
      - '443:443'
    links:
      - api:api

networks:
  app-network:
    driver: bridge

volumes:
  nodewood-code:

x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    nodewood-code:
      alpha: "../.."
      beta: "volume://nodewood-code"
</code></pre><p>This will set up your Mutagen sync mount, and ensure that you're continuing to use the Dockerfiles for Nginx and Postgres that live in the <code>wood/docker</code> folder.</p><h3 id="2-modify-your-nodewood-configuration-file">2) Modify your Nodewood configuration file</h3><p>In your project root, you'll find a file called <code>.nodewood.js</code>. &nbsp;This file contains your Nodewood project information, including your keys that are used to authenticate with the Nodewood server when updating the library code. &nbsp;All you need to do is add the following two lines to the <code>exports</code> object:</p><pre><code>  composeCommand: 'mutagen',
  composeArgs: ['compose'],</code></pre><p>This will instruct the Nodewood CLI to use <code>mutagen compose</code> instead of <code>docker-compose</code> when starting your project for development or tests.</p><p><strong>NOTE: You will need to have v0.13.2 or later of the Nodewood CLI tool installed.</strong> &nbsp;You can update with <code>yarn global add @nodewood/cli</code>.</p><p>That's it! &nbsp;Some simple copy and paste, and your Nodewood development experience should be <em>dramatically</em> improved!</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://nodewood.com/blog/how-to-speed-up-docker-on-macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206818</guid>
            <pubDate>Sat, 20 Feb 2021 19:03:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coca-Cola Confirms Training Employees to ‘Be Less White’]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 19 (<a href="https://news.ycombinator.com/item?id=26206783">thread link</a>) | @da_big_ghey
<br/>
February 20, 2021 | https://beckernews.com/coca-cola-confirms-training-employees-to-be-less-white-36954/ | <a href="https://web.archive.org/web/*/https://beckernews.com/coca-cola-confirms-training-employees-to-be-less-white-36954/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>After a public relations fiasco, Coca-Cola has effectively conceded that some of its employees participated in a public LinkedIn Learning seminar that advocated that some of its employees be “less white.”</p>
<p>The training curriculum was first exposed on Friday by Dr. Karlyn Borysenko, an organizational psychologist who is working to end the racially divisive ideology of ‘critical race theory.’</p>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr">🚨🚨🚨 BREAKING: Coca-Cola is forcing employees to complete online training telling them to "try to be less white." </p>
<p>These images are from an internal whistleblower: <a href="https://t.co/gRi4N20esZ">pic.twitter.com/gRi4N20esZ</a></p>
<p>— Karlyn supports banning critical race theory in NH (@DrKarlynB) <a href="https://twitter.com/DrKarlynB/status/1362774562769879044?ref_src=twsrc%5Etfw">February 19, 2021</a></p></blockquote>

<p>Since then, mainstream media and left-wing outlets had largely avoided the hot topic. However, Blaze Public Relations’ Chris Pandolfo obtained a statement from Coca-Cola that concedes its employees were told to take the seminar in question.</p>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr">Statement from <a href="https://twitter.com/CocaCola?ref_src=twsrc%5Etfw">@CocaCola</a>: <a href="https://t.co/Jzur7zuXFz">https://t.co/Jzur7zuXFz</a> <a href="https://t.co/DBIpsj5706">pic.twitter.com/DBIpsj5706</a></p>
<p>— Chris Pandolfo (@ChrisCPandolfo) <a href="https://twitter.com/ChrisCPandolfo/status/1362969629543522307?ref_src=twsrc%5Etfw">February 20, 2021</a></p></blockquote>

<p>“The video circulating on social media is from a publicly available LinkedIn Learning series and is not a focus of our company’s curriculum,” Coca-Cola responded.</p>
<p>“Our Better Together global learning curriculum is part of a learning plan to help build an inclusive workplace.”</p>
<p>“It is comprised of a number of short vignettes, each a few minutes long. The training includes access to LinkedIn Learning on a variety of topics, including on diversity, equity, and inclusion. We will continue to refine this curriculum.”</p>
<p>It is important to note this wording concedes it <em>happened</em>. Furthermore, it is not “inclusive” to attack particular individuals’ racial background; that is, by definition, “exclusive.”</p>
<p>The LinkedIn Learning class, called “Confronting Racism, with Robin DiAngelo,” is <a href="https://www.linkedin.com/learning/confronting-racism-with-robin-diangelo" target="_blank" rel="noopener noreferrer">administered online.</a> DiAngelo, who has become famous for her infamous book “White Fragility,” has become somewhat of a celebrity by holding corporate struggle sessions on critical race theory. This has entailed charging <a href="https://freebeacon.com/culture/the-wages-of-woke-2/" target="_blank" rel="noopener noreferrer">up to $40,000</a> for half-day indoctrination courses to lecture audiences on the imagined perils of “whiteness” and “white fragility.<em>“</em></p>
<p>The prior description of the course included language that instructed people to be “less white.” We are not talking about a bug, but a feature of the lecture.</p>
<div>
<p>The course description said it will cover <em>“</em>understanding what it means to be white,” and “challenging what it means to be racist.” Students were instructed “to be less white is to: be less oppressive; be less arrogant; be less certain; be less defensive; be less ignorant; be more humble; listen; believe; break with apathy;” and “break with white solidarity.”</p>
<p>Author and pundit Candace Owens reacted to the revelation:</p>
</div>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr">If a corporate company sent around a training kit instructing black people how to “be less black”, the world would implode and lawsuits would follow. </p>
<p>I genuinely hope these employees sue <a href="https://twitter.com/CocaCola?ref_src=twsrc%5Etfw">@CocaCola</a> for blatant racism and discrimination. <a href="https://t.co/07OPZouEcV">https://t.co/07OPZouEcV</a></p>
<p>— Candace Owens (@RealCandaceO) <a href="https://twitter.com/RealCandaceO/status/1362862767481446406?ref_src=twsrc%5Etfw">February 19, 2021</a></p></blockquote>

<p>“If a corporate company sent around a training kit instructing black people to ‘be less black’, the world would implode and lawsuits would follow,” Owens tweeted. “I genuinely hope these employees sue Coca-Cola for blatant racism and discrimination.”</p>
<p>“Your job at Coca-Cola should not depend on whether or not you buy into the idea of being less white,” Borysenko remarked. “It should depend on whether or not you can go in and do your job.” The organizational psychologist also walked viewers through what it all means on a <a href="https://www.youtube.com/watch?v=FRWfS0SmNqw&amp;feature=youtu.be">Youtube video</a>.</p>
<p>Coca-Cola is undoubtedly not the only company that has tapped DiAngelo and similar speakers, such as Ta-Nehisi Coates, to lead such trainings. Corporate social re-engineering efforts like diversity trainings are themselves big business. As the Free Beacon <a href="https://freebeacon.com/culture/the-wages-of-woke-2/">noted</a>, “the Diversity and Inclusion business was thought to be worth <a href="https://time.com/5696943/diversity-business/">$8 billion</a>&nbsp;as of 2003; by 2005,&nbsp;<a href="https://scholar.harvard.edu/files/dobbin/files/an2018.pdf">65 percent</a> of big companies offered diversity training.”</p>
<p>Even more strikingly, the Free Beacon points out, there is little-to-no evidence that anti-bias trainings work:</p>
<blockquote><p><a href="https://static1.squarespace.com/static/5186d08fe4b065e39b45b91e/t/51e3234ce4b0c8784c9e4aae/1373840204345/Paluck_Green_AnnRev_2009.pdf">A review</a>&nbsp;of nearly 1,000 studies of anti-bias tools found little evidence that they have any impact. In fact, recent studies suggest anti-bias training’s primary effect may be to encourage discrimination: Firms with diversity training&nbsp;<a href="https://hbr.org/2016/07/why-diversity-programs-fail">end up with</a>&nbsp;fewer minorities in management, and field research&nbsp;<a href="https://scholar.harvard.edu/files/dobbin/files/dobbin_-_aatraining_clean.pdf#page=11">finds</a>&nbsp;that training both reinforces stereotypes and increases animosity against minority groups.</p></blockquote>
<p>It may be that these “inclusion” seminars actually work the opposite of how they are intended: Instead of bringing people together, they raise awareness of our superficial differences and drive us further apart.</p>
<h4><a href="https://beckernews.com/donald-trump-hammered-again-by-big-tech-censorship-after-post-presidential-media-appearance-36950/">NOW READ: Donald Trump Hammered Again by Big Tech Censorship After Post-Presidential Media Appearance</a></h4>
<p><em>This article contains light editorial commentary.</em></p>








</div></div>]]>
            </description>
            <link>https://beckernews.com/coca-cola-confirms-training-employees-to-be-less-white-36954/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206783</guid>
            <pubDate>Sat, 20 Feb 2021 18:59:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thin-Film Modules Allowing Windows to Produce Solar Energy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26206722">thread link</a>) | @scottbucks
<br/>
February 20, 2021 | https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.17.5"><div dir="ltr"><div><h3 id="viewer-foo"><span><span>This technology can turn any window into an energy-generating panel</span></span></h3><div id="viewer-761ht"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities" data-pin-media="https://static.wixstatic.com/media/nsplsh_2f1962e8a60e41f8a571b853e38e7981~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/nsplsh_2f1962e8a60e41f8a571b853e38e7981~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-m9ue"><span>Photo-voltaic modules (otherwise known as <strong>Solar Panels</strong>)<!-- --> have been around for a while, allowing us to <!-- -->use <!-- -->sunlight<!-- --> as a source of energy<!-- -->. The issue with solar panels is that they need sufficient space on rooftops or on the ground to produce enough energy for them to be worth it, space that is limited in big cities. </span></p><p id="viewer-dkhis"><span>In recent years, companies have been working on a solution to this problem: <strong>Solar Glass</strong> (often referred to as "Solar Windows"), which can turn windows into power-generating panels.</span></p><h2 id="viewer-efmla"><span>What is Solar Glass?</span></h2><p id="viewer-8bpoh"><span>Solar glass is used to replace conventional <!-- -->building<!-- --> materials<!-- --> in parts such as the roof, skylights, facades and windows<!-- -->, whilst also generating electricity on-site.</span></p><p id="viewer-5gpt4"><span>The key difference between this recent technology and traditional solar PV (Photo-voltaic) is that the panels are built into the building rather than being added on. This allows for more of a relationship between aesthetics and functionality.</span></p><p id="viewer-5v8m5"><span>The most common type of Solar Glass is <strong>T</strong><strong>hin-film modules</strong> (e.g. amorphous silicon, cadmium telluride) which<!-- --> been around for a few years. They can be designed into the fabric of a building and can perform in conditions/locations where crystalline silicon panels (conventional solar panels) cannot. </span></p><p id="viewer-e6r4b"><span>This solar glass has a varying efficiency that depends on it's<!-- --> opacity which it's self varies between 50% transparent and fully opaque. The greater opacity they have, the more efficient they'll be, but on the other hand, being less transparent will allow less light to penetrate through.</span></p><h3 id="viewer-4um67"><span><span>Suggested Articles:</span></span></h3><ul><li id="viewer-49mml"><p><strong>🚄 </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-f6604"><p><strong>📱 </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ♻️</strong></p></li><li id="viewer-6hik8"><p><span><strong>🏭 </strong></span><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><strong><u>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</u></strong></a></p></li></ul><h2 id="viewer-2oa4c"><span>Why use Solar Glass? </span></h2><p id="viewer-nkfr"><span>In the current state that the world is in, we need to start properly transitioning away from fossil fuels and towards renewable energy if we want to reduce our <a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><u>carbon emissions</u></a>. There are several options when it comes to renewable energy: <!-- -->Wind, Hydro, Tidal, Geothermal, Biomass and of course Solar energy.</span></p><p id="viewer-4befc"><span>Sunlight is one of our planet’s most abundant and freely available energy resources. The amount of solar energy that reaches the earth’s surface in one hour is more than the planet’s total energy requirements for a whole year so trying to harness that energy seems obvious.</span></p><p id="viewer-etkau"><span>Up until now, <!-- -->crystalline silicon Solar Panels have accounted <!-- -->opacity which it's self varies between 50% transparent and fully opaque. The greater opacity they have, the more efficient they'll be, but on the other hand, being less transparent will allow less light to penetrate through.</span></p><p id="viewer-36bae"><span>For big cities on the other hand, where most buildings are several stories high, close together and made primarily out of glass, there's simply not enough space, which is why solar glass, with the ability to turn these glass windows into energy-generating panels, seems like the perfect solution. </span></p><h3 id="viewer-6r5bk"><span>Other benefits to solar glass</span></h3><p id="viewer-dk9sg"><span>Other than producing electricity, solar glass offers several other benefits when <a href="https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows" target="_blank" rel="noopener"><u>integrated into buildings</u></a>:</span></p><ul><li id="viewer-ccm8d"><p><strong>Transparency</strong> allows for light to penetrate the building whilst also providing <strong><span>shading and glare control</span></strong><span>.</span></p></li><li id="viewer-c9trm"><p>T<span>hanks to their multi-layer structure, Solar modules possess <strong>sound insulating properties</strong>. The insulation can even be adjusted by increasing or decreasing the thickness of the glazing.</span></p></li><li id="viewer-76vie"><p><span>Because the temperature of a PV module can increase significantly when the module is exposed to radiation, the heat it then radiates can be harnessed to provide <strong>t</strong></span><strong>hermal control</strong> like <strong>thermal insulation</strong>, <strong>reduction in thermal gain</strong>. </p></li><li id="viewer-9uuc2"><p><strong>Aesthetics</strong>: Different colours and effects can be applied to Solar Glass.</p></li></ul><h2 id="viewer-bamr9"><span>Where can it be used?</span></h2><p id="viewer-3r7su"><span>Solar Glass technology can be used in many different applications thanks to it's partial transparency making it much more versatile, for example:</span></p><ul><li id="viewer-bg9bs"><p><strong>Solar Windows</strong> are probably the most obvious way of using this technology, allowing skyscrapers for example to have power-generating facades.</p></li><li id="viewer-111bt"><p>Solar Glass can also be used for <strong>Bus Stops.</strong> </p></li></ul><ul><li id="viewer-4mp8j"><p><strong>Atriums</strong> and <strong>skylights.</strong></p></li><li id="viewer-11ues"><p>It's also perfect for <span><strong>privacy protection panels</strong> because it doesn't let in too much light seeing as it can only go up to 50% transparency.</span></p></li></ul><h2 id="viewer-6cqjg"><span><span>The Solar Glass pioneers </span></span></h2><p id="viewer-7jpbo"><span><span>There are many companies around the world working on making Solar Glass mainstream, here are some of the pioneers.</span></span></p><h3 id="viewer-fd55"><span><span>Ubiquitous Energy</span></span></h3><p id="viewer-1aokf"><span>First off there is <a href="https://ubiquitous.energy/" target="_blank" rel="noopener"><u>Ubiquitous Energy</u></a>, a Silicon Valley technology company leading the development of next-generation solar technologies. Born from research at MIT and Michigan State University, founded on the principle of seamlessly integrating solar technology into everyday products and surfaces. They have since developed a transparent solar coating that integrates into standard windows, with endless possibilities for future applications.</span></p><h3 id="viewer-enp20"><span>Physee</span></h3><p id="viewer-1n23a"><span>The European manufacturer <a href="https://www.physee.eu/" target="_blank" rel="noopener"><u>Physee</u></a> was actually the first to install transparent solar panels. The company developed a technology they call the "Power Bar" which is small solar panels that are installed along the window pane edges to generate power.</span></p><p id="viewer-dihln"><span>Physee is also working on <!-- -->power generating glass coating. It directs sunlight onto integrated solar cells in PowerWindows. Without impacting the transparency of its glass, windows will produce the same energy as 1/5 of a solar panel placed on a building's roof.</span></p><h2 id="viewer-dc5n2"><span>Bottom Line</span></h2><p id="viewer-igh5"><span>The bottom line is that, although this technology is not yet widely available and still in it's early stages, Solar Glass seems like a very promising new way to generate electricity from the sun. With companies continuing to innovate and improve their products, we may well be seeing our first Solar Glass buildings within the next decade, let's wait and see!</span></p><p id="viewer-58ct9"><span><strong>Sources:</strong></span></p><p id="viewer-8ll7g"><span><strong>- </strong><a href="https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows" target="_blank" rel="noopener"><u>https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows</u></a> </span></p><p id="viewer-97jl"><span><strong>- </strong><a href="https://ubiquitous.energy/about/" target="_blank" rel="noopener"><u>https://ubiquitous.energy/about/</u></a> </span></p><p id="viewer-8togt"><span>- <a href="https://www.physee.eu/innovation/coating" target="_blank" rel="noopener"><u>https://www.physee.eu/innovation/coating</u></a> </span></p><p id="viewer-570b8"><span>- <a href="https://solarmagazine.com/solar-panels/transparent-solar-panels/" target="_blank" rel="noopener"><u>https://solarmagazine.com/solar-panels/transparent-solar-panels/</u></a> </span></p><h3 id="viewer-40d8a"><span><span><strong>More from The Detechtor:</strong></span></span></h3><ul><li id="viewer-d442b"><p><strong>🚄 </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-60rl6"><p><span><strong>🏭 </strong></span><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><strong><u>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</u></strong></a></p></li><li id="viewer-5srnl"><p><strong>📱 </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ♻️</strong></p></li></ul><h3 id="viewer-cbj21"><span><span>Stay updated:</span></span></h3><ul><li id="viewer-7c1et"><p>📩 Want the latest on the impact of tech? <strong>Subscribe</strong> to our <strong>newsletter</strong>!</p></li><li id="viewer-6bd12"><p>🎙 <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is available on all podcast players!                                                      <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-4tmjb"><p>📲 Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206722</guid>
            <pubDate>Sat, 20 Feb 2021 18:53:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just say no – to versioning APIs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26206699">thread link</a>) | @charkubi
<br/>
February 20, 2021 | https://www.redahmeid.com/blog/just-say-no-to-versioning | <a href="https://web.archive.org/web/*/https://www.redahmeid.com/blog/just-say-no-to-versioning">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-1dc2839754afdb686fff"><div><p>I don’t think it is giving away too much to say that I believe we should never version our APIs. I also know that as a concept, non-versioning is controversial. Interestingly, the disagreement in approaches usually, in my experience, is due to a fundamental core principle agreed upon by all. And that is, producers of APIs should not break consumers of APIs through change.</p><p>I think that is an excellent basis to start a conversation. My approach to debates is to find common ground as early into the discussion as possible and build from there. Therefore, let’s define that principle again more clearly.</p><blockquote><p><strong>API consumers expect never to be broken by a change in the API they consume.</strong></p></blockquote><p>I am sure that readers will in no way be surprised to learn that I am not the first to push the idea of no versioning. The concept has been around for many years. And yet, it’s still controversial. Roy Fielding, the man who wrote a thesis describing RESTFul APIs and introduced to the world the concept of HATEOAS (though the thesis never uses the weird acronym), is exact on the subject.&nbsp;</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1612171787005_4817"><div><p>Fielding talks about this in the context of REST APIs with a be damned if you go for non-REST attitude. In my opinion, REST is an elegant architectural style that does make building evolvable APIs easy, without succumbing to versioning. This post isn’t a place for detailing REST; there are plenty of better resources out there for that. But suffice to say using RESTFul principles for API design is probably a strong starting position.</p><p>However, REST is not the only solution, and good API design can overcome versioning. </p><p>Producers of APIs have broadly taken two approaches to not breaking consumers. The most common practice, and the one that is mostly considered the standard, is to version their APIs, usually deprecating the older versions and encouraging consumers to migrate. There are multiple ways taken of describing the version in the request. The most visible (and probably the one most organisations default to) is in the URL. Others will pass the version via the Accept header in the request. You will likely come across several resources that suggest this is best practice.&nbsp;</p><p>API versioning has downsides, irrespective of the patterns used. For one thing, supporting one version of anything is a pain. Finding a bug in one version necessitates affirmation that it doesn’t exist in other versions. If it does, there are a couple of options. Fix it in all versions, proportionally increasing the amount of testing needed. Or fix it in the latest version only and inform consumers that they need to move versions. And if it only exists in one place, should consumers move to a version without the bug (say the latest), or does a superseded version need fixing?</p><p>Some patterns minimise the pain of versioning. Advocates will argue that the concerns I raise are resolvable. And they are. And they have been resolved—however, it is fixing a self-inflicted issue. No versioning removes those worries. And for the consumer of your APIs, they benefit equally; they don’t need to change, are not broken by changes to the API, always have the latest functionality, and the documentation they need to read is minimal.</p><p>Let me backtrack slightly from my first sentence in this post. I believe versioning is unnecessary as I have yet to come across a situation in API design and development that needed versioning. I have yet to be convinced in practice that versioning is a necessity or even preferable. Below is the sort of conversation I have when suggesting we shouldn’t version.</p><blockquote><p><strong>What if we need to add a new mandatory field in the request?</strong></p><p>If it really is a “mandatory” field, why do you have a version of the API that doesn’t require it?</p><p><strong>We need it to carry out some new business logic?</strong></p><p>OK, a few things are going on here that we should talk through.</p><p>Again, this should not be described as a mandatory field or mandatory new business logic. If you support a version of the API that doesn’t need it, you support business functionality that doesn’t need it. At best, this is an optional field that may change the path your code goes down. Or if it is truly mandatory, why support a version that doesn’t include it?</p><p>Make the API contract as simple as possible by only requiring inputs that you have no way of working out yourselves. Make the internal workings of the API do the complex stuff, not forcing the consumer to do it. That way the contract can remain simple and your business logic and API avoid the brittleness caused by mandatory change.</p><p><strong>We made a spelling mistake in the field name, or we’re changing the style of fields. If we change the field names, it will break the consumers.</strong></p><p>So don’t change the field name. Consumers are using it fine. A colleague once pointed me in the direction of the HTTP header Referer. This is misspelt. There has been no suggestion that this should be corrected, as it was already in use. The same with API fields. If it is not harming, leave it.</p><p>However, if you really want to change the spelling, support both spellings. Maybe only document the new one but don’t break if the old spelling was used. Add a fitness function that indicates the trend in use of the old spelling vs the new. If the usage of the old spelling drops to a certain level, maybe then make a concerted effort to move the remaining clients across but highighting that you’ll stop supporting the old spelling.</p><p>But I go back to my first advice. Don’t bother changing the spelling. </p><p><strong>We want to change the structure of our response.</strong></p><p>This is an interesting one which I would usually dig a little deeper into. But I would start with why do you need to change the structure? I am sure you do but articulating why may help in designing it in a non-breaking way.</p><p>If necessary, consider content negotiation, where a consumer includes in the Accept header the media type they expect. If the structure is significantly different, maybe it isn’t a new version of the API, just a new representation of the resource that the API returns. </p><p>As with the above, handle the change internally, not force consumers to change.</p><p><strong>It’s not just a different structure, the response looks very different</strong></p><p>Roy Fielding points out during his discussions on versioning that if the API is so different that you need to version, maybe it isn’t a different version of the API -maybe it is a completely different API.</p><p><strong>Github version their APIs</strong></p><p>I think Github do APIs really well. If you used them as your exemplar, you wouldn’t go far wrong. Github is on version 4 of their APIs. How do I reconcile the two views (i.e. GitHub are good, don’t do versioning)?</p><p>I could start by restating that phrase. Github is <span>only</span> on version 4 of their APIs after 13 years. That is one new version every 3 (and a bit) years. But still, it is a new version.&nbsp;</p><p>Another thing to note is that they versioned all their APIs at the same time. Not individual versioning. And there is a reason for that. The move from version 3 to version 4 was a move from REST APIs to GraphQL. They didn’t version the APIs. They versioned their architectural style.</p><p>While I am not privy to the thinking behind this, if you visit the <a href="https://docs.github.com/en">Github docs home page</a> they do not talk about version 3 and version 4 of their APIs, but the REST APIs and GraphQL APIs. I’d suggest this is further evidence they see this as a change of architectural style. Maybe, and now I am guessing, the version number is an easy way to differentiate in the URL or indicates the direction of travel they intend to take. Either way, I would strongly suggest they don’t version APIs but simply architecture. And if there were a valid reason to use versioning, this is it.</p></blockquote><p>The above is a sanitised conversation, and readers will likely identify other scenarios requiring versioning, which I would love to hear about in the comments.  I’m even happy to work with people on the design. I don’t want this to seem like a straight forward thing to do, especially if you do not start from a solid API design base. When you consider versioning as an option, take into account the following:</p><ol data-rte-list="default"><li><p>Make all changes to response or request optional rather than mandatory.</p></li><li><p>If they are mandatory changes, why do you support a version that doesn’t have those changes? </p></li><li><p>Keep the API contract as simple as possible. Limit the number of input requirements to what is absolutely necessary to make the system work. Any business logic inputs should be retrieved from internal sources as much as possible. By making the API do the work, changes to the contract will be rare.</p></li><li><p>Would the change to the API benefit every consumer? If not, think about how impactful the change is for consumers who don’t need it?</p></li><li><p>Would you support every version forever? Or will you start to decommission versions and force consumers to move across?</p></li><li><p>Is the change due to new business logic? If so, will the new business logic be part of every version?</p></li><li><p>If the change is due to new business logic, should that even be a concern for your consumers?</p></li><li><p>Does a new version make things easier or more challenging for the consumers of your APIs?</p></li></ol><p>Ultimately, ask yourself one question if the case for versioning seems strong; “does the benefit of this change justify the time, effort and impact of supporting multiple versions, to our consumers and us?”. The success of your APIs is in making them easy to consume. That should include not forcing the consumer to change. Rethink the approach to anything that makes API consumption more difficult. Do the hard work at the design stage, and hopefully, you’ll have easy to use, evolvable APIs that will be maintainable and keeps everyone happy.</p></div></div></div>]]>
            </description>
            <link>https://www.redahmeid.com/blog/just-say-no-to-versioning</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206699</guid>
            <pubDate>Sat, 20 Feb 2021 18:49:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New plant-based plastics can be chemically recycled with near-perfect efficiency]]>
            </title>
            <description>
<![CDATA[
Score 337 | Comments 189 (<a href="https://news.ycombinator.com/item?id=26206513">thread link</a>) | @ColinWright
<br/>
February 20, 2021 | https://academictimes.com/new-plant-based-plastics-can-be-chemically-recycled-with-near-perfect-efficiency/ | <a href="https://web.archive.org/web/*/https://academictimes.com/new-plant-based-plastics-can-be-chemically-recycled-with-near-perfect-efficiency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="articleBody"><p dir="ltr">  have developed two sustainable plastic alternatives to high-density polyethylene that can be chemically recycled more easily and nearly 10 times as efficiently, thanks to â€œbreak pointsâ€� engineered into their molecular structures.</p><p dir="ltr">Derived from plant oils, the new plastics were presented in a <a href="https://www.nature.com/articles/s41586-020-03149-9" target="_self">paper</a> published Wednesday in <em>Nature</em> as low-waste, environmentally friendly replacements to the conventional fossil fuel-based plastics that enter natural ecosystems at a rate of <a href="https://www.nationalgeographic.com/science/article/150212-ocean-debris-plastic-garbage-patches-science">millions of tons per year</a>.</p><p dir="ltr">Most recycling performed today is mechanical recycling, in which plastic is sorted and sliced into pellets that are then used to create new plastic materials. Chemical recycling, in contrast, involves breaking down the long polymer chains of plastic with heat or solvents to retrieve the material's initial monomer components.</p><p dir="ltr">One of the obstacles to developing chemical-recycling technology is also a reason why plastic is a useful material: the strong carbon-carbon bonds in its molecular structure. Polyethylene, the most common kind of plastic, requires at least 600 degrees Celsius to break those bonds to retrieve the monomers, and is chemically recycled at a rate lower than 10%.</p><p dir="ltr">â€œStability of the hydrocarbon chains is rather a problem in that case,â€� said Stefan Mecking, the lead author of the study and the department chair of chemical materials science at the University of Konstanz in Germany. â€œTo really break them down into small molecules needs high temperatures and is energy intensive, and also the yields are not that good.â€�</p><p dir="ltr">The plastic compounds created by Mecking and his colleagues had chemical bonds that could be more easily broken so chemically recycling them would be more effective.</p><p dir="ltr">Chemically recycling the two materials, which were forms of polyester and polycarbonate, required placing them in ethanol or methanol with a catalyst at only 120 degrees Celsius, or 150 degrees without the catalyst. The researchers then cooled and recrystallized the plastic before filtering it out. In the case of the polycarbonate, 96% of the initial material was recovered.</p><p dir="ltr">As demand in the recycling industry stalls and recyclable materials pile up in warehouses and landfills, chemical recycling has been offered as part of a solution to reduce plastic waste. The industry group American Chemistry Council has <a href="https://plastics.americanchemistry.com/what-is-advanced-recycling/">praised</a> the emerging technology for the significant role it could play in a circular economy by reducing plastic waste and repurposing it into new products.</p><p>Yet the method is not without pushback. A <a href="https://www.no-burn.org/wp-content/uploads/CR-Technical-Assessment_June-2020.pdf">2020 report</a> by the environmental organization Global Alliance for Incinerator Alternatives criticized a lack of research and reporting in current chemical-recycling technologies and said the process is energy-intensive and may emit hazardous chemicals. Chemical recycling also distracts from efforts to limit plastic production to reduce waste, the organization said.</p><p dir="ltr">In the new research, the chemists found that the recycling process worked when the plastic contained dye or fillers such as carbon fibers, both of which cause challenges in mechanical recycling. The plastics were also successfully recovered when pieces of other plastics were included in the alcohol solvent.</p><p dir="ltr">Plant oils were chosen as starting materials for synthesizing the plastics primarily because of their useful long chains. They are also more sustainably sourced than the crude oil and other fossil fuels used to produce most of the worldâ€™s plastic material.</p><p dir="ltr">The new plastics were very similar to high-density polyethylene, the widely used plastic labeled as recycling number . Testing by the chemists found that the three materials had comparable properties such as structure, elasticity and molecular weights â€” though the polycarbonate and polyester had lower melting and crystallization points.</p><p dir="ltr">They were also better suited for 3D printing than polyethylene, and they retained their properties after recycling and reuse.</p><p dir="ltr">The one disadvantage of the new materials Mecking identified was their cost. Ethylene is the â€œcheapest building block of the chemical industry,â€� he said, so, "Competing with conventional polyethylene at the current market and legal framework conditions is very difficult.â€�</p><p dir="ltr">Mecking and his colleagues are conducting ongoing research into using their new plastics for 3D printing, an initial application he said would be exciting for further developing the material and eventually scaling up its production.</p><p dir="ltr">These new plastics may also biodegrade in nature more quickly than common polymers because of their engineered break points, a line of inquiry that also interests the German chemist.</p><p dir="ltr"><em>The article, â€œClosed-loop recycling of polyethylene-like materials,â€� was published Feb. 17 in Nature.Â&nbsp;</em><em>The authors of the study were Manuel , Marcel Eck, Dario Rothauer and Stefan Mecking, University of Konstanz. The lead author was Stefan Mecking.</em></p></div></div></div>]]>
            </description>
            <link>https://academictimes.com/new-plant-based-plastics-can-be-chemically-recycled-with-near-perfect-efficiency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206513</guid>
            <pubDate>Sat, 20 Feb 2021 18:30:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Universal Warrior, Part III: The Cult of the Badass]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26206454">thread link</a>) | @Balgair
<br/>
February 20, 2021 | https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>This is the third and final part of a discussion (<a href="https://acoup.blog/2021/01/29/collections-the-universal-warrior-part-i-soldiers-warriors-and/">I</a>, <a href="https://acoup.blog/2021/02/05/collections-the-universal-warrior-part-iia-the-many-faces-of-battle/">IIa</a>, <a href="https://acoup.blog/2021/02/12/collections-the-universal-warrior-part-iib-a-soldiers-lot/">IIb</a>) discussion of the notion that there is a ‘universal warrior’ – a transcendent sameness about either the experience of war or ‘warrior values’ which might provide some sort of useful blueprint for life generally or some sort of fundamental truth about the experience of war.</p>



<p>Over the last three weeks, we’ve looked at the historical evidence to see if there was any hint of some universal war experience or set of warrior values.  What we’ve found instead is that almost everything about how humans engage in war, aside from the fact that they do so, varies tremendously from one culture to the next, from one place to the next, from one period to the next.  Cultural expectations, social values, technological conditions, entire systems of warfare and simple circumstance also condition the experience of war and the values that combatants have in extreme ways which render the search for a ‘universal’ set of warrior values a clearly doomed enterprise.</p>



<p>But, as laid out in the beginning, the ‘universal warrior’ wasn’t merely a (deeply flawed) argument about the structure and experiences of the past, but the foundation stone in an ideological blueprint for living one’s modern life.  And so it is time now that we turn from the (quite bad) historical roots of this idea to the (worse, it turns out) ideological implications of the idea.</p>



<p>But first, as always, if you like what you are reading here, please share it; if you really like it, you can support me on <a href="https://www.patreon.com/user?u=20122096">Patreon</a>. And if you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings.</p>






<p>(I couldn’t decide quite how I wanted to illustrate this essay and it didn’t seem like quite the right content for historical cat photos, so I’ve opted to leave it without images.  I may go back and add pictures at a later date, but for now, it can stand purely as an essay.)</p>



<h2>Once More, With Feeling</h2>



<p>In a sense, while the previous three posts have been fun, they were really just a very long preamble to the argument I am making here, so I want to both lay out <em>why</em> I opened with a three-week long preamble before getting to the point (‘how else would you know it was me?’) and also pull together the conclusions from all of that before we move forward.</p>



<p>So why the preamble?  Because I wanted to make sure before we started discussing the underlying ideology that lurks <em>behind</em> claims of the universality of some ‘warrior ethos’ we had defused the retort that, whatever the unpleasant implications, the ‘universal warrior’ was <em>historically true</em>.  This had to be done first because <strong>I am of the opinion that</strong> <strong>truth is an absolute defense</strong> in such matters; the universe contains a great many facts which are frustratingly inconvenient, yet as historians we have to deal with the world as it is rather than as we wish it to be (or wish it to have been).  Consequently, before I could complain about the ideology, it was necessary to determine if the historical theory was true, or even remotely plausible.</p>



<p>So we have spent three weeks hunting for the ‘universal warrior’ – either in the form of a universal war <em>experience</em> or a universal set of <em>values</em>.  What we have found is:</p>



<ul><li>Far from there being one set way that combatants relate to their society, soldiers, warriors and civilians represent distinct categories defined by how people in war relate to their society.  Even <em>within</em> those categories, variety is considerable, leaving no one clear model of how combatants relate to their societies.</li><li>Moreover, war itself is changeable, moving through at least three (and probably four) distinct systems of land warfare alone, each with substantial differences in tactics, values, and experiences.</li><li>Moreover, different cultures understand and imagine the ideal qualities of combatants differently, often so dramatically differently that one culture’s definition of courage is not merely different from an other’s, but diametrically opposed.</li><li>Moreover, the actual experience of battle – we discussed this mostly through the experience of fear – isn’t universal either.  The fear of facing a cavalry charge is not the same sort of fear as the fear of enduring a week long artillery barrage, while ‘war is scary’ in a general sense is hardly enough to set off the warrior or the soldier from any number of other scary and potentially hazardous jobs.</li><li>Moreover, the bonds of comradeship that support modern cohesion (often cited as a unique and universal experience) are, in fact, also historically contingent, both in that there are many systems for generating cohesion, not all of which involve tight bonds formed during military service and that some military systems don’t seek to develop cohesion in this sense at all.</li><li>Moreover, attitudes towards the hardships of war <em>also</em> vary wildly, as do the actual hardships in question.</li><li>Moreover, not only do different societies express different attitudes and values towards the wounded, but the nature of the wounds themselves has changed over time as military technology has become progressively more lethal; both states that apply not only to physical, but also mental wounding.</li></ul>



<p>In short, while there is enough commonality in war to suggest a definition that encompasses the idea (again, I rather prefer W. Lee’s definition of war as “organized group activity, conducted with lethal effects, that diminishes one [unconsenting] group for the benefit of another”), <em>within </em>that definition, <strong>there is far too much variety to suggest there is any one ‘universal’ experience of war or any one set of universal warrior values</strong>.</p>



<p>And I should note this is something we could demonstrate in more than a half-dozen different ways deploying just a fraction of the available scholarship on how the experience and values of war change from place to place.  Indeed, that is essentially what we have done.  <strong>Any <em>one</em> of the above points is enough to be fatal to the notion that there is some sort of ‘universal’ set of warriors values and experiences </strong>such that, as Pressfield openly states, a Spartiate could be simply dropped into a modern U.S. Marine regiment and fit in without skipping a beat (or his equally anachronistic notion that the decadent Athenian could be dropped into American civil society and also integrate seamlessly).  </p>



<p>But of course Pressfield isn’t offering a <em>history</em> (and indeed, he has not written one), he is offering an ideology and (intentionally or not) reshaping the historical facts to fit that ideology, shaving the corners off of the square peg so it will fit into the round hole of his moral assumptions.  His ideology requires a universal set of warrior values to serve as the foundation for his life philosophy and so, facts be damned, he <em>will</em> assert the existence of such a universal set of values.  The ideology, not the history, is the foundation, which is why Pressfield offers both anecdotes from Plutarch (a historical source) and his own books (modern historical fiction) as having equal truth value, even though the latter has no value as historical evidence; they both <strong>express the ideology</strong>.</p>



<p>So what is the ideology here?  Well, for that it is time to meet our old friend…</p>



<h2>The Cult of the Badass</h2>



<p>Pulling out the core ideology from Pressfield’s <a href="https://stevenpressfield.com/category/the-warrior-archetype/">videos </a>is a formidable task; there are fifty of them and so much of the core argument is submerged beneath endless anecdotes (some historical, some Pressfield openly invented for his historical fiction; all delivered with insufficient historical context).  But Pressfield’s videos are useful for this argument because he makes explicit a set of arguments which are usually only made <em>implicitly</em> through a set of emotional appeals which often are carried through the subtext of images and references rather than the text of what is being said.</p>



<p>(Marching through Pressfield’s videos was also frankly difficult because there are <a href="https://twitter.com/BretDevereaux/status/1350655580562731011"><em>just so many errors</em> </a>in them, I had to stop live-tweeting my way through them because if I kept doing it I’d never finish.  As a reminder, this is a fellow whose fiction<a href="https://en.wikipedia.org/wiki/Gates_of_Fire"> is on reading lists </a>at various U.S. military officer training programs, much to my continued sorrow.)</p>



<p>We may, I think, summarize Pressfield’s core argument as follows: the ‘warrior archetype’ (he is using here the long-abandoned psychology of Carl Jung) represents a true human universal best understood by certain ‘warrior societies’ (<em>especially</em> the Spartans, but also Alexander III, but somehow <em>not</em> the Macedonians or Philip II) who supposedly demonstrated martial excellence and who therefore are “representative of the purest expression of the warrior archetype” (his words).  Moreover, Pressfield argues that this understanding of the ‘inner warrior’ provides the best blueprint on which a person might fashion their lives, understanding their weaknesses as an ‘inner enemy’ that must be opposed by ‘warrior values’ and ‘mental toughness.’  And while Pressfield will admit that the ‘warrior archetype’ can go astray (he says this of Alexander, though I’d argue that Alexander didn’t so much ‘go astray’ as he ‘kept doing what he had done literally for his entire life, but began doing it to people who thought Alexander would only hurt people <em>they didn’t like</em>‘), he nevertheless presents this ‘warrior archetype’ as an expression of the highest possible human ideal.  <strong>In Pressfield’s ideological framework, it is the great warriors – the Spartans, Alexander, Arjuna – who stand atop the summit of human physical and moral achievement.</strong>  Non-warriors (mostly women) are valued in as much as they uphold elements of this warrior ideal so that warriors (mostly men) can give those ideals physical expression in action.  Even internal struggles must be reframed as a form of war, to be fought and defeated with the same values that best produce effective real-world violence.</p>


</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/">https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</a></em></p>]]>
            </description>
            <link>https://acoup.blog/2021/02/19/collections-the-universal-warrior-part-iii-the-cult-of-the-badass/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206454</guid>
            <pubDate>Sat, 20 Feb 2021 18:24:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(IMHO) Apple Sucks]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26206280">thread link</a>) | @jlelse
<br/>
February 20, 2021 | https://jlelse.blog/posts/apple-sucks | <a href="https://web.archive.org/web/*/https://jlelse.blog/posts/apple-sucks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The fact that I am not an Apple fan may have already been read in one or the other post. But everyone should make their own decisions and use Apple if it makes them happy.</p><p>But what makes me increasingly annoyed, almost angry, is <a href="https://www.dailydot.com/unclick/inside-the-cult-of-apple-worship/" target="_blank" rel="noopener">this worship of Apple</a>. It’s also getting harder and harder to find a tech blog or a tech YouTube channel that critically questions Apple’s actions and doesn’t celebrate every new product.</p><p>I wonder how Apple fanboys can be so blinded as to believe anything from Apple.</p><p>That Apple is protecting the environment by <a href="https://www.youtube.com/watch?v=WVPM6D-3aZo" target="_blank" rel="noopener">leaving out the chargers</a> on the iPhone, or that it cares about user privacy.</p><p>Apple made record sales in the past quarter. A whole <a href="https://www.apple.com/newsroom/pdfs/FY21%20Q1%20Consolidated%20Financial%20Statements.pdf" target="_blank" rel="noopener">111 billion (!!!) dollars</a>, about a third of which was profit.</p><p>Why? Because Apple tries to monetize everything.</p><p>Google is the default search engine <a href="https://www.macrumors.com/2020/10/25/google-apple-search-default-8-12-billion/" target="_blank" rel="noopener">because Apple gets billions for it</a>.</p><p>Why can’t you install apps from outside the App Store? Because Apple makes billions <a href="https://www.apple.com/newsroom/pdfs/FY21%20Q1%20Consolidated%20Financial%20Statements.pdf" target="_blank" rel="noopener">with their services</a>.</p><p>Why can’t Apple devices be repaired easily? Because Apple wants to make money with Apple Care.</p><p>Why does Apple do so much vendor lockin? So that Apple can make many more billions by selling additional devices.</p><p>How does Apple make such a large profit margin? By <a href="https://www.theverge.com/2020/12/19/22190608/apple-labor-violation-wistron-riot-india-probation" target="_blank" rel="noopener">exploiting workers in low-wage countries</a>.</p><p>Other manufacturers are no better. They see how well Apple’s strategies work, so they copy them. But that doesn’t justify tolerating them.</p><p>Apple products aren’t even worth it <a href="https://mariusmasalar.me/airpods-max" target="_blank" rel="noopener">because they’re better</a> than the competition or offer <a href="https://uxdesign.cc/the-decline-of-apples-leadership-in-ux-design-b4ad1d24c953" target="_blank" rel="noopener">a better user experience</a>.</p><p>And yet Apple products seem to be more popular than ever and fans buy every new product. Even <a href="https://www.apple.com/shop/product/MHXF3AM/A/magsafe-duo-charger" target="_blank" rel="noopener">a charger for over $100</a>.</p><p>Guys, come out of your Apple cosmos! Apple is not your friend, Apple only wants your money (as it is in capitalism).</p></div></div>]]>
            </description>
            <link>https://jlelse.blog/posts/apple-sucks</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206280</guid>
            <pubDate>Sat, 20 Feb 2021 18:02:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking a Stand in the War on General-Purpose Computing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26206027">thread link</a>) | @ColinWright
<br/>
February 20, 2021 | https://cheapskatesguide.org/articles/war-on-gp-computing.html | <a href="https://web.archive.org/web/*/https://cheapskatesguide.org/articles/war-on-gp-computing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://cheapskatesguide.org/articles/war-on-gp-computing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26206027</guid>
            <pubDate>Sat, 20 Feb 2021 17:34:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Swift achieved dynamic linking where Rust couldn't (2019)]]>
            </title>
            <description>
<![CDATA[
Score 140 | Comments 77 (<a href="https://news.ycombinator.com/item?id=26205969">thread link</a>) | @zdw
<br/>
February 20, 2021 | https://gankra.github.io/blah/swift-abi/ | <a href="https://web.archive.org/web/*/https://gankra.github.io/blah/swift-abi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


    <header>
    
    <p>November 7th, 2019</p>
</header>
    <nav id="TOC"><ul>
<li><a href="#background">1 Background</a><ul>
<li><a href="#swift-tldr">1.1 Swift TLDR</a><ul></ul></li>
<li><a href="#what-is-abi-stability-and-dynamic-linking">1.2 What Is ABI Stability and Dynamic Linking</a><ul></ul></li>
<li><a href="#swifts-stable-abi">1.3 Swift's Stable ABI</a><ul></ul></li>
<li><a href="#resilience-and-library-evolution">1.4 Resilience and Library Evolution</a><ul></ul></li></ul></li>
<li><a href="#details">2 Details</a><ul>
<li><a href="#resilient-type-layout">2.1 Resilient Type Layout</a><ul></ul></li>
<li><a href="#polymorphic-generics">2.2 Polymorphic Generics</a><ul></ul></li>
<li><a href="#reabstraction">2.3 Reabstraction</a><ul></ul></li>
<li><a href="#materialization">2.4 Materialization</a><ul></ul></li>
<li><a href="#ownership">2.5 Ownership</a><ul></ul></li>
<li><a href="#opting-out-of-resilience">2.6 Opting Out of Resilience</a><ul></ul></li>
<li><a href="#esoterica">2.7 Esoterica</a><ul></ul></li></ul></li></ul></nav>
<p>For those who don't follow Swift's development, ABI stability has been one of its most ambitious projects and possibly it's defining feature, <a href="https://swift.org/blog/abi-stability-and-more/">and it finally shipped in Swift 5</a>. The result is something I find endlessly fascinating, because I think Swift has pushed the notion of ABI stability farther than any language without much compromise.</p>
<p>So I decided to write up a bunch of the interesting high-level details of Swift's ABI. This <strong>is not</strong> a complete reference for Swift's ABI, but rather an abstract look at its implementation strategy. If you really want to know exactly how it allocates registers or mangles names, look somewhere else.</p>
<p>Also for context on why I'm writing this, I'm just naturally inclined to compare the design of Swift to Rust, because those are the two languages I have helped develop. Also some folks like to complain that Rust doesn't bother with ABI stability, and I think looking at how Swift <em>does</em> helps elucidate why that is.</p>
<p>This article is broken up into two sections: background and details. Feel free to skip to the details if you're very comfortable with the problems inherent to producing a robust dynamically linked system interface.</p>
<p>If you aren't comfortable with the basic concepts of type layouts, ABIs, and calling conventions, I recommend reading the article I wrote on <a href="https://gankra.github.io/blah/rust-layouts-and-abis/">the basic concepts of type layout and ABI as they pertain to Rust</a>.</p>
<p>Also huge thanks to the Swift devs for answering all of the questions I had and correcting my misunderstandings!</p>

<p>I know a lot of people don't really follow Swift, and it can be hard to understand what they've really accomplished without some context of what the language is like, so here's a TL;DR of the language's shape:</p>
<ul>
<li>Exists to replace Objective-C on Apple's platforms, oriented at application development
<ul>
<li>natively interoperates with Objective-C</li>
<li>has actual classes and inheritance</li>
</ul>
</li>
<li>At a distance, very similar to Rust (but "higher-level")
<ul>
<li>interfaces, generics, closures, enums with payloads, unsafe escape hatch</li>
<li>no lifetimes; Automatic Reference Counting (ARC) used for complex cases</li>
<li>simple function-scoped mutable borrows (inout)</li>
<li>Ahead-Of-Time (AOT) compiled</li>
</ul>
</li>
<li>An emphasis on "value semantics"
<ul>
<li>structs/primitives ("values") are "mutable xor shared", stored inline</li>
<li>collections implement value semantics by being Copy-On-Write (CoW) (using ARC)</li>
<li>classes are mutably shared and boxed (using ARC), undermining value semantics (can even cause data races)</li>
</ul>
</li>
<li>An emphasis on things Just Working
<ul>
<li>language may freely allocate to make things Work</li>
<li>generic code may be polymorphically compiled</li>
<li>fields may secretly be getter-setter pairs</li>
<li>ARC and CoW can easily result in surprising performance cliffs</li>
<li>tons of overloading and syntactic sugar</li>
</ul>
</li>
</ul>
<p>Don't worry about fully understanding all of these, we'll dig into the really important ones and their implications as we go on.</p>
<h2 id="what-is-abi-stability-and-dynamic-linking"><a href="#what-is-abi-stability-and-dynamic-linking">1.2 What Is ABI Stability and Dynamic Linking</a></h2>
<p>When the Swift developers talk about "ABI Stability" they have exactly one thing in mind: they want native system APIs for MacOS and iOS to be written in Swift, and for you to dynamically link to them. This includes dynamically linking to a single system-wide copy of the Swift Standard Library.</p>
<p>Ok so what's dynamic linking? For our purposes it's a system where you can compile an application against some abstract <em>description</em> of an interface without providing an actual implementation of it. This produces an application that on its own will not work properly, as part of its implementation is missing.</p>
<p>To run properly, it must tell the system's <em>dynamic linker</em> about all of the interfaces it needs implementations for, which we call <em>dynamic libraries</em> (dylibs). Assuming everything goes right, those implementations get hooked up to the application and everything Just Works.</p>
<p>Dynamic linking is very important to system APIs because it's what allows the system's implementation to be updated without also rebuilding all the applications that run on it. The applications don't care about what implementation they get, as long as it conforms to the interface they were built against.</p>
<p>It can also significantly reduce a system's memory footprint by making every application share the same implementation of a library (Apple cares about this a lot on its mobile devices).</p>
<p>Since Swift is AOT compiled, the application and the dylib both have to make a bunch of assumptions on how to communicate with the other side long before they're linked together. These assumptions are what we call ABI (an Application's <em>Binary</em> Interface), and since it needs to be consistent over a long period of time, that ABI better be stable.</p>
<p>So dynamic linking is our goal, and ABI stability is just a means to that end.</p>
<p>For our purposes, an ABI can be regarded as 3 things:</p>
<ol>
<li><a href="https://gankra.github.io/blah/rust-layouts-and-abis/#layout">The layout of types</a></li>
<li><a href="https://gankra.github.io/blah/rust-layouts-and-abis/#calling-conventions">The calling convention of functions</a></li>
<li><a href="https://en.wikipedia.org/wiki/Name_mangling">The names of symbols</a></li>
</ol>
<p>If you can define these details and never break them, you have a stable ABI, and dynamic linking can be performed. (Ignoring trivial cases where both the dylib and application were built together and ABI stability is irrelevant.)</p>
<p>Now to be clear, ABI stability isn't technically a property of a programming language. It's really a property of a system and its toolchain. To understand this, let's look at history's greatest champion of ABI stability and dynamic linking: C.</p>
<p>All the major OSes make use of C for their dynamically linked system APIs. From this we can conclude that C "has" a stable ABI. But here's the catch: if you compile some C code for dynamic linking on Ubuntu, that compiled artifact won't work on MacOS or Windows. Heck, even if you compile it for 64-bit Windows it won't work on 32-bit Windows!</p>
<p>Why? Because ABI is something defined by the <em>platform</em>. It's not even something that necessarily needs to be documented. The platform vendor can just require you to use a particular compiler toolchain that happens to implement their stable ABI.</p>
<p>(As it turns out, this is actually the reality of Swift's Stabilized ABIs on Apple platforms. They're not actually properly documented, xcode just implements it and the devs will do their best not to break it. They're not opposed to documenting it, it's just a lot of work and shipping was understandably higher-priority. Thankfully I don't really care about the details, or the difference between the ABIs on MacOS and iOS, or implementations other than Apple's, so I can keep saying "Swift's ABI" and it won't be a problem.)</p>
<p>But if that's the case, why don't platform vendors provide stable ABIs for lots of other languages? Well it turns out that the language isn't completely irrelevant here. Although ABI isn't "part" of C itself, it <em>is</em> relatively friendly to the concept. Many other languages aren't.</p>
<p>To understand why C is friendly to ABI stability, let's look at its much less friendly big brother, C++.</p>
<p>Templated C++ functions cannot have their implementations dynamically linked. If I provide you with a system header that provides the following declaration, you simply can't use it:</p>
<pre><code>template &lt;typename T&gt;
bool process(T value);
</code></pre>
<p>This is because <em>it has no symbol</em>. C++ templates are monomorphically compiled, which is a fancy way of saying that the way to use them is to copy-paste the implementation with all the templates replaced with a particular value.</p>
<p>So if I want to call <code>process&lt;int&gt;(0)</code>, I need to have the implementation available to copy-paste it with <code>int</code> replacing <code>T</code>. Needing to have the implementation available at compile-time completely undermines the concept of dynamic linking.</p>
<p>Now perhaps the platform could make a promise that it has precompiled several monomorphic instances, so say symbols for <code>process&lt;int&gt;</code> and <code>process&lt;bool&gt;</code> are available. You could make that work, but then the function wouldn't really be meaningfully templated anymore, as only those two explicitly blessed substitutions would be valid.</p>
<p>There would be little difference from simply providing a header containing:</p>
<pre><code>bool process(int value);
bool process(bool value);
</code></pre>
<p>Now a header <em>could</em> just include the template's implementation, but what that would really be guaranteeing is that that particular implementation will <em>always</em> be valid. Future versions of the header could introduce new implementations, but a robust system would have to assume applications could using either, or perhaps even both at the same time.</p>
<p>This is no different from a C macro or <code>inline</code> function, but I think it's fair to say that templates are a little more important in C++.</p>
<p>For comparison, most platforms provide a dynamically linked version of the C standard library, and everyone uses it. On the other hand, C++'s standard library isn't very useful to dynamically link to; it's literally called the Standard <em>Template</em> Library!</p>
<p>In spite of this issue (and many others), C++ <em>can</em> be dynamically linked and used in an ABI-stable way! It's just that it ends up looking a lot more like a C interface due to the limitations.</p>
<p>Idiomatic Rust is similarly hostile to dynamic linking (it also uses monomorphization), and so an ABI-stable Rust would also end up only really supporting C-like interfaces. Rust has largely just embraced that fact, focusing its attention on other concerns.</p>

<p>I have now made some seemingly contradictory claims:</p>
<ul>
<li>Swift has similar features to Rust</li>
<li>Rust's features make it hostile to dynamic linking</li>
<li>Swift is great at dynamic linking</li>
</ul>
<p>The secret lies in where the two languages diverge: dynamism. Rust is a <em>very</em> static and explicit language, reflecting the sensibilities of its developers and early adopters. Swift's developers preferred a much more dynamic and implicit design, and so that's what they made.</p>
<p>As it turns out, hiding implementation details and doing more work at runtime is <em>really</em> friendly to dynamic linking. Who'd've …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gankra.github.io/blah/swift-abi/">https://gankra.github.io/blah/swift-abi/</a></em></p>]]>
            </description>
            <link>https://gankra.github.io/blah/swift-abi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205969</guid>
            <pubDate>Sat, 20 Feb 2021 17:28:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Website scores kill our success, waste our time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26205576">thread link</a>) | @AuthorizedCust
<br/>
February 20, 2021 | https://www.arencambre.com/2021/02/20/website-scores-kill-our-success-waste-our-time/ | <a href="https://web.archive.org/web/*/https://www.arencambre.com/2021/02/20/website-scores-kill-our-success-waste-our-time/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Many websites score us. They measure our reputation or activity.</p>



<p>Do you want to be successful? Don’t focus on these website scores. Focus on outcomes.</p>



<h2>Example scores</h2>



<p>Website scores are really <a href="https://en.wikipedia.org/wiki/Gamification">gamification</a>. With these scores, site owners induce you to do things that benefit <em>them</em>.</p>



<p>Here’s scores from some nerdy sites I use:</p>



<p>Github scores my <a href="https://github.com/arencambre">contributions</a>:</p>



<figure><a href="https://www.arencambre.com/wp-content/uploads/2021/02/image.png"><img loading="lazy" width="1024" height="602" src="https://www.arencambre.com/wp-content/uploads/2021/02/image-1024x602.png" alt="" srcset="https://www.arencambre.com/wp-content/uploads/2021/02/image-1024x602.png 1024w, https://www.arencambre.com/wp-content/uploads/2021/02/image-300x176.png 300w, https://www.arencambre.com/wp-content/uploads/2021/02/image-768x451.png 768w, https://www.arencambre.com/wp-content/uploads/2021/02/image-1536x903.png 1536w, https://www.arencambre.com/wp-content/uploads/2021/02/image-2048x1204.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Aren Cambre’s Github score</figcaption></figure>



<p>Stack Overflow scores the <a href="https://stackoverflow.com/users/425477/aren-cambre">judgment of others on my activity</a>:</p>



<figure><a href="https://www.arencambre.com/wp-content/uploads/2021/02/image-1.png"><img loading="lazy" width="1024" height="458" src="https://www.arencambre.com/wp-content/uploads/2021/02/image-1-1024x458.png" alt="" srcset="https://www.arencambre.com/wp-content/uploads/2021/02/image-1-1024x458.png 1024w, https://www.arencambre.com/wp-content/uploads/2021/02/image-1-300x134.png 300w, https://www.arencambre.com/wp-content/uploads/2021/02/image-1-768x343.png 768w, https://www.arencambre.com/wp-content/uploads/2021/02/image-1.png 1076w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Aren Cambre’s Stack Overflow score</figcaption></figure>



<p>Hacker News scores the <a href="https://news.ycombinator.com/user?id=AuthorizedCust">upvotes of my submissions or comments</a>:</p>



<figure><a href="https://www.arencambre.com/wp-content/uploads/2021/02/image-2.png"><img loading="lazy" width="1024" height="724" src="https://www.arencambre.com/wp-content/uploads/2021/02/image-2-1024x724.png" alt="" srcset="https://www.arencambre.com/wp-content/uploads/2021/02/image-2-1024x724.png 1024w, https://www.arencambre.com/wp-content/uploads/2021/02/image-2-300x212.png 300w, https://www.arencambre.com/wp-content/uploads/2021/02/image-2-768x543.png 768w, https://www.arencambre.com/wp-content/uploads/2021/02/image-2.png 1250w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Aren Cambre’s Hacker News score</figcaption></figure>



<p>None of these scores meaningfully measure anything important about me.</p>



<h2>Scores don’t matter…</h2>



<p>Your time is your most precious asset. When you focus on these website scores, you’re giving away your most precious asset, just to enrichen company owners.</p>



<p>These scores don’t matter. These websites don’t even know your goals!</p>



<h2>…unless you made the score</h2>



<p>The scores that matter will be the ones you’ve created, that measure your progress to your own goals.</p>



<p>For example, I ran a <a href="https://www.cubcamp.org/">Cub Scout day camp</a> for four years. Wanting to have maximum positive effect on the community, I have a “go big or go home” approach to Scouting. I rated myself in part on how well the camp recruited participants. That is a score I made for myself. It helped us set new records.</p>



<figure><a href="https://www.arencambre.com/wp-content/uploads/2021/02/image-3.png"><img loading="lazy" width="970" height="708" src="https://www.arencambre.com/wp-content/uploads/2021/02/image-3.png" alt="" srcset="https://www.arencambre.com/wp-content/uploads/2021/02/image-3.png 970w, https://www.arencambre.com/wp-content/uploads/2021/02/image-3-300x219.png 300w, https://www.arencambre.com/wp-content/uploads/2021/02/image-3-768x561.png 768w" sizes="(max-width: 970px) 100vw, 970px"></a><figcaption>Participant registration trends at a Cub Scout day camp I ran.</figcaption></figure>



<h2>Focus for success</h2>



<p>If website scores end up being good, that’s fine! But make sure those great scores are merely incidental. They should not be your goal.</p>



<p>Focus on scores that matter. They will be the ones you created. They will help you know your path to your goals.</p>
	</div></div>]]>
            </description>
            <link>https://www.arencambre.com/2021/02/20/website-scores-kill-our-success-waste-our-time/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205576</guid>
            <pubDate>Sat, 20 Feb 2021 16:53:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cranelift, Part 2: Compiler Efficiency, CFGs, and a Branch Peephole Optimizer]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 18 (<a href="https://news.ycombinator.com/item?id=26205418">thread link</a>) | @lukastyrychtr
<br/>
February 20, 2021 | https://cfallin.org/blog/2021/01/22/cranelift-isel-2/ | <a href="https://web.archive.org/web/*/https://cfallin.org/blog/2021/01/22/cranelift-isel-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>This post is the second in a three-part series about
<a href="https://github.com/bytecodealliance/wasmtime/tree/main/cranelift">Cranelift</a>.
In the <a href="https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">first post</a>, I
described the context around Cranelift and our project to replace its
backend code-generation infrastructure, and detailed the
instruction-selection problem and how we solve it. The remaining two
posts will be deep-dives into some interesting engineering problems.</p>

<p>In this post, I want to dive into the <em>compiler performance</em> aspect of
our work more deeply. (In the next post we’ll explore correctness.)
There are many interesting aspects of compilation speed I could talk
about, but one particularly difficult problem is the handling of
<em>control flow</em>: how do we translate structured control flow at the
Wasm level into control-flow graphs at the IR level, and finally to
branches in a linear stream of instructions at the machine-code level?</p>

<p>Doing this translation efficiently requires careful attention to the
overall pass structure, with the largest wins coming when one can
completely eliminate a category of work. We’ll see this in how we
combine several passes in a traditional lowering design (critical-edge
splitting, block ordering, redundant-block elimination, branch
relaxation, branch target resolution) into <em>inline transforms</em> that
happen during other passes (lowering of the CLIF, or Cranelift IR,
into machine-specific IR; and later, binary emission).</p>

<p>This post basically describes the
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/machinst/buffer.rs"><code>MachBuffer</code></a>,
a “smart machine-code buffer” that knows about branches and edits them
on-the-fly as we emit them, and the
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/machinst/blockorder.rs"><code>BlockLoweringOrder</code></a>,
which allows us to lower code in final basic-block order, with split
critical edges inserted implicitly, by traversing a never-materialized
implicit graph. The work was done mostly in <a href="https://github.com/bytecodealliance/wasmtime/pull/1718">Cranelift PR
#1718</a>, which
resulted in a ~10% compile-time improvement and a ~25%
compile+run-time improvement on a CPU-intensive benchmark (<code>bz2</code>).</p>

<h2 id="control-flow-graphs">Control-Flow Graphs</h2>

<p>Before we discuss any of that, we need to review control-flow graphs
(CFGs)! The CFG is a fundamental data structure used in almost all
modern compilers. In brief, it represents how execution (i.e., program
control) may flow through instructions, using graph nodes to represent
linear sequences of instructions and graph edges to represent all
possible control-flow transfers at branch instructions.</p>

<p>At the end of the instruction selection process, which we learned
about in the <a href="https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">previous post</a>, we have a function body lowered into VCode that consists of
<a href="https://en.wikipedia.org/wiki/Basic_block"><em>basic blocks</em></a>. A basic
block is a contiguous sequence of instructions that has no outbound
branches except at the end, and has no inbound branches except at the
beginning. In other words, it is “straight-line” code: execution
always starts at the top and proceeds to the end. An example
control-flow graph (CFG) consisting of four basic blocks is shown
below:</p>

<p><img src="https://cfallin.org/assets/2020-10-08-cfg-web.svg" alt="Figure: Control-flow graph with four basic blocks in a diamond"></p>

<p>Control-flow graphs are excellent data structures for compilers to
use. By making the flow of execution explicit as graph edges, rather
than reasoning about instructions in order in memory as the processor
sees them, many analyses can be performed more easily. For example,
<a href="https://en.wikipedia.org/wiki/Data-flow_analysis">dataflow analysis</a>
problems can be solved easily because the CFG makes traversal of
possible control-flow transfers easy. Graph-based representations of
the program also allow easier <em>moving and insertion of code</em>: it is
less error-prone to manipulate an explicit graph than to reason about
implicit control-flow (e.g. fallthrough from a not-taken conditional
branch). Finally, the graph representation factors out the question of
<em>block ordering</em>, which can be important for performance; we can
address this problem separately by choosing how we serialize the graph
nodes (blocks). For these reasons, most compiler IRs, including
Cranelift’s CLIF and <code>VCode</code>, are CFG-based.</p>

<p>(Historical note: control-flow graphs were invented by the late
<a href="https://en.wikipedia.org/wiki/Frances_Allen">Frances Allen</a>, who
largely established the algorithmic foundations that modern compilers
use. Her paper <a href="https://www.clear.rice.edu/comp512/Lectures/Papers/1971-allen-catalog.pdf">A catalogue of optimizing
transformations</a><sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>
covers essentially all of the important optimizations used today and
is well worth a read.)</p>

<h2 id="cpus-and-branch-instructions">CPUs and Branch Instructions</h2>

<p>To represent a CFG’s end-of-block branches at the instruction level,
we can use <em>two-way branches</em>: these are instructions that branch
either to one basic-block target if some condition is true, or another
if the condition is false. (Basic blocks can also end in simple
unconditional single-target branches.) We wrote such a branch as <code>if
r0, L1, L2</code> above; this means that the block <code>L0</code> will be followed in
execution either by <code>L1</code> or <code>L2</code>, depending on the value in <code>r0</code>.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<h3 id="branches-with-fallthrough">Branches with Fallthrough</h3>

<p>However, CPUs rarely have such two-way branch instructions. Instead,
conditional control-flow in common ISAs is almost always provided with
a <em>conditional branch with fallthrough</em>. This is an instruction that,
if some condition is true, branches to another location; otherwise,
does nothing, and allows execution to continue sequentially. This is a
better fit for a hardware implementation for a number of reasons: it’s
easier to encode one target than two (the destination of the jump
might be quite far away for some branches, and instructions have
limited bits available), and it’s usually the case that the compiler
can place one of the successor blocks immediately afterward anyway.</p>

<p>Now, this isn’t much of a problem if we just want a working compiler;
instead of a two-way branch</p>



<p>We can write a sequence of branches</p>



<p>where <code>br_if</code> branches to <code>L1</code> or falls through to the unconditional
<code>goto</code>. But this is not so efficient in many cases. Consider what
would happen if we laid out basic blocks in the order <code>L0</code>, <code>L2</code>,
<code>L1</code>, <code>L3</code>:</p>

<div><div><pre><code>    L0:
      ...
      br_if r0, L1
      goto L2
    L2:
      ...
      goto L3
    L1:
      ...
      goto L3
    L3:
      ...
      return
</code></pre></div></div>

<p>There are two redundant unconditional branches (<code>goto</code> instructions),
each of which uselessly branches to the following instruction. We can
remove both of them with no ill effects, taking advantage instead of
<em>fallthrough</em>, or allowing execution to proceed directly from the end
of one block to the start of the next one:</p>

<div><div><pre><code>    L0:
      ...
      br_if r0, L1
      // ** Otherwise, fall through to L2 **
    L2:
      ...
      goto L3
    L1:
      ...
      // ** Always fall through to L3 **
    L3:
      ...
      return
</code></pre></div></div>

<p>This seems like an easy enough problem to solve: we just need to
recognize when a branch is redundant and remove it, right? Well, yes,
but we can do much better than that in some cases; we’ll dig into this
problem in significantly more depth below!</p>

<h3 id="machine-code-encoding-branch-offsets">Machine-code Encoding: Branch Offsets</h3>

<p>So far, we’ve written our machine instructions in a way that humans
can read, using <em>labels</em> to refer to locations in the instruction
stream. At the hardware level, however, these labels do not exist;
instead, the machine code branches contain target <em>addresses</em> (usually
encoded as relative <em>offsets</em> from the branch instruction). In other
words, we do not see <code>goto L3</code>, but rather <code>goto +32</code>.</p>

<p>This gives rise to several complications when emitting machine code
from a list of instruction <code>struct</code>s.  At the most basic level, we
have to resolve labels to offsets and then patch the branches
appropriately. This is analogous to (but at a lower level than) the
job of a <a href="https://en.wikipedia.org/wiki/Linker_(computing)">linker</a>:
we resolve symbols to concrete values after deciding placement, and
then edit the code according to <em>relocations</em> to refer to those
symbols. In other words, whenever we emit a branch, we make a note (a
relocation, or “label use” in our <code>MachBackend</code>) to go back later and
patch it with the resolved label offset.</p>

<p>The second, and more interesting, problem arises because not all
branch instructions can necessarily refer to all possible labels! As a
concrete example, on AArch64, conditional branches have a ±1 MB range,
and unconditional branches have a ±128 MB range. This arises out of
instruction-encoding considerations: particularly in
fixed-instruction-size ISAs (such as ARM, MIPS, and RISC V), less than
a full machine word of bits are available for the immediate jump
offset that is embedded in the instruction word. (The instruction
itself is always a machine-word wide, and we need some bits for the
opcode and condition code too!) On x86, we have limits for a different
reason: the variable-width encoding allows either a one-byte offset
(allowing a ±128 byte range) or four-byte offset (allowing a ±2 GB
range).</p>

<p>To make a branch to a far-off label, then, on some machines we need to
either use a different sort of branch than the default choice for the
instruction selector, or we need to use a form of <em>indirection</em>, by
targetting the original branch to <em>another branch</em>, the latter in a
special form. The former is tricky because we do not know whether a
target will be in-range until all code is lowered and placement is
computed; so we need to either optimistically or pessimistically lower
branches to the shortest or longest form (respectively) and possibly
switch later. To make matters worse, as we edit branches to use a
shorter or longer form, their length may change, moving <em>other</em>
targets into or out of range; in the most general solution, this is a
“fixpoint problem”, where we iterate until no more changes occur.</p>

<h2 id="challenges-in-lowering-cfgs-to-machine-code">Challenges in Lowering CFGs to Machine Code</h2>

<p>So far, we have a way to produce <em>correct</em> machine code. To emit the
final code for a two-target branch, we can emit a conditional-
followed by unconditional-branch machine instruction. To resolve
branch targets correctly, we can assume that any target could be
anywhere in memory, and always use the long form of a branch; then we
just need to come back in one final pass and fill in the offsets when
we know them.</p>

<p>We can do much better than this, though! Below I’ll describe four
problems and the ways that they are traditionally solved.</p>

<h3 id="problem-1-efficient-use-of-fallthroughs">Problem 1: Efficient use of Fallthroughs</h3>

<p>We described above how <em>branch fallthroughs</em> allow us to omit some
some unconditional branches once we know for sure the order that basic
blocks will appear in the final binary. In …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cfallin.org/blog/2021/01/22/cranelift-isel-2/">https://cfallin.org/blog/2021/01/22/cranelift-isel-2/</a></em></p>]]>
            </description>
            <link>https://cfallin.org/blog/2021/01/22/cranelift-isel-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205418</guid>
            <pubDate>Sat, 20 Feb 2021 16:37:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blinded by the light: Chicago startup’s technology saves your eyes – and energy]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26205395">thread link</a>) | @tyler109
<br/>
February 20, 2021 | https://centered.tech/blinded-by-the-light-chicago-startups-technology-saves-your-eyes-and-energy-too/ | <a href="https://web.archive.org/web/*/https://centered.tech/blinded-by-the-light-chicago-startups-technology-saves-your-eyes-and-energy-too/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div>
                    
                                                
                        
                        

                        <div><a href="https://centered.tech/wp-content/uploads/2021/01/azumo.jpg"><p><img width="750" height="375" src="https://centered.tech/wp-content/uploads/2021/01/azumo-750x375.jpg" alt="smartphone" loading="lazy" sizes="(max-width: 750px) 100vw, 750px" data-src="https://centered.tech/wp-content/uploads/2021/01/azumo-750x375.jpg" data-srcset="https://centered.tech/wp-content/uploads/2021/01/azumo-750x375.jpg 750w, https://centered.tech/wp-content/uploads/2021/01/azumo-360x180.jpg 360w" data-sizes="auto" data-expand="700" srcset="https://centered.tech/wp-content/uploads/2021/01/azumo-750x375.jpg 750w, https://centered.tech/wp-content/uploads/2021/01/azumo-360x180.jpg 360w"></p></a></div>
                        
                        
                        <div>
                            

                            <div>
                                <p><span>Trying to see your smartphone screen in bright sunlight is not only frustrating, it uses a lot of energy. Chicago-based </span><a href="https://www.azumotech.com/"><b>Azumo</b></a><span> is developing technology to eliminate that issue.</span></p>
<p><span>Founder and CEO </span><b>Mike Casper</b><span> recently spoke with Centered about Azumo’s work on “LCD 2.0” technology. The business launched about 12 years ago under a different name and with a different core mission. But after a couple of pivots, Azumo landed on a new goal of creating an ultra-thin light transmission technology that improves electronic device screens, which it commercialized about four years ago.</span></p>
<p><b>The problem: </b><span>Most LCD screens are dark when they’re off and embedded LED lights turn on from the back to illuminate the screen pixels when the device is in use. It’s not a very energy-efficient process, Casper said, and a decent proportion of a mobile device’s energy consumption goes toward lighting up the screen. “Even though LCDs have been around for decades, we’ve pretty much optimized them as much as we can using old technology. It’s only allowing 7% of the light through the pixels. So 93% is wasted energy,” he said.</span></p>
<p><b>The technology: </b><span>Azumo’s innovation is a frontlit, reflective display. The screen reportedly uses 90% less energy than a backlit screen and can run for up to a week on a single charge. It leverages ambient light around the device and directs the light to the display itself, as opposed to a backlight that beams light through the screen and toward your face.</span></p>
<p><span>“We can have devices that last multiple days on a battery charge and look great in the bright sun. A lot of people don’t realize this is possible,” Casper said. “This display technology looks fabulous in the sun. It is extremely bright and you don’t have to block or shadow the screen to see it. It actually looks better the brighter the sun is.”&nbsp;</span></p>
<p><b><img loading="lazy" src="https://centered.tech/wp-content/uploads/2021/01/azumo2.png" alt="" width="1155" height="655" srcset="https://centered.tech/wp-content/uploads/2021/01/azumo2.png 1155w, https://centered.tech/wp-content/uploads/2021/01/azumo2-300x170.png 300w, https://centered.tech/wp-content/uploads/2021/01/azumo2-1024x581.png 1024w, https://centered.tech/wp-content/uploads/2021/01/azumo2-768x436.png 768w, https://centered.tech/wp-content/uploads/2021/01/azumo2-750x425.png 750w, https://centered.tech/wp-content/uploads/2021/01/azumo2-1140x646.png 1140w" sizes="(max-width: 1155px) 100vw, 1155px">Hidden benefit: </b><span>The light coming from LEDs in a backlit screen shines directly into your eyes. This can cause eye fatigue and is connected to sleep disruption, especially with the amount of device time the average person now racks up. Azumo’s technology lessens this effect.</span></p>
<p><span>“LCD 2.0 is a more natural and comfortable way of seeing the screen, by using the ambient light around you,” Casper said. “When you’re reading at night, it mutes the lighting. … If the room light dims — if you’re getting ready for bed — the device light goes in concert.”&nbsp;</span></p>
<p><b>On being Midwest-based:</b><span> Casper said most of the tech talent, manufacturing capabilities, and supply chain support Azumo needs are right here in the Midwest, which sits well with the co-founders because they all grew up in the area. Azumo essentially had to establish a new supply chain after pivoting from its previous business focus to display screens, and the regional industry strengths have lessened the burden.&nbsp;</span></p>
<p><span>“While it was challenging to have to basically start a supply chain from scratch, we’ve been fortunate given the manufacturing base and the high-tech base in the Midwest,” he said, pointing to innovations such as optical film and roll-to-roll manufacturing that are established in the region. “There’s a lot of history here that people don’t realize within the display space and the lighting space.”&nbsp;</span></p>
<p><b>What’s next: </b><span>Up until now, Azumo’s technology has been optimized for small screens that are 5 inches or less. This year, they intend to launch tablet displays of up to 10.5 inches. The business will scale up and make new hires accordingly.</span></p>
                                
	                            
                                                            </div>


                        </div>
	                    
	                    
                        
                                    </div>
            </div>
            
        </div></div>]]>
            </description>
            <link>https://centered.tech/blinded-by-the-light-chicago-startups-technology-saves-your-eyes-and-energy-too/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205395</guid>
            <pubDate>Sat, 20 Feb 2021 16:35:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bill Gates Slams Bitcoin After Warren Buffett Praises Elon Musk and Tesla]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26205195">thread link</a>) | @mgh2
<br/>
February 20, 2021 | https://www.fool.ca/2021/02/19/bill-gates-slams-bitcoin-after-warren-buffett-but-praises-elon-musk-and-tesla/ | <a href="https://web.archive.org/web/*/https://www.fool.ca/2021/02/19/bill-gates-slams-bitcoin-after-warren-buffett-but-praises-elon-musk-and-tesla/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="content">               
                
<header>
    
    
</header>

    
        <figure>
                <figcaption>
            Image source: Getty Images.        </figcaption>
    </figure>



<section id="full_content">
    <p><strong>Microsoft</strong> founder Bill Gates just slammed cryptocurrencies, including Bitcoin. He <a href="https://www.wsj.com/articles/bill-gates-interview-advice-quotes-decisions-11613654671">said</a>, “It’d be good to get rid of that” while highlighting how cryptocurrency “allows for certain criminal activities” in an interview with the Wall Street Journal.</p>
<p>With this, Gates joined the legendary investors and <strong>Berkshire Hathaway</strong> CEO Warren Buffett — who has publicly expressed his hatred for bitcoin and other cryptocurrencies in the past. Before I discuss why the cryptocurrency market is extremely risky for small investors with a low-risk appetite, let’s explore what Gates and Buffett have to say about it.</p>
<h2>Bill Gates slams Bitcoin</h2>
<p>Gates is currently the world’s third wealthiest person. Bloomberg billionaires index estimates his net wealth to be around US$137 billion. In another <a href="https://twitter.com/CNBC/status/1362405700878614532">interview</a> with CNBC on Thursday, Gates revealed neither he doesn’t have any Bitcoin position — long or short. Last year, Buffett also criticized cryptocurrency calling it worthless. Back then, he clarified that he would never invest in cryptocurrency.</p>
<p>In his latest interview, Gates showered prases on <strong>Tesla</strong> <a href="https://www.fool.ca/company/nasdaq-tsla-tesla-motors/737/" data-is-tickerizer-link="true">(NASDAQ:TSLA)</a> CEO Elon Musk. He <a href="https://www.cnbc.com/2021/02/18/bill-gates-says-we-need-more-elon-musks-to-tackle-climate-change.html">believes</a> “What Elon’s done with Tesla is fantastic,” calling it “…the biggest single contribution to showing us that electric cars are part of how we solve climate change,” adding, “We need a lot of Elon Musks” and “he should be very proud of what he’s done.”</p>
<h2>Tesla’s big Bitcoin bets</h2>
<p>Tesla and its latest annual filing last week revealed that it <a href="https://www.fool.ca/2021/02/08/tesla-buys-bitcoin-is-dogecoin-next-for-elon-musk/">invested US$1.5 billion in Bitcoin</a>. The company also plans to start accepting Bitcoin as payment for its products soon. Tesla — which is now a part of the <strong>S&amp;P 500 Index</strong> — made its surprising Bitcoin purchase in January. As a result, investors who now own Tesla stock or S&amp;P 500 funds indirectly have stakes in the cryptocurrency market — whether they like it or not.</p>
<p>After Tesla’s big bets on Bitcoin, the cryptocurrency market has recently seen a massive jump in its trade volume. Not many small investors know that the extremely volatile cryptocurrency market can ruin their years of saving in no time. The fact is you don’t need to buy Bitcoin to multiply your savings in the long term. You can do it the way Warren Buffett does it without taking unnecessary risks.</p>
<h2>Invest money the Warren Buffett way</h2>
<p>Buffett has made money consistently for decades from the stock market. He simply believes in buying good cheap stocks for the long-term to grow money. Buffett also prefers to invest his money in industries that have good future growth potential.</p>
<p>The demand for electric cars has surged in the last few years. Industry experts predict the 2020s to be the decade of electric and autonomous cars. That’s the reason even big tech companies like <strong>Apple</strong> <a href="https://www.fool.ca/company/nasdaq-aapl-apple/82/" data-is-tickerizer-link="true">(NASDAQ:AAPL)</a> are ready to jump into the automotive industry.</p>
<p>The iPhone maker has secretly been working on its car project for years. It has poached many engineers and auto industry experts from many companies — including Tesla — lately. So, it shouldn’t surprise you if you see Apple launching its branded electric and autonomous car in the coming years.</p>
<h2>One great EV stock to buy today</h2>
<p>That’s why I expect businesses focused on electric and autonomous car technology to witness a massive growth in the coming years. For example, <strong>BlackBerry</strong> <a href="https://www.fool.ca/company/tsx-bb-blackberry/174/" data-is-tickerizer-link="true">(TSX:BB)</a><a href="https://www.fool.ca/company/nyse-bb-blackberry/176/" data-is-tickerizer-link="true">(NYSE:BB)</a> has been my favorite Canadian tech company with its increasing interest in electric vehicles (EVs) and autonomous vehicle-related technology.</p>
<p>The company recently partnered with <strong>Amazon</strong> Web services to develop its integrated vehicle data platform. The platform would allow automakers to access and utilize vehicle sensor data in real-time. BlackBerry is also expanding its market share in China — the world’s largest car market. The company’s QNX Neutrino operating system — in partnership with <strong>Baidu</strong> — will soon be used in mass-produced EVs in the country.</p>
<h2>Final thought</h2>
<p>The cryptocurrency market — at first — may look like an easy way to get rich. However, most retail investors with a small risk appetite tend to lose their money in cryptocurrency trading. That’s why it’s better to follow Buffett and stick to cheap high-growth stocks to multiply your hard-earned money.</p>
    <!-- Triggers slide-in -->
    <span id="last"></span>
</section>

<section>
    <p><em>John Mackey, CEO of Whole Foods Market, an Amazon subsidiary, is a member of The Motley Fool’s board of directors. Teresa Kersten, an employee of LinkedIn, a Microsoft subsidiary, is a member of The Motley Fool’s board of directors. <a href="https://boards.fool.com/profile/TMFSpiffyPop/info.aspx">David Gardner</a> owns shares of Amazon, Apple, Baidu, and Tesla. <a href="https://boards.fool.com/profile/TMFTomGardner/info.aspx">Tom Gardner</a> owns shares of Baidu and Tesla. The Motley Fool owns shares of and recommends Amazon, Apple, Baidu, Berkshire Hathaway (B shares), Microsoft, and Tesla. The Motley Fool recommends BlackBerry and BlackBerry and recommends the following options: short January 2023 $200 puts on Berkshire Hathaway (B shares), short March 2021 $225 calls on Berkshire Hathaway (B shares), long January 2022 $1920 calls on Amazon, short January 2022 $1940 calls on Amazon, and long January 2023 $200 calls on Berkshire Hathaway (B shares).&nbsp;</em><em>Fool contributor </em><a href="https://boards.fool.com/profile/ParasharJitendra/info.aspx"><em>Jitendra Parashar</em></a><em> has no position in any of the stocks mentioned.</em></p>
</section>
<section>
    <section>
    <div>
        <h3>Two New Stock Picks Every Month!</h3>

    </div>
</section>			
		</section>
            </article></div>]]>
            </description>
            <link>https://www.fool.ca/2021/02/19/bill-gates-slams-bitcoin-after-warren-buffett-but-praises-elon-musk-and-tesla/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205195</guid>
            <pubDate>Sat, 20 Feb 2021 16:13:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin's market value tops US$1T]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26205172">thread link</a>) | @avi_vallarapu
<br/>
February 20, 2021 | https://www.ctvnews.ca/business/bitcoin-s-market-value-tops-us-1-trillion-1.5315999 | <a href="https://web.archive.org/web/*/https://www.ctvnews.ca/business/bitcoin-s-market-value-tops-us-1-trillion-1.5315999">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>
	The trillion-dollar market value has a new member: bitcoin. The total number of bitcoins trading are now collectively worth more than US$1 trillion.</p>
<p>
	That's because the price of a bitcoin hit a number of new all-time highs Friday. One bitcoin currently costs nearly $53,400 -- and there are about 18.6 million bitcoins in circulation according to Coinbase. (The total number of bitcoin eventually available is capped at 21 million.)</p>
<p>
	Of course, it's not an apples-to-apples comparison to look at bitcoin versus big firms with sky-high valuations like Apple. But for what it's worth, only four companies in the United States currently are worth more than bitcoin: Apple, Microsoft, Amazon and Google owner Alphabet.</p>
<p>
	Bitcoin currently is worth about $225 billion more than Tesla, the company that is most responsible for the most recent surge in the cryptocurrency's price.</p>
<p>
	The Elon Musk-led electric car juggernaut announced earlier this month that it now owns $1.5 billion's worth of bitcoin in its corporate coffers. Tesla also said it was looking at letting consumers use bitcoin to buy its cars and SUVs.</p>
<p>
	That news has sparked speculation that other big companies may soon add bitcoin or other cryptocurrncies to their balance sheets, since bitcoin is generating a significantly higher return than bonds and cash.</p>
<p>
	Corporate America is validating bitcoin. Payments giants Square and PayPal let their users buy and sell it. Credit card processing behemoths Visa and Mastercard are also embracing cryprocurrencies.</p>
<p>
	And a top strategist at BlackRock, the world's largest asset manager, said on CNBC this week that the company has "started to dabble" in bitcoin as an investment.</p>
<p>
	All this has helped spark a wave of buying by average investors. Consumer research firm Piplsay wrote in a report Thursday that half of the more than 30,000 consumers it surveyed this week about bitcoin said they felt it was "safe" to invest in cryptocurrencies.</p>
<p>
	Bitcoin prices have surged more than 80% so far this year, and investors are enthusiastically scooping up other cryptocurrencies as well. Ethereum, the world's second largest cryptocurrency with a total value of about $220 billion, has more than doubled this year.</p>
<p>
	And the price of dogecoin, a currency that originally started as a dog meme-based joke, also has skyrocketed this year following several bullish tweets about it by Musk and support from traders on Reddit.</p>
                                              </div></div>]]>
            </description>
            <link>https://www.ctvnews.ca/business/bitcoin-s-market-value-tops-us-1-trillion-1.5315999</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205172</guid>
            <pubDate>Sat, 20 Feb 2021 16:10:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DuckDuckGo search engine – The privacy browser is growing rapidly]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26205138">thread link</a>) | @edgefield0
<br/>
February 20, 2021 | https://www.getbasicidea.com/duckduckgo-search-engine-privacy-browser/ | <a href="https://web.archive.org/web/*/https://www.getbasicidea.com/duckduckgo-search-engine-privacy-browser/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<div><figure><img width="780" height="410" src="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea.png" alt="DuckDuckGo Private Search Engine" srcset="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea.png 780w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-300x158.png 300w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-768x404.png 768w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-390x205.png 390w" sizes="(max-width: 780px) 100vw, 780px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20780%20410'%3E%3C/svg%3E" data-lazy-srcset="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea.png 780w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-300x158.png 300w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-768x404.png 768w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea-390x205.png 390w" data-lazy-src="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-Private-Search-Engine-Get-Basic-Idea.png"></figure></div>



<p>DuckDuckGo is a search engine that gives us the chance to recapture our privacy. Yes, DuckDuckGo does not store or share any information on its user data which extends to search history, cookies, and IP addresses. Whenever we think about search engines, the first thing that comes to our mind is Google and we have a more powerful Google suite to make our life easy, but Google takes a lot of information from us. And they utilize it in a variety of different ways! As the privacy issue gets bigger and bigger; we could see government policies take control in the current situation. &nbsp;Therefore, the DuckDuckGo could be able to see its popularity spiral up now. DuckDuckGo was founded in 2008, and they had approximately 23.7 billion search queries on their platform in 2020, based on their <a href="https://duckduckgo.com/traffic" target="_blank" rel="noreferrer noopener">traffic page</a>.</p>



<p>Due to the privacy policy, they do not have a record of the number of users those who are using the search engine, however as per CEO &amp; Founder at DuckDuckGo.com, “Since we do not track users, it’s impossible for us to know exactly how many users visit our site every month”, and yet according to their estimated guess the total comes to nearly 25 million people.</p>



<h2>What catches the privacy user with DuckDuckGo?</h2>



<ol><li>DuckDuckGo does not track you.</li><li>Not any search history backed up.</li><li>No Ads based on the user searches.</li><li>Cookies are not used by default.</li><li>Provides reasonable enough search results.</li><li>Well encrypted.</li></ol>



<h2>DuckDuckGo Versus Google</h2>



<figure><img width="1024" height="576" src="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea.png" alt="DuckDuckGo vs Google" srcset="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea.png 1024w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea-300x169.png 300w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea-768x432.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20576'%3E%3C/svg%3E" data-lazy-srcset="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea.png 1024w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea-300x169.png 300w, https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea-768x432.png 768w" data-lazy-src="https://www.getbasicidea.com/wp-content/uploads/2021/02/DuckDuckGo-GetBasicIdea.png"><figcaption>Comparison of DuckDuckGo and Google</figcaption></figure>



<h3>1. DuckDuckGo does not track you.</h3>



<p>As mentioned above Google traces everyone’s browsing history to offer more customized content. As a result, when a user goes to a website with Google’s advertising services, it sends information such as website URL, device’s IP address to Google and in return, Google provides the best results. On the other hand, <strong>DuckDuckGo</strong> does not track users browsing at all. The browser also does not store any of the user data to serve them personally.</p>



<h3>2. Not any search history backed up.</h3>



<p>Google has a “Search History” option, which you can clear but it will be there, as evidence of what sites you visited. While DuckDuckGo search is anonymous, and as mentioned it does not track you, so each time you search something, your search history is not backed up anywhere.</p>



<h3>3. No Ads based on the user searches.</h3>



<p>When we search for something on Google, the first thing we come across is full of ads. However, this is not the same on DuckDuckGo. The search engine offers the least possible ads, and they are not providing ads based on your search, which will not on your profile or search history.</p>



<h3>4. Cookies are not used by default.</h3>



<p>Websites depend on cookies to keep users signed in. When you Fireproof a site, cookies will not be wiped out and you will remain signed in, even after using the fire button. DuckDuckGo does not save your data and it also has a feature that deletes all the data such as the recently visited site. However, this does not mean you will have to log in each time you open a website like Facebook in DuckDuckGo. It has a fireproof feature, in which the browser saves the login data of that site.</p>



<p>In Google, if you clear all the site data, you will get signed out from all the sites and there is no option to do that for a specific website.</p>



<h3>5. Provides reasonable enough search results.</h3>



<p>There might be a few disadvantages to completely cutting Google out of your life such as, Google search results are smarter than DuckDuckGo. and Google has it 91% market share under the most used search engine category. Still learning how to get the best search results can help you find what you want on the Internet without giving up personal information.</p>



<h3>6. Well encrypted.</h3>



<p>DuckDuckGo protects you from things like data breaches. The browser also has a feature described as "Smarter Encryption", which certifies more of your browsing will use encrypted connections (HTTPS). The way it works is they frequently maintain a list of sites that support encryption&nbsp; Google does not have any such feature and it shows all types of websites.</p>



<p>To sum up, the future of DuckDuckGo looks bright. They are always working on adding new features and opportunities to let their search engine users feel the quality of searching, at the same time protecting their privacy. They may have had a slow start, but when we think about their competition, they are getting ready for the battle and have set their brilliant goals already. &nbsp;</p>
<div id="author-bio-box"><h3><a href="https://www.getbasicidea.com/author/jayantha/" title="All posts by Jayantha Premkumar" rel="author">Jayantha Premkumar</a></h3><p><img alt="" src="https://secure.gravatar.com/avatar/c58b1a58436fee0474cfd53c157846d3?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c58b1a58436fee0474cfd53c157846d3?s=140&amp;d=mm&amp;r=g 2x" height="70" width="70" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2070%2070'%3E%3C/svg%3E"></p><p>Author of Get Basic Idea | BSc (Hons) in Computer Science and Software Engineering.</p></div>		</div></div>]]>
            </description>
            <link>https://www.getbasicidea.com/duckduckgo-search-engine-privacy-browser/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205138</guid>
            <pubDate>Sat, 20 Feb 2021 16:07:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coronavirus Mutants Are Spreading Fast]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 64 (<a href="https://news.ycombinator.com/item?id=26205020">thread link</a>) | @chewz
<br/>
February 20, 2021 | https://www.spiegel.de/international/germany/the-third-wave-coronavirus-mutants-are-spreading-fast-a-09b88dcd-009d-4e6d-ab00-dd7cd88323fb | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/germany/the-third-wave-coronavirus-mutants-are-spreading-fast-a-09b88dcd-009d-4e6d-ab00-dd7cd88323fb">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="">


</section>
<section>
<div>
<figure data-component="Image" data-zoom-id="6e455e8e-4381-42f3-b02d-07934cdc7bc5" data-settings="{&quot;id&quot;:&quot;cc5a4b25-d625-4920-b940-d3e51e656678&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;6e455e8e-4381-42f3-b02d-07934cdc7bc5&quot;}">
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/cc5a4b25-d625-4920-b940-d3e51e656678_w948_r1.77_fpx42_fpy76.jpg" srcset="https://cdn.prod.www.spiegel.de/images/cc5a4b25-d625-4920-b940-d3e51e656678_w520_r1.77_fpx42_fpy76.jpg 520w, https://cdn.prod.www.spiegel.de/images/cc5a4b25-d625-4920-b940-d3e51e656678_w948_r1.77_fpx42_fpy76.jpg 948w" width="948" height="536" sizes="948px" title="Parents and children enjoy a bit of winter sledding in a Berlin park." alt="Parents and children enjoy a bit of winter sledding in a Berlin park.">
</span>
</span>
</span>

</p>
<figcaption>
<p>Parents and children enjoy a bit of winter sledding in a Berlin park.</p>
<span>
Foto: <p>Maja Hitij&nbsp;/ Getty Images</p>
</span>
</figcaption>
</figure>
</div><div>
<p>We can't take it anymore, raged Sonja Ultsch in a video on Facebook last week. "We've already let them slap us on the left cheek for Ischgl, now we have to turn our right cheek, too!" It was a reference to the Austrian ski town that was responsible for one of the biggest outbreaks of the novel coronavirus in Europe during the first wave last year.</p>


<div>
<p>As if in a commercial for pleasant skiing holidays, the hotelier filmed herself against a sunlit Alpine backdrop, railing against the Austrian government's efforts to seal off Tyrol because of a major outbreak of the South African B.1.351 virus mutant in the region. "I’ve had it, let them lock us in!” Ultsch railed, her eyes hidden behind sunglasses along with pink lipstick and light blond hair. "But then we’re going to open everything here!”</p><p>The defiant video went viral, and Ultsch certainly spoke from the heart of many a Tyrolean. And not only them. There is probably no country in the world where people aren’t fed up with the lockdown, which has transformed from an emergency measure to an entire new way of being. The frustration and suffering is growing louder because of the pandemic’s depressing and seemingly nonstop reign.</p>
</div>

<div>
<p>And ever since the virus mutants began spreading around the globe, even the last motivation for bravery is fading: the hope that the nightmare will soon end thanks to vaccination. Because as incredibly fast as it was possible to find and produce vaccines, the mutants were faster. And they are still faster.</p><p>For physicist and mathematician Michael Meyer-Hermann of the Helmholtz Center for Infection Research in Braunschweig, one thing is clear: "Vaccination isn’t going to help us slow down the momentum of infections until the younger population has been immunized.” And what about higher temperatures in the spring and summer? It might help a bit, Meyer-Hermann thinks, when people start spending more time outside. "But that alone will in no way suffice.”</p>
</div>

<p>Meaning that the virus could continue to run rampant until enough people have been vaccinated.</p>

<section data-area="contentbox">

</section>
<div>
<p>In addition, the South African and Brazilian variants have some particularly nasty characteristics. For one, it’s likely they can re-infect people who have already suffered from an infection with the original coronavirus. And the vaccines also appear to be weaker against the new strains.</p><p>It’s like a <a target="_blank" rel="noopener noreferrer" href="https://www.spiegel.de/international/world/can-germany-stop-the-new-supervirus-a-e9ffc207-0015-4330-8361-b306f6053e15" data-link-flag="english">whole new pandemic</a> has begun with the mutants. Things had been looking pretty good in Germany: The incidence rate was falling and continues to fall, and the measures seem to be working. But now, still invisible in the mountain of case numbers, the highly contagious mutants are spreading, most notably B.1.1.7, the virus variant that overran the United Kingdom in a matter orfweeks and led Portugal to have the highest incidence levels in the world. It will inevitably dominate infection trends in Germany, as well. The question is no longer whether the dangerous mutants will run rampant, only when.</p>
</div>

<div>
<p>This puts politicians in a bind. They are being forced to position themselves somewhere between two extremes, with one just as nightmarish as the other. On the one hand, you have the eternal lockdown, from which it is only ever possible to briefly emerge. On the other, by loosening up the measures, you risk giving the mutants free rein, which could push the case numbers in this country into the tens of thousands every day with many fatalities, including younger victims, people with long-term symptoms and constant series of new virus mutants.</p><p>Because this is also clear: High infection rates and increased numbers of people available for the virus to attack mean the virus can multiply freely. And with each replication, the likelihood increases of new mutations emerging. In most cases, more harmless, but also some more dangerous ones or even variations that are resistant to vaccines.</p>
</div>

<div>
<p>What, then, is the country facing? It’s as if the pandemic has transported us into a weird state of limbo where people who are already pandemic-weary, frustrated and angry are granted a brief respite in which everything now depends on how they behave and decide to act.</p><p>It is possible to stop the mutant through a hard lockdown, as we are currently seeing in the UK and Ireland. But it is not possible to sustain that lockdown until a larger proportion of the population finally gets vaccinated in the summer or autumn. How much opening, then, is possible without the situation spinning out of control again? Scientists and politicians around the world are currently wrestling with that question. Last Wednesday, German Chancellor Angela Merkel and the governors of the country’s 16 states debated the issue.</p><p>The federal government and the governors decided to extend the current lockdown until early March, with restrictions placed on social contacts, social distancing and bars. Restaurants have been ordered to stay closed until at least March 7. The only rule to be loosened is that hairdressers can open their doors to customers again at the beginning of March. The German states will decide on their own when to reopen schools.</p><p>Ultimately, the politicians had to yield, at least in part, to the findings of scientists worldwide who are rushing to do research on the new mutants. The calculations of epidemiologists, in particular, predict a disaster if a relaxation of rules were to take place now, even if it were at primary schools.</p><p>Still, that didn’t prevent individual governors from causing the usual local chaos in loosening the lockdown rules the day after the federal and state decisions were made. Just an example: On Saturday, flower shops were allowed to reopen in Lower Saxony. They were allowed to open in Bavaria on Sunday, too, but only because it was Valentine’s Day. On March 1, the northern state of Schleswig-Holstein will allow garden centers, zoos and nail studios to reopen.</p><p>"The current measures aren’t even sufficient for stopping the exponential spread of the new variant,” says Meyer-Hermann of the Helmholtz Center for Infection Research. The physicist plugged all the basic assumptions available about the new variants into his models and calculated how they would affect the development of infections.</p><p>What he’s saying is that a third wave is coming.</p><p>Beyond Meyer-Hermann’s models, the figures from neighboring countries also show what will happen in Germany. British researchers have created an animation showing Britain divided into counties. It shows how B.1.1.7 starts in the south, soaking the country in a pale pink all the way up to the north until it becomes deep violet at lightning speed in the disease's march to victory.</p><p>The UK example also shows how hard the lockdown has to be in order to stop the mutant’s spread. And in Israel, we are currently seeing how the virus can evade even an aggressive vaccination strategy. It appears that it then just starts infecting more children - another unpleasant finding.</p><p>The numbers illustrating the success the B.1.1.7 mutant has had are quickly outdated. The week before last, the Robert Koch Institute, Germany’s center for disease control, reported that the share of the British variant in Germany was just under 5.6 percent. By last Thursday, though, that figure had doubled to 11.2 percent. Less than a week later, it had almost doubled again to over 20 percent.</p>
</div>
<figure>
<div data-component="Image" data-zoom-id="67af2848-8bc7-4c2c-a165-61326bad79ef" data-settings="{&quot;id&quot;:&quot;2d4de287-3484-40ec-aa8f-b62253ccffb8&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;67af2848-8bc7-4c2c-a165-61326bad79ef&quot;}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w920_r1.5183630640083945_fpx53.91_fpy49.95.jpg" srcset="https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w520_r1.5183630640083945_fpx53.91_fpy49.95.jpg 520w, https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w782_r1.5183630640083945_fpx53.91_fpy49.95.jpg 782w, https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w920_r1.5183630640083945_fpx53.91_fpy49.95.jpg 920w" width="920" height="606" sizes="920px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w520_r1.5183630640083945_fpx53.91_fpy49.95.jpg 520w, https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w782_r1.5183630640083945_fpx53.91_fpy49.95.jpg 782w, https://cdn.prod.www.spiegel.de/images/2d4de287-3484-40ec-aa8f-b62253ccffb8_w920_r1.5183630640083945_fpx53.91_fpy49.95.jpg 920w" title="A COVID-19 patient is transported by ambulance in Portugal: The country has the highest incidence of infection in the world." alt="A COVID-19 patient is transported by ambulance in Portugal: The country has the highest incidence of infection in the world.">
</span>
</span>
</span>
</p><figcaption>
<p><strong>A COVID-19 patient is transported by ambulance in Portugal: </strong>The country has the highest incidence of infection in the world.</p>
<span>
Foto: Duarte Sa / Reuters
</span>
</figcaption>
</div>
</div>
</div>
</figure><div>
<p>On Thursday, the city of Düsseldorf announced that B.1.1.7 had been detected in every fifth infected person there. An outbreak had occurred in a homeless shelter, among other places. In the northern German town of Flensburg, about one in three infections with SARS-CoV-2 was an infection with the British variant. And in the northern Bavarian regions of Hof, Wunsiedel and Tirschenreuth, the proportion of new mutants in the positive tests is already at 40 to 70 percent.</p><p>In Cologne, too, at the initiative of Florian Klein, director of the Institute of Virology at the city’s university hospital, all positive coronavirus samples are currently being examined for the new variants using a special PCR test. Right now, B.1.1.7 accounts for around 15 percent of all cases and the South African mutant for around 5 percent.</p><p>But the increase didn’t surprise the virologist. "There is no reason to assume that developments in Germany should be fundamentally different from those in other countries,” says Klein.</p><p>The latest figures indicate that the mutant from the UK currently has a reproduction number of 1.3, meaning that 10 infected people spread the disease to 13 others. "Then the number of cases doubles about every one to two weeks,” calculates physicist Viola Priesemann. If it were to stay that way, there would be more than 30,000 new infections a day in Germany again after Easter, despite the extension of the lockdown.</p><p>"According to our predictions, if you were to relax the (lockdown) rules now, then one would expect that B.1.1.7 would be dominant sometime in March,” says modeler Meyer-Hermann. Dominant means that the mutant would account for half of all infections.</p><p>It's still not clear exactly why B.1.1.7, but also the South African and Brazilian variants, manage to infect so many people so easily. However, virologists have identified the mutation that enables the pathogen to do so: It’s called N501Y and it affects the binding of the virus to host cells. According to the initial findings, it helps the pathogen infect a human being in a significantly shorter amount of time. As such, the definition of what can be described as a close contact may have to be changed.</p><p>Initially, it appeared that the new variants were killing disproportionately more than the previous SARS-CoV-2 virus simply because they were infecting so many more people. More recent data, however, has led to the …</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/germany/the-third-wave-coronavirus-mutants-are-spreading-fast-a-09b88dcd-009d-4e6d-ab00-dd7cd88323fb">https://www.spiegel.de/international/germany/the-third-wave-coronavirus-mutants-are-spreading-fast-a-09b88dcd-009d-4e6d-ab00-dd7cd88323fb</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/germany/the-third-wave-coronavirus-mutants-are-spreading-fast-a-09b88dcd-009d-4e6d-ab00-dd7cd88323fb</link>
            <guid isPermaLink="false">hacker-news-small-sites-26205020</guid>
            <pubDate>Sat, 20 Feb 2021 15:53:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can We Break the 2nm Barrier in Silicon Fabrication?]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 28 (<a href="https://news.ycombinator.com/item?id=26204871">thread link</a>) | @sfmth
<br/>
February 20, 2021 | https://jscitech.ir/news-views/can-we-break-the-2nm-barrier-in-silicon-fabrication/jscitech/601/ | <a href="https://web.archive.org/web/*/https://jscitech.ir/news-views/can-we-break-the-2nm-barrier-in-silicon-fabrication/jscitech/601/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://jscitech.ir/news-views/can-we-break-the-2nm-barrier-in-silicon-fabrication/jscitech/601/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204871</guid>
            <pubDate>Sat, 20 Feb 2021 15:37:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Most re-read books and the REPL]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26204857">thread link</a>) | @stopachka
<br/>
February 20, 2021 | https://www.zeneca.io/blog/most-re-read-books-and-the-repl | <a href="https://web.archive.org/web/*/https://www.zeneca.io/blog/most-re-read-books-and-the-repl">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.zeneca.io/blog/most-re-read-books-and-the-repl</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204857</guid>
            <pubDate>Sat, 20 Feb 2021 15:36:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26204278">thread link</a>) | @mpweiher
<br/>
February 20, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I’ve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart’s <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn’t fully able to convey the ideas of Smalltalk, because the term
“REPL” is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I “accept” this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I’ve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a “static method” in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you’d just have
an exception thrown when running the program – <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you’ve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn’t just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I’m not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don’t know exactly what to put in there yet. Don’t
worry, this is Smalltalk. We don’t need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE “ok, I’ve fixed the
immediate error, let’s try again” and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don’t do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn’t be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another “thread” in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I’d lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn’t being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special “syntax”<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn’t magical. The Smalltalk/Pharo community is very
small, so this shouldn’t be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn’t fair to expect someone to …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204278</guid>
            <pubDate>Sat, 20 Feb 2021 14:26:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wait 48 Hours Before Buying Stuff]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26204237">thread link</a>) | @mooreds
<br/>
February 20, 2021 | http://stewiewrites.com/wait-48-hours-before-buying-stuff/ | <a href="https://web.archive.org/web/*/http://stewiewrites.com/wait-48-hours-before-buying-stuff/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p><em>This is part of my <a href="http://stewiewrites.com/letters-to-my-20-year-old-self/">Letters To My 20-Year-Old Self</a>.</em></p>

<p>Every day, you see so many things you want. Books. Computer equipment.  Knick knacks. Ingredients for a new recipe. Materials for an outdoor project.  Used furniture bargains.  Random exercise equipment. So many garage sales—so little time!</p>

<p>Your natural impulse is to buy it all. Empty your bank account and embrace your heap of stuff.  And then get a bigger home to hold your horde. And then a storage unit.  Or two. Maybe three? Start with a 5x5 but graduate to 10x10.  And 10x20.  Then a warehouse in the industrial district.</p>

<p>You’ll need a truck to haul your stuff around.  A small pickup, at first. Then a full-size truck and flatbed trailer.  Eventually, you’ll buy a 26 foot used UHaul…</p>

<p>This. Is. Bonkers. Don’t go down this road. Or the stuff you own will own you.  Also, you’ll end up divorced, bankrupt, and miserable.</p>

<p>So what’s the alternative?</p>

<p>The obvious solution is to just not buy anything.  Cut up your credit cards and stash your debit card in a block of ice. But this isn’t reasonable.  You actually need some of what you buy.  And some purchases improve your quality of life.</p>

<p>But how do you suss out things you really need? How can you tell which bargains will boost your overall happiness?</p>

<p>The solution is to create a “Stuff I want” list.  Whenever you want something, add it to the list and wait 48 hours.  95% of the time, your interest in the item will fizzle. Some new must-have thing will capture your attention. And you’ll be better off because you didn’t shell out your hard-earned money for something you didn’t actually want.</p>

<p>Also, when you want something that costs $100 or more, wait seven days.  (I know, this feels like an eternity!)  But add expensive items to your 7-day list, and 90% of the time, your interest will wither away.  You can do this.</p>

<p>You cannot fathom how much money you will save! More money in the bank means more options and freedom to do what you want.</p>

<p><strong>Let’s dive deeper</strong></p>

<p>Growing up, no one ever told you the dirty little secret of a consumerist society: there’s always <em>more</em> to want, no matter what you have.  Craving never ceases.  So keep your cash and save it for things you really want in the long run.</p>

<p>People also never told you how limited your time is.  In your mind, there’s time to try all the recipes in those $5 French and Italian cookbooks you grabbed at a yardsale. There’s time to use all that exercise equipment, rebuild all those computers, and read all those classic novels.  But reality is another matter.  You have 16-waking hours each day and far less free time. You can’t do all the things you imagined doing.  Or even 10% of them.</p>

<p>Accept that your time is scarce—more scarce than money! You’ll let go of the notion that you can do everything.  Accept that opening the door to one hobby means shutting the door to ten others. You’ll let go of the feeling that you could do more or should do more.</p>

<p>This line of thinking, this perspective, will innoculate you against consumerism’s wiles. It creates a protective shield against the army of advertisements that blare, “Pleasure is just one purchase away.” This way of seeing the world transforms advertisements into mere distractions, like a cloud of gnats you swat away when it buzzes too close.</p>

<p>One last thing: don’t watch advertisements. Don’t let their bright colors, upbeat tempos, and attractive actors mesmerize you.  They seem benign, but they all have one purpose: to change your behavior. They’re not entertainment, and they’re not your friend.  Block them with browser AdBlock extensions. And watch TV shows without the ads.</p>

<p>This probably sounds extreme, but I urge you to try it out. You’ll see how ads, with their song of “You’re incomplete because you don’t have this!” is a monstrous weight on your soul.  Try it out, and you’ll discover peace and quiet within yourself.  Lastly, try it out and reclaim your emotional energy to pursue your short-term goals and long-term dreams.</p>
<hr>

    
  </div></div>]]>
            </description>
            <link>http://stewiewrites.com/wait-48-hours-before-buying-stuff/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204237</guid>
            <pubDate>Sat, 20 Feb 2021 14:19:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why building a front-end framework in Rust is hard]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26204182">thread link</a>) | @likium
<br/>
February 20, 2021 | https://lik.ai/blog/why-building-a-front-end-framework-in-rust-is-hard | <a href="https://web.archive.org/web/*/https://lik.ai/blog/why-building-a-front-end-framework-in-rust-is-hard">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p>Rust is an incredible language. It is fast, strongly-typed, and its developer experience and community are some of the best. Rust is also one of the few languages that can compile to WebAssembly (WASM), which means we can write Rust code that runs in modern browsers! This opens up the possibility of a front end framework written in Rust.</p>
<h2>Why do we want a Rust front-end framework?</h2>
<p>A Rust front-end framework brings the following benefits:</p>
<ul>
<li>Correctness thanks to strong typing</li>
<li>Ability to share code with Rust backend</li>
<li>Performance (if done right)</li>
<li>Ability to run it in a separate thread/worker to prevent blocking the UI thread</li>
</ul>
<p>The framework could be platform agnostic, achieving the holy grail of "write once run anywhere" that Java so heavily touted in the 1990s. Personally, this is the biggest reason, as people spend countless hours rewriting UIs for a different platform.</p>
<p>There are disadvantages to a Rust front-end framework, mostly due to the limitations of WebAssembly. WebAssembly is a simple binary instruction format, so the file size tends to be bigger than JavaScript files, which means they take longer to download. Additionally, the <a href="https://github.com/WebAssembly/interface-types">WebAssembly Interface Types specification</a> is not finalized, which means we can only communicate with JavaScript via binary at the moment.</p>
<h2>What makes a Rust front-end framework hard</h2>
<h3>Rust ownership and graphs</h3>
<p>Rust has a unique concept known as ownership, which allows safe concurrent code by ensuring that there is only one owner for a reference at any point in time. The <a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html">Rust Book's explanation on ownership</a> goes much deeper into the subject.</p>
<p>As a result of this ownership constraint, data ownership structures in Rust are typically trees. Data structures like doubly-linked lists and graphs where there isn't a clear owner are much harder to write. They require the knowledge and usage of interior mutability or unsafe Rust.</p>
<p>Existing front-end frameworks like <a href="https://github.com/yewstack/yew">Yew</a> and <a href="https://github.com/seed-rs/seed">Seed</a> adopt <a href="https://guide.elm-lang.org/architecture/">The Elm Architecture (TEA)</a>, which is a top-to-bottom, tree-like way of managing components and state. For those more familiar with JavaScript, TEA was the inspiration for Redux.</p>
<p>This tree-like structure is what Rust prefers, with the trade-off that the state must flow from the top-to-bottom. Each time, subtrees must diff the state to avoid re-rendering, which means that the state diffing logic takes O(log n) time. As the application grows bigger, state management becomes more cumbersome and less efficient. The more recent sentiment in the JavaScript community is that Redux should not be in charge of all states. TEA goes against this as there is no concept of local state.</p>
<p>If we want to achieve the most efficient O(1) way of diffing state, we would require a reactivity system similar to the ones used by Vue and Svelte. Unfortunately for us, reactivity systems are graphs. A reactivity system comprises of state and effects. Effects need references to state to do some computation, and state needs references to effects to inform them to re-compute.</p>
<p>This is the biggest hurdle. In order to introduce an ergonomic reactivity system, it seems we would need a special memory allocator, like a slab allocator with garbage collection to avoid Rust's ownership issues.</p>
<h3>Rust ergonomics</h3>
<p>Although Rust is an amazing language for many things, it does have some warts of its own. One of the most common parts of writing front-end code is passing down props to a child component. In Rust, there isn't a way to ignore optional properties.</p>
<pre><code><span>impl</span> <span>Component</span> <span>for</span> <span>MyButton</span> <span>{</span>
    <span>pub</span> <span>fn</span> <span>render</span><span>(</span><span>)</span> <span>{</span>
        <span>Button</span> <span>{</span>
            textContent<span>:</span> <span>"Click Me"</span><span>,</span>
            style<span>:</span> <span>None</span><span>,</span>
            class<span>:</span> <span>None</span><span>,</span>
            onClick<span>:</span> <span>None</span><span>,</span>
            onHover<span>:</span> <span>None</span><span>,</span>
            onBlur<span>:</span> <span>None</span>
            
        <span>}</span>
    <span>}</span>
<span>}</span></code></pre>
<p>Due to this limitation, Rust libraries resort to either the builder pattern or macros. The builder pattern allows auto-completion but results in code bloat due to all the extra function definitions. Using macros, on the other hand, is terser but prevents auto-completion from working.</p>
<p>Another limitation is Rust's inability to share common properties between structs, deferring the responsibility to traits instead. While it works well for most programming, component-based architecture requires components to pass down properties to their child components.</p>
<pre><code><span>struct</span> <span>ButtonProps</span> <span>{</span>
    name<span>:</span> <span>String</span><span>,</span>
    onClick<span>:</span> <span>OnClickHandler</span><span>,</span>
<span>}</span>

<span>struct</span> <span>ButtonContainer</span> <span>{</span>
    <span>..</span><span>ButtonProps</span> 
<span>}</span></code></pre>
<h3>Rust's code bloat</h3>
<p>While Rust is very well suited for system programming, its foray into embedded systems has only just started. As a result of earlier design choices, Rust has a rather big standard library.</p>
<p>When we try to compile Rust to WebAssembly file formats (.wasm), just the "hello world" example's size is in the tens of kilobytes. The most popular Rust front-end framework, Yew, results in wasm files that start from 300kB onwards. This may look acceptably small, but compared to JavaScript front-end libraries like <a href="https://preactjs.com/">Preact</a> (17kB) and <a href="https://svelte.dev/">Svelte</a> (4kB), it is gigantic.</p>
<p>On the optimistic side, Rust is still a young language, and many of these code bloat issues are currently being tackled by the embedded working group:</p>
<ul>
<li><a href="https://github.com/rust-embedded/wg/issues/41">Panic handler binary size bloat</a></li>
<li><a href="https://github.com/rust-embedded/wg/issues/18"><code>core::fmt</code> machinery optimized for size</a></li>
</ul>
<h2>Conclusion</h2>
<p>These are the issues that are preventing an easy-to-use Rust front-end framework from being written. However, the Rust and WebAssembly scenes are burgeoning, and given enough time, improvements will come. But don't wait, now is the perfect time to start learning Rust and WebAssembly before it becomes the next big thing!</p>
</article></div>]]>
            </description>
            <link>https://lik.ai/blog/why-building-a-front-end-framework-in-rust-is-hard</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204182</guid>
            <pubDate>Sat, 20 Feb 2021 14:10:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sweden’s death toll among the lowest in Europe during the corona year]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26204070">thread link</a>) | @fifilura
<br/>
February 20, 2021 | https://www.worldin.news/57969 | <a href="https://web.archive.org/web/*/https://www.worldin.news/57969">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span><span>Of: </span><span>TT</span></span><span></span></p>
<p>Published: <span data-test-id="date-time"><time datetime="2021-02-19T04:25:21Z">February 19, 2021 at 05.25</time></span><br><strong>Updated: </strong><strong><span data-test-id="date-time"><time datetime="2021-02-19T09:47:01Z">February 19, 2021 at 10.47</time></span></strong></p>
<p data-test-tag="@spp/ui-lead-text">Most countries in Europe have been hit much harder by the pandemic than Sweden, according to a recent compilation of excess mortality. But in the Nordic countries, Sweden is by far the highest. The pattern is reminiscent of previous pandemics.</p>
<p>– There are myths circulating that Sweden would be among the worst affected by covid-19 in Europe. That was true to some extent at the end of the first wave in May, and it seems to be the image that has stuck to the retina of many. But now you see that Sweden is one of the more mildly affected countries in Europe, says Fredrik Charpentier Ljungqvist, historian at Stockholm University and author of the book “Corona – the pandemic of our time in a historical perspective”.</p>
<p>– About two thirds of the countries in Europe have a significantly higher excess mortality rate than Sweden. But in the Nordic region, Sweden is still by far the highest. So far, I must say, because the situation in Denmark is now deteriorating at the beginning of the year, he adds.</p>
<h2 data-test-tag="@spp/ui-subheading">Robust dimensions</h2>
<p>Excess mortality is calculated by comparing how many people have died during the year compared with the previous four years, and is one of the more accurate ways of examining how a society is affected by, for example, a pandemic. According to Fredrik Charpentier Ljungqvist, it is a basic tool, as he analyzes the consequences of famine, plagues and other historical events.</p>
<p>– It is a robust measure, which makes it possible to compare different countries with similar demographics. Starting from the countries’ own reporting of infection and deaths in covid-19 is in principle meaningless, because testing and criteria vary so much. In addition, doing it week by week at the beginning of a pandemic is almost bland, as the situation changes drastically the longer the infection lasts. We already know this from pandemics, says Fredrik Charpentier Ljungqvist.</p>
<p>By compiling the latest available data on excess mortality in Europe in 2020, he has seen patterns that are largely reminiscent of how previous pandemics have affected Europe.</p>
<p>– A typical phenomenon is that the countries that are slightly affected during the first wave get a much harder blow during the next wave. Areas such as Central and Eastern Europe coped well with the first wave, but were hit hard during the second wave of autumn and winter. Now after the New Year, the pandemic has also hit Ireland, Portugal, Slovakia and Latvia hard, which were previously quite spared, says Fredrik Charpentier Ljungqvist.</p>
<div data-test-id="image">
<div>

<div data-test-id="image-text">
<p>Photo: Lars Pehrson / SvD / TT / TT NYHETSBYRÅN</p>
<p>Fredrik Charpentier Ljungqvist, historian.</p>
</div>
</div>
</div>
<h2 data-test-tag="@spp/ui-subheading">Nordic pattern</h2>
<p>Another interesting pattern can be seen in the Nordic countries, he points out. During the recent major outbreaks of disease – the Asian (1957), the Hong Kong flu (1968) and the severe flu in 1976 – Sweden, together with Denmark, has mostly been hit harder than Norway, Iceland and Finland. Nobody has been able to fully explain what this is due to. According to Fredrik Charpentier Ljungqvist, possible causes could be Sweden’s and Denmark’s much larger and cohesive urban areas and closer contact with the continent.</p>
<p>– Most say that Norway, Finland and Iceland will have the lowest death rates in the Nordic countries and in fact in all of Europe when the pandemic is over, says Fredrik Charpentier Ljungqvist.</p>
<p>TT: Could it not be that fewer people die from, for example, influenza and winter vomiting due to all the pandemic restrictions, so that the mortality rate in covid-19 is actually higher than the calculated excess mortality rate?</p>
<p>– Yes, it can be. But it is the same pattern in all European countries, so it does not matter for the comparison, says Fredrik Charpentier Ljungqvist.</p>
<div data-test-id="image">
<div>
<div data-test-id="image-text">
<p>Photo: Johan Hallnäs</p>
<p>About two thirds of Europe’s countries had a higher excess mortality rate than Sweden in 2020.</p>
</div>
</div>
</div>
<div data-test-id="image">
<div>
<div data-test-id="image-text">
<p>Photo: Hannah McKay / TT</p>
<p>Pandemics can hit harder today, as the proportion of older and fragile people increases. Stock Photography.</p>
</div>
</div>
</div>
<h2 data-test-tag="@spp/ui-subheading">Historical unusualness</h2>
<p>Severe pandemics have been a relatively common condition throughout history, affecting humanity at approximately 30-year intervals in recent centuries. Against this background, Fredrik Charpentier Ljungqvist thinks that it is actually a historical unusual that this pandemic lasted so long.</p>
<p>– There is a reason why many are so unprepared today. Our view of illness and death has also changed dramatically. We see it as something that can usually be avoided, so we are not used to so many people getting seriously ill or dying in a short time.</p>
<p>A seemingly paradoxical effect of all medical advances, he adds, is that even less serious viruses can have more severe consequences today, as the proportion of the elderly and vulnerable has increased sharply.</p>
<p>– It is basically something very positive. But it can also be more difficult for society to deal with such a disease, and the habit of pandemics can cause great anxiety and panic. Then it is easy to lose the holistic perspective, says Fredrik Charpentier Ljungqvist.</p>

<h2 data-test-tag="@spp/ui-subheading"><span><strong>PODD</strong></span><strong> </strong>Vaccine? Please wait</h2>
<p>Aftonbladet Daily with Marie Morell, chairman of Sweden’s Municipalities and Regions’ healthcare delegation and opposition council for the Moderates in Region Östergötland. </p>
<h2 data-test-tag="@spp/ui-subheading"><strong>Listen: </strong><span><span><strong>►</strong></span></span><strong> </strong><strong>iPhone</strong><strong> </strong><span><span><strong>►</strong></span></span><strong> </strong><strong>Acast</strong><strong> </strong><span><span>►</span></span> <strong>Spotify</strong> 
<p>Or ⬇️ <strong>Click the Listen button</strong> </p></h2>
<p>Published: <span data-test-id="date-time"><time datetime="2021-02-19T04:25:21Z">February 19, 2021 at 05.25</time></span></p>
<h3>READ ON</h3>

</div></div>]]>
            </description>
            <link>https://www.worldin.news/57969</link>
            <guid isPermaLink="false">hacker-news-small-sites-26204070</guid>
            <pubDate>Sat, 20 Feb 2021 13:51:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stateless Kubernetes overlay networks with IPv6]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26203591">thread link</a>) | @jmillikin
<br/>
February 20, 2021 | https://john-millikin.com/stateless-kubernetes-overlay-networks-with-ipv6 | <a href="https://web.archive.org/web/*/https://john-millikin.com/stateless-kubernetes-overlay-networks-with-ipv6">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blog-article posted="2021-02-20T07:08:48Z"><div slot="summary"><p>The <a href="https://kubernetes.io/docs/concepts/cluster-administration/networking/">Kubernetes network model</a> is typically implemented by an overlay network, which allows pods to have an IP address decoupled from the underlying fabric. There's dozens of different overlay network implementations that combine a stateful IPv4 address allocator with VXLAN as a transport layer. IPv4 overlay networks have a number of well-documented drawbacks, which contributes to Kubernetes' reputation as difficult to operate beyond small cluster sizes (~10,000 machines).</p><p>This page describes an overlay network based on stateless IPv6 tunnels, which have better reliability and scalability characteristics than stateful IPv4 overlays. It uses IETF protocols that are natively supported by the Linux kernel, and since it is independent of Kubernetes itself can support communcication between processes both inside and outside of containers.</p></div><blog-section><h2 slot="title">Wire protocol</h2><table><colgroup><col></colgroup><tbody><tr><td></td><th colspan="4">IPv4 header</th></tr><tr><th>0</th><td rowspan="2" colspan="4">(other IPv4 control fields)</td></tr><tr><th>4</th></tr><tr><th>8</th><td>TTL</td><td>IP protocol (UDP)</td><td colspan="2">IP checksum</td></tr><tr><th>12</th><td colspan="4">IPv4 source address</td></tr><tr><th>16</th><td colspan="4">IPv4 destination address</td></tr><tr><td></td><th colspan="4">UDP header</th></tr><tr><th>20</th><td colspan="2">source port</td><td colspan="2">destination port (3544)</td></tr><tr><th>24</th><td colspan="2">UDP length</td><td colspan="2">UDP checksum</td></tr><tr><td></td><th colspan="4">IPv6 header</th></tr><tr><th>28</th><td rowspan="2" colspan="4">IPv6 control fields</td></tr><tr><th>32</th></tr><tr><th>36</th><td rowspan="4" colspan="4">IPv6 source address</td></tr><tr><th>40</th></tr><tr><th>44</th></tr><tr><th>48</th></tr><tr><th>52</th><td rowspan="4" colspan="4">IPv6 destination address</td></tr><tr><th>56</th></tr><tr><th>60</th></tr><tr><th>64</th></tr><tr><td></td><th colspan="4">IPv6 payload</th></tr></tbody></table><p><a href="https://en.wikipedia.org/wiki/6to4">6to4</a> (<a href="https://tools.ietf.org/html/rfc3056">RFC 3056</a>) is a standard for routing IPv6 traffic over an IPv4 network. It was originally designed as part of the IPv6 migration strategy, allowing isolated IPv6-only networks to use existing internet infrastructure. The protocol is extremely simple – the IPv6 packet is treated as an IPv4 payload, using protocol number 41.</p><p><a href="https://en.wikipedia.org/wiki/Teredo_tunneling">Teredo</a> (<a href="https://tools.ietf.org/html/rfc4380">RFC 4380</a>) extends 6to4 by adding a layer of UDP encapsulation, which can improve compatibility with intermediate network devices that have compatibility issues with non-TCP/UDP protocols. This page assumes use of Teredo, but if the underlying network allows 6to4 (protocol 41) then the UDP encap can be turned off to save 8 bytes per packet.</p><p>The Linux kernel has built-in support for creating 6to4 tunnels in the <tt>sit</tt> driver. Such tunnels can optionally use the Teredo protocol by enabling the <a href="https://lwn.net/Articles/614348/">Foo Over UDP</a> (FOU) mode, which is a setting for Linux tunnel drivers that encapsulates packets in UDP. FOU computes synthetic source ports for outbound packets based on the encapsulated packet's connection tuple, thus allowing intermediate routers to distinguish underlying streams (e.g. for link aggregation or flow control).</p></blog-section><blog-section><h2 slot="title">Pod address allocation</h2><p>The 6to4 wire protocol describes how to encapsulate IPv6 packets, but doesn't mandate how IPv6 addresses should be assigned or how a router should calculate the IPv4 address of the destination<blog-footnote-ref>[<a href="#fn:1">1</a>]</blog-footnote-ref>. For that we can use <a href="https://en.wikipedia.org/wiki/IPv6_rapid_deployment">6rd</a> (<a href="https://tools.ietf.org/html/rfc5969">RFC 5969</a>), which is a flexible embedding of the IPv4 address space into IPv6.</p><p>Allocating pod addresses with 6rd has a number of helpful properties:</p><ul><li>Given a pod's IPv6 address, its host's IPv4 address can be computed mechanically by the kernel. There is no userspace routing component.</li><li>Each host IPv4 address maps to a 64-bit IPv6 network prefix. Pod IPs can be allocated from this prefix by the CNI <tt>host-local</tt> IPAM plugin without any risk of conflict.</li><li>IPv6 addresses can be allocated from a <a href="https://en.wikipedia.org/wiki/Unique_local_address">Unique Local Address</a> (<a href="https://tools.ietf.org/html/rfc4193">RFC 4193</a>) range, which is similar to IPv4 private address ranges (e.g. 10.0.0.0/8).</li><li>A host's IPv4 address can have its high bits masked off, which is useful when every IPv4 address is being allocated from the same CIDR block (e.g. a private network).</li></ul><p>Unfortunately the 6rd functionality of iproute2 is not well documented, and the error messages are opaque netlink error codes. When in doubt, I recommend examining the iproute2 and Linux kernel source code to understand how <tt>ip tunnel 6rd</tt> commands map to netlink parameters.</p></blog-section><blog-section><h2 slot="title">Setting up a 6to4 overlay</h2><blog-section><h3 slot="title">Generate a network prefix</h3><p>To use a ULA range as a 6rd prefix, each IPv4 address must be masked to 16 bits or less. For this page I'll be using IPv4 addresses in the 10.0.0.0/8 range, which masks to 24 bits, so the ULA prefix needs to have its length fudged a bit (40 bits =&gt; 32).</p><blog-code syntax="commands"><pre>python3 -c 'import os; print("".join("%02x" % b for b in os.urandom(4)))'
# 8ce4b05e</pre></blog-code><p>Converting this to ULA yields an IPv6 network prefix of <tt>fd8c:e4b0:5e00::/40</tt>.</p></blog-section><blog-section><h3 slot="title">Create the SIT interface</h3><p>I'm not going to be stepping through each of these commands, so for folks not familar with Linux networking I recommend opening the <a href="https://man7.org/linux/man-pages/man8/ip-link.8.html">ip-link(8)</a> and <a href="https://man7.org/linux/man-pages/man8/ip-tunnel.8.html">ip-tunnel(8)</a> manpages to follow along. The only thing to note is that the SIT interface is being created <i>without</i> a remote address – this is an overlay, not a tunnel.</p><p>There's two machines here, <tt>node-a</tt> and <tt>node-b</tt>, which will be set up with identical configuration (adjusted for their different IPv4 addresses):</p><ul><li>IPv4 address <tt>10.1.1.100</tt> maps to IPv6 prefix <tt>fd8c:e4b0:5e01:0164::/40</tt>.</li><li>IPv4 address <tt>10.1.1.101</tt> maps to IPv6 prefix <tt>fd8c:e4b0:5e01:0165::/40</tt>.</li></ul><blog-code syntax="commands" prompt="root@node-a:~#"><pre>ip addr show ens37
# 3: ens37: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
#     link/ether 00:50:56:36:1e:3d brd ff:ff:ff:ff:ff:ff
#     inet 10.1.1.100/24 brd 10.1.1.255 scope global ens37
#        valid_lft forever preferred_lft forever
#     inet6 fe80::250:56ff:fe36:1e3d/64 scope link
#        valid_lft forever preferred_lft forever
ip tunnel add kubetunnel0 \
#     mode sit \
#     local '10.1.1.100' \
#     ttl 64
ip tunnel 6rd dev kubetunnel0 \
#     6rd-prefix 'fd8c:e4b0:5e00::/40' \
#     6rd-relay_prefix '10.0.0.0/8'
ip -6 addr add 'fd8c:e4b0:5e01:0164::1/40' dev kubetunnel0
ip link set kubetunnel0 up
ip -6 addr delete '::10.1.1.100/96' dev kubetunnel0
ip addr show dev kubetunnel0
# 6: kubetunnel0@NONE: &lt;NOARP,UP,LOWER_UP&gt; mtu 1480 qdisc noqueue state UNKNOWN group default qlen 1000
#     link/sit 10.1.1.100 brd 0.0.0.0
#     inet6 fd8c:e4b0:5e01:164::1/40 scope global
#        valid_lft forever preferred_lft forever</pre></blog-code><blog-code syntax="commands" prompt="root@node-b:~#"><pre>ip addr show ens37
# 3: ens37: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
#     link/ether 00:50:56:3f:94:51 brd ff:ff:ff:ff:ff:ff
#     inet 10.1.1.101/24 brd 10.1.1.255 scope global ens37
#        valid_lft forever preferred_lft forever
#     inet6 fe80::250:56ff:fe3f:9451/64 scope link
#        valid_lft forever preferred_lft forever
ip tunnel add kubetunnel0 \
#     mode sit \
#     local '10.1.1.101' \
#     ttl 64
ip tunnel 6rd dev kubetunnel0 \
#     6rd-prefix 'fd8c:e4b0:5e00::/40' \
#     6rd-relay_prefix '10.0.0.0/8'
ip -6 addr add 'fd8c:e4b0:5e01:0165::1/40' dev kubetunnel0
ip link set kubetunnel0 up
ip -6 addr delete '::10.1.1.101/96' dev kubetunnel0
ip addr show dev kubetunnel0
# 5: kubetunnel0@NONE: &lt;NOARP,UP,LOWER_UP&gt; mtu 1480 qdisc noqueue state UNKNOWN group default qlen 1000
#     link/sit 10.1.1.101 brd 0.0.0.0
#     inet6 fd8c:e4b0:5e01:165::1/40 scope global
#        valid_lft forever preferred_lft forever</pre></blog-code></blog-section><blog-section><h3 slot="title">Test 6to4 functionality</h3><p>Before going further, let's take the <tt>kubetunnel0</tt> devices for a spin and make sure they're able to route packets. Any protocol encapsulated by IPv6 should work (here I test ICMPv6, TCP, and UDP).</p><blog-code syntax="commands" prompt="root@node-a:~#"><pre>ping6 -c 1 fd8c:e4b0:5e01:165::1
# PING fd8c:e4b0:5e01:165::1(fd8c:e4b0:5e01:165::1) 56 data bytes
# 64 bytes from fd8c:e4b0:5e01:165::1: icmp_seq=1 ttl=64 time=0.456 ms
# 
# --- fd8c:e4b0:5e01:165::1 ping statistics ---
# 1 packets transmitted, 1 received, 0% packet loss, time 0ms
# rtt min/avg/max/mdev = 0.456/0.456/0.456/0.000 ms</pre></blog-code><blog-code syntax="commands" prompt="root@node-b:~#"><pre>nc -6lvn -p 1234
# Listening on [::] (family 10, port 1234)</pre></blog-code><blog-code syntax="commands" prompt="root@node-a:~#"><pre>echo 'Hello, world!' | nc -N fd8c:e4b0:5e01:165::1 1234</pre></blog-code><blog-code syntax="commands" prompt="root@node-b:~#"><pre>nc -6lvn -p 1234
# Listening on [::] (family 10, port 1234)
# Connection from fd8c:e4b0:5e01:164::1 39182 received!
# Hello, world!</pre></blog-code><p>If anything goes wrong – for example UDP works but TCP doesn't – you can use pretty much any packet capture tool to debug the overlay. Since 6to4 is a widely-deployed protocol, tools such as <tt>tcpdump</tt> know how to de-encapsulate the underlying flows.</p><blog-code syntax="commands" prompt="root@node-b:~#"><pre>tcpdump -i ens37 -nn --no-promiscuous-mode
# listening on ens37, link-type EN10MB (Ethernet), capture size 262144 bytes
# 05:04:16.648264 IP 10.1.1.100 &gt; 10.1.1.101: IP6 fd8c:e4b0:5e01:164::1.39182 &gt; fd8c:e4b0:5e01:165::1.1234: Flags [S], seq 1134988924, win 65320, options [mss 1420,sackOK,TS val 3326468574 ecr 0,nop,wscale 7], length 0
# 05:04:16.648496 IP 10.1.1.101 &gt; 10.1.1.100: IP6 fd8c:e4b0:5e01:165::1.1234 &gt; fd8c:e4b0:5e01:164::1.39182: Flags [S.], seq 2975133435, ack 1134988925, win 64768, options [mss 1420,sackOK,TS val 3023145745 ecr 3326468574,nop,wscale 7], length 0
# 05:04:16.648794 IP 10.1.1.100 &gt; 10.1.1.101: IP6 fd8c:e4b0:5e01:164::1.39182 &gt; fd8c:e4b0:5e01:165::1.1234: Flags [.], ack 1, win 511, options [nop,nop,TS val 3326468575 ecr 3023145745], length 0
# 05:04:16.648889 IP 10.1.1.100 &gt; 10.1.1.101: IP6 fd8c:e4b0:5e01:164::1.39182 &gt; fd8c:e4b0:5e01:165::1.1234: Flags [P.], seq 1:15, ack 1, win 511, options [nop,nop,TS val 3326468575 ecr 3023145745], length 14
# 05:04:16.648906 IP 10.1.1.101 &gt; 10.1.1.100: IP6 fd8c:e4b0:5e01:165::1.1234 &gt; fd8c:e4b0:5e01:164::1.39182: Flags [.], ack 15, win 506, options [nop,nop,TS val 3023145746 ecr 3326468575], length 0
# 05:04:16.648982 IP 10.1.1.100 &gt; 10.1.1.101: IP6 fd8c:e4b0:5e01:164::1.39182 &gt; fd8c:e4b0:5e01:165::1.1234: Flags [F.], seq 15, ack 1, win 511, options [nop,nop,TS val 3326468575 ecr 3023145745], length 0
# 05:04:16.649088 IP 10.1.1.101 &gt; 10.1.1.100: IP6 fd8c:e4b0:5e01:165::1.1234 &gt; fd8c:e4b0:5e01:164::1.39182: Flags [F.], seq 1, ack 16, win 506, options [nop,nop,TS val 3023145746 ecr 3326468575], length 0
# 05:04:16.649677 IP 10.1.1.100 &gt; 10.1.1.101: IP6 fd8c:e4b0:5e01:164::1.39182 &gt; fd8c:e4b0:5e01:165::1.1234: Flags [.], ack 2, win 511, options [nop,nop,TS val 3326468576 ecr 3023145746], length 0
# 
# 8 packets captured
# 8 packets received by filter
# 0 packets dropped by kernel</pre></blog-code></blog-section><blog-section><h3 slot="title">Enable Teredo mode (UDP encapsulation)</h3><p>Since Teredo is 6to4 in UDP, we enable FOU mode to turn a 6to4 overlay into a Teredo overlay. FOU mode can be configured to use any destination port – I'm using 3544 because that's the official Teredo port, and it helps packet capture tools figure out what's going on.</p><blog-code syntax="commands" prompt="#"><pre>modprobe fou
ip fou add port 3544 ipproto 41
ip link set \
#     name kubetunnel0 \
#     type sit \
#     encap fou \
#     encap-sport …</pre></blog-code></blog-section></blog-section></blog-article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://john-millikin.com/stateless-kubernetes-overlay-networks-with-ipv6">https://john-millikin.com/stateless-kubernetes-overlay-networks-with-ipv6</a></em></p>]]>
            </description>
            <link>https://john-millikin.com/stateless-kubernetes-overlay-networks-with-ipv6</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203591</guid>
            <pubDate>Sat, 20 Feb 2021 12:16:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My history with Forth and stack machines (2010)]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 16 (<a href="https://news.ycombinator.com/item?id=26203518">thread link</a>) | @panic
<br/>
February 20, 2021 | https://yosefk.com/blog/my-history-with-forth-stack-machines.html | <a href="https://web.archive.org/web/*/https://yosefk.com/blog/my-history-with-forth-stack-machines.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><em><span><span><span><span><span><span>My VLSI tools take a chip from conception through testing. Perhaps 500 lines of source code. Cadence, Mentor Graphics do the same, more or less. With how much source/object code?</span></span></span></span></span></span></em></p>
<p><em>– <a href="http://www.colorforth.com/1percent.html">Chuck Moore</a>, the inventor of Forth</em></p>
<p>This is a personal account of my experience implementing and using the Forth programming language and the stack machine architecture. "Implementing and using" – in that order, pretty much; a somewhat typical order, as will become apparent.</p>
<p>It will also become clear why, having defined the instruction set of a processor designed to run Forth that went into production, I don't consider myself a competent Forth programmer (now is the time to warn that my understanding of Forth is just that – my own understanding; wouldn't count on it too much.)</p>
<p>Why the epigraph about Chuck Moore's VLSI tools? Because Forth is very radical. Black Square kind of radical. An approach to programming seemingly leaving out most if not all of programming:</p>
<blockquote><p>…Forth does it differently. There is no syntax, no redundancy, no typing. There are no errors that can be detected. …there are no parentheses. No indentation. No hooks, no compatibility. …No files. No operating system.</p></blockquote>
<p><img src="http://yosefk.com/img/n/black-square.jpg" alt="Black Square by Kazimir Malevich" width="220" height="218"></p>
<p>I've never been a huge fan of suprematism or modernism in general. However, a particular modernist can easily get my attention if he's a genius in a traditional sense, with superpowers. Say, he memorizes note sheets upon the first brief glance like Shostakovich did.</p>
<p>Now, I've seen chip design tools by the likes of Cadence and Mentor Graphics. Astronomically costly licenses. Geological run times. And nobody quite knows what they do. To me, VLSI tools in 500 lines qualify as a superpower, enough to grab my attention.</p>
<p>So, here goes.</p>
<p>***</p>
<p>I was intrigued with Forth ever since I read about it in Bruce Eckel's book on C++, a 198-something edition; he said there that "extensibility got a bad reputation due to languages like Forth, where a programmer could change everything and effectively create a programming language of his own". WANT!</p>
<p>A couple of years later, I looked for info on the net, which seemed somewhat scarce. An unusually looking language. Parameters and results passed implicitly on a stack. 2 3 + instead of 2+3. Case-insensitive. Nothing about the extensibility business though.</p>
<p>I thought of nothing better than to dive into the source of an implementation, <a title="Portable Forth in 'C'. Why do Forth programmers put C in quotes?" href="http://www.softsynth.com/pforth/">pForth</a> – and I didn't need anything better, as my mind was immediately blown away by the following passage right at the top of <a href="http://pforth.googlecode.com/svn/trunk/fth/system.fth">system.fth</a>, the part of pForth implemented in Forth on top of the C interpreter:</p>
<blockquote>
<pre>: (   41 word drop ; immediate
( That was the definition for the comment word. )
( Now we can add comments to what we are doing! )</pre>
</blockquote>
<p>Now. we. can. add. comments. to. what. we. are. doing.</p>
<p>What this does is define a word (Forth's name for a function) called "(". "(" is executed at compile time (as directed by IMMEDIATE). It tells the compiler to read bytes from the source file (that's what the word called, um, WORD is doing), until a ")" – ASCII 41 – is found. Those bytes are then ignored (the pointer to them is removed from the stack with DROP). So effectively, everything inside "( … )" becomes a comment.</p>
<p><em>Wow.</em> Yeah, you definitely can't do that in C++. (You <a href="http://www.lispworks.com/documentation/lw51/CLHS/Body/f_set_ma.htm#set-macro-character">can</a> in Lisp but they don't teach you those parts at school. They teach the pure functional parts, where you <em>can't</em> do things that you <em>can</em> in C++. Bastards.)</p>
<p>Read some more and…</p>
<blockquote>
<pre><em> conditional primitives</em>
: IF     <em>( -- f orig )</em>  ?comp compile 0branch  conditional_key &gt;mark     ; immediate
: THEN   <em>( f orig -- )</em>  swap ?condition  &gt;resolve   ; immediate
: BEGIN  <em>( -- f dest )</em>  ?comp conditional_key &lt;mark   ; immediate
: AGAIN  <em>( f dest -- )</em>  compile branch  swap ?condition  &lt;resolve  ; immediate
: UNTIL  <em>( f dest -- )</em>  compile 0branch swap ?condition  &lt;resolve  ; immediate
: AHEAD  <em>( -- f orig )</em>  compile branch   conditional_key &gt;mark     ; immediate</pre>
</blockquote>
<p>Conditional <em>primitives</em>?! Looks like conditional primitives aren't – they <em>define</em> them here. This COMPILE BRANCH business modifies the code of a function that uses IF or THEN, at compile time. THEN – one part of the conditional – writes (RESOLVEs) a branch offset to a point in code saved (MARKed) by IF, the other part of the conditional.</p>
<p>It's as if a conventional program modified the assembly instructions generated from it at compile time. What? How? Who? How do I wrap my mind around this?</p>
<p>Shocked, I read the source of pForth.</p>
<p>Sort of understood how Forth code was represented and interpreted. Code is this array of "execution tokens" – function pointers, numbers and a few built-ins like branches, basically. A Forth interpreter keeps an instruction pointer into this array (ip), a data stack (ds), and a return stack (rs), and does this:</p>
<pre><strong>while</strong>(<strong>true</strong>) {
 <strong>switch</strong>(*ip) {
  <em>//arithmetics (+,-,*...):</em>
  <strong>case </strong>PLUS: ds.push(ds.pop() + ds.pop()); ++ip;
  <em>//stack manipulation (drop,swap,rot...):</em>
  <strong>case </strong>DROP: ds.pop(); ++ip;
  <em>//literal numbers (1,2,3...):</em>
  <strong>case </strong>LITERAL: ds.push(ip[1]); ip+=2;
  <em>//control flow:</em>
 &nbsp;<strong>case </strong>COND_BRANCH: <strong>if</strong>(!ds.pop()) ip+=ip[1]; <strong>else </strong>ip+=2;
 &nbsp;<strong>case </strong>RETURN: ip = rs.pop();
  <em>//user-defined words: save return address &amp; jump</em>
 &nbsp;<strong>default</strong>: rs.push(ip+1); ip = *ip;
 }
}</pre>
<p>That's it, pretty much. Similar, say, to the virtual stack machine used to implement Java. One difference is that compiling a Forth program is basically writing to the code array in a WYSIWYG fashion. COMPILE SOMETHING simply appends the address of the word SOMETHING to the end of the code array. So does plain SOMETHING when Forth is compiling rather than interpreting, as it is between a colon and a semicolon, that is, when a word is defined.</p>
<p>So</p>
<pre>: DRAW-RECTANGLE 2DUP UP RIGHT DOWN LEFT ;</pre>
<p>simply appends {&amp;2dup,&amp;up,&amp;right,&amp;down,&amp;left,RETURN} to the code array. Very straightforward. There are no parameters or declaration/expression syntax as in…</p>
<pre><strong>void </strong>drawRectangle(<strong>int </strong>width, <strong>int </strong>height) {
  up(height);
  right(width);
  down(height);
  left(width);
}</pre>
<p>…to make it less than absolutely clear how the source code maps to executable code. "C maps straightforwardly to assembly"? Ha! <em>Forth</em> maps straightforwardly to assembly. Well, to the assembly language of a virtual stack machine, but still. So one can understand how self-modifying code like IF and THEN works.</p>
<p>On the other hand, compared to drawRectangle, it is somewhat unclear what DRAW-RECTANGLE <em>does</em>. What are those 2 values on the top of the stack that 2DUP duplicates before meaningful English names appear in DRAW-RECTANGLE's definition? This is supposed to be ameliorated by stack comments:</p>
<pre>: DRAW-RECTANGLE <em>( width height -- )</em> ... ;</pre>
<p>…tells us that DRAW-RECTANGLE expects to find height at the top of the stack, and width right below it.</p>
<p>I went on to sort of understand CREATE/DOES&gt; – a further extension of this compile-time self-modifying code business that you use to "define defining words" (say, CONSTANT, VARIABLE, or CLASS). The CREATE part says what should be done when words (say, class names) are defined by your new defining word. The DOES&gt; part says what should be done when those words are used. For example:</p>
<pre>: CONSTANT
  &nbsp;CREATE ,
  &nbsp;DOES&gt; @
;
<em>\ usage example:</em>
7 CONSTANT DAYS-IN-WEEK
DAYS-IN-WEEK 2 + . <em>\ should print 9</em></pre>
<p>CREATE means that every time CONSTANT is called, a name is read from the source file (similarly to what WORD would have done). Then a new word is created with that name (as a colon would have done). This word records the value of HERE – something like sbrk(0), a pointer past the last allocated data item. When the word is executed, it pushes the saved address onto the data stack, then calls the code after DOES&gt;. The code after CREATE can put some data after HERE, making it available later to the DOES&gt; part.</p>
<p>With CONSTANT, the CREATE part just saves its input (in our example, 7) – the comma word does this: *HERE++ = ds.pop(); The DOES&gt; part then fetches the saved number – the @ sign is the fetch word: ds.push( *ds.pop() );</p>
<p>CONSTANT works somewhat similarly to a class, CREATE defining its constructor and DOES&gt; its single method:</p>
<pre>class Constant
  def initialize(x) @x=x end
  def does() @x end
end
daysInWeek = Constant.new(7)
print daysInWeek.does() + 2</pre>
<p>…But it's much more compact on all levels.</p>
<p>Another example is defining C-like structs. Stripped down to their bare essentials (and in Forth things tend to be stripped down to their bare essentials), you can say that:</p>
<pre><strong>struct </strong>Rectangle {
  <strong>int </strong>width;
  <strong>int </strong>height;
};</pre>
<p>…simply gives 8 (the structure size) a new name Rectangle, and gives 0 and 4 (the members' offsets) new names, width and height. Here's <a href="http://wiki.laptop.org/go/Forth_Lesson_18">one way to implement structs in Forth</a>:</p>
<pre>struct
  cell field width
  cell field height
constant rectangle

<em>\ usage example:</em>
<em>\ here CREATE is used just for allocation</em>
create r1 rectangle allot <em>\ r1=HERE; HERE+=8</em>
2 r1 width !
3 r1 height !
: area dup width @ swap height @ * ;
r1 area . <em>\ should print 6</em></pre>
<p>CELL is the size of a word; we could say "4 field width" instead of "cell field width" on 32b machines. Here's the definition of FIELD:</p>
<pre>&nbsp;: field <em>( struct-size field-size -- new-struct-size )</em>
    create over , +
    does&gt; @ +
&nbsp;;</pre>
<p>Again, pretty compact. The CREATE part stores the offset, a.k.a current struct size (OVER does ds.push(ds[1]), comma does *HERE++=ds.pop()), then adds the field size to the struct size, updating it for the next call to FIELD. The DOES&gt; part fetches the offset, and adds it to the top of the stack, supposedly containing the object base pointer, so that "rect width" or "rect height" compute &amp;rect.width or &amp;rect.height, respectively. Then you can access this address with @ or ! (fetch/store). STRUCT simply pushes 0 to the top of the data stack (initial size value), and at the end, CONSTANT consumes the struct size:</p>
<pre>struct <em>\ data stack: 0</em>
  cell <em>( ds: 0 4 )</em> field width  <em>( ds: 4 )</em>
  cell <em>( ds: 4 4 )</em> field height <em>( ds: 8 )</em>
constant rectangle <em>( ds: as before STRUCT )</em></pre>
<p>You can further extend this to support polymorphic methods – METHOD would work similarly to FIELD, fetching a function pointer ("execution token") through a …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yosefk.com/blog/my-history-with-forth-stack-machines.html">https://yosefk.com/blog/my-history-with-forth-stack-machines.html</a></em></p>]]>
            </description>
            <link>https://yosefk.com/blog/my-history-with-forth-stack-machines.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203518</guid>
            <pubDate>Sat, 20 Feb 2021 12:02:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linux Sucks 2021 [video]]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 70 (<a href="https://news.ycombinator.com/item?id=26203471">thread link</a>) | @blfr
<br/>
February 20, 2021 | https://odysee.com/@Lunduke:e/LinuxSucks2021:1 | <a href="https://web.archive.org/web/*/https://odysee.com/@Lunduke:e/LinuxSucks2021:1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://odysee.com/@Lunduke:e/LinuxSucks2021:1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203471</guid>
            <pubDate>Sat, 20 Feb 2021 11:51:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To thread or not to thread ( on Hacker News)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26203191">thread link</a>) | @dekervin
<br/>
February 20, 2021 | http://datapeek.org/blog/to-thread-or-not | <a href="https://web.archive.org/web/*/http://datapeek.org/blog/to-thread-or-not">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://datapeek.org/blog/to-thread-or-not</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203191</guid>
            <pubDate>Sat, 20 Feb 2021 10:42:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebAssembly Search Tools for Static Sites]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26203161">thread link</a>) | @healeycodes
<br/>
February 20, 2021 | https://healeycodes.com/webassembly-search-tools-for-static-websites/ | <a href="https://web.archive.org/web/*/https://healeycodes.com/webassembly-search-tools-for-static-websites/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>The challenge of searching static websites is effectively a solved problem with brilliant, yet widely unadopted, solutions.</p>
<p>These projects scan and index your content at build time and ship it to the browser with the rest of your static files. No out-of-your-control external service required. A small library in JavaScript (sometimes accompanied by WebAssembly) loads the index and allows instant searching and works just fine offline. Searching the complete Federalist Papers for multiple keywords takes less than 100µs in my Wasm <a href="https://github.com/healeycodes/crane-search">tech demo</a> (I’ll get to that later on).</p>
<p>The most popular libraries are written in JavaScript like <a href="https://lunrjs.com/">Lunr</a>, or <a href="https://github.com/krisk/Fuse">Fuse</a>, or <a href="https://github.com/nextapps-de/flexsearch">FlexSearch</a>. They provide pre-compiled indexes and <a href="https://en.wikipedia.org/wiki/Approximate_string_matching">fuzzy</a>, wildcard, and boolean searches. They have good documentation and are ready for production usage.</p>
<p>But I’m more interested in how the up-and-coming Wasm-powered projects work. Browser search is a space where Wasm can really find an edge. Wasm runs faster, loads quicker, and ships smaller binaries (in theory, in practice it takes some work to get there).</p>
<p>The two projects I looked at both use Rust as a backend language:</p>
<ul>
<li><a href="https://github.com/tinysearch/tinysearch">tinysearch</a> generates a small, self-contained Wasm module (with an embedded index). It aims for a small memory footprint by using Bloom filters — a space-efficient probabilistic data structure that results in a negligible amount of false positives. Read more in <a href="https://endler.dev/2019/tinysearch">A Tiny, Static, Full-Text Search Engine using Rust and WebAssembly</a> by the creator, Matthias Endler.</li>
<li><a href="https://stork-search.net/">Stork</a> focuses more on the developer experience with rich documentation and examples. Stork also pays keen attention to the user experience by providing a progress bar for loading the index, excerpts for the results (keywords highlighted), theme support, and more (see <a href="https://stork-search.net/docs/interface">Embedding the Interface</a>). Learn about how it came to life in <a href="https://jameslittle.me/blog/2020/one-year-of-stork/">Stork Turns One: Building a search tool for static sites with Rust and WebAssembly</a> by the creator, James Little.</li>
</ul>
<p>Stork is more interesting to me because it focuses on the human experience — of the person who builds with it, and the person who searches. See the thin, quick, configurable UI below.</p>
<p><img src="https://healeycodes.com/bc9b4462651559eaacdb0d1bd4d4f766/stork.gif" alt="The Stork instant search in-action"></p>
<p>In order to understand how these search tools work, and the design problems involved, I built a technical demo in Go, compiled to Wasm.</p>
<h2 id="technical-demo"><a href="#technical-demo" aria-label="technical demo permalink"></a>Technical Demo</h2>
<p>My technical demo is inspired by Stork and uses a near-identical configuration file setup. So it had to be named after a bird 🐦 too — <a href="https://github.com/healeycodes/crane-search">healeycodes/crane-search</a>.</p>
<p>Crane is two programs. The first program scans a group of documents and builds an efficient index. 1MB of text and metadata is turned into a 25KB index (14KB gzipped). The second program is a Wasm module that is sent to the browser along with a little bit of JavaScript glue code and the index. The result is an instant search engine that helps users find web pages as they type.</p>
<p>The full-text search engine is powered in part with code from Artem Krylysov’s blog post <a href="https://artem.krylysov.com/blog/2020/07/28/lets-build-a-full-text-search-engine/">Let’s build a Full-Text Search engine</a>.</p>
<p>The core data-structure is an inverted index. It maps words to document IDs. This means we can check very quickly (i.e. 100µs within Wasm) which documents a word can be found in. At build time, we loop over the document files and add to the inverted index. We also create a list of results so we can relate a document ID to a document’s metadata (defined in the configuration file). The metadata includes the title and URL so that we can display a list of search results in the browser.</p>
<p>We can return results for multiple keywords by looking at the common document IDs for each keyword. This takes linear time as the IDs are inserted into the index in order.</p>
<p>During the build stage, we perform normalization to make the search engine more helpful and accurate. For example, if you search for <code>fish</code> you probably want to match <code>Fishing</code>. Words are turned into lowercase, common words are dropped, and words are reduced into their root form (aka <a href="https://en.wikipedia.org/wiki/Stemming">stemming</a> — Krylysov’s example code uses <a href="https://github.com/kljensen/snowball">Snowball</a> as a stemmer).</p>
<p>The document <code>"Alice likes to go fishing"</code> becomes <code>["alice", "go", "fish"]</code>. The search term <code>"Fishing"</code> is also turned into a token, at search-time it becomes <code>"fish"</code>.</p>
<p>To handle the document metadata, Crane’s build program is passed the location of the configuration file. This tells it where to find the documents to index on disk, where they can be found on the static website, and what the search result should be titled.</p>
<div data-language="toml"><pre><code><span>[</span><span>input</span><span>]</span>
<span>files</span> <span>=</span> <span>[</span>
    <span>{</span>
        <span>path</span> <span>=</span> <span>"docs/essays/essay01.txt"</span><span>,</span>
        <span>url</span> <span>=</span> <span>"essays/essay01.txt"</span><span>,</span>
        <span>title</span> <span>=</span> <span>"Introduction"</span>
    <span>}</span><span>,</span>
    
<span>]</span>

<span>[</span><span>output</span><span>]</span>
<span>filename</span> <span>=</span> <span>"dist/federalist.crane"</span></code></pre></div>
<p>The index and result data is combined into a single struct called a store. It’s encoded using <a href="https://golang.org/pkg/encoding/gob/">encoding/gob</a>, a binary encoding that is faster and smaller than JSON (<a href="https://gist.github.com/evalphobia/a2ba2636acbc112f68dcd89e8b81d349">one</a>, <a href="http://ugorji.net/blog/benchmarking-serialization-in-go">two</a>).</p>
<div data-language="go"><pre><code>file<span>,</span> err <span>:=</span> os<span>.</span><span>Create</span><span>(</span>config<span>.</span>Output<span>.</span>Filename<span>)</span>
<span>check</span><span>(</span>err<span>)</span>
<span>defer</span> file<span>.</span><span>Close</span><span>(</span><span>)</span>

encoder <span>:=</span> gob<span>.</span><span>NewEncoder</span><span>(</span>file<span>)</span>
store <span>:=</span> search<span>.</span>Store<span>{</span>
    Index<span>:</span>   index<span>,</span>
    Results<span>:</span> results<span>,</span>
<span>}</span>
err <span>=</span> encoder<span>.</span><span>Encode</span><span>(</span>store<span>)</span>
<span>check</span><span>(</span>err<span>)</span></code></pre></div>
<p>The second part of Crane is the program that’s compiled into Wasm and sent to the browser. It uses the Go standard library package <a href="https://golang.org/pkg/syscall/js/">syscall/js</a>.</p>
<blockquote>
<p>Package js gives access to the WebAssembly host environment when using the js/wasm architecture. Its API is based on JavaScript semantics.</p>
</blockquote>
<p>Our browser program makes two functions available in the global JavaScript scope. A new goroutine is spawned when they’re called.</p>
<div data-language="go"><pre><code>
<span>var</span> store search<span>.</span>Store

<span>func</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
    js<span>.</span><span>Global</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span>"_craneLoad"</span><span>,</span> js<span>.</span><span>FuncOf</span><span>(</span>load<span>)</span><span>)</span>
    js<span>.</span><span>Global</span><span>(</span><span>)</span><span>.</span><span>Set</span><span>(</span><span>"_craneQuery"</span><span>,</span> js<span>.</span><span>FuncOf</span><span>(</span>query<span>)</span><span>)</span>
    
    
    <span>select</span> <span>{</span><span>}</span>
<span>}</span>

<span>func</span> <span>query</span><span>(</span>this js<span>.</span>Value<span>,</span> args <span>[</span><span>]</span>js<span>.</span>Value<span>)</span> <span>interface</span><span>{</span><span>}</span> <span>{</span>
    searchTerm <span>:=</span> args<span>[</span><span>0</span><span>]</span><span>.</span><span>String</span><span>(</span><span>)</span>
    start <span>:=</span> time<span>.</span><span>Now</span><span>(</span><span>)</span>
    matchedIDs <span>:=</span> store<span>.</span>Index<span>.</span><span>Search</span><span>(</span>searchTerm<span>)</span>
    log<span>.</span><span>Printf</span><span>(</span><span>"Search found %d documents in %v"</span><span>,</span> <span>len</span><span>(</span>matchedIDs<span>)</span><span>,</span> time<span>.</span><span>Since</span><span>(</span>start<span>)</span><span>)</span>

    <span>var</span> results <span>[</span><span>]</span><span>interface</span><span>{</span><span>}</span>
    <span>for</span> <span>_</span><span>,</span> id <span>:=</span> <span>range</span> matchedIDs <span>{</span>
        results <span>=</span> <span>append</span><span>(</span>results<span>,</span>
            <span>map</span><span>[</span><span>string</span><span>]</span><span>interface</span><span>{</span><span>}</span><span>{</span>
                <span>"title"</span><span>:</span> store<span>.</span>Results<span>[</span>id<span>]</span><span>.</span>Title<span>,</span>
                <span>"url"</span><span>:</span>   store<span>.</span>Results<span>[</span>id<span>]</span><span>.</span>URL<span>,</span>
                <span>"id"</span><span>:</span>    store<span>.</span>Results<span>[</span>id<span>]</span><span>.</span>ID<span>,</span>
           <span>}</span><span>)</span>
    <span>}</span>

    
    <span>return</span> js<span>.</span><span>ValueOf</span><span>(</span>results<span>)</span>
<span>}</span>

</code></pre></div>
<p>Here’s a high-level view of how everything fits together.</p>
<p><span>
      <a href="https://healeycodes.com/static/8d2e369e8e00bde986283a53ce3261cc/c04c8/crane-search-small.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Flow chart of the in-browser logic" title="Flow chart of the in-browser logic" src="https://healeycodes.com/static/8d2e369e8e00bde986283a53ce3261cc/c04c8/crane-search-small.png" srcset="https://healeycodes.com/static/8d2e369e8e00bde986283a53ce3261cc/a8a0d/crane-search-small.png 300w,
https://healeycodes.com/static/8d2e369e8e00bde986283a53ce3261cc/dface/crane-search-small.png 600w,
https://healeycodes.com/static/8d2e369e8e00bde986283a53ce3261cc/c04c8/crane-search-small.png 726w" sizes="(max-width: 726px) 100vw, 726px" loading="lazy">
  </a>
    </span></p>
<p>A JavaScript support file, <a href="https://github.com/golang/go/blob/7be8358f70ff858f28b9aefe11986da25f1762bc/misc/wasm/wasm_exec.js">wasm_exec.js</a>, provides a Go class that connects JavaScript ⟷ Go. The Wasm module is loaded with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/instantiateStreaming">WebAssembly.instantiateStreaming</a> (<a href="https://github.com/golang/go/blob/b2fcfc1a50fbd46556f7075f7f1fbf600b5c9e5d/misc/wasm/wasm_exec.html#L17-L22">polyfill available</a>) and is passed to the Go instance. The store is downloaded via the Fetch API and is passed to the running Wasm module where the gob-encoded binary is decoded.</p>
<p>I wrote a ~50 line <a href="https://github.com/healeycodes/crane-search/blob/main/dist/crane.js">class</a> that abstracts away most of this to make the project easier for a developer to interact with.</p>
<div data-language="javascript"><pre><code><span>const</span> crane <span>=</span> <span>new</span> <span>Crane</span><span>(</span><span>"crane.wasm"</span><span>,</span> <span>"federalist.crane"</span><span>)</span><span>;</span>
<span>await</span> crane<span>.</span><span>load</span><span>(</span><span>)</span>

<span>const</span> results <span>=</span> crane<span>.</span><span>query</span><span>(</span><span>'some keywords'</span><span>)</span><span>;</span>
console<span>.</span><span>log</span><span>(</span>results<span>)</span><span>;</span></code></pre></div>
<p>The result is, well, it’s no Stork. But it works and it’s fast. If there’s one way to get a developer to respect the complexity of your project, have them build a technical demo of it with 1/50th of the features.</p>
<p><img src="https://healeycodes.com/13369abd9f26ba2ad6d7025a52373e11/crane.gif" alt="Searching for keywords with Crane from the same dataset as Stork"></p>
<p>The binary is too large at around 3MB (but I didn’t optimize for this). The solution for this is to read <a href="https://github.com/golang/go/wiki/WebAssembly#reducing-the-size-of-wasm-files">Reducing the size of Wasm files</a> from the Go GitHub or read any of the blogs that come up when you search <code>shrink go wasm binary</code>. The best advice I found is to use <a href="https://github.com/tinygo-org/tinygo">TinyGo</a> to generate the Wasm (the “Hello world” example is 575 bytes) and to limit the number of libraries you include. TinyGo actually artificially limits the libraries that you can use because it implements a subset of Go — which means the encoding/gob package is out (encoding/json too).</p>
<h2 id="design-problems"><a href="#design-problems" aria-label="design problems permalink"></a>Design Problems</h2>
<p>If there’s one thing I learned, it’s that search is a reasonably solved problem. It’s easy to get started; stand on the shoulders of algorithms and away you go. The key problem in this space is the developer experience. Configuring the build process of a static site can be tricky when things beyond the standard content (e.g. posts, images) need to be generated. In order to return metadata about each result, these types of search tools require a config (usually TOML or JSON) and generating these files adds complexity.</p>
<p>Setting up a search bar with any features beyond the basics (e.g. auto-complete, full keyboard support, highlighted excerpts) is non-trivial too, especially when you want it to feel good and always react fast.</p>
<p>It’s also hard to build a solution that solves all use cases. Every time a feature is added (e.g. zero tolerance for false positives, fuzzy search, excerpts, partial matching) the index size grows by an order of magnitude. One rather esoteric idea that I toyed around with was building a search solution that split the index depending on the letters the user entered. Having an index for all the words that start with <code>a</code> and one for <code>b</code> and so on. However, English letter frequency is weighted towards things like <code>th</code> (see <a href="https://norvig.com/mayzner.html">English Letter Frequency Counts:
Mayzner Revisited</a>).</p>
<p>There’s also the issue of getting people to contribute to your project. Wasm is a reasonably young technology and building, testing, and debugging your code feels harder than it should be. Building a full-stack Wasm project always feels like it requires one-too-many steps. (For Go, it’s worth calling out <a href="https://github.com/agnivade/wasmbrowsertest">wasmbrowsertest</a> that automates in-browser testing.)</p>
<p>In <a href="https://rsms.me/wasm-intro">Introduction to WebAssembly</a>, the best low-level introduction to the technology I’ve seen, Rasmus Andersson writes:</p>
<blockquote>
<p>The web is an amazing concept that is currently falling short carrying a heavy legacy from the past. In order to bring truly great experiences to the web and blur the lines of what is and what isn’t a “native” experience, WebAssembly—or something else like it—needs to happen.</p>
</blockquote>
<p>A search tool for static sites is a good fit for Wasm, and I hope to see projects in this space continue to evolve. It’s a noble goal to build a project which actually has <strong>four</strong> design areas when you think about it:</p>
<ul>
<li>Back-end (build process)</li>
<li>Back-of-the-front-end (search algorithm/Wasm)</li>
<li>Front-of-the-front-end (results UI)</li>
<li>Developer integration …</li></ul></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://healeycodes.com/webassembly-search-tools-for-static-websites/">https://healeycodes.com/webassembly-search-tools-for-static-websites/</a></em></p>]]>
            </description>
            <link>https://healeycodes.com/webassembly-search-tools-for-static-websites/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203161</guid>
            <pubDate>Sat, 20 Feb 2021 10:34:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Actors with Tokio]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26203071">thread link</a>) | @lukastyrychtr
<br/>
February 20, 2021 | https://ryhl.io/blog/actors-with-tokio/ | <a href="https://web.archive.org/web/*/https://ryhl.io/blog/actors-with-tokio/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      <main>
        <article>
          <header>
            
            <span>Published <time datetime="2021-02-13">2021-02-13</time></span>
          </header>

<p>This article is about building actors with Tokio directly, without using any
actor libraries such as Actix. This turns out to be rather easy to do, however
there are some details you should be aware of:</p>
<ol>
<li>Where to put the <code>tokio::spawn</code> call.</li>
<li>Struct with <code>run</code> method vs bare function.</li>
<li>Handles to the actor.</li>
<li>Backpressure and bounded channels.</li>
<li>Graceful shutdown.</li>
</ol>
<p>The techniques outlined in this article should work with any executor, but for
simplicity we will only talk about Tokio.  There is some overlap with the
<a href="https://tokio.rs/tokio/tutorial/spawning">spawning</a> and <a href="https://tokio.rs/tokio/tutorial/channels">channel chapters</a> from the Tokio tutorial, and I recommend also
reading those chapters.</p>
<span id="continue-reading"></span>
<p>Before we can talk about how to write an actor, we need to know what an actor
is. The basic idea behind an actor is to spawn a self-contained task that
performs some job independently of other parts of the program. Typically these
actors communicate with the rest of the program through the use of message
passing channels. Since each actor runs independently, programs designed using
them are naturally parallel.</p>
<p>A common use-case of actors is to assign the actor exclusive ownership of some
resource you want to share, and then let other tasks access this resource
indirectly by talking to the actor. For example, if you are implementing a chat
server, you may spawn a task for each connection, and a master task that routes
chat messages between the other tasks. This is useful because the master task
can avoid having to deal with network IO, and the connection tasks can focus
exclusively on dealing with network IO.</p>
<h2 id="the-recipe">The Recipe</h2>
<p>An actor is split into two parts: the task and the handle. The task is the
independently spawned Tokio task that actually performs the duties of the actor,
and the handle is a struct that allows you to communicate with the task.</p>
<p>Let's consider a simple actor. The actor internally stores a counter that is
used to obtain some sort of unique id. The basic structure of the actor would be
something like the following:</p>
<pre><code data-lang="rust"><span>use </span><span>tokio::sync::{oneshot, mpsc};

</span><span>struct </span><span>MyActor {
    </span><span>receiver</span><span>: mpsc::Receiver&lt;ActorMessage&gt;,
    </span><span>next_id</span><span>: </span><span>u32</span><span>,
}
</span><span>enum </span><span>ActorMessage {
    GetUniqueId {
        respond_to: oneshot::Sender&lt;</span><span>u32</span><span>&gt;,
    },
}

</span><span>impl </span><span>MyActor {
    </span><span>fn </span><span>new</span><span>(</span><span>receiver</span><span>: mpsc::Receiver&lt;ActorMessage&gt;) -&gt; </span><span>Self </span><span>{
        MyActor {
            receiver,
            next_id: </span><span>0</span><span>,
        }
    }
    </span><span>fn </span><span>handle_message</span><span>(&amp;</span><span>mut </span><span>self</span><span>, </span><span>msg</span><span>: ActorMessage) {
        </span><span>match</span><span> msg {
            ActorMessage::GetUniqueId { respond_to } =&gt; {
                </span><span>self</span><span>.next_id += </span><span>1</span><span>;

                </span><span>// The `let _ =` ignores any errors when sending.
                //
                // This can happen if the `select!` macro is used
                // to cancel waiting for the response.
                </span><span>let </span><span>_ = respond_to.</span><span>send</span><span>(</span><span>self</span><span>.next_id);
            },
        }
    }
}

async </span><span>fn </span><span>run_my_actor</span><span>(</span><span>mut </span><span>actor</span><span>: MyActor) {
    </span><span>while let </span><span>Some(msg) = actor.receiver.</span><span>recv</span><span>().await {
        actor.</span><span>handle_message</span><span>(msg);
    }
}
</span></code></pre>
<p>Now that we have the actor itself, we also need a handle to the actor. A handle
is an object that other pieces of code can use to talk to the actor, and is also
what keeps the actor alive.</p>
<p>The handle will look like this:</p>
<pre><code data-lang="rust"><span>#[</span><span>derive</span><span>(Clone)]
</span><span>pub struct </span><span>MyActorHandle {
    </span><span>sender</span><span>: mpsc::Sender&lt;ActorMessage&gt;,
}

</span><span>impl </span><span>MyActorHandle {
    </span><span>pub fn </span><span>new</span><span>() -&gt; </span><span>Self </span><span>{
        </span><span>let </span><span>(sender, receiver) = mpsc::channel(</span><span>8</span><span>);
        </span><span>let</span><span> actor = MyActor::new(receiver);
        tokio::spawn(</span><span>run_my_actor</span><span>(actor));

        </span><span>Self </span><span>{ sender }
    }

    </span><span>pub</span><span> async </span><span>fn </span><span>get_unique_id</span><span>(&amp;</span><span>self</span><span>) -&gt; </span><span>u32 </span><span>{
        </span><span>let </span><span>(send, recv) = oneshot::channel();
        </span><span>let</span><span> msg = ActorMessage::GetUniqueId {
            respond_to: send,
        };

        </span><span>// Ignore send errors. If this send fails, so does the
        // recv.await below. There's no reason to check for the
        // same failure twice.
        </span><span>let </span><span>_ = </span><span>self</span><span>.sender.</span><span>send</span><span>(msg).await;
        recv.await.</span><span>expect</span><span>("</span><span>Actor task has been killed</span><span>")
    }
}
</span></code></pre>
<p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2018&amp;gist=1e60fb476843fb130db9034e8ead210c">full example</a></p>
<p>Let's take a closer look at the different pieces in this example.</p>
<p><strong><code>ActorMessage.</code></strong> The <code>ActorMessage</code> enum defines the kind of messages we can
send to the actor. By using an enum, we can have many different message types,
and each message type can have its own set of arguments. We return a value to
the sender by using an <a href="https://docs.rs/tokio/1/tokio/sync/oneshot/index.html"><code>oneshot</code></a> channel, which is a message passing channel
that allows sending exactly one message.</p>
<p>In the example above, we match on the enum inside a <code>handle_message</code> method on
the actor struct, but that isn't the only way to structure this. One could also
match on the enum in the <code>run_my_actor</code> function. Each branch in this match
could then call various methods such as <code>get_unique_id</code> on the actor object.</p>
<p><strong>Errors when sending messages.</strong> When dealing with channels, not all errors are
fatal.  Because of this, the example sometimes uses <code>let _ =</code> to ignore errors.
Generally a <code>send</code> operation on a channel fails if the receiver has been
dropped.</p>
<p>The first instance of this in our example is the line in the actor where we
respond to the message we were sent. This can happen if the receiver is no
longer interested in the result of the operation, e.g. the task might that sent
the message might have been killed.</p>
<p><strong>Shutdown of actor.</strong> We can detect when the actor should shut down by looking
at failures to receive messages. In our example, this happens in the following
while loop:</p>
<pre><code data-lang="rust"><span>while let </span><span>Some(msg) = actor.receiver.</span><span>recv</span><span>().await {
    actor.</span><span>handle_message</span><span>(msg);
}
</span></code></pre>
<p>When all senders to the <code>receiver</code> have been dropped, we know that we will never
receive another message and can therefore shut down the actor. When this
happens, the call to <code>.recv()</code> returns <code>None</code>, and since it does not match the
pattern <code>Some(msg)</code>, the while loop exits and the function returns.</p>
<p><strong><code>#[derive(Clone)]</code></strong> The <code>MyActorHandle</code> struct derives the <code>Clone</code> trait. It
can do this because <a href="https://docs.rs/tokio/1/tokio/sync/mpsc/index.html"><code>mpsc</code></a> means that it is a multiple-producer,
single-consumer channel. Since the channel allows multiple producers, we can
freely clone our handle to the actor, allowing us to talk to it from multiple
places.</p>
<h2 id="a-run-method-on-a-struct">A run method on a struct</h2>
<p>The example I gave above uses a top-level function that isn't defined on any
struct as the thing we spawn as a Tokio task, however many people find it more
natural to define a <code>run</code> method directly on the <code>MyActor</code> struct and spawn
that. This certainly works too, but the reason I give an example that uses a
top-level function is that it more naturally leads you towards the approach that
doesn't give you lots of lifetime issues.</p>
<p>To understand why, I have prepared an example of what people unfamiliar with the
pattern often come up with.</p>
<pre><code data-lang="rust"><span>impl </span><span>MyActor {
    </span><span>fn </span><span>run</span><span>(&amp;</span><span>mut </span><span>self</span><span>) {
        tokio::spawn(async </span><span>move </span><span>{
            </span><span>while let </span><span>Some(msg) = </span><span>self</span><span>.receiver.</span><span>recv</span><span>().await {
                </span><span>self</span><span>.</span><span>handle_message</span><span>(msg);
            }
        });
    }

    </span><span>pub</span><span> async </span><span>fn </span><span>get_unique_id</span><span>(&amp;</span><span>self</span><span>) -&gt; </span><span>u32 </span><span>{
        </span><span>let </span><span>(send, recv) = oneshot::channel();
        </span><span>let</span><span> msg = ActorMessage::GetUniqueId {
            respond_to: send,
        };

        </span><span>// Ignore send errors. If this send fails, so does the
        // recv.await below. There's no reason to check for the
        // same failure twice.
        </span><span>let </span><span>_ = </span><span>self</span><span>.sender.</span><span>send</span><span>(msg).await;
        recv.await.</span><span>expect</span><span>("</span><span>Actor task has been killed</span><span>")
    }
}

... and no separate MyActorHandle
</span></code></pre>
<p>The two sources of trouble in this example are:</p>
<ol>
<li>The <code>tokio::spawn</code> call is inside <code>run</code>.</li>
<li>The actor and the handle are the same struct.</li>
</ol>
<p>The first issue causes problems because the <code>tokio::spawn</code> function requires the
argument to be <code>'static</code>. This means that the new task must own everything
inside it, which is a problem because the method borrows <code>self</code>, meaning that it
is not able to give away ownership of <code>self</code> to the new task.</p>
<p>The second issue causes problems because Rust enforces the single-ownership
principle. If you combine both the actor and the handle into a single struct,
you are (at least from the compiler's perspective) giving every handle access to
the fields owned by the actor's task. E.g. the <code>next_id</code> integer should be owned
only by the actor's task, and should not be directly accessible from any of the
handles.</p>
<p>That said, there is a version that works. By fixing the two above problems, you
end up with the following:</p>
<pre><code data-lang="rust"><span>impl </span><span>MyActor {
    async </span><span>fn </span><span>run</span><span>(&amp;</span><span>mut </span><span>self</span><span>) {
        </span><span>while let </span><span>Some(msg) = </span><span>self</span><span>.receiver.</span><span>recv</span><span>().await {
            </span><span>self</span><span>.</span><span>handle_message</span><span>(msg);
        }
    }
}

</span><span>impl </span><span>MyActorHandle {
    </span><span>pub fn </span><span>new</span><span>() -&gt; </span><span>Self </span><span>{
        </span><span>let </span><span>(sender, receiver) = mpsc::channel(</span><span>8</span><span>);
        </span><span>let</span><span> actor = MyActor::new(receiver);
        tokio::spawn(async </span><span>move </span><span>{ actor.</span><span>run</span><span>().await });

        </span><span>Self </span><span>{ sender }
    }
}
</span></code></pre>
<p>This works identically to the top-level function. Note that, strictly speaking,
it is possible to write a version where the <code>tokio::spawn</code> is inside <code>run</code>, but
I don't recommend that approach.</p>
<h2 id="variations-on-the-theme">Variations on the theme</h2>
<p>The actor I used as an example in this article uses the request-response
paradigm for the messages, but you don't have to do it this way. In this section
I will give some inspiration to how you can change the idea.</p>
<h3 id="no-responses-to-messages">No responses to messages</h3>
<p>The example I used to introduce the concept includes a response to the messages
sent over a <code>oneshot</code> channel, but you don't always need a response at all. In
these cases there's nothing wrong with just not including the <code>oneshot</code> channel
in the message enum. When there's space in the channel, this will even allow you
to return from sending before the message has been processed.</p>
<p>You should still make sure to use a bounded channel so that the number of
messages waiting in the channel don't grow without bound. In some cases this
will mean that sending still needs to be an async function to handle the cases
where the <code>send</code> operation needs to wait for more space in the channel.</p>
<p>However there is an alternative to making <code>send</code> an async method. You can use
the <code>try_send</code> method, and handle sending failures by simply killing the actor.
This can be useful in cases where the actor is managing a <code>TcpStream</code>,</p></article></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ryhl.io/blog/actors-with-tokio/">https://ryhl.io/blog/actors-with-tokio/</a></em></p>]]>
            </description>
            <link>https://ryhl.io/blog/actors-with-tokio/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203071</guid>
            <pubDate>Sat, 20 Feb 2021 10:13:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[find mostly doesn't need xargs today]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26203056">thread link</a>) | @chris-at
<br/>
February 20, 2021 | https://utcc.utoronto.ca/~cks/space/blog/unix/FindWithoutXargsToday | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/unix/FindWithoutXargsToday">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2><code>find</code> mostly doesn't need <code>xargs</code> today on modern Unixes</h2>

	<p><small>January 27, 2021</small></p>
</div><div><p>I've been using Unix for long enough that 'find | xargs' is a reflex.
When I started and for a long time afterward, <code>xargs</code> was your only
choice for efficiently executing a command over a bunch of <code>find</code>
results. If you didn't want to run one <code>grep</code> or <code>rm</code> or whatever
per file (which was generally reasonably slow in those days), you
reached for '<code>find ... -print | xargs ...</code>'. There were <a href="https://utcc.utoronto.ca/~cks/space/blog/unix/XargsTwoGotchas">some
gotchas in traditional <code>xargs</code> usage</a>, and one of
them was why GNU <code>xargs</code>, GNU <code>find</code>, and various other things start
growing options to use the null byte as an argument terminator
instead of <a href="https://utcc.utoronto.ca/~cks/space/blog/unix/XargsTwoGotchas">the usual (and surprising) definition</a>.
Over time I adopted to these and soon was mostly using '<code>find ...
-print0 | xargs -0 ...</code>'.</p>

<p>For usage with <code>find</code>, all of this is unnecessary on a modern Unix
and has been for some time, because <code>find</code> folded this into itself.
Modern versions of <code>find</code> don't have just the traditional '<code>-exec</code>',
which runs one command per file, but also an augmented version of
it which aggregates the arguments together like <code>xargs</code> does. This
augmented version is used by ending the '-exec' with '+' instead
of ';', like so:</p>


<blockquote><pre>find . ... -exec grep -H whatever '{}' +
</pre>
</blockquote>

<p>(I'm giving <code>grep</code> the -H argument for reasons covered <a href="https://utcc.utoronto.ca/~cks/space/blog/unix/GrepDevNull">here</a>.)</p>

<p>Although I sometimes still reflexively use 'find | xargs', more
and more I'm trying to use the simple form of just <code>find</code> with
this augmented -exec. My reflexes can learn new tricks, eventually.</p>

<p>This augmented form of -exec is in the <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/find.html">Single Unix Specification
for <code>find</code></a>, so
unsurprisingly it's not just in GNU Find but also <a href="https://man.openbsd.org/find.1">OpenBSD</a>, <a href="https://www.freebsd.org/cgi/man.cgi?find(1)">FreeBSD</a>, <a href="https://man.netbsd.org/find.1">NetBSD</a>, and <a href="https://illumos.org/man/1/find">Illumos</a>. I haven't tried to look up a
<code>find</code> manpage in whatever commercial Unixes are left (probably at
least macOS and AIX).
Based on the rationale section of <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/find.html">the SUS <code>find</code></a>,
this very convenient <code>find</code> feature was introduced in System V R4.
The Single Unix Specification also explains why they didn't adopt
the arguably more Unixy option of '-print0' for null-terminated
output.</p>

<p>(In practice everyone has adopted -print0 as well, even OpenBSD and
Illumos. I assume without checking that they also all have '<code>xargs -0</code>',
because it doesn't make much sense to adopt one without the other.)</p>

<p>PS: Unfortunately this feature is not quite as flexible as it looks.
Both the specification and actual <code>find</code> implementations require
the '{}' to be at the end of the command, instead of anywhere in
it. This means you can't do something like 'find ... -exec mv {}
/some/dir +'. This makes life slightly simpler for <code>find</code>'s code
and probably only rarely matters for actual usage.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/unix/FindWithoutXargsToday</link>
            <guid isPermaLink="false">hacker-news-small-sites-26203056</guid>
            <pubDate>Sat, 20 Feb 2021 10:07:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Venture Capital Returns Are More Skewed Than People Realize]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202849">thread link</a>) | @mcenedella
<br/>
February 20, 2021 | https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/ | <a href="https://web.archive.org/web/*/https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div>
                    
                        
                        

                        
                        
                        
                        <div>
                            

                            <div>
                                <p><a href="http://www.kauffman.org/"><img src="https://timesofe.com/wp-content/uploads/2020/02/download.jpg" data-src="https://timesofe.com/wp-content/uploads/2020/02/download.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></a></p>

<p><em>This post originally appeared on Seth’s blog.</em></p>



<p>Some of the most popular posts I’ve written over the past couple of years were the two that focused on just how rare outsized returns for an individual deal are in venture capital. You can see the original posts <a rel="noreferrer noopener" href="https://sethlevine.com/archives/2014/08/venture-outcomes-are-even-more-skewed-than-you-think.html" target="_blank">here</a> and <a href="https://www.sethlevine.com/archives/2019/09/the-markets-are-great-but-venture-outcomes-havent-changed-much.html">here</a>. In those posts I was analyzing data from Correlation Ventures that showed just how skewed venture returns are, specifically that <strong>65% of investment rounds fail to return 1x capital and only 4% return greater than 10x capital</strong>.</p>



<div><figure><img src="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png" alt="" height="607" srcset="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/returns-300x178.png 300w, https://timesofe.com/wp-content/uploads/2020/10/returns-768x455.png 768w, https://timesofe.com/wp-content/uploads/2020/10/returns-750x445.png 750w, https://timesofe.com/wp-content/uploads/2020/10/returns-1140x676.png 1140w, https://timesofe.com/wp-content/uploads/2020/10/returns.png 1488w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/returns-300x178.png 300w, https://timesofe.com/wp-content/uploads/2020/10/returns-768x455.png 768w, https://timesofe.com/wp-content/uploads/2020/10/returns-750x445.png 750w, https://timesofe.com/wp-content/uploads/2020/10/returns-1140x676.png 1140w, https://timesofe.com/wp-content/uploads/2020/10/returns.png 1488w" data-src="https://timesofe.com/wp-content/uploads/2020/10/returns-1024x607.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure></div>



<p>Ian Hathaway, who recently co-authored the second edition of <a rel="noreferrer noopener" href="https://www.amazon.com/Startup-Communities-Building-Entrepreneurial-Ecosystem/dp/1119617650/ref=asc_df_1119617650/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=459726176530&amp;hvpos=&amp;hvnetw=g&amp;hvrand=9536524533228269419&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001941&amp;hvtargid=pla-930155281111&amp;psc=1" target="_blank">Startup Communities</a> with my partner, Brad, sent me the chart below, which highlights how that translates to returns in venture capital as an asset class. I’ve seen versions of this chart before, and while it’s not surprising it is always jarring to see it laid out like this. Specifically, the difference between the best performing and average performing firms are incredibly wide. Venture is a hits business and if you think about a typical venture fund of almost any size having somewhere between 25 – 40 investments, the chances of any one of those investments being a true outlier and returning a multiple of the fund are quite small. In order to have a successful fund, it’s almost a requirement that you have an outlier return for at least one of your investments (see below the chart for the math).</p>



<div><figure><img src="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png" alt="Dispersion of Returns for Active Managers in Various Asset Classes" height="607" srcset="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-300x201.png 300w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-768x514.png 768w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-750x502.png 750w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png 1024w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-300x201.png 300w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-768x514.png 768w, https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1-750x502.png 750w" data-src="https://timesofe.com/wp-content/uploads/2020/10/ex-43-1024x685-1.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure></div>







<p>Some quick math highlights why this is the case. For example, assume a $100M fund with 30 investments. That’s a little over $3M per investment, and while there is some dispersion from the average across companies in a fund, it’s not a bad way to model it. But from the outcomes chart above (the first one) we know that on average only 1 (actually just fewer than 1) company in that group of 30 will return between 10x and 20x. And less than 1 will return 20x or greater (I’m using the company averages, the dollar averages are on a per round basis, which would make these numbers even worse). A 20x returner for a fund that on average invests $3-$3.5M in a company doesn’t return that fund. Taking the most aggressive end of these numbers would still only have this one company returning 70% of the fund’s capital. If you were going to have several of these, of course, that would work out for your fund. IRR will depend on the timing of cash flows but as a quick rule of thumb, venture funds look to return at least 3 times the invested capital – after fees, so more like 3.5x on a gross basis. That’s pretty hard to do without a true outlier return (50x+) and/or consistency of 10x+ returns that is simply hard to generate. And here’s where the dispersion comes in. The best funds do have multiple companies that return in that range. Or higher. But that means the median fund doesn’t have any. And that is why the average venture fund isn’t actually a particularly good investment and also why so many venture funds fail to return capital.</p>



<p>I thought about this a couple of years ago when <a href="https://www.sethlevine.com/archives/2018/04/whats-the-optimal-portfolio-strategy-for-a-venture-fund.html">I wrote about the optimal venture fund strategy</a> and my conclusion was that venture firms should place more bets and have more exposure across a larger set of businesses. Obviously, those inside the industry argue that managers who are good at picking businesses would do better to own more of fewer businesses if they can show that they have the aptitude to invest in those that become true outliers. But given how rare they are, I wonder if that is arguably the optimal strategy. As David Cohen replied once years ago when I asked him what the key to being a successful venture capitalist was: “Luck”.</p>
<!-- AI CONTENT END 1 -->
                                
	                            
                                                                
                                                            </div>


                        </div>
	                    
	                    
                        <div>
	<div>
		<p><img src="https://secure.gravatar.com/avatar/aa7495010cfb1a1b949100e97e76f0b4?s=80&amp;d=mm&amp;r=g" width="80" height="80" alt="Seth Levine" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">		</p>
		<div>
			
			<p>
				Hi, I'm Seth Levine, a Boulder, CO based technology investor and managing director at Foundry Group. While I love technology I’m also a husband, father, avid cyclist, snowboarder and outdoors guy.			</p>

							
			
		</div>
	</div>
</div>
                                    </div>
            </div>
            
        </div></div>]]>
            </description>
            <link>https://timesofe.com/vc-fund-returns-are-more-skewed-than-you-think/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202849</guid>
            <pubDate>Sat, 20 Feb 2021 09:12:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Art of Finishing Things (or how to stop the never-ending perfectionism loop)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26202468">thread link</a>) | @mjoksimovic
<br/>
February 20, 2021 | https://unstructed.tech/2021/02/20/art-of-finishing-things/ | <a href="https://web.archive.org/web/*/https://unstructed.tech/2021/02/20/art-of-finishing-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				












<h2>Background</h2>



<p>You would think that starting or sustaining at anything is hard enough, right? But once you do start and once you do keep doing it, assuming that there’s an actual end to it, you’d expect it to be easy, no? Since you overcame the static friction and (hopefully) managed to do it for long enough to bring it to closure, finalizing the thing (whatever the thing is) should be a no brainer, right?</p>



<p>WRONG! </p>



<p>I can tell you, firsthand, that you are so damn wrong. Doubly so if you are somewhere high on the perfectionist spectrum.</p>



<p>Finishing a task, finalizing a project or wrapping up your bachelor thesis – they all come with specific set of issues. And this article is all about tackling them.</p>



<h2>Real-life story</h2>



<p>I finished all my exams and was discussing with my mentor which subject to tackle for my thesis work. Everything run by so fast and I just felt like I never gave my 100%. I did pretty good overall but I just felt like I never demonstrated my best. This was a time to make up for that.</p>



<p>“How much time do I actually have to submit this thesis?”. It was around late February.</p>



<p>“Well, the latest you have is by October, but I’d strongly suggest you to aim for June. No need to drag it any further than that”.</p>



<p>Almost eight months in worst case. Hell, even if I wrote half a page a day, I could tackle this in three months. EASILY.</p>



<p>Now, you have to understand that, by being a perfectionist and if you’re reading this – you probably are one, <span>you tend to categorize tasks in two categories — ULTRA IMPORTANT or NOT IMPORTANT AT ALL</span>. The latter ones are fine – you probably don’t need this article to have those tackled. But the ones that you categorize as ULTRA IMPORTANT, well hell’s bells, <span>unless you apply some tools of the trade, those tasks are doomed to last FOREVER</span>.</p>



<p>Needless to say in which category did my thesis end up, right? It was my personal work of art, expressed by letters being grouped into words. Every chapter would be a mind blowing one. Every comma had a pure holistic reasoning behind it. It was my terrestrial legacy to all of the readers and all future generations to come.</p>



<p>Two months and, I kid you not, all I had was a title. Well, a rather good one I should say – “Using audio-fingerprinting technique for the purpose of identification and categorization of an audio sample”. But still, it’s ALL I had in TWO months. And it wasn’t even written in a required format, but rather hanging in my notes app. At least it ticked all of my shitboxes – it sounded holistic and I’m sure the academia would fall over it’s butt once I released it to wilderness …</p>



<p>“Okay”, I thought, “at least I have a month to wrap it up. I can do two pages a day or so and I’ll be good to go”. What a dumb-ass thinking it was …</p>



<p>I’d like to say that it took me a month to finish, but that’d be a lie. It took me seven months and twenty eight days of randomly writing thoughts here and there, widening and narrowing down all the topics that I’d love to cover … And the clock was actively working against me. The paranoia started kicking in. Frankly, I probably would never even have finished it if it wasn’t for my professor who contacted me in late September to tell me that I have two days to deliver a finished and printed version. He loved the progress and he approved everything that I covered so far, but he needed it finished. F*ck!</p>



<p>Not only did I finish the whole thesis in 48 hours (I was literally writing the day and night; the only time when I wasn’t writing was during the 8 hours when I had work to attend to), but it turned out pretty good! Probably not how I envisioned it, but regardless. And I liked it.</p>



<p>Now, I would love to say that I learned my lesson here and that my master thesis took a different course. Not exactly. However, I’ve learned a trick – <span>I wrote the intro and conclusion before I wrote the middle part</span>. Combined with a fixed deadline, it actually did wonders. And I’ll elaborate on that now …</p>



<h2>The “Life’s Work” problem</h2>



<p>You know, I’m not exactly sure if this is just my problem or a rather generic one. I would bet on the latter.</p>



<p><span>Be it a thesis, a short-term task or a whole project that you are working on, we tend to believe that it just has to be perfect. Good enough is not good enough</span>. But, why so?</p>



<p>I can’t speak for everyone, but when it comes to me, I actually think that I’m afraid of being judged. Especially for something that I do care about. I’m afraid that someone is going to look at what I did and just be like “meh, it’s okay”, or “meh, it could have been better”. The sheer thought of that scares the living shit out of me.</p>



<p>Obviously, the only way of preventing someone from judging you (yes, YOU!) is to make it your life’s work. Pour all time and energy into it, trying to make it perfect.</p>



<p>And you know what’s the problem with “life’s work”? You either drop dead before you’re finished, or you give up on it. But one thing is guaranteed – they take shitload of time and you probably miss bunch of other opportunities in the process. Worst of all? <span>Once you do do finish (assuming that you do so), and once the initial excitement wears of, you realize that it wasn’t even that important in the first place</span>. It becomes yet another “meh, it’s okay” on your shelf. And you move on, determined not to repeat the same mistake again.</p>



<h2>Deadline as a medium of creative drive</h2>



<p>You know, I’m a programmer. And I’ve been so my whole life. And <span>if there is ONE thing that is guaranteed to trigger my vomit reflex it has to be the mention of a “deadline”</span>. Seriously.</p>



<p>Yet, <span>I would lie if I told you that there’s been anything remotely more efficient than having a fixed deadline</span>. The date when you have to have your project finished, or the date when you have to turn your homework or thesis in.</p>



<p>You would assume that NOT having a deadline is a proper way to fire up your creative juices, right? Because, putting a TIMELINE on a creative work beats the purpose of creativity, right? </p>



<p>Wrong. Partially, at least.</p>



<p>If you haven’t done so already, I’d strongly suggest you go and read <a href="https://www.goodreads.com/book/show/18077903-creativity-inc?ac=1&amp;from_search=true&amp;qid=UIM1mGMSpj&amp;rank=1" target="_blank" rel="noreferrer noopener">Creativity, Inc</a>. It’s written by Ed Catmull, a guy who happens to be a brain behind 3D graphics and many of the Pixar’s cartoons. He also happens to be a President of Disney’s animation studio. </p>



<p>He argues that the deadlines are THE BEST way to bring your creativity to anything that is useful. Like, you know, a Toy Story for example. And how so? Well, by treating it as a medium, and not as a whip. You set a deadline for a check-up, but you don’t threaten people with being beaten if they miss it. You have people commit to deliver SOMETHING by the fixed date and then you decide how to proceed. Rinse &amp; repeat until it’s perfect!</p>



<p><span>But, what do you do if you DON’T have a fixed deadline (e.g. you’re working on your personal pet project, like, a blog post for example)? Well, you MAKE one</span>! And just to ensure that you do have actual stakeholders waiting for the “outcome”, you make a public commitment!</p>



<h2>Public Commitment as a viable alternative</h2>



<p>If you’ve been following my “work” on Instagram or LinkedIn, you probably have noticed that I usually publish a screenshot of the new article that I’m starting to work on. And you might have been wondering, and rightfully so, WHY am I doing that? What’s the purpose of publishing a screenshot of an unpublished article?</p>



<p>That is my public commitment! That is how I make an artificial deadline and how I make you a stakeholder. By publishing the screenshot, I’m passively announcing that I’m working on something new and that you should expect the final version soon. And there it is. My artificial 5-days deadline is set and my creative juices are on fire now!</p>



<p><span>So, in case that you want to work on ANYTHING that doesn’t have a strong deadline, go and make one</span>! If you’re about to embark on a diet – announce that you are planning to “lose X kilograms by …..”. If you’re working on a task, tell your boss that you will be finished by next week. Or, if you’re about to start blogging … well, announce it! Make your public commitment and then, the only thing that you’ll be left with is – having to do it 🙂 Because, you wouldn’t want to be a liar, wouldn’t you? 🙂</p>



<h2>Your turn!</h2>



<p>Whatever it is that you are working on (or planning to do), go and announce WHEN will it be finished! Make a PUBLIC COMMITMENT. Make artificial stakeholders.</p>



<p><strong>You don’t have to make it PUBLIC PUBLIC</strong> though. Sharing it with your inner circle, your family or, you know, your boss, is absolutely OK as well. <span>What’s important is that<strong> you commit to at least one person </strong>and that person has to keep you accountable</span>!</p>



<p>I guarantee that once you scratch the power that lies under the surface of public commitment, you’ll have hard time NOT finishing anything ever again!</p>



<h2>Conclusion</h2>



<p>Be it a task, a project, a thesis or a general goal that you want to achieve, putting end to what you started is as complex as starting and sustaining at it is. Combined with a “life’s work” problem where we tend to categorize things as ultimate expression of our creativity and skilfulness, we have a perfect recipe for a never-ending crusade.</p>



<p>One of the best ways to tackle this is a battle tested method of a deadline and commitment. Commit yourself either to your best friend or by announcing it publicly, and do make sure to create stakeholders and set expectations. This, in turn, will be one of the best driving forces both to keep you on track of what matters and to ensure that you are actually going to close.</p>



<p>Good luck and let me know how you did!</p>



<h2>Useful resources</h2>



<p>Unfortunately, I don’t have that many resources directly related to the subject of “finishing” things. Hence, I will recommend some of the things that, among other things, tackle some of the topics that I wrote about:</p>



<ul><li>Creativity, Inc. by Ed Catmull – it’s not a self-help book but it deals with the topic of creativity and how Pixar achieved it. You’ll get to …</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unstructed.tech/2021/02/20/art-of-finishing-things/">https://unstructed.tech/2021/02/20/art-of-finishing-things/</a></em></p>]]>
            </description>
            <link>https://unstructed.tech/2021/02/20/art-of-finishing-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202468</guid>
            <pubDate>Sat, 20 Feb 2021 08:03:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mastodon Is Bound to Fail]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26202281">thread link</a>) | @todsacerdoti
<br/>
February 19, 2021 | https://raccoon.onyxbits.de/blog/mastodon-social-network-review/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/mastodon-social-network-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I have a problem with this blog. It used to be powered by Wordpress, but the <bbr title="Content Management System">CMS pissed me off without end over the years, so I migrated to Hugo. That fixed a lot of the problems, except the main one: it is still (mostly) a Wordpress style blog, in which posts are fat content pieces of content, consisting of a  title and at least one paragraph of text. This is utterly unsuitable for things like posting status updates or sharing thoughts. Twitter does way better here, but it’s a proprietary platform, I’m not willing to bind myself to.</bbr></p>

<p>So, how about Mastodon then? Looks like Twitter, works like Twitter, but is federated and sadly, also a lost cause.</p>

<h2 id="the-thing-mastodon-gets-wrong">The thing, Mastodon gets wrong</h2>

<p>To me, it seems like Mastodon is trying to be a social network, while, ironically, completely failing to understand the network effect. It’s the right tool for the wrong people (or the wrong tool for the right people? I don’t know).</p>

<p>Let’s face it, what we want is a platform where you can have an intelligent conversation, where our privacy is respected and where we stay in control. But that’s not at all the audience, social media is build for. The ecosystem is entirely structured around all those gone gaga self promoters and would be celebrities that have nothing to contribute except “themselves” and are willing to sacrifice any last piece of dignity, if only it increases their following, so they have a number to show to their sponsors. The deal influencers enter is simple: bring in two new followers to the platform, get (an old) one for free. Keep any of the money, you may make from sponsors. Now go and post pictures of your lunch before (and after) you eat it.</p>

<p>
  
  <span>An ugly truth about building a better mousetrap</span>
  
  
It's the shitty parts, that made the original design so successful.

</p>
                             
                             

<p>And that in a nutshell is why Mastodon is going to fail: it simply is not build for the people who bring in other people, as it lacks any reward mechanism for multipliers. Social media is (and has to be) inherently anti-privacy in order to allow for monetizing “my personal life”. A commodity, available to everyone without any skill requirement to exploit, so there’s no shortage of dipshits, willing to take the deal. Most fail, but even in doing so, still promote the networks.</p>

<h2 id="quo-vadis">Quo vadis</h2>

<p>So, Mastodon has a choice. Either continue on the path of mimicking Twitter (without getting the crucial part right) and stay a niche product. Or (actively) attract marketeers, influencers and other attention whores, by promising them an audience while becoming a federated ad platform.</p>

<p>Either way, it’s not for me.</p>
</div></div>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/mastodon-social-network-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202281</guid>
            <pubDate>Sat, 20 Feb 2021 07:16:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Skeptics Introduction to Crypto Art and NFTs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26202152">thread link</a>) | @zuhayeer
<br/>
February 19, 2021 | https://justincone.com/posts/nft-skeptics-guide/ | <a href="https://web.archive.org/web/*/https://justincone.com/posts/nft-skeptics-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://justincone.com/images/warning.png" alt="Warning"></p><p>Since writing this guide, I’ve become increasingly concerned about <a href="https://memoakten.medium.com/the-unreasonable-ecological-cost-of-cryptoart-2221d3eb2053" target="_blank">the enormous environmental impact of cryptoart</a>, which currently relies on the Ethereum blockchain.</p><p><strong>The energy usage of Ethereum is ludicrous.</strong> Yes, there are solutions <a href="https://spectrum.ieee.org/computing/networks/ethereum-plans-to-cut-its-absurd-energy-consumption-by-99-percent" target="_blank">in the works</a>, but they’re going to take a lot of time to implement.</p><p>I’m going to leave the contents below online for reference, but I might decide to take them down (or radically alter them) soon.</p><p>Please be responsible. Don’t jump into this scene until a clear, viable, environmentally-responsible pathway has opened up.</p><p>—<strong>2021.01.20</strong></p><h2 id="who-is-this-guide-for">Who is this guide for?</h2><p>This guide is for digital artists and designers curious about cryptoart and NFTs.</p><p>If you’re reading this, you’ve probably…</p><ul><li><p>heard about <a href="https://decrypt.co/51270/beeple-nft-sale" target="_blank">Beeple selling $582,000 USD of cryptoart in 5 minutes</a>.</p></li><li><p>been confused by what NFTs are.</p></li><li><p>wondered if you could get in on this whole thing before it disappears.</p></li></ul><p>This guide has been intentionally written as a high-level introduction for general audiences.</p><h2 id="what-this-guide-isnt">What this guide isn’t</h2><p>This is not a technical guide.</p><p>I’m not going to explain the details of the technology involved. You can visit the <a href="#further-reading">further reading</a> section below if you want to go deep.</p><p>If you’re the type of person who likes to start sentences with, “Well, <em>actually…</em>” then <strong>this guide is not for you.</strong> Please go away.</p><p><img src="https://justincone.com/images/cryptopunks.png" alt="Cryptopunks"><em><a href="https://larvalabs.com/cryptopunks" target="_blank">Cryptopunks</a>, a beloved cryptoart experiment and early NFT</em></p><h3 id="this-is-unotu-an-endorsement-of-cryptoart">This is <u>not</u> an endorsement of cryptoart</h3><p>While the cryptoart scene is interesting and sometimes exciting, it currently has <a href="https://digiconomist.net/ethereum-energy-consumption/" target="_blank">a massive energy consumption problem</a>.</p><p>We’ll get into this <a href="#isnt-crypto-really-bad-for-the-environment">later</a>, but please understand that the environmental impacts of the cryptoart market are sizable.</p><h2 id="who-am-i">Who am I?</h2><p>I’ve been a designer, technologist, and communicator for over 20 years.</p><p>Many guides to cryptoart and NFTs are written by a) groups that stand to benefit from them or b) zealous individuals who drank an entire gallon of crypto kool-aid in one sitting.</p><p>I am neither.</p><p>I’ll shoot straight, and I’ll skip the jargon and acronyms when I can.</p><p>(And trust me: I haven’t been drinking the kool-aid. I find this topic fascinating, but I’m a skeptic—as you’ll see below.)</p><h3 id="disclaimer">Disclaimer</h3><p>I’m not a cryptoart expert. I’m a nerd who saw a need for this guide, and I filled it.</p><p>I’ll regularly correct and update this guide, keeping track of major changes and giving credit for contributions in the <a href="#changelog">Changelog</a> below.</p><p>✉️ <em><a href="mailto:me@justincone.com">Contact me</a> with questions or ideas. Don’t be shy! I’m nice.</em></p><h3 id="why-did-i-create-this-guide">Why did I create this guide?</h3><p>I don’t know. It was fun? I’m weird.</p><h2 id="what-is-cryptoart">What is cryptoart?</h2><p>There’s no universally accepted definition of cryptoart. For now, let’s use this:</p><blockquote><p>Cryptoart is art that uses blockchain technology in its creation and/or distribution.</p></blockquote><h2 id="okay-so-what-is-blockchain-technology">Okay, so what is blockchain technology?</h2><p>Think of blockchains as giant spreadsheets<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> that can be viewed by anyone. I know: <em>Boooring!</em></p><p>But wait! These spreadsheets have ✨special rules✨.</p><ul><li><p>You’re not allowed to delete or change rows in the spreadsheet.</p></li><li><p>You can only add a new row after the last row. (Weird, right?)</p></li><li><p>When you add a row to the spreadsheet, a network of computers do a bunch of super complex math to confirm that what you added is okay. (Even weirder.)</p></li><li><p>If you try to sneak a change into the spreadsheet—like, I don’t know, give yourself a million bucks—that change will be rejected by the network.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></p></li></ul><p>Just like normal spreadsheets, blockchains are great for keeping track of transactions.</p><h3 id="um-transactions">Um… transactions?</h3><p>Yeah, you know: I give you something, you give me something in return. Transactions.</p><p>Blockchains store transactions in a way that is viewable by anyone but editable only under certain conditions.</p><p>(See the <a href="#okay-so-what-is-blockchain-technology">special spreadsheet rules above</a>, in case you already forgot them.)</p><h2 id="what-are-nfts">What are NFTs?</h2><p>Now we’re getting to the juicy stuff. 🍋</p><p>NFT stands for Non-Fungible Token. But what does that mean?</p><p><em>Don’t worry about it.</em> Seriously. Other guides try to explain fungibility, but I’m not going to. It’s boring and too technical for our purposes.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p><p>The keyword to remember is <strong>token.</strong> We’ll come back to it in a minute.</p><p>For now, let’s <strong>think of NFTs as digital collectibles.</strong> In the real world, pretty much anything can be collectible, given the right conditions: stamps, books, Pokémon cards, spoons.</p><p>(No really, <a href="https://www.ebay.com/b/Souvenir-Spoons/bn_7006309973" target="_blank">people collect spoons</a>.)</p><p>The same is true in the digital world. <strong>NFTs are a <a href="#okay-so-what-is-blockchain-technology">blockchain technology</a></strong> that allow people to collect and trade just about anything, including… wait for it… <em>art.</em></p><p><img src="https://justincone.com/images/mona.jpg" alt="Modern Mona Lisa"><em>This terrible thing, which I created in five minutes, could totally be an NFT.</em></p><p>Theoretically, NFTs can be used for lots of other stuff, too: issuing movie tickets, selling video game items, or even proving ownership of real estate.</p><p>But let’s stay focused: we’re talking about digital art here.</p><h2 id="what-is-digital-art">What is “digital art”?</h2><p>Oh no, we’re not going down <em>that</em> rabbit hole.</p><p>You’ll have to define digital art for yourself. Whatever definition you have in your head is probably good enough for our purposes.</p><p>Let’s keep moving.</p><p>There are two basic steps to creating an NFT:</p><ol><li>Make a thing.</li><li>Tokenize the thing.</li></ol><h2 id="1-make-a-thing">1. Make a thing</h2><p>NFTs start as digital art (i.e. stuff you already know how to make):</p><ul><li>still images</li><li>GIFs</li><li>video loops (with or without audio)</li><li>music</li></ul><h3 id="what-about-physical-art-cant-i-turn-a-sculpture-or-a-painting-into-an-nft">“What about physical art? Can’t I turn a sculpture or a painting into an NFT?”</h3><p>Kind of. It’s trickier than you think. We’ll get to it in a second.</p><p>(If you really can’t wait, <a href="#creating-physical-objects">jump ahead</a>. But don’t get mad at me if you’re confused.)</p><h2 id="2-tokenize-the-thing">2. Tokenize the thing</h2><p>Remember <a href="#what-are-nfts">earlier</a> that we said NFTs are tokens? Follow along:</p><ul><li><p>For our purposes, think of a token as a digital link to something you’ve made.</p></li><li><p>Tokens live on blockchains, which we’ve <a href="#okay-so-what-is-blockchain-technology">already established</a> are great for keeping track of transactions.</p></li><li><p>When you “tokenize” a digital artwork, you’re linking something you’ve made to a blockchain, which can be useful for proving ownership of that thing (among other things).</p></li></ul><h3 id="wait-there-are-_multiple_-blockchains">“Wait, there are <em>multiple</em> blockchains?”</h3><p>Oh yeah, there are loads of blockchains. You can even <a href="https://dzone.com/articles/how-to-create-your-own-cryptocurrency-blockchain-i" target="_blank">create your own</a>.</p><p>For NFTs, Ethereum is currently the most popular blockchain.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup></p><p>This is important: <strong>the token by itself is not cryptoart.</strong></p><p>The NFT (remember: T is for token) merely <em>points</em> to something else and says, “Hey, this thing and I are joined at the hip. We’re inseparable. Think of us as <strong>one</strong>.”</p><p><img src="https://justincone.com/images/nft-diagram.jpg" alt="Diagram showing the relationship between an NFT and a hosted digital image."><em>Token + media = cryptoart</em></p><h3 id="how-do-you-link-a-token-to-a-digital-thing">How do you link a token to a digital thing?</h3><p>Typically, you link a token to a digital thing you’ve made by attaching some extra information (metadata) to the NFT. That extra info includes a link to an image, video, GIF, song, etc. that’s hosted somewhere else.<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup></p><p>This arrangement begs a few questions:</p><ul><li>Where will the “official” digital asset be hosted?</li><li>How can collectors ensure that the asset won’t be changed by the artist?</li><li>What happens if the asset host goes down? Or disappears?</li></ul><p>There are solutions to these problems in the works,<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> and some of them get technical pretty fast<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup>. This topic goes beyond the introductory level, so let’s keep moving for now.</p><h2 id="understanding-ownership">Understanding “ownership”</h2><h4 id="if-the-nft-isnt-the-actual-image-animation-music-etc-that-i-created-cant-people-just-copy-my-artwork">“If the NFT isn’t the actual image, animation, music, etc. that I created, can’t people just copy my artwork?”</h4><p>Remember: <strong>The complete cryptoart is the token <em>and</em> the media you created.</strong> So they can copy your image or your GIF or whatever… but it doesn’t really matter.</p><p>Depending on how you see things, this is either great news or a big problem.</p><p><em>(By the way, the inherently copiable nature of digital art is the #1 thing I see NFT newbies struggling with—and for good reason. It’s confusing.)</em></p><h3 id="okay-lets-work-through-this-together">Okay, let’s work through this together.</h3><p>An NFT says that one specific copy of your digital media—the one listed in the NFT’s metadata—is the one that matters.</p><p><em>We discussed this above. If you missed it, <a href="#token--media--cryptoart">go back</a> and make sure you understand it before moving on.</em></p><p>So you could have literally millions of copies of your sweet CG teapot floating around the web, but the owner of your cryptoart only cares about the “official” copy linked to the NFT.</p><h4 id="im-sorry-but-thats-insane">“I’m sorry, but that’s insane.”</h4><p>At first blush, <em>I agree.</em> But let’s step back for a second.</p><p>For a few bucks, you can find and print a high-resolution copy of Cindy Sherman’s “Untitled #96.” Here’s a copy of it <em>right here:</em></p><p><img src="https://justincone.com/images/sherman.jpeg" alt="Cindy Sherman's 'Untitled #96'"><em>“Untitled #96” by Cindy Sherman (1981)</em></p><p>In 2011, a print of that photograph <a href="https://en.wikipedia.org/wiki/Untitled_96" target="_blank">sold for $3.89 million USD during a Christie's auction</a>—setting a record for the most expensive photo ever sold (at that time).&nbsp;</p><p>Then, as now, people could easily reproduce the photo. Somehow, though, this didn’t stop the photo from selling for a boatload of cash.</p><h4 id="thats-different-people-were-buying-one-specific-print-of-the-photograph-one-created-by-the-artist-and-it-was-a-print-of-the-highest-quality">“That’s different. People were buying one specific print of the photograph, one created by the artist. And it was a print of the highest quality.”</h4><p>What if we broke into Cindy Sherman’s private studio, stole the original negative of the photograph, and then produced a print that was identical in quality to the one sold during the 2011 auction?</p><p>Would we be able to sell it for the same amount? Or more?</p><h4 id="no">“No.”</h4><p>Why not?</p><h4 id="it-wouldnt-be-official-it-wouldnt-be-from-the-artist">“It wouldn’t be official. It wouldn’t be from the artist.”</h4><p>Ah! Interesting. So we need to be able to trace the print back to the artist somehow?</p><h4 id="okay-i-see-where-youre-going-an-nft-traces-the-official-artwork-back-to-the-artist-and-the-blockchain-can-show-all-the-subsequent-owners-including-the-current-one">“Okay, I see where you’re going. An NFT traces the official artwork back to the artist, and the blockchain can show all the subsequent owners, including the current one.”</h4><p>Exactly.</p><h4 id="but-what-if-we-hung-our-copy-right-next-to-the-official-print-in-an-identical-frame">“But what if we hung our copy right next to the official print in an identical frame?”</h4><p>It wouldn’t matter.</p><h4 id="what-yes-it-would-you-wouldnt-be-able-to-tell-them-apart">“What?! Yes, it would! You wouldn’t be able to tell them apart.”</h4><p>The owner would know that the official version is the one in that <em>exact</em> spot on the wall, in that specific building.</p><p>It’s the same with NFTs: They point to a specific copy of a digital artwork “hanging” in a specific place on the internet.</p><h4 id="i-still-think-its-crazy-that-people-can-copy-my-images-that-devalues-the-art">“I still think it’s crazy that people can copy my images. That devalues the art!”</h4><p>Maybe. But it doesn’t <em>always</em> work that way.</p><p>I bet your mother or your uncle has a magnet on their refrigerator of one of Monet’s famous Water Lilies paintings.</p><p>Amazon currently returns nearly 800 items when you search for “Monet Water Lilies,” including neckties, mouse pads, and face masks.</p><p><img src="https://justincone.com/images/mask.jpeg" alt="Monet face mask"><em>A horrendous idea for a face mask. And yet, there it is.</em></p><p>Despite these countless copies, Monet’s Water Lilies paintings <a href="https://en.wikipedia.org/wiki/Water_Lilies_%28Monet_series%29#The_paintings_at_auction" target="_blank">routinely fetch tens of millions of dollars</a> at auctions.&nbsp;</p><p>Perhaps the prevalence of reproductions in our culture has …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://justincone.com/posts/nft-skeptics-guide/">https://justincone.com/posts/nft-skeptics-guide/</a></em></p>]]>
            </description>
            <link>https://justincone.com/posts/nft-skeptics-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26202152</guid>
            <pubDate>Sat, 20 Feb 2021 06:38:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why some of these social networks are so hard to beat]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201808">thread link</a>) | @nadermx
<br/>
February 19, 2021 | https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/ | <a href="https://web.archive.org/web/*/https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    
    <div>
      <div>
        
        <p>john | Feb. 20, 2021, 5:13 a.m.</p>
        <p>The way the internet has evolved, at least how people search for information, is search engines.&nbsp; Most phones, which is what the majority of the world uses to browse the internet, like computers did back in the day, come preinstalled with browsers and search engines.&nbsp; Some even come installed with social networks.</p><p>Now this is in part by design and in part by the fact that it was the simplest solution at the time because it was the best.&nbsp; Take for example when google came out.&nbsp; All the other search engines, looked spamish, and generally their results where not too great.</p><p>Along comes google, giving you a new authority engine.&nbsp; Then out of no where there is a nice simple way to search for things on the internet instead of having to type in a domain and hope some one developed it.</p><p>This was awesome, and still probably is.&nbsp; But as more and more people started using the internet, also came the copious amount of volume that humans produce also needing to be indexed and ranked via authority. </p><p>This is generally helpful as most people trust the top search results now a days of most search engines.&nbsp; So how does this lead for social networks dominance.&nbsp; Well, let's assume that some one doesn't have FaceBook or similar.&nbsp; They get brand new access to a phone or something, and do a simple search.&nbsp; </p><p>Now FaceBook, Amazon, Harvard, all have authority.&nbsp; They are "trusted" sourced of content on the internet.&nbsp; There are of course others, but I'm trying to keep things simple. The only difference is Harvard does not have the entire world population able to post on it.<br></p><p>So by default if someone, qualified, or not, was to write something on FaceBook about a subject.&nbsp; Just by the amount of clout that FB has due to the number of other sites linking to it in the world, and the speed at which the site loads, on top of the fact that the parts that are exposed are also designed to be optimized for a search engine means that any new potential visitor is most likely going to land on that site.</p><p>So by therefor all new internet users end up visiting some of the major authorities on the internet that basically made it easier for humans to be able to post and publish things, ie becoming an indeterminate.&nbsp; </p><p>And since humans are far more creative in collective than any one human can be, by being the source of where people can publish things for sale, or thoughts, it by algorithmic process leads to the situation we are in.&nbsp; Of course there are ways to get around this, but that's not for today.<br></p>
      
       <p>P.S. Subscribe to my <a href="https://johnathannader.com/newsletter/">newsletter</a> and follow me on <a href="https://twitter.com/nadermx" rel="nofollow noopener" target="_blank">twitter</a></p>
      </div>
    

    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://johnathannader.com/why-some-these-social-networks-are-so-hard-beat/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201808</guid>
            <pubDate>Sat, 20 Feb 2021 05:16:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What on Earth is this Encryption Scheme?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201723">thread link</a>) | @soopurman
<br/>
February 19, 2021 | https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ | <a href="https://web.archive.org/web/*/https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" id="content"><p>I have taken a couple terabytes of photos over the years, and have a mild phobia of deleting data, so I keep my photos on a <a href="https://www.synology.com/en-global">Synology DiskStation NAS</a>. I’ve got all the files on the thing:</p><ul><li>backed up to the cloud</li><li>encrypted,</li></ul><p>because back in 2016, my <a href="https://www.instagram.com/p/BMpgY9zAGbD/">apartment was broken into and thieves took all the electronics</a>. I’ve been slightly paranoid ever since.</p><p>The Synology NAS generally works pretty well, but the interface for decrypting a drive after booting is <em>extremely</em> painful. It’s about 10 clicks, a username, two different passwords, and a UI that is kinda wonky (it’s a desktop in a web browser)? Here’s a screengrab:</p><figure><video alt="Unlocking an encrypted drive in the Synology DiskStation UI" src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/decrypt.mp4" width="588" muted="" autoplay="" loop="" playsinline=""></video><figcaption><p>22 seconds is my personal speed record.</p></figcaption></figure><p>There are alternative solutions to this – you can set it up so that it <a href="https://www.synology.com/en-au/knowledgebase/DSM/tutorial/File_Sharing/How_to_encrypt_and_decrypt_shared_folders_on_my_Synology_NAS#t4_1">reads the encryption key from a USB disk on startup, for example</a> – but, if I’m worried about the whole thing being stolen, it’s not a good idea to leave the encryption keys plugged into the thing, and it’s also not a nice UX to find and plug in a USB before turning the thing on.</p><p>This… seems kinda silly to me, and something that should be solvable with ✨ <em>technology</em> ✨. I’m only ever accessing this from one computer, for example, and every modern operating system has a good credential storage system (think <a href="https://support.apple.com/guide/keychain-access/what-is-keychain-access-kyca1083/mac"><em>Keychain Access</em></a> on OSX or <a href="https://support.microsoft.com/en-us/windows/accessing-credential-manager-1b5c916a-6a16-889f-8581-fc16e8165ac0"><em>Credential Manager</em></a> on Windows 10). So, maybe my computer could take care of supplying encryption keys to the DiskStation!</p><p>I went looking for options, and discovered that the DiskStation Software has a <a href="https://global.download.synology.com/download/Document/Software/DeveloperGuide/Package/FileStation/All/enu/Synology_File_Station_API_Guide.pdf">publicly-documented web API (pdf)</a>. At least, a <em>mostly</em> publicly documented web API – there’s no documentation for the methods to mount and unmount encrypted shares.</p><p>That web API is <em>also</em> used by the desktop software though! So it should theoretically be possible to use <a href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">browser devtools</a> to see exactly <em>what</em> is being sent to the DiskStation. 🤔</p><p>So, I clicked on all the right things in the Web UI, got to the bit where you type in the password, opened the devtools to the “Network Requests” tab, typed in <code>abc123</code> as my password, hit “send” and then watched for the requests:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/encryption-dot-cgi.png" alt="Firefox devtools screenshot, showing a request to an ominously-named 'encryption.cgi'"><figcaption><p>hmmmmmmmmmmm</p></figcaption></figure><p>Hmmm, that <code>encryption.cgi</code> looks a little ominous. I wonder what’s in it?</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/public-key.png" alt="Firefox devtools screenshot, showing huge blob of base16-encoded public-key"><figcaption><p>Yep, looks like encryption, alright</p></figcaption></figure><p>Ok, a public key. And then the web interface loads a spinner, and makes a request to <code>entry.cgi</code>. Let’s take a look at the contents of that request:</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/ciphertext.png" alt="A devtools screenshot, showing a jumbled blob of base64-encoded data with the phrases 'rsa' and 'aes' sprinkled throughout."><figcaption><p>HMMMMMMMMMMMMMMMM</p></figcaption></figure><p>Ok, so if we want to send a magic request to mount the encrypted share, it’s not going to be enough to supply the encryption password; we’re also going to need to figure out how to <em>correctly</em> supply it – how to <em>encrypt</em> the encryption password, so to speak.</p><h2 id="so-what-is-this-crypto-system">So, what is this crypto system?</h2><p>Right. Here’s a high-level overview:</p><ul><li>First, we fetch the <code>public_key</code> from the server. That’s the call to the <code>encryption.cgi</code> endpoint we saw earlier. This isn’t actually the entire public key, it’s only <em>part</em> of it. In fact, this is a 4096-bit integer, encoded in base-16. The <em>other</em> part of the public key is the number <code>0x10001 == 65537</code>, which is hardcoded into the JavaScript.</li><li>Then, we generate 501 bytes worth of random text from the charset <code>0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ~!@#$%^&amp;*()_+-/</code> (that’s 77 different possible characters; I have no idea why this set was chosen though!).</li><li>We encrypt that random text using our public key. The encryption method is <a href="https://tools.ietf.org/html/rfc3447#section-7.2">RSA with PKCS1.5 padding</a>.</li><li>We MD5-hash that random text a bunch of times with an 8-byte salt. The end result of this is 48 bytes which certainly <em>look</em> pretty random to the naked eye.</li><li>We split those 48 bytes into two components – a 32-byte (== 256-bit) key, and a 16-byte initialisation vector.</li><li>Remember the password we typed in? Yeah, I’d forgotten about it too! But now, we <em>finally</em> take that password, and encrypt it with AES in Cipher Block Chaining (CBC) mode with PKCSv7 padding, using the 256-bit key and 16-byte IV we derived in the previous step.</li><li>We bundle the RSA ciphertext, the 8-byte salt, and the AES ciphertext together and ship them across to the DiskStation.</li></ul><p>Still with me? It’s ok if that didn’t all make loads of sense yet; we’ll now go over the interesting bits more closely.</p><h3 id="symmetric--asymmetric-ciphers">Symmetric / Asymmetric Ciphers</h3><p>Fundamentally, we’re using two cryptographic algorithms in concert:</p><ul><li><strong>RSA</strong>: RSA is an <em>asymmetric</em> cryptographic algorithm. Asymmetric cryptographic systems have two <em>keys</em> – a public key, which allows only for encryption of the data, and a private key, which allows for both encryption <em>and</em> decryption.</li><li><strong>AES</strong>: AES is a <em>symmetric</em> cryptographic algorithm. In symmetric cryptography, all parties have the same key, and that key allows you to both encrypt and decrypt.</li></ul><p>It seems weird that we’re using both of these at the same time, right? But both systems have weaknesses, and mixing them together is an attempt at minimising the disadvantages of both schemes.</p><p>The problem with <em>symmetric</em> crypto systems by themselves is that you need a way to get that one key to every party that needs it. But you can’t just <em>send</em> it to them, because you don’t have a secure channel yet! Your options are:</p><ul><li>Share the key over a different trusted channel beforehand, or</li><li>have both parties derive the same shared key (from e.g. some partial data that they negotiate over the wire beforehand).</li></ul><p>Asymmetric crypto doesn’t have this problem – if you’re able to share a key that can only be used for encrypting and not for decrypting, then the decryption keys never have to leave the recipient machine. You can then encrypt some text, and nobody except for the recipient can decrypt it – not even you! Put it on the internet, write it on a banner attached to the back of a propeller plane – the message will only be readable by the intended recipient.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/your-ciphertext-here.jpg" alt="A propeller plane with a banner reading 'your ciphertext here'"></figure><p>Asymmetric cryptography is <em>slow</em>, though, so doing it for lots of data is going to really hurt performance.</p><p>A common solution is to simply <em>make up</em> a symmetric key, perform some symmetric encryption using that key, then encrypt <em>that</em> key using asymmetric cryptography, and deliver both to the remote party. Then, the remote party can:</p><ul><li>First, perform asymmetric decryption to obtain the symmetric key</li><li>Then, use that symmetric key to decrypt the rest.</li></ul><p>That’s what <em>this</em> particular system is doing. ✨</p><h3 id="a-quick-note-about-rsa">A quick note about RSA</h3><p>I don’t know much about how RSA works, but as part of researching this article I discovered that it’s pretty easy to implement badly, and <a href="https://blog.trailofbits.com/2019/07/08/fuck-rsa/">extremely difficult to implement well</a>.</p><figure><img src="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/rsa-correct.gif" alt="Two developers correctly implement RSA, 2010, colorised"><figcaption><p><a href="https://www.youtube.com/watch?v=vPwzHm6buB8">Two developers correctly implement RSA</a>, 2010, colorised</p></figcaption></figure><p>As software developers, we spend a lot of time shipping things once they get to a point of “it looks like it works”. <strong>You can’t take that approach with cryptography</strong>, and because everything is so opaque, it’s a lot easier to declare that your implementation works without realising that it’s missing fundamentals. Like correctness, for example.</p><h3 id="lets-talk-about-random-keyslets-talk-about-you-and-me">Let’s talk about random keys<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></h3><p>Recall that this algorithm is generating 501 random bytes from a 77-character set, and encrypting that with RSA. 501 seemed like an oddly specific number to me; here’s the specific set of circumstances that characterise <em>why</em> we’re generating a string of this length.</p><p>RSA is a <a href="https://en.wikipedia.org/wiki/Block_cipher"><em>block cipher</em></a>, which means it operates on distinct fixed-size blocks of input and produces fixed-size blocks of output. How big can each block be? Well, RSA public keys are made up of two numbers: a (very large) modulus <code>n</code>, and a much smaller exponent <code>e</code>. RSA is capable of encrypting any message that’s smaller than <code>n</code> if you convert it to a number. In our case, we said that our modulus was a seemingly-random 4096-bit integer – that means (approximately) that we can encrypt 512-byte blocks.</p><p>There’s an important implication here: if you don’t have enough input for a block, you need to fill it up somehow. Normally this is called a <em>padding scheme</em><sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> in block-based cryptography.</p><p>Now, the system on this NAS in particular uses <a href="https://tools.ietf.org/html/rfc3447#section-7.2.1">PKCS1-v1.5 padding</a>, which prepends the message (before encryption) with 3 bytes of headers <em>plus</em> a minimum of 8 bytes<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> of random garbage. That makes 11 bytes out of a 512 byte block, which means we’ve got… 501 bytes left for our message. ✨</p><h3 id="lo-fi-key-derivation">Lo-fi key derivation</h3><p>So… we’ve got this 501-byte string, with each character being one of 77 possibilities, and we think we know <em>why</em> it was chosen to be 501 bytes long. But that’s not going to work for AES-encrypting the password:</p><ul><li>AES requires a key size of 128, 192, or 256 bits. That’s 16, 24, or 32 bytes respectively, but we’ve got <em>lots</em> more than that.</li><li>We can’t, however, just take a subset of bytes from the text and go from there – because they’re selected from a narrow subset of possible bytes (77 out of 255!), you’d be losing an <em>enormous</em> amount of entropy in the key, making the encrypted text about 44,000,000,000,000,000 times<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> easier to break.</li></ul><p>These constraints need to be managed. We can smooth over both by applying a <a href="https://en.wikipedia.org/wiki/Key_derivation_function">key derivation function</a>, based on repeated rounds of MD5 hashing and concatenating. Hash algorithms, in general, are good for this because they map input data to… not random, but random-<em>looking</em> output data.</p><p>I like to think of hashing as “entropy laundering” – if you’ve got 256 bits of entropy in a 16kB file, taking the first 256 bits will give you only 64 bits of entropy. If you hash the whole 16kB file, then the entropy goes back up to the maximum of the entropy in the file and the entropy provided by the hash algorithm. This works because hash algorithms are designed to exhibit an <a href="https://en.wikipedia.org/wiki/Avalanche_effect">avalanche effect</a>.</p><p>I do <em>not</em> have the tools or experience to evaluate whether this specific scheme is secure or not (this one seems esoteric, and the <a href="https://security.stackexchange.com/questions/19906/is-md5-considered-insecure">use of MD5 is scary</a>!)… so let’s move briskly on.</p><h3 id="aes-encryption">AES-encryption</h3><p>Finally, after a bunch of outdated and somewhat esoteric primitives, we’re back to something that is <em>good</em> and <em>works</em> and <em>only slightly</em> a <a href="https://en.wiktionary.org/wiki/footgun">loaded footgun</a> and is <em>still recommended for widespread use!</em> It’s AES with a 256-bit key.</p><p>AES is our symmetric cipher. Like RSA, it operates on blocks of fixed length. <a href="https://crypto.stackexchange.com/questions/66314/whats-the-best-block-cipher-mode-of-operation-for-rsa/66321#66321">Unlike RSA</a>, these blocks can be chained together. The strategies to do this are called <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">“Block cipher modes of operation”</a>, and AES implementations ship with a number of them. The problem is, this means you have access …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/">https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</a></em></p>]]>
            </description>
            <link>https://capnfabs.net/posts/wtf-encryption-scheme-synology-diskstation-nas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201723</guid>
            <pubDate>Sat, 20 Feb 2021 05:00:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fixing EKS DNS]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26201292">thread link</a>) | @mooreds
<br/>
February 19, 2021 | https://www.vladionescu.me/posts/eks-dns/ | <a href="https://web.archive.org/web/*/https://www.vladionescu.me/posts/eks-dns/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.vladionescu.me/posts/eks-dns/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201292</guid>
            <pubDate>Sat, 20 Feb 2021 03:38:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Embracing Functional Programming in Ruby (2017)]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 9 (<a href="https://news.ycombinator.com/item?id=26201237">thread link</a>) | @mooreds
<br/>
February 19, 2021 | https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html | <a href="https://web.archive.org/web/*/https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>At <a href="https://gusto.com/">Gusto</a>, we’ve been knee-deep in a substantial refactor of our system for running payrolls.</p>

<p>Running a payroll requires taking several different inputs such as how much an employee should get paid, where did they work, how much did they work, how much taxes should they pay, how much taxes have they paid this year, and so on and so on.</p>

<p>As a company that offers a payroll service, keeping this piece of the system in tip-top shape is important for the business. Customers love Gusto for its simplicity and speed when it comes to running payroll.</p>

<p>Over the years, this system grew beyond its original mandate. Rather than just serve payroll for one state, it now serves them for all 50 states and the District of Columbia. Although customers love our payroll, internally new engineers had a difficult time understanding the code and making changes safely. This system needed a tune up, so we embarked on a sizable refactor.</p>

<p>Because the process of calculating what you need for a payroll is one big formula, we set the goal of making this system “more functional” as in functional programming. We wanted to take the process of calculating a payroll and make it one big stateless operation.</p>

<p>The server-side code at Gusto is written in Ruby, a language usually known for its object-oriented and metaprogrammatic roots. Nonetheless, we wanted to integrate some more functional concepts into our code in the hopes of increasing the system’s safety and clarity. The result has been maintainable code that is easier to reason about and safer to change.</p>

<h2 id="embracing-the-pfaao">Embracing the PFaaO</h2>

<p>Ruby is an expressive language, but it does not lend itself to some common functional practices. Although Ruby allows for closures and first-class functions via <code>Proc</code>s, one does not see many <code>Proc</code>s passed around as objects in idiomatic Ruby.</p>

<p>Throughout our work, we discovered that you can create expressive interfaces with clean internals by embracing both OO and functional aspects of Ruby.</p>

<p>To do this, we used a pattern called <a href="https://www.tomdalling.com/blog/ruby/pure-function-as-an-object-PFAAO-pattern/">Pure Function as an Object (PFaaO)</a>. Essentially, you design objects as you would a <a href="https://en.wikipedia.org/wiki/Pure_function">pure function</a> but dress them up as Ruby classes.</p>

<p>A pure function is a function without observable side effects that always returns the same value for a given set of inputs. That means no talking to the database, no modifying the state of other objects, no accessing the system clock, etc. When we write a PFaaO in Ruby, we want to build an object that has no side effects.</p>

<p>A simple PFaaO might look like the following:</p>

<div><div><pre><code><span>class</span> <span>PayrollCalculator</span>
  <span>def</span> <span>self</span><span>.</span><span>calculate</span><span>(</span><span>payroll</span><span>)</span>
    <span>new</span><span>(</span><span>payroll</span><span>).</span><span>calculate</span>
  <span>end</span>

  <span>def</span> <span>initialize</span><span>(</span><span>payroll</span><span>)</span>
    <span>@payroll</span> <span>=</span> <span>payroll</span>
  <span>end</span>
  <span>private_class_method</span> <span>:new</span>

  <span>def</span> <span>calculate</span>
    <span>PayrollResult</span><span>.</span><span>new</span><span>(</span>
      <span>payroll: </span><span>payroll</span><span>,</span>
      <span>paystubs: </span><span>paystubs</span><span>,</span>
      <span>taxes: </span><span>taxes</span><span>,</span>
      <span>debits: </span><span>debits</span>
    <span>)</span>
  <span>end</span>

  <span>def</span> <span>paystubs</span>
    <span># ...</span>
  <span>end</span>

  <span>def</span> <span>taxes</span>
    <span># ...</span>
  <span>end</span>

  <span>def</span> <span>debits</span>
    <span># ...</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>There’s quite a bit going on here, so let’s break it down bit by bit.</p>

<p>First, our class has only one effective public interface: <code>PayrollCalculator.calculate</code>. Because we’ve declared the constructor private using <code>private_class_method :new</code>, the instance method <code>#calculate</code> is effectively private.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>This means that all of the other instance methods we declare are implicitly private, even though there is no explicit <code>private</code> block within this class. Because there’s no way to <code>.new</code> up an instance, there is not a vector to call any instance methods.</p>

<p>Our method only has one public interface and its designed operation is effectively stateless, therefore we only need to exercise one interface in our tests. Put some data in, assert that the data coming out is what we expected.</p>

<h2 id="referential-transparency-for-free">Referential Transparency for Free</h2>

<p>In our above example, let’s say that the process of calculating taxes is expensive from a time perspective.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup> Thus, we want to make a time/space tradeoff to consume more memory to minimize the number of times we need to compute taxes. In our example, calculating both <code>#paystubs</code> and <code>#debits</code> will require the result of <code>#taxes</code>.</p>

<p>Now because each of these private methods is a pure function, we have referential transparency. This means we can replace a method and its parameters with its return value. Think of it like algebra: Given the function <code>f(x) = x + 5</code>, you can safely replace any occurrence of <code>f(2)</code> with the value <code>7</code>.</p>

<p>What does this mean for a Rubyist? Free and safe memoization:</p>

<div><div><pre><code><span>def</span> <span>paystubs</span>
  <span>calculate_paystubs</span><span>(</span><span>taxes</span><span>,</span> <span>...</span><span>)</span>
<span>end</span>

<span>def</span> <span>debits</span>
  <span>calculate_debits</span><span>(</span><span>taxes</span><span>,</span> <span>...</span><span>)</span>
<span>end</span>

<span>def</span> <span>taxes</span>
  <span>@taxes</span> <span>||=</span> <span>calculate_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Memoization is a form of caching, and can be fraught with issues if the memoized value does not actually come from a pure function. But because we make everything within the PFaaO pure, we can safely memoize this method call.</p>

<p>This is interesting because it looks like this class is no longer stateless: it now assigns local values. However the only interface is the single <code>.calculate</code> class method, each instance of our PFaaO is single-use. Any intermediate state can never be accessed by externally. Because this cached state is not observable externally, our function is still technically pure.</p>

<p>Much in the way a developer can abstract synchronous and asynchronous behavior, you can do the same with functional purity. Any local state changes are irrelevant in the lifecycle of the PFaaO. These local state changes are not observable from the outside world.</p>

<h2 id="expanding-pfaaos">Expanding PFaaOs</h2>

<p>As I’ve grown in my career, I have become less interested in how software is written but how it is maintained. Software maintenance is the blessing and the curse of any successful project: <em>Congratulations!</em> You have a business with lasting value. <em>Our condolences!</em> You must now pay for all of your mistakes. Nonetheless, it is always preferred to have a business that exists with technical debt, than to have a bankrupt company with a pristine code base.</p>

<p>PFaaOs in Ruby are great because they are easy to maintain. Not only are they easy to test, but they are predisposed to healthy growth.</p>

<p>What do I mean by that?</p>

<p>Let’s again take the example of our <code>#taxes</code> method. Early in Gusto’s history (back when it was still known as ZenPayroll), we only offered payroll services in California. Thus, we only needed to worry about payroll taxes for California.</p>

<p>In the grand scheme of things, California is a simple state when it comes to payroll taxes. Our taxes method might have looked like nothing more than the following:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>federal_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Now let’s say we expanded into a new state, New York. Now our method grows a little bit:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>federal_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>new_york_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_california_taxes</span><span>(</span><span>@payroll</span><span>)</span> <span>+</span>
    <span>local_new_york_taxes</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>As we expand into every state,<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> this method will grow to be quite large! Furthermore, each of these methods adds to the length of our <code>PayrollCalculator</code> class. Without constant gardening, the class could become difficult to understand.</p>

<p>But because each of our methods within a PFaaO is itself a pure function, we are able to extract classes as we see fit and make each one a new PFaaO. We can safely replace our growing methods with new PFaaOs:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>PayrollCalculator</span><span>::</span><span>Taxes</span><span>.</span><span>calculate</span><span>(</span><span>@payroll</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>As we tease apart these different PFaaOs, we also get a much better idea of the input requirements for these service classes. Our <code>@payroll</code> is a large parameter object, and each extracted PFaaO probably only needs a subset of its data.</p>

<p>So we can get away with something like:</p>

<div><div><pre><code><span>def</span> <span>taxes</span>
  <span>PayrollCalculator</span><span>::</span><span>Taxes</span><span>.</span><span>calculate</span><span>(</span>
    <span>@payroll</span><span>.</span><span>only_pay_and_location_data</span>
  <span>)</span>
<span>end</span>
</code></pre></div></div>

<p>Here we assume that the <code>Payroll#only_pay_and_location_data</code> returns a slice of the total data within the instance as a new <a href="https://martinfowler.com/bliki/ValueObject.html">Value Object</a>. This Value Object represents only the data required to calculate the taxes part of running a payroll.</p>

<h2 id="data-is-immutable-by-default">Data is Immutable by Default</h2>

<p>Another important ingredient for scalable PFaaOs is the requirement that all data be immutable by default. <em>This is a drastic change from how most folks traditionally write Ruby.</em></p>

<p>Every time you reach for your <code>=</code>, you’ll need to replace it with a <code>#set</code> or <code>#put</code>. Rather than modifying objects in place, you will get used to returning new copies with new values. (<a href="https://github.com/hamstergem/hamster/">Hamster</a>, which provides great immutable data structures, can help you from having to hand-roll FP functionality.)</p>

<p>What does this mean for Rails? It will often mean creating functions or classes that take <code>ActiveRecord</code> objects and convert them into immutable value objects. For us, we carve out these value objects into the namespace of what we’re doing. For example, here are the two representations of a payroll in our system:</p>

<div><div><pre><code><span># app/models/payroll.rb</span>
<span>class</span> <span>Payroll</span> <span>&lt;</span> <span>ActiveRecord</span><span>::</span><span>Base</span>
<span>end</span>

<span># app/services/payroll_calculator/payroll.rb</span>
<span>class</span> <span>PayrollCalculator::Payroll</span> <span>&lt;</span> <span>ValueObject</span>
<span>end</span>
</code></pre></div></div>

<p>The <code>ActiveRecord</code> version of a payroll represents the data that lives in the database. It is a superset of the data required for actually running a payroll. Although they have the same name, they do not have the same attributes. For example, the <code>ActiveRecord</code> version of <code>Payroll</code> will have a <code>processed_at</code> attribute, whereas the <code>Payroll</code> that lives in the calculation domain does not.</p>

<p>In the words of <a href="https://kellysutton.com/2017/06/07/domain-driven-design.html"><em>Domain-Driven Design</em></a>, each namespace here is a different Bounded Context. We implement adapters to take <code>ActiveRecord</code> payrolls and turn them into <code>PayrollCalculator</code> payrolls, and vice versa.</p>

<p>The upside of this is the same that you might see in any other large system with well-defined abstractions; changes in models don’t cross domains. In our example, we can change the structure of the <code>Payroll</code> in our database without needing to change the calculation code. We would only need to change our adapter. Furthermore, this context is entirely separate from the machinations of Rails. We could easily and safely pull this into its own …</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html">https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html</a></em></p>]]>
            </description>
            <link>https://kellysutton.com/2017/09/13/embracing-functional-programming-in-ruby.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201237</guid>
            <pubDate>Sat, 20 Feb 2021 03:30:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Draw an iceberg and see how it would float in water]]>
            </title>
            <description>
<![CDATA[
Score 1514 | Comments 161 (<a href="https://news.ycombinator.com/item?id=26201160">thread link</a>) | @raldi
<br/>
February 19, 2021 | https://joshdata.me/iceberger.html | <a href="https://web.archive.org/web/*/https://joshdata.me/iceberger.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://joshdata.me/iceberger.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26201160</guid>
            <pubDate>Sat, 20 Feb 2021 03:16:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Life in E-Ink]]>
            </title>
            <description>
<![CDATA[
Score 268 | Comments 152 (<a href="https://news.ycombinator.com/item?id=26200630">thread link</a>) | @HaoZeke
<br/>
February 19, 2021 | https://rgoswami.me/posts/my-life-in-eink/ | <a href="https://web.archive.org/web/*/https://rgoswami.me/posts/my-life-in-eink/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote><p>Collection of odds and ends relating to e-readers including personal reminisces</p></blockquote><h2 id="background">Background</h2><p>Reading has been a huge part of my life. The written word has had arguably more of an impact on my life than anything I have experienced in person. As a kid back in early 2000’s; this meant a lot of library trips and saving for paperbacks. I also caught the first wave of the e-ink revolution. Nothing beats a real book, in terms of textures and scents; but e-ink devices and the fantastic tools outlined here should make reading digital books much more palpable&nbsp;<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.</p><p>I have been reading on my <a href="https://en.wikipedia.org/wiki/Kobo%5FAura%5FHD">Kobo Aura HD</a> for almost a decade now, ever since its release. This means my setup is about as stable as its going to get in the near future. As good a time as any to collect my thoughts&nbsp;<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. The focus is on e-ink devices and auxiliary tools; not on all digital content; so there are no mentions of syncing or reading on the go (with a phone) or of monitors which are good for reading on.</p><h3 id="the-content">The Content</h3><p>In general; my e-ink reading habits can be broadly broken into the following categories:</p><dl><dt>Light Reading</dt><dd>Practically this includes <a href="https://www.goodreads.com/user/show/33462912-rohit-goswami">anything I review on Goodreads</a>; these are not often re-read; nor read very deeply; since they are read for pleasure. They are however, rarely deleted</dd><dt>Required Reading</dt><dd>Anything which typically requires me to take notes or practice / write out proofs; these are most often considered to be either coursework (for someone somewhere) or research monographs. These are typically large (in size) and unwieldy (in that they often lack TOCs) and are read multiple times; with a focus on highlights and notes</dd><dt>Active Research</dt><dd>These are the most ephemeral of my reading habits; and also the most numerous; I do not typically store these on my e-reader; and rarely need to make notes on the reader&nbsp;<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>. These are often tiny; but require special work due to the metadata involved</dd></dl><table><thead><tr><th>Content Type</th><th>Software Stack</th><th>Deletion Rate</th></tr></thead><tbody><tr><td>Light Reading</td><td>Calibre</td><td>Rare</td></tr><tr><td>Required Reading</td><td>Calibre</td><td>Never</td></tr><tr><td>Active Research</td><td>Calibre + Zotero</td><td>Frequent</td></tr></tbody></table><p>Though I am a huge proponent of RSS feeds (with <a href="https://gitlab.com/news-flash/news%5Fflash%5Fgtk">Newsflash</a>) and read online content voraciously with both a <a href="https://app.getpocket.com/">Pocket</a> and <a href="https://www.diigo.com/user/rgoswami">Diigo</a> subscription<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>; I sincerely do not believe blog stuff or anything tailored for the web should have a presence on an e-ink device; so there shall be no mention of those parts of my reading habits<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>.</p><h2 id="hardware">Hardware</h2><p>My primary e-reader is still my <a href="https://www.kobo.com/koboaurahd?%5F%5F%5Fstore=au&amp;style=onestore">Kobo Aura HD</a> (complete with a snazzy <a href="https://www.amazon.com/Cover-Up-eReader-Natural-Cover-Function/dp/B00DZJ5VM0">hemp sleep-cover</a>), and has been my go to for almost a decade now since its release. Recently I have augmented my workflow with the <a href="https://remarkable.com/store/remarkable-2">reMarkable 2</a>; though I have yet to break it in very well; mostly because I tend to gravitate towards typing out my thoughts&nbsp;<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> instead of writing.</p><p>The Kobo Aura HD is still the pinnacle of reading technology to me; mostly because the firmware is easy to bypass; and there is a vibrant community of developers on the <a href="https://www.mobileread.com/forums/showthread.php?t=210800">MobileRead Forums</a>. Display and spec aside; the biggest reason for never replacing it has been been the simple fact that most modern e-readers no longer support SD cards; and much of my workflow depends on storing insane amounts of material offline&nbsp;<sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup>.</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/d393a91160884052b7717a31a565283336a03ccf/eb437/ox-hugo/2021-02-20_01-39-20_screenshot.png" alt="Figure 1: Primary reading device with Koreader"><figcaption><p>Figure 1: Primary reading device with Koreader</p></figcaption></figure><p>Personally, I never use Nickel (the default Kobo interface), and it would probably choke trying to scan my 200 GB of content; so I haven’t updated the firmware in forever. My interactions are almost always in <a href="https://koreader.rocks/">Koreader</a>; and my launching poison of choice is the now no longer developed <a href="https://www.mobileread.com/forums/showthread.php?t=293804">Kobo start menu</a>&nbsp;<sup id="fnref:8"><a href="#fn:8" role="doc-noteref">8</a></sup>.</p><h2 id="software">Software</h2><p>Broadly speaking; the main parts of the software pipeline from digital book to brain are simply the syncing mechanism and the UI/UX/OS of the device in question; though it is often best to consider pre-processing books for devices too. These are covered in the order used.</p><h3 id="k2pdfopt">k2pdfopt</h3><p>The thought of reflowing text for an optimal reading experience, especially given the slightly limited processing power of my primary reading device is an enticing prospect. <a href="https://www.willus.com/k2pdfopt/">K2pdfopt or the Kindle 2 PDF Optimizer</a> is as criminally underrated as it is fantastic. An approach which works well for my device involves setting up <a href="https://github.com/HaoZeke/Dotfiles/blob/master/dotfiles/common/.local/bin/fileHelpers/docK2pdf">a simple shell script</a> (part <a href="https://github.com/HaoZeke/Dotfiles">of my Dotfiles</a>) for optimizing files on the fly before sending them through <code>calibre</code>.</p><div><pre><code data-lang="bash"><span>#!/usr/bin/env bash
</span><span></span><span># Get a filename</span>
<span>case</span> <span>"</span><span>$#</span><span>"</span> in
0<span>)</span>
      <span>echo</span> <span>"No arguments, so enter the filename, WITH the extension"</span>
      <span>read</span> -p <span>'Document: '</span> docfile
      <span>;;</span>
1<span>)</span>
      <span>echo</span> <span>"OK, using the filename"</span>
      <span>docfile</span><span>=</span><span>"</span><span>$1</span><span>"</span>
      <span>;;</span>
*<span>)</span>
      <span>echo</span> <span>"Illegal number of parameters"</span>
      <span>exit</span>
      <span>;;</span>
<span>esac</span>
<span># Get basename</span>
<span>basename</span><span>=</span><span>"</span><span>${</span><span>docfile</span><span>%.*</span><span>}</span><span>"</span>
<span>ext</span><span>=</span><span>"</span><span>${</span><span>docfile</span><span>##*</span><span>\.</span><span>}</span><span>"</span>
<span>echo</span> <span>"Basename </span><span>${</span><span>basename</span><span>}</span><span> with </span><span>$ext</span><span> from </span><span>$docfile</span><span>"</span>
<span>echo</span> <span>"Making a local store for the outputs"</span>
mkdir -p <span>"</span><span>$HOME</span><span>/auraHDopt"</span>

<span>case</span> <span>"</span><span>$ext</span><span>"</span> in
<span>"djvu"</span><span>)</span>
      <span>echo</span> <span>"Converting djvu to pdf via ps and running k2pdfopt"</span>
      djvups <span>"</span><span>${</span><span>basename</span><span>}</span><span>.djvu"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.ps"</span>
      ps2pdf <span>"</span><span>${</span><span>basename</span><span>}</span><span>.ps"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span>
      <span># The newline is for simulating the Enter key</span>
      <span>echo</span> <span>|</span> k2pdfopt <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span> -wrap -hy -ws -0.2 -dev kbhd -x
      <span>echo</span> <span>"Cleaning up"</span>
      mv <span>"</span><span>${</span><span>basename</span><span>}</span><span>_k2opt.pdf"</span> <span>"</span><span>$HOME</span><span>/auraHDopt"</span>
      rm -rf <span>"</span><span>${</span><span>basename</span><span>}</span><span>.{ps,pdf}"</span>
      <span>;;</span>
<span>"pdf"</span><span>)</span>
      <span>echo</span> <span>"Converting pdf with gs and running k2pdfopt"</span>
      gs -sDEVICE<span>=</span>pdfwrite -dCompatibilityLevel<span>=</span>1.4 -dPDFSETTINGS<span>=</span>/screen <span>\
</span><span></span>              -dNOPAUSE -dQUIET -dBATCH -sOutputFile<span>=</span><span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> <span>"</span><span>${</span><span>basename</span><span>}</span><span>.pdf"</span>
      <span>echo</span> <span>|</span> k2pdfopt <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> -wrap -hy -ws -0.2 -dev kbhd -x
      <span>echo</span> <span>"Cleaning up"</span>
      rm <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs.pdf"</span> -rf
      mv <span>"</span><span>${</span><span>basename</span><span>}</span><span>gs_k2opt.pdf"</span> <span>"</span><span>$HOME</span><span>/auraHDopt"</span>
      <span>;;</span>
*<span>)</span>
      <span>echo</span> <span>"Illegal file type"</span>
      <span>exit</span>
      <span>;;</span>
<span>esac</span>
</code></pre></div><p>The outputs can also be further processed with an <a href="https://github.com/HaoZeke/Dotfiles/blob/master/dotfiles/common/.local/bin/fileHelpers/isOcr">OCR (Optical Character Recognition) script</a> if required, and then edited in <a href="https://code-industry.net/masterpdfeditor/">Master PDF Editor</a> or something similar to add the table of contents interactively as well.</p><div><pre><code data-lang="bash"><span>#!/bin/bash
</span><span></span><span># Use as  find . -type f -name "*.pdf" -exec isOcr '{}' \;</span>

<span># Shamelessly kanged from here:</span>
<span># https://stackoverflow.com/questions/7997399/bash-script-to-check-pdfs-are-ocrd</span>
<span># Only searches for text on the first 5 pages</span>
<span># Modified to have red text. Also to possibly ocr the thing.</span>

<span># -*- mode: shell-script-mode -*-</span>

<span>MYFONTS</span><span>=</span><span>$(</span>pdffonts -l <span>15</span> <span>"</span><span>$1</span><span>"</span> <span>|</span> tail -n +3 <span>|</span> cut -d<span>' '</span> -f1 <span>|</span> sort <span>|</span> uniq<span>)</span>
<span>if</span> <span>[</span> <span>"</span><span>$MYFONTS</span><span>"</span> <span>=</span> <span>''</span> <span>]</span> <span>||</span> <span>[</span> <span>"</span><span>$MYFONTS</span><span>"</span> <span>=</span> <span>'[none]'</span> <span>]</span><span>;</span> <span>then</span>
    <span>echo</span> <span>"</span><span>$(</span>tput setaf 1<span>)</span><span>NOT OCR'ed: </span><span>$1</span><span>"</span>
    <span>if</span> <span>[[</span> -x <span>"</span><span>$(</span>which ocrmypdf<span>)</span><span>"</span> <span>]]</span><span>;</span> <span>then</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
        <span>echo</span> <span>"Converting to </span><span>${</span><span>1</span><span>%.*</span><span>}</span><span>_ocr.pdf with ocrmypdf"</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 7<span>)</span><span>"</span>
        ocrmypdf --deskew --clean --rotate-pages <span>\
</span><span></span>            --jobs <span>4</span> -v --output-type pdfa <span>"</span><span>$1</span><span>"</span> <span>"</span><span>${</span><span>1</span><span>%.*</span><span>}</span><span>_ocr.pdf"</span>
    <span>elif</span> <span>[[</span> -x <span>"</span><span>$(</span>which pypdfocr<span>)</span><span>"</span> <span>]]</span><span>;</span> <span>then</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 2<span>)</span><span> Looking for config files at </span><span>$XDG_CONFIG_HOME</span><span>/pypdfocr/config.yml"</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 3<span>)</span><span>"</span>
        <span>if</span> <span>[[</span> -e <span>$XDG_CONFIG_HOME</span>/pypdfocr/config.yml <span>]]</span><span>;</span> <span>then</span>
            <span>echo</span> <span>"Using configuration settings"</span>
            <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
            pypdfocr -c <span>$XDG_CONFIG_HOME</span>/pypdfocr/config.yml <span>"</span><span>$1</span><span>"</span>
        <span>else</span>
            <span>echo</span> <span>"Using default settings"</span>
            <span>echo</span> <span>"</span><span>$(</span>tput setaf 4<span>)</span><span>"</span>
            pypdfocr <span>"</span><span>$1</span><span>"</span>
        <span>fi</span>
        <span>echo</span> <span>"</span><span>$(</span>tput setaf 2<span>)</span><span> You might want to get pypdfocr"</span>
    <span>fi</span>
<span>else</span>
    <span>echo</span> <span>"</span><span>$1</span><span> is OCR'ed."</span>
<span>fi</span>
</code></pre></div><p>The end result is:</p><ul><li>A directory with perfectly <code>pdf</code> files re-flowed text<ul><li>Possibly OCR’ed for string searches</li></ul></li></ul><p>TOC editing is still rather janky; but this is also because the OCR process is still rather spotty.</p><h3 id="calibre">Calibre</h3><p><a href="https://calibre-ebook.com/">Calibre</a> is an excellent library software, and there are very few alternatives which offer all the salient features:</p><dl><dt>Syncing</dt><dd>Apart from working well with a plethora of official devices, Koreader is also pretty well supported, and mounting folders allows for easy management of a secret library (e.g. <code>.Library</code>) on an SD card to prevent Nickel from reading and choking on large libraries</dd><dt>Multiple Libraries</dt><dd>I personally keep one for fiction, one for non-fiction, and one (transiently populated) one for papers</dd><dt>Good metadata collection</dt><dd>Nothing beats rich metadata, and with third party plugins, all the best content providers can be leveraged for blurbs; plus most purchased books come with metadata which <code>calibre</code> can read</dd></dl><p>It isn’t perfect, there are far better <a href="https://opds.io/">OPDS (Open Publication Distribution System)</a> servers like the fantastic <a href="https://github.com/seblucas/cops">COPS (Calibre OPDS)</a> project, and there have been <a href="https://anarc.at/software/desktop/calibre/">some security concerns in the past</a>, but it is really usable and is <a href="https://github.com/kovidgoyal/calibre">under active development</a>; plus it has a <a href="https://kovidgoyal.net/">fun developer</a>. I also personally find the file conversion lacking, compared to <code>k2pdfopt</code>, but as a library management system it is really good.</p><h3 id="zotero-sync">Zotero Sync</h3><p>Calibre provides a handy <a href="https://www.mobileread.com/forums/showthread.php?p=3339191#poststop">ZMI (Zotero Metadata Importer) plugin</a> which allows for exported papers to be imported into <code>calibre</code> and from then into the e-reader as expected. Combined with the folder mounts facilitated by <code>calibre</code> this allows for a painless way to ensure a quick export; optimize; sync; read and delete workflow.</p><h3 id="koreader">Koreader</h3><p>Koreader is probably the best thing to happen to e-ink devices since sliced bread. It replaces the need to use any cables with an e-reader; since newer versions have a nice SSH server, and can also update itself. Since this is mostly used as is; and all the information required is on the <a href="https://github.com/koreader/koreader/wiki">Github Wiki</a>, there’s not much else to say here.</p><p>It is probably worth noting that the in-built re-flow options do tend to cause major artifacts on older hardware, and is best avoided. Almost equivalently, and at a far lower cost in terms of performance, page contents can be fit to width and zoomed in automatically, which is almost as good as working with <code>k2pdfopt</code> in some special cases.</p><h2 id="conclusions">Conclusions</h2><p>Given my unfortunate separation from my library back home; it is likely that my e-ink devices will continue to be my primary source of reading material. Plus the long retarded color e-ink market finally seems to be moving out of its stupor&nbsp;<sup id="fnref:9"><a href="#fn:9" role="doc-noteref">9</a></sup>. The only possible addendum to this methodology would probably involve integrating <code>orgmode</code> and the reMarkable 2 sometime. E-ink is here to stay. This setup would probably need revisions involving <code>rclone</code> or <code>syncthing</code> if I ever gave …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rgoswami.me/posts/my-life-in-eink/">https://rgoswami.me/posts/my-life-in-eink/</a></em></p>]]>
            </description>
            <link>https://rgoswami.me/posts/my-life-in-eink/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26200630</guid>
            <pubDate>Sat, 20 Feb 2021 01:46:53 GMT</pubDate>
        </item>
    </channel>
</rss>
