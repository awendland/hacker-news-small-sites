<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 15 Jan 2021 01:58:35 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 15 Jan 2021 01:58:35 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[I Mass Refactored Our Production Codebase Without Fear â€“ Engineering Stories]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25760078">thread link</a>) | @soygul
<br/>
January 13, 2021 | https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear | <a href="https://web.archive.org/web/*/https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <section id="main_content">
        
<p>I recently mass refactored our production codebase at work. And I did so without the fear of breaking things. It was a full-stack refactor, and I did changes to our apps, test code and DevOps code. After finishing the mass refactor, I did zero manual testing. So, how did I do this? With the help of automated testing like this, of course:</p>

<video width="1920" height="1080" controls=""><source src="https://quanticdev.com/articles/media/device_farm-automated_testing_on_mobile_phone.mp4" type="video/mp4"></video>

<p>In the rest of this article, I will give you a sense of how large refactors are done in production codebases of large enterprise products. I will talk more about the product that I worked on more in a moment. I will also explain the tools and technologies that helped me in the process of mass refactoring.</p>

<p>Table of contents:</p>
<ul>
  <li><a href="#resources">Resources</a></li>
  <li><a href="#what-did-i-do">What Did I Do?</a></li>
  <li><a href="#what-is-our-product">What is Our Product?</a></li>
  <li><a href="#why-was-i-so-confident">Why Was I So Confident?</a></li>
  <li><a href="#what-is-automated-testing">What is Automated Testing?</a></li>
  <li><a href="#device-farms-and-test-labs">Device Farms and Test Labs</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h2 id="resources">Resources</h2>
<p>You can find the video narrative of this article on YouTube: <a href="https://www.youtube.com/watch?v=oJEPBRrcyiw" target="_blank">https://www.youtube.com/watch?v=oJEPBRrcyiw</a></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/oJEPBRrcyiw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>If you want to read the comments or leave a comment, do so under the YouTube video. If you want to contribute to the article, make a pull request on GitHub.</p>

<p>Resources mentioned in this article:</p>
<ul>
  <li><a href="https://www.youtube.com/watch?v=ztb8HNc2kCU" target="_blank">My â€œSoftware Quality Assuranceâ€ video</a>, where I describe how software companies test their products, starting with unit tests and going all the way to end-to-end (acceptance) testing level.</li>
  <li><a href="https://quanticdev.com/articles/method-chaining" target="_blank">My â€œMethod Chaining is Awesomeâ€ article</a>, which draws inspiration from some of the refactors that I did, which is the subject of this article.</li>
</ul>

<p>Appium, which I recommend for automated desktop/mobile testing with a singular codebase:</p>
<ul>
  <li><a href="https://github.com/appium/appium" target="_blank">https://github.com/appium/appium</a></li>
</ul>

<p>Remote (manual) mobile device testing software:</p>
<ul>
  <li><a href="https://github.com/openstf/stf" target="_blank">https://github.com/openstf/stf</a></li>
</ul>

<h2 id="what-did-i-do">What Did I Do?</h2>
<p>I have refactored our large production codebase over the span of four months. I did this refactor module by module and product by product. I have probably touched our entire tech stack during this (hence the importance of being a full-stack engineer!). I made changes to our clients (mobile and desktop) in their UI and core code. I adapted our tests code to the changes that Iâ€™ve done to the product. I have also changed our DevOps code extensively, to accommodate the changes Iâ€™ve done to the product and test code. Following animation is from my method chaining article, which was partly inspired by the changes that I did to our test framework. If you want to check out the full article, it is in the resources section above.</p>

<video width="790" height="300" controls=""><source src="https://quanticdev.com/articles/media/method_chaining.mp4" type="video/mp4"></video>

<p>Changes were mostly technical (i.e. swap one JSON library with another, adapt the code to new UI libs, use method chaining in test code etc.) so correctness of the changes from product management perspective was not entirely relevant. However, verifying that functionality remained the same, and everything continued to work in production as-is was #1 priority. Further code level changes that Iâ€™ve done is not the point of this article so I wonâ€™t dig deeper. I did most of my refactors using IntelliJ IDEA, which supports all the programming languages we use and has enormous refactoring capabilities. We also have a ton of static code analyzers, linters, and code reformatters built into our continuous-integration process, which was also very helpful in detecting defects at code level early on. Finally, our code peer-review process using pull-requests has the most important code quality assurance factor.</p>

<p>After I was done with the refactors, I made zero manual testing on our products. Neither did I have any fear of breaking things during this mass refactor. And oh boy, did break things! So why was I not fearful of breaking things? Because I knew that I could identify and fix what I broke during the refactoring process. I will talk more about our quality assurance tech in a moment.</p>

<h2 id="what-is-our-product">What is Our Product?</h2>
<p>Our product is a large enterprise VPN software. It has been under development by a large team for the last 5+ years, so it has a considerably complex codebase. It has key hardware integrations, so reliability is quite important. When you integrate software and hardware features, you get a large surface area for bugs. Testing the hardware integrations is incredibly daunting since you need to get the hardware in test to the right state to test things correctly every time. In addition, we have clients for all major desktop and mobile OSes, and a vast DevOps infrastructure to automate the assembly of these clients. I want to leave a bit of mystery here, as I will write a separate article on what I do in my day-to-day work.</p>

<h2 id="why-was-i-so-confident">Why Was I So Confident?</h2>
<p>As a senior engineer, it is my duty to initiate and take on riskier projects. When done right, a large refactor and a refresh of the codebase can make working with the products a joy again. While initiating this mass refactor project, I was fully confident that I would not end up destroying our products, as I knew that a considerable number of automated end-to-end tests that I implemented over long years got my back. Also, I have recently created a mobile device farm, extending our end-to-end testing coverage to mobile devices. As you can see in the following photo, I have Android devices on the left and iOS devices on the right, and a MacBook as the host. All the connected devices are controller by the host machine:</p>

<p><img src="https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear/media/device_farm.jpg" alt="My Device Farm Implementation"></p>

<p>Mass end-to-end testing like this, also known as acceptance testing, makes mass refactoring a less worrisome task. However, you still have to trigger tests every time you complete a part of your refactor and make sure to fix any broken tests or features. Depending on the test suite size and availability of automation hardware, this might take days. Of course, to verify the full correctness of my refactors, I had the run the entire test suite, and not just the end-to-end tests. Our unit and integration test coverage is also solid and they run on our CI servers as a part of our build process. Especially having integration tests that verify our software design decisions were invaluable, including our API endpoints and other 3rd party software integrations. Especially when dealing with our softwareâ€™s modules written in scripting languages (JavaScript, Python, etc.), our unit tests came in quite handy. I depend on those unit tests to verify that I broke none of the expected input/output types, as the compiler cannot do it for me in a dynamic programming languages</p>

<p>Before going into device farms, let me briefly mention automated testing.</p>

<h2 id="what-is-automated-testing">What is Automated Testing?</h2>
<p>In summary, automated testing has three main parts:</p>
<ol>
  <li>Unit testing. Unit testing tests the smallest sections of your code, which is mostly going to be your functions. You can even have multiple tests per function based on the behavior of your functions. And there are some great frameworks for it like NUnit, JUnit, Mocha, etc. which will help you organize your tests better.</li>
  <li>Integration testing. As the name suggests, integration testing tests the integration of your software components. For instance, one integration test can test the integration of multiple functions, classes, or even modules. You can use the same unit testing frameworks that I mentioned above for integration testing too.</li>
  <li>End-to-end (acceptance) testing. This is the endgame. End-to-end testing is where you test your product just like an end-user would do. You simulate real user interactions with your product using end-to-end testing frameworks like Selenium, Appium, etc. More on this in the next section.</li>
</ol>

<p>I have a complete video on software quality assurance where I describe how software companies test their products, starting with unit tests and going all the way to end-to-end (acceptance) testing level. If you want to see it, link to it is in the resources section above.</p>

<h2 id="device-farms-and-test-labs">Device Farms and Test Labs</h2>
<p>Now comes the fun part. This is where you get to play with your products on real devices. Of course, you donâ€™t want to play with the devices indefinitely; you want to automate that process. For my device farm implementation for our products, I used Appium, which uses Seleniumâ€™s WebDriver protocol for all clients. Appium can control both web apps and native apps. It can even control hybrid web UI + native core apps (i.e. Electron apps). A single Appium server instance running in a host machine can control all the connected devices, and the apps and browsers installed on those devices:</p>

<p><img src="https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear/media/appium_architecture_diagram.png" alt="Appium Architecture Diagram"></p>

<p>In my implementation, I connected all our mobile devices to a single host machine via a USB hub, and the host machine is controller by Appium:</p>

<p><img src="https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear/media/device_farm_usb_hub.jpg" alt="Device Farm With USB Hub"></p>

<p>Now letâ€™s watch my device farm implementation in live-action in our office:</p>

<video width="790" height="300" controls=""><source src="https://quanticdev.com/articles/media/device_farm.mp4" type="video/mp4"></video>

<p>As you can see, I have both Android and iOS devices connected to a single MacBook. Everything except for one power-hungry tablet is going through the USB hub. It is a little messy, but it has been working great. When someone triggers an automated test run, one of the devices is selected at random for the given platform. Then the entire test suit runs on that device, and the test results are collected. There is quite a bit of room for improvement, but this, along with our similar setup for desktop clients, enabled me to make extensive changes to our sensitive production codebase with confidence.</p>

<p>I want to emphasize that automated testing on real devices is substantially better than manual testing in the long run. You will save a ton of time via automation like this, and you can keep expending your testing coverage for your optimum quality assurance needs. You really donâ€™t need to take the route that I took and implement all these yourself. You can utilize ready-to-use device farms provided by Google Firebase Test Lab, Amazon Device Farm, etc.:</p>

<p><img src="https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear/media/firebase_test_lab.png" alt="Firebase Test Lab"></p>

<p>However, if you choose to implement your own device farm, remember that a lot of the publicly available device farms were born from internal implementations as I did. So you can always provide parts of your infrastructure as a service if you ever decide to go IaaS/SaaS route.</p>

<p>As a bonus in my implementation, people can RDP into the main test machine and control the phones remotely for manual testing when needed. Also, there are â€¦</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear">https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear</a></em></p>]]>
            </description>
            <link>https://quanticdev.com/articles/how-i-mass-refactored-our-production-codebase-without-fear</link>
            <guid isPermaLink="false">hacker-news-small-sites-25760078</guid>
            <pubDate>Wed, 13 Jan 2021 09:52:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse Engineering the Great Escape]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25759626">thread link</a>) | @elvis70
<br/>
January 13, 2021 | http://www.davespace.co.uk/the.great.escape/ | <a href="https://web.archive.org/web/*/http://www.davespace.co.uk/the.great.escape/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    
<h2>Reverse Engineering The Great Escape</h2>

<p><dfn>The Great Escape</dfn> is a classic 1986 prison break game for the <a href="https://en.wikipedia.org/wiki/ZX_Spectrum">48K ZX Spectrum</a>. I've spent a considerable amount of time reverse engineering its routines and documenting its workings while simultaneously reimplementing it as portable C code. The following pages describe the process I went through.</p>

<p>This is an expanded-upon write-up of some of what I can dimly recall saying while presenting <a href="http://slides.com/dpt/the-great-escape/#/">these slides</a> to my team at INSIDE Secure (formerly Metaforic, now called <a href="https://www.verimatrix.com/">Verimatrix</a>) in Glasgow at a talk in January 2016.</p>

<img src="http://www.davespace.co.uk/the.great.escape/tge/diagram.png" width="544">

<ul>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/intro.html">Introduction</a> â€“ Introducing "The Great Escape"</li>
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/reversing.html">Reverse Engineering</a> â€“ Disassembling and rebuilding the classic 48K ZX Spectrum game from 1986</li>
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/discoveries.html">Discoveries</a> â€“ Things I found out while pulling the game apart</li>
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/c.html">C Port</a> â€“ Porting the game to C</li>
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/legals.html">Legals</a> â€“ Abandonware?</li>
  
  
  
  <li><i></i> <a href="http://www.davespace.co.uk/the.great.escape/links.html">Links</a> â€“ Project links</li>
  
  
</ul>

  </section></div>]]>
            </description>
            <link>http://www.davespace.co.uk/the.great.escape/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25759626</guid>
            <pubDate>Wed, 13 Jan 2021 08:36:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Surprising Uses of Email]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25759470">thread link</a>) | @Zanneth
<br/>
January 13, 2021 | http://zanneth.com/2020/12/28/surprising-uses-of-email.html | <a href="https://web.archive.org/web/*/http://zanneth.com/2020/12/28/surprising-uses-of-email.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        

<hr>

<p>Email is a powerful tool that is an inextricable part of everyoneâ€™s lives.
Despite countless valiant efforts to kill it and replace it with something
better, email continues to live on in more or less the same form it has had
since the 1990s. Technology that endures this long deserves a fair amount of
attention and praise.</p>

<p>There are two main reasons why email continues to be useful today. It is simple
to use, and it is not owned or controlled by a single company. Every attempted
replacement has failed at excelling in either one or both of those qualities.
Simple tools can often be extended in ways that the original authors never could
have imagined in the beginning. And because users are in control of the core
functionality, new use cases can be explored completely independently.</p>

<p>Computer users have a tendency to over-generalize when solving problems. In
other words, when all you have is a hammer, everything looks like a nail. In
this post, we are going to be looking at a lot of nails that can probably be
hammered down with email. At a fundamental level, email clients are tools
designed for storing and retrieving sequences of messages which can contain
arbitrary data. Looking at it this way, it is not difficult to imagine a variety
of use cases that can be accomplished with minimal amounts of scripting.</p>

<p>I do seriously think that email is a solid tool for a lot of these purposes, and
in fact use it as such for a few of these purposes every day. However, the main
purpose of this post is exploration, not general advice.</p>

<h2 id="to-do-list-one-that-you-actually-check">To-Do List (One That You Actually Check)</h2>

<p><img src="http://zanneth.com/assets/post-assets/email/todo-list.png" alt="To-Do List"></p>

<p>The first use case is pretty obvious, and it is one that likely a large number of
people already employ on a daily basis.</p>

<p>By far the single most important productivity discovery that I made in my life
is <a href="http://www.43folders.com/2006/01/04/email-dmz">Inbox Zero</a>. Inbox Zero is
the simple idea that your email inbox should contain only a list of messages
that require some sort of action. Once the action associated with those messages
is completed, the message is archived or moved to a different folder. I have
been using Inbox Zero for years now and I rarely forget to do anything
important after integrating it into my life.</p>

<p>Need to remember to pack for your flight next week? You probably already got a
confirmation about your reservation in your email. Leave it in your inbox until
you are finished preparing for your trip, and archive it when you are done.</p>

<p>How about one-off reminders that are not associated with messages already in
your inbox? Just send an email to yourself with the action item in the subject
line. Use the body of the message to write down any notes you want, and reply to
the message to keep a record of additional notes if you need them.</p>

<p>What about periodic reminders that repeat on some interval, like reminding
yourself to pay a bill on time every month? Write a simple script that sends you
an email about it and schedule it to run once a month. At the end of each month,
you will have a new to-do item in your inbox with an actionable task in the
subject line.</p>

<p>The great part about using email as a to-do list is that you are already
checking it with some degree of regularity. Smartphone apps or web-based to-do
lists quickly lose their value the moment users lose interest or switch to using
something else. They also frequently become buggy or overburdened with features
that donâ€™t add any value. This will never be a problem with email because you
can always use your favorite client as long as it continues to work with the
standard protocols. Syncing across multiple devices is a given, since your email
is already doing this.</p>

<h2 id="news-reader">News Reader</h2>

<p><img src="http://zanneth.com/assets/post-assets/email/rss2email.png" alt="RSS"></p>

<p>RSS is a really elegant and simple way to subscribe to a feed of updates from
your favorite websites. Since the early 2000s, RSS has been integrated into a
lot of different services all across the net, and serves as the foundation for a
variety of different web-based content platforms such as podcasts.</p>

<p>In order to actually use RSS, you need a client that is capable of aggregating
entries from multiple different feeds and displaying them in some manner.
Managing a list of entries, tracking read or unread state, and displaying HTML
content is exactly what every email client is already good at doing.</p>

<p>I like using <a href="https://github.com/rss2email/rss2email">rss2email</a> for this.
rss2email delivers stories from my feeds into a special mailbox on my email
server that I check approximately every morning. Since the end result is just
IMAP messages stored on my email server, I can read them using my favorite
email client on whatever device I happen to be using that day.</p>



<p><img src="http://zanneth.com/assets/post-assets/email/update-blog.png" alt="Updating a Blog"></p>

<p>Setting up a frictionless workflow for updating your personal website can be
rather difficult, especially if you want to be able to do it while on-the-go and
away from your usual workstation.</p>

<p>If you are maintaining a blog on a personal website or for a business, the focus
should primarily be on the content itself and not on writing markup, updating a
source control repository, or publishing static content to a file server or
database. At the end of the day, you want to be able to write your content in a
message and send it to your server to publish.</p>

<p>Writing rich-text or plain-text content, saving drafts, and publishing that
content to a server is the perfect job for an email client. Your email client
can even allow including inline images sent as attachments, or links that point
to other websites. Once you are done writing your post, send it to a special
email address that activates a script on the other end to convert your email
message into a blog post. <a href="https://www.gnupg.org/gph/en/manual/x135.html">PGP</a>
can be used by both the client and the server to ensure that it is actually you
who is authoring the blog post and not someone else. Forget about OAuth or
anything more complicated than that.</p>

<p>Social media feeds can be updated in a similar manner. All of your server-side
functionality can be multiplexed using different email addresses for each
service. For example, you can use <code>blog@mydomain.com</code> to send updates to your
blog, and <code>mastodon@mydomain.com</code> to publish toots on your
<a href="https://joinmastodon.org/">Mastodon</a> account. Writing the code for this is a
breeze, since your favorite programming language already has libraries for
dealing with SMTP and IMAP.</p>

<h2 id="a-user-interface-to-a-search-engine-or-database">A User Interface to a Search Engine or Database</h2>

<p>Itâ€™s pretty simple to build an API for a web service these days. However,
choosing the right library or designing the right API can sometimes be an
unnecessary burden when working on a personal project that only has one or two
users.</p>

<p>Email can be used as an interface between a user and a web service when the
input and output are simple enough.</p>

<p>For example, imagine that you have a file server with a large amount of photos
stored on it and you want to be able to search those photos and retrieve them at
random. The server could use machine learning libraries such as Tensorflow to
categorize the photos and attach metadata on them.</p>

<p>Instead of building a custom web-based user interface for this, you could use
email instead. The user sends an email with the search term in the subject line,
such as â€œpizzaâ€, to a special email address that corresponds to the file server
containing the photos. Just like in the previous example, PGP or S-MIME can be
used as an authentication mechanism to ensure that only authorized users can
access the photos being requested. Once the server has collected a search
result, it replies to the query email with matching photos attached as MIME
parts. The email server keeps a record of previous queries, along with their
returned results as replies, in an easily displayable and searchable format.</p>

<h2 id="the-only-limit-is-your-imagination">The Only Limit is Your Imagination</h2>

<p>Connecting email accounts to small shell scripts is a simple but powerful
concept that can unlock a wide variety of different applications. You can build
these apps with the comforting knowledge that they are all based on federated
and robust protocols used by hundreds of different email clients which have
stood the test of time.</p>

<p>Using the rich text editing features of your email client, combined with a
hierarchical organization system based on folders, allows you to do a lot of
tasks that have previously been accomplished using buggy and monolithic tools.
Privacy and security issues that plague web-based tools can be effectively
avoided when using email, because you are in control of both the client and
the server. You also get syncing to multiple devices for free, since IMAP was
designed to facilitate managing email from multiple clients at once since the
beginning.</p>

<p>Iâ€™m always interested in learning about new uses of email. If you know about
some of these yourself, send me an email about them.</p>


                    </div></div>]]>
            </description>
            <link>http://zanneth.com/2020/12/28/surprising-uses-of-email.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25759470</guid>
            <pubDate>Wed, 13 Jan 2021 08:08:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thompson, Ritchie and Kernighan admit that Unix was a prank (hoax, 1997)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25759445">thread link</a>) | @stiray
<br/>
January 13, 2021 | http://www.anzon.it/unix-prank.html | <a href="https://web.archive.org/web/*/http://www.anzon.it/unix-prank.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://www.anzon.it/unix-prank.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25759445</guid>
            <pubDate>Wed, 13 Jan 2021 08:04:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The neural network of the Stockfish chess engine]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 25 (<a href="https://news.ycombinator.com/item?id=25759430">thread link</a>) | @c1ccccc1
<br/>
January 13, 2021 | https://cp4space.hatsya.com/2021/01/08/the-neural-network-of-the-stockfish-chess-engine/ | <a href="https://web.archive.org/web/*/https://cp4space.hatsya.com/2021/01/08/the-neural-network-of-the-stockfish-chess-engine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<p>Last time, we <a href="https://cp4space.hatsya.com/2020/12/13/shallow-trees-with-heavy-leaves/">briefly mentioned</a> the high-level differences between Stockfish and Leela Chess.</p>
<p>To recap, Stockfish evaluates about 100 million positions per second using rudimentary heuristics, whereas Leela Chess evaluates 40 000 positions per second using a deep neural network trained from millions of games of self-play. They also use different tree search approaches: Stockfish uses a variant of alpha-beta pruning, whereas Leela Chess uses Monte Carlo tree search.</p>
<p>An important recent change to Stockfish was to introduce a neural network to evaluate the positions in the search tree, instead of just relying on hardcoded heuristics. Itâ€™s still much simpler than Leela Chessâ€™s neural network, and only slows down Stockfish to exploring 50 million positions per second.</p>
<p>The real cleverness of Stockfishâ€™s neural network is that itâ€™s an <strong>efficiently-updatable neural network (NNUE)</strong>. Specifically, itâ€™s a simple feedforward network with:</p>
<ul>
<li>a large (10.5M parameters!) input layer, illustrated below, that can utilise two different levels of sparsity for computational efficiency;</li>
<li>three much smaller layers (with 17.5k parameters in total) which are evaluated densely using vector instructions;</li>
<li>a single scalar output to give a numerical score for the position, indicating how favourable it is for the player about to move.</li>
</ul>
<p>Everything is done using integer arithmetic, with 16-bit weights in the first layer and 8-bit weights in the remaining layers.</p>
<h3>The input layer</h3>
<p>Letâ€™s begin by studying the first â€” and most interesting â€” layer. Hereâ€™s an illustration I made using Wolfram Mathematica:</p>
<p><img loading="lazy" src="https://cp4space.hatsya.com/wp-content/uploads/2021/01/nnue-initial.png" alt="" width="640" height="760" srcset="https://cp4space.hatsya.com/wp-content/uploads/2021/01/nnue-initial.png 640w, https://cp4space.hatsya.com/wp-content/uploads/2021/01/nnue-initial-253x300.png 253w" sizes="(max-width: 640px) 100vw, 640px"></p>
<p>The inputs to the layer are two sparse binary arrays, each consisting of 41024 elements. It may seem highly redundant to encode a chess position using 82048 binary features, but this is similar to <a href="https://ai.googleblog.com/2016/06/wide-deep-learning-better-together-with.html">an approach</a> (called â€˜feature crossesâ€™) used in recommender systems.</p>
<p>What are the two sparse binary arrays, and why do they have 41024 features? My preferred way of interpreting these two arrays are as the â€˜worldviewsâ€™ of the white king and the black king. In particular, the differences are:</p>
<ul>
<li><strong>Coordinate systems:</strong> because black and white pawns move in opposite directions, the two players need to â€˜see the board from opposite anglesâ€™. This already happens in regular (human) chess because the two players are seated opposite each other at the chessboard, so one playerâ€™s â€˜topâ€™ is the other playerâ€™s â€˜bottomâ€™. If you imagine each player numbering the squares from top to bottom, left to right, then any physical square would be called <em>n</em> by one player and 63 âˆ’ <em>n</em> by the other player.</li>
<li><strong>Piece types:</strong> instead of viewing the pieces as black or white, a player sees it as either â€˜mineâ€™ or â€˜theirsâ€™. The 10 non-king piece types are thus {my pawn, their pawn, my knight, their knight, my bishop, their bishop, my rook, their rook, my queen, their queen}.</li>
</ul>
<p>The reason for these â€˜player-relative coordinate systemsâ€™ is that it means that Stockfish can use the same neural network irrespective of whether itâ€™s playing as white or black. The network uses <em>both</em> your kingâ€™s worldview and your enemy kingâ€™s worldview for evaluating a position, because theyâ€™re both highly relevant (you want to protect your own king and capture your enemyâ€™s king).</p>
<p>So, why does each worldview have 41024 features? It can be seen as an outer product (or tensor product) of:</p>
<ul>
<li>a 64-element feature encoding the position of the king whose worldview this is, in their own coordinate system. This is â€˜one-hot encodingâ€™, where exactly one of the 64 entries is â€˜1â€™ and the other 63 entries are â€˜0â€™.</li>
<li>a 641-element feature encoding, for each of the 64 Ã— 10 ordered pairs (square, piece-type), whether or not that square is occupied by that piece. The 641st element is unused, and is (according to the <a href="https://www.chessprogramming.org/Stockfish_NNUE">Chess Programming Wiki</a>) apparently a result of the network being ported from Shogi to chess.</li>
</ul>
<p>Each of the two 64-by-641 outer product matrices* is then flattened (the matrix is â€˜reshapedâ€™ into a vector with the same entries) to yield the corresponding 41024-element â€˜sparse worldviewâ€™. In the input layer, each of the two 41024-element sparse worldviews are then affinely transformed to form a 256-element â€˜dense worldviewâ€™.</p>
<p><strong>*Important note:</strong> the 41024-element sparse binary arrays are never explicitly materialised, either as a 64-by-641 matrix or as a 41024-element vector. The Stockfish NNUE effectively â€˜fusesâ€™ the construction of these sparse vectors with the subsequent affine transformation (described below), updating the 256-element dense worldviews directly when the configuration of pieces on the chessboard is modified.</p>
<p>There are <strong>two levels of sparsity</strong> which are utilised when computing this affine transformation from <img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BR%7D%5E%7B41024%7D&amp;bg=ffffff&amp;fg=000&amp;s=0&amp;c=20201002" alt="\mathbb{R}^{41024}" title="\mathbb{R}^{41024}"> to <img src="https://s0.wp.com/latex.php?latex=%5Cmathbb%7BR%7D%5E%7B256%7D&amp;bg=ffffff&amp;fg=000&amp;s=0&amp;c=20201002" alt="\mathbb{R}^{256}" title="\mathbb{R}^{256}">, allowing the network to be efficiently evaluated many times in a tree search:</p>
<ul>
<li>the 41024-element implicit vectors are themselves sparse: the number of nonzero elements is equal to the number of non-king pieces on the board.</li>
<li>moving a piece typically changes very few of the entries of the vector: if itâ€™s a regular non-king move, only 2 entries change; if itâ€™s a non-king move with capture, then 3 entries change.</li>
</ul>
<p>Itâ€™s this second aspect which warrants the name â€˜efficiently updatableâ€™: when a move is made (or unmade, since weâ€™re doing a tree search), we only need to add/subtract a few 256-element matrix columns from the resulting â€˜dense worldviewâ€™ to update it.</p>
<p>Unless a king is moved, this (2 or 3 vector additions/subtractions) beats summing all of the matrix columns corresponding to nonzero entries (up to 30 vector additions), which in turn unconditionally beats doing a regular dense matrix-vector multiplication (41024 vector additions). That is to say, the second-level sparsity is about 10 times more efficient than the first-level sparsity, which is in turn about 1000 times more efficient than naively doing a dense matrix-vector multiplication.</p>
<p>The two dense worldviews are concatenated according to which player is about to move, producing a 512-element vector, which is elementwise clamped to [0, 127]. This elementwise clamping is the nonlinear activation function of the input layer, and (as weâ€™ll describe) the hidden layers use a similar activation function. We can think of this as a â€˜clipped ReLUâ€™, which is <a href="https://github.com/official-stockfish/Stockfish/blob/master/src/nnue/layers/clipped_relu.h">exactly what the Stockfish source code calls it</a>.</p>
<h3>The remaining layers</h3>
<p>The two hidden layers each use 8-bit weights and 32-bit biases. The activation function first divides the resulting 32-bit integer by 64 before again clamping to [0, 127], ready to be fed into the next layer. The output layer also uses 8-bit weights and 32-bit biases, but with no nonlinear activation function.</p>
<p>The first hidden layer takes 512 inputs (the clamped concatenated worldviews) and produces 32 outputs. The second hidden layer takes those 32 values as inputs, and again produces 32 outputs. The output layer takes those 32 values as inputs, and produces a single scalar output.</p>
<p>Since these subsequent layers are applied to dense vectors, they canâ€™t use the same â€˜efficiently updatableâ€™ approach as the input layer; thatâ€™s why theyâ€™re necessarily substantially smaller. They can, however, use hardware vectorisation instructions (SSE/AVX) to apply the linear transformation and activation function.</p>
<p>This scalar output is then <a href="http://www.talkchess.com/forum3/viewtopic.php?f=7&amp;t=75506&amp;start=9">further postprocessed</a> using other Stockfish heuristics, including taking into account the 50-move rule which isnâ€™t otherwise incorporated into the evaluation function.</p>
<p>Observe that the neural network doesnâ€™t actually have complete information, such as whether a pawn has just moved two squares (relevant to <em>en passant</em>), whether a king is able to castle, and various other information pertaining to the rather complicated rules for determining a draw. This is okay: the network is only being used as a cheap approximate evaluation for a position; when deciding what move to make, Stockfish performs a very deep tree search and only uses this approximate evaluation in the leaves.</p>
<p>Equivalently, you can think of this as being a massive refinement of the approach of â€˜look a few moves ahead and see whether either player gains a material or positional advantageâ€™, using a neural network as a much more sophisticated position-aware alternative of crudely â€˜counting materialâ€™.</p>
<p>This is a neural network, so the weight matrices and bias vectors of the layers were learned by training the network on millions of positions and using backpropagation and a gradient-based optimiser. Of course, for supervised learning, you need a â€˜ground truthâ€™ for the network to attempt to learn, which seems somewhat circular: how do you even gather training data? The answer is that you use the classical version of Stockfish to evaluate positions <strong>using the deep tree search</strong>, and use that as your training data.</p>
<p>In theory, you could then train another copy of the NNUE using the NNUE-enhanced Stockfish as the evaluation function, and then iterate this process. Leela Chess does the same thing: its current network is trained on positions evaluated by using deep lookahead with the previous network as the leaf evaluation function. Note that the construction of the training data is orders of magnitude more expensive than training the network with this data, as youâ€™re doing thousands of evaluations of the previous network (owing to the deep tree search) to construct each item of training data for the new network.</p>
<h3>Further reading</h3>
<p>The network is <a href="https://www.chessprogramming.org/Stockfish_NNUE">described and illustrated</a> on the Chess Programming Wiki, which also has tonnes of references to forum discussions and other references. The first description of an NNUE was a Japanese paper by Yu Nasu (who suggested it for the board game Shogi instead of chess); the paper has <a href="https://github.com/asdfjkl/nnue">since been translated</a> into English and German. Thereâ€™s also the Stockfish source code, which is very well organised (thereâ€™s <a href="https://github.com/official-stockfish/Stockfish/tree/master/src/nnue">a directory</a> for the NNUE) and clearly written.</p>
											</div></div>]]>
            </description>
            <link>https://cp4space.hatsya.com/2021/01/08/the-neural-network-of-the-stockfish-chess-engine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25759430</guid>
            <pubDate>Wed, 13 Jan 2021 08:01:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Guy Creates Darkest Room with the Blackest Black Paint â€“ Borninspace]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25758913">thread link</a>) | @evo_9
<br/>
January 12, 2021 | https://www.borninspace.com/whoa-man-paints-room-with-worlds-blackest-black-paint/ | <a href="https://web.archive.org/web/*/https://www.borninspace.com/whoa-man-paints-room-with-worlds-blackest-black-paint/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<article id="post-10445">
<div>
<div>
<p>This is a video of The Action Labâ€™s James Orgill painting the entire interior of a room he made out of insulation board with the worldâ€™s blackest commercially available paint, Musou black, which absorbs 99.4% of light. He then turns on an overhead light bulb to see what it looks like inside. It looksâ€¦weird. My eyes did not like that. Of course my eyes donâ€™t like much besides being closed and napping if weâ€™re being perfectly honest. Although occasionally they do request I push on them really hard with the fleshy parts of my palms below the thumbs until I get a headache and see all sorts of painful colors and patterns, but thatâ€™s rare. </p>
<p>Keep going for the video, the reveal and experimenting begins at 3:30.</p>
<p><iframe src="https://www.youtube.com/embed/p6q54q2iam8" width="100%" height="450" frameborder="0" allowfullscreen="allowfullscreen"><span data-mce-type="bookmark" style="display: inline-block; width: 0px; overflow: hidden; line-height: 0;" class="mce_SELRES_start">ï»¿</span><span data-mce-type="bookmark" style="display: inline-block; width: 0px; overflow: hidden; line-height: 0;" class="mce_SELRES_start">ï»¿</span></iframe></p>
<div>
<div>
<p><a href="https://www.borninspace.com/smooth-as-silk-crocodile-effortlessly-slides-down-bank-into-water/" title="Smooth As Silk: Crocodile Effortlessly Slides Down Bank Into Water"></a> <img width="150" height="150" src="https://www.borninspace.com/wp-content/uploads/2021/01/croc-slides-into-water-150x150.jpg" alt="" loading="lazy" srcset="https://www.borninspace.com/wp-content/uploads/2021/01/croc-slides-into-water-150x150.jpg 150w, https://www.borninspace.com/wp-content/uploads/2021/01/croc-slides-into-water-100x100.jpg 100w, https://www.borninspace.com/wp-content/uploads/2021/01/croc-slides-into-water-310x310.jpg 310w, https://www.borninspace.com/wp-content/uploads/2021/01/croc-slides-into-water-500x500.jpg 500w" sizes="(max-width: 150px) 100vw, 150px">
</p></div>
<div>
<p><a href="https://www.borninspace.com/luna-lee-covers-pink-floyds-wish-you-were-here-on-traditional-korean-gayageum/" title="Pink Floyd's 'Wish You Were Here' Covered On Traditional Korean Gayageum"></a> <img width="150" height="150" src="https://www.borninspace.com/wp-content/uploads/2021/01/luna-lee-wish-you-were-here-on-gayageum-150x150.jpg" alt="" loading="lazy" srcset="https://www.borninspace.com/wp-content/uploads/2021/01/luna-lee-wish-you-were-here-on-gayageum-150x150.jpg 150w, https://www.borninspace.com/wp-content/uploads/2021/01/luna-lee-wish-you-were-here-on-gayageum-100x100.jpg 100w, https://www.borninspace.com/wp-content/uploads/2021/01/luna-lee-wish-you-were-here-on-gayageum-310x310.jpg 310w, https://www.borninspace.com/wp-content/uploads/2021/01/luna-lee-wish-you-were-here-on-gayageum-500x500.jpg 500w" sizes="(max-width: 150px) 100vw, 150px">
</p></div>
</div>
</div>
 </div>
</article>
</div>

</div></div>]]>
            </description>
            <link>https://www.borninspace.com/whoa-man-paints-room-with-worlds-blackest-black-paint/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25758913</guid>
            <pubDate>Wed, 13 Jan 2021 06:32:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Algorithms in C++ (book) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25758670">thread link</a>) | @MrXOR
<br/>
January 12, 2021 | http://algmyr.se/upload/e-maxx.pdf | <a href="https://web.archive.org/web/*/http://algmyr.se/upload/e-maxx.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> &gt;`&gt;&nbsp;&gt;Ã ?!?a?Â¢?Ã¢@#@d@Â¦@Ã§A)AjAÂ¬AÃ®B0BrBÂµBÃ·C:C}CÃ€DDGDÅ DÃEEUEÅ¡EÃF"FgFÂ«FÃ°G5G{GÃ€HHKHâ€˜HÃ—IIcIÂ©IÃ°J7J}JÃ„KKSKÅ¡KÃ¢L*LrLÂºMMJMâ€œMÃœN%NnNÂ·OOIOâ€œOÃP'PqPÂ»QQPQâ€ºQÃ¦R1R|RÃ‡SS_SÂªSÃ¶TBTï¿½TÃ›U(UuUÃ‚VV\VÂ©VÃ·WDWâ€™WÃ X/X}XÃ‹YYiYÂ¸ZZVZÂ¦ZÃµ[E[â€¢[Ã¥\5\â€ \Ã–]']x]Ã‰^^l^Â½__a_Â³``W`Âª`Ã¼aOaÂ¢aÃµbIbÅ“bÃ°cCcâ€”cÃ«d@dâ€dÃ©e=eâ€™eÃ§f=fâ€™fÃ¨g=gâ€œgÃ©h?hâ€“hÃ¬iCiÅ¡iÃ±jHjÅ¸jÃ·kOkÂ§kÃ¿lWlÂ¯mm`mÂ¹nnknÃ„ooxoÃ‘p+pâ€ pÃ q:qâ€¢qÃ°rKrÂ¦ss]sÂ¸ttptÃŒu(uâ€¦uÃ¡v&gt;vâ€ºvÃ¸wVwÂ³xxnxÃŒy*yâ€°yÃ§zFzÂ¥{{c{Ã‚|!|ï¿½|Ã¡}A}Â¡~~b~Ã‚#â€Ã¥â‚¬Gâ‚¬Â¨ï¿½
ï¿½kï¿½Ãâ€š0â€šâ€™â€šÃ´Æ’WÆ’Âºâ€â€â‚¬â€Ã£â€¦Gâ€¦Â«â€ â€ râ€ Ã—â€¡;â€¡Å¸Ë†Ë†iË†Ãâ€°3â€°â„¢â€°Ã¾Å dÅ ÃŠâ€¹0â€¹â€“â€¹Ã¼Å’cÅ’ÃŠï¿½1ï¿½Ëœï¿½Ã¿Å½fÅ½Ãï¿½6ï¿½Å¾ï¿½ï¿½nï¿½Ã–â€˜?â€˜Â¨â€™â€™zâ€™Ã£â€œMâ€œÂ¶â€ â€Å â€Ã´â€¢_â€¢Ã‰â€“4â€“Å¸â€”
â€”uâ€”Ã ËœLËœÂ¸â„¢$â„¢ï¿½â„¢Ã¼Å¡hÅ¡Ã•â€ºBâ€ºÂ¯Å“Å“â€°Å“Ã·ï¿½dï¿½Ã’Å¾@Å¾Â®Å¸Å¸â€¹Å¸Ãº&nbsp;i&nbsp;Ã˜Â¡GÂ¡Â¶Â¢&amp;Â¢â€“Â£Â£vÂ£Ã¦Â¤VÂ¤Ã‡Â¥8Â¥Â©Â¦Â¦â€¹Â¦Ã½Â§nÂ§Ã Â¨RÂ¨Ã„Â©7Â©Â©ÂªÂªï¿½Â«Â«uÂ«Ã©Â¬\Â¬ÃÂ­DÂ­Â¸Â®-Â®Â¡Â¯Â¯â€¹Â°Â°uÂ°ÃªÂ±`Â±Ã–Â²KÂ²Ã‚Â³8Â³Â®Â´%Â´Å“ÂµÂµÅ Â¶Â¶yÂ¶Ã°Â·hÂ·Ã Â¸YÂ¸Ã‘Â¹JÂ¹Ã‚Âº;ÂºÂµÂ».Â»Â§Â¼!Â¼â€ºÂ½Â½ï¿½Â¾
Â¾â€Â¾Ã¿Â¿zÂ¿ÃµÃ€pÃ€Ã¬ÃgÃÃ£Ã‚_Ã‚Ã›ÃƒXÃƒÃ”Ã„QÃ„ÃÃ…KÃ…ÃˆÃ†FÃ†ÃƒÃ‡AÃ‡Â¿Ãˆ=ÃˆÂ¼Ã‰:Ã‰Â¹ÃŠ8ÃŠÂ·Ã‹6Ã‹Â¶ÃŒ5ÃŒÂµÃ5ÃÂµÃ6ÃÂ¶Ã7ÃÂ¸Ã9ÃÂºÃ‘&lt;Ã‘Â¾Ã’?Ã’ÃÃ“DÃ“Ã†Ã”IÃ”Ã‹Ã•NÃ•Ã‘Ã–UÃ–Ã˜Ã—\Ã—Ã Ã˜dÃ˜Ã¨Ã™lÃ™Ã±ÃšvÃšÃ»Ã›â‚¬ÃœÃœÅ ÃÃâ€“ÃÃÂ¢ÃŸ)ÃŸÂ¯Ã 6Ã Â½Ã¡DÃ¡ÃŒÃ¢SÃ¢Ã›Ã£cÃ£Ã«Ã¤sÃ¤Ã¼Ã¥â€Ã¦
Ã¦â€“Ã§Ã§Â©Ã¨2Ã¨Â¼Ã©FÃ©ÃÃª[ÃªÃ¥Ã«pÃ«Ã»Ã¬â€ Ã­Ã­Å“Ã®(Ã®Â´Ã¯@Ã¯ÃŒÃ°XÃ°Ã¥Ã±rÃ±Ã¿Ã²Å’Ã³Ã³Â§Ã´4Ã´Ã‚ÃµPÃµÃÃ¶mÃ¶Ã»Ã·Å Ã¸Ã¸Â¨Ã¹8Ã¹Ã‡ÃºWÃºÃ§Ã»wÃ¼Ã¼ËœÃ½)Ã½ÂºÃ¾KÃ¾ÃœÃ¿mÃ¿Ã¿Ã¿Ã®Adobed@Ã¿Ã›â€Ã¿Ã€Ãºï¿½Ã¿Ã2Ã¿Ã„Â¢	
	
	u!"1A2#	QBa$3Rqï¿½bâ€˜%CÂ¡Â±Ã°&amp;4r
ÃÃ‘5'Ã¡S6â€šÃ±â€™Â¢DTsEF7Gc(UVWÂ²Ã‚Ã’Ã¢Ã²dÆ’tâ€œâ€eÂ£Â³ÃƒÃ“Ã£)8fÃ³u*9:HIJXYZghijvwxyzâ€¦â€ â€¡Ë†â€°Å â€â€¢â€“â€”Ëœâ„¢Å¡Â¤Â¥Â¦Â§Â¨Â©ÂªÂ´ÂµÂ¶Â·Â¸Â¹ÂºÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ”Ã•Ã–Ã—Ã˜Ã™ÃšÃ¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ´ÃµÃ¶Ã·Ã¸Ã¹Ãºm!1"AQ2aqBï¿½#â€˜RÂ¡b3	Â±$ÃÃ‘CrÃ°Ã¡â€š4%â€™ScDÃ±Â¢Â²&amp;5T6Ed'
sÆ’â€œFtÃ‚Ã’Ã¢Ã²UeuV7â€â€¦Â£Â³ÃƒÃ“Ã£Ã³)â€Â¤Â´Ã„Ã”Ã¤Ã´â€¢Â¥ÂµÃ…Ã•Ã¥Ãµ(GWf8vâ€ â€“Â¦Â¶Ã†Ã–Ã¦Ã¶gwâ€¡â€”Â§Â·Ã‡Ã—Ã§Ã·HXhxË†ËœÂ¨Â¸ÃˆÃ˜Ã¨Ã¸9IYiyâ€°â„¢Â©Â¹Ã‰Ã™Ã©Ã¹*:JZjzÅ Å¡ÂªÂºÃŠÃšÃªÃºÃ¿Ãš?Â°Â¼Â¦%ÃŸÃˆÃ…$â€Â¦Â¯Â³p&amp;FÃ¡BÃ„TÃŸâ€œÃ¬Ã„fÂ½&amp;b|Ã¸Ã´Ã¦(ï¿½5Â«Ã·5ÃªsÂ©ÂµBÃ™?*Ã„\â€ºÃ½?Ã¼@Â©ÃµÃ©Â¶#Ã—&nbsp;Ã«/RÅ tXÃ‚â€¢ï¿½Â¥â€œ[ï¿½gâ€˜â€¹=Âµ/Ã…â€¡Ã}Â»iÃ3Ã–â€¹ÃÅ’Ã´Ã¥Â©Ã¦BÃ®Ã‹Â½Â®â€ºï¿½lÃ‹Ãˆ1ÃÂµÂ¿Ã¢=Ã¯HÃ¿gÃ½_&gt;Â©Â¨Ãª,qÃ’"Â¾ËœÂ±BÂ¯&amp;Â§{ÃˆÃâ€”â€¹Ã (HÂµÂ®Ã“ÃJÃ“Ã‰Ã¥Ã«~!ZÂ±Ã©Xâ€™	Â¬9[Â«Â¶â€™Â®ÃŸÂ»f6TÃ†Ã \â€˜Ã¹Ã¤ï¿½~Ã’2kÅ¾Â¼d?â€˜Ã¹Ã´Ã4G$@Å’WÃ”Â¿!Â¿$â€ Â¿7Ã²ÃÃ‚Å SÂªÃªÃ”
AÃ“Ã¾o?Ãµâ€”Â¤Â¶B%ÂºÃ‰erÃ™ÃµÃ¾Ã”*_Ã©Ã·Â¿{ Ã£Â¦Å½Ë†%ÃªM&amp;Å¸$â€¦cÃ«?E'Ã´kâ€™5\Ã²Â»Ã“Ã“â€¡ZÂ©ÃLuk2Â¨wâ€œIÂ±TÃª,# â‚¬Gï¿½ÃªyÃ â€¡Â»,)Ã“uÂ§â„¢Â§Ã³Ã©)_A-"ÃMâ€”XgËœ&amp;Â¤MÂ¹
.Â¦r^@Ã§Ã©ÃÂ¿\ï¿½Ã¼Â³Ã¾Â¯â€”^$Å“5Ã©&gt;Ã²Oâ€¦&lt;Ã·Â»Ã±Â·Â¤Â­Ã†Â§m!Â´Â¥Ã™xÃ¼Ã˜{Â¹Â´Â¥ÃºÂ¿oTÃ+â€œÃ§Ã“-Yâ€˜â€°Ã½ÃƒpÅ VÃ´Ã½ndÃ½Dâ€™Jâ‚¬@ÃºqÃ¾Â¿Âºfâ‚¬Ã©Ã­Â§Â§Z\Å Ã”Ã¦Â¿Ã¤Ã©-WQ$2#â€“22Â³j%tÃ´ÃŸVÂ«ÃºNÃ–Â·nqÃ›Ã¾Â¯ÃµÂ´ZÂ´Ã³oâ€”Ã›ÃƒÃ½^]uG4ÃŸÂ¹iXÂ²Ã‰Ã´,FÂ²XÃ½Ã…ÃŠÃ#ï¿½{'Ã¸EV4Ãª5?noB~Ã–Å¡Â­2Ã˜Ã¦Ã½Ã›I[LÂ¥iXo 6â€°`}6Ã }I&lt;Ã»Â²bÅ¡F:Ã–Â£Ã‚Â¦Âµ?ÃªÃ»ÃÃ§#T$ï¿½iÅ“iUÂ»ÃªÃ¥MÃâ€°RÃ–f.ÃœZÃ·$Å¸v+ZztÃ¥[WÅ½ÃŠÂ¹ÂªÂ¼Â£Ã·&amp;Ã®Å¸Uâ€°U:dï¿½XXâ€™TÃŸâ€˜rÃ—Â¿Â¶@Ã®Å¸ÃUÆ’Ã¢Ã¹Â­Ã˜Ã¿WÃ­ÃªÅ¡Ã·
epÃÃ§Ã´UÂ°xÂ³Ë†MÃÃ®c9	â€¢Ë†7Ã¿G6Ã£Å¸Ã‡Â¶â‚¬]BÃª`?Ã‚|Ã¾^xÃ¡Ã«^â€˜2â€™Ã²Ã·2Â¡Â¦*j	Ã…A#Ãˆï¿½Ã¦N:JÃ¿Â­2%Ãª&amp;
VÃÂ¼â€ Ã¬ÃƒÃµ\Â³ÂªÃ·Ã¼â€˜Ã­â€“ÃÃÃ j`~Å 5Ã¹ÃºzVÅ¾Â½Ye/Wâ„¢ï¿½ Ã†Â´u?0E~xÃ‡XÃ¤ÃˆÃ—Ã†Â³Â¼usÃ·
Ã¯Q,A:eTÅ’0Ã—Â©mÃ‡'Ã°=Â·#RÂ£NÂ¦Qï¿½8Ã°5Ã²Â§ÃˆzÃ Ã“Â­â€“\K4â€°oZÃ–Â¤15Ã 1OJÃ¹ÃÃ”Ã‹Ã¤ÃÃ:Âªâ€šï¿½ÃŒj$RÃ…Ã™Pjkp ï¿½Ã«Ã®ÂºQâ€Ãªx(Â­xÃ¾ÃŸÅ¸ï¿½8Ã½â€“Fâ€™eqÂ¯TÂµuPÅ¾4&nbsp;Â§SÃ„Â¹Ã‰â€“ÃŠÃ¸$dÅ¾yÃ€â€°Â¥Â«Â§Â¥Å“ÃŠVÃˆâ€“Â¹_ÃÃ¶Ã±Â¦Å Â¾3Ã°Å â€šp~^XÃ£ï¿½Â°tÃ­Â°ÃŒ Ã£RMNGÅ¸Â­&gt;tÃˆÃªmo++ÃŠÂ±Ã—Ã”jXâ€°Ã–â€œ0PSÃªâ€œZÃª]â€¡'Ã¨mÃ¾&gt;TVMÃ’&gt;ÃIÃ³Ã…?/<tÅ“k>ÂºG+Â±Å ÃªÂ­hï¿½Â¡Ã¡Ã«ÃƒÃÂ¥7!â€Å½Â­Ã£Å¸)â€BÂ±DÃ²xÂ«&amp;KFï¿½Âª2â€™Âªâ€“*Ã¼Â¯ÃºÃ£Ã«Ã‡Â»Â´qÂºâ€“tPÂ¿eOâ€”Â©Ã¾Ã¥Ã©Ã•yÃµYÃ¥=Âµ:ï¿½4Å½Â¨Â¦iJd
Ã–Â¾GÂ¬+Å¸ÃŒ	+Â©Ãk#%Ã¥gÃ¿ï¿½UR*]S+(OÃµCÃ°ÃœÅ¸Â¥QÂ¨aÃ´ÃŠÂ±TÃ—â€ xPÃ¾~Â¿o[Ã±Â¤$â€¹yÃœÃŒZ&nbsp;â€™ÃœÃˆÂ¦8xbÂ´Ã¢:â€œMÂ¼wtx#Ã{ÂªÅ¾6IÃÃ‡-(cÂ­Ã„	Â½â€CÃ(X#TAÃ¦EOÂ¯â€”Ã§Ã—Â¢â€“pÂ«ÃºÃ¬Ã²â€œÃ„Ã”
Ã°&nbsp;#4Ã=1Ã§Ã’Â£bÃ®ï¿½Ã¢Ã»Â·lÃƒÃªÃœdIÅ¸ÃƒSÃªÆ’5â€“ï¿½ÃŒ%ÃŠÃ’+Â«â€˜TÅ’Ã¥â€¢Â¯cÃ¸Ã¿oÃ¯Ã‘Ã…â€™Hâ€gâ€°Å¸,1Ã¾cÃ•â€“IÃŒÂ¥Ã„ÃuÃ¶â‚¬kÃ¤~ÃŒPyÃ¹uÂ¶ÃœyÃ­Ã„Ã²Â±\Ã¾hÂ­Ã„`Â½hR@Â³Ã•Â§"T6Ã½9Ã¿oÃ¬Ã©â€¢Â®â€˜Ã“ÃŠÃ@uÅ¾&lt;Ã“gwâ€¦:Æ’pÂªï¿½MhÃ³y8â€šÃ˜â€¹â€ Ã±Ã”â€¦&gt;5cÃ´7Â¿Ã¸{Â©UÃˆÃ¾Â¯ÃµyÃµufÃ¢XÅ¸Ãï¿½Mâ€¹roÂ¥_;Å¾!ZÂ±Ãeâ€¢Ã˜zÂªÃƒâ€™Ã¬Â¸Ã·Â­WÂ´WÂ«â€ zaÃ~Ãâ€¢XmÃ‡Â¼K(ï¿½pÂ¡sÃ«oÃ£ynÃ–
5Â¬Ã‚Ã·Ã¾Â¼Ã±Ã¯Z_[Å¡Ã•ï¿½BÃ¥ouÃ½pgMÂ¬Â¿Ã†2:Xâ€¢QÂ«Ã”^Gâ€˜Ã‡Ã”Ã³sÃ½=Ã»BÃ¼ÂºÃ–Â§R;Â¼ÂºTÃ‡ï¿½ÃÂ²â€¦3Â¸oaÃªLÂ¬Âºâ€eSÃ·*lMÃ€ÃºÃ˜Ã¾oÃ®ÃªÂ£ÃˆWÂ­:A/Ã–ÃªÃÃ›y*Â³Ã¹Å¡xRÃâ€¦^bÂ¾VÂµâ€°y&amp;Â«TÂ¹d7Ã”8&gt;Ã¬P@JÃ¾]TÂ»Ã’ï¿½Âº
sÃ½â„¢Â¶Ã°Ã)ÃœÂ±Âµ0â€š+Â£Ã¿Ã¬,Eâ€°Æ’ â€˜jÂ³T{â€œ~8Ã¼Ã»tCÃ°â€šÂ¹Ã©Â¶sÃ±:iÃ)Â¸Â¾hÃ¼lÃšDÃ‹Ã¼Â¦Ã«ÃŠfâ€¦YÅ¡â€ºÂ¿*@UÂ³xÃ¡Ã‚ÃZâ€šBÃŸâ€˜ÃÃ›gÃIt
Ã©QÃ“~1Fcï¿½Bx~_ÃªÃ½Â½Ã»â€œÃ¹Â¢|7Ã„C0ï¿½9LÃ½DF
Â½Â²â€ g?CÂ­EMHï¿½?Â§ÃºÅ¸uwÂ¶RÃŠÂ¿Ã¡Ãªâ€¹sÃ¢3Ë†ÂµqÃ£Ã¾ZtÃ¯?Ã¦Â«Ã“;WÃ
Ã¡{ÃŸ344Â´Ai6Ã²Ã‘S
ÃšÃŒ.;pCNâ€™Ã–Ã§Â£YÃ°Ã¹ziÃŠ.`HÂ½Ã½ÃÃ‰Â´ï¿½4#Ã‹ï¿½Ã§ï¿½Ã•Â¼RL`+â‚¬IÃ‡Ã¦|Â¿:tV73P%â€œiÃ¼nÃ®Ã¼Ã«â€¢|Ã¯Ã°Ã¸ï¿½Å½Ã¤Ã»Z:Ã–GÃ»_Ã¦Ã†Ã–Ã¶Ã˜Å¾2hÂ°SÃÃ§Ã¶Oâ€”â€”TÃ±ï¿½Bi:â€° Ã± RÅ“O
,Ã¿â€œ&nbsp;Ã1Ã¼Ã”~LVDÃ‡kÃ¼vÃ‚aVySIÂ»7Ã^Â¹Âµ.Z3[â€¡]GÃ«bÂ¿Â¿xÃŒiÂ¦Ã—Ã¶Ã£Ã¶}Å¸Ã Ã¡Ã—Å¡i*&gt;Â­ï¿½Å¸Ã¼Ã¿Ã¢Ãº{Ã§OÃÃŠÃš;â€œdÃ¥â€¡UÃ­MÂ»ÂºhRâ€¡-IÅ’2Â½\â€Ã‹Pâ€¢Ã¤Â¿â€¹Ã¤+Â©]^Ã£
ÃÃˆÃ 7-'ï¿½X#Â¼Nj&lt;Ã±Ã¾Ã§Ã–Æ’MÃš[Ih	Â§ÃŠÂ¸&gt;â€”Ã¬Ã¨Å¾UÃ£Ã»C4Ë†â„¢ÃÃŒÃÃ’SÃ“ÃˆjaÂ¦Â¦â€¹-ï¿½Eâ€”Oâ€¦Ã¥"eXeÅ“Ã‚l/ÃµÃ˜Ã²}Ã“ÃÅ Â¨Ã´Ã‡Ã³Ã¾]ZÂ§X214)Ã¾.~Ãâ€”8l=5~6ï¿½oWÃ¯mÃ™&gt;FLâ€ V8Â³Xz$Ã‡$â€Â¹3â€ â€¡'Ã˜=KÃ¹Wâ€
Ã£}&amp;CZIuÃ±â‚¬Ã•Ã°!*Â¨Â¿Â­Ã¼Â¿Ã•Ã‡Â­â€¡`Ã½Ã‡Ã¬TÃ‡ÃºÂ¿&gt;â€šj}Ã¥Å“Ã‡Â½fÃ«Â²_lâ„¢2Â£.Ã­Â¤L]Ã¢â€ &nbsp;Ã…ÃÂ³ÃšM@ÃšÃ†Ãc-5T!JÃ¿Â«Ã :WÃ´ÃŠÃ‹Â©YÃ–Â¸Â¼IÃ…*&lt;ÂªÃ£Ã©Ã‡ln\Ã“ÂºÂ¹2ï¿½DJ^Â²iÃ‹:Ã¾Ã’ËœÃ€ÃŠÅ TÂ·â€˜Ã¾&gt;Ã›ÃºUÃ­&lt;_Ãï¿½3OÃ™Ã‘Â¼{Ã›Ã†Å¡eE
xÃ¤Ã–Â¾â„¢Ã¿gÂ¥Â­nÃ¤ÃŒÂªÃ‡Â¯!VÃºÃªWÃ–jÂ¤ï¿½Å Ëœ$Â°Â©â€œJÃ†pÃ—Â¸6$Ã»nK@Â®Â¥â‚¬$Å¸L#?/Â·8Ã©mÂ¶ÃºÂ¡SÃ¤ÃŸâ€¢|Â²Oâ€”Ã›Ã¹Ã´ËœÃŠnÂ¬Â©yÃ‘rÂ¹2Ã|Ã—ÃXâ€š
Ã…Ã–{Â¶ Å¸ÃÂ½Â¢â€™PÃ´+Aï¿½Å zVâ„¢Â¡Ã¾\zÃ­Ã»ï¿½â€Â¿NÂ²Ã¨B;â€¦@`H_Ã±|kNâ€¢8mÃ‡â€â€šj%}dÃ¦?,Ã¦Ã•ÂµIÃ»yâ€šÂ°Ã½Ã†Ã´â€  ÃœÃ»Nï¿½Â¯bÂºÅ gÃªÃ»?/Ã°Å¡ÂµÃ„&amp;tTÅ’UiQQÃ„ï¿½Â³Â¡sjÃ§Ã³?lâ€¢ï¿½Ã¤Ã²,%Â©Ã³G Å¾wâ€¦â€¦Â¶â€˜Ãœ&lt;â€ÃˆDÃ€a`&gt;Ã¨Ã–Ãª,â€Ã¹zÃ“&gt;]4&amp;â€ ]JmÃ©Â§Ã³Â¦
8Ã‡ÃŒï¿½.Â¿Ã¿ÃÂ´Â¬â€¢,L4Ã†â€™Å¡9ZÃ¡Â¢h\:_Fâ€™Eâ€°Bo{ï¿½fTÂ¯Ã™Ã“â€¢Ã¨$ÃŒÃÂ¦9â„¢nVÃ¿U66Â±Â±:Ëœ?_Ã¶Ã–Ã€<zdÃ¹Ã—Â Â³'f2â‚¬jÂ¥Å½Å½oÃºbifqÃºmÃ¾ ï¿½{Â¦*ezÂ¡Ã€Â¥1Ã¾ÂªtÃ¥(â€¢zf!Â®ï¿½1Ãªï¿½Ã™e7?_Â¯Ã»vÂ ï¿½tcÂªÃ§Ã¬Ã£Ã’="" â€¹Ã½Â«8*+b-ï¿½]6rÃ¥tÃ¶Â¢Âª="Ã¸Ã°Ã€Ã‡Ã³ÃªÂ¤ï¿½:HÃ”R^R\jupÂºÃ©Ã¯ÃªKâ€˜Ã¤Â±%ËœÂ§$Ã»Ã‘\RÅ“zÂ®;1Å¡Ã¿ï¿½Â«=rÃ»$eLï¿½Ã¥Uâ€°NÂ¹O" â€˜Â¥Â½Ã˜â€˜juÂºÃ’Â¡sÅ¾â€˜Â¹Â¬imdÃ™,ÂºxÃœï¿½Ã‰'a.Ã¦ÃŸ_Ã«Ã‡ÂºÂ®+nÃ«l="" *|Ãº@kju^f1â€°<â€š]o*tÂ°â€™Ã¥uu]Â§#Ã½Ã‡Â·rï¿½ÃÃºÂ±Ã“dqÂ¡Ã©="â€™Ã½Ã•wÃ[Â¹â€ $hÂ¡â€¹Kj)Â¦Ã¡f!EÃ­pÃµÃ·Â±SCâ€™}zÃ‘Â©<|Â¿.=$*Â¡]JÃ‡BÂ¾â€¹â€¢Â¤Â³Yï¿½ï¿½Ã”o{~EÃÂ»Ã§">Â¿ÃªÃ¿7T:CRâ€Ã©?%*ÂºÃŒnÂ¾OÂ­Ã‹'Ã©Ã$Ã•Ã´Ãµ(IÃºÅ¸~Â©Ã¡Ã„Ã½ï¿½xVâ€ Â¿?hÃâ„¢Ã«)Â®Å¾Æ’eAÂ¡ÃµÃˆâ€Ã‰ KDÂ¨HÃºGÃ—Æ’Â¤Ã¿Â­Ã¯Ã„Â«Ã½_Â³=nÅ“8_Ãµ~}"Â²Â¨RÃ¶Â¸`WÃ’Ã€i(tâ€¹~Â¹
â€¡&amp;Ã–QÃ¾Ã·ÂªÃ§Å¸Ãµ|Ã¼Â«Ã—Â¸Ã—Oâ€”Ãºâ€¡ÃºÂ³Ã–
)"â€¦VsÃºÃµNï¿½CSFÃ„~8kÃ·Å¸zâ€¡Â»ï¿½UÂ¢Ã—â‚¬Â¡Ã½Â´Ã¼Â½:Ã¶ÂºÃ‡Ã·Â¸Ã©"f&amp;:Ãšâ€¢Â¥V
OCÃ‡Â¡Hb#uÂ½Ã€Ã¼Ã»qpÃ‡ÃÃ³Ãµ`x(Ã Ã•OÃ¶zÂ¦â€˜WTdÃ¸Ã”Â¬uFÃï¿½ï¿½),&gt;Â·?â€º~}Ã¸Å¾ Ã¼Â¿Ã•Ã¶Ã¼ÂºÃsNâ€°Â¶Bâ€¢Å’Ã…Ã„Râ€šk&amp;ï¿½â€“&gt;â€š^G
Â¤[Ã’OÃ¶Â¾Å“ï¿½ÃÂ¶â€¡ï¿½hÃªÃŒÂµâ‚¬Ã§ÃÂªKÃˆ7ÃœnÃ™â€˜Ã‹â€˜Ã‰â€¦`Â³5tÃ²&nbsp;[Ã‡ÃˆÃ‚Ãƒï¿½Â¯Ã§Ã³Ã­:!](Ã”Â¸SÅ½qÃ«Å½?Ã¡Ã¨Â©Ã´}Ã‰'&amp;â„¢Â­1Ã³Â¯â€”Ã™Ã¥^â€œÃ³Dâ€“$Â²â€°Dâ€™Ã¿hÃ–Tâ€œ#Ã†ÃºÂ®-ÃÃ¼VÃ¹Â½&nbsp; Ã¿Ã³udR^4RuÂ²Ã”â€“ÃÂ©Ã•Ã¥Å¡VÂµÃ²3Ã–kÃ’Â±Â¸Ga"ÃŠBâ€u
â€¦W 
&lt;ï¿½IÃºâ€ºÃ½=Â¢z|2@"â€¢5ÃˆÃ”Â²Â¢Å¸gWÂ¬CFâ€fÃ¤Â°oJÃ¢â€¡â€°â„¢ÃµÂ¨Ãª&gt;Â­EÃ†ï¿½Â­BG ÃˆnÂ·Ã¤\5Â¬?Å¸ÃµÂ½Ã—.Â¬PNâ€ºï¿½Ã¥Å¸Ã™_:VÂ´Ã©BÃ€LÃ‘Â¢Â¯râ€šÃ‰Â§ï¿½QÃ³Ãµ?&gt;Â§x&amp;â€“â€“BÃÂ®-cHQp5Â°^C\â€¦	Â°Ã â€¡Â»â„¢Å¸Ã’Ã„Ã”#Ã“ï¿½3Ã†Â´ÃÂ¦ÃŠ;Å Ã©Â«PÃ 6&lt;ÃÂ¯Â­p)Ã²Â©Ãª~2Â« â€“#Â¥Â©Â¤uÂ²[ÃŠ$Â±Â¼dXâ€œ{?ÃƒÃÃƒ5QÃ‰Ã®ÃµÂ¦+Ã§Ã„Ã—ï¿½~}QÃŒÅ¡ï¿½bÃÃ¨ï¿½0TÃ±Â®`ÃµÃ©Aï¿½â‚¬â„¢Ã¥2Ã‰Â¢/gZ^Ã£TgJÃ˜Ãºï¿½l}D~-Ã¯zâ€˜ID]OP*|Â¼â€¡ÃƒÃ“Ã­Ã¡CÃ“Â²+'Ã¶Â¹`((Â¯eÅ¾sCÃ“#Â¯Å ÂªÂ½Uâ€˜GÃIÃ«sbÃOÃ˜â€ ÂµÂ¿Â­Ã¯LÃ‹Â¬WÂºZ|Ã±Ã€Ã¹Ã¹Â«UÃ£Â¤Å½â‚¬Âªï¿½Â¦Â¹Â¦j8Å“ÃƒÃ”Ãµï¿½:Ã£Â´lf
'ÃŠÃ¸ÃeÃºÂ°Ã¦Ã¢Ã‚Ã„ÃœÃ»g:Â¼F:Â¤==xWË†Ã¼Â±Ã“Å¡uPÃ…PNMjkCÃ„Å’GÃ‹Â¡#Â§Ã°â„¢LÂ¯flJ\e|Ã°Ã”o}Â«Ã†*
Â©!â€šÅ¸&nbsp;Yfwâ€ ï¿½!ï¿½$â€™v6Ã¶Ã¸Â¦Â«5EE)ÃƒÃ¥ZÅ¸ï¿½N&gt;CÂ¯Fâ€™Ã©PÃ²`â€¦ Ã p0()â€œÃ¹uÂ·ÂªQPÃ€Ã²Ã‰=v=XÃ _,Ã”Â¥Z$e6[Â¾ÂµÂ°'ï¿½Ã´?Ã«Ã»5n?+Ã’Â¥&nbsp;Ã£@?Ã¢ÂºÃ…YÂ¹Â¶&gt;-$5Ã»Â«NUÃ‰(ÃµÂ°Å¸1&amp;ï¿½Ã—
ÂªÃºÂ¿OÃ§ÃkAâ€œÅ Ã¿Â«Ã¥Ã—Â»F*)Ã’^Â¯ÂºzK&amp;5=â€œÂ¶Ã¼ÃˆÃ²FÃ…Â²4Â¬Ã¡@Â¼hÃ•Ã¤6Ãº:Ã±Ã…Â¿Â¯Âºâ„¢@%â€ Å¡Ã¿.Â®
Ã’Âµuâ€ Ã¹GÃ±Ã¶ï¿½ÃÂ§ÃŸÂµh5Â½4Ã•â€˜Â¬UAÂ¥Å Â¡AÃâ€¡Ã¼Nâ€ºÃ›ÃŸÅ’Â«â€š~ÃÂ¬Ã£#â€¡Å¸Å¸Ã­Ã¿QÃ©]Â»Ã¾aÃµNÃÃ›ËœÂ­Ã™â€°Ã…eÂ·n/'â„¢Â©Ã€Ã“TÃ‡ËœTÃ¾!GÅ½\â€œÃ©ï¿½%Bj*iÃ–Å½hËœJÂ±Ã¸ÃœÂµÆ’]HÃ·Ã¡"Ã’Â´4Ã¡Ã¾Â¯Ã³ÃµÂ¦qJÃ”qÃ²ÃªÂ¤;Â³w&gt;Ã³Â®ï¿½Â±Ã½Ã³Ã²ï¿½â€“Â«vÃ”Ã”Ã£ÃŸÂ±Â²55.w-%4{vâ€¢'Â¢ï¿½lSÃCÂ²ÂªÃ©Ã¤ÂªÂ¤â€°`s)IYâ€5Â¤0Ã„ï¿½Â¦Â¤Ã±5ÃËœÃ€Ã£Ã»:gÃ…5PÂ´Â¨Ã»|Â¼Ã¾uÂ¯Â¡Ã¨Â°Ã•Ã´}^Ã¯Â­Ã…Gâ€Ã¬&gt;Ã»ÃŸÃ“Ã®Â­Vr[ÃSS)GÃµâ€Ã‘,â€œWâ„¢&amp;ï¿½+Ã¢.oeÅ¸~ÃªZxÂ­â€œÃ¦~ÃƒÃ³?gÃ›Ã“eÃªÃ•Â«kÃ’GN5Â­?m+ÃƒÃ¼Ã?IuÃ#ï¿½Â·Å¸ÃIÃ©2M]ï¿½Ã‰Ã–Â©Âºâ€ºÂ¬Ã«FÂ´Â©Ã¥kÃ½Ã£Ãº{Ã´pCâ‚¬â€ºÃ­Â©Ã¿â€¹Ã´Ã¾]Pâ€ 2j52&nbsp;Ã‰Â¥â€”yÃµ-:Ã·Â©qdËœ:Ã£FÂ·VÃ“UVÃ‹ÃºIÃÃ‹â€˜Â¬Â©`8Â¿
/n	Ã·tâ€šÃªcË†Ã³4Ã¢OÃŒÅ¸Å¸MP+|Ã€ÃÃ¸&lt;Â¸&nbsp;TTÃ¬ÃœnÂ¯faÅ“4Ã‚â€¹E2â€š[AxÅ¾Å“L#fÃº7Â£Ã¾<zË†[]1_Ãµ~_Ã ÃªÂºcÅ’!Ã‡Ã­9Ã³Ã¼ÂºÃƒÃ½ÃµÂ®ÃŠ<Ã­Å Â¯Â§Â¬â€ 1â€™Å¡Â¥*#Â½=8-Ã¤vâ€˜t4tË†ï¿½Ã¥he aÃ®ÂªÃ‡jÅ wg="" Ã£Ã¼="{UTÂ±=Å x5Ã¡Ã‚Â¾Â¼GÂ©Ã©3UÃ˜yZ_Â¹Â£jÅ’Â³Â«Â²IÃ¾Ã£Â¨rUÃºâ€\Â¼:Ã‚Â°ÃºÃ¨," *Ã£ï¿½+Ã°Â¥ï¿½Ã¬Ã½Â¿Ãª="">Â¬AÂ¥[	AÃ³Ã¿QÃ©/UÂ¸^Â¥+Ã¢zLÃŒ3KÅ½Å¾Â·/G.=aÂ¨54Ãµ
QJCÅ¡â„¢V%t) Qi	+Ã®Â¥NÂ£UÂ«SÃˆ|Ã‡Ã¾ÃÂ¬Ã¡ï¿½USÂ¥|Â¿â€”â€”Ã¥ÃƒÃ¶ÃºÃµ7zÃ¯uÃMÂ·#Ã€mÃ¬.Ã¡Ã¶Ã®;oÃ—ÂºÃ¤Ã Â¡Å¸?ï¿½Â¦Å¡Â²ÂºÂ¯tejÂ¤Â¦Å½]^kVh"â€š0	7&amp;ÃŒÃ€ÃSÃ²Ã¿	Ã¼Â½?Å¸M0â€â€™ÃŒ4Ã†OWUÂ¯
dÅ¸/Nâ€œÂ´9zÂªÂ¬Å’TÃ²Ã¿vÂ´&lt;â€ÃŠÂ´Ã›â€°Â«k]BÃ²â€Ã±ENâ€˜K$`r&nbsp;Å¾Ã“Ã³Ã®Â¤ï¿½â€¡ÃÃ†=?Ã˜Ã¿?Â´Â¤Å 2â‚¬5$Ã¤Å¸LÃºqÂ§Ã™Ãâ€¹â‚¬qÃ·Ã¨Ã©Â­â€¦45uÂºÃ£fUAMO&lt;Ã§QÃ£ï¿½Âµï¿½Ã€Ã¾Â¿OvPu(&amp;â„¢Â¥8Å“Â¨tÃµXÃ“,Ã¹Ã½Â¹Ã¿.:+4Ã¾&amp;HLâ€œiÂºÃŠÃÂ©Ã‹JÃ¦VMqÂ¬Â©laâ€™9
ï¿½ÃbmÃÂ¶XRÃŒÃ‡Ã¹Ã¤pÃ¼Â¿Å¸LÂªÂ«Xq)Ã¸ï¿½Ãâ€ Å¾&gt;Å“+Ã€Ã¹Ã”tÂ½Ã›QÂ¥Â¤Â¬Ã½Ã‚I&gt;Â±LÃ¤NÃ-+#JfËœÂª+Ã–AÃ qÃ¯iQEÃ“AÃ©Å¸Ã°Ã°ÃªÃ¤ÃE5-Ã‡Ë†8TÃ–ÂµÂ¦OOÃ•dË†M*Â¼qz#iÃ­Â¦Uâ€°â€˜-A@Fâ€¹HÃ¼Ã»sÃ¸â€zÅ¸Ã¦gÂ¯â€”[Ã–ÃšÃ¨(\fÂ´8Â¯
dÃƒÃ¼&lt;3Ã’/)1â€º(ÃÃµÃ“ÃŠÃ³ÃŠâ€˜Ã¨Å½5UFÂ¶Ã¤Â®Â°ï¿½Ã€Ã¿_Ã›ZÃ±Å Ã¦GÅ½Ã¡Ã¾Â¯&gt;â€Gy$sâ€¦Å’Â°â€˜Â¸`Ã©Ã²&amp;Â¹Ã´Â­&gt;dt"mÂ©Ã¦â€“jÂ²Ã†O-%Å¾Ã†Ã…bâ€¢Â©Â©Ã™Ã†&nbsp;lKÂ¸Â¸Â¸?^}Â¦ÃºeV.Â©Å¡RÂ¹ÃÃºÂ¾ÃÅ½bÃŸnÂ¢Ã‘ICÅ“jÃ¹Ã“â€¡ÃÃ¾]
{@-u~ÃŠÃªÃ•Ã¨Â¬Ã¨Â°Ã…Âºâ€¹Ã²â€â€™@ÃºÃ€FÂ¾Å¡â€Å¡=Ã‚:YÃ»ÃºÃ¨Å½Ã°&gt;Â¾Â¾â€”Ã¿â€œÂ¯Ã¿Ã‘Â´Â¼Ã˜Ã½,Â¥â€¢Ã®Ã•ÃŠâ€™GOÂ¡Ã™IÃ½6Ã¶h	Ã…IËœg<z2Ã’â€¡qÂ©â€˜|hÃ‘dÃ‘ ,Ã„Â¼Å i.Â¦Ã—Â°6ÃÃ€Â¯Ã™Ã“gÃ¢Ã¹Ã§Â Ã‡%+8Ã…Â¤kâ€°|Â­Ãºsâ€œÂ¨(ï¿½Ã½="" Â°="">Ã¬2sÃ¥Ã“deÂ½zÃ²ÃŠÂ¤Â¹Â²!â€°Â½Z]Å½Â©TJÃªÃšÃ„vR&gt;â€Ã¾}Ã®Â¹8Ã£Ã•MÅ½Æ’&lt;Å“_Å¸Ã›Pâ€&nbsp;bÂ¤Âªâ‚¬Ãšâ€°(â€“ï¿½-Â¿{Â¡Â§Ã¹ÃºlÃ–Â´Ã³Â§â€”IÃ¸ â€™ÂªQ(ÃªÂºÃ‡rÃÃ¢Â¢Ãƒâ€¹=Ã¿Â§ÃµÃ·Â½54Ã«Gâ‚¬?Ã Ã²Ã¿?SÃ›TÂ´Å½|s]Qâ€“U Å¸%â€¦Â¾Å¾Â§Ã’ÃƒOÃ”{Ã$Ã“Ã¼ÃjÂµÃ£Ã„}ï¿½ sÃ”Ã“Ã Pâ€°	Ã®Ã˜Ã›ÃÃ¤Â«qÃ´&lt;=Ã¨Å¡Ã–Â´Ã«Ã†â‚¬N)Ã¾Â¯Ã¸Â®Æ’ÃŠÃŠ'RÃâ€ºÂ¥Ãœâ€ f
Â¬Ã•â„¢~Æ’Å¸Â¨Ã¿yÃ§~bÂ§Âªâ€ :Ã™Ã’BÂ¶Å½BÃŠÃ²Â»Â¦â€¢XdÂ¦dbÂ¦ÃÂ¯&amp;Â£}X~Å¾Ã­LÃ±Ã²Ã«Y"â€¡Ã½Å¾â€˜ÂµtÃ ï¿½.,ÃÃ¾uâ€°YÂ­f:c]*&nbsp;sÃ´Ã¾Å¾Ã­Ã¶Ã¹ÃµÃ£@j+Â§Ã—Ã½_Ã¬tÃšÃ˜ÃªÃ‰Â¢Wâ€ â€“Â¦@ÃºZ"â€Ã’HÂ¡Â®H`Bâ€¢`WÃ²Ã”Ã»Ãšâ‚¬AÂ¯â€ºÂ©Â¥EÃ‹Ã”Â¬qÃ”Ãƒ/';Â³; â€“Ã…Ã‚bTÂ¡Â¸Ã’GÃ—Ã½o~#Ã“ï¿½lâ€™*&gt;}Å’6b	'Â£hÃ€:Ã•&amp;â€™ Ã¥Ëœ+-@Ã«kÅ¸Â¡Â¿Ã¸XÅ¡Å¡Å Ã }Å¸ÃªÃ^Ã²Ã¿WÃ§Nâ„¢#&nbsp;â€™Å¾e5Ëœ*@Ã—yÂ«=Â·it6Â«("\ï¿½G,&gt;Â¼GÂºVâ‚¬Uâ€¡Ã­xPTâ€š	&gt;Å¸â€”Ã’Ãï¿½Ã›ÃºÅ¡9Ã²Ã“dQÃ‡MSÃŒwmÃ¤XÃ–9â€¢ÃœËœÂ£Â¯â„¢Ã¯")y&amp;Ã—Ã¶Å’Ã‚GÃ§NÂ¼Â«QÃƒ?ÃªÃ¡Ã¾Å¸Â§BÂ»w/PCTÃÂ»/k 1SÃ—5[Ã¤$QÃ¨Â¦â€šV%Ãâ€ºXÃªÂ·Â»kO&amp;Ã§QNÂ®(Ã„AaÃ¶tWwÃ³Ã«o4Ã‘Â¥=Â§M*ÂµCÃ†"Â¢ÃuÃÂ¾ufÂ¥dÃ»mÂ¼Ã¤â€ W
Ã­Â¤â€š8ÃºÂµQAIÃ¢Â¿.Â½ÃšX
Ã·T}Å¸ÃªÃ¿U:Â¯Ã¨
Å’&amp;Â¨â€º+Ã²â€™GwÃÂ¾ÃŸYkÃˆÃ¬ÃÃŒÂ®â€ºÃ«'â€˜Ãµ_Ã›"Â¥	uÃ–M
+Ã¶PÂ«ï¿½IeÂ¶Ã—!gÂ¸:HÂ¥4Â®MxÃ±Ãï¿½Ã½Æ’Â§Â¨:Â£aQÃ¼KÂ½Â·LÃŠÂ·f&gt;Å¡ÃXÃªN[{PÃª$-â€ Â¡aÃ¾Ã4Â£w4ÃºÅ¡â€4`Â®&gt;~fÂ¹ÃªÃŸKÅ¡â€œBxÃ¼Ã€Â¡Â¦NÂ¦)JpÃ©Ã²â€Ã¸Â£ETbÃ‰Ã¶O}Ã¥Â¤zzfâ€`Ã¶OZÃ‘!3SÃTÂ«Ã·â€¢Â»&amp;â€ Uy2â‚¬]k0`1[ÂµusÃ¾Ã–Æ’Ã¶Ã°ÃµÃªÃ²[ï¿½4'JÃSÃ­Ã²Ã´Ã¿'BÂ¨Â¾QGÃ¤pÅ¸+7Â©Ã„onÂ§Ã›QÃŒÃ‘â€¹ÂºÃ¿â€œÃ¬Ã¬ÃŒÃ±Â²â€¡'Ã«ÃÃ£ÃÅ [K+â€œNM+Ã»3Ã¾&gt;Å“Å½ Â±â€Y&lt;8ÃµVâ€ZÃ–â€Â§
Ã ÂªÂ½&gt;GË†Ã¸â€ GHÂ¾8vÃ¦|Â¥Ã¼RÃ®â€™Ã‹Å½I	vâ€™#SÃ›Ã«J`â€“CÂ¡ÃÂ¸ÃºÃ»Ã“Ã‰'ÃƒÂ®xVÂ¾uÃ¡Ã‡Å½zÂ¶Ë†Ã„~HZpTÃ¾tÃ£Ã¨k^â€º&amp;Ã|lÃ‹Ã”QÃÂµÂ¾&gt;c6Ã¦&gt;Å½'ZÃš:Â®Ã‹Ã¬}ÃŸ,Ã°Ã&lt;0:Â½TÃ¹Å“Vâ€°t"â€EÂ»Â¨oDNÅ¡P~Å¸Ã²Ã•VÃ”Â¥â‚¬Â¥kQ_/:yÃ—Ã¹tÂ©wÃ«ÂºjY_n|TÃ©Ã¸Å’k;d*h;/sÃ•DÂ±ËœÃ¢Ã‹Å¡ÃŸu4â€ jâ€“`ZÃ‘Ã€~wÂ¡Pw(Ã“^Â§Ã¼Â½YbÅ’
"`28qÃ²Ã¹Ã´â€˜Â¬Ãb Ã„ÃµNaÂ¤â€Ã‹GÃ”[nZâ‚¬u/Ã®5^^â€œ';ÃÂ·ÃºÃªÂ¿Ã»Ã¯tÅ’qâ€°sÃ€Â®iÃš&nbsp;Pq&lt;&lt;Ã¿ÃÃ»OÂ§LÃ«Ãš=Æ’Ãªqsb0Ã²Ã‡Ã½ÃƒÃ­â€œâ€šÃ“Â¢oËœÃšÃ„ï¿½Ãµ@~Â¦Å’Â¡s&nbsp;/â€”_Ã°yÃ½Â½{Â¿HOÃ‹Ã¹Ã’Â½&lt;Ã‘Ã¶/mWÃ‚Ã”Ã§unÂºÂ¿1Å’Ã‡gjc1â€¦3 Q*Â¢8Lrâ€°lARn8ÃºÅ¸{Ã±ËœÃÂ¢Ã¾UÃ¾_Ã Ã«Ã†2Ae\Ã¿/Å¸Ã¥Ã’Å¸Â±{Ã›wï¿½%ÃœÃ­MÃÅ’Ãï¿½Â¾Ã³))$Â¢Ã„&gt;ÃŠâ€šÂ¬Ã¤r	Ã¤Â±Ã·Â£#Å¾Ã“Ã¹Å¡Ãµ]4JÅ¡qÃ»Ã•Ã¶t'Ã¡Â¾|Â¾ÃOÃ…Ã¼xÃ®Lâ‚¬Â©&gt;Hâ„¢Â¶Ã©Â¤ï¿½â€˜@_'â€º1Å½&nbsp;â€°'VÂ¡Ã#ÃŸÂµ@UjÃºï¿½ÃÃ–ÃŒU4Â¦Â¾@Ã£Â¡â€ Æ’Ã¹dÃ¼Ã¥ÃŠxï¿½Ã¼zÃÂ¸Ã¥(Â²}Ã†jÂ»kaâ€"â€™ÃÃªÂ¬Ãœ2Ã¤ÂµÃ¹Ã·ÂµÃ–Ã•Ã«AÃ¾^ï¿½Å½'"Â¥.Â»Ã­Æ’?'~6l
^Ã…Ã­]Â©Å½Ã€lÂªÂ­Ã…â€¡Ã›Ã²IÃ§Ã€Ã¦kÂ£Ã‹Ã—Ã“WÃC+bquâ€¢32*Ã’Hï¿½%Ã­Ã¹Â¸&gt;ÃœBÃ€Â­PÃ“Ã—Ã½â€¢Ã«Ã’Ã‚ÃˆÂ«Â¬â€šÂ¢ËœÃ¿WÃ³Ã©9ÂºÂ¤FÃ¨ÃÂ¯O.ÂºÃÃƒÃ­Â¦ï¿½QUÂ¢Ã»^ÃÃ‡Ã“Ã˜Â»&nbsp;Ã« !-Ãµ6Ã¶Ã¸:BÃTÃ”Ã¿â€œÂ¦Â´\SÃ¼ï¿½Ãœâ€¹fÃ¡Å¾wÃ„Ã¿}â€™Å¸Ã…O$Â­â€šÃƒÃ¬Ã™Ã¨LÃšGÃ»â€œÃœÂº*iÃ¦Ã’=JÂ£BuÂ¸&gt;Ã«Sâ€œF'Ã¥J~Ã“Ã©Ã§Ã“.qâ€¦Ã£Ã¾Â¡Ã§Ã©Ã“HÃˆÃ¤Ã–â€™)Ãª9Ã§Â§5B7ÃÃ–bÂ§ÃˆCÃ§Ãœâ€™Å¾Â·oHÂ´â€˜$Â«Â­Ã£ebÂ£KÃ›ËœÂ¨bÂ¿Ã‹Ã¼#Ã¥Ã¹ÃµÃ¢Ã…ÃˆÃÃ½_ÃªÃ³Ã¨"ÃUÃ¡Ã¢Å¡Â±$Ã¾Ã§Ã€&gt;Ã¢"Ãƒ'Â¿Ã³Â¸Ã™Ã™cEDÅ½Â¯oÃ¢ÃÃ±hkÃœÃÃ¬Å“â€ºÃŸÃâ€“nÃª}Å¡Â©Ã¼Â¿ÃÃ–Å â€UÃ§I&gt;â€Ã³Ã²&gt;aÃÃ«Âº(Ã’â€ ))O`dUÃÃ”Ã—OÅ’tÃ’\ËœÃŸ&amp;M\Å½ÃšÂ½JÃ€Ã³sÃ‡#ÃÃ‰Ã¡R&lt;)Ã¨Ã•Ã¶tÃ™\Ã«ï¿½Ã¹Vâ€¢Â¥Ã•Ã¾~â€˜YzÅ¸Ã²ÃšÂ¹)ÃÂ¿Gâ€™;Â­6Ãˆâ€¹/2i
Ã€Â­MÂ©fï¿½RÃœ/Ã¡nÂ§Ãâ‚¬Â«Râ€¢Ã¡JÅ¸Ã›Ã–Â¸Qâ‚¬Â§Ãâ„¢?Â´Å Ã¿â€”Ã“Â¦â€¦Â¨Â«ZWoï¿½f,Ã‚%ÃˆÃ£i13Ã„Â®5DÃ‰KD3%]Â®GÃºÃ€{Ã˜Ã’Ã–â‚¬zcÂªUPÃ‘A^8Ã³Ã³Â¥~z}j+Å¾â€™Â¹Ã²Ã”Æ’$ÂµnÃ‚4KEÂ¹â€œ.â€¹â€”â€™0Â¡Ë†$Å¸]Ã‡Ã¸{Â£`}E&lt;Ã¿â€œÃ­Ã©Â¢Â¹rMdÃ¡Rhgâ€”8 pÃ©Â¾Å½XÃŠÃ”qâ€˜Å¾Â¤1Ã§ÃªsÃ‰Â­JKÃ¥fHfTkâ€ RK\Ã³Ã¯fÂ¢Â´:AÃ¡Ã‚Â¤}Å¸n:Â·`!Qï¿½â€™Å“iÃƒÃ¶Ã¹Ã¿â€œÃ‹Â¨)Ã©QÂ©SÃ®1Ã«Â«Qâ€ :Ã¼Ã™tiÃ©Â´f Ã¥HÃ³Ã‡ _Ã2I&nbsp;Ã‰'$|Â¿ÃÃ©Ã—ï¿½Â£H{Ã”Ã¼UZÃ§Ã“Ã‹ÃŠÂ¾cÃ¬Ã©Ã£IÂ­X&lt;ÃˆÃ…|Å¸ÂµMÂ³gÃ†Ã“Â¦Ã‚Ã™)Ã¸?BÂ«ÃÅ Ã¹Ã±ÃWÃ—Ã¾+Ã¶tÃ²5YC
Ã‹B8vÅ "Â¿/?&gt;<zÃ©psb3â€¢eÃÃ¹ÃšÃœÃ¨ Â«tÂ²bÂªcuuÂ kÃµÃ¾Â¿Ã­â€¦Ã¨(^Â¹Â¡5Ã¡Ã“lâ€“jÃªï¿½="" Ã±Â Â©Ã³Ã²Ã£Ã³8Ã¹tzÃ©<a'â€°Âªï¿½Å Â´â€="" pjâ€˜ÃÃ©vÂ³Ã¨â€°Ã¾Â¨Â¯Ã«Ã¿ï¿½_lÂ¨p#hÃ»â€="" Ã–ËœÃ³Ã³Ã»8sÃ¬Â­:Ã“,="" ï¿½="" 'Âºï¿½Ã„ï¿½Ã‡Ã“ÃŒpÂ¯â€˜#earÃ˜Ã•4qÂ¼oÂªÂ¡Â¸";"Â¤ï¿½4â€°Ã¤6ï¿½Âºsâ€œÂ§Æ’qÃ‡Ã—ÃÃtâ€šÂ¹Â®+Ã†â€¢Ã¿ï¿½7Ã™Ã•Ã˜Â­nÂ´Ã (e<Ã³_zâ€šsÅ Ã’Â½?uÃ’m(jÃ²bÂ®Ã®Ã­Â¢Ã¹Â¤hÃ‹e,Â§Ã„="!HÂ½ÃŠÅ¸Ã°Ã½Â¤pÂ«Oï¿½Ã¼Â¿Ã•Å¾Â®ÃÂ¤+3ï¿½ï¿½Ã‡Ã¼{Ã¬Ã‡Ã¥^=!Â±kO.S'YQ" Ã’Ã•Ã‡="" @3h4h@ÃÃšÅ â€¦ÂºÃœ\5Ã¯Ã¾="">Ã¼Â¢Âºâ€°Ã®Â­ÃˆfÅ¸Ã¬Ã²<zd*@Ãºuxâ€œ@fÂ¬pÃ³Ã¹Ã¹gÃ‹$dÃ™ÃºÃ¸*$â€™ciËœ;â€šÃ·c3k+â€“xlÅ½0Â¢Ã·Ã¼zÃ–>Ã«â€šÃ„2Ã¿?ÃµW;
Â¡â‚¬Ã’Å¡~Ã“Ã¶t.lIÂ°Ã­ËœÃ‰Ã¤*Hâ€™â€”Ã…Ãƒ*T4!
YPâ€¢
<jÃŠÃ±Â 6Ã â€”$Å½.[jwÂ»â€¡â€”Ãºâ€¡ Ã´Âª7="" Âµt%="">DÅ¡WÃ­Ã½Å¸,ÃµÃ¿Ã’Âµ\ÃœÃ¼ÃŠâ€¹Â¬Â´ÂºK8RÂ®ÃªJÃ"	Â©oÃ’Ã¿^-ÃÂ³A_\Ã´ËœÅ¡â€šlÅ HÂ¯!yÃ¢SÂ¨Â¾ËœÃ¢e:Ë†Â±â€™ÃŒÃ¼qÃ$Ã›ÃÃ¾ÃÅ¡ â€™jiÃ’-K^iÃ¤Â¬Ã†Ã”Ã¨Ã«Â°â€ ;_Iï¿½Â«Â¨â€HÅ’Ãª8Ã¼1sÃÂ»
Ã–Å¾cÂª7ÃƒÃ†Æ’&nbsp;Â£9Ã·fhÃ¤â€°J92Ãƒ;~â€ +Â®ÃšCâ€“QÂ·Ã¸Ã»ÂµiÅ½â€º&lt;Â¨Â¯AÃ–iÃ¥TV1Ã…Â­Ã¬Â®Â¦Fb@K2Ãˆ|6-Ã©Â°$Ã¿[Ã»Â±Â£Ã‹Â­1Ã²#Ã§Ã‘Ã¹Â¹Ã˜;â€ºcÃµf&amp;}Â¥ËœÃŠÃ 35Â»â€™	c^Ã°TÃ’Â¥'Å½6Â¢Fâ€°Ã‹OTâ€¢â€”`Ã†Ã£@ÂµÃ¾Â¾Ã™Å“Â²Ë†ÃÂªkï¿½OÃ¶zÂ¤â€ÃœÂ¾8qÅ¸Ã¡ÃªÂ®iÂ»Ã£Ã¤NB*WÂ¥Ã¬~ÃƒÂªâ€¡&amp;ÃŠÂ´Å¸oï¿½Å¾eÂ¨â€™S&nbsp;XÂµ6Â©Ã“bÃºÃÃ¨dâ€œÂ¬Å Ãº_Â°tâ€¢2Æ’AÅ“Ãª9Â§&nbsp;Â§Ã»&gt;Â¾ï¿½8Ug&gt;WjyÃ¥ÃvÂºâ€ XTÃ‹%^BÃµ01"â„¢LKpÃ§â€¦â€œu1ÃH?Å¸Ã­Â§Ã›Ã•Ã´ÃˆÃA9$Ã¼Â¿Ã•Ã«Ã¼Â©Ã”{Ã¼Â«Â«2Mï¿½Å¸Q5:ÃÃ¦â€Ã¥kÂ£%"iÂ£iÂµTIÃ¢`lkxÃºXÂ¼Â¦â€¹J
Ã¦â„¢Ã¾ÃªÃ¼ÃºÃ±â€Â¶Â¢}I?3Ã«Å pgâ€”QjÂ±_+Ã¥%aÃ­1Ã¤ÃœÃ§jÃ Ë†â€™ÃÂ¡,Ã’eI,Â¶ÂµÂ¾Â¶Ã£ÃXÃŒH`Â¿ÃªÂ§VÅ’Ã•=kÃ³Ã´Ã»&lt;Â½zÃ¢v_Ã‰Âºâ€JÅ¡Å ^Ã†Â¯ï¿½Ã¢â€“eCÂ¸Å¾Â¢6â€°Â¡mlÃ‘Ã¿&gt;A&nbsp;H^9Â½Â½ÃºÂ²+GÃ”Ã¤Ã¾ÃŸâ€”Ãï¿½[11:Âª*Å¡Â«Ã½Å¸â€”\Ã°ËœNÃ±ÃœÃ˜X2Ëœâ€°Â·Ã•~&amp;Ã¶Ã†&lt;ÃhÂ¦â€™x&amp;Ã°Ã”ALÂ³f)cÃ‘LÃ„+â‚¬Â¡oÃ€kÃ»Â²4â€¦ÂµÂ´Å¸?Ã¸ÂºÃµEVÃ0*Â§Ã¥Æ’^Ã‹Ã½UÃ©;Â¶0Ã½â€¡Ã˜â€¢ÂµÃ¸Å“.Ã ÃˆÃ—PÃ‰&lt;tÃµÃ¹Ãº
wI 2Å â€Ã¿-ÃÂ£Ã‹Â¤DKR}O#Ãï¿½k5\Ã¼ÃÃºÂ¿Ã‰Ã†Å¾YÃ«ÃŠ%4Ã”Å½&gt;Å“}}~Ã±]))Ã¾7Ã·1Å¾UÂµ!Ã‡Ã‹UU4â€™Ã¤sÃ»~jÂªEKO&gt;Iâ€¢DdÅ¸Ã«~1IPUqN'Ã³Â¯Ã°Ãµ`Â¡_ZyyÃ‚Â¼+Ã»kÃ³Ã¹dâ€œÃ£_cÃ 'Â¦Æ’rÃ…Â´vqÃˆËœEÃ®-Ã…AÅ Å½Â¿Ã®T}Å“Â°M%ï¿½Ã•EVÃ GÂ¡eyXÃ¾NÂ¼Â¥;Kâ€œÃ¦iÃ¥Ã¥Ã«Ã¾Â¯^Â¨WÃ£&nbsp;SÃ¤3Ã„Å’Ã°Ã‡Ã¬ÃÂ§JÂ¹Â¾%Ã¶Â®'QÂ¼Ã³QmÃœ~Ã‰Ã‡Ã¥Â©Â±9]Ã&gt;FÂ¶Â«Cï¿½ï¿½"â€œÃ‡Q7ST|I"â€ `ï¿½Pï¿½5Ã»ÃšÃ†ÃŠuÂ³ÃŒÃ¶Ã—Ã¶cÂ§&lt;:Å¡Ã§Ã¬Ã¿â€¹Ã³Ã¿Wâ€/â€°]â€¦â€ Ã«ÂªÂ¾ÃŸÂ¢ÃvlÃŒf
Ã‹4Ã»[1â€”Â«5ËœoÂ¸â€š	fÂ¦zÂ¼5,â€™PÃ‰:â€°^Â¤kÂ©â€ÃšÃâ€¢Ã•Â©XSÃ¹NÂ´Ë†Ã•aÃsAÃ€Ã°xzg&nbsp;Ã–Â·ÂªÃ¢Å ÃÃ›_zmÂ­Ã“Å“Â«Â®ZÃƒÂ±Ã¨Â±Ã›Â©Â·ÃÂ¦Â¬â€šÂ¦LvO!Ã§Â¡Â§Â¢ÃˆÃdâ€“HÃ’ZVâ€™4u+pÃ {Â­4â‚¬uâ€ Æ’ÃŠÂ¹Ã^U]%@ QÃª|Â¸Ã°&lt;&lt;Âº8ËœÃ¯Ã¥Ãƒï¿½Ã‹mÃ¸3MÃ™T/%F,eÃ©Ã¨1{.Â»Ã‰5Ã“5iâ€ lÂ®Ã©Â¢Å¡ijUlGÂ­â€¦â€¡&lt;{Ã›ÃSVjÃ§â€¦?Ã™Ã©Ã€Å’T&nbsp;Å’Å½ï¿½Ã­Â§OÂ½WÃ°dv^Ã¥Ãœ{+Ãš;Ã†Â³vm1Ã¹=Ã…Â·#Ã«Ë†Ã¨Â²Â´Ã˜Â¬ï¿½ÂµPdÂ£â€šÂ¯7WÃ§Â£1Ãƒ%Ã¤ï¿½Z]~Â¼Ã»Â¦ï¿½ZÂ©%Ã¢)Ã«Ã¹Ãµeï¿½â€¹R;Â¿:Ã°Ã¨@Ã?
&gt;<tÃÃ¥Ã›Â¸ÃÃ£ÃŸï¿½Â«Å’Ã…Ã§*â€™:}Ãï¿½Ã›â€ºg#Â·Ã¨Ã£Â«yhÂ©n^j|5}n>@Ã‡;Ã‡"Ãªâ€Xâ€ºâ€™*ÃŠÂ©Â¤3Ãï¿½Â§Ã§Ã¹Å½Å“Xâ€šqjqÂ¯â€¦</tÃ®Ã¥Ã»Â¸Ã¾Ã£ÃŸï¿½Â«Å“Ã¥Ã§*â€™:}Ã­ï¿½Ã»â€ºg#Â·Ã¨Ã£Â«yhÂ©n^j|5}n></jÃªÃ±Â 6Ã â€”$Å¾.[jwÂ»â€¡â€”Ãºâ€¡></zd*@Ãºuxâ€œ@fÂ¬pÃ³Ã¹Ã¹gÃ«$dÃ¹ÃºÃ¸*$â€™ciËœ;â€šÃ·c3k+â€“xlÅ¾0Â¢Ã·Ã¼zÃ¶></zÃ©psb3â€¢eÃ¯Ã¹ÃºÃ¼Ã¨></z2Ã²â€¡qÂ©â€˜|hÃ±dÃ±></zË†[]1_Ãµ~_Ã ÃªÂºcÅ“!Ã§Ã­9Ã³Ã¼ÂºÃ£Ã½ÃµÂ®Ãª<Ã­Å¡Â¯Â§Â¬â€ 1â€™Å¡Â¥*#Â½=8-Ã¤vâ€˜t4tË†ï¿½Ã¥he></zdÃ¹Ã—Â Â³'f2â‚¬jÂ¥Å¾Å¾oÃºbifqÃºmÃ¾></tÅ“k></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://algmyr.se/upload/e-maxx.pdf">http://algmyr.se/upload/e-maxx.pdf</a></em></p>]]>
            </description>
            <link>http://algmyr.se/upload/e-maxx.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25758670</guid>
            <pubDate>Wed, 13 Jan 2021 05:47:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Drawbridge: What SQL Server on Linux is built on]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25758012">thread link</a>) | @tech234a
<br/>
January 12, 2021 | https://threedots.ovh/blog/2021/01/drawbridge-what-sql-server-on-linux-is-built-on/ | <a href="https://web.archive.org/web/*/https://threedots.ovh/blog/2021/01/drawbridge-what-sql-server-on-linux-is-built-on/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-146">

	

	<div>
		
<p>Interestingly, public materials about the <a href="https://www.microsoft.com/en-us/research/project/drawbridge/">Drawbridge</a> variant used on SQL Server are few and far between.</p>



<p>So <a href="https://threedots.ovh/slides/Drawbridge.pdf">here</a> is a slide deck about me working with Drawbridge from several years back. Iâ€™ve updated parts of it later on, keeping up partially with more recent SQLPAL versions.</p>



<p>Since I made that slide deck, lots of things happenedâ€¦ which will maybe be a subject for a story or two some day.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://threedots.ovh/blog/2021/01/drawbridge-what-sql-server-on-linux-is-built-on/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25758012</guid>
            <pubDate>Wed, 13 Jan 2021 04:12:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Attempting (and Failing) to Escape Google (2020)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25757531">thread link</a>) | @JoeyBananas
<br/>
January 12, 2021 | https://blog.knightsofthelambdacalcul.us/posts/2020-01-28-attempting-and-failing-to-escape-google/ | <a href="https://web.archive.org/web/*/https://blog.knightsofthelambdacalcul.us/posts/2020-01-28-attempting-and-failing-to-escape-google/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><em>Alternative title: Young NB Yells At The Cloud</em></p>
<p><strong>Note that this absolutely isnâ€™t vetted for technical accuracy.</strong>
<strong>Itâ€™s probably also not a very coherent post altogether.</strong>
<strong>I just needed to get this off my chest.</strong></p>
<p>Ever since late 2019, Iâ€™ve been using a Google Pixel 2 as my day-to-day
cellphone. While Iâ€™ve known that it didnâ€™t respect my privacy, per the Google
tradition of being creepy and generally terrifying, I wasnâ€™t <em>entirely</em> aware of
this phenomenon until Google told me when I registered my rooted Nook Tablet
with their services in 2014. The fact that this has been recorded six years
later was enough to set me off on a path to de-Googlify my Google phone.</p>
<figure>
    <img src="https://blog.knightsofthelambdacalcul.us/img/2020-01-28-1.png"> 
</figure>

<p>The first option I found was <a href="https://github.com/dan-v/rattlesnakeos-stack">RattlesnakeOS</a>, which is basically just AOSP built
on EC2. While it seemed like a competent option, and it likely is, I didnâ€™t want
to set up an AWS account and pay $5/mo to build it, as Iâ€™m already paying $10/mo
on my current servers (including the one hosting this website). In addition,
thereâ€™s <a href="https://grapheneos.org/">GrapheneOS</a>, which is the continuation of the ill-fated CopperheadOS
(which effectively died Because Capitalism^TM after CopperheadOS was
commercialized, effectively killing the project altogether). I opted for the
latter as I wouldnâ€™t have to set up my own build infrastructure on AWS, and the
fact that GrapheneOS decidedly had more features directly geared towards a
â€œhardenedâ€ Android experience, regardless of de-Googlification.</p>
<p>This of course, would be wonderfulâ€¦ if not for a critical roadblock.</p>
<h2 id="trying-to-unlock-the-bootloader">Trying to unlock the bootloader</h2>
<p>Hereâ€™s how it went down:
â€œHey, are you able to unlock the boot-loader?â€</p>
<pre><code data-lang="nil"> Î› ~ fastboot flashing get_unlock_ability
(bootloader) get_unlock_ability: 1
OKAY [  0.000s]
</code></pre><p>(read: â€œyeah, sureâ€)</p>
<p>â€œOkay, <em>can</em> you unlock the boot-loader?â€</p>
<pre><code data-lang="nil"> Î» ~ fastboot flashing unlock
FAILED (remote: 'Flashing Unlock is not allowed')
fastboot: error: Command failed
</code></pre><p>(read: â€œNo, because Iâ€™m not able to.")</p>
<p>â€¦so Iâ€™m left with SchrÃ¶dingerâ€™s bootloader (and not the cat from Digital Devil
Saga). Wonderful! Furthermore, Iâ€™m not the only one with this issue; not only do
some carriers lock down your ability to OEM unlock, but Google Play Servicesâ€™
anti-theft protection makes it impossible to do so without an internet
connection, <em>and</em> some refurbished Pixel devices (mine being case-in-point) just
<a href="https://forum.xda-developers.com/pixel-2/help/unlock-bootloader-refurbished-pixel-2-t4017557">donâ€™t cooperate</a>, regardless as to whether or not it <em>should</em> work.</p>
<p>My experience with Google support on this topic basically boiled down to â€œwhy
are you even trying to unlock the bootloader, you idiotâ€, so thatâ€™s out of the
question. Iâ€™d imagine theyâ€™re probably not super happy about me stealing profits
from them by trying to escape their ecosystem.</p>
<p>On a happier note, I came across this person on Freenodeâ€™s channel #grapheneos,
which eased the tension due to them not breaking character:</p>
<pre><code data-lang="nil">       hazel1 â”‚ hi yes okay so.
       hazel1 â”‚ i'm on a pixel 2 non-xl, `fastboot flashing get_unlock_ability` returns 1, but `fastboot flashing unlock` says "Flashing Unlock is not allowed"
       hazel1 â”‚ no idea where to go from here.
TheJollyRoger â”‚ Avast! Did ye enable OEM unlocking in the OS under developer options?
       hazel1 â”‚ i did, yes, that's what `fastboot flashing get_unlock_ability = 1` meant
       hazel1 â”‚ also i appreciate your dedication to character.
       hazel1 â”‚ i'm on linux, if that's important, and i'm running these commands as root.
TheJollyRoger â”‚ Shiver me timbers, I be stuck too. Maybe someone else on this here tub will know.
</code></pre><h2 id="why-this-is-stupid">Why this is stupid</h2>
<p>This is where I turn this tech rant into a political rant, as I have no
self-control.</p>
<p>Per the majority of things that happen in the modern tech industry, this is, of
course, a byproduct of capitalism. The fact that carriers or refurbishers <em>can</em>
lock you out of customizing your own device is in it of itself terrifying, on
the merit that itâ€™s an effective paywall to gain control of the hardware you own
â€” or rather, should own. While Iâ€™m a firm believer in security, and a firm
believer that the majority of people have devices that work well enough for them
(given that theyâ€™re not privacy consciousâ€¦), Iâ€™m also under the impression
that <em>people should have control over the things they own</em>. Capitalism, in the
name of profit, contradicts that scheme.</p>
<p>The fact that your carrier owns your phone, or your phone manufacturer owns your
phone, or Google owns your phone, etc, applies in bounds here. While the
saying is generally â€œif itâ€™s free, youâ€™re the productâ€, the fact that youâ€™re
<strong>still</strong> the product when buying an expensive device speaks volumes about the
technological ecosystems we tend to depend on in 2020. I should be able to
unlock the bootloader without a second thought, but the fact that some
refurbisher owns the rights to do that with the device I should own, and not me,
worries me deeply.</p>
<p>I shouldnâ€™t have to worry about whether some random thing I say is going to be
used against me in some creepy fashion three weeks later in an ad that shows up
on a torrent site when Iâ€™m trying to scrape the web for some obscure piece of
software that nobody uses or some movie that nobody watched.</p>
<p>Iâ€™m well aware that this point has been regurgitated. Iâ€™m well aware this post
doesnâ€™t actually make much sense. But regardless, Iâ€™m scared that Google has
this much control, and Iâ€™m scared that Iâ€™m unable to remove it.</p>
<h2 id="follow-up--2020-01-29--and-a-potential-explanation">Follow-up (2020-01-29) and a potential explanation</h2>
<p>So apparently this is by design, which pretty much confirms my theory. Great.
Per a user on the <a href="https://support.google.com/pixelphone/thread/14920605?hl=en">Pixel Phone Help â€œofficial support forumâ€:</a></p>
<blockquote>
<p>Update: I was able to get a reply from the higher levels in Google and they
simply informed the man handling my case, to his astonishment, that the
refurbishment process is intentionally locking the bootloader and that is the
way they designed it to operate. No options were given to me to remedy the
issue and I was asked if there was anything else I wanted to discuss before
they ended the call.</p>
</blockquote>
<p><strong>This is ridiculous if true.</strong> Not only does it compound on my existing complaint
of bootloader unlocks being behind a paywall, which is already ridiculous, but
it means that even <strong>if</strong> you go through a paywall, any device defect could lead
to a permanently locked bootloader (such as my case). Even more ridiculous is
that Googleâ€™s factory Pixel images require a bootloader unlock to flash, meaning
that this locks users out of potential support options.</p>
<p>Furthermore, if the theory of a refurbished device just being an unlocked
carrier edition phone is true (despite my CID being all zeroes), this is just
<em>negligence</em>.</p>
<p>Even if 99.3\% of users should <em>never</em> have to touch this option, the fact that
Google not only sends refurbished phones, but RMAs of unlockable phones with
this defect is astounding. It attests to the fact that what you own is not truly
yours even moreso than this just being a coincidence â€” itâ€™s an explicit
hostile action towards the privacy-focused by Google. The former glory of Nexus
devices of being â€œthe modderâ€™s phoneâ€ has been changed drastically upon a vision
of a more popular â€œGoogle phoneâ€; again, driven by capitalism.</p>

			</div></div>]]>
            </description>
            <link>https://blog.knightsofthelambdacalcul.us/posts/2020-01-28-attempting-and-failing-to-escape-google/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25757531</guid>
            <pubDate>Wed, 13 Jan 2021 03:08:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signal community: Reminder: Please be nice]]>
            </title>
            <description>
<![CDATA[
Score 573 | Comments 208 (<a href="https://news.ycombinator.com/item?id=25757398">thread link</a>) | @decrypt
<br/>
January 12, 2021 | https://community.signalusers.org/t/reminder-please-be-nice/21217 | <a href="https://web.archive.org/web/*/https://community.signalusers.org/t/reminder-please-be-nice/21217">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2021-01-12T10:20:07Z">
              <time itemprop="dateModified" datetime="2021-01-14T09:19:59Z">
                January 14, 2021,  9:19am
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I have seen a significant uptick of people posting or joining the forums and using belligerent language, making unilateral demands and insulting the process that is open source software. â€œThe fact you havenâ€™t done x is stupidâ€. â€œHow can you write a piece of software that doesnâ€™t do y?â€. â€œItâ€™s 2021 and you still canâ€™t make a program do z, how patheticâ€. Not exact words, but accurate sentiments.</p>
<p>Please donâ€™t do this. Please be nice.</p>
<p>The Signal team, as with any open-source team, are not infinite resources to pour down the drain. Every hour they spend on their job working for Signal, every hour they spend after work helping out, every hour a volunteer puts into forum support and bug investigation, is an hour consumed. To receive insults and vitriol in return is corrosive. It is unfair and it is not in the spirit of giving, of making something and offering it for free.</p>
<p>Youâ€™re receiving this for free, this great software which is made by people who <em>literally care</em> about your privacy. They donâ€™t know you, and they sure donâ€™t know what you talk about on Signal, and yet they put in a lot of effort for this. Not to make wads of cash. Not to sell you to advertisers for your social life to be analysed and abused.</p>
<p>The developer for the Mastodon software Fedilab recently <a href="https://framagit.org/tom79/fedilab/-/issues/498" rel="noopener nofollow ugc">revealed he has been burnt out</a> and Iâ€™ve read elsewhere it was because people were screaming hate at him for a principle he upheld - which was that his software would not censor people screaming hate at each other. Iâ€™m sure you can appreciate the painful irony here. (Please note that his stepping down seems to be for real, the specific reasons Iâ€™ve gave are speculation). I, for one, chose his software specifically because it did not censor, because whilst I believe a service can censor if it chooses, software must remain neutral. (If you wish to discuss this, perhaps letâ€™s do that on another thread).</p>
<p>Donâ€™t be that person. Donâ€™t jump on issues making demands. Donâ€™t pile on forum threads that make some usersâ€™ opinions very clear as it is, and throw your bellicose howling in there too. Donâ€™t insult the developers or their priorities, their choices. They are real people who have a finite capacity for work and for abuse. Add a thumbs up to an issue, add a heart to a forum request. Post only if you can materially add to the discussion, else use a reaction. Post in the spirit and the letter of the <a href="https://community.signalusers.org/guidelines">community guidelines</a>.</p>
<p>Please be nice.</p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">
          <meta itemprop="keywords" content="">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>We as old community members should also be reminded to be nice even when other people are not nice.<br>
I can talk of myself (and think many other here feel the same) that sometimes when a wave of people hits and behave bad I am angry and I should be nicer to other people.</p>
<p>So to us, even when we have people misbehave and maybe even spaming or other stuff we should still try to be serious and nice to each other :)</p>
<p>Have a nice day all!</p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p><a href="https://community.signalusers.org/u/herohtar">@Herohtar</a> Iâ€™d suggest to pin this topic at the top wherever thatâ€™s possible (at least for now)</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/Herohtar"><span itemprop="name">Herohtar</span></a>
            
              pinned globally 
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-12T22:38:12Z">
                January 12, 2021, 10:38pm
              </time>
              <meta itemprop="dateModified" content="2021-01-12T22:38:12Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Iâ€™ve tried pinning it globally for a month, weâ€™ll see how that goes.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/Junkii"><span itemprop="name">Junkii</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T00:51:24Z">
                January 13, 2021, 12:51am
              </time>
              <meta itemprop="dateModified" content="2021-01-13T00:51:24Z">
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        <p>Thank- you. Great reminder. Community is important.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>This post was flagged by the community and is temporarily hidden.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/Meteor0id"><span itemprop="name">Meteor0id</span></a>
            (Meteor0id)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T02:06:08Z">
                January 13, 2021,  2:06am
              </time>
              <meta itemprop="dateModified" content="2021-01-13T02:06:08Z">
          <span itemprop="position">#11</span>
          </span>
        </p></div>
        <p>Taking a risk of offending people is not a means to push your opinion. There is no law against it, but there are community guidelines against it.<br>
Pushing the buttons of other people, you full well know that sooner or later you will push a button that triggers something. Thatâ€™s why we donâ€™t push each others buttons in the first place. you can always make your point without being rude.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/m-graf"><span itemprop="name">m-graf</span></a>
            (Graf)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T04:15:26Z">
                January 13, 2021,  4:15am
              </time>
              <meta itemprop="dateModified" content="2021-01-13T04:15:26Z">
          <span itemprop="position">#12</span>
          </span>
        </p></div>
        <p>Thank you for encouraging this. If yâ€™all need an engineer whoâ€™s dabbling in product, message me. Iâ€™d love to help however I can.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>You being offended by my offensive behaviour is offensive.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/CatEars"><span itemprop="name">CatEars</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T06:11:57Z">
                January 13, 2021,  6:11am
              </time>
              <meta itemprop="dateModified" content="2021-01-13T06:11:57Z">
          <span itemprop="position">#14</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>This is a great example of what not to say.</p>
<p>When a community leader says â€œPlease be nice to each otherâ€, the appropriate response is not â€œcyber bullying is not against the law, so it is okayâ€.</p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          
<p>This is not cool, and you have kind of missed the point entirely.</p>
<p>As the post says, the people behind the non-profit app are spending time out of their days to help everyone get the best out of the app. Of late, with the influx of users requesting (and demanding!) features akin to WhatsApp and the other monstrosities, itâ€™s likely to take its toll.</p>
<p>I appreciate what you are saying, to a degree. I also donâ€™t think your post should be â€˜hiddenâ€™ as itâ€™s been reported by the Cancel-Culture-Community. I firmly believe that if you say something, you own that! As you will expect, people are entitled to reply to that to support or rebut. Thatâ€™s called a conversation. So you shouldnâ€™t be denied that. That said, the Community Guidelines are what they are. And if we disagree, we can chose not to participate.</p>
<p>In summary, the bottom line is being aware of the unkindness towards those trying to help. Berating developers for not having something featured isnâ€™t likely to inspire â€˜willâ€™. Neither is your post. But then you have every right to say what you have said and others have the right to reply to it accordingly. In my opinion, anyway.</p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/Rafi993"><span itemprop="name">Rafi993</span></a>
            (Rafi)
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-13T09:17:16Z">
              <time itemprop="dateModified" datetime="2021-01-13T09:25:39Z">
                January 13, 2021,  9:25am
              </time>
          <span itemprop="position">#16</span>
          </span>
        </p></div>
        <p>Thanks for signal developers for this awesome product that is given for free and other people in the community for being awesome. Being nice to other people in the community might make some ones day little better.</p>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Firstly. Thank you to Signal Devs. I think youâ€™re all doing an amazing job and I will be signing up to donate, even if it is a small amount.</p>
<p>One thing I want to say to the Signal Dev Team. I bet that 99% of your user base appreciate all the hard work you are doing and want to support you in any way they can, myself included, even if just morally. Please donâ€™t let that 1% of intolerant users discourage you from all the great input you have.</p>
<p>I am a great supporter of free speech even if something is â€œoffensiveâ€ but posters must also realize the difference between <strong>â€œsaying something offensiveâ€</strong> and <strong>"hate speech"</strong></p>
<p>Keep up the good work Signal <img src="https://community.signalusers.org/images/emoji/apple/+1.png?v=9" title=":+1:" alt=":+1:"></p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://community.signalusers.org/u/Froiz"><span itemprop="name">Froiz</span></a>
            (Froiz)
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T09:56:56Z">
                January 13, 2021,  9:56am
              </time>
              <meta itemprop="dateModified" content="2021-01-13T09:56:56Z">
          <span itemprop="position">#18</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>You might have the right to say what you want, but free speech isnâ€™t about interrupting a conversation about football yelling about zebras. Free speech is about tolerance, about a productive and focused conversation â€“thatâ€™s why thereâ€™re guidelines, and why guidelines are there to be tolerated.</p>
        </div>

        <meta itemprop="headline" content="Reminder: Please be nice">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          
<p>I was one of the flaggers. I am fine with someone disagreeing with me and refuting or rebutting what Iâ€™ve said. I even tolerate them doing so rudely if their points are salient. (A few hours later I usually come back and +1 their post with begrudging flouncing) If their first post on a forum is flaming someone without addressing a single one of their points in a coherent or sensible way, misrepresenting the letter and spirit of the conversation and acting generally in bad-faith, then I will flag that as itâ€™s not a conversation, itâ€™s just pointless screaming. If they also break the rules then theyâ€™re definitely getting a flag.</p>
<p>Flagging/reporting a post is not cancel culture at all. Flagging a rude, abusive or entirely unconstructive post is doing your bit as a member of the community to weed out bad behaviour and bad actors. I urge everyone to flag anyone posting in bad faith, or breaking the rules. Flag it all and let the pages written by people who detract from the conversation burn.</p>
<p>I did not hunt down the user to find all of their â€¦</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://community.signalusers.org/t/reminder-please-be-nice/21217">https://community.signalusers.org/t/reminder-please-be-nice/21217</a></em></p>]]>
            </description>
            <link>https://community.signalusers.org/t/reminder-please-be-nice/21217</link>
            <guid isPermaLink="false">hacker-news-small-sites-25757398</guid>
            <pubDate>Wed, 13 Jan 2021 02:50:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Abusing C# for loops for job security]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25757298">thread link</a>) | @burnt_toast
<br/>
January 12, 2021 | https://eddieabbondanz.io/post/c-sharp/abusing-for-loops-for-job-security/ | <a href="https://web.archive.org/web/*/https://eddieabbondanz.io/post/c-sharp/abusing-for-loops-for-job-security/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<article>
    <p>Everyone knows good code is easy to maintain, but that also means anyone can maintain it. Thatâ€™s no bueno for the individual developer who wants a little job security. Writing overly complex code that nobody else can maintain let alone read, will ensure your company holds onto you, and will give you more bargaining power come raise time.</p>
<p>Weâ€™re going to work with a simplified example for the rest of this article. Imagine your boss has asked you to write a program that will count from 1 to 9 and print out the number, along with if it is even. A valid output would be as follows:</p>
<div><pre><code data-lang="fallback">1 is even: False
2 is even: True
3 is even: False
4 is even: True
5 is even: False
6 is even: True
7 is even: False
8 is even: True
9 is even: False
</code></pre></div><p>Your boss mightâ€™ve said this would be part of the test suite for the NPM package <a href="https://www.npmjs.com/package/is-even">is-even</a> but you stopped listening about halfway through to figure out how many story points this would be on the next sprint.</p>
<p>Oh well, sounds easy enough right? Any developer worth their salt knows a simple for loop could solve this problem.</p>
<div><pre><code data-lang="fallback">for (int i = 1; i &lt; 10; i++) {
  Console.WriteLine($"{i} is even: {i % 2 == 0}");
}
</code></pre></div><p>But as correct as this solution might be, it doesnâ€™t guarantee us job security which is after all the most important principle of good code.</p>
<p>Time to add a little complexity to ensure no one else will dare touch the code, or try to understand it.</p>

<p>Just so weâ€™re all on the same page, a for loop is comprised of a statement, and a body.</p>
<p>The statement is the portion which sits atop the loop and is within parenthesis. Itâ€™s divided into three parts. Each of which is separated by a semi-colon.</p>
<div><pre><code data-lang="fallback">for(initializer; condition; iterator) {}
</code></pre></div><ol>
<li>initializer: The initializer is the first part, and usually instantiates a variable. Say <code>int i = 0;</code></li>
<li>condition: The condition is the middle portion and is checked each pass of the loop to ensure itâ€™s true. When the condition tests false, the loop is exited.</li>
<li>iterator: The last portion is the iterator, this is typically used to increment the loop variable ex: <code>i++</code>.</li>
</ol>
<p>All 3 parts of the statement are optional, and an empty for loop <code>for (; ;) { }</code> will act like an infinite while loop <code>while(1) { }</code>.</p>
<p>The body is the portion of the loop below the statement. Usually surrounded by curly braces, unless itâ€™s one line (as theyâ€™re optional then). I should also mention that the body is optional too.</p>
<p>Letâ€™s go ahead and start writing our <em>ahem</em> abomination.</p>

<p>First off weâ€™ve got some domain logic operating inside the for loop body. The ternary that detects if the number is even: <code>i % 2 == 0</code>. Letâ€™s go ahead and squeeze it into the for statement because after all thatâ€™s where it belongs.</p>
<p>Weâ€™re going to need an extra variable to hold a <code>isEven</code> flag. But, thereâ€™s a bit of a problem. C# only allows for defining multiple variables of the same type in one line. So while the following is perfectly valid:</p>
<div><pre><code data-lang="fallback">for(int a = 0, b = 0; i &lt; 10; i++) {}
</code></pre></div><p>This is not:</p>
<div><pre><code data-lang="fallback">for(int a = 0, bool isEven = false; i &lt; 10; i++) {}
</code></pre></div><p>But thatâ€™s okay because weâ€™ll slap it in a value tuple and deconstruct it.</p>
<div><pre><code data-lang="fallback">for(var (i, isEven) = (1, false); i &lt; 10; i++) {}
</code></pre></div><p>Now thatâ€™s beautiful.</p>
<p>With the bool instantiated we just need to recalculate it each time in the iterator. Thankfully C# is cool with assigning multiple variables of different types on the same line.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i &lt; 10; i++, isEven = i % 2 == 0) { }
</code></pre></div><p>And now our for loop body has been devoided of any logic. Itâ€™s clean and concise.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i &lt; 10; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div>
<p>Iâ€™d argue <code>i &lt; 10</code> is too readable. Since the condition just needs to be a boolean we can substitute it with anything we please provided it evaluates to <code>true</code> or <code>false</code>. Which basically makes it a no-brainer to swap it out with a switch expression.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 10 =&gt; false, _ =&gt; true }; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div><p>The switch expression will still run our loop from 1 to 9 as intended. Each iteration of the loop itâ€™ll see which case it matches i against. The underscore (or discard) is equivalent to the default case of a switch statement. Therefore while i is not 10 itâ€™ll return true which means keep running the loop, and once it hits 10 the switch will return false saying itâ€™s time to stop.</p>
<p>But we can take this a step further and add erroneous cases. As long as the switch never hits said cases it doesnâ€™t mess with the logic.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 10 =&gt; false, 14 =&gt; true, 69 =&gt; false, 420 =&gt; true,_ =&gt; true }; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div><p>And on top of that they donâ€™t even have to be in order. Also note that erroneous cases can return <code>true</code> or <code>false</code>. This is extra important to add another layer of confusion.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 =&gt; false, 69 =&gt; true, 10 =&gt; false, 420 =&gt; true, _ =&gt; true }; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div><p>For the finishing touch letâ€™s kick it up a notch. A switch case has to be a literal or constant, which removes the usages of methods, and the such but still leaves math on the table.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 * 4 =&gt; false, 69 * 250 / 84 =&gt; true, 10 =&gt; false, 420 =&gt; true, _ =&gt; true }; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div><p>I recommend leaving the math a fifth grade level. We want to give the reader a flash back to their day in grade school learning their multiplication tables.</p>
<p>Oh and did I mention we can add some math and more to the return values? After all they just need to be booleans.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 * 4 =&gt; false, 69 * 250 / 84 =&gt; 8 / 2 == 4, 10 =&gt; false, 420 =&gt; 7 * 6 == 92, _ =&gt; true }; i++, isEven = i % 2 == 0) { 
  Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div>
<p>Weâ€™re not done yet. Our solution is optimal, but everyone knows that a 1 line solution is <strong>always</strong> better. Right now youâ€™re either begging for mercy or thinking thereâ€™s no way itâ€™s possible. Even if we removed the brackets itâ€™s still 2 lines.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 * 4 =&gt; false, 69 * 250 / 84 =&gt; 8 / 2 == 4, 10 =&gt; false, 420 =&gt; 7 * 6 == 92, _ =&gt; true }; i++, isEven = i % 2 == 0)
  Console.WriteLine($"{i} is even: {isEven}");
</code></pre></div><p>But if thereâ€™s a will thereâ€™s a way.</p>
<p>Our next magic trick is going to involve a little inspiration from JavaScript. Have you ever heard of a self invoking function? Itâ€™s basically a function declaration that immediately executes itself.</p>
<div><pre><code data-lang="fallback">(function () {
  console.log("foo");
})();
// prints "foo" to the console
</code></pre></div><p>And while we may be in the .NET world, whoâ€™s to say we canâ€™t borrow a little inspiration?</p>
<div><pre><code data-lang="fallback">new Action(() =&gt; Console.WriteLine("foo"))();
// prints "foo" to the console
</code></pre></div><p>Letâ€™s take our new found knowledge and replace the iterator of our loop. Because after all when all youâ€™ve got is a hammer, everything looks like a nail.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 * 4 =&gt; false, 69 * 250 / 84 =&gt; 8 / 2 == 4, 10 =&gt; false, 420 =&gt; 7 * 6 == 92, _ =&gt; true }; (i, isEven) = new Func&lt;int, (int, bool)&gt;((i) =&gt; (i + 1, !(i % 2 == 0)))(i)) {
    Console.WriteLine($"{i} is even: {isEven}");
}
</code></pre></div><p>This is the little bit we added.</p>
<div><pre><code data-lang="fallback">new Func&lt;int, (int, bool)&gt;((i) =&gt; (i + 1, !(i % 2 == 0)))(i)
</code></pre></div><p>A Func&lt;&gt; is the same thing as an Action except it can have parameters, and a return value. In our instance, the function takes an int parameter, and returns a value tuple containing an int, and bool. Make sure you name your function parameters the same as the variable being passed in.</p>
<p>The real reason why we added in the self invoking function isnâ€™t to make it more confusing. No. We just needed a new location to place our <code>Console.WriteLine()</code> call.</p>
<p>That my friends is how we can achieve our glorious one liner solution.</p>
<div><pre><code data-lang="fallback">for (var (i, isEven) = (1, false); i switch { 14 * 4 =&gt; false, 69 * 250 / 84 =&gt; 8 / 2 == 4, 10 =&gt; false, 420 =&gt; 7 * 6 == 92, _ =&gt; true }; (i, isEven) = new Func&lt;int, (int, bool)&gt;((i) =&gt; { Console.WriteLine($"{i} is even: {isEven}"); return (i + 1, !(i % 2 == 0)); })(i));

</code></pre></div><p>Hereâ€™s the self invoking function for those who somehow have trouble reading our work of art.</p>
<div><pre><code data-lang="fallback">new Func&lt;int, (int, bool)&gt;((i) =&gt; { Console.WriteLine($"{i} is even: {isEven}"); return (i + 1, !(i % 2 == 0); }(i)
</code></pre></div>
<p>We could take things further, but before doing some Iâ€™d recommend assessing the rankings of your co-workers. If you work alongside a lot of junior devs, itâ€™s probably sufficient, but if you work with more senior developers we could always break out a few more tricks. Iâ€™ll leave this as an exercise for the reader.</p>
<p>With everything coded up, and testing good, itâ€™s time to commit your masterpiece and send off some requests for code reviews. Come to think of it itâ€™s probably about time to head on home as this likely took most the day. Go home and enjoy some brews. Because tomorrow when your boss calls you into his office itâ€™s gonna be for that promotion youâ€™ve been wanting.</p>
<p>PS: If anyone is hiring an entry level code obfuscator please let me know.</p>

<p>Thank you Chris Cattano for pointing out I had a logic error in the code bits after switching to the self invoking function. The program was incorrectly reporting which numbers were odd. Turns out even I fell prey to the complexity.</p>

</article>

    </div></div>]]>
            </description>
            <link>https://eddieabbondanz.io/post/c-sharp/abusing-for-loops-for-job-security/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25757298</guid>
            <pubDate>Wed, 13 Jan 2021 02:38:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distributing Mac apps outside the App Store, a quick start guide]]>
            </title>
            <description>
<![CDATA[
Score 175 | Comments 71 (<a href="https://news.ycombinator.com/item?id=25757228">thread link</a>) | @tosh
<br/>
January 12, 2021 | https://rambo.codes/posts/2021-01-08-distributing-mac-apps-outside-the-app-store | <a href="https://web.archive.org/web/*/https://rambo.codes/posts/2021-01-08-distributing-mac-apps-outside-the-app-store">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>The Mac has always been very different from its close relative, iOS, especially when it comes to what a user is or is not allowed to run on their system. Even with the introduction of Apple Silicon, Apple <a href="https://developer.apple.com/videos/play/wwdc2020/10686/?t=1161">has made it very clear</a> that the Mac is still the Mac, and is still <em>hackable</em>, even when running on the new architecture.</p><p>What this means for us developers is that, when targeting the Mac platform, we have choices: we can distribute our apps independently, outside the Mac App Store, through the Mac App Store exclusively, or through both at the same time.</p><p>This article is my brain dump on the subject. It is meant to be a guide on the things that youâ€™ll need to know about when distributing a Mac app outside the App Store, rather than a how-to tutorial. My hope is that having everything listed here will help demystify the process for beginners, and the descriptions of my own process will be useful as starting points.</p><h2>App Store x Direct: pros and cons</h2><p>All of these choices come with their pros and cons, and depending on which type of Mac app youâ€™re making, you might not be able to have it in the Mac App Store to begin with. An example of that is my app <a href="https://v2.airbuddy.app/">AirBuddy</a> which, in order to provide deep integration with Appleâ€™s wireless devices, needs to run a system agent and use some private APIs, which would never be allowed in the App Store. The same goes for many other types of apps which simply wouldnâ€™t work with the restrictions of the Macâ€™s sandbox.</p><p>For those who do have that choice, Iâ€™ve compiled a list of what I believe to be the pros and cons between shipping through the Mac App Store or shipping directly.</p><h3>Mac App Store pros</h3><ul><li>Apple handles the distribution, billing and licensing for you</li><li>The app is easier to find and install for most users</li><li>Potential to get featured by Apple and reach more customers</li><li>Can use features such as Sign in With Apple which are not available for apps distributed outside the Mac App Store</li></ul><h3>Mac App Store cons</h3><ul><li>Have to pay a 15% or 30% cut of all sales to Apple, <a href="https://developer.apple.com/app-store/small-business-program/">depending on how much you make in a year across all apps</a></li><li>Every single update, no matter how minor, has to go through App Review and has the potential of being rejected for arbitrary and random reasons</li><li>Canâ€™t unlock the full potential of macOS because of the strict sandboxing requirements</li><li>Canâ€™t do paid upgrades</li></ul><h3>Direct distribution pros</h3><ul><li>Ship updates whenever you want, no need to wait for them to be reviewed and no fear of random rejections</li><li>Unlock the full potential of macOS with system extensions, daemons, no sandboxing, private API, and more</li><li>Keep a higher percentage of your sales</li><li>Do paid upgrades or other business models which are not allowed in the App Store</li><li>Live without the constant fear that your app will suddenly become a problem for Apple and be threatened with removal from the App Store</li></ul><h3>Direct distribution cons</h3><ul><li>Have to handle licensing, distribution, and updates (itâ€™s not that hard, youâ€™ll see)</li><li>Not as easy to do consumable or non-consumable in-app purchases (no StoreKit)</li><li>Canâ€™t use some Apple services such as Sign in With Apple (others such as CloudKit still work just fine)</li></ul><h2>A note on Catalyst and SwiftUI</h2><p>With the introduction of Catalyst, weâ€™re now seeing many new Mac apps being released, since itâ€™s a lot easier to take an existing iPad app and turn it into a Mac app. Apps ported to macOS through Catalyst are not required to be released in the App Store, even if their counterpart on iOS is.</p><p>Additionally, there is currently no TestFlight for macOS (one of my wishes for 2021), so if youâ€™d like to distribute beta builds of a Catalyst app, youâ€™ll have to do that outside the Mac App Store, and it is not that different from distributing a production app.</p><p>A lot of what Iâ€™m presenting here will also apply for Catalyst apps â€” theyâ€™re Mac apps, after all â€” but some might require additional hacking in order to work around the fact that Apple doesnâ€™t want you to use the entirety of AppKit directly from within a Catalyst app. With a bit of work though, you can make a Catalyst app very Mac-capable, including <a href="https://www.highcaffeinecontent.com/blog/20190607-Beyond-the-Checkbox-with-Catalyst-and-AppKit">support for AppleScript</a> and other features.</p><p>For SwiftUI apps targeting the Mac, there should be no major differences with the distribution process, since you can use all features of the macOS API in a SwiftUI app without requiring a lot of hacking like it does for Catalyst apps.</p><h2>Distribution</h2><p>Distribution of an app involves two parts: actually uploading, storing and serving the app binary and its updates somewhere, and also producing the right package that will work for your users.</p><h3>Hosting</h3><p>The first major step with getting your Mac app in the hands of users without the App Store is to figure out how to distribute its binary. No App Store means that youâ€™ll have to host your appâ€™s binaries and updates somewhere on the internet and provide a link for your users to download it.</p><p>There are several ways you can go about this. For an open-source app, you can use Github releases and even host your appâ€™s update feed in the Github repo. Thatâ€™s how I distribute the <a href="https://github.com/insidegui/WWDC/releases">WWDC app for macOS</a>.</p><p>For my commercial apps, Iâ€™ve been using <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze B2</a> for storage of both the app binaries, delta updates and update feed, and proxying all requests through <a href="https://www.cloudflare.com/">Cloudflare</a> so that I can have a custom domain for the downloads/updates and also add filtering, caching and logic on the server if needed.</p><p>B2 is an extremely affordable provider (I rarely pay over US$1 in a month). Most Mac apps are not that large in size, so even if your app is downloaded a lot, itâ€™s unlikely that youâ€™ll end up having to pay a lot of money for storage/bandwidth. Another popular option is using <a href="https://aws.amazon.com/s3/">Amazon S3</a> buckets, but their control panel gives me nightmares so I prefer to use B2 which is a lot simpler (and less expensive).</p><p>I havenâ€™t automated the publishing step for my app releases as of yet, so to upload a new release I just use <a href="https://panic.com/transmit/">Transmit</a> as a client for my B2 buckets. Speaking of that, before we even get to upload a release to whatever provider weâ€™ve chosen, thereâ€™s a very important step: getting the right file to put out there.</p><h3>Notarization and packaging</h3><p>When exporting an archived app from within Xcode, we get two main options for distribution: App Store Connect and Developer ID. To distribute apps without the App Store, youâ€™re going to be using Developer ID.</p><p>The same developer account you use for distributing apps to the Mac App Store can be used to sign your apps for Developer ID distribution. The certificate itself is different, but Xcode will auto-generate and install one for you during the process of exporting the archive if you havenâ€™t done so yet.</p><p>Since macOS Catalina, all apps distributed directly to users must be notarized by Apple, otherwise they wonâ€™t launch by default. This process uploads your app to Apple, which will then run automated malware checks and â€œstapleâ€ your binary with a special signature that will allow it to run. This is not App Review, itâ€™s an automated check to prevent malware from being distributed through this method, and it is also a way for Apple to flag a single binary for malware, instead of a developerâ€™s entire account, should it become compromised at some point.</p><p>Whether or not you notarize the binary directly from within the Xcode organizer will depend on which packaging method youâ€™ll be using to distribute your app. We canâ€™t just upload a <code>.app</code> directory to a server and let users download that, we have to turn it into a flat file. The simple way to do that is to just zip the app and distribute it as a zip file, but Iâ€™ve found through experience that distributing the app as a DMG file reduces support requests by quite a bit.</p><p>Youâ€™ve probably seen DMGs before when downloading Mac apps. Theyâ€™re disk images that are mounted by macOS when double-clicked in Finder, and they can also provide some artwork instructing the user to drag the app into their Applications folder. This makes it easy for a user to figure out what to do, and it also reduces the chances that a given user will be running your app from their Downloads folder or some other random place like that.</p><p>If youâ€™re going to be distributing your app as a DMG, you should just export it using the Developer ID option in Xcode, without notarization, then notarize the DMG itself. Thereâ€™s no option in Xcode to export a DMG, so youâ€™ll have to use a third-party tool. The one I like to use is <a href="https://github.com/sindresorhus/create-dmg">create-dmg</a>. Iâ€™ve also created and open-sourced <a href="https://github.com/insidegui/dmgdist">dmgdist</a>, a tool that automates the process of creating, uploading and stapling the DMG so that you can get the image ready to be distributed by running a single command.</p><p>To distribute the app as a zip file, the process is simpler: pick the upload option from Xcode after selecting â€œDeveloper IDâ€ and itâ€™ll produce a notarized version of your app, which you can then zip up and distribute directly.</p><h2>App updates</h2><p>Another aspect of the App Store is that it also handles app updates. Whenever we upload a new version to App Store Connect and it gets approved, users receive the update in the App Store. For apps distributed directly, we need to replicate that somehow.</p><p>The best way to do that â€” and the most common â€” is to use <a href="https://sparkle-project.org/">Sparkle</a>. Itâ€™s been around for many many years and is pretty much the official way to distribute updates for Mac apps distributed outside the Mac App Store.</p><p>Sparkle is currently living a double life of sorts. You can either use the â€œlegacyâ€ version of Sparkle or use a more modern â€œv2â€ branch which includes many improvements such as the ability to update sandboxed apps. I still use the â€œlegacyâ€ version because itâ€™s the one that Iâ€™m familiar with and I find that integrating the more modern version is still a bit more complicated. If it ainâ€™t broke, donâ€™t fix it.</p><p>The process of generating an app update usually goes as follows: ensure that with every update you increase the appâ€™s version (of course), produce the package as described before (Sparkle can handle zips, DMGs and installer packages), then use the <code>generate_appcast</code> tool to update the feed. After doing that, upload the deltas, the package for the new version, and the updated AppCast â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rambo.codes/posts/2021-01-08-distributing-mac-apps-outside-the-app-store">https://rambo.codes/posts/2021-01-08-distributing-mac-apps-outside-the-app-store</a></em></p>]]>
            </description>
            <link>https://rambo.codes/posts/2021-01-08-distributing-mac-apps-outside-the-app-store</link>
            <guid isPermaLink="false">hacker-news-small-sites-25757228</guid>
            <pubDate>Wed, 13 Jan 2021 02:28:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reflecting on quitting my job to bootstrap a data science business]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25757028">thread link</a>) | @data4lyfe
<br/>
January 12, 2021 | https://www.interviewquery.com/blog-reflecting-on-bootstrapping-our-data-science-business/ | <a href="https://web.archive.org/web/*/https://www.interviewquery.com/blog-reflecting-on-bootstrapping-our-data-science-business/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>Over one year ago, I decided to quit my data science job and pursue my <a href="https://www.interviewquery.com/">bootstrapped data science side-project</a> full time. It was a hard decision to make, but once I quit and was freed from the corporate nine to five, my life turned to complete bliss.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>That bliss lasted about two weeks before it reverted back to the mean. Honeymoons exist in all facets of life, and bootstrapping a business does not make you impervious to Mondays. Rather every day just became a Thursday. But more on that later...</p><p>I wanted to reflect on this past year plus of bootstrapping and add in some frameworks for why anyone reading this on the fence of quitting their job for their side-hustle should do so. Quitting was one of the hardest decisions that I had to make, but the best one I went through with. It's also a decision that many people should not do. </p><p>But for the small percentage of the people out there, bootstrapping a startup can be an awesome thing. You resign yourself to make trades. </p><p>You trade a steady stream of work and meetings for flexibility in your own time and hours. You trade your current monthly salary now for no income but with future options of money. And you trade office externalities and politics for taking full control of how your career might turn out. </p><p>And ultimately if those trades and values are worth it, then quitting your job can make sense in a very real way. </p><h2 id="how-it-got-started">How it got started</h2><p>On November 1st 2019, I officially quit my job as a data scientist at Nextdoor after working there for exactly a year. I had started a side project called Interview Query with my co-founder, Shane, six months prior. </p><p>Interview Query started out as an email newsletter that each day sent a user a data science interview question, and then the solution the next day if the user upgraded to premium. Over the past year weâ€™ve built the product into a fully-fledged data science course, questions database, and became the de-facto data science interview prep resource.<br></p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-18.png" alt="Interview Query SQL" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-18.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-18.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image-18.png 1364w" sizes="(min-width: 720px) 720px"><figcaption>An example of a SQL interview question we would send out. If you paid for premium, we would send a detailed explanation + solution the next day.&nbsp;</figcaption></figure><p>The first time someone purchased a subscription in June of 2019, my co-founder Shane was convinced it was a stolen credit card. It took five more customers before he truly believed that we were not just a test platform for fraudsters. And we watched in fascination as our newsletter grew from $60/mo in revenue to $3,000/mo in revenue. <br></p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-19.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-19.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-19.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image-19.png 1258w" sizes="(min-width: 720px) 720px"></figure><p>And while $3K/mo was a lot of money, it still wasnâ€™t enough to constitute quitting our jobs. Shane was working part-time on it while also working a software engineering job. And I was also a pretty senior data scientist making <a href="https://www.interviewquery.com/blog-data-science-salaries/">$160K/year</a>. So an apples to apples comparison of going from to $14K/month to $1.5K/month didnâ€™t really seem worth it. </p><p>But direct income &nbsp;isnâ€™t the only comparison you have to make. </p><h2 id="opportunity-cost">Opportunity Cost</h2><p>The hardest jump to make is almost always on money. Money has always had significance to me. I was born and raised as a Chinese American which meant money was and still is an intrinsic part of my identity. The comedian <a href="https://www.youtube.com/watch?v=O_KpLrHCAx0">Ronnie Chieng does a funny bit</a> on what money means to Chinese people.</p><blockquote>â€œDo you know what the direct translation of <em>Happy New Year</em> in Mandarin is? Hope - you - get - rich. <strong>That's not Happy New Year!</strong>"</blockquote><p>To my Chinese parents, they could have added an addendum of - <em>Hope you get rich while working a stable job with low risk.</em> For with all monetary pursuits, the equation that works best within typical Chinese American families is:</p><p><em>Current income * very stable job * years of working = <strong>Best Possible Outcome Ever</strong></em></p><p>Itâ€™s a pretty linear expectation of wealth that requires a normal day to day grind and the advantages of compound interest. But the equation never really took into account tweaking the risk factor. What happens when your current income drops and risk tolerance increases? </p><p>This was the pivotal question that made it difficult for me to quit. But a month before I ended up leaving, I met up with my old startup boss at a <a href="https://techcrunch.com/2016/06/08/monster-snaps-up-tinder-for-jobs-app-jobr/">company where we exited into an acquisition</a>. I told him about the dilemma I was in, and he illustrated a newer way of looking at it. </p><blockquote>If you have a product thatâ€™s making $3K/month and you can grow that into $5K/month in a few months by working full time on it, you have to realize that the <strong>actual added value of growing your business</strong> is turning it from $36K/year in revenue to $60K/year in revenue.<br></blockquote><p>This realization helped me understand the <strong>value investment of full-time work. </strong>Money and finances can be traded for time and investment in a business in ways that you can't when you work a job. Work your ass off for a year at any FAANG type of tech company and your boss will reward you with a 15% raise. Work hard on your business and double your monthly revenue after a year, <strong>well your business also just doubled in value. </strong></p><p>So the opportunity cost of trading a job that made me $160K/year didnâ€™t seem that bad anymore if I could at least <strong>forecast a rate of growth that would be worth my time and investment</strong> as if I was working another full time job. </p><p>And at least on my own business, Iâ€™d enjoy the work. </p><h2 id="flexibility-and-values">Flexibility and Values</h2><p>Everything gets destroyed when you bulldoze a building. The walls, the appliances, even parts of the foundation. And while throwing a wrecking ball into the corporate 9-5 felt gratifying, picking up the pieces to rebuild <strong>exactly how I would work</strong> took just as much careful planning and thought. </p><p>Balancing structure and life is important when bootstrapping. A lifestyle business allows you flexibility in how you would like to run your business. Before I quit my job, I talked to a career coach (ironically employed by the company) who encouraged me to figure out my values - and try to see if quitting allowed me to prioritize them accordingly.</p><p>Eventually I realized it did when I wanted to re-prioritize my activity list from:</p><ol><li><em>Data science job</em></li><li><em>Surfing</em></li><li><em>Side-Hustle (Interview Query)</em></li><li><em>Friends and Relationships</em></li><li><em>Random data projects</em></li></ol><p>to</p><ol><li><em>Surfing</em></li><li><em>Interview Query</em></li><li><em>Friends and Relationships</em></li><li><em>Random data projects</em></li><li><em>Things I donâ€™t want to do but have to do to make money</em></li></ol><p>This clear order of change in my lifestyle made me realize that valuing flexibility was extremely important. It was also something I couldn't attain in my day job.</p><p>For example, when an amazing swell approaches Ocean Beach now, I reschedule meetings, log off, and go surfing. Shane and I both have trust that I'm going to finish the work that needs to get done. But if I were to receive a meeting at my old job that conflicted or I didn't want to attend - there was no way around it. </p><p>As controllers of our own fate, we make it a priority to cut down all the things we donâ€™t want to do, and hire for those roles. If we need vacation time, then we take it.</p><p>But on that note of flexibility comes the other way - how flexible can we be while still working? And how much did we really want to work in general?</p><h2 id="financial-independence-of-sorts">Financial Independence of Sorts</h2><p>In February of 2020, Interview Query was churning out a consistent $9K/month in revenue. We tripled revenue by increasing our distribution and had transitioned from the email newsletter to building a very simple interface for viewing all of the interview questions and solutions. It was also enough to now cover my rent and general expenses.</p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-22.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-22.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-22.png 1000w, https://blog.interviewquery.com/content/images/size/w1600/2021/01/image-22.png 1600w, https://blog.interviewquery.com/content/images/size/w2400/2021/01/image-22.png 2400w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.interviewquery.com/questions/bank-fraud-model">Our current interface - much improved from before</a></figcaption></figure><p>And better yet we still werenâ€™t even working that much. I had taken a long vacation in New Zealand and Shane was still working part time. For a moment, it seemed like it was going to be a 4-hour work week kind of business that we could maintain without adding new product features. </p><p>But realistically, <strong>I had nothing else to work on</strong>. I still hadnâ€™t gotten any of my other side-projects off the ground at the time. Surfing season was slowly ramping down. I looked around at what I was doing and realized that this project was the only one working and growing on its own. So why not invest to work on it?</p><p>One of my favorite ice breakers is asking people what they would do with their life if they received $10,000/month forever. Kind of like a basic<strong> </strong>(wealthy) income. Many people say travel (<em>which seems illogical given the extent of traveling for the rest of your life</em>), others say theyâ€™d make music, volunteer full time, work on making furniture, even working at a boba shop.</p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-20.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-20.png 600w, https://blog.interviewquery.com/content/images/2021/01/image-20.png 800w" sizes="(min-width: 720px) 720px"><figcaption>Our New Zealand van!</figcaption></figure><p>Itâ€™s a thought experiment on the idea of financial independence (FIRE). And at its core, the question is asking about what you would practically do for the rest of your life if money wasnâ€™t an issue. The current existence of career advancement is fueled by a never-ending competition in monetary and title status. But if those were all stripped away, what would be left to complete life satisfaction?</p><p>I realized there was nothing else I wanted to do but build a startup anyway. Of course money will always matter and I inherently want to grow the business bigger and bigger. But what happens when itâ€™s just a question of: <em>what do I do with my time when my expenses are accounted for and I want to be productive?</em></p><p>Many people in the FIRE community seem to be at loss when they finally achieve their financial freedom. They grind at a job for 15 years to finally quit and reach the same elation that I felt for maybe a few weeks or even months to suddenly fall back into a depression of sorts. Their life has no purpose after hitting their number. Which makes sense, because for 15 years <strong>all they knew about was the grind</strong> and <strong>all they thought about was hitting their number</strong>.</p><p>I personally love startups and businesses. Building and running companies requires the experience and skillset to get better at doing so. And so the question posed that helped me understand things was: </p><p><em>Would you rather be completely financially independent at age X and then quit your job to try a startup, or get good at building startups now and be a complete pro at age X instead?</em></p><h2 id="buy-futures-in-yourself">Buy Futures in Yourself</h2><p>The first few weeks after quitting my job I enjoyed the classic freedom and flexibility I had â€¦</p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.interviewquery.com/blog-reflecting-on-bootstrapping-our-data-science-business/">https://www.interviewquery.com/blog-reflecting-on-bootstrapping-our-data-science-business/</a></em></p>]]>
            </description>
            <link>https://www.interviewquery.com/blog-reflecting-on-bootstrapping-our-data-science-business/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25757028</guid>
            <pubDate>Wed, 13 Jan 2021 01:59:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Experience Testing Hardware Using Rust]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25756752">thread link</a>) | @philcrocket
<br/>
January 12, 2021 | https://www.jaredwolff.com/testing-hardware-using-rust/ | <a href="https://web.archive.org/web/*/https://www.jaredwolff.com/testing-hardware-using-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img alt="nRF9160 Feather Test CLI" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/Screen_Shot_2021-01-06_at_10.30.55_AM.png" data-src="images/Screen_Shot_2021-01-06_at_10.30.55_AM.png"></p><p>Rust has grown on me over the past year. I consumed <a href="https://doc.rust-lang.org/stable/book/" target="_blank">The Book</a> while on a plane ride in February of last year <em>right</em> before Covid hit. It has basically been all downhill since. ğŸ˜…</p><p>Since then, iâ€™ve designed a (very alpha) <a href="https://github.com/jaredwolff/eagle-plm" target="_blank">CLI based MRP system</a>, e-commerce backend for <a href="https://www.jaredwolff.com/store/" target="_blank">my static website</a>, CLI based tester and firmware for my nRF9160 Feather test fixture. Yea, all in Rust.</p><p>In this article, iâ€™ll be sharing details about how I developed the CLI and ATSAMD based tester for the <a href="https://www.jaredwolff.com/store/nrf9160-feather/" target="_blank">nRF9160 Feather</a>. By the end this should give you confidence that you can also develop your own firmware and software 100% in Rust!</p><p>Letâ€™s get started.</p><h2 id="sprinkle-some-rust-in-your-firmware">Sprinkle some Rust in your firmware</h2><p><img alt="nRF9160 Feather tester hardware render" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/feather-tester_v14.png" data-src="images/feather-tester_v14.png"></p><p>As mentioned earlier, I designed my tester hardware (pictured above) to use an ATSAMD microcontroller. I had a few reasons why I chose the ATSAMD21:</p><ol><li>It has a <strong>ton</strong> of pins. (ATSAMD21J18A-MFT has 52 to be exact!) This was going to be important in order to connect to and control everything about the DUT (Device under test) in the tester.</li><li>SAMD21 series is also ubiquitous and plentiful elsewhere. It also happens to have great support in the form of the <code>atsamd-hal</code> crate. (<a href="https://github.com/atsamd-rs/atsamd" target="_blank">Link</a>)</li></ol><p>While there is some test firmware on the DUT itself, thereâ€™s a bunch of exciting stuff happening on the tester side. But before we do, letâ€™s chat about the bootloader.</p><h3 id="first-thing-you-should-do">First thing you should do</h3><p>After lots of tinkering I realized that one of the first things you should do on any SAMD based project is get the UF2 bootloader loaded. Since loading it onto my test board <strong>I havenâ€™t used my debug probe.</strong> (Rust makes this extremely easy since it eliminates 80% of the stupid mistakes iâ€™d otherwise make in C)</p><p>Hereâ€™s a quick primer on how I got my board working:</p><ol><li><p>I cloned the UF2 repo:</p><div><pre><code data-lang="bash">git clone https://github.com/microsoft/uf2-samdx1
</code></pre></div></li><li><p>Created a folder called <code>circuitdojo_feather_tester</code> within the <code>boards</code> directory.</p><div><pre><code data-lang="bash">cd uf2-samdx1
mkdir boards/circuitdojo_feather_tester
</code></pre></div></li><li><p>I created <code>board.mk</code> and <code>board_config.h</code></p><div><pre><code data-lang="bash">cd boards/circuitdojo_feather_tester
touch board.mk
touch board_config.h
</code></pre></div></li><li><p>Using the already existing boards in the <code>boards</code> folder, updated the contents of <code>http://board.mk</code> and <code>board_config.h</code>. First <code>board.mk</code> to define what chip I was targeting:</p><div><pre><code data-lang="c">CHIP_FAMILY <span>=</span> samd21
CHIP_VARIANT <span>=</span> SAMD21J18A
</code></pre></div><p>Then <code>board_config.h</code> for all the configuration bits:</p><div><pre><code data-lang="c"><span>#ifndef BOARD_CONFIG_H
</span><span>#define BOARD_CONFIG_H
</span><span></span>
<span>#define VENDOR_NAME "Circuit Dojo"
</span><span>#define PRODUCT_NAME "Feather Tester"
</span><span>#define VOLUME_LABEL "BOOT"
</span><span>#define INDEX_URL "https:</span><span>//www.jaredwolff.com/"
</span><span></span><span>#define BOARD_ID "SAMD21G18A-Feather-v0"
</span><span></span>
<span>#define USB_VID 0x16c0
</span><span>#define USB_PID 0x27dd
</span><span></span>
<span>#define LED_PIN PIN_PA22
</span><span></span>
<span>#endi
</span></code></pre></div></li><li><p>Then using the instructions in the Readme, build the code:</p><div><pre><code data-lang="bash">make BOARD<span>=</span>circuitdojo_feather_tester
</code></pre></div><p>I used the toolchain that comes with NCS v1.4.1. I did have to make a change to the Makefile for everything to compile without borking. Turns out my toolchain was newer than expected. Fortunately adding <code>Wno-deprecated</code> inside the Makefile to the <code>WFLAGS</code> variable fixes this problem.</p></li><li><p>Once complete it will dump your binary/hex files to <code>build/&lt;your board name&gt;</code></p></li><li><p>Then I flashed the bootloader using <code>pyocd</code> like so:</p><div><pre><code data-lang="bash">pyocd flash -t ATSAMD21J18A -f <span>4000000</span> bootloader-circuitdojo_feather_tester-v3.4.0-65-gdf89a1f-dirty.elf --format elf
</code></pre></div><p><code>pyocd</code> is just one of many ways to load firmware. The <a href="https://github.com/atsamd-rs/atsamd" target="_blank"><code>atsamd-rs</code> repo</a> has a ton more options.</p></li></ol><p>Once programmed, hit the reset button twice in quick succession to enable bootloader mode. (I believe this is consistent across all other boards using the UF2 bootloader. Correct me if iâ€™m wrong!) This will cause the bootloader to remain active so you can transfer new firmware.</p><p>On a scale from easy to painful, this was defintiely on the easy side of the spectrum. The folks at Microsoft and contributors like Adafruit made this process <em>really simple.</em></p><h3 id="hey-my-name-is-hal">Hey, my name is HAL</h3><p><img alt="Compiling Rust firmware" src="https://www.jaredwolff.com/testing-hardware-using-rust/images/Screen_Shot_2021-01-10_at_12.37.34_PM.png" data-src="images/Screen_Shot_2021-01-10_at_12.37.34_PM.png"></p><p>As of this writing, every different hardware platform has some type of independently created HAL (hardware abstraction layer). Atmelâ€™s SAMD differs slightly from nRF and that differs from the STM32s of the world. The nice thing is as long as they conform to the higher level APIs, you can use something like the <a href="https://github.com/mvirkkunen/usb-device" target="_blank">USB crate</a> which supports ATSAMD and STM32.</p><p>The fastest way to get started with your own ATSAMD based board to create your own board definition. You can find a <strong>ton</strong> of example in the <code>boards</code> directory. Many off the shelf boards are already supported which makes for one less thing you need to do!</p><p>If you do find yourself with a custom board, you can copy one of the already existing boards that is closest to yours. For instance I used <code>feather_m0</code> as the base for my tester board. I tweaked <code>memory.x</code> and <code>src/lib.rs</code> to my liking.</p><p>Thereâ€™s even a cool way to define pins so you can easily access them later. For for instance if you have a pin named <code>FLASH_EN</code> and itâ€™s mapped to pin port B, pin 8 you can simply reference it later on using the <code>Pins</code> struct like <code>pins.flash_en</code>. (More below..)</p><p>The ATSAMD repo is going through some slow and steady improvements. There are even some nice additions to the <a href="https://github.com/atsamd-rs/atsamd/pull/371" target="_blank">board support</a> area that iâ€™m excited about and testing. While itâ€™s mostly useable, it is rough in some areas (especially related to documentation).</p><p><em>Big shoutout to Bradley who has been spearheading these improvements. If I were to do any of this, iâ€™d be surprised it would be working by then of it.</em> ğŸ˜…</p><h3 id="dont-be-unsafe">Donâ€™t be <code>unsafe</code></h3><p>When I first started developing the test firmware, I notice that I was using <code>unsafe</code> a lot. While in hardwareland using <code>unsafe</code> is not uncommon, from a readability and risk for increased errors perspective, it can get hairy.</p><p>There is a cool solution around this and thatâ€™s where <code>rtic</code> enters the picture. <code>rtic</code> is a new spin on how to write firmware in Rust. Instead of having the familiar <code>main</code> function, it works differently. Hereâ€™s the features from <a href="https://github.com/rtic-rs/cortex-m-rtic" target="_blank">the Github page</a>:</p><ul><li><strong>Tasks</strong>&nbsp;as the unit of concurrency [^1]. Tasks can be&nbsp;<em>event triggered</em>&nbsp;(fired in response to asynchronous stimuli) or spawned by the application on demand.</li><li><strong>Message passing</strong>&nbsp;between tasks. Specifically, messages can be passed to software tasks at spawn time.</li><li><strong>A timer queue</strong>&nbsp;[^2]. Software tasks can be scheduled to run at some time in the future. This feature can be used to implement periodic tasks.</li><li>Support for prioritization of tasks and, thus,&nbsp;<strong>preemptive multitasking</strong>.</li><li><strong>Efficient and data race free memory sharing</strong>&nbsp;through fine grained&nbsp;<em>priority based</em>&nbsp;critical sections [^1].</li><li><strong>Deadlock free execution</strong>&nbsp;guaranteed at compile time. This is an stronger guarantee than whatâ€™s provided by&nbsp;<a href="https://doc.rust-lang.org/std/sync/struct.Mutex.html" target="_blank">the standard&nbsp;<code>Mutex</code>abstraction</a>.</li><li><strong>Minimal scheduling overhead</strong>. The task scheduler has minimal software footprint; the hardware does the bulk of the scheduling.</li><li><strong>Highly efficient memory usage</strong>: All the tasks share a single call stack and thereâ€™s no hard dependency on a dynamic memory allocator.</li><li><strong>All Cortex-M devices are fully supported</strong>.</li><li>This task model is amenable to known WCET (Worst Case Execution Time) analysis and scheduling analysis techniques. (Though we havenâ€™t yet developed Rust friendly tooling for that.)</li></ul><p>While all these features and capabilities seem great, so what gives?</p><p>Well, for starters thereâ€™s no <code>main</code> function. ğŸ™€</p><p>Hereâ€™s what a basic blinky app looks like using some of the new BSP (Board support packages) I mentioned earlier:</p><div><pre><code data-lang="rust"><span>#![deny(unsafe_code)]</span>
<span>#![no_main]</span>
<span>#![no_std]</span>

<span>extern</span> <span>crate</span> circuitdojo_tester <span>as</span> hal;
<span>use</span> panic_halt <span>as</span> _;

<span>use</span> hal::clock::GenericClockController;

<span>use</span> hal::delay::Delay;
<span>use</span> hal::prelude::<span>*</span>;
<span>use</span> hal::Pins;

<span>#[rtic::app(device = hal::pac, peripherals = true)]</span>
<span>const</span> APP: () <span>=</span> {
    <span>struct</span> <span>Resources</span> {
        led_pass: <span>hal</span>::LedPass,
        delay: <span>Delay</span>,
    }
    <span>#[init()]</span>
    <span>fn</span> <span>init</span>(cx: <span>init</span>::Context) -&gt; <span>init</span>::LateResources {
        <span>let</span> <span>mut</span> peripherals <span>=</span> cx.device;
        <span>let</span> <span>mut</span> clocks <span>=</span> GenericClockController::with_external_32kosc(
            peripherals.GCLK,
            <span>&amp;</span><span>mut</span> peripherals.PM,
            <span>&amp;</span><span>mut</span> peripherals.SYSCTRL,
            <span>&amp;</span><span>mut</span> peripherals.NVMCTRL,
        );
        <span>let</span> pins <span>=</span> Pins::new(peripherals.PORT);
        <span>let</span> led_pass <span>=</span> pins.led_pass.into_push_pull_output();

        <span>let</span> delay <span>=</span> Delay::new(cx.core.SYST, <span>&amp;</span><span>mut</span> clocks);

        init::LateResources { led_pass, delay }
    }
    <span>#[idle(resources=[led_pass, delay]</span>)]
    <span>fn</span> <span>idle</span>(cx: <span>idle</span>::Context) -&gt; <span>!</span> {
        <span>loop</span> {
            <span>let</span> _ <span>=</span> cx.resources.led_pass.toggle();
            cx.resources.delay.delay_ms(<span>500</span><span>u32</span>);
        }
    }
};
</code></pre></div><p>The <code>init</code> function is where you would normally put anything youâ€™d normally put in an Arduino <code>setup</code> function. Weâ€™re setting up pins and peripherals. If you want to use them later on though, youâ€™ll need to create an entry in <code>Resources</code>. This is also where you store any type of static mutable data structures that you need elsewhere in your firmware.</p><p>The <code>idle</code> function is similar to the <code>loop</code> function in Arduino. Itâ€™s important though that if you want a loop, you have to implement it. Hereâ€™s the warning in the <a href="https://rtic.rs/0.5/book/en/by-example/app.html?highlight=loop#idle" target="_blank"><code>rtic</code> documentation</a>:</p><blockquote><p>Unlike init, idle will run with interrupts enabled and itâ€™s not allowed to return so it must run forever.</p></blockquote><p>You donâ€™t <strong>need</strong> to use an <code>idle</code> function though. If you donâ€™t, your microcontroller will go to sleep. This is ideal for battery powered applications that need to sleep as much as possible.</p><p>In <code>rtic</code> every work function gets a <code>Context</code> variable. It allow you to access resources that are pertinent to that functionâ€™s purpose. Access is only granted though when you add a resource like below:</p><div><pre><code data-lang="rust"><span>#[idle(resources=[led_pass, delay]</span>)]
</code></pre></div><p>If <code>resources</code> was not set like above, I would not be able to use <code>led_pass</code> or <code>delay</code> within the function!</p><p>While this is a simple example, when you start using static resources like fixed size vectors youâ€™ll be happy you chose to use <code>rtic</code>. The <a href="https://github.com/japaric/heapless" target="_blank"><code>heapless</code></a> crate has been extremely useful for setting size contrained elements that youâ€™d normally be able to use with Rustâ€™s <code>std</code> lib.</p><p>While <code>heapless</code> implements a few very handy types, the <code>Vec</code> and <code>spsc</code> imlementation have been <em>extremely</em> useful. If youâ€™re looking for <code>std</code> conventions for embedded, no need to look further. Get started with <code>heapless</code> with their great documentation <a href="https://japaric.github.io/heapless/heapless/index.html" target="_blank">here</a>.</p><h3 id="the-confusion-ensues">The confusion ensues</h3><p>One thing that may be confusing â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.jaredwolff.com/testing-hardware-using-rust/">https://www.jaredwolff.com/testing-hardware-using-rust/</a></em></p>]]>
            </description>
            <link>https://www.jaredwolff.com/testing-hardware-using-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25756752</guid>
            <pubDate>Wed, 13 Jan 2021 01:26:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open Source Security, Inc. Announces Funding of GCC Front-End for Rust]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25756636">thread link</a>) | @nindalf
<br/>
January 12, 2021 | https://opensrcsec.com/open_source_security_announces_rust_gcc_funding | <a href="https://web.archive.org/web/*/https://opensrcsec.com/open_source_security_announces_rust_gcc_funding">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<article>
  <div>
    
    

<p>Open Source Security, Inc is proud to announce its funding of a full-time and 
public development effort of a <a href="https://gcc.gnu.org/">GCC</a> front-end for <a href="https://www.rust-lang.org/">Rust</a>.
In this blog post, we'll detail the motivations for our involvement and the benefits the public will reap
as a result of this effort.</p>

<h2>A Security Need</h2>

<p>In July of last year, shortly after my virtual <a href="https://www.youtube.com/watch?v=F_Kza6fdkSU">presentation</a> at the Linux Security Summit 
North America entitled <a href="https://grsecurity.net/10_years_of_linux_security.pdf">"10 Years of Linux Security - A Report Card"</a>, we put out a 
<a href="https://twitter.com/spendergrsec/status/1283005179135221761">call</a> to other 
companies interested in funding a GCC front-end for Rust.

The motivation for this arose
from outreach from Nick Desaulniers of Google on <a href="https://lore.kernel.org/lkml/CAKwvOdmuYc8rW_H4aQG4DsJzho=F+djd68fp7mzmBp3-wY--Uw@mail.gmail.com/T/">LKML</a> 
to discuss the possibility of Rust support in the Linux kernel at the upcoming Linux 
Plumbers Conference.  One obvious hurdle mentioned immediately was that the kernel is most 
commonly compiled with GCC, while Rust currently requires rustc/LLVM.  According to reports of
the resulting discussion, kernel 
developers were open to the idea of allowing the kernel to be built with GCC and the Rust 
portions with LLVM, as long as the two were ABI compatible.</p>

<p>Such discussions appeared to sidestep a more fundamental issue however: the security 
viability of a mixed assembly/C/Rust execution environment and how cohesive security 
functionality could be provided while mixing different compilers with different 
implementations/availability of said functionality.  The importance of this topic, though apparent 
on reflection, was formalized just recently in a paper by Michalis Papaevripides and Elias 
Athanasopoulos of the University of Cyprus entitled <a href="https://www.cs.ucy.ac.cy/~eliasathan/papers/tops20.pdf">"Exploiting Mixed 
Binaries"</a>.  In it, they detail how the overall security of an execution 
environment can be reduced by the introduction of code written in Rust or that of another 
language where the same binary-level security is not provided by the compiler.  An excerpt from page 3 of the paper makes the impact clear:</p>

<blockquote>
"We experimentally show that CFI can be bypassed using Rust/Go code for developing clearly 
more straight-forward exploits than current state-of-the-art CFI bypasses [57, 70]. Our 
exploits do not rely on respecting the statically computed Control-flow Graph (CFG) for 
bypassing the enforced CFI and are much simpler to implement. [ ... ]
Again, we stress here that in the absence of the safe part (Rust/Go code), the unsafe part 
cannot be trivially exploited."
</blockquote>

<p>
The same exact scenario above was one of the motivations for Microsoft to recently push for their
<a href="https://msrc-blog.microsoft.com/2020/08/17/control-flow-guard-for-clang-llvm-and-rust/">Control Flow Guard (CFG) support</a>
in Clang and Rust (see the heading of "Rust linked with C/C++").
</p>

<p>As the source of the GCC plugin infrastructure in the Linux kernel and nearly all of the GCC plugins adapted
for inclusion in the upstream Linux kernel, we too immediately spotted the importance of this problem and set out
to ensure both those plugins as well as the security features built-in to GCC itself are able to instrument code
from all languages supported by the Linux kernel with compatible and consistent security properties.</p>

<h2>Funding Process</h2>

<p>So despite not expecting Rust code to land in the Linux kernel in the near future, we reached out to other 
companies as mentioned above to pull together funding for the GCC front-end effort.  None of the leads 
came to fruition, so we as a company decided to bootstrap the process, in the hopes that as progress in the work
is observed, others would join in.  Further, we wanted to offer funding under the same terms we would want as developers, 
across the entire spectrum: stability, salary, benefits, ownership, etc -- not token compensation or bounties 
that treat those working on free/open source software for the public as somehow <em>less</em> than 
developers of proprietary code.  To that end, we decided to fund the first year of a full-time
developer for the work ourselves.</p>

<p>If the failed experiment of the Core Infrastructure Initiative (<a href="https://www.coreinfrastructure.org/">CII</a>) taught us anything, it's that
one finds dedicated and competent developers for some work not among whoever happens to apply, but 
among those already involved in the work as a passion project.  This led us to reach out 
to <a href="https://thephilbert.io/">Philip Herron</a>, who we noticed was <a href="https://github.com/Rust-GCC/gccrs">already working</a> on a GCC front-end for Rust with involvement
of external contributors.  We were extremely pleased to hear Philip was interested in performing the work 
full-time.</p>

<p>News of our outreach eventually extended to the <a href="https://gcc.gnu.org/steering.html">GCC Steering 
Committee</a>, who contacted us to coordinate efforts.  They were very helpful in recommending to us <a href="https://www.embecosm.com/">Embecosm</a>, a UK-based company with deep experience and involvement in 
GCC/LLVM development, among many other areas.  Embecosm graciously offered to contribute to the effort by 
handling Philip's employment and, at no cost to us, providing project management services to help ensure the project's success.  
The location, expertise, and sharing of our vision of doing right by the developer couldn't have been a 
better match.</p>

<h2>Vendor-Neutral, Developed in the Open</h2>

<p>To make sure the project remains vendor-neutral and in the public interest, Open Source Security, Inc. will not own any of the copyright over the code developed through its funding.
All relevant GCC code for the project is GPLv3-licensed and copyright is assigned, as required for upstream GCC inclusion, to the Free Software Foundation (FSF).  The work is being performed in the open, with Philip providing public monthly status updates on GitHub at <a href="https://github.com/Rust-GCC/Reporting">https://github.com/Rust-GCC/Reporting</a>.  Reports are already available for the months of November and December.
</p>

<h2>Get Involved</h2>

<p>For more information about the "how" of this effort, Embecosm has prepared a 
blog at <a href="https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/">https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/</a> that we encourage 
all those interested to read.  To get involved in contributing technical work to the 
effort, Philip can be found on Twitter at <a href="https://twitter.com/the_philbert">@the_philbert</a> or committing to the project's Github repository at <a href="https://github.com/Rust-GCC/gccrs">https://github.com/Rust-GCC/gccrs</a>.  
To discuss additional funding of the work, please reach out to us at 
contact@opensrcsec.com.</p>

<p>Brad Spengler<br>President, Open Source Security, Inc.</p>


  </div><!-- .wrap -->
</article>



</div></div>]]>
            </description>
            <link>https://opensrcsec.com/open_source_security_announces_rust_gcc_funding</link>
            <guid isPermaLink="false">hacker-news-small-sites-25756636</guid>
            <pubDate>Wed, 13 Jan 2021 01:12:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SOLID Machine Learning â€“ The SOLID principles applied to machine learning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25756180">thread link</a>) | @jeromebedard
<br/>
January 12, 2021 | https://www.umaneo.com/post/the-solid-principles-applied-to-machine-learning | <a href="https://web.archive.org/web/*/https://www.umaneo.com/post/the-solid-principles-applied-to-machine-learning">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-w-id="9dfc6912-3fe0-bf1a-3d6f-bb95ffba0a17"><p>The <a href="http://butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod">SOLID principles</a> are Object Oriented Programming (OOP) principles designed for writing Clean Code. According to Robert C. Martinâ€™s â€œ<a href="https://www.amazon.ca/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code</a>â€ book, in order to keep a good software development pace, itâ€™s important for a team to write Clean Code. By implementing ugly code, you can surely come up with decent results quickly, but in the long run, your project will end up crashing into a wall.<br></p><p>It is known that a software dies when itâ€™s no longer possible to understand it or add new features to it in a reasonable period of time. Keeping things clean is crucial to successfully convey any software project. This line of thought applies especially to machine learning projects that involve taking solutions from research or academic projects and implementing them into a production environment.<br></p><p>Research code is known to be dirty. Why? Because itâ€™s often directed towards one goal only: making proofs of concept (POC) as quickly as possible. In this case, thereâ€™s not much incentive to keep oneâ€™s code clean. But if you plan on building a maintainable and scalable product, dirty code will not last long.</p><p>â€<br></p><p><strong>â€œSOLIDâ€, you said? </strong><br></p><p>Here are the SOLID principles, in addition to the Tell Don't Ask (TDA) principle which is also relevant.<br></p><ul role="list"><li>S: Single Responsibility Principle (SRP).<br>	Every class has one responsibility only.</li><li>O: Open-Closed Principle (OCP). <br>	Classes are closed to modification and open to extension.</li><li>L: Liskov Substitution Principle (LSP). <br>	Subtypes should be properly interchangeable with the base type.</li><li>I: Interface Segregation Principle (ISP). <br>	Separate interfaces across your objects rather than implementing only a big one.</li><li>D: Dependency Inversion Principle (DIP). <br>	Depend on abstractions instead of concrete implementations.</li><li>Also: Tell Donâ€™t Ask (TDA). <br> Donâ€™t manage an object from the outside, rather tell it what to do.<br></li></ul><p>Letâ€™s dive deeper into these concepts.</p><p><strong>S: Single Responsibility Principle (SRP)</strong><br></p><p>This principle states that every class has one responsibility only. For instance, if youâ€™re tempted to name a class SomethingAndSomethingElse, itâ€™s a sign that the class should probably be split into two.<br></p><p>Separating classes to give them one responsibility each will ease things when time comes to change code. Not only it will be easier to implement changes, but the different parts will be more reusable and malleable. Itâ€˜s an easy and safe way to code successive prototypes. It also makes the test protocol smoother by allowing to test one thing at a time. So when an error pops up, you can easily pinpoint the problem.<br></p><p>In addition, when several developers work together on the same project, respecting the SRP reduces the chances of two developers stepping on each otherâ€™s toes (modifying the same object at the same time). Imagine that the SomethingAndSomethingElse class has the responsibility of doing two different tasks (the task Something and the task SomethingElse) and that these tasks need to be refactored. If two developers take care of one task each, they will find themselves modifying the same object at the same time, which will probably cause a conflict in the code when the time comes to merge the two solutions in the project. On the other hand, if SomethingAndSomethingElse is split into two classes in respect of SRP, the two developers can work on two different objects thus avoiding the conflict. Handling conflict in code is generally time consuming and very prone to bugs. This phenomenon should be avoided as much as possible.<br></p><p>Letâ€™s apply SRP to a machine learning context. Suppose we have a class named MyNormalizerAndMyModel. This design pattern is most likely to be too rigid, too specific and not malleable. Hereâ€™s what could (and should) be done. First, a class named MyModel would be made. If you think itâ€™s part of the job of MyModel to normalize data, a method named â€˜â€™normalizeâ€™â€™ would be implemented inside of it. If not, another class named MyNormalizer (which would inherit from the same superclass as MyModel) should be implemented. This class would implement the method â€˜â€™normalizeâ€™â€™. Another class named MyPredictor could then be implemented which would ingest data and one or more models to make predictions. MyPredictor would therefore represent what is called a <a href="https://stackoverflow.com/questions/33091376/python-what-is-exactly-sklearn-pipeline-pipeline">Pipeline</a>. It could encapsulate objects of type MyNormalizer, MyModel, etc. Other models could be implemented and used in the pipeline by simply swapping MyModel with another class representing another model. This way, it is easy to reuse some objects in different contexts without having to duplicate code or modify an existing model (also see Open-Closed Principle - OCP).<br></p><p>Using a framework like <a href="https://github.com/Neuraxio/Neuraxle">Neuraxle</a> (which is open source) greatly facilitates the construction of pipelines.<br></p><p>This principle also applies to data loading. Itâ€™s better to give the responsibility of loading data to a class apart from our machine learning algorithm. You would want to pass already loaded and crunched data to a pipeline made of model instances, so that the source of the data and the way to load it (there can be a lot) would not matter for the pipeline. This is also closely related to the Dependency Inversion Principle - DIP.<br></p><p>Another example of properly respecting the SRP in Machine Learning pipelines is to let each step of a pipeline define its own way to initialize itself, to save itself, and to delete itself. This is especially important when implementing deep learning for instance. In that case, some of the pipeline steps might use GPUs as others might use CPUs (<a href="https://www.neuraxle.org/stable/scikit-learn_problems_solutions.html#problem-initializing-the-pipeline-and-deallocating-resources">Such resource management is handled by Neuraxleâ€™s pipelines</a>). Itâ€™s therefore important for each step to be able to manage itself. Managing the specifics of each step of a pipeline from outside the pipeline would break not only the SRP but also the Tell Donâ€™t Ask (TDA) principle.<br></p><div><p>Now, suppose that youâ€™re trying to find the best hyperparameters for the different models of a pipeline (this process is called <a href="https://www.neuraxio.com/en/blog/automated-machine-learning-automl/2020/02/22/your-data-scientisti-is-a-mom-(seriously).html">Automated Machine Learning - AutoML</a>). In such a case, it is crucial for each object inside a pipeline to be able to manage its own loading, saving, initialization and deletion in order to effectively allocate and deallocate resources. It would be a nightmare to manage that process outside the model or worst, outside the pipeline. A major default of scikit-learn is its inability to manage this process. Itâ€™s also important to respect the SRP and OCP when serializing and saving machine learning pipelines containing code that canâ€™t be saved natively by the python interpreter (e.g.: <a href="https://stackoverflow.com/questions/41567895/will-scikit-learn-utilize-gpu">here</a> is how Neuraxle solves the issue of using GPU resources, making use of proper abstractions that respects SRP and OCP).</p></div><p><strong>O: Open-Closed Principle (OCP)</strong><br></p><p>This principle states that a class should be closed to modification, and open to extension. Which means that if a new functionality has to be added to a project, you shouldnâ€™t have to go back to existing classes to edit stuff that is already working.<br></p><p>The most obvious example of not respecting this principle is to include long if/else statement chains (switch cases) in a single piece of code. Having too many if/else encapsulated in such a blob is called â€œpoor manâ€™s polymorphismâ€. Polymorphism is the ability for an object to inherit from others and take other forms in order to provide different functionalities. Rather than coding a lengthy if/else block at a particular point in a pipeline, itâ€™s advised to implement an abstract class that is open to modifications (to polymorphism, in this case). All the different cases supposedly handled by an if/else block can then be incarnated by as many different sub-classes as needed, all inheriting from the previously built abstract class. Such a sub-class can then override certain methods of its parent abstract super-class as you see fit. By doing that, thereâ€™s no need to modify the abstract super-class or any of its sub-classes when implementing new functionalities. You would just implement a new sub-class inheriting from the same super-class, and inject it where you see fit (see the section about the DIP for more information about injection).<br></p><p>Letâ€™s illustrate that principle with the example of loading data as a step of a machine learning pipeline. Itâ€™s certainly not a good idea to simply implement a function called â€œload_dataâ€ which would have a huge if/else block to cover all the possible cases like fetching data from a local repository, an external repository, an SQL table, a CSV file, an S3 bucket, etc. It would be better to implement an abstract class called DataLoader (or DataRepository). It would then be possible to implement as many concrete subclasses as needed to mimic the different ways of loading data. When the time comes to add a data loading step in a pipeline, the right sub-class (inheriting from DataLoader) suiting the context could be picked, so the pipeline doesnâ€™t go through a useless chain of if/else statements to decide how to load data.<br></p><p>Here is another example to take this concept a step further. In compliance with OCP, it is possible to implement an effective strategy for choosing the right hyperparameters in a machine learning pipeline. Imagine that at a certain stage of a pipeline, you have to choose between the preprocessing method A and the preprocessing method B. The most tempting strategy (without considering OCP) would undoubtedly be to implement a full pipeline using method A and to implement another full pipeline using method B. We would then switch from one pipeline to another directly in the main file using a for loop. At first glance, this sounds like a good idea and it is the approach that most programmers and/or researchers in data science would recommend. The problem is that as new methods and models are to be implemented and tested, the main file must be modified to include a bigger and bigger polymorphism. This approach will therefore most likely generate a poor man's polymorphism directly in the main file. The main file is actually the worst place to implement this kind of polymorphism because it is outside the source project and its code is not â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.umaneo.com/post/the-solid-principles-applied-to-machine-learning">https://www.umaneo.com/post/the-solid-principles-applied-to-machine-learning</a></em></p>]]>
            </description>
            <link>https://www.umaneo.com/post/the-solid-principles-applied-to-machine-learning</link>
            <guid isPermaLink="false">hacker-news-small-sites-25756180</guid>
            <pubDate>Wed, 13 Jan 2021 00:25:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Becoming physically immune to brute-force attacks]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25755909">thread link</a>) | @Seirdy
<br/>
January 12, 2021 | https://seirdy.one/2021/01/12/password-strength.html | <a href="https://web.archive.org/web/*/https://seirdy.one/2021/01/12/password-strength.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="mainEntityOfPage">
		
		<section itemprop="articlebody">
			<p>This is a tale of the intersection between thermal physics, cosmology, and a tiny
amount of computer science to answer a seemingly innocuous question: â€œHow strong does
a password need to be for it to be physically impossible to brute-force, ever?â€</p>
<p><em>Note: this post contains equations. Since none of the equations were long or
complex, I decided to just write them out in code blocks instead of using images or
MathML the way Wikipedia does.</em></p>
<h2 id="introduction">Introduction</h2>
<p>I realize that advice on password strength can get outdated. As supercomputers grow
more powerful, password strength recommendations need to be updated to resist
stronger brute-force attacks. Passwords that are strong today might be weak in the
future. <strong>How long should a password be in order for it to be physically impossible
to brute-force, ever?</strong></p>
<p>This question might not be especially practical, but itâ€™s fun to analyze and offers
interesting perspective regarding sane upper-limits on password strength.</p>
<h2 id="asking-the-right-question">Asking the right question</h2>
<p>Instead of predicting what tomorrowâ€™s computers may be able to do, letâ€™s examine the
<em>biggest possible brute-force attack</em> that the laws of physics can allow.</p>
<p>A supercomputer is probably faster than your phone; however, given enough time, both
are capable of doing the same calculations. If time isnâ€™t the bottleneck, energy
usage is. More efficient computers can flip more bits with a finite amount of energy.</p>
<p>In other words, energy efficiency and energy availability are the two fundamental
bottlenecks of computing. What happens when a computer with the highest theoretical
energy efficiency is limited only by the mass-energy of <em>the entire <a href="https://en.wikipedia.org/wiki/Observable_universe">observable
universe</a>?</em></p>
<p>Letâ€™s call this absolute unit of an energy-efficient computer the MOAC (Mother of All
Computers). For all classical computers that are made of matter, do work to compute,
and are bound by the conservation of energy, the MOAC represents a finite yet
unreachable limit of computational power. And yes, it can play Solitaire with
<em>amazing</em> framerates.</p>
<p>How strong should your password be for it to be safe from a brute-force attack by the
MOAC?</p>
<h3 id="quantifying-password-strength">Quantifying password strength.</h3>
<p>A good measure of password strength is <strong>entropy bits.</strong> The entropy bits in a
password is a base-2 logarithm of the number of guesses required to brute-force
it.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>
<p>A brute-force attack that executes 2<sup>n</sup> guesses is certain to crack a
password with <em>n</em> entropy bits, and has a one-in-two chance of cracking a password
with <em>n</em>+1 entropy bits.</p>
<p>For scale, <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES-256</a>
encryption is currently the industry standard for strong symmetric encryption. As the
name suggests, its keys have 256 bits of entropy; if your password has more than 256
entropy bits, then the AES-256 encryption algorithm is the bottleneck.</p>
<p>To calculate the entropy of a password, I recommend using a tool such as
<a href="https://www.usenix.org/conference/usenixsecurity16/technical-sessions/presentation/wheeler">zxcvbn</a>
or <a href="https://keepassxc.org/">KeePassXC</a>.</p>
<h2 id="the-problem">The Problem</h2>
<p>Define a function <code>P</code>. <code>P</code> determines the probability that MOAC will correctly guess
a password with <code>n</code> bits of entropy after using <code>e</code> energy:</p>
<pre><code>P(n, e)
</code></pre>
<p>If <code>P(n, e) â‰¥ 1</code>, the MOAC will certainly guess your password before running out of
energy. The lower <code>P(n, e)</code> is, the less likely it is for the MOAC to guess your
password.</p>
<h2 id="caveats-and-estimates">Caveats and estimates</h2>
<p>I donâ€™t have a strong physics background.</p>
<p>When estimating, weâ€™ll prefer higher estimates that increase the odds of it guessing
a password; after all, the point of this exercise is to establish an <em>upper</em> limit on
password strength. Weâ€™ll also simplify: for instance, the MOAC will not waste any
heat, and the only way it can guess a password is through brute-forcing. Focusing on
too many details would defeat the point of this thought experiment.</p>
<p>I wonâ€™t address any particular encryption algorithms; this is just a pure and simple
brute-force attack given precomputed password entropy. Furthermore, quantum computers
can use <a href="https://en.wikipedia.org/wiki/Grover%27s_algorithm">Groverâ€™s algorithm</a> for
an exponential speed-up; to account for quantum computers using Groverâ€™s algorithm,
calculate <code>P(n/2, e)</code> instead.</p>
<p>Obviously, Iâ€™m not taking into account future mathematical advances; my crystal ball
broke after I asked it if humanity would ever develop the technology to make anime
real.</p>
<p>Finally, thereâ€™s always a non-zero probability of a brute-force attack guessing a
password with a given entropy. Literal â€œimmunityâ€ is impossible. Lowering this
probability to statistical insignificance renders our password practically immune to
brute-force attacks.</p>
<h2 id="computation">Computation</h2>
<p>How much energy does MOAC use per guess during a brute-force attack? In the context
of this thought experiment, this number should be unrealistically low. I settled on
<a href="https://en.wikipedia.org/wiki/KT_(energy)"><code>kT</code></a>. <code>k</code> represents the <a href="https://en.wikipedia.org/wiki/Boltzmann_constant">Boltzmann
Constant</a> (about
1.381Ã—10<sup>-23</sup> J/K) and <code>T</code> represents the temperature of the system. Their
product corresponds to the amount of heat required to create a 1 nat increase in a
systemâ€™s entropy.</p>
<p>A more involved approach to picking a good value might utilize the <a href="https://en.wikipedia.org/wiki/Planck%E2%80%93Einstein_relation">Plank-Einstein
relation</a>.</p>
<p>Itâ€™s also probably a better idea to make this value an estimate for flipping a single
bit, and to estimate the average number of bit-flips it takes to make a single
password guess. If that bothers you, pick a number <code>b</code> you believe to be a good
estimate for a bit-flip-count and calculate <code>P(n-b, e)</code> instead of <code>P(n, e)</code>.</p>
<p>Whatâ€™s the temperature of the system? Three pieces of information help us find out:</p>
<ol>
<li>The MOAC is located somewhere in the observable universe</li>
<li>The MOAC will be consuming the entire observable universe</li>
<li>The universe is mostly empty</li>
</ol>
<p>A good value for <code>T</code> would be the average temperature of the entire observable
universe. The universe is mostly empty; <code>T</code> is around the temperature of cosmic
background radiation in space. The lowest reasonable estimate for this temperature is
2.7 degrees Kelvin.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> A lower temperature means less energy usage, less energy
usage allows more computations, and more computations raises the upper limit on
password strength.</p>
<p>Every guess, the MOAC expends <code>kT</code> energy. Let <code>E</code> = the total amount of energy the
MOAC can use; let <code>B</code> = the maximum number of guesses the MOAC can execute before
running out of energy.</p>
<pre><code>B = E/(kT)
</code></pre>
<p>Now, given the maximum number of passwords the MOAC can guess <code>B</code> and the bits of
entropy in our password <code>n</code>, we have an equation for the probability that the MOAC
will guess our password:</p>
<pre><code>P(n,B) = B/2â¿
</code></pre>
<p>Plug in our expression for <code>B</code>:</p>
<pre><code>P(n,E) = E/(2â¿kT)
</code></pre>
<h3 id="calculating-the-mass-energy-of-the-observable-universe">Calculating the mass-energy of the observable universe</h3>
<p>The MOAC can use the entire mass-energy of the observable universe.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> Simply stuff
the observable universe into the attached 100% efficient furnace, turn on the burner,
and generate power for the computer. You might need to ask a friend for help.</p>
<p>Just how much energy is that? The mass-energy equivalence formula is quite simple:</p>
<pre><code>E = mcÂ²
</code></pre>
<p>Weâ€™re trying to find <code>E</code> and we know <code>c</code>, the speed of light, is 299,792,458 m/s.
That leaves <code>m</code>. Whatâ€™s the mass of the observable universe?</p>
<h3 id="calculating-the-critical-density-of-the-observable-universe">Calculating the critical density of the observable universe</h3>
<p>Critical density is smallest average density of matter required to <em>almost</em> slow the
expansion of the universe to a stop. Any more dense, and expansion will stop; any
less, and expansion will never stop.</p>
<p>Let <code>D</code> = critical density of the observable universe and <code>V</code> = volume of the
observable universe. Mass is the product of density and volume:</p>
<pre><code>m = DV
</code></pre>
<p>We can derive the value of D by solving for it in the <a href="https://en.wikipedia.org/wiki/Friedmann_equations">Friedman
equations</a>:</p>
<pre><code>D = 3Hâ‚’Â²/(8Ï€G)
</code></pre>
<p>Where <code>G</code> is the <a href="https://en.wikipedia.org/wiki/Gravitational_constant">Gravitational
Constant</a> and <code>Hâ‚’</code> is the
<a href="https://en.wikipedia.org/wiki/Hubble%27s_law">Hubble Constant</a>. <code>Hâ‚’d</code> is the rate of
expansion at proper distance <code>d</code>.</p>
<p>Letâ€™s assume the observable universe is a sphere, expanding at the speed of light
ever since the Big Bang.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> The volume <code>V</code> of our spherical universe when given its
radius <code>r</code> is:</p>
<pre><code>V = (4/3)Ï€rÂ³
</code></pre>
<p>To find the radius of the observable universe <code>r</code>, we can use the age of the universe
<code>t</code>:</p>
<pre><code>r = ct
</code></pre>
<p>Hubbleâ€™s Law estimates the age of the universe to be around <code>1/Hâ‚’</code></p>
<h3 id="solving-for-e">Solving for E</h3>
<p>Letâ€™s plug in all the derived values into our original equation for the mass of the
observable universe <code>m</code>:</p>
<pre><code>m = DV
</code></pre>
<p>Remember when I opened the article by saying that none of the equations would be long
or complex?</p>
<p>I lied.</p>
<pre><code>m = (3Hâ‚’Â²/(8Ï€G))(4/3)Ï€(ct)Â³
m = cÂ³/(2GHâ‚’)

E = mcÂ²
E = câµ/(2GHâ‚’)
</code></pre>
<p>Yay, we found an expression for the total energy the MOAC can consume!</p>
<h2 id="final-solution">Final Solution</h2>
<pre><code>P(n,E) = E/(2â¿kT)
P(n, câµ/(2GHâ‚’)) = câµ/(2GHâ‚’*2â¿kT)
</code></pre>
<p>Letâ€™s copy and paste the values for those constants from Wikipedia and Wolfram Alpha:</p>
<ul>
<li>c = 299,792,458 m/s</li>
<li>G â‰ˆ 6.67408Ã—10<sup>-11</sup> mÂ³/kg/sÂ²</li>
<li>Hâ‚’ â‰ˆ 2.2Ã—10<sup>-18</sup> Hz (uncertain; look up the Hubble tension)</li>
<li>T â‰ˆ 2.7 K</li>
<li>k â‰ˆ 1.3806503Ã—10<sup>-23</sup> J/K</li>
</ul>
<p>Plugging those in and simplifying:</p>
<p><strong>P(n) â‰ˆ 2.21Ã—10<sup>92</sup> / 2<sup>n</sup></strong></p>
<p>Here are some sample outputs:</p>
<ul>
<li>
<p>P(256) â‰ˆ 1.9Ã—10<sup>15</sup> (password certainly cracked after burning 1.9
quadrillionth of the mass-energy of the observable universe).</p>
</li>
<li>
<p>P(306.76) â‰ˆ 1 (password certainly cracked after burning the mass-energy of the
observable universe)</p>
</li>
<li>
<p>P(310) â‰ˆ 0.11 (about one in ten)</p>
</li>
<li>
<p>P(326.6) â‰ˆ 1.1Ã—10<sup>-6</sup> (about one in a million)</p>
</li>
</ul>
<p>If your threat model is a bit smaller, simulate putting a smaller object into the
MOACâ€™s furnace. For example, the Earth has a mass of 5.972Ã—10Â²â´ kg; this gives the
MOAC a one-in-ten-trillion chance of cracking a password with 256 entropy bits and a
100% chance of cracking a 213-bit password.</p>
<h2 id="sample-unbreakable-passwords">Sample unbreakable passwords</h2>
<p>According to KeePassXCâ€™s password generator, each of the following passwords has an
entropy between 330 and 340 bits.</p>
<p>Using the extended-ASCII character set:</p>
<pre><code>Â¦=Â¦FVÃµ)Ã‡b^Ã„wÃÂ¡=,Â°mÂ°B9Â®;&gt;3[Â°r:tÂ®Ãš"$3CGÂ¨/Bq-y\;
</code></pre>
<p>Using the characters on a standard US QWERTY layout:</p>
<pre><code>%nUzL2XR&amp;Tz5hJfp2tiYBoBBX^vWo3`g6H#JSC#N6gWm#hVdD~ziD$YHW
</code></pre>
<p>Using only alphanumeric characters:</p>
<pre><code>tp8D69CGWE5t5a9si5XNsw32CKyCafh8qGrKWLwE6KJHpGyUtcJDWpgRz5mFNx
</code></pre>
<p>An excerpt from a religious text with a trailing space:</p>
<pre><code>I'd just like to interject for a moment. What youâ€™re referring to as Linux, is in fact, GNU/Linux, 
</code></pre>
<p>Donâ€™t use actual excerpts from pre-existing works as your password.</p>
<h2 id="conclusiontldr">Conclusion/TLDR</h2>
<p>Question: How much entropy should a password have to ensure it will <em>never</em> be
vulnerable to a brute-force attack? Can an impossibly efficient computerâ€“the
MOACâ€“crack your password?</p>
<p>Answer: limited â€¦</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://seirdy.one/2021/01/12/password-strength.html">https://seirdy.one/2021/01/12/password-strength.html</a></em></p>]]>
            </description>
            <link>https://seirdy.one/2021/01/12/password-strength.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25755909</guid>
            <pubDate>Wed, 13 Jan 2021 00:03:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Insurrection as a Service]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25755579">thread link</a>) | @jger15
<br/>
January 12, 2021 | https://www.piratewires.com/p/insurrection-as-a-service | <a href="https://web.archive.org/web/*/https://www.piratewires.com/p/insurrection-as-a-service">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Ctrl + Alt + Delete the President.</strong> Last week, <a href="https://www.nytimes.com/live/2021/01/07/us/capitol-building-trump">after a violent riot at the capital</a>, Twitter and Facebook <a href="https://www.nytimes.com/2021/01/09/technology/trump-twitter-ban.html">erased the President of the United States from social media</a>. He was further banned from, or severely restricted from communicating by: <a href="https://www.axios.com/platforms-social-media-ban-restrict-trump-d9e44f3c-8366-4ba9-a8a1-7f3114f920f1.html">Reddit, Twitch, Shopify (??), Snapchat, TikTok, and Stripe.</a> Within 24 hours, amidst a chorus of â€œitâ€™s just the free market, losers, if you donâ€™t like it build your own app,â€ Google and Apple worked in concert to remove Parler, the â€œfree speechâ€ alternative social media app popular on the political right, from their app stores. Amazon followed the move with the equivalent of tech industry napalm, taking the extraordinary step of suspending Parler from using Amazon Web Services, effectively shutting the company down. The loosely-framed charge against both Trump and Parler was incitement of violence and insurrection. There were no trials. There was no evidence presented for any crime formally argued. This is law in the age of corporate oligarchy. It is purposefully ambiguous, it is uncompromising, and when you run afoul of the powers that be, there is no recourse. Not even for the â€œmost powerful man in the world.â€ </p><p>This of course begs the question: who is actually in charge right now? </p><p>Today, the internet is a life-critical layer of our world. In some sense, what happens on the internet â€”&nbsp;from payments to communication â€”&nbsp;is all that matters, as without it few things of significance in the â€œreal worldâ€ are possible. You would be forgiven for not remembering that Trump was impeached last year, as it meant practically nothing. But erasing him from the internet? If this sticks, and Trump can no longer communicate or raise funds at scale, a small handful of unelected tech executives just ended a presidentâ€™s political career. In theory, they can legally do this to anyone, which means they are effectively the most powerful people alive. <a href="https://www.washingtonpost.com/opinions/how-should-we-address-the-growing-power-shift-from-washington-to-silicon-valley/2018/11/19/1470eb9a-e9e4-11e8-bbdb-72fdbf9d4fed_story.html">Silicon Valley is our nationâ€™s shadow capital, argues Katherine Boyle,</a> and welcome to the shadow state. It is not a democracy. </p><p>The immediate arguments both in favor and against Trumpâ€™s censorship were equally ridiculous. From the camp against, we were told the technology industryâ€™s actions were comparable to Chinese-style censorship. This is not even close to true. The Chinese Communist Party executes political dissidents, and while our nation is not immune to such governance, and many Americans do perversely seem to want CCP-style censorship, such dystopia has not yet descended on our country. As Dan Primack correctly notes: &nbsp;</p><p>From the camp in favor of vanishing Trump â€” people who have warned us of some ambiguous corporate overreach for decades, which I suppose in hindsight only ever meant â€œmoney people badâ€ â€”&nbsp;we were told this is simply what a free market looks like. Free speech cannot be constitutionally guaranteed where private corporations are concerned, as it infringes on the owner of a companyâ€™s rights to free association and speech (again, an interesting point of concern from the â€œbusiness is always wrongâ€ corner of the commentariat). If you donâ€™t want to be vanished, weâ€™re told, build your own sprawling, multibillion-dollar, duopolistic communications platform. But legally speaking, this is in the first place not straightforward. </p><p>In <em>Pruneyard Shopping Center Vs. Robins</em>, <a href="https://www.mtsu.edu/first-amendment/article/583/pruneyard-shopping-center-v-robins#:~:text=Robins%20(1980)&amp;text=In%20PruneYard%20Shopping%20Center%20v,afoul%20of%20the%20Fifth%20Amendment">the Supreme Court ruled California could protect political protesters from being evicted from private property.</a> This case built on a body of law that flourished throughout the 60s and 70s, and included such cases as <em>Marsh v. Alabama</em> (1946), <em>Lloyd Corporation Ltd. v. Tanner</em> (1972), and <em>Amalgamated Food Employees Union Local 590 v. Logan Valley Plaza</em> (1968). We havenâ€™t even touched the <em>Sherman Antitrust Act</em>, or the much-discussed <em>Section 230</em>, and this is already complicated. In any case, the notion one should simply build a competitor platform if he isnâ€™t happy with his Twitter ban has never really been serious, as everyone who works in tech is well aware it isnâ€™t possible to build such a platform absent ideological submission to the shadow state. This was plainly evidenced by Parlerâ€™s fate last week. </p><p>If a natural right canâ€™t meaningfully be exercised, can it really be said to exist? David Sacks has been absolute fire on this question all week:</p><p>The American Bill of Rights was written at the time of the printing press, a machine that anyone could buy, the street corner, on which anyone could sell a paper, a system of public roads and walks for distribution, and thousands of small businesses that comprised the â€œmarket,â€ any one of which, absolutely, could refuse to sell a paper, but no one or two (or five in obvious collusion) were capable of censoring a single voice out of public existence. Today, the internet is the gateway through which almost our entire democracy is conducted. It is where we go to learn about the world, almost without exception. It is our contemporary printing press, our street corner, our public roads and walks, and our market, all combined and dominated by a small handful of giants from the same class, of roughly the same politics, and from mostly the same region. </p><p>Should this tiny, unelected group of people so-empowered be allowed to vanish any voice from public, for any reason? Is this truly in keeping with the spirit of the Constitution? Separate from the legal questions: is this the kind of country you want to live in? </p><p>We are in danger, here â€”&nbsp;clearly, come on,<em> you know that this is true</em> â€”&nbsp;of something very dark. </p><p><strong>Ok but insurrection though.</strong> I recently spoke with a tech executive who supported Trumpâ€™s ban from public existence. He asked what theoretical action I would think worthy of such incredible censorship from the industry. A coup? Insurrection? What about incitement of violence? Herein lies techâ€™s only reasonable defense of itself, and the most popular argument in favor of Trumpâ€™s purge from the internet: he was hurting people. Isnâ€™t that enough to act? The problem is the evidence here is ambiguous, and the argument lends itself to valid accusations of hypocrisy, as all of these things have been perpetrated by other political leaders, both at home and abroad, and often in a manner not ambiguous at all. The position is also somewhat naively oblivious of a political leaderâ€™s role, which is â€”&nbsp;I hate to break it to you, folks â€”&nbsp;violence. This is not to say violence is okay. This is not to excuse any of Trumpâ€™s deeply unhelpful ambiguity. This is only to say the logical consequence of the technology industryâ€™s extraordinary actions last week must necessarily be massive, global censorship. Letâ€™s set aside for a moment the question of whether or not censorship of this kind would be healthy. Is it really what our shadow state is planning? Because if dramatically accelerated speech crackdowns arenâ€™t on the menu, techâ€™s actions sum only to narrow, draconian, partisan censorship. </p><p>It should go without saying Iâ€™m against activist political violence, and think everyone who participated in last weekâ€™s riot at the capitol should be tried and, when convicted, jailed. But Iâ€™ve said it anyway, repeatedly, both specifically in the context of the capitol riot and consistently, in every other context weâ€™ve seen such behavior, throughout most of our batshit crazy 2020. I have felt compelled to speak about this issue as often as I have because what took place in Washington last week was not an outlier event. </p><p>The capitol riot was the latest in a string of unacceptably violent outbursts for which media personalities, activists, and politicians have spent the last year apologizing, and in many cases, by the standards to which we are now holding Trump â€”&nbsp;â€œdog whistles,â€ contributions to a â€œculture of hateâ€ or â€œviolenceâ€ â€”&nbsp;actively encouraging. Some cases have been less ambiguous. â€œNon-violence is an important tool for protests,â€ wrote Slate magazine this summer amidst a kind of chaos we have not seen on American streets for over half a century, <a href="https://twitter.com/Slate/status/1268415955937513473?s=20">â€œbut so is violence.â€</a> People were killed at the capitol, and property, both public and private, was destroyed. A federal building was invaded. All of these things are insane, and wrong, and intolerable. They are also illegal. Again: <em>these people should be tried, and when convicted sent to prison</em>. But have we so soon forgotten <a href="https://www.wsj.com/articles/goodbye-summer-of-love-11607898398">our summer of love in the CHAZ</a>? Or do we simply believe the MAGA Viking more likely to succeed in â€œinsurrectionâ€ than the unhinged Stalinist baristas in Seattle explicitly calling for revolution? </p><p>Iâ€™ve been told repeatedly this week, while raising questions about a scale of censorship we have literally never before seen, that at least one of the capitol rioters was planning an assassination. This is chilling. If proven true, it will unfortunately also not be unique. Have we already memory-holed the Republican Congressional baseball shooting, where Congressman Steve Scalise and three of his colleagues were nearly killed by an unhinged Bernie Sanders stan? And how do we think this would-be assassin was radicalized? Carrier pigeon? No, the internet appears to be catalyzing significant political radicalization. The problem is deep, and broad. It is also by the way something <a href="https://www.piratewires.com/p/tether-part-i">I write about not infrequently.</a> Iâ€™m glad the industry is finally concerned with the phenomenon, but is Jack Dorsey really prepared to own the issue? Because Iâ€™m sorry, but the problem isnâ€™t Trumpâ€™s Twitter account, no matter how easy that would make this â€”&nbsp;in a sense, the problem appears to be Twitter. Iâ€™m pretty sure itâ€™s driving us insane. </p><p>Gather round, friends. Have I told you yet about the time (this Christmas Eve) when a wildly-popular Marxist podcaster expressed a desire to see me dead in direct response to a piece I wrote about his fiancÃ©â€™s boss, my San Francisco district supervisor? What about the time, immediately after, when his followers asked for my address, presumably to kill me? Do yourself a favor and keyword search the word â€œguillotine,â€ or the hammer and sickle emoji (which, while weâ€™re on the topic, why the fuck does that exist?). Hereâ€™s â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.piratewires.com/p/insurrection-as-a-service">https://www.piratewires.com/p/insurrection-as-a-service</a></em></p>]]>
            </description>
            <link>https://www.piratewires.com/p/insurrection-as-a-service</link>
            <guid isPermaLink="false">hacker-news-small-sites-25755579</guid>
            <pubDate>Tue, 12 Jan 2021 23:32:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The First Zig Website Redesign]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25755361">thread link</a>) | @todsacerdoti
<br/>
January 12, 2021 | https://kristoff.it/blog/first-zig-website-redesign/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/first-zig-website-redesign/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Up until the publication of this post, if you went to the front page of <a href="https://ziglang.org/" target="_blank" rel="nofollow noopener noreferrer">https://ziglang.org</a>, you would be greeted with a multi-page explanation about how Zig improves over the systems programming toolchains that today we take for granted.</p>
<p>If you have done enough of that kind of programming, youâ€™ll immediately see how Zig is tackling relevant problems, but if you donâ€™t have such experience, then the front page could very easily look like a never-ending list of things you donâ€™t have an opinion about.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/bb7a5/old-zig-website.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/f5e3c/old-zig-website.webp 100w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/f2fbe/old-zig-website.webp 200w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/e227a/old-zig-website.webp 400w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/965c5/old-zig-website.webp 600w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/0cbce/old-zig-website.webp 800w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/823bd/old-zig-website.webp 2016w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/c0399/old-zig-website.png 100w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/9ec3c/old-zig-website.png 200w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/c7805/old-zig-website.png 400w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/34e8a/old-zig-website.png 600w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/8ff1e/old-zig-website.png 800w,
https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/bb7a5/old-zig-website.png 2016w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/534b1bc1bc6f429e8bf3182eb5230216/c7805/old-zig-website.png" alt="The original homepage" title="The original homepage featured a pretty big ToC">
      </picture>
  </a>
    </span>
    <figcaption>The original homepage featured a pretty big ToC</figcaption>
  </figure>
<p>When the Zig project started, its audience was almost exclusively people with a lot of relevant experience, since those would be the only ones able to evaluate the promise and limits of the newborn language.</p>
<p>Today weâ€™re at a point where Zig is becoming increasingly compelling for people coming from all layers of the stack. People have written <a href="https://github.com/Hejsil/mecha" target="_blank" rel="nofollow noopener noreferrer">parser combinators</a>, <a href="https://github.com/prime31/zig-gamekit" target="_blank" rel="nofollow noopener noreferrer">2d game rendering libraries</a>, <a href="https://www.mattkeeter.com/projects/futureproof/" target="_blank" rel="nofollow noopener noreferrer">a live editor for GPU shaders</a>, and much more. </p>
<figure>
    <span>
      <a href="https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/6ff5e/seascape-futureproof.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/f5e3c/seascape-futureproof.webp 100w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/f2fbe/seascape-futureproof.webp 200w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/e227a/seascape-futureproof.webp 400w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/965c5/seascape-futureproof.webp 600w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/0cbce/seascape-futureproof.webp 800w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/6bc95/seascape-futureproof.webp 1200w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/c0399/seascape-futureproof.png 100w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/9ec3c/seascape-futureproof.png 200w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/c7805/seascape-futureproof.png 400w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/34e8a/seascape-futureproof.png 600w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/8ff1e/seascape-futureproof.png 800w,
https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/6ff5e/seascape-futureproof.png 1200w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/95e0e4b253811f7ad42c415ffd4d13bb/c7805/seascape-futureproof.png" alt="Futureproof, a live editor for GPU shaders" title="Futureproof, a live editor for GPU shaders">
      </picture>
  </a>
    </span>
    <figcaption>Futureproof, a live editor for GPU shaders</figcaption>
  </figure>
<p>Donâ€™t get me wrong: all these projects have been developed by early adopters who wanted to try <a href="https://www.merriam-webster.com/dictionary/buggy" target="_blank" rel="nofollow noopener noreferrer">a new and exciting</a> ecosystem. Zig is not yet stable, and wonâ€™t be for a while, but weâ€™re getting there, and in the meantime Zig is already delivering big time on at least one promise: <strong>making it possible to learn more about programming without having to first buy into vast amounts of accidental complexity</strong>.</p>
<p>This redesign had two main goals and, as always, a few practical constraints. When it comes to constraints, itâ€™s mostly my web design and project management skills, and the scope that can be addressed in no more than a couple of months, since we needed a new website <em>now</em> and not one year from now. Letâ€™s now take a look at the goals.</p>
<h2 id="a-friendlier-first-impression"><a href="#a-friendlier-first-impression" aria-label="a friendlier first impression permalink"></a>A friendlier first impression</h2>
<p>The first goal addressed stems directly from the introduction of this blog post: we wanted to make the website more appealing to people that are looking at Zig as an opportunity to learn more about programming. For this reason, the lengthy breakdown has been moved to the Learn section and, in its place, we now have three short paragraphs that highlight some of Zigâ€™s major features, followed by a code sample that gives you a first taste of the syntax. </p>
<p>Above the main introduction we still have the same slogan as before:</p>
<blockquote>
<p>Zig is a general-purpose programming language and toolchain for maintaining <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.</p>
</blockquote>
<p>Andrew did an outstanding job at formulating it and I believe itâ€™s the one bit of the entire website that should probably never change.</p>
<p>Next to the slogan thereâ€™s a new cluster of buttons. This is where I wanted to come up with an interesting compromise: we follow the popular trend of putting a big call to action for new users, but we also use that block of space to create a single hotspot where regulars can get access to critical information. </p>
<figure>
    <span>
      <a href="https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/af83c/button-cluster.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/f5e3c/button-cluster.webp 100w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/f2fbe/button-cluster.webp 200w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/e227a/button-cluster.webp 400w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/a9736/button-cluster.webp 552w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/c0399/button-cluster.png 100w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/9ec3c/button-cluster.png 200w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/c7805/button-cluster.png 400w,
https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/af83c/button-cluster.png 552w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/14fc54ffd1ae3940e6e81fe6b1532e61/c7805/button-cluster.png" alt="The new button cluster" title="The new button cluster">
      </picture>
  </a>
    </span>
    <figcaption>The new button cluster</figcaption>
  </figure>
<p>My hope is for the big button to make new visitors become aware of that block and that, over time, checking there for docs and new releases just becomes muscle memory. That said, I know weâ€™ll have to tweak the design once the auto-generated docs for the standard library become good enough for the front page.</p>
<p>Below everything I just described, we introduce the community and the Zig Software Foundation. The Zig project has grown to a point where governance matters and we want to show weâ€™re doing everything the right way, up to the point of having formed a <a href="https://ziglang.org/zsf/" target="_blank" rel="nofollow noopener noreferrer">nonprofit organization with a clear scope and mission statement</a>.</p>
<h2 id="internationalization"><a href="#internationalization" aria-label="internationalization permalink"></a>Internationalization</h2>
<p>The second goal of this redesign was to open the door to hosting multiple translations of the website. Having an i18n-enabled website is beneficial for multiple reasons: it helps with the first goal (i.e. help a wider range of programmers get started with Zig), itâ€™s a good way of getting more use out of the informative materials weâ€™ll progressively add to the website, and itâ€™s also well aligned with the mission of the Zig Software Foundation. Lastly, Iâ€™m personally invested in the idea that we must ensure we donâ€™t leave it to third parties to be the sole owners of all content available in a given language, as weâ€™ve already seen bad actors exploit their position to implement a form of cultural arbitrage.</p>
<p>Weâ€™re well aware that keeping up with translations to multiple languages can quickly become an effort black hole. For this reason, Iâ€™ve tried to make sure the tooling would help in making the process as smooth as possible (more on that later), and Iâ€™ve also made sure to clarify in the design how translations are community-provided and thus best-effort.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/c6a5f/translation-link.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/f5e3c/translation-link.webp 100w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/f2fbe/translation-link.webp 200w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/e227a/translation-link.webp 400w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/965c5/translation-link.webp 600w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/0cbce/translation-link.webp 800w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/ffd30/translation-link.webp 1628w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/c0399/translation-link.png 100w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/9ec3c/translation-link.png 200w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/c7805/translation-link.png 400w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/34e8a/translation-link.png 600w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/8ff1e/translation-link.png 800w,
https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/c6a5f/translation-link.png 1628w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/d2f40c1cc91417d645fdd614ae7aa9f5/c7805/translation-link.png" alt="Link present on all translated pages" title="Link present on all translated pages">
      </picture>
  </a>
    </span>
    <figcaption>Link present on all translated pages</figcaption>
  </figure>
<p>At the moment of publication, the website can only offer <a href="https://ziglang.org/translations/" target="_blank" rel="nofollow noopener noreferrer">an Italian translation</a> written by me. Italian was chosen out of necessity (i.e. itâ€™s the only other language I speak), but it served the purpose of making me try out the ergonomics of producing a translation, and it can also act as documentation for others.</p>
<p>Finally, I should point out that there are some parts of the website we donâ€™t plan to translate, like the News section, for example. This is another choice made out of necessity: we want to restrict translations to content with a long shelf life to reduce the amount of effort, but I donâ€™t exclude that one day we might have enough resources to get rid of this compromise.</p>
<h2 id="implementation-details"><a href="#implementation-details" aria-label="implementation details permalink"></a>Implementation details</h2>
<p>The new website is statically generated by <a href="https://gohugo.io/" target="_blank" rel="nofollow noopener noreferrer">Hugo</a>. I also considered <a href="https://www.getzola.org/" target="_blank" rel="nofollow noopener noreferrer">Zola</a>, but its i18n support is not complete yet. The website lists a number of Zig code snippets, with relative output. Andrew originally implemented a program to produce release notes and language reference. That program takes in code samples, applies syntax highlighting, runs the code, and reports the output as HTML (it even retains colors from the terminal). I took the original code and packaged it as a tool with a more general interface. I called it <a href="https://github.com/kristoff-it/zig-doctest" target="_blank" rel="nofollow noopener noreferrer">zig-doctest</a> and it can be easily integrated with all kinds of static content generation tools.</p>
<p>Now a successful CI build of the <a href="https://github.com/ziglang/zig" target="_blank" rel="nofollow noopener noreferrer">ziglang/zig</a> repository triggers a build of the website, allowing us to catch outdated code examples much more easily. This addresses concerns raised in the past by people that would occasionally stumble upon a broken code sample.</p>
<p>Testing all code snippets is not instant as some tests include running the executable and capturing its output, so I made sure to integrate with Hugoâ€™s caching system. I also noticed that Hugo processes tags sequentially within the same page, so I also <a href="https://github.com/kristoff-it/hugo" target="_blank" rel="nofollow noopener noreferrer">added to it</a> a warmup routine that makes sure to parallelize the testing when loading the development server the first time.</p>
<p>The result is a very enjoyable development experience that only depends on Zig and two additional executables (Hugo and doctest) to be able to develop the Zig website locally, resulting in an acceptable experience for potential contributors. </p>
<h2 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink"></a>Conclusion</h2>
<p>I hope this post explains adequately the intent of this work and the practical limits of its execution. Thereâ€™s still more work to do, but this seems a reasonable milestone for a first release, so Iâ€™m looking forward to working alongside the community to improve and add translations to the website.</p>
<p>For the next iteration Iâ€™ll work on improving accessibility, but first I have to focus on <a href="https://fosdem.org/2021/schedule/track/zig_programming_language/" target="_blank" rel="nofollow noopener noreferrer">FOSDEM, since we have a Zig dev room</a> and I have a bunch of duties to attend to. </p>
<p>When I first discovered Zig, I saw it as a way for me to learn more about all the aspects of programming I missed when working with interpreted and/or garbage-collected languages. Turns out I got to learn that <a href="https://ziglang.org/news/announcing-zig-software-foundation/" target="_blank" rel="nofollow noopener noreferrer">and much more</a>, and I canâ€™t tell you how excited I am about whatâ€™s to come. Despite everything, 2020 was a great year for Zig, and I fully expect 2021 to be even better.</p></div></div>]]>
            </description>
            <link>https://kristoff.it/blog/first-zig-website-redesign/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25755361</guid>
            <pubDate>Tue, 12 Jan 2021 23:13:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Command-line Tools can be 235x Faster than your Hadoop Cluster]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25754592">thread link</a>) | @coliveira
<br/>
January 12, 2021 | https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html?1 | <a href="https://web.archive.org/web/*/https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html?1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3 id="introduction"><a href="#introduction">Introduction</a></h3><p>As I was browsing the web and catching up on some sites I visit periodically, I found a cool article from <a href="https://tomhayden3.com/2013/12/27/chess-mr-job/">Tom Hayden</a> about using <a href="https://aws.amazon.com/elasticmapreduce/">Amazon Elastic Map Reduce</a> (EMR) and <a href="https://github.com/Yelp/mrjob">mrjob</a> in order to compute some statistics on win/loss ratios for chess games he downloaded from the <a href="https://www.top-5000.nl/pgn.htm">millionbase archive</a>, and generally have fun with EMR. Since the data volume was only about 1.75GB containing around 2 million chess games, I was skeptical of using Hadoop for the task, but I can understand his goal of learning and having fun with mrjob and EMR. Since the problem is basically just to look at the result lines of each file and aggregate the different results, it seems ideally suited to stream processing with shell commands. I tried this out, and for the same amount of data I was able to use my laptop to get the results in about 12 seconds (processing speed of about 270MB/sec), while the Hadoop processing took about 26 minutes (processing speed of about 1.14MB/sec).</p><p>After reporting that the time required to process the data with 7 c1.medium machine in the cluster took 26 minutes, Tom remarks</p><blockquote><p>This is probably better than it would take to run serially on my machine but probably not as good as if I did some kind of clever multi-threaded application locally.</p></blockquote><p>This is absolutely correct, although even serial processing may beat 26 minutes. Although Tom was doing the project for fun, often people use Hadoop and other so-called <em>Big Data (tm)</em> tools for real-world processing and analysis jobs that can be done faster with simpler tools and different techniques.</p><p>One especially under-used approach for data processing is using standard shell tools and commands. The benefits of this approach can be massive, since creating a data pipeline out of shell commands means that all the processing steps can be done in parallel. This is basically like having your own <a href="https://storm-project.net/">Storm</a> cluster on your local machine. Even the concepts of Spouts, Bolts, and Sinks transfer to shell pipes and the commands between them. You can pretty easily construct a stream processing pipeline with basic commands that will have extremely good performance compared to many modern <em>Big Data (tm)</em> tools.</p><p>An additional point is the batch versus streaming analysis approach. Tom mentions in the beginning of the piece that after loading 10000 games and doing the analysis locally, that he gets a bit short on memory. This is because all game data is loaded into RAM for the analysis. However, considering the problem for a bit, it can be easily solved with streaming analysis that requires basically no memory at all. The resulting stream processing pipeline we will create will be over 235 times faster than the Hadoop implementation and use virtually no memory.</p><h3 id="learn-about-the-data"><a href="#learn-about-the-data">Learn about the data</a></h3><p>The first step in the pipeline is to get the data out of the PGN files. Since I had no idea what kind of format this was, I checked it out on <a href="https://en.wikipedia.org/wiki/Portable_Game_Notation">Wikipedia</a>.</p><pre><code>[Event "F/S Return Match"]
[Site "Belgrade, Serbia Yugoslavia|JUG"]
[Date "1992.11.04"]
[Round "29"]
[White "Fischer, Robert J."]
[Black "Spassky, Boris V."]
[Result "1/2-1/2"]
(moves from the game follow...)
</code></pre><p>We are only interested in the results of the game, which only have 3 real outcomes. The 1-0 case means that white won, the 0-1 case means that black won, and the 1/2-1/2 case means the game was a draw. There is also a <em>-</em> case meaning the game is ongoing or cannot be scored, but we ignore that for our purposes.</p><h3 id="acquire-sample-data"><a href="#acquire-sample-data">Acquire sample data</a></h3><p>The first thing to do is get a lot of game data. This proved more difficult than I thought it would be, but after some looking around online I found a git repository on GitHub from <a href="https://github.com/rozim/ChessData">rozim</a> that had plenty of games. I used this to compile a set of 3.46GB of data, which is about twice what Tom used in his test. The next step is to get all that data into our pipeline.</p><h3 id="build-a-processing-pipeline"><a href="#build-a-processing-pipeline">Build a processing pipeline</a></h3><p><em>If you are following along and timing your processing, donâ€™t forget to clear your OS page cache as otherwise you wonâ€™t get valid processing times.</em></p><p>Shell commands are great for data processing pipelines because you get parallelism for free. For proof, try a simple example in your terminal.</p><div><pre><code data-lang="bash">sleep <span>3</span> | <span>echo</span> <span>"Hello world."</span>
</code></pre></div><p>Intuitively it may seem that the above will sleep for 3 seconds and then print <code>Hello world</code> but in fact both steps are done at the same time. This basic fact is what can offer such great speedups for simple non-IO-bound processing systems capable of running on a single machine.</p><p>Before starting the analysis pipeline, it is good to get a reference for how fast it could be and for this we can simply dump the data to <code>/dev/null</code>.</p><p>In this case, it takes about 13 seconds to go through the 3.46GB, which is about 272MB/sec. This would be a kind of upper-bound on how quickly data could be processed on this system due to IO constraints.</p><p>Now we can start on the analysis pipeline, the first step of which is using <code>cat</code> to generate the stream of data.</p><p>Since only the result lines in the files are interesting, we can simply scan through all the data files, and pick out the lines containing â€˜Resultsâ€™ with <code>grep</code>.</p><div><pre><code data-lang="bash">cat *.pgn | grep <span>"Result"</span>
</code></pre></div><p>This will give us only the <code>Result</code> lines from the files. Now if we want, we can simply use the <code>sort</code> and <code>uniq</code> commands in order to get a list of all the unique items in the file along with their counts.</p><div><pre><code data-lang="bash">cat *.pgn | grep <span>"Result"</span> | sort | uniq -c
</code></pre></div><p>This is a very straightforward analysis pipeline, and gives us the results in about 70 seconds. While we can certainly do better, assuming linear scaling this would have taken the Hadoop cluster approximately 52 minutes to process.</p><p>In order to reduce the speed further, we can take out the <code>sort | uniq</code> steps from the pipeline, and replace them with AWK, which is a wonderful tool/language for event-based data processing.</p><div><pre><code data-lang="bash">cat *.pgn | grep <span>"Result"</span> | awk <span>'{ split($0, a, "-"); res = substr(a[1], length(a[1]), 1); if (res == 1) white++; if (res == 0) black++; if (res == 2) draw++;} END { print white+black+draw, white, black, draw }'</span>
</code></pre></div><p>This will take each result record, split it on the hyphen, and take the character immediately to the left, which will be a 0 in the case of a win for black, a 1 in the case of a win for white, or a 2 in the case of a draw. Note that <code>$0</code> is a built-in variable that represents the entire record.</p><p>This reduces the running time to approximately 65 seconds, and since weâ€™re processing twice as much data this is a speedup of around 47 times.</p><p>So even at this point we already have a speedup of around 47 with a naive local solution. Additionally, the memory usage is effectively zero since the only data stored is the actual counts, and incrementing 3 integers is almost free in memory space terms. However, looking at <code>htop</code> while this is running shows that <code>grep</code> is currently the bottleneck with full usage of a single CPU core.</p><h3 id="parallelize-the-bottlenecks"><a href="#parallelize-the-bottlenecks">Parallelize the bottlenecks</a></h3><p>This problem of unused cores can be fixed with the wonderful <code>xargs</code> command, which will allow us to parallelize the <code>grep</code>. Since <code>xargs</code> expects input in a certain way, it is safer and easier to use <code>find</code> with the <code>-print0</code> argument in order to make sure that each file name being passed to <code>xargs</code> is null-terminated. The corresponding <code>-0</code> tells <code>xargs</code> to expected null-terminated input. Additionally, the <code>-n</code> how many inputs to give each process and the <code>-P</code> indicates the number of processes to run in parallel. Also important to be aware of is that such a parallel pipeline doesnâ€™t guarantee delivery order, but this isnâ€™t a problem if you are used to dealing with distributed processing systems. The <code>-F</code> for <code>grep</code> indicates that we are only matching on fixed strings and not doing any fancy regex, and can offer a small speedup, which I did not notice in my testing.</p><div><pre><code data-lang="bash">find . -type f -name <span>'*.pgn'</span> -print0 | xargs -0 -n1 -P4 grep -F <span>"Result"</span> | gawk <span>'{ split($0, a, "-"); res = substr(a[1], length(a[1]), 1); if (res == 1) white++; if (res == 0) black++; if (res == 2) draw++;} END { print NR, white, black, draw }'</span>
</code></pre></div><p>This results in a run time of about 38 seconds, which is an additional 40% or so reduction in processing time from parallelizing the <code>grep</code> step in our pipeline. This gets us up to approximately 77 times faster than the Hadoop implementation.</p><p>Although we have improved the performance dramatically by parallelizing the <code>grep</code> step in our pipeline, we can actually remove this entirely by having <code>awk</code> filter the input records (lines in this case) and only operate on those containing the string â€œResultâ€.</p><div><pre><code data-lang="bash">find . -type f -name <span>'*.pgn'</span> -print0 | xargs -0 -n1 -P4 awk <span>'/Result/ { split($0, a, "-"); res = substr(a[1], length(a[1]), 1); if (res == 1) white++; if (res == 0) black++; if (res == 2) draw++;} END { print white+black+draw, white, black, draw }'</span>
</code></pre></div><p>You may think that would be the correct solution, but this will output the results of <strong>each</strong> file individually, when we want to aggregate them all together. The resulting correct implementation is conceptually very similar to what the MapReduce implementation would be.</p><div><pre><code data-lang="bash">find . -type f -name <span>'*.pgn'</span> -print0 | xargs -0 -n4 -P4 awk <span>'/Result/ { split($0, a, "-"); res = substr(a[1], length(a[1]), 1); if (res == 1) white++; if (res == 0) black++; if (res == 2) draw++ } END { print white+black+draw, white, black, draw }'</span> | awk <span>'{games += $1; white += $2; black += $3; draw += $4; } END { print games, white, black, draw }'</span>
</code></pre></div><p>By adding the second awk step at the end, we obtain the aggregated game information as desired.</p><p>This further improves the speed dramatically, achieving a running time of about 18 seconds, or about 174 times faster than the Hadoop implementation.</p><p>However, we can make it a bit faster still by using <a href="https://invisible-island.net/mawk/mawk.html">mawk</a>, which is often a drop-in replacement for <code>gawk</code> and can offer better performance.</p><div><pre><code data-lang="bash">find . -type f -name <span>'*.pgn'</span> -print0 | xargs -0 -n4 -P4 mawk <span>'/Result/ { split($0, a, "-"); res = substr(a[1], length(a[1]), 1); if (res == 1) white++; if (res == 0) black++; if (res == 2) draw++ } END { print white+black+draw, white, black, draw }'</span> | mawk <span>'{games += $1; white += $2; black += $3; draw += $4; } END { print games, white, black, draw }'</span>
</code></pre></div><p>This <code>find | â€¦</code></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html?1">https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html?1</a></em></p>]]>
            </description>
            <link>https://adamdrake.com/command-line-tools-can-be-235x-faster-than-your-hadoop-cluster.html?1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25754592</guid>
            <pubDate>Tue, 12 Jan 2021 22:07:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn X by Doing Y â€“ A project-based learning search engine]]>
            </title>
            <description>
<![CDATA[
Score 276 | Comments 38 (<a href="https://news.ycombinator.com/item?id=25754437">thread link</a>) | @didizaja
<br/>
January 12, 2021 | https://aquadzn.github.io/learn-x-by-doing-y/ | <a href="https://web.archive.org/web/*/https://aquadzn.github.io/learn-x-by-doing-y/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <h2 id="header">What
                    do you want to
                    learn today
                    ?</h2>

                <p>
                    Project Based Learning is a teaching method in which students gain knowledge and skills
                    by working for an extended period of time to investigate
                    and respond to an authentic, engaging, and complex question, problem, or challenge.
                </p>
                <div>
                    <div>
                        
                        <div>
                            <p><a href="https://github.com/aquadzn/learn-x-by-doing-y/blob/main/CONTRIBUTING.md" target="_blank">
                                Add a project
                            </a>
                        </p></div>
                    </div>
                    
                </div>


                <section>
                    
                </section>
            </div></div>]]>
            </description>
            <link>https://aquadzn.github.io/learn-x-by-doing-y/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25754437</guid>
            <pubDate>Tue, 12 Jan 2021 21:55:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[10 Years(-Ish) of Elixir]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25754371">thread link</a>) | @andrenth
<br/>
January 12, 2021 | https://dashbit.co/blog/ten-years-ish-of-elixir | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/ten-years-ish-of-elixir">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> JosÃ© Valim
  </li>
  <li>
    <i></i> January 11th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/elixir">elixir</a>, <a href="https://dashbit.co/blog/tags/phoenix">phoenix</a>, <a href="https://dashbit.co/blog/tags/broadway">broadway</a>, <a href="https://dashbit.co/blog/tags/nerves">nerves</a>, <a href="https://dashbit.co/blog/tags/liveview">liveview</a>, <a href="https://dashbit.co/blog/tags/membrane">membrane</a>
  </li>
</ul>
<p>
This past weekend, on January 9th, we celebrated 10 years since <a href="https://github.com/elixir-lang/elixir/commit/337c3f2d569a42ebd5fcab6fef18c5e012f9be5b">the first commit to the Elixir repository</a>. While I personally donâ€™t consider <a href="https://elixir-lang.org/">Elixir</a> to be 10 years old yet - the language that became what Elixir is today <a href="https://github.com/elixir-lang/elixir/commit/6052352b6281752b905b30eb5b08fac0f51f68cd">surfaced only 14 months later</a> - a decade is a mark to celebrate!</p>
<p>
The goal of this post is to focus on the current state of some projects in the ecosystem and then briefly highlight a few of the exciting efforts coming over the next months.</p>
<h2>
Recap: The language goals</h2>
<p>
When I started working on Elixir, I personally had the ambition of using it for building scalable and robust web applications. However, I didnâ€™t want Elixir to be tied to the web. My goal was to design an <em>extensible</em> language with a diverse ecosystem. Elixir aims to be a general purpose language and allows developers to extend it to new domains.</p>
<p>
Given Elixir is built on top of Erlang and Erlang is used for networking and distributed systems, Elixir would naturally be a good fit in those domains too, as long as I didnâ€™t screw things up. The Erlang VM is essential to everything we do in Elixir, which is why <em>compatibility</em> has become a language goal too.</p>
<p>
I also wanted the language to be <em>productive</em>, especially by focusing on the tooling. Learning a functional programming language is a new endeavor for most developers. Consequently their first experiences getting started with the language, setting up a new project, searching for documentation, and debugging should go as smoothly as possible.</p>
<p>
Extensibility, compatibility, and productivity are the goals we built the language upon.</p>
<h2>
Recap: Elixir in production</h2>
<p>
Last year we started <a href="https://elixir-lang.org/cases.html">a series of articles on companies using Elixir in production on the official website</a>. As of today, we have 7 production cases listed with more coming this year! Overall it is very exciting to see many different companies using a variety of business models and industries running Elixir in production.</p>
<p>
Companies like <a href="https://www.brex.com/">Brex</a> (<a href="https://elixir-lang.org/blog/2020/06/23/growing-with-elixir-at-brex/">case</a>), <a href="https://discord.com/">Discord</a> (<a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">case</a>), <a href="https://getdivvy.com/">Divvy</a>, <a href="https://www.podium.com/">Podium</a>, and <a href="https://salesloft.com/">SalesLoft</a> have reached <a href="https://en.wikipedia.org/wiki/Unicorn_(finance)">â€œunicorn statusâ€</a> and rely heavily on Elixir. Startups like <a href="https://www.joinblvd.com/">Boulevard</a> (<a href="https://soundcloud.com/elixirtalk/episode-166-feat-sean-stavropoulos">podcast</a>), <a href="https://community.com/">Community</a>, <a href="https://duffel.com/">Duffel</a> (<a href="https://elixir-lang.org/blog/2020/12/10/integrating-travel-with-elixir-at-duffel/">case</a>), <a href="https://www.ockam.io/">Ockam</a>, <a href="https://www.mux.com/">Mux</a>, <a href="https://ramp.com/">Ramp</a>, <a href="https://remote.com/">Remote</a>, and <a href="https://www.v7labs.com/">V7</a> (<a href="https://elixir-lang.org/blog/2021/01/13/orchestrating-computer-vision-with-elixir/">case</a>) also use Elixir and have received funding in the last year or two. Elixir is also used within known brands and enterprises such as <a href="https://bleacherreport.com/">Bleacher Report</a>, <a href="https://www.change.org/">Change.org</a> (<a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">case</a>), <a href="https://heroku.com/">Heroku</a> (<a href="https://elixir-lang.org/blog/2020/09/24/paas-with-elixir-at-Heroku/">case</a>), <a href="https://www.pagerduty.com/">PagerDuty</a>, <a href="https://www.pepsico.com/">PepsiCo</a>, and <a href="https://www.therealreal.com/">TheRealReal</a>.</p>
<p>
There is also a special category of startups that run Elixir alonside an open source model, such as <a href="https://plausible.io/">Plausible Analytics</a>, <a href="https://app.supabase.io/">Supabase</a>, <a href="https://logflare.app/">Logflare</a> (<a href="https://runninginproduction.com/podcast/11-logflare-is-a-log-management-and-event-analytics-platform">podcast</a>), and <a href="https://hex.pm/">Hex.pm</a> (<a href="https://runninginproduction.com/podcast/19-hexpm-is-elixirs-official-package-manager">podcast</a>) itself. Still on the open source front, you will find projects like <a href="https://pleroma.social/">Pleroma</a> and <a href="https://changelog.com/">Changelog</a>. There also many small scale and hobby projects that use Elixir for a productive and joyful development experience.</p>
<h2>
Recap: Diverse ecosystem</h2>
<p>
Today, Elixir has a diverse ecosystem that works on a wide range of domains and industries. Letâ€™s take a look at some examples.</p>
<h3>
Web</h3>
<p>
Most developers are familiar with using Elixir for web development thanks to <a href="https://phoenixframework.org/">the Phoenix web framework</a>. Phoenix gained traction in the ecosystem because it was the first to fully leverage the language and the platform for building real-time applications besides the usual MVC (Model-View-Controller) offering.</p>
<p>
It all started with Phoenix Channels, as a bi-directional communication between clients and servers, and Phoenix PubSub, which uses Erlangâ€™s distributed compatibilities to broadcast messages across nodes. As far as I know, Phoenix was the first major web framework to provide a multi-node web real-time solution completely out-of-the-box. Regardless if you are using one node or ten nodes, everything just works, with minimal configuration and dependencies.</p>
<p>
Phoenix has matured a lot since its first stable release. Phoenix v1.2 included <a href="https://hexdocs.pm/phoenix/Phoenix.Presence.html">Phoenix Presence</a>, that allows developers to track which users, IoT devices, etc are connected to your cluster right now. No databases or external dependencies required! This is one of the problems that look deceptively simple at first, but once you outline all scalability, performance, and fault-tolerance requirements, it <a href="https://elixir-lang.org/blog/2020/11/17/real-time-collaboration-with-elixir-at-slab/">becomes quite complex</a>. Luckily, Phoenix is running on a platform that excels at these problems, and I am not aware of any other framework that provides such a lean and elegant solution as part of its default stack.</p>
<p>
Most recently, <a href="https://github.com/phoenixframework/phoenix_live_view">Phoenix LiveView</a> was released and brought new ways to build rich, real-time user experiences with server-rendered HTML, inspiring developers to attempt similar solutions for other languages and frameworks. You can read the <a href="https://dockyard.com/blog/2018/12/12/phoenix-liveview-interactive-real-time-apps-no-need-to-write-javascript">original announcement</a> or <a href="https://www.phoenixframework.org/blog/build-a-real-time-twitter-clone-in-15-minutes-with-live-view-and-phoenix-1-5">learn how to build a real-time Twitter clone in 15 minutes</a>. As part of the <em>Live</em> family, we have also announced <a href="https://twitter.com/josevalim/status/1250846714665357315">Phoenix LiveDashboard</a>, making monitoring and instrumentation a first-class citizen for Phoenix applications.</p>
<h3>
Embedded and IoT</h3>
<p>
While I always expected Elixir to shine for building web applications, I was taken by surprise when I heard about the <a href="https://www.nerves-project.org/">Nerves platform</a> for creating high-end embedded applications. However, once I learned their premise, it all made sense: writing embedded systems <em>is</em> complicated. Reasoning about failures is hard. So what if we could leverage the decades of lessons learnt by Erlang/OTP to design embedded applications? What if a fault on the Wi-Fi driver could be fixed by having a supervisor simply restart it? After all, the first major use of Erlang/OTP was in an embedded system, the Ericsson AXD301 ATM switch.</p>
<p>
Nerves brings the Elixir ecosystem and the battle-tested Erlang VM to edge computing, providing a rich developer experience using proven technology. Nerves started as a one step process for turning an Elixir project into a complete software image for common hardware devices. Today, Nerves is being used in production in industrial automation, machine learning, consumer electronics and more, with <a href="https://farm.bot/">Farmbot</a> (<a href="https://elixir-lang.org/blog/2020/08/20/embedded-elixir-at-farmbot/">case</a>) and <a href="https://www.rosepoint.com/">Rose Point Navigation</a> being two of the most notable examples.</p>
<p>
The Nerves team also created <a href="https://www.nerves-hub.org/">NervesHub</a>, a fully open-source device management system. Combining all these technologies makes Elixir a comprehensive language for building end-to-end IoT platforms.</p>
<h3>
Data ingestion and pipelines</h3>
<p>
Shortly after Elixir v1.0 was released, the Elixir Core Team and I started looking into abstractions for tackling data ingestions and data pipelines in Elixir. We ran through a couple designs until we eventually <a href="https://elixir-lang.org/blog/2016/07/14/announcing-genstage/">landed on GenStage</a>: a behaviour for exchanging data with back-pressure between Elixir processes and external systems. For an introduction, make sure to check out <a href="https://youtu.be/srtMWzyqdp8?t=242">my keynote introducing both GenStage and Flow</a>.</p>
<p>
Today, almost 5 years later, GenStage has been used by many industries and has become one of the factors driving Elixir adoption. For example, you can read how both <a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">Discord</a> and <a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">Change.org</a> have built systems on Elixir and GenStage that handle spikes and run at massive scale.</p>
<p>
However, GenStage was just the beginning. In 2019, <a href="https://www.youtube.com/watch?v=ZOExnT1PYjs">we announced Broadway</a>, which is a higher-level abstraction on top of GenStage that makes building data ingestion pipelines a breeze. We originally released with Amazon SQS support. Nowadays, RabbitMQ, Google Cloud PubSub, Apache Kafka, and other sources (known as producers in Broadway terms) are also available.</p>
<h3>
Audio/Video streaming</h3>
<p>
Since the Erlang VM was designed for scalable network processing, one can expect to also be an excellent platform for audio and video streaming. However, if you also wanted to process and transform those streams on the fly, the situation becomes much more complicated as you likely have to integrate with native code.</p>
<p>
Luckily, the tables have turned when Erlang/OTP 20 was released a couple years ago with the so-called Dirty NIFs. The Erlang VM always had the ability to invoke native code, but this native code could not run for long, as to not interfere with the preemptive features of the Erlang runtime. Dirty NIFs allow developers to tag native code either as IO or CPU bound, which runs on specific threads. Between ports (I/O based), NIFs, Dirty NIFs, and remote nodes, developers now have many options to interface with native code with different performance and reliability guarantees. Thatâ€™s exactly the foundation the <a href="http://www.membraneframework.org/">Membrane Framework</a> builds on top of.</p>
<p>
Membrane was extracted from RadioKit, a startup aiming at disrupting the radio broadcasting industry. Originally it focused on processing and mixing audio. Later, <a href="https://www.swmansion.com/">Software Mansion</a> acquired the framework and provided stable funding and a solid team to help it grow into a full-scale framework. Currently, it allows developers to process, transmit, broadcast, and transform audio and videos streams on the fly. Whether you are building a Twitch clone, a VOD application or a video conferencing system, Membrane provides a growing set of high-level abstractions and pre-made modules so you donâ€™t have to dive into idiosyncrasies of particular codecs, protocols, and formats. </p>
<h2>
Looking ahead: what is coming in 2021</h2>
<p>
The year of 2021 looks very exciting for the Erlang Ecosystem and the Elixir community. In this section, we are going to mention some of the things we expect to see in 2021.</p>
<h3>
Erlang/OTP 24 with JIT</h3>
<p>
In September 2020, <a href="https://github.com/erlang/otp/pull/2745">Lukas Larsson and the Erlang/OTP team</a> announced a JIT compiler for the Erlang VM called BeamAsm. How faster the JIT will be in practice depends on your application but the results posted in the announcement are promising. To quote Lukas:</p>
<blockquote>
  <p>
If we run the JSON benchmarks found in the <a href="https://github.com/devinus/poison/tree/master/bench">Poison</a> or <a href="https://github.com/michalmuskala/jason/tree/master/bench">Jason</a>, BeamAsm achieves anything from 30% to 130% increase (average at about 70%) in the number of iterations per second for all Erlang/Elixir implementations. For some benchmarks, BeamAsm is even faster than the pure C implementation <a href="https://github.com/davisp/jiffy">jiffy</a>.  </p>
</blockquote>
<blockquote>
  <p>
More complex applications tend to see a more moderate performance increase, for instance, RabbitMQ is able to handle 30% to 50% more messages per second depending on the scenario.  </p>
</blockquote>
<p>
I have been running â€¦</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/ten-years-ish-of-elixir">https://dashbit.co/blog/ten-years-ish-of-elixir</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/ten-years-ish-of-elixir</link>
            <guid isPermaLink="false">hacker-news-small-sites-25754371</guid>
            <pubDate>Tue, 12 Jan 2021 21:51:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Computer Science Curriculum in 1000 YouTube Videos]]>
            </title>
            <description>
<![CDATA[
Score 322 | Comments 113 (<a href="https://news.ycombinator.com/item?id=25753166">thread link</a>) | @nixass
<br/>
January 12, 2021 | https://laconicml.com/computer-science-curriculum-youtube-videos/ | <a href="https://web.archive.org/web/*/https://laconicml.com/computer-science-curriculum-youtube-videos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><img src="https://certify.alexametrics.com/atrk.gif?account=Yuhkv1DlQy20Y8" height="1" width="1" alt="">
<!-- End Alexa Certify Javascript -->

<meta name="yandex-verification" content="a5b3e7f45ad7ff94">

<!-- Yandex.Metrika counter -->


<!-- /Yandex.Metrika counter -->


		<a href="#content">Skip to content</a>

	<div id="boxed-wrapper">
		
		<div id="wrapper">
			
			
			<header>
				
				
			</header>
						
			
		
				
			
			

						<main id="main">
				<div>

<section id="content">
			
	
					<article id="post-1720">
										<span>This is The Entire Computer Science Curriculum in 1000 YouTube Videos</span>
			
														
						
						<div>
				<p><span>In this article, we are going to create an entire Computer Science curriculum using only YouTube videos. The Computer Science curriculum is going to cover every skill essential for a Computer Science Engineer that has expertise in Artificial Intelligence and its subfields, like: Machine Learning, Deep Learning, Computer Vision, NLP, etc.</span></p>
<p>The curriculum is going to be organized in 40 courses in total, further organized in 4 academic years, each containing 2 semesters.</p>
<p>We are going to try to list a few videos per course as we can, so we can keep the list short.</p>
<p>Our goal here is to capture the whole university experience in perspective of the organization of the courses and deliver you the whole curriculum for FREE, so you can gain significant knowledge.</p>
<p>We know that this is not the same as youâ€™ll get at university, but the videos are of high quality, and most of them helped us, during our time at university.</p>
<p>We hope you will like it, and it will be of use to you.</p>
<p>As of today, weâ€™ve seen that most of the visitors on our website, like the articles where we talk about free courses, curriculums, books, etc. Some of our most popular articles in that area are:</p>
<ul>
<li><a href="https://laconicml.com/andrew-ng-books-recommendation/">14 Life-Changing Books That Andrew Ng from Coursera Recommends</a></li>
<li><a href="https://laconicml.com/ivy-league-universities-courses/">Top 50 FREE Artificial Intelligence, Computer Science, Engineering and Programming Courses from the Ivy League Universities</a></li>
<li><a href="https://laconicml.com/coursera-artificial-intelligence-courses/">Top 40 COMPLETELY FREE Coursera Artificial Intelligence and Computer Science Courses</a></li>
<li><a href="https://laconicml.com/computer-science-engineer-mit-university/">How to Gain a Computer Science Education from MIT University for FREE</a></li>
<li><a href="https://laconicml.com/free-artificial-intelligence-courses-by-google/">You Can Now Learn for FREE: 9 Courses by Google about Artificial Intelligence, Machine Learning, and Data Science</a></li>
<li><a href="https://laconicml.com/become-certified-data-scientist/">How To Become a Certified Data Scientist at Harvard University for FREE</a></li>
</ul>

<div data-animationtype="slideInUp" data-animationduration="0.3" data-animationoffset="100%"><div><div>Also, we have a new private Facebook group where we are going to share some materials that are not going to be published online and will be available for our members only. The members will have early access to every new post we make and share your thoughts, tips, articles and questions. Become part of our private Facebook group now.</div><a href="https://www.facebook.com/groups/1682628565239534/" target="_blank" rel="noopener noreferrer"><span>Join Laconicml Group</span></a></div></div>


<h2><strong>Whole Computer Science Curriculum in 40 YouTube Videos</strong></h2>

<h2><strong>Year 1: </strong><strong>Semester 1</strong></h2>
<ol>
<li>
<h3><strong>Structured Programming (Programming in C)</strong></h3>
</li>
</ol>
<p>This course will introduce you to <a href="http://laconicml.com/machine-learning-weka/">programming</a>. It will help you write your first code, run your first application, and see what programming is about. You will start with printing messages on the screen, simple arithmetic operations, if-else statements, loops, data structures (arrays, matrices), memory addresses, pointers, reading and writing files, etc. You will build simple applications that will allow you to understand the material even better. The best two videos that we recommend for this course are:</p>
<ol>
<li><a href="https://www.youtube.com/watch?v=KJgsSFOSQv0&amp;ab_channel=freeCodeCamp.org" target="_blank" rel="noopener">C Programming Tutorial For Beginners</a></li>
<li><a href="https://www.youtube.com/watch?v=-CpG3oATGIs" target="_blank" rel="noopener">C Programming Tutorial | Learn C programming | C language</a></li>
</ol>

<ol start="2">
<li>
<h3><strong>Discrete Mathematics part 1</strong></h3>
</li>
</ol>
<p>This course will introduce you to declarative statements, sets, and operations with sets, laws, logic, quantifiers, functions, proofs, sequences, and summation. For this course, and itâ€™s a second part which weâ€™ve put in Year 2, we are going to use the same playlist of 60 YouTube videos, but we are going to split it, 34 videos for part 1 (1-34) and 26 videos for the part 2 (35-60).</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLl-gb0E4MII28GykmtuBXNUNoej-vY5Rz" target="_blank" rel="noopener">Discrete Math playlist (videos: 1-34)</a></li>
</ol>
<div><iframe src="https://www.youtube.com/embed/A3Ffwsnad0k" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>

<ol start="3">
<li>
<h3><strong>Calculus part 1</strong></h3>
</li>
</ol>
<p>This course will introduce you to limits, intervals, differentiability, continuity, derivatives, antiderivatives, rules, trigonometric functions, inverse trigonometric functions, optimizations, and sums. It will be a huge help to you, once you dive into the later semesters of your studies and will help you understand most of the <a href="http://laconicml.com/mathematical-skills-data-scientist/">mathematics</a> behind Machine Learning, Deep Learning, etc. Here we will suggest you take look at this list of 86 videos. Yes, it looks long, but the videos are quite short and well explained.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLl-gb0E4MII1ml6mys-RXoQ0O3GfwBPVM" target="_blank" rel="noopener">Calculus part 1 playlist</a></li>
</ol>

<ol start="4">
<li>
<h3><strong>Introduction to Computer Science and Programming</strong></h3>
</li>
</ol>
<p>This course will introduce you to computer science and programming from a theoretical view. It is very important for every beginner to have a visual representation in its mind about most of the concepts of computer science and programming. That way, it can understand their complexity and unlock its imagination and creativity and use the full power of computer science and programming while respecting their laws. Here we recommend you this video:</p>
<div><iframe src="https://www.youtube.com/embed/zOjov-2OZ0E" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>

<ol start="5">
<li>
<h3><strong>Intro to Python Programming</strong></h3>
</li>
</ol>
<p>This course is an introduction to Python programming. Easily one of the most popular programming languages in the world, <a href="http://laconicml.com/implement-bayesian-regression-python/">Python</a> is widely used by many people who work in some sort of IT-related field. It is easy to understand, use has tons of libraries and it has huge community support. It is used in Web Development (Django, Flask), Machine Learning (Scikit-learn, NumPy, pandas, TensorFlow), etc. You are going to use Python a lot, so for this course, we are going to keep it simple by recommending only one video:</p>
<div><iframe src="https://www.youtube.com/embed/rfscVS0vtbw" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>





<h2><strong>Semester 2</strong></h2>
<ol>
<li>
<h3><strong>Calculus part 2</strong></h3>
</li>
</ol>
<p>Here is the second part of the Calculus. Here you are going to learn about integrals, series, tests, polar coordinates, polar graphs, etc. For this course, we are going to recommend you this playlist of 64 videos. It looks like a lot, but the videos are well explained and are quite short, so you feel like youâ€™ve covered a lot of material.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLl-gb0E4MII1OxI-BbNkEhuwPHcKxuPSg" target="_blank" rel="noopener">Calculus part 2 playlist</a></li>
</ol>

<ol start="2">
<li>
<h3><strong>Discrete Mathematics part 2</strong></h3>
</li>
</ol>
<p>This course will introduce you to matrices, graphs, searching algorithms, sorting algorithms, algorithms complexity, introduction to probability, combinatorics, variations, and permutations.</p>
<p>This is the second part of the Discrete Mathematics, and as weâ€™ve mentioned in the first part, we are going to use the same playlist of 60 videos, but here we are going to watch starting from the 35th up to the 60th video.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLl-gb0E4MII28GykmtuBXNUNoej-vY5Rz" target="_blank" rel="noopener">Discrete Math playlist (videos: 35-60)</a></li>
</ol>

<ol start="3">
<li>
<h3><strong>Introduction to C++ and Object-Oriented Programming</strong></h3>
</li>
</ol>
<p>This course will introduce me to C++, starting from the basics, up to Object-Oriented Programming (OOP). OOP is one of the main programming paradigms, and probably the most used.</p>
<p>Most of the applications that you have on your mobile phone or access from the browser are programmed following this paradigm.</p>
<p>It is the pillar of every program you will write in the future, so you will want to give this course more time. For this course, we will recommend you a video playlist of 29 videos.</p>
<p>However, we recommend you to watch them up to the 13th because the rest of them are beyond OOP and if you are new to this, might be complex and difficult to understand.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLGLfVvz_LVvQ9S8YSV0iDsuEU8v11yP9M" target="_blank" rel="noopener">C++ tutorial playlist (videos: 1-13)</a></li>
</ol>

<ol start="4">
<li>
<h3><strong>Computer System Architecture</strong></h3>
</li>
</ol>
<p>In this course, you are going to be introduced to set design, processor micro-architecture and pipelining, cache and virtual memory organizations, protection and sharing, I/O and interrupts, in-order and out-of-order superscalar architectures, VLIW machines, vector supercomputers, multithreaded architectures, symmetric multiprocessors, and parallel computers. For this course, we will recommend you the following playlist coming from <a href="http://laconicml.com/computer-science-engineer-mit-university/">MIT</a>. The list has 39 videos, that are quite long</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PL5PHm2jkkXmi5CxxI7b3JCL1TWybTDtKq" target="_blank" rel="noopener">Computer Systems Architecture full playlist</a></li>
</ol>
<div><iframe src="https://www.youtube.com/embed/zLP_X4wyHbY" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>

<ol start="5">
<li>
<h3><strong>Introduction to Web Design (HTML + CSS)</strong></h3>
</li>
</ol>
<p>This course is your introduction to what one stage of web development (the front-end) looks like. You are going to get familiar with HTML, which is the markup language that makes the elements we see on a webpage, and with CSS, which is a stylesheet that gives life to those elements. Here we recommend two videos, one for HTML and one for CSS.</p>
<ol>
<li><a href="https://www.youtube.com/watch?v=UB1O30fR-EE&amp;ab_channel=TraversyMedia" target="_blank" rel="noopener">HTML Crash Course For Absolute Beginners</a></li>
<li><a href="https://www.youtube.com/watch?v=yfoY53QXEnI&amp;ab_channel=TraversyMedia" target="_blank" rel="noopener">CSS Crash Course For Absolute Beginners</a></li>
</ol>


<h2><strong>Year 2: Semester 3</strong></h2>
<ol>
<li>
<h3><strong>Probability</strong></h3>
</li>
</ol>
<p>This course is one of the most important courses for every Computer Science Engineer who wants to be an expert in <a href="http://laconicml.com/free-artificial-intelligence-courses-by-google/">Machine Learning</a>. The course consists of intro to probability, combinatorics, variations, permutations, distributions, etc.</p>
<p>The playlist that weâ€™ve recommended is from Khanâ€™s Academy. It contains 41 videos that are 10 minutes long at max, and are very interesting, and contain tons of practical examples.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLC58778F28211FA19" target="_blank" rel="noopener">Probability playlist</a></li>
</ol>

<ol start="2">
<li>
<h3><strong>Statistics</strong></h3>
</li>
</ol>
<p>This is the other most important courses if you want to do Machine Learning in the future. The course will get you familiar with the main statistical features, hypothesis testing, levels of measurements, etc. The playlist that we recommend contains 28 videos, which are quite long.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PL5102DFDC6790F3D0" target="_blank" rel="noopener">Statistics playlist</a></li>
</ol>

<ol start="3">
<li>
<h3><strong>Algorithms and Data Structures</strong></h3>
</li>
</ol>
<p>This is the most important course for every Computer Science Engineer. Here you will get familiar with tons of useful stuff, that you are going to use throughout your carrier.</p>
<p>Here you will get familiar with algorithms complexity measurements, data structures like lists, linked lists, arrays, hash tables, trees, graphs, and algorithms that will help you manipulate these structures.</p>
<p>For this course we will recommend you two playlists one theoretical, one using Java, and one video that pretty much combines these playlists, so you are choosing what you think suits you the best.</p>
<ol>
<li><a href="https://www.youtube.com/playlist?list=PLGLfVvz_LVvReUrWr94U-ZMgjYTQ538nT" target="_blank" rel="noopener">Java Algorithms playlist (17 videos)</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLpPXw4zFa0uKKhaSz87IowJnOTzh9tiBk" target="_blank" rel="noopener">Data Structures theoretical playlist (89 videos)</a></li>
</ol>
<ul>
<li><a href="https://www.youtube.com/watch?v=RBSGKlAvoiM&amp;ab_channel=freeCodeCamp.org" target="_blank" rel="noopener">Data Structures Easy to Advanced Course â€“ by Google Engineer</a></li>
</ul>

<ol start="4">
<li>
<h3><strong>Intro to Client-side development</strong></h3>
</li>
</ol>
<p>This course is an intro to client-side (front-end) development using the language of the web, known as JavaScript. It is a continuation of the Web Desing course, here you are going to power the website skeleton youâ€™ve built with HTML and organized with CSS. Today JavaScript is used in the backend as well, but we are going to talk about that later. We recommend the following video for this course:</p>
<div><iframe src="https://www.youtube.com/embed/PkZNo7MFNFg" width="560" height="315" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div>

<ol start="5">
<li>
<h3><strong>Linear Algebra</strong></h3>
</li>
</ol>
<p>In this course, you are going to get familiar with vectors, matrices, and manipulation with matrices, linear independence, least-square problems, etc. It is a very interesting and engaging course, that will be very useful later, for the Machine â€¦</p></div></article></section></div></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://laconicml.com/computer-science-curriculum-youtube-videos/">https://laconicml.com/computer-science-curriculum-youtube-videos/</a></em></p>]]>
            </description>
            <link>https://laconicml.com/computer-science-curriculum-youtube-videos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25753166</guid>
            <pubDate>Tue, 12 Jan 2021 20:34:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using GPT-3 for plain language incident root cause from logs]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25752934">thread link</a>) | @gdcohen
<br/>
January 12, 2021 | https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs | <a href="https://web.archive.org/web/*/https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>This project is a favorite of mine and so I wanted to share a glimpse of what we've been up to with <a href="https://openai.com/" rel="noopener">OpenAI's amazing GPT-3 language model</a>. Today I'll be sharing a couple of straightforward results with basic prompts only. There are more advanced avenues we're exploring for our use of GPT-3, such as fine-tuning (custom pre-training for specific datasets); you'll hear none of that today, but if you're interested in this topic, follow this blog for updates.</p>
<!--more-->

<h2>Our goal</h2>
<p>I believe the future of monitoring has to include autonomous root cause tools. Deployment frequency and complexity make the "new" issue the driver of Mean-Time-To-Resolve (MTTR) today. You may always know when something breaks, but you won't always know what. Problem is, root cause often hides in log files... but since the volume of logs has grown enormous and it's not always clear what to search for when a new issue arises, we saw a need for a smarter tool to help with root cause.</p>

<h2>Our approach in a nutshell</h2>
<p>If you structure logs really well (we do this with machine learning), including free-text logs, even when there are only one or two examples for a given event type, you can start talking confidently about a "rare" event. Severity lets you talk about a "bad" event. So, you can imagine one log stream expressing a "rare" event, and then another log stream expressing an event that is both "rare" and "bad". A simple point process model lets us talk naively about how likely it is that such a pair of events should show up as close together in time or closer, given patterns of "rare" and "rare"+"bad" events in those two streams. Watching the data for a while will let you estimate parameters for this model, and you can start picking out bouts of such event pairs. Zebrium takes such a bout, and generates an incident report from it. The results we are seeingâ€¦</p>

<h2>The plain language challenge</h2>
<p>Our approach works really well at generating root cause reports: if there's a root cause indicator in the logs, it will almost always make its way into a concise root cause report. Our approach has proven robust to different kinds of applications and logs; it requires no training or rules, pre-built or otherwise.</p>

<p>However, there's a big challenge remaining here. The last mile of delivering the benefits of autonomous Root Cause Analysis (RCA) is translating even the concise reports we generate into something the user can understand. The user who needs the quick RCA is not always the person who can understand the oblique root cause indicators in a technical log file. Who is to consume these reports, and what composes them?</p>

<p>This challenge is even more stark for an Managed Service Provider (MSP) or enterprise. At a small company, engineers may be responsible for front-line triage. At a large company or MSP, there will be a front-line, typically junior person who needs a quick RCA; they can't be expected to know all the different intricacies of application logs and what those logs mean. To bring value over the last mile to them, we need plain-language.</p>

<h2>Enter GPT-3</h2>
<p>Now that I've set the stage, let me show you a couple of examples that I think make it clear how transformational GPT-3 can be in the context of our problem. I think you'll agree with me that autonomous RCA seems a lot more real when it's translated into plain-language, and surely a lot more accessible by a lot of users.</p>

<p>GPT-3 is a state-of-the-art bidirectional autoregressive transformer model, with parameters in the hundreds of billions. It is produced, trained, and maintained by OpenAI, and it has really brought start-of-the art, deep NLP to developersâ€™ fingertips.</p>

<p>The most basic procedure for using GPT-3 looks like this -</p>

<p>1) Construct a â€œpromptâ€ for the model â€“ this is a sort of open-ended document that leaves the model to â€œcontinue the storyâ€, as it were; the continuation or response is called a â€œcompletionâ€. For the below two-line examples, I used the following simple prompt construction:</p>

<p>An expert examined the logs for the incident.</p>
<p>The first log message was: &lt;first_line_goes_here&gt;</p>
<p>The last log message was: &lt;second_line_goes_here&gt;</p>
<p>The expert described what had happened, in plain English:</p>

<p>2) Select model (I used davinci) and parameters - for the below examples, I used the following parameters to the davinci GPT-3 model:</p>

<p>{</p>
<p>"max_tokens": 128,</p>
<p>"temperature": 1,</p>
<p>"top_p": 0.05,</p>
<p>"presence_penalty": 0.3,</p>
<p>"frequency_penalty": 0.3,</p>
<p>"best_of": 10</p>
<p>}</p>

<p>3) Call the API; post-process completion for dangling or repeated phrases, to-taste. Serve warm.</p>

<h2>Example one: Database shutdown</h2>
<p>We shut down the Postgres database backing our Atlassian stack. Thousands of events, largely errors, ensued in the logs. Zebrium dutifully generates a root cause report, based on an ML-driven auto-detection. The report looks like this:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1039&amp;name=postgres%20incident.png" alt="postgres incident" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=520&amp;name=postgres%20incident.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1039&amp;name=postgres%20incident.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1559&amp;name=postgres%20incident.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=2078&amp;name=postgres%20incident.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=2598&amp;name=postgres%20incident.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=3117&amp;name=postgres%20incident.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>As you can see, Zebrium pulled about a dozen log events into the report; the first 9 are shown in the image. Youâ€™ll notice that the first event is colored green and the last event purple; these are the â€œFIRSTâ€ and the â€œWORSTâ€, and we use these to characterize the incident in the incidents list. Hereâ€™s what that looks like:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1039&amp;name=postgres%20incident%20summary.png" alt="postgres incident summary" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=520&amp;name=postgres%20incident%20summary.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1039&amp;name=postgres%20incident%20summary.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1559&amp;name=postgres%20incident%20summary.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=2078&amp;name=postgres%20incident%20summary.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=2598&amp;name=postgres%20incident%20summary.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=3117&amp;name=postgres%20incident%20summary.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>OK, so Zebrium did a pretty good job here. It autonomously picked these two log events out of thousands to display to the user on the list page. Often, the â€œFIRSTâ€ event reflects root cause and the â€œWORSTâ€ reflects follow-on problems; youâ€™ll note here that the first is not even an error, but itâ€™s rare, and happens too close to other incident events, according to our model, to be a coincidence.</p>

<p>Now in this case, itâ€™s pretty clear to someone who has looked at a log file before that the database was shut down by the administrator. Youâ€™ll also notice, though, above the log events, a field called â€œDESCRIPTIONâ€: this was generated by GPT-3. It says:</p>

<p>â€œThe database server was stopped by the administrator.â€</p>

<h2>Why this summary is also amazing</h2>
<p>We passed in the â€œFIRSTâ€ and â€œWORSTâ€ events, as described above, to GPT-3. Notice that the first line says that the â€œPostgreSQL RDBMSâ€ was â€œStoppedâ€. The second line says that there was a â€œPSQLExceptionâ€ indicating that a connection was â€œterminating due to administrator commandâ€.</p>

<p>The word â€œadministratorâ€ appears on a different line than the word â€œPostgreSQLâ€, and nowhere in the log messages are the words â€œdatabaseâ€ or â€œserverâ€ to be found at all.</p>

<p>The algorithm is doing the following:</p>

<p>1.) Inferring that the statements on the two lines are related</p>
<p>2.) Inferring that they are both speaking about a â€œdatabase serverâ€</p>
<p>3.) Putting the two statements together: â€œstopped by the administratorâ€</p>

<p>Essentially, this is the sort of summary someone would put into a ticketing system; here, itâ€™s being done automatically, thanks to an appropriately selected pair of log messages coupled with a language model.</p>

<h2><span>Example two: Out of memory</span><span></span></h2>
<p>In this case, and using the same parameters as were used in the previous example, we take a root cause report for what turns out to be an out-of-memory issue to GPT-3 and see what sort of summary it gives us.</p>

<p>This particular report was generated in response to a signal from a monitoring tool that saw endpoint latencies spike too high. The system was configured with Zebrium to provide root cause observability across the stack. Here is the report Zebrium ML generated:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1039&amp;name=oom_incident.png" alt="oom_incident" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=520&amp;name=oom_incident.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1039&amp;name=oom_incident.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1559&amp;name=oom_incident.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=2078&amp;name=oom_incident.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=2598&amp;name=oom_incident.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=3117&amp;name=oom_incident.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>As you can see, Zebrium pulled about a dozen log events into the report; the first 9 are shown in the image. Youâ€™ll notice that the first event is colored green and the last event purple; these are the â€œFIRSTâ€ and the â€œWORSTâ€, and we use these to characterize the incident in the incidents list. Hereâ€™s what that looks like:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=908&amp;name=oom_incident_summary.png" alt="oom_incident_summary" width="908" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=454&amp;name=oom_incident_summary.png 454w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=908&amp;name=oom_incident_summary.png 908w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=1362&amp;name=oom_incident_summary.png 1362w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=1816&amp;name=oom_incident_summary.png 1816w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=2270&amp;name=oom_incident_summary.png 2270w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=2724&amp;name=oom_incident_summary.png 2724w" sizes="(max-width: 908px) 100vw, 908px"></p>

<p>In this case, itâ€™s not so clear that the problem is due to an out-of-memory issue, unless the reader is familiar with Linux and the OOM killer facility. There are a lot of technical parameters in these events as well, obscuring what was really at the heart of the problem.</p>

<p>Taking a look above the log messages again, in the â€œDESCRIPTIONâ€ field, letâ€™s see what GPT-3 gave us:</p>

<p>â€œThe memcached process was killed by the OOM killer</p>
<p>because it was consuming too much memory. The OOM killer</p>
<p>is a Linux kernel feature that allows the system to kill</p>
<p>a process when <strong><u>the system is running out of memory</u></strong>.â€</p>

<h2>Why this summary is also amazing</h2>
<p>What this summary tells us explicitly in plain-language is that the system was running out of memory. This is in fact the root cause of the original incident, tallying up a successful root cause summary.</p>

<p>For an L1 or L2, the Zebrium root cause summary may not be enough. That person wonâ€™t necessarily know that OOM means out-of-memory, or that the â€œFIRSTâ€ message isnâ€™t talking about an application issue entirely within memcached.</p>

<h2>What more I wanted here</h2>
<p>In the second example, I would have liked to have seen some recognition that the first line implies that the system was out-of-memory, and therefore the second line was due to related problems (in fact, the application server was paged out). Itâ€™s a lot to ask, but I think it might be possible, given some combination of more expressive prompts, finetuning, and presenting GPT-3 with other select data from the report (in this case, the report also included metrics anomalies showing a plunge in swap free).</p>

<h2><span>A cool direction</span></h2>
<p>You may have noticed that GPT-3 gave us a lot of extra detail about the Linux OOM killer than was mentioned in the log messages themselves. I believe it was able to provide this context in the same way it knew that PSQL referred to a database server: it was trained on the internet. There is likely enough information in the public domain that, as GPT-3 was being trained, it picked up enough cursory knowledge of these sorts of systems to add additional value.</p>

<p>To test my hypothesis, I spent some time fiddling quite unscientifically with the prompt and model parameters, trying to get it to expound on the OOM example as describe above. I also gave the model a much larger budget of response tokens. Eventually, I teased out this response:</p>

<p>The root cause of the â€¦</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs">https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs</a></em></p>]]>
            </description>
            <link>https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs</link>
            <guid isPermaLink="false">hacker-news-small-sites-25752934</guid>
            <pubDate>Tue, 12 Jan 2021 20:20:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[1028 Words on Free Software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25752516">thread link</a>) | @edward
<br/>
January 12, 2021 | http://deblanc.net/blog/2021/01/12/1028-words-on-free-software/ | <a href="https://web.archive.org/web/*/http://deblanc.net/blog/2021/01/12/1028-words-on-free-software/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>The promise of free software is a near-future utopia, built on democratized technology. This future is just and it is beautiful, full of opportunity and fulfillment for everyone everywhere. We can create the things we dream about when we let our minds wander into the places they want to. We can be with the people we want and need to be, when we want and need to.</p>
<p>This is currently possible with the technology we have today, but itâ€™s availability is limited by the reality of the world we live in â€“ the injustice, the inequity, the inequality. Technology runs the world, but it does not serve the interests of most of us. In order to create a better world, our technology must be transparent, accountable, trustworthy. It must be just. It must be free.</p>
<p>The job of the free software movement is to demonstrate that this world is possible by living its values now: justice, equity, equality. We build them into our technology, and we build technology that make it possible for these values to exist in the world.</p>
<p>At the Free Software Foundation, we liked to say that we used all free software because it was important to show that we could. <i>You can do anything with free software</i>, so we did everything with it. We demonstrated the importance of unions for tech workers and non-profit workers by having one. We organized collectively and protected our rights for the sake of ourselves and one another. We had non-negotiable salaries, based on responsibility level and position. That didnâ€™t mean we worked in an office free from the systemic problems that plague workplaces everywhere, but we were able to think about them differently.</p>
<p>Things were this way because of Richard Stallman â€“ but I view his influence on these things as negative rather than positive. He was a cause that forced these outcomes, rather than being supportive of the desires and needs of others. Rather than indulge in gossip or stories, I would like to jump to the idea that he was supposed to have been deplatformed in October 2019. In resigning from his position as president of the FSF, he certainly lost some of his ability to reach audiences. However, Richard still gives talks. The FSF continues to use his image and rhetoric in their own messaging and materials. They gave him time to speak at their annual conference in 2020. He maintains leadership in the GNU project and otherwise within the FSF sphere. The people who empowered him for so many years are still in charge.</p>
<p>Richard, and the continued respect and space he is given, is not the only problem. It represents a bigger problem. Sexism and racism (among others) run rampant in the community. This happens because of bad actors and, more significantly, by the complacency of organizations, projects, and individuals afraid of losing contributors, respect, or funding. In a sector that has so much money and so many resources, women are still being paid less than men; we deny people opportunities to learn and grow in the name of immediate results; people who arenâ€™t men, who arenâ€™t white, are abused and harassed; people are mentally and emotionally taken advantage of, and we are coerced into burn out and giving up our lives for these companies and projects and we are paid for tolerating all of this by being told weâ€™re doing a good job or making a difference.</p>
<p>But weâ€™re not making a difference. Weâ€™re perpetuating the worst of the status quo that we should be fighting against. We must not continue. We cannot. We need to live our ideals as they are, and take the natural next steps in their evolution. We cannot have a world of just technology when we live in a world of exclusion; we cannot have free software if we continue to allow, tolerate, and laud the worst of us. Iâ€™ve been in and around free software for seventeen years. Nearly every part of it Iâ€™ve participated in has members and leadership that benefit from allowing and encouraging the continuation of maleficence and systemic oppression.</p>
<p>We must purge ourselves of these things â€“ of sexism, racism, injustice, and the people who continue and enable it. There is no space to argue over whether a comment was transphobic â€“ if it hurt a trans person then it is transphobic and it is unacceptable. Racism is a global problem and we must be anti-racist or we are complicit. Sexism is present and all men benefit from it, even if they donâ€™t want to. These are free software issues. These are things that plague software, and these are things software reinforces within our societies.</p>
<p>If a technology is exclusionary, it does not work. If a community is exclusionary, it must be fixed or thrown away. There is no middle ground here. There is no compromise. Without doing this, without taking the hard, painful steps to actually live the promise of user freedom and everything it requires and entails, our work is pointless and free software will fail.</p>
<p>I donâ€™t think itâ€™s too late for there to be a radical change â€“ the radical change â€“ that allows us to create the utopia we want to see in the world. We must do that by acknowledging that just technology leads to a just society, and that a just society allows us to make just technology. We must do that by living within the principles that guide this future now.</p>
<p>I donâ€™t know what will happen if things donâ€™t change soon. I recently saw someone comment that change doesnâ€™t happens unless one person is willing to sacrifice everything to make that change, to lead and inspire others to play small parts. This is unreasonable to ask of or expect from someone. Iâ€™ve been burning myself out to meet other peopleâ€™s expectations for seventeen years, and I canâ€™t keep doing it. Of course I am not alone, and I am not the only one working on and occupied by these problems. More people must step up, not just for my sake, but for the sake of all of us, the work free software needs to do, and the future I dream about.</p>
	</div></div>]]>
            </description>
            <link>http://deblanc.net/blog/2021/01/12/1028-words-on-free-software/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25752516</guid>
            <pubDate>Tue, 12 Jan 2021 19:54:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I learned a language and launched a product in 60 days]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25752341">thread link</a>) | @tg3
<br/>
January 12, 2021 | https://xkit.co/post/pivoting-with-elixir-how-i-learned-a-language-and-launched-a-product-in-60-days | <a href="https://web.archive.org/web/*/https://xkit.co/post/pivoting-with-elixir-how-i-learned-a-language-and-launched-a-product-in-60-days">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h3>Background: Why I had to pivot</h3><p>Almost 3 years ago I incorporated Kinesis Inc, the corporate entity behind <a href="https://xkit.co/">Xkit</a>. But at the time I was building a non-custodial cryptocurrency exchange. After going through Y Combinator and raising $3.5M from some great investors and building a product I was really proud of, I made the hard decision to <a href="https://sparkswap.com/">shut it down</a> nearly a year ago. We hadn't found an audience that would provide venture scale growth, so it was back to the drawing board.</p><p>I started working on an idea in FinTech, trying to help a friend's company solve a problem with SMB customers not paying on time (or at all) for their services. As I talked to prospective customers about the problem, one thing became abundantly clear: in the time that I had spent away from the SaaS world toiling in the Bitcoin mines, expectations around how SaaS tools work together had radically shifted. It was no longer a "bonus" that you worked with some of their other tools, it was an outright necessity. For the product I was exploring I would be building integrations with Quickbooks, Xero, Stripe, and a few others.</p><p>I asked around if anyone had any good tools to accelerate this process, but the responses I got back were pretty disappointing. Nearly every tool was focused on <em>consumers</em> of SaaS software plugging together the services that they used. Not nearly as much was out there for <em>producers</em> of SaaS software trying to build native integrations to the other tools their customers use. Not only that, but the ones that did exist tried to pretend that we live in a world where powerful integrations are easy to design and maintain with a GUI. While I'm a fan of no-code and low-code solutions, the fact remains that for some tasks, leaning on a software development lifecycle is still the most effective and efficient way to build it.</p><p>In the meantime, the US blew up with COVID, throwing the financial markets (which my new FinTech project was heavily dependent on) into turmoil. So like any good (read: desperate) startup founder, I scrapped the FinTech project and started building the tool that I wish had existed to help me build integrations to my prospective customers' other SaaS apps. And despite never having touched the language, I decided to build it in Elixir.</p><h3>Choosing Elixir</h3><p>I've spent most of my career as a software engineer writing in Javascript and Ruby. I've long been intrigued by the concepts behind functional programming (years ago I wrote a small toy to try to achieve immutability on the web, like a centralized IPFS), and a friend introduced me to Elixir, which incorporated some Ruby syntax, making it a bit friendlier to get started with.</p><p>The concepts behind Erlang/OTP/Elixir make it a great fit for a tool like the one I was building. I knew it would be heavily dependent on outside services, meaning it had to be robust to crashes and other unforeseen events. And I knew high concurrency and low latency would be important features as a piece of developer infrastructure. I also wanted to test out <a href="http://www.paulgraham.com/pypar.html">Paul Graham's theory of hiring programmers</a>: choose a good language and great programmers will always want to work for you. And finally, I'd be lying if I said there wasn't a part of me that just wanted to try something new. I had spent the past two years working an idea I had to shut down, my "big pivot" was a non-starter, I had laid off nearly the entire team, and for product development it was just me in my bedroom. So I liked the idea of learning something new while working on my second pivot in 3 months.</p><h3>Learning Elixir</h3><p>I read through <a href="https://elixir-lang.org/getting-started/introduction.html">Elixir's fabulous language guide</a>. I mean I really read it, cover to cover, and did pretty much all the examples as they came up. Then I read through a handful of pages in the Phoenix (the most popular web framework for Elixir) guides before I said "f*** it" and started building what became Xkit. My first commit was on May 14, 2020. Commit message: "Initial install with platforms".</p><p>The first week was rough. I wasn't used to moving this slowly, but not only was a learning a new language with features pretty unfamiliar to me like pattern-matching, I was learning a new paradigm. Javascript is whatever you want it to be, which means I had some exposure to FP incidentally, but almost everything I've spent significant time on has had a pretty object-oriented flavor to it, even dating back to when I first got started with PHP. Not to mention the entire ethos of OTP to "fail fast and noisily" which ran counter to so many experiences which focused on avoiding failure at all costs (yes, I've seen some pretty large try/catch blocks in my day). I got pretty discouraged at the pace I was moving, and somewhere about 10 days in I was really regretting not just using Node/Express, a stack I was so familiar with it felt like I could write the app in my sleep.</p><p>But I kept at it (probably more out of pride than anything else) and a few days later I felt things start to shift. I still wasn't moving fast, but I could tell I was improving. Things that only a few days ago had felt foreign and impossible to grasp started to make sense. From that point on I started accelerating, and on June 1st, I sent one of my investors <a href="https://www.youtube.com/watch?v=7dJi3sAsHM0">this video</a> showing the first version of what became Xkit.</p><figure id="w-node-f920538a9a16-bd98eff4"><p><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://www.youtube.com/embed/7dJi3sAsHM0"></iframe></p></figure><h3>Shortcomings of Elixir and Phoenix</h3><p>I started off trying to use a pure Phoenix stack including their new real-time front-end, <a href="https://github.com/phoenixframework/phoenix_live_view">LiveView</a>. I'll be honest, although I really like Elixir and Phoenix, using Phoenix for the front-end brought me back a bit to my Rails days, and not in a good way. Building a modern web application with those tools felt like I'd be working against the tide. I also am pretty partial to <a href="https://evergreen.segment.com/">Evergreen</a>, the React UI kit by Segment, and I was bearing down on the 6 week timeline I'd set for myself to launch this product. So I ripped out the Phoenix front-end and converted it to be a back-end only application and built a new front-end in React and Evergreen. I did end up using Phoenix's websocket implementation which was a big help integrating the two, although some pieces are not very well documented.</p><p>When I finally getting close to launching, I ran up against the greatest weakness of my choice to use Elixir: deployment. While the world has moved towards a serverless paradigm, Elixir/Erlang/OTP thrive by handling a lot of the same things that "serverless" promises. That means that to really take advantage of all it has to offer, you're better off deploying it on as close to bare metal as you can. That, in addition to some of the architecture choices I made with Xkit (specifically to provision a custom subdomain for every user), made deployment quite a challenge. Failing to find any good documentation about how to deploy a Phoenix application on AWS, I ended up <a href="https://xkit.co/post/deploying-phoenix-for-elixir-on-aws-ec2">writing a blog post about our process</a>.</p><p>You might think it's overkill for a one-person development team to have a one-command deploy process, but I assure you, based on my past experience, it's well worth the effort. You don't want critical DevOps knowledge in one person's head, or worse, on some inscrutable AWS GUI. I want it all in code. Even today, you can take the entire Xkit stack, move it to a new AWS account and have it up and running with a single command in around 30 minutes.</p><h3>Launching Xkit</h3><p>The delays I hit caused me to miss my six week launch goal by two weeks: I launched to some fellow YC founders on July 12 with ~15 connectors and <a href="https://www.youtube.com/watch?v=7MqwQ3Czejs">this video</a>. Two weeks after that I launched on <a href="https://www.producthunt.com/posts/xkit">Product Hunt</a> and shortly after that on <a href="https://news.ycombinator.com/item?id=24121290">Hacker News</a> with over 25 connectors. Since then we've worked with some really great early customers who have helped us refine the product, and I've been able to hire a few friends to help grow the business.</p><figure id="w-node-9133d12a636d-bd98eff4"><p><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://www.youtube.com/embed/7MqwQ3Czejs"></iframe></p></figure><p>We're well over 50 connectors at this point (almost entirely driven by customer requests) and we add so many that we no longer track it as a metric. And while I'm still contributing code, I can safely say that the majority of the coding that I will do for Xkit is now likely behind me. But the process of building Xkit (and learning Elixir in the process) has been incredibly rewarding, and hopefully we're just getting started.</p><p>â€</p><p>PS - In case you're wondering about the answer to PG's theory about language being a good hiring tool - my early results indicate that it is. From a single post on <a href="https://elixirforum.com/">Elixir Forum</a> I met one of the best engineers I've seen, and a few weeks later he recruited one of the best engineers he'd worked with to join the team.</p></div></div></div>]]>
            </description>
            <link>https://xkit.co/post/pivoting-with-elixir-how-i-learned-a-language-and-launched-a-product-in-60-days</link>
            <guid isPermaLink="false">hacker-news-small-sites-25752341</guid>
            <pubDate>Tue, 12 Jan 2021 19:42:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Roommate Stories â€“ Find and Share Roommate Experiences]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25752124">thread link</a>) | @rarestoma
<br/>
January 12, 2021 | https://www.roombuddy.co/en/roommate-stories | <a href="https://web.archive.org/web/*/https://www.roombuddy.co/en/roommate-stories">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    <div>
                      <p>Be the first to find the news!</p>
                      
                    </div>
                  </div></div>]]>
            </description>
            <link>https://www.roombuddy.co/en/roommate-stories</link>
            <guid isPermaLink="false">hacker-news-small-sites-25752124</guid>
            <pubDate>Tue, 12 Jan 2021 19:27:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[If it will matter after today, don't talk about it in a chat room]]>
            </title>
            <description>
<![CDATA[
Score 674 | Comments 277 (<a href="https://news.ycombinator.com/item?id=25751808">thread link</a>) | @mcrittenden
<br/>
January 12, 2021 | https://critter.blog/2021/01/12/if-it-matters-after-today-stop-talking-about-it-in-a-chat-room/ | <a href="https://web.archive.org/web/*/https://critter.blog/2021/01/12/if-it-matters-after-today-stop-talking-about-it-in-a-chat-room/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	<div id="content">

	<div id="primary">
		<main id="main">

		

<article id="post-5558">
	<!-- .entry-header -->

	<div>
		
<p>Live chat (Slack, Teams, etc.) sucks for important discussions.</p>



<p>Thinking one line at a time lowers the quality of the <a href="https://critter.blog/2020/01/08/discussion-topics-for-development-teams/">discussion</a>. Knee jerk rapid fire responses become the norm.</p>



<p>Conversations that last weeks or even days get lost and context gets fuzzy. Threads scroll up into the past and are never seen again.</p>



<p>Despite the â€œasychronousâ€ claim, you have to <a href="https://critter.blog/2019/09/05/the-chatodoro-breaking-the-group-chat-addiction/">keep a steady eye on it</a> and reply in realtime or the conversation will move on without you. Anyone who takes the time to ponder and respond thoughtfully with context and explanation will find that theyâ€™re too late. </p>



<p>If you go on vacation or even take a few hours of <a href="https://critter.blog/2020/10/13/heads-down-tuesday/">focused time for deep work</a>, you come back to hundreds or thousands of messages. Often your only option is to declare chat room <a href="https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/">bankruptcy</a> which means missing out on important discussions and big decisions.</p>



<p>Iâ€™m not saying live chat is useless. Itâ€™s great at some things:</p>



<ul><li>Quick answers to quick questions</li><li><a href="https://critter.blog/2020/12/15/good-teams-are-noisy/">Low-stakes status updates</a></li><li>Swarming around <a href="https://critter.blog/2016/10/14/making-the-most-of-post-mortems/">red alerts or outages</a></li><li><a href="https://critter.blog/2020/12/08/the-key-to-happiness-is-to-stop-getting-upset-all-the-dang-time/">Fun and belonging</a> (especially for remote workers)</li></ul>



<p>In other words, <strong>live chat is for the things that can get lost.</strong> </p>



<p><a href="https://critter.blog/2021/01/07/a-simple-process-beats-a-perfect-process/">Rule of thumb</a>: <em>If a discussion will matter after today, donâ€™t have it in a chat room.</em> Check out <a href="https://www.discourse.org/">Discourse</a>, <a href="https://twist.com/">Twist</a>, <a href="https://carrot.io/">Carrot</a>, <a href="https://threads.com/">Threads</a>, <a href="https://basecamp.com/">Basecamp</a>, <a href="https://flarum.org/">Flarum</a>, or heck even GitHub issues. These tools exist for a reason. They solve a real problem.</p>



<ul><li>They encourage longer form responses rather than quick one liner replies. </li><li>They show you a list of threads <em>with titles</em> for maximum <a href="https://critter.blog/2020/10/05/guerrilla-productivity-tactics/">skim-ability</a>. </li><li>They let you sort (by last comment, for example) and filter threads or archive them once a decision has been reached. </li><li>They donâ€™t show online/offline indicators or timezone notifications or â€œXYZ is typingâ€¦â€ because nobody expects a quick response anyway.</li><li>Some of them even support multi-level (Reddit-style) threading, which can help if a lot of people are involved.</li></ul>



<p>Try it as <a href="https://critter.blog/2020/08/12/stop-changing-start-experimenting/">an experiment</a>. For one sprint, ask if your team will put anything that matters after today in a discussion tool instead of a chat room. Then see if they want to switch back after the sprint ends.</p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-5558 -->
			<!-- .post-nav-wrapper -->
		
		</main><!-- #main -->
	</div><!-- #primary -->


<!-- #secondary -->

	</div><!-- #content -->

	
	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://critter.blog/2021/01/12/if-it-matters-after-today-stop-talking-about-it-in-a-chat-room/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25751808</guid>
            <pubDate>Tue, 12 Jan 2021 19:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple stores may become Covid vaccination centers â€“ map of stores vs. symptoms]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25751676">thread link</a>) | @smalera
<br/>
January 12, 2021 | https://www.businessofbusiness.com/articles/apple-store-covid-vaccination-centers-map-tim-cook/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/apple-store-covid-vaccination-centers-map-tim-cook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>Rumors have been swirling around which stores and spaces will be repurposed as COVID vaccination sites, from Whole Foods&nbsp;to London nightclubs. And this morning, we learned that people might be lining up for their vaccines at the Apple Genius Bar. CBS News reported that Apple will make a big announcement tomorrow, January 13. According to CBS, the forthcoming announcement is not product-related and will&nbsp;have a major impact on the general public.&nbsp;</p>
<p>People have been speculating that Apple Stores will be used to administer COVID vaccinations, and, according to our data, they're perfectly positioned for the task.</p>

<p>On the above map, the shaded regions represent areas with&nbsp;large percentages of people with COVID symptoms. The yellow dots are Apple stores. Store locations are largely concentrated where COVID symptoms&nbsp;have been reaching record highsâ€” the northeast, southeast, upper midwest, California. The United States has woefully underperformed its vaccination targets so far. Only about 9 million Americans have received the vaccination thus far, underperforming the CDC's target to have 20 million people vaccinated by the end of 2020. President-elect Joe Biden has announced a drive to have 100 million Americans vaccinated during his first 100 days in office, which will require dozens of new sites to be opened around the country.</p>
<p>If Apple stores do indeed become vaccination centers, that would likely have a positive impact on what has been one of the biggest blockers so far in the distribution chain â€” getting the vaccine from freezers into peoples' arms.</p>
<p><em>CBS This Morning</em> teased&nbsp;the interview with Tim Cook, which&nbsp;<span>Gayle King</span>&nbsp;conducted at an Apple Store. "What we're going to tell you about tomorrow, it's very exciting news,"&nbsp;King says. "[Cook is] a&nbsp;very strong business leader who deeply cares about this country ... and wants to do good." Watch the full clip below.</p>
<p><iframe allowfullscreen="allowfullscreen" height="315" src="https://www.youtube.com/embed/JbnbC3DNbQw" width="560"></iframe></p>
      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/apple-store-covid-vaccination-centers-map-tim-cook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25751676</guid>
            <pubDate>Tue, 12 Jan 2021 19:01:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Replicated Object Notation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25751364">thread link</a>) | @gritzko
<br/>
January 12, 2021 | http://doc.replicated.cc/%5EWiki/ron.sm | <a href="https://web.archive.org/web/*/http://doc.replicated.cc/%5EWiki/ron.sm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<p>Replicated Object Notation (RON) is a format for <em>distributed live data</em>. It guarantees continuous <a href="http://doc.replicated.cc/%5EWiki/ronc.sm">bitwise</a> convergence of replicated data structures in a network of arbitrary <a href="http://doc.replicated.cc/%5EWiki/network.sm">topology</a>. That makes it a good fit for collaborative software, data synchronization on mobile devices, and broadly defined decentralized apps.
RON was specifically designed for <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type">CRDTs</a> (Conflict-Free Replicated Data Types).
For example, this page is a versioned/collaborative <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@ront">CRDT object</a> containing some CommonMark <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@text">wikitext</a>.
RON can express non-CRDT data too.</p>
<p>RON is op-based, so it expresses objects, patches and separate ops with equal ease. It can work in real-time, it can work offline. Still, it tries very hard to look like your regular notation of the day.
Here is a simple <a href="http://json.org/">JSON</a> object:</p>
<pre><code>    {   "_id":      "0-2dE-Wares",
        "type":     "apples",
        "quantity": 4,
        "color":    "red"           }
</code></pre>
<p>This is how it may look in RON:</p>
<pre><code>    @0-2dE-Wares :struct,
        type        apples,
        quantity    4,
        color       red;
</code></pre>
<p>This does not seem like a big difference.
Looks like RON is yet another notation, like <a href="http://yaml.org/">YAML</a> or something, right?
Key differences are three:</p>
<ol>
<li>RON is op-based, so every line here is an op.</li>
<li>Every op has a globally unique ID, like <code>0-2dE-Wares</code>;
we may skip those IDs when they go in incremental sequence.</li>
<li>RON is typed, e.g. this particular object is a <code>struct</code>.</li>
</ol>
<p>Note that RON ops, objects and versions are all addressable.
Every new op gets a unique <a href="http://en.wikipedia.org/wiki/Lamport_timestamp">logical timestamp</a> ID.
That ID also serves as the ID of the version that op created
(in the context of our <a href="http://doc.replicated.cc/%5EWiki/oplog.sm">subjective order</a> of events).
The op that created the object gives its ID to the object itself,
e.g. <code>0-2dE-Wares</code>.</p>
<p>Now suppose you ate one apple. How do you convey that?
<a href="http://tools.ietf.org/html/rfc6902">RFC6902</a> JSON patch may look like this:</p>
<pre><code> [ { "op":"replace", "path":"/quantity", "value":3 } ]
</code></pre>
<p>With RON, you add a new op that references the object.</p>
<pre><code>    @4-2dI-Wares :3-2dH-Wares quantity 3;
</code></pre>
<p>In this case, the new op has an ID <code>4-2dI-Wares</code>.
Also, it references the version of the object it amends: <code>3-2dH-Wares</code>.
That was the id of the last op; the one that set <code>color</code> to <code>red</code>.</p>
<p>If you can point to a particular version of the object, why not
request a patch?</p>
<pre><code>    @patch :3-2dH-Wares? 
    @4-2dI-Wares :3-2dH-Wares quantity 3;
</code></pre>
<p>So far so good.</p>
<p>RON supports arbitrary data structures.
RON Struct is a simple and cheap one, it does not support nesting or complex values.
Although, values of a <code>struct</code> can be IDs referencing other objects, so that way you
can nest other data structures in it.
Still, RON Trie is the best one to represent arbitrary JSON.
Suppose, I list the contents of my shelf in JSON:</p>
<pre><code>{
    "shelf": {
        "jarA": {
            "content": "candies",
            "count": 20
        },
        "jarB": {
            "content": "vitamins",
            "count": 100
        }
    }
}
</code></pre>
<p>A <a href="http://doc.replicated.cc/%5EWiki/rdt/trie.sm">RON Trie</a> is like a regular <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@ront">trie</a>, except it consists of
tuples of RON atoms, not strings of chars.
For our shelf JSON, a <code>trie</code> looks like this:</p>
<pre><code>@0-3d-Wares :trie,
    shelf   jarA    content candies,
    ~       ~       count   20,
    ~       jarB    content vitamins,
    ~       ~       count   100;
</code></pre>
<p>Here, RON shows its tabular nature.
Still, you may also see the trie, defined as a set of tuples/paths.</p>
<p>The directory/file structure of this wiki is stored as a trie.
You may see the resulting <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@trie:DW_ROOT">RON trie</a> or the
<a href="http://doc.replicated.cc/%5EWiki/ron.sm?@ront:DW_ROOT">original RON trie</a> with all the history and metadata.
You may also see it as <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@json:DW_ROOT">JSON</a>.</p>
<p>Now, let's take a look at
the crown jewel of the system: a type for collaboratively edited text.
Like the one you may find in Google Docs or a similar system. Those need a lot of
rocket science under the hood!
In a real-time collaboratively edited text, every letter is added or removed
by a separate op. That may produce a lot of overheads, so every serialization
of RON (<a href="http://doc.replicated.cc/%5EWiki/'serial'/ront.sm">RONt</a>, RONv, RONp) optimizes that case in some way.
RONt uses <a href="http://doc.replicated.cc/%5EWiki/spreads.sm">spreads</a>: consecutively numbered single-char ops merge into a string. Here you see six formally-identical ways to render "Hello world!":</p>
<pre><code>@0-jG-test :text, ('Hello world!');
@0-jG-test :text, ('Hello world'), '!';
@0-jG-test :text, ('Hello world'), :B-jR-test '!';
@0-jG-test :text, 'H', ('ello world'), 
                            @C-jS-test :B-jR-test '!';
@0-jG-test :text, 'H', 'e', 'l', 'l', 'o', ' ', 
                        'w', 'o', 'r', 'l', 'd', '!';
</code></pre>
<p>The underlying CRDT data type is named a <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type">Causal Tree</a>.
All pages of this wiki are stored as causal tries.
See the <a href="http://doc.replicated.cc/%5EWiki/ron.sm?@ront">source RON</a> of this page for an extensive example of
a RONt coded versioned text.</p>
<p>The last but not the least, let's consider such a boring but
essential topic as tabular data.
For your average CSV data-dump cases, RON supports a simple
tabular type <a href="http://doc.replicated.cc/%5EWiki/rdt/tab.sm">RON Tab</a>. For a CSV like this:</p>
<pre><code>Jar;Content;Count
jarA;candies;20
jarB;vitamins;100
</code></pre>
<p>A <code>tab</code> object would look like this:</p>
<pre><code>   @0-dK2-data :tab  jar    content     count,
                     jarA   candies     20,
                     jarB   vitamins    100;
</code></pre>
<p><code>tab</code> is a cheap and simple type. It can not change the format
of a record; it can only append or remove whole records.</p>
<p>But suppose you need something more like Excel, a lot of action around
your data. Then, you may resort to the most general key-value RON type
named Dict. It maps any RON tuple to another tuple.
For example:</p>
<pre><code>    @0-X3n-data :dict,
        jarA   content   ~   candies,
        jarA   count     ~   20,
        jarB   content   ~   vitamins,
        jarB   count     ~   100;
</code></pre>
<p>A <code>dict</code> can store sparse or multidimensional tables,
as it can update, insert or delete columns, rows or separate cells.
Actually, <code>dict</code> can express a broad range of data structures,
including relational tables.</p>
<p>Now, it is probably the right time to introduce the formal rules of RON.</p>
<ul>
<li>There are four types of RON atoms:
<ol>
<li>UUID, a 128-bit <a href="http://doc.replicated.cc/%5EWiki/spec/uuid.sm">RON UUID</a> that can be of one of four <em>versions</em>:
NAME, TAG, LAMPORT, YOLO. The last two are <a href="http://en.wikipedia.org/wiki/Lamport_timestamp">logical timestamps</a>.</li>
<li>INT, a 64-bit signed integer,</li>
<li>STRING, a Unicode string,</li>
<li>FLOAT, an IEEE 754 float.</li>
</ol>
</li>
<li>A RON tuple contains zero or more RON atoms, of any types.
Tuple size is limited to 1GB in the <a href="http://doc.replicated.cc/%5EWiki/%27serial%27/ronc.sm">RONc form</a>.</li>
<li>A RON op is a RON tuple that also has its own globally unique UUID
(of a logical timestamp kind) and references some pre-existing op by
its UUID. This reference attaches the new op to the existing graph
of data. That way, RON builds data structures out of ops.</li>
<li>One or more RON ops form a <em>frame</em>. A frame can be a FACT, a QUERY,
or a CLAIM. In RONt, these are denoted with <code>;</code> <code>?</code> and <code>!</code> terminating signs.</li>
</ul>
<p>This is what RON is.</p>
</div>]]>
            </description>
            <link>http://doc.replicated.cc/%5EWiki/ron.sm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25751364</guid>
            <pubDate>Tue, 12 Jan 2021 18:39:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Property Based Testing Confluent Server Storage for Fun and Safety]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25751059">thread link</a>) | @lbradstreet
<br/>
January 12, 2021 | https://www.confluent.io/blog/property-based-testing-confluent-tiered-storage/ | <a href="https://web.archive.org/web/*/https://www.confluent.io/blog/property-based-testing-confluent-tiered-storage/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-swiftype-name="body" data-swiftype-type="text"><p>Confluent uses <a href="https://www.leadingagile.com/2018/04/step-by-step-toward-property-based-testing/" target="_blank" rel="noopener noreferrer">property-based testing</a> to test various aspects of Confluent Serverâ€™s <a href="https://www.confluent.io/blog/infinite-kafka-storage-in-confluent-platform/" target="_blank" rel="noopener noreferrer">Tiered Storage</a> feature. Tiered Storage shifts data from expensive local broker disks to cheaper, scalable object storage, thereby reducing storage costs, rebalancing times, and improving elasticity. However, if Tiered Storage is not implemented correctly, the result can be significant data loss.</p>
<p>Property-based testing is highly effective when used in combination with traditional testing techniques, such as example-based testing, integration testing, and so on. This post describes some of the property-based testing that Confluent performs on the log-orientated storage layer of Confluent Server and how we test the integration of Tiered Storage with Apache Kafka<sup>Â®</sup>â€™s traditional storage layer.</p>
<p>Property-based testing aims to test several key behaviors of the log to ensure the following:</p>
<ul>
<li>Data must never be prematurely deleted due to the different forms of retention or other log operations</li>
<li>Data must never be exposed incorrectly to follower brokers or consumers</li>
<li>We should not tier data that may potentially be truncated due to Apache Kafkaâ€™s replication protocol</li>
</ul>
<p>To implement a stateful property test for the log layer, we used <a href="https://www.scalacheck.org/" target="_blank" rel="noopener noreferrer">ScalaCheckâ€™s</a> <a href="https://github.com/typelevel/scalacheck/blob/master/doc/UserGuide.md#stateful-testing" target="_blank" rel="noopener noreferrer">stateful testing functionality</a>.</p>
<p>Here are the relevant terms to know:</p>
<ul>
<li><strong>Log</strong>: the log that stores replica data for a partition</li>
<li><strong>System Under Test (SUT):</strong> the real system being modelled, which is a log in this case</li>
<li><strong>Log model:</strong> the modeled state for the system under test (SUT)</li>
<li><strong>Log segment:</strong> a unit of zero or more record batches; consists of a .log file and associated indices</li>
<li><strong>Active segment:</strong> the segment with the highest base offset and to which new appends will be written</li>
<li><strong>Retention:</strong> the process by which users control the size of a topicâ€™s partitions by duration, size, or triggered deletions</li>
<li><strong>Log start offset:</strong> the inclusive lower bound offset for the log</li>
<li><strong>Log end offset:</strong> the exclusive upper bound offset for the log</li>
</ul>
<h2 id="initial-state-generator"><a id="initial-state-generator"></a>Initial state generator</h2>
<p>Every property test run must start with an initial stateâ€”in this case, a model of the log. To create this initial state, we define an initial state generator. The primary behavior that we are testing for is the correct behavior of retention logic. Two critical configurations for this behavior are <code><a href="https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#retention.ms" target="_blank" rel="noopener noreferrer">retention.ms</a></code> (retention according to time) and <code><a href="https://docs.confluent.io/platform/current/installation/configuration/topic-configs.html#confluent.tier.local.hotset.ms" target="_blank" rel="noopener noreferrer">confluent.tier.local.hotset.ms</a></code> (hotset retention). See below for a visualization of how hotset retention causes a Tiered Storage based log to span the tiered set and the local hotset data. Our initial state generator will generate configurations for these settings and an initial state.<br>
<img src="https://cdn.confluent.io/wp-content/uploads/hotset-web.png" alt="tiered | local hotset | untiered" width="1000" height="304" srcset="https://cdn.confluent.io/wp-content/uploads/hotset-web.png 1000w, https://cdn.confluent.io/wp-content/uploads/hotset-web-300x91.png 300w, https://cdn.confluent.io/wp-content/uploads/hotset-web-768x233.png 768w, https://cdn.confluent.io/wp-content/uploads/hotset-web-350x106.png 350w, https://cdn.confluent.io/wp-content/uploads/hotset-web-600x182.png 600w" sizes="(max-width: 1000px) 100vw, 1000px"></p>
<pre>Generator:
retentionMs &lt;- Gen.chooseNum[Long](0, 200)
hotsetRetentionMs &lt;- Gen.chooseNum[Long](0, 50) config = Map("retention.bytes" -&gt; Long.MaxValue,
             "retention.ms" -&gt; retentionMs,
             "confluent.tier.local.hotset.ms" -&gt; hotsetRetentionMs)

SUT:
log = new Log(generatedConfig)

Model state:
logStartOffset = 0
logEndOffset = 0
config = generatedConfig
segments = [SegmentState(baseOffset = 0, nextOffset = 0, maxTimestamps = None)]
deletedLocalSegments = []
tieredSegments = []
deletedTieredSegments = []
committedEndOffset = -1
</pre>
<h2 id="action-generator"><a id="action-generator"></a>Action generator</h2>
<p>The log property tests generate different sub-actions at various frequencies, ensuring that more common operations are performed more frequently in proportion to the number listed for each action. Descriptions of these actions will follow.</p>
<pre>Gen.frequency(
  (20, Append),
  (20, AdvanceHighWatermark),
  (20, Read),
  (10, AdvanceTime),
  (10, IncrementLogStartOffset),
  (10, TierUploadSegment),
  (10, RollSegment),
  (10, CommitTierState),
  (10, Retention),
  (10, TierRetention),
  (1, CloseAndReopen))
</pre>
<h2 id="append"><a id="append"></a><code>Append</code></h2>
<p><code>Append</code> generates a record batch of different record types, with a bounded range of timestamps and various compression choices. The generated record batch is then appended to the SUT log.<br>
The model state is updated to advance the log end offset and accumulate the records that have been appended.</p>
<pre>Action: Append(generatedRecords):

Generators:
CompressionType:
Gen.oneOf(CompressionType.NONE, CompressionType.SNAPPY, CompressionType.GZIP, CompressionType.LZ4)

Record:
timestamp &lt;- Gen.chooseNum[Long](baseTimestamp, minTimestamp)
key &lt;- Gen.oneOf(Gen.alphaNumStr.map(_.getBytes(StandardCharsets.UTF_8)), Gen.const(null))
value &lt;- Gen.oneOf(Gen.alphaNumStr.map(_.getBytes(StandardCharsets.UTF_8)), Gen.const(null))

RecordBatch:
magic &lt;- Gen.oneOf(RecordBatch.MAGIC_VALUE_V0, RecordBatch.MAGIC_VALUE_V1, RecordBatch.MAGIC_VALUE_V2)
records &lt;- Gen.nonEmptyListOf(Record)
compressionType &lt;- CompressionType

SUT action:
log.appendAsLeader(generatedRecordBatch)

Model action:
activeSegment.append(generatedRecordBatch)
records.add(generatedRecordBatch)
logEndOffset = logEndOffset :+ generatedRecordBatch.size
</pre>
<h2 id="advancehighwatermark"><code><a id="advancehighwatermark"></a>AdvanceHighWatermark</code></h2>
<p><code>AdvanceHighWatermark</code> simulates the movement of the high watermark (HWM). In Apache Kafka, high watermark increases occur as follower replicas fetch data from the leader.<br>
The high watermark affects several behaviors of the log. For example, it dictates the upper bounds of allowable retention, segments eligible for tiering, and log start offset movement resulting from <code>DeleteRecords</code> API calls.</p>
<p>Due to how Apache Kafka performs offset translation, we limit high watermark movements such that they align with record batch base offsets or the log end offset. The reason for this will be discussed later.</p>
<pre>Action: AdvanceHighwatermark(newHighwatermark):

SUT action:
log.updateHighWatermark(newHwm)

Model:
hwm = newHwm
</pre>
<h2 id="rollsegment"><code><a id="rollsegment"></a>RollSegment</code></h2>
<p><code>RollSegment</code> forces a segment roll on the SUTâ€™s log. This is necessary because we set <code>segment.bytes</code> and <code>segment.ms</code> to their maximum possible values, given that this logic is currently unimplemented in the model. When it is implemented, this action will no longer be required.</p>
<pre>Action: RollSegment()

Log action:
Log.roll()

Model:
Create a new empty active segment if the existing active segment is empty
</pre>
<h2 id="tieruploadsegment"><code><a id="tieruploadsegment"></a>TierUploadSegment</code></h2>
<p><code>TierUploadSegment</code> checks whether any segments meet the necessary conditions for tiering and then simulates an upload of the segment to object storage. The candidate segment must meet the following conditions:</p>
<ul>
<li>The segment must not be the active segment</li>
<li>The segment end offset must be greater than the log start offset</li>
<li>The segment is the first tierable segment that has not otherwise been tiered</li>
<li>The segment end offset must be below the high watermark</li>
</ul>
<pre>Action: TierUploadSegment()

Log action:
simulateUpload(firstTierableSegment)

Model:
tieredSegments.add(firstTierableSegment)
</pre>
<h2 id="committierstate"><code><a id="committierstate"></a>CommitTierState</code></h2>
<p>Tiered logs contain local state consisting of metadata for tiered segments. Confluent Server achieves safety of the overall log by preventing deletion of any local segment covered by tiered segments until after this state has been safely committed (flushed).</p>
<pre>Action: CommitTierState()

Log action:
log.tierPartitionState.flush()

Model:
committedEndOffset = tieredSegments.last.endOffset
</pre>
<h2 id="incrementlogstartoffset"><code><a id="incrementlogstartoffset"></a>IncrementLogStartOffset</code></h2>
<p>The <code>IncrementLogStartOffset</code> action simulates two behaviors in Apache Kafka. The first is when an application or user uses the <code><a href="https://kafka.apache.org/22/javadoc/index.html?org/apache/kafka/clients/admin/AdminClient.html" target="_blank" rel="noopener noreferrer">DeleteRecords</a></code>API to advance the log start offset. The second is when a leader has a higher log start offset than the follower, which will trigger the advance of the log start offset via the replication protocol.</p>
<pre>Action: IncrementLogStartOffset(newLogStartOffset: Long)
Generated:
newLogStartOffset &lt;- Gen.chooseNum(state.logStartOffset, state.highWatermark)

Log action:
log.maybeIncrementLogStartOffset(newLogStartOffset, ClientRecordDeletion)

Model:
logStartOffset = newLogStartOffset
</pre>
<h2 id="retention"><code><a id="retention"></a>Retention</code></h2>
<p><code>Retention</code> applies Apache Kafkaâ€™s local log retention to the SUT in the following order of application:</p>
<ol>
<li><code>retention.ms</code></li>
<li><code>retention.bytes</code></li>
<li>log start offset</li>
</ol>
<p>In the case of log start offset retention, any segments lower than the log start offset will be deleted. The retention action must be careful not to delete any local segments that are not deletable due to data that has been tiered. For example, if any tiered segments past the start offset are not deletable, then any following local segments will not be deletable.</p>
<pre>Action: Retention()

Log action:
log.deleteOldSegments()

Model:
Apply retention time retention
Advance the log start offset if any local segments have been deleted
Apply log start offset retention
Apply hotset time retention
</pre>
<h2 id="tierretention"><code><a id="tierretention"></a>TierRetention</code></h2>
<p>The <code>TierRetention</code> action performs retention for the tiered portion of the log. <code>TierRetention</code> is similar to normal log retention, except it is responsible for deletion of the section of the log that has been tiered.</p>
<pre>Action: TierRetention()

Log action:
log.tierDeleteOldSegments()

Model:
Delete the first tiered segment if it is below the log start offset or if maxTimestamp &lt; currentTimeMs - retention.ms
</pre>
<h2 id="closeandreopen"><code><a id="closeandreopen"></a>CloseAndReopen</code></h2>
<p><code>CloseAndReopen</code> closes the log and reopens it. It is important to test the opening of the log as it re-initializes critical variables and may perform log <code>recovery</code> if the log was not closed cleanly. If the generated recover variable is true, the log will be forced to perform log recovery from the beginning of the log as if it were not closed cleanly. This rebuilds in-memory epoch and producer states from local segments rather than restoring them from checkpointed states on disk.</p>
<pre>Action: CloseAndReopen(recover: Boolean)

Log action:
log.close()
new Log(recoveryOffset)

Model:
No action
</pre>
<h2 id="read"><code><a id="read"></a>Read</code></h2>
<p><code>Read</code> performs a read of the log starting at an offset under a particular isolation mode. The offset affects the starting point of the read, and isolation action affects the data that is allowed to be returned by the fetch. For example, for <code>FetchHighWatermark</code>, only records below the high watermark are allowed to be returned.</p>
<p><code>Read</code> is implemented here as an action rather than as a property check for two reasons. The first is that checking every potential combination of <code>fetchOffset</code> and <code>isolation</code> after every action will be expensive. Secondly, reads can affect the behavior of the log by advancing high watermarks, triggering values to be â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.confluent.io/blog/property-based-testing-confluent-tiered-storage/">https://www.confluent.io/blog/property-based-testing-confluent-tiered-storage/</a></em></p>]]>
            </description>
            <link>https://www.confluent.io/blog/property-based-testing-confluent-tiered-storage/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25751059</guid>
            <pubDate>Tue, 12 Jan 2021 18:20:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UNEP Breached, 100K+ Employee Records Accessed]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25751055">thread link</a>) | @giuliomagnifico
<br/>
January 12, 2021 | https://johnjhacking.com/blog/unep-breach/ | <a href="https://web.archive.org/web/*/https://johnjhacking.com/blog/unep-breach/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A writeup detailing the exposed employee records that Sakura Samurai managed to access during our security research through their vulnerability disclosure program.</p><p>Reading time: 3 minutes.</p><div>
      

<p>We noticed that The United Nations had a Vulnerability Disclosure Program and a Hall of Fame, therefore Sakura Samurai æ¡œã®ä¾ our security research group, set out to look for vulnerabilities to report to the United Nations. During the research process Jackson Henry @JacksonHHax , Nick Sahler, John Jackson @johnjhacking and Aubrey Cottle @Kirtaner identified an endpoint that exposed Git Credentials. The credentials gave us the ability to download the Git Repositories, identifying a ton of user credentials and PII. In total, we identified over 100K+ private employee records. We also discovered multiple exposed .git directories on UN owned web servers [ilo.org], the .git contents could then be exfiltrated with various tools such as â€œgit-dumperâ€.</p>

<p><strong>Travel Records [Two Documents: 102,000+ Records]</strong></p>
<p><img src="https://johnjhacking.com/uploads/travel-records.png" alt=""><br>
Travel Records Included Employee ID Numbers, Names, Employee Groups, Travel Justification, Start and End Dates, Length of Stay, Approval Status, Destination and the Length of the stay.</p>
<p><strong>HR Nationality Demographics [Two Documents: 7,000+ Records]</strong></p>
<p><img src="https://johnjhacking.com/uploads/nationality-records.png" alt=""><br>
Included Employee Name, Employee Group, Employee ID Numbers, Personâ€™s Nationality, Personâ€™s Gender, Employee Pay Grade, Organization Work Unit Identification Number and Organization Unit Text Tags.</p>
<p><strong>Generalized Employee Records [One document: 1,000+ Records]</strong></p>
<p><img src="https://johnjhacking.com/uploads/hr-records.png" alt=""><br>
Index Numbers, Employee Names, Employee Emails, Employee Work Subareas and Employee Org Units. Note: The column with the â€œRed number 1â€ represent the Employeeâ€™s specific work department and was blurred as some of the sub-units are smaller.</p>
<p><strong>Project and Funding Source Records [One Document: 4,000+ Records]</strong></p>
<p><img src="https://johnjhacking.com/uploads/project-funding.png" alt=""><br>
Included Project Identification Number, Affected Areas, Grant and Co-financing amounts, Implementing Agencies, Countries, Funding Sources, Period of the Project and if the Project/Concept was approved.</p>
<p><strong>Evaluation Reports [One Document: 283 Projects]</strong></p>
<p><img src="https://johnjhacking.com/uploads/eval-reports.png" alt=""><br>
Overall descriptions of the Evaluations and Reports, Periods Conducted and a link to the report on the project.</p>

<p>In addition, on the lesser side of severity, we managed to takeover a SQL Database and a Survey Management Platform belonging to the International Labour Organization - also in the UNâ€™s VDP program scope. However, it was of note that the ILO vulnerabilities were of little prominence as the Database and Survey Management platform were fairly abandoned in nature and contained hardly anything of use. Nonetheless, a Database takeover and admin account takeover on a platform are still Critical vulnerabilities.</p>
<p>We had performed subdomain enumeration of all of the domains in scope for the VDP offered by the UN. During our research, we began to fuzz multiple endpoints with tooling and initially discovered that an ilo.org subdomain had an exposed .git contents. Utilizing git-dumper [<a href="https://github.com/arthaud/git-dumper" title="https://github.com/arthaud/git-dumper"><strong>https://github.com/arthaud/git-dumper</strong></a>] we were able to dump the project folders hosted on the web application, resulting in the takeover of a MySQL database and of  survey management platform due to exposed credentials within the code.</p>
<p><strong>MySQL Credentials</strong></p>
<p><strong><img src="https://johnjhacking.com/uploads/sql.png" alt=""><br>
Note:</strong> <em>We will not provide a picture of the survey platform due to the specific nature of the application.</em></p>
<hr>
<p>After we had taken over one of the International Labour Organizationâ€™s MySQL Databases and performed account takeover on the survey management platform, we began to enumerate other domains/subdomains.</p>
<p>Eventually, we found a subdomain on the United Nations Environment Programme that allowed us to discover github credentials after a bit of fuzzing.</p>
<p><img src="https://johnjhacking.com/uploads/git.png" alt=""><br>
Ultimately, once we discovered the GitHub credentials, we were able to download a lot of private password-protected GitHub projects and within the projects we found multiple sets of database and application credentials for the UNEP production environment. In total, we found <strong>7 additional credential-pairs</strong> which could have resulted in unauthorized access of multiple databases. We decided to stop and report this vulnerability once we were able to access PII that was exposed via Database backups that were in the private projects.</p>
<hr>
<p><strong>Check out our website</strong><br>
<a href="https://sakurasamurai.org/" title="Sakura Samurai">https://sakurasamurai.org</a></p>
<p><strong><em>Twitter Links:</em></strong><br>
Main Page<br>
<a href="https://twitter.com/SakuraSamuraii" title="https://twitter.com/SakuraSamuraii">https://twitter.com/SakuraSamuraii</a><br>
Founders<br>
<a href="https://twitter.com/johnjhacking" title="https://twitter.com/johnjhacking">https://twitter.com/johnjhacking</a><br>
<a href="https://twitter.com/nicksahler" title="https://twitter.com/nicksahler">https://twitter.com/nicksahler</a><br>
Members<br>
<a href="https://twitter.com/JacksonHHax" title="https://twitter.com/JacksonHHax">https://twitter.com/JacksonHHax</a><br>
<a href="https://twitter.com/Kirtaner" title="https://twitter.com/Kirtaner">https://twitter.com/Kirtaner</a><br>
<a href="https://twitter.com/rej_ex" title="https://twitter.com/rej_ex">https://twitter.com/rej_ex</a><br>
<a href="https://twitter.com/endingwithali" title="https://twitter.com/endingwithali">https://twitter.com/endingwithali</a></p>

    </div></div>]]>
            </description>
            <link>https://johnjhacking.com/blog/unep-breach/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25751055</guid>
            <pubDate>Tue, 12 Jan 2021 18:20:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Donâ€™t Like Python]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25750857">thread link</a>) | @pcr910303
<br/>
January 12, 2021 | https://lee-phillips.org/pythonhate/ | <a href="https://web.archive.org/web/*/https://lee-phillips.org/pythonhate/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://lee-phillips.org/pythonhate/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25750857</guid>
            <pubDate>Tue, 12 Jan 2021 18:11:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Legacy Code Should Be Respected, Not Hated]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25750847">thread link</a>) | @stevenwadejr
<br/>
January 12, 2021 | https://stevenwadejr.com/2021/01/12/legacy-code-should-be-respected-not-hated/ | <a href="https://web.archive.org/web/*/https://stevenwadejr.com/2021/01/12/legacy-code-should-be-respected-not-hated/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-93">
	<div>
		
		<div>
						<p><span>
				
<figure><img loading="lazy" width="1024" height="713" src="https://stevenwadejr.com/wp-content/uploads/sites/2/2021/01/0auaykiufna61-1024x713.jpg" alt="" srcset="https://stevenwadejr.com/wp-content/uploads/sites/2/2021/01/0auaykiufna61-1024x713.jpg 1024w, https://stevenwadejr.com/wp-content/uploads/sites/2/2021/01/0auaykiufna61-300x209.jpg 300w, https://stevenwadejr.com/wp-content/uploads/sites/2/2021/01/0auaykiufna61-768x534.jpg 768w, https://stevenwadejr.com/wp-content/uploads/sites/2/2021/01/0auaykiufna61.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Image credit: Reddit user <a href="https://www.reddit.com/r/ProgrammerHumor/comments/kux8l1/yeah_were_a_pretty_modern_company_here/" data-type="URL" data-id="https://www.reddit.com/r/ProgrammerHumor/comments/kux8l1/yeah_were_a_pretty_modern_company_here/" target="_blank" rel="noreferrer noopener">u/LtRodFarva</a></figcaption></figure>



<p>Developers hate legacy code. Itâ€™s dirty, itâ€™s crowded, itâ€™s ugly, itâ€™s messy, itâ€™sâ€¦ old. But we shouldnâ€™t have a negative outlook on legacy or old code. Itâ€™s there for a reason, we just need to appreciate that reason.</p>



<p>When starting a new job and getting your first look at the legacy codebase, itâ€™s easy to be frightened or disgusted. If the code has been around for a long time (in Internet years), it probably doesnâ€™t meet modern style guides or follow modern practices. We can easily look at this code and deem it inferior to the code that is being written presently. To do so, though, is to disrespect the developers and the decisions that came before us.</p>



<figure><blockquote><p>â€œ<em>Legacy code is established</em>â€œ</p></blockquote></figure>



<p>We need to reframe our minds and stop hating and disrespecting legacy code and instead appreciate it for what it is: legacy code is established. The lines youâ€™re judging are there for a reason; they have lasted the test of time; they have served a purpose. Most importantly of all, they have given you a job. Without those â€œoldâ€ or â€œuglyâ€ lines of code, you would not have the job that youâ€™re using now to put down that very code.</p>



<p>Programmers donâ€™t set out with the intention of writing bad or ugly code. They donâ€™t sit down and think of the most convoluted solution they can write. Code becomes complex, intertwined, and unpleasant over time. Each feature begins with a single typed character and builds from there. As the business grows and its needs change, so does the code. </p>



<p>A friend of mine once said that â€œbadâ€ code is the product of not enough time, poorly defined requirements, or inexperience, not necessarily a bad programmer. Business moves fast and as developers, weâ€™re constantly working against the clock to release features to draw in customers and make more money. Itâ€™s for these reasons that we must change how we think about and see legacy code â€“ it is not something to be looked down upon, it is a legacy that was passed down to us that we must now carry forward for the next generation of programmers. When we are handed a legacy codebase, it becomes ours to shepherd forward.</p>



<p>Build and improve upon the legacy, but overall, respect it.</p>
			</span>
		</p></div>
	</div><!-- .post-header -->
</article></div>]]>
            </description>
            <link>https://stevenwadejr.com/2021/01/12/legacy-code-should-be-respected-not-hated/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25750847</guid>
            <pubDate>Tue, 12 Jan 2021 18:10:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running a tightly integrated Hetzner Cloud Kubernetes with Rancher (2021)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25750441">thread link</a>) | @notanormalnerd
<br/>
January 12, 2021 | https://tech.mecodia.cloud/2021/01/12/running-a-tightly-integrated-hetzner-cloud-kubernetes-with-rancher/ | <a href="https://web.archive.org/web/*/https://tech.mecodia.cloud/2021/01/12/running-a-tightly-integrated-hetzner-cloud-kubernetes-with-rancher/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>We love Hetzner â¤ï¸. </p>



<p>They have a great offering with a lot of stability and great prices. Therefore we basically provide all our services from within one of the many german datacenters. Running our Kubernetes Cluster with them was no question and one year after our first experiments with Kubernetes, we can even see a tight integration with all the Hetzner Cloud Services.</p>



<p>Hetzner currently offers the following cloud services we want to make use of in our Clusters:</p>



<ul><li>Servers (obviously)</li><li>Volumes</li><li>Private Networks</li><li>Load Balancers</li><li>DNS API (not a part of the Cloud offering but important)</li></ul>



<p>Since we are already running multiple Clusters (production, staging &amp; testing) and expect to run even more in the future, as well as the ease of usage we have with it, we are using Rancher and the RKE K8s distribution.</p>



<p>How to setup a rancher instance is pretty well documented around the internet and our recommendation is to start off with a single node install using k3s/rke/microK8s which can then expanded as you go: <a href="https://rancher.com/docs/rancher/v2.x/en/installation/install-rancher-on-k8s/">https://rancher.com/docs/rancher/v2.x/en/installation/install-rancher-on-k8s/</a></p>



<p>After you have setup the rancher instance, the Hetzner fun begins. The expectation here is that you already are familiar with the Hetzner UI and where to find your API Token and all the features we are talking about. For this way of setting up Rancher and Clusters, we donâ€™t need them to be in the same project. We are recommending one project per cluster you plan to spin up.</p>



<p>All instructions are written as of 12th January 2021 and user Rancher v2.5.</p>



<h2>Rancher Node Driver</h2>



<p>First of we need to give Rancher the ability to spin new nodes (Cloud Servers) up and down. For this we are going to use the <a href="https://github.com/JonasProgrammer/docker-machine-driver-hetzner">Hetzner Cloud Docker machine driver</a> and the <a href="https://github.com/mxschmitt/ui-driver-hetzner">custom UI plugin for Rancher</a>. <a href="https://community.hetzner.com/tutorials/hcloud-install-rancher-single#step-4---setup-hetzner-cloud-node-driver">Set the Node Driver up in the Global Rancher View</a>, then go on to configure the first <a href="https://rancher.com/docs/rancher/v2.x/en/user-settings/node-templates/">node templates</a> in your user profile. Here you need a API token from the project you want the cluster to be in.</p>



<p>Create a private network in the Hetzner Cloud UI and select it in the node template, but donâ€™t select the private network to be used here in the UI, we will do that later.</p>



<p>We recommend one template for the Control Plane and etcd Servers with at least CX21 Servers and another template for the workers wich should realistically also at least be CX21. </p>



<p>Add a label to the worker node template which we will need later for the load balancer. We are using <code>mecodia.cloud/type=worker</code> but it doesnâ€™t really matter. </p>



<p>Save the template and create your first cluster.</p>



<h2>Cluster Creation</h2>



<p>Create a cluster in Rancher. If you are using the cluster seriously start of with 3 management (Control Plane &amp; etcd) servers and 3 worker servers otherwise read up on the pros and cons of having less than 3 management servers.</p>



<p>Now we get to the juicy part of the cluster creation. In the form select cloud provider external and then change into the yaml edit view. Here we need to add some additional info for Rancher and RKE. We use the <code>addons</code> and <code>addones_include</code> directives to setup the <a href="https://github.com/hetznercloud/hcloud-cloud-controller-manager">Hetzner Cloud Controller Manager</a> after we have the nodes ready. </p>



<p>In theory we could also setup other <code>addons</code> here like cert-manager, but since <code>addons_include</code> are resolved and saved into etcd we can only save 1.5 MBytes of data, while cert-manager yamls alone consume 1.6 MBytes.</p>



<pre><code>rancher_kubernetes_engine_config:
  cloud_provider:
    name: external
  addons: |-
    ---
    apiVersion: v1
    kind: Secret
    metadata:
      name: hcloud
      namespace: kube-system
    stringData:
      token: "API_TOKEN"
      network: "PRIVATE_NETWORK_ID"
  addons_include:
    - https://raw.githubusercontent.com/mecodia/hetzner-rancher-cluster-base/main/hcloud-cloud-controller-manager.yaml
    - https://raw.githubusercontent.com/mecodia/hetzner-rancher-cluster-base/main/hcloud-csi-driver.yaml</code></pre>



<p>You can find all files we use here and changed in our github repository: <a href="https://github.com/mecodia/hetzner-rancher-cluster-base">https://github.com/mecodia/hetzner-rancher-cluster-base</a></p>



<p>In difference to the yaml files provided by <a href="https://github.com/hetznercloud/hcloud-cloud-controller-manager">Hetzner Cloud Controller Manager</a> we use the <code>HCLOUD_NETWORK</code> environment variable which enabled the Cloud Controller to tell Kubernetes the internal IP of the Node without attaching the network, because we already did that on node setup or using it for inter pod communication, which we leave that up to our chosen network CNI plugin.</p>



<p>We also deploy the <a href="https://github.com/hetznercloud/csi-driver/">Hetzner CSI Driver</a> into our cluster as the default storage class for <code>PersistentVolumeStorage</code>. The difference to the original yaml is that we use the same secret for the Cloud Controller and the CSI Driver. With the CSI Driver installed we can make use of persistent volume claims in our statefullset deployments like databases or bucket storage.</p>



<p>After you are done, hit the create button at the bottom of the page and wait for the cluster to be ready. This will take a while (between 5 to 10 minutes) until the cluster is completely ready. In the meanwhile we can go back to the Hetzner Cloud UI and setup the Load Balancer.</p>



<h2>The Load Balancer</h2>



<p>To have access to our cluster we have to setup at least one load balancer. In the Hetzner Cloud UI create a new Load Balancer in the same project as the rest of the cluster. Select the same region as your servers and select the same private network. Create a new target by label and use the label you setup for your worker nodes in the node templates. Also select to use the private network.</p>



<figure><img loading="lazy" width="1014" height="918" src="https://tech.mecodia.cloud/wp-content/uploads/sites/24/2021/01/image.png" alt="" srcset="https://tech.mecodia.cloud/wp-content/uploads/sites/24/2021/01/image.png 1014w, https://tech.mecodia.cloud/wp-content/uploads/sites/24/2021/01/image-300x272.png 300w, https://tech.mecodia.cloud/wp-content/uploads/sites/24/2021/01/image-768x695.png 768w" sizes="(max-width: 1014px) 100vw, 1014px"></figure>



<p>Create two tcp services, one from and to port 80 (HTTP) and one from and to port 443 (HTTPS). In both cases activate the proxy protocol. Choose a algorithm and a name and hit the create button.</p>



<p>This way we have a single IP into our cluster while also having load balancing capabilities. SSL Termination happens on the ingress which allows us to run cert-manager and aquire LetsEncrypt Cerificates, but we loose the ability to have sticky sessions. You have to decide which tradeoff you want, but the setup works for 90% of cases.</p>



<h2>HTTPS Certificates for our Cluster wildcard certificates</h2>



<p>Speaking of HTTPS Certificates, we check if our cluster already is in a ready state and has finished setting up. If the cluster is ready we can install <a href="https://cert-manager.io/docs/installation/kubernetes/">cert-manager</a> through one of the documented ways. After that we install the <a href="https://github.com/mecodia/cert-manager-webhook-hetzner">cert-manager-webhook-hetzner</a> in the same namespace. This is highly important and will possibly break the webhook if not done correctly.</p>



<p>After we have finished this setup we can setup our ClusterIssuers with Hetzner DNS for wildcard certificates or just simple certificates.</p>



<pre><code>apiVersion: cert-manager.io/v1alpha3
kind: ClusterIssuer
metadata:
  name: letsencrypt-production
spec:
  acme:
    email: YOU_MAIL_HERE
    server: https://acme-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      # Secret resource used to store the account's private key.
      name: acme-production-issuer-account-key
    solvers:
      - http01:
          ingress:
            class: nginx
      - dns01:
          webhook:
            groupName: dns.hetzner.cloud
            solverName: hetzner
            config:
              APIKey: HETZNER_DNS_API_TOKEN
---
apiVersion: cert-manager.io/v1alpha3
kind: ClusterIssuer
metadata:
  name: selfsign
spec:
  selfSigned: {}
</code></pre>



<p>We also add a selfsigned certificate ClusterIssuer into the mix we can use to generate certificates for other internal services like Databases and others.</p>



<p>Now you can generate Certificates for <code>Ingress</code> resources and validate those either via <code>dns01</code> or <code>http01</code> challenges by using the annotations:</p>



<pre><code>annotations:
  cert-manager.io/cluster-issuer: letsencrypt-production</code></pre>



<h2>Wrapping up</h2>



<p>Now our basic Hetzner cluster setup is done and tightly integrated with all Hetzner services we want to use:</p>



<p><strong>Servers</strong> are deployed by Rancher with the docker-machine driver.</p>



<p><strong>Volumes</strong> are provisioned and managed by the CSI Driver</p>



<p>All our cluster internal traffic is routed through our <strong>private network</strong></p>



<p>The<strong> Load Balancer </strong>is the (web) entrance to our (auto-scaling) cluster and can also be used in ingress deployment by using <code>type: LoadBalancer</code></p>



<p>We provision LetsEncrypt Certificates to our ingresses with the help of the <strong>Hetzner DNS API</strong>.</p>



<p>There are some caveats to this setup, as the LoadBalancer deployed as ingress is not yet as finely tuned as other clouds load balancers and will just target all servers. The private network is only used for node communication with an overlay network for pod communication. Other than that, we are pretty happy with the setup and will probably have more than one cluster running with that setup.</p>



<p><a href="https://news.ycombinator.com/item?id=25750441">Hackernews Discussion</a></p>
</div></div>]]>
            </description>
            <link>https://tech.mecodia.cloud/2021/01/12/running-a-tightly-integrated-hetzner-cloud-kubernetes-with-rancher/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25750441</guid>
            <pubDate>Tue, 12 Jan 2021 17:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[American Apathy: Our Declining Interest in Covid-19 Cases and Deaths]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 81 (<a href="https://news.ycombinator.com/item?id=25750373">thread link</a>) | @amoorthy
<br/>
January 12, 2021 | https://blog.thefactual.com/american-apathy-our-declining-interest-in-covid-19-cases-and-deaths | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/american-apathy-our-declining-interest-in-covid-19-cases-and-deaths">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>We are experiencing some of the <a href="https://www.businessinsider.com/days-with-most-us-catastrophe-deaths-16-this-year-2020-12" rel="noopener" target="_blank"><span>deadliest days</span></a> in American history, but the magnitude of the ongoing disaster defies human comprehension. As the number of Covid-19 cases and deaths climbed during 2020 and reached new heights in 2021, search volumes for Covid-related terms, specifically â€œcasesâ€ and â€œdeaths,â€ have not followed suit. One might think that concern about the pandemic, measured through these metrics, would closely follow the severity of the disease. Instead, we are seeing just the opposite: peopleâ€™s interest has, if anything, declined as the disease has intensified. Why is this and how might it be affecting our response to the pandemic?</p>
<!--more-->
<div><p>As the U.S. trudges through the deadliest period of the pandemic so far, The Factual set out to explore why Americans seemingly care less and less about a disease that is killing thousands prematurely every day. We reviewed 31 articles from 26 sources across the political spectrum to examine human responses to immense suffering and why Americanâ€™s may be numb to the ongoing impacts of Covid-19.</p></div>
<p><img src="https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=824&amp;name=covid-19-deaths-compared-other-events.png" alt="covid-19-deaths-compared-other-events" width="824" srcset="https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=412&amp;name=covid-19-deaths-compared-other-events.png 412w, https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=824&amp;name=covid-19-deaths-compared-other-events.png 824w, https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=1236&amp;name=covid-19-deaths-compared-other-events.png 1236w, https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=1648&amp;name=covid-19-deaths-compared-other-events.png 1648w, https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=2060&amp;name=covid-19-deaths-compared-other-events.png 2060w, https://blog.thefactual.com/hs-fs/hubfs/covid-19-deaths-compared-other-events.png?width=2472&amp;name=covid-19-deaths-compared-other-events.png 2472w" sizes="(max-width: 824px) 100vw, 824px"></p>
<p>These circles represent some of the deadliest days (from a single cause) in the last 100 years.</p>
<h4><strong><br>Declining Searches for â€œCasesâ€ and â€œDeathsâ€</strong></h4>
<p>More than 370,000 Americans have died from Covid-19, with the daily death toll at its highest yet in recent days. On January 7 alone, 4,112 Americans died. Thatâ€™s the equivalent of nearly 30 standard 737s crashing in a single day, each <a href="https://www.nationalgeographic.com/science/2020/09/why-minds-brains-cannot-make-sense-coronavirus-enormous-death-toll/" rel="noopener" target="_blank"><span>loaded with 138 people</span></a>. Itâ€™s <a href="https://www.businessinsider.com/days-with-most-us-catastrophe-deaths-16-this-year-2020-12" rel="noopener" target="_blank"><span>more American deaths</span></a> than from D-Day in 1944 and more than from the terrorist attacks on September 11, 2001. No matter how we split up and conceptualize these numbers â€” a tactic journalists use to make impacts <a href="https://grist.org/climate/psychic-numbing-why-rising-covid-and-climate-change-death-tolls-no-longer-shock-us/" rel="noopener" target="_blank"><span>more tangible</span></a> â€” we fail to capture each of the individuals that these statistics include.</p>
<p>As thousands die, Americans are seemingly paying less attention. According to Googleâ€™s tracking mechanism for online searches, Google Trends, interest in â€œcasesâ€ and â€œdeathsâ€ <a href="https://trends.google.com/trends/explore?geo=US&amp;q=cases,deaths" rel="noopener" target="_blank"><span>peaked</span></a> the week of March 22, when cases were <a href="https://covid.cdc.gov/covid-data-tracker/#trends_totalandratecases" rel="noopener" target="_blank"><span>rapidly surpassing</span></a> the 100,000 mark but fewer than 50 Americans had died. (The search terms are closely linked, but not exclusive, to the Covid-19 pandemic.) Smaller peaks appear the week of June 21 and, to a lesser degree, in the weeks prior to Thanksgiving â€” times when warnings were abound about an impending spike in cases.&nbsp;</p>
<p>But in the subsequent peaks in Covid-19 deaths, and now, with more than 2,000 deaths every day for the last month, searches for these terms have failed to match the severity of the disease (note, however, that searches for â€œcovidâ€ generally have been consistent with trends in severity). For example, searches for "cases" and "deaths" are now at roughly a quarter of their March and April 2020 peaks, even as 10 times as many cases appear every day and twice as many people die.&nbsp;</p>
<div><p>This counterintuitive divergence seems to be explained by a combination of psychological, political, and demographic factors. However, at the very least, our inability to comprehend such widespread death continues to undermine our pandemic response.</p></div>
<p><img src="https://lh5.googleusercontent.com/LYdfvcl7L0xiihwoTxD17Dxkxl5F5ds3iP8JMPmmkytddcBkxhR1OKIaRTBLi8oVu4ceRD3c2VE5I22g1WBSTwoOgJrTtp-abXLLBzgRTb9N32gKd1VNieI6B2d6PuRFvou7k84Y" width="624" height="376"></p>
<p><img src="https://lh5.googleusercontent.com/_RMm8dGUcoW9H25V47lXAP2u7aLX48PY-IYOdjoDAP12wOIS-e9XIDHJ3Ltlf0hcaRKf3Z4AdLHVFKXbBbNfW1-ojlSTCf0pkIjcp7YNSvazZ_GcZxe49F5A1gN_UpZmpTmIqlC8" width="624" height="383"></p>
<div><p>Note: Searches are measured on a scale of 1 to 100 from January 12, 2020 to January 9, 2021. 100 represents the highest number of searches in a given week over the time period.<br>Source: <a href="https://trends.google.com/trends/explore?date=2020-01-12%202021-01-09&amp;geo=US&amp;q=cases,deaths" rel="noopener" target="_blank"><span>Google Trends</span></a> and <a href="https://ourworldindata.org/coronavirus/country/united-states?country=~USA" rel="noopener" target="_blank"><span>Our World in Data</span></a></p></div>
<h4><strong>Psychological Factors</strong></h4>
<p>The most common explanations have to do with human psychology and the way we think about problems. For starters, humans have a hard time <a href="https://www.bbc.com/future/article/20200630-what-makes-people-stop-caring" rel="noopener" target="_blank"><span>comprehending large numbers</span></a> and tend to downplay risk even as the numbers, and risk, increase exponentially. This inability to appreciate larger numbers plays out through â€œpsychic numbing,â€ a phenomena which suggests that humans are far more impacted and attuned to first instances of danger but grow <a href="https://www.washingtonpost.com/health/2020/12/21/covid-why-we-ignore-deaths/" rel="noopener" target="_blank">less worried</a> as the numbers increase and the threat is prolonged. For example, the difference between no one dying and one person dying is quite large, but the difference between the 100th and 101st death is far less impactful.&nbsp;</p>
<p>As evidence, scientists have shown that focusing on individuals and personal suffering, rather than large numbers, is much more effective at attracting interest and attention. <a href="https://www.washingtonpost.com/health/2020/12/21/covid-why-we-ignore-deaths/" rel="noopener" target="_blank"><span>Popularly cited examples</span></a> come from experiments like those conducted by Paul Slovic, a professor at the University of Oregon, who identified that people are far more likely to donate to help a single starving child than to help successively larger groups of children. Human behavior is prone to connect to individuals and circumstances where we feel we can have an impact. Increasing the number of people dilutes our ability to connect and our perceived ability to make a difference. This effect can be seen elsewhere, such as with <a href="https://www.defenseone.com/ideas/2020/08/why-dont-dead-matter/167840/" rel="noopener" target="_blank"><span>wars</span></a> and genocides. Slovicâ€™s work, for one, <a href="https://grist.org/climate/psychic-numbing-why-rising-covid-and-climate-change-death-tolls-no-longer-shock-us/" rel="noopener" target="_blank"><span>demonstrates</span></a> that in the aftermath of the 1994 Rwandan genocide â€œsubjects were less willing to send the same amount of aid to a refugee camp of 250,000 than they were to a refugee camp of 11,000.â€ This mechanism helps to explain how each additional Covid case or death does not equate to an attendant increase in risk or concern, and may even give way to <a href="https://www.bbc.com/future/article/20200630-what-makes-people-stop-caring" rel="noopener" target="_blank"><span>complacency</span></a>.</p>
<div><p>Furthermore, humans are far more attuned to immediate and recognizable risk, such as an armed assailant or an acute natural disaster. It is far more difficult to comprehend the true magnitude of a complex web of <a href="https://grist.org/climate/psychic-numbing-why-rising-covid-and-climate-change-death-tolls-no-longer-shock-us/" rel="noopener" target="_blank"><span>seemingly low-risk events</span></a>, be it from a virus with a low mortality rate or from the incremental unseen changes of climate change. Both have effects that are spread over time and hard to capture in any single, concise event. This obscures the connection between human behavior and any positive or negative ramifications. Furthermore, as the symptoms repeat with increasing frequency â€” be it the 312,672nd death or yet another warmest year on record&nbsp;â€” each additional iteration tends to make less of an impact. As Melissa Funicane, a social scientist at the Rand Corporation, <a href="https://www.bbc.com/future/article/20200630-what-makes-people-stop-caring" rel="noopener" target="_blank"><span>put it</span></a>: â€œthe average human whoâ€™s not a statistical analyst or epidemiologist, doesnâ€™t have the tools you need at their fingertips to make judgements about something as vast and complex as the global pandemic.â€</p></div>
<h4><strong>Political Factors</strong></h4>
<p>Another clear potential reason comes from the spurious narrative that many of these deaths are <a href="https://www.reuters.com/article/uk-factcheck-94-percent-covid-among-caus/fact-check-94-of-individuals-with-additional-causes-of-death-still-had-covid-19-idUSKBN25U2IO" rel="noopener" target="_blank"><span>not actually due to Covid-19</span></a>. A popular conspiracy even goes so far as to suggest that medical authorities are attributing deaths from a range of causes to Covid-19 in an effort to make the crisis more dire, spread fear, and permit stronger government action.&nbsp;</p>

<p><img src="https://lh4.googleusercontent.com/BCMsMQt7qAVTzAhMZqjECOkYCVj9jkeJc9BHQMNkWuvkNSAJ7h4ztAYUoBigLKye_OmmRh5MBj7d2nc0ZE0DfErfhwmY-gWBlmBBYbrkIlEBCs-zF_qiN54uUEnSuPDdo9qyOwIB" width="503" height="493"><br>Source: <a href="https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/#republicans-and-democrats-differ-over-outbreaks-threat-to-public-health" rel="noopener" target="_blank">Pew Research</a></p>
<p>These narratives have been <a href="https://undark.org/2020/11/10/covid-19-death-counts-conspiracy/" rel="noopener" target="_blank"><span>repeatedly</span></a> and <a href="https://www.factcheck.org/2020/10/trump-baselessly-suggests-covid-19-deaths-inflated-for-profit/" rel="noopener" target="_blank"><span>soundly</span></a> <a href="https://reason.com/2020/08/30/trump-promotes-the-outlandish-claim-that-covid-19-has-killed-a-minuscule-number-of-americans/" rel="noopener" target="_blank"><span>rejected</span></a>, and many suspect the true toll to be <a href="https://www.forbes.com/sites/jemimamcevoy/2021/01/03/trump-claims-covid-deaths-are-exaggerated-as-us-surpasses-350000/?sh=10965bbc37b6" rel="noopener" target="_blank"><span>even higher</span></a> than the official figures. But whether or not people fully ascribe to the idea that deaths have been over-reported, it has played into doubt around the seriousness of the disease and whether official tallies and government warnings about its seriousness should be trusted. Arguments against the severity of Covid-19, such as that it is little different from the common flu, drive down concern about the virus, especially in more conservative populations. In December, Pew Research <a href="https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/#republicans-and-democrats-differ-over-outbreaks-threat-to-public-health" rel="noopener" target="_blank"><span>found</span></a> that just 43% of Republicans see Covid-19 as a major threat to public health, compared to 84% of Democrats. Though there is fixation on Covid-19â€™s low mortality rate, now <a href="https://ourworldindata.org/mortality-risk-covid?country=~USA" rel="noopener" target="_blank"><span>just below 2%</span></a> in the U.S., there is a larger failure to recognize the scope of human suffering that mortality rate delivers across millions of cases, let alone from the <a href="https://www.vox.com/22166236/long-term-side-effects-covid-19-symptoms-heart-fatigue" rel="noopener" target="_blank"><span>10% (or more) of patients</span></a> who exhibit <a href="https://www.scientificamerican.com/article/the-problem-of-long-haul-covid/" rel="noopener" target="_blank"><span>long-term effects</span></a>. The severity of the disease, it seems, often fails to resonate until people are <a href="https://www.usatoday.com/story/news/nation/2020/12/12/coronavirus-deaths-highest-us-rural-republican-leaning-county/3828902001/" rel="noopener" target="_blank"><span>personally, and often irreversibly</span></a>, affected, a dynamic that is <a href="https://grist.org/climate/psychic-numbing-why-rising-covid-and-climate-change-death-tolls-no-longer-shock-us/" rel="noopener" target="_blank"><span>not restricted</span></a> to the U.S. or the issue Covid-19.</p>
<div><p>In hyper-partisan conditions, it is no surprise that as the disease became politicized, certain populations may have begun to pay less attention. If one doesnâ€™t believe that it is as deadly or widespread as is being reported, thereâ€™s little reason to monitor its progress.&nbsp;&nbsp;</p></div>
<h4><strong>Demographic Factors</strong></h4>
<p>A final set of potential factors relates to specific populations that society consistently undervalues. These populations have <a href="https://www.chicagotribune.com/coronavirus/ct-viz-covid-19-deaths-in-illinois-20210101-etvvpateifbzbbjkf33maqdqme-htmlstory.html" rel="noopener" target="_blank"><span>suffered the worst impacts</span></a> but are also those most commonly pushed out of sight, be it the elderly locked away in nursing homes or minority groups relegated to impoverished and underserved communities.</p>
<p>For example, Covid-19â€™s impacts are particularly acute on the elderly, who account for <a href="https://www.wsj.com/articles/who-is-dying-from-covid-19-why-11601407258" rel="noopener" target="_blank"><span>roughly 8 in 10</span></a> of those who die. In a range of experiments, scientists have shown globally that people consistently <a href="https://www.theatlantic.com/politics/archive/2020/09/covid-death-toll-us-empathy-elderly/616379/" rel="noopener" target="_blank"><span>undervalue the elderly</span></a> vis-Ã -vis others, generally falling back on the explanation that those with fewer years left to live are less valuable than those with many more productive years ahead. Even if each of these individuals may be a deeply loved parent, sibling, friend, or mentor, this implicit devaluation plays into an interpretation that the disease is one that specifically impacts the elderly and is therefore less of a concern.</p>
<div><p>The virus has had a similarly outsized impact on <a href="https://www.npr.org/sections/health-shots/2020/12/14/946045921/how-do-we-grieve-300-000-lives-lost" rel="noopener" target="_blank"><span>minority communities</span></a>. Data suggests, for example, that Black, Latino, and Indigenous Americans are several times more likely than white Americans to both be hospitalized and die from Covid-19. In LA, the site of the countryâ€™s worst outbreak, Latinos <a href="https://www.sacbee.com/news/politics-government/capitol-alert/article247434155.html" rel="noopener" target="_blank"><span>account for</span></a> 59% of cases and 48.5% of deaths, even though they only account for 40% of the population. Individuals from these communities make up many of the essential workers who continue to work in <a href="https://theconversation.com/black-and-latino-essential-workers-experience-greater-safety-concerns-than-their-white-counterparts-141180" rel="noopener" target="_blank"><span>dangerous conditions</span></a> and typically have less of a safety net to fall back on. In a country that has consistently underserved minority communities, especially in <a href="https://www.npr.org/sections/health-shots/2020/09/23/914427907/as-pandemic-deaths-add-up-racial-disparities-persist-and-in-some-cases-worsen" rel="noopener" target="_blank">matters of public health</a>, itâ€™s no wonder that these communities <a href="https://www.theatlantic.com/politics/archive/2020/09/covid-death-toll-us-empathy-elderly/616379/" rel="noopener" target="_blank"><span>suffer disproportionately</span></a> and that the country as a whole â€” which is roughly 70% white â€” may be less attuned to the severity of the problem.</p></div>
<p><img src="https://lh3.googleusercontent.com/fIybfZuuIl3wRVv4UjO1uqoIWQsRZG0cexXTRynaBLcVJgBjO-9MS4PahIUIW72iyVqkqpR7Q3531dlcLfS_0_iCOk0bz5WfVtqM--w97qOIaF9-yaGwIKiWp9_pkJcfHe0DMwR4" width="438" height="321"></p>

<h4><strong>American Deaths Will Continue to Go Unseen</strong></h4>
<p>These factors all play into our inability to fully comprehend and react to the Covid-19 crisis. As William Wan and Brittany Shammas <a href="https://www.washingtonpost.com/health/2020/12/21/covid-why-we-ignore-deaths/" rel="noopener" target="_blank"><span>wrote</span></a> in the <em>Washington Post</em>, â€¦</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/american-apathy-our-declining-interest-in-covid-19-cases-and-deaths">https://blog.thefactual.com/american-apathy-our-declining-interest-in-covid-19-cases-and-deaths</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/american-apathy-our-declining-interest-in-covid-19-cases-and-deaths</link>
            <guid isPermaLink="false">hacker-news-small-sites-25750373</guid>
            <pubDate>Tue, 12 Jan 2021 17:44:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Trigger Warning. Setting Up DB Auditing with SQL Triggers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25750215">thread link</a>) | @nutmilk
<br/>
January 12, 2021 | https://blog.arctype.com/learn-sql-triggers/ | <a href="https://web.archive.org/web/*/https://blog.arctype.com/learn-sql-triggers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p>I was 12 years old when I first heard about SQL triggers. My brother, Jonathan, had just begun his software career at a startup. Jonathan came home one day frustrated by a database full of convoluted SQL triggers.</p><p>With my only programming experience being recreating my favorite video game in VB6, I had little consolation to offer.</p><p>Fast forward 16 years, and now I can see from my brotherâ€™s perspective. In the world of open source start-up style full-stack development (think Django, Rails, Javascript, PHP, MySQL, Postgres..), ORMs are very popular and features like SQL triggers are far less conventional.</p><p>But there is still value with SQL triggers. During my time working on custom ERP-like software, SQL triggers were an invaluable tool. When building highly data oriented software, especially when the data is of financial nature and accuracy is of high demand, you're more likely to see data being manipulated at a lower level, in a more direct way.</p><p>This article contains all the information I wish I could have shared with my brother on how to effectively use SQL triggers.</p><h3 id="table-of-contents">Table of contents</h3><ul><li><a href="#what-is-a-sql-trigger">What is a SQL Trigger?</a></li><li><a href="#how-to-create-a-sql-trigger-postgres-syntax">How to Create a SQL Trigger - Syntax</a></li><li><a href="#postgres-trigger-example-1-creating-a-time-clock">Postgres Trigger Example 1: Creating a Time Clock</a></li><li><a href="#postgres-trigger-example-2-creating-an-audit-table">Postgres Trigger Example 2: Creating an Audit Table</a></li><li><a href="#additional-considerations-for-triggers">Additional Considerations for Triggers</a></li></ul><h2 id="what-is-a-sql-trigger">What is a SQL Trigger?</h2><p>SQL Triggers, also called Database Triggers, allow you to tell your SQL engine (for these examples, Postgres) to run a piece of code when an event happens, or even before the event.</p><p>In Postgres, you delineate the code to run by creating a function whose return type is <code>trigger</code>. In some other engines like MySQL, the code block is a part of and inside the trigger.</p><p>Before I discuss what the different event types are and the specific syntax for creating a trigger, why would you want to use a database trigger? </p><h3 id="advantages-of-using-sql-triggers">Advantages of using SQL Triggers</h3><h5 id="maintaining-data-integrity">Maintaining data integrity</h5><p>Database triggers have a variety of uses and are an excellent tool to marshal strict data integrity. Alternate solutions like Django's model hooks may fail if you have other application servers or users accessing the database who aren't aware of the specific business logic coded in your application.</p><h5 id="separating-business-logic">Separating business logic</h5><p>Coding critical business logic within the application code also presents problems when the business logic is updated. If you had a business requirement to multiply an incoming number by 10, and you wanted to revise this logic to multiply the number by 20, changing the logic in SQL would guarantee that every piece of data from that exact deploy time on would be affected by the new logic.</p><p>The SQL server acts as a single point of truth. If the logic is implemented on multiple application servers, you can no longer expect a clean, definitive change in behavior.</p><h5 id="atomic-transactions">Atomic transactions</h5><p>Natural atomicity is another desirable feature bundled with triggers. Since the event and the trigger function are all part of one atomic transaction, you know with absolute certainty that the trigger will fire if the event fires. They are as one, in perfect SQL matrimony.</p><h2 id="how-to-create-a-sql-trigger-postgres-syntax">How to Create a SQL Trigger - Postgres Syntax</h2><p>Here are the components to creating a trigger for your database:</p><ol><li>Trigger Event Type</li><li>Before or After the event</li><li>Effect of the Trigger</li></ol><figure><img src="https://blog.arctype.com/content/images/2021/01/Screen-Shot-2021-01-10-at-23.30.24.png" alt="" srcset="https://blog.arctype.com/content/images/size/w600/2021/01/Screen-Shot-2021-01-10-at-23.30.24.png 600w, https://blog.arctype.com/content/images/size/w1000/2021/01/Screen-Shot-2021-01-10-at-23.30.24.png 1000w, https://blog.arctype.com/content/images/size/w1600/2021/01/Screen-Shot-2021-01-10-at-23.30.24.png 1600w, https://blog.arctype.com/content/images/size/w2400/2021/01/Screen-Shot-2021-01-10-at-23.30.24.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>SQL Trigger Anatomy</figcaption></figure><h3 id="trigger-event-types">Trigger event types</h3><p>Database triggers will monitor tables for specific events. Here are some examples of different events that can activate a trigger:</p><ul><li>Changing data: <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code></li></ul><p>A database trigger can also list more than one of these events.</p><p>If <code>UPDATE</code> was one of the listed events, you can pass in a list of columns that should activate the trigger. If you don't include this list, updating any column will activate it.</p><h3 id="trigger-before-or-after">Trigger <code>BEFORE</code> or <code>AFTER</code></h3><p>A trigger can run either <code>BEFORE</code> or <code>AFTER</code> an event.</p><p>If you want to block an event like an <code>INSERT</code>, you will want to run <code>BEFORE</code>. If you need to be sure the event actually is going to occur, <code>AFTER</code> is ideal.</p><h3 id="effect-of-the-trigger">Effect of the trigger</h3><p>A trigger can run either per row, or per statement. Let's say you run a single <code>UPDATE</code> statement that changes 5 rows in a table. </p><p>If you specify <code>FOR EACH ROW</code> in the trigger, then the trigger will run 5 times. If you specified <code>FOR EACH STATEMENT</code>, then it would only run once.</p><p>And of course we can't forget the actual code to run when the trigger is activated. In Postgres, is placed in a function and separated from the trigger. Separating the trigger from the code it runs creates cleaner code and allows multiple triggers to execute the same code.</p><h2 id="postgres-trigger-example-1-creating-a-time-clock">Postgres Trigger Example #1: Creating a Time Clock</h2><p>A time clock records when an employee comes and leaves from work and calculates his/her total hours worked. Let's create an example time clock and look at how we can use triggers to prevent employees from inputting invalid data. </p><h3 id="setting-up-the-db-schema">Setting up the DB schema</h3><p>The design of this schema treats each punch in and out as separate events. Each event is a row in the <code>time_punch</code> table. Alternatively, you could also make each employee" shift" an event and store both the punch in and punch out time in one row.</p><p>Subscribe to our newsletter to get notified of a future post where Iâ€™ll do a deep dive on how to define a strong database schema.</p><!--kg-card-begin: html--><p>
    <h3>The SQL editor that speeds up your workflow</h3>
    
</p><!--kg-card-end: html--><p>For this example I've gone ahead and defined the schema for our tables. The code below creates an <code>employee</code> and <code>time_punch</code> table and inserts some time punch data for a new employee, Bear. </p><pre><code>create table employee (
  id serial primary key,
  username varchar
);

create table time_punch (
  id serial primary key,
  employee_id int not null references employee(id),
  is_out_punch boolean not null default false,
  punch_time timestamp not null default now()
);

insert into employee (username) values ('Bear');
insert into time_punch (employee_id, is_out_punch, punch_time)
values
(1, false, '2020-01-01 10:00:00'),
(1, true, '2020-01-01 11:30:00');
</code></pre><p>Bear has clocked in at 10:00am and out at 11:30am (long day at work). Let's write a SQL query to calculate how long Bear has worked.</p><p>Take a pause here and think about how you would solve this given our schema and using only SQL.</p><hr><h3 id="using-sql-to-calculate-time-worked">Using SQL to calculate time worked</h3><p>The solution I decided on looks at each "out" punch and matches it with its preceding "in" punch.</p><pre><code>select tp1.punch_time - tp2.punch_time as time_worked
from time_punch tp1
join time_punch tp2
on tp2.id = (
	select tps.id
	from time_punch tps
	where tps.id &lt; tp1.id
	and tps.employee_id = tp1.employee_id
	and not tps.is_out_punch
	order by tps.id desc limit 1
)
where tp1.employee_id = 1
and tp1.is_out_punch</code></pre><pre><code>time_worked
-------------
 01:30:00
(1 row)</code></pre><p>In this query I select all the out punches, then I join them to the closest preceding "in" punch. Subtract the timestamps, and we get how many hours Bear worked for each shift! </p><p>One of the issues with this schema is that it is possible for you to insert several "in" or "out" punches in a row. With the query weâ€™ve created, this would introduce ambiguities that could lead to inaccurate calculations and employees getting paid more or less than they should.</p><h3 id="sql-insert-before-trigger-example-preserving-data-integrity">SQL <code>INSERT BEFORE</code> trigger example - preserving data integrity</h3><p>We need something to prevent the in/out pattern from being interrupted. Unfortunately check constraints only look at the row being inserted or updated and cannot factor in data from other rows.</p><p>This is a perfect situation to use a database trigger!</p><p>Let's create a trigger to prevent an <code>INSERT</code> event that would break our pattern. First we'll create the "trigger function". This function is what the trigger will execute when the event type is detected. </p><p>A trigger function is created like a regular Postgres function, except that it returns a <code>trigger</code>.</p><pre><code>create or replace function fn_check_time_punch() returns trigger as $psql$
  begin
    if new.is_out_punch = (
      select tps.is_out_punch
      from time_punch tps
      where tps.employee_id = new.employee_id
      order by tps.id desc limit 1
    ) then
      return null;
    end if;
    return new;
  end;
$psql$ language plpgsql;
</code></pre><p>The <code>new</code> keyword represents the values of the row that is to be inserted. It also is the object you can return to allow the insert to continue. Alternatively, when <code>null</code> is returned this stops the insertion.</p><p>This query finds the <code>time_punch</code> before and ensures its in/out value is not the same as what's being inserted. If the values are the same, then the trigger returns <code>null</code> and the time_punch is not recorded. Otherwise, the trigger returns <code>new</code> and the <code>insert</code> statement is allowed to continue.</p><p>Now we'll link the function as a trigger to the <code>time_punch</code> table. <code>BEFORE</code> is crucial here. If we ran this trigger as an <code>AFTER</code> trigger it would run too late to stop the insertion.</p><pre><code>create trigger check_time_punch before insert on time_punch for each row execute procedure fn_check_time_punch();
</code></pre><p>Let's try to insert another "out" punch:</p><pre><code>insert into time_punch (employee_id, is_out_punch, punch_time)
values
(1, true, '2020-01-01 13:00:00');</code></pre><pre><code>Output:
INSERT 0 0</code></pre><p>We can see from the output that the trigger prevented the insertion of two subsequent out punches for the same employee.</p><p>It is also possible to raise an exception from the trigger so that your application (or person running the SQL query) receives a failure notice instead of the insert count simply being 0.</p><h2 id="postgres-trigger-example-2-creating-an-audit-table">Postgres Trigger Example #2: Creating an Audit Table</h2><p>Accurately storing employee punch data is critical for businesses. This type of data often ends up directly translating to an employee's salary, and on the other end, a company's payroll cost.</p><p>Because of the importance of this data, letâ€™s say the company wants to be able to recreate all the historical states of the table in the event that an irregularity is discovered.</p><p>An audit table accomplishes this by keeping track of every change to a table. When a row is updated on the main table, a row will be inserted into the audit table recording its past state.</p><p>I will use our <code>time_punch</code> table to demonstrate how to create an automatically updating audit table using triggers.</p><h3 id="create-the-audit-table">Create the audit table</h3><p>There are several ways to â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.arctype.com/learn-sql-triggers/">https://blog.arctype.com/learn-sql-triggers/</a></em></p>]]>
            </description>
            <link>https://blog.arctype.com/learn-sql-triggers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25750215</guid>
            <pubDate>Tue, 12 Jan 2021 17:35:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using GPT-3 for plain language incident root cause from logs]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25749820">thread link</a>) | @stochastimus
<br/>
January 12, 2021 | https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs | <a href="https://web.archive.org/web/*/https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>This project is a favorite of mine and so I wanted to share a glimpse of what we've been up to with <a href="https://openai.com/" rel="noopener">OpenAI's amazing GPT-3 language model</a>. Today I'll be sharing a couple of straightforward results with basic prompts only. There are more advanced avenues we're exploring for our use of GPT-3, such as fine-tuning (custom pre-training for specific datasets); you'll hear none of that today, but if you're interested in this topic, follow this blog for updates.</p>
<!--more-->

<h2>Our goal</h2>
<p>I believe the future of monitoring has to include autonomous root cause tools. Deployment frequency and complexity make the "new" issue the driver of Mean-Time-To-Resolve (MTTR) today. You may always know when something breaks, but you won't always know what. Problem is, root cause often hides in log files... but since the volume of logs has grown enormous and it's not always clear what to search for when a new issue arises, we saw a need for a smarter tool to help with root cause.</p>

<h2>Our approach in a nutshell</h2>
<p>If you structure logs really well (we do this with machine learning), including free-text logs, even when there are only one or two examples for a given event type, you can start talking confidently about a "rare" event. Severity lets you talk about a "bad" event. So, you can imagine one log stream expressing a "rare" event, and then another log stream expressing an event that is both "rare" and "bad". A simple point process model lets us talk naively about how likely it is that such a pair of events should show up as close together in time or closer, given patterns of "rare" and "rare"+"bad" events in those two streams. Watching the data for a while will let you estimate parameters for this model, and you can start picking out bouts of such event pairs. Zebrium takes such a bout, and generates an incident report from it. The results we are seeingâ€¦</p>

<h2>The plain language challenge</h2>
<p>Our approach works really well at generating root cause reports: if there's a root cause indicator in the logs, it will almost always make its way into a concise root cause report. Our approach has proven robust to different kinds of applications and logs; it requires no training or rules, pre-built or otherwise.</p>

<p>However, there's a big challenge remaining here. The last mile of delivering the benefits of autonomous Root Cause Analysis (RCA) is translating even the concise reports we generate into something the user can understand. The user who needs the quick RCA is not always the person who can understand the oblique root cause indicators in a technical log file. Who is to consume these reports, and what composes them?</p>

<p>This challenge is even more stark for an Managed Service Provider (MSP) or enterprise. At a small company, engineers may be responsible for front-line triage. At a large company or MSP, there will be a front-line, typically junior person who needs a quick RCA; they can't be expected to know all the different intricacies of application logs and what those logs mean. To bring value over the last mile to them, we need plain-language.</p>

<h2>Enter GPT-3</h2>
<p>Now that I've set the stage, let me show you a couple of examples that I think make it clear how transformational GPT-3 can be in the context of our problem. I think you'll agree with me that autonomous RCA seems a lot more real when it's translated into plain-language, and surely a lot more accessible by a lot of users.</p>

<p>GPT-3 is a state-of-the-art bidirectional autoregressive transformer model, with parameters in the hundreds of billions. It is produced, trained, and maintained by OpenAI, and it has really brought start-of-the art, deep NLP to developersâ€™ fingertips.</p>

<p>The most basic procedure for using GPT-3 looks like this -</p>

<p>1) Construct a â€œpromptâ€ for the model â€“ this is a sort of open-ended document that leaves the model to â€œcontinue the storyâ€, as it were; the continuation or response is called a â€œcompletionâ€. For the below two-line examples, I used the following simple prompt construction:</p>

<p>An expert examined the logs for the incident.</p>
<p>The first log message was: &lt;first_line_goes_here&gt;</p>
<p>The last log message was: &lt;second_line_goes_here&gt;</p>
<p>The expert described what had happened, in plain English:</p>

<p>2) Select model (I used davinci) and parameters - for the below examples, I used the following parameters to the davinci GPT-3 model:</p>

<p>{</p>
<p>"max_tokens": 128,</p>
<p>"temperature": 1,</p>
<p>"top_p": 0.05,</p>
<p>"presence_penalty": 0.3,</p>
<p>"frequency_penalty": 0.3,</p>
<p>"best_of": 10</p>
<p>}</p>

<p>3) Call the API; post-process completion for dangling or repeated phrases, to-taste. Serve warm.</p>

<h2>Example one: Database shutdown</h2>
<p>We shut down the Postgres database backing our Atlassian stack. Thousands of events, largely errors, ensued in the logs. Zebrium dutifully generates a root cause report, based on an ML-driven auto-detection. The report looks like this:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1039&amp;name=postgres%20incident.png" alt="postgres incident" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=520&amp;name=postgres%20incident.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1039&amp;name=postgres%20incident.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=1559&amp;name=postgres%20incident.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=2078&amp;name=postgres%20incident.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=2598&amp;name=postgres%20incident.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident.png?width=3117&amp;name=postgres%20incident.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>As you can see, Zebrium pulled about a dozen log events into the report; the first 9 are shown in the image. Youâ€™ll notice that the first event is colored green and the last event purple; these are the â€œFIRSTâ€ and the â€œWORSTâ€, and we use these to characterize the incident in the incidents list. Hereâ€™s what that looks like:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1039&amp;name=postgres%20incident%20summary.png" alt="postgres incident summary" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=520&amp;name=postgres%20incident%20summary.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1039&amp;name=postgres%20incident%20summary.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=1559&amp;name=postgres%20incident%20summary.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=2078&amp;name=postgres%20incident%20summary.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=2598&amp;name=postgres%20incident%20summary.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/postgres%20incident%20summary.png?width=3117&amp;name=postgres%20incident%20summary.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>OK, so Zebrium did a pretty good job here. It autonomously picked these two log events out of thousands to display to the user on the list page. Often, the â€œFIRSTâ€ event reflects root cause and the â€œWORSTâ€ reflects follow-on problems; youâ€™ll note here that the first is not even an error, but itâ€™s rare, and happens too close to other incident events, according to our model, to be a coincidence.</p>

<p>Now in this case, itâ€™s pretty clear to someone who has looked at a log file before that the database was shut down by the administrator. Youâ€™ll also notice, though, above the log events, a field called â€œDESCRIPTIONâ€: this was generated by GPT-3. It says:</p>

<p>â€œThe database server was stopped by the administrator.â€</p>

<h2>Why this summary is also amazing</h2>
<p>We passed in the â€œFIRSTâ€ and â€œWORSTâ€ events, as described above, to GPT-3. Notice that the first line says that the â€œPostgreSQL RDBMSâ€ was â€œStoppedâ€. The second line says that there was a â€œPSQLExceptionâ€ indicating that a connection was â€œterminating due to administrator commandâ€.</p>

<p>The word â€œadministratorâ€ appears on a different line than the word â€œPostgreSQLâ€, and nowhere in the log messages are the words â€œdatabaseâ€ or â€œserverâ€ to be found at all.</p>

<p>The algorithm is doing the following:</p>

<p>1.) Inferring that the statements on the two lines are related</p>
<p>2.) Inferring that they are both speaking about a â€œdatabase serverâ€</p>
<p>3.) Putting the two statements together: â€œstopped by the administratorâ€</p>

<p>Essentially, this is the sort of summary someone would put into a ticketing system; here, itâ€™s being done automatically, thanks to an appropriately selected pair of log messages coupled with a language model.</p>

<h2><span>Example two: Out of memory</span><span></span></h2>
<p>In this case, and using the same parameters as were used in the previous example, we take a root cause report for what turns out to be an out-of-memory issue to GPT-3 and see what sort of summary it gives us.</p>

<p>This particular report was generated in response to a signal from a monitoring tool that saw endpoint latencies spike too high. The system was configured with Zebrium to provide root cause observability across the stack. Here is the report Zebrium ML generated:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1039&amp;name=oom_incident.png" alt="oom_incident" width="1039" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=520&amp;name=oom_incident.png 520w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1039&amp;name=oom_incident.png 1039w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=1559&amp;name=oom_incident.png 1559w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=2078&amp;name=oom_incident.png 2078w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=2598&amp;name=oom_incident.png 2598w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident.png?width=3117&amp;name=oom_incident.png 3117w" sizes="(max-width: 1039px) 100vw, 1039px"></p>

<p>As you can see, Zebrium pulled about a dozen log events into the report; the first 9 are shown in the image. Youâ€™ll notice that the first event is colored green and the last event purple; these are the â€œFIRSTâ€ and the â€œWORSTâ€, and we use these to characterize the incident in the incidents list. Hereâ€™s what that looks like:</p>

<p><img src="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=908&amp;name=oom_incident_summary.png" alt="oom_incident_summary" width="908" srcset="https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=454&amp;name=oom_incident_summary.png 454w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=908&amp;name=oom_incident_summary.png 908w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=1362&amp;name=oom_incident_summary.png 1362w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=1816&amp;name=oom_incident_summary.png 1816w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=2270&amp;name=oom_incident_summary.png 2270w, https://www.zebrium.com/hs-fs/hubfs/Blogs/oom_incident_summary.png?width=2724&amp;name=oom_incident_summary.png 2724w" sizes="(max-width: 908px) 100vw, 908px"></p>

<p>In this case, itâ€™s not so clear that the problem is due to an out-of-memory issue, unless the reader is familiar with Linux and the OOM killer facility. There are a lot of technical parameters in these events as well, obscuring what was really at the heart of the problem.</p>

<p>Taking a look above the log messages again, in the â€œDESCRIPTIONâ€ field, letâ€™s see what GPT-3 gave us:</p>

<p>â€œThe memcached process was killed by the OOM killer</p>
<p>because it was consuming too much memory. The OOM killer</p>
<p>is a Linux kernel feature that allows the system to kill</p>
<p>a process when <strong><u>the system is running out of memory</u></strong>.â€</p>

<h2>Why this summary is also amazing</h2>
<p>What this summary tells us explicitly in plain-language is that the system was running out of memory. This is in fact the root cause of the original incident, tallying up a successful root cause summary.</p>

<p>For an L1 or L2, the Zebrium root cause summary may not be enough. That person wonâ€™t necessarily know that OOM means out-of-memory, or that the â€œFIRSTâ€ message isnâ€™t talking about an application issue entirely within memcached.</p>

<h2>What more I wanted here</h2>
<p>In the second example, I would have liked to have seen some recognition that the first line implies that the system was out-of-memory, and therefore the second line was due to related problems (in fact, the application server was paged out). Itâ€™s a lot to ask, but I think it might be possible, given some combination of more expressive prompts, finetuning, and presenting GPT-3 with other select data from the report (in this case, the report also included metrics anomalies showing a plunge in swap free).</p>

<h2><span>A cool direction</span></h2>
<p>You may have noticed that GPT-3 gave us a lot of extra detail about the Linux OOM killer than was mentioned in the log messages themselves. I believe it was able to provide this context in the same way it knew that PSQL referred to a database server: it was trained on the internet. There is likely enough information in the public domain that, as GPT-3 was being trained, it picked up enough cursory knowledge of these sorts of systems to add additional value.</p>

<p>To test my hypothesis, I spent some time fiddling quite unscientifically with the prompt and model parameters, trying to get it to expound on the OOM example as describe above. I also gave the model a much larger budget of response tokens. Eventually, I teased out this response:</p>

<p>The root cause of the â€¦</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs">https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs</a></em></p>]]>
            </description>
            <link>https://www.zebrium.com/blog/using-gpt-3-with-zebrium-for-plain-language-incident-root-cause-from-logs</link>
            <guid isPermaLink="false">hacker-news-small-sites-25749820</guid>
            <pubDate>Tue, 12 Jan 2021 17:08:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Huawei ExaGear: x86_64 apps on Arm 64-bit Linux systems]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25749490">thread link</a>) | @my123
<br/>
January 12, 2021 | https://threedots.ovh/blog/2021/01/huawei-exagear-x86_64-apps-on-arm64/ | <a href="https://web.archive.org/web/*/https://threedots.ovh/blog/2021/01/huawei-exagear-x86_64-apps-on-arm64/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-131">

	

	<div>
		
<p>ExaGear is a dynamic binary translation layer to run x86_32 and x86_64 applications on Arm 64-bit Linux systems.</p>



<p>You can download it <a href="https://mirrors.huaweicloud.com/kunpeng/archive/ExaGear/ExaGear_V100R002C00.tar.gz">here</a>. On an RPM-based distribution, just unpack the archive and install.</p>



<p>A CentOS 7 rootfs is shipped, you might want to install vte-profile afterwards.</p>



<h4>Hardware requirements</h4>



<p>A 64-bit Arm CPU with floating point and SIMD extensions. If it can run a conventional Linux distribution, itâ€™ll be able to run this.</p>



<h4>Kernel requirements</h4>



<p>Youâ€™ll have to install the p64k variant for systems with a 64KB page size set up (which ships with the x86_64 -&gt; arm64 translator only, not the x86_32 to arm64 one). Some applications might not work on such a system.</p>



<p>Youâ€™ll also need a kernel with 48-bit VA space, 39-bit of VA space kernel configurations are not compatible with ExaGear.</p>



<h4>Memory model</h4>



<p>ExaGear does not follow TSO completely by default, using heuristics instead. This can be configured through /etc/exagear-x86_64.conf.</p>



<p>SMO_MODE=fbase is the default, with SMO_SEVERITY=smart. For full compliance, you can run those commands:</p>



<pre><code>sudo sed -i -e '/EXAGEAR_SMO_MODE="/s/fbase"/all"/' /etc/exagear-x86_32.conf
sudo sed -i -e '/EXAGEAR_SMO_MODE="/s/fbase"/all"/' /etc/exagear-x86_64.conf</code></pre>



<p>On Tegra K1 64-bit and Tegra Xavier, youâ€™ll want to set SMO_MODE=none, as their CPU implements sequential consistency as the memory model. This setting provides a free performance boost with no downsides on that hardware.</p>



<h4>Performance</h4>



<p>For running your Docker containers or whatever on an Apple Silicon Mac too, this is a much faster solution than qemu-user.</p>



<p>Some performance numbers on Tegra Xavier: <a href="https://browser.geekbench.com/v5/cpu/compare/4206324?baseline=4206183">https://browser.geekbench.com/v5/cpu/compare/4206324?baseline=4206183</a>. (Geekbench arm64 Android compared to x86_64 Linux Geekbench results on the same hardware)</p>



<p>Because ExaGear doesnâ€™t implement the AES instructions, the scores for those is an outlier. Apart from that case, the results are pretty good.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://threedots.ovh/blog/2021/01/huawei-exagear-x86_64-apps-on-arm64/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25749490</guid>
            <pubDate>Tue, 12 Jan 2021 16:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Summiting Your Goals in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25748940">thread link</a>) | @StriverGuy
<br/>
January 12, 2021 | https://boringstartupstuff.com/newsletter/jan-12th-2021-summit-your-goals | <a href="https://web.archive.org/web/*/https://boringstartupstuff.com/newsletter/jan-12th-2021-summit-your-goals">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Building a startup is like climbing a mountain. Except this mountain has no trails, so you can only use your best guess to reach the summit. Every startup will have a different set of peaks to climb, but planning and strategizing are important to reaching the top, no matter the specific goal.</span></p>

<p><span>In planning your 2021 goals, start by answering three questions:&nbsp;</span></p>
<ol>
<li><span>Where do you want to be in 12 months?&nbsp;</span></li>
<li><span>What are the metric(s) of success?&nbsp;</span></li>
<li><span>How do you get there?&nbsp;</span></li>
</ol>

<p><span>To get the most value out of goal setting for your startup, be flexible, measure along the way, and check in on your progress at clear intervals.&nbsp;</span></p>

<p><b>Create Anti-Goals</b></p>
<p><a href="https://www.biznews.com/thought-leaders/1986/06/13/charlie-mungers-speech-to-the-harvard-school-june-1986" rel="follow noopener" target="_blank"><span>â€œInvert. Always Invertâ€ - Charlie Munger</span></a></p>
<p><span>Startups face a hazy, treacherous path from the start. Most of the time, it can feel like we are struggling to see only a few days or weeks ahead, let alone 12 months. Because early-stage companies cannot be sure of what the coming months will look like, it can sometimes be more practical to approach goal setting by developing anti-goals.</span></p>
<p><span>By inverting the problem of long-term goal setting, your team will mark out where they </span><b><i>donâ€™t</i></b><span> want to be and work backwards.</span></p>
<blockquote>
<p><span>Some anti-goals may include:</span></p>
<ul>
<li><span>Not having a product in the market by EOY</span></li>
<li><span>Not having closed any sales</span></li>
<li><span>Having fewer customers than you have today</span></li>
<li><span>Failing to raise your next round</span></li>
<li><span>Losing a key employee(s)</span></li>
</ul>
</blockquote>
<p><span>Mark out clear initiatives that prevent you from ending up where you donâ€™t want to be. It could be something like setting as many prospecting calls as possible over the first few weeks of the year. Or, maybe it's breaking down all the product features needed to get you to an MVP and entering them into your project management software. Or perhaps it's having thoughtful 1-1s each week with your key reports and getting it on the calendar today.</span></p>
<p><span>With a sense of what needs to be done, next establish a cadence and system to keep you in check.</span></p>

<p><b>1 day, 1 week, 1 month, 1 quarter, 1 year.&nbsp;</b></p>
<p><span>Using time segments to establish goals forces you to be realistic. Annual revenue goals follow from quarterly revenue goals, which in turn follow from monthly prospect appointment goals. If you have a plan to increase your revenue by $2,000,000, set a quarterly revenue goal of $500,000. To achieve that quarterly goal, back into how many sales meetings will need to be set per month. Using these time-based stair-steps, create secondary checkpoint goals to evaluate success along the way to your annual goals.&nbsp;</span></p>
<p><span>Melanie Perkins, CEO and co-founder of Canva, has a </span><a href="https://www.33voices.com/posts/how-to-set-and-achieve-your-startup-goals" rel="follow noopener" target="_blank"><span>weekly goal setting meeting with her leadership team</span></a><span>. This helps set targets for the current week based on the goals for the&nbsp; quarter or year. Using this idea, schedule a weekly meeting with stakeholders to course correct from the previous week. Similarly, schedule a monthly review meeting to zoom out and ensure you are on target.</span></p>

<p><b>Use a Compass.</b></p>
<p><span>Travel certain trails in the Adirondacks, and you will notice colored markers nailed to trees every 200 feet. These markers help you correct course as you hike. To have the same for your startup, l</span><span>ay out the markers to success before you begin your journey.&nbsp;</span></p>
<p><span>To ensure success on our journey, first formalize what KPIs are tracked to evaluate success and then set recurring monthly (or weekly) meetings to review with the broader team. If you're still determining which KPIs might be right, look through some of the </span><a href="https://www.notion.so/Startup-KPIs-to-Track-bd38b695c93b444ebc1e819143c543ec" rel="follow noopener" target="_blank"><span>examples we put together.</span></a><span>&nbsp;</span></p>
<p><span>At each meeting, evaluate and adjust your path. If you set a goal of 40 customer development meetings this month and blew past it, maybe itâ€™s time to revise your year end goals upward.&nbsp;</span></p>

<p><b>As you work towards your annual goals throughout the coming year, keep in mind that </b><a href="https://fs.blog/2015/11/map-and-territory/" rel="follow noopener" target="_blank"><b>the map is not the territory</b></a><span>. Even the best laid plans are merely abstractions of the reality they are intended to represent. Be vigilant in constant re-evaluation of the goals set for yourself and your team. In your meetings, constantly question your assumptions to ensure you donâ€™t look back in 12 months and ask yourself how you missed your goals by so much. Armed with this process to navigate your journey, you will be prepared to start the climb to the peak.&nbsp;</span></p>
</div></div>]]>
            </description>
            <link>https://boringstartupstuff.com/newsletter/jan-12th-2021-summit-your-goals</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748940</guid>
            <pubDate>Tue, 12 Jan 2021 16:20:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Containerd Development with Multipass]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25748839">thread link</a>) | @alexellisuk
<br/>
January 12, 2021 | https://blog.alexellis.io/containerd-development-multipass/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/containerd-development-multipass/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><p>About 18 months ago <a href="https://blog.alexellis.io/faas-containerd-serverless-without-kubernetes/">I started a project</a> which developed directly against containerd. This presented a problem which I'd not really encountered before - <a href="https://www.docker.com/">Docker</a> and <a href="https://kubernetes.io/">Kubernetes</a> on my Mac were no longer enough, I needed a Linux environment.</p>
<p>To begin with I just used an old 2016 model Dell XPS which gave me everyting I needed, but when others started to contribute, they were using Macs and so we had a problem. <a href="https://multipass.run/">Multipass</a> was the answer to our woes and we were pleasantly surprised by it and wondered why more people weren't using it every day.</p>
<p>I want to tell you a bit about our experience in the <a href="http://github.com/openfaas/">OpenFaaS community</a> developing <a href="https://github.com/openfaas/faasd">faasd</a> - a portable FaaS framework, just like OpenFaaS, but without the complexity and overheads of a Kubernetes cluster.</p>
<h2 id="whatscontainerdeverdoneforus">What's containerd ever done for us?</h2>
<p>Some time ago the original version of Docker was actually written in Python, and then morphed over time into a Go re-write. The Go version was seen as monolithic by some consumers, particularly the Kubernetes community.</p>
<blockquote>
<p>Docker did many things, and at one point clustering and multi-node orchestration was even added to that list (think Docker Swarm and Docker EE)</p>
</blockquote>
<p>As the codebase was refactored two projects emmerged: containerd and runc.</p>
<ul>
<li><a href="https://github.com/opencontainers/runc">runc</a> was a tiny Go binary that had one job: run a container based upon a spec. runc was also the driver for the <a href="https://opencontainers.org/">OCI specification</a></li>
<li><a href="https://github.com/containerd/containerd">containerd</a>'s job was to get things ready for runc - such as pulling images and defining specs</li>
</ul>
<p>Docker then remained as a thiner layer on top of both of these tools to bring a user-friendly developer-experience, networking, high-level API and CLI.</p>
<p>Over time containerd has shifted into the lime-light and in Kubernetes 1.20, it will take over duties for running containers in Kubernetes clusters. Now not a lot changes, because containerd was always there along with runc, we just skip a few levels of indirection.</p>
<p>containerd doesn't provide networking out of the box, and that was one of the hardest challenges.</p>
<blockquote>
<p>Not because it's technically complex, but there was a severe lack of documentation.</p>
</blockquote>
<p><a href="https://github.com/containernetworking/cni">Container Network Initiative (CNI)</a> filled a gap for us and enabled us to build a network between our containers.</p>
<p>When you squint at faasd, you see something that looks a lot like a single-node Kubernetes cluster, using the same projects you'd find on most nodes: containerd, runc and CNI.</p>
<h2 id="whywouldyoudevelopwithcontainerd">Why would you develop with containerd?</h2>
<p>There were two main reasons for creating "faasd" - the first was that we were hearing from users that they didn't want to run an entire Kubernetes cluster just to run a handful of functions, APIS or webpages. The second was that I fancied doing some learning and low-level coding.</p>
<p>Whilst containerd has a socket available, and can be mounted or forwarded, it doesn't work as you would expect. The containerd client tries to run containers on the host it's executing on and just synchronises state with the containerd socket. I found that very confusing, but was reassured that is the way it was designed to work.</p>
<p>You can see our code which has developed into two main services shipped in a single binary.</p>
<ul>
<li><a href="https://github.com/openfaas/faasd/blob/master/cmd/up.go">faasd</a> - starts all the core services for OpenFaaS: the gateway, NATS, Prometheus and our queue worker. <a href="https://github.com/openfaas/faasd/blob/master/docker-compose.yaml">A docker-compose file</a> is used to define versions of images, and the dependency graph for starting up services.</li>
<li><a href="https://github.com/openfaas/faasd/tree/master/pkg/provider">faasd-provider</a> - a HTTP interface that performs invoke and CRUD for functions and secrets</li>
</ul>
<p>Both are installed with systemd unit files, it was refreshing to lean on the host system for once, instead of using abstractions.</p>
<h3 id="theshortversion">The short-version</h3>
<p><a href="https://multipass.run/">multipass</a> is a <a href="https://canonical.com/">Canonical</a> and its open source components and usage instructions are <a href="https://github.com/canonical/multipass">available on GitHub</a>.</p>
<blockquote>
<p>Multipass is a lightweight VM manager for Linux, Windows and macOS. It's designed for developers who want a fresh Ubuntu environment with a single command.</p>
<p>Since it supports metadata for cloud-init, you can simulate a small cloud deployment on your laptop or workstation.</p>
</blockquote>
<p>On MacOS it is currently using hyperkit to run VMs, which is another thing we can thank Docker for building. On Windows and Linux it uses different virtualization technology, but has the same simple user-experience which means we get to write one tutorial and to be done with it. As a busy maintainer, I see that as a big win.</p>
<p>Here's how you get a VM launched with the latest version of Ubuntu Server:</p>
<pre><code>multipass launch --name faasd
</code></pre>
<p>Shell into the VM:</p>
<pre><code>multipass exec faasd /bin/bash
</code></pre>
<p>We then realised that multipass supported cloud-init, so morphed our README to the following:</p>
<pre><code>curl -sSLO https://raw.githubusercontent.com/openfaas/faasd/master/cloud-config.txt
multipass launch --cloud-init cloud-config.txt  --name faasd
</code></pre>
<p>I had the pleasure of speaking to the engineering manager and PM for multipass on Zoom today and they told me you can even pass the cloud-init file as a URL, so our tutorial becomes even simpler:</p>
<pre><code>multipass launch --cloud-init https://raw.githubusercontent.com/openfaas/faasd/master/cloud-config.txt  --name faasd
</code></pre>
<p>From there, you have a full Linux system with a working version of containerd and Container Network Initiative (CNI) plugins running, and most importantly faasd is up and running.</p>
<pre><code>faas-cli list
faas-cli store deploy figlet
faas-cli invoke figlet &lt;&lt;&lt; "faasd"
</code></pre>
<p>Whilst I've not used it yet, I'm told you can also mount folders from your base system to synchronise your GOPATH. So you could write code using VSCode and have the built-in terminal pane running "multipass exec /bin/bash" or an ssh session.</p>
<p>I recently wrote a post on <a href="https://blog.alexellis.io/memory-lane-raspberry-pi-zero/">One last trip down memory lane with the Raspberry Pi Zero</a> where I tried to port faasd to a Raspberry Pi Zero. The Go build for faasd was taking so long that I gave up, opened multipass and cross-compiled it. That whole process was quicker than waiting for the poor little armv6 service to finish its work.</p>
<h3 id="multipassforkubernetes">multipass for Kubernetes</h3>
<p>You can also use multipass to run other workloads, I tried to deploy Kubernetes with microk8s, but ran into some issues with the default limits.</p>
<p>First of all: there was not enough RAM alloacted, then there was not enough disk, finally there were not enough vCPUs. After working all that out I came up with the following:</p>
<pre><code>multipass launch --name microk8s -m 8G -c 2 -d 80G
</code></pre>
<p>Now it's not that much of a surprise that we never ran into that issue, because faasd is designed to be ridicuously lean. It even runs on a Raspberry Pi 3 which only has 1GB of RAM.</p>
<h2 id="wrappingup">Wrapping up</h2>
<p>multipass has been useful for us whenever we need to access a Linux VM from a Mac. It could even be used for running a Kubernetes cluster, but I would usually prefer to deploy Kubernetes in a Docker container using either <a href="https://kind.sigs.k8s.io/">KinD</a> or <a href="https://github.com/rancher/k3d">k3d</a> for the sheer speed and efficiency of it.</p>
<p>multipass is a much leaner alternative to tooling like VirtualBox and Vagrant. The team are looking for feedback and are already planning for a way to launch custom images. Think: <code>multipass launch openfaas</code> or <code>multipass launch gitlab</code> for instance.</p>
<blockquote>
<p>We see multipass being an important part of enabling collaboration with users from all-over the world, whether they use Linux, MacOS or Windows on their desktop.</p>
</blockquote>
<p>Around 20 people have contributed to faasd directly, and many more indirectly. It worked very well for us and we believe that multipass deserves more attention.</p>
<p>Go and try it out, let them know what works for you and where it can be improved for your workflow.</p>
<blockquote>
<p>Users have already suggested using <a href="https://github.com/canonical/multipass/issues?q=is%3Aissue+is%3Aopen+qemu">qemu on MacOS</a>, and the new <a href="https://developer.apple.com/documentation/virtualization">Virtualization.Framework</a> introduced in Big Sur could also have some impact on the future roadmap and M1 support.</p>
</blockquote>
<ul>
<li><a href="https://multipass.run/">multipass.run</a></li>
</ul>
<h3 id="whataboutfaasdvsopenfaasonkubernetes">what about faasd vs. OpenFaaS on Kubernetes?</h3>
<p>faasd now fills a nice gap where Docker Swarm used to live in the OpenFaaS ecosystem. If you're working your way up to production with Kubernetes, or already have experience then you may benefit from a cluster and installing OpenFaaS to it.</p>
<p>If you're wanting to run a few functions, start small, keep costs down, then faasd may be a better fit. Managing and keeping up with Kubernetes versions can be its own challenge. So if you want to deploy code for a customer and barely give it another thought, then package faasd as a VM or cloud-init script and be done with it.</p>
<p>faasd can be run for 5-10 USD on a cloud VPS, or on your Raspberry Pi for free using <a href="https://docs.inlets.dev/">an inlets tunnel</a> to get it a public IP address.</p>
<p>Learn more about faasd and OpenFaaS at our Birthday event - join us on the 18th and participate in the Prize Draw too: <a href="https://github.com/openfaas/faas/issues/1592">Save the date ğŸ‚ - OpenFaaS 4th birthday!</a></p>
<p>Did you enjoy this article? Follow me through GitHub Sponsors and get a weekly email from me and regular updates on my OSS work: <a href="https://github.com/sponsors/alexellis">github.com/sponsors/alexellis</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/containerd-development-multipass/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748839</guid>
            <pubDate>Tue, 12 Jan 2021 16:15:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Shitâ€™s broken: why we need Mindful Notifications and how to Design them]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25748659">thread link</a>) | @parsecs
<br/>
January 12, 2021 | https://thistooshallgrow.com/blog/mindful-notifications | <a href="https://web.archive.org/web/*/https://thistooshallgrow.com/blog/mindful-notifications">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page" role="main">
        
          <article data-page-sections="5e89e9e1a4e68d60672900f3" id="sections">
  
    <section data-test="page-section" data-section-theme="white" data-section-id="5e89e9e1a4e68d60672900f5" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
        &quot;imageOverlayOpacity&quot;: 0.15,
        &quot;video&quot;: {
          &quot;playbackSpeed&quot;: 0.5,
          &quot;filter&quot;: 1,
          &quot;filterStrength&quot;: 0,
          &quot;zoom&quot;: 0
        },
        &quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
        &quot;sectionHeight&quot;: &quot;section-height--medium&quot;,
        &quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
        &quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
        &quot;contentWidth&quot;: &quot;content-width--wide&quot;,
        &quot;sectionTheme&quot;: &quot;white&quot;,
        &quot;sectionAnimation&quot;: &quot;none&quot;,
        &quot;backgroundMode&quot;: &quot;image&quot;
      }" data-animation="none">
  
  <div>
    <div>
      
      
      
      
      <div data-content-field="main-content" data-item-id="">
  <article id="article-">
  
    <div>
      

      <div>
        <div><div data-layout-label="Post Body" data-type="item" id="item-5ffd8cf4ec6bd24cb9853654"><div><div><div data-block-type="2" id="block-1707612b43cca3c4dc4f"><div><p>Barring those who have made a conscious and concerted effort to turn them off, push notifications disrupt our flow on a daily basis. You pick up your phone to check the time or your to-do list, and the first thing you see is that you've received 9 messages from 4 different people, who are waiting for your response. Letâ€™s start with an assessment.</p><h2>What is the state of play with notifications?</h2><h3>They capture our attention</h3><p>In 2015, researchers from Florida State University published <a href="https://www.fsu.edu/indexTOFStory.html?lead.distraction" target="_blank">this study</a> on attention and phone notifications. Participants worked on an attention-demanding task on a computer, during which some received automated call or text alerts on their personal phones. As it turns out, those who received text notifications performed poorly compared to participants who didnâ€™t. Those who received call notifications performed even worse than those who got text messages. Hereâ€™s the most interesting part: simply knowing that you have received a text or missed a call might impact your attention as much as actually using your phone. Thatâ€™s because some of your focus is now allocated to remembering this notification thatâ€™s waiting for you.</p><h3>They get in our way</h3><p>Fast-forward to the 20â€™s. Today, push notifications may be the most obvious form of interruptions because they pop up on or slide into our screens ; but theyâ€™re not the only ones that cut off our flow. For instance, I would love to have Discord open, or to use Twitter, without having the constant reminder that I have things to catch up on. The notification badge, with or without count, disrupts our focus. If you open Twitter because you want to message someone, the badge immediately calls for your attention instead of letting you pursue the task you had in mind.</p><p>An alternative design could be one that lets you check your notifications whenever it suits you, making it a deliberate choice, by removing their constant presence on the homepage and keeping them contained to a dedicated zone. Dr. Richard Davidson, founder and director of the Center for Healthy Minds, and professor of psychology and psychiatry at the University of Wisconsinâ€“Madison, uses <a href="https://www.vox.com/science-and-health/2018/11/28/18102745/cellphone-distraction-brain-health-screens-kids" target="_blank">this expressive comparison</a>:</p><blockquote><p><em>â€œOur attention is being captured by devices rather than being voluntarily regulated. We are like a sailor without a rudder on the ocean â€” pushed and pulled by the digital stimuli to which we are exposed rather than by the intentional direction of our own mind.â€</em></p></blockquote><h3>Whatâ€™s with the red?</h3><p>Thereâ€™s also the issue of the colour. Many notification badges are <a href="https://onezero.medium.com/why-apples-notification-bubbles-are-so-stressful-65a544e51f10" target="_blank">red by default</a>. Red is the colour that stands out the most in our daily life. Whether in a city, in nature, or at home, this hue contrasts the best against any background. As a result, red is also consistently used to alert us of important signals, including in the physical world. By important, I mean â€œthat which could have strongly negative consequences if we miss themâ€. The stop sign, the red light, the no-crossing light, the stove, the trainâ€™s emergency window breaker, the car dashboardâ€™s red lights, and more, use red as a signifier.</p><p>So not only is red more striking, but weâ€™re also conditioned to be particularly attentive to red signals. Now, I ask you: is the content youâ€™re alerted about with notification badges important enough to use red? Iâ€™m curious where your mind is at. I created a poll on Twitter, and you can vote below or <a href="https://twitter.com/This2ShallGrow/status/1348978819189927937">over there</a>.</p></div></div><div data-block-json="{&quot;cache_age&quot;:&quot;3153600000&quot;,&quot;authorUrl&quot;:&quot;https://twitter.com/This2ShallGrow&quot;,&quot;width&quot;:550,&quot;height&quot;:null,&quot;hSize&quot;:null,&quot;resolveObject&quot;:&quot;Tweet&quot;,&quot;html&quot;:&quot;<blockquote class=\&quot;twitter-tweet\&quot;><p dir=\&quot;ltr\&quot; lang=\&quot;en\&quot;>Let's talk about notification badges.<br>They're often red to better call for our attention.<br><br>I'm curious about your opinion: is the content you\u2019re alerted about with notification badges important enough to use red?</p>\u2014 This Too Shall Grow \uD83C\uDF31 (@This2ShallGrow) <a href=\&quot;https://twitter.com/This2ShallGrow/status/1348978819189927937?ref_src=twsrc%5Etfw\&quot;>January 12, 2021</a></blockquote>\n<script async=\&quot;\&quot; src=\&quot;https://platform.twitter.com/widgets.js\&quot; charset=\&quot;utf-8\&quot;></script>&quot;,&quot;url&quot;:&quot;https://twitter.com/This2ShallGrow/status/1348978819189927937&quot;,&quot;resolvedBy&quot;:&quot;twitter&quot;,&quot;floatDir&quot;:null,&quot;authorName&quot;:&quot;This Too Shall Grow \uD83C\uDF31&quot;,&quot;version&quot;:&quot;1.0&quot;,&quot;resolved&quot;:true,&quot;type&quot;:&quot;rich&quot;,&quot;providerName&quot;:&quot;Twitter&quot;,&quot;providerUrl&quot;:&quot;https://twitter.com&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1610456282977_18734"><div><blockquote><div dir="ltr" lang="en"><p>Let's talk about notification badges.<br>They're often red to better call for our attention.</p><p>I'm curious about your opinion: is the content youâ€™re alerted about with notification badges important enough to use red?</p></div>â€” This Too Shall Grow ğŸŒ± (@This2ShallGrow) <a href="https://twitter.com/This2ShallGrow/status/1348978819189927937?ref_src=twsrc%5Etfw">January 12, 2021</a></blockquote>
</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610452215955_20257"><div><h3>Cognitive overload</h3><p>The quantity of information we consume today, along with multi-tasking, <a href="https://alphaomegaalpha.org/pharos/PDFs/2016-4-Byyny.pdf" target="_blank">contributes to cognitive overload</a>. Weâ€™re constantly being summoned: we switch between tasks and different platforms without dedicating appropriate levels of attention to each. In the example I mentioned above, you 1) open twitter.com, but before completing the â€œsend message to friendâ€ task, you 2) are prompted by the notification badge. So you 3) open the notifications panel, switching to a â€œread notificationsâ€ task. Some of them require a reaction from you, where you 4) switch to â€œpost replyâ€ or â€œlike tweetâ€. Once youâ€™re done going through this list, you 5) can finally return to your original messaging task.</p><p>â€œI have strong willpower, I would stick to the original task without checking my notificationsâ€, you say? Thatâ€™s great! Though as weâ€™ve seen above, the niggling awareness of new information waiting for you is enough to impede your focus.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1610452215955_15957"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453035558-IKQES09HXETNNQDOI9TR/ke17ZwdGBToddI8pDm48kHvp6gjDsuy6cgJALdb7YT57gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UWCPijYEL0HltAgRxT8NRnjWy6zW2VV1Mx3A_EXY6GnapC969RuPXvt2ZwyzUXQf7Q/image-asset.png" data-image="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453035558-IKQES09HXETNNQDOI9TR/ke17ZwdGBToddI8pDm48kHvp6gjDsuy6cgJALdb7YT57gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UWCPijYEL0HltAgRxT8NRnjWy6zW2VV1Mx3A_EXY6GnapC969RuPXvt2ZwyzUXQf7Q/image-asset.png" data-image-dimensions="2380x1448" data-image-focal-point="0.5,0.5" alt="5 screenshots full of notification badges, from Twitter, my phone, Slack, my laptop's taskbar, and its hidden icons" data-load="false" data-image-id="5ffd9028ec6bd24cb985627d" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453035558-IKQES09HXETNNQDOI9TR/ke17ZwdGBToddI8pDm48kHvp6gjDsuy6cgJALdb7YT57gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UWCPijYEL0HltAgRxT8NRnjWy6zW2VV1Mx3A_EXY6GnapC969RuPXvt2ZwyzUXQf7Q/image-asset.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610456705640_17082"><div><h3>Meaninglessness &amp; anti-notifications</h3><p>There is no way to separate the useful or the relevant from the noise. Take emails: a promotional newsletter from The Fork, or the LinkedIn announcement that someone you donâ€™t know started a new job, are given the same importance as an email from your client saying they accepted your budget. Gmail tabs and inbox filters can help with that, but most email providers donâ€™t have that kind of feature enabled by default. John Herrman, tech and media reporter, has <a href="https://www.nytimes.com/2018/02/27/magazine/red-dots-badge-phones-notification.html" target="_blank">eloquently written</a> about this topic:</p><blockquote><p>â€œ<em>Iâ€™ve met dots that existed only to inform me of the existence of other dots, new dots, dots with almost no meaning at all; a dot on my Instagram app led me to another dot within it, which informed me that something had happened on Facebook: Someone I barely know had posted for the first time in a while</em>.â€</p></blockquote><blockquote><p>â€œ<em>The same badge might lead to word that Grandmaâ€™s in the hospital or that, according to a prerecorded voice, the home-security system you donâ€™t own is in urgent need of attention or that, for the 51st time today, someone has posted in the group chat. New and flourishing modes of socialization amount, in the most abstract terms, to the creation and reduction of dots, and the experience of their attendant joys and anxieties</em>.â€</p></blockquote><p>Here are some examples of irrelevant notifications:</p><ul data-rte-list="default"><li><p>Other people - whom I donâ€™t know - commented on a post Iâ€™ve commented on</p></li></ul></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1610452215955_22192"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453393034-SXYEO1FP0DWDZVSBNPJV/ke17ZwdGBToddI8pDm48kFaciCSRLpy4FqEfeJo-8ZtZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIDbgMIFijNwft2iJw2f8oeBiWwXdXxF7Qu651zCm1AgY/Group+4.png" data-image="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453393034-SXYEO1FP0DWDZVSBNPJV/ke17ZwdGBToddI8pDm48kFaciCSRLpy4FqEfeJo-8ZtZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIDbgMIFijNwft2iJw2f8oeBiWwXdXxF7Qu651zCm1AgY/Group+4.png" data-image-dimensions="820x337" data-image-focal-point="0.5,0.5" alt="Screenshot from a LinkedIn notification, saying â€œFabien and 15 others also commented on Camilleâ€™s postâ€" data-load="false" data-image-id="5ffd9190ec6bd24cb9857b36" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453393034-SXYEO1FP0DWDZVSBNPJV/ke17ZwdGBToddI8pDm48kFaciCSRLpy4FqEfeJo-8ZtZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIDbgMIFijNwft2iJw2f8oeBiWwXdXxF7Qu651zCm1AgY/Group+4.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610452215955_24128"><div><ul data-rte-list="default"><li><p>A post is trending on a certain hashtag, and I could comment on it to benefit from the hype</p></li></ul></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1610452215955_25241"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453560972-GSYOV2HFXOUD8R58ENS6/ke17ZwdGBToddI8pDm48kMB2TSBAj02WZHSqajftp89Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PI45PyAtGGTu9aeZ9veqU41miG-92hxQw2Sgx255JlmyA/trending_post_LinkedIn.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453560972-GSYOV2HFXOUD8R58ENS6/ke17ZwdGBToddI8pDm48kMB2TSBAj02WZHSqajftp89Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PI45PyAtGGTu9aeZ9veqU41miG-92hxQw2Sgx255JlmyA/trending_post_LinkedIn.jpg" data-image-dimensions="828x142" data-image-focal-point="0.5,0.5" alt="Screenshot from a LinkedIn notification, saying â€œRespond as This Too Shall Grow on this trending post in #uxresearch:â€ and then the text from said post" data-load="false" data-image-id="5ffd923899828f0602625174" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453560972-GSYOV2HFXOUD8R58ENS6/ke17ZwdGBToddI8pDm48kMB2TSBAj02WZHSqajftp89Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PI45PyAtGGTu9aeZ9veqU41miG-92hxQw2Sgx255JlmyA/trending_post_LinkedIn.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610452215955_27380"><div><ul data-rte-list="default"><li><p>A page I follow has shared a post</p></li></ul></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1610452215955_28510"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453715782-JXV8G02IK3GHIL80T4FB/ke17ZwdGBToddI8pDm48kKamSHGe5gwDKjiM6BMy9rlZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIKoyZIH06X2NfsyN2BfEMGUzaKIAGAzZZZ5fTP6aqJhM/UXmastery_linkedin.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453715782-JXV8G02IK3GHIL80T4FB/ke17ZwdGBToddI8pDm48kKamSHGe5gwDKjiM6BMy9rlZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIKoyZIH06X2NfsyN2BfEMGUzaKIAGAzZZZ5fTP6aqJhM/UXmastery_linkedin.jpg" data-image-dimensions="828x138" data-image-focal-point="0.5,0.5" alt="Screenshot from a LinkedIn notification saying â€œUX Mastery shared a post:â€ and then the text of said post" data-load="false" data-image-id="5ffd92d334371f71385af936" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5e88c56caafd451f4ce3ec83/1610453715782-JXV8G02IK3GHIL80T4FB/ke17ZwdGBToddI8pDm48kKamSHGe5gwDKjiM6BMy9rlZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIKoyZIH06X2NfsyN2BfEMGUzaKIAGAzZZZ5fTP6aqJhM/UXmastery_linkedin.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610452215955_30798"><div><p>Those are what Adrian Zumbrunnen calls â€œ<a href="https://medium.com/s/story/the-rise-of-anti-notifications-6c92e355612b" target="_blank">anti-notifications</a>â€: notifications that arenâ€™t about you or meant for you, but are instead about others. None of the screenshots above concern me, yet LinkedIn decided on my behalf that having them in my feed wasnâ€™t enough, but that I should also be notified of them.</p><h2>How are mindful notifications helpful?</h2><p>What are mindful notifications? Hereâ€™s my attempt at constructing a definition.</p><p>â€œNotifications are mindful when their mental cost and attention required are suitable to the information communicated to a given user. It enables them instead of hindering them. As much as possible, itâ€™s signalling instead of interrupting.â€</p><p>I asked people in the <a href="https://nesslabs.com/" target="_blank">Ness Labs community</a> to tell me about their relationship with notifications. Hereâ€™s what they shared:</p><blockquote><p>â€œ<em>I've turned most notifications off, entirely, especially sounds but also quite a few badges. This has increased my productivity and my equanimity. I find myself no less informed as a result. I am experimenting with widgets on my iPhone to surface the information I want convenient access toâ€ - </em><a href="https://twitter.com/manleywalker" target="_blank">Manley</a></p></blockquote><p>I also found <a href="https://twitter.com/_middlesister" target="_blank">Karin</a>â€™s approach interesting. She has a feature phone for personal use, and a smartphone for her professional life only. On her smartphone, everything is off by default - including badges and sound - and she only allows a few selected apps to notify her. This mindset of starting with a clean slate and only turning on the relevant alerts helps ensure that she makes her digital life work for her, and not the other way around.</p><p>Another member mentioned she has no social media, and that she keeps her phone free from work emails and news apps. She can still log in to her personal emails and calendar if needed, but she purposefully added friction to make it a difficult and deliberate act.</p><h2>Designing mindful notifications</h2><h3>Managing the level of attention</h3><p>Dear designer, whatâ€™s it going to be? A mobile and/or desktop push notification? An email? An SMS? An in-app notification only? A blinking LED? A sound? A badge? A vibration? And chances areâ€¦ a blend of those?</p><p>Designers have a range of signifiers they can use and potentially combine, to adapt to the appropriate level of attention required. Does it require usersâ€™ full attention, right away? Does it just need to be available for users when they want to retrieve that information? What's the worst case scenario if users miss the notification?</p><p>To be mindful of usersâ€™ attention, hereâ€™s what factors in:</p><ul data-rte-list="default"><li><p><strong>The urgency</strong>. â€œIn 10 min: call with x personâ€ lets you know that itâ€™s time to finish your current task, take a short <a href="https://thistooshallgrow.com/blog/better-breaks" target="_blank">break</a>, and pour yourself another tea before your meeting.</p></li><li><p><strong>The importance</strong>. â€œYou have 2 months to fill in your income tax papersâ€ isnâ€™t urgent, but you certainly donâ€™t want to miss that task. Thus, this information might not require a push notification, but it needs to stand out.</p></li><li><p><strong>The context</strong>. â€œHereâ€™s your QR code ticket for train 1234, carriage 5, seat 6â€ is a very relevant â€¦</p></li></ul></div></div></div></div></div></div></div></div></article></div></div></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thistooshallgrow.com/blog/mindful-notifications">https://thistooshallgrow.com/blog/mindful-notifications</a></em></p>]]>
            </description>
            <link>https://thistooshallgrow.com/blog/mindful-notifications</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748659</guid>
            <pubDate>Tue, 12 Jan 2021 16:04:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lead Time vs. Cycle Time vs. Takt Time: A Comprehensive Guide to Work and Time]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25748557">thread link</a>) | @KaiserSanchez
<br/>
January 12, 2021 | https://www.7pace.com/blog/lead-time-vs-cycle-time-vs-takt-time | <a href="https://web.archive.org/web/*/https://www.7pace.com/blog/lead-time-vs-cycle-time-vs-takt-time">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							
<p>Developers and software teams already know that one of the biggest challenges of their job is <a href="https://www.7pace.com/blog/how-to-scope-software-projects">accurately scoping work</a>, and being able to consistently and predictably deliver results to clients within the promised timeline.</p>



<p>Yet another challenge is finding ways to streamline workflows so <a href="https://www.7pace.com/blog/healthier-work-systems">missed deadlines due to inaccurate scoping</a> become 100 percent a thing of the past. Lead time, cycle time, and takt time are just a few metrics that software teams can track and optimize to boost their efficiency and productivity â€”&nbsp;but these are also metrics that are often confused with one another.</p>



<p>Each one of them â€”&nbsp;lead time, cycle time, and takt time â€” is an individual metric that helps developers monitor, track, and evaluate <a href="https://www.7pace.com/blog/autonomy-software-teams">how efficiently your team completes projects</a>. Optimizing each of them for better efficiency doesnâ€™t only boost client satisfaction; it also makes your team better, faster, and stronger.</p>







<p>But doing that requires understanding what each metric is, how to calculate it, and the role it plays in the overall project scope. By understanding the differences between lead time, cycle time, and takt time â€” and how and when to use each metric â€”&nbsp;developers can discover paths to better scoping and increased productivity.</p>



<h2>Lead Time vs Cycle Time vs Takt Time: What Are They</h2>



<p>Lead time, cycle time, and takt time all come from Kanban, a workflow management method that was originally created to help streamline manufacturing processes. Many of the principles of Kanban translate well to the process of software development, so itâ€™s become a common practice for managing workflows for software teams, as well.</p>



<p>Lead time, cycle time, and takt time are all metrics used to track, measure, and evaluate efficiency at different parts of the production process. If that doesnâ€™t make sense just yet, donâ€™t worry â€”&nbsp;weâ€™ll explain each one in better detail down below.</p>



<h3>What Is Lead Time?</h3>



<p>Lead time is the total amount of time between when a new task or project enters your workflow, and when it leaves your workflow. In other words, itâ€™s the total time from when your team agrees to take on a project, to when you deliver it to the client.</p>



<h4>How Is Lead Time Calculated?</h4>



<p>The formula for lead time in a manufacturing setting is:</p>



<figure><img loading="lazy" width="1024" height="264" src="https://www.7pace.com/wp-content/uploads/2021/01/01-Image-1024x264.jpg" alt="How Is Lead Time Calculated" srcset="https://www.7pace.com/wp-content/uploads/2021/01/01-Image-1024x264.jpg 1024w, https://www.7pace.com/wp-content/uploads/2021/01/01-Image-300x77.jpg 300w, https://www.7pace.com/wp-content/uploads/2021/01/01-Image-768x198.jpg 768w, https://www.7pace.com/wp-content/uploads/2021/01/01-Image-1536x396.jpg 1536w, https://www.7pace.com/wp-content/uploads/2021/01/01-Image-2048x528.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>In the context of a software team, that might look like this:</p>



<ul><li>After the client makes a request that includes three deliverables, it takes your team two days to process it.</li><li>Then, it takes four months (~120 days) to complete the project.</li><li>Once the project is finished on your end, the client takes two weeks (14 days) to review it and make the final payment.</li></ul>



<p><strong>In this case, the lead time would equal 2 days + 120 days + 14 days, or 136 days.</strong></p>



<h4>Why Is Lead Time Important for Software Teams?</h4>



<p>Lead time provides you with a good overview of how long a project takes from start to finish. You can compare your lead time to your cycle time to determine some insights about your teamâ€™s productivity and customer satisfaction, but more on that in a minute.</p>



<h3>What Is Cycle Time?</h3>



<p>Cycle time is how you can measure how long it takes your team to complete work on a project. In manufacturing, cycle time means the amount of time it takes to complete a production cycle from beginning to end. For software teams, that usually translates to the amount of time from when your team starts coding, to when the software is released.</p>



<p>Cycle time differs from lead time in that it measures <em>only</em> the time your team spends in production. Lead time takes that measurement, then combines it with the time it takes your team to receive and process requests, deliver them to the client, and receive approval and payment.</p>



<h4>How Is Cycle Time Calculated?</h4>



<p>The formula for calculating cycle time is:</p>



<figure><img loading="lazy" width="1024" height="264" src="https://www.7pace.com/wp-content/uploads/2021/01/02-Image-1024x264.jpg" alt="How Is Cycle Time Calculated" srcset="https://www.7pace.com/wp-content/uploads/2021/01/02-Image-1024x264.jpg 1024w, https://www.7pace.com/wp-content/uploads/2021/01/02-Image-300x77.jpg 300w, https://www.7pace.com/wp-content/uploads/2021/01/02-Image-768x198.jpg 768w, https://www.7pace.com/wp-content/uploads/2021/01/02-Image-1536x396.jpg 1536w, https://www.7pace.com/wp-content/uploads/2021/01/02-Image-2048x528.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Letâ€™s take the same example from above, and calculate the teamâ€™s cycle time.</p>



<p>It took the team 120 hours to complete the three deliverables the client requested. So cycle time could be calculated in two different ways.</p>



<ul><li>120 hours divided by three deliverables = 40 hours of cycle time per deliverable; or</li><li>120 hours divided by one project for the client = 120 hours of cycle time</li></ul>



<h4>Why Is Cycle Time Important for Software teams?</h4>



<p>Cycle time is one of the most important metrics you can compare to your lead time, and how those two differ can tell you quite a bit about your teamâ€™s efficiency.</p>



<p>For example, if your cycle time is much lower than your lead time, it shows that your team is either taking a long time to process requests and begin projects, or projects are lingering in the approval phase. This could mean your team is leaving loose ends and not moving through the entire workflow efficiently.</p>



<p>On the other hand, if your cycle time is equal to your lead time, it could be because youâ€™re allowing processing and approval times on projects to overlap. While this might be an efficient use of your software teamâ€™s time, it may also lower the quality of the customer service you deliver.</p>



<h3>What Is Takt Time?</h3>



<p>And now, letâ€™s look at time measurements from a different angle with takt time. Takt time is a measurement of how quickly or efficiently your team is able to meet the needs of your client or production schedule. â€œTaktâ€ comes from the German word for â€œpulse,â€ and thatâ€™s a good way of looking at it â€”&nbsp;this measurement finds your teamâ€™s ideal â€œpulseâ€ of work, that allows you to deliver projects as needed without underworking or overworking the team.</p>



<h4>How Is Takt Time Calculated?</h4>



<p>The formula for calculating takt time is:</p>



<figure><img loading="lazy" width="1024" height="264" src="https://www.7pace.com/wp-content/uploads/2021/01/03-Image-1024x264.jpg" alt="How Is Takt Time Calculated" srcset="https://www.7pace.com/wp-content/uploads/2021/01/03-Image-1024x264.jpg 1024w, https://www.7pace.com/wp-content/uploads/2021/01/03-Image-300x77.jpg 300w, https://www.7pace.com/wp-content/uploads/2021/01/03-Image-768x198.jpg 768w, https://www.7pace.com/wp-content/uploads/2021/01/03-Image-1536x396.jpg 1536w, https://www.7pace.com/wp-content/uploads/2021/01/03-Image-2048x528.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>This can be a little trickier to apply to work like software development (though that doesnâ€™t make it a less useful metric!).&nbsp;</p>



<p>In the example weâ€™ve been using above, we can take those three deliverables the client needs, and divide them into the 120 hours your team has available for the project. In that case:</p>



<p>Takt time = 120 / 3 = 40 hours per deliverable.</p>



<p>But we know software development isnâ€™t always that easy to segment. So, to look at this another way, letâ€™s say your team has scoped the clientâ€™s project and determined there are 6 smaller goals you need to achieve during your sprints. So in this case:</p>



<p>Takt time = 120 / 6 = 20 hours per sprint. That means your team can plan on completing two sprints per week to hit their optimal pulse, or takt, for this project.</p>



<h4>Why Is Takt Time Important for Software Teams?</h4>



<p>Takt time tells you whether your team is overworked and unable to keep up with demand, or underworked and not being as productive as it could be.</p>



<p>For example, if you calculate your takt time to be 120 hours per project, but your teamâ€™s cycle time is 150 hours, your team wonâ€™t be able to deliver on the deadlines itâ€™s scoping.</p>



<p>On the other hand, if your takt time is 120 hours and your cycle time is 100 hours, youâ€™re leaving 20 hours per project in your scope as wasted time.</p>



<h2>How Can You Measure Lead Time, Cycle Time, and Takt Time?</h2>



<p>We know time tracking <a href="https://www.7pace.com/blog/timekeeping-is-not-toxix">isnâ€™t a favorite topic among developers</a>. But for getting the valuable insights that lead time, cycle time, and takt time can provide, itâ€™s 100 percent necessary.</p>



<p>So why not use a time tracking tool thatâ€™s built into your existing systems, but stays in the background, out of your way while you do the job youâ€™re here to do? <a href="https://www.7pace.com/">7pace Timetracker</a> is just that â€” itâ€™s a time tracking tool built for developers, by developers who use it themselves. It integrates directly into Azure DevOps, Azure Boards, and <a href="https://www.7pace.com/blog/7pace-for-github-announcement">GitHub</a>, so no matter where and how you work, itâ€™s always where you need it to be â€”&nbsp;tracking time so you donâ€™t have to worry about it.</p>



<p>But we know weâ€™re not going to sell you on a time tracking tool unless thereâ€™s real value your team can gain. Thatâ€™s why itâ€™s not so important <em>how</em> you track different time metrics â€”&nbsp;what matters is <em>why</em> you track them (and how you use the insights they give you).</p>



<h3>Why Should You Track All These Time Metrics?</h3>



<p>Tracking time metrics like lead time, cycle time, and takt time comes with a whole pile of potential benefits for your team. These metrics can:</p>



<ul><li>Help your team identify bottlenecks in your workflow;</li><li>Give you a better understanding of your teamâ€™s capacity for work;</li><li>Help you more accurately scope new projects.</li></ul>



<p>The most important takeaway here is that tracking different time metrics gives you a complete view of how your team is spending time. That allows you to identify any workflow problems, and identifying them is the first step toward eliminating them â€” and getting as close as possible to maximum productivity with your team.&nbsp;</p>



<p>It is important to note and recognize that time metrics will be constantly changing, so this isnâ€™t a one-and-done kind of assessment. In order to keep getting the maximum value out of tracking time metrics, youâ€™ll have to continue to track and analyze them over time, on all your projects â€”&nbsp;and adjust your workflow accordingly. Sometimes changes you put into place based on one set of time metrics will end up getting reversed later based on a newer set of time metrics â€” software teams are made up of people, after all, and not robots.</p>



<p>It takes some time and effort to constantly track time metrics, but we think the value of the insights you can gather makes the endeavor well worth it. If youâ€™re ready to start tracking your teamâ€™s time metrics â€”&nbsp;from lead time to cycle time to takt time and even more â€” you need the time tracker that will automate the most tedious parts of the process. Learn more at 7pace.com.</p>
						</div></div>]]>
            </description>
            <link>https://www.7pace.com/blog/lead-time-vs-cycle-time-vs-takt-time</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748557</guid>
            <pubDate>Tue, 12 Jan 2021 15:58:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US military and intelligence computer networks (2015)]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25748460">thread link</a>) | @DyslexicAtheist
<br/>
January 12, 2021 | https://www.electrospaces.net/2015/03/us-military-and-intelligence-computer.html | <a href="https://web.archive.org/web/*/https://www.electrospaces.net/2015/03/us-military-and-intelligence-computer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-5514159602850492451" itemprop="description articleBody">
<p><span size="2" color="gray">(Updated: April 9, 2020)</span></p>
<p>
From the Snowden revelations we learned not only about NSA data collection projects, but also about many software tools that are used to analyze and search those data. These programs run on secure computer networks, isolated from the public internet. Here we will provide an overview of these networks that are used by the US military and US intelligence agencies.</p><p>

Besides computer networks, they also use a number of dedicated telephone networks, but gradually these are transferred from traditional circuit-switched networks to <a href="https://en.wikipedia.org/wiki/Voice_over_IP" target="_blank">Voice over IP</a> (VoIP). This makes it possible to have only one IP packet-switched network for both computer and phone services. It seems that for example NSA's <a href="http://electrospaces.blogspot.com/2014/02/nsa-director-alexanders-phones.html#nsts">NSTS</a> phone system is now fully IP-based.</p><p><a href="https://4.bp.blogspot.com/-hfFQW77nKhY/VPUo9x2bk3I/AAAAAAAACOc/MvGIApP5UE0/s1600/nsa-nsoc2006.jpg" imageanchor="1" target="_blank"><img src="https://4.bp.blogspot.com/-hfFQW77nKhY/VPUo9x2bk3I/AAAAAAAACOc/MvGIApP5UE0/s1600/nsa-nsoc2006.jpg" width="450"></a><br>
<span size="2">
An old NSTS telephone and a <a href="https://en.wikipedia.org/wiki/KVM_switch" target="_blank">KVM-switch</a> which enables switching between physically<br>
separated networks, in this case two Unclassified (green labels), one Secret<br>
(red label) and one Top Secret/SCI (orange and yellow label) network<br>
<span color="gray">(National Security Operations Center, 2006 - Click to enlarge)</span><br>
</span>
</p>
<p><span size="+2">US national networks</span></p><p>

The main US military and intelligence computer networks are (of course) only accessible for authorized personnel from the United States. Special security measures are in place to prevent interception by foreign intelligence agencies. Most of the tools and programs used by NSA run on JWICS and NSANet, but here we only mention them when this is confirmed by  documents. </p><blockquote>
<b><span size="+1">DNI-U</span> (Director National Intelligence-Unclassified)</b><p>

- Until 2006: <a href="https://en.wikipedia.org/wiki/Open_Source_Information_System" target="_blank">Open Source Information System</a> (OSIS)<br>
- Classification level: Sensitive But Unclassified (SBU, color code: green)<br>
- Access: US intelligence users<br>
- Controlled by: DNI-CIO Intelligence Community Enterprise Services office (ICES)<br>
- Purpose: Providing open source information; consists of a group of secure intranets used by the US Intelligence Community (IC)<br>
- Computer applications: <a href="https://en.wikipedia.org/wiki/Intelink" target="_blank">Intelink-U</a>, <a href="https://en.wikipedia.org/wiki/Intellipedia" target="_blank">Intellipedia</a>, EViTAP, etc.</p><p><a href="https://3.bp.blogspot.com/-x73KIwA7LfU/VPvwxJ8dRlI/AAAAAAAACPs/b2SgploAWNQ/s1600/Intellipedia2008.png" imageanchor="1" target="_blank"><img src="https://3.bp.blogspot.com/-x73KIwA7LfU/VPvwxJ8dRlI/AAAAAAAACPs/b2SgploAWNQ/s1600/Intellipedia2008.png" title="Page of the Unclassified version of Intellipedia" width="400"></a><br>
<span size="2">
Page of the Unclassified version of Intellipedia<br>
This one from the CIA's AIN network<br>
<span color="gray">(Click to enlarge)</span><br>
</span>
</p>
<p>

<b><span size="+1">NIPRNet</span> (Non-secure Internet Protocol Router Network)</b></p><p>

- Classification level: Sensitive But Unclassified (SBU, color code: green)<br>
- Secured by: Network traffic monitored by the TUTELAGE program and <a href="https://firstlook.org/theintercept/document/2014/03/12/nsa-gchqs-quantumtheory-hacking-tactics" target="_blank">QUANTUM-DNS</a> at the 18 gateways to the public internet <a nohref="" title="Shane Harris, @War, p. 143">*</a><br> 
- Address format: http://subdomains.domain.mil<br>
- E-mail format: john.doe@mail.mil<br>
- Access: US military users, via <a href="http://www.cac.mil/common-access-card/" target="_blank">Common Access Card</a> smart card <a href="https://www.fbo.gov/index?s=opportunity&amp;mode=form&amp;tab=core&amp;id=7ab31885b591c6a281441213785eca66" target="_blank">*</a><br>
- Number of users: ca. 4,000,000<br>
- Purpose: Combat support applications for the US Department of Defense (DoD), Joint Chiefs of Staff (JCS), Military Departments (MILDEPS), Combatant Commands (COCOM), and senior leadership; composed of the unclassified networks of the DoD; provides protected access to the public internet.<br>
- Computer applications: E-mail, file transfer and web services like the Joint Deployable Intelligence Support System (JDISS)<br>
- Video Teleconferencing (VTC)</p><p><a href="https://4.bp.blogspot.com/-x8enipjnrho/VP-I5NAz3gI/AAAAAAAACQk/ggfhcb38gvs/s1600/afcybercom2007.jpg" imageanchor="1" target="_blank"><img src="https://4.bp.blogspot.com/-x8enipjnrho/VP-I5NAz3gI/AAAAAAAACQk/ggfhcb38gvs/s1600/afcybercom2007.jpg" width="450"></a><br>
<span size="2">
Cyber security officers in an operations center room at Barksdale Air Force Base<br>
There are screens connected to NIPRNet (green background/border)<br>
 and SIPRNet (red background/border)<br>
<span color="gray">(Photo: U.S. Air Force/Tech. Sgt. Cecilio Ricardo - Click to enlarge)<br>
More about this photo on <a href="http://securitycritics.org/2008/02/03/picture/" target="_blank">SecurityCritics.org</a></span><br>
</span>
</p>
<p>

<b><span size="+1">SIPRNet</span> (Secret Internet Protocol Router Network)</b></p><p>

- Classification level: SECRET (color code: red)<br>
- Secured by: <a href="http://www.gdc4s.com/products/secure-voice-and-data-products-catergory-listing/network-encryption.html?taxonomyCat=326" target="_blank">TACLANE</a> (KG-175A/D) network encryptors<br>
- Address format: http://subdomains.domain.smil.mil<br>
- E-mail format: john.doe@mail.smil.mil<br>
- Access: users from multiple US intelligence agencies and government departments (and some foreign partners)<a href="http://www.govexec.com/defense/2007/05/nsa-seeks-to-open-classified-network-to-allies/24458/" target="_blank">*</a>, via <a href="http://www.24af.af.mil/shared/media/document/afd-111005-080.pdf" target="_blank">SIPRNet Token</a> smart card<br>
- Number of users: ca. 500,000 <a href="http://www.popularmechanics.com/technology/security/how-to/a6426/what-is-siprnet-and-wikileaks-4085507/" target="_blank">*</a><br>
- Controlled by: JCS, NSA, DIA and DISA <a href="http://en.citizendium.org/wiki/SIPRNET" target="_blank">*</a><br>
- Purpose: Supporting the <a href="https://en.wikipedia.org/wiki/Global_Command_and_Control_System" target="_blank">Global Command and Control System</a> (GCCS), the <a href="https://en.wikipedia.org/wiki/Defense_Message_System" target="_blank">Defense Message System</a> (DMS), collaborative planning and numerous other classified warfighter applications, and as such DoD's largest interoperable command and control data network.<br>
- Computer applications: <a href="https://en.wikipedia.org/wiki/Intelink" target="_blank">Intelink-S</a>, <a href="https://en.wikipedia.org/wiki/Intellipedia" target="_blank">Intellipedia</a>, TREASUREMAP, Joint Deployable Intelligence Support System (JDISS), Defense Knowledge Online, Army Knowledge Online, InfoWorkSpace (IWS), etc.<br>
- Phone service: VoSIP (Voice over Secure IP) as an adjunct to the <a href="https://en.wikipedia.org/wiki/Defense_Red_Switch_Network" target="_blank">DRSN</a> for users that do not require the full command and control and conferencing capabilities.<br>
- Secure Video Teleconferencing (VTC)</p><p><a href="https://4.bp.blogspot.com/-hFbp3JXoR1E/VQEkphbqMKI/AAAAAAAACRM/AAgjCrOz2XM/s1600/wh-sitroom-screensaver.jpg" imageanchor="1" target="_blank"><img src="https://4.bp.blogspot.com/-hFbp3JXoR1E/VQEkphbqMKI/AAAAAAAACRM/AAgjCrOz2XM/s1600/wh-sitroom-screensaver.jpg" title="Computers in the White House Situation Room connected to a TOP SECRET/SCI computer network" width="400"></a><br>
<span size="2">
Computers in the White House Situation Room, with a yellow screensaver,<br>
indicating they are connected to a TOP SECRET/SCI computer network<br>
<span color="gray">(Screenshot from a <a href="https://www.whitehouse.gov/blog/2009/12/18/inside-situation-room" target="_blank">White House</a> video)</span><br>
</span>
</p>
<p>

<b><span size="+1">JWICS</span> (Joint Worldwide Intelligence Communications System)</b></p><p>

- Classification level: <a href="http://electrospaces.blogspot.com/2013/09/the-us-classification-system.html#sci">TOP SECRET/SCI</a> (color code: yellow)<br>
- Secured by: <a href="http://www.gdc4s.com/products/secure-voice-and-data-products-catergory-listing/network-encryption.html?taxonomyCat=326" target="_blank">TACLANE</a> (KG-175A/D) network encryptors <a href="https://www.linkedin.com/pub/thomas-glenny-cissp-ccna-mcitp/21/a8a/704" target="_blank">*</a><br>
- Address format: http://subdomains.domain.ic.gov<br>
- E-mail format: john.doe@agency.ic.gov<br>
- Access: users from multiple US intelligence agencies and government departments<br>
- Controlled by: DIA, with management delegated to AFISR<br>
- Purpose: Collaboration and sharing of intelligence data within the US Intelligence Community (IC)<br>
- Computer applications: ICE-mail, <a href="https://en.wikipedia.org/wiki/Intelink" target="_blank">Intelink-TS</a>, <a href="https://en.wikipedia.org/wiki/Intellipedia" target="_blank">Intellipedia</a>, GHOSTMACHINE, ROYALNET, TREASUREMAP, ICREACH, Joint Deployable Intelligence Support System (JDISS), etc.<br>
- Phone Service: DoD Intelligence Information System (DoDIIS) VoIP telephone system<br>
- Secure Video Teleconferencing (VTC)</p><p><a href="https://3.bp.blogspot.com/-BnR4g9-Rbd0/VPUpQG5TCAI/AAAAAAAACOk/sYcfxUUSfno/s1600/jwics-royalnet-address.jpg" imageanchor="1" target="_blank"><img src="https://3.bp.blogspot.com/-BnR4g9-Rbd0/VPUpQG5TCAI/AAAAAAAACOk/sYcfxUUSfno/s1600/jwics-royalnet-address.jpg" width="400"></a><br>
<span size="2">
Web-browser with a JWICS address for the ROYALNET tool<br>
</span>
</p>

</blockquote>
<p>

These various military and intelligence networks run on a world-wide physical infrastructure that is called the <a href="https://en.wikipedia.org/wiki/Defense_Information_Systems_Network" target="_blank">Defense Information Systems Network</a> (DISN), which is maintained by the <a href="http://www.disa.mil/" target="_blank">Defense Information Systems Agency</a> (DISA) and consists of landline, mobile, radio and satellite communication links.</p><p>

Most of these communication links are not connected to the public internet, but because radio and satellite transmissions can easily be intercepted by foreign countries, the security of these networks is assured by encryption. This encryption can also be used to run higher classified traffic over communication links with a lower classification level through Virtual Private Network (VPN) tunnels.</p><p>

Classified communications have to be protected by <a href="https://en.wikipedia.org/wiki/NSA_Suite_A_Cryptography" target="_blank">Suite A Cryptography</a>, which contains very strong and classified encryption algorithms. On most networks this is implemented by using <a href="https://en.wikipedia.org/wiki/Type_1_product" target="_blank">Type 1</a> certified <a href="http://www.gdc4s.com/products/secure-voice-and-data-products-catergory-listing/network-encryption.html?taxonomyCat=326" target="_blank">TACLANE</a> (KG-175A/D) in-line network encryptors made by General Dynamics:</p><p><a href="https://4.bp.blogspot.com/-x4T0EMTWJlI/VP_kSFDBEDI/AAAAAAAACQ0/b3HG2jTkZqg/s1600/taclane_interop_2011.jpg" imageanchor="1" target="_blank"><img src="https://4.bp.blogspot.com/-x4T0EMTWJlI/VP_kSFDBEDI/AAAAAAAACQ0/b3HG2jTkZqg/s1600/taclane_interop_2011.jpg" width="400"></a><br>
<span size="2">
<span color="gray">(Diagram: General Dynamics)</span><br>
</span>
</p>
<p>

As long there's the appropriate strong link encryption, only the end points with the computer terminals (where data are processed before they are encrypted) need strict physical and digital security requirements in order to prevent any kind of eavesdropping or interception by foreign adversaries.</p><p>

Most American military bases are connected to the SIPRNET backbone, but for tactical users in the field, the SIPRNet and JWICS networks can extend to mobile sites through Satellite Communications (SATCOM) links, like for example <a href="http://en.citizendium.org/wiki/TROJAN_SPIRIT" target="_blank">TROJAN SPIRIT</a> and TROJAN SPIRIT LITE, which consist of a satellite terminal that can be on a pallet, in a shelter, on a trailer or even connected to a transit case.</p><p>


Other US goverment departments and intelligence agencies also have their own computer networks at different classification levels:</p><blockquote>
<b><span size="+1">White House</span></b><br>
- TNet (the <a href="https://www.nytimes.com/2019/10/01/us/politics/white-house-classified-computer-system.html" target="_blank">main platform</a> for White House aides to do their jobs; Top Secret; connected to JWICS)<br>
- NICE (NSC Intelligence Collaboration Environment, a subdomain of TNet, <a href="https://www.nytimes.com/2019/10/01/us/politics/white-house-classified-computer-system.html" target="_blank">managed</a> by the Directorate for Intelligence Programs of the National Security Council; Top Secret/SCI)<p>


<b><span size="+1">FBI</span></b><br>
- LEO (<a href="http://www.fbi.gov/about-us/cjis/leo" target="_blank">Law Enforcement Online</a>; Unclassified, for law enforcement communications)<br>
- FBINet (Federal Bureau of Investigation Network; Secret)<br>
- SCION (<a href="https://itdashboard.gov/investment?buscid=443" target="_blank">Sensitive Compartmented Information Operational Network</a>; Top Secret/SCI)</p><p>


<b><span size="+1">DHS</span></b><br>
- HSIN (<a href="http://www.dhs.gov/homeland-security-information-network-hsin" target="_blank">Homeland Security Information Network</a>; Unclassified)<br>
- HSDN (Homeland Secure Data Network; Secret)</p><p>


<b><span size="+1">State Department</span></b><br>
- OpenNet (Unclassified)<br>
- ClassNet (Secret; address format: http://subdomain.state.sgov.gov)<br>
- INRISS (<a href="https://en.wikipedia.org/wiki/Bureau_of_Intelligence_and_Research" target="_blank">INR</a> Intelligence Support System; Top Secret/SCI)</p><p>


<b><span size="+1">Department of Energy</span></b><br>
- DOENet (DOE Corporate Network; Unclassified)<br>
- ECN/U (Emergency Communications Network/Unclassified)<br>
- ECN/C (Emergency Communications Network/Classified)</p><p>


<b><span size="+1">CIA</span></b><br>
- AIN (Agency InterNet; Unclassified)<br>
- ADN (Agency Data Network?; Top Secret/SCI)<br>
- RDINet (Rendition, Detention, and Interrogation Network; for sharing classified information with SSCI staffers, est. 2009) <a href="https://www.cia.gov/library/reports/Redacted-December-2014-Agency-Accountability-Board-Report.pdf" target="_blank">*</a></p><p>


<b><span size="+1">NRO</span></b><br>
- GWAN (Government Wide Area Network, also known as NRO Management Information System (NMIS); Top Secret)<br>
- CWAN (Contractor Wide Area Network; Top Secret)</p><p>


<b><span size="+1">NGA</span></b><br>
- NGANet (National Geospational intelligence Agency Network; Top Secret/SCI)</p></blockquote>
<p>

Finally, there's the <b>Capitol Network</b> (CapNet, formerly known as Intelink-P), which provides Congressional intelligence consumers with connectivity to <a href="https://en.wikipedia.org/wiki/Intelink" target="_blank">Intelink-TS</a> and <a href="http://itlaw.wikia.com/wiki/CIASource" target="_blank">CIASource</a>, the latter being the CIA's primary dissemination vehicle for both finished and unfinished intelligence reports.</p><p><a href="https://3.bp.blogspot.com/-h488Ajw2pV8/VrA6r26xQsI/AAAAAAAAC_s/ZqEaJoXWiCw/s1600/homeland-security-networks.jpg" imageanchor="1" target="_blank"><img src="https://3.bp.blogspot.com/-h488Ajw2pV8/VrA6r26xQsI/AAAAAAAAC_s/ZqEaJoXWiCw/s1600/homeland-security-networks.jpg" title="Major US Homeland Security computer networks" width="450"></a><br>
<span size="2">
Overview of major Homeland Security computer networks<br>
From a <a href="https://books.google.nl/books?id=dQ-4mcQUdxEC&amp;lpg=PA50&amp;dq=siprnet%20classnet&amp;hl=nl&amp;pg=PA5#v=onepage&amp;q&amp;f=true" target="_blank">briefing</a> for Congress, July 2004<br>
</span>
</p>
<p><span size="+2">US multinational networks</span></p><p>

Besides the aforementioned networks that are only accessible for authorized military and intelligence personnel from the United States, there are also computer networks set up by the US for multinational coalitions, and which therefore can also be used by officials from partner countries. </p><p>

The group of countries that have access to such coalition networks is often denoted by a number of "Eyes" corresponding with the number of countries that participate.</p>

<blockquote>
<b><span size="+1">NSANet</span> (National Security Agency Network)</b><p>

- Classification level: <a href="http://electrospaces.blogspot.com/2013/09/the-us-classification-system.html#sci">TOP SECRET/SCI</a> (color code: yellow)<br>
- Secured by:  <a href="http://www.gdc4s.com/products/secure-voice-and-data-products-catergory-listing/network-encryption.html?taxonomyCat=326" target="_blank">TACLANE</a> network encryptors <a href="http://clearedjobs.net/print_job/75813/print" target="_blank">*</a><br>
- Address format: http://subdomain.domain.nsa<br>
- E-mail format: john.doe@nsa<br>
- Access: US, UK, CAN, AUS, NZL signals intelligence users<br>
- Controlled by: NSA, with management delegated to CSS Texas<br>
- Purpose: Sharing intelligence data among the 5 Eyes partners<br>
- Computer applications: <a href="http://electrospaces.blogspot.com/2016/11/data-sharing-systems-used-within-five.html#iws">InfoWorkSpace</a> (IWS), SIDToday â€¦</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.electrospaces.net/2015/03/us-military-and-intelligence-computer.html">https://www.electrospaces.net/2015/03/us-military-and-intelligence-computer.html</a></em></p>]]>
            </description>
            <link>https://www.electrospaces.net/2015/03/us-military-and-intelligence-computer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748460</guid>
            <pubDate>Tue, 12 Jan 2021 15:51:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Switch Case in Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25748450">thread link</a>) | @johnjackjames
<br/>
January 12, 2021 | https://matteoguadrini.github.io/posts/a-switch-story/ | <a href="https://web.archive.org/web/*/https://matteoguadrini.github.io/posts/a-switch-story/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  
  <section>
    <p><img src="https://techaid24.com/wp-content/uploads/2020/09/Switch-Case-In-Python.jpg" alt="Python Switch Case"></p>

<p>The <em>switch</em> is a statement that evaluates the accuracy or similarity of the value of a certain input.
But isnâ€™t that the same thing that the <em>if</em> statement does?
Letâ€™s see this statement starting with <strong>bash</strong> scripting language.</p>
<div><pre><code data-lang="bash"><span>case</span> EXPRESSION in

  PATTERN_1<span>)</span>
    STATEMENTS
    <span>;;</span>

  PATTERN_2<span>)</span>
    STATEMENTS
    <span>;;</span>

  PATTERN_N<span>)</span>
    STATEMENTS
    <span>;;</span>

  *<span>)</span>
    STATEMENTS
    <span>;;</span>
<span>esac</span>
</code></pre></div><p><em>EXPRESSION</em> is an expression (command) or a variable. <em>PATTERN_N</em>, is a value that is expected from <em>EXPRESSION</em>. <em>*</em> is default value.</p>
<p>So given an <strong>EXPRESSION</strong>, I evaluate the <strong>PATTERN</strong> cases and if they donâ€™t fit into the latter, the default <strong>*</strong> comes into play. Simple. Letâ€™s see her at work.</p>
<h2 id="switch-work">Switch, work!</h2>
<p>Which fruit do you want?</p>
<div><pre><code data-lang="bash"><span>echo</span> -n <span>"Enter the name of a fruit "</span>
<span>read</span> FRUIT

<span>echo</span> -n <span>"The </span><span>$FRUIT</span><span> is "</span>

<span>case</span> <span>$FRUIT</span> in

  apple<span>)</span>
    <span>echo</span> -n <span>"apple"</span>
    <span>;;</span>

  banana<span>)</span>
    <span>echo</span> -n <span>"banana"</span>
    <span>;;</span>

  blueberries <span>|</span> raspberries <span>|</span> <span>"blue currant"</span> <span>|</span> currant<span>)</span>
    <span>echo</span> -n <span>"berries"</span>
    <span>;;</span>

  *<span>)</span>
    <span>echo</span> -n <span>"unknown"</span>
    <span>;;</span>
<span>esac</span>
</code></pre></div><p>In bash everything is very simple and clear. Letâ€™s see what happens in other languages.</p>
<h2 id="switch-in-other-languages">Switch in other languages</h2>
<p>In other languages such as Java and .NET C#, the switch case is a bit more complicated. However, compared to the simplicity of the bash case, the purpose is clear.
An example in <strong>Java</strong>.</p>
<div><pre><code data-lang="java"><span>public</span> <span>class</span> <span>FruitSelector</span>  
<span>{</span> 
    <span>public</span> <span>static</span> <span>void</span> <span>main</span><span>(</span><span>String</span><span>[]</span> <span>args</span><span>)</span> 
    <span>{</span> 
        <span>String</span> <span>fruit</span> <span>=</span> <span>"banana"</span><span>;</span>

        <span>switch</span><span>(</span><span>fruit</span><span>)</span> 
        <span>{</span> 
            <span>case</span> <span>"apple"</span><span>:</span> 
                <span>System</span><span>.</span><span>out</span><span>.</span><span>println</span><span>(</span><span>"The fruit is apple"</span><span>);</span> 
                <span>break</span><span>;</span> 
            <span>case</span> <span>"banana"</span><span>:</span> 
                <span>System</span><span>.</span><span>out</span><span>.</span><span>println</span><span>(</span><span>"The fruit is banana"</span><span>);</span> 
                <span>break</span><span>;</span> 
            <span>case</span> <span>"blueberries"</span><span>:</span>
            <span>case</span> <span>"raspberries"</span><span>:</span>
            <span>case</span> <span>"blue currant"</span><span>:</span>
            <span>case</span> <span>"currant"</span><span>:</span>
                <span>System</span><span>.</span><span>out</span><span>.</span><span>println</span><span>(</span><span>"The fruit is berries"</span><span>);</span> 
                <span>break</span><span>;</span> 
            <span>default</span><span>:</span> 
                <span>System</span><span>.</span><span>out</span><span>.</span><span>println</span><span>(</span><span>"The fruit is unknown"</span><span>);</span> 
        <span>}</span> 
    <span>}</span> 
<span>}</span> 
</code></pre></div><p>And one in <strong>C#</strong>.</p>
<div><pre><code data-lang="csharp"><span>using</span> <span>System</span><span>;</span>

<span>public</span> <span>class</span> <span>FruitSelector</span>
<span>{</span>
   <span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>()</span>
   <span>{</span>
      <span>string</span> <span>fruit</span> <span>=</span> <span>"banana"</span><span>;</span>

      <span>switch</span> <span>(</span><span>caseSwitch</span><span>)</span>
      <span>{</span>
          <span>case</span> <span>"apple"</span><span>:</span>
              <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"The fruit is apple"</span><span>);</span> 
              <span>break</span><span>;</span>
          <span>case</span> <span>"banana"</span><span>:</span> 
              <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"The fruit is banana"</span><span>);</span> 
              <span>break</span><span>;</span>
          <span>case</span> <span>"blueberries"</span><span>:</span>
          <span>case</span> <span>"raspberries"</span><span>:</span>
          <span>case</span> <span>"blue currant"</span><span>:</span>
          <span>case</span> <span>"currant"</span><span>:</span>
              <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"The fruit is berries"</span><span>);</span>
              <span>break</span><span>;</span>
          <span>default</span><span>:</span>
              <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"The fruit is unknown"</span><span>);</span>
              <span>break</span><span>;</span>
      <span>}</span>
   <span>}</span>
<span>}</span>
</code></pre></div><p>They are very similar. We built a fruit selector, like the one in bash.</p>
<h2 id="but-in-python">But in python?</h2>
<p>Python does not have any <em>switch</em> statements.
A <a href="https://www.python.org/dev/peps/pep-3103/">PEP 3103</a> has been evaluated and created, but the conclusion is:</p>
<blockquote>
<p>In the mean time, Python is fine without a switch statement, and perhaps those who claim it would be a mistake to add one are right.</p>
</blockquote>
<p>As I was reflecting above, the switch case is very similar to the if statement.
An early form of switch in python could be given by <strong>if/elif/else</strong> statements.</p>
<div><pre><code data-lang="python"><span>fruit</span> <span>=</span> <span>"banana"</span>
<span>if</span> <span>fruit</span> <span>==</span> <span>"apple"</span><span>:</span>
    <span>print</span><span>(</span><span>"The fruit is apple"</span><span>)</span>
<span>elif</span> <span>fruit</span> <span>==</span> <span>"banana"</span><span>:</span>
    <span>print</span><span>(</span><span>"The fruit is banana"</span><span>)</span>
<span>elif</span> <span>fruit</span> <span>in</span> <span>(</span><span>"blueberries"</span><span>,</span> <span>"raspberries"</span><span>,</span> <span>"blue currant"</span><span>,</span> <span>"currant"</span><span>):</span>
    <span>print</span><span>(</span><span>"The fruit is berries"</span><span>)</span>
<span>else</span><span>:</span>
    <span>print</span><span>(</span><span>"The fruit is unknown"</span><span>)</span>
</code></pre></div><p>This is simple to both read and understand. But itâ€™s still not a switch statement. The switch evaluates the accuracy but also the similarity of a word.
There is an object in python which acts as a selector. Not for nothing have the two classes written in Java and C# above called â€œ<em>Selector</em>â€.</p>
<p>A selector evaluates an <strong>EXPRESSION</strong>, takes its value and checks the accuracy of the <strong>PATTERN</strong>, otherwise, it returns a default value (<strong>*</strong>).
The dictionary object is a kind of selector:</p>
<blockquote>
<p>A mapping object maps hashable values to arbitrary objects. Mappings are mutable objects. There is currently only one standard mapping type, the dictionary.</p>
</blockquote>
<p>Being based on hash indexes, it is much faster in retrieving values. Letâ€™s try to create our selector.</p>
<div><pre><code data-lang="python"><span>myfruit</span> <span>=</span> <span>"banana"</span>
<span>fruits</span> <span>=</span> <span>{</span>
    <span>"apple"</span><span>:</span> <span>"The fruit is apple"</span><span>,</span>
    <span>"banana"</span><span>:</span> <span>"The fruit is banana"</span><span>,</span>
    <span>"blueberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"raspberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"blue currant"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"currant"</span><span>:</span> <span>"The fruit is berries"</span>
<span>}</span>
<span>print</span><span>(</span><span>fruits</span><span>.</span><span>get</span><span>(</span><span>myfruit</span><span>,</span> <span>"The fruit is unknown"</span><span>))</span>
</code></pre></div><p>In this way, we made our switch selector, beautiful and â€œ<em>pythonic</em>â€. But still, the exactness but also the similarity of a word is not evaluated.</p>
<h2 id="can-it-be-improved">Can it be improved?</h2>
<p>Yes, of course!
Letâ€™s now create a function that will act as a selector, as weâ€™ve seen done in Java and C#.
There is a python builtin that applies filters. The function is called <em>filter</em>. Apply a function to an iterable. Functions such as terables are python objects and can be assigned as arguments to other functions. Also, our fruit selector (dictionary) is an iterable. We just need a function that evaluates the similarity of the keys.</p>
<div><pre><code data-lang="python"><span>def</span> <span>FruitSelector</span><span>(</span><span>fruit</span><span>):</span>
    <span>fruits</span> <span>=</span> <span>{</span>
        <span>"apple"</span><span>:</span> <span>"The fruit is apple"</span><span>,</span>
        <span>"banana"</span><span>:</span> <span>"The fruit is banana"</span><span>,</span>
        <span>"blueberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
        <span>"raspberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
        <span>"blue currant"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
        <span>"currant"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
        <span>"default"</span><span>:</span> <span>"The fruit is unknown"</span>
    <span>}</span>
    <span>return</span> <span>dict</span><span>(</span><span>filter</span><span>(</span><span>lambda</span> <span>key</span><span>:</span> <span>fruit</span> <span>in</span> <span>key</span><span>[</span><span>0</span><span>],</span> <span>fruits</span><span>.</span><span>items</span><span>()))</span>

<span>FruitSelector</span><span>(</span><span>'banana'</span><span>)</span>
<span>FruitSelector</span><span>(</span><span>'anana'</span><span>)</span>
</code></pre></div><p>In python, methods of classes and functions are objects of type <em>Callable</em>. Being objects, information can be stored in them.
We will transform our selector into a switch, with an added value: the cache of the last selected fruit.
In python everything is an object and therefore can be treated as such.
If we wanted to abstract our selector even more to make it become a switch in effect, thatâ€™s it:</p>
<div><pre><code data-lang="python"><span>def</span> <span>switch</span><span>(</span><span>match</span><span>,</span> <span>dictionary</span><span>,</span> <span>default</span><span>=</span><span>"no match"</span><span>):</span>
    <span>for</span> <span>key</span> <span>in</span> <span>dictionary</span><span>.</span><span>keys</span><span>():</span>
        <span>if</span> <span>match</span> <span>in</span> <span>key</span><span>:</span>
            <span>switch</span><span>.</span><span>last_match</span> <span>=</span> <span>key</span>
            <span>return</span> <span>dictionary</span><span>.</span><span>get</span><span>(</span><span>key</span><span>)</span>
    <span>return</span> <span>default</span>

<span>fruits</span> <span>=</span> <span>{</span>
    <span>"apple"</span><span>:</span> <span>"The fruit is apple"</span><span>,</span>
    <span>"banana"</span><span>:</span> <span>"The fruit is banana"</span><span>,</span>
    <span>"blueberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"raspberries"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"blue currant"</span><span>:</span> <span>"The fruit is berries"</span><span>,</span>
    <span>"currant"</span><span>:</span> <span>"The fruit is berries"</span>
<span>}</span>

<span>switch</span><span>(</span><span>'banana'</span><span>,</span> <span>fruits</span><span>)</span>
<span>switch</span><span>(</span><span>'anana'</span><span>,</span> <span>fruits</span><span>)</span>
<span>switch</span><span>(</span><span>switch</span><span>.</span><span>last_match</span><span>,</span> <span>fruits</span><span>,</span> <span>default</span><span>=</span><span>"The fruit is unknown"</span><span>)</span>
</code></pre></div><h2 id="a-callable-switch">A callable switch</h2>
<p>Also, since functions in python are objects, it is possible to replace string values of the dictionary with functions and return them if the keys match, in this way, can be called. A very simple example.
In effect, thatâ€™s it:</p>
<div><pre><code data-lang="python"><span>def</span> <span>switch</span><span>(</span><span>match</span><span>,</span> <span>dictionary</span><span>,</span> <span>default</span><span>=</span><span>"no match"</span><span>):</span>
    <span>for</span> <span>key</span> <span>in</span> <span>dictionary</span><span>.</span><span>keys</span><span>():</span>
        <span>if</span> <span>match</span> <span>in</span> <span>key</span><span>:</span>
            <span>switch</span><span>.</span><span>last_match</span> <span>=</span> <span>key</span>
            <span>return</span> <span>dictionary</span><span>.</span><span>get</span><span>(</span><span>key</span><span>)</span>
    <span>return</span> <span>default</span>

<span>calc</span> <span>=</span> <span>{</span>
    <span>"plus"</span><span>:</span> <span>lambda</span> <span>x</span><span>,</span> <span>y</span><span>:</span> <span>x</span> <span>+</span> <span>y</span><span>,</span>
    <span>"minus"</span><span>:</span> <span>lambda</span> <span>x</span><span>,</span> <span>y</span><span>:</span> <span>x</span> <span>-</span> <span>y</span>
<span>}</span>

<span>plus</span> <span>=</span> <span>switch</span><span>(</span><span>'plus'</span><span>,</span> <span>calc</span><span>,</span> <span>default</span><span>=</span><span>"unintended function"</span><span>)</span>
<span>minus</span> <span>=</span> <span>switch</span><span>(</span><span>'minus'</span><span>,</span> <span>calc</span><span>,</span> <span>default</span><span>=</span><span>"unintended function"</span><span>)</span>

<span>plus</span><span>(</span><span>6</span><span>,</span> <span>4</span><span>)</span>
<span>minus</span><span>(</span><span>6</span><span>,</span> <span>4</span><span>)</span>
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>In fact, <strong>python</strong> doesnâ€™t need a switch statement. Do other programming languages really need it? I believe that in simple languages like <strong>bash</strong>, there is a real need for this construct. In <strong>Java</strong> you could do the same thing I did in python via a map object and same thing in <strong>C#</strong>. Finally, I agree with the conclusions of PEP 3103: <em>â€œIn the mean time, Python is fine without a switch statement, and perhaps those who claim it would be a mistake to add one are right."</em></p>

  </section>

  
</article></div>]]>
            </description>
            <link>https://matteoguadrini.github.io/posts/a-switch-story/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748450</guid>
            <pubDate>Tue, 12 Jan 2021 15:50:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Visualizing Packrat Parsing]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25748359">thread link</a>) | @pdubroy
<br/>
January 12, 2021 | https://dubroy.com/blog/visualizing-packrat-parsing/ | <a href="https://web.archive.org/web/*/https://dubroy.com/blog/visualizing-packrat-parsing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
		<div>
			
			<p><small>January 10, 2021
            </small></p><p><a href="https://ohmlang.github.io/">Ohm</a> is an open-source parsing toolkit for JavaScript which <a href="http://www.tinlizzie.org/~awarth/">Alex Warth</a> and I have been working on since 2014. You can use it to parse custom file formats or quickly build parsers, interpreters, and compilers for programming languages.</p>
<p>This article is not about Ohm itself, but about the <strong>Ohm visualizer</strong>, which I designed and built in 2015 while working on Alexâ€™s team at CDG.<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> Later, the team expanded the visualizer into the <a href="https://ohmlang.github.io/editor/#30325d346a6e803cc35344ca218d8636">Ohm Editor</a>, which we continued to actively develop over the years. The editor itself has been <a href="https://ohmlang.github.io/pubs/live2016/">presented before</a>, so Iâ€™ll focus specifically on the visualization here.</p>
<p>Creating the visualization was one of the most difficult and interesting design challenges Iâ€™ve ever tackled â€” so itâ€™s been rewarding to hear from people who have found it to be helpful:</p>
<blockquote data-conversation="none" data-theme="light"><div lang="en" dir="ltr"><p>Hey, I used Ohm for the first time a couple days ago.</p><p>I used to have an irrational fear of writing parsers.</p><p>Your visualization cured it.<br>Thanks a lot!</p></div>â€” Anselm Eickhoff (@ae_play) <a href="https://twitter.com/ae_play/status/1347325515770826757?ref_src=twsrc%5Etfw">January 7, 2021</a></blockquote>


<h2>The Problem</h2>
<p>Ohm is based on <a href="https://en.wikipedia.org/wiki/Parsing_expression_grammar">parsing expression grammars</a> (PEGs), which are a formal way of describing syntax, similar to regular expressions and context-free grammars. Like other PEG-based tools, it uses <em>packrat parsing</em>, a form of top-down parsing with unlimited lookahead.</p>
<p>One of Ohmâ€™s main goals is ease-of-use â€”&nbsp;not only for the end users of languages, but also for grammar authors. And debugging grammars can be a notoriously painful. So I designed and built an interactive visualization that makes the entire execution of the parser visible and tangible. This lets grammar authors <em>follow the flow</em><sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> rather than â€œplaying computerâ€ and trying to simulate the execution in their head.</p>
<p>When creating or debugging a grammar, there are a few things you might be interested in:</p>
<ul>
<li>If the parse succeededâ€¦<ul>
<li>â€¦what does the parse tree look like?</li>
<li>Did it parse the input the way I intended? If not, why not?</li>
</ul>
</li>
<li>If the parse failed, why did it fail?</li>
</ul>
<p>Initially, I explored two different design directions: one focused on the output (the parse tree), and another that focused on the algorithm execution. The big challenge was to come up with a design that could do both.</p>
<p><em><strong>Note:</strong> You can try out all the examples here online in the <a href="https://ohmlang.github.io/editor/">Ohm Editor</a>.</em></p>
<h2>Visualizing Parse Trees</h2>
<p>To visualize the parse tree, I chose a variant of the icicle plot (<a href="https://www.jstor.org/stable/2685881?seq=1">Kruskal and Landwehr 1983</a>). Some people may be more familiar with the <a href="http://www.brendangregg.com/flamegraphs.html">flame graphs</a> used in software profilers, which are basically inverted icicle plots.</p>
<p>Each node is represented by a <span>gray rectangle</span>, with its children directly below it. A <span>dashed bottom border</span> indicates a node with hidden children. You can click on a node to show or hide its children.</p>
<p>Unlike most icicle plots, the absolute width of a box is not meaningful â€” only its width and position relative to the input text. Nodes always sit directly below the input text they consumed.<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup> This is emphasized by highlighting the relevant portion of the input when the cursor is over the node:</p>
<p><img src="https://dubroy.com/blog/images/arithmetic-parse-tree-hover.png" width="320px"></p>
<p>This means that the node must be at least as wide as its consumed input. We also ensure that the nodes are always wide enough to display the full label. So unlike most hierarchicial visualizations, thereâ€™s no need to hover over a node to see its label.</p>
<p>To satisfy both of these width constraints, the layout algorithm will expand the letter spacing of the input text where required:</p>
<figure>
<img src="https://dubroy.com/blog/images/expand-collapse-node.gif">
<figcaption>Expanding and collapsing a node.<br><i>(click to replay)</i></figcaption>
</figure>

<h2>Visualizing the parser execution</h2>
<p>A parse tree visualization can help you understand what the parse tree looks like, but only if the parse succeeded. If the input failed to parse, or if the parse tree is not what you intended, youâ€™ll want to understand <em>why</em>.</p>
<p>To answer this question, I designed the â€œexplain parseâ€ feature, which shows a visual explanation of the parserâ€™s execution. This can be enabled via the option panel in the lower right corner:</p>
<p><img src="https://dubroy.com/blog/images/explain-parse-checkbox.png"></p>
<p>Like other PEG-based tools, Ohm uses <a href="https://en.wikipedia.org/wiki/Recursive_descent_parser">recursive-descent parsing</a>. A useful property of recursive-descent parsing is that parserâ€™s execution (e.g. as represented by a dynamic call graph) has a very similar structure to the parse tree. This made it possible to design a single visualization that serves both purposes.</p>
<p>Letâ€™s take a simple grammar for parsing credit card expiry dates. The animation below shows a trace of the logical steps taken to parse the input â€œ08/24â€.</p>
<figure>
<img src="https://dubroy.com/blog/images/explain-parse-expiry.gif">
<figcaption>Stepping through the parse of â€œ08/24â€.<br><i>(click to replay)</i></figcaption>
</figure>

<p>You can see that the tree is built in a top-down, left-to-right manner. Each non-leaf node is visited twice: once on the way down, and again on the way up. This is the basic structure of recursive-descent parsing. </p>
<p>In this extremely simple example, every step taken by the parser succeeds. So the execution trace looks <em>exactly</em> like the parse tree. This is not usually the case. Letâ€™s take a look at a more complex example:</p>
<p><img src="https://dubroy.com/blog/images/parse-tree-and-grammar.png"></p>
<p>In this example, several steps in the parsing failed to match any input (shown with <span>red labels</span>). This doesnâ€™t mean something went wrong â€” this is just part of the way that a packrat parser works. The screenshot above shows two different types of match failure that can happen:</p>
<ol>
<li>Failed branches of an <a href="https://github.com/harc/ohm/blob/master/doc/syntax-reference.md#alternation">alternation expression</a>, as seen under <code>idFirst</code>. The parser first attempts to match an underscore (<code>"_"</code>), which fails, before successfully matching <code>letter</code> on the second branch.</li>
<li>The last child of an <a href="https://github.com/harc/ohm/blob/master/doc/syntax-reference.md#repetition-operators---">repetition expression</a>. The repetition expression <code>idRest*</code> means  to match <code>idRest</code> as many times as possible; the last attempt will always fail by definition.</li>
</ol>
<p><img src="https://dubroy.com/blog/images/highlighted-failures.png"></p>
<h3>Backtracking</h3>
<p>Another challenge in designing the visualization was how to deal with <a href="https://en.wikipedia.org/wiki/Backtracking">backtracking</a>. In a packrat parser, backtracking happens when a successful match is part of a larger expression which fails.</p>
<p>For example, many programming languages contain <em>keywords</em> (e.g. <code>function</code>) which can appear in the same position as a variable name. A common way to handle this is to use <a href="https://github.com/harc/ohm/blob/master/doc/syntax-reference.md#negative-lookahead-"><em>negative lookahead</em></a> to prevent incorrectly matching a keyword at the beginning of an identifier like â€œfunctionalâ€.</p>
<p>Here is the same grammar from before, modified to include a <em>functionKeyword</em> rule. And here is the visual explanation of matching the the input â€œfunctionalâ€:</p>
<p><img src="https://dubroy.com/blog/images/functional-parse-tree-and-grammar.png"></p>
<p>The nodes with a <span>pink background</span> are nodes which successfully matched some portion of the input, but were ultimately discarded during backtracking.</p>
<h3>Left recursion</h3>
<p>One thing in Ohm thatâ€™s different from many similar tools is its special support for <em>left recursion</em>. The <a href="https://ohmlang.github.io/editor/#30325d346a6e803cc35344ca218d8636">arithmetic grammar</a> included in the Ohm Editor has some examples of left-recursive rules:</p>
<pre><code>  AddExp
    = AddExp "+" MulExp  -- plus
    | AddExp "-" MulExp  -- minus
    | MulExp
</code></pre>

<p>Notice that the first two branches of <em>AddExp</em> begin with a recursive application of <em>AddExp</em> itself â€” thatâ€™s left recursion. In a typical recursive-descent parser, this would result in infinite recursion. However, since itâ€™s so convenient to define left-associative operators this way, the Ohm parsing algorithm detects these rules and handles them specially.<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup></p>
<p>Ohm handles left recursion by iteratively trying to expand the input consumed by the left-recursive rule, and stopping when it canâ€™t be expanded any further. As a grammar author, you might sometimes wonder why it stopped when it did. To find out, you can look at the special <span>[Grow LR]</span> node that appears as the last child of any left-recursive rule application:</p>
<p><img src="https://dubroy.com/blog/images/grow-left-recursion.png"></p>
<h2>Single-stepping</h2>
<p>One other feature of the visual parse explanation is the ability to single-step through the parserâ€™s execution. In terms of information content, it doesnâ€™t show anything thatâ€™s not already visible in the full visualization â€” so in a sense, itâ€™s not strictly necessary. However, I hoped that it might help new users learn how the visualization works.</p>
<p>Single-stepping can be controlled through the buttons in the option panel:</p>
<p><img src="https://dubroy.com/blog/images/step-controls.png"></p>
<p>You can also right-click on any node and choose â€œstep intoâ€ or â€œstep outâ€:</p>
<p><img src="https://dubroy.com/blog/images/step-into.png"></p>
<p>From there, you can use the arrow keys to step forwards (â†’) or backwards (â†) through the logical steps of the parser execution:</p>
<figure>
<img src="https://dubroy.com/blog/images/step-through-ident.gif">
<figcaption>Single-stepping through the parsing process<br><i>(click to replay)</i></figcaption>
</figure>



<p>As I explained at the beginning, my goal with the Ohm visualizer was <strong>to make entire execution of the parser visible and tangible</strong>. In the end, I think I was able to achieve that â€” but Iâ€™m sure there are also many aspects of the design that could be improved. If you have ideas, please feel free to get in touch!</p>
<h2>Further Reading</h2>
<p>Here are some links if you are interested in learning more about the Ohm Editor or Ohm itself:</p>
<ul>
<li><a href="https://ohmlang.github.io/">Ohm project page</a></li>
<li><a href="https://github.com/harc/ohm-editor">Github repo for the Ohm Editor</a>. PRs and bug reports are always welcome! ğŸ™‚</li>
<li><a href="https://ohmlang.github.io/pubs/live2016/">Language Hacking in a Live Programming Environment</a> is a web essay where we presented an earlier version of the Ohm Editor.</li>
</ul>



		</div>	</div></div>]]>
            </description>
            <link>https://dubroy.com/blog/visualizing-packrat-parsing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748359</guid>
            <pubDate>Tue, 12 Jan 2021 15:46:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Filing Cabinets â€“ A more human approach to databases]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25748069">thread link</a>) | @sbuccini
<br/>
January 12, 2021 | https://ccorcos.github.io/filing-cabinets/ | <a href="https://web.archive.org/web/*/https://ccorcos.github.io/filing-cabinets/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <hr id="5022b494-4d62-4cdb-949e-71cde6598179">
        
        <hr id="70bf0a0b-e2be-4205-ab11-7380136e2a36">
        
        <p id="6595f0c7-f94b-4772-8c12-22b107c82c47">End-user databases are all the buzz these days â€” Notion, Airtable, Coda, Roam, etc. These products have made it possible for people to model information in a way that feels more natural and intuitive to the way we experience it in our daily lives.</p>
        <p id="69014b56-b04f-4baf-be70-2c0ba0ad30e9">I love building products like Notion, but building these kinds of products is hard. For two reasons:</p>
        <ol id="3c07bc59-4c8a-4b48-bdb0-1bf930336c2e" start="1">
          <li>Most people don't have the technical literacy about databases and information architecture to actually automate and organize their lives with these tools.</li>
        </ol>
        <ol id="d5625fcf-2e32-45ce-acc4-d73e1d38d037" start="2">
          <li>The databases we have today aren't well-suited for dynamic user-generated filters and sorts.</li>
        </ol>
        <p id="aa0edb68-c072-4214-acf9-8e6e243900dd">This second challenge is more technical and I will hide all of these programmer-related details behind a toggle so you don't have to read them if you'd like.</p>
        <ul id="33a92bec-cc3c-4881-9fda-d91198d3ffee">
          <li>
            <details>
              <summary>ğŸ¤– Technical Details</summary>
              <p id="64d9a82d-8237-4a9f-b83f-eb9eae786157">Underneath any end-user database is <em>another</em> database and so much complexity arises from the challenge of building a database inside a database. Solutions to this problem vary widely and make some sort of trade-off between scalability (performance) and complexity.</p>
              <p id="9dd2cc1a-1eb6-4af8-9c22-d486c3e9dc99">Some applications load the entire end-user database in-memory. This creates long initial load times, but really performant interactions once the application loads. There are obvious scalability issues with this approach, but it is fairly simple to implement.</p>
              <p id="e10696df-1d8a-47ff-9365-701d9ff58d00">Other applications resort to O(n) scans on the server to fetch data and filter/sort records in memory with a few caching and indexing optimizations when convenient. The problem here is that users can create their own columns and filters dynamically. If your cloud application is backed by a SQL database, for example, itâ€™s worrisome to allow users to edit the database schema and create an unbounded number of tables and indexes. Thus, you must resort to filtering records in-memory.</p>
              <p id="30d92414-92a1-4469-99ba-643219826c94">If you're dedicated to O(log n) queries, you'll need to build indexes yourself (unless there's some amazing database I am unaware of). On every write, you can compute what indexes need to be updated and you write to a NoSQL database to incrementally update a cached query result. This can lead to a good solution, but it comes at the cost of consistency. Now that you're building your own indexes outside of the database, writes are no longer transactional and you lose the guarantee of being able to read your own write.</p>
              <p id="c04b352e-bd9a-44ad-ba88-17ac5cc502ff">Another solution is to have a separate database for every user and allow users to edit the schema of their own isolated database. This allows writes to be transactional, but creates other kinds of collision problems (i.e. dealing with merge conflict) when you want users to be able to collaborate. With separate databases for each user, you're also doing a lot more computing labor, especially if the same records are shared amongst many people.</p>
              <p id="7c45a3a9-7051-4386-a53f-d246c9ba7310">Long story short, existing databases are not great for building end-user databases.</p>
              
            </details>
          </li>
        </ul>
        
        <p id="f41a9378-fc1b-4ea2-a13a-cb918178cff3">I plan to address this first reason by giving you a mental model of what databases are and a first-principles understanding of how they work.</p>
        <p id="1d0ea7ea-6760-43cc-a728-4b3a1d7efe3b">I'll introduce databases as an abstract concept and then we'll work through a real-world example to explore how databases leverage sorting and filters to lookup information quickly.</p>
        <p id="088e64ab-1cbd-49c2-85e5-ac16a93efcfa">By the end, I hope to show you how these information architecture concepts are immensely powerful and totally approachable for non-technical people. </p>
        <p id="69cf1cd2-0e55-4a55-8d70-a407a8cba1e3">Lastly, I want to convince you that software based on these concepts will be far superior to anything we use today for end-user database applications. If these concepts are interesting to you, <a target="_blank" href="mailto:ccorcos@gmail.com">please reach out</a>! I love sharing ideas. ğŸ˜</p>
        
        <p id="a546e1c2-8a2d-4d3a-8d6b-0e74b0f867f0">Databases are filing cabinets.</p>
        <p id="437c4e5d-072f-4e2c-a690-f23c26fa06f4">Databases don't have to be so complicated. If you strip away all the fancy semantics, you end up with something simple and familiar.</p>
        
        <div id="013ec826-289a-4648-bbd2-c818fee7e19d">
          <div id="7ce78c2a-cd0d-44f5-9bc5-2272d346cb69">
            <figure id="172da265-0bd4-4106-a157-fcddcca0f2e8"><img src="https://ccorcos.github.io/filing-cabinets/assets/Filing_cabinets_32.png">
              <figcaption>Dictionary</figcaption>
            </figure>
            
          </div>
          <div id="65071194-79d6-4c1c-9be0-7df3766ddec1">
            <figure id="aadda762-1423-41c8-8c4c-e3387b05cff9"><img src="https://ccorcos.github.io/filing-cabinets/assets/Filing_cabinets_33.png">
              <figcaption>Calendar</figcaption>
            </figure>
          </div>
          <div id="a2160bfa-7c18-47e9-ac4c-360c7e0549d9">
            <figure id="440d81f2-8412-4ff1-94b2-59ba11a16d9c"><img src="https://ccorcos.github.io/filing-cabinets/assets/Filing_cabinets_34.png">
              <figcaption>Filing Cabinet</figcaption>
            </figure>
            
          </div>
        </div>
        
        <p id="aef2d2df-d75a-43cf-a023-943585a6f450">Dictionaries, calendars, and filing cabinets are particularly useful because they represent information in a sorted order, making it possible for us to retrieve information quickly and efficiently using a process called <a target="_blank" href="https://en.wikipedia.org/wiki/Binary_search_algorithm">binary search</a>. Databases are no different, they're also containers of sorted information.</p>
        
        <figure id="5d980e68-82d2-4fa5-b66c-43ad2de59b5c"><img src="https://ccorcos.github.io/filing-cabinets/assets/Filing_cabinets_4.png">
          <figcaption>Binary search</figcaption>
        </figure>
        
        <h2 id="b5562604-4d38-4feb-84bd-6f536aea58cc">What is sorted information?</h2>
        <p id="2238e190-e73f-43c3-96d3-44daa545e966">Alphabetical, numerical, compound, lexicographical Encodings.</p>
        <p id="e4db1ca2-03e3-4767-883b-83b12f484fd6">The simplest way to sort something is alphabetically (a.k.a <em>lexicographically</em>) and this is how words are sorted in the dictionary. But we often find ourselves sorting by more than one property. For example, a contact list is often sorted by last name, <em>then</em> first name. This is called a <strong>compound sort</strong>. </p>
        
        <p id="3f686c5c-6eed-4ad6-8eb3-73168fa60be6">For example, notice that "Thomas Robins" should come before "Charlie Robinson" when sorting this way and that a compound sort is fundamentally different from simply joining the words together and then sorting.</p><pre id="82947e67-674e-4edd-8b12-6d7a800dee7a"><code>// Compound Sort: Last, First
Robins, Thomas
Robinson, Charlie

// Joining the words, then sorting: Last + First
RobinsonCharlie
RobinsThomas</code></pre>
        
        <p id="c545d059-b2b0-4678-8fd4-40aa6d7bdafd">We do this kind of compound sorting all over the place. Dates, in particular, are compound sorted by year, <em>then</em> month, <em>then</em> day.</p><pre id="cc0fb85d-ab5f-4e44-8947-0a504713b758"><code>January 10, 2019
...
December 28, 2019
...
August 26, 2020
...</code></pre>
        <p id="ef7175d9-a258-4f95-afe7-0ce9b274df54">Notice that this kind of sorting isn't exactly alphabetical. The months in a year are definitely not sorted alphabetically â€” each month has an underlying order within a year. Even days of the month aren't alphabetically sorted â€” they're numerically sorted.</p>
        
        <p id="9d475882-2657-4dc0-a0d4-7e8456c1a201">Numerical sorting is different from alphabetical sorting because alphabetical sorting compares letter-by-letter. For example, if we sorted numbers alphabetically, then 10 would come before 2 because the first digit "1" is before "2".</p><pre id="e4876df9-d390-4c6e-b0a8-c3201a7e43fa"><code>// Alphabetical Sort
1
10
11
2
3
...
9

// Numerical sort
1
2
3
...
9
10
11</code></pre>
        <p id="934e9af4-eb81-43ab-8dd1-9d973c87eb93">A simple way to represent numbers in a way that can be sorted alphabetically is to put zeros at the beginning of the number. This works well for small numbers with a known maximum size such as the months in a year. </p><pre id="245e5864-d979-4b11-944c-eb6a46ade312"><code>// Zero-padded numbers representing months in a year.
01
02
03
...
09
10
11
12</code></pre>
        <p id="becf436f-03a3-4bad-a0f7-519f75156d75">And in fact, we can represent dates in a way that can be sorted alphabetically using <a target="_blank" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 date format</a>. </p><pre id="6c4b1b11-3f63-4789-b0d5-4e0145fc9750"><code>2019-01-10
...
2019-12-28
...
2020-08-26
...</code></pre>
        
        <p id="82017443-040f-4acf-9810-23cd870f9c5e">Representing dates this way is convenient because it doesn't require domain knowledge to understand how to sort them. There are an infinite number of things that can be sorted arbitrarily: a deck of cards, the status of a project, your rock collectionâ€”they are all just different types of things.</p>
        <p id="7ddb731a-5ae6-4745-8134-9dc166ec26f4">In general, lexicographical encodings are important because they allow databases to store arbitrary information in the correct order without needing additional knowledge about the type of information that is being sorted.</p>
        
        <ul id="9983c3de-f661-4eb5-82a0-54f7af61c590">
          <li>
            <details>
              <summary>ğŸ¤– Technical Details</summary>
              <p id="5339e8c2-5d28-41fe-8f64-fca7f3df92c3">You've probably experienced frustration with this when looking at files in your filesystem. <a target="_blank" href="https://en.wikipedia.org/wiki/Natural_sort_order">Natural sort</a> solves this problem elegantly by representing both alphabetical and numerical sort at the same time.</p>
              <p id="22c8cbba-c26b-4fb1-8f46-f50abce95449">Representing numbers as lexicographically sortable is another interesting challenge, particularly very large and very small numbers. <a target="_blank" href="https://github.com/ealmansi/elen/blob/master/resources/elen.pdf">Elen</a> is an interesting approach for encoding floating precision numbers.</p>
              <p id="31067abe-ad6c-4491-b84a-825c02101577">Tuples can be represented as compound sortable by separating each item with null-byte (and escaping null-bytes inside each item).</p>
              <p id="5003f170-c3f9-4e52-a674-1018970c3f16"><a target="_blank" href="https://observablehq.com/@dgreensp/implementing-fractional-indexing">Fractional sorting</a> is a very related and interesting topic as well.</p>
            </details>
          </li>
        </ul>
        
        
        <p id="e0f0bb9b-fa2a-4b90-9201-a13005754346">You can think of databases much in the same way you think of system filing cabinets. To explore this analogy further, let's imagine that you are in charge of administering a police department where you keep track of a variety of information about every police officer in your region â€” name, badge number, address, and precinct, among other details.</p>
        
        <p id="60068181-62be-45e4-979e-b7a04b4d0ed9">As the administrator of this information, you're responsible for making sure that everything is up to date and easily accessible.</p>
        
        <p id="244c9ed1-6e90-4a3b-a370-59fa67d0cd5f">To keep things simple, you start by keeping all officer information in a filing cabinet sorted by badge number. This makes it easy to retrieve information about any officer based on their badge number, for example when an officer gets promoted or moves to a new address.</p>
        
        <figure id="7b5ff822-3bb7-4db6-b9a1-3872565c69bb"><img src="https://ccorcos.github.io/filing-cabinets/assets/Filing_cabinets_8.png">
          <figcaption>An officer's file in the <em>Badge #</em> cabinet.</figcaption>
        </figure>
        
        <h2 id="c78d6501-da7f-4633-b2e4-4a429cfd0008">Read/Write Trade-off</h2>
        <p id="e6dfff08-0cd8-4af5-96b2-448a8a05302c">How we copy information into other cabinets.</p>
        <p id="47066dd1-5373-4fac-8a18-0a29a5703390">One day, the police chief asks you for the address of every officer in the 60th precinct.</p>
        <p id="46c18841-1de6-4cd9-a084-cb39b033b939">With all of this information in a single filing cabinet sorted by badge number, this is a painful request because you have to scan through every file and check if each officer is in the 60th precinct.</p>
        <p id="9fb77909-54eb-4ecb-9059-10642f19e8f1">Maybe this is just a one-time request so you can labor over it and be done with it, but the police chief says that every month he wants to mail a bonus check to every officer in the precinct with the most arrests. If you're going to have to do this every month, maybe it's worthwhile to make this job a bit faster.</p>
        
        <p id="da5b845b-2a98-48f0-a688-857dd844a990">To solve this problem, you create another filing cabinet where you sort all officers by precinct. To keep things simple, you photocopy all of the information in the <em>Badge #</em> cabinet over to the <em>Precinct</em> cabinet. Now when the chief asks you to get the address of every officer in a precinct, you can use this new filing cabinet to quickly retrieve â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ccorcos.github.io/filing-cabinets/">https://ccorcos.github.io/filing-cabinets/</a></em></p>]]>
            </description>
            <link>https://ccorcos.github.io/filing-cabinets/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25748069</guid>
            <pubDate>Tue, 12 Jan 2021 15:27:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Build a free online meditation timer (with PWA)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25747928">thread link</a>) | @azarai
<br/>
January 12, 2021 | https://mindfuldevmag.com/meditation-timer/ | <a href="https://web.archive.org/web/*/https://mindfuldevmag.com/meditation-timer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mindfuldevmag.com/meditation-timer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747928</guid>
            <pubDate>Tue, 12 Jan 2021 15:16:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Darkmarket Taken Down]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25747442">thread link</a>) | @prof-dr-ir
<br/>
January 12, 2021 | https://www.europol.europa.eu/newsroom/news/darkmarket-worlds-largest-illegal-dark-web-marketplace-taken-down | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/darkmarket-worlds-largest-illegal-dark-web-marketplace-taken-down">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>DarkMarket, the world's largest illegal marketplace on the dark web, has been taken offline in an international operation involving Germany, Australia, Denmark, Moldova, Ukraine, the United Kingdom (the National Crime Agency), and the USA (DEA, FBI, and IRS). Europol supported the takedown with specialist operational analysis and coordinated the cross-border collaborative effort of the countries involved.</p>
<h3>DarkMarket in figures:</h3>
<ul><li>almost <strong>500 000 users</strong>;</li>
<li>more than <strong>2 400 sellers</strong>;&nbsp;</li>
<li>over <strong>320 000 transactions</strong>;</li>
<li>more than <strong>4 650 bitcoin</strong> and <strong>12 800 monero transferred</strong>.&nbsp;</li>
</ul><p>At the current rate, this corresponds to a sum of more than <strong>â‚¬140 million</strong>. The vendors on the marketplace mainly traded all kinds of drugs and sold counterfeit money, stolen or counterfeit credit card details, anonymous SIM cards and malware.</p>
<h3>Germany takes the lead</h3>
<p>The Central Criminal Investigation Department in the German city of Oldenburg arrested an Australian citizen who is the alleged operator of DarkMarket near the German-Danish border over the weekend. The investigation, which was led by the cybercrime unit of the Koblenz Public Prosecutor's Office, allowed officers to locate and close the marketplace, switch off the servers and seize the criminal infrastructure â€“ more than 20 servers in Moldova and Ukraine supported by the German Federal Criminal Police office (BKA). The stored data will give investigators new leads to further investigate moderators, sellers, and buyers.&nbsp;</p>
<h3>Europol's involvement</h3>
<ul><li>Facilitated international information exchange.</li>
<li>Provided specialist operational support.</li>
<li>Provided advanced analytics that assisted the German authorities in identifying and tracking down the alleged administrator.</li>
<li>Supported Germany in coordinating the cross-border collaborative effort involving international partners.</li>
</ul><h3>Europol's Dark Web Team</h3>
<div><p>One of Europol's initiatives is to create a coordinated law enforcement approach to tackle crime on the dark web. This involves law enforcement agencies from across and outside the EU and other relevant partners and organisations, such as Eurojust.</p><p>
&nbsp;
To achieve this goal, Europolâ€™s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3)</a> has established a dedicated Dark Web Team to work together with EU partners and law enforcement across the globe to reduce the size of this underground illegal economy.&nbsp;</p></div>
<p>It will deliver a complete, coordinated approach:&nbsp;</p>
<ul><li>sharing information;</li>
<li>providing operational support and expertise in different crime areas;</li>
<li>developing tools, tactics and techniques to conduct dark web investigations;</li>
<li>identifying threats and targets.&nbsp;</li>
</ul><p>The team also aims to enhance joint technical and investigative actions, organise training and capacity-building initiatives, together with prevention and awareness-raising campaigns â€“ a 360Â° strategy against criminality on the dark web.</p>
<p>A shared commitment across the law enforcement community worldwide and a coordinated approach by law enforcement agencies have once again proved their effectiveness. The scale of the operation at Europol demonstrates the global commitment to tackling the use of the dark web as a means to commit crime.&nbsp;</p>
<hr><p>Headquartered in The Hague, the Netherlands, Europol supports the 27 EU Member States in their fight against terrorism, cybercrime, and other serious and organized crime forms. Europol also works with many non-EU partner states and international organisations. From its various threat assessments to its intelligence-gathering and operational activities, Europol has the tools and resources it needs to do its part in making Europe safer.</p>
</div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/darkmarket-worlds-largest-illegal-dark-web-marketplace-taken-down</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747442</guid>
            <pubDate>Tue, 12 Jan 2021 14:39:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fix your fraud problems with this simple trick]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25747401">thread link</a>) | @murkt
<br/>
January 12, 2021 | https://vsevolod.net/antifraud/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/antifraud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p>Despite your expectations Iâ€™m going to support that cheesy header with a real
talk! Fraudsters will hate you.</p>
<p>We have this site with classified ads in Ukraine, <a href="https://vsevolod.net/antifraud/olx.ua">OLX</a> and it is
completely plagued with spam and fraud. I create an ad to sell something I donâ€™t
need anymore, and within a couple of hours I have some stupid fraud in my
inbox. What baffles me is that itâ€™s very easy and simple to fix, and they do
nothing.</p>
<p>Back in 2006 I was involved in one of the forks of an open source project
<a href="https://www.l2jserver.com/">L2J</a> (so-called â€œserver emulatorâ€), which was a
re-creation of the server part of then-popular game <a href="https://en.wikipedia.org/wiki/Lineage_II">Lineage
II</a> of MMORPG genre.</p>
<p>A lot of the servers were plagued with bots (official servers too). There were
two variants for the bot software â€” a standalone one that communicated with a
server on its own, and another one that controlled an interface of an actual
client (in-game bot).</p>
<p>In-game bot required much more resources to run (basically, a separate computer
per bot), so the majority of the problems were created by standalones, you could
easily run ten of them from a regular computer.</p>
<p>We discussed this problem in a developer chat and had an idea â€” maybe these
standalone bots have some differences while talking to the server? We tried to
investigate that and indeed, the order of packets was completely different
between a standalone bot and a regular game client.</p>
<p>It was straightforward to detect and reject bots on connect, but then it would
be too obvious. So we started detecting them on connect, and disconnecting and
banning after some random time online, like 2..5 minutes.</p>
<p>Of course, generally bot developers aimed at official servers and couldnâ€™t care
less about some anti-bot defense on free emulator servers, so we didnâ€™t spend
too much brain activity on it. Nevertheless, it was committed into the
Subversion repository with a completely unsuspicious â€œsmall fixâ€ message (open
source!).</p>
<p>It sounds a lot like security by obscurity, as Iâ€™m writing it now. I am not an
anti-fraud expert, however, it looks like it really is â€” we need to detect some
suspicious activities, and then stop them in a way that doesnâ€™t immediately tell
fraudsters about it. Why? To make â€œdebuggingâ€ around our defense a much harder
problem.</p>
<p>For example, if we needed to do better with those bots, one way to go was to
keep track of a cumulative bot time on a playerâ€™s account in a database and ban
it some time into the future. Maybe an hour or two, maybe a day, or even a week.</p>
<p>There is also a technique called â€œshadow banâ€, thatâ€™s sometimes used on
forums. For a shadowbanned person everything looks the same, they can view
everything and post comments, just their responses are not visible to anyone
else (except moderators), so theyâ€™re not causing a stir on a forum, and do not
launch attacks onto it from other places, because they do not perceive it as an
attack on them.</p>
<p>We could have employed something akin to a shadow ban. Stop bots from interacting
with other users from time to time. Drop their packets a lot when theyâ€™re in a
battlefield, so they and their party-members end up being killed by mobs.</p>
<p>I donâ€™t think itâ€™s always possible to employ these delayed responses â€” anything
financial and weâ€™re out of luck? Iâ€™m not familiar with that field, never worked
at a bank or a payment processor. Would be interesting to learn a bit about
that.</p>
<p>So, back to classified ads. They could raise their defenses a bit, and with a
clever shadow ban technique (mark messages as read when a recipient logs in,
etc) it would eliminate a lot of the fraudulent activity from the platform.</p>
<p>If a fraudster tries this and tries that and there is no apparent benefit and it
seems like everything works, but people just donâ€™t fall for a scam â€” will they
continue to try more and more sophisticated attacks? To a certain extent, later
theyâ€™ll get bored with having no results.</p>
<p>We also need good anomaly detection mechanisms. It starts with good logging and
monitoring, and with user complaints, just like any other performance problem or
a bug. Of course, later you can start to employ different machine learning
techniques, but it shouldnâ€™t be the first step, and you need to do it really
carefully.</p>
<p>Itâ€™s very maddening for legit users to fall prey to some stupid algorithm that
can be hard to fix. Gather more cases and re-train a model? Maybe employ
heuristics to fix some corner-cases? In any case, a model's decision should be
overridable by moderators.</p>
<p>Sometimes people will pierce through your defenses anyway, so youâ€™ll have to
react quickly, identify new patterns, shadow ban them, etc.</p>
<p>Sometimes it can be fixed by a product change. For example, if there is some
kind of bonus system, make it so users can spend bonuses only on themselves,
ship products paid with bonuses to the existing address only (that has a history
of successful deliveries from a given account), etc.</p>
<p>Removing an incentive to fraud is the best strategy.</p>
<p>After running a service for some time youâ€™ll get a grip on how these things are
done.</p>
<p>Even Twitter seemingly managed to remove that Bitcoin â€œElonMuskque
giveawaysâ€. What took them so long I donâ€™t understand, but if even Twitter did
it â€” you can do it too.</p>
<p>Just do it.</p>

    </section></div>]]>
            </description>
            <link>https://vsevolod.net/antifraud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747401</guid>
            <pubDate>Tue, 12 Jan 2021 14:36:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GCC-Rust Development Plan]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25747225">thread link</a>) | @edelsohn
<br/>
January 12, 2021 | https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/ | <a href="https://web.archive.org/web/*/https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747225</guid>
            <pubDate>Tue, 12 Jan 2021 14:22:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Funding of GCC Front-End for Rust]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25747214">thread link</a>) | @edelsohn
<br/>
January 12, 2021 | https://opensrcsec.com/open_source_security_announces_rust_gcc_funding | <a href="https://web.archive.org/web/*/https://opensrcsec.com/open_source_security_announces_rust_gcc_funding">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<article>
  <div>
    
    

<p>Open Source Security, Inc is proud to announce its funding of a full-time and 
public development effort of a <a href="https://gcc.gnu.org/">GCC</a> front-end for <a href="https://www.rust-lang.org/">Rust</a>.
In this blog post, we'll detail the motivations for our involvement and the benefits the public will reap
as a result of this effort.</p>

<h2>A Security Need</h2>

<p>In July of last year, shortly after my virtual <a href="https://www.youtube.com/watch?v=F_Kza6fdkSU">presentation</a> at the Linux Security Summit 
North America entitled <a href="https://grsecurity.net/10_years_of_linux_security.pdf">"10 Years of Linux Security - A Report Card"</a>, we put out a 
<a href="https://twitter.com/spendergrsec/status/1283005179135221761">call</a> to other 
companies interested in funding a GCC front-end for Rust.

The motivation for this arose
from outreach from Nick Desaulniers of Google on <a href="https://lore.kernel.org/lkml/CAKwvOdmuYc8rW_H4aQG4DsJzho=F+djd68fp7mzmBp3-wY--Uw@mail.gmail.com/T/">LKML</a> 
to discuss the possibility of Rust support in the Linux kernel at the upcoming Linux 
Plumbers Conference.  One obvious hurdle mentioned immediately was that the kernel is most 
commonly compiled with GCC, while Rust currently requires rustc/LLVM.  According to reports of
the resulting discussion, kernel 
developers were open to the idea of allowing the kernel to be built with GCC and the Rust 
portions with LLVM, as long as the two were ABI compatible.</p>

<p>Such discussions appeared to sidestep a more fundamental issue however: the security 
viability of a mixed assembly/C/Rust execution environment and how cohesive security 
functionality could be provided while mixing different compilers with different 
implementations/availability of said functionality.  The importance of this topic, though apparent 
on reflection, was formalized just recently in a paper by Michalis Papaevripides and Elias 
Athanasopoulos of the University of Cyprus entitled <a href="https://www.cs.ucy.ac.cy/~eliasathan/papers/tops20.pdf">"Exploiting Mixed 
Binaries"</a>.  In it, they detail how the overall security of an execution 
environment can be reduced by the introduction of code written in Rust or that of another 
language where the same binary-level security is not provided by the compiler.  An excerpt from page 3 of the paper makes the impact clear:</p>

<blockquote>
"We experimentally show that CFI can be bypassed using Rust/Go code for developing clearly 
more straight-forward exploits than current state-of-the-art CFI bypasses [57, 70]. Our 
exploits do not rely on respecting the statically computed Control-flow Graph (CFG) for 
bypassing the enforced CFI and are much simpler to implement. [ ... ]
Again, we stress here that in the absence of the safe part (Rust/Go code), the unsafe part 
cannot be trivially exploited."
</blockquote>

<p>
The same exact scenario above was one of the motivations for Microsoft to recently push for their
<a href="https://msrc-blog.microsoft.com/2020/08/17/control-flow-guard-for-clang-llvm-and-rust/">Control Flow Guard (CFG) support</a>
in Clang and Rust (see the heading of "Rust linked with C/C++").
</p>

<p>As the source of the GCC plugin infrastructure in the Linux kernel and nearly all of the GCC plugins adapted
for inclusion in the upstream Linux kernel, we too immediately spotted the importance of this problem and set out
to ensure both those plugins as well as the security features built-in to GCC itself are able to instrument code
from all languages supported by the Linux kernel with compatible and consistent security properties.</p>

<h2>Funding Process</h2>

<p>So despite not expecting Rust code to land in the Linux kernel in the near future, we reached out to other 
companies as mentioned above to pull together funding for the GCC front-end effort.  None of the leads 
came to fruition, so we as a company decided to bootstrap the process, in the hopes that as progress in the work
is observed, others would join in.  Further, we wanted to offer funding under the same terms we would want as developers, 
across the entire spectrum: stability, salary, benefits, ownership, etc -- not token compensation or bounties 
that treat those working on free/open source software for the public as somehow <em>less</em> than 
developers of proprietary code.  To that end, we decided to fund the first year of a full-time
developer for the work ourselves.</p>

<p>If the failed experiment of the Core Infrastructure Initiative (<a href="https://www.coreinfrastructure.org/">CII</a>) taught us anything, it's that
one finds dedicated and competent developers for some work not among whoever happens to apply, but 
among those already involved in the work as a passion project.  This led us to reach out 
to <a href="https://thephilbert.io/">Philip Herron</a>, who we noticed was <a href="https://github.com/Rust-GCC/gccrs">already working</a> on a GCC front-end for Rust with involvement
of external contributors.  We were extremely pleased to hear Philip was interested in performing the work 
full-time.</p>

<p>News of our outreach eventually extended to the <a href="https://gcc.gnu.org/steering.html">GCC Steering 
Committee</a>, who contacted us to coordinate efforts.  They were very helpful in recommending to us <a href="https://www.embecosm.com/">Embecosm</a>, a UK-based company with deep experience and involvement in 
GCC/LLVM development, among many other areas.  Embecosm graciously offered to contribute to the effort by 
handling Philip's employment and, at no cost to us, providing project management services to help ensure the project's success.  
The location, expertise, and sharing of our vision of doing right by the developer couldn't have been a 
better match.</p>

<h2>Vendor-Neutral, Developed in the Open</h2>

<p>To make sure the project remains vendor-neutral and in the public interest, Open Source Security, Inc. will not own any of the copyright over the code developed through its funding.
All relevant GCC code for the project is GPLv3-licensed and copyright is assigned, as required for upstream GCC inclusion, to the Free Software Foundation (FSF).  The work is being performed in the open, with Philip providing public monthly status updates on GitHub at <a href="https://github.com/Rust-GCC/Reporting">https://github.com/Rust-GCC/Reporting</a>.  Reports are already available for the months of November and December.
</p>

<h2>Get Involved</h2>

<p>For more information about the "how" of this effort, Embecosm has prepared a 
blog at <a href="https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/">https://www.embecosm.com/2021/01/12/gcc-rust-how-it-can-be-achieved/</a> that we encourage 
all those interested to read.  To get involved in contributing technical work to the 
effort, Philip can be found on Twitter at <a href="https://twitter.com/the_philbert">@the_philbert</a> or committing to the project's Github repository at <a href="https://github.com/Rust-GCC/gccrs">https://github.com/Rust-GCC/gccrs</a>.  
To discuss additional funding of the work, please reach out to us at 
contact@opensrcsec.com.</p>

<p>Brad Spengler<br>President, Open Source Security, Inc.</p>


  </div><!-- .wrap -->
</article>



</div></div>]]>
            </description>
            <link>https://opensrcsec.com/open_source_security_announces_rust_gcc_funding</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747214</guid>
            <pubDate>Tue, 12 Jan 2021 14:21:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making VoIP Calls with Antique Rotary Phones]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25747159">thread link</a>) | @yabones
<br/>
January 12, 2021 | https://nbailey.ca/post/rotary-phone-voip/ | <a href="https://web.archive.org/web/*/https://nbailey.ca/post/rotary-phone-voip/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p>One of the worst parts of modern life is how <em>unsatisfying</em> it is to hang up on somebody. Tapping on the â€˜End Callâ€™ button on an iPhone or angrily clicking â€˜Leave Meetingâ€™ on Zoom just isnâ€™t nearly as fun as slamming down the handset on a <em>real phone</em>.</p>
<p>This particular project was to breathe some life into the antique Northern Telecom phone from my grandparentsâ€™ house by attaching it to a modern VoIP system. This was surprisingly difficult, but very satisfying as the result is essentially a free â€˜vintageâ€™ landline for my home.</p>
<p><img src="https://nbailey.ca/images/nt500.jpg" alt="Northern Telecom model 500"></p>
<blockquote>
<p><a href="http://kentonkwok.com/telephones/WE500.php">Photo Source: Kentonâ€™s Antiques</a></p>
</blockquote>
<h3 id="the-phone">The Phone</h3>
<p>The device in question is a NT analog phone, based on the classic Western Electric model 500. The models are very similar with only minor differences, for example the printing of the numbers on the dial is slightly different for models from Canada. Based on the stamp marks on the bottom, I believe this phone was manufactured in 1969 and installed shortly after, which does match up with when my grandparents would have purchased their first phone.</p>
<p>On its own, this telephone would not work with any modern telecom system. The â€˜pulse dialâ€™ that it produces is not compatible with modern telephone equipment and VoIP adapters alike.</p>
<p>I canâ€™t get a good source on this, but most telephone exchanges in urban areas havenâ€™t accepted pulse dial signals for decades. Some areas may still accept pulse signalling depending on the age of their equipment, but in 2021 I doubt there are many left. Seeing as how Dual-Tone Multi-Frequency (<a href="https://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling">DTMF</a>) signalling has been the standard for over forty years, <em>nearly all</em> VoIP equipment was manufactured without support for old devices.</p>
<h3 id="pulse-dialling">Pulse Dialling</h3>
<p><img src="https://www.rfwireless-world.com/images/pulse-dialing.jpg" alt=""></p>
<blockquote>
<p><a href="https://www.rfwireless-world.com/">Photo Source: RF Wireless World</a></p>
</blockquote>
<p>Pulse dialing is very simple as it is derived from the mechanical rotation of the dial. As it turns from the dialed digit back to the resting position it toggles the local loop voltage to transmit the data to the FXO. In the old days, these voltage â€˜ticksâ€™ were used to rotate mechanical switches in the exchange stations to connect physical circuits needed to complete a call.</p>
<h3 id="dtmf-dialling">DTMF Dialling</h3>
<p>DTMF on the other hand is an in-band signalling method using eight different frequencies transmitted in pairs. To use the example from Wikipedia, to transmit a â€˜1â€™ on a DTMF system it will transmit two tones, 1209Hz and 695Hz together:</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/0e/MultiTone1.png" alt=""></p>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Dual-tone_multi-frequency_signaling#/media/File:MultiTone1.png">Photo Source: Wikipedia</a></p>
</blockquote>
<p>These tones are the beeps weâ€™re used to hearing when dialing. Even my cell phone creates these tones when you type on the on-screen keypad in the â€˜Phoneâ€™ app, though itâ€™s mostly for â€˜cosmeticâ€™ reasons. Theoretically one could use these tones to dial on a rotary phone if you held the speaker of the cell phone up to the microphone of the telephone while dialling, though I couldnâ€™t get it to reliably work.</p>
<h3 id="converting-signalling">Converting signalling</h3>
<p>So, the first piece of equipment I needed was a pulse-tone converter. Indeed, such a device does exist to convert the â€˜ticksâ€™ produced by the rotary dial to the â€˜beepsâ€™ produced by most keypad phones. I was a little squeamish about tearing apart a working antique, so I opted to buy an external dial tone converter box from <a href="https://www.oldphoneworks.com/pulse-to-tone-converters/">OldPhoneWorks</a>.</p>
<p><img src="https://www.oldphoneworks.com/images/D/small%202-212.jpg" alt=""></p>
<blockquote>
<p><a href="https://www.oldphoneworks.com/pulse-to-tone-converter.html">Photo Source: OldPhoneWorks</a></p>
</blockquote>
<p>Itâ€™s a very simple device which listens for the pulse tones and using tiny DSP chips converts them to DTMF tones. If your only goal was to use the old phone with a POTS landline this would be sufficient, but I want to connect this to VoIP.</p>
<h3 id="the-sip-ata-box">The SIP ATA box</h3>
<p>There are <em>heaps</em> of Analog Telephone Adapter (ATA) boxes on the market, but in the interest of keeping this project low-cost I opted to purchase a new-old-stock <a href="https://www.cisco.com/c/dam/en/us/td/docs/voice_ip_comm/csbpvga/pap2t/administration/guide/pap2t_user.pdf">Linksys PAP2T-NA</a> device from eBay. I wasnâ€™t too worried about security since the device sits in the â€˜enclaveâ€™ part of my home network isolated from personal devices, and wonâ€™t have any ports forwarded to it. I was initially worried that my custom <a href="https://nbailey.ca/post/linux-firewall-ids">Linux router</a> would cause issues with the UDP traffic RTP creates, but it handled it wonderfully.</p>
<p>Setup was fairly straightforward to begin with, entering my sub-account credentials and SIP proxy server. Without too much fuss the device was registered and communicating with my provider.</p>
<p>However, I did run into some strange issues after initially setting it up. First, the ring pattern was intermittent and sounded <em>strange</em>. After a couple test calls I also found that both sides of the conversation were quiet when using the vintage phone. With some fiddling, I rectified these by increasing power limits slightly:</p>
<ul>
<li>Changed ring waveform to Sinusoid</li>
<li>Changed ring voltage to 90</li>
<li>Changed FXS port power limit -3 -&gt; 5</li>
<li>Changed FXS port input &amp; output gain -3 -&gt; 0</li>
</ul>
<p>I chalk these up to the mechanical nature of the ringer and the age of the mic/speaker. After all, thereâ€™s a lot more energy involved in moving a hammer around than powering a little beeper.</p>
<h3 id="making-calls">Making calls</h3>
<p>That night, I successfully ordered a pizza using an antique phone. Dialing was laborious, but novel for somebody my age, and honestly kind of fun.</p>
<p>Monthly costs are minimal, only $0.80 for the DID number and an additional $0.005 per minute. Calls are clear and sound great, and after nearly a month of use I can say that itâ€™s reliable and solid as a â€˜landlineâ€™ replacement. Plus, it makes a great conversation piece!</p>
<p>There are certainly improvements I would could make, for example adding SRTP to add another layer of security for my calls. It would also be nice to add additional handsets to my house to build an â€˜intercomâ€™ - that is if I can find more old phones.</p>
 </div></div>]]>
            </description>
            <link>https://nbailey.ca/post/rotary-phone-voip/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25747159</guid>
            <pubDate>Tue, 12 Jan 2021 14:17:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Looking Back on 4 Decades Making Software (Interview)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25746889">thread link</a>) | @FauxDemure
<br/>
January 12, 2021 | https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/ | <a href="https://web.archive.org/web/*/https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2><em><img data-attachment-id="4294" data-permalink="https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/goldberg_joel_2_circ-230/" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" data-orig-size="230,230" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Goldberg_Joel_2_circ-230" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" loading="lazy" src="https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" alt="" width="230" height="230"></em>In December we said farewell to Joel Goldberg, our first retiree in the 16-year history of BTI360. Last week we shared <a href="http://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/">Joelâ€™s lessons from 45 years of making software</a>. Today we share an interview exploring Joelâ€™s more than four decades in the software industry.</h2><hr><h3>Letâ€™s start at the beginning. What did you study in school?</h3><p>I started as a math major at UMBC with no thought of working with computers. A chess friend pushed me to take Intro to Computer Programming, and I reluctantly enrolled.</p><p>After struggling through the first half of this poorly taught Fortran class, it clicked and I was hooked. UMBC was too small to offer a CS major at the time. I took the three computer classes they offered, and then transferred to University of Michigan.</p><p>At that time there were three big players in mainframe computing: IBM, Univac, and Burrows. Michigan was an IBM school, so I learned IBM mainframe assembler, data structures, computer theory, and operating systems. Operating systems were tough. We wrote in IBM assembler adding paging and virtual memory to a fixed memory operating system.</p><h3>What was your first job out of school? What kind of technology were you using back then?</h3><p>I started my career working for the Detroit area school districts. COBOL was the lingua franca in 1975, although PL/1 and IBM assembler were occasionally used where I worked. Everything was batch processing, key punch cards, card readers, and flat files (which were mostly on tape because disk storage was so expensive). Online systems and databases had yet to hit the mainstream.</p><p>At my first job, I mainly supported batch COBOL applications for the school districts. We used Job Control Language (JCL)â€”a rather confusing â€œlanguageâ€ in its own rightâ€”to direct what programs to run, what files to read and write, and where to print the reams of output. We carried these JCL decks (to print, compile, and run) in our shirt pockets and always had rubber bands around our wrists.</p><p>The term â€œkilling treesâ€ was not an exaggeration! Computers didnâ€™t have monitors. A single compile could generate 10 or more printed pages of 14â€³x11â€³ green bar paper, whereupon youâ€™d find a typo in your program, re-punch a card, stick it in the deck and run it again. If the program compiled but blew up, youâ€™d get a single error code and reams of hexadecimal core dump to decipher as you looked for your logic error.</p><h3>How did your early experiences shape your approach to programming?</h3><p>My very first assignment was to modify a complex statistical test scoring program in PL/1. The author, a PhD in statistics, fancied himself a programming wizard as measured by . . . brevity. Seriously!</p><p>This genius used one character variable names (a, b, c, etc..) or two if absolutely necessary (aa, ab, ac). He nested loops three-deep on one line. In a word, his code was undecipherable.</p><p>As I untangled his code, I vowed to myself I would never do that to anybody. I realized that we always write for the next person who will read our code. Code should be as clear and understandable as I can make it. This was before any standards or formalized methodologies existed. Today we call this idea â€œclean codeâ€ and itâ€™s baked into the culture of BTI360.</p><h3>Can you summarize the changes youâ€™ve seen over 4+ decades in this field?</h3><p>The technical changes are too vast to adequately describe: from punch cards and a â€œcutting edgeâ€ 16 MB IBM mainframe to Object-Oriented Programming, big data, and the internet of things. So many tools that we take for granted, like relational databases, did not exist when I started.</p><p>Corporate culture was also very different in my early career. Cigarette, cigar, and pipe smoking was rampant until the late 80s. Iâ€™d sit in smoke-filled meetings and come out wheezing, reeking of tobacco. Also, the dress was different. I was required to wear a conservative suit, tie, and leather shoes until around 2000 when business casual became popular (my employer waited until <em>after</em> IBM relaxed their dress code).</p><p><a href="http://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2.jpg"><img data-attachment-id="4297" data-permalink="https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/joelandles-captioned2/" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/JoelAndLes-captioned2.jpg" data-orig-size="875,679" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="JoelAndLes-captioned2" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/JoelAndLes-captioned2-400x310.jpg" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/JoelAndLes-captioned2.jpg" loading="lazy" src="https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2.jpg" alt="" width="875" height="679" srcset="https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2.jpg 875w, https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2-400x310.jpg 400w, https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2-768x596.jpg 768w, https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/JoelAndLes-captioned2-564x438.jpg 564w" sizes="(max-width: 875px) 100vw, 875px"></a>Maybe more surprising is how my own perspective shifted over four decades. Initially, I was attracted to programming because of all the cool stuff you could do with technology. But as I think back on my career, I realize that my focus gradually shifted to the high-powered teams and great relationships you could build around technology.</p><h3>Tell us about your experience working with W. Edwards Deming.</h3><p>Sure, for those who donâ€™t know, Deming was an engineer turned management consultant. He went to Japan and had an enormous impact on their manufacturing industry. Many credit him with sparking the miraculous Japanese post-war economic recovery in the 1950s.</p><p>I encountered Deming when I was working at GM. He was brought in to consult with the division I was working in. I attended meetings with Deming and somewhere I have a grainy, out-of-focus photo of us together.</p><p>Deming was ahead of his time. He had a lot of ideas that were quite provocative to American automakers in those days. Some of his best ideas for GM were around improving the systems in which their employees workedâ€”creating an environment for success. Management was so obsessed with individual performance, that they could miss systemic factors that were holding everyone back.</p><p>Of course, Demingâ€™s influence continues to this day. You see his ideas reflected in agile methodologies as well as in books like <em>Drive</em> by Daniel Pink.</p><h3>You worked for Ross Perot as well?</h3><p>Yes. In 1984 GM acquired Ross Perotâ€™s software company, EDS. All of GMâ€™s IT folks either transitioned to EDS or quit. Although Perot is best known nationally for his quirky presidential bid and debate performances, he was very effective in the contexts where I encountered him.</p><p>Perot had been the top-selling salesman at IBM. He wanted them to get into software services, and when they didnâ€™t he founded EDS to fill the need himself. EDS grew to be a multi-billion dollar company. Perot had a folksy, charming manner. I can still picture him sitting on a table in the front of a meeting room, rather than using the podium.</p><p>Perot was known for being loyal to his people. The most famous example is when he sent a team of civilians to Iran to free two wrongfully imprisoned EDS employees who had been working in Tehran. Perot oversaw the mission personally from Turkey. Itâ€™s a wild story that was documented in a best-selling book, <em><a href="https://en.wikipedia.org/wiki/On_Wings_of_Eagles">On Wings of Eagles</a></em>. I met one of the EDS employees who was rescued.</p><h3>Whatâ€™s next for you in retirement?</h3><p>Plans?? I thought retirement was the time in my life I didnâ€™t need to follow any plans! I certainly have a lot of interests and activities to keep me busy. Iâ€™ll continue to stay active with biking, running and swimming and do the occasional triathlon. Iâ€™ve always been intrigued by riding a unicycle. I plan to learn. Iâ€™d like also to get back into woodworking and photography.</p><p>My biggest near-term project is my retirement puppy, Cosmo, a little Havanese. Iâ€™m currently learning to be a dog owner and train a puppy. Eventually, I would like to train and certify him as a therapy dog and take him to comfort kids and the elderly in hospitals and long-term care facilities.</p><h3>Thanks so much for sharing these reflections with us, Joel. Weâ€™ll miss you around here, but we wish you the best in this next stage of your life!</h3><hr><h2>Like What You Hear? Work Here!</h2><p>Are you a software engineer, interested in joining a software company that invests in its teammates and promotes a strong engineering culture? Then youâ€™re in the right place! Check out our current&nbsp;<a href="https://www.bti360.com/careers/#apply-now">Career Opportunities</a>. Weâ€™re always looking for like-minded engineers to join the BTI360 family.</p><p><a href="https://www.bti360.com/careers/"><img data-attachment-id="4312" data-permalink="https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/2021-01-careeropps-button2/" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2.jpg" data-orig-size="550,203" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="2021-01-CareerOpps-Button2" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2-400x148.jpg" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2.jpg" loading="lazy" src="http://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2.jpg" alt="" width="550" height="203" srcset="https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2.jpg 550w, https://3skoz1yr97849dum72v8p1rj-wpengine.netdna-ssl.com/wp-content/uploads/2021/01/2021-01-CareerOpps-Button2-400x148.jpg 400w" sizes="(max-width: 550px) 100vw, 550px"></a></p><hr><h3>Related Posts:</h3><ul><li><a href="http://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/">What Iâ€™ve Learned in 45 Years in the Software Industry</a></li><li><a href="http://www.bti360.com/deepracer-hackathon/">DeepRacer Hackathon</a></li><li><a href="http://www.bti360.com/bti360-named-best-place-to-work-2020-washington-dc/">BTI360 Named Best Place to Work 2020 Washington DC</a></li></ul></div></div>]]>
            </description>
            <link>https://www.bti360.com/interview-looking-back-on-4-decades-in-the-software-industry/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25746889</guid>
            <pubDate>Tue, 12 Jan 2021 13:56:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Missing Piece Meets the Big O â€“ Shel Silverstein]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25746780">thread link</a>) | @Cancan82
<br/>
January 12, 2021 | https://newsletter.butwhatfor.com/p/takeaway-tuesday-the-missing-piece | <a href="https://web.archive.org/web/*/https://newsletter.butwhatfor.com/p/takeaway-tuesday-the-missing-piece">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Welcome to all our new subscribers! I write a weekly newsletter, sent out every Sunday, with curated quotes and one-line takeaways from material that I think is worth reading. Occasionally, I share my own thoughts, inspired by othersâ€™ writings, on Tuesdays. If you enjoy our newsletter, please share it with a few friends/colleagues or follow me on&nbsp;<a href="https://twitter.com/ButWhatForBlog">Twitter</a>.</em></p><p><em>As always, any suggested materials for our Sunday newsletter can be sent to social@butwhatfor.com. </em></p><p><strong><a href="https://en.wikipedia.org/wiki/Shel_Silverstein">Shel Silverstein</a></strong> was an American writer, poet, cartoonist, songwriter, and playwright. He is known for his cartoons, songs, and children's books. His books have been translated into more than 30 languages and have sold more than 20 million copies, and he was the recipient of two&nbsp;Grammy Awards (â€œ<a href="https://www.youtube.com/watch?v=KZNZt5qVgvM">A Boy Named Sue</a>â€ as popularized by <a href="https://www.youtube.com/watch?v=ZR5XGTpophI">Johnny Cash</a>, and a recording of his famous â€œ<a href="https://amzn.to/35xJz6N">Where the Sidewalk Ends</a>â€).</p><p>For her first Christmas, my parents got my niece Shel Silversteinâ€™s <em>Where the Sidewalk Ends </em>(apparently expectations are high for the six-month mark). I grew up reading its collection of poems, over and over. I even - to the horror of some of my readers, I am sure - used colored pencils (because I didnâ€™t yet appreciate the waxy beauty of crayons) to color in some of Silversteinâ€™s famous illustrations. </p><p>The gift sent me down memory lane. Re-reading a selection of those poems from all those years ago, I was struck by just how much more there is to much of Silversteinâ€™s writing than his characteristic style and funny words.</p><p>Take the namesake of that book - <em>Where the Sidewalk Ends</em> - for example. As a child, reading the poem brought to me images of running out into a grassy field somewhere. And that is what Silverstein is writing about. </p><p>But why didnâ€™t I realize that the place â€œbefore the street beginsâ€ was so radiant? It is â€œsoft and white,â€ burning â€œcrimson bright,â€ with a mint-sweet smell in the air. What happens, once we arrive in the city, that changes nature into a place where the â€œsmoke blows blackâ€ and the winding â€œdark streetsâ€ are pitted and cracked?  </p><p>Are the â€œasphalt flowersâ€ supposed to be nature succumbing to industry? Or are we even talking about nature?</p><p>Maybe we are the flowers, trapped in cracks of a toiling modern life - meaning we never grow into what we were meant to be? Why is it that only the children see the â€œchalk-white arrowsâ€ and know they lead to â€œthe place where the sidewalk ends,â€ while adults might have forgotten how to get there altogether?</p><blockquote><p><em><strong>Where the Sidewalk Ends</strong></em></p><p>There is a place where the sidewalk ends<br>And before the street begins,<br>And there the grass grows soft and white,<br>And there the sun burns crimson bright,<br>And there the moon-bird rests from his flight<br>To cool in the peppermint wind.</p><p>Let us leave this place where the smoke blows black<br>And the dark street winds and bends.<br>Past the pits where the asphalt flowers grow<br>We shall walk with a walk that is measured and slow,<br>And watch where the chalk-white arrows go<br>To the place where the sidewalk ends.</p><p>Yes weâ€™ll walk with a walk that is measured and slow,<br>And weâ€™ll go where the chalk-white arrows go,<br>For the children, they mark, and the children, they know<br>The place where the sidewalk ends.</p></blockquote><p>And what about the unhappy crocodile with a toothache? Isnâ€™t it true that we often run through life <a href="https://www.butwhatfor.com/david-foster-wallace-this-is-water/">not listening to otherâ€™s difficulties because of our preoccupation with solely our own lives</a>, meaning others have no option but to do the same?</p><blockquote><p><em><strong>The Crocodile's Toothache</strong></em></p><p>Oh the Crocodile<br>Went to the dentist<br>And sat down in the chair,<br>And the dentist said, 'Now tell me, sir,<br>Why does it hurt and where?'<br>And the Crocodile said, 'I'll tell you the truth.<br>I have a terrible ache in my tooth.'<br>And he opened his jaws so wide, so wide,<br>That the dentist he climbed right inside,<br>And the dentist laughed, 'Oh, isn't this fun?'<br>As he pulled the teeth out, one by one.<br>And the Crocodile cried, 'You're hurting me so!<br>Please put down your pliers and let me go.'<br>But the dentist just laughed with a Ho Ho Ho,<br>And he said, 'I still have twelve to go --<br>Oops, that's the wrong one, I confess.<br>But what's one crocodile's tooth, more or less?'<br>Then suddenly the jaws went snap,<br>And the dentist was gone right off the map.<br>And where he went one could only guess...<br>To North or South or East or West...<br>He left no forwarding address.<br>But what's one dentist more or less?</p></blockquote><p>And we all need to remember to not take ourselves too seriously because creativity doesnâ€™t come without the chance of looking at least a little bit silly.</p><blockquote><p><em><strong>Put Something In</strong></em></p><p>Draw a crazy picture,<br>Write a nutty poem,<br>Sing a mumble-grumble song,<br>Whistle through your comb.<br>Do a loony-goony dance<br>'Cross the kitchen floor,<br>Put something silly in the world<br>That ain't been there before.</p></blockquote><p>But then I came across one of Silversteinâ€™s works that I had not read before - thanks to the power of Google and the <a href="https://www.brainpickings.org/2015/02/12/the-missing-piece-meets-the-big-o-shel-silverstein/">endless curiosity of Maria Popova</a>. Flipping through the pages of <em><a href="https://amzn.to/2MS9KhT">The Missing Pieces Meets the Big O</a></em>, I landed on a little bit of a different takeaway than Maria did. </p><p>She is probably closer to correct, but I thought I would share the story and my own thoughts anyway - which is related to <a href="https://www.butwhatfor.com/charlie-munger/">Charlie Munger</a>â€™s ideas on dealing with adversity: â€œ<a href="https://www.butwhatfor.com/dont-feel-like-a-victim-facing-adversity-with-charlie-munger/">If you just take the attitude that, however bad it is in any way,&nbsp;itâ€™s always your fault and you just fix it as best you can&nbsp;â€“ the so-called â€˜iron prescriptionâ€™ â€“&nbsp;I think that really works.</a>â€</p><p>Pictures sourced from <a href="https://archive.org/stream/missingpiecemeet00silv">Open Library</a>.</p><p>We meet a lonely, pointy shape that wants nothing more than to be able to roll. Unfortunately, its shape is not quite right for rolling - or so that is what it believes. Thus, it is constantly searching for something to solve its inability to roll.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F72dbe9e3-d4a9-46df-a2ea-e18b616ee7bf_534x627.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F72dbe9e3-d4a9-46df-a2ea-e18b616ee7bf_534x627.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/72dbe9e3-d4a9-46df-a2ea-e18b616ee7bf_534x627.png&quot;,&quot;height&quot;:627,&quot;width&quot;:534,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1083,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F634a1bc3-8331-4f78-b836-492c80e77ad1_527x626.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F634a1bc3-8331-4f78-b836-492c80e77ad1_527x626.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/634a1bc3-8331-4f78-b836-492c80e77ad1_527x626.png&quot;,&quot;height&quot;:626,&quot;width&quot;:527,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1347,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>It looks to all these other shapes, trying to find a way to fit in with them so that those shapes can carry it along. But the fit is never quite perfect, and it even has to put on a false exterior to try to attract attention.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff852a495-396b-45a2-a93c-068697131cc0_530x626.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff852a495-396b-45a2-a93c-068697131cc0_530x626.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f852a495-396b-45a2-a93c-068697131cc0_530x626.png&quot;,&quot;height&quot;:626,&quot;width&quot;:530,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1808,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8c7ec342-d626-4ee0-b2c8-23bdaf442037_530x626.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8c7ec342-d626-4ee0-b2c8-23bdaf442037_530x626.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/8c7ec342-d626-4ee0-b2c8-23bdaf442037_530x626.png&quot;,&quot;height&quot;:626,&quot;width&quot;:530,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1293,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8a24e90-77ca-4ff5-bd41-17bc035edbaf_526x625.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd8a24e90-77ca-4ff5-bd41-17bc035edbaf_526x625.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d8a24e90-77ca-4ff5-bd41-17bc035edbaf_526x625.png&quot;,&quot;height&quot;:625,&quot;width&quot;:526,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1872,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fb77594e7-9ec4-4df5-8ee9-fd0fa34cd703_524x623.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fb77594e7-9ec4-4df5-8ee9-fd0fa34cd703_524x623.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/b77594e7-9ec4-4df5-8ee9-fd0fa34cd703_524x623.png&quot;,&quot;height&quot;:623,&quot;width&quot;:524,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1654,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But even after finding what looks like a good fit, the missing piece runs into trouble as it changes over time - and thus it is left unable to roll, again.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F6039e270-9a92-4158-8f61-2741f82f57b5_525x623.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F6039e270-9a92-4158-8f61-2741f82f57b5_525x623.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/6039e270-9a92-4158-8f61-2741f82f57b5_525x623.png&quot;,&quot;height&quot;:623,&quot;width&quot;:525,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:6360,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Feea4e8f8-612d-4036-91f7-b88f6a220369_530x623.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Feea4e8f8-612d-4036-91f7-b88f6a220369_530x623.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/eea4e8f8-612d-4036-91f7-b88f6a220369_530x623.png&quot;,&quot;height&quot;:623,&quot;width&quot;:530,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2742,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But then the missing piece meets a shape very different from those it has met before - a solid piece that can roll completely on its own - the Big O!</p><p>Unlike the other pieces, <a href="https://www.butwhatfor.com/stand-up-straight-with-your-shoulders-back/">the Big O is not looking for anything from the missing piece</a>.</p><blockquote><p>â€œWhat do you want of me?â€ asked the missing piece.<br>â€œNothing.â€<br>â€What do you need from me?â€<br>â€Nothing.â€<br>â€œWho are you?â€ asked the missing piece.<br>â€œI am the Big O,â€ said the Big O.</p></blockquote><p>Much to the disappointment of the missing piece, the Big O says it cannot help the missing piece roll. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2c8f25f-5898-405b-95cb-185e9b0887e6_529x626.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2c8f25f-5898-405b-95cb-185e9b0887e6_529x626.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/b2c8f25f-5898-405b-95cb-185e9b0887e6_529x626.png&quot;,&quot;height&quot;:626,&quot;width&quot;:529,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3169,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9c5e064d-3f2f-49ee-86f1-3df3d7d8f07e_522x623.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9c5e064d-3f2f-49ee-86f1-3df3d7d8f07e_522x623.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/9c5e064d-3f2f-49ee-86f1-3df3d7d8f07e_522x623.png&quot;,&quot;height&quot;:623,&quot;width&quot;:522,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3121,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In fact, according to the Big O, it is up to the missing piece to go through the effort of trying to roll in order for it to start rolling! </p><blockquote><p>â€œBy myself? A missing piece cannot roll by itself.â€<br>â€Have you ever tried?â€ asked the Big O.<br>â€œBut I have sharp corners,â€ said the missing piece. â€œI am not shaped for rolling.â€<br>â€œCorners wear off,â€ said the Big O, â€œand shapes change. Anyhow, I must say good-bye. Perhaps we will meet againâ€¦â€ </p></blockquote><p>Well, that is annoying, isnâ€™t it? The missing piece has wasted all this time and effort trying to find something it was in control of the entire time. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff028f766-b9c8-4ebe-9149-ab3e0e133316_521x624.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff028f766-b9c8-4ebe-9149-ab3e0e133316_521x624.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f028f766-b9c8-4ebe-9149-ab3e0e133316_521x624.png&quot;,&quot;height&quot;:624,&quot;width&quot;:521,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1181,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb7e5238-6566-4410-b8cf-9a34d96283b9_528x623.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb7e5238-6566-4410-b8cf-9a34d96283b9_528x623.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/bb7e5238-6566-4410-b8cf-9a34d96283b9_528x623.png&quot;,&quot;height&quot;:623,&quot;width&quot;:528,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1457,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2739b49-791d-4f24-b3d9-6345b44bd8ec_519x624.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2739b49-791d-4f24-b3d9-6345b44bd8ec_519x624.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d2739b49-791d-4f24-b3d9-6345b44bd8ec_519x624.png&quot;,&quot;height&quot;:624,&quot;width&quot;:519,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1402,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfa95005-8662-4ea1-9cce-ec9c7386c902_530x626.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcfa95005-8662-4ea1-9cce-ec9c7386c902_530x626.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/cfa95005-8662-4ea1-9cce-ec9c7386c902_530x626.png&quot;,&quot;height&quot;:626,&quot;width&quot;:530,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1003,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p><a href="https://www.butwhatfor.com/perseverance-is-great-but-dont-forget-to-prepare/">And after some effort and practice</a>, the missing piece is no longer a missing piece at all. In fact, it is now the Little O! </p><p>The potential to do what it wanted to do was inside the missing piece the entire time, but it was easier to look at other ways of solving its problems - to other shapes to solve its pointedness - than it was to go through the effort of changing itself to achieve its goal.</p><p>But that never seems to work out, at least over the long term for most people.</p><p>This is also a beautiful metaphor for the importance of mentors and <a href="https://www.butwhatfor.com/knowing-history-and-knowing-who-we-are/">understanding how others got to where they are today</a>. Sitting alone, only seeing pieces missing something, the missing piece might never have understood what its potential was or how to achieve it. </p><p>Remember to face your problems with an ownership-mentality, and try to surround yourself with people better than yourself so that you can learn from them. If you happen to have made some progress, donâ€™t forget to humbly help those looking for guidance on how to do the same.</p><p><em>Originally publish on <a href="https://www.butwhatfor.com/the-missing-piece-meets-the-big-o-shel-silverstein/">butwhatfor.com</a>.</em></p><p>Take care and have a great week,</p><p>â€” EJ</p><p><a href="https://www.butwhatfor.com/">But What For?</a> For a break from the urgent: <em>Ideas that matter. Insights that donâ€™t get old. </em></p></div></div>]]>
            </description>
            <link>https://newsletter.butwhatfor.com/p/takeaway-tuesday-the-missing-piece</link>
            <guid isPermaLink="false">hacker-news-small-sites-25746780</guid>
            <pubDate>Tue, 12 Jan 2021 13:47:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elixir for Beginners: From Pipes to Pattern Matching and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25746351">thread link</a>) | @entershikari
<br/>
January 12, 2021 | https://serokell.io/blog/elixir-for-beginners | <a href="https://web.archive.org/web/*/https://serokell.io/blog/elixir-for-beginners">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Learning a new programming language can be challenging. Thereâ€™s frequently a load of novel code patterns, techniques, and features.</p><p>Elixir, in particular, is a bit odd. While its syntax looks easy, it can be surprising. Even more, the semantics â€“ Elixir code can sometimes be a puzzle even if you are a functional programming veteran.</p><p>For this post, I have gone through all the basic Elixir constructs and collected a few tips that will help you write idiomatic Elixir code without hours of Googling. It should be useful when you attempt your first Elixir project or do <a href="https://exercism.io/">Exercism</a> exercises.</p><p>If you have already finished Exercism or done an Elixir course, you will know most of this already, but it might serve as a good refresher.</p><p>Now, letâ€™s see what Elixir can offer us. ğŸ˜‰</p><h2 id="basic-syntax">Basic syntax</h2><p>Seriously, just watch this video. Itâ€™s amazingly well done:</p><iframe width="560" height="315" src="https://www.youtube.com/embed/pBNOavRoNL0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe><p>Additionally, you can visit the <a href="https://elixir-lang.org/getting-started/basic-types.html">Basic Types</a> and <a href="https://elixir-lang.org/getting-started/basic-operators.html">Basic Operators</a> guides on Elixirâ€™s webpage.</p><h2 id="pipes">Pipes</h2><p><img src="https://serokell.io/files/kc/kcyxakor.pasted_image_0_(8).png" alt="Mario image that somehow ilustrates Elixir pipes" loading="lazy"></p><center><i>Hop into the pipes, and they take you weird places.</i></center><p>The pipe operator is the main operator for function composition in Elixir.</p><p>It takes the result of the expression before it and passes it as the first argument of the following expression. Pipes replace nested function calls like <code>foo(bar(baz))</code>with <code>foo |&gt; bar |&gt; baz</code> .</p><h3 id="example-of-pipes">Example of pipes</h3><p>For example, hereâ€™s a function that makes a string into an exclamation sentence.</p><pre><code><span><span>def</span> <span>exclaim</span></span>(string) <span>do</span>
  string
    |&gt; String.trim()
    |&gt; String.capitalize()
    |&gt; Kernel.&lt;&gt;(<span>"!"</span>)
<span>end</span>
</code></pre><p>Here, we take a string and pass it through various string methods. Since Elixir functions return the result of the last evaluated value, we donâ€™t have to return anything. Data and transformations applied to it are clearly delineated.</p><p>Pipes look even more incredible when you use them to compose higher-level functions. The whole program can easily be one large pipe, consisting of smaller pipes, which consist of even smaller pipes. Pipes all the way down!</p><h2 id="higher-order-functions">Higher-order functions</h2><p>Elixir, as a functional programming language, makes heavy use of higher-order functions.</p><p>Higher-order functions take in other functions as arguments. A few examples of HOFs are map, filter, and reduce.</p><p><img src="https://serokell.io/files/na/na14enxf.pasted_image_0_(9).png" alt="Higher-order functions" loading="lazy"></p><center><i>Source: <a href="http://www.cse.chalmers.se/edu/year/2018/course/TDA452/lectures/HigherOrderFunctions.html">http://www.cse.chalmers.se/</a> </i></center><p>In Elixir, most of these functions live in the <a href="https://hexdocs.pm/elixir/Enum.html">Enum</a> module of the standard library and operate on anything that is <em><a href="https://hexdocs.pm/elixir/Enumerable.html">Enumerable</a></em>: lists, maps, ranges, etc.</p><p>Using HOFs is a good substitute for loops: instead of a for-in, iterate over the elements of the list with <code>Enum.map</code>.</p><pre><code>iex(<span>1</span>)&gt; list = [<span>1</span>, <span>3</span>, <span>5</span>, <span>7</span>]
[<span>1</span>, <span>3</span>, <span>5</span>, <span>7</span>]

iex(<span>2</span>)&gt; Enum.map(list, <span>fn</span> x -&gt; x * x <span>end</span>)
[<span>1</span>, <span>9</span>, <span>25</span>, <span>49</span>]
</code></pre><p>In the function above, we provided the square function as <code>fn x -&gt; x * x end</code>. This is Elixirâ€™s syntax for anonymous functions. There is also another way to provide functions, and that is through the <em><a href="https://dockyard.com/blog/2016/08/05/understand-capture-operator-in-elixir">capture operator</a></em>.</p><pre><code>iex(<span>3</span>)&gt; Enum.map(list, &amp;(&amp;<span>1</span> * &amp;<span>1</span>))
[<span>1</span>, <span>9</span>, <span>25</span>, <span>49</span>]
</code></pre><p>The <code>&amp;</code> initiates a new anonymous function, while the <code>&amp;1</code> denotes the first argument of that function. Itâ€™s debatable whether it makes it easier to read in this case. ğŸ˜…</p><h3 id="example-of-higher-order-functions">Example of higher-order functions</h3><p>Letâ€™s say we need to read a list of lines from a file, make them into exclamation sentences, and print them out to the console.</p><p>While we could usually do that with a loop, now we need another way. You can easily do it with a map function.</p><pre><code><span><span>def</span> <span>exclaimify</span></span>(file) <span>do</span>
  file
    |&gt; File.read!()
    |&gt; String.split(<span>"\n"</span>, <span>trim:</span> <span>true</span>)
    |&gt; Enum.map(<span>fn</span> x -&gt; exclaim(x) <span>end</span>)
    |&gt; Enum.join(<span>"\n"</span>)
    |&gt; IO.puts()
<span>end</span>
</code></pre><p>Remember the capture operator we talked about? Here, you can use it to make it simpler to call <code>exclaim</code>. Just switch up the map function to <code>Enum.map(&amp;exclaim/1)</code>!</p><h2 id="pattern-matching">Pattern matching</h2><p><img src="https://serokell.io/files/rr/rr7zgnre.pasted_image_0_(10).png" alt="Elixir pattern matching meme" loading="lazy"></p><center><i>Sneakily borrowed from <a href="https://www.ludu.co/course/discover-elixir-phoenix/pattern-matching">https://www.ludu.co</a></i></center><p>Pattern matching is one of the most powerful parts of Elixir. Any kind of control flow that you write, itâ€™s a reasonable heuristic to check whether you canâ€™t do it with pattern matching.</p><p>Basically, pattern matching works by providing some <em>pattern</em> you expect in the data and then checking whether this pattern <em>matches</em> the data.</p><p>It all starts with the match operator, <code>=</code>. Yup. In Elixir, we donâ€™t assign variables; we <em>match</em> them.</p><pre><code>iex(<span>1</span>)&gt; x = <span>1</span>
<span>1</span>
</code></pre><p>What happens here is that Elixir checks whether the structure of both sides is the same. If it is, unassigned variables on the left side get assigned the values from the right side. If it is not, it will skip to the next match statement (or give you MatchError if the match wasnâ€™t exhaustive).</p><p>We can play around with it in IEx.</p><pre><code>iex(<span>2</span>)&gt; <span>1</span> = <span>1</span>
<span>1</span>

iex(<span>3</span>)&gt; <span>1</span> = <span>2</span>
** (MatchError) no match of right hand side <span>value:</span> <span>2</span>

iex(<span>5</span>)&gt; x = <span>1</span>
<span>1</span>
</code></pre><p>It starts to get much more useful when the structures are more complex, enabling you to destructure tuples, lists, and nested maps quite easily.</p><p><strong>Tuples</strong></p><pre><code>iex(<span>1</span>)&gt; {x, y} = {<span>1</span>, <span>3</span>}
{<span>1</span>, <span>3</span>}

iex(<span>2</span>)&gt; x
<span>1</span>

iex(<span>3</span>)&gt; y
<span>3</span>

iex(<span>1</span>)&gt; {x, y} = {<span>1</span>, <span>2</span>, <span>3</span>}
** (MatchError) no match of right hand side <span>value:</span> {<span>1</span>, <span>2</span>, <span>3</span>}
</code></pre><p><strong>Lists</strong></p><pre><code>iex(<span>1</span>)&gt; [head | tail] = [<span>"Many"</span>, <span>"years"</span>, <span>"later"</span>, <span>"as"</span>, <span>"he"</span>, <span>"faced"</span>, <span>"the"</span>, <span>"firing"</span>, <span>"squad"</span>]
[<span>"Many"</span>, <span>"years"</span>, <span>"later"</span>, <span>"as"</span>, <span>"he"</span>, <span>"faced"</span>, <span>"the"</span>, <span>"firing"</span>, <span>"squad"</span>]

iex(<span>2</span>)&gt; head
<span>"Many"</span>

iex(<span>3</span>)&gt; tail
[<span>"years"</span>, <span>"later"</span>, <span>"as"</span>, <span>"he"</span>, <span>"faced"</span>, <span>"the"</span>, <span>"firing"</span>, <span>"squad"</span>]

iex(<span>4</span>)&gt; [head | tail] = []
** (MatchError) no match of right hand side <span>value:</span> []

</code></pre><p><strong>Maps</strong></p><pre><code>iex(<span>1</span>)&gt; %{<span>age:</span> x} = %{<span>name:</span> <span>"Andrew"</span>, <span>age:</span> <span>27</span>}
%{<span>age:</span> <span>27</span>, <span>name:</span> <span>"Andrew"</span>}

iex(<span>2</span>)&gt; x
<span>27</span>
</code></pre><p>Elixirâ€™s <a href="https://elixir-lang.org/getting-started/case-cond-and-if.html">case statement</a> operates on pattern matching â€“ you can use it to match values or structures.</p><pre><code><span><span>def</span> <span>get_andrews_age</span></span>(person) <span>do</span>
  <span>case</span> person <span>do</span>
    %{<span>name:</span> <span>"Andrew"</span>, <span>age:</span> x} -&gt;
      {<span>:ok</span>, x}
    %{<span>name:</span> _, <span>age:</span> _} -&gt;
      {<span>:error</span>, <span>:not_andrew</span>}
    _ -&gt;
      {<span>:error</span>, <span>:not_person</span>}
  <span>end</span>
<span>end</span>
</code></pre><p>In the case of the code above, we can go even more idiomatic.</p><h3 id="multiple-function-clauses">Multiple function clauses</h3><p>Elixir supports pattern matching in function clauses. Therefore, instead of writing long-winded control flow statements, you can create multiple functions.</p><pre><code><span><span>def</span> <span>get_andrews_age</span></span>(%{<span>name:</span> <span>"Andrew"</span>, <span>age:</span> x}), <span>do:</span> {<span>:ok</span>, x}
<span><span>def</span> <span>get_andrews_age</span></span>(%{<span>name:</span> _, <span>age:</span> _}), <span>do:</span> {<span>:error</span>, <span>:not_andrew</span>}
<span><span>def</span> <span>get_andrews_age</span></span>(_), <span>do:</span> {<span>:error</span>, <span>:not_person</span>}
</code></pre><p>Whoah! ğŸ¤¯ If done correctly, this makes the code more extensible and easier to read.</p><h3 id="guards">Guards</h3><p>But thereâ€™s even more modularity incoming.</p><p>Letâ€™s imagine we wanted to get the age only if Andrew is of legal age. We can easily accomplish this with a guard, an additional construction that augments pattern matching.</p><p>Guards consist of <code>when</code> and a boolean expression, and are added to the function clause. They support only a limited set of expressions, which you can check out in the <a href="https://hexdocs.pm/elixir/guards.html">documentation</a>.</p><p>Hereâ€™s how our code would look with guards:</p><pre><code><span><span>def</span> <span>get_andrews_age_if_legal</span></span>(%{<span>name:</span> <span>"Andrew"</span>, <span>age:</span> x}) <span>when</span> x &gt;= <span>18</span>, <span>do:</span> {<span>:ok</span>, x}
<span><span>def</span> <span>get_andrews_age_if_legal</span></span>(%{<span>name:</span> <span>"Andrew"</span>, <span>age:</span> x}) <span>when</span> x &lt; <span>18</span>, <span>do:</span> {<span>:error</span>, <span>:not_legal_age</span>}
<span><span>def</span> <span>get_andrews_age_if_legal</span></span>(%{<span>name:</span> _, <span>age:</span> _}), <span>do:</span> {<span>:error</span>, <span>:not_andrew</span>}
<span><span>def</span> <span>get_andrews_age_if_legal</span></span>(_), <span>do:</span> {<span>:error</span>, <span>:not_person</span>}
</code></pre><h3 id="overloading-functions">Overloading functions</h3><p>Thereâ€™s this cool thing with Elixir functions where you can have functions with different argument counts, and they get counted as different functions even though they have the same name. In other words, you can overload functions via arity.</p><pre><code><span><span>def</span> <span>add</span></span>(x,y), <span>do:</span> x + y
<span><span>def</span> <span>add</span></span>(x,y,z), <span>do:</span> x + y + z 
</code></pre><p>One of these functions in Elixir-speak is actually add/2, the other is add/3.</p><p>And, by using multiple functions and pattern matching, we can do a nice trick in our Elixir code that comes up quite often.</p><p>We can define an x-argument function that will serve as the outer shell of our function. Then, we use that x-argument function to launch an x+1-argument function that will track the state as an argument, not a variable.</p><p>Itâ€™s easier if you look at it in action. Hereâ€™s a function that reverses a list.</p><pre><code><span><span>def</span> <span>reverse</span></span>(list), <span>do:</span> reverse(list, [])

<span><span>def</span> <span>reverse</span></span>([], list), <span>do:</span> 
<span><span>def</span> <span>reverse</span></span>([head | tail], reversed_list), <span>do:</span>
</code></pre><p>I have left the implementation details unfinished, and you might have a question or two about what is happening. Stay with me for a while. To fully explain it, we need to turn to recursive functions.</p><h2 id="recursive-functions">Recursive functions</h2><p><img src="https://serokell.io/files/ko/kodpjcyk.pasted_image_0_(11).png" alt="XKCD tail recursion" loading="lazy"></p><center><i>Source: <a href="https://xkcd.com/1270/">xkcd</a></i></center><p>A recursive function is simply a function that can call itself.</p><p>One of the typical examples is calculating a certain Fibonacci number, a naive implementation of which in Elixir would be:</p><pre><code><span><span>def</span> <span>fib</span></span>(0), <span>do:</span> 0
<span><span>def</span> <span>fib</span></span>(<span>1</span>), <span>do:</span> <span>1</span>
<span><span>def</span> <span>fib</span></span>(n), <span>do:</span> fib(n<span>-1</span>) + fib(n<span>-2</span>)
</code></pre><p>(Take note of our use of pattern matching covered above.)</p><p>We can find two things in each sane recursive piece of code: a base case and a recursive call.</p><ul>
<li><strong>Base case.</strong> This is the point where recursion terminates. Itâ€™s the result you want to achieve, and it will not call itself.</li>
<li><strong>Recursive call.</strong> This is where the program will do most of the computation. With it, you will reduce your task to a smaller one, and it will call itself.</li>
</ul><p>Basically, you can think of the base case as <em>the simplest possible example</em> of the task you want to solve and the recursive call as <em>a way to simplify</em> any given problem. In the example given, <code>fib(0)</code> and <code>fib(1)</code> are base cases, <code>fib(n)</code> is the recursive call.</p><h3 id="looping-with-recursion">Looping with recursion</h3><p>In Elixir, we use recursion much more frequently than you would in a non-FP language since we donâ€™t have access to things like loops. Recursion mimics imperative behavior quite well.</p><p>For example, if we need to do something a set amount of times, we can create a recursive function with a number as an argument.</p><p>Letâ€™s say that we want to duplicate a string any given number of times.</p><pre><code><span><span>def</span> <span>repeat</span></span>(string, times), <span>do:</span> repeat(string, times, <span>""</span>)

<span><span>def</span> <span>repeat</span></span>(_string, 0, acc), <span>do:</span> acc
<span><span>def</span> <span>repeat</span></span>(string, times, acc), <span>do:</span> repeat(string, times - <span>1</span>, acc &lt;&gt; string)
</code></pre><p>Instead of initializing a variable in the function, we add one more argument to the function. Then we call it again and again, each time decreasing <code>times</code> and increasing <code>acc</code>.</p><p>In the end, we have achieved the same result as instantiating two variables â€“ <code>i</code> and <code>acc</code> â€“ and creating a while loop that decrements <code>i</code> until it is equal to 0 and adds <code>string</code> to <code>acc</code> on each iteration.</p><p>Now, I believe you will find it easy to complete the <code>reverse</code> example in the pattern matching section; itâ€™s rather similar to <code>repeat</code> in structure.</p><h2 id="structs">Strâ€¦</h2></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://serokell.io/blog/elixir-for-beginners">https://serokell.io/blog/elixir-for-beginners</a></em></p>]]>
            </description>
            <link>https://serokell.io/blog/elixir-for-beginners</link>
            <guid isPermaLink="false">hacker-news-small-sites-25746351</guid>
            <pubDate>Tue, 12 Jan 2021 13:13:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Futhark design decisions I do not regret]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25746064">thread link</a>) | @fanf2
<br/>
January 12, 2021 | https://futhark-lang.org/blog/2021-01-11-no-regrets.html | <a href="https://web.archive.org/web/*/https://futhark-lang.org/blog/2021-01-11-no-regrets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      

<p>
    Posted on January 11, 2021
    
        by Troels Henriksen
    
</p>

<p>I have written several posts on <a href="https://futhark-lang.org/blog/2019-12-18-design-flaws-in-futhark.html">things that we got wrong in Futhark</a>, <a href="https://futhark-lang.org/blog/2018-12-08-why-futhark-sometimes-goes-wrong.html">why the compiler goes wrong</a>, as well as posts about <a href="https://futhark-lang.org/blog/2020-03-15-futhark-0.15.1-released.html#size-types">complicated features</a> where it is still unclear whether the feature works well enough. However, there are also some parts of Futharkâ€™s design that I feel pretty good about! This post will discuss some of them. I will focus on very concrete details, rather than grand observations such as â€œbulk-parallel functional programming is a good paradigm for numerical programmingâ€. Such doctrinal statements are more of an entire <em>thesis</em>, and require much richer and more qualified answers than just â€œthis turned out pretty wellâ€. Everything to follow is what I donâ€™t <em>regret</em>, so it is necessarily subjective, but maybe other language designers will find it useful or amusing.</p>
<h2 id="short-names"><a href="#short-names" id="short-names-link" title="short-names">Short names</a></h2>
<p>Naming things is one of the two most difficult problems in computer science, and in contrast to the other two (cache invalidation and off-by-one errors), there is no tooling or theory to tell you when you pick a bad name. Matters are even graver when it comes to names that are part of public interfaces. You may well receive acclaim for fixing a subtle cache invalidation bug in old and widely used code, but do not expect similar praise if you also change the naming convention of the public API from underscores to CamelCasing along the way.</p>
<p>Futhark exposes many names, both in its command line interface and its <a href="https://futhark-lang.org/docs/prelude/">built-in libraries</a>. Many of the names have been changed over the years. When we initially fleshed out the primitive type system, I agonised over how to name the new types. Should 32-bit signed integers be <code>Int32</code> as in Haskell, or <code>i32</code> as in Rust? I worried the latter was <em>too short</em>. Yet in the end, that was the scheme we went with: <code>i8</code>/<code>i16</code>/<code>i32</code>/<code>i64</code> for the signed types, <code>u8</code>/<code>u16</code>/<code>u32</code>/<code>u64</code> for the unsigned, and <code>f32</code>/<code>f64</code> for floats.</p>
<p>Incidentally, here is a piece of advice: if you are ever agonising over some design detail that is not core to what makes your language special, and all options seem equally reasonable, just go with whatever Rust does. Odds are that whatever Rust decided was preceded by significant debate, and that whatever they picked has few gotchas. Lexical syntax is one area where this is particularly good (and easy) advice to follow.</p>
<p>But back to naming things. The terse type names turned out to work fine. In fact, I realised that <em>I have never regretted making a name too short</em>. The names I still regret tend to be those that are too imprecise or <em>too long</em> - the <code>negate</code> function in the <code>f32</code> and <code>f64</code> modules should have been <code>neg</code>, for example. I am not quite sure why this is. When I code in Haskell, I have a preference for relatively verbose names for top-level definitions. In Futhark, short names just seem to fit better with the language aesthetics. Maybe that is just the nature of numerical code? I donâ€™t know. But I definitely rely on this observation to guide future naming of things.</p>
<h2 id="file-orientation"><a href="#file-orientation" id="file-orientation-link" title="file-orientation">File orientation</a></h2>
<p>While Futhark is not designed for large programs, we still want to support multi-file programs. Code in a file <code>A</code> must be allowed to reference definitions in some other file <code>B</code>. Languages differ significantly in how they go about this. Futhark went for a particularly simple model: the declaration <code>import "foo"</code> allows access to the definitions in the file <code>foo.fut</code>, looked up relative to the importing file. That is all there is to it. If you know how a hierarchical file system works, then you know how Futhark looks up files. This is not textual inclusion as in C - each file still has to be syntactically valid on its own. We are not barbarians.</p>
<p><a href="https://futhark-lang.org/blog/2018-06-18-designing-a-programming-language-for-the-desert.html">The philosophical background is spelled out here</a>, but the basic rationale is that <em>nobody enjoys learning about language import mechanics</em>, and in Futhark we can get away with doing something stupidly simple. Other languages, like Haskell and Java, put more effort into decoupling the notion of a â€œmoduleâ€ or â€œcompilation unitâ€ from that of a physical file. Even languages that reason in terms of files usually also provide support for a â€œsearch pathâ€, where you provide the compiler with additional directories that are searched when including files.</p>
<p>The downside of this approach is that for larger programs with multiple directories of source files, a file has no unique way to be referenced (except for its absolute pathname, which is not practical), so you may need to use different relative paths in different files (e.g. <code>"../lib/foo"</code> and <code>"../../lib/foo"</code>). Another downside is that you cannot have a central repository of â€œsystem filesâ€ that are always checked (like <code>/usr/include</code> in Unix).</p>
<p>A <em>major</em> advantage of the design is that each file in a program can be processed as the â€œrootâ€, without having to look for some kind of project definition file that contains necessary compiler directives such as include paths. This has allowed very lightweight zero-config tooling, such as a â€œgo to definitionâ€ command in <a href="https://github.com/diku-dk/futhark-mode">futhark-mode</a> and showing the types of variables - something that most Emacs modes definitely do not have without additional configuration.</p>
<p>Clearly this solution wouldnâ€™t work for all languages, but it has worked really well for Futhark. I was initially worried because this design is much more similar to <em>bad</em> languages (like shell script) than to <em>good</em> languages (like Haskell), but it hasnâ€™t caused problems yet, and I donâ€™t recall any Futhark programmers ever being confused about how <code>import</code> works. This is the right design for Futhark, and I donâ€™t expect to regret it any time soon.</p>

<p><a href="https://futhark-lang.org/blog/2017-10-10-block-comments-are-a-bad-idea.html">These remain a bad idea</a>. Emacs has <code>M-x comment-region</code> and inferior editors likely have something similar. No regrets. In fact, my experience writing more <a href="https://futhark-lang.org/blog/2019-08-31-beginning-a-collection-of-futhark-examples.html">semi-syntactic tooling</a> has only strengthened my conviction. Line comments are easy to parse in an ad-hoc way, and it is particularly nice that there is only one way of writing comments.</p>
<h2 id="explicit-binding"><a href="#explicit-binding" id="explicit-binding-link" title="explicit-binding">Explicit binding</a></h2>
<p>Suppose we have a record type:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>type</span> t = {foo: i32, bar: bool}</span></code></pre></div>
<p>In a function definition we can bind variables <code>a</code>, <code>b</code> to the field contents as follows:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>let</span> f ({foo=a, bar=b}: t) = ...</span></code></pre></div>
<p>And if we wish to bind variables with the same names as the fields, there is a shorthand syntax inspired by OCaml and Haskell:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>let</span> f ({foo, bar}: t) = ...</span></code></pre></div>
<p>These languages also support an even more concise form:</p>

<p>This implicitly binds variables with the same names as the record fields. Futhark does <em>not</em> support this. The reason is a philosophy of never bringing names into scope unless those names are actually syntactically present at the binding site in some form. There are many things I enjoy about programming, but guessing where some variable comes from is not among them. I find C++â€™s policy of implicitly bringing class fields into scope inside method bodies to be particularly confusing.</p>
<p>My distaste for complex binding structure goes further: Futhark requires that all definitions occur <em>before</em> their first use. Originally this was just for implementation simplicity, but I have come to enjoy the restriction. Itâ€™s nice not to worry so much about the best definition order, because the compiler already ruled out most options. OCaml and SML have similar restrictions, so this is not <em>just</em> Futhark aping some 70s Pascal dialect.</p>
<p>The one exception to this explicitness principle is the <code>open</code> statement, which brings names from another module into scope. While a plain <code>open</code> is rare, it is used implicitly by <code>import</code>. There are also <em>local open</em> expressions, which allow us to write e.g. <code>M.(x*y+z)</code> with the names in module <code>M</code> in scope within the parenthesised expression. This is <em>really</em> convenient when writing advanced modularised numerical code, as the alternative is the much more clumsy <code>x M.* y M.+ z</code>. I am not sure how to reconcile this with our general principle, but maybe you just canâ€™t be a fundamentalist all the time.</p>
<h2 id="no-dependencies"><a href="#no-dependencies" id="no-dependencies-link" title="no-dependencies">No dependencies</a></h2>
<p>Futhark is written in Haskell, and all of its code dependencies are either pure Haskell libraries or embed small amounts of C code. This means that it is quite easy to build the Futhark compiler - all you need is a standard Haskell build tool like <code>stack</code> or <code>cabal</code>, which is supported and documented on most operating systems. I do not recall anyone having trouble installing the compiler itself. Difficulties tend to be more in the direction of setting up GPU drivers on Linux (yet another of the great unsolved problems in computer science).</p>
<p>This policy is not all upside. For many years, we lugged around a home-brewed implementation of algebraic simplification because we were averse to native code dependencies. We also generate C code (compiled with the system C compiler) rather than interacting directly with LLVM the way <a href="http://www.acceleratehs.org/">Accelerate</a> does it. This means that there are some things we cannot efficiently express in our generated code. On the other hand, Accelerateâ€™s dependency on LLVM can make it tricky to install, unless your system happens to have the right version of LLVM installed (and HPC systems and servers running <em>mature</em> versions of Red Hat Enterprise Linux tend not to). <a href="https://ispc.github.io/">ISPC</a> provides compiler binaries that embed a statically linked version of LLVM - this <em>may</em> be a direction we could go in, but I suspect statically linking LLVM with a Haskell program is more tricky than linking it with C++. And frankly, I think I already spend too much time hacking on build systems and CI setups.</p>
<p>We have gone quite far with this focus on installation simplicity. For example, the <a href="https://futhark.readthedocs.io/en/latest/man/futhark-pkg.html">Futhark package manager</a> does not even use native code to download packages. Instead, it shells out to <code>curl</code>. This has allowed us to statically link the Futhark binary that we provide for releases, a well as not having to worry about certificate store configuration. If you can download with <code>curl</code> in the command line, then <code>futhark pkg</code> will work. And if your system requires you to configure a special proxy or whatnot, then whichever configuration files or environment variables that <code>curl</code> respects will also work for <code>futhark pkg</code>.</p>
<p>I was initially hesitant about this â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://futhark-lang.org/blog/2021-01-11-no-regrets.html">https://futhark-lang.org/blog/2021-01-11-no-regrets.html</a></em></p>]]>
            </description>
            <link>https://futhark-lang.org/blog/2021-01-11-no-regrets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25746064</guid>
            <pubDate>Tue, 12 Jan 2021 12:43:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[750 Massacred last month in Eritrean church holding Ark of the Covenant]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25745387">thread link</a>) | @copperwater69
<br/>
January 12, 2021 | https://eritreahub.org/massacre-at-tigrays-mariam-of-zion-cathedral-in-aksum | <a href="https://web.archive.org/web/*/https://eritreahub.org/massacre-at-tigrays-mariam-of-zion-cathedral-in-aksum">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">

		<p><a href="#content">Skip to content</a></p><!-- #masthead -->

		
		
		
		<div id="content">

	<section id="primary">
		<main id="main" role="main">
				
		
<article id="post-6916">

	
	<!-- .entry-header -->

	<div>

		<p>Martin Plaut</p>
<p>On Tuesday, 15<sup>th</sup> of December, Ethiopian federal troops and Amhara militia approached the Mariam of Zion cathedral in the Tigrayan city of Aksum. It is possible that they thought that Tigrayan troops were sheltering in the church â€“ taking advantage of the ancient right of sanctuary. According to a number of sources the church was full, with some saying that up to 1,000 people were in the building or the compound surrounding it.</p>
<p>The advancing soldiers caused consternation: a chapel in the compound is believed by Ethiopians to house the biblical Ark of the Covenant. Only a monk â€“ appointed as its guardian â€“ may see it. There was a huge commotion. Amhara soldiers are reported to have shouted that â€œthe Ark belongs in Addis Ababa!â€ but this cannot be confirmed. Those inside the cathedral came out to try to defend the sacred object.</p>
<p>A confrontation ensued. Everyone in the compound was forced into the square outside the cathedral. As the crowd milled around, there was further shouting and the troops opened fire on the protesting crowd. As many as 750 people are reported to have been killed.</p>
<p>News of the massacre has only gradually reached the outside world. People walked over 200 kilometres to the regional capital, Mekelle, and from there the story gradually filtered out â€“ despite the clamp-down on the media in Tigray.</p>
<p><img data-attachment-id="6790" data-permalink="https://eritreahub.org/historic-al-nejashi-mosque-in-tigray-badly-damaged-and-looted/al-nejashi-mosque" data-orig-file="https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?fit=828%2C895&amp;ssl=1" data-orig-size="828,895" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Al-Nejashi mosque" data-image-description="" data-medium-file="https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?fit=278%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?fit=828%2C895&amp;ssl=1" loading="lazy" src="https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?resize=470%2C508&amp;ssl=1" alt="" width="470" height="508" srcset="https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?w=828&amp;ssl=1 828w, https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?resize=278%2C300&amp;ssl=1 278w, https://i1.wp.com/eritreahub.org/wp-content/uploads/2021/01/Al-Nejashi-mosque.jpeg?resize=768%2C830&amp;ssl=1 768w" sizes="(max-width: 470px) 100vw, 470px" data-recalc-dims="1"></p>
<p>News of the massacre follows confirmation by the Ethiopian authorities that one of the most sacred Islamic sites, the Nejashi Mosque in the town of Wukro, had been badly damaged in fighting.</p>
<p>It was <a href="https://www.omanobserver.om/the-untold-story-of-king-negash-and-the-al-nejashi-mosque/">built</a> in the 7th century by the companions of the Prophet Mohammad, some of whom are buried at the site.</p>
<p>The Ethiopian government accepts the damage took place, and promises to restore the building, which is one of the oldest mosques in the world.</p>
<p>The government say it was attacked after Tigrayan troops dug trenches around the mosque.</p>
<p>Independent journalists are being prevented from visiting the Tigray region â€“ the site of a fierce conflict between Tigrayan fighters and Ethiopian and Eritrean troops, supported by Amhara militia.</p>

		
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article>

<!-- #comments -->
		
		</main><!-- #main -->
	</section><!-- #primary -->
	
	
	<!-- #secondary -->

	

	</div><!-- #content -->

	
	

</div></div>]]>
            </description>
            <link>https://eritreahub.org/massacre-at-tigrays-mariam-of-zion-cathedral-in-aksum</link>
            <guid isPermaLink="false">hacker-news-small-sites-25745387</guid>
            <pubDate>Tue, 12 Jan 2021 11:23:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deliveroo probed in France after couriers refuse kosher orders]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25744959">thread link</a>) | @docdeek
<br/>
January 12, 2021 | https://www.rfi.fr/en/france/20210112-deliveroo-probed-in-france-after-couriers-refuse-kosher-orders | <a href="https://web.archive.org/web/*/https://www.rfi.fr/en/france/20210112-deliveroo-probed-in-france-after-couriers-refuse-kosher-orders">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
                    Two Jewish restaurant owners in the eastern city of Strasbourg have filed a complaint against Deliveroo after at least one of its couriers refused to deliver their meals.
                </p><div>
                    
                                        <p>Prosecutors in Strasbourg confirmed that "an investigation is underway to identify the suspects" after the restaurant owners filed complaints.</p><p>The owners'&nbsp;lawyer, Raphael Nisand, said:&nbsp;"The owners recount basically the same scenario. They prepare an order and the courier asks, 'What kind of food is this?' The owner says 'It's Israeli food'."</p><p>"Then the courier said, 'Oh no, I don't deliver to Jews' and cancels the delivery," Nisand said.</p><p>He added that on Sunday he also filed complaints against the couriers as well as <a href="http://deliveroo.fr/fr/?utm_source=google&amp;utm_medium=cpc&amp;utm_term=deliveroo&amp;utm_campaign=**^Acquisition^Search^Brand^France^All%20Cities^^Exact^API^^^^^FR^Strategic^%C2%A311252766223&amp;utm_loc=1006094&amp;utm_device=c&amp;utm_adposition=&amp;utm_network=g&amp;utm_targetid=kwd-52577441545&amp;gclid=CjwKCAiAi_D_BRApEiwASslbJ4HbUr6b7iZ_Zb2vbldQ69_u8mldhWqWcv3yDbe8PsSiNKkWrwctPhoCd1oQAvD_BwE&amp;gclsrc=aw.ds" target="_blank">Deliveroo</a> on behalf of the <a href="http://www.cibr.fr/" target="_blank">Consistoire israÃ©lite</a>, the institution which administers Jewish worship,&nbsp;of the Bas-Rhin department.</p><h2>Anti-Semitic discrimination</h2><p>"The Bas-Rhin Consistory considers it unacceptable that deliverers working for Deliveroo openly practice anti-Semitic discrimination," its president Maurice Dahan said in a statement.</p><p>Deliveroo said it had contacted the two restaurant owners.</p><p>"We are taking this incident very seriously and immediately opened an internal inquiry," the British-based firm said in a statement, adding that, if the allegations are confirmed, any couriers involved would be fired.</p>
                                            
    
                </div></div>]]>
            </description>
            <link>https://www.rfi.fr/en/france/20210112-deliveroo-probed-in-france-after-couriers-refuse-kosher-orders</link>
            <guid isPermaLink="false">hacker-news-small-sites-25744959</guid>
            <pubDate>Tue, 12 Jan 2021 10:39:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I received my first donation on my open-source side project]]>
            </title>
            <description>
<![CDATA[
Score 384 | Comments 101 (<a href="https://news.ycombinator.com/item?id=25744661">thread link</a>) | @jerrygoyal
<br/>
January 12, 2021 | https://gourav.io/blog/first-donation-on-open-source-side-project | <a href="https://web.archive.org/web/*/https://gourav.io/blog/first-donation-on-open-source-side-project">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><header></header><div><div><p><img src="https://gourav.io/gourav.png" alt="Gourav Goyal"></p></div><p>Dec 11, 2020</p></div><p>I use VSCode as my go-to editor for anything code. When I first discovered it in 2016, I really liked how it can almost be fully customized as per the likes. Well, almost, because there was no way you could add or configure any buttons on the top side of the editor. FYI, this is possible in many popular IDEs like IntelliJ, Eclipse, Visual Studio, and even Notepad++. I was more of a mouse-guy back then so the lack of GUI buttons was hindering my so called <em>developer productivity</em>.</p><p>I decided to build an extension for this. That would add handy buttons for many common commands like save file, format (beautify) file, show opened files list, etc. To build this, I followed VSCode extension development docs and learned typescript along the way. I named it <a href="https://marketplace.visualstudio.com/items?itemName=jerrygoyal.shortcut-menu-bar">Shortcut Menu Bar</a>.</p><figure><img src="https://gourav.io/_next/static/media/pages/blog/first-donation-on-open-source-side-project/1.png" alt="Shortcut Menu Bar"><figcaption>Shortcut Menu Bar</figcaption></figure><p>Fast-forward to 2020, and it got over 10k+ downloads and multiple 5-star ratings. I guess I wasn't the only mouse-guy out there.<br>
<!-- -->Out of Covid boredom, I decided to put a donate button to see what happens. I explored few platforms to create donation links like buymeacoffee.com (charges 5% fee), patreon.com (more geared towards recurring donations, 5% fee), PayPal (UI sucks), Ko-Fi.com (0% fee and nice clean UI).</p><p>I made a free account on ko-fi.com, linked my PayPal account, and created a donation link. I added that link to the extension description.</p><figure><img src="https://gourav.io/_next/static/media/pages/blog/first-donation-on-open-source-side-project/2.png" alt="Buy me a coffee"><figcaption>Buy me a coffee</figcaption></figure><p>And guess what? someone donated 5$.</p><figure><img src="https://gourav.io/_next/static/media/pages/blog/first-donation-on-open-source-side-project/3.png" alt="donation via ko-fi.com"><figcaption>donation via ko-fi.com</figcaption></figure><p>I know I know, it's not that big amount, but somebody put an effort to make that transaction means he cared about it and found it useful.
I hope it inspires people who want to contribute and build stuff in the FOSS (Free and Open-Source Software) community. It's so captivating that the whole tech industry relies (and thrives) on open source software made by people in their free time.<br>
<!-- -->You can explore the source code of <code>Shortcut Menu Bar</code> on <a href="https://github.com/GorvGoyl/Shortcut-Menu-Bar-VSCode-Extension">Github</a>.</p><hr><p><strong>Update:</strong> It hit the front-page of Hacker News and many developers shared their stories of receiving first donation. You can <a href="https://news.ycombinator.com/item?id=25744661" target="_blank" title="https://news.ycombinator.com/item?id=25744661">join the conversation</a> on HN.</p><figure><img src="https://gourav.io/_next/static/media/pages/blog/first-donation-on-open-source-side-project/4.png" alt="Front-page of Hacker News"><figcaption>Front-page of Hacker News</figcaption></figure></article></div></div>]]>
            </description>
            <link>https://gourav.io/blog/first-donation-on-open-source-side-project</link>
            <guid isPermaLink="false">hacker-news-small-sites-25744661</guid>
            <pubDate>Tue, 12 Jan 2021 10:05:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A guide to event handling in Elixir]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25744488">thread link</a>) | @montogeek
<br/>
January 12, 2021 | https://mkaszubowski.com/2021/01/09/elixir-event-handling.html | <a href="https://web.archive.org/web/*/https://mkaszubowski.com/2021/01/09/elixir-event-handling.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
  <p>Using events is a common way of integrating different parts of a modular system. But while the concept is easy to grasp, the implementation can be tricker.</p>

<p>Integrating subsystems is hard, and there are always trade-offs. Events are not different.</p>

<p>There are many possible ways of event handling. Choosing the wrong one for your needs can be a serious mistake.</p>

<p>This article shows you some of the choices available and trade-offs you have to consider with each of them. Some are related to Elixir itself, and some are technology-agnostic.</p>

<h2 id="1-synchronous-processing">1. Synchronous processing</h2>

<p>The simplest way to process events is to do this synchronously:</p>

<div><div><pre><code><span>defmodule</span> <span>Accounts</span> <span>do</span>
  <span>def</span> <span>sign_up</span><span>(</span><span>params</span><span>,</span> <span>event_handlers</span> <span>\\</span> <span>[</span><span>Mailer</span><span>,</span> <span>Notifications</span><span>])</span> <span>do</span>
    <span># You can wrap the entire function in a transaction</span>
    <span># to ensure strong consistency.</span>
    <span>user</span> <span>=</span> <span>save_user</span><span>(</span><span>params</span><span>)</span>

    <span>event</span> <span>=</span> <span>%</span><span>UserSignedUp</span><span>{</span>
      <span>user_id:</span> <span>user</span><span>.</span><span>id</span><span>,</span>
      <span>name:</span> <span>user</span><span>.</span><span>name</span><span>,</span>
      <span>email:</span> <span>user</span><span>.</span><span>email</span>
    <span>}</span>

    <span>for</span> <span>event_handler</span> <span>&lt;-</span> <span>event_handlers</span> <span>do</span>
      <span>event_handler</span><span>.</span><span>handle_event</span><span>(</span><span>event</span><span>)</span>
    <span>end</span>

    <span>{</span><span>:ok</span><span>,</span> <span>user</span><span>}</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Synchronous processing has multiple benefits and <strong>it should probably be the first step</strong> (especially for existing applications) unless you need the benefits of asynchronous processing.</p>

<p>If youâ€™re running a modular monolith with a single database, you can even use a database transaction to guarantee strong consistency between the data and the event.</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/synchronous.png" alt="synchronous processing"></p>

<p>That way, you can start decoupling your contexts logically (see: <a href="https://mkaszubowski.com/2019/06/28/events-and-different-kinds-of-coupling.html">Events and different kinds of coupling</a>) without dealing with the technical challenges of asynchronous code and eventual consistency.</p>

<p>The trade-off is that synchronous processing and/or a transaction means <strong><em>all or nothing</em> semantics</strong>. Either everything works correctly, or nothing is saved.</p>

<p><em>All or nothing</em> makes the code more predictable and easier to debug, but itâ€™s not always desirable. When itâ€™s an issue? When the customer places an order, you probably want that information saved even if thereâ€™s a temporary bug in the code handling that shipping.</p>

<p>When to consider synchronous event processing?</p>

<ul>
  <li>When you have little experience with events.</li>
  <li>If you donâ€™t want to introduce additional technical complexity and infrastructure costs.</li>
  <li>In a monolith system, which youâ€™d like to make more modular.</li>
  <li>As a replacement for other mechanisms in the test environment.</li>
</ul>

<p>When is synchronous processing <strong>not</strong> a good idea?</p>

<ul>
  <li>When you need to isolate failures.</li>
  <li>When quick response is crucial (and you know what youâ€™re doing).</li>
  <li>For long-running, asynchronous, or third-party side effects. If side effects are out of your control, it might be a better idea to handle them in a proper asynchronous fashion.</li>
  <li>When side-effects can be delayed or batched in the background for better performance.</li>
  <li>When youâ€™re communicating across different services (in other words - in a distributed system).</li>
</ul>

<h2 id="2-process-based-pubsub">2. Process-based PubSub</h2>

<p>Since processes and message passing are basic building blocks in Elixir, we can use an in-memory PubSub mechanism (for example <a href="https://hexdocs.pm/elixir/Registry.html#module-using-as-a-pubsub">Registry</a> or <a href="https://hexdocs.pm/phoenix_pubsub/Phoenix.PubSub.html#direct_broadcast/5">Phoenix PubSub for a single node</a>) to broadcast events to subscribers.</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/pubsub.png" alt="in-memory PubSub"></p>

<div><div><pre><code><span>defmodule</span> <span>Subscriber</span> <span>do</span>
  <span>use</span> <span>GenServer</span>

  <span>def</span> <span>start_link</span><span>()</span> <span>do</span>
    <span>GenServer</span><span>.</span><span>start_link</span><span>(</span><span>__MODULE__</span><span>,</span> <span>name:</span> <span>__MODULE__</span><span>)</span>
  <span>end</span>

  <span>def</span> <span>init</span><span>([])</span> <span>do</span>
    <span>PubSub</span><span>.</span><span>subscribe</span><span>(</span><span>"user_sign_ups"</span><span>,</span> <span>self</span><span>())</span>

    <span>{</span><span>:ok</span><span>,</span> <span>%{}}</span>
  <span>end</span>

  <span>def</span> <span>handle_info</span><span>(%</span><span>UserSignedUp</span><span>{}</span> <span>=</span> <span>event</span><span>,</span> <span>state</span><span>)</span> <span>do</span>
    <span>:ok</span> <span>=</span> <span>Mailer</span><span>.</span><span>send_welcome_email</span><span>(</span><span>event</span><span>)</span>

    <span>{</span><span>:noreply</span><span>,</span> <span>state</span><span>}</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p><strong>Such in-memory PubSub offers at-most-once delivery semantics</strong>. That means that the message will either be received once or wonâ€™t be delivered at all.</p>

<p>At-most-once delivery means that if we handle side effects or events using an in-memory PubSub mechanism, <strong>the side effects are not guaranteed to be executed:</strong></p>

<ul>
  <li>If a subscriber exits before the message is received, it wonâ€™t receive the message again.</li>
  <li>If a subscriber crashes when processing the side effect, it wonâ€™t try to process it again after restarting.</li>
</ul>

<p><strong>This approach should only be used if losing some messages is OK</strong>. Some common examples are:</p>

<ul>
  <li>In-app notifications.</li>
  <li>Transient application state (e.g. cache).</li>
  <li>Things that can be corrected by next messages or a periodic job.</li>
</ul>

<div><p>Be careful when sending in-memory messages from within a DB transaction: </p><p> 
1) The transaction can be rolled back after a message has been sent. <br>
2) It can lead to hard-to-debug errors when a subscriber receives the message and tries to read the data before a transaction has been committed.</p></div>

<h2 id="3-multi-node-process-based-pubsub">3. Multi-node, process-based PubSub</h2>

<p>Multi-node PubSub (like <a href="https://hexdocs.pm/phoenix_pubsub/Phoenix.PubSub.html">Phoenix PubSub</a>) allows you to broadcast messages to subscribers on multiple nodes.</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/multi-node.png" alt="multi-node in-memory PubSub"></p>

<p>Multi-node PubSub is usually useful for stateful processing when:</p>

<ul>
  <li>You need to synchronize state across multiple nodes (e.g. distributed cache).</li>
  <li>You have clients with long-running connections (WebSocket, long-poll, â€¦) - thatâ€™s why Phoenix Channels and LiveView use a multi-node Phoenix.PubSub).</li>
</ul>

<p>As with a single-node PubSub, message delivery is not guaranteed. Use this solution only if losing some messages is fine</p>

<p>With multi-node PubSub, you have to remember to make sure that the <a href="https://erlang.org/doc/reference_manual/distributed.html">nodes are connected to form a cluster</a>.</p>

<h2 id="4-same-database-for-events--smart-consumer-with-polling">4. Same database for events + smart consumer with polling</h2>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/polling.png" alt="polling for events"></p>

<p>If you need every event to be processed in an async environment, you need some kind of persistent storage.</p>

<p>The first and simplest option is to use a single database for data and events. Then, you can have multiple subscribers fetching the data and processing the events asynchronously.</p>

<p>Benefits of this approach include:</p>

<ul>
  <li>Low operational cost - you donâ€™t need to add any additional infrastructure.</li>
  <li>The same database for data and events means itâ€™s easier to maintain consistency since you can save events in a transaction. Thereâ€™s no chance of â€œorphanedâ€ events and no risk of not saving an event when something happens.</li>
</ul>

<p>Drawbacks of this approach:</p>

<ul>
  <li>Harder to scale for multiple services because of the coupling to the same DB.</li>
  <li>Harder to scale if the data exceeds a single DB.</li>
  <li>Each subscriber has to implement the logic to fetch the events, keep track of which events itâ€™d already processed, and handle deduplication of events. This can be a lot of repetitive work for a larger system.</li>
  <li>Polling for events in a loop can have higher latency.</li>
</ul>

<h3 id="alternative-use-listennotify">Alternative: Use Listen/Notify</h3>

<p>You can modify the following approach to limit the number of queries done by polling the DB for new events. <a href="https://blog.lelonek.me/listen-and-notify-postgresql-commands-in-elixir-187c49597851">If you use PostgreSQL, you can use Listen/Notify</a> to notify subscribers of new events. This way, you only have to ask the DB once (at startup) for the events missed by the subscriber:</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/listen-notify.png" alt="listen-notify"></p>

<h2 id="5-events-in-separate-dbmessage-queue">5. Events in separate DB/message queue</h2>

<p>Once you use a lot of events, or you have multiple services, you will probably use a separate message queue for events. Examples include:</p>

<ul>
  <li>RabbitMQ</li>
  <li>Amazon SQA</li>
  <li>Google Cloud PubSub</li>
  <li>Kafka</li>
  <li>EventStore</li>
</ul>

<p>(While there are many differences between them, itâ€™s way out of the scope of this article to describe them.)</p>

<p>The major drawback of this solution is that you can no longer rely on DB transactions to maintain consistency between your data and the events.</p>

<p>Consider the example:</p>

<div><div><pre><code><span>defmodule</span> <span>Accounts</span> <span>do</span>
  <span>def</span> <span>sign_up</span><span>(</span><span>params</span><span>)</span> <span>do</span>
    <span>user</span> <span>=</span> <span>save_user</span><span>(</span><span>params</span><span>)</span>

    <span>event</span> <span>=</span> <span>%</span><span>UserSignedUp</span><span>{</span>
      <span>user_id:</span> <span>user</span><span>.</span><span>id</span><span>,</span>
      <span>name:</span> <span>user</span><span>.</span><span>name</span><span>,</span>
      <span>email:</span> <span>user</span><span>.</span><span>email</span>
    <span>}</span>

    <span>:ok</span> <span>=</span> <span>save_event</span><span>(</span><span>event</span><span>)</span>

    <span>{</span><span>:ok</span><span>,</span> <span>user</span><span>}</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Thereâ€™s no guarantee that the user and the event will be saved atomically.</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/timeline.png" alt="timeline of function calls"></p>

<p>If anything goes wrong before those two function calls (or the second one fails), the event is gone forever.</p>

<p>One way of dealing with this is to <strong>treat events as a source of truth.</strong></p>

<div><div><pre><code><span>defmodule</span> <span>Accounts</span> <span>do</span>
  <span>def</span> <span>sign_up</span><span>(</span><span>params</span><span>)</span> <span>do</span>
    <span>event</span> <span>=</span> <span>%</span><span>UserSignedUp</span><span>{</span>
      <span>user_id:</span> <span>user</span><span>.</span><span>id</span><span>,</span>
      <span>name:</span> <span>user</span><span>.</span><span>name</span><span>,</span>
      <span>email:</span> <span>user</span><span>.</span><span>email</span>
    <span>}</span>

    <span>:ok</span> <span>=</span> <span>save_event</span><span>(</span><span>event</span><span>)</span>

    <span>{</span><span>:ok</span><span>,</span> <span>event</span><span>}</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/cqrs.png" alt="cqrs"></p>

<p>You might have heard about this pattern as <strong>Command Query Responsibility Segregation (CQRS).</strong> The biggest challenge with this approach is that weâ€™re now in the realm of <strong>eventual consistency.</strong> The user will eventually be saved in the database, but thereâ€™s some unknown delay. CQRS and eventual consistency make the code more complicated at the cost of lower operational coupling.</p>

<p>The important conclusion is that everything is a trade-off and thereâ€™s a price to pay for everything. You might lower the operational coupling by introducing a separate message queue, but the price for that is more complicated code and higher operations and infrastructure cost.</p>

<h2 id="6-the-outbox-pattern">6. The outbox pattern</h2>

<p>You can use the outbox pattern when you use events for integration and not as a source of truth, but you cannot lose any events.</p>

<p><img src="https://mkaszubowski.com/assets/img/elixir-event-handling/outbox.png" alt="outbox pattern"></p>

<p>The Outbox pattern relies on having an outbox table in the same database as the data. We use a DB transaction to atomically save the data (the user) and the event. A separate process reads the outbox table in the background, publishes the events to the external message queue, and deletes the events from the outbox.</p>

<p>Outbox pattern guarantees that <strong>each event will be published at least once</strong>, which means that we still have to make sure we can handle duplicated events (but this is a good practice anyway since most message queues have at-least-once delivery semantics).</p>

<h2 id="performance-warning">Performance warning</h2>

<p>It might be tempting to use asynchronous processing to make the system â€œfasterâ€ by doing some of the work after returning a response to the client. Unless you know what youâ€™re doing, <strong>donâ€™t do that.</strong></p>

<p>Doing work in the background doesnâ€™t make it faster. It only hides the work from the client.</p>

<p>Synchronous calls serve as automatic <a href="https://www.reactivemanifesto.org/glossary#Back-Pressure">back pressure</a>. Since the clients wait for the response before making new requests, the server does only as much as it can handle. As the workload increases, so do the response times - which means that each client sends requests at a lower frequency.</p>

<p>Synchronous processing allows your system to slow down gracefully without collapsing. The system slows down, but it doesnâ€™t crash.</p>

<p>If you do some work in the background, the clients can start sending the next requests much â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mkaszubowski.com/2021/01/09/elixir-event-handling.html">https://mkaszubowski.com/2021/01/09/elixir-event-handling.html</a></em></p>]]>
            </description>
            <link>https://mkaszubowski.com/2021/01/09/elixir-event-handling.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25744488</guid>
            <pubDate>Tue, 12 Jan 2021 09:46:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Learn Japanese Vocabulary Visually]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25744261">thread link</a>) | @mhay
<br/>
January 12, 2021 | https://www.kumalearn.com/ebooks | <a href="https://web.archive.org/web/*/https://www.kumalearn.com/ebooks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2>A better way to send money.</h2><dl><div><p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTkgMTJjMC0uNTUyLjQ0OC0xIDEuMDAxLTFzLjk5OS40NDguOTk5IDEtLjQ0NiAxLS45OTkgMS0xLjAwMS0uNDQ4LTEuMDAxLTF6bTYuMiAwbC0xLjcgMi42LTEuMy0xLjYtMy4yIDRoMTBsLTMuOC01em01LjgtN3YtMmgtMjF2MTVoMnYtMTNoMTl6bTMgMnYxNGgtMjB2LTE0aDIwem0tMiAyaC0xNnYxMGgxNnYtMTB6Ii8+PC9zdmc+" width="24" alt="Kuma Learn has thousands of words with pictures"></p><p><dt>3,000+ words with pictures</dt><dd>We've carefully hand-picked pictures for thousands of words for you, so that you can learn Japanese visually! We have the ambition to hand-pick pictures for many more thousands of words.</dd></p></div><div><p><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTggMTAuNWMwIC44MjctLjY3MyAxLjUtMS41IDEuNXMtMS41LS42NzMtMS41LTEuNS42NzMtMS41IDEuNS0xLjUgMS41LjY3MyAxLjUgMS41em0xNiA2LjIxNmMwIDEuNTg3LS41NiAyLjU5MS0xLjc0OSAzLjE3OS0uMTQzLjA3MS0uMjk2LjEwNS0uNDQ5LjEwNS0uMjQyIDAtLjQ4Mi0uMDg3LS42NzItLjI1NWwtMy4xMDktMi43NDVjLS41NTgtLjQ5NC0xLjA0NC0xLjAwNC0yLjQwNC0xLjAwNGgtNy4yMzNjLTEuMzYgMC0xLjg0Ny41MS0yLjQwNCAxLjAwNGwtMy4xMSAyLjc0NWMtLjE4OC4xNjgtLjQyOS4yNTUtLjY3Mi4yNTUtLjE1MiAwLS4zMDctLjAzNC0uNDQ5LS4xMDUtMS4xODktLjU4OC0xLjc0OS0xLjU5Mi0xLjc0OS0zLjE3OCAwLTIuMDYyLjk0NS01LjQ2MSAyLjY4MS05Ljg1Ny44MjItMi4wODMgMi4yOTItMi44NiAzLjY5NS0yLjg2LjY1NiAwIDEuMjk4LjE3IDEuODUzLjQ1NiAyLjQyNCAxLjI0OSA1LjE3IDEuMjIzIDcuNTQ0IDAgLjU1My0uMjg2IDEuMTk1LS40NTYgMS44NTEtLjQ1NiAxLjQwMyAwIDIuODc0Ljc3NyAzLjY5NiAyLjg2IDEuNzM1IDQuMzk1IDIuNjggNy43OTQgMi42OCA5Ljg1NnptLTE1LTYuMjE2YzAtMS4zODEtMS4xMTktMi41LTIuNS0yLjVzLTIuNSAxLjExOS0yLjUgMi41IDEuMTE5IDIuNSAyLjUgMi41IDIuNS0xLjExOSAyLjUtMi41em00LTIuNWMwLS41NTItLjQ0Ny0xLTEtMXMtMSAuNDQ4LTEgMSAuNDQ3IDEgMSAxIDEtLjQ0OCAxLTF6bTMuNSAyLjVjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM1Ljc1LS43NXptMS43NSAxLjc1YzAtLjQxNS0uMzM2LS43NS0uNzUtLjc1cy0uNzUuMzM1LS43NS43NS4zMzYuNzUuNzUuNzUuNzUtLjMzNS43NS0uNzV6bTAtMy41MzFjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM2Ljc1LS43NXptMS43MzQgMS43ODFjMC0uNDE1LS4zMzYtLjc1LS43NS0uNzVzLS43NS4zMzUtLjc1Ljc1LjMzNi43NS43NS43NS43NS0uMzM1Ljc1LS43NXoiLz48L3N2Zz4=" width="24" alt="Kuma Learn makes learning fun with games"></p><p><dt>Make learning fun!</dt><dd>Learning Japanese vocabulary with pictures certainly helps but we have plans to make it more fun by introducing games with pictures. Match words with pictures, guess a word from a picture and more!</dd></p></div><div><p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjIgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+bGVhcm48L3RpdGxlPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImxlYXJuIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE0Ljk5NiwyMy45OTkgTDIuMzkxLDIzLjk5OSBDMi4zOTEsMjMuOTk5IDMuMTI1LDIwLjA2OCAzLjAyNCwxOC4zMTMgQzIuOTgzLDE3LjU4OSAyLjg2MywxNi44MzkgMi40ODQsMTYuMjA5IEMxLjgzOSwxNS4yMDkgLTAuMTUyLDEyLjQ4OSAwLjAwOSw4Ljc3OSBDMC4yMzMsMy41NyA0LjcwMiwwIDEwLjEzNSwwIEMxNS4yMzMsMCAxOC42NDIsMy4wMDEgMTkuOTkzLDcuNDgzIEMyMC4zMjEsOC41NjIgMjAuMzA0LDkuMDI0IDE5Ljg0MiwxMC4wOSBMMTkuODM2LDEwLjEwMyBMMjEuNTg3LDEyLjI0NSBDMjEuODQ3LDEyLjYyNiAyMiwxMy4wMzYgMjIsMTMuNDg0IEMyMiwxNC4wMzEgMjEuNzY3LDE0LjUyOSAyMS4zOSwxNC44ODMgQzIxLjAyMiwxNS4yMjggMjAuNjIzLDE1LjMzNSAyMC4xNDIsMTUuNTI1IEMyMC4xNDIsMTUuNTI1IDE5LjU2NiwxOC4xMTcgMTkuMjY5LDE4LjgxNiBDMTguNTY5LDIwLjQ1OSAxNy4yOTksMjAuNDc1IDE2LjI5OSwyMC42NjUgQzE1LjkwNSwyMC43NDggMTUuODA5LDIwLjc5OCAxNS42MTgsMjEuMzQ2IEMxNS40MSwyMS45MzcgMTUuMjU1LDIyLjc4MSAxNC45OTYsMjMuOTk5IE0xMC4xNTQsMS45OTkgQzUuODY5LDIuMDQ3IDIuNDE0LDQuNTQ3IDIuMDMzLDguNDg3IEMxLjg0MSwxMC40NzggMi40OTYsMTIuNDczIDMuNTQ5LDE0LjE5MiBDNC4xNiwxNS4xOTIgNC44NTQsMTUuNzg0IDUuMDEzLDE4LjA2NyBDNS4xMDQsMTkuMzggNC45NjMsMjAuNzAzIDQuNzcyLDIxLjk5OSBMMTMuMzc2LDIxLjk5OSBDMTMuNTE3LDIxLjM1NCAxMy43MjYsMjAuNTE0IDE0LjA2MywxOS45NDIgQzE0LjUxMiwxOS4xNzYgMTUuMTYsMTguODQzIDE1Ljk4OSwxOC42ODggQzE2LjgyNywxOC41NCAxNy4yMjcsMTguNjI5IDE3LjQ3OCwxNy45MDMgQzE3LjY5LDE3LjMyNCAxOC4wOSwxNS42ODIgMTguMzA5LDE0LjAwMSBDMTkuNTEyLDEzLjY2NiAxOC45MjEsMTMuODQgMTkuOTgsMTMuNDQyIEMxOS43NzQsMTMuMjA4IDE4LjA2MiwxMS4xMjggMTcuOTM1LDEwLjg0MiBDMTcuNTk5LDEwLjA4MyAxNy44ODksOS42NTIgMTguMTYsOC45MjkgQzE4LjI0Niw4LjY3OCAxOC4yMiw4LjU3MiAxOC4xNTEsOC4zMTYgQzE3LjEwMiw0LjM2NyAxNC4yNiwxLjk5OSAxMC4xNTQsMS45OTkgTTEwLjY3NCw0Ljk5OSBDMTAuOTE2LDUuNjgzIDEwLjk4Niw2LjEyMSAxMS41MTUsNi4zNCBMMTEuNTE2LDYuMzQgQzEyLjA0Niw2LjU2MSAxMi40MDksNi4yOTYgMTMuMDU5LDUuOTg3IEwxNC4wMTIsNi45MzkgQzEzLjcsNy41OTQgMTMuNDM5LDcuOTU1IDEzLjY1OCw4LjQ4MyBMMTMuNjU4LDguNDg0IEMxMy44NzcsOS4wMTIgMTQuMzExLDkuMDgxIDE1LDkuMzI1IEwxNSwxMC42NzIgQzE0LjMxOSwxMC45MTUgMTMuODc3LDEwLjk4NSAxMy42NTgsMTEuNTE1IEMxMy40MzgsMTIuMDQ0IDEzLjcwMSwxMi40MDYgMTQuMDEyLDEzLjA1OSBMMTMuMDU5LDE0LjAxMSBDMTIuNDAyLDEzLjY5OCAxMi4wNDUsMTMuNDM3IDExLjUxOCwxMy42NTYgTDExLjUxNywxMy42NTYgQzEwLjk4NiwxMy44NzggMTAuOTE2LDE0LjMxNyAxMC42NzQsMTQuOTk5IEw5LjMyNiwxNC45OTkgQzkuMDg0LDE0LjMxNSA5LjAxNCwxMy44NzcgOC40ODUsMTMuNjU5IEw4LjQ4NCwxMy42NTggQzcuOTU1LDEzLjQzNyA3LjU5MiwxMy43MDEgNi45NCwxNC4wMTEgTDUuOTg4LDEzLjA1OSBDNi4yOTMsMTIuNDE2IDYuNTYyLDEyLjA0OCA2LjM0MSwxMS41MTQgQzYuMTIxLDEwLjk4NSA1LjY4LDEwLjkxNSA1LDEwLjY3MiBMNSw5LjMyNSBDNS42ODEsOS4wODMgNi4xMjEsOS4wMTMgNi4zNDEsOC40ODQgQzYuNTYxLDcuOTUzIDYuMjk5LDcuNTkzIDUuOTg4LDYuOTM5IEw2Ljk0LDUuOTg3IEM3LjU5Nyw2LjI5OSA3Ljk1NSw2LjU2IDguNDg0LDYuMzQgTDguNDg1LDYuMzQgQzkuMDE0LDYuMTIxIDkuMDg0LDUuNjc5IDkuMzI2LDQuOTk5IEwxMC42NzQsNC45OTkgTDEwLjY3NCw0Ljk5OSBaIE0xMCwxMS42NjYgQzkuMDgsMTEuNjY2IDguMzMzLDEwLjkyIDguMzMzLDkuOTk5IEM4LjMzMyw5LjA3OCA5LjA4LDguMzMyIDEwLDguMzMyIEMxMC45Miw4LjMzMiAxMS42NjYsOS4wNzggMTEuNjY2LDkuOTk5IEMxMS42NjYsMTAuOTIgMTAuOTIsMTEuNjY2IDEwLDExLjY2NiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" width="24" alt="Kuma Learn helps you learn efficiently with Spaced Repetition System (SRS)"></p><p><dt>Spaced Repetition System (SRS)</dt><dd>Kuma Learn has plans to help you learn Japanese vocabulary efficiently with a Spaced Repetition System (SRS). You'll be shown words that you don't know more often; words know well you'll be shown only every so often.</dd></p></div></dl></div></div></div>]]>
            </description>
            <link>https://www.kumalearn.com/ebooks</link>
            <guid isPermaLink="false">hacker-news-small-sites-25744261</guid>
            <pubDate>Tue, 12 Jan 2021 09:17:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin in 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25744195">thread link</a>) | @noch
<br/>
January 12, 2021 | http://www.erisian.com.au/wordpress/2021/01/07/bitcoin-in-2021 | <a href="https://web.archive.org/web/*/http://www.erisian.com.au/wordpress/2021/01/07/bitcoin-in-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>I wrote a post at the start of last year thinking about <a href="http://www.erisian.com.au/wordpress/2020/01/07/bitcoiner-maximalism">my general priorities for Bitcoin</a> and Iâ€™m still pretty happy with that approach â€” certainly <em><strong>â€œstore of valueâ€ as a foundation</strong></em> feels like itâ€™s held up!</p>



<p>I think over the past year weâ€™ve seen a lot of people starting to hold a Bitcoin balance, and that weâ€™ll continue to do so â€” which is a win, but following last yearâ€™s logic also means weâ€™ll want to start paying more attention to the later parts of the funnel as well: if we (for instance) double the number of people holding Bitcoin, we also want to double the number of people doing self-custody, and double the number of people transacting over lightning, eg; and ideally weâ€™d want that in addition to whatever growth in self-custody and layer 2 transactions weâ€™d already been aiming for if Bitcoin adoption had remained flat.</p>



<p>That said, Iâ€™m not sure Iâ€™m in a growth mindset for Bitcoin this year, rather than a consolidation one: consider the BTC price at the start of the past few years: 2016: ~$450, 2017: $1000, 2018: $13,000, 2019: $3700, 2020: $8000, 2021: $30,000. Has there been a 8x increase in security and robustness during 2016, 2017 and 2018 to match the 8x price increase from Jan 2016 to Jan 2019? Yeah, thatâ€™s probably fair. Has there been another 8x increase in security and robustness during 2019 and 2020 to match the 8x price increase there? Maybe. What if youâ€™re thinking of a price target of <a href="https://cointelegraph.com/news/bitcoin-hitting-200k-by-december-2021-is-now-conservative-willy-woo">$200,000</a> or <a href="https://twitter.com/100trillionusd/status/1343140448160915457">$300,000</a> sometime soon â€” doesnâ€™t that require yet another 8x increase in security and robustness? Whereâ€™s that going to come from? And those 8x factors are multiplicative: if you want something like $250k by December 2021, thatâ€™s not a â€œthree-eights-are-24â€ times increase in robustness over six years (2016 to 2022), itâ€™s an â€œ<strong>eight-cubed-is-512</strong>â€ times increase in robustness! And your mileage may vary, but I donâ€™t really think Bitcoinâ€™s already 500x more robust than it was five years ago.</p>



<p>So as excited as I am about taproot and the possibilities that opens up (PTLCs and eventually eltoo on lightning, scriptless scripts and discreet log contracts, privacy preserving proof of reserves, cheap multisig â€” the list might not be infinite but at least seems computationally intractable), I think Iâ€™m now even more of the view that <em><strong>itâ€™s probably more important to work on things that reinforce the existing foundations, than neat new ideas to change them</strong></em> than I was this time last year.</p>



<p>There are already a bunch of areas where Bitcoinâ€™s approach to security and robustness has improved technically over the past few years: weâ€™ve got more people doing reviews (eg, via the PR review club, or getting introduced to Bitcoin via the Chaincode Residency etc), weâ€™ve got deeper and more diverse continuous integration testing (thanks both to more integrations being enabled via github, and travis becoming unreliable enough to force looking at other approaches), fuzz testing has improved a lot and become a bit more broadly used, and I think static analysis of the codebase has improved a bit. There have been a bunch of improvements in code standards (eg using safe pointers, locking annotations, spans instead of raw pointers) too, I think itâ€™s fair to say. I havenâ€™t done an analysis here, just going from gut feel and recollection.</p>



<p>With a focus on robustness, to me, the areas to prioritise in the short term are probably:</p>



<ol><li>Modularisation â€” eg, so that we can better leverage process separation to reduce security impacts, and better use fuzz testing to catch bugs in edge cases. Thereâ€™s already work to split the gui and wallet into separate processes, though while thatâ€™s merged, itâ€™s not part of the standard build yet. Having the p2p-network-facing layer also be a separate process might be another good win. While itâ€™s a tempting goal, I think libconsensus is still a ways off â€” p2p, mempool management, and validation rules are currently pretty tightly coupled â€” but thereâ€™s steps we can make towards that goal that will be improvements on their own, I think.</li><li>The P2P network â€” This is the obvious way to attack Bitcoin since by its nature everyone has access to it. There are multiple levels to this: passively monitoring the p2p network may allow you to violate usersâ€™ privacy expectations, while actively isolating users onto independent networks can break Bitcoinâ€™s fundamental assumptions (you canâ€™t extend the longest chain if you canâ€™t communicate with any of the people who have the longest chain). There are also plenty of potential problems that someone could cause in between those extremes that could, eg, break assumptions that L2 systems like lightning make. Third-party (potentially centralised) alternatives as backups for the p2p network may also be valuable support here â€” things like Blockstream Satellite, or block relay over ham radio, or headers over DNS: those can mend splits in the p2p network that the p2p layer itself canâ€™t automatically fix. Or efficiency improvements like erlay or block-relay-only can allow a higher degree of connectivity making attacks harder.</li><li>CI, static analysis, reproducible builds â€” Over the past year, travis seems like itâ€™s gone from having the occasional annoying problem to being <a href="https://www.jeffgeerling.com/blog/2020/travis-cis-new-pricing-plan-threw-wrench-my-open-source-works">pretty much unusable</a> for open source projects. CI is an important part of both development and review; having it break makes both quite a lot harder. What weâ€™ve got at this point seems pretty good, but itâ€™s new and not really time-tested yet, so Iâ€™d guess a year of smoothing out the rough edges is probably needed. I think thereâ€™s other â€œCIâ€-ish stuff that could be improved, like more automated IBD testing (eg, I think <a href="https://bitcoinperf.com/d/YiV16Vsik/overview?orgId=1&amp;from=now-6M&amp;to=now">bitcoinperf</a> is about 3 months out of date). Static analysis serves a similar goal to tests in a different way; and while weâ€™ve already got a lot of low hanging fruit of this nature already integrated into CI via linters and compiler options, I suspect thereâ€™s still some useful automation that could happen here. Finally, nailing down the last mile to ensure that people are running the software the devs are testing is always valuable, and I think the nixos work is showing some promise there.</li><li>Third-party validation â€” Weâ€™ve had a few third-party monitoring tools arise lately â€” various sites monitoring feerate and mempool sizes, forkmonitor checking for stale blocks (and double-spends), or, at a stretch, optechâ€™s reviews of wallet behaviour and segwit support. Thereâ€™s probably a lot of room for more of this.</li></ol>



<p>Iâ€™d love to list formal verification at the consensus layer as a priority, but I think thereâ€™s too much yak-shaving needed first: it would probably need all the refactoring to get to libconsensus first, then would likely need that separated into its own process, which you could only then start defining a formal spec for, which in turn would give you something you could start doing formal verification against. I suspect weâ€™ll want to be at that point within another cycle or two though.</p>



<p>Iâ€™m not concerned about mining â€” eventually there might be a risk that the subsidy is too small and thereâ€™s not enough fee income, but thatâ€™s not going to happen while the price doubles faster than the pre-scheduled halvings. Thereâ€™s certainly centralisation risks, whether in ASIC manufacture, in hardware ownership/control, or at the pool level, but my sense of things is thatâ€™s not getting worse, and is not the biggest immediate risk. Maybe Iâ€™m wrong; if so, hopefully the people who think so are working on preventing problems from arising, rather than taking advantage of them.</p>



<p>There are other levels of robustness and security beyond just â€œkeep the network workingâ€, if you consider the question of â€œhow to prevent my coins from being lost/stolen?â€ more broadly. The phishing attacks and potential for physical attacks resulting from the Ledger leak are an easy example of a problem of this sort, but exchange hacks/failures in general, malware swapping addresses so your funds go to an attacker instead of the intended recipient, and lost access to keys are also pretty bad. I think descriptors, miniscript and taproot multisig probably provide for a good path forward to help prevent losing access to keys; and itâ€™s possible that progress on BIP322 (signing messages against a Bitcoin address) may provide a path to avoiding address swapping attacks.</p>



<p>Technical solutions are, in some sense, all you can hope for if youâ€™re doing self-custody; but where a bank/custodian is involved (good) regulation might be useful too: requirements to keep customer data protected or destroyed, third-party audits to ensure the best-practices procedures youâ€™re claiming to follow are actually being followed, etc. If custodians store funds in taproot addresses, it may be feasible to do privacy preserving (zero-knowledge) <a href="https://twitter.com/n1ckler/status/1334240709814136833">proofs of solvency</a>, eg, making it harder for fly-by-night folks to run ponzi schemes or otherwise steal their customersâ€™ funds.</p>



<p>Obviously where possible these sorts of standards should be implemented via audited open source code rather than needing extensive implementation costs by each company. But one other thing to think about is whether regulations of this nature could be setup as industry standards (â€œwe comply with the industry standard, competitor X doesnâ€™tâ€) rather than necessarily a government regulator â€” for one, it certainly seems questionable whether government regulators have the background to pick good best practices for cryptocurrency systems to follow. Though perhaps it would be to have something oriented towards â€œconsumer rightsâ€ than â€œindustryâ€ per se, to avoid it just being a vector for regulatory capture.</p>



<p>I think thereâ€™s been good progress on stabilising Bitcoin development â€” in 2015 through 2017 we were in a phase where people were seriously thinking of <a href="https://www.newsbtc.com/news/bitcoin/according-viabtc-team-bitcoin-core-developers-fired/">replacing</a> <a href="https://blog.plan99.net/the-resolution-of-the-bitcoin-experiment-dabb30201f7">Bitcoinâ€™s</a> <a href="https://www.coindesk.com/consensus-2017-bitpay-ceo-bitcoin-fork">developers</a> â€” devs were opposing a quick blocksize increase, so the obvious solution was to replace them with people who werenâ€™t opposed. If you think of Bitcoin as an experimental, payments-oriented, tech startup, thatâ€™s perhaps not â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.erisian.com.au/wordpress/2021/01/07/bitcoin-in-2021">http://www.erisian.com.au/wordpress/2021/01/07/bitcoin-in-2021</a></em></p>]]>
            </description>
            <link>http://www.erisian.com.au/wordpress/2021/01/07/bitcoin-in-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-25744195</guid>
            <pubDate>Tue, 12 Jan 2021 09:09:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaling Replicated State Machines with Compartmentalization [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25743619">thread link</a>) | @luu
<br/>
January 11, 2021 | https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf | <a href="https://web.archive.org/web/*/https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25743619</guid>
            <pubDate>Tue, 12 Jan 2021 07:49:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Moving this blog to a static site â€“ this time I'm serious (because org-mode)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25743249">thread link</a>) | @todsacerdoti
<br/>
January 11, 2021 | http://www.lonecpluspluscoder.com/2021/01/11/moving-this-blog-to-a-static-site-this-time-im-serious-because-org-mode/ | <a href="https://web.archive.org/web/*/http://www.lonecpluspluscoder.com/2021/01/11/moving-this-blog-to-a-static-site-this-time-im-serious-because-org-mode/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1773">
    
	<div>
		<div>
			<p>I have been toying with the idea of migrating this blog to a static site to simplify its maintenance for some time. While <a href="https://wordpress.org/">WordPress </a>is a great tool, this blog is a side project and any time I have to spend maintaining WordPress gets deducted from the time I have to write for the blog. Keep in mind that Iâ€™m self-hosting this blog and itâ€™s actually running on a Linux VM that only handles the blog. That is yet another server that I need to administer, and itâ€™s the odd one out, too, as all of the others are FreeBSD or OpenBSD servers.</p>
<p>Oh, and one of the big advantages of using a static site generator is that the whole site can be put in version control, archived there and also quickly re-generated from there should I manage to spectacularly mess up the host. A WordPress restore is a fair amount more work, as I found out about two years ago.</p>
<p>The only parts that donâ€™t back up that well are the comments, especially if I use a self-hosted system for them.</p>
<h2>Migration is fine, but what to?</h2>
<p>For that reason, I had experimented with moving the blog to <a href="https://jekyllrb.com/">Jekyll</a> for quite a while. In fact, I have maintained a parallel Jekyll blog for years now. For a smooth switch over, the devil was in the details though, and I was never happy enough to actually migrate and shutdown the WordPress site.</p>
<p>After another patchapalooza, I revisited the idea of converting the blog to a static site and looked at several other static site generators. I also decided to resurrect an experiment I had started with <a href="https://gohugo.io/">Hugo</a>. My first attempt hadnâ€™t been very successful, so I stuck with Jekyll. This second attempt however is a lot more successful as it addressed a couple of the issues that kept me from being happy with Jekyll:</p>
<ul>
<li>Hugo builds the site much faster than Jekyll</li>
<li>I found a <a href="https://themes.gohugo.io/hugo-future-imperfect-slim/">theme</a> that Iâ€™m really happy with.</li>
<li>It looks like some of the details that I found hard to get right in Jekyll are already handled nicely in Hugo. This is mostly around the RSS feed generation â€“ Hugo by default generates category feeds in addition to the regular â€œfullâ€ feed. It also looks like the category feeds are very similar path-wise to what WordPress uses, so hopefully the RSS feeds should continue working with the couple of aggregators that picked up this blog.</li>
</ul>
<p>Fortunately, this time I succeeded in importing the site from Jekyll into Hugo. It took some work to clean up some of the artifacts that originated in the WP-to-Jekyll conversion, and then I had to convert the Liquid template code to Hugo shortcodes. The latter was pretty easy, but a bit tedious. Just not tedious enough to write a script to do it.</p>
<h2>Hugo can render org-mode files (and so can Jekyll, apparently)</h2>
<p>Another nice feature is that my workflow can still use org-mode for when I want to use it to write longer posts. Shorter posts I usually crank out in Markdown, but for the more complex posts itâ€™s nice to have org-mode as an option. <em>Especially</em> if the post contains source code.</p>
<p>While the setup I described before with using org-mode to post to WordPress is mostly working, itâ€™s a bit clunky especially if youâ€™re using more than one computer to work on blog posts. Both Jekyll and Hugo can handle org-mode files directly â€“ in fact, even though this file would be as effortless to write as Markdown, what you are currently reading is actually a processed org-mode file. Assuming that youâ€™re reading this on the <a href="https://static.lonecpluspluscoder.com/">static site</a>, that is.</p>
<h2>Whatâ€™s left to before the actual cutover?</h2>
<p>There are two fairly large items I have to tick off the todo list before I can cut over for good.</p>
<ul>
<li>Migrate the comments. Now this blog doesnâ€™t get a ton of comments, but I appreciate all of them and am trying to migrate them over to this blog. As I believe in self-hosting everything, Iâ€™m experimenting with <a href="https://posativ.org/isso/">isso</a>, and I need to redo some of the experiments with Hugo as so far, theyâ€™ve been completely focussed on Jekyll. Hugo does have built in support for disqus, plus this theme has support for staticman, but neither of the two are my preferred alternatives.</li>
<li>QA the site, especially the RSS feeds so that they hopefully keep working as they do right now.</li>
<li>There are still some minor tweaks to be done, analytics integrated and all that, but those are probably going to happen slowly after the cutover.</li>
<li>Oh, and the last item is all of the draft posts that have accumulated on WordPress that I somehow never got around to finishing.</li>
</ul>
<p>The beta of the static site is <a href="https://static.lonecpluspluscoder.com/">here</a> if you want to have a look. Any feedback is welcome.</p>

					</div><!-- .entry-content -->
	</div><!-- .entry-content-wrapper -->

	<!-- .entry-footer -->

</article></div>]]>
            </description>
            <link>http://www.lonecpluspluscoder.com/2021/01/11/moving-this-blog-to-a-static-site-this-time-im-serious-because-org-mode/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25743249</guid>
            <pubDate>Tue, 12 Jan 2021 06:43:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build your own programming language]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25743169">thread link</a>) | @thesephist
<br/>
January 11, 2021 | https://thesephist.com/posts/pl/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/pl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>Of all the projects Iâ€™ve made, I receive the most questions about the <a href="https://github.com/thesephist/ink">Ink programming language</a>. Most questions fall into three categories:</p>
<ol>
<li>Why did you make a programming language?</li>
<li>I want to make my own programming language â€“ any advice?</li>
<li>Why does Ink work the way it does?</li>
</ol>
<p>This post aims to answer questions (1) and (2) and provide some resources for you to get started on your own language. I think (3) is best left for its own, more technical post.</p>
<p>This post is organized into a few sections.</p>
<ol>
<li><a href="#why">Why should you?</a></li>
<li><a href="#design">Design</a></li>
<li><a href="#impl">Implementation</a></li>
<li><a href="#other">Other considerations</a></li>
<li><a href="#start">Start small, get creative, ask questions</a></li>
</ol>

<h2 id="why-should-you">Why should you?</h2>
<p>Making an interpreter for a new programming language is the most technically rewarding project Iâ€™ve worked on. It pushed my understanding of fundamental software concepts and helped me comprehend how a computer works at a deeper level.</p>
<p>Programming languages and compilers / interpreters can be black boxes for programmers starting out. Theyâ€™re tools taken for granted, and you can write good software without necessarily worrying about how the languages and primitive tools youâ€™re using work under the hood. But writing a programming language involves understanding the most meaty parts of the computing stack, from the CPU and memory up through the operating system, in-memory data structures, processes, threads, the stack, all the way up to libraries and applications. Itâ€™s the floodgate to the most interesting mathematics in computing â€“ category theory and type systems, algebras, lots of applications of graph theory, complexity analysis, and more. <strong>Writing and studying programming languages, I found myself getting more familiar with both the mathematics and the mechanical underpinnings of how computers work.</strong></p>
<p>The project made me a better developer as a result, even if my day-to-day work rarely concerns programming language tooling or compiler writing.</p>
<p>A programming language also has lots of room for expansions, optimizations, and extra creativity even after the projectâ€™s version one is â€œfinishedâ€. If you design the initial implementation carefully, you can add new keywords, new features, optimizations, and tools to your language and interpreter / compiler incrementally over time. Itâ€™s easy to turn a language into a long-term project and creative outlet, and Iâ€™ve enjoyed expanding on my initial implementation while studying other languages after my version-one was complete.</p>
<h3 id="the-pl-world-is-broad-and-deep-pick-your-battles">The PL world is broad and deep; pick your battles</h3>
<p>Unlike some other areas of software that follow hype cycles, the programming language field has grown and deepened steadily and constantly for a long time in both academia and industry. Thereâ€™s a <em>lot</em> of literature, research, prior art, and practical advice in the wild about a million different concepts that can be combined into a new language, and a million different variations on how to implement them.</p>
<p>Especially for a personal-project language, I think the most fruitful approach is to <strong>pick one or two interesting ideas from the archaeology of computing, and build a programming language that examines and expands on those ideas deeply</strong>, rather than try to build the One True Language thatâ€™s best at everything and combines the best features of all the languages. Not only is it impossible to make such a language for all use cases, I think that kind of mindset also slows down development, adds unnecessary work, and doesnâ€™t give you the mental space to learn as much about a few interesting topics you might be interested in.</p>
<p>For example, you might be interested in functional programming and immutable data structures. You could try to build a language thatâ€™s designed around storing all state in immutable data structures, and study how such data structures can be optimized and manipulated efficiently in a compiler. Or maybe youâ€™re interested in low-level C programming and systems languages, in which case you might try to build a scripting language whose primary goals include elegant interoperability with C APIs and binary interfaces.</p>
<p>Where you start also determines the challenges and tradeoffs youâ€™ll contend with. You might have an easier time writing a <a href="https://en.wikipedia.org/wiki/Lisp_(programming_language)">Lisp</a> interpreter due to its simpler syntax, because itâ€™s easy to parse compared to, say, a more complex syntax for a language with a static type system. However, Lisps tend to have semantics that are further-removed from the low-level machine code that runs, like closures. So you may trade off the ease of parsing with execution complexity.</p>
<p>Pick your battles carefully, and stick to a few core ideas that you want to study deeply.</p>

<h2 id="design">Design</h2>
<p>Before you write either an interpreter or a compiler, you need to <em>design</em> a language. You can spend time studying category theory and type systems and programming paradigms, but the best thing you can do for yourself at this stage is to study ideas from a wide breadth of programming languages. Donâ€™t just limit yourself to â€œmodernâ€ languages like Rust and Python; reach back into computing history. Thereâ€™s rich ideas to be reinvented and combined in interesting ways reaching back at least a century into computing and mathematics.</p>
<p>Itâ€™s easy to get stuck in the mental model of popular modern OOP-like languages (Python, Ruby, Swift, C++) and spend the most time in this phase designing <em>syntax</em>. But designing the <em>semantics</em> of the language is where you should spend the most of your time, because itâ€™s where the language gets its â€œfeelâ€ and where youâ€™ll learn the most. Semantics are also more difficult to change after the fact than syntax. Some questions to ask yourself, to start thinking about language semantics and ergonomics:</p>
<ul>
<li>What types does your language have? Is it checked at compile-time? Does it automatically convert between types as necessary?</li>
<li>Whatâ€™s the top-level organizing unit of programs in your language? Languages commonly call this modules, packages, or libraries, but some languages may invent their own concept, like Rust <a href="https://doc.rust-lang.org/rust-by-example/crates.html">Crates</a>.</li>
<li>How does the language deal with exceptional conditions, like a missing file, a network access error, or a divide-by-zero error? Do you treat errors like exceptions that bubble up through the call stack, or are errors treated like values, as in C and Go?</li>
<li>Does your language perform <a href="https://en.wikipedia.org/wiki/Tail_call">tail recursion optimization</a>? Or do you provide native control-flow tools for looping, like <code>for</code> and <code>while</code> loops?</li>
<li>How much utility do you want to build into the language, as opposed to a standard library? C, for example, doesnâ€™t know about strings â€“ string semantics are provided by the C standard library. Maps and lists are fundamental language constructs in most high-languages, and not so in most low-level ones.</li>
<li>How does your language think about <a href="https://en.wikipedia.org/wiki/Memory_management">allocating memory</a>? Is memory automatically allocated as needed? Does the developer need to write code to do so? Is it garbage-collected?</li>
</ul>
<p>To answer these questions, I think itâ€™s most helpful to just get a taste of a variety of languages in the wild. Hereâ€™s a small starter set that I recommend you take a look at, and what ideas I personally found intriguing from each language or language family.</p>
<ul>
<li><strong>Lua</strong>: a data structure called <a href="https://www.lua.org/pil/2.5.html">tables</a>, Lua <a href="https://www.lua.org/pil/9.1.html">couroutines</a>, using strings as byte slices, interoperability with C</li>
<li><strong>Scheme / Clojure</strong>: Metaprogramming with macros, homoiconicity, closures, control flow with recursion. Die-hard Common-Lispers may disagree, but Scheme and Clojure are the easiest languages in the <a href="https://en.wikipedia.org/wiki/Lisp_(programming_language)">Lisp</a> family of languages for me to learn. You should study at least one kind of Lisp.</li>
<li><strong>Go</strong>: structural typing with <a href="https://tour.golang.org/methods/9">interfaces</a>, concurrency with blocking <a href="https://en.wikipedia.org/wiki/Green_threads">green threads</a></li>
<li><strong>JavaScript</strong>: callback-style concurrency and asynchronous programming, first-class functions, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop">event loop</a>, Promises</li>
<li><strong>Awk</strong>: Awk is a great example of a small, simple language optimized for one use case: manipulating text files and textual data. Itâ€™s very well designed for that workflow, and a inspiration for how effective a small, domain-specific language with simple semantics can be.</li>
<li><strong>APL</strong> / <strong>J</strong>: APL and J are both <a href="https://en.wikipedia.org/wiki/Array_programming#Array_languages">array languages</a>, which is a fascinating family of languages well known for its brevity</li>
<li><strong>Ruby</strong>: syntax. Rubyâ€™s well known for its super-flexible syntax, because it lends itself easily to DSLs based on Ruby, like ActiveRecord.</li>
<li><strong>C</strong>: I like C mostly for its simplicity and minimalism, and an uncompromising commitment to compatibility</li>
<li><strong>Haskell</strong>: the type system and <a href="https://en.wikipedia.org/wiki/Parametric_polymorphism">parametric polymorphism</a>, variant types, partial application and function type syntax. Once you wrap your mind around it, Haskell is also a good place to start diving deeper into the kinds of elegant programs possible with functional programming.</li>
</ul>

<h2 id="implementation">Implementation</h2>
<p>Once you have a design for how a language should work and feel, you should first â€œtest-driveâ€ it to see how programs written in the language feel to use.</p>
<h3 id="test-drive">Test-drive</h3>
<p>In this phase, I usually keep a text document where I experiment with syntax by writing small programs in the new as-yet-nonexistent language. I write notes and questions for myself in comments in the code, and try to implement small algorithms and data structures like recursive mathematical functions, sorting algorithms, and small web servers. I usually hold myself to this stage until most of my questions about syntax and semantics are answered. I also use this phase to test my hypotheses about the core ideas behind the language design. If I designed a language around functional programming and asynchronous, event-driven concurrency, for example, Iâ€™d write some sample code in this phase to validate that those ideas combine well together, and lends itself to programs that Iâ€™d enjoy writing. If Iâ€™m proven wrong, Iâ€™ll update my assumptions or play around with the language design to reflect what Iâ€™ve learned.</p>
<p>This straw-man design phase is a quick way to make sure that the language youâ€™ve invented in your head could work well for the kinds of programs you want to write, without having to write much implementation.</p>
<h3 id="build-an-interpretercompiler">Build an interpreter/compiler</h3>
<p>At their core, <strong>interpreters and compilers are layers and layers of small transformations to your source code (a string of text) into â€¦</strong></p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesephist.com/posts/pl/">https://thesephist.com/posts/pl/</a></em></p>]]>
            </description>
            <link>https://thesephist.com/posts/pl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25743169</guid>
            <pubDate>Tue, 12 Jan 2021 06:31:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Symmetrical Drawing Tool for Doodling]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 24 (<a href="https://news.ycombinator.com/item?id=25741895">thread link</a>) | @cowllin
<br/>
January 11, 2021 | https://www.aliciaunderhill.xyz/Andala/ | <a href="https://web.archive.org/web/*/https://www.aliciaunderhill.xyz/Andala/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <section>
        <p>
          <h5>Choose and change your settings as you draw:</h5>
        </p>
        <div>
          <p>Your brush color</p>
          <ul>
            <li id="red-brush" data-color="#FA5858"></li>
            <li id="orange-brush" data-color="#FACC2E"></li>
            <li id="yellow-brush" data-color="#F4FA58"></li>
            <li id="green-brush" data-color="#81F79F"></li>
            <li id="blue-brush" data-color="#81F7F3"></li>
            <li id="purple-brush" data-color="#DA81F5"></li>
            <li id="pink-brush" data-color="#F781F3"></li>
            <li id="black-brush" data-color="black"></li>
            <li id="white-brush" data-color="white"></li>
            <li id="gray-brush" data-color="#A4A4A4"></li>
          </ul>
        </div>

        <div>
          <p>Your background color</p>
          <ul>
            <li id="black-background" data-background="black"></li>
            <li id="white-background" data-background="white"></li>
          </ul>
        </div>

        <div>
          <p>Your brush size</p>
          <ul>
            <li data-brushsize="1">Thin</li>
            <li data-brushsize="3">Medium</li>
            <li data-brushsize="6">Thick</li>
          </ul>
        </div>

        <div>
          <p>Your desired symmetry</p>
          <ul>
            <li id="radial-symmetry" data-symmetry="RADIAL">Radial</li>
              <label>Split by
                
              </label>
            <li data-symmetry="HORIZONTAL">Horizontal</li>
            <li data-symmetry="VERTICAL">Vertical</li>
          </ul>
        </div>
      </section>

      <section>
        
        <h3>Click anywhere and draw freely.</h3>
        <canvas id="andala-canvas" width="600" height="600"></canvas>
      </section>

      <section>
        
      </section>
    </div></div>]]>
            </description>
            <link>https://www.aliciaunderhill.xyz/Andala/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25741895</guid>
            <pubDate>Tue, 12 Jan 2021 03:29:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Faster A fast concurrent persistent key-value store and log, in C# and C++]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25741670">thread link</a>) | @keithnz
<br/>
January 11, 2021 | https://microsoft.github.io/FASTER/ | <a href="https://web.archive.org/web/*/https://microsoft.github.io/FASTER/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
  <article itemscope="" itemtype="https://schema.org/CreativeWork">
    
    <meta itemprop="description" content="A fast concurrent persistent key-value store and log, in C# and C++. Latest release v1.7.4">
    
    

    <section itemprop="text">
      <p>Managing large application state easily, resiliently, and with high performance is one of the hardest
problems in the cloud today. The FASTER project offers two artifacts to help tackle this problem.</p>

<ul>
  <li>
    <p><strong>FASTER Log</strong> is a high-performance concurrent persistent recoverable log, iterator, and random 
reader library in C#. It supports very frequent commit operations at low latency, and can quickly saturate 
disk bandwidth. It supports both sync and async interfaces, handles disk errors, and supports checksums. Learn 
more about using the FASTER Log in C# <a href="https://microsoft.github.io/FASTER/docs/fasterlog-basics/">here</a>.</p>
  </li>
  <li>
    <p><strong>FASTER KV</strong> is a concurrent key-value store + cache (available in C# and C++) that is designed for point 
lookups and heavy updates. FASTER supports data larger than memory, by leveraging fast external 
storage (local or cloud). It also supports consistent recovery using a new checkpointing technique that lets 
applications trade-off performance for commit latency. Learn more about the FASTER KV in C# 
<a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/">here</a>. For the FASTER C++ port, check <a href="https://microsoft.github.io/FASTER/docs/fasterkv-cpp/">here</a>.</p>
  </li>
</ul>



<ol>
  <li>Latch-free cache-optimized index, in FASTER KV.</li>
  <li>A fast persistent recoverable append-only log based on fine-grained epoch protection for concurrency, 
in FASTER Log.</li>
  <li>Unique â€œhybrid record logâ€ design in FASTER KV, that combines the above log with in-place updates, to 
shape the memory working set and retain performance.</li>
  <li>Architecture as a component that can be embedded in multi-threaded cloud apps.</li>
  <li>Asynchronous non-blocking recovery model based on group commit.</li>
  <li>A rich extensible storage device abstraction called <code>IDevice</code>, with implementations for local
storage, cloud storage, tiered storage, and sharded storage.</li>
</ol>

<p>For standard benchmarks where the working set fits in main memory, we found FASTER KV to achieve
significantly higher throughput than current systems, and match or exceed the performance of pure 
in-memory data structures while offering more functionality. See our <a href="https://microsoft.github.io/FASTER/docs/td-research-papers/">research papers</a>
for more details. We also have a detailed analysis of C# FASTER KV performance in a wiki page 
<a href="https://github.com/Microsoft/FASTER/wiki/Performance-of-FASTER-in-C%23">here</a>. The performance of the 
C# and C++ versions of FASTER is very similar. FASTER Log is also extremely fast, capable of saturating modern
NVMe SSDs using less than a core of CPU, and scaling well in a multi-threaded setting.</p>



<ul>
  <li>
    <p>We now support variable-length keys and values in FasterKV C# via <code>Memory&lt;byte&gt;</code> and more generally <code>Memory&lt;T&gt; where T : unmanaged</code> as key/value/input types. We also added
a new type called <code>SpanByte</code> to represent variable-length keys and values. See the sample <a href="https://github.com/Microsoft/FASTER/tree/master/cs/samples/StoreVarLenTypes">here</a> for details on these capabilities. This is in addition to the existing object-log support for class types.</p>
  </li>
  <li>
    <p>We support C# async in FASTER KV (and FASTER Log). See the guides for <a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/">FasterKV</a> and <a href="https://microsoft.github.io/FASTER/docs/fasterlog-basics/">FasterLog</a> 
for more information. Also, check out the samples <a href="https://github.com/Microsoft/FASTER/tree/master/cs/samples">here</a>.</p>
  </li>
</ul>



<ul>
  <li>Quick-Start Guide and Docs: <a href="https://microsoft.github.io/FASTER/docs/quick-start-guide/">here</a></li>
  <li>Source Code: <a href="https://github.com/microsoft/FASTER">https://github.com/microsoft/FASTER</a></li>
  <li>C# Samples: <a href="https://github.com/microsoft/FASTER/tree/master/cs/samples">https://github.com/microsoft/FASTER/tree/master/cs/samples</a></li>
  <li>C# NuGet binary feed:
    <ul>
      <li><a href="https://www.nuget.org/packages/Microsoft.FASTER.Core/">Microsoft.FASTER.Core</a></li>
      <li><a href="https://www.nuget.org/packages/Microsoft.FASTER.Devices.AzureStorage/">Microsoft.FASTER.Devices.AzureStorage</a></li>
    </ul>
  </li>
  <li>Checkpointing and Recovery: <a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/#checkpointing-and-recovery">link</a></li>
  <li>Research papers: <a href="https://microsoft.github.io/FASTER/docs/td-research-papers/">link</a></li>
  <li>Project roadmap: <a href="https://microsoft.github.io/FASTER/docs/roadmap">here</a></li>
</ul>

<p>Thanks to <a href="https://github.com/mmistakes/minimal-mistakes">Minimal Mistakes</a> for their amazing website theme.</p>



<div><div><pre><code><span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>()</span>
<span>{</span>
  <span>using</span> <span>var</span> <span>log</span> <span>=</span> <span>Devices</span><span>.</span><span>CreateLogDevice</span><span>(</span><span>"hlog.log"</span><span>);</span> <span>// backing storage device</span>
  <span>using</span> <span>var</span> <span>store</span> <span>=</span> <span>new</span> <span>FasterKV</span><span>&lt;</span><span>long</span><span>,</span> <span>long</span><span>&gt;(</span><span>1L</span> <span>&lt;&lt;</span> <span>20</span><span>,</span> <span>// hash table size (number of 64-byte buckets)</span>
     <span>new</span> <span>LogSettings</span> <span>{</span> <span>LogDevice</span> <span>=</span> <span>log</span> <span>}</span> <span>// log settings (devices, page size, memory size, etc.)</span>
     <span>);</span>

  <span>// Create a session per sequence of interactions with FASTER</span>
  <span>using</span> <span>var</span> <span>s</span> <span>=</span> <span>store</span><span>.</span><span>NewSession</span><span>(</span><span>new</span> <span>SimpleFunctions</span><span>&lt;</span><span>long</span><span>,</span> <span>long</span><span>&gt;());</span>
  <span>long</span> <span>key</span> <span>=</span> <span>1</span><span>,</span> <span>value</span> <span>=</span> <span>1</span><span>,</span> <span>input</span> <span>=</span> <span>10</span><span>,</span> <span>output</span> <span>=</span> <span>0</span><span>;</span>
  
  <span>// Upsert and Read</span>
  <span>s</span><span>.</span><span>Upsert</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>value</span><span>);</span>
  <span>s</span><span>.</span><span>Read</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>output</span><span>);</span>
  <span>Debug</span><span>.</span><span>Assert</span><span>(</span><span>output</span> <span>==</span> <span>value</span><span>);</span>
  
  <span>// Read-Modify-Write (add input to value)</span>
  <span>s</span><span>.</span><span>RMW</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>input</span><span>);</span>
  <span>s</span><span>.</span><span>RMW</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>input</span><span>);</span>
  <span>s</span><span>.</span><span>Read</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>output</span><span>);</span>
  <span>Debug</span><span>.</span><span>Assert</span><span>(</span><span>output</span> <span>==</span> <span>value</span> <span>+</span> <span>20</span><span>);</span>
<span>}</span>
</code></pre></div></div>

    </section>
  </article>
</div></div>]]>
            </description>
            <link>https://microsoft.github.io/FASTER/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25741670</guid>
            <pubDate>Tue, 12 Jan 2021 02:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Configure Block Storage on Linux]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25740799">thread link</a>) | @punkspider
<br/>
January 11, 2021 | https://thunderboltlaptop.com/how-to-configure-block-storage-on-linux/ | <a href="https://web.archive.org/web/*/https://thunderboltlaptop.com/how-to-configure-block-storage-on-linux/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Understanding and managing storage in Linux is essential. There are several key concepts and commands for working with block storage.</p> <p><span>If you are an absolute beginner in configuring storage on Linux, then this article is for you.</span></p><p>Here we will discuss:</p><ul><li>Block storage device naming and the <code>/dev</code> directory</li><li>Disk partitioning</li><li>Creating and mounting filesystems</li><li>Logical Volume Manager (LVM)</li></ul><ol></ol><h2><span id="Prerequisites"></span>Prerequisites<span></span></h2><ul><li>A server running Linux preferably CentOS 7 or higher</li><li>At least 2 free storage devices</li></ul><h2><span id="Introduction"></span>Introduction<span></span></h2><p>Every physical server or virtual machine has some directly attached block devices. These can be HDD, SSD, or USB Flash drives.</p><p>Whenever a new block device is inserted into the system, the available capacity is not immediately accessible. In other words, files and directories cannot be directly created on the device.</p><p>Some basic configuration is required to make the storage space available. It includes creating partitions, creating filesystems, and mounting.</p><p>Before we start discussing the commands relative to these operations, letâ€™s talk about the <code>/dev</code> directory and block device naming.</p><h2><span id="Block_storage_device_naming"></span>Block storage device naming<span></span></h2><p>Linux handles storage devices as files. These files are stored under the <code>/dev</code> directory. Itâ€™s critical to understand this concept because most storage commands take files from this directory as their arguments. Many system programs also use these files as the interface for Input/Output or I/O operations with the block devices.</p><p>Whenever a new block device is inserted or detected, the system automatically creates a new corresponding file under the directory <code>/dev</code>.</p><p>The name of this file depends on several things. Most importantly, it depends on the device bus type and the order in which the device was inserted relative to the other devices.</p><p>For example, if the bus type is SCSI or SATA, the first half of the file name is <code>sd</code>. The other half is a letter assigned in alphabetical order depending on the order in which the device was detected.</p><p>The first, second, and third SCSI devices on a system are named <code>sda</code>, <code>sdb</code>, and <code>sdc</code>, respectively.</p><p>Devices with other bus types are subject to slightly different naming rules. For NVMe, which is a modern bus type, the first part of the device name is <code>nvme</code>. There is also a bus number added in the middle. The final part is a letter and a number, which indicate the order of detection. For example: <code>nvme0n1</code> or <code>nvme0n2</code>.</p><p>We can list the <code>/dev</code> directory content to get an overview of all the block devices present on the system.</p><pre data-enlighter-language="generic">ls /dev</pre><p><img width="880" height="162" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40-300x55.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40-768x141.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40-300x55.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-40-768x141.png 768w"></p><p>There are many files, including <code>sda</code>, <code>sdb</code>, <code>sda1</code>, <code>sda2</code>, <code>nvme0n1</code>, and <code>nvme0n2</code>.</p><p>Note that <code>/dev </code>also includes other files that are not related to storage devices.</p><p><code>sda</code> and <code>sdb</code> are block devices. However, <code>sda1</code> and <code>sda2</code> donâ€™t represent actual block devices. They represent partitions, which are discussed next.</p><h2><span id="Partitioning"></span>Partitioning<span></span></h2><h3><span id="What_is_partitioning"></span>What is partitioning<span></span></h3><p>Partitioning is the operation of dividing the block device into logical block devices called partitions. It is the first operation to do before we can use the disk.</p><p>To list all disks and partitions present on the system, use the command:</p><pre data-enlighter-language="generic">lsblk</pre><p><img width="880" height="286" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41-300x98.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41-768x250.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41-300x98.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-41-768x250.png 768w"></p><p><code>lsblk</code> shows a clear tree structure of disks and their partitions. Also, the â€œtypeâ€ column of the output indicates whether the line represents a disk, partition, or LVM. (LVM type is an advanced storage scheme that is discussed at the end)</p><p>There are mainly two partitioning schemes: the Master Boot Record (MBR) and the GUID Partition Table (GPT). MBR is a legacy partitioning scheme, but it is still used. It is limited to a maximum disk size of 2 TiB. GPT partitioning is preferred because it breaks the limit of the 2 TiB disks and introduces other enhancements.</p><h3><span id="How_to_create_a_partition"></span>How to create a partition<span></span></h3><p>The<code> fdisk</code> command is used to create MBR partitions, while the <code>gdisk</code> command is used to create GPT partitions. Both are interactive commands and are very similar.</p><p>These commands create a partition table on the first few sectors of a disk. (With GPT, the partition table is also backed up at the last few disk sectors).</p><p>This table contains all the information about the partitions. For example, it includes the sector addresses where every partition begins and ends. (A sector is the minimum read/write block size used by disks, itâ€™s usually 512 Bytes).</p><p>Letâ€™s see an example. We have a CentOS VM with a 20 GB disk named <code>sdb</code>. Note that on your machine, the disk name could be different. Make sure to select the right disk. We will create a new GPT partition table and two partitions with 2 GB each.</p><p>Storage related commands are usually restricted to the root user only. So login as root and use the command below:</p><pre data-enlighter-language="generic">gdisk /dev/sdb</pre><p><img width="880" height="320" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42-300x109.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42-768x279.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42-300x109.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-42-768x279.png 768w"></p><p>The output above indicates that the <code>sdb</code> disk doesnâ€™t have any partition table yet. Press the question mark character â€œ?â€ to see all available commands.</p><p><img width="880" height="449" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43-300x153.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43-768x392.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43-300x153.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-43-768x392.png 768w"></p><p>We use the â€œnâ€ command to create a new partition, which also creates a new partition table. The command asks for parameters one by one:</p><ol><li>Partition number: because the disk doesnâ€™t have any partitions yet, type 1 and press enter.</li><li>First sector: the partition starts from this sector. Leave it empty and press enter. The default value, which is the first free sector, is selected automatically.</li><li>Last Sector: it is where we indicate the required size of the partition. Type +2G, then press enter. Note that we can actually put the sector number, but this requires a further calculation to determine the exact sector that yields a partition of 2GB in size.</li><li>Partition file system: many filesystems are available. Keep the default value of â€œLinux filesystemâ€ by leaving it empty and pressing enter.</li></ol><p><img width="880" height="180" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44-300x61.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44-768x157.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44-300x61.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-44-768x157.png 768w"></p><p>Repeat the same process to create another 2GB partition. Then type â€œwâ€ and then â€œyâ€ to write everything, confirm, and quit.</p><p><img width="880" height="192" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45-300x65.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45-768x168.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45-300x65.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-45-768x168.png 768w"></p><p>To see the change on the <code>sdb</code> device, use the command below:</p><pre data-enlighter-language="generic">lsblk /dev/sdb</pre><p><img width="880" height="130" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-300x44.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-768x113.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-870x130.png 870w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-300x44.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-768x113.png 768w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-46-870x130.png 870w"></p><p>We can see that we have the <code>sdb</code> disk with 20 GB total size and two partitions of 2 GB. The <code>sdb</code> drive still has 16 GB of free space on which we can create more partitions later.</p><h2><span id="Filesystems"></span>Filesystems<span></span></h2><h3><span id="What_is_a_Filesystem"></span>What is a Filesystem?<span></span></h3><p>A Filesystem is built on top of a partition. A partition without a file system can be seen as just a long array of sectors.<code> </code>The filesystem is a logical abstraction layer that enables the creation of a hierarchy of files and directories.</p><p>There are many types of filesystems. The most widely used in Linux are ext4 and xfs. xfs is the default file system on modern Red Hat and CentOS distributions, while Ubuntu uses ext4.</p><h3><span id="Creating_a_Filesystem"></span>Creating a Filesystem<span></span></h3><p>Letâ€™s continue with our example. We will create an xfs file system on the <code>sdb1</code> partition that we have already created. The command to make a filesystem is <code>mkfs</code>. It uses the -t argument to specify the filesystem type.</p><pre data-enlighter-language="generic">mkfs -t xfs /dev/sdb1</pre><p><img width="979" height="261" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47.png 979w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47-300x80.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47-768x205.png 768w" data-sizes="(max-width: 979px) 100vw, 979px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47.png 979w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47-300x80.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-47-768x205.png 768w"></p><h3><span id="Mounting_a_Filesystem"></span>Mounting a Filesystem<span></span></h3><p>After creating the filesystem, we are one more step away from utilizing the partition storage space. That step is mounting.</p><p>Mounting a filesystem is the operation of linking the filesystem created on top of a partition to the systemâ€™s file hierarchy. It includes choosing a directory on the file hierarchy to host the filesystem built on the partition. This directory is called a mount point.</p><p>Letâ€™s create a new mount point called â€œdataâ€ and mount the <code>sdb1</code> filesystem under <code>/data</code></p><p>To confirm the success of the mount operation, we can list all the mounted filesystems by using the command below:</p><pre data-enlighter-language="generic">mkdir /data
mount /dev/sdb1 /data
df -h</pre><p><img width="880" height="365" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48-300x124.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48-768x319.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48-300x124.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-48-768x319.png 768w"></p><p>The last line indicates that the filesystem has been mounted under <code>/data</code> directory. Now it can be used to store files. All files created under <code>/data</code> directory are stored in the <code>sdb1</code> partition.</p><p>Note that the xfs file system by default occupies some of the available space as metadata, which explains the used 33MB.</p><p>However, a manually created mount with the mount command does not survive a reboot. In most cases, the mount should last after a reboot. The mount parameters must be written in the file <code>/etc/fstab </code>to mount a partition persistently.</p><p><code>/etc/fstab</code> by default contains all the persistent mounts required by the system. The root user can further add user required mounts. Letâ€™s see the content of this file:</p><pre data-enlighter-language="generic">cat /etc/fstab</pre><p><img width="880" height="281" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49-300x96.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49-768x245.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49-300x96.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-49-768x245.png 768w"></p><p>Each line in this file that doesnâ€™t start with the hash character â€œ#â€ corresponds to a mount, which is automatically created during the boot process. Each line contains 6 fields:</p><ol><li><code>Block device</code>: device file such as <code>/dev/sdb1</code>. Note that other device identifiers such as UUID also exist.</li><li><code>Mount point</code>.</li><li><code>Filesystem type</code>: xfs, ext4, vfat â€¦ etc.</li><li><code>Mount options</code>: these options are handed over to the mount command at boot. The value â€œdefaultsâ€ is usually selected unless some different mount options are required.</li><li><code>Backup</code>: this field takes the value 1 to enable filesystem backup at boot or 0 to disable it. The backup is done by the <code>dump</code> utility. Most systems do not come with the dump program installed by default, so this field is usually set to 0.</li><li><code>Filesystem check</code>: this field takes the value 1 to enable filesystem check at boot or 0 to disable it. The filesystem check is done by the <code>fsck</code> command, which<code> </code>reports any inconsistencies or errors in the filesystem structure.</li></ol><p>Letâ€™s add a line to persistenly mount the <code>/dev/sdb1</code> partition under the <code>/data</code> directory. You can edit the <code>/etc/fstab</code> directly or just append the line to the end of the file with the command below:</p><pre data-enlighter-language="generic">echo "/dev/sdb1 /data xfs defaults 0 0" &gt;&gt; /etc/fstab</pre><p>Use the cat command again to make sure the line was added successfully.</p><pre data-enlighter-language="generic">cat /etc/fstab</pre><p><img width="880" height="305" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50-300x104.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50-768x266.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50-300x104.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-50-768x266.png 768w"></p><p>When a new line is added, the mount operation doesnâ€™t occur unless the system is rebooted. To ensure the mount configuration is correct without rebooting, use the <code>mount</code> command with â€“a argument. ( -v for verbosity)</p><pre data-enlighter-language="generic">mount -av</pre><p><img width="880" height="229" src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51.png" data-src="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51.png" data-srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51-300x78.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51-768x200.png 768w" data-sizes="(max-width: 880px) 100vw, 880px" srcset="https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51.png 880w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51-300x78.png 300w, https://y7c3f9y2.stackpathcdn.com/wp-content/uploads/2021/01/word-image-51-768x200.png 768w"></p><p>The output indicates a successful mount. (Ignore the SELinux message)</p><p>The command mounts every line in <code>/etc/fstab</code> that is not mounted yet. After editing <code>/etc/fstab</code>, it is always recommended to use <code>mount -a</code>. Because if a typo or error exists in the file, the command reports an error and exits. If there is an undetected typo or issue in this file, the system will not boot correctly on the next restart.</p><p>In some cases, putting the device file such as <code>/dev/sdb1</code> in the first field of <code>/etc/fstab</code> could be problematic. If â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thunderboltlaptop.com/how-to-configure-block-storage-on-linux/">https://thunderboltlaptop.com/how-to-configure-block-storage-on-linux/</a></em></p>]]>
            </description>
            <link>https://thunderboltlaptop.com/how-to-configure-block-storage-on-linux/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740799</guid>
            <pubDate>Tue, 12 Jan 2021 00:57:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to gather great feedback from your power users]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25740678">thread link</a>) | @bdickason
<br/>
January 11, 2021 | https://bdickason.com/posts/gather-great-feedback-from-power-users/ | <a href="https://web.archive.org/web/*/https://bdickason.com/posts/gather-great-feedback-from-power-users/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		        
<p>On almost every product Iâ€™ve worked on, weâ€™ve relied on a core group of active users to steer the development via great feedback and feature ideas. At Shapeways, <strong>most of our highly successful features came directly from our community.</strong> People who love your product are heavily invested in making it better. They will put in the time if you give them the space to do so and take their feedback seriously.</p>
<p>In this post Iâ€™ll share how teams have recruited, setup, and ran customer advisory councils (also called a customer advisory boards) that brought us a regular drip feed of high quality feedback. Iâ€™ll also share the mistakes we made along the way.</p>
<p><strong>Key Takeaways</strong></p>
<ol>
<li>To get the most relevant feedback, pick users who represent your target audience.</li>
<li>PM should start the council and run it for a few months then hand it off once itâ€™s generating high quality feedback.</li>
<li>I recommend group / synchronous (e.g. video calls) sessions so you can ask follow-up questions and other users can chime in with their thoughts.</li>
<li>You should actually listen to their feedback (and implement it). Otherwise they will stop participating.</li>
<li>Bonus points if you can give them early access to features so they feel special (and you get early signal).</li>
</ol>
<h2>Why start an advisory council</h2>
<p>As your userbase grows, it becomes very challenging to understand what people actually think about your product. Youâ€™ll quickly get to a point where you are relying on data and expensive user research studies just to keep a pulse on what job people are hiring your product for and where itâ€™s falling over. The beauty of an advisory council is that you donâ€™t just get to hear from some of your best users, theyâ€™ll gather feedback on your behalf from other community members. It is by far the most effective way to start to get real stories from real users that are passionate about improving your product to meet their needs. Iâ€™m not suggesting that itâ€™s the only signal you should care about, but it should be a tool in your toolbox alongside data and formal user studies.</p>
<p>Here are some examples of how advisory counciles drove impact:</p>
<ul>
<li><a href="https://www.etsy.com/seller-handbook/article/introducing-etsys-2016-seller-advisory/37704589529">Etsy launched their â€˜Seller Advisory Boardâ€™ in 2016</a> with 15 sellers picked from a pool of 600 applicants and asked them one simple question: â€œWhatâ€™s the most important thing to your buyers?â€ After some deliberation the group agreed: the speed of the website. (<a href="https://www.youtube.com/watch?v=DCBMxCIgNcw">Video Interview</a>)</li>
<li><a href="https://community.ebay.com/t5/Professional-eBay-Sellers/PESA-members-in-eBay-s-Voices-program/gpm-p/7829699">Ebay had a â€˜Voicesâ€™ program where they fly out power users for a multi-day summit</a> filled with one-hour feedback sessions. Voices members were steering eBay feedback as early as 2000. <a href="https://www.ecommercebytes.com/C/abblog/blog.pl?/pl/2009/8/1250740707.html">The voices program was closed in 2009</a>.</li>
</ul>
<h2>How to start an advisory council</h2>
<p><strong>Identifying your council</strong></p>
<p>The first step is to identify who from your audience should join your council. You should start by defining who your target / mvp audience is and then filtering within that group. If you want to serve pro surfers from Australia, filter your userbase to that group and then look at their activity. <strong>You want users who are active, vocal, and constructive and represent your target audience.</strong> I typically will look at forums or customer service conversations to hand pick the first group. If your product has an interactive format (e.g. a game or a social media app), you should be able to spot folks using your product publicly. You want to avoid users who are constantly negative (they will drown out the voices of those who want to help) and have needs that are drastically different than one you plan to fulfill (e.g. if you are building a consumer 3d printing company for dog tags, you should include cat owners but not enterprise auto manufacturers).</p>
<p><strong>Recruiting members</strong></p>
<p>Reach out to each member and send them a personal e-mail or note. You need to make it clear that youâ€™re handpicking them (so they feel special), that you value their input (so they feel wanted), and that you plan to involve them in the development process (so they feel like a part of the team). Itâ€™s important not to set expectations (e.g. we will ship your feature) because thereâ€™s a good chance you wonâ€™t use their feedback in the timeframe they expect. If you have a specific time commitment in mind or rewards you can offer (see '<a href="#council-love-you">How to get your council to love you</a>' below), make them known upfront. I strongly recommend avoiding any NDAâ€™s if possible. Yes, youâ€™re letting them behind the curtain of the developent process, but you should be able to keep any extreme trade secrets out of the way and you WANT them to tell their friends about how awesome it was to be a part of this. This is a great way to grow via word of mouth.</p>
<p><strong>Contacting members</strong></p>
<p>Donâ€™t use fancy tools like mailing lists or contact forms to communicate with your council. These make it feel very formal and like theyâ€™re just on another mailing list. You want them to feel like part of the team. Either stick to e-mail or use something simple like a Facebook group or Slack channel that facilitates group interaction. Make sure each email sounds personal and use an e-mail address that supports reply-to so they can send you open ended questions or feedback. Youâ€™d be surprised how many great ideas start as a random email reply to an event invite.</p>
<p><strong>Who should run the council?</strong></p>
<p>There are a ton of upfront decisions that need to be made to ensure that you get good feedback that is useful to the product team. Because of this, I strongly recommend that the PM sets up the council along with any early processes and facilitation. This will ensure that you personally get value from the group. Once the process is humming and youâ€™re regularly getting great feedback, you can hand it off to  I also suggest inviting at least your designer(s) and any eng that are product-minded. Itâ€™s more powerful to hear the ideas/feedback directly from the source than for you to proxy their comments.</p>
<h2>How to run the advisory council</h2>
<p>Ok, youâ€™ve chosen your council and theyâ€™ve agreed to help. Now what do you actually do together?</p>
<p><strong>Structure and cadence</strong></p>
<p>There are a few options for how you run your council. You can choose between:</p>
<ul>
<li>Group vs. 1:1 setting</li>
<li>Synchronous vs. asynchronous</li>
<li>Scheduled vs. ad hoc</li>
<li>Video vs text</li>
<li>Structured vs unstructured</li>
</ul>
<img src="https://bdickason.com/static/posts/gather-great-feedback-from-power-users/lebowski.jpg">
<p><strong>Iâ€™ve found that getting as close to â€˜a group of people sitting in the room shooting the shitâ€™ as possible is key.</strong></p>
<p>I recommend a lightly structured synchronous group discussion over video. This allows you to facilitate in realtime and keep the vibe lighthearted (so it doesnâ€™t feel like work) but still dig into meaty questions and hear multiple perspectives. To make this work, youâ€™ll need to schedule time in advance and have a rough set of questions you want to cover as a starting point. Youâ€™ll also need to make sure that your team knows the ground rules: Can anyone ask questions? Are certain topics off limits? How do we talk about whatâ€™s in development right now?</p>
<p><strong>Facilitating the discussion</strong></p>
<p>When the discussion begins, people will look to you to lead it. Treat this like leading a meeting and assume that you need to drive the majority of the conversation:</p>
<ol>
<li>Start the meeting with a loose agenda (e.g. â€œWe will share a few recent feature developments to get your thoughts, weâ€™ll then open the floor for Q&amp;A, weâ€™ll leave 10 mins for you to ask questionsâ€)</li>
<li>Make it clear when youâ€™re calling on specific people vs when you want anyone to speak</li>
<li>Develop a protocol like â€˜hand raisingâ€™ but online and try to enforce it. Many community members are going to be introverted and will get drowned out by the few talkative ones. Give everyone space.</li>
</ol>
<p>The most important part here is the Q&amp;A. You should come armed with a set of questions way too long for you to ever get through. They should typically have open ended answers (like most user research questions) and be very explicit. Try not to hand wave like â€œIf we built a feature that kinda let you sorta do X, would you use it?â€ Instead focus on specific questions related to their workflow, their problems, and how they use your product.</p>
<p>One of the best questions Iâ€™ve asked is â€œWhat step of your workflow takes the longest and why?â€ <strong>(because it led to specific bottlenecks in our app that we could optimize)</strong> and one of the worst questions Iâ€™ve asked is â€œWhat is the one feature you want more than anything?â€ <strong>(because you will get a bunch of random not-thoughtful responses).</strong></p>
<p><a href="https://firstround.com/review/the-power-of-interviewing-customers-the-right-way-from-twitters-ex-vp-product/">Michael Sippy, VP Product at Twitter, keeps his sessions laser focused on problems</a>: <em>â€œThe point is that weâ€™re supposed to be solving a problem for people, and understanding that problem on a really fundamental level,â€ says Sippey. â€œOnly then can you create a product that actually resonates with the market, and a business that can scale beyond any one feature.â€</em></p>
<p>Donâ€™t be afraid to let the discussion wander, let multiple community members answer the same question, or let them discuss amongst themselves. One member will often be inspired by another and share really helpful insights, so make sure you encourage the group to interact.</p>
<p>If you're struggling with this test, I suggest reading the book '<a href="https://www.amazon.com/Mom-Test-customers-business-everyone/dp/1492180742">The Mom Test</a>' which gives a step by step guide to asking questions which will get at the pain point/problems customers are facing.</p>
<p><strong>Handling ideas during downtime</strong></p>
<p>When your council isnâ€™t meeting, your community members will still have ideas and feedback. Iâ€™ve found that creating an asynchronous forum (e.g. Slack, Facebook group, etc.) can be useful for sporadic ideas so they donâ€™t get lost. Try not to create a contract like â€œwe will respond to your slack in 24h!â€ but your team does need to respond. If your users feel like theyâ€™re throwing their ideas into the ether, they wonâ€™t continue to do so. I typically will respond to the async forum once per day and then refer back to it when I am writing questions for the next get-together.</p>
<p>Asynchronous groups are great for getting quick answers to specific quetions. <a href="https://firstround.com/review/start-up-on-the-right-foot-build-a-customer-advisory-board/">TalentBin used their council for small data-driven asks</a>: <em>â€œWe wanted to ask, 'What are the average contract values you guys sell?' and get a quick response, so we chose 10 of the people who have come to all our dinners and who we felt â€¦</em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bdickason.com/posts/gather-great-feedback-from-power-users/">https://bdickason.com/posts/gather-great-feedback-from-power-users/</a></em></p>]]>
            </description>
            <link>https://bdickason.com/posts/gather-great-feedback-from-power-users/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740678</guid>
            <pubDate>Tue, 12 Jan 2021 00:46:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Re-Introducing Hash Indexes in PostgreSQL]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25740570">thread link</a>) | @martincmartin
<br/>
January 11, 2021 | https://hakibenita.com/postgresql-hash-index | <a href="https://web.archive.org/web/*/https://hakibenita.com/postgresql-hash-index">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>If you work with databases you are probably familiar with B-Tree indexes. They are used to enforce unique and primary-key constraints, and are the default index type in most database engines. If you work with text, geography or other complex types in PostgreSQL, you may have dipped your toes into GIN or GIST indexes. If you manage a read intensive database (or just follow this blog), you may also be familiar with BRIN indexes.</p>
<p>There is another type of index you are probably not using, and may have never even heard of. It is wildly unpopular, and until a few PostgreSQL versions ago it was highly discouraged and borderline unusable, but under some circumstances it can out-perform even a B-Tree index.</p>
<p><strong>In this article we re-introduce the Hash index in PostgreSQL!</strong></p>
<p><em>This article was co-authored by Michael from <a href="https://www.pgmustard.com/" rel="noopener">pgMustard</a></em></p>
<figure><img alt="<small>Photo by <a href=&quot;https://unsplash.com/photos/lRoX0shwjUQ&quot;>Jan Antonin Kolar</a></small>" src="https://hakibenita.com/images/00-postgresql-hash-index.png"><figcaption><small>Photo by <a href="https://unsplash.com/photos/lRoX0shwjUQ">Jan Antonin Kolar</a></small></figcaption>
</figure>
<details open="">
    <summary>Table of Contents</summary>

</details>
<hr>
<h2 id="hash-index"><a href="#hash-index">Hash Index</a></h2>
<p>Just like the name suggests, Hash indexes in PostgreSQL use a form of the hash table data structure. Hash table is a common data structure in many programming languages. For example, a <a href="https://docs.python.org/3/library/stdtypes.html#typesmapping" rel="noopener">Dict</a> in Python, a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html" rel="noopener">HashMap</a> in Java or the new <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="noopener">Map</a> type in JavaScript.</p>
<p>To understand how you can benefit from Hash indexes, it's best to understand how they work.</p>
<h3 id="hash-function"><a href="#hash-function">Hash Function</a></h3>
<p>Hash indexes use a <em>hash function</em>. PostgreSQL's hash function maps any database value to a 32-bit integer, the <em>hash code</em> (about 4 billion possible hash codes). A good hash function can be computed quickly and "jumbles" the input uniformly across its entire range.</p>
<p>The hash codes are divided to a limited number of <em>buckets</em>. The buckets map the hash codes to the actual table rows.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 328.2462667685287" width="20em" height="328.2462667685287"><g transform="translate(11.666666666666572 132.59615384615387) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.19221067428588867 -1.79854154586792 C9.969303963734554 -1.6432035889992347, 22.75762772193322 -1.9653624024757972, 52.3237825173598 0.8443570137023926 M-0.6429002285003662 0.5630700588226318 C20.33801717024583 1.0528750944137573, 40.39535058461703 0.7731586027145385, 50.664933516429016 0.5442330837249756 M52.2408967751723 -0.13330411911010742 C52.423765991834486 17.79776027202606, 51.24861035218605 38.03790669441223, 51.85605485622699 48.62396493324866 M50.888993575022766 0.14732146263122559 C50.99830201937602 19.028628809635453, 51.12237886263774 36.86086389101468, 51.06591160480792 49.61907568344702 M53.07395036403949 49.65802255043616 C33.88981666931739 50.1807713996447, 16.31066344334529 48.861542273668135, 0.21956968307495117 48.30971017250647 M51.35833103840167 48.99755468735327 C34.6531761096074 50.69362970829009, 19.977562196438125 50.10776087284087, -0.49410414695739746 48.560260681005616 M0.8632464408874512 51.23048653969397 C0.8073489297353305 31.131840854424695, 0.988638602586893 17.248527200405412, 1.5477404594421387 -1.02028226852417 M-0.19582533836364746 48.776630309911866 C0.9785774012712332 29.629223884068995, -0.1458809117170481 9.229620192601125, -0.2645127773284912 -0.29627442359924316" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 135.13461538461547) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-1.79854154586792 -1.3989605903625488 C12.821326706959649 -0.026658346102787833, 26.547151991037218 1.0452563267487747, 50.53666470601007 1.9574084281921387 M0.5630700588226318 -0.04519057273864746 C10.698960531674896 -0.05159294165097761, 20.51234123890216 -0.24636375463925886, 50.236540776032655 0.6751844882965088 M49.55900357319757 1.2768664360046387 C49.711678131727055 12.57739543731395, 51.77379666200049 25.57665490737326, 48.854734164017884 45.565139000232364 M49.839629154938905 -0.6456773281097412 C50.38517004288158 16.383737664956296, 49.698471129307364 33.645818673647334, 49.84984491421625 44.55616182547345 M49.888791781205384 44.560378258044864 C38.96100327785197 45.263592394682036, 26.045421805748564 44.7544523800336, -1.1518282890319824 44.17358321409955 M49.2283239181225 43.1161593840672 C31.08563929337721 44.120763305150504, 10.91731990300692 43.64620733591222, -0.9012777805328369 44.49717897635236 M1.7689480781555176 44.96960372191205 C-1.3148316979408265 31.167395432178765, 1.718966519832611 17.657667611195475, -1.02028226852417 1.9546160697937012 M-0.6849081516265869 44.87553590994611 C-0.4762380246015693 32.13172847491042, -1.203464281925788 20.57371205549972, -0.29627442359924316 0.5372984409332275" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(200.05128205128187 138.98076923076928) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.3989605903625488 -1.2266573905944824 C18.969163957008966 -1.1019478045977076, 38.98914397313048 1.29122541317573, 51.649716120499875 -1.93776273727417 M-0.04519057273864746 0.6058633327484131 C10.200747555952816 0.046344334895793926, 20.57778920026928 0.2644305775715752, 50.367492180604245 -0.16956543922424316 M50.969174128312375 -0.3802676200866699 C49.98555421150652 16.49719568582681, 50.50912904060808 28.79311602299029, 51.18052361561706 39.59391098756055 M49.046630364197995 0.5096948146820068 C49.041095362626635 12.775863047746506, 49.397838221513354 26.063271515186006, 50.17154644085815 37.256708200161256 M50.17576287342956 38.78812485474805 C36.92768673163197 37.51771446778222, 22.92521605858438 36.82006737305566, 0.09666013717651367 39.80455857056836 M48.7315439994519 38.898859079067506 C32.27894599621115 38.08242599890781, 14.410576508595405 36.79123489783359, 0.4202558994293213 38.09559827584485 M0.8926806449890137 36.51049118775586 C0.9102855119338403 29.00842637098751, 1.3840556535354027 15.831068585469161, 1.9546160697937012 -0.7276949882507324 M0.7986128330230713 37.7631397797511 C-0.2515824862626883 22.937588447790866, -0.19024978362596956 9.430152350205635, 0.5372984409332275 -0.06695771217346191" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 284.2692307692306) rotate(0 122 15.5)"><path d="M-1.4425529179052352 -1.062887403612709 C84.43206217809087 1.87951077746899, 168.00396656412605 1.340752656552242, 244.53920865744266 -0.935478985112953 M0.749495891116619 0.4175032903210639 C86.42419033096954 0.8697627262504117, 172.8014032617404 0.38405045267558263, 244.69513824538603 0.2584414289715767 M244.8311266899109 -0.6835513114929199 C244.5253163933754 6.7104063749313365, 245.25006309747695 14.960321092605593, 243.64599180221558 30.670284748077393 M243.71537613868713 0.9215905666351318 C244.24680605649948 10.030092978477478, 244.5810879778862 19.941085624694825, 243.7729094028473 31.109784841537476 M244.8271357903101 31.21089405867977 C184.08521485743654 31.30906240437859, 127.31784122710208 32.865145402602465, 0.644631839486122 30.183112634601404 M243.81666848886442 31.356794774506856 C193.52231486539944 31.716934098833367, 140.99850942660245 31.791864275063222, 0.6700753280947684 31.63970806257143 M1.4352221488952637 30.608349323272705 C-1.6727817940711975 24.878663182258606, -0.622839777469635 14.911184072494507, -1.7743268013000488 -0.5290255546569824 M-0.11572432518005371 30.87109923362732 C-0.3354560923576355 21.956659626960754, 0.5159156727790832 14.141585254669188, 0.9930784702301025 0.8908364772796631" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 283.2692307692306) rotate(0 -0.24344904067797302 16.591623114454535)"><path d="M-1.0470545768737793 -0.7714802742004394 C-1.2968480745951336 4.829924551645915, -0.45333102544148773 26.97473758061727, -0.32431592941284193 32.445771312713624 M0.6041030409280213 1.4378886365052312 C0.1526466680907957 7.340648744121815, -0.7074486827508856 28.671301598663753, -0.917627255981788 33.95472650310956" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 285.0192307692306) rotate(0 -0.5031951796170233 16.605925130802234)"><path d="M-0.7714802742004394 0.6756840705871581 C-0.7534087816874185 6.388032499949136, -0.9419290860493977 27.857753976186117, -1.0542286872863769 33.227035999298096 M1.0243538525048645 -0.015185737693682366 C0.9813915897750609 5.446763365284228, -1.4525607251779484 26.357901601906242, -2.030744211738929 31.48615515015088" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 282.5192307692306) rotate(0 -0.07653179319780179 16.115036894148204)"><path d="M0.6756840705871581 -0.054228687286376864 C0.8046991666158039 5.416805044809978, -0.058912690480550145 26.74218448003133, -0.2729640007019043 32.05472211837768 M-0.4287205216940493 -1.1283026934508236 C-0.3024937890625249 4.575641496197011, -0.7159607219354559 27.706658120270202, -0.8393155646976083 33.35837648174726" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 283.0192307692306) rotate(0 -1.3406614601938145 16.47725108142481)"><path d="M-0.054228687286376864 0.7270359992980957 C-0.16652828852335605 6.096318022410075, -1.1744821866353352 27.487035592397056, -1.4452778816223144 32.891376209259036 M-1.5418374774511905 0.06312595359049733 C-1.7836156581497442 5.00189878703716, -2.4172042035715036 25.792556066627927, -2.627094233101234 30.97427397034131" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 284.5192307692306) rotate(0 -0.3120803726045409 15.638646589582777)"><path d="M0.7270359992980957 -0.4452778816223144 C0.5129846890767416 4.867259756724039, -0.42963107426961267 26.195080598195393, -0.6086237907409668 31.820997142791747 M-0.3504088304098696 -1.724652714813128 C-0.7473583673095952 3.7375849318659546, -1.2813062572137763 27.482324700470393, -1.3511967445071786 33.0019458939787" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 284.0192307692306) rotate(0 -0.07044146727900369 16.35216223712547)"><path d="M-0.4452778816223144 0.39137620925903316 C-0.7160735766092936 5.795716826121013, -1.721586068471273 27.835555489857995, -1.679002857208252 33.15307970046997 M1.521812501186505 -0.44875522621907304 C1.6483277775192011 4.5434819626963385, 1.018462376628692 25.714048910255855, 0.6764751791302115 31.37337179443799" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M0.39137620925903316 -0.6790028572082519 C14.635743380143058 12.08244312693308, 72.03568825996823 63.27669813283435, 86.19323902460225 76.12339802322568 M-0.8622900102194399 1.5789166974183173 C13.217584695704966 14.044586615673627, 71.36698602319106 62.25102666198922, 85.58806040372178 74.42618950207375" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M56.27913662900037 65.21696416960359 C68.88329802068695 67.41067472443576, 79.50662756242923 72.47313996643902, 85.45475628461168 75.70305593807839 M57.72345087040967 63.70971123800874 C66.07758382065266 67.62047886489466, 73.66647007325521 69.33679969492935, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M69.49058989751853 49.51417763601024 C77.27261426851784 57.413187146680364, 83.13207431893325 68.1378626070296, 85.45475628461168 75.70305593807839 M70.93490413892783 48.00692470441539 C75.58478121784738 56.44106370170914, 79.46142588450977 62.5696574286289, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M-0.6790028572082519 0.6530797004699707 C19.32693439323235 16.16292202302737, 99.4991544643307 77.84927922829603, 119.5903456210213 93.45043014460343 M1.1653819134179502 -0.049657402122393224 C21.12315406095948 15.61250287920719, 99.31628733631055 79.50014256751714, 119.0676663850209 94.88102916911345" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M91.73378960634192 86.63085537705872 C97.80955392309608 89.77859696588061, 106.63086184163672 90.35584681871104, 120.34453282102554 94.50076154902678 M90.22653667474707 86.02459436212037 C100.23271971970914 88.5361761061078, 107.72677287232753 91.19692099690045, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M104.55446461611936 70.60742582282448 C107.31201659003598 77.89507908920568, 112.76285225642022 82.68478457762023, 120.34453282102554 94.50076154902678 M103.04721168452451 70.00116480788613 C109.27673727120045 77.44134612612115, 112.85938786763218 84.9906076722, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M0.6530797004699707 0.8102213859558105 C-30.878989499882103 18.089499078271373, -157.36027838625134 86.16025669811958, -188.80103899285342 102.99666329668514 M-0.46319218612276014 0.18998366824351232 C-32.20533246471571 17.21824359545431, -158.5266107042053 84.2929367439981, -189.85591068319192 101.44529896803812" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-168.54181239031473 78.71309970256111 C-174.8457524523537 87.61927071278855, -183.43265250467223 95.33427297208146, -190.2361783032786 101.54700976439432 M-169.1480734052531 79.88764761325142 C-177.0745273140418 87.22786010779531, -185.010688807317 95.52496907397051, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-158.8184508978827 96.78452033496656 C-168.2542692191381 99.73278923031133, -180.07530208269986 101.43697162462958, -190.2361783032786 101.54700976439432 M-159.42471191282107 97.95906824565687 C-171.1423354859107 98.3174626375699, -182.8131676457216 99.6734736520745, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M0.8102213859558105 -0.20347852706909175 C-7.249311660667366 14.916934397467859, -40.53379699657413 76.08571072940472, -49.03620113694731 91.37555724769167 M-0.22355111575685438 -1.3559086991194635 C-8.286490964497855 13.35475919590842, -40.948312607870655 74.41263783510533, -49.41303618044283 89.57117267539994" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-45.26910895639891 61.72139377232179 C-44.84966387542568 67.02548904590631, -45.67417497618659 73.99902243783148, -49.31132538408663 91.2530235855867 M-44.0945610457086 60.32359070416078 C-46.88105608033692 69.91504812756526, -48.67003477292695 80.10376199307848, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-27.250843037716315 71.54290565540174 C-31.270791812610604 74.57794011983158, -36.48124485224933 79.1607561660591, -49.31132538408663 91.2530235855867 M-26.076295127026007 70.14510258724073 C-34.79046687918523 76.61711928693661, -42.54825348111142 83.55231707748823, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(35.78205128205116 146.8269230769231) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589726 146.67307692307702) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(218.89743589743574 147.44230769230774) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(106.84615384615387 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C39.68177935369313 7.783664248138667, 48.36355870738626 15.567328496277334, 60 26 M31 0 C38.24992911927402 6.499936451762915, 45.49985823854804 12.99987290352583, 60 26 M60 26 C50.50674240104854 34.36011014019067, 41.01348480209708 42.72022028038134, 31 51.53846153846152 M60 26 C49.55936349518597 35.1944066832845, 39.11872699037194 44.388813366568996, 31 51.53846153846152 M31 51.53846153846152 C21.15606831945479 43.42882055101485, 11.312136638909578 35.319179563568184, 0 26 M31 51.53846153846152 C24.131178402528167 45.87977972615222, 17.262356805056335 40.221097913842925, 0 26 M0 26 C7.858693736419082 19.40883751139045, 15.717387472838164 12.817675022780895, 31 0 M0 26 C7.245209634676576 19.923372564464806, 14.490419269353152 13.846745128929614, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(126.84615384615387 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M0 0 C-25.991002644063574 15.469538237070433, -51.98200528812715 30.939076474140865, -104.76662093522819 62.35585716799375 M0 0 C-29.585556689429794 17.608974410869195, -59.17111337885959 35.21794882173839, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-85.78976298951312 39.12056370076698 C-90.49763235324909 44.884886044575794, -95.20550171698504 50.64920838838461, -104.76662093522819 62.35585716799375 M-85.78976298951312 39.12056370076698 C-91.14873039276 45.68209146537034, -96.50769779600687 52.243619229973696, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-75.29414560989099 56.75467888147318 C-82.60581775575058 58.14424588626216, -89.91748990161017 59.53381289105114, -104.76662093522819 62.35585716799375 M-75.29414560989099 56.75467888147318 C-83.61702155770524 58.33642291639734, -91.93989750551951 59.918166951321496, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M0 0 C-0.5008379759127923 22.914868301846877, -1.0016759518255847 45.82973660369375, -1.3715854781159464 62.75422812831039 M0 0 C-0.38426774981563094 17.581424139461546, -0.7685354996312619 35.16284827892309, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M-11.013736285378604 34.345973556619356 C-7.49288004214336 44.71932100445397, -3.9720237989081166 55.09266845228858, -1.3715854781159464 62.75422812831039 M-11.013736285378604 34.345973556619356 C-8.312360648783699 42.30492050861567, -5.610985012188795 50.26386746061199, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M9.502572527769305 34.794387505319676 C5.531845677478852 45.00399544291492, 1.5611188271884 55.213603380510165, -1.3715854781159464 62.75422812831039 M9.502572527769305 34.794387505319676 C6.456033836064143 42.62770537928748, 3.4094951443589814 50.46102325325527, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M0 0 C23.15651321601319 16.39491245065737, 46.31302643202638 32.78982490131474, 91.04229000277944 64.45833878266023 M0 0 C20.505074218864813 14.51768206536577, 41.010148437729626 29.03536413073154, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M62.10538237018054 56.54282384916159 C69.46545518913504 58.556126965367426, 76.82552800808953 60.56943008157326, 91.04229000277944 64.45833878266023 M62.10538237018054 56.54282384916159 C68.622721055892 58.32560217324557, 75.14005974160347 60.10838049732954, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M73.96332763332161 39.794416864549895 C78.30734421959232 46.06766014344812, 82.65136080586304 52.34090342234635, 91.04229000277944 64.45833878266023 M73.96332763332161 39.794416864549895 C77.80995089989631 45.34936884833347, 81.656574166471 50.904320832117044, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index</figcaption>
</figure>

<p>A simple hash function for an integer type is modulo: divide a number by another number, and the remainder is the hash code. For example, to divide values across 3 buckets you can use the hash function <code>mod(3)</code>:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>n</span><span>,</span> <span>mod</span><span>(</span><span>n</span><span>,</span> <span>3</span><span>)</span> <span>AS</span> <span>bucket</span> <span>FROM</span> <span>generate_series</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>)</span> <span>AS</span> <span>n</span><span>;</span>
<span> n  â”‚ bucket</span>
<span>â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>  1 â”‚      1</span>
<span>  2 â”‚      2</span>
<span>  3 â”‚      0</span>
<span>  4 â”‚      1</span>
<span>  5 â”‚      2</span>
<span>  6 â”‚      0</span>
<span>  7 â”‚      1</span>
<span>  8 â”‚      2</span>
<span>  9 â”‚      0</span>
<span> 10 â”‚      1</span>
</pre></div>


<p>When a new value is added to the index, PostgreSQL applies the hash function to the value and puts the hash code and a pointer to the tuple in the appropriate bucket. In the example above using the hash function <code>mod(3)</code>, if you insert the value <code>5</code> the index entry will be added to bucket <code>2</code>, because <code>5 % 3 = 2</code>.</p>
<p>When you query a value using a Hash index, PostgreSQL does the opposite. It takes the value and applies the hash function to determine which bucket may hold matching tuples. Once the bucket is identified, PostgreSQL will fetch the tuples referenced in that bucket and match them against your query.</p>
<h3 id="hash-collision"><a href="#hash-collision">Hash Collision</a></h3>
<p>You may have noticed that multiple values can map to the same bucket; this is called a <em>collision</em>. For example, the hash function <code>mod(3)</code> returned the hash code <code>2</code> for the values <code>2</code>, <code>5</code> and <code>8</code>.</p>
<p>What PostgreSQL actually does, is to first use a hash function to produce an integer hash code:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span>
    <span>hashtext</span><span>(</span><span>'text'</span><span>),</span>
    <span>hashchar</span><span>(</span><span>'c'</span><span>),</span>
    <span>hash_array</span><span>(</span><span>array</span><span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>]),</span>
    <span>jsonb_hash</span><span>(</span><span>'{"me": "haki"}'</span><span>::</span><span>jsonb</span><span>),</span>
    <span>timestamp_hash</span><span>(</span><span>now</span><span>()</span><span>::</span><span>timestamp</span><span>);</span>

<span>â”€[ RECORD 1 ]â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>hashtext       â”‚ -451854347</span>
<span>hashchar       â”‚ 203891234</span>
<span>hash_array     â”‚ -325393530</span>
<span>jsonb_hash     â”‚ -1784498999</span>
<span>timestamp_hash â”‚ 1082344883</span>
</pre></div>


<p>It then uses <code>mod(n_buckets)</code> to determine which bucket the tuple should be put in. This can cause multiple values to end up in the same bucket. This is why even after the bucket is identified, the database still needs to sift through the hash codes in the bucket and recheck the condition to filter only the matching tuples.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 404.84182842513394" width="20em" height="404.84182842513394"><g transform="translate(15.512820512820554 205.0482045158265) rotate(0 25.615384615384613 24.730769230769226)"><path d="M-0.19955050200223923 -0.5022821500897408 C12.515398778651768 1.3839953097529136, 27.426766821512807 -1.110534175949601, 52.87060018514211 0.2799985334277153 M-0.22747409716248512 -0.4021441303193569 C14.981192744465973 -0.13306419310088335, 30.730505185459666 -0.04445461687560259, 51.473113606468985 0.20535940304398537 M52.097404918418476 1.3712785169482231 C52.5340261001627 20.319714284659575, 50.905008985523416 37.343093594851396, 52.55776568387563 48.9073263607346 M51.521042416588614 -0.22304731234908104 C50.4750079852142 14.56966808911126, 50.79115876970669 27.401877051362618, 51.53992934037859 48.92918941521873 M52.43172617887075 48.85438027003636 C30.712035871411743 50.321871338985275, 10.87089323240977 51.26784783472807, -0.3571072742342949 47.53630389788975 M51.303831050888846 50.22865745568504 C38.01795174353397 49.79344410992012, 25.740247332419337 48.88824112511024, -0.9162337817251682 49.94066080594291 M0.5526808574795723 47.91920985797276 C-1.5679373418683042 34.313584183700954, 0.46043995267210097 20.68671064565961, 0.6570998504757881 -1.1331176832318306 M0.9474298916757107 48.849839539768595 C0.9555796319217635 35.72578146867453, 0.6599521571369125 22.443218911496487, 0.9200445376336575 -0.5301238857209682" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 210.6635891312111) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-0.5022821500897408 -1.6616669818758965 C12.121727174119306 -0.8777840748142738, 20.07580699393382 1.6894115791011315, 49.972306225735394 -0.19079291075468063 M-0.4021441303193569 0.10068535432219505 C10.70609081238508 1.0825275334543907, 21.318052714318032 0.35538150398203955, 49.897667095351665 0.9037443362176418 M51.0635862092559 0.9852916076779366 C50.3439581250084 15.412852115384648, 48.05881737221604 33.44015169779839, 49.13809559150383 43.70460517417922 M49.4692603799586 -0.7168144024908543 C49.93026358338788 12.475344237026103, 48.84478182050183 26.061175819658295, 49.159958645987956 45.056108177567864 M49.085149500805585 43.94386107933059 C34.53647095119723 44.78678141304503, 19.36229649094434 44.01820741364012, -1.9252345636487007 43.07930119049087 M50.459426686454265 43.67788952674999 C35.54814443886279 44.250275157157006, 20.247278603624828 43.19699539965731, 0.479122344404459 43.79160982456341 M-1.542328603565693 42.332900357360984 C-1.411919892691076 32.707359693342646, -1.611535132788122 21.426187010281343, -1.1331176832318306 -0.7236872836947441 M-0.6116989217698574 44.75827032413616 C-1.0565939008072016 33.683347519401146, -1.2904292403534052 23.43837695465636, -0.5301238857209682 0.38991236314177513" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(190.82051282051282 126.04820451582646) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.6616669818758965 1.6731178686022758 C16.78472960539737 -0.6966138213471723, 37.06401956425267 0.4047963291807818, 49.501514781553055 -1.7645950391888618 M0.10068535432219505 0.18273848667740822 C18.94037387107429 0.47118276150753885, 36.18411130750412 0.40519410164883524, 50.59605202852538 0.6428535617887974 M50.67759929998567 1.011194221675396 C49.21290964458142 7.0095195132665875, 51.18363160464917 16.012719987963248, 49.31998978956392 37.76559357631663 M48.97549328981688 0.651977363973856 C49.401724597854724 7.381244399885715, 50.11154832546245 15.09714855127609, 50.67149279295256 38.167070149515666 M49.55924569471529 38.88739113796214 C36.204669857311735 39.6825121753548, 21.53699129774022 35.84698690107807, -0.9976218864321709 37.71699695575694 M49.29327414213469 38.1745765200601 C34.14174680778616 37.650572666187685, 17.40086018999037 38.783398398418825, -0.2853132523596287 37.56707227144102 M-1.7440227195620537 36.2023809431837 C0.179557781617802 27.28250250383637, 0.5523030571152385 19.349432841344512, -0.7236872836947441 -1.108871228992939 M0.6813472472131252 37.23604714784483 C0.026425205815870156 22.445618331575613, 0.5607499710212535 8.279766083909912, 0.38991236314177513 -0.5403187833726406" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 359.79820451582634) rotate(0 122 15.5)"><path d="M1.3830574546884684 -0.766591932933393 C70.08647644775337 3.0313232719419307, 141.76242428282572 1.5180658793169806, 242.54132433269913 1.0191277193675368 M0.151057992386882 0.8014145071813656 C67.87393778094331 -0.0027509487309640146, 135.4690212875341 0.5439852753517442, 244.53140512547856 -0.6743016239396497 M245.0111942216754 -0.6437255069613457 C242.93860163901002 11.97028176896274, 243.65833606932313 20.914252728968858, 243.84251665323973 29.121368534862995 M244.65197736397386 -0.4006636179983616 C243.4973509342596 10.509006985649467, 243.39850628685207 21.37887885272503, 244.24399322643876 30.797033425420523 M244.79713568815882 31.340132714068066 C157.7274380126833 30.57061041290852, 66.70518457784806 30.041138744557248, -0.1703528725695461 31.25947859544004 M244.20789831905228 31.11328697277518 C168.47691761982585 29.43776302487535, 94.43064238150487 29.959303890483323, -0.29428583400409963 30.42090998810497 M-1.7206959798932076 31.28435457497835 C-1.6812502864375711 21.500444521382448, -0.8940567496791482 9.96300205811858, -1.108871228992939 1.676905281841755 M-0.6870297752320766 31.385719772428274 C-0.7312384490296244 19.683011873438954, -0.34049721997231247 6.9158470347523675, -0.5403187833726406 0.2720078192651272" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 358.79820451582634) rotate(0 -0.8478831860562792 16.463739876449097)"><path d="M1.0038707211613656 -0.5564188197255134 C0.8052911077936491 5.190397640566031, -1.1868683700760205 27.99357472707828, -1.4928469702601432 33.48389857262373 M0.07176412043161684 1.7658573545794933 C-0.30159107876631125 7.280370204724991, -2.4360931333185487 26.56502824701679, -2.699637093273923 31.87787057447247" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 360.54820451582634) rotate(0 0.40188434262697115 16.24821416716088)"><path d="M-0.5564188197255134 -0.49284697026014324 C-0.3929356927673022 4.784507762889067, 0.07690806041161197 27.34565079559882, -0.016101427376270516 32.66799912005663 M1.3523225705791266 -1.797195574985817 C1.5311130503782384 4.221388141267623, 0.10116592317509154 28.626944251510622, -0.4476001403760166 34.29362390930764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 358.04820451582634) rotate(0 -0.12128858226351724 17.158845557896427)"><path d="M-0.49284697026014324 0.9838985726237295 C-0.7988255704442659 6.47422241816918, -0.5710158710678419 27.009554350872833, -0.8320008799433709 32.38552425354719 M1.449269641013816 0.45484137791208923 C0.9121309869208684 6.1882029905697955, -1.496918072331076 28.72439717330349, -1.6918468055408449 33.86284973788075" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 358.54820451582634) rotate(0 -0.5693612021720043 15.816707751555384)"><path d="M0.9838985726237295 0.1679991200566291 C0.8908890848358471 5.490347444514434, -0.9071123157938321 26.098070982595285, -1.1144757464528083 31.441242976486684 M0.04130659391172231 -0.7894052872527391 C-0.171054163776959 4.687793655746305, -2.0094651505382113 26.724385036680225, -2.1226209769677373 32.422820790363474" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 360.04820451582634) rotate(0 -0.945378951728344 16.009769264995157)"><path d="M0.1679991200566291 -0.11447574645280834 C-0.09298588881889985 5.2614941562215485, -1.8185956840713817 27.88440085699161, -2.058757023513317 33.239717988669874 M-1.202940071253106 -1.2201794586796315 C-1.061463498600448 3.7287923910996565, 0.2605227128385257 25.788538095134623, 0.0973500755149872 31.50549518394284" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 359.54820451582634) rotate(0 -0.9077400482707816 16.28119531495031)"><path d="M-0.11447574645280834 -1.058757023513317 C-0.32183917711178456 4.284414970378082, -0.03226580967505785 26.613767841955024, -0.26028201133012785 32.227031083405016 M-1.6337142426799984 0.999791593803093 C-2.0204647632470976 6.508746632688369, -0.6753242287070802 28.12082274720383, -0.8199755309056491 33.621147653413935" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M-1.058757023513317 0.7397179886698722 C14.811713314660995 15.78092279276526, 79.2502595633696 75.11693737314522, 95.3908211491025 90.13275307811952 M0.5862568098027259 0.0824659873824567 C16.26012115595786 15.295830033809825, 78.55011881144337 76.05270114217393, 94.29946700426294 91.4168275272396" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M68.18713547028958 78.62330896589998 C74.72460251364633 83.39520403521757, 84.48075692485948 89.00712432738975, 94.84216313006831 91.90151627863912 M66.13855326287805 79.51157500404958 C76.51653828872233 83.35006865960578, 85.10161388463223 86.49051535688916, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M82.51577591223497 63.93283363419998 C84.5400367147757 73.19111564122828, 89.79699907791733 83.41584411032204, 94.84216313006831 91.90151627863912 M80.46719370482344 64.82109967234958 C86.38509883209882 73.46053082730776, 90.37733019066611 81.30980284855619, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M0.7397179886698722 -0.2729689165949821 C20.475055826192385 15.53261243680043, 98.58760254028084 77.92635341778015, 118.29755127868226 93.77473109685916 M-0.3310687966179102 -1.4618815431464465 C19.21403924622353 14.651280760211105, 97.31617065213452 79.61768070648041, 117.09615501295386 95.37558812130342" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M88.31627940736169 84.68704535430743 C97.11265823398568 88.55319083636373, 107.07753679168015 91.60139405632607, 117.58084376435338 95.7863069273914 M89.20454544551129 86.17697287342025 C100.38474218322703 90.08654276478784, 110.6275611214584 92.80253264308425, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M101.29652990115403 68.79260923646282 C106.18242435272083 77.35547264051694, 112.37705475097935 85.02037940924626, 117.58084376435338 95.7863069273914 M102.18479593930363 70.28253675557565 C108.40001269094637 80.29100578855251, 113.57567369439494 89.21177716408982, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-0.4825729563832283 0.12082242518663411 C-8.449873775255824 13.980706899933212, -39.31822317844701 69.2375145533293, -47.0640869245657 82.88633793188448 M1.4649375121761112 -0.8613497469294816 C-6.705922378416131 12.718583748763123, -39.72743348108118 67.31699609956553, -47.89700714158614 81.3745421383642" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-42.10851234209221 52.26487628944504 C-42.458495798913916 63.07911111068027, -45.933333101357825 73.60661775133254, -46.08951846915085 82.6602492619418 M-41.81723724689763 52.40499642692792 C-43.72440971030766 57.73893332611301, -43.95943368970588 64.53700030066432, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-24.469394470231443 62.75208388195706 C-31.17458867399639 69.70275707268551, -41.02849240417217 76.43763675999281, -46.08951846915085 82.6602492619418 M-24.178119375036864 62.892204019439944 C-29.98361397149682 66.05638069461182, -34.071517142127675 70.56374672817189, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(39.62820512820508 216.20205066967264) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589723 222.2020506696726) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(208.89743589743574 222.20205066967264) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(191.76923076923043 208.93281990044176) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8833133674831936 6.360576506008498 C2.4877938214388613 4.244359478950132, 2.9130609833291805 1.6766131467793663, 4.488451119842476 -0.23663964459325726 M-0.28850608092265817 6.303106069614284 C1.0343724624951793 5.088796225112576, 1.888014702162439 4.282290327798344, 4.970310227158016 0.38432958385322624 M-0.5029007366765632 13.458718479096472 C2.353221118850686 11.092114433712052, 4.956941893578481 8.698890616321265, 11.4407319977404 0.8728738243773342 M-0.6591631433833731 11.31608433467108 C3.9865724479397984 6.668010527512484, 7.219039421112019 3.1231247390868266, 10.500751577270162 -0.12200269446822387 M0.37998445792587 18.390085420478755 C4.482960960318687 14.556425820871183, 9.369435253632687 8.388453495554378, 15.583549394741137 0.5507988861692121 M-0.9552512681624155 19.226351412851983 C5.8000587369344 11.326027374332568, 13.478120582025662 5.072244249357301, 15.40744865266927 -0.00812166492222044 M1.5975401254556392 24.819753056108116 C9.012704787803802 16.08196464042257, 15.121256719053424 7.865628445076538, 22.419335900151992 1.5604580318718675 M-0.6602380534448411 23.609279351024984 C6.579393143173927 17.14423667885636, 10.002655516387541 10.809855341916405, 21.127566026801134 0.5369015125721219 M-1.5877207433293208 32.27249422459697 C12.03821191842475 18.014435009911747, 22.677173939928053 8.467875584083604, 25.392589072373124 -0.3963112426909863 M-0.32496810233691775 30.60522756888365 C10.012474822088501 19.477456448849097, 18.497309168309286 9.813292301640764, 27.05334541076085 -0.02710092868537295 M-0.7782840413135013 35.771675517597544 C6.147948382364462 26.70279687017547, 16.004970283356485 21.689271690024167, 30.62719454751054 -1.9961644260898943 M-0.6504380499106368 37.02552652526771 C6.812786442359539 28.29680120828104, 14.54967392142883 20.172678234300996, 31.292192948466933 0.14164813992224978 M0.6811768386186117 43.20785102676206 C15.96499601411529 27.856445482615456, 26.895655491491077 10.981070706839972, 37.13061434570824 0.7202688139956912 M0.7209492187620157 43.06041292901688 C13.223832637152727 29.18218176830856, 24.049749136934004 15.108359493210564, 36.76087241787587 0.9076704179030379 M-1.0143760833890028 48.35289108441107 C14.046826659574279 32.04593134494648, 31.86824917990042 12.516923527451716, 43.292359103072215 1.060707988995219 M0.6122074816375189 49.16815847963922 C17.46468029476411 29.97640987576258, 33.66591877306046 10.506942918369262, 41.80897746290617 0.7455555338739401 M2.3363039447317 53.308176881082936 C12.928061036636041 41.196284006174814, 22.17704874972543 29.41155637127906, 46.885515839746475 -1.5311015687707616 M2.9034164985964175 52.39826448486058 C20.342490193804384 31.369287138664443, 37.544321517093195 11.495909910963782, 48.34545936151433 -0.597362312656994 M9.693803943124706 51.32995374909821 C22.606799840305026 34.573881319768866, 38.25442919195592 18.802927776744745, 50.90916116284651 -0.008355767650019885 M7.409777547595198 51.09181514418903 C19.95502137514061 36.840040139474226, 32.11059270482506 22.873365436026603, 51.80604022862834 1.241028587149966 M13.276523431933999 51.54165452077743 C25.35359757323413 35.931560307685956, 41.26148723906369 19.76772342148547, 52.96565291857327 8.085323206014614 M14.505085656590342 51.46880090713259 C20.651686604505123 42.42554858136944, 28.914315990614792 33.807456230059316, 52.655504668261656 6.91913241413949 M19.810674431303564 53.68389952844113 C31.03742462798113 36.72207744339456, 45.68264438700518 21.451833886038244, 50.912105916975804 12.498147382315967 M18.496729603538338 52.25311847319931 C25.991329925828488 44.49947737034908, 33.07377906448256 36.01008788241084, 52.164175498275824 13.148906315591905 M22.404517577339426 51.84565828351879 C36.84623495178536 38.61102487237085, 44.40461980577457 25.433867055348827, 53.02103426516964 18.378483352906265 M23.624928032357708 52.27873247100615 C31.578880433937453 42.79037914344116, 36.92843365929103 36.11728645936361, 52.69355608359887 18.679180750346937 M28.549889890185554 51.251926118330935 C34.74415579811608 42.233448110521365, 41.51978242028503 35.73023594477074, 53.854587483298744 26.00601395010606 M28.189257221004922 51.15235210006116 C36.65995396770647 43.45364069744954, 43.41559877015189 36.109598009732366, 51.695566452187265 25.901821167912637 M34.620677005947975 52.97604754430703 C41.10065624890303 43.215905935815854, 48.21417976160118 35.617223404005344, 52.106963707469134 32.2587711853448 M35.17212331339851 51.84075448898128 C38.74243348634677 47.66508979693839, 42.06338637453563 42.9296166428115, 51.67995649795952 30.19376094690595 M37.96925618540117 50.78097336899365 C43.79053359549952 48.10613638695969, 46.797709473805014 41.6554014576446, 50.687528950343584 39.30374826509866 M40.33565787098924 51.35673839032526 C43.504435060770554 46.73001007672866, 46.78342345833629 43.87109225379813, 52.33568042683855 36.623670153695976 M45.603730846932564 52.2467145902127 C46.64466075348626 51.331873224640454, 48.09339524929117 48.625204865430554, 50.97473978067723 44.23787758821341 M44.52735821138177 52.0632239176914 C47.565088069366716 49.156750178839886, 50.34645790109832 45.727992784487675, 52.27758183128176 43.426502319105886" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M1.7881132438778877 -1.9856047704815865 C12.554057232519755 -1.2585733573654525, 25.196595764618653 0.12386554072109546, 52.77154823278005 -1.056793935596943 M52.15927392874772 -0.14972387999296188 C52.24389845523983 13.764610193068018, 52.41853553447872 25.27282396583603, 50.4256168070894 47.94889501252999 M51.174012145743916 49.74028720477452 C37.42190567249288 48.33493883444139, 22.680426945823886 49.37452037168809, -0.3310612365603447 48.80458845713963 M-0.5470633581280708 50.166178261431355 C1.7950452980485099 35.15590045225734, 0.6715027508225578 16.88916054591536, -1.2611968591809273 0.7664104774594307" stroke="#f41d92" stroke-width="1.5" fill="none" stroke-dasharray="3 6"></path></g><g transform="translate(112.12805383672253 10) rotate(0 30 25.76923076923076)"><path d="M31 0 C39.60545709244907 7.7152373932302005, 48.210914184898144 15.430474786460401, 60 26 M31 0 C39.98605573661625 8.05646376386285, 48.97211147323251 16.1129275277257, 60 26 M60 26 C53.66638129837811 31.577616469332803, 47.33276259675622 37.155232938665606, 31 51.53846153846152 M60 26 C48.87317028753459 35.79869353988995, 37.74634057506918 45.59738707977991, 31 51.53846153846152 M31 51.53846153846152 C23.677215790376067 45.50579563872171, 16.354431580752134 39.473129738981896, 0 26 M31 51.53846153846152 C22.449277359619735 44.49419375531947, 13.89855471923947 37.449925972177425, 0 26 M0 26 C10.536266363039614 17.163131437450645, 21.072532726079228 8.326262874901293, 31 0 M0 26 C11.768365174159408 16.129758241027595, 23.536730348318816 6.2595164820551865, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(132.12805383672253 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M0 0 C-28.495658624052027 39.51638923026622, -56.99131724810405 79.03277846053244, -92.91223430429181 128.84615384615387 M0 0 C-35.64949572963878 49.436981531146635, -71.29899145927756 98.87396306229327, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-84.74597029705222 99.97900760403179 C-87.2505174444394 108.83239866631195, -89.75506459182657 117.68578972859211, -92.91223430429181 128.84615384615387 M-84.74597029705222 99.97900760403179 C-87.87928418228017 111.05504311637392, -91.01259806750814 122.13107862871605, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-68.101069209058 111.98181019995612 C-75.71051371238666 117.15400935175882, -83.31995821571532 122.32620850356152, -92.91223430429181 128.84615384615387 M-68.101069209058 111.98181019995612 C-77.62086529116603 118.45249031329095, -87.14066137327406 124.92317042662579, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M0 0 C-0.709041979940326 33.657957604501625, -1.418083959880652 67.31591520900325, -2.9100470165774937 138.13884351292575 M0 0 C-0.8738156617443605 41.479702654018425, -1.747631323488721 82.95940530803685, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M-12.574637247120437 109.73821507488421 C-10.219829866573217 116.65811626704499, -7.865022486025997 123.57801745920575, -2.9100470165774937 138.13884351292575 M-12.574637247120437 109.73821507488421 C-9.672598118652262 118.2662264063747, -6.770558990184086 126.79423773786519, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M7.942019409577396 110.17042106398662 C5.297879771485093 116.98501392658794, 2.65374013339279 123.79960678918927, -2.9100470165774937 138.13884351292575 M7.942019409577396 110.17042106398662 C4.683410338505787 118.56865154993545, 1.4248012674341792 126.9668820358843, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M0 0 C21.82529086598449 20.93923827106187, 43.65058173196898 41.87847654212374, 57.61034315759619 55.27150633005465 M0 0 C22.81293896902497 21.886790314446475, 45.62587793804994 43.77358062889295, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M30.164309002621188 43.158900947068474 C40.56205436774476 47.747679995049296, 50.95979973286833 52.33645904303012, 57.61034315759619 55.27150633005465 M30.164309002621188 43.158900947068474 C41.0325779245129 47.95533353560639, 51.90084684640462 52.75176612414431, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M44.3712938687299 28.350741594873572 C49.38681861101766 38.549492174657146, 54.40234335330541 48.748242754440724, 57.61034315759619 55.27150633005465 M44.3712938687299 28.350741594873572 C49.613783444058825 39.011010727851094, 54.85627301938775 49.67127986082862, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(215.84615384615375 165.89435836198027) rotate(0 0.3846153846154152 21.153846153846132)"><path d="M0 0 C0.23940691552485024 13.167380353865703, 0.4788138310497005 26.334760707731405, 0.7692307692308304 42.307692307692264 M0 0 C0.16685400129512135 9.176970071230935, 0.3337080025902427 18.35394014246187, 0.7692307692308304 42.307692307692264" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g transform="translate(207.5384615384616 137.70205066967247) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M0.537255983054638 -0.5164419695734978 C-25.195717696318376 13.007344287378437, -127.84770122949952 67.49526718727175, -153.32559525799363 81.16888101990727 M-0.6398233551811427 1.8268220510613173 C-26.657042332164917 15.535847339030076, -129.1134273795782 69.08827673839266, -154.46805519483408 82.60526979407688" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-135.17579685561074 59.76519201654494 C-142.47761293964737 70.16713330094196, -149.7303268088794 76.5761446111615, -152.94518513850292 81.06575895538946 M-133.49052421040548 59.56104871961772 C-139.31195774937274 65.53611584887621, -142.4797328959443 70.67432462693765, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-125.60610432944877 77.91845583715194 C-136.63787547258147 81.29519781571429, -147.61658646322502 80.63616503205189, -152.94518513850292 81.06575895538946 M-123.92083168424351 77.71431254022473 C-131.6475698672048 79.80475481530144, -136.8595776194713 81.0651489508949, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index overflow pages</figcaption>
</figure>

<p>As rows are added to the index, it's possible for a bucket's primary page to fill up. In this case, additional rows are written to overflow pages. The overflow pages contain index entries that did not fit in the bucket's primary page.</p>
<h3 id="index-split"><a href="#index-split">Index Split</a></h3>
<p>At some point, the database can decide it needs to split a bucket into two buckets. PostgreSQL uses special hash functions that ensure values in a bucket can be split into exactly two buckets. When a bucket is split, additional storage is allocated to the index.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 306.71794871794884 331.53266336844274" width="20em" height="331.53266336844274"><g transform="translate(10 135.66358913121098) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.46364592760801315 0.6525715664029121 C12.807024691368525 0.3073646277131943, 26.215825513234506 1.0152157992067246, 53.08060819541032 1.576662190258503 M0.6510475315153599 0.715393777936697 C13.7359403777581 0.18703549221731147, 25.480321901979355 -0.2229871241691021, 50.583604353265116 0.7041979990899563 M52.42945653830583 1.8350220993161201 C49.60865819716969 18.146282168277178, 52.728272083049205 33.55630474944527, 52.18697983656938 50.703691040667195 M52.11430408318455 -0.8891390599310398 C51.78191803017201 15.581770259457135, 51.13395152607502 30.298403303210545, 51.633173125581095 49.89994492525091 M49.477539605246136 51.31428483644356 C36.15056328045634 50.31966970325089, 17.24594260752201 51.014016846424106, 0.8470594808459282 49.869738375338216 M50.411278861359904 49.841916704120536 C34.54117078402867 50.51754322387277, 20.280990837800957 49.60462906695901, -0.3735545240342617 49.611108803691764 M-0.590591199696064 49.03373793283333 C1.1766373284820182 36.278281890916126, -1.4092388979431527 19.053717267455955, 0.1285867616534233 -0.9884282276034355 M0.6587931551039219 50.06592848295202 C0.5911258164764597 34.8007444097732, -0.04406145178068144 21.873813357834624, -0.9480625949800014 0.07047772035002708" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(93.3846153846153 138.20205066967264) rotate(0 24.84615384615384 22.03846153846149)"><path d="M0.6525715664029121 0.28208183497190475 C17.064400093314735 1.050741619966351, 34.46439542930859 1.7346407841661802, 51.26896988256618 -0.9394140318036079 M0.715393777936697 0.7730547823011875 C18.874492391370804 -0.7689698315182557, 37.211565705732646 -0.9706854200878968, 50.396505691397635 0.3416140712797642 M51.5273297916238 -1.6482439115643501 C51.48058943185954 14.927326198695932, 50.362474722005416 27.868123054561682, 50.93446027143642 44.02407020043864 M48.80316863237664 0.36843806877732277 C50.252770382575676 14.571748311215854, 50.26165111701934 30.1049573878829, 50.13071415602013 44.39533294078245 M51.54505406721279 45.99718612145915 C35.98819373232813 43.65742431334001, 21.961004112775505 44.48837242773515, 0.4081999137997627 44.294962105269576 M50.07268593488976 43.315070756639386 C33.02121871870297 44.57541326099286, 14.81056800031891 43.29614487701306, 0.14957034215331078 43.986909159387494 M-0.4278005287051201 45.717601952071334 C1.559342373870313 25.773410758404754, -1.2719833955541255 9.488879904093643, -0.9884282276034355 -0.4189746454358101 M0.6043900214135647 44.5876467311038 C-0.5550855552892275 31.445874592575862, 0.32028840425209326 18.115690741401437, 0.07047772035002708 0.030039016157388687" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(173.76923076923066 140.5097429773648) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0.28208183497190475 0.37225592881441116 C16.703058241938184 0.9179681649632178, 32.92407584763493 1.4145232549137794, 48.75289366050413 1.5452708080410957 M0.7730547823011875 0.12739646062254906 C13.883762321907755 -0.6381218331077927, 28.011258344180337 0.3487023217460281, 50.0339217635875 0.05283474549651146 M48.044063780743386 1.618144877254963 C51.39096722147504 13.340783490613097, 50.87580785296002 26.923659225553262, 49.63945481582334 38.661876144890584 M50.06074576108506 0.8740179501473904 C49.74784285871173 9.562042649462816, 50.42977518884326 17.796694393455976, 50.01071755616715 37.88561528090099 M51.61257073684385 38.9404997258232 C36.34580705779106 40.09518308368438, 23.814143171218742 38.79161305156463, 0.21803902834653854 38.88501423883895 M48.930455372024085 38.5497245109425 C31.525693588302712 37.82582908072722, 11.174097240372355 38.261665991928695, -0.09001391753554344 38.86126356485943 M1.6406788751482964 39.133059206490316 C-0.8332121737960441 27.930648485714414, 0.24057193913425384 20.19247879277054, -0.4189746454358101 -0.3251098319888115 M0.5107236541807652 37.06458788279156 C-0.37429824905040154 29.173473636318846, -1.1978972299540271 20.460578231398866, 0.030039016157388687 0.013348933309316635" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(27.564102564102598 287.33666605428766) rotate(0 122 15.5)"><path d="M0.30771970526431497 0.9638064137498049 C79.7493344336594 1.244663295860825, 159.01628446794743 -1.0610302970046417, 245.2773746253509 -0.19246128720987735 M0.1053103477474287 -0.36822388386848715 C88.85193115323015 -2.094211933352703, 178.7532341100877 -1.276852844780535, 244.04367503927656 0.31908091881090844 M245.61814487725496 1.4713699743151665 C244.78445859279483 12.114175932481885, 245.52658100452274 22.263077776879072, 244.73879922181368 29.57723616808653 M244.8740179501474 -0.2795284353196621 C244.60726557601242 12.441361937299371, 244.16277335513382 24.39632594883442, 243.9625383578241 30.689070526510477 M244.84103709506363 31.013318216183773 C193.60441003827287 33.63678347901353, 140.71623511686727 33.11681328306579, 0.7951708606274932 32.38557974972726 M244.51800870346577 31.748694595473307 C190.55892710553564 29.154559148142248, 137.71477007704675 29.388943680687195, 0.7755377269925667 30.344797258196035 M1.2099822834134102 30.054802648723125 C-1.5550344040617348 22.744003121182324, -0.9221191456541419 13.811858073621988, -0.3251098319888115 -1.3766999319195747 M-0.8584890402853489 30.875536385923624 C-0.17047598738223313 18.709678624197842, -0.11688318628817795 8.345521454513072, 0.013348933309316635 0.36635977402329445" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(59.0641025641026 286.33666605428766) rotate(0 -0.5001835371035099 16.81556717542469)"><path d="M0.2233535572886467 0.699563880264759 C0.09944044401248293 6.273006259898345, -0.3057096992929777 28.40377209534248, -0.3519357398152352 33.60990337878466 M-1.1185245544742792 0.02123097206465907 C-1.3780133410325894 5.271348349206771, -1.092326160374408 26.580579233619698, -0.959747466845438 32.07002790386789" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(96.0641025641026 288.08666605428766) rotate(0 0.15016923773380597 16.694345682798883)"><path d="M0.699563880264759 0.6480642601847648 C0.6896729265650112 6.185171552995841, 0.4871054286758103 27.982814276715118, 0.10990337878465639 33.4459973141551 M-0.39230381193570785 -0.057305948557332176 C-0.47790880513998363 5.137400421180452, 0.11671690977799393 26.548618560212976, -0.25544281098060306 31.820071155307815" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(132.5641025641026 285.58666605428766) rotate(0 0.04921238874437961 16.91243005971421)"><path d="M0.6480642601847648 1.1099033787846564 C0.6018382196625074 6.316034662226836, 0.06614761004845311 26.727951315542064, -0.05400268584489809 31.936351580917837 M-0.4708407325576991 0.6469987073075028 C-0.6118567331663022 5.946966662757719, -0.525243763628726 27.68495254442406, -0.505399559540674 33.17786141212098" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(166.5641025641026 286.08666605428766) rotate(0 -0.8488529619714313 16.91210222178603)"><path d="M1.1099033787846564 0.9459973141551019 C0.7327013288935025 6.409180351595084, -1.1887153511246045 28.037952530880766, -1.5636484190821647 33.427162484824656 M0.2334639233071356 0.39704195874743187 C-0.41229049158903475 5.479013839044297, -2.438909779417639 26.632704397815587, -2.8076093027275055 31.791348040578885" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.5641025641026 287.58666605428766) rotate(0 0.20593731994275544 16.630370956487013)"><path d="M0.9459973141551019 -0.5636484190821648 C0.8258470182617507 4.644751846293608, 0.12128586421410259 26.70661814560493, -0.07283751517534243 32.3603049710393 M-0.016492825252935273 1.7548322155606004 C-0.2702433153024564 7.668260368459547, -0.44115792602611065 28.872419460269935, -0.5341226742696015 33.82439033205621" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(234.5641025641026 287.08666605428766) rotate(0 -0.40989147561602124 16.824787940918497)"><path d="M-0.5636484190821648 0.9271624848246576 C-0.938581487039725 6.316372438768547, -1.2100485210617384 27.86450649549564, -1.1396950289607048 33.281257037818435 M1.3412974315602333 0.3683188440185039 C0.6990032141127934 5.337481771983827, -1.8614428635717681 26.368199193853265, -2.1610803827922793 31.568842233894394" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M0.9271624848246576 -0.13969502896070485 C17.154231952102748 12.64952123601864, 82.05380406216666 63.57069126763096, 98.30841411782366 76.1716491707939 M-0.045215939981862796 -1.2586388645041735 C16.00941746430461 11.249380732029106, 81.40030110334925 61.479366192554075, 97.77052859905113 74.4997725021153" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M68.99805450635274 66.55587208489976 C81.4300020129425 70.08206837209508, 91.06577137022342 71.1477494479479, 97.2052762875234 73.20544274710709 M69.61687941672524 65.85312067563734 C80.75162731437997 67.83947601090094, 91.21483979186033 72.824182749593, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M81.61827532565145 50.374091315837944 C89.1932583769564 60.127990223348874, 94.04807023852263 67.32386562540185, 97.2052762875234 73.20544274710709 M82.23710023602395 49.671339906575525 C88.75234770307748 57.65841509803721, 94.54078050986584 68.63717383137637, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M-0.13969502896070485 0.7812570378184318 C24.36294645750008 16.390325692086627, 122.13781737503815 79.19188899591173, 146.45220049968253 94.58157441043383 M-1.6721736485045404 0.14581303733401008 C22.796882132497128 15.349293474522568, 121.49929664278622 77.27762246313114, 145.95485311615545 92.94602417450487" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M117.94899271465034 87.9702723768126 C125.6582778164579 88.44943803078024, 130.63704108300433 89.25043495587504, 144.66052336114723 94.35442017268478 M117.24624130538793 87.45699587059727 C125.6197482126734 89.37624679709614, 136.97314279368652 90.95800764737733, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M128.92379587384124 70.6303272211077 C133.99010878740356 75.48423098691177, 136.19192531039405 80.67274206921931, 144.66052336114723 94.35442017268478 M128.22104446457882 70.11705071489237 C132.93635722112876 77.87300483920427, 140.6223961355141 85.24910616223775, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M0.7812570378184318 0.8584725335240362 C-24.128784318431002 17.892008238611208, -123.40366105667641 85.27634928016657, -148.53308565267193 102.06151920156233 M-0.26772174666635684 0.26356666828505704 C-25.33574035700848 17.527070064972552, -123.86512324663204 86.60497793161974, -148.99410660344938 103.67920422297581" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-130.21363307644265 80.75107433661547 C-137.96352274531202 87.66025912030273, -145.32897193241845 96.49006616708128, -147.58571060526947 104.36243236553534 M-130.72690958265798 78.38084281623092 C-136.0374500787696 87.51621485753745, -141.8930798493096 94.73021602982998, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-118.54095064394969 97.62912183080181 C-130.6748696521777 98.24682937259666, -142.44399633975533 100.70916446664445, -147.58571060526947 104.36243236553534 M-119.05422715016502 95.25889031041726 C-127.9933939366363 99.31163285046821, -137.4125007574824 101.37304504012151, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M0.8584725335240362 0.9276657387614249 C-14.569786445583313 16.03150903354474, -77.03262414080605 76.36521807960611, -92.7092489036048 91.40431680651832 M-0.14996811571530988 0.3690863062720746 C-15.710648440235394 15.562165183109052, -77.91119114652791 77.37728488007936, -93.57703459703981 92.66110900571088" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-79.15756357266065 65.8183639442179 C-85.13030025076485 72.90422605372251, -89.24587781567507 82.69168647881304, -92.89380645448028 92.7667784967039 M-81.5277950930452 66.37264346160028 C-84.16450078864119 75.10692660782176, -88.78100048566147 84.65321380097839, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-64.75139635359899 80.43282077443477 C-74.97342442895257 83.40753723964382, -83.24314633067466 88.98079119651447, -92.89380645448028 92.7667784967039 M-67.12162787398354 80.98710029181716 C-74.72385241084409 84.90510673292088, -84.21828012958429 89.50293904489264, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(34.11538461538453 149.89435836198027) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(112.23076923076911 149.74051220813408) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(193.38461538461524 150.5097429773648) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(247.0256410256411 140.7789737465955) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8109265841217587 6.142996145834319 C1.252880061914266 4.531640957937469, 2.322047558470259 4.001243663879113, 5.588092198553032 0.53787079265688 M-0.43425123613792155 6.23871867363631 C1.5273840243874537 4.186059419470398, 2.94653180463719 2.6556828064695917, 4.793190426709598 0.23444213828418786 M0.6163307615648614 11.082370090901433 C0.7532618923567131 8.453697135479507, 3.003135913108353 8.481731246191256, 9.628620035898816 0.41636376931217933 M0.2659536399971353 11.62833489519316 C4.08636624871612 8.796940217394742, 6.503761546467216 3.9203962759054374, 10.828408376824987 0.1993686164811017 M1.3034774707117815 20.32130560921567 C1.2711472334565994 14.042767392317817, 6.696228160365458 10.206048064238841, 17.369825362696727 1.8780480704200437 M0.5722530045965453 19.385101760645085 C6.39600763243108 10.612871941881739, 11.498111626821661 5.279453034294253, 15.925257157071908 1.1261943547916582 M2.115051597561619 25.616023083864807 C6.886270844357069 14.744759359349793, 18.515364468390047 6.781765501989629, 21.320244951451087 -0.658726709505963 M0.5860383922419761 24.619589099376558 C7.243418370946743 15.856408897320264, 15.148404440342752 8.26774432000693, 22.01460599368241 0.843142838606191 M1.215932601182665 31.423087162662497 C6.5132129651595365 23.94699760483287, 14.921461256086971 16.878506942970912, 24.828281963851662 -0.06474668215841639 M0.6803713487972871 31.345873268086663 C6.099204513702615 25.291245088137746, 9.847510902718515 18.129290729275382, 27.021050250765295 1.0532309258368553 M-0.014431817559572124 35.68236834351097 C9.818730206662899 24.859506958270828, 18.43399194648397 15.86194645474048, 32.23413062975446 -1.5845384298578615 M0.292194692315487 36.85062652249013 C8.883630683147477 25.70785196509413, 19.027132395135578 14.458557640806934, 32.19774802536408 0.19076504197560595 M1.888770629171944 38.82742088364414 C13.114525548368238 31.080007877206896, 20.46234223289191 17.94787613065388, 38.120936563053476 0.5640222859662494 M2.580534577821112 40.96498612763337 C10.399335261478175 31.403118066908753, 17.26250628196795 21.345303658223706, 37.55252754856025 0.8924836834054908 M7.289362642242711 41.563740280964225 C15.926929844920835 28.94632154505149, 25.863525820478376 18.35806082337675, 43.31326899360471 -1.597966117006635 M7.11514632336716 39.9678118392311 C19.27942272803937 24.671395785258703, 31.916685623386172 12.14780868094751, 41.72135941739731 -0.6651192243815416 M13.575941219584692 41.13760159493286 C26.6298974953873 24.586136482216187, 37.11234166300646 11.255755131447657, 48.37864853530216 1.4772455997940348 M11.877278294073093 40.979524224557466 C25.813894652976032 25.357660640361892, 40.05521221090385 9.011837461986815, 47.34488436295676 0.6468823149975584 M19.7527630910539 41.26541574322951 C25.3744519847253 29.450445922632852, 35.47233316001168 23.106468797453378, 52.31390136002082 1.585800014493259 M17.725557336982426 40.01646095910442 C28.043584255130156 27.332081830295245, 40.48230011620848 14.900592876939168, 51.62976742430109 1.7565888874802909 M25.317036370544315 38.440244464424715 C32.138450379449324 28.639625449537036, 41.90458891205789 18.60257351016614, 50.04668696569265 8.059909686552672 M23.148280433176637 40.42239178925501 C33.95241041808278 29.580403599865804, 42.44954172453388 18.391724022721842, 51.725225716549765 6.80395231034079 M30.257392787911957 41.14412367619792 C38.518635466379315 31.05315751673234, 43.93623175632945 23.093148788362637, 51.65061972712619 14.678375132537859 M28.136886929699248 40.205841890501176 C37.00345620071903 31.069617590600483, 45.44960096623876 20.351804432366734, 51.81314998169882 14.176293607957142 M32.55541545705081 41.13574011711969 C36.19607964027359 36.36445970502528, 40.941068764086964 30.606286594304777, 52.63014734518697 19.25606685035106 M33.562486307631744 39.45276850922598 C37.23056065536866 35.68682524075329, 42.22612045260735 32.06695150961929, 51.26798303780129 20.222785036044087 M40.12965003468653 40.572293628818464 C42.630256120595284 35.83613708169783, 47.407493986168895 29.367832282559032, 50.71971143022628 26.584154070741498 M39.10834741026719 39.67331028326519 C43.2766285502787 36.34465283481751, 46.14621919772218 32.38313144542754, 51.269763469179 26.346126356921157 M44.61712292272642 39.91542664175373 C45.88873797469415 37.26137735047093, 48.671376310203286 35.82483841452909, 52.381108068972615 32.26134330091014 M44.47516977943525 39.595246833427666 C46.496346122583525 38.191231731041796, 47.80595211993141 36.07696887283977, 51.886637493707035 31.472204655790176" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M-1.672042615711689 0.8308969810605049 C16.326145670104502 -2.349320541889622, 34.10093765465116 -0.6152166238140605, 50.527528975445534 0.9665583446621895 M-0.03265887126326561 -0.4763747490942478 C17.65546513234195 -0.7798206117004156, 32.80959636861318 0.5081510040909052, 48.69781260221055 0.7275059185922146 M47.73080847068479 0.47107303887605667 C48.54675598642865 11.071272986697458, 50.266704039788635 19.93014755610089, 48.78152177138975 37.37588829088668 M49.909206912208106 -0.05775618925690651 C50.10324640379793 8.091488444375301, 49.59145314799196 18.150641372685243, 49.9030019494777 38.345564774309196 M49.604247067410256 39.148652496819295 C34.98506492897871 37.78430204707268, 19.577545083027633 38.23390584307793, 1.6416001245379448 39.60268849421004 M50.03856007783463 37.8719786918507 C32.90467660174923 38.832399427266054, 17.023177311454837 37.68657129940503, -0.48886721953749657 37.81352262858013 M0.8513493463397026 37.40737408686141 C-1.1794472935423257 26.30673083270397, 0.8638192412629722 18.568766106378565, -1.5498569086194038 -1.1428359672427177 M0.358940664678812 38.34790163401226 C0.7263785985542031 29.25189445141988, 0.9668665317130776 21.947387360380233, 0.6955167688429356 -0.7100511826574802" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(267.37179487179486 150.0097429773648) rotate(0 4.5 10.5)"><text x="4.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(130.46138717005596 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C41.07880149371922 9.036166856437921, 51.15760298743844 18.072333712875842, 60 26 M31 0 C39.524535740539434 7.642687215656043, 48.04907148107887 15.285374431312086, 60 26 M60 26 C50.12890856973827 34.6928444425647, 40.257817139476536 43.3856888851294, 31 51.53846153846152 M60 26 C53.873228477314115 31.395459271967407, 47.74645695462823 36.790918543934815, 31 51.53846153846152 M31 51.53846153846152 C24.017179042473437 45.785864620598446, 17.03435808494687 40.03326770273537, 0 26 M31 51.53846153846152 C22.16923016272485 44.26348489832418, 13.338460325449702 36.98850825818684, 0 26 M0 26 C10.104321676120163 17.52540762647986, 20.208643352240326 9.050815252959726, 31 0 M0 26 C6.349167991057039 20.67489136233926, 12.698335982114077 15.349782724678516, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(150.46138717005596 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M0 0 C-32.79719711426486 15.507383762609525, -65.59439422852972 31.01476752521905, -131.1854822767287 62.02797180077994 M0 0 C-34.642218837772205 16.379758917629562, -69.28443767554441 32.759517835259125, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-110.08588368739868 40.701768684211274 C-115.36091627451353 46.033453830876525, -120.63594886162838 51.365138977541775, -131.1854822767287 62.02797180077994 M-110.08588368739868 40.701768684211274 C-115.65766570958043 46.33339028228201, -121.22944773176218 51.96501188035275, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-101.31403290034261 59.2537129530868 C-108.78208345199965 59.94729514445955, -116.25013400365668 60.64087733583231, -131.1854822767287 62.02797180077994 M-101.31403290034261 59.2537129530868 C-109.20220214238815 59.98631293630506, -117.09037138443368 60.718912919523326, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M0 0 C-9.837823551881751 15.237977855029664, -19.675647103763502 30.475955710059328, -38.71094316657653 59.96006043499074 M0 0 C-13.47866193275869 20.877336431544588, -26.95732386551738 41.754672863089176, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-32.0406062237209 30.711015919506558 C-33.7357754060639 38.1442354555501, -35.43094458840691 45.57745499159365, -38.71094316657653 59.96006043499074 M-32.0406062237209 30.711015919506558 C-34.363133376920544 40.89516413785352, -36.68566053012018 51.07931235620049, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-14.800245208047485 41.84160235666644 C-20.876801558176602 46.44614513000349, -26.95335790830572 51.05068790334053, -38.71094316657653 59.96006043499074 M-14.800245208047485 41.84160235666644 C-23.125648517713685 48.1502208299939, -31.45105182737988 54.45883930332135, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M0 0 C25.16407317378604 13.948955209922183, 50.32814634757208 27.897910419844365, 115.8666748613413 64.22724361043095 M0 0 C26.33727004966099 14.59928198973174, 52.67454009932198 29.19856397946348, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M86.23606482944287 59.533955942115654 C92.671278750261 60.55325018226234, 99.10649267107911 61.572544422409024, 115.8666748613413 64.22724361043095 M86.23606482944287 59.533955942115654 C92.97130064319347 60.60077161529422, 99.70653645694408 61.66758728847278, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M96.18509786206775 41.58578767620121 C100.45956801820122 46.50308813875298, 104.7340381743347 51.42038860130475, 115.8666748613413 64.22724361043095 M96.18509786206775 41.58578767620121 C100.65885193374875 46.7323420238678, 105.13260600542975 51.8788963715344, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M0 0 C13.031323839052332 19.9917617587414, 26.062647678104664 39.9835235174828, 43.59674914111568 66.88313735806764 M0 0 C15.400439257044772 23.626295870581124, 30.800878514089543 47.25259174116225, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M19.60693131555252 48.86956911920136 C26.77762846806006 54.253930243415375, 33.9483256205676 59.63829136762939, 43.59674914111568 66.88313735806764 M19.60693131555252 48.86956911920136 C28.08127262513716 55.232815666950536, 36.555613934721805 61.59606221469971, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M36.79838097459263 37.663585851030334 C38.83045306483746 46.397481052426734, 40.86252515508229 55.131376253823134, 43.59674914111568 66.88313735806764 M36.79838097459263 37.663585851030334 C39.199887005619736 47.98531710318542, 41.60139303664684 58.307048355340505, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index split</figcaption>
</figure>

<p>Luckily, PostgreSQL does all the heavy lifting for you, so you don't have to decide what hash function to use, or how many buckets there are.</p>
<p>If you want to learn more about the internals of Hash indexes in PostgreSQL, check out the <a href="https://github.com/postgres/postgres/blob/master/src/backend/access/hash/README" rel="noopener">readme on "Hash Indexing"</a>.</p>
<hr>
<h2 id="hash-index-in-postgresql"><a href="#hash-index-in-postgresql">Hash Index in PostgreSQL</a></h2>
<p>Hash indexes were discouraged prior to PostgreSQL 10. If you read the <a href="https://www.postgresql.org/docs/9.6/indexes-types.html" rel="noopener">index type documentation for PostgreSQL 9.6</a> you'll find a nasty warning about Hash indexes. According to the warning, Hash indexes are not written to the WAL so they cannot be maintained in replicas, and they are not automatically available after a crash, so you need to manually rebuild them.</p>
<p>Starting at PostgreSQL 10 these limitations were resolved, and <a href="https://www.postgresql.org/docs/10/release-10.html#id-1.11.6.20.5.3.3" rel="noopener">Hash indexes are no longer discouraged</a>.</p>
<h3 id="creating-hash-indexes"><a href="#creating-hash-indexes">Creating Hash Indexes</a></h3>
<p>Now that you know how Hash indexes work in PostgreSQL, you are ready to see them in action. To illustrate, we'll create an imaginary URL shortening service.</p>
<p>A URL shortener service, such as "bit.ly" or the late "goo.gl", provides a short random URL that points to a longer URL. For example, you can have the short url <code>https://short.url/hb9837</code> point to the longer URL <code>https://hakibenita.com/automating-the-boring-stuff-in-django-using-the-check-framework</code>. We'll call the <code>hb9837</code> part of the short URL the <code>key</code>.</p>
<p>To implement your URL shortening service, create a table to store the mapping between the keys and the full URLs:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>shorturl</span> <span>(</span>
    <span>id</span> <span>serial</span> <span>primary</span> <span>key</span><span>,</span>
    <span>key</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>url</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
</pre></div>


<p>The table includes an auto incrementing primary key <code>id</code>, a text field for <code>key</code>, and a <code>url</code> field containing the full URL.</p>
<p>Next, create a B-Tree and a Hash index on both fields:</p>
<div><pre><span></span><span>CREATE</span> <span>INDEX</span> <span>shorturl_key_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>key</span><span>);</span>
<span>CREATE</span> <span>UNIQUE</span> <span>INDEX</span> <span>shorturl_key_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>key</span><span>);</span>

<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>url</span><span>);</span>
<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>url</span><span>);</span>
</pre></div>


<p>You might have noticed that the B-Tree on <code>key</code> is a unique index, but the Hash index is not. This is because Hash indexes currently cannot be used to enforce unique constraints.</p>
<h3 id="hash-index-size"><a href="#hash-index-size">Hash Index Size</a></h3>
<p>The first thing you want to do is to compare the size of a Hash index to the size of a similar B-Tree index:</p>
<div><pre><span></span><span>CREATE</span> <span>EXTENSION</span> <span>"uuid-ossp"</span><span>;</span>

<span>DO</span> <span>$$</span>
<span>BEGIN</span>
    <span>FOR</span> <span>i</span> <span>IN</span> <span>0..1000000</span> <span>loop</span>
        <span>INSERT</span> <span>INTO</span> <span>shorturl</span> <span>(</span><span>key</span><span>,</span> <span>url</span><span>)</span> <span>VALUES</span> <span>(</span>
        <span>uuid_generate_v4</span><span>(),</span>
        <span>'https://www.supercool-url.com/'</span> <span>||</span> <span>round</span><span>(</span><span>random</span><span>()</span> <span>*</span> <span>10</span> <span>^</span> <span>6</span><span>)</span><span>::</span><span>text</span>
    <span>);</span>
    <span>if</span> <span>mod</span><span>(</span><span>i</span><span>,</span> <span>10000</span><span>)</span> <span>=</span> <span>0</span> <span>THEN</span>
        <span>RAISE</span> <span>NOTICE</span> <span>'rows:%  Hash key%  B-Tree key:%  Hash url:%  B-Tree url:%'</span><span>,</span>
            <span>to_char</span><span>(</span><span>i</span><span>,</span> <span>'9999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_btree_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_btree_index'</span><span>),</span> <span>'99999999999'</span><span>);</span>
    <span>END</span> <span>IF</span><span>;</span>
    <span>END</span> <span>LOOP</span><span>;</span>
<span>END</span><span>;</span>
<span>$$</span><span>;</span>
</pre></div>


<p>To get a better sense of how both indexes behave, keep track of the size of the indexes as rows are inserted to the table:</p>
<ul>
<li>Generate 1,000,000 short urls one by one</li>
<li>Every 10,000 rows log the size of all four indexes</li>
<li>Use <code>uuid_generate_v4</code> from the <a href="https://www.postgresql.org/docs/current/uuid-ossp.html" rel="noopener">uuid-ossp</a> package to generate UUIDs as keys</li>
<li>Generate a long URL from a 6-digit domain so it's not unique, but almost unique</li>
</ul>
<p>Running the script on PostgreSQL 13 and plotting the results gives the following chart:</p>
<figure><img alt="Hash vs. B-Tree index size" src="https://hakibenita.com/images/01-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size</figcaption>
</figure>
<p>The chart provides several interesting observations:</p>
<ol>
<li>
<p><strong>The Hash index is smaller than the B-Tree index</strong>: Almost all along the way, the Hash index on both fields is smaller than the size of the corresponding B-Tree index.</p>
</li>
<li>
<p><strong>Hash index grows in increments</strong>: Unlike the B-Tree index that seems to grow linearlly as rows are inserted to the table, the Hash index grows in sudden increments. These sudden increments are caused when a split is triggered to allocate space for more buckets. When that space runs out, another split is triggered and so on.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the size of the indexed value</strong>: A Hash index stores the hash codes of the index field values. A B-Tree on the other hand, stores the actual value of the indexed field in its leaves, so the size of the indexed value affects the size of a B-Tree index, but not the size of a Hash index.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the selectivity of the indexed value</strong>: The selectivity of the URL field is different than that of the key field, which is almost unique, but the Hash index on both fields is the same size. A size of a B-Tree index on the other hand, can vary based on the selectivity of the data (see note below about "B-Tree deduplication").</p>
</li>
</ol>
<div>
<p>B-Tree deduplication</p>
<p>PostgreSQL 13 introduced a new <a href="https://www.postgresql.org/docs/current/btree-implementation.html#BTREE-DEDUPLICATION" rel="noopener">B-Tree deduplication</a> mechanism that reduces the size of a B-Tree indexes with many duplicate values. In the chart above, the size of the B-Tree index on the <code>url</code> field is smaller than the size of the index on the <code>key</code> field because it has fewer unique values.</p>
<figure><img alt="Hash vs. B-Tree index size on PostgreSQL 12" src="https://hakibenita.com/images/02-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size on PostgreSQL 12</figcaption>
</figure>
<p>If you run the same script with deduplication disabled, or on PostgreSQL versions prior to 13, you'll see that the size of the index is the same (as long as values are the same size).</p>
</div>
<p>The script you ran before imitates a workload of an OLTP-like system, where single rows are constantly being added to the table. This is the size of the indexes after the script finished:</p>
<div><pre><span></span><span>db=#</span> <span>\di+</span> <span>shorturl*</span>
<span>          Name           â”‚ Type  â”‚ Table    â”‚Size</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>shorturl_key_btree_index â”‚ index â”‚ shorturl â”‚ 73 MB</span>
<span>shorturl_key_hash_index  â”‚ index â”‚ shorturl â”‚ 37 MB</span>
<span>shorturl_url_btree_index â”‚ index â”‚ shorturl â”‚ 53 MB</span>
<span>shorturl_url_hash_index  â”‚ index â”‚ shorturl â”‚ 36 MB</span>
</pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/postgresql-hash-index">https://hakibenita.com/postgresql-hash-index</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/postgresql-hash-index</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740570</guid>
            <pubDate>Tue, 12 Jan 2021 00:35:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking Bitcoin Wallets Through JSON Parser Bugs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25740491">thread link</a>) | @testaaajxjd
<br/>
January 11, 2021 | https://kewde.github.io/bypass-api-restrictions | <a href="https://web.archive.org/web/*/https://kewde.github.io/bypass-api-restrictions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>I didnâ€™t steal any bitcoin. Iâ€™ve reported it to the appropriate company and they were shocked at how a bug this simple could have left their wallets empty.
Using different libraries to parse formats like JSON is a bad idea and can expose you to a type of attack that relies on different interpretations of the content by each parser. The microservice pattern introduces the ability to use amalgation of programming languages, but that typically also means differences in parsers.</p>


<p>Thereâ€™s a lot of love for the microservice pattern and rightfully so. In essence, the microservice pattern tends to lead to greater seperation of privileges and access.
The code that decodes media objects such as videos and images runs in its own microservice, seperating it from the code that can access the database storing your VISA card credentials for example.</p>

<p>But the advocacy for the microservice pattern isnâ€™t only coming from the security perspective.</p>
<blockquote>
  <p>The microservices architecture allowed Netflix to greatly speed up development and deployment of its platform and services. The company was able to build and test global services on a large scale without impacting the current system and they could quickly rollback if there were problems. The microservices architecture also allowed Netflix to create about 30+ independent engineering teams that could work on different release schedules which helped increase the agility and productivity of the development process. [0]</p>
</blockquote>

<p>The main driver for organisations to adopt the microservice pattern is to enable faster development and deployments because each team operates more independently.
Every team can pick their own stack (language, libraries, etc..) to use in order to optimize their particular workload.</p>


<p>I consider it to be a better pattern than the monolith if applied correctly.
But the step back is that it may breath new life into an age-old security bug: parser differences.</p>

<p>Hereâ€™s my advice for anyone out there building microservices:</p>
<blockquote>
  <p>The JSON format leaves gaps for interpretation so make sure that all parsers across all microservices are using a single way to interpret the content.</p>
</blockquote>

<p>If you donâ€™t quite catch what Iâ€™m trying to explain, hereâ€™s an example:</p>
<pre><code>{
    "method": "sendtoaddress",
    "method": "listtransactions",
    "params": [...]
}
</code></pre>

<p>Notice how the <code>method</code> key is presented twice in this JSON payload, but which method of the two will it eventually execute?
This the gap for interpretation that parsers silently deal with. This rather silent assumption can be a great attack vector.</p>

<p>Can we abuse the difference in interpretation by parser X used in microservice 1, which feeds data to parser Y in microservice 2?</p>



<p>This is an actual bugreport that Iâ€™ve submitted to a business that operates cryptocurrency nodes that a customer can rent.
But one of their options allows exposing a limited interface of <code>bitcoind</code>, behind a custom firewall that blocks sensitive methods.</p>
<pre><code>USER   ----&gt; [ FIREWALL ]    ----&gt;    [ bitcoind ]
</code></pre>

<p>The firewall microservice maintained a whitelist of methods (<code>getblock</code>, etc..) which was supposed to reject attempts to execute senstitive or malicious commands.
If it passed the filter, it would then pass the <em>COMPLETE</em> payload to the <code>bitcoind</code> daemon, which would then execute and return the results.</p>

<p>Hereâ€™s an overview to two parsers at play:</p>
<ul>
  <li>firewall: LIFO (OpenResty from <strong>Lua</strong>)</li>
  <li>bitcoind: FIFO (Boost (?) json parser from <strong>C++</strong>)</li>
</ul>

<p>Letâ€™s for example attempt to get the balance of the bitcoind node:</p>
<pre><code>{
    "method": "getbalance"
}
</code></pre>

<p>We are met with the following response:</p>
<pre><code>403 Forbidden
</code></pre>

<p>At this point I wondered whether we could bypass it, and naturally the first idea that I could come up with was setting it twice.</p>
<pre><code>{
    "method": "getblock",
    "method": "getbalance"
}
</code></pre>
<pre><code>403 Forbidden
</code></pre>
<p>It failed, but luckily I attempted to switch them around, just to be sure.
This time we hit the jackpot!</p>

<pre><code>{
    "method": "getbalance",
    "method": "getblock"
}
</code></pre>
<p>It returns the getbalance information instead of the error!</p>
<pre><code>{
    "result": 5.35784803,
    "error": null,
    "id": null
}
</code></pre>

<p>The firewall is using a <code>LIFO</code> style parser, which returned <code>getblock</code> as the value of the key <code>method</code>. It accepted the request as valid and forwarded it to the <code>bitcoind</code> daemon which uses a <code>FIFO</code> style parser resulting in <code>getbalance</code> to be used as the value of the key <code>method</code></p>

<p>Nice.</p>



<ul>
  <li>0: https://smartbear.com/blog/develop/why-you-cant-talk-about-microservices-without-ment/</li>
</ul>

</div></div>]]>
            </description>
            <link>https://kewde.github.io/bypass-api-restrictions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740491</guid>
            <pubDate>Tue, 12 Jan 2021 00:27:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Monetization Specification]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25740396">thread link</a>) | @dataminer
<br/>
January 11, 2021 | https://webmonetization.org/specification.html | <a href="https://web.archive.org/web/*/https://webmonetization.org/specification.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <section id="abstract">
      <p>
        Web Monetization is an API that allows websites to request small
        payments from users facilitated by the browser and the user's Web
        Monetization provider.
      </p>
    </section>
    <section id="sotd">
      <div>
        <p>
          This specification is a work in progress within the community on the
          best shape it should take. Please see the
          <a href="https://webmonetization.org/docs/explainer.html">explainer</a> for more info.
        </p>
        <p>
          The specification reflects the desired end-state of the Web Monetization
          APIs as currently anticipated and agreed to between the contributors.
          The specification is being prepared here, in this format, to collect the
          input of the Web community and prepare the work to ultimately follow the
          W3C standards track should it have the necessary support to do so.
        </p>
        <p>
          For the most accurate reflection of the APIs that have been implemented
          by providers see the <a href="https://webmonetization.org/docs/api">API documentation</a>.
        </p>
      </div>
    </section>
    <section id="terminology">
      <h2>Terminology</h2>
      <dl>
        <dt><dfn>User</dfn>:</dt>
        <dd>the party who is accessing the web-monetized website.</dd>
        <dt><dfn>Website</dfn>:</dt>
        <dd>the web-monetized website.</dd>
        <dt><dfn data-lt="provider">Web Monetization provider</dfn>:</dt>
        <dd>the party making payments on behalf of the user.</dd>
        <dt><dfn>Web Monetization receiver</dfn>:</dt>
        <dd>the party receiving payments on behalf of the website.</dd>
        <dt><dfn>User agent</dfn>:</dt>
        <dd>the web browser used by the user.</dd>
      </dl>
    </section>
    <section id="goals">
      <h2>Goals</h2>
      <ul>
        <li>Should be simple for webmasters to use in their site.</li>
        <li>
          Backend infrastructure should be optional; should be usable on a
          static site.
        </li>
        <li>Interaction with the user should be optional.</li>
        <li>
          The user retains control over how much to spend, and which sites to
          support.
        </li>
        <li>
          Should give advanced webmasters a way to associate payments with their
          users, in order to unlock premium experiences.
        </li>
        <li>Should pay continuously as the user consumes content.</li>
        <li>
          Should be compatible with existing application and transport
          protocols, such as the [[[Interledger]]].
        </li>
      </ul>
    </section>
    <section id="relation-to-other-protocols">
      <h2>Relation to other protocols</h2>
      <p>
        The W3C have published two payments related APIs for browsers, the
        [[[payment-Request]]] and the [[[Payment-Handler]]].
      </p>
      <p>
        The reason this API is not using the [[[payment-Request]]] directly is
        that Web Monetization is intended for continuous payments rather than
        discrete payments. It is also designed to <em>not</em> have any user
        interaction: It is intended to provide a direct alternative to
        advertisements, rather than an alternative to traditional e-commerce
        checkout methods.
      </p>
      <p>
        In future, some changes will be required to the [[[payment-Request]]]
        and the [[[Payment-Handler]]] to support Web Monetization. This API
        brings the necessary capabilities to user agents in a manner that can
        integrate with existing payments APIs.
      </p>
      <p>
        With advertisements, the user agent decides whether to display the ads
        and the user decides whether to engage with the ads. With Web
        Monetization, the user's provider decides whether to pay the site and,
        if so, how much to pay.
      </p>
      <p>
        Web Monetization makes use of
        <abbr title="Simple Payment Setup Protocol">SPSP</abbr> on top of
        <abbr title="Interledger Protocol">ILP</abbr>/[[[STREAM]]] to provide a
        high-level way to send money and data, while still providing tremendous
        flexibility.
      </p>
    </section>
    <section>
      <h2>Extensions to the `Document` interface</h2>
      <pre>        partial interface Document {
          readonly attribute Monetization monetization;
        };
      </pre>
    </section>
    <section id="flow">
      <h2>Flow</h2>
      <p>
        This flow refers to the <a>user agent</a> and the user's
        <a>provider</a>.
      </p>
      <ol>
        <li>
          The <a>user agent</a> sets {{ Monetization / state }} to "{{
            MonetizationState / pending
          }}".
        </li>
        <li>
          <p>
            The <a>user agent</a> observes the [^head^] and looks for a Web
            Monetization
            <code>&lt;meta name="monetization"&gt;</code> tag (<a href="#meta-tags-set">specified below</a>).
          </p>
          <ul>
            <li>
              There MUST be only one
              <code>&lt;meta name="monetization"&gt;</code> tag at any
              given time
            </li>
            <li>
              The `&lt;meta&gt;` Tags Set MUST be in the [^head^] of the
              document.
            </li>
            <li>
              The `&lt;meta&gt;` Tags Set MUST be in the top level window (i.e.
              not inside an iframe)
            </li>
          </ul>
        </li>
        <li>
          <p>
            Below is repeated for every semantically (consider
            <code>meta.content = meta.content</code>) new
            <code>&lt;meta name="monetization"&gt;</code> tag seen for
            the life of the page:
          </p>
          <ul>
            <li>
              If any of the Web Monetization `&lt;meta&gt;` Tags Set are
              malformed, the browser will stop here. The <a>user agent</a>
              SHOULD report a warning via the console.
            </li>
            <li>
              If the Web Monetization
              <code>&lt;meta name="monetization"&gt;</code> tag is
              well-formed, the browser should extract the Payment Setup Endpoint
              (<a href="https://paymentpointers.org/">Payment Pointer</a> or
              <a href="https://interledger.org/rfcs/0009-simple-payment-setup-protocol">SPSP</a>
              Url).
            </li>
            <li>
              The <a>user agent</a> generates a fresh
              <strong>random</strong> UUID (version 4) and uses this as a
              Monetization ID. This MUST be regenerated upon dynamic changes to
              the meta tags and MUST be unique per page load in order to avoid
              user tracking.
            </li>
            <li>
              The <a>user agent</a> passes these payment details to the user's
              provider (see
              <a href="#payment-handler-flow">Payment Handler Flow</a>).
            </li>
            <li>
              The provider resolves the Payment Setup Endpoint and begins to
              pay. The provider MAY be acting from a different machine from the
              user. Cookies and session information MUST NOT be carried with any
              requests made to resolve the Payment Setup Endpoint, with the
              exception of the Monetization ID.
              <ul>
                <li>
                  With the <code>destination_account</code> and
                  <code>shared_secret</code> fetched from the SPSP query, a
                  [[[STREAM]]] connection is established. A single [[[STREAM]]]
                  is opened on this connection, and a positive SendMax is set.
                </li>
                <li>
                  The provider SHOULD set their SendMax high enough that it is
                  never reached, and make payment adjustments by limiting
                  throughput.
                </li>
              </ul>
            </li>
            <li>
              Once the [[[STREAM]]] connection has fulfilled an ILP packet with
              a non-zero amount, the provider notifies the browser:
              <ul>
                <li>
                  The <a>user agent</a> sets
                  <code>document.monetization.state</code> to
                  <code>started</code>.
                </li>
                <li>
                  This MUST occur before the `start` event is fired.
                </li>
                <li>
                  This event is a {{ MonetizationStartEvent }}
                  containing the Payment Setup Endpoint and the Monetization ID
                  as properties.
                </li>
                <li>
                  The <a>user agent</a> also emits a {{ progress }} event from
                  <code>document.monetization</code>, corresponding to this
                  first packet.
                </li>
              </ul>
            </li>
            <li>
              Payment continues for the lifetime of a given meta tag (or
              semantically equivalent)
              <ul>
                <li>
                  The provider MAY decide to stop/start payment at any time,
                  e.g. if the user is idle, backgrounds the page, or instructs
                  the browser to do so.
                </li>
                <li>
                  If the [[[STREAM]]] connection is severed, the provider will
                  redo the SPSP query to the same Payment Setup Endpoint as
                  before with the same Monetization ID. The <a>user agent</a>
                  MUST NOT re-process the `&lt;meta&gt;` Tags Set.
                </li>
                <li>
                  Each time a packet with a non-zero amount is fulfilled, the
                  provider notifies the browser, and the browser emits a
                  {{ MonetizationProgressEvent }}
                  on
                  <code>document.monetization</code>. The event has details of
                  the packet.
                </li>
                <li>
                  When a stream is closed the
                  <code>document.monetization.state</code> MUST be set back to
                  'pending'
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ol>
      <h3 id="payment-handler-flow">Payment Handler Flow</h3>
      <p>
        A provider can be implemented as a Payment Handler supporting the
        'webmonetization' payment method (The payment method specification for
        this payment method is still under development as it is dependant on
        changes to the Payment Handler API that support streaming payments).
        Communication between the browser and the provider would use this flow.
      </p>
      <ul>
        <li>
          After parsing the `&lt;meta&gt;` Tags Set, the browser creates a new
          <a href="https://www.w3.org/TR/payment-request/#paymentrequest-interface">PaymentRequest</a>
          object with the following
          <a href="https://www.w3.org/TR/payment-request/#dom-paymentmethoddata">PaymentMethodData</a>
          argument.
        </li>
      </ul>
      <pre>        {
          "supportedMethods": "webmonetization",
          "data": {
            "paymentPointer": "&lt;payment pointer parsed from meta tag&gt;"
          }
        }
      </pre>
      <ul>
        <li>
          The <a>user agent</a> calls <code>.show()</code> on this
          PaymentRequest, triggering the
          <a href="https://www.w3.org/TR/payment-handler/">PaymentHandler</a>
          for <code>webmonetization</code>. This PaymentHandler is how the
          browser communicates to the provider.
          <ul>
            <li>
              The return value of <code>.show()</code> MUST return a Promise,
              and must also implement the {{ EventTarget }}
              interface. The provider will emit
              {{ MonetizationStartEvent }} and
              {{ MonetizationProgressEvent }} events from this Promise to
              communicate to the browser when payment occurs. The Promise MUST
              NOT resolve, because Web Monetization continues for the entire
              lifetime of a given meta tag. The Promise MAY reject if there is
              an error preventing the â€¦</li></ul></li></ul></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://webmonetization.org/specification.html">https://webmonetization.org/specification.html</a></em></p>]]>
            </description>
            <link>https://webmonetization.org/specification.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740396</guid>
            <pubDate>Tue, 12 Jan 2021 00:18:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using MinIO as a Know Your Customer Object Store â€“ Money Laundering Example]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25740199">thread link</a>) | @jtsymonds
<br/>
January 11, 2021 | https://blog.min.io/object_storage_for_kyc/ | <a href="https://web.archive.org/web/*/https://blog.min.io/object_storage_for_kyc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                

                    <figure>
                        <img srcset="https://blog.min.io/content/images/size/w300/2021/01/Screenshot-at-Jan-11-09-54-17.png 300w,
                                    https://blog.min.io/content/images/size/w600/2021/01/Screenshot-at-Jan-11-09-54-17.png 600w,
                                    https://blog.min.io/content/images/size/w1000/2021/01/Screenshot-at-Jan-11-09-54-17.png 1000w,
                                    https://blog.min.io/content/images/size/w2000/2021/01/Screenshot-at-Jan-11-09-54-17.png 2000w" sizes="(max-width: 800px) 400px,
                                    (max-width: 1170px) 700px,
                                    1400px" src="https://blog.min.io/content/images/size/w2000/2021/01/Screenshot-at-Jan-11-09-54-17.png" alt="Using MinIO for Know Your Customer Data at a Major Bank">
                    </figure>

                <section>
                    <h2 id="introduction">Introduction</h2><p>Document management is a core requirement for all sorts of regulated institutions - finance, telecom, healthcare, government and others. These institutions need to manage and retain an ever growing number of documents and regulatory guidelines often require these documents to be stored for a very long term (7-10 years). <br></p><p>Take for example, KYC (Know Your Customer) documents. Anyone starting a relationship with a financial institution needs to provide KYC documents. These documents are then stored with the institution as long as the relationship exists and even beyond that for several years. <br></p><p>Traditional document management systems are simply no longer able to provide the scale, cost efficiency and reliability that such use cases require. This has triggered the move to modern, cloud native solutions. <br></p><p>In this document we go through various challenges with traditional document management solutions and then look at the next generation solutions that some of our customers have developed.</p><h2 id="challenges">Challenges</h2><h3 id="closed-monolith">Closed Monolith</h3><p>Traditional document management systems are monolithic, closed systems. This means IT teams can not take advantage of new paradigms like segregation of concerns (i.e. microservices), API access, disaggregating storage and compute, among others. Adding features or scaling such systems simply means paying for new licenses. <br></p><p>Additionally, these systems are built as blackboxes with little to no extensionsibility. So, the IT teams have to work around these tools to achieve their intended workflow.</p><h3 id="limited-system-integration-capabilities">Limited System Integration Capabilities</h3><p>Traditional Document management systems are inherently closed, with little to no API integration to plug into external systems, or plugin other tools. This creates a vendor lock-in, higher the number of documents a system manages, the tougher it becomes to get rid of the system.<br></p><p>This is orthogonal to the modern approach of native API integrations with other systems to build powerful features by composition of tools and technologies..</p><h3 id="scalability">Scalability</h3><p>Typical document management systems use databases combined with file systems. Both databases and file systems are well known to have difficulties in handling large data volumes. The scalability challenges in the underlying database and file system, invariably show up as the number of documents grows. <br></p><h2 id="solution">Solution</h2><p>Documents are essentially unstructured blobs of varying formats and sizes, ideal for object storage platforms like MinIO. With seamless scalability, API integration with major modern data platforms to enable search, audit logs and other important features, MinIO fits right in. <br></p><p>Here we propose a highly scalable approach to build a modern, cloud-native document store.</p><figure><img src="https://lh6.googleusercontent.com/cRg4-T5csoo6bC4Tu3wJgsPN8Q5gtYPInRokwDfZTQOOxLl3DCXtf6LA__Wzv-8ZMcCGjZAvJy_x367ASBi0QbEtd-BtiiqJ7xI3a7vW8c3NQOQFw5Vy72Jamzg9x2jKdsO8ueqm" alt=""></figure><p>Letâ€™s take a closer look at the architecture, its components and their interaction:<br></p><ul><li><strong>Frontend:</strong> Modern JS based frameworks like React, Angular, Vue, or Svelte provide a great starting point for building the frontend for enterprise applications like this. Since all these frameworks are API driven, it is quite easy to integrate these with backend, special purpose applications like Identity and Access Management, DB, Object Storage among others. <br></li><li><strong><strong><strong>Text/Metadata Search: </strong></strong></strong>A<strong> </strong>key requirement for a document management system is to allow searching the whole document catalog for specific documents. This search may be based on document metadata (like owner-name, owner-id, document-type etc), or even based on contents of the document itself. Either way, any document metadata can be sent to text search tools like <a href="https://www.meilisearch.com/">MeiliSearch</a>, <a href="https://www.elastic.co/elastic-stack">Elastic</a>. <p>Essentially, MinIO can be <a href="https://docs.minio.io/docs/minio-bucket-notification-guide.html">configured to send out event notifications</a> (with object metadata) to the text search platform. This way, the search platform then has all the document metadata and a link to the actual document in MinIO. The frontend can then send the user query the text search platform and fetch the relevant document.</p><p>Apart from simple text search, the object data and metadata from MinIO can be fed to Machine Learning pipelines as explained in <a href="https://blog.min.io/hyper-scale-machine-learning-with-minio-and-tensorflow/">this blog post</a>. This opens up opportunities to analyse and understand not only the metadata but also the actual documents, opening up business insights for the teams to leverage.</p></li><li><strong><strong><strong>Webhook: </strong></strong></strong>Customer documents are secure and private objects, it is very important for the compliance or audit teams to ensure that a detailed audit log of the document is maintained. <p>MinIO can be <a href="https://github.com/minio/minio/tree/master/docs/logging#audit-targets">integrated with various target systems</a> to send out audit logs. MinIO webhook integration allows seamless integration with any platform that supports webhooks, while removing dependency from message queue type systems. </p><p>Additionally, MinIO ensures that events missed while the remote webook target is offline are delivered later, as and when the target comes back online. Events pending for delivery are stored securely on MinIO, making sure that the audit log doesnâ€™t miss any entry.</p></li></ul><!--kg-card-begin: markdown--><ul>
<li>
<p><strong>Object Storage:</strong> This is the backbone of the whole system. It provides scalable, persistent storage for documents (and their multiple versions), related metadata, user-access policies among other information. There are several unique advantages with a MinIO object storage vs. generic or legacy solutions:</p>
<ul>
<li>
<p>ILM based Tiering &amp; Archival: Lifecycle management feature allows automatically moving data from one storage tier to another (e.g. Warm/Hot to Archival) or even expire certain objects after they are no longer required.	This allows IT teams to ensure that only the frequently accessed documents are kept in the fast tier, while the other, infrequently accessed documents are moved to archival tier which potentially uses cost effective hardware allowing almost limitless storage.</p>
</li>
<li>
<p>Active-Active replication: High availability and protection from data loss is critical for document management systems. MinIO Active-Active replication comes in handy here. Users can configure the MinIO cluster to replicate objects to a remote MinIO cluster. This means IT teams can leverage a 2 DC approach to ensure data is safe from a complete DC failure.</p>
</li>
<li>
<p>Cohasset certified object locking &amp; object retention: MinIO object retention and locking capabilities are certified by Cohasset. This means IT teams can be sure that MinIO software is complaint to the the appropriate regulator.</p>
</li>
<li>
<p>Document versions: MinIO object versioning allows seamless storage of multiple versions of a document. This  maps very well to real life situations where customers may need to provide new documents due to issues in older versions.</p>
</li>
</ul>
</li>
</ul>
<!--kg-card-end: markdown--><h2 id="takeaways">Takeaways</h2><div><p>Document management is not immune to the advancements in cloud technologies, microservices and API-driven development. Having said that, compliance, particularly regulatory compliance does cause innovation to lag. The trend we are seeing today, however, is that major financial institutions are moving toward a model where object storage serves as the foundational element in KYC architectures. </p><p>Modern object storage is scalable, resilient, performant and in the case of MinIO, certified for object locking and retention. </p><p>We think this modern architecture is the optimal approach for regulated institutions like finance, telecom, healthcare, government. </p><p>And this is why all ten of the largest banks in the US run MinIO and eight of the ten largest banks in Europe run MinIO. </p><p>To learn more, reach out to us at <a href="mailto:hello@min.io">hello@min.io</a> and we can go into more detail than we can publicly.</p></div>

                                    </section>

                <section>
                            <a href="https://blog.min.io/tag/s3-select/">S3 Select</a>
                            <a href="https://blog.min.io/tag/machine-learning/">Machine Learning</a>
                            <a href="https://blog.min.io/tag/s3/">S3</a>
                            <a href="https://blog.min.io/tag/performance/">Performance</a>
                            <a href="https://blog.min.io/tag/security/">Security</a>
                            <a href="https://blog.min.io/tag/brand-design/">Brand/Design</a>
                            <a href="https://blog.min.io/tag/spark/">Spark</a>
                            <a href="https://blog.min.io/tag/high-performance/">High Performance</a>
                            <a href="https://blog.min.io/tag/benchmarks/">Benchmarks</a>
                            <a href="https://blog.min.io/tag/integrations/">Integrations</a>
                            <a href="https://blog.min.io/tag/modern-data-lakes/">Modern Data Lakes</a>
                            <a href="https://blog.min.io/tag/kubernetes/">Kubernetes</a>
                            <a href="https://blog.min.io/tag/presto/">Presto</a>
                            <a href="https://blog.min.io/tag/sql/">SQL</a>
                            <a href="https://blog.min.io/tag/opensource/">opensource</a>
                            <a href="https://blog.min.io/tag/golang-2/">Golang</a>
                            <a href="https://blog.min.io/tag/programming/">Programming</a>
                            <a href="https://blog.min.io/tag/cloud-computing/">Cloud Computing</a>
                            <a href="https://blog.min.io/tag/golang/">golang</a>
                            <a href="https://blog.min.io/tag/microservices/">Microservices</a>
                            <a href="https://blog.min.io/tag/raspberry-pi/">Raspberry Pi</a>
                            <a href="https://blog.min.io/tag/github/">Github</a>
                            <a href="https://blog.min.io/tag/docker/">Docker</a>
                            <a href="https://blog.min.io/tag/aws/">AWS</a>
                            <a href="https://blog.min.io/tag/devops/">DevOps</a>
                            <a href="https://blog.min.io/tag/assembly/">Assembly</a>
                            <a href="https://blog.min.io/tag/compilers/">Compilers</a>
                            <a href="https://blog.min.io/tag/api/">API</a>
                            <a href="https://blog.min.io/tag/nginx/">Nginx</a>
                            <a href="https://blog.min.io/tag/dcos/">DCOS</a>
                            <a href="https://blog.min.io/tag/apache-spark/">Apache Spark</a>
                            <a href="https://blog.min.io/tag/open-source/">Open Source</a>
                            <a href="https://blog.min.io/tag/design/">Design</a>
                            <a href="https://blog.min.io/tag/support/">support</a>
                            <a href="https://blog.min.io/tag/subnet/">SUBNET</a>
                            <a href="https://blog.min.io/tag/news/">News</a>
                            <a href="https://blog.min.io/tag/splunk/">Splunk</a>
                            <a href="https://blog.min.io/tag/intel/">Intel</a>
                            <a href="https://blog.min.io/tag/edge-computing/">edge computing</a>
                            <a href="https://blog.min.io/tag/veeam/">Veeam</a>
                            <a href="https://blog.min.io/tag/sidekick/">Sidekick</a>
                            <a href="https://blog.min.io/tag/kms/">KMS</a>
                            <a href="https://blog.min.io/tag/secure-by-design/">secure-by-design</a>
                            <a href="https://blog.min.io/tag/hashicorp/">Hashicorp</a>
                            <a href="https://blog.min.io/tag/cryptography/">cryptography</a>
                            <a href="https://blog.min.io/tag/encryption/">encryption</a>
                            <a href="https://blog.min.io/tag/apache-nifi/">Apache Nifi</a>
                            <a href="https://blog.min.io/tag/recognition/">Recognition</a>
                            <a href="https://blog.min.io/tag/immutability/">Immutability</a>
                            <a href="https://blog.min.io/tag/software-defined-storage/">Software Defined Storage</a>
                            <a href="https://blog.min.io/tag/apache-arrow/">Apache Arrow</a>
                            <a href="https://blog.min.io/tag/vmware/">VMware</a>
                            <a href="https://blog.min.io/tag/hybrid-cloud/">hybrid cloud</a>
                </section>
            </article></div>]]>
            </description>
            <link>https://blog.min.io/object_storage_for_kyc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25740199</guid>
            <pubDate>Tue, 12 Jan 2021 00:05:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zutty is the best X terminal emulator you have never heard of]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25739336">thread link</a>) | @theamk
<br/>
January 11, 2021 | https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty | <a href="https://web.archive.org/web/*/https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><a href="https://tomscii.sig7.se/zutty">Zutty</a> is the best X terminal emulator you have never heard of. It
employs a radically simple, massively parallel rendering algorithm to
completely offload the work of drawing the terminal screen to the GPU.
This is quite different from how other terminal emulators operate,
GPU-accelerated ones included. You can read more on <a href="https://tomscii.sig7.se/2020/11/How-Zutty-works">How Zutty works</a>.</p>

<p>Here I am interested in comparing Zutty to some alternatives: partly
those that are well-known and have been around for many decades, but
also (and especially) to other, newer programs similar to Zutty in
that they also employ some kind of GPU-based rendering.</p>

<p>The comparison will be unashamedly <em>biased</em>: as the author of Zutty, I
have a natural tendency to select criteria that makes Zutty look good.
At the same time, I will try to make a fair comparison based on
quantifiable metrics. Please note: I am in no way trying to convey
that Zutty is altogether superior to any of the programs mentioned
here; all of the programs are useful to at least some people and they
have been written by obviously talented and dedicated programmers. I
do not believe in reducing ranking among programs to a one-dimensional
metric (a.k.a, â€œwhich program is better/bestâ€), as the answer is, in
nearly all aspects, â€œit dependsâ€. The standard disclaimer also
applies: terminals are notoriously complex beasts and my findings with
any of the terminals might be due to â€œother factorsâ€ (including my own
mistakes).</p>

<p>That said, I will aim to show that Zutty provides a compelling set of
features at a high level of correctness and excellent performance
characteristics. Compared to existing GPU-accelerated terminal
emulators, Zutty runs on a wider range of graphics hardware by virtue
of only requiring OpenGL ES as opposed to â€œdesktopâ€ OpenGL, and its
resource demands are otherwise minimal. All this is provided by a
relatively tiny codebase.</p>

<p>Zutty has been written from scratch, and while doing so, I have <em>not</em>
consulted the implementation of any other terminal emulator. As a
result, Zutty has a clean-room codebase unencumbered by historical
baggage. The pervasive cross-pollination observed across the terminal
emulator ecosystem is not necessarily a problem in itself, but fresh
blood certainly makes for better diversity than endless recycling.</p>

<p>At the same time, one could argue that Zutty is not for everyone: it
runs on Linux only (at the moment) and is tied to the X client API (if
only for creating a window and receiving events). It has relatively
little in the â€œfancy featuresâ€ department, even though it is quite
configurable (for the things I care about, anyway). But it also has a
list of missing features: things that should eventually be supported,
but are currently missing.</p>

<p>Comparison criteria will be grouped into three broad categories:
Features and correctness; performance and resource usage; and finally
miscellaneous (developer-oriented) metrics.</p>



<p>All programs are actively developed with publicly accessible codebases
and recent releases. Sorted in decreasing order of popularity/ubiquity
(no science here, just my gut feeling):</p>

<ul>
  <li>
    <p><a href="https://invisible-island.net/xterm/xterm.html">xterm</a>: The standard
terminal emulator for the X Window System, the venerable xterm is
the mother of all X terminal emulators. Carrying several decades of
historical baggage, but at the same time complete with support for
(almost) any terminal-related standard or feature. Runs on every
platform supported by the X Window System.</p>
  </li>
  <li>
    <p><a href="https://en.wikipedia.org/wiki/GNOME_Terminal">gnome-terminal</a>: The
GNOME Terminal Emulator, as its name suggests, is the official
terminal emulator provided by the GNOME project. It is released
under the GNU GPLv3 or later. Gnome terminal uses the
<a href="https://wiki.gnome.org/Apps/Terminal/VTE">VTE</a> library under the
hood, which places it on equal footing with Xfce-terminal,
Terminator, and a long list of others. Enormous installed base.</p>
  </li>
  <li>
    <p><a href="https://software.schmorp.de/pkg/rxvt-unicode.html">urxvt</a>: Also
known as rxvt-unicode, a Unicode-oriented reboot of rxvt, itself a
dumbed down clone of xterm. Boasts features such as â€œcrash-freeâ€,
â€œflicker-freeâ€, using much less memory than xterm, customizability
with embedded Perl, etc. Still widely used and referred to, and has
a reputation of being fast. Released under the GNU GPLv3.</p>
  </li>
  <li>
    <p><a href="https://st.suckless.org/">st</a>: A â€œsimple terminalâ€ provided by
the â€œsucklessâ€ project. It is released under the X/MIT license.
This program expressly positions itself as minimal (bloat-free)
and highly performant. Configuration requires recompilation.</p>
  </li>
  <li>
    <p><a href="https://github.com/alacritty/alacritty">Alacritty</a>: The first
GPU-accelerated terminal emulator to achieve widespread adoption,
famously claiming itself to be â€œthe fastest terminal emulator
in existenceâ€ (more on this claim below). Written in Rust, a new
language for systems programming. Runs on several UNIX-like
platforms. Distributed under the Apache 2.0 license.</p>
  </li>
  <li>
    <p><a href="https://sw.kovidgoyal.net/kitty/">Kitty</a>: Another GPU-accelerated
terminal written in C and Python. Has its own framework for
extensions written in Python. Runs on Linux and MacOS. Advertises
itself as a â€œfeature full [<em>sic</em>], cross-platform, <em>fast</em>, GPU
basedâ€ terminal emulator. Released under the GNU GPLv3.</p>
  </li>
  <li>
    <p><a href="https://tomscii.sig7.se/zutty">Zutty</a>: GPU-accelerated terminal emulator written by this
author, aimed at low-end (low-cost, low-energy) systems with
hardware support for OpenGL ES 3.1. Written in C++, runs on
Linux. Released under the GNU GPLv3.</p>
  </li>
</ul>



<p>My regular low-energy home desktop system is an <a href="https://en.wikipedia.org/wiki/Asus_Tinker_Board">ASUS TinkerBoard
S</a> with an RK3288
32-bit SoC containing an ARM Mali T760 GPU providing hardware support
for OpenGL ES 3.2. Unfortunately, not all tested programs are capable
of running on this (otherwise quite capable) system: Alacritty and
Kitty require â€œdesktopâ€ OpenGL and thus cannot run on this board.  On
the other hand, Zutty runs perfectly fine and is my primary terminal
here.</p>

<p>For the purposes of this article, my test system is a six year old
Lenovo laptop with a 4-core i5-4210U CPU and an Intel Haswell Mobile
chipset with integrated graphics, providing hardware support for
OpenGL ES 3.1 and OpenGL 3.0. Contrary to my low-energy desktop, this
is a 64-bit system. The software is Debian Buster (current stable); I
use the i3 window manager, and the configured locale is <code>en_US.UTF-8</code>.</p>

<p>All terminal window screenshots linked into this article were produced
by the <a href="https://tomscii.sig7.se/zutty/doc/HACKING.html#Automated%20testing">automated testing</a>
toolkit of Zutty. As documented, this toolkit is capable of evaluating
other terminals as well as Zutty, and to collect the screenshots and
data presented below, I relied on exactly this capability.</p>



<p>The below table summarizes essential features of each tested terminal.</p>

<p>The value of <code>TERM</code> within the shell started by the terminal conveys
the terminalâ€™s type to programs being run in it. For terminals
providing their own terminfo entries, the table links to that data as
well as a diff to the quasi-standard <code>xterm-256color</code> used by others.</p>

<p>Device attributes (VT self-identification) are what the terminal
proclaims about itself when queried. This is revealed by <a href="https://invisible-island.net/vttest/vttest.html">VTTEST</a> menu
items 6.4 and 6.5, and the links PDA (primary device attributes) and
SDA (secondary device attributes) lead to the corresponding screen
captures of each program.</p>

<table>
  <thead>
    <tr>
      <th>program</th>
      <th>tested version</th>
      <th>configured font</th>
      <th>TERM setting</th>
      <th>VT self-id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>gnome-terminal</td>
      <td>3.30.2, VTE 0.54.2</td>
      <td>Monospace 11</td>
      <td>xterm-256color</td>
      <td>VT525: <a href="https://tomscii.sig7.se/zutty/test/output/gnome-terminal/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/gnome-terminal/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>Zutty</td>
      <td>0.6</td>
      <td>misc-fixed 9x18</td>
      <td>xterm-256color</td>
      <td>VT520: <a href="https://tomscii.sig7.se/zutty/test/output/zutty/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/zutty/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>xterm</td>
      <td>344</td>
      <td>misc-fixed 9x18</td>
      <td>xterm-256color</td>
      <td>VT420: <a href="https://tomscii.sig7.se/zutty/test/output/xterm/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/xterm/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>Kitty</td>
      <td>0.19.3</td>
      <td>DejaVuSansMono</td>
      <td><a href="https://tomscii.sig7.se/files/zutty/terminfo/xterm-kitty.txt">xterm-kitty</a> [<a href="https://tomscii.sig7.se/files/zutty/terminfo/xterm-kitty-diff.txt">diff</a>]</td>
      <td>VT220: <a href="https://tomscii.sig7.se/zutty/test/output/kitty/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/kitty/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>Alacritty</td>
      <td>0.4.3</td>
      <td>DejaVuSansMono</td>
      <td>xterm-256color</td>
      <td>VT102: <a href="https://tomscii.sig7.se/zutty/test/output/alacritty/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/alacritty/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>st</td>
      <td>0.8.2</td>
      <td>Default OOTB</td>
      <td><a href="https://tomscii.sig7.se/files/zutty/terminfo/st-256color.txt">st-256color</a> [<a href="https://tomscii.sig7.se/files/zutty/terminfo/st-256color-diff.txt">diff</a>]</td>
      <td>VT102: <a href="https://tomscii.sig7.se/zutty/test/output/stterm/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/stterm/vt_06_05.png">SDA</a></td>
    </tr>
    <tr>
      <td>urxvt</td>
      <td>v9.22</td>
      <td>misc-fixed 9x18</td>
      <td><a href="https://tomscii.sig7.se/files/zutty/terminfo/rxvt-unicode-256color.txt">rxvt-unicode-256color</a> [<a href="https://tomscii.sig7.se/files/zutty/terminfo/rxvt-unicode-256color-diff.txt">diff</a>]</td>
      <td>VT102: <a href="https://tomscii.sig7.se/zutty/test/output/urxvt/vt_06_04.png">PDA</a> <a href="https://tomscii.sig7.se/zutty/test/output/urxvt/vt_06_05.png">SDA</a></td>
    </tr>
  </tbody>
</table>



<p>All established programs were tested with their version present in
Debian Buster (current stable). The latest stable release of Kitty was
manually installed, as was Alacritty. Alas, Alacritty stopped
releasing .deb files, so I tested their last version for which a .deb
was released.</p>

<h2 id="vt-support-levels">VT support levels</h2>

<p>The above table is sorted by descending level of proclaimed terminal
support. The difference between implementing a VT400 or VT500 terminal
(provided the implementations are correct) is relatively
inconsequential. The same cannot be said of the gap between these and
VT220-level terminals. Programs running in a less capable virtual
terminal must sometimes use longer series of basic escape sequences to
achieve the results of a fewer number of more modern ones. For
example, the DECLRMM control sequence (set left-right margin mode) is
available from the VT420 and up, and will be used to restrict
scrolling to the active part of two horizontally split <code>tmux</code> panes. On
less capable terminals, <code>tmux</code> is forced to perform more work to
achieve the same result. This is quite similar to how extended
instructions on modern CPUs allow machine code to be more efficient
than code compiled for an older machine. In other words, not
implementing a modern VT variant goes directly counter to greater
efficiency. And there is yet another downgrade from VT220 to those
terminals that only claim to support VT100/VT102.</p>

<p>It is surprising how unambitious the newer terminals Alacritty and
Kitty are in this regard. I would have hoped that new, supposedly
state-of-the-art entrants would take the effort to add support for
modern VT standards. Switching from xterm to Alacritty (or any other
modern terminal) should not be a major downgrade.</p>

<h3 id="side-note-on-vt52-support">Side note on VT52 support</h3>

<p>On the low end of the VT level hierarchy sits the VT52. This is purely
of academic interest in 2020, but still: there is technically no way
for a â€œVT100 or betterâ€ terminal to be standards-compliant and <em>not</em>
support VT52 (as the VT100 spec contains a sequence for downgrading
into VT52 mode). Also, given that VT52 is a (small) subset of what the
VT100 is capable of, any reasonably well structured implementation
should find it easy to fit this in with a minimal amount of additional
code. However, of all the terminals included in this test, only xterm,
urxvt and Zutty implement VT52 mode.</p>

<h2 id="term-settings">TERM settings</h2>

<p>Another problem area for newer entrants into the terminal ecosystem is
the value of TERM set in the shell. This is a bit of a catch-22 for
all programs that are â€¦</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty">https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty</a></em></p>]]>
            </description>
            <link>https://tomscii.sig7.se/2020/12/A-totally-biased-comparison-of-Zutty</link>
            <guid isPermaLink="false">hacker-news-small-sites-25739336</guid>
            <pubDate>Mon, 11 Jan 2021 23:12:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Internet's Own Boy: The Story of Aaron Swartz (2014)]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25738542">thread link</a>) | @tslocum
<br/>
January 11, 2021 | https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a | <a href="https://web.archive.org/web/*/https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738542</guid>
            <pubDate>Mon, 11 Jan 2021 22:34:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Ready for Launch]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25738512">thread link</a>) | @paulsmith
<br/>
January 11, 2021 | https://adhoc.team/2021/01/08/getting-ready-for-launch/ | <a href="https://web.archive.org/web/*/https://adhoc.team/2021/01/08/getting-ready-for-launch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      





<article>
  <header>
    
    

    <div>
      <p>Published on January 08, 2021</p>
      
      <p>
        Topics:
        
        
        
        <a href="https://adhoc.team/insights/insights">Insights</a>
        
      </p>
      
      
      
        
  



      
    </div>
  </header>

  <p>There is nothing like having your application in production. You and your users will find bugs, surprising behavior, and new challenges in ways that simply donâ€™t happen in any other environment. Consider the initial period of time after launch â€” hours or days depending on when demand stabilizes â€” as sacrosanct, an opportunity to focus on operations, system availability, and providing reliable service to your users.</p>

<p>Ad Hoc has been a part of many high-profile launches in government, starting with coming in to help rescue the early troubled launch of <a href="https://www.healthcare.gov/">HealthCare.gov</a>, to subsequent, increasingly smoother open enrollment periods for that same website, to the transformation of <a href="https://www.va.gov/">VA.gov</a>, among others. Weâ€™ve seen first-hand the stakes of getting launch wrong, and the value in doing it right.</p>

<p>In order to properly prepare for launch, take the following hard-won experiential advice into account.</p>

<picture>
  
  
  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  <source media="(max-width: 600px)" alt="An illustration of an astronaut launched into space for a spacewalk" srcset="https://adhoc.team/600-launch-astronaut.3fd0d803.png">
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  </picture></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://adhoc.team/2021/01/08/getting-ready-for-launch/">https://adhoc.team/2021/01/08/getting-ready-for-launch/</a></em></p>]]>
            </description>
            <link>https://adhoc.team/2021/01/08/getting-ready-for-launch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738512</guid>
            <pubDate>Mon, 11 Jan 2021 22:32:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teaching and Assessing Property-Based Testing]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25738436">thread link</a>) | @luu
<br/>
January 11, 2021 | https://blog.brownplt.org/2021/01/10/property-based-testing.html | <a href="https://web.archive.org/web/*/https://blog.brownplt.org/2021/01/10/property-based-testing.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<div id="graymatter">


<div id="posts">
  <div id="posts-content">
    
    


    
        
        
        	<p><em>
          		Posted on 10 January 2021.</em></p><p>Property-Based Testing (PBT) sees increasing use in industry, but lags
significantly behind in education. Many academics have never even
heard of it. This isnâ€™t surprising; computing education still hasnâ€™t
come to terms with even basic software testing,
<a href="https://blog.brownplt.org/2020/01/11/examplar.html">even when it can address pedagogic problems</a>.
So this lag is predictable.</p>



<p>But even people who want to use it often struggle to find good
examples of it.
Reversing a list
<a href="https://twitter.com/DRMacIver/status/1140615803752079360">drives people to drink</a>,
and math examples
<a href="https://twitter.com/b0rk/status/1190471160414326785">are hard to relate to</a>.
This is a problem from several respects.  Without compelling examples,
nobody will want to teach it.  Even if they do, unless the examples
are compelling, students will not pay attention to it. And if the
students donâ€™t, they wonâ€™t recognize opportunities to use it later in
their careers.</p>

<p>This loses much more than a testing technique. We consider PBT a
gateway to <em>formal specification</em>. Like a formal spec, itâ€™s an
abstract statement about behaviors. Unlike a formal spec, it doesnâ€™t
require learning a new language or mathematical formalism, itâ€™s
executable, and it produces concrete counter-examples. We therefore
use it, in Brownâ€™s Logic for Systems course, as the starting point to
more formal specifications. (If they learn nothing about formal
specification but simply become better testers, weâ€™d still consider
that a win.)</p>

<p>Therefore, for the past 10 years, and with growing emphasis, weâ€™ve
been teaching PBT: starting in our accelerated introductory course, then
in Logic for Systems, and gradually in other courses as well. But how
do we motivate the concept?</p>



<p>We motivate PBT through what we call <em>relational</em> problems. What are
those?</p>

<p>Think about your typical unit test. You write an input-output
pair: <code>f(x) is y</code>. Letâ€™s say it fails:</p>

<ul>
  <li>
    <p>Usually, the function <code>f</code> is wrong. Congrats, youâ€™ve just caught a bug!</p>
  </li>
  <li>
    <p>Sometimes, the test is wrong: <code>f(x)</code> is not, in fact, <code>y</code>. This can
take some reflection, and possibly reveals a misunderstanding of the
problem.</p>
  </li>
</ul>

<p>Thatâ€™s usually where the unit-testing story ends. However, there is
one more possibility:</p>

<ul>
  <li>Neither is â€œwrongâ€. <code>f(x)</code> has multiple legal results, <code>w</code>, <code>y</code>, and
<code>z</code>; your test chose <code>y</code>, but this particular implementation
happened to return <code>z</code> or <code>w</code> instead.</li>
</ul>

<p>We call these â€œrelationalâ€ because <code>f</code> is clearly more a relation than
a function.</p>



<p>So far, so abstract. But many problems in computing actually have a
relational flavor:</p>

<ul>
  <li>
    <p>Consider computing shortest paths in a graph or network; there can
be <em>many</em> shortest paths, not just one. If we write a test to check
for one particular path, we could easily run into the problem
above.</p>
  </li>
  <li>
    <p>Many other graph algorithms are also relational. There are many
legal answers, and the implementation happens to pick just one of
them.</p>
  </li>
  <li>
    <p>Non-deterministic data structures inspire relational
behavior.</p>
  </li>
  <li>
    <p>Various kinds of matching problemsâ€”e.g., the stable-marriage
problemâ€”are relational.</p>
  </li>
  <li>
    <p>Combinatorial optimization problems are relational.</p>
  </li>
  <li>
    <p>Even sorting, when done over non-atomic data, is relational.</p>
  </li>
</ul>

<p>In short, computing is full of relational problems. While they are not
at all the only context in which PBT makes sense, they certainly
provide a rich collection of problems <em>that students already study</em>
that can be used to expose this idea in a non-trivial setting.</p>



<p>Okay, so weâ€™ve been having students write PBT for several years
now. But how well do they do? How do we go about measuring such a
question? (Course grades are far too coarse, and even assignment
grades may include various criteriaâ€”like code styleâ€”that are not
strictly germane to this question.) Naturally, their core product is
a binary classifierâ€”it labels a purported implementation as valid
or invalidâ€”so we could compute precision and recall. However, these
measures still fail to offer any <em>semantic</em> insight
into how students did and what they missed.</p>

<p>We therefore created a new framework for assessing this. To wit, we
took each problemâ€™s abstract property statement (viewed as a formal
specification), and sub-divided it into a <em>set of sub-properties whose
conjunction is the original property</em>. Each sub-property was then
turned into a test suite, which accepted those validators that
enforced the property and rejected those that did not. This let us get
a more fine-grained understanding of how students did, and what kinds
of mistakes they made.</p>



<p>If youâ€™re interested in this, and in the outcomes,
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/wnk-use-rel-prob-pbt/">please see our paper</a>.</p>

  </div>
</div>



</div>
</div></div>]]>
            </description>
            <link>https://blog.brownplt.org/2021/01/10/property-based-testing.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738436</guid>
            <pubDate>Mon, 11 Jan 2021 22:27:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Startup Ideas for 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25738414">thread link</a>) | @sagivo
<br/>
January 11, 2021 | https://sagivo.com/startup/2021/01/11/startup-ideas.html | <a href="https://web.archive.org/web/*/https://sagivo.com/startup/2021/01/11/startup-ideas.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Happy 2021! One of my (many) strange hobbies is to keep a list of ideas I would like to explore one day. Each year this list gets larger and my availablity gets smaller. This is why I want to share these ideas with you, hoping someone will find this inspiring and decide to create a company around it this year.</p>

<h2 id="netflix-for-podcasts">Netflix for Podcasts</h2>

<p>Iâ€™m a huge fan of podcasts. Iâ€™m currently spending an average of ~1.5 hours a day listening to podcasts. While there are lots of podcast apps, there is no one good source to recommend podcasts to listen to. Unlike movies or music, podcast episodes are not always sequential. For example, Joe Rogan may interview someone about bitcoin and in the next episode someone else about UFC. Following a person/podcast does not always make sense and sometimes you just want to follow a topic. Like some bands with only one good song, a podcast can have only one specific episode that is relevant to you. I wish I could find a place that recommends <strong>episodes</strong> not just <strong>podcasts</strong> that are relevant to my specific taste.
How? ML can be a good option. I will index all the podcasts out there (transcribe and vectorize the text) and from there try to group them based on similar interest. Also, looking at how people rate podcasts can help with this (people who loved X usually loved Y). It can be a massive capital investment upfront to transcribe all (or the most popular) podcasts, but once you have this in a text format you can monetize it later in different ways.</p>

<h2 id="stripe-for-nfc">Stripe for NFC</h2>

<p>NFC has entered our life more than ever after COVID-19. Touch-less payments are becoming the norm. Apple and Google pay work using NFC technology that allows your phone to communicate with the payment terminal. This is only one use-case of NFC. There is also a new proposal to get the NFC standard in browser as well. There can be so many more use cases: locking doors, activating devices, controlling passwords, unlocking cars, and much more. Unfortunately, there is a disconnect between the hardware and software sides. And in order for NFC product to work well, developers need to have both. Itâ€™s hard to develop an NFC product end-to-end: you need to manufacture your hardware, write custom software to integrate with the NFC protocol, and then implement it on IOS, Android, and soon browsers. There is a room for NFC-as-a-service where you define your API and get a ready to install chip to start building your product.</p>

<h2 id="secret-for-voice">Secret for voice</h2>

<p>I worked at Facebook and I know the power of communities. I also understand the need for anonymity. Nowadays where everyone focuses on visual aspects (TickTock, Instagram, etc..) there is a place for bringing back voice chats for deep, meaningful conversations. When COVID-19 forces people to shelter in place, there arises a need to talk to someone about anything youâ€™re passionate about. These conversations can be anything from politics to personal stress and relationships. Having an anonymous platform to meet and talk with people about a specific topic can be an interchange between Reddit and Podcasts. The anonymity will allow people to open up to meaningful conversations and the voice-only will prevent bad actors from exposing you stuff you donâ€™t want to see (chat-roulette?). You donâ€™t need to look good to talk with someone, all you need to care about is the content of your conversation. You can add a rating system to bubble up the best people so it will create an incentive for meaningful conversations and will bad the bad actors. You can also choose if you want to save this person as anonymous contact in order to chat more in the future.</p>

<h2 id="remote-first-crm">Remote-first CRM</h2>

<p>Remote is becoming the new norm. The tools for remote are anything from communication (Slack, Zoom..), to project tracking to file sharing and documentations. There is a need for an opinionated remote-first tool that aggregates everything in one place. Instead of subscribing and paying to many SaaS services, I would love to have one place that has all the needed aspects for managing a remote company. Anything from tracking projects, to chatting and calling co-workers to all-hands and happy hours. I love Ruby on Rails because it is so opinionated and I believe there is a place for an opinionated way to run a remote-first business. It will not work for everyone, but for the companies who choose to adopt this methodology, the tools will be perfectly integrated with the day-to-day execution.</p>

<h2 id="better-goodreads">Better GoodReads</h2>

<p>As someone who likes to read a lot of <a href="https://www.goodreads.com/user/show/90647916-sagiv-ofek">books</a>, I am in dire need of a better GoodReads. Similar to Netflix for Podcasts, I would love to have Netflix for books with a social element to it.</p>

<h2 id="delivery-service-for-craigslist">Delivery service for Craigslist</h2>

<p>You want to buy a sofa on Craigslist or Facebook Marketplace? Now you need to find how to deliver it. I wish there will be a built-in service that takes care of shipping the item. For smaller packages, you can simply use UPS/FedEx but there is a pain for larger items. This service can piggyback on the marketplace as PayPal did to eBay.</p>

<h2 id="ai-for-traffic-lights">AI for traffic lights</h2>

<p>How many times have you stopped at a red-light and the road was empty? Come on, just install a smart camera that analyzes the cars around it and control the traffic better. It can be as part of a bigger â€œsmart cityâ€ initiative but thatâ€™s a good start.</p>

<h2 id="headspace-for-work">Headspace for work</h2>

<p>I want an app on my laptop that reminds me to take a break. I want it to connect to my busy calendar and suggest times for meditation, maybe a motivational speech before a meeting, etc. I have some on my phone but I want it to be active as part of my working day and not only when I wake up or before I go to sleep. It can have an enterprise play, where companies purchase a subscription for their employees as part of a wellbeing investment.</p>

<h2 id="guided-city-bus-tours">Guided city bus tours</h2>

<p>I live in NYC where you can find those big tourist buses that drive people around and tell them about the city. This usually costs $50. I will pay $5 for an app that I can download and tells me about the city while I take a $2.75 public bus. The routes are usually the same and I would rather like to have the recording in my headphones vs the crappy megaphone. The app will record your GPS location and will tell you about where you are based on your location. Can be for walking as well as for driving.</p>

<h2 id="better-mint">Better Mint</h2>

<p>I love tracking my finances. I mostly use Mint for it. If you ever used mint.com you probably know why there is a need for something better. The UI is from the 90s, they always try to upsell you credit cards and there are not insightful suggestions. There are many new apps that try to do it today but itâ€™s usually part of a new bank/card initiative. There is an opportunity for better tracking and analyzing tool who can give you insights on your budget and how to be more efficient.</p>

<h2 id="mortgage-over-blockchain">Mortgage over blockchain</h2>

<p>Ever tried to get a mortgage? The process is painful. First, you need to disclose your privacy and credit score, fill out tons of paperwork, and pay crazy initiation fees. Smart contracts can do it with one click. Since blockchain records your previous transactions, your credit is determined based on your loan history and not other mambo-jumbo factors. Also, your credit is anonymous so people can loan money to you based on your credit alone. There is no need for lengthy documentation as all the logic will be part of the smart-contract code. Anything from transferring money to recording payments can be done in one place (making bankers, lawyers and their fees unnecessary). There is an opportunity to set up a company that takes care of the legality aspects. Combine that with a marketplace where people can lend to others (LendingClub style) simply based on their past blockchain credit.</p>

<h2 id="just-do-it">Just do it</h2>

<p>Are you interested in one of these ideas? <a href="https://linkedin.com/in/sagivo">Let me know</a>, or better, ship it!</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://sagivo.com/startup/2021/01/11/startup-ideas.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738414</guid>
            <pubDate>Mon, 11 Jan 2021 22:26:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Most Machine Learning Models Are Irreproducible, Software Contracts Can Help]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25738317">thread link</a>) | @zuhayeer
<br/>
January 11, 2021 | https://gradio.app/blog/missing-contracts | <a href="https://web.archive.org/web/*/https://gradio.app/blog/missing-contracts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <p id="desc">Why pretrained machine learning models are often unusable and irreproducible â€” and
      what we can do about it.</p>
    <p id="by_who">By <a href="https://www.twitter.com/abidlabs/">Abubakar Abid</a></p>

    <h2>Introduction</h2>
    <p>
      A useful approach to designing software is through <em>contracts</em>. For every function in your codebase, you
      start by writing its contract: clearly specifying what inputs are expected and valid for that function (the
      <em>precondition</em>), and what the function will do (the <em>postcondition</em>) when provided an appropriate input.
      This is often explicitly stated in the docstring of a function. Consider this example from the <strong>math</strong> module
      in Python (implemented in C):
    </p>
    

    <p>
      The contract in the docstring has two parts:
    </p>
    <ul>
      <li><strong>Precondition</strong>: input should be an integer between 2â¶Â² and 2â¶â´</li>
      <li><strong>Postcondition</strong>: output is an integer within 1 of the square root of the input</li>
    </ul>

    <p>The contract is powerful because when the code is published, other developers <strong>do not need to test the function</strong> themselves, <strong>nor consider its internal implementation</strong>. They can read off the range of valid
      inputs for the function and start using it immediately. Conversely, they operate knowing that <em>if the
        precondition is not satisfied, then neither is the postcondition guaranteed</em>.
    </p>
    <p>Nowadays, <strong>pretrained machine learning models are increasingly being deployed as functions and APIs</strong>. They
      are part of companiesâ€™ internal codebases [1], released externally for use through APIs [2], and, in research,
      pretrained models are published as part of the review and reproducibility processes [3].</p>

    <p>
      A pretrained model is essentially a function: it takes in a particular input sample and makes a prediction as the
      output. And as users of these models, we need to know what data is valid to feed into the model, and which data
      can lead to unreliable predictions. <strong>It is usually infeasible to test the model ourselves with all possible
        data, and impossible to inspect the internal implementation</strong>, so if we are provided a contract with a clear
      specification of the valid input data, we can start using the model immediately and confidently. However,
      specifying â€œvalid dataâ€ for machine learning models is much harder than it may sound. Letâ€™s consider a few
      challenges, illustrated with examples of publicly released models, all taken from this yearâ€™s NeurIPS conference:


    </p><h3>1. When input data needs to be preprocessed in very specific ways</h3>
    <p><strong>Paper</strong>: SEVIR: A Storm Event Imagery Dataset for Deep Learning
    </p>
    
    <p>
      In this paper from MIT, the authors collect a rich dataset of satellite images of storm events recorded over time.
      Helpfully, the authors also release to the community several pretrained models on this dataset.
    </p>
    <p>
      I tried to use one of the pretrained <em>nowcasting</em> models (used to predict storm movement patterns over the
      next hour) by inputting satellite images from the authorâ€™s own dataset into the model, and <strong>started getting
        predictions that didnâ€™t make any sense</strong>. Normalizing the images in different ways didnâ€™t seem to help. I
      traced down the example jupyter notebook that the authors had provided and saw these lines of code:
    </p>

    

    <p>It turns out that <em>some</em> of the channels in the input images were supposed to be rescaled in a <em>very
        specific way</em> for the model to produce reasonable outputs. This information was not packaged in any way with
      the pretrained model, even though it is crucial for the model to work properly. In this case (and as is commonly
      the case), the model did not throw any errors even though the data was not scaled properly. It chugged along,
      making nonsensical predictions, and I was left to realize on my own that something was wrong.</p>

    <p>Information related to preprocessing of the input data should be included in the documentation of pretrained
      models; otherwise, we are left to figure out for ourselves on how to prepare data for inference. <strong>But it is at
        least conceivable that these preprocessing details <em>could</em> be included in technical documentation</strong>.
      Sometimes, itâ€™s not just preprocessingâ€¦
    </p>
    <h3>2. When input data needs to come from a specific dataset</h3>
    <p>
      Paper: Object-Centric Learning with Slot Attention
    </p>
    
    
    <p>
      As we shall see, this third example is particularly problematic, in that it is extremely difficult to specify in
      advance what kind of images the model can accept and where it fails. The authors publish a state-of-the-art
      super-resolution model that takes in a low-resolution or standard-resolution of an image, and outputs a
      higher-resolution version. Hereâ€™s an example of the released pretrained model working beautifully:</p>
    <img src="https://i.ibb.co/68WpY48/DAN.png">
    <p>However, letâ€™s try the same model with a different image:</p>

    <img src="https://miro.medium.com/max/4800/1*XooM_r2OGcMOHfbNR65jcA.png">
    <p>
      How strange! I certainly was not expecting this blueish image as the output of a state-of-the-art super-resolution
      model. Certainly, this failure mode would not happen with a classical image processing algorithm for sharpening
      images. But with this machine learning model, we do not have any idea of the internal implementation, and because
      there is no contract, we do not know which images we can trust this model with!
    </p>

    <p>
      After spending hours wrangling with the model, I couldnâ€™t figure out what images the model correctly resolves and
      which ones produce these strange blue outputs. Because the model is missing a contract, this is a significant
      waste of engineering effort: I spent a significant amount of time getting the model loaded and running locally
      only to realize that it wonâ€™t work for some of my data.
    </p>
    <h3>Conclusion â€” is there a solution?</h3>
    <p>
      We machine learning developers often assume that if we are able to get good performance on our test sets, our
      models are ready to deploy and release. <strong>We do not concern ourselves enough with how downstream users are using
        models with data that might look quite different from our training and test sets</strong>. However, this is happening
      more and more: as machine learning models are being released as APIs for general use, or are being deployed
      internally but data streams are changing over time, <strong>we can no longer assume that a modelâ€™s test performance is
        indicative of its performance in the real world</strong>.
    </p>

    <p>
      We need to provide contracts that make it clear to users what input data are valid for our models. Otherwise,
      machine learning models will work properly until they donâ€™t. Systems built on top of machine learning models will
      fail.
    </p>
    <p>At the same time, weâ€™ve seen that specifying valid input data through explicit instructions is difficult. What
      can be done? I have two suggestions:</p>
    <ol>
      <li>We develop better methods for determining whether a sample belongs to our modelâ€™s â€œvalid data distribution.â€
        Perhaps contracts can themselves be â€œcontract functions,â€ which assess whether an input sample is valid if it is
        â€œsimilarâ€ enough to our training distribution. Such methods for detecting in-distribution and
        out-of-distribution data are being developed [4], though there are caveats to using them in practice [5].</li>
      <li>We make it easier to test models so that model failures are identified easily and earlier in the model
        development process. This helps model creators know and communicate the preconditions of their library, and
        helps end users quickly know if a model is suitable for their use. This is the motivation behind our open-source
        <a href="https://github.com/gradio-app/gradio">gradio</a> library. In fact, the failure points identified in the
        models above were all easily done with the library.</li>
    </ol>
    <p>
      And of course, we can pursue both solutions at the same time â€” we make it easier to identify model failure points,
      but also invest in developing contract functions for machine learning models going forward.
    </p>

    <h3>References</h3>

    <p>[1] <a href="https://huggingface.co/transformers/pretrained_models.html">Pretrained models â€” transformers 4.1.1
        documentation (huggingface.co)</a> </p>
    <p>[2] <a href="https://cloud.google.com/vision">Vision AI | Derive Image Insights via ML | Cloud Vision API
        (google.com)</a> </p>
    <p>[3] <a href="https://www.gradio.app/hub/abidlabs/Noise2Same">https://www.gradio.app/hub/abidlabs/Noise2Same</a>
    </p>
    <p>[4] <a href="https://paperswithcode.com/task/out-of-distribution-detection/latest">Out-of-Distribution Detection
        | Papers With Code</a> </p>
    <p>[5] <a href="https://arxiv.org/abs/1810.09136">[1810.09136] Do Deep Generative Models Know What They Donâ€™t Know?
        (arxiv.org)</a> </p>
  </div></div>]]>
            </description>
            <link>https://gradio.app/blog/missing-contracts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738317</guid>
            <pubDate>Mon, 11 Jan 2021 22:21:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A React Developerâ€™s Guide to Hooks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25738177">thread link</a>) | @flurly
<br/>
January 11, 2021 | https://flurly.com/p/use-hooks | <a href="https://web.archive.org/web/*/https://flurly.com/p/use-hooks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><strong>React Hooks are awesome, but they are not easy to use every day.</strong></p>
<p>A guide in 11 lessons to help you:</p>
<ul>
<li>Understand how hooks work</li>
<li>Master common patterns</li>
<li>Solve recurring problems</li>
<li>Use hooks at their full potential</li>
</ul>
<h2>Why this book?</h2>
<p>In my experience with React and hooks, I have faced a lot of issues, spent some time debugging to understand where these issues came from, and seen other developers make the same mistakes again and again.</p>
<p>I have also seen several developers during technical tests in job interviews getting lost when using hooks because they needed to go past the basic use of <em>useState</em> and <em>useEffect</em>.</p>
<p>This is why I wrote this guide for developers who already know and use React, maybe even hooks, but would like to use them at their full potential.</p>
<h2>100% React</h2>
<p>The idea is not to present you dozens of awesome hooks: to begin you will only need two, <em>useState</em> and <em>useEffect</em>. First, weâ€™ll deep dive into these two, then weâ€™ll see some others to solve specific problems. Always by using only React, no third-party libraries.</p>
<p>By buying this guide, you will get:</p>
<ul>
<li>A condensed presentation of hooks and how they work,</li>
<li>Concrete common problems with several solutions to fix them,</li>
<li>Examples all along, because they are the best way to understand,</li>
<li>A list of useful online resources and third-party hooks to go deeper,</li>
<li>All in a beautifully presented document (for the PDF version).</li>
</ul>
<h2>Runnable examples</h2>
<p>The pack contains an archive will all the examplesâ€™ source code, plus the instructions to run them locally on your machine.</p>
<h2>About the author</h2>
<p>Iâ€™m Sebastien Castiel, a French developer expatriated in Montreal. I have used React for several years now, and hooks for the last two years, on several projects.</p>
<p>You can find my writings on my blog (<a href="https://scastiel.dev/">scastiel.dev</a>), or hear what I have to say on Twitter (<a href="https://twitter.com/scastiel">@scastiel</a>). You can also say hi by sending me an email at <a href="mailto:sebastien@castiel.me">sebastien@castiel.me</a>.</p>
<h2>What if I donâ€™t like what I bought?</h2>
<p>If you are not totally satisfied with the guide, I offer you a 30-day money-back guarantee, no question asked. Just shoot me an email at <a href="mailto:sebastien@castiel.me">sebastien@castiel.me</a>.</p>
<h2>Table of contents</h2>
<ul>
<li>Foreword</li>
<li>Lesson 1 - Store a local state with useState</li>
<li>Lesson 2 - Trigger side effects with useEffect</li>
<li>Lesson 3 - Custom hooks and classic async pattern</li>
<li>Lesson 4 - What are hooks anyway?</li>
<li>Lesson 5 - Debugging hooks</li>
<li>Lesson 6 - Get the current state when dealing with async code</li>
<li>Lesson 7 - Solving infinite loops when using useEffect</li>
<li>Lesson 8 - Optimizing performance with useMemo and useCallback</li>
<li>Lesson 9 - Debouncing a user input</li>
<li>Lesson 10 - Using contexts to share values between components</li>
<li>Lesson 11 - Simplify state update logic with reducers</li>
<li>Additional resources and links</li>
</ul>
<p>Note: As Iâ€™m receiving feedback from the first readers, the content might change in the next couple of weeks. If you purchase the book, youâ€™ll be informed of all the updates ğŸ˜‰</p>
</div></div></div>]]>
            </description>
            <link>https://flurly.com/p/use-hooks</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738177</guid>
            <pubDate>Mon, 11 Jan 2021 22:14:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Laptops Need to Change]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25737996">thread link</a>) | @madsaylor
<br/>
January 11, 2021 | https://grigorchuk.me/posts/laptops-need-to-change/ | <a href="https://web.archive.org/web/*/https://grigorchuk.me/posts/laptops-need-to-change/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<section>
    <article>
        <header>
            
            <div>
                <p><span>
                        <i></i>
                        <time datetime="2020-12-07T09:30:14+03:00">
                            December 7, 2020
                        </time>
                    </span>
                    <span>
                        <i></i>
                        3-minute read
                    </span>
                </p>
                
                
            </div>
        </header>

        <div>
            
            <figure>
    <img src="https://grigorchuk.me/laptops/hunched.png" width="400"> <figcaption>
            <p>Congrats! You are a digital nomad!</p>
        </figcaption>
</figure>

<p>Modern laptops are unusable. Spending more than a couple of hours on a laptop leads to neck or back pain. At first, itâ€™s just uncomfortable, but then it becomes unbearable. The laptop forces you to hunch over it while youâ€™re supposed to be sitting straight.</p>
<p>Your neck, wrists or back will eventually be hurt. For me, it was the neck. I just had to come up with something, or I couldnâ€™t work. The display should be at eye level so my neck wouldnâ€™t be under constant tension, which causes pain after a while.</p>
<p>Thereâ€™s no such problem with desktop computers. There are monitors on a stand, and some people treat themselves with monitor arms. But I didnâ€™t want to bind myself to just one workplace â€” that was the reason I bought a laptop in the first place.</p>
<p>I like working in coffee places sometimes. I wanted to stay mobile, and I wanted to work from the same computer at home and work.
And then I found the solution: a laptop stand. There are plenty of them. I started with a cardboard one.
</p><figure>
    <img src="https://grigorchuk.me/laptops/cardboard_stand.jpg" alt="Cardboard laptop stand" width="600"> 
</figure>

<figure>
    <img src="https://grigorchuk.me/laptops/on_a_stand.png" alt="Laptop on stand" width="600"> 
</figure>

<p>It does the job and you can 
<a target="_blank" href="https://mashable.com/2012/10/13/cardboard-laptop-stand-diy/">do it yourself</a><i></i> in 15 minutes.</p>
<p>The more sophisticated one is 
<a target="_blank" href="https://amzn.to/3lPyB1D">Roost Stand</a><i></i>, from a former aerospace engineer. It can hold up to 20 kilograms, or 44 pounds. I upgraded to it after a while.</p>
<figure>
    <img src="https://grigorchuk.me/laptops/roost.gif" alt="Roost Stand" width="600"> 
</figure>

<p>This solution comes with a price: You canâ€™t use the laptopâ€™s keyboard and touchpad anymore. You have to buy an external keyboard and external mouse/trackpad.
In addition to the laptop and power brick, here is what you end up with:</p>
<ul>
<li>laptop stand.</li>
<li>Bluetooth mouse (can be less weird than mine).</li>
<li>Bluetooth keyboard.</li>
</ul>
<figure>
    <img src="https://grigorchuk.me/laptops/setup.jpg" width="600"> 
</figure>

<p>You end up with 1 pound (or ~500 grams) more in your backpack. You have to carry two keyboards and two pointing devices if you want to be fully mobile. Soon I realized that I do not usually work at home, and left all but my laptop at the co-working place.</p>
<p>Laptop vendors do not seem to care or even notice this problem. But the problem exists.
Iâ€™ve been at the same coworking space for a while, and within three months three people asked me about the laptop stand and where to get it â€” and two of them eventually got it.</p>
<p>The laptop form factor is old. Itâ€™s the same screen plus keyboard booklet that it was 40 years ago. I think itâ€™s time to come up with something new. The manufacturer that will invent a new design can be a true pioneer.</p>
<p>I will review more solutions and suggest my own in a separate post. Stay tuned!</p>

        </div>


        
    </article>

    
  
  
  
</section>

      </div></div>]]>
            </description>
            <link>https://grigorchuk.me/posts/laptops-need-to-change/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737996</guid>
            <pubDate>Mon, 11 Jan 2021 22:03:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Beat Parkinson's Law]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25737972">thread link</a>) | @antdke
<br/>
January 11, 2021 | https://antdke.co/posts/how-to-beat-parkinsons-law | <a href="https://web.archive.org/web/*/https://antdke.co/posts/how-to-beat-parkinsons-law">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://www.economist.com/news/1955/11/19/parkinsons-law" target="_blank" rel="nofollow noopener noreferrer">Parkinsonâ€™s Law</a>, simply put, is that a task will grow to fill the amount of time that you give to it.</p>
<p><img src="https://antdke.co/parkinsons-law-graph.png" alt="" width="600"></p><p>Example:</p>
<ul>
<li>Give yourself 4 weeks to write an essay, itâ€™ll likely take you most of, if not the whole, 4 weeks.</li>
<li>Give yourself 24 hours to write that same essay, itâ€™ll take you less than, or the entire, 24 hours.</li>
</ul>
<h2 id="my-solution"><a href="#my-solution" aria-label="my solution permalink"></a>My Solution</h2>
<p>A solution Iâ€™ve found that works for beating this law is to <strong>set deadlines within the deadline time frame</strong>.</p>
<p>A generic example:</p>
<p>Letâ€™s say itâ€™s 1pm.</p>
<p>And you have until 5pm to get a task done.</p>
<p>Itâ€™s likely that your brain will make you procrastinate until you have an hour or two left.</p>
<p>What snaps you out of procrastination is the panic part of your brain.</p>
<ul>
<li>Too much panic is bad -&gt; Anxiety</li>
<li>But a little panic is good -&gt; Alertness</li>
</ul>
<p>The goal is to kickstart the panic part of your brain earlier. <em>At will.</em></p>
<p>And you do that by setting a mini-deadline (letâ€™s say 3pm) during the duration of the larger deadline (5pm).</p>
<p>And make it a real deadline. Write it down. Repeat it to yourself. Make it feel real. Replace the panic for 5pm with 3pm. Trust me, it works.</p>
<p>And it doesnâ€™t really matter when you set your mini-deadlines or how many you set. <strong>The goal is to get you actively working earlier than the original, larger deadline.</strong> So set them how you see fit.</p>
<p>Now, by the time itâ€™s 3pm, youâ€™ll have gotten a huge chunk of your work done, if not half or all of it. Then, itâ€™ll be a smoother ride to 5pm as youâ€™ll have less work to rush through.</p>
<p>At that point, you can reset your panic to 5pm.</p>
<p>And <em>voila!</em> Youâ€™ve beaten Parkinsonâ€™s Law.</p>
<h2 id="its-scalable"><a href="#its-scalable" aria-label="its scalable permalink"></a>Itâ€™s Scalable</h2>
<p>The great thing is you can scale this solution up to work you have to do within a weekâ€™s deadline or 6 months deadline. Or even life goals with 2-10 year deadlines.</p>
<p><strong>Just remember:</strong> Add solid deadlines within your deadline that will awaken the panic part of your brain early so you can get stuff done.</p>
<br></div></div>]]>
            </description>
            <link>https://antdke.co/posts/how-to-beat-parkinsons-law</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737972</guid>
            <pubDate>Mon, 11 Jan 2021 22:01:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My ISP Is Killing My Idle SSH Sessions]]>
            </title>
            <description>
<![CDATA[
Score 389 | Comments 235 (<a href="https://news.ycombinator.com/item?id=25737611">thread link</a>) | @anderstrier
<br/>
January 11, 2021 | https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/ | <a href="https://web.archive.org/web/*/https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-100">
		<!-- .entry-header -->

	
	<div>
		
<p>tl;dr: My ISPâ€™s CGNAT session timeout is too short, meaning TCP keepalives gets dropped. Test if your own NAT, or your ISPâ€™s CGN, violates <a href="https://tools.ietf.org/html/rfc5382">RFC5382</a>â€˜s REQ-5 using this tool: <a href="https://github.com/AndersTrier/NAT-TCP-test">https://github.com/AndersTrier/NAT-TCP-test</a>.</p>



<p>I have been working from home more lately, where I have SSH sessions open to the servers that Iâ€™m working on. Often when I return to my computer, or switch to a SSH session that has been sitting idle for a while, the SSH connection is either dead or frozen. If the session is not already dead, the only way to gain control over my terminal again, is to send the â€˜terminate connectionâ€™ <a href="https://lonesysadmin.net/2011/11/08/ssh-escape-sequences-aka-kill-dead-ssh-sessions/">ssh escape sequence</a> <strong>&lt;enter&gt;~.</strong> after which SSH errors like this:</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="2e4f5a416e43475c5c415c5d004a415a5d5c4d00415c49">[email&nbsp;protected]</a>:~$ 
client_loop: send disconnect: Broken pipe</pre>



<p>This happened one day while I was transferring a VM image in the hundreds of gigabytes from one server to another using netcat like so:</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="b9d8cdd6f9d1d6cacd8b">[email&nbsp;protected]</a>:~$ nc -l 1337 &gt; hugefile 
<a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="fa9b8e95ba9295898ecb">[email&nbsp;protected]</a>:~$ nc -q 1 host2 1337 &lt; hugefile</pre>



<p>This transfer would take multiple hours, and when I checked in after it should have finished, my SSH connections had died yet again. And sshd had taken netcat down with it, killing the transfer midway.</p>



<p>Thatâ€™s when I decided to investigate this problem.</p>



<p>The OpenBSD and OpenSSH developers are known for their extreme focus on code quality. The chances that this problem is caused by a bug in OpenSSH are very slim. (In the same line as â€œIt is (almost) never a compiler error.â€)</p>



<p>This is probably a network problem.</p>



<p>I connected my laptop directly to my ISPâ€™s â€œcustomer-provided equipmentâ€: a coax modem in bridge mode. Then I ran tcpdump both on my laptop and on the server, and opened a SSH connection. After leaving it idle for about 2 1/2 hours, this is the result:</p>



<p>Client: 100.68.156.34 / 203.0.113.1, server: 130.225.254.99.</p>



<figure><img loading="lazy" width="1680" height="1206" src="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside.png" alt="" srcset="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside.png 1680w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-300x215.png 300w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-1024x735.png 1024w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-768x551.png 768w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-1536x1103.png 1536w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"><figcaption>Client side</figcaption></figure>



<figure><img loading="lazy" width="1705" height="1224" src="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside.png" alt="" srcset="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside.png 1705w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-300x215.png 300w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-1024x735.png 1024w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-768x551.png 768w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-1536x1103.png 1536w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"><figcaption>Server side</figcaption></figure>



<p>A SSH session does not generate any traffic, unless thereâ€™s new output or input. The same is true for TCP. That is why, after the TCP and SSH sessions have been established, no more packages are sent for a long time.</p>



<p>First thing to note, is that my laptop gets an IP in the <a href="https://tools.ietf.org/html/rfc6598" data-type="URL" data-id="https://tools.ietf.org/html/rfc6598">Carrier-grade NAT address space 100.64.0.0/10</a>, which my ISP then translates to a public internet routable IP. (Because I donâ€™t want to leak my public IP, I used the <a href="https://tcpreplay.appneta.com/wiki/tcprewrite">tcprewrite</a> tool to substitute that IP with one in <a href="https://tools.ietf.org/html/rfc5737">TEST-NET-3</a>).</p>



<p>Next thing to note, is that after about 2 hours, both the client and the server starts to send TCP-keepalive packages, but none of them come through to the other side.</p>



<p>Finally the client gives up on the TCP session, and sends a TCP reset package, which surprisingly goes through.</p>



<p>Lets see what we can find in the OpenSSH man pages about timeouts and keepalives (ssh_config(5)):</p>



<pre><strong>TCPKeepAlive</strong>
    Specifies whether the system should send TCP keepalive messages to the other side.&nbsp; If they are sent, death of the
 &nbsp;&nbsp;&nbsp;connection or crash of one of the machines will be properly noticed.&nbsp; This option only uses TCP keepalives (as opâ€
 &nbsp;&nbsp;&nbsp;posed to using ssh level keepalives), so takes a long time to notice when the connection dies.&nbsp; As such, you probaâ€
 &nbsp;&nbsp;&nbsp;bly want the ServerAliveInterval option as well.&nbsp; However, this means that connections will die if the route is down
 &nbsp;&nbsp;&nbsp;temporarily, and some people find it annoying.
 &nbsp;&nbsp;&nbsp;<strong>The default is yes</strong> (to send TCP keepalive messages), and the client will notice if the network goes down or the reâ€
 &nbsp;&nbsp;&nbsp;mote host dies.&nbsp; This is important in scripts, and many users want it too.
 &nbsp;&nbsp;&nbsp;To disable TCP keepalive messages, the value should be set to no.&nbsp; See also ServerAliveInterval for protocol-level
 &nbsp;&nbsp;&nbsp;keepalives.
<strong>ServerAliveInterval</strong>
    Sets a timeout interval in seconds after which if no data has been received from the server, ssh(1) will send a mesâ€
    sage through the encrypted channel to request a response from the server.&nbsp; <strong>The default is 0, indicating that these</strong>
    <strong>messages will not be sent to the server</strong>, or 300 if the BatchMode option is set (Debian-specific). </pre>



<p>So <strong>TCPKeepAlive</strong> enables keepalives handled by the TCP stack implementation (Linux in my case), whereas <strong>ServerAliveInterval</strong> enables protocol level keep-alives (handled by OpenSSH).</p>



<p>This explains the behavior weâ€™re observing, but also raises new questions:</p>



<ol><li>Can I fix my problem by enabling the ssh protocol-level-keepalives? (ServerAliveInterval)</li><li>Why are the TCP keepalives only sent after 2 hours?</li><li>Why is my ISP dropping my TCP keepalive packages?</li></ol>



<p>I verified that by setting <strong>ServerAliveInterval</strong> to 300 (5 min), my problems disappeared. We could stop now that I found a workaround, but letâ€™s keep digging.</p>



<p>The TCP keepalive interval on Linux is configured by <strong>net.ipv4.tcp_keepalive_time</strong>, which by default is set to 2 hours (7200).</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="63020d07061110231601160d17164e07061008170c13">[email&nbsp;protected]</a>:~$ sysctl net.ipv4.tcp_keepalive_time
net.ipv4.tcp_keepalive_time = 7200</pre>



<p>Why is it set to two hours? We find our answer in <a href="https://tools.ietf.org/html/rfc1122">RFC1122</a>:</p>



<pre>Keep-alive packets MUST only be sent when no data or
acknowledgement packets have been received for the
connection within an interval.  This interval MUST be
configurable and <strong>MUST default to no less than two hours</strong>.</pre>



<p>In the following DISCUSSION section, the RFC writers elaborate on why they (in 1989) think TCP keep-alives only should be sent infrequently:</p>



<pre>The TCP specification does not include a keep-alive mechanism because it could:
(1) cause perfectly good connections to break during transient Internet failures;
(2) consume unnecessary bandwidth ("if no one is using the connection, who cares if it is still good?"); and
(3) cost money for an Internet path that charges for packets.</pre>



<p>Today the Internet is different from what it was in 1989 when they published that RFC. Now we have NAT everywhere, which is a hack that was accepted on IPv4 because the IPv4 address space is too small. The real solution is IPv6 which has a much bigger address space (2^32 vs 2^128).</p>



<p>NAT (Network Address Translation) allows many computers on a network to share the same IP. This typically works by routing your packet to a device which translates/substitutes your private <a href="https://tools.ietf.org/html/rfc1918">RFC1918</a> IP (e.g 192.168.0.0/16) for a public one, and passes on the packet.</p>



<p>CGN (Carrier-grade NAT) is NAT run by an ISP. This allows for many customers to share a single public IP (because even with every household being assigned a single IPv4, weâ€™re still running out). To avoid collisions with the <a href="https://tools.ietf.org/html/rfc1918">RFC1918</a> ranges, ISPs are told to use the 100.64.0.0/10 range. With this setup it is not uncommon to have 3 levels of NAT. Ex, CGN, CPE that also does NAT, and the customers own router.</p>



<p>A NAT device must keep track of which connections are made by the clients. This information is stored in the NAT table. Whenever a packet arrives from the Internet, it checks if the packet belongs to any connections in its NAT table, to figure determine which client to send the package to. If it doesnâ€™t belong to any connections, it drops the packet.</p>



<p>This wouldnâ€™t work if the NAT table only stored IP addresses â€“ which client should the NAT device send the packet to if receiving a packet from a server two of its clients are connected to? That is why â€“ unlike routers â€“ NAT devices have to cross protocol boundaries, and look deeper inside the packet and find a â€œ<a href="https://tools.ietf.org/html/rfc3022">transport identifier</a>â€œ. For TCP and UDP the identifiers used are the source and destination port numbers, and for ICMP the Query <a href="https://tools.ietf.org/html/rfc792">Identifier</a> is usually used.</p>



<p>A NAT table looks something like this (weâ€™ll ignore ICMP for now):</p>



<pre>PROTOCOL SRCIP       SRCPORT DSTIP          DSTPORT NEWSRCPORT IDLETIME
TCP      192.168.1.1 52264   130.225.254.99 22      52264      983
UDP      192.168.1.2 39252   8.8.8.8        53      39252      0</pre>



<p>This NAT hack unfortunately opened up Pandoraâ€™s box of problems that we are still dealing with today. For example, you can no longer initiate a connection to a computer behind NAT. The NAT device does not know which host to send the packet to. This is why NATâ€™ing is often equated with firewalling. It is not a feature as such. It is a side effect of the NAT hack.</p>



<p>Back when NAT was introduced, it was not uncommon for protocols to rely on the server establishing a second connection back to the client. In â€œActive FTPâ€ for example, the server will initiate a new connection back to the client (the data channel) after the client has connected. For this to work the NAT must be even more protocol aware, and preemptively create a mapping for the requested port. The same is true for SIP (used for VoIP) and a few other protocols. This is why most NAT devices can be configured to be FTP and SIP aware. Exactly this feature was recently shown to be a huge security problem â€“ you can trigger this functionality to create a mapping of your choosing from a visitors browser, and connect to any device behind the visitors NAT. Read more about the <a href="https://github.com/samyk/slipstream">NAT Slipstreaming attack here</a>.</p>



<p>For big data transfers, or latency sensitive connections (file sharing, VoIP, gaming etc) it is very much preferable to have a direct connection between hosts. But if both hosts are behind a NAT, this is not immediately possible. To solve this problem, a new hack was introduced: <a href="https://tools.ietf.org/html/rfc5389">NAT hole punching</a>, where you â€“ by using a third-party â€“ can trick your NAT devices to allow traffic directly between the hosts by creating a NAT table entry (â€œpunchingâ€ a hole) in both NATs simultaneously. It is only somewhat reliable, and works best with UDP in my experience.</p>



<p>NAT is also one of the reasons the new <a href="https://datatracker.ietf.org/doc/draft-ietf-quic-transport/?include_text=1">QUIC</a> protocol uses UDP packages instead of its own protocol. Too many devices will fail to handle the packet correctly if they introduced a new <a href="https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">protocol number</a> to use in the IP header. Where should the NAT device look for a transport identifier in an unknown protocol header?</p>



<p>Another problem that arises because of NAT is: when is it safe to remove an entry from the NAT table? Sometimes the answer is simple: when you see that the connection has been closed (e.g the TCP Normal Close Sequence). But when is it safe to remove an established â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/">https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/</a></em></p>]]>
            </description>
            <link>https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737611</guid>
            <pubDate>Mon, 11 Jan 2021 21:38:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Now what? The collateral damage of a tech backlash]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 25 (<a href="https://news.ycombinator.com/item?id=25737531">thread link</a>) | @nillium
<br/>
January 11, 2021 | https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/ | <a href="https://web.archive.org/web/*/https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.nillium.com/content/images/size/w300/2021/01/IMG_2096.jpg 300w,
                            https://blog.nillium.com/content/images/size/w600/2021/01/IMG_2096.jpg 600w,
                            https://blog.nillium.com/content/images/size/w1000/2021/01/IMG_2096.jpg 1000w,
                            https://blog.nillium.com/content/images/size/w2000/2021/01/IMG_2096.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.nillium.com/content/images/size/w2000/2021/01/IMG_2096.jpg" alt="Now what?  The collateral damage of a tech backlash">
            </figure>

            <section>
                <div>
                    <p>For many Americans, the events of the past week have left emotions raw, tempers hot, and for some, social media accounts deactivated. </p><p>Itâ€™s a reasonable response by those who believe various social networks allowed disinformation to flourish, or worse: allowed seditious plots to metastasize on their platforms, which led to a mob storming the U.S. Capitol.</p><p>The very social platforms that are being (rightly) targeted for their role in fanning the flames of an insurrection are the same ones that drive traffic to news sites. To exist today, newsrooms have little to no choice: social platforms are a necessary evil.</p><p>The irony is astounding: a boycott protesting the spread of disinformation could be so harmful to the viability of journalism. This is why we need so desperately to detangle the fates of newsrooms from that of social platforms. </p><p>Reliable, factual updates are a requirement for an informed citizenry, and Democracy cannot function without one. &nbsp;And for an industry operating on ever decreasing margins, the page views that come from these platforms &nbsp;<a href="https://blog.nillium.com/news-was-never-meant-for-social-platforms/">are keeping them alive</a>, even as the business models associated with this set up slowly kill them. &nbsp;</p><p>News is expensive. &nbsp;Long before any article is written, before any video is shot, reporters spend time on the phone, traveling to meet with sources, often to only find that there is no story there. &nbsp;They do it usually because of a passion for keeping their fellow citizens informed, for striving to uncover the truth. &nbsp;But they also have expenses, and need to be paid.</p><p>As ad dollars and traffic coalesce around a few major players online, news websites had to adapt. &nbsp;They have written ever-more catchy headlines to grab attention. The story selection has become driven by trending topics in an effort to appear at the top of newsfeeds. &nbsp;The algorithms behind such feeds make local news even harder to find because, by definition, it doesnâ€™t appeal to the widest audience possible. &nbsp;The sites, in turn, had to make the most of what traffic they could get; covering pages in ads and trackers. &nbsp;Itâ€™s a spiral to the bottom.</p><p>But, itâ€™s not too late to turn things around.</p><p>For those that want to make an impact, please support journalism. Subscribe to your local newspaper.</p><p>We need to think about weaning news from platforms that have such a parasitic impact. &nbsp;If we cannot find a viable model for trustworthy news online, we will be left with the only information sources that seem to be thriving now; the least credible of them all. &nbsp;</p><p>Our solution is relatively simple. &nbsp;Weâ€™re building a platform that takes the best from social media -- the concise updates, the real time streams, and the direct line of communication from reporters, but in a news-friendly way. &nbsp;Our ads appear in between updates, not tying their value to any individual click through, and revenue is shared according to the contributions to the platform, not views. &nbsp;Weâ€™re only allowing trusted journalists to post, blocking disinformation before it has a chance to root itself in our systems.</p><p>We invite you to join us, and welcome any suggestions or improvements.</p><p><em>Nillium is building Forth, a new news platform based on concise updates from trusted journalists, sharing advertising revenue with the reporters and their newsrooms. &nbsp;To sign up for our waiting list, <a href="https://www.forthapp.com/list.html">click here</a>. &nbsp; Newsrooms and independent reporters can express their interest in joining the platform <a href="https://docs.google.com/forms/d/e/1FAIpQLSfWpLKCBdKrkOqCiaHheoOQBCvqbR3ydaCW1N1sy69RNLJGwQ/viewform?usp=pp_url&amp;entry.478247111=blog.nillium.com">here</a>.</em></p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737531</guid>
            <pubDate>Mon, 11 Jan 2021 21:34:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comparison of Tiling Window Managers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25736259">thread link</a>) | @harryruhr
<br/>
January 11, 2021 | https://simpletools.info/doku.php/wm:tiling:comparison | <a href="https://web.archive.org/web/*/https://simpletools.info/doku.php/wm:tiling:comparison">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->

<!-- TOC END -->


<div>
<ul>
<li><p><a href="https://simpletools.info/doku.php/wm:tiling:i3" title="wm:tiling:i3" data-wiki-id="wm:tiling:i3">i3</a> dynamic and tiling window manager, completely written from scratch.</p>
</li>
<li>
</li>
<li><p><a href="https://simpletools.info/doku.php/wm:tiling:awesome" title="wm:tiling:awesome" data-wiki-id="wm:tiling:awesome">awesome</a> a highly configurable window manager</p>
</li>
<li><p><a href="https://simpletools.info/doku.php/wm:tiling:bspwm" title="wm:tiling:bspwm" data-wiki-id="wm:tiling:bspwm">bspwm</a> a very lightweight tiling window manager</p>
</li>
<li><p><a href="https://simpletools.info/doku.php/wm:tiling:ratpoison" title="wm:tiling:ratpoison" data-wiki-id="wm:tiling:ratpoison">ratpoison</a> tiling wm which manages windows without using a mouse</p>
</li>
<li><p><a href="https://simpletools.info/doku.php/wm:tiling:spectrwm" title="wm:tiling:spectrwm" data-wiki-id="wm:tiling:spectrwm">spectrwm</a> a small dynamic tiling window manager with sane defaults</p>
</li>
</ul>

</div>


<div>

<p>
On: Artix Linux
</p>

<p>
From high to low
</p>
<div><table>
	<thead>
	<tr>
		<th>Command </th><th>Version </th><th><a href="https://simpletools.info/doku.php/glossary#uss" title="glossary" data-wiki-id="glossary">USS</a> </th><th><a href="https://simpletools.info/doku.php/glossary#pss" title="glossary" data-wiki-id="glossary">PSS</a> </th><th><a href="https://simpletools.info/doku.php/glossary#rss" title="glossary" data-wiki-id="glossary">RSS</a></th>
	</tr>
	</thead>
	<tbody><tr>
		<td>awesome </td><td>4.3</td><td>24356</td><td>26571</td><td>32056</td>
	</tr>
	<tr>
		<td>i3 </td><td>4.19 </td><td>8712</td><td>10236</td><td>14012</td>
	</tr>
	<tr>
		<td>spectrwm </td><td>3.4.1 </td><td>4604</td><td>5666</td><td> 9040</td>
	</tr>
	<tr>
		<td>ratpoison </td><td>1.4.9</td><td>4328</td><td>5213</td><td>8632</td>
	</tr>
	<tr>
		<td>herbstluftwm </td><td>0.9.1 </td><td>3232</td><td>3939</td><td> 6884</td>
	</tr>
	<tr>
		<td>bspwm <br>
sxhkd </td><td>0.9.10 <br>
0.6.2</td><td>560 <br>
368</td><td>671<br>
481</td><td>2396<br>
2244</td>
	</tr>
</tbody></table></div>

</div>

<h2 id="recommendation">Recommendation</h2>
<div>

<p>
Recommending a window manager is not easy, because it is also a matter of taste. We did a little non-representative poll at Mastodon and here are the results:
</p>
<div><table>
	<tbody><tr>
		<td>i3          </td><td>10 Votes</td>
	</tr>
	<tr>
		<td>awesome     </td><td>6 Votes</td>
	</tr>
	<tr>
		<td>bspwm       </td><td>4 Votes</td>
	</tr>
	<tr>
		<td>ratpoison    </td><td>3 Votes</td>
	</tr>
	<tr>
		<td>herbstluftwm </td><td>3 Votes</td>
	</tr>
	<tr>
		<td>spectrwm     </td><td>2 Votes</td>
	</tr>
</tbody></table></div>

<p>
The recommendation is a mix of these poll results and <a href="https://simpletools.info/doku.php/about#our_criteria" title="about" data-wiki-id="about">our criteria</a>. Actually, we have two recommendations.
</p>

</div>

<h3 id="for_beginners">For beginners</h3>
<div>

<p>
<strong>i3</strong> is not only the most popular tiling window manager in our poll, it is also the our recommendation for users who want to begin using a tiling wm. It's easy enough to start with and the configuration file is fairly understandable. In fact Fedora will release an official i3 Spin, beginning with version 34. At the same time i3 is still very lightweight.
</p>

<p>
The documentation and relatively huge community makes it also a good choice for non-expert people or other persons who don't want to spend too much time configuring.
</p>

</div>

<h3 id="for_experienced_users">For experienced users</h3>
<div>

<p>
<strong>bspwm</strong> is a extremely lightweight window manager. Once you get it running by installing the example configuration files, experienced users shouldn't have too much problems to adapt it according to their needs. The concept of nodes is a little strange to get used to, but the configuration file of sxhkd is easy enough to understand. bspwm has gained some popularity in the last time, so there is also a community which can help. 
</p>

<p>
Don't like bspwm for some reasons, but still looking for a lightweight tiling wm for experienced users? Then you might want to have a look at <strong>herbstluftwm</strong>
</p>

</div>

                    <!-- wikipage stop -->
                                    </div></div>]]>
            </description>
            <link>https://simpletools.info/doku.php/wm:tiling:comparison</link>
            <guid isPermaLink="false">hacker-news-small-sites-25736259</guid>
            <pubDate>Mon, 11 Jan 2021 20:35:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Development 101]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25736255">thread link</a>) | @jlmcguire
<br/>
January 11, 2021 | https://web101.org/000-intro/ | <a href="https://web.archive.org/web/*/https://web101.org/000-intro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img src="https://web101.org/images/episode/ep0-show-art.jpg">
          </p>
          <p>
            I've always enjoyed teaching and mentoring. A couple of years ago I had the great privilege to teach a class in web programming for the Computer Science department at the University of Arizona. So I thought I would dust off that course material, update it for 2020, and release it again as a podcast and video series. I hope you find it useful.
          </p>
        </div><div>
    <div>
      <h2>Show Notes</h2>
      <p>Hi, and welcome to web 101</p>
<p>My name is Mark Fischer. I'm a web developer and programmer, and have been working with web technologies since 1994.</p>
<p>I've always enjoyed teaching and mentoring. A couple of years ago I had the great privilege to teach a class in web programming for the Computer Science department at the University of Arizona. I had a lot of fun teaching those classes, and in the intervening years have wished I could refer back to pieces of that material to show co-workers and clients. So I thought I would dust off that course material, update it for 2020, and release it again as a podcast and video series.</p>
<p>There are innumerable ways to learn about web technologies these days, but who knows. Maybe my way of explaining the web resonates with you more than one of those others. Either way, this is a thing I wish existed, so I'm going to make it.</p>
<p>I don't know what sort of schedule I'll be able to keep to, but I want to keep episodes relatively short and focused, no more than 30 minutes. I'm going to try for something every week.</p>
<p>You can subscribe to the podcast, and watch the videos at web101.org.</p>
<p>Take it easy, and we'll see you next time.</p>

    </div>
  </div></div>]]>
            </description>
            <link>https://web101.org/000-intro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25736255</guid>
            <pubDate>Mon, 11 Jan 2021 20:35:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Denver, Austin, Nashville and more are racing to become the next Silicon Valley]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25735497">thread link</a>) | @smalera
<br/>
January 11, 2021 | https://www.businessofbusiness.com/articles/silicon-valley-tech-hub-hiring-cities-nashville-austin-denver/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/silicon-valley-tech-hub-hiring-cities-nashville-austin-denver/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p><span>Weâ€™re witnessing a Silicon Valley exodus as the pandemic rages on and tech CEOs try to escape the cityâ€™s high taxes and left-wing politics, in search of a home base more suited to their needs.</span></p>
<p><span>The Karp-Thiel-Lonsdale Palantir trinity have all moved out of the bay area to Denver, LA, or Austin. Elon Musk moved Teslaâ€™s headquarters to Austin, where many major tech companies already have satellite offices. Oracle relocated to Austin, as well, and Hewlett Packard recently announced it will move its global headquarters from Silicon Valley to Houston, the fourth-largest US city.</span></p>
<p><span>Texas is an appealing option for these companies, with no personal state income tax. But there are plenty of cities vying to beat out Austin in the race to become the next big tech hub.&nbsp;</span></p>
<p><span>Hiring data across eight major tech companies including Google, Amazon, Paypal, Apple, Microsoft, Dell, eBay and Oracle shows a 128% increase in Austin-based job listings from last January to this month. The below chart shows significant growth beginning last summer.</span></p>

<p><span>Meanwhile, Nashville-based tech job openings soared over the last year. From January to October 2020, listings were up by almost 2,000%. (The chart below includes hiring data for Oracle, Paypal, eBay, Texas Instruments, and Alphabet, Dell, Amazon, Apple, and Microsoft.)</span></p>

<p><span>Nashville will soon gain 100 more jobs from the arrival of Yoshi, a former Silicon Valley company that brings field techs to peopleâ€™s cars for on-the-spot servicing. Company founder Brian Frist saw the obvious tax-related benefits from the move. His father is also former Tennessee senator Bill Frist.&nbsp;</span></p>
<p><span>Denver is also seeing an influx of tech workers. The soon-to-be home to Palantirâ€™s new headquarters have also drawn eyes from Dell and Oracle, both based in Texas. Dell has increased its job listings from just one in August to 57 this month, while Oracle counts 16 openings, up ten from July. Meanwhile, Amazon counts 123 Denver-based listings. From July to now, Palantir has gone from one to seven openings in Denver. Looking at Big Tech job listings in Denver collectively, openings have shot up roughly 500%.</span></p>

<p><span>People have bet on Raleigh, North Carolina as the next big tech hub because of its affordability and growing startup scene, but our data shows the city is falling behind in terms of hiring. Over the last year, Raleigh-based tech job openings have fallen by 33%.</span></p>

<p><span>Opportunity lies in cities like Richmond, Virginia and Madison, Wisconsin. Our data shows Richmondâ€™s big tech job listings have grown 200% since last January, led by companies like eBay and Amazon. Madisonâ€™s tech hiring boost, with openings up 100% from last year, was also helped by Amazon.</span></p>
<p><span>Calling Pittsburgh a tech hub would be a big stretch, but the underdog is on its way up, assisted by job listings at Google and Amazon. According to <a href="https://www.linkedin.com/pulse/stormy-times-15-us-cities-make-jobs-happen-george-anders/">LinkedIn data</a>, Pittsburgh is number 14 on the top cities with the most opportunities for job seekers. Our data shows Google and Amazon job listings in Pittsburgh increasing by 48% and 19% over the past year, respectively.</span></p>
<p><span>Then of course we have the big tech cities that are only getting bigger as they absorb Silicon Valley migrants, but the speed of growth is slowing. Amazon, which is headquartered in Seattle and currently has over 7,000 job listings in the area, has only increased its listings in the city by 4% over the past year.&nbsp;</span></p>

<p><span>That said, Apple and Oracle have increased hiring in the city significantly. Appleâ€™s Seattle-based job listings are up by 71%, while Oracleâ€™s have surged by 50%. From July to December of last year, Dell increased their Seattle listings by 71%. Whatâ€™s more, Geekwire found that Seattle is becoming a destination for those fleeing the valley â€” the number of workers moving from the Bay Area to Seattle increased by 28%.</span></p>
<p><span>According to our data, Boston is a growing hotspot. Over the last two years, Boston-based job openings at tech companies like Dell, Amazon, Apple, and Microsoft have skyrocketed. Collectively, giant tech entities have ramped up hiring efforts in Boston by over 1,000%. Bostonâ€™s tech hiring growth peaked last year along with the pandemic. (The chart below includes hiring data for Oracle, Paypal, eBay, Texas Instruments, and Alphabet, as well as Dell, Amazon, Apple, and Microsoft.)</span></p>

<p><span>And then thereâ€™s Miami, where Amazon is leading an upward trend of tech hiring. According to the Information, a source who works with a person who knows Naval Ravikant, founder of tech investment site AngelList, said he heard Ravikant might be coming to Miami to â€œcheck it out.â€ Another person heard that Jack Dorsey, CEO of Twitter, has a meeting with Miamiâ€™s mayor, Francis Suarez.</span></p>
      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/silicon-valley-tech-hub-hiring-cities-nashville-austin-denver/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25735497</guid>
            <pubDate>Mon, 11 Jan 2021 19:57:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does a free swap turn a stack into a traditional register set? (2005)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25735347">thread link</a>) | @Tomte
<br/>
January 11, 2021 | http://cr.yp.to/qhasm/20050210-fxch.txt | <a href="https://web.archive.org/web/*/http://cr.yp.to/qhasm/20050210-fxch.txt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://cr.yp.to/qhasm/20050210-fxch.txt</link>
            <guid isPermaLink="false">hacker-news-small-sites-25735347</guid>
            <pubDate>Mon, 11 Jan 2021 19:51:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Best of Bitcoin Is a Ponzi (Investment Fraud)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25734899">thread link</a>) | @geraldbauer
<br/>
January 11, 2021 | https://openblockchains.github.io/bitcoin-ponzi/ | <a href="https://web.archive.org/web/*/https://openblockchains.github.io/bitcoin-ponzi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      

<blockquote>
  <p>SEC Investor Education:</p>

  <p>New Yearâ€™s Financial Resolution: Avoid too-good-to-be-true â€œinvestmentsâ€ with Ponzi scheme â€œred flagâ€ claims like:</p>

  <ul>
    <li>â€œTo the moon! To the mars!â€</li>
    <li>â€œNumber go up!â€</li>
    <li>â€œYearly return of 300+% in 2020!â€</li>
    <li>â€œCould quadruple in 2021 and rally to $100,000!â€</li>
  </ul>
</blockquote>

<p>A collection of â€œunpopular opinionâ€ and get-rich-quick party spoiler â€œstop the musicâ€ articles on â€œIs Bitcoin a Ponzi? Is Bitcoin a Speculative Bubble? Is Bitcoin a Digital 21st Century Tulip Mania? Is Bitcoin Comedy Gold?â€</p>

<p>From the Wikipedia:</p>

<p>Bitcoin has been described as an economic bubble by at least eight Nobel Prize Economists at various times, including Robert Shiller on 1 March 2014, Joseph Stiglitz on 29 November 2017, and Richard Thaler on 21 December 2017. On 29 January 2018, a noted Keynesian economist Paul Krugman has described bitcoin as â€œa bubble wrapped in techno-mysticism inside a cocoon of libertarian ideologyâ€, on 2 February 2018, professor Nouriel Roubini of New York University has called bitcoin the â€œmother of all bubblesâ€, and on 27 April 2018, a University of Chicago economist James Heckman has compared it to the 17th-century tulip mania.</p>

<p>On 4 December 2013, Alan Greenspan referred to it as a â€œbubbleâ€ as did George Soros on 25 January 2018. Warren Buffett called bitcoin a â€œmirageâ€ on 13 March 2014.</p>

<p>Â§</p>

<p>Some â€œunpopularâ€ bitcoin facts:</p>

<ul>
  <li>Bitcoin Proof-of-Waste Mining Is an Environmental Disaster</li>
  <li>Bitcon Is a Greater Fool BagHODLer Zero-Sum Fraudstersâ€™ Greed Fest</li>
  <li>The Bigger the Lies the Better - To the Moon! Number Go Up! Will Quadruple to $100 000 in 2021!</li>
  <li>Bitcoin Is Comedy Gold - Bitcoin Is the New Standard?! - LOL</li>
  <li>When Will the Music Stop? (Hint: Try to Cash Out)</li>
</ul>

<p>So what!?  Do your own research! Here we go:</p>

<p><strong>SCAM ALERT! SCAM ALERT! SCAM ALERT!</strong></p>

<h3 id="tyler-winklevoss-bitcoin-billionaire">Tyler Winklevoss, Bitcoin Billionaire</h3>

<blockquote>
  <p>Washington Post News:</p>

  <p>Bitcoin surges past $20 000 for first time.</p>
</blockquote>

<p>This Bitcoin rally is the most sophisticated investors, the smartest people in the room, buying the bitcoin quietly. Number go up! To the moon!</p>

<p>Â§</p>

<p>When Elon Musk puts the Tesla balance sheet into Bitcoin, weâ€™ll have to change the Bitcoin rallying cry from â€œto the moon!â€ to â€œto Mars!â€</p>

<blockquote>
  <p>Austrian Maximalist comments: Letâ€™s use solar energy to mine bitcoin with
 satellites in space!</p>
</blockquote>

<p>Â§</p>

<p>The U.S. Dollar is no longer a reliable store of value. Cameron and I (Winklevoss Twins Capital) make the case for $500 000 Bitcoin. Number go up! To the moon!</p>

<h3 id="cameron-winklevoss-bitcoin-billionaire">Cameron Winklevoss, Bitcoin Billionaire</h3>

<p>There are 3.5 billion smart phones on the planet. All of them can hold bitcoin. None of them can hold gold. Bitcoin is the future. Number go up! To the moon!</p>

<h3 id="michael-saylor-business-intelligence-billionaire">Michael Saylor, Business Intelligence Billionaire</h3>

<p>Money is energy. Bitcoin is the first crypto monetary energy network, capable of collecting all the worldâ€™s liquid energy, storing it over time without power loss, and channeling it across space with negligible impedance. Number go up! To the moon!</p>

<blockquote>
  <p>Austrian Maximalist comments: And itâ€™s all represented in this: 21,000,000.00000000</p>
</blockquote>

<blockquote>
  <p>Austrian Physicist comments: The science on this is legit respecting the laws of thermodynamics.</p>
</blockquote>

<h3 id="anthony-pompliano-bitcoin-cheerleader-off-the-chain-investment-newsletter-writer-100-000-subscribers">Anthony Pompliano, Bitcoin Cheerleader, Off The Chain Investment Newsletter Writer (100 000+ Subscribers)</h3>

<p>There are an increasing number of buyers, yet a decreasing amount of available Bitcoin.</p>

<p>Any economics 101 student can predict what happens next. To the moon! Number go up!</p>

<h3 id="bitcoiner-btc-greater-fool-investor">Bitcoiner (BTC), Greater Fool Investor</h3>

<p>WOO NUMBER GO UP!!!</p>

<p>Who needs adoption when you can have institutional investors!
Why bank the unbanked when you can bank the banks!
Bring out the champaign because NUMBER GO UP!!!</p>

<p>Am I price posting right?</p>

<hr>

<p>Comedy Gold?  Letâ€™s get real:</p>

<h2 id="2021">2021</h2>

<p><a href="https://www.ic.unicamp.br/~stolfi/bitcoin/2020-12-31-bitcoin-ponzi.html"><strong>Why Bitcoin is a Ponzi: A Type of Investment Fraud with Five Features</strong></a>
by Jorge Stolfi, Computer Sciencist, State University of Campinas, Brazil</p>

<p><a href="http://www.tr0lly.com/uncategorized/tether-heads-i-win-tails-you-lose/"><strong>Tether: Heads I Win, Tails You Lose</strong></a>  by Trolly McTrollface</p>

<p><a href="http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/"><strong>The Tether Press and Bitcoinâ€™s Speculative Mania</strong></a>
by Trolly McTrollface</p>

<p><a href="http://usatoday.com/story/money/columnist/2021/01/10/investors-cryptocurrency-bitcoin/43312105/"><strong>â€œI donâ€™t believe bitcoin is unique in any wayâ€: Why investors should be careful with this cryptocurrency</strong></a> by Sean Williams, Investment Advisor, The Motley Fool</p>

<h2 id="2020">2020</h2>

<p><a href="http://www.tr0lly.com/bitcoin/bitcoin-is-not-a-literal-ponzi-scheme/"><strong>Bitcoin is not a literal Ponzi scheme</strong></a> by Trolly McTrollface</p>

<h2 id="2019">2019</h2>

<p><a href="https://www.kalzumeus.com/2019/10/28/tether-and-bitfinex/"><strong>Tether: The Story So Far</strong></a> by Patrick McKenzie, Recovering Japanese Salaryman</p>

<p><a href="https://arstechnica.com/information-technology/2019/02/researcher-counts-the-reasons-he-wants-cryptocurrency-burned-with-fire/"><strong>Up in Flames: Bitcoin and other digital coins recapitulate 500 years of failure</strong></a> by Nicholas Weaver, Computer Scientist, University of California, Berkley, United States</p>

<p><a href="https://www.wired.com/story/theres-no-good-reason-to-trust-blockchain-technology/"><strong>Thereâ€™s No Good Reason to Trust Blockchain Technology</strong></a> by Bruce Schneier, Cryptography Researcher</p>

<h2 id="2018">2018</h2>

<p><a href="https://www.forbes.com/sites/francescoppola/2018/12/30/bitcoin-maximalists-impossible-dream/"><strong>Bitcoin Maximalistsâ€™ Impossible Dream</strong></a> by Frances Coppola, Finance Journalist</p>

<p><a href="https://www.economist.com/leaders/2018/08/30/bitcoin-and-other-cryptocurrencies-are-useless"><strong>Bitcoin and other cryptocurrencies are useless</strong></a>, The Economist</p>

<p><a href="https://www.theguardian.com/business/2018/mar/05/bitcoin-is-based-on-the-blockchain-pipe-dream"><strong>Bitcoin is based on the blockchain pipe dream</strong></a> by Nouriel Roubini, Economist and Preston Byrne, Blockchain Attorney</p>

<p><a href="https://www.project-syndicate.org/commentary/blockchain-big-lie-by-nouriel-roubini-2018-10"><strong>The Big Blockchain Lie</strong></a> by Nouriel Roubini, Economist</p>

<p><a href="https://bitsblocks.github.io/crypto-bubbles"><strong>Crypto is the Mother of All Scams and (Now Busted) Bubbles - While Blockchain Is The Most Over-Hyped Technology Ever, No Better than a Spreadsheet/Database</strong></a> by Nouriel Roubini, Economist</p>

<p><a href="https://bitsblocks.github.io/crypto-facts"><strong>Crypto Facts - Decentralize Payments - Efficient, Low Cost, Fair, Clean - True or False?</strong></a> by Nouriel Roubini, Economist</p>

<p><a href="https://bitsblocks.github.io/bitcoin-maximalist"><strong>Best of Bitcoin Maximalist - Scammers, Morons, Clowns, Shills &amp; BagHODLers - Inside The New New Crypto Ponzi Economics</strong></a> by Trolly McTrollface</p>

<p><a href="https://www.seattletimes.com/opinion/bitcoin-is-basically-a-ponzi-scheme/"><strong>Bitcoin is basically a ponzi scheme</strong></a>
by Paul Krugman, Economist</p>

<p><a href="https://www.economist.com/buttonwoods-notebook/2017/11/01/the-bitcoin-bubble"><strong>Greater fool theory - The bitcoin bubble</strong></a>, The Economist</p>

<p><a href="https://www.vox.com/2018/4/24/17275202/bitcoin-scam-cryptocurrency-mining-pump-dump-fraud-ico-value"><strong>Bitcoin is the greatest scam in history</strong></a> by Bill Harris, Founding CEO, PayPal and Personal Capital</p>

<p><a href="https://davidgerard.co.uk/blockchain/2018/01/04/why-you-cant-cash-out-pt-3-bitcoin-is-not-a-ponzi-scheme-it-just-works-like-one/"><strong>Why you canâ€™t cash out: Bitcoin is not a Ponzi scheme! It just works like one</strong></a> by David Gerard, Blockchain Journalist</p>

<h2 id="2017">2017</h2>

<p><a href="https://prestonbyrne.com/2017/12/08/bitcoin_ponzi/"><strong>The Problem with Calling Bitcoin a â€œPonzi Schemeâ€</strong></a> by Preston Byrne, Blockchain Attorney</p>

<p><a href="https://davidgerard.co.uk/blockchain/table-of-contents/"><strong>Attack of the 50 Foot Blockchain</strong></a> by David Gerard, Blockchain Journalist</p>

<h2 id="2016">2016</h2>

<p><a href="https://tonyarcieri.com/on-the-dangers-of-a-blockchain-monoculture"><strong>On the dangers of a blockchain monoculture</strong></a> by Tony Arcieri, Blockchain Programmer</p>

<h2 id="2015">2015</h2>

<p><a href="https://tonyarcieri.com/the-death-of-bitcoin"><strong>The Death of Bitcoin</strong></a> by Tony Arcieri, Blockchain Programmer</p>

<h2 id="1776">1776</h2>

<p><a href="https://github.com/openblockchains/crypto-books/tree/master/The_Wealth_of_Nations"><strong>HODLing Gold? Gengis Khan is HODLing Sheep and Oxen: Inside the True Nature and Causes of the Wealth of Nations</strong></a> by Adam Smith, Old School Economist</p>

<hr>

<p>Found another Bitcoin ponzi article? Tell us!</p>

<p>Contributions welcome! Just send pull requests.</p>

<hr>

<p>Why?  This Bitcoin Is a Ponzi page is inspired
by the <a href="https://99bitcoins.com/bitcoin-obituaries/">Bitcoin Obituaries: Bitcoin Declared Dead 350+ Times</a> page.</p>

<p>Austrian Maximalist comments: Can I ask, when will you admit you were wrong? $50 000 bitcoin? $100 000 bitcoin? $500 000 bitcoin?</p>



      
      
      
    </div></div>]]>
            </description>
            <link>https://openblockchains.github.io/bitcoin-ponzi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25734899</guid>
            <pubDate>Mon, 11 Jan 2021 19:29:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The European Commission just launched a public BugBounty program for Matrix]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25734855">thread link</a>) | @kitkat_new
<br/>
January 11, 2021 | https://blog.intigriti.com/matrix/ | <a href="https://web.archive.org/web/*/https://blog.intigriti.com/matrix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="archives-3"><h4>Archives</h4>		<p><label for="archives-dropdown-3">Archives</label>
		


			</p></div></div>]]>
            </description>
            <link>https://blog.intigriti.com/matrix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25734855</guid>
            <pubDate>Mon, 11 Jan 2021 19:26:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Merkel finds Twitter suspension of Trump account 'problematic']]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25734098">thread link</a>) | @sampo
<br/>
January 11, 2021 | https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic | <a href="https://web.archive.org/web/*/https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://storage.googleapis.com/ddos-shield.appspot.com/shield-logo-mono-darktext.svg" width="250px" height="50px" alt="Project Shield Logo"></p><p>You will be connected to <b>www.thelocal.de</b> in just a moment...</p><p><a href="https://g.co/shield">Learn about Project Shield</a></p></div></div>]]>
            </description>
            <link>https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25734098</guid>
            <pubDate>Mon, 11 Jan 2021 18:52:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Porting traditional interactive fiction to mobile (Counterfeit Monkey)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25733336">thread link</a>) | @memalign
<br/>
January 11, 2021 | https://memalign.github.io/m/counterfeitmonkey/index.html | <a href="https://web.archive.org/web/*/https://memalign.github.io/m/counterfeitmonkey/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://memalign.github.io/m/counterfeitmonkey/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25733336</guid>
            <pubDate>Mon, 11 Jan 2021 18:23:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wall St. Banks Halt Political Donations After Capitol Riot: Live Updates]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25733165">thread link</a>) | @herdcall
<br/>
January 11, 2021 | https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/ | <a href="https://web.archive.org/web/*/https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25733165</guid>
            <pubDate>Mon, 11 Jan 2021 18:13:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with Signal]]>
            </title>
            <description>
<![CDATA[
Score 274 | Comments 209 (<a href="https://news.ycombinator.com/item?id=25732956">thread link</a>) | @JustinGarrison
<br/>
January 11, 2021 | https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/ | <a href="https://web.archive.org/web/*/https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody" id="content"><p>Youâ€™ve discovered that <a href="https://signal.org/">Signal</a> can provide you with secure communication from your phone that is cross platform and free!</p><p><img src="https://www.justingarrison.com/img/signal-og-banner.png" alt=""></p><p>First of all you may be asking â€œwho makes Signal?â€
Signal Messenger LLC. is the company that makes the Signal app.
They are funded by the Signal Foundation which is a non-profit organization that relies on <a href="https://signal.org/donate/">your donations</a> to make the app free and not have ulterior motives with your data.</p><p>The foundationâ€™s mission is</p><blockquote><p>To develop open source privacy technology that protects free expression and enables secure global communication.</p></blockquote><p>The Signal app is all <a href="https://github.com/signalapp">open source on GitHub</a> and their protocols are well documented and available <a href="https://signal.org/docs/">on their website</a>.</p><p>But thatâ€™s not why youâ€™re here.
Letâ€™s show you some tips to get the most out of your new secure messaging app.</p><h2 id="important-settings">Important settings</h2><p>Signal is great, but there are a few things you may want to change depending on how secure or private you want your communications.</p><h3 id="notifications">Notifications.</h3><p>You can disable what is shown in notifications to help with privacy.
Turn off whatever you donâ€™t want shown.</p><p><img src="https://www.justingarrison.com/img/signal-notification-content.png" alt=""></p><p>You may also want to disable the notification you get when one of your contacts join Signal.
Especially ad the rapid pace people are joining.</p><p><img src="https://www.justingarrison.com/img/signal-contact-notifications.png" alt=""></p><h3 id="privacy">Privacy</h3><p>You can set the Signal app to lock when your phone locks under privacy.
It may also be a good idea to enable incognito keyboard which will ask your keyboard to remove personalization while typing.</p><p><img src="https://www.justingarrison.com/img/signal-privacy.png" alt=""></p><p>You can turn off read receipts, typing indicators, and automatic link previews under the communication settings.
Link previews only work on <a href="https://support.signal.org/hc/en-us/articles/360022474332-Link-Previews">sites that use <code>https://</code></a></p><p><img src="https://www.justingarrison.com/img/signal-communication-settings.png" alt=""></p><h3 id="chats-and-media">Chats and media</h3><p>In chats you can change when to auto-download files.
Some of these can be quite large so it may be a good idea to only automatically download on Wi-Fi.</p><p><img src="https://www.justingarrison.com/img/signal-media-download.png" alt=""></p><p>At the very bottom of Chats and media is a <a href="https://support.signal.org/hc/en-us/articles/360007059752-Backup-and-Restore-Messages">message backup option</a>.
The backup is encrypted and stored locally on your phone.
If youâ€™re using a backup service for your phone they will also be backed up to the cloud which you may or may not want (even if itâ€™s encrypted).</p><p><img src="https://www.justingarrison.com/img/signal-chat-backups.png" alt=""></p><h3 id="linked-devices">Linked devices</h3><p>You can use Signal from another device including tablets and laptops.
Install the Signal app on the other device and it will show a QR code.
Open the linked devices setting and click the + button at the bottom.
Scan the QR code and youâ€™re all set.</p><p>If you tap on an existing linked device you have the option to remove it from being able to send or receive messages.
Be aware that any existing messages on the device may still be available and cached on the device.
This setting is not a â€œsecure wipe.â€</p><h2 id="chats-and-calls">Chats and calls</h2><p>Signal chats work similarly to traditional SMS messaging apps.
You can send text, emoji, and stickers, or attach pictures, gifs (searched from giphy), files, contacts, or locations.
You can record voice messages by holding the microphone.</p><p><img src="https://www.justingarrison.com/img/signal-message-attach.png" alt=""></p><p>You can also make audio or video calls when you select a contact and click the icons in the top banner.
All calls are encrypted and can optionally go through a relay server so you do not expose your IP address to the recipient.
You can enable the relay server in settings -&gt; privacy -&gt; communication.</p><p>A relay is a server that Signal controls that your call will go through.
Similar to a VPN in the way it would expose the server IP to the recipient without exposing your IP.
If youâ€™re interested in the Signal server architecture you can check out <a href="https://sorincocorada.ro/signal-messanger-architecture/">this post</a>.</p><p><img src="https://www.justingarrison.com/img/signal-relay-calls.png" alt=""></p><p>A single hallow check box next to a message you sent means your message was sent.
Two check marks means the message was delivered.
Once the recipient reads the message the check marks will fill in.</p><p><img src="https://www.justingarrison.com/img/signal-double-checks-hallow.png" alt="">
<img src="https://www.justingarrison.com/img/signal-doublechecks-filled.png" alt=""></p><p>If you see a little person icon next to the personâ€™s name in chat it means that person is in your contacts.
If you want their name to automatically be filled out you can go into your phoneâ€™s contacts and add the number to a contact.</p><p><img src="https://www.justingarrison.com/img/signal-contact.png" alt=""></p><p>If you open a chat you can look in settings and enable disappearing messages.
This is super helpful to prevent messages persisting.</p><p><img src="https://www.justingarrison.com/img/signal-disappearing.png" alt=""></p><p>You canâ€”and shouldâ€”verify a contact to make sure youâ€™re really talking to them.
This verifies the encryption keys used at both ends of the conversation.
You can do that manually or automatically by scanning their QR code.</p><p>Ideally you will do this verification out-of-band from Signal either in person or through some other video/image sharing service.
Facetime, zoom, etc. are great options if you canâ€™t meet in person.</p><p>Once you verify a contact youâ€™ll see â€œVerifiedâ€ text under their name.
If you manually mark the contact as verified it will show a message in the chat that you marked them verified.</p><h3 id="group-messages">Group messages</h3><p>You can create a group message from the main screen clicking the pencil and then â€œNew group.â€</p><p><img src="https://www.justingarrison.com/img/signal-new-group.png" alt=""></p><p>Add contacts to the group and youâ€™re ready to go.</p><p>You have similar settings to 1:1 chats.
You can have a group video call with up to 8 people and a group chat with up to 150 peopleâ€”RIP notifications!
If you want to have a group call without video you need to start a video call and disable your camera before you join.</p><p>You can change who can invite people to the group or make a group link easier for someone to share if theyâ€™re not in your contacts.</p><p>The links are public but an admin needs to approve members joining the group by default.</p><p><img src="https://www.justingarrison.com/img/signal-group-link.png" alt=""></p><p>Group video calls work the same way as 1:1 calls but groups donâ€™t have audio only callsâ€”although you can disable your video in a video call.</p><h2 id="other-things-to-consider">Other things to consider</h2><p>If you want to use signal without giving out your real phone number you can use a service like twilio that will provide you a forwarding number.</p><p>Check out <a href="https://mshelton.medium.com/using-signal-without-giving-your-phone-number-3a575580f652">this great guide</a> on how to set it up.</p><h3 id="your-safety-number-has-changed">Your safety number has changed</h3><p>If you see this seemingly scary message donâ€™t be alarmed.
It likely just means the <a href="https://support.signal.org/hc/en-us/articles/360007060632-What-is-a-safety-number-and-why-do-I-see-that-it-changed-">person on the other end of the conversation</a> got a new phone or re-installed Signal.</p><p><img src="https://www.justingarrison.com/img/signal-safety-number.png" alt=""></p><p>You can still verify the persons safety number to make sure there is no man-in-the-middle attacks.
This is distinctly different than how iMessage and Telegram work because in both of those apps they store your private key.</p><h3 id="pins">Pins</h3><p>Pins are important because they will enable Signal to get rid of phone number requirements.</p><p>The <a href="https://support.signal.org/hc/en-us/articles/360007059792-Signal-PIN">support page</a> says it best</p><blockquote><p>Your Signal PIN is a code used to support features like non-phone number based identifiers. This means that your PIN can recover your profile, settings, contacts, and who youâ€™ve blocked if you ever lose or switch devices. A PIN can also serve as an optional registration lock to prevent others from registering your number on your behalf.</p></blockquote><p>It hasnâ€™t rolled out yet but has been in the works for a while.</p><p>If you want to stay up to date on signal news I highly recommend you follow the <a href="https://signal.org/blog/">Signal blog</a>.
They have lots of great technical and non-technical information on new features and news.</p></article></div>]]>
            </description>
            <link>https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732956</guid>
            <pubDate>Mon, 11 Jan 2021 18:02:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[XTerm: It's Better Than You Thought]]>
            </title>
            <description>
<![CDATA[
Score 150 | Comments 146 (<a href="https://news.ycombinator.com/item?id=25732862">thread link</a>) | @zdw
<br/>
January 11, 2021 | https://aduros.com/blog/xterm-its-better-than-you-thought/ | <a href="https://web.archive.org/web/*/https://aduros.com/blog/xterm-its-better-than-you-thought/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    <p>(Day 10 of <a href="https://aduros.com/blog/30-days-of-blogging">30 Days of Blogging</a>)</p>
<p>A couple months back I switched my terminal from xfce4-terminal to the venerable xterm. For some
reason I always put xterm in the same bucket as xclock, xmessage, or any other prehistoric command
starting with X that comes pre-installed on any graphical Linux distribution.</p>
<p>It was surprising to learn that xterm is still very much <a href="https://invisible-island.net/xterm/xterm.log.html">actively
developed</a>. Even more surprisingly, it turns out
xterm has <a href="https://lwn.net/Articles/751763/">incredibly low input latency</a> compared to modern
terminals. This is easy to test at home, try typing in xterm compared to any other terminal and feel
how much snappier it is.</p>
<p>The lower latency alone is worth the price of admission in my opinion, so I went about configuring
xterm as my default terminal. The configuration goes in <code>~/.Xresources</code> and you need to run <code>xrdb ~/.Xresources</code> after every change, or <a href="https://github.com/aduros/dotfiles/blob/eab476fc62e74e46cb41bb5c094cede7a28a014f/home/.config/nvim/options.vim#L27">make vim do
it</a>.</p>
<h2 id="basic-configuration">Basic Configuration</h2>
<p>Here are some â€œmodernâ€ sensible defaults I ended up landing on:</p>
<div><pre><code data-lang="text">! Sensible defaults
XTerm.vt100.locale: false
XTerm.vt100.utf8: true
XTerm.vt100.scrollTtyOutput: false
XTerm.vt100.scrollKey: true
XTerm.vt100.bellIsUrgent: true
XTerm.vt100.metaSendsEscape: true
</code></pre></div><p>And here are some visual styling options, not including colors:</p>
<div><pre><code data-lang="text">! Styling
XTerm.vt100.faceName: DejaVu Sans Mono
XTerm.vt100.boldMode: false
XTerm.vt100.faceSize: 11
XTerm.vt100.internalBorder: 16
XTerm.borderWidth: 0
</code></pre></div><p>XTerm supports key binding, but the syntax is non-obvious:</p>
<div><pre><code data-lang="text">XTerm.vt100.translations: #override \n\
    Ctrl Shift &lt;Key&gt;N: scroll-back(1, halfpage) \n\
    Ctrl Shift &lt;Key&gt;T: scroll-forw(1, halfpage) \n\
    Ctrl Shift &lt;Key&gt;C: copy-selection(CLIPBOARD) \n\
    Ctrl Shift &lt;Key&gt;V: insert-selection(CLIPBOARD)
</code></pre></div><p>This allows copying and pasting to the clipboard (not just the X selection) with shift-ctrl-C and V.
It also allows scrolling up and down with shift-ctrl-N and T (you can switch this to K and J to
match vim keys in Qwerty).</p>
<h2 id="url-handling">URL Handling</h2>
<p>So now we have a pretty usable setup, but thereâ€™s one more incredibly useful feature that was hard
to figure out: opening URLs in the browser. We could of course select the URL and copy-paste, but
thereâ€™s a better way.</p>
<p>XTerm has a configuration option called <code>printerCommand</code> which is a command that is piped all the
text currently visible in the terminal. As the name suggests, itâ€™s meant to be used to implement
printing to physical paper, but we can save the trees and hijack it to instead scan the screen for
URLs and open the browser:</p>
<div><pre><code data-lang="sh"><span>#!/bin/sh -e
</span><span></span>
grep -Eo <span>'\bhttps?://\S+\b'</span> |
    uniq |
    ifne rofi -dmenu -i -p <span>"Open URL"</span> -auto-select |
    xargs xdg-open
</code></pre></div><p>This greps for URLs, removes consecutive duplicates with <code>uniq</code>, and displays a
<a href="https://github.com/davatorium/rofi">rofi</a> menu to choose between them if there were multiple URLs.
<code>ifne</code> is included in <a href="https://packages.debian.org/unstable/utils/moreutils">moreutils</a>. Put this
script in an executable file called <code>select-url</code> in your <code>$PATH</code> and then add this to <code>.Xresources</code>:</p>
<div><pre><code data-lang="text">XTerm.vt100.printerCommand: select-url

XTerm.vt100.translations: #override \n\
    ...
    Ctrl Shift &lt;Key&gt;W: print(noAttrs, noNewLine)
</code></pre></div><p>Now when you press shift-ctrl-W, any URL shown in the terminal will open in the browser. You donâ€™t
have to select anything or use your mouse at all, nice!</p>
<p>Someday it would be great to improve <code>select-url</code> to also scan for email addresses. Maybe during the
next pandemicâ€¦</p>
<h2 id="peeking-at-the-alternate-screen">Peeking at the Alternate Screen</h2>
<p>Sometimes you open a fullscreen application like vim or a man page and you need to refer back to
some text on the shell. Use this keybind to toggle back and forth:</p>
<div><pre><code data-lang="text">XTerm.vt100.translations: #override \n\
    ...
    Ctrl Shift &lt;Key&gt;H: set-altscreen(toggle)
</code></pre></div><p>You can even use it view a previously opened vim or man page after you close out of it!</p>
<h2 id="opening-new-terminals-at-the-current-directory">Opening New Terminals at the Current Directory</h2>
<p>Thereâ€™s a keybind action called <code>spawn-new-terminal()</code> that can be used for this, but even better is
using <a href="https://github.com/schischi/xcwd">xcwd</a> to get the working directory of any currently focused
window. Then you can put this in your i3 config for example:</p>
<div><pre><code data-lang="text">bindsym $mod+Return exec --no-startup-id cd "`xcwd`" &amp;&amp; xterm
</code></pre></div><h2 id="wish-list">Wish List</h2>
<p>XTerm is missing a few small features:</p>
<ul>
<li>Text reflow when the terminal is resized.</li>
<li>Fallback fonts donâ€™t seem to always work. Maybe Iâ€™m missing a config option?</li>
<li>Transparency not natively supported. I donâ€™t care about transparency but maybe itâ€™s important to
some people.</li>
<li>Occasionally strange flickering with <a href="https://github.com/ibhagwan/picom">picom</a>, possibly a bug
with picom?</li>
</ul>
<p>In the end this wasnâ€™t enough to stop me from using xterm, but the lack of text reflow still irks me
from time to time. Overall, Iâ€™ve been pleasantly surprised with xterm after taking the time to
configure it.</p>

  </section></div>]]>
            </description>
            <link>https://aduros.com/blog/xterm-its-better-than-you-thought/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732862</guid>
            <pubDate>Mon, 11 Jan 2021 17:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Save the Ocean by Automating Fish Farms]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25732786">thread link</a>) | @gt14
<br/>
January 11, 2021 | https://www.gautamtata.com/blog/deep-culture/ | <a href="https://web.archive.org/web/*/https://www.gautamtata.com/blog/deep-culture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Authors: <a href="mailto:gautamtata.blog@gmail.com" target="_blank" rel="noopener noreferrer">Gautam Tata</a> and <a href="mailto:ogjaylowe@gmail.com" target="_blank" rel="noopener noreferrer">Jay Lowe</a></p>
<figure><img src="https://www.gautamtata.com/a1be9a1a829c9c0c3093752bb9548290/tidal_desktop.gif"><figcaption>Interpreting feeding behavior by tracking objects in the water â€” Courtesy Tidal</figcaption></figure>
<h2 id="why-should-we-spend-time-making-aquaculture-smarter-ğŸ¤¯"><a href="#why-should-we-spend-time-making-aquaculture-smarter-%F0%9F%A4%AF" aria-label="why should we spend time making aquaculture smarter ğŸ¤¯ permalink"></a>WHY SHOULD WE SPEND TIME MAKING AQUACULTURE SMARTER? ğŸ¤¯</h2>
<p>The demand for fish as a source of meat increases by an average of 6% each yearâ€”making it the most rapidly growing food in the meat industry. This demand has doubled since the start of the 2000s and will double again by 2050 if the current growth rate holds.</p>
<p>Fish-farming has been expanding to meet this demand by increasing the number of fish within their facilities. However, as the fish become more closely packed: their quality of life decreases.</p>
<p>Maintaining a high quality-of-life requires the following needs to be met:</p>
<ul>
<li>A low rate of sea-lice (Lepeiopthteirus Salmonis) infestation</li>
<li>low levels of the stress hormone Cortisol</li>
<li>The ideal level of food (and timed food delivery) </li>
<li>An appropriate biomass size</li>
<li>Well maintained mesh nets that keep the fish enclosed (and predators out)</li>
<li>A careful water quality balance </li>
<li>low rates of disease</li>
</ul>
<p>Unfortunately, quality-of-life decreases exponentially as fish-farms become depleted. This is because of the relationship between these factors and space (less space = more transference of sea-lice, disease, etc.)</p>
<h2 id="why-will-this-benefit-the-fish-farms-"><a href="#why-will-this-benefit-the-fish-farms-" aria-label="why will this benefit the fish farms  permalink"></a>WHY WILL THIS BENEFIT THE FISH FARMS? ğŸ’°</h2>
<ul>
<li>Feeding costs 60% of fisheries revenue. Unreasonable feeding can be a significant factor in revenue <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/raq.12202" target="_blank" rel="noopener noreferrer">de Verdal et al., 2017</a></li>
<li>Manually selecting features is a laborious, heuristic approach, and the effects highly dependent on both luck and experience (Mohanty et al., 2016)</li>
<li>DL models have shown strong stability under challenging conditions such as low light and high noise, and they perform better than do traditional artificial feature extraction methods (Sun et al., 2018)</li>
</ul>
<h2 id="how-do-we-do-execute-"><a href="#how-do-we-do-execute-" aria-label="how do we do execute  permalink"></a>HOW DO WE DO EXECUTE? ğŸ¤”</h2>
<p>Most fish farms have little, if any, technological support and tight budgets. Therefore, any solution must be easy to install and low cost.</p>
<p>Our Deep Learning solution requires only one piece of equipmentâ€”a camera with measurement instruments integrated into it. One well place instrument in the center of a fish farm can collect and aggregate all of the data required to monitor the seven quality-of-life metrics mentioned above. When combined, these metrics can also produce a single overall health value of the fish farm, representing a holistic at-a-glance health rating.</p>
<p>Using the aforementioned aggregated data along with computer vision, we can develop the following Deep Learning applications:</p>
<ul>
<li>Sea-Lice Detection</li>
<li>Behavioral Analysis of Fish</li>
<li>Dynamic Fish Appetite Estimation and Delivery </li>
<li>Biomass Measurement</li>
<li>Mesh Integrity Monitoring</li>
<li>Water Quality Monitoring and Control</li>
<li>Disease Identification and Prevention</li>
</ul>
<figure>
    <span>
      <span></span>
  <picture>
        <source srcset="https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/9cece/farm-architecture-9.webp 175w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/adf5f/farm-architecture-9.webp 350w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/fa73e/farm-architecture-9.webp 700w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/7e3cb/farm-architecture-9.webp 1050w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/aa619/farm-architecture-9.webp 1400w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/0e883/farm-architecture-9.webp 2386w" sizes="(max-width: 700px) 100vw, 700px" type="image/webp">
        <source srcset="https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/71299/farm-architecture-9.jpg 175w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/1e9fe/farm-architecture-9.jpg 350w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/03346/farm-architecture-9.jpg 700w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/c3223/farm-architecture-9.jpg 1050w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/da6ee/farm-architecture-9.jpg 1400w,
https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/3bb1d/farm-architecture-9.jpg 2386w" sizes="(max-width: 700px) 100vw, 700px" type="image/jpeg">
        <img src="https://www.gautamtata.com/static/7aa2547fe57d56a34fcbe6087472a3e1/03346/farm-architecture-9.jpg" alt="Deep Learning Pipeline Architecture" title="Deep Learning Pipeline Architecture" loading="lazy">
      </picture>
    </span>
    <figcaption>Deep Learning Pipeline Architecture</figcaption>
  </figure>
<h2 id="why-this-approach-works-"><a href="#why-this-approach-works-" aria-label="why this approach works  permalink"></a>WHY THIS APPROACH WORKS âœ…</h2>
<p>Let us briefly breakdown everything so far before we jump into the applications:</p>
<ol>
<li>we can utilize aggregated data from a single piece of equipment in <strong>seven different applications</strong>â€”each dedicated to a critical factor in fish quality-of-life</li>
<li>each application uses similar Deep Learning technologies but <strong>results in a unique reporting value</strong> that fish farmers can take action on</li>
<li><strong>the seven outputs can be combined in one final Deep Learning application</strong> which represents the overall health of the farm</li>
</ol>
<p>Now imagine these seven metrics, related measurements, and overall health evaluation displayed in real-time via a beautiful dashboard! ğŸ“ˆ</p>

<h3 id="1-sea-lice-detection-"><a href="#1-sea-lice-detection-" aria-label="1 sea lice detection  permalink"></a>1. Sea-Lice Detection ğŸŸ</h3>
<figure>
    <span>
      <span></span>
  <picture>
        <source srcset="https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/9cece/fishLice.webp 175w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/adf5f/fishLice.webp 350w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/fa73e/fishLice.webp 700w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/7e3cb/fishLice.webp 1050w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/aa619/fishLice.webp 1400w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/fd0a5/fishLice.webp 2104w" sizes="(max-width: 700px) 100vw, 700px" type="image/webp">
        <source srcset="https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/71299/fishLice.jpg 175w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/1e9fe/fishLice.jpg 350w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/03346/fishLice.jpg 700w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/c3223/fishLice.jpg 1050w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/da6ee/fishLice.jpg 1400w,
https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/4f345/fishLice.jpg 2104w" sizes="(max-width: 700px) 100vw, 700px" type="image/jpeg">
        <img src="https://www.gautamtata.com/static/b406dbb9c14fe80107ae9ce5c5234bec/03346/fishLice.jpg" alt="Sea lice Detection In Salmon" title="Sea lice Detection In Salmon" loading="lazy">
      </picture>
    </span>
    <figcaption>Sea lice Detection In Salmon</figcaption>
  </figure>
<h5 id="problem-it-solves"><a href="#problem-it-solves" aria-label="problem it solves permalink"></a>PROBLEM IT SOLVES</h5>
<p>Fish farms worldwide suffer from infestations of sea-lice. These parasites attach themselves to a fish host and feed off their skin/blood. The denser the fish farmâ€”the easier it becomes for sea-lice to spread. </p>
<h5 id="how-it-solves-the-problem"><a href="#how-it-solves-the-problem" aria-label="how it solves the problem permalink"></a>HOW IT SOLVES THE PROBLEM</h5>
<p>Harsh chemical treatments have become the most common method of sea-lice removal. While effective at removing sea-lice, the chemical treatment has adverse effects on the fish. It also prevents the Salmon from being sold for several weeks while they detox. </p>
<p>A deep learning solution utilizing Convolutional Neural Networks (CNNs) and computer vision to detect/identify sea-lice before they spread over to the other fish enable farmers to take actions such as (<strong>what, moving fish populations or temporarily reducing density?</strong>) before critical population levels of sea-lice trigger a complete chemical flush. </p>
<h5 id="summary"><a href="#summary" aria-label="summary permalink"></a>SUMMARY</h5>
<p>Sea lice can cause catastrophic damage to commercial fish-farms. If not kept in check, fish can not be sold due to lesions caused by the parasites, and in some extreme cases, lice can also cause the fish to die. Early prevention using the deep learning system can prevent harmful chemicals and keep the lice population in check.</p>
<h3 id="2-behavioral-analysis-of-fish-ğŸ¦ˆ"><a href="#2-behavioral-analysis-of-fish-%F0%9F%A6%88" aria-label="2 behavioral analysis of fish ğŸ¦ˆ permalink"></a>2. Behavioral Analysis of Fish ğŸ¦ˆ</h3>
<figure><img src="https://www.gautamtata.com/395f1176f39e267e651396de9cfcd98a/fish-swimming.gif"><figcaption>Analyzing Fish Behavior using Machine Learning</figcaption></figure>
<h5 id="problem-it-solves-1"><a href="#problem-it-solves-1" aria-label="problem it solves 1 permalink"></a>PROBLEM IT SOLVES</h5>
<p>Small environment changes can rapidly increase stress levels for fish, thereby increasing quantities of the stress hormone Cortisol inside them. Cortisol alters the taste of the fish and has negative ramifications (<strong>such as what</strong>) for the consumer.</p>
<h5 id="how-it-solves-the-problem-1"><a href="#how-it-solves-the-problem-1" aria-label="how it solves the problem 1 permalink"></a>HOW IT SOLVES THE PROBLEM</h5>
<p>The IdTracker.ai model leverages two different CNNs to provide the capability for tracking all individual fish behaviors in small and large groupsâ€”allowing farmers to detect behavior anomalies associated with increased Cortisol. However, the challenge remains enormous since tracking individual fish behaviors involves non-rigid deformations, low image quality, and frequent occlusions.</p>
<p>Zhao et al. (2018a) has demonstrated another solution that utilizes <strong>modified motion influence maps</strong> and <strong>Recurrent Neural Networks (RNNs)</strong> to systematically detect, localize, and recognize unusual behaviors within a fish school.</p>
<h5 id="summary-1"><a href="#summary-1" aria-label="summary 1 permalink"></a>SUMMARY</h5>
<p>Fishes react rapidly to the smallest changes in their environment, such as Dissolved Oxygen, algae, phytoplankton, etc. If the fishes are stressed, they can produce cortisol, which affects fish meat quality. Analyzing behavior and fish swimming patterns help farmers make smarter decisions.</p>
<p>Related Citations: <a href="https://www.researchgate.net/publication/288516072_Application_of_Machine_Vision_Systems_in_Aquaculture_with_Emphasis_on_Fish_State-of-the-Art_and_Key_Issues" target="_blank" rel="noopener noreferrer">Saberioon et al., 2017</a>, <a href="https://www.researchgate.net/publication/235007076_A_computer-vision_system_and_methodology_for_the_analysis_of_fish_behavior" target="_blank" rel="noopener noreferrer">Papadakis et al., 2012</a>, <a href="https://pubmed.ncbi.nlm.nih.gov/30643215/" target="_blank" rel="noopener noreferrer">Romero-Ferrero et al., 2019</a>, <a href="https://www.researchgate.net/publication/310661111_Robust_tracking_of_fish_schools_using_CNN_for_head_identification" target="_blank" rel="noopener noreferrer">Zhao et al., 2018a</a></p>
<h3 id="3-fish-appetite-detection-"><a href="#3-fish-appetite-detection-" aria-label="3 fish appetite detection  permalink"></a>3. Fish Appetite Detection ğŸ¡</h3>
<h5 id="problem-it-solves-2"><a href="#problem-it-solves-2" aria-label="problem it solves 2 permalink"></a>PROBLEM IT SOLVES</h5>
<p>No metric has a stronger correlation to production efficiency and breeding cost than fish feeding. Feeding accounts for 60% of the average fish farmâ€™s operations budget.</p>
<p>Insufficient feeding drastically lowers the fish breeding/biomass growth rates, while overfeeding results in wasted costs and pollution of the surrounding water environment.</p>
<h5 id="how-it-solves-the-problem-2"><a href="#how-it-solves-the-problem-2" aria-label="how it solves the problem 2 permalink"></a>HOW IT SOLVES THE PROBLEM</h5>
<p>Nailing the optimal feeding times and delivery size can be challenging. Traditionally, farmers use simple timers and intuitive experience to make their decisionsâ€”which does not consider important environmental and nutritional factors.</p>
<p>Aggregated data containing visual information, water measurements, and historical data on fish responses to past feedings can be combined with 3D-CNN and RNN models geared for temporal/spatial data flow to generate drastically more efficient feeding. Maloy et a. utilized this dual-network approach to choose optimal feeding times that accounted for feeding and non-feeding behaviors.</p>
<h5 id="summary-2"><a href="#summary-2" aria-label="summary 2 permalink"></a>SUMMARY</h5>
<p>Many aquaculture farms have random times for feeding. Some farmers use feed based on intuition. When this happens, fish can be over or underfed. Overuse of feed leads to wasted costs and pollution of the environment, and underfeeding lower growth rates. Detecting appetite lets farmers control when to feed the fish.</p>
<p>Related Citations: <a href="https://www.sciencedirect.com/science/article/pii/S0168169919313262" target="_blank" rel="noopener noreferrer">MÃ¥lÃ¸y et al. (2019)</a>, <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5856631/" target="_blank" rel="noopener noreferrer">Chen et al., 2017</a></p>
<h3 id="4-biomass-estimation-"><a href="#4-biomass-estimation-" aria-label="4 biomass estimation  permalink"></a>4. Biomass Estimation ğŸ </h3>
<h5 id="problem-it-solves-3"><a href="#problem-it-solves-3" aria-label="problem it solves 3 permalink"></a>PROBLEM IT SOLVES</h5>
<p>Estimating biomass forms the basis for sustainably managing a fish-farm as provides farmers an insight into the quantity, size, and weight of the current fish. These crucial data points also drive decision making related to feeding and behavioral management.</p>
<p>Measuring biomass can be challenging without human intervention as the fish move freely in an environment where lighting and visibility conditions can not be controlled. Depending on the depth of the fish, different degrees of occlusion and light change need to be accounted for.</p>
<h5 id="how-it-solves-the-problem-3"><a href="#how-it-solves-the-problem-3" aria-label="how it solves the problem 3 permalink"></a>HOW IT SOLVES THE PROBLEM</h5>
<p>Two possible solutions can come together to accurately estimate biomass:</p>
<ol>
<li>Train a Deep Learning algorithm to understand the mapping between sonar and optical images</li>
<li>Segment images of individual fish, track them over time, and continuously estimate volume and weight through changes in the fish using the depth of the object within the frame. </li>
</ol>
<h5 id="summary-3"><a href="#summary-3" aria-label="summary 3 permalink"></a>SUMMARY</h5>
<p>Estimating Biomass helps Farmers make better decisions about the size, quality, and weight of fish. Currently, this process is done manually and is labor/cost-intensive. Automating this process will save farmers time and money.</p>
<p>Related Citations: <a href="https://www.researchgate.net/publication/334450150_Integration_of_sonar_and_optical_camera_images_using_deep_neural_network_for_fish_monitoring" target="_blank" rel="noopener noreferrer">Terayama et al., 2019</a>, <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0204713" target="_blank" rel="noopener noreferrer">Moen et al., 2018</a>, <a href="https://www.researchgate.net/publication/343500391_R_34_Zhang_et_al_2020_Rev_Fish_Biol_Fisheries_online-101007_s11160-020-09614-y" target="_blank" rel="noopener noreferrer">Zhang et al., 2020</a></p>
<h3 id="5-mesh-integrity-detection-"><a href="#5-mesh-integrity-detection-" aria-label="5 mesh integrity detection  permalink"></a>5. Mesh Integrity Detection ğŸ™</h3>
<figure>
    <span>
      <span></span>
  <picture>
        <source srcset="https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/9cece/%20mesh-detection.webp 175w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/adf5f/%20mesh-detection.webp 350w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/fa73e/%20mesh-detection.webp 700w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/7e3cb/%20mesh-detection.webp 1050w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/aa619/%20mesh-detection.webp 1400w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/7e344/%20mesh-detection.webp 1822w" sizes="(max-width: 700px) 100vw, 700px" type="image/webp">
        <source srcset="https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/1aaec/%20mesh-detection.png 175w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/98287/%20mesh-detection.png 350w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/39600/%20mesh-detection.png 700w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/57cd1/%20mesh-detection.png 1050w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/4af54/%20mesh-detection.png 1400w,
https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/61655/%20mesh-detection.png 1822w" sizes="(max-width: 700px) 100vw, 700px" type="image/png">
        <img src="https://www.gautamtata.com/static/53eecf0628cb592f8abdb8e0047b6f5e/39600/%20mesh-detection.png" alt="Mesh Detection - courtesy of Petrov et al." title="Mesh Detection - courtesy of Petrov et al." loading="lazy">
      </picture>
    </span>
    <figcaption>Mesh Detection - courtesy of Petrov et al.</figcaption>
  </figure>
<h5 id="problem-it-solves-4"><a href="#problem-it-solves-4" aria-label="problem it solves 4 permalink"></a>PROBLEM IT SOLVES</h5>
<p>Specially designed mesh nets fence the farmed fish into a confined area and ensure their safety/health. Farmed fish escaping the farm would be disastrous for the farm as well as the nearby ecosystem.</p>
<h5 id="how-it-solves-the-problem-4"><a href="#how-it-solves-the-problem-4" aria-label="how it solves the problem 4 permalink"></a>HOW IT SOLVES THE PROBLEM</h5>
<p>Currently, divers perform a â€œnet integrity checkâ€ in which they SCUBA around the farmâ€™s perimeter and check nodes in the netting for signs of wear. Hiring professional divers or owning the equipment to perform the dives can be an arduous/expensive process.</p>
<p>A deep learning neural network trained to recognize nodes in the netting can easily create rules for placement and monitoring of the mesh nets.</p>
<h5 id="summary-4"><a href="#summary-4" aria-label="summary 4 permalink"></a>SUMMARY</h5>
<p>Current Fjords and other aquaculture nets can be broken. If this happens, hundreds of thousands of fish will escape into the nearby environment devastating the ecosystem. Divers currently routinely inspect mesh nets but automating net break detection will save the farms much money and save the ocean from further harm.</p>
<p>Related Citations: <a href="https://www.researchgate.net/publication/247160483_AquaMesh_-_Design_and_Implementation_of_Smart_Wireless_Mesh_Sensor_Networks_for_Aquaculture" target="_blank" rel="noopener noreferrer">Odey Et al</a>, <a href="https://link.springer.com/article/10.1007/s41095-020-0174-8" target="_blank" rel="noopener noreferrer">Yun-Peng et al.</a></p>
<h3 id="6-predicting-water-quality-"><a href="#6-predicting-water-quality-" aria-label="6 predicting water quality  permalink"></a>6. Predicting Water Quality ğŸ‹</h3></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.gautamtata.com/blog/deep-culture/">https://www.gautamtata.com/blog/deep-culture/</a></em></p>]]>
            </description>
            <link>https://www.gautamtata.com/blog/deep-culture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732786</guid>
            <pubDate>Mon, 11 Jan 2021 17:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Empire Is Not Done with Julian Assange]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25732732">thread link</a>) | @mikesabbagh
<br/>
January 11, 2021 | https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/ | <a href="https://web.archive.org/web/*/https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
		As is clear from the memoir of one of his attorneys, Michael Ratner, the ends have always justified the means for those demanding his global persecution.	</p><div>
		
<figure><img data-attachment-id="6507" data-permalink="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/free-the-press/" data-orig-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=2560%2C1924&amp;ssl=1" data-orig-size="2560,1924" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Perfection 1240&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Free the Press" data-image-description="" data-medium-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=780%2C587&amp;ssl=1" loading="lazy" width="780" height="587" src="https://i2.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press.jpg?resize=780%2C587&amp;is-pending-load=1#038;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1024%2C770&amp;ssl=1 1024w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=768%2C577&amp;ssl=1 768w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1536%2C1154&amp;ssl=1 1536w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=2048%2C1539&amp;ssl=1 2048w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=400%2C300&amp;ssl=1 400w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=200%2C150&amp;ssl=1 200w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1200%2C902&amp;ssl=1 1200w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?w=2340&amp;ssl=1 2340w" data-lazy-sizes="(max-width: 780px) 100vw, 780px" data-lazy-src="https://i2.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press.jpg?resize=780%2C587&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Original illustration for ScheerPost  by Mr. Fish </figcaption></figure>



<hr>



<p><strong>By Chris Hedges </strong>/ Original to ScheerPost</p>



<p>Shortly after WikiLeaks released <a href="https://wikileaks.org/irq/">the Iraq War Logs</a> in October 2010, which documented numerous US war crimes â€” including video images of the gunning down of two Reuters journalists and 10 other unarmed civilians in <a href="https://collateralmurder.wikileaks.org/">the Collateral Murder video</a>, the routine torture of Iraqi prisoners, the covering up of thousands of civilian deaths and the killing of nearly 700 civilians that had approached too closely to US checkpoints â€” the towering civil rights attorneys Michael Ratner and Len Weinglass, who had defended Daniel Ellsberg in the <a rel="noreferrer noopener" href="https://www.archives.gov/research/pentagon-papers" target="_blank">Pentagon Papers</a> case, met Julian Assange in a studio apartment in Central London, according to <a href="https://www.orbooks.com/catalog/moving-the-bar/">Ratnerâ€™s newly released memoir â€œMoving the Barâ€</a>.</p>



<p>Assange had just returned to London from Sweden where he had attempted to create the legal framework to protect WikiLeaksâ€™ servers in Sweden.&nbsp; Shortly after his arrival in Stockholm, his personal bank cards were blocked.&nbsp; He had no access to funds and was dependent on supporters.&nbsp; Two of these supporters were women with whom he had consensual sex.&nbsp; As he was preparing to leave, the Swedish media announced that he was wanted for questioning about allegations of rape. The women, who never accused Assange of rape, wanted him to take an STD test.&nbsp; They had approached the police about compelling him to comply. â€œI did not want to put any charges on Julian Assange,â€ texted one of them on August 20 while she was still at the police station, but â€œthe police were keen on getting their hands on him.â€ She said she felt â€œrailroaded by the police.â€ Within 24 hours the chief prosecutor of Stockholm took over the preliminary investigation.&nbsp; He dropped the rape accusation, stating â€œI donâ€™t believe there is any reason to suspect that he has committed rape.â€ Assange, although not charged with a crime, cancelled his departure and remained in Sweden for another five weeks to cooperate with the investigation.&nbsp; A special prosecutor, Marianne Ny, was appointed to investigate allegations of sexual misconduct.&nbsp; Assange was granted permission to leave the country.&nbsp; He flew to Berlin.&nbsp; When Assange arrived in Berlin three encrypted laptops with documents detailing US war crimes had disappeared from his luggage.</p>



<p>&nbsp;â€œWe consider the Swedish allegations a distraction,â€ Ratner told Assange, according to his memoir. â€œWeâ€™ve read the police reports, and we believe the authorities donâ€™t have a case. Weâ€™re here because in our view you are in much more jeopardy in the US Len [Weinglass] can explain why.â€</p>



<p>Assange, Ratner recalled, remained silent.</p>



<p> â€œWikiLeaks and you personally are facing a battle that is both legal and political,â€ Weinglass told Assange. â€œAs we learned in the Pentagon Papers case, the US government doesnâ€™t like the truth coming out. And it doesnâ€™t like to be humiliated. No matter if itâ€™s Nixon or Bush or Obama, Republican or Democrat in the White House. The US government will try to stop you from publishing its ugly secrets. And if they have to destroy you and the First Amendment and the rights of publishers with you, they are willing to do it. We believe they are going to come after WikiLeaks and you, Julian, as the publisher.â€</p>



<p>â€œCome after me for what?â€ asked Julian.</p>



<p>â€œEspionage,â€ Weinglass continued, according to the memoir. â€œTheyâ€™re going to charge Bradley Manning with treason under the Espionage Act of 1917. We donâ€™t think it applies to him because heâ€™s a whistleblower, not a spy. And we donâ€™t think it applies to you either because you are a publisher. But they are going to try to force Manning into implicating you as his collaborator. Thatâ€™s why itâ€™s crucial that WikiLeaks and you personally have an American criminal lawyer to represent you.â€</p>



<p>Ratner and Weinglass laid out potential scenarios.</p>



<p>â€œThe way it could happen,â€ Ratner said, â€œis that the Justice Department could convene a secret grand jury to investigate possible charges against you. It would probably be in northern Virginia, where everyone on the jury would be a current or retired CIA employee or have worked for some other part of the military-industrial complex. They would be hostile to anyone like you whoâ€™d published US government secrets. The grand jury could come up with a sealed indictment, issue a warrant for your arrest, and request extradition.â€</p>



<p>â€œWhat happens if they extradite me?â€ asked Julian.</p>



<p>â€œThey fly you to where the indictment is issued,â€ Weinglass told Assange. â€œThen they put you into some hellhole in solitary, and you get treated like Bradley Manning. They put you under what they call special administrative measures, which means you probably would not be allowed communication with anyone. Maybe your lawyer could go in and talk to you, but the lawyer couldnâ€™t say anything to the press.â€</p>



<p> â€œAnd itâ€™s very, very unlikely that they would give you bail,â€ Ratner added.</p>



<p>â€œIs it easier to extradite from the UK or from Sweden?â€ asked Sarah Harrison, who was at the meeting.</p>



<p> â€œWe donâ€™t know the answer to that,â€ Ratner replied. â€œMy guess is that you would probably have the most support and the best legal team in a bigger country like the UK In a smaller country like Sweden, the US can use its power to pressure the government, so it would be easier to extradite you from there. But we need to consult with a lawyer who specializes in extradition.â€</p>



<p>&nbsp;Assangeâ€™s British lawyer, also at the meeting, proposed that Assange return to Sweden for further questioning.</p>



<p>â€œI donâ€™t think thatâ€™s wise,â€ Weinglass said, â€œunless the Swedish government guarantees that Julian will not be extradited to another country because of his publishing work.â€</p>



<p>â€œThe problem is that Sweden doesnâ€™t have bail,â€ Ratner explained. â€œIf they put you in jail in Stockholm and the US pressures the government to extradite you, Sweden might send you immediately to the US and youâ€™d never see the light of day again. Itâ€™s far less risky to ask the Swedish prosecutor to question you in London.â€</p>



<figure><img data-attachment-id="6508" data-permalink="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/moving-the-bar_social-cards2/" data-orig-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=1313%2C1313&amp;ssl=1" data-orig-size="1313,1313" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moving-the-Bar_Social-cards2" data-image-description="" data-medium-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=300%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=780%2C780&amp;ssl=1" loading="lazy" width="780" height="780" src="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=780%2C780&amp;is-pending-load=1#038;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=768%2C768&amp;ssl=1 768w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=1200%2C1200&amp;ssl=1 1200w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=800%2C800&amp;ssl=1 800w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=400%2C400&amp;ssl=1 400w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=200%2C200&amp;ssl=1 200w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?w=1313&amp;ssl=1 1313w" data-lazy-sizes="(max-width: 780px) 100vw, 780px" data-lazy-src="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=780%2C780&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Book cover illustration for Ratnerâ€™s memoir.  To order, <a href="https://www.orbooks.com/catalog/moving-the-bar/">click here</a>. </figcaption></figure>



<hr>



<p>The US governmentâ€™s determination to extradite Assange and imprison him for life, despite the fact that Assange is not a US citizen and WikiLeaks is not a US based publication, Ratner understood from the start, will be unwavering and relentless.&nbsp;</p>



<p>In the 132-page <a rel="noreferrer noopener" href="https://www.judiciary.uk/wp-content/uploads/2021/01/USA-v-Assange-judgment-040121.pdf" target="_blank">ruling</a> (pdf) issued today in London by Judge Vanessa Baraitser of the Westminster Magistratesâ€™ Court the court refused to grant an extradition request only because of the barbarity of the conditions under which Assange would be held while imprisoned in the US.</p>



<p>â€œFaced with the conditions of near total isolation without the protective factors which limited his risk at [Her Majestyâ€™s Prison] Belmarsh, I am satisfied the procedures described by the US will not prevent Mr. Assange from finding a way to commit suicide,â€ said Baraitser, â€œand for this reason I have decided extradition would be oppressive by reason of mental harm and I order his discharge.â€</p>



<p>Assange is charged with violating 17 counts of the Espionage Act, along with an attempt to hack into a government computer.&nbsp; Each of the 17 counts carries a potential sentence of 10 years. The additional charge that Assange conspired to hack into a government computer has a maximum sentence of five years. The judge ominously accepted all of the charges leveled by US prosecutors against Assange â€” that he violated the Espionage Act by releasing classified information and was complicit in assisting his source, Chelsea Manning, in the hacking of a government computer. It is a very, very dangerous ruling for the media. And if, on appeal, and the US has already said it would appeal, the higher court is assured that Assange will be held in humane conditions, it paves the way for his extradition.</p>



<p>The publication of classified documents is not yet a crime in the United States. If Assange is extradited and convicted, it will become one. The extradition of Assange would mean the end of journalistic investigations into the inner workings of power. It would cement into place a terrifying global, corporate tyranny under which borders, nationality and law mean nothing. Once such a legal precedent is set, any publication that publishes classified material, from The New York Times to an alternative website, will be prosecuted and silenced.</p>



<p>Assange has done more than any contemporary journalist or publisher to expose the inner workings of empire and the lies and crimes of the US ruling elite.&nbsp; The deep animus towards Assange, as fierce within the Democratic Party as the Republican Party, and the cowardice of the media and watchdog groups such as PEN to defend him, mean that all he has left are courageous attorneys, such as Ratner, activists, who protested outside the court, and those few voices of conscience willing to become pariahs in his defense. </p>



<p>Ratnerâ€™s memoir, which is a profile in courage of the many dissidents, including Assange, he valiantly defended, is also a profile of courage of one of the greatest civil rights attorneys of our era. There are few people I respect more than Michael Ratner, who I accompanied to visit Assange when he was trapped in the Ecuadorian Embassy in London. His memoir is not only about his lifelong fight against racial injustice, a rising corporate totalitarianism, and the crimes of empire, but is a sterling example of what it means to live the moral life.</p>



<p>Assange earned the eternal enmity of the Democratic Party establishment by publishing 70,000 hacked emails belonging to the Democratic National Committee and senior Democratic officials. The emails were copied from the accounts of John Podesta, Hillary Clintonâ€™s campaign chairman. The Podesta emails exposed the donation of millions of dollars to the Clinton Foundation by Saudi Arabia â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/">https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/</a></em></p>]]>
            </description>
            <link>https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732732</guid>
            <pubDate>Mon, 11 Jan 2021 17:50:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[China CCP to Nationalize Jack Ma's Alibaba and Ant Group â€“ Report]]>
            </title>
            <description>
<![CDATA[
Score 481 | Comments 353 (<a href="https://news.ycombinator.com/item?id=25732676">thread link</a>) | @masonhensley
<br/>
January 11, 2021 | https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444 | <a href="https://web.archive.org/web/*/https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure itemprop="associatedMedia video" itemscope="" itemtype="https://schema.org/VideoObject" data-v="3995"><div></div><p>
<figcaption>
<span>China sets path for President Xi to remain in power indefinitely</span>				</figcaption></p><meta itemprop="name" content="China sets path for President Xi to remain in power indefinitely"><meta itemprop="duration" content="T0M32S"><meta itemprop="thumbnailUrl" content="https://data.ibtimes.sg/en/full/21247/china-sets-path-president-xi-remain-power-indefinitely.jpg"><meta itemprop="contentURL" content="https://video.ibtimes.co.in/transcoder/480p/163/jingping2502.mp4"><meta itemprop="embedURL" content="https://www.ibtimes.sg/videos/embed/3995"><meta itemprop="uploadDate" content="2018-02-26T00:19:32+08:00"><meta itemprop="description" content="Chinas ruling Communist Party have proposed removing a clause in its constitution which limits presidencies to two five-year terms. The move would allow President Xi Jinping to remain as leader indefinitely.&nbsp;"><meta itemprop="height" content="414"><meta itemprop="width" content="736">  </figure>
<figure itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://data.ibtimes.sg/en/full/21247/china-sets-path-president-xi-remain-power-indefinitely.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720">
</figure></div><div itemprop="articleBody" id="v_main"><p>Reports from China indicate that the Chinese government may be working on a plan to nationalize Jack Ma's Alibaba and the Ant Group. China's ruling Chinese Communist Party (CCP) has gone further ahead with the antitrust investigation into e-commerce giant Alibaba.</p><p>"Based on tip-offs received by the State Administration for Market Regulation in recent days, the administration will be investigating Alibaba ... for suspected monopolistic activities," the government said.</p><p><strong><a href="https://www.ibtimes.sg/malaysias-mahathir-named-worlds-most-dangerous-extremists-list-alongside-isis-caliph-54749" target="_blank">ALSO READ: Malaysia's Mahathir Named in 'World's Most Dangerous Extremists' List Alongside ISIS Caliph</a></strong></p><p>The investigating agencies had set up an office at the Alibaba headquarters in November. Apart from the e-commerce giant, investigators are also probing social media giant Tencent and e-commerce company Meituan.</p><p>The news of the government's plan to enforce more curbs on Alibaba sent its stock spiraling down as much as 8 percent. Alibaba said in a statement it would cooperate with any investigation. "Today, Ant Group received a meeting notice from regulators," Alibaba said in a statement.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i489" src="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736" alt="China's Alibaba secures $3 billion loan to finance acquisition spree" title="China's Alibaba secures $3 billion loan to finance acquisition spree" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg"><meta itemprop="width" content="1200"><meta itemprop="height" content="795">
<figcaption>
<span itemprop="caption">A logo of Alibaba Group is pictured at its headquarters in Hangzhou, Zhejiang province, China, October 14, 2015.</span>
<span itemprop="copyrightHolder">Reuters</span>
</figcaption></div>
</figure><h3>Decision Taken at Highest Levels of CCP</h3><p>Meanwhile, sources have said the development is a proof of China's resolve to nationalize Alibaba. Song Qing, Internet finance industry insider, said the investigation is part of CCP plans to nationalize both Ant Group and Alibaba. "There will definitely be an outcome, now that they have started the investigation ... This is probably coming from the highest levels," he told Radio Free Asia.</p><p>The suggestions are that the plan to nationalize Alibaba has come from the very top of the ruling Communist Party structure. A few days ago, the People's Daily, the official mouthpiece of the CCP, said the government's "anti-monopoly work" will lead to "better development." The paper said the party Politburo thought 'anti-monopoly work' should be strengthened to prevent the disorderly expansion of capital.</p><p>Song Qing agrees with the view. "Just a couple of weeks ago, they set out plans to nationalize Ant Group and Alibaba; the timing was deliberate ... Those plans all came from the central leadership," he said.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i20672" src="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736" alt="Alibaba" title="Alibaba" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/20672/alibaba.jpg"><meta itemprop="width" content="1600"><meta itemprop="height" content="1066">
<figcaption>
<span itemprop="caption">Alibaba Group founder and executive chairman Jack Ma.</span>
<span itemprop="copyrightHolder">IANS</span>
</figcaption></div>
</figure><p>He also added that the government wants to make a lesson out of Alibaba. "These nationalizations are definitely happening, and [the antitrust investigation] will likely speed up that process ... It's also, I think, about making an example of [Ant and Alibaba]," <a href="https://www.rfa.org/english/news/china/alibaba-probe-12252020170303.html" rel="nofollow" target="_blank">he said</a>.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i14121" src="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736" alt="Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo" title="Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg"><meta itemprop="width" content="1200"><meta itemprop="height" content="666">
<figcaption>
<span itemprop="caption">Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo</span>
<span itemprop="copyrightHolder">Reuters</span>
</figcaption></div>
</figure><p>As the antitrust probe progresses, the People's Bank of China, the China Banking Regulatory Commission, the China Securities Regulatory Commission and the State Administration of Foreign Exchange will also get involved in the investigation against Alibaba.</p><p>Xi Jinping, Chinese President and CCP general secretary, had said in October that the plan was to make China a more state-controlled economy based on domestic demand. Observers think China's political economy is poised to see major changes. Many believe that Xi will change the pattern of property ownership in the country.</p></div></div>]]>
            </description>
            <link>https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732676</guid>
            <pubDate>Mon, 11 Jan 2021 17:47:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Design decisions I do not regret]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25732492">thread link</a>) | @azhenley
<br/>
January 11, 2021 | https://futhark-lang.org/blog/2021-01-11-no-regrets.html | <a href="https://web.archive.org/web/*/https://futhark-lang.org/blog/2021-01-11-no-regrets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      

<p>
    Posted on January 11, 2021
    
        by Troels Henriksen
    
</p>

<p>I have written several posts on <a href="https://futhark-lang.org/blog/2019-12-18-design-flaws-in-futhark.html">things that we got wrong in Futhark</a>, <a href="https://futhark-lang.org/blog/2018-12-08-why-futhark-sometimes-goes-wrong.html">why the compiler goes wrong</a>, as well as posts about <a href="https://futhark-lang.org/blog/2020-03-15-futhark-0.15.1-released.html#size-types">complicated features</a> where it is still unclear whether the feature works well enough. However, there are also some parts of Futharkâ€™s design that I feel pretty good about! This post will discuss some of them. I will focus on very concrete details, rather than grand observations such as â€œbulk-parallel functional programming is a good paradigm for numerical programmingâ€. Such doctrinal statements are more of an entire <em>thesis</em>, and require much richer and more qualified answers than just â€œthis turned out pretty wellâ€. Everything to follow is what I donâ€™t <em>regret</em>, so it is necessarily subjective, but maybe other language designers will find it useful or amusing.</p>
<h2 id="short-names"><a href="#short-names" id="short-names-link" title="short-names">Short names</a></h2>
<p>Naming things is one of the two most difficult problems in computer science, and in contrast to the other two (cache invalidation and off-by-one errors), there is no tooling or theory to tell you when you pick a bad name. Matters are even graver when it comes to names that are part of public interfaces. You may well receive acclaim for fixing a subtle cache invalidation bug in old and widely used code, but do not expect similar praise if you also change the naming convention of the public API from underscores to CamelCasing along the way.</p>
<p>Futhark exposes many names, both in its command line interface and its <a href="https://futhark-lang.org/docs/prelude/">built-in libraries</a>. Many of the names have been changed over the years. When we initially fleshed out the primitive type system, I agonised over how to name the new types. Should 32-bit signed integers be <code>Int32</code> as in Haskell, or <code>i32</code> as in Rust? I worried the latter was <em>too short</em>. Yet in the end, that was the scheme we went with: <code>i8</code>/<code>i16</code>/<code>i32</code>/<code>i64</code> for the signed types, <code>u8</code>/<code>u16</code>/<code>u32</code>/<code>u64</code> for the unsigned, and <code>f32</code>/<code>f64</code> for floats.</p>
<p>Incidentally, here is a piece of advice: if you are ever agonising over some design detail that is not core to what makes your language special, and all options seem equally reasonable, just go with whatever Rust does. Odds are that whatever Rust decided was preceded by significant debate, and that whatever they picked has few gotchas. Lexical syntax is one area where this is particularly good (and easy) advice to follow.</p>
<p>But back to naming things. The terse type names turned out to work fine. In fact, I realised that <em>I have never regretted making a name too short</em>. The names I still regret tend to be those that are too imprecise or <em>too long</em> - the <code>negate</code> function in the <code>f32</code> and <code>f64</code> modules should have been <code>neg</code>, for example. I am not quite sure why this is. When I code in Haskell, I have a preference for relatively verbose names for top-level definitions. In Futhark, short names just seem to fit better with the language aesthetics. Maybe that is just the nature of numerical code? I donâ€™t know. But I definitely rely on this observation to guide future naming of things.</p>
<h2 id="file-orientation"><a href="#file-orientation" id="file-orientation-link" title="file-orientation">File orientation</a></h2>
<p>While Futhark is not designed for large programs, we still want to support multi-file programs. Code in a file <code>A</code> must be allowed to reference definitions in some other file <code>B</code>. Languages differ significantly in how they go about this. Futhark went for a particularly simple model: the declaration <code>import "foo"</code> allows access to the definitions in the file <code>foo.fut</code>, looked up relative to the importing file. That is all there is to it. If you know how a hierarchical file system works, then you know how Futhark looks up files. This is not textual inclusion as in C - each file still has to be syntactically valid on its own. We are not barbarians.</p>
<p><a href="https://futhark-lang.org/blog/2018-06-18-designing-a-programming-language-for-the-desert.html">The philosophical background is spelled out here</a>, but the basic rationale is that <em>nobody enjoys learning about language import mechanics</em>, and in Futhark we can get away with doing something stupidly simple. Other languages, like Haskell and Java, put more effort into decoupling the notion of a â€œmoduleâ€ or â€œcompilation unitâ€ from that of a physical file. Even languages that reason in terms of files usually also provide support for a â€œsearch pathâ€, where you provide the compiler with additional directories that are searched when including files.</p>
<p>The downside of this approach is that for larger programs with multiple directories of source files, a file has no unique way to be referenced (except for its absolute pathname, which is not practical), so you may need to use different relative paths in different files (e.g. <code>"../lib/foo"</code> and <code>"../../lib/foo"</code>). Another downside is that you cannot have a central repository of â€œsystem filesâ€ that are always checked (like <code>/usr/include</code> in Unix).</p>
<p>A <em>major</em> advantage of the design is that each file in a program can be processed as the â€œrootâ€, without having to look for some kind of project definition file that contains necessary compiler directives such as include paths. This has allowed very lightweight zero-config tooling, such as a â€œgo to definitionâ€ command in <a href="https://github.com/diku-dk/futhark-mode">futhark-mode</a> and showing the types of variables - something that most Emacs modes definitely do not have without additional configuration.</p>
<p>Clearly this solution wouldnâ€™t work for all languages, but it has worked really well for Futhark. I was initially worried because this design is much more similar to <em>bad</em> languages (like shell script) than to <em>good</em> languages (like Haskell), but it hasnâ€™t caused problems yet, and I donâ€™t recall any Futhark programmers ever being confused about how <code>import</code> works. This is the right design for Futhark, and I donâ€™t expect to regret it any time soon.</p>

<p><a href="https://futhark-lang.org/blog/2017-10-10-block-comments-are-a-bad-idea.html">These remain a bad idea</a>. Emacs has <code>M-x comment-region</code> and inferior editors likely have something similar. No regrets. In fact, my experience writing more <a href="https://futhark-lang.org/blog/2019-08-31-beginning-a-collection-of-futhark-examples.html">semi-syntactic tooling</a> has only strengthened my conviction. Line comments are easy to parse in an ad-hoc way, and it is particularly nice that there is only one way of writing comments.</p>
<h2 id="explicit-binding"><a href="#explicit-binding" id="explicit-binding-link" title="explicit-binding">Explicit binding</a></h2>
<p>Suppose we have a record type:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>type</span> t = {foo: i32, bar: bool}</span></code></pre></div>
<p>In a function definition we can bind variables <code>a</code>, <code>b</code> to the field contents as follows:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>let</span> f ({foo=a, bar=b}: t) = ...</span></code></pre></div>
<p>And if we wish to bind variables with the same names as the fields, there is a shorthand syntax inspired by OCaml and Haskell:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>let</span> f ({foo, bar}: t) = ...</span></code></pre></div>
<p>These languages also support an even more concise form:</p>

<p>This implicitly binds variables with the same names as the record fields. Futhark does <em>not</em> support this. The reason is a philosophy of never bringing names into scope unless those names are actually syntactically present at the binding site in some form. There are many things I enjoy about programming, but guessing where some variable comes from is not among them. I find C++â€™s policy of implicitly bringing class fields into scope inside method bodies to be particularly confusing.</p>
<p>My distaste for complex binding structure goes further: Futhark requires that all definitions occur <em>before</em> their first use. Originally this was just for implementation simplicity, but I have come to enjoy the restriction. Itâ€™s nice not to worry so much about the best definition order, because the compiler already ruled out most options. OCaml and SML have similar restrictions, so this is not <em>just</em> Futhark aping some 70s Pascal dialect.</p>
<p>The one exception to this explicitness principle is the <code>open</code> statement, which brings names from another module into scope. While a plain <code>open</code> is rare, it is used implicitly by <code>import</code>. There are also <em>local open</em> expressions, which allow us to write e.g. <code>M.(x*y+z)</code> with the names in module <code>M</code> in scope within the parenthesised expression. This is <em>really</em> convenient when writing advanced modularised numerical code, as the alternative is the much more clumsy <code>x M.* y M.+ z</code>. I am not sure how to reconcile this with our general principle, but maybe you just canâ€™t be a fundamentalist all the time.</p>
<h2 id="no-dependencies"><a href="#no-dependencies" id="no-dependencies-link" title="no-dependencies">No dependencies</a></h2>
<p>Futhark is written in Haskell, and all of its code dependencies are either pure Haskell libraries or embed small amounts of C code. This means that it is quite easy to build the Futhark compiler - all you need is a standard Haskell build tool like <code>stack</code> or <code>cabal</code>, which is supported and documented on most operating systems. I do not recall anyone having trouble installing the compiler itself. Difficulties tend to be more in the direction of setting up GPU drivers on Linux (yet another of the great unsolved problems in computer science).</p>
<p>This policy is not all upside. For many years, we lugged around a home-brewed implementation of algebraic simplification because we were averse to native code dependencies. We also generate C code (compiled with the system C compiler) rather than interacting directly with LLVM the way <a href="http://www.acceleratehs.org/">Accelerate</a> does it. This means that there are some things we cannot efficiently express in our generated code. On the other hand, Accelerateâ€™s dependency on LLVM can make it tricky to install, unless your system happens to have the right version of LLVM installed (and HPC systems and servers running <em>mature</em> versions of Red Hat Enterprise Linux tend not to). <a href="https://ispc.github.io/">ISPC</a> provides compiler binaries that embed a statically linked version of LLVM - this <em>may</em> be a direction we could go in, but I suspect statically linking LLVM with a Haskell program is more tricky than linking it with C++. And frankly, I think I already spend too much time hacking on build systems and CI setups.</p>
<p>We have gone quite far with this focus on installation simplicity. For example, the <a href="https://futhark.readthedocs.io/en/latest/man/futhark-pkg.html">Futhark package manager</a> does not even use native code to download packages. Instead, it shells out to <code>curl</code>. This has allowed us to statically link the Futhark binary that we provide for releases, a well as not having to worry about certificate store configuration. If you can download with <code>curl</code> in the command line, then <code>futhark pkg</code> will work. And if your system requires you to configure a special proxy or whatnot, then whichever configuration files or environment variables that <code>curl</code> respects will also work for <code>futhark pkg</code>.</p>
<p>I was initially hesitant about this â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://futhark-lang.org/blog/2021-01-11-no-regrets.html">https://futhark-lang.org/blog/2021-01-11-no-regrets.html</a></em></p>]]>
            </description>
            <link>https://futhark-lang.org/blog/2021-01-11-no-regrets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732492</guid>
            <pubDate>Mon, 11 Jan 2021 17:37:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring the Supply Chain of the Pfizer/BioNTech and Moderna Covid-19 Vaccines]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731984">thread link</a>) | @jonemo
<br/>
January 11, 2021 | https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/ | <a href="https://web.archive.org/web/*/https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      <div>
  <p>
     â— 10 Jan 2021
  </p>
  
  <p><em>Sections of this post were co-authored by <a href="https://www.linkedin.com/in/cornelia-scheitz/">Cornelia Scheitz</a>.</em></p>

<p>Bert Hubertâ€™s excellent and widely shared article about <a href="https://berthub.eu/articles/posts/reverse-engineering-source-code-of-the-biontech-pfizer-vaccine/">Reverse Engineering the source code of the Pfizer-BioNTech SARS-CoV-2 Vaccine</a> is all it took to turn hundreds of software engineers and other Silicon Valley types into armchair vaccine experts overnight! Jokes aside, the article explains the 4284 base pair long mRNA inside the Pfizer-BioNTechâ€™s COVID-19 vaccine for those who are more familiar with software than molecular biology.</p>

<p>Bertâ€™s article is primarily about the biology of the vaccine, how it relates to the virus and how it works in the human body, but thereâ€™s this one sentence about vaccine production:</p>

<blockquote>
  <p>At the very beginning of the vaccine production process, someone uploaded this code to a DNA printer (yes), which then converted the bytes on disk to actual DNA molecules.</p>
</blockquote>

<p>Next to it is a picture of a <a href="https://codexdna.com/products/bioxp-system/">CodexDNA BioXP</a> device that is advertised as producing â€œcustom DNA fragments of up to 7,000 base pairsâ€. Could this be the next <a href="https://en.wikipedia.org/wiki/Makers:_The_New_Industrial_Revolution">distributed manufacturing revolution</a>? This time with DNA printers making COVID-19 vaccines in our garages instead of 3D printers and plastic widgets?</p>

<p>Iâ€™ll start with the bad news: Nobody will be making an mRNA vaccine in their garage any time soon.</p>

<p>The following text is a collection of notes I wrote down while exploring the process for manufacturing and distributing the two new vaccines that have appeared all over the news and in more and more peopleâ€™s arms over the recent weeks. I started reading about mRNA but quickly found myself on tangents about glass vials and temperature tracking devices.</p>

<p>This text was written over a week worth of evenings in early January 2021. It covers the two vaccines currently authorized for distribution in the United States where I live: One by Pfizer-BioNTech and one by Moderna. Several other mRNA based COVID-19 vaccines <a href="https://www.nytimes.com/interactive/2020/science/coronavirus-vaccine-tracker.html">are in various stages of clinical trials</a> and are likely similar to those covered here in some ways and different in others.</p>

<p>It is unlikely that I got everything right. Corrections and suggestions are welcome, please email jn@jonasneubert.com.</p>

<div>
    
        <p><img src="https://blog.jonasneubert.com/assets/2021/2021-01-10-moderna-vaccine-in-fridge.jpg" alt="Source/attribution: U.S. Navy Photo by Elaine Heirigs, NHC/NMRTC Lemoore public affairs/Released, https://www.flickr.com/photos/navymedicine/50755819886/"></p><p>Source/attribution: U.S. Navy Photo by Elaine Heirigs, NHC/NMRTC Lemoore public affairs/Released, https://www.flickr.com/photos/navymedicine/50755819886/</p>
    
</div>

<h2 id="ingredients-list">Ingredients List</h2>

<p>The list of ingredients, or â€œbill of materialsâ€ in engineering parlance, is a good starting point for understanding the supply chain of any product. The ingredient lists for both Pfizer-BioNTech and Modernaâ€™s vaccines are public and have been widely reported.</p>

<p>The Pfizer-BioNTech vaccine is also known under its code name â€œBNT162b2â€, itâ€™s registered trademark â€œCorminatyâ€, and its international non-proprietary name â€œTozinameranâ€. The list of ingredients can be found in information material available on the various country-specific product websites on <a href="https://www.cvdvaccine.com/">www.cvdvaccine.com</a> or government websites like that of the <a href="https://www.gov.uk/government/publications/regulatory-approval-of-pfizer-biontech-vaccine-for-covid-19/information-for-healthcare-professionals-on-pfizerbiontech-covid-19-vaccine">UKâ€™s MHRA</a>. Thereâ€™s also a <a href="https://en.wikipedia.org/wiki/Tozinameran#Manufacturing">Wikipedia page</a>.</p>

<p>The Moderna vaccine is also known as â€œmRNA-1273â€, but appears to lack a brand name other than â€œModerna COVID-19 vaccineâ€ which is what it says on the product label. The list of ingredients can be found on the <a href="https://www.modernatx.com/covid19vaccine-eua/">EUA factsheet on Modernaâ€™s website</a>, or in these <a href="https://www.fda.gov/media/144434/download">FDA meeting notes</a>. It, too, has a <a href="https://en.wikipedia.org/wiki/MRNA-1273">Wikipedia entry</a>.</p>

<p>The two vaccines share some ingredients but not all. The following table is my attempt to sort the available information and compare the two.</p>

<table>
  <tbody><tr>
   <td>
   </td>
   <td>Pfizer-BioNTech
   </td>
   <td>Moderna
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Active Ingredient</span></strong>
   </td>
  </tr>
  <tr>
   <td>Comirnaty mRNA
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>mRNA-1273 mRNA
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Lipids</span></strong>
   </td>
  </tr>
  <tr>
   <td>Cholesterol
   </td>
   <td>âœ”
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>1,2-distearoyl-sn-glycero-3-phosphocholine (DSPC)
   </td>
   <td>âœ”
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>(4-hydroxybutyl)azanediyl)bis(hexane-6,1-diyl)bis(2- hexyldecanoate) (ALC-3015)
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>2-[(polyethylene glycol)-2000]-N,N-ditetradecylacetamide (ALC-0159)
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>Lipid SM-102
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>1,2-dimyristoyl-rac-glycero-3-methoxypolyethylene glycol-2000 (PEG2000-DMG)
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Buffer</span></strong>
   </td>
  </tr>
  <tr>
   <td>potassium chloride
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>monobasic potassium phosphate
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>sodium chloride
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>basic sodium phosphate dihydrate
   </td>
   <td>âœ”
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>tromethamine (tris(hydroxymethyl)aminomethane)
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>tromethamine hydrochloride
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>acetic acid
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>sodium acetate
   </td>
   <td>
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td>water
   </td>
   <td>âœ”
   </td>
   <td>âœ”
   </td>
  </tr>
  <tr>
   <td colspan="3"><strong><span>Other</span></strong>
   </td>
  </tr>
  <tr>
   <td>sucrose
   </td>
   <td>âœ”
   </td>
   <td>âœ”
   </td>
  </tr>
</tbody></table>

<p>In addition to whatâ€™s in the vaccine vial, Pfizer-BioNTech needs to be diluted with sodium chloride shortly before use (more about that below). The Moderna vaccine does not seem to require such a â€œDIY assemblyâ€ step.</p>

<p>Now that we know all the ingredients, letâ€™s go shopping.</p>

<p>Disclaimer: Please donâ€™t perform chemistry or create pharmaceuticals unless you have the appropriate safety training and equipment. I include links to online shops below, but note that they sell â€œfor research use onlyâ€ and will verify your affiliation with a research organization before taking your business.</p>

<h2 id="mrna">mRNA</h2>

<p>To make RNA, you start by making DNA. This makes sense if you know the <a href="https://en.wikipedia.org/wiki/Central_dogma_of_molecular_biology">central dogma of molecular biology</a> which, for the purposes of this article, can be simplified to â€œDNA makes RNA, and RNA makes proteinâ€.  Making DNA is a known, stable process in 3 steps:</p>

<ol>
  <li><strong>Create:</strong> Synthesize a small number of copies of the desired DNA, somehow. There are vendors for this sort of thing such as <a href="https://twistbioscience.com/">Twist Bioscience</a> just down the street from my apartment when I lived in San Francisco.</li>
  <li><strong>Copy:</strong>
    <ol>
      <li>Insert this DNA into innocent <a href="https://en.wikipedia.org/wiki/Escherichia_coli">E. coli bacteria</a> by means of <a href="https://en.wikipedia.org/wiki/Electrophoresis">electrophoresis</a>, i.e. zapping them.</li>
      <li>Put those bacteria into a stainless steel growth chamber full of nutrients and let them multiply for four days.</li>
      <li>Drain the vat, kill the bacteria, and <a href="https://en.wikipedia.org/wiki/DNA_extraction">extract the DNA</a>. Depending on growth chamber volume, this may take one week or longer.</li>
    </ol>
  </li>
  <li><strong>Verify:</strong> Perform several tests to confirm that the DNA you got is the DNA you wanted. Thereâ€™s no need for me to explain how testing for the presence of specific DNA sequences works, yâ€™all learned that nine months ago when you did your reading about how COVID-19 tests work.</li>
</ol>

<p>This yields grams of DNA and what is needed are bags of mRNA. mRNA is the most discussed ingredient of the vaccine for three reasons:</p>

<ol>
  <li>mRNA is the active ingredient of the vaccine.</li>
  <li>It is the first time an mRNA vaccine has been approved and is now produced at scale.</li>
  <li>The skills to produce mRNA at scale and the associated supply chain are new.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>
The conversion process from DNA to mRNA in living cells is well understood. However, doing it at scale, in a factory, and with a long shelf-life is still an area of development. To multiply the DNA we utilized E.coli and this tiny organism comes with all components needed for the job. The same process does not work for making mRNA for the vaccine. Instead, the DNA gets combined with nucleotides, polymerase, and special enzymes that protect the mRNA.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></li>
</ol>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Nucleotide">Nucleotides</a> are the raw building blocks for the mRNA.</li>
  <li>RNA <a href="https://en.wikipedia.org/wiki/Polymerase">Polymerases</a> read DNA and translate it to mRNA using these nucleotides.</li>
  <li>Enzymes add a cap and a tail to the mRNA to protect it.</li>
</ul>

<p>The third part, protecting the mRNA, is the crux of the matter. mRNA is not very stable especially at the ends. If you lose the first and last word of a sentence its meaning may be lost entirely. The same can happen here and the vaccine would not work anymore. To protect the beginning of the mRNA statement, a <a href="https://en.wikipedia.org/wiki/Five-prime_cap">5â€™ cap</a> is added using a mRNA Cap 2â€²-O-Methyltransferase and the vaccinia capping enzyme (VCE). (The â€œvacciniaâ€ in the name has nothing to do with vaccines.) To protect the end of the mRNA we add a <a href="https://en.wikipedia.org/wiki/Polyadenylation">poly(A) tail</a> to the message using a Poly(A)Polymerase. New England Biolabsâ€™ online store lists prices for <a href="https://www.neb.com/products/m0366-mrna-cap2-o-methyltransferase">mRNA Cap</a>, <a href="https://www.neb.com/products/m2080-vaccinia-capping-system">VCE</a>, and <a href="https://www.neb.com/products/m0276-ecoli-poly-a-polymerase">Poly(A)Polymerase</a>.</p>

<p>All ingredients of the vaccine besides the mRNA are â€œ<a href="https://en.wikipedia.org/wiki/Excipient">excipients</a>â€, substances whose purpose is somehow related to getting the vaccine from the factory into a human cell.</p>

<h2 id="lipids">Lipids</h2>

<p>Lipids are fatty molecules. Each of the two vaccines contains four types of lipid. Cholesterol, phosphatidylcholine, an ionizable cationic lipid, and PEGylated phospholipds. In the vaccine, these lipids form a capsule around the RNA called <a href="https://en.wikipedia.org/wiki/Solid_lipid_nanoparticle">lipid nanoparticle</a> (LNP) that protects it from the hostile environment until it is inside a human cell.</p>

<p>Both Pfizer-BioNTech and Moderna use the same structural components which are already approved in many drugs.</p>

<ul>
  <li><strong>DSPC</strong>, full name <a href="https://en.wikipedia.org/wiki/Distearoylphosphatidylcholine">Distearoylphosphatidylcholine</a> or 1,2-distearoyl-sn-glycero-3-phosphocholine, is the main component of the lipid bilayer that protects the mRNA.</li>
  <li><strong>Cholesterol</strong> is natural to the human body. In the vaccine it is used to achieve optimal liposome formation and structure.</li>
</ul>

<p>The other two ingredients are used to optimize the LNPs for its cargo and the delivery<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> and are novel or uncommon in drug formulation.</p>

<ul>
  <li><strong>Cationic</strong>, or positively charged, lipids bind to and help stabilize the negatively charged mRNA during assembly. Once inside the cell, the cellâ€™s different pH environment triggers the release of mRNA.
    <ul>
      <li>
        <p>Pfizer-BioNTech uses <a href="https://en.wikipedia.org/wiki/ALC-0315">ALC-3015</a> patented by Acuitas Therapeutics, Inc.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></p>
      </li>
      <li>
        <p>Moderna has a proprietary molecule called Lipid SM-102. Or maybe it isnâ€™t that proprietary, because it might be covered by a patent owned by Arbutus Biopharma.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup> Modernaâ€™s <a href="https://www.modernatx.com/sites/default/files/mRNA-1273-P301-Protocol.pdf">Phase 3 Clinical Study Protocol</a> defines it as â€œheptadecan-9-yl 8-((2-hydroxyethyl) (6-oxo-6-(undecyloxy)hexyl)amino)octanoateâ€ and calls it a â€œproprietary ionizable lipidâ€. In 2018, Moderna researchers published <a href="https://www.cell.com/molecular-therapy-family/molecular-therapy/pdfExtended/S1525-0016(18)30118-7">a Cell paper</a> proposing 10 new lipids, of which SM-102 is number 8, according to <a href="https://twitter.com/1stClef/status/1306653592691113986">this tweet</a>. The paper has a â€œsynthesisâ€ section and supplementary materials which somebody more knowledgeable about such things than I might be able to reproduce. Everyone else will have to purchase it, for example from <a href="https://organixinc.com/lipids/atx001-crrdc-b9dnh-phs3e">Organix Inc at $5,000/100mg</a>.</p>
      </li>
    </ul>
  </li>
  <li><strong>PEGylated phospholipids</strong> help stabilize the LNP and protect it from early detection by our immune system. It ensures the LNPs and thus the mRNA can reach its target.
    <ul>
      <li>Pfizer-BioNTech uses <a href="https://en.wikipedia.org/wiki/ALC-0159">ALC-0159</a>.</li>
      <li>Moderna uses DMG-PEG 2000 or â€œ1-monomethoxypolyethyleneglycol-2,3-dimyristylglycerolâ€ with â€¦</li></ul></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/">https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/</a></em></p>]]>
            </description>
            <link>https://blog.jonasneubert.com/2021/01/10/exploring-the-supply-chain-of-the-pfizer-biontech-and-moderna-covid-19-vaccines/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731984</guid>
            <pubDate>Mon, 11 Jan 2021 17:11:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simple Anomaly Detection Using Plain SQL]]>
            </title>
            <description>
<![CDATA[
Score 496 | Comments 44 (<a href="https://news.ycombinator.com/item?id=25731699">thread link</a>) | @harporoeder
<br/>
January 11, 2021 | https://hakibenita.com/sql-anomaly-detection | <a href="https://web.archive.org/web/*/https://hakibenita.com/sql-anomaly-detection">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>Many developers think that having a critical bug in their code is the worst thing that can happen. Well, there is something much worse than that: Having a critical bug in your code and <strong>not knowing about it!</strong></p>
<p>To make sure I get notified about critical bugs as soon as possible, I started looking for ways to find anomalies in my data. I quickly found that information about these subjects tend to get very complicated, and involve a lot of ad-hoc tools and dependencies.</p>
<p>I'm not a statistician and not a data scientist, I'm just a developer. Before I introduce dependencies into my system I make sure I really can't do without them. So, <strong>using some high school level statistics and a fair knowledge of SQL, I implemented a simple anomaly detection system <em>that works</em>.</strong></p>
<figure><img alt="Can you spot the anomaly?<br><small>Photo by <a href=&quot;https://unsplash.com/photos/KmKZV8pso-s&quot;>Ricardo Gomez Angel</a></small>" src="https://hakibenita.com/images/00-sql-anomaly-detection.png"><figcaption>Can you spot the anomaly?<br><small>Photo by <a href="https://unsplash.com/photos/KmKZV8pso-s">Ricardo Gomez Angel</a></small></figcaption>
</figure>
<details open="">
   <summary>Table of Contents</summary>

</details>
<hr>

<hr>
<h2 id="detecting-anomalies"><a href="#detecting-anomalies">Detecting Anomalies</a></h2>
<p>Anomaly in a data series is a significant deviation from some reasonable value. Looking at this series of numbers for example, which number stands out?</p>
<div><pre><span></span>2, 3, 5, 2, 3, 12, 5, 3, 4
</pre></div>


<p>The number that stands out in this series is 12.</p>
<figure><img alt="Scatter plot" src="https://hakibenita.com/images/00-sql-anomaly-detection-scatter-plot.png"><figcaption>Scatter plot</figcaption>
</figure>
<p>This is intuitive to a human, but computer programs don't have intuition...</p>
<p>To find the anomaly in the series we first need to define what a reasonable value is, and then define how far away from this value we consider a significant deviation. A good place to start looking for a reasonable value is the mean:</p>
<div><pre><span></span><span>SELECT</span> <span>avg</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>       avg</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>4.3333333333333333</span>
</pre></div>


<p>The mean is ~4.33.</p>
<p>Next, we need to define the deviation. Let's use <a href="https://en.wikipedia.org/wiki/Standard_deviation" rel="noopener">Standard Deviation</a>:</p>
<div><pre><span></span><span>SELECT</span> <span>stddev</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>      stddev</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>3.0822070014844882</span>
</pre></div>


<p>Standard deviation is the square root of the <a href="https://en.wikipedia.org/wiki/Variance" rel="noopener">variance</a>, which is the average squared distance from the mean. In this case it's 3.08.</p>
<p>Now that we've defined a "reasonable" value and a deviation, we can define a <em>range</em> of acceptable values:</p>
<div><pre><span></span><span>SELECT</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
<span>FROM</span>
   <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>    lower_bound    â”‚     upper_bound</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>1.2511263318488451 â”‚ 7.4155403348178215</span>
</pre></div>


<p>The range we defined is one standard deviation from the mean. Any value outside this range is considered an anomaly:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>bounds</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
   <span>n</span> <span>NOT</span> <span>BETWEEN</span> <span>lower_bound</span> <span>AND</span> <span>upper_bound</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>series</span><span>,</span>
   <span>bounds</span><span>;</span>

<span>n  â”‚ is_anomaly</span>
<span>â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span> 2 â”‚ f</span>
<span> 3 â”‚ f</span>
<span> 5 â”‚ f</span>
<span> 2 â”‚ f</span>
<span> 3 â”‚ f</span>
<span><span>12 â”‚ t</span>
</span><span> 5 â”‚ f</span>
<span> 3 â”‚ f</span>
<span> 4 â”‚ f</span>
</pre></div>


<p>Using the query we found that the value 12 is outside the range of acceptable values, and identified it as an anomaly.</p>
<h3 id="understanding-z-score"><a href="#understanding-z-score">Understanding Z-Score</a></h3>
<p>Another way to represent a range of acceptable values is using a z-score. <a href="https://en.wikipedia.org/wiki/Standard_score" rel="noopener">z-score, or Standard Score</a>, is the number of standard deviations from the mean. In the previous section, our acceptable range was one standard deviation from the mean, or in other words, a z-score in the range Â±1:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_mean</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
<span>   <span>(</span><span>n</span> <span>-</span> <span>series_mean</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>as</span> <span>zscore</span>
</span><span>FROM</span>
   <span>series</span><span>,</span>
   <span>stats</span><span>;</span>

<span>n  â”‚         zscore</span>
<span>â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span> 2 â”‚ -0.75703329861022517346</span>
<span> 3 â”‚ -0.43259045634870009448</span>
<span> 5 â”‚  0.21629522817435006346</span>
<span> 2 â”‚ -0.75703329861022517346</span>
<span> 3 â”‚ -0.43259045634870009448</span>
<span>12 â”‚      2.4873951240050256</span>
<span> 5 â”‚  0.21629522817435006346</span>
<span> 3 â”‚ -0.43259045634870009448</span>
<span> 4 â”‚ -0.10814761408717501551</span>
</pre></div>


<p>Like before, we can detect anomalies by searching for values which are outside the acceptable range using the z-score:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  â”‚         zscore          â”‚ is_anomaly</span>
<span>â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span> 2 â”‚ -0.75703329861022517346 â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f</span>
<span> 5 â”‚  0.21629522817435006346 â”‚ f</span>
<span> 2 â”‚ -0.75703329861022517346 â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f</span>
<span><span>12 â”‚      2.4873951240050256 â”‚ t</span>
</span><span> 5 â”‚  0.21629522817435006346 â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f</span>
<span> 4 â”‚ -0.10814761408717501551 â”‚ f</span>
</pre></div>


<p>Using z-score, we also identified 12 as an anomaly in this series.</p>
<h3 id="optimizing-z-score"><a href="#optimizing-z-score">Optimizing Z-Score</a></h3>
<p>So far we used one standard deviation from the mean, or a z-score of Â±1 to identify anomalies. Changing the z-score threshold can affect our results. For example, let's see what anomalies we identify when the z-score is greater than 0.5 and when it's greater than 3:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
<span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>0.5</span> <span>AND</span> <span>0.5</span> <span>AS</span> <span>is_anomaly_0_5</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly_1</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>3</span> <span>AND</span> <span>3</span> <span>AS</span> <span>is_anomaly_3</span>
</span><span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  â”‚         zscore          â”‚ is_anomaly_0_5 â”‚ is_anomaly_1 â”‚ is_anomaly_3</span>
<span>â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span> 2 â”‚ -0.75703329861022517346 â”‚ t              â”‚ f            â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f              â”‚ f            â”‚ f</span>
<span> 5 â”‚  0.21629522817435006346 â”‚ f              â”‚ f            â”‚ f</span>
<span> 2 â”‚ -0.75703329861022517346 â”‚ t              â”‚ f            â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f              â”‚ f            â”‚ f</span>
<span>12 â”‚      2.4873951240050256 â”‚ t              â”‚ t            â”‚ f</span>
<span> 5 â”‚  0.21629522817435006346 â”‚ f              â”‚ f            â”‚ f</span>
<span> 3 â”‚ -0.43259045634870009448 â”‚ f              â”‚ f            â”‚ f</span>
<span> 4 â”‚ -0.10814761408717501551 â”‚ f              â”‚ f            â”‚ f</span>
</pre></div>


<p>Let's see what we got:</p>
<ul>
<li>When we decreased the z-score threshold to 0.5, we identified the value 2 as an anomaly in addition to the value 12.</li>
<li>When we increased the z-score threshold to 3 we did not identify any anomaly.</li>
</ul>
<p>The quality of our results are directly related to the parameters we set for the query. Later we'll see how using backtesting can help us identify ideal values.</p>
<hr>
<h2 id="analyzing-a-server-log"><a href="#analyzing-a-server-log">Analyzing a Server Log</a></h2>
<p>Application servers such as nginx, Apache and IIS write a lot of useful information to access logs. The data in these logs can be extremely useful in identifying anomalies.</p>
<p>We are going to analyze logs of a web application, so the data we are most interested in is the timestamp and the status code of every response from the server. To illustrate the type of insight we can draw from just this data:</p>
<ul>
<li><strong>A sudden increase in 500 status code</strong>: You may have a problem in the server. Did you just push a new version? Is there an external service you're using that started failing in unexpected ways?</li>
<li><strong>A sudden increase in 400 status code</strong>: You may have a problem in the client. Did you change some validation logic and forgot to update the client? Did you make a change and forgot to handle backward compatibility?</li>
<li><strong>A sudden increase in 404 status code</strong>: You may have an SEO problem. Did you move some pages and forgot to set up redirects? Is there some script kiddy running a scan on your site?</li>
<li><strong>A sudden increase in 200 status code</strong>: You either have some significant legit traffic coming in, or you are under a DOS attack. Either way, you probably want to check where it's coming from.</li>
</ul>
<h3 id="preparing-the-data"><a href="#preparing-the-data">Preparing the Data</a></h3>
<p>Parsing and processing logs is outside the scope of this article, so let's assume we did that and we have a table that looks like this:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>server_log_summary</span> <span>AS</span> <span>(</span>
   <span>period</span> <span>timestamptz</span><span>,</span>
   <span>status_code</span> <span>int</span><span>,</span>
   <span>entries</span> <span>int</span>
<span>);</span>
</pre></div>


<p>The table stores the number of entries for each status code at a given period. For example, our table stores how many responses returned each status code every minute:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>*</span> <span>FROM</span> <span>server_log_summary</span> <span>ORDER</span> <span>BY</span> <span>period</span> <span>DESC</span> <span>LIMIT</span> <span>10</span><span>;</span>

<span>        period         â”‚ status_code â”‚ entries</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>2020-08-01 18:00:00+00 â”‚         200 â”‚    4084</span>
<span>2020-08-01 18:00:00+00 â”‚         404 â”‚       0</span>
<span>2020-08-01 18:00:00+00 â”‚         400 â”‚      24</span>
<span>2020-08-01 18:00:00+00 â”‚         500 â”‚       0</span>
<span>2020-08-01 17:59:00+00 â”‚         400 â”‚      12</span>
<span>2020-08-01 17:59:00+00 â”‚         200 â”‚    3927</span>
<span>2020-08-01 17:59:00+00 â”‚         500 â”‚       0</span>
<span>2020-08-01 17:59:00+00 â”‚         404 â”‚       0</span>
<span>2020-08-01 17:58:00+00 â”‚         400 â”‚       2</span>
<span>2020-08-01 17:58:00+00 â”‚         200 â”‚    3850</span>
</pre></div>


<p>Note that the table has a row for every minute, even if the status code was never returned in that minute. Given a table of statuses, it's very tempting to do something like this:</p>
<div><pre><span></span><span>-- Wrong!</span>
<span>SELECT</span>
   <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>timestamp</span><span>)</span> <span>AS</span> <span>period</span><span>,</span>
   <span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>server_log</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span>
   <span>status_code</span><span>;</span>
</pre></div>


<p>This is a common mistake and it can leave you with gaps in the data. Zero is a value, and it holds a significant meaning. A better approach is to create an "axis", and join to it:</p>
<div><pre><span></span><span>-- Correct!</span>
<span>WITH</span> <span>axis</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>status_code</span><span>,</span>
       <span>generate_series</span><span>(</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()),</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()</span> <span>-</span> <span>interval</span> <span>'1 hour'</span><span>),</span>
           <span>interval</span> <span>'1 minute'</span> <span>*</span> <span>-</span><span>1</span>
       <span>)</span> <span>AS</span> <span>period</span>
   <span>FROM</span> <span>(</span>
       <span>VALUES</span> <span>(</span><span>200</span><span>),</span> <span>(</span><span>400</span><span>),</span> <span>(</span><span>404</span><span>),</span> <span>(</span><span>500</span><span>)</span>
   <span>)</span> <span>AS</span> <span>t</span><span>(</span><span>status_code</span><span>)</span>
<span>)</span>
<span>SELECT</span>
   <span>a</span><span>.</span><span>period</span><span>,</span>
   <span>a</span><span>.</span><span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>axis</span> <span>a</span>
   <span>LEFT</span> <span>JOIN</span> <span>server_log</span> <span>l</span> <span>ON</span> <span>(</span>
       <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>l</span><span>.</span><span>timestamp</span><span>)</span> <span>=</span> <span>a</span><span>.</span><span>period</span>
       <span>AND</span> <span>l</span><span>.</span><span>status_code</span> <span>=</span> <span>a</span><span>.</span><span>status_code</span>
   <span>)</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/sql-anomaly-detection">https://hakibenita.com/sql-anomaly-detection</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/sql-anomaly-detection</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731699</guid>
            <pubDate>Mon, 11 Jan 2021 16:56:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Podcasts Are Censorship Proof]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25731681">thread link</a>) | @normand1
<br/>
January 11, 2021 | https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/ | <a href="https://web.archive.org/web/*/https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure><img loading="lazy" width="1024" height="696" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-1024x696.png" alt="" srcset="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-1024x696.png 1024w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-300x204.png 300w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-768x522.png 768w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-600x408.png 600w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-500x340.png 500w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-400x272.png 400w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-950x646.png 950w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM.png 1218w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>@realdonaldtrump</figcaption></figure>



<p>The internet has caught fire recently on the news that President Donald Trump has been banned from Twitter and that Google banned the Parler social media app from the Google Play Store. At the time of this writing, Apple has also given Parler a 24 hour warning to increase censorship of its content or face being banned from the Apple App Store. </p>



<p>Hosting an app on a private app store like Appleâ€™s or Googleâ€™s has always been touch and go for developers. Most recently, Unreal had a dispute with payment terms with Apple that got them banned from developing on Apple Platforms. However, in that case the <a href="https://9to5mac.com/2020/08/24/fortnite-ban-unreal-engine-apple-restrained/">ban was temporarily restrained by a judge.</a></p>



<p>However, hosting an app on the open internet using cloud platforms like AWS has historically been much less open to censorship or restriction than a private app store. That has recently changed as <a href="https://www.buzzfeednews.com/article/johnpaczkowski/amazon-parler-aws">AWS has now banned Parler from operating on its cloud infrastructure.</a></p>



<p>Many people might be wondering where does this stop? Is it possible that every app I use or content creator I enjoy might just disappear overnight, never to be seen or heard from again?</p>



<p>The answer is that it depends.</p>



<p>You will never be free to hear or read what you want on closed platforms like Twitter (and yes even Parler), because those platforms exercise centralized control over their content and over the users that post content.</p>



<p>Podcasting is different!</p>



<h2>Podcasts Are Decentralized</h2>



<p>You may have heard the term â€œdecentralizedâ€ thrown around a lot recently since Decentralized Cryptocurrencies like Bitcoin brought the term to the forefront of the public zeitgeist. When it comes to podcasting, decentralization means that there is no one company or person that controls podcasting or the distribution of podcasts.</p>



<p>A podcast is made up of just two things: A file describing your podcast (description, authorâ€™s name, list of episodes, etc) and the audio files for each episode. Those files can be hosted anywhere! You can use one of MANY podcast hosting platforms like BuzzSprout or Fireside.fm, or if you prefer to do it yourself you can put Podcasts in Dropbox, your home server, on AWS, Heroku, GCloud, WordPressâ€¦ anywhere you can host an audio file you can host a podcast. In fact there is a new end to end hosting solution on the market that allows you to spin up your own podcast hosting server in 5 minutes. Itâ€™s called <a href="https://podlibre.org/install-castopod-in-5mn/">Castopod and you can check it out here!</a></p>



<p>At this point you might be thinking about your favorite podcast apps and how they fit into all of this. Iâ€™ll address that in a bit, but first letâ€™s dive a little bit deeper into what makes up a podcast.</p>



<h2>What is a Podcast, really?</h2>



<p>The No Agenda podcast currently posts a podcast RSS feed that is an open standard that <strong>any</strong> podcast player can interpret and present to anyone to listen to. The No Agenda podcast is a great example because itâ€™s the podcast hosted by one of the originators of the Podcast standard, <a href="https://twitter.com/adamcurry?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">The Podfather â€“ Adam Curry</a>. </p>



<p>Regardless of which podcast player you use they all read the same RSS Feed to present the No Agenda podcast to the listener. Here is the raw RSS feed that represents the NA podcast today: <a href="http://feed.nashownotes.com/rss.xml">http://feed.nashownotes.com/rss.xml</a><br>Hereâ€™s a quick break down of the information that all podcast players use to present the podcast to a podcast app.</p>



<p>At the top level of the RSS Feed below, youâ€™ll see the basic podcast description details every podcast has at minimum</p>



<pre><code>&lt;title&gt;No Agenda&lt;/title&gt;
&lt;description&gt;A show about politics with No Agenda, by Adam Curry and John C. Dvorak&lt;/description&gt;
&lt;link&gt;http://noagendashow.com&lt;/link&gt;
&lt;pubDate&gt;Thu, 07 Jan 2021 21:41:05 +0000&lt;/pubDate&gt;
&lt;lastBuildDate&gt;Thu, 07 Jan 2021 21:41:05 +0000&lt;/lastBuildDate&gt;
&lt;image&gt;
&lt;url&gt;https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png&lt;/url&gt;
&lt;/image&gt;</code></pre>



<p>Inside the &lt;image&gt; tag above youâ€™ll see a url. If you follow that URL youâ€™ll find the cover art for the NA podcast: <br><a href="https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png">https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png</a></p>



<p>So now we have a podcast title and podcast cover art. As you can see, the details for the podcast weâ€™ve seen so far are clear and available from the open web even directly in your web browser by clicking the links above.</p>



<p>Thereâ€™s actually a lot of great information that accompanies the podcast in the RSS feed as well. Not all podcast apps make use of this information and not all podcasts actually contain the same information. Podcast RSS Feeds are a sort of controlled chaos. You donâ€™t know exactly what youâ€™re going to get when you open a podcast RSS feed, but you know there are a few items you will get at MINIMUM: podcast title,  list of episodes with audio enclosures and unique Ids.</p>



<p>As long as you have those basic components you can build a podcast app!</p>



<div><figure><img loading="lazy" width="2180" height="1264" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/2021-01-09-13.07.19.gif" alt=""><figcaption>No Agenda RSS Feed</figcaption></figure></div>



<p>Next, if you look inside any of the &lt;item&gt; tags that represent the episodes of the NA Podcast youâ€™ll find a direct link to the audio for that podcast episode. </p>



<pre><code>&lt;enclosure url="https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3" length="167771473" type="audio/mpeg"/&gt;</code></pre>



<p>In fact, I can embed the audio for a No Agenda podcast right here into this blog post using that link above, check it out below.</p>



<figure><audio controls="" src="https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3"></audio><figcaption>https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3</figcaption></figure>



<p>Pretty cool!</p>



<p>Thatâ€™s basically all that any podcast app does. So now that weâ€™ve seen the data that podcast apps consume, letâ€™s talk about what podcast apps actually do.</p>



<h2>Podcast Apps</h2>



<p>Podcast apps take the above RSS information and process it in different ways. The No Agenda Podcast RSS feed in particular has a number of special and optional â€œtagsâ€ that contain information that are processed by apps that support the new Podcasting 2.0 standard <a href="https://github.com/Podcastindex-org/podcast-namespace">(you can read more about the Podcast 2.0 Namespace here if youâ€™re interested)</a>. This allows podcasts to embed additional information about the podcast like: people involved, chapter jump points, funding URLs and even crypto addresses, but not all podcasts support these new features. For a list of podcast apps and hosting companies that do support these features (and which features are supported) check out: <a href="http://newpodcastapps.com/">newpodcastapps.com</a></p>



<p>Besides processing the RSS Feed information, another important role of a podcast app is to â€œfindâ€ the podcast feeds in the first place. This is where Podcast Databases come into play. There are only a few major podcast databases available currently and they are owned by: Apple, Google and PodcastIndex. These organizations have created what can be thought of as search engines for podcasts (or really podcast RSS feeds) on top of a â€œmaster listâ€ of all known podcasts, that are growing every day.</p>



<p>These search APIs are important because your podcast may have an RSS feed sitting on a shared dropbox folder and it might be publicly available and ready for anyone to download it and all of your MP3 episodesâ€¦ but how would anyone know where it is? Theyâ€™ll know where it is because youâ€™ll have registered it with one of the major podcast databases we mentioned earlier that podcast apps retrieve data from.</p>



<p>Apple has a special submission process that you can read about here: <a href="https://help.apple.com/itc/podcasts_connect/#/itce5b9b0782">https://help.apple.com/itc/podcasts_connect/#/itce5b9b0782</a></p>



<p>If your podcast fails the submission process for any reason, then it will not be included in the database of Apple Podcasts and any podcast apps that use the iTunes Podcast search API will not be able to find your podcast. </p>



<p>But waitâ€¦ that doesnâ€™t sound very censorship proof!? What if Apple wonâ€™t approve my podcast because they donâ€™t like what I have to say about the latest iPhone model? If Apple controls what podcasts I can add to my podcast app then donâ€™t they have the power to censor any podcast?</p>



<p>Well, not quite. There are a couple of protections built in to the podcast ecosystem that make podcast censorship impossible to enforce.</p>



<p>The most exciting development in recent years towards podcast freedom is <a href="https://podcastindex.org/">PodcastIndex.org</a>. Podcast Index is a free podcast database developed by Adam Curry and Dave Jones with a stated goal to: â€œPreserve podcasting as a platform for free speechâ€. As long as the Podcast Index is available there will always be a place for free speech podcasts on the internet. By the way, Podcast Index is entirely user supported, so you can help to ensure that Podcast Index is available well into the future <a href="https://podcastindex.org/">by donating here!</a></p>



<p>PodcastIndex.org is a great free speech alternative to podcast platforms like Google and Apple. However, not all podcast apps use the PodcastIndex as their search API. A podcast app is only as good as its search database. So if Apple or Google decide to exclude your podcast from their search results then users wonâ€™t be be able to search for your podcast on any apps that rely on the Google or Apple podcast search Database / API.</p>



<p>The Podcast Index also regularly <a href="https://archive.org/details/podcastindex_dump">publishes their list of podcasts RSS feeds to the Internet Archive</a> for safe keeping an open access. This means that anyone that wants to can start a new podcast index to compete with Appleâ€™s or Googleâ€™s doesnâ€™t have to start from square one. </p>



<h2>Adding an RSS Feed</h2>



<p>There is an additional layer of censorship protection built into most podcast apps. In fact, this feature is so fundamental that Iâ€™d say that if an app doesnâ€™t have this feature then itâ€™s not actually a podcast app.</p>



<figure><img loading="lazy" width="742" height="578" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM.png" alt="" srcset="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM.png 742w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-300x234.png 300w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-600x467.png 600w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-500x389.png 500w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-400x312.png 400w" sizes="(max-width: 742px) 100vw, 742px"><figcaption>Add New RSS Feed to the HyperCatcher Podcast App</figcaption></figure>



<p>That podcast RSS Feed we looked at earlier (or any for that matter) can be directly imported to the HyperCatcher podcast app as well as the Apple Podcast app and many other podcast apps (but not allâ€¦ looking at you Spotify).</p>



<p>As long as this feature exists then no matter where a podcast is hosted or who hosts it, you can import it to your favorite podcast app and get notified when new episodes are available.</p>



<h2>Conclusion</h2>



<p>In a world where information and communication channels seem to be disappearing right in front of our eyes you can rest assured that your favorite podcasts will survive the internet purge â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/">https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/</a></em></p>]]>
            </description>
            <link>https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731681</guid>
            <pubDate>Mon, 11 Jan 2021 16:55:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[52 Launches in 52 Weeks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731658">thread link</a>) | @codazoda
<br/>
January 11, 2021 | https://joeldare.com/52-launches-in-52-weeks | <a href="https://web.archive.org/web/*/https://joeldare.com/52-launches-in-52-weeks">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<p>Back in 2016 I did a project where I released something of value every week for 12 weeks. I called it <a href="https://www.joeldare.com/wiki/the_passive_income_experiment">The Passive Income Experiment</a>. It wasnâ€™t financially successful, but I created a couple products that I still use regularly. I also launched 10 things that were terrible ideas.</p>

<p>A few weeks ago I took the Future Founders School offered free by YC. One of the things they say to do is launch over and over again. Iâ€™m not sure which project to work on, so Iâ€™ll be taking this advice and launching <em>something</em> every week in 2021.</p>

<p>Until I heard this advice, I was really thinking about a launch as a single event in history. Iâ€™m fairly sure itâ€™s one of the reasons none of my ideas really stick and a reason I feel like I donâ€™t stick with an idea for very long.</p>

<p>I already have a few applications and some small books that I could launch again, so Iâ€™m going to use those for the quick and dirty launches Iâ€™ll use to meet my goals this time and Iâ€™ll create a few new projects along the way too.</p>

<p>Maybe something will stick.</p>

<blockquote>
  <p>So far Iâ€™ve only launched on Hacker News, because itâ€™s probably my favorite platform at the moment, but the rules ask you not to use it primarily for promotion, so Iâ€™m planning to spread my releases around and try lots of different platforms.</p>
</blockquote>

<p>Here is my list of launches for 2021 so far.</p>

<ol>
  <li><a href="https://ponder.joeldare.com/">Ponder</a> on Show HN - January 8th</li>
  <li><a href="https://calories.joeldare.com/">Calories</a> on <a href="https://news.ycombinator.com/item?id=25729026">Show HN</a> - January 11th</li>
</ol>

<p>If youâ€™d like to follow my progress on this project and others, <a href="mailto:list@joeldare.com?subject=SUBSCRIBE&amp;body=Please%20subscribe%20me%20to%20your%20email%20list.">send me an email</a> and Iâ€™ll add you to my email list.</p>


      
    </div></div>]]>
            </description>
            <link>https://joeldare.com/52-launches-in-52-weeks</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731658</guid>
            <pubDate>Mon, 11 Jan 2021 16:54:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My personal wishlist for a decentralized social network]]>
            </title>
            <description>
<![CDATA[
Score 355 | Comments 258 (<a href="https://news.ycombinator.com/item?id=25731419">thread link</a>) | @csande17
<br/>
January 11, 2021 | https://carter.sande.duodecima.technology/decentralized-wishlist/ | <a href="https://web.archive.org/web/*/https://carter.sande.duodecima.technology/decentralized-wishlist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>
  Social networks are usually run by single central organizations.
  When you visit <a href="https://facebook.com/">Facebook</a>, for example, your computer talks to servers located in giant datacenters owned by a company called â€œFacebook, Inc.â€.
  In addition to running all the servers and networking equipment, Facebook, Inc. also does things like control whoâ€™s allowed to use the website, pick trending topics, and tweak the algorithm that decides what shows up in your feed.
</p>
<p>
  Lately, though, thereâ€™s been some interest in <em>decentralized social networks</em>.
  These systems let lots of different people and groups run parts of the service.
  (Often, theyâ€™re set up so that anyone can join in just by running a special program on their computer.)
  Iâ€™ve been seeing projects like <a href="https://joinmastodon.org/">Mastodon</a>, <a href="https://joinpeertube.org/">PeerTube</a>,  and <a href="https://scuttlebutt.nz/">Scuttlebutt</a> get released and slowly gain in popularity over the past few years. If you want to stretch the definition of â€œsocial networkâ€, thereâ€™s also <a href="https://ipfs.io/">IPFS</a>, <a href="https://dat.foundation/">Dat</a>, and <a href="https://urbit.org/">Urbit</a>.
</p>
<p>
  These kinds of projects are exciting to me because they could solve a lot of the problems with social networks.
  Itâ€™s a lot harder for decentralized networks to go down, or make user-hostile changes, or submit to pressure from authoritarian regimes.
  Theyâ€™re also kind of cool from a technical perspective.
  Despite all this, I havenâ€™t found a project that I personally want to use or recommend to people yetâ€”every decentralized social network Iâ€™ve looked at is missing something or other.
</p>
<p>
  I think Iâ€™ve managed to boil down the things I want to see in a decentralized network into three key features:
</p>
<h2>Network-layer anonymity (like <a href="https://geti2p.net/en/">I2P</a> or <a href="https://2019.www.torproject.org/docs/onion-services.html.en">Tor Onion Services</a>)</h2>
<p>
  When your computer talks to a website, that website receives your IP address.
  Thereâ€™s a very good technical reason for this: if you ask the website to send you some information, the website needs to know where to send it.
  (A bit like a return address on a letter.)
  But IP addresses can also reveal information about you.
  They usually indicate roughly where you live and who your Internet Service Provider is, and they can be used to connect multiple online accounts/posts/views back to the same person.
  Hackers can also use your IP address to send things like DDOS attacks your way.
  On centralized networks, though, this isnâ€™t the biggest problem in the worldâ€”Facebook already has lots of information about you, and they probably arenâ€™t going to DDOS their own users.
</p>
<p>
  But in some decentralized social networks, <em>random other users of the network</em> get your IP address and can link it to your activity.
  They can build websites like <a href="https://iknowwhatyoudownload.com/">iknowwhatyoudownload.com</a>, which lets you look up anyoneâ€™s BitTorrent activity if you know their IP address.
  These random people arenâ€™t even bound by the flimsy privacy policies and PR considerations that Facebook isâ€”they can do whatever they want with the information.
</p>
<p>
  Luckily, there are techniques that decentralized networks can use to avoid this.
  Iâ€™m not an expert on the subject, but systems like I2P or Tor seem to work by sending data through multiple other nodes in the network before it reaches its final destination.
  You can use encryption to make sure none of the intermediate nodes can see the data, and you can make sure that the destination only knows who the last intermediate node is and not who the original sender is.
</p><p>
  This doesnâ€™t mean that the actual posts or users of the service have to be anonymousâ€”you can definitely implement things like user profiles.
  It just means not leaking usersâ€™ IP addresses.
</p>
<h2>Grassroots content delivery (like <a href="https://en.wikipedia.org/wiki/BitTorrent">BitTorrent</a> or <a href="https://ipfs.io/">IPFS</a>)</h2>
<p>
  Hosting data on the Internet isnâ€™t free.
  You have to buy hard drives, and you have to pay for electricity and Internet access.
  Usually, whoever owns the website pays to host it; I spend a few dollars each month from my salary, and Facebook spends tens of millions of dollars that they get from <strike>secret backroom deals with the Illuminati</strike> advertising.
  But the whole point of decentralization is that no single person or company owns the website!
  So who pays for it?
</p>
<p>
  Some decentralized networks try to solve this problem with cryptocurrency schemes, but this means that anyone who wants to try out the network has to put their credit card information into a sketchy website and transfer money to a sketchy offshore bank account and do other sketchy cryptocurrency stuff.
  (Also, cryptocurrencies are usually outright scams.)
  Other decentralized networks have â€œinstancesâ€ which one person pays for and a bunch of other people can use.
  But instances have a single point of failure: if the person who runs the instance decides to shut it down, all of the accounts and posts and stuff on that instance are gone forever.
</p>
<p>
  The solution I like the best is to let anyone host anything they want.
  If Bob really likes my posts and want to help keep them online, he can set up his own little server and copy all my posts to it.
  Then, when someone wants to view my posts, their computer will search for anyone who has them and ask for a copy.
  Could be me, could be Bob, could be the <a href="https://archive.org/">Internet Archive</a>.
  Their computer downloads the posts and uses cryptographic hashes/signatures to make sure no one tampered with them.
</p>
<p>
  This kind of â€œgrassrootsâ€ system has some huge advantages.
  Posts that are more popular will get hosted more; if lots of people want to see something, thereâ€™ll be lots of network bandwidth available to show it to them.
  And all it takes is one person who cares to keep something alive on the network, even if the person who originally created it isnâ€™t around anymore.
</p>
<h2>Customizable moderation (like <a href="https://github.com/gorhill/uBlock/wiki/Dashboard:-Filter-lists">uBlock Origin</a>)</h2>
<p>
  Social networks need some kind of moderation to make sure your feed isnâ€™t filled with spam, or viruses, or other harmful content.
  Companies like Facebook handle this in two ways: by developing machine-learning algorithms to try and automatically detect bad stuff, and by hiring huge teams of human moderators to try and detect it manually.
  But both machine-learning algorithms and people make mistakes sometimes.
  And even if they donâ€™t, theyâ€™re still a single point of failureâ€”if Facebook, Inc. goes out of business, or doesnâ€™t speak your language, or decides itâ€™s not worth allowing memes that upset the Chinese government, youâ€™re kind of outta luck.
</p>
<p>
  It might be tempting to try and solve these issues by going in the complete opposite direction: no moderation whatsoever.
  But then youâ€™re stuck with the original problem of your feed being filled with harmful content!
  If a totally unmoderated platform isnâ€™t overrun with spam yet, that just means it isnâ€™t popular enough for spammers to notice it.
</p>
<p>
  Ad blockers are faced with a similar problem, and theyâ€™ve found a very good middle-ground solution.
  If you open uBlock Originâ€™s settings page, thereâ€™s a â€œFilter listsâ€ tab where you can choose which peopleâ€™s rules to use.
  (Each rule is the name of one specific website or advertisement to block.)
  There are some filter lists that almost everyone uses, like <a href="https://easylist.to/">EasyList and EasyPrivacy</a>, and there are some that are more niche or regional, like <a href="https://github.com/lassekongo83/Frellwits-filter-lists">Frellwitâ€™s Swedish Filter</a> and <a href="https://github.com/olegwukr/polish-privacy-filters" lang="pl">Oficjalne polskie filtry przeciwko alertom o Adblocku</a>.
  You can also write your own rules, both to block things that EasyList missed and to <em>un</em>-block things that EasyList blocked by mistake.
</p>
<p>
  Content moderation on a social network could work in a very similar way, with different groups of moderators creating different lists of banned users and deleted posts.
  You could have lists almost everyone uses that block things like spam, and you could also have lists for more controversial stuff like adult content and criticism of the Chinese government.
  And sort of like how â€œshared blocklistsâ€ work on Twitter, smaller groups could create their own lists of users and posts to ban.
</p>
<p>
  But if someone really needed to see a post that had been deleted by a moderatorâ€”like if they were worried it contained their personal information or threats against themâ€”they could manually override that block.
  (Theyâ€™d be able to see it, but it wouldnâ€™t affect anyone else.)
</p>
<hr>
<p>
  Put together, I think these three features would be really powerful for a decentralized social network.
  If you know of a project that offers all three of these, or youâ€™re working on one, please let me know by emailing <a href="mailto:carter.sande@duodecima.technology">carter<wbr>.sande@<wbr>duodecima<wbr>.technology</a>.
  Iâ€™d be really excited to hear about it and try it out for myself!
  And hopefully, lots of other people would be too.
</p>
</div></div>]]>
            </description>
            <link>https://carter.sande.duodecima.technology/decentralized-wishlist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731419</guid>
            <pubDate>Mon, 11 Jan 2021 16:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Becoming Silicon Valley]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731275">thread link</a>) | @ggoo
<br/>
January 11, 2021 | https://stopa.io/post/276 | <a href="https://web.archive.org/web/*/https://stopa.io/post/276">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><span><p>From the invention of the steam engine, to incandescent light, to radio, computation, and the internet, a familiar story unfolds:</p><p>In a small pocket of the world, a group of people produce immense innovation, changing the world as we know it.</p><p>Different times, different places, same story. If anything, â€œchanging the world as we know itâ€ is an understatement. It might be fairer to say that the <em>majority</em> of the wealth and security that we enjoy today, comes from these little pockets. </p><p>Without the steam engine, or electricity, or computers, our world would be different in kind. Many more people would be burdened by toil, many an idea would be impossible, and many a person would be dead from disease. It boggles the mind to think that these innovations took place in areas no larger than a few neighborhood blocks.</p><p>The latest place, of course, was Silicon Valley. From Intel, to Apple, to Microsoft, to Netscape, to Amazon, to Google, technology invented here continues to ripple around the world. </p><p>But, weâ€™re facing some dangerous headwinds.</p><p>The ingredients that made Silicon Valley prosperous are beginning to disappear. For the young and ambitious hacker, itâ€™s unaffordable to live there, and the cultural atmosphere has become stifling.</p><p>Yet our need for innovation has never been greater. From centralization to addiction, Big Tech itself has produced second order-consequences. We need solutions that protect the future of our society. And this pales in comparison to the largest problem at hand: we still have billions of people below the poverty line. There is no way for everyone to enjoy the standard of living that western people enjoy, without massive changes in technology.  </p><p>This is both daunting, and thrilling. We have big problems ahead, but humanity has managed to solve them time and time again. What are we going to do now?</p><p>One way, is to proliferate the ideas that made these areas of innovation so special. Can we reverse the trend in Silicon Valley? Even better, what if we had one thousand more Silicon Valleys of 2003, or Pittsburgs of the 1880s, or the Londons and Parisâ€™ of the 1700s? </p><p>Throughout my life Iâ€™ve lived in about 5 cities across 3 continents, with at least 4 starkly different societal structures. Most recently I spent 6 years in Silicon Valley, where I was lucky enough to experience some of what made this place so special. </p><p>When I reflect, there are certainly ingredients Iâ€™ve noticed that made Silicon Valley stand apart from any other place Iâ€™ve lived in. I want to share them with you.</p><p>The most important ingredient I noticed was risk appetite, and a love for risk takers. </p><p>Itâ€™s surprising this isnâ€™t a standard thing. Donâ€™t we all respect Elon Musk? Sort of. We respect the successes, but our revealed preferences show something different. </p><p>Hereâ€™s how you can tell:  Pick a city, and ask the average student what they want to do after they graduate.</p><p>Most will say they want a prestigious job at a big company. In some even more unfortunate places, itâ€™s that they want a prestigious and cushy jobâ€¦in politics. </p><p>This doesnâ€™t bode well for their risk appetite. But can you blame them? Imagine if the same undergraduate student has a love interest. What would the grandma say if they found out that the suitor wants to â€œmake a rocket that flies to the moon?â€. How would this suitor compare to the â€œdeputy director of X bankâ€?</p><p>This attitude is shared across continents and cultures, revealing a generally conservative cultural attitude towards risk.</p><p>Now, it does vary. Being different is bad but not terrible in Germany, while itâ€™s unbearable in Japan. Yet, by and large most places are on the â€œstill badâ€ side of the spectrum.</p><p>Why does it happen this way? There may be good cultural reasons. For most of our history there was little variation in productivity. Being different didnâ€™t get you much, outside of potential exile. </p><p>But things have changed. Technology brings extreme variation in productivity. Innovation necessarily lies in doing what hasnâ€™t been done before. And thereâ€™s a reason why many good things <em>havenâ€™t</em> been done before: either they look dumb, foolish, or impossible.</p><p>To exploit those opportunities, you need talented people â€œfoolishâ€ enough to try to build on these opportunities, and capitalists â€œfoolishâ€ enough to invest money in them. </p><p>Conservative risk outlooks make this impossible. Itâ€™s frustrating to see. Outside of the stigma, there isnâ€™t much downside for the talented undergraduate student â€” they donâ€™t have kids to support. And likewise for the capitalist â€” the amount to invest is insignificant. Just when life is the <em>least</em> risky for both, stigma prevents their action.</p><p>This is not the case in Silicon Valley. Starting a startup, even failing, only makes you a better engineer and a better candidate for greater things here. And thereâ€™s no shortage of angel investors who are ready to make a bet and write it off completely, if they believe in the slightest chance of upside. </p><p>Why? Because ambition is lauded here. </p><p>When you say you want to get to the moon, people take you seriously. An environment like that nourishes the adventurer in a personâ€™s soul. </p><p>So, what do we do? How do we bring this kind of risk loving attitude to different cultures? </p><p>I think itâ€™s going to be hard, but itâ€™s not impossible. Ideas tend to spread non-linearly. </p><p>What kind of content is available in your society? Are there gripping case studies that you can share? Can you build up small pockets of like-minded people? How can you make an ambitious outlook virtuous and laudable?</p><p>Whichever city can solve for these questions, has a gold-mine on their hands. </p><p>Risk appetite, however, has a necessary side effect. </p><p>Innovation requires thinking up unintuitive ideas. You have to question the status quo. A common question you need ask is: why does X <em>really</em> have to be this way? </p><p>Well, ask this questions enough times, and youâ€™ll discover an idea thatâ€™s unpopular in whatever zeitgeist you live in. What do you do if you have an idea like that? </p><p>In some places, the penalty is so severe, that itâ€™s dangerous to even think of an idea like this, let alone say it. </p><p>And this becomes tragic, because when you silence dissenting ideas, you stop innovation too. There is no way to follow innovative reasoning without some dissenting ideas popping up.</p><p>When you realize this, itâ€™s no surprise that most pockets of innovation tended to stem from western cultures. Freedom of speech, common law courts, and liberty from oppression gives a person the necessary space to think.</p><p>One kicker is, that space is unbelievably attractive to a thinker: to let your mind roam is thrilling. This means that spaces like this build on themselves: people want to move there.</p><p>So, you need civil freedoms. But you canâ€™t stop there. You need freedom to think, but you also need freedom to <em>build</em>. </p><p>This requires an open regulatory environment. If regulation is too restrictive, it selects for the kind of company that can make it through legal hurdles: large, bureaucratic, and lawyered up. Small, innovative startups that are likely to fail will die at birth.</p><p>How do you know if your city has an enough regulatory environment? Hereâ€™s how you can tell. </p><p>Just answer these questions: How quickly can you incorporate a business? Can you hire and fire someone easily? Can you accept payments easily? What kind of permits do you need to work on crypto, autonomous driving, or drones? </p><p>If you answered in the negative, this is a bottleneck for forming a pocket of innovation in your city. Each question you answer in the positive improves your cityâ€™s chances by a magnitude. If you answer entirely in the positive, you have a city that looks incredibly attractive to great thinkers and great doers.</p><p>The most critical remaining ingredient is talent. Technology is the medium of innovation, and it requires deep expertise. So how do you get these experts? Letâ€™s put ourselves in the mind of these experts. </p><p>One immediate upside theyâ€™ll see already, is that your city has an environment where they can think freely, and itâ€™s possible for them to try ambitious ideas without stigma.  Thatâ€™s already an unbelievably attractive proposition. </p><p>But this itself isnâ€™t enough for talent to flourish. Talent looks for other talent. Great thinkers want to be around other great thinkers. From Princeton to Bell Labs to Palo Alto, innovators clump together. So, you need to manufacture such a clump. How could you do it? </p><p>Traditionally, the solution is to nurture a great technical university. Build a place where the smartest people can gather and work on ambitious ideas. If you have that, you have a prime ingredient. </p><p>Is there anything special you need to do with this university, outside of just making admission selective? I think so. The place has to be livable enough for the professors, and fun enough for the students to stick around after.</p><p>One heuristic to know you have a city thatâ€™s livable enough, is to answer this question: Do you have any areas where folks donâ€™t need to use cars? If you have a walkable pocket in your city, you have a place where thinkers will thrive.</p><p>Aside from investing in a good technical University, and a walkable area, what else can you do?</p><p>The most exciting development, is to turn your city into a kind of startup itself. Choose a group of technical thinkers that other hackers look up too. These are now your customers. The goal is to get them to move to your city. If you can do that, others will follow. </p><p>How do you get them to move? Well, these folks are not used to friendly governments, and are accessible on twitter. Reach out, offer to help, do the schlep work, and a movement can start. Mayor Suarez kicked this offw and has shown whatâ€™s possible. If I was a Mayor of any other city, Iâ€™d be studying this thoroughly.</p><p>If you can get a clump to form, now you have tinder. All you need to do is to add spark.</p><p>That spark is capital. I put this last, because if you have all of the above, capital will flock to you. In todays world, money is starving for assets. Many an angel investor dreams of â€¦</p></span></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stopa.io/post/276">https://stopa.io/post/276</a></em></p>]]>
            </description>
            <link>https://stopa.io/post/276</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731275</guid>
            <pubDate>Mon, 11 Jan 2021 16:33:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TinySeed Applications Are Open]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731247">thread link</a>) | @einarvollset
<br/>
January 11, 2021 | https://tinyseed.com/latest/2021-apply | <a href="https://web.archive.org/web/*/https://tinyseed.com/latest/2021-apply">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          

          <main>
            
              <section data-content-field="main-content">
                <article id="post-5ffb2124a28e157b2bf61b0c" data-item-id="5ffb2124a28e157b2bf61b0c">

    
      
    

    <div data-layout-label="Post Body" data-type="item" data-updated-on="1610293598032" id="item-5ffb2124a28e157b2bf61b0c"><div><div><div data-block-json="{&quot;hSize&quot;:null,&quot;floatDir&quot;:null,&quot;url&quot;:&quot;https://youtu.be/5-C_hqBlF7I&quot;,&quot;html&quot;:&quot;<iframe src=\&quot;//www.youtube.com/embed/5-C_hqBlF7I?wmode=opaque&amp;amp;enablejsapi=1\&quot; height=\&quot;480\&quot; width=\&quot;854\&quot; scrolling=\&quot;no\&quot; frameborder=\&quot;0\&quot; allowfullscreen=\&quot;\&quot;>\n</iframe>&quot;,&quot;resolveObject&quot;:&quot;Video&quot;,&quot;resolvedBy&quot;:&quot;youtube&quot;,&quot;resolved&quot;:true,&quot;description&quot;:&quot;Applications are now open for MicroConf's fund and accelerator for bootstrapped SaaS companies. Start your application: https://tinyseed.com/apply\u2192 New to Ti...&quot;,&quot;title&quot;:&quot;Applications for TinySeed (MicroConf's Fund and Accelerator) Are Now Open&quot;,&quot;height&quot;:480,&quot;thumbnail_width&quot;:480,&quot;width&quot;:854,&quot;version&quot;:&quot;1.0&quot;,&quot;type&quot;:&quot;video&quot;,&quot;thumbnail_height&quot;:360,&quot;authorName&quot;:&quot;MicroConf&quot;,&quot;authorUrl&quot;:&quot;https://www.youtube.com/c/MicroConf&quot;,&quot;providerName&quot;:&quot;YouTube&quot;,&quot;providerUrl&quot;:&quot;https://www.youtube.com/&quot;,&quot;thumbnailUrl&quot;:&quot;https://i.ytimg.com/vi/5-C_hqBlF7I/hqdefault.jpg&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1610462501397_7913"><div><div><p><iframe scrolling="no" data-image-dimensions="854x480" allowfullscreen="" src="//www.youtube.com/embed/5-C_hqBlF7I?wmode=opaque&amp;enablejsapi=1" width="854" data-embed="true" frameborder="0" height="480">
</iframe></p></div></div></div><div data-block-type="2" id="block-be7df408bd964a2466c1"><div><p>Applications for our third batch are now open! <a href="https://tinyseed.submittable.com/submit/183461/tinyseed-2021-batch-application">Start your application here.</a></p><p><strong>TinySeed is a year-long, remote accelerator designed for early-stage SaaS founders.</strong> We invest $120k for the first founder and $60k per additional founder, and our standard terms are for 10-12% equity.</p><p>Beyond funding, we want to help founders reach a flow state â€” where our founders have all the resources, community, and mentorship they need to execute great work as fast as they need.&nbsp;</p><p><strong>Our </strong><a href="https://tinyseed.com/people"><strong>mentor program</strong></a><strong> is designed so founders have numerous options for expert help. </strong>We work with successful founders with multiple wins under their belt; folks like Jason Fried (Basecamp and HEY), Rand Fishkin (SparkToro), Chris Savage (Wistia), and Laura Roeder (MeetEdgar).&nbsp;We are also honored to have subject-matter experts on board, like Steli Efti for sales, Taylor Hendricksen for growth marketing, April Dunford for positioning, Joanna Wiebe for copywriting, and Patrick Campbell for pricing.&nbsp;</p></div></div><div><div><div data-block-json="{&quot;cache_age&quot;:&quot;3153600000&quot;,&quot;authorUrl&quot;:&quot;https://twitter.com/jonathan_codes&quot;,&quot;width&quot;:550,&quot;height&quot;:null,&quot;hSize&quot;:null,&quot;resolveObject&quot;:&quot;Tweet&quot;,&quot;html&quot;:&quot;<blockquote class=\&quot;twitter-tweet\&quot;><p lang=\&quot;en\&quot; dir=\&quot;ltr\&quot;>TinySeed has been a huge factor in accelerating the growth of my company in just a few short months. It's an incredible community of founders and mentors that make a real difference. <a href=\&quot;https://t.co/2OBWz9vJdE\&quot;>https://t.co/2OBWz9vJdE</a></p>\u2014 Jonathan Weinberg (@jonathan_codes) <a href=\&quot;https://twitter.com/jonathan_codes/status/1305995814762881025?ref_src=twsrc%5Etfw\&quot;>September 15, 2020</a></blockquote>\n<script async=\&quot;\&quot; src=\&quot;https://platform.twitter.com/widgets.js\&quot; charset=\&quot;utf-8\&quot;></script>&quot;,&quot;url&quot;:&quot;https://twitter.com/jonathan_codes/status/1305995814762881025?s=20&quot;,&quot;resolvedBy&quot;:&quot;twitter&quot;,&quot;floatDir&quot;:null,&quot;authorName&quot;:&quot;Jonathan Weinberg&quot;,&quot;version&quot;:&quot;1.0&quot;,&quot;resolved&quot;:true,&quot;type&quot;:&quot;rich&quot;,&quot;providerName&quot;:&quot;Twitter&quot;,&quot;providerUrl&quot;:&quot;https://twitter.com&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1610293662180_4499"><div><blockquote><p lang="en" dir="ltr">TinySeed has been a huge factor in accelerating the growth of my company in just a few short months. It's an incredible community of founders and mentors that make a real difference. <a href="https://t.co/2OBWz9vJdE">https://t.co/2OBWz9vJdE</a></p>â€” Jonathan Weinberg (@jonathan_codes) <a href="https://twitter.com/jonathan_codes/status/1305995814762881025?ref_src=twsrc%5Etfw">September 15, 2020</a></blockquote>
</div></div></div><div><div data-block-type="23" id="block-yui_3_17_2_1_1610293662180_5815"><div><div>
<blockquote data-conversation="none" data-dnt="true"><div lang="en" dir="ltr"><p>3. ğŸ‘©â€ğŸ«The mentorship program</p><p>This part was the one I was the most curious about. Was it worth it? Was it really useful? Was is just empty words?</p><p>Short answer: it rocks!</p><p>The program has two parts <a href="https://t.co/IgN9jfNBJS">pic.twitter.com/IgN9jfNBJS</a></p></div>â€” Pierre de Wulf (@PierreDeWulf) <a href="https://twitter.com/PierreDeWulf/status/1346890054355083267?ref_src=twsrc%5Etfw">January 6, 2021</a></blockquote> 
</div></div></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610293662180_4564"><p>We start our year with educational presentations and one-on-one work on important topics (like pricing), and move to mentor Q&amp;As and founder workshops as the year progresses. In addition to weekly calls and masterminds, we have an active, private Slack community and quarterly retreats â€” currently remote, but hopefully in-person soon. <strong>Our program is structured so weâ€™re available and ready to help when founders need it, but we stay out of the way when founders are focused. </strong></p></div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_22245"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>â€œ</span>In the first two months of the program, TinySeed has already been a phenomenal addition. Specifically helping us evolve our pricing and strategize on how to develop relationships with enterprises to help transform the business. Since joining TinySeed, SquadCast has been experiencing substantial improvement in almost every component of our business.<span>â€</span>
  </blockquote>
  <figcaption>â€” Rock Felder, Squadcast (TS 2020)</figcaption>
</figure>
</div></div><div><div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_24624"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>â€œ</span>In just a few short months, TinySeed has helped SegMetrics grow more than I thought was possible in such a short time. The help of not only the mentors, but also the other founders, has given us expert advice on every part of our business and marketing.<span>â€</span>
  </blockquote>
  <figcaption>â€” Keith Perhac, SegMetrics (TS 2020)</figcaption>
</figure>
</div></div></div><div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_25266"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>â€œ</span>Joining TinySeed was a great move for Loadster. Itâ€™s an incredibly supportive group of founders and mentors, and the well-aligned funding terms helped me move faster while staying true to the reasons I started the company to begin with.<span>â€</span>
  </blockquote>
  <figcaption>â€” Andy Hawkes, Loadster (TS 2019)</figcaption>
</figure>
</div></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610293662180_22310"><div><p><strong>Applications will be open for two weeks starting January 11th (ending January 24th.) </strong>Weâ€™ll be reviewing applications through January into February, with the next batch starting at the beginning of May 2021.&nbsp;</p><p>Our new application system means you can save your progress without submitting, but make sure your application is officially submitted by the January 24th end date.&nbsp;</p><p>Questions? Comments? Concerns? Weâ€™re running a webinar tomorrow (11am CT on January 12th) with the TinySeed team. <a href="https://us02web.zoom.us/webinar/register/WN_b6vK8YQNQ6Kh-pxzc2MPbg?__s=rh97ofsmxess4cmcdkrd">Sign up for free here</a> â€” a recording will be posted shortly afterwards.</p><p>Interested in investing? Weâ€™re raising our second fund â€” <a href="https://tinyseed.com/thesis">read our thesis</a> or <a href="https://tinyseed.com/invest">apply to invest</a>.</p><p>Feel free to email us any time at <a href="mailto:hello@tinyseed.com">hello@tinyseed.com</a> or send us a DM on Twitter (<a href="https://twitter.com/tinyseedfund">@tinyseedfund</a>) and weâ€™ll get back to you as soon as possible.&nbsp;</p><p>Looking forward to seeing your application!&nbsp;</p></div></div></div></div></div>

    

    

    

  </article>





  
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://tinyseed.com/latest/2021-apply</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731247</guid>
            <pubDate>Mon, 11 Jan 2021 16:31:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[10 Years(-Ish) of Elixir]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731229">thread link</a>) | @strzibny
<br/>
January 11, 2021 | https://dashbit.co/blog/ten-years-ish-of-elixir | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/ten-years-ish-of-elixir">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> JosÃ© Valim
  </li>
  <li>
    <i></i> January 11th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/elixir">elixir</a>, <a href="https://dashbit.co/blog/tags/phoenix">phoenix</a>, <a href="https://dashbit.co/blog/tags/broadway">broadway</a>, <a href="https://dashbit.co/blog/tags/nerves">nerves</a>, <a href="https://dashbit.co/blog/tags/liveview">liveview</a>, <a href="https://dashbit.co/blog/tags/membrane">membrane</a>
  </li>
</ul>
<p>
This past weekend, on January 9th, we celebrated 10 years since <a href="https://github.com/elixir-lang/elixir/commit/337c3f2d569a42ebd5fcab6fef18c5e012f9be5b">the first commit to the Elixir repository</a>. While I personally donâ€™t consider <a href="https://elixir-lang.org/">Elixir</a> to be 10 years old yet - the language that became what Elixir is today <a href="https://github.com/elixir-lang/elixir/commit/6052352b6281752b905b30eb5b08fac0f51f68cd">surfaced only 14 months later</a> - a decade is a mark to celebrate!</p>
<p>
The goal of this post is to focus on the current state of some projects in the ecosystem and then briefly highlight a few of the exciting efforts coming over the next months.</p>
<h2>
Recap: The language goals</h2>
<p>
When I started working on Elixir, I personally had the ambition of using it for building scalable and robust web applications. However, I didnâ€™t want Elixir to be tied to the web. My goal was to design an <em>extensible</em> language with a diverse ecosystem. Elixir aims to be a general purpose language and allows developers to extend it to new domains.</p>
<p>
Given Elixir is built on top of Erlang and Erlang is used for networking and distributed systems, Elixir would naturally be a good fit in those domains too, as long as I didnâ€™t screw things up. The Erlang VM is essential to everything we do in Elixir, which is why <em>compatibility</em> has become a language goal too.</p>
<p>
I also wanted the language to be <em>productive</em>, especially by focusing on the tooling. Learning a functional programming language is a new endeavor for most developers. Consequently their first experiences getting started with the language, setting up a new project, searching for documentation, and debugging should go as smoothly as possible.</p>
<p>
Extensibility, compatibility, and productivity are the goals we built the language upon.</p>
<h2>
Recap: Elixir in production</h2>
<p>
Last year we started <a href="https://elixir-lang.org/cases.html">a series of articles on companies using Elixir in production on the official website</a>. As of today, we have 7 production cases listed with more coming this year! Overall it is very exciting to see many different companies using a variety of business models and industries running Elixir in production.</p>
<p>
Companies like <a href="https://www.brex.com/">Brex</a> (<a href="https://elixir-lang.org/blog/2020/06/23/growing-with-elixir-at-brex/">case</a>), <a href="https://discord.com/">Discord</a> (<a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">case</a>), <a href="https://getdivvy.com/">Divvy</a>, <a href="https://www.podium.com/">Podium</a>, and <a href="https://salesloft.com/">SalesLoft</a> have reached <a href="https://en.wikipedia.org/wiki/Unicorn_(finance)">â€œunicorn statusâ€</a> and rely heavily on Elixir. Startups like <a href="https://www.joinblvd.com/">Boulevard</a> (<a href="https://soundcloud.com/elixirtalk/episode-166-feat-sean-stavropoulos">podcast</a>), <a href="https://community.com/">Community</a>, <a href="https://duffel.com/">Duffel</a> (<a href="https://elixir-lang.org/blog/2020/12/10/integrating-travel-with-elixir-at-duffel/">case</a>), <a href="https://www.ockam.io/">Ockam</a>, <a href="https://www.mux.com/">Mux</a>, <a href="https://ramp.com/">Ramp</a>, <a href="https://remote.com/">Remote</a>, and <a href="https://www.v7labs.com/">V7</a> (<a href="https://elixir-lang.org/blog/2021/01/13/orchestrating-computer-vision-with-elixir/">case</a>) also use Elixir and have received funding in the last year or two. Elixir is also used within known brands and enterprises such as <a href="https://bleacherreport.com/">Bleacher Report</a>, <a href="https://www.change.org/">Change.org</a> (<a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">case</a>), <a href="https://heroku.com/">Heroku</a> (<a href="https://elixir-lang.org/blog/2020/09/24/paas-with-elixir-at-Heroku/">case</a>), <a href="https://www.pagerduty.com/">PagerDuty</a>, <a href="https://www.pepsico.com/">PepsiCo</a>, and <a href="https://www.therealreal.com/">TheRealReal</a>.</p>
<p>
There is also a special category of startups that run Elixir alonside an open source model, such as <a href="https://plausible.io/">Plausible Analytics</a>, <a href="https://app.supabase.io/">Supabase</a>, <a href="https://logflare.app/">Logflare</a> (<a href="https://runninginproduction.com/podcast/11-logflare-is-a-log-management-and-event-analytics-platform">podcast</a>), and <a href="https://hex.pm/">Hex.pm</a> (<a href="https://runninginproduction.com/podcast/19-hexpm-is-elixirs-official-package-manager">podcast</a>) itself. Still on the open source front, you will find projects like <a href="https://pleroma.social/">Pleroma</a> and <a href="https://changelog.com/">Changelog</a>. There also many small scale and hobby projects that use Elixir for a productive and joyful development experience.</p>
<h2>
Recap: Diverse ecosystem</h2>
<p>
Today, Elixir has a diverse ecosystem that works on a wide range of domains and industries. Letâ€™s take a look at some examples.</p>
<h3>
Web</h3>
<p>
Most developers are familiar with using Elixir for web development thanks to <a href="https://phoenixframework.org/">the Phoenix web framework</a>. Phoenix gained traction in the ecosystem because it was the first to fully leverage the language and the platform for building real-time applications besides the usual MVC (Model-View-Controller) offering.</p>
<p>
It all started with Phoenix Channels, as a bi-directional communication between clients and servers, and Phoenix PubSub, which uses Erlangâ€™s distributed compatibilities to broadcast messages across nodes. As far as I know, Phoenix was the first major web framework to provide a multi-node web real-time solution completely out-of-the-box. Regardless if you are using one node or ten nodes, everything just works, with minimal configuration and dependencies.</p>
<p>
Phoenix has matured a lot since its first stable release. Phoenix v1.2 included <a href="https://hexdocs.pm/phoenix/Phoenix.Presence.html">Phoenix Presence</a>, that allows developers to track which users, IoT devices, etc are connected to your cluster right now. No databases or external dependencies required! This is one of the problems that look deceptively simple at first, but once you outline all scalability, performance, and fault-tolerance requirements, it <a href="https://elixir-lang.org/blog/2020/11/17/real-time-collaboration-with-elixir-at-slab/">becomes quite complex</a>. Luckily, Phoenix is running on a platform that excels at these problems, and I am not aware of any other framework that provides such a lean and elegant solution as part of its default stack.</p>
<p>
Most recently, <a href="https://github.com/phoenixframework/phoenix_live_view">Phoenix LiveView</a> was released and brought new ways to build rich, real-time user experiences with server-rendered HTML, inspiring developers to attempt similar solutions for other languages and frameworks. You can read the <a href="https://dockyard.com/blog/2018/12/12/phoenix-liveview-interactive-real-time-apps-no-need-to-write-javascript">original announcement</a> or <a href="https://www.phoenixframework.org/blog/build-a-real-time-twitter-clone-in-15-minutes-with-live-view-and-phoenix-1-5">learn how to build a real-time Twitter clone in 15 minutes</a>. As part of the <em>Live</em> family, we have also announced <a href="https://twitter.com/josevalim/status/1250846714665357315">Phoenix LiveDashboard</a>, making monitoring and instrumentation a first-class citizen for Phoenix applications.</p>
<h3>
Embedded and IoT</h3>
<p>
While I always expected Elixir to shine for building web applications, I was taken by surprise when I heard about the <a href="https://www.nerves-project.org/">Nerves platform</a> for creating high-end embedded applications. However, once I learned their premise, it all made sense: writing embedded systems <em>is</em> complicated. Reasoning about failures is hard. So what if we could leverage the decades of lessons learnt by Erlang/OTP to design embedded applications? What if a fault on the Wi-Fi driver could be fixed by having a supervisor simply restart it? After all, the first major use of Erlang/OTP was in an embedded system, the Ericsson AXD301 ATM switch.</p>
<p>
Nerves brings the Elixir ecosystem and the battle-tested Erlang VM to edge computing, providing a rich developer experience using proven technology. Nerves started as a one step process for turning an Elixir project into a complete software image for common hardware devices. Today, Nerves is being used in production in industrial automation, machine learning, consumer electronics and more, with <a href="https://farm.bot/">Farmbot</a> (<a href="https://elixir-lang.org/blog/2020/08/20/embedded-elixir-at-farmbot/">case</a>) and <a href="https://www.rosepoint.com/">Rose Point Navigation</a> being two of the most notable examples.</p>
<p>
The Nerves team also created <a href="https://www.nerves-hub.org/">NervesHub</a>, a fully open-source device management system. Combining all these technologies makes Elixir a comprehensive language for building end-to-end IoT platforms.</p>
<h3>
Data ingestion and pipelines</h3>
<p>
Shortly after Elixir v1.0 was released, the Elixir Core Team and I started looking into abstractions for tackling data ingestions and data pipelines in Elixir. We ran through a couple designs until we eventually <a href="https://elixir-lang.org/blog/2016/07/14/announcing-genstage/">landed on GenStage</a>: a behaviour for exchanging data with back-pressure between Elixir processes and external systems. For an introduction, make sure to check out <a href="https://youtu.be/srtMWzyqdp8?t=242">my keynote introducing both GenStage and Flow</a>.</p>
<p>
Today, almost 5 years later, GenStage has been used by many industries and has become one of the factors driving Elixir adoption. For example, you can read how both <a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">Discord</a> and <a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">Change.org</a> have built systems on Elixir and GenStage that handle spikes and run at massive scale.</p>
<p>
However, GenStage was just the beginning. In 2019, <a href="https://www.youtube.com/watch?v=ZOExnT1PYjs">we announced Broadway</a>, which is a higher-level abstraction on top of GenStage that makes building data ingestion pipelines a breeze. We originally released with Amazon SQS support. Nowadays, RabbitMQ, Google Cloud PubSub, Apache Kafka, and other sources (known as producers in Broadway terms) are also available.</p>
<h3>
Audio/Video streaming</h3>
<p>
Since the Erlang VM was designed for scalable network processing, one can expect to also be an excellent platform for audio and video streaming. However, if you also wanted to process and transform those streams on the fly, the situation becomes much more complicated as you likely have to integrate with native code.</p>
<p>
Luckily, the tables have turned when Erlang/OTP 20 was released a couple years ago with the so-called Dirty NIFs. The Erlang VM always had the ability to invoke native code, but this native code could not run for long, as to not interfere with the preemptive features of the Erlang runtime. Dirty NIFs allow developers to tag native code either as IO or CPU bound, which runs on specific threads. Between ports (I/O based), NIFs, Dirty NIFs, and remote nodes, developers now have many options to interface with native code with different performance and reliability guarantees. Thatâ€™s exactly the foundation the <a href="http://www.membraneframework.org/">Membrane Framework</a> builds on top of.</p>
<p>
Membrane was extracted from RadioKit, a startup aiming at disrupting the radio broadcasting industry. Originally it focused on processing and mixing audio. Later, <a href="https://www.swmansion.com/">Software Mansion</a> acquired the framework and provided stable funding and a solid team to help it grow into a full-scale framework. Currently, it allows developers to process, transmit, broadcast, and transform audio and videos streams on the fly. Whether you are building a Twitch clone, a VOD application or a video conferencing system, Membrane provides a growing set of high-level abstractions and pre-made modules so you donâ€™t have to dive into idiosyncrasies of particular codecs, protocols, and formats. </p>
<h2>
Looking ahead: what is coming in 2021</h2>
<p>
The year of 2021 looks very exciting for the Erlang Ecosystem and the Elixir community. In this section, we are going to mention some of the things we expect to see in 2021.</p>
<h3>
Erlang/OTP 24 with JIT</h3>
<p>
In September 2020, <a href="https://github.com/erlang/otp/pull/2745">Lukas Larsson and the Erlang/OTP team</a> announced a JIT compiler for the Erlang VM called BeamAsm. How faster the JIT will be in practice depends on your application but the results posted in the announcement are promising. To quote Lukas:</p>
<blockquote>
  <p>
If we run the JSON benchmarks found in the <a href="https://github.com/devinus/poison/tree/master/bench">Poison</a> or <a href="https://github.com/michalmuskala/jason/tree/master/bench">Jason</a>, BeamAsm achieves anything from 30% to 130% increase (average at about 70%) in the number of iterations per second for all Erlang/Elixir implementations. For some benchmarks, BeamAsm is even faster than the pure C implementation <a href="https://github.com/davisp/jiffy">jiffy</a>.  </p>
</blockquote>
<blockquote>
  <p>
More complex applications tend to see a more moderate performance increase, for instance, RabbitMQ is able to handle 30% to 50% more messages per second depending on the scenario.  </p>
</blockquote>
<p>
I have been running â€¦</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/ten-years-ish-of-elixir">https://dashbit.co/blog/ten-years-ish-of-elixir</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/ten-years-ish-of-elixir</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731229</guid>
            <pubDate>Mon, 11 Jan 2021 16:30:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing support for message retention policies in Matrix]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731220">thread link</a>) | @babolivier
<br/>
January 11, 2021 | https://brendan.abolivier.bzh/matrix-retention-policies/ | <a href="https://web.archive.org/web/*/https://brendan.abolivier.bzh/matrix-retention-policies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2021-01-11T00:00:00+0200">Mon, Jan 11, 2021</time></p><p>Hello there, long time no see!</p>
<p>As you may know, Iâ€™m currently working at <a href="https://element.io/">Element</a>, as part of the backend team working on <a href="https://matrix.org/">Matrix</a>â€™s server-side implementations. The main project involved in this work, at least from my side of things, is <a href="https://github.com/matrix-org/synapse">Synapse</a>, the reference Matrix homeserver implementation. If you donâ€™t know what a homeserver is, you may want to check out my post <a href="https://brendan.abolivier.bzh/enter-the-matrix/">Enter the Matrix</a>, in which I give an extensive introduction to Matrix. Parts of this blog post need a basic comprehension of how Matrix works, so if you donâ€™t already have that, youâ€™ll probably want to give that post an eye before continuing this one.</p>
<p>In this context, in 2019, I got to <a href="https://github.com/matrix-org/synapse/pull/5815">implement</a> in Synapse a feature that had been actively requested by the Matrix community for a while now: message retention policy support. It allows any server or room admin to define a period of time after which a message gets hidden from clients and eventually deleted.</p>
<p>This feature is fairly complex to implement and document, due to different moving parts needing to interact with one another. The <a href="https://github.com/matrix-org/synapse/blob/develop/docs/message_retention_policies.md">current documentation</a> is a good place to start, especially if youâ€™re mainly interested in knowing how to configure a retention policy on your server or in your room. But I thought it might be interesting to get a bit deeper into its implementation and explain some design choices and shortcomings.</p>
<p>In other words, the goal of this post isnâ€™t to explain how to get set up with this feature, but to be a technical breakdown explaining the internal design of this implementation. For instance, Iâ€™m not going to dump and explain the necessary bits of configuration right away but rather try to explain is as much detail as I can what they do. If youâ€™re a complete stranger to this feature you might want to have a very quick skim through the documentation Iâ€™ve linked to in the previous paragraph, though Iâ€™m going to repeat a bunch of whatâ€™s being said there.</p>
<p>So here I go.</p>

<p>Message retention policies are defined in Matrix in <a href="https://github.com/matrix-org/matrix-doc/blob/matthew/msc1763/proposals/1763-configurable-retention-periods.md">MSC1763</a> (an MSC being a proposal to the Matrix specification, not unlike RFCs), which defines them as state events (of type <code>m.room.retention</code>) sent to the room the administrator (or moderator) wants to regulate. Therefore, a policy is scoped to a room.</p>
<p>The content for this state event looks like this:</p>
<div><pre><code data-lang="json"><span>{</span>
    <span>"max_lifetime"</span><span>:</span> <span>2419200000</span><span>,</span>
    <span>"min_lifetime"</span><span>:</span> <span>86400000</span>
<span>}</span>
</code></pre></div><p>This event has two properties: <code>max_lifetime</code> and <code>min_lifetime</code>. Their values are time durations expressed in milliseconds. The combination of these properties define the lifetime of an non-state event after itâ€™s been sent to a room:</p>
<ul>
<li><code>max_lifetime</code> defines how long after the message is sent the homeservers participating in the room can keep it around. In the example above (where its value is <code>2419200000</code>), it means a homeserver <strong>must</strong> delete events sent to the room at the latest 28 days after theyâ€™ve been sent (though weâ€™ll see later that, in the current implementation in Synapse, it can vary a bit around that value).</li>
<li><code>min_lifetime</code> defines the minimum amount of time after the event is sent during which homeservers should store the event and not delete it. This is particularly helpful for e.g. governmental organisations that are required (through laws like the Freedom Of Information Act) to keep a record of messages sent, or for moderation purposes. In the example above (where its value is <code>86400000</code>), it means a homeserver <strong>should</strong> store events at least 24h after theyâ€™ve been sent.</li>
</ul>
<p>In other words, these parameters are limits to the total lifetime of an event. If a message retention policy has no <code>min_lifetime</code> then the homeserver is free to delete events as soon as it wants, and if itâ€™s got no <code>max_lifetime</code> then the homeserver is free to never delete any event. Itâ€™s then up to the homeserver to decide when to delete events using these constraints.</p>

<p>So letâ€™s have a look at how this is implemented in Synapse. Before going any further on the implementation side of things, I need to mention that this implementation is still currently considered experimental, and is disabled by default in any new install. Weâ€™ll see a bit later in this post how to enable and tweak it using Synapseâ€™s configuration file. Currently, the MSC still needs some clarification and discussion, and so future iterations on it might cause the implementation to change. This is why weâ€™re not declaring it stable as is and enabling it by default yet. On top of that, its main goal is to perform bulk deletion of data, so we want to make extra sure itâ€™s done right before flicking the switch in order to prevent any irreversible breakage.</p>
<p>First, letâ€™s see how Synapse keeps track of retention policies for all the rooms itâ€™s in. That bit is rather simple: every time a state event is sent to a room with the type <code>m.room.retention</code>, Synapse will <a href="https://github.com/matrix-org/synapse/blob/70259d8c8c0be71d3588a16211ccb42af87235da/synapse/storage/databases/main/events.py#L1270-L1301">insert</a> a row into its <code>room_retention</code> database table. This row will include some data about the policy, including the <code>min_lifetime</code> and <code>max_lifetime</code> properties. Note that both those properties are <code>NULL</code>able, allowing for either (or both) property to be omitted (weâ€™ll see later what Synapse does in this case). As far as Synapse is concerned, a room with a retention policy with an empty content (<code>{}</code>) is the same thing as a room with no retention policy.</p>
<p>Now that Synapse knows the retention policy for each room itâ€™s in, it can apply it to the events in the room. Itâ€™s worth noting that a current point of discussion on the MSC, and somewhere the implementation differs from the spec, is that the MSC mentions events should be purged according to the retention policy of the room as it was when the event was sent. Synapse, on the other hand, will purge events based on the retention policy the room currently has, because it creates less technical complications, provides better performances and seems to better fit the expectations of users.</p>

<p>Letâ€™s take a quick break from the technical breakdown to clarify a thing or two. In the next few sections, Iâ€™ll take a look at different parts of Synapseâ€™s implementation of message retention policy support. Iâ€™ll also explain how they tie into the featureâ€™s configuration.</p>
<p>Message retention policy support can be enabled and tweaked in Synapseâ€™s YAML <a href="https://github.com/matrix-org/synapse/blob/70259d8c8c0be71d3588a16211ccb42af87235da/docs/sample_config.yaml">configuration file</a>. All of the configuration related to this feature can be found <a href="https://github.com/matrix-org/synapse/blob/70259d8c8c0be71d3588a16211ccb42af87235da/docs/sample_config.yaml#L369-L436">in the <code>retention</code> section</a>. Iâ€™m not going to get into too much detail about what the different sub-sections and settings mean and how theyâ€™re used, as the rest of this post already covers this. One thing I will mention here, however, is that you can enable the feature by setting <code>enable</code> to <code>true</code> in this section.</p>
<p>Note that if this setting is missing or set to <code>false</code>, Synapse will still store new message retention policies. It will not, however, delete any event from the database.</p>
<p>Now letâ€™s see how Synapse deletes messages when this feature is enabled.</p>

<p>Because it would be too expensive and complex to track the lifetime of each event individually, and set a timer to purge them from the database, Synapse purges events by running regularly scheduled jobs. Doing so also allows merging code paths with another feature, which is the <a href="https://github.com/matrix-org/synapse/blob/master/docs/admin_api/purge_history_api.rst">purge history admin API</a>. The frequency and scope of these jobs are <a href="https://github.com/matrix-org/synapse/blob/70259d8c8c0be71d3588a16211ccb42af87235da/docs/sample_config.yaml#L402-L436">defined in Synapseâ€™s configuration</a> as such:</p>
<div><pre><code data-lang="yaml"><span>purge_jobs</span><span>:</span><span>
</span><span>  </span>- <span>longest_max_lifetime</span><span>:</span><span> </span><span>3d</span><span>
</span><span>    </span><span>interval</span><span>:</span><span> </span><span>12h</span><span>
</span><span>  </span>- <span>shortest_max_lifetime</span><span>:</span><span> </span><span>3d</span><span>
</span><span>    </span><span>interval</span><span>:</span><span> </span><span>1d</span><span>
</span></code></pre></div><p>This example describes two purge jobs. This definition includes a frequency, defined by the required <code>interval</code> setting, which defines the time between two instantiations of a job.</p>
<p>In the example above, Synapse will run a job every 12 hours purging expired events in rooms which retention policy feature a <code>max_lifetime</code> with a value of 3 days or less; as well as another job every day purging expired events in rooms which retention policy feature a <code>max_lifetime</code> with a value of more than 3 days (note that <code>longest_max_lifetime</code> is inclusive but <code>shortest_max_lifetime</code> isnâ€™t).</p>
<p>The reason Synapse allows multiple jobs to be defined in the same configuration is that all rooms donâ€™t have the same sensitivity with regards to their retention policy. Some might have their policy dictate that no event can live longer than a day, whereas others might only require events to be purged after a year.</p>
<p>Another thing to keep in mind is that running a purge job might be an expensive task to run as it can involve deleting a lot of data, so you donâ€™t want to run a job every minute purging all expired events in all rooms.</p>
<p>Defining multiple jobs allows making sure rooms get processed according to the sensitivity of their policy, as well as ensuring the best performance possible. You could see it as sharding (or partitioning) the load of purging history of rooms across all of the jobs based on a roomâ€™s retention policy. This also allows sufficient flexibility in the configuration.</p>
<p>Itâ€™s worth noting that both <code>shortest_max_lifetime</code> and <code>longest_max_lifetime</code> are optional here; and here as well lack of one limit simply means thereâ€™s no limit applied in that direction. For instance, the following example defines a purge job without any limit on the interval of <code>max_lifetime</code> values it handles:</p>
<div><pre><code data-lang="yaml"><span>purge_jobs</span><span>:</span><span>
</span><span>  </span>- <span>interval</span><span>:</span><span> </span><span>12h</span><span>
</span></code></pre></div><p>It is also possible to bind a job to a precise scope by specifying both settings:</p>
<div><pre><code data-lang="yaml"><span>purge_jobs</span><span>:</span><span>
</span><span>  </span>- <span>interval</span><span>:</span><span> </span><span>12h</span><span>
</span><span>    </span><span>shortest_max_lifetime</span><span>:</span><span> </span><span>6h</span><span>
</span><span>    </span><span>longest_max_lifetime</span><span>:</span><span> </span><span>1d</span><span>
</span></code></pre></div><p>Heads up that itâ€™s highly recommended to configure a job with an open limit on each side of the range of <code>max_lifetime</code> values - this can be either a job with no limit (as shown above) or two jobs, each limiting in one direction.</p>
<p>But wait, youâ€™ll then say, isnâ€™t it bad if Synapse might delete expired messages hours, possibly days, after theyâ€™ve expired? To which Iâ€™d answer that yes, probably, however this is mitigated by another feature of this implementation: when a message expires, <a href="https://github.com/matrix-org/synapse/blob/70259d8c8c0be71d3588a16211ccb42af87235da/synapse/visibility.py#L136-L143">Synapse will stop sending it to clients</a>. This means that, even though Synapse might not purge events immediately when they expire, it will prevent clients from seeing it. Note that clients that have already â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://brendan.abolivier.bzh/matrix-retention-policies/">https://brendan.abolivier.bzh/matrix-retention-policies/</a></em></p>]]>
            </description>
            <link>https://brendan.abolivier.bzh/matrix-retention-policies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731220</guid>
            <pubDate>Mon, 11 Jan 2021 16:30:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Telegram and Signal the New Option]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25731219">thread link</a>) | @cabl1176
<br/>
January 11, 2021 | https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/ | <a href="https://web.archive.org/web/*/https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><p><a href="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal.png" data-caption=""><img width="696" height="464" src="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-696x464.png" srcset="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-696x464.png 696w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-300x200.png 300w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-768x512.png 768w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal.png 900w" sizes="(max-width: 696px) 100vw, 696px" alt="" title="telegram-signal"></a></p>
            <!-- content -->
<p>Last days, Telegram and Signal two Instant Messaging apps are increased its users after the last move of WhatsApp on the updated of its Privacy Terms and Conditions that will apply since the next 21 February for integrate data with <a href="https://breaklynews.com/social-media/facebook-have-to-sell-instagram-and-whatsapp/">Facebook</a> platform.</p>



<p>Telegram has had a good user base, however Signal had not enjoyed such popularity, until this week more than 100,000 users decided to install Signal and over 2.2 millions has been installed Telegram.</p>



<p>Telegram CEO &nbsp;PÃ¡vel&nbsp;DÃºrov recently reveals the secret to get that million users transits to their app is the their Success is that Telegram respect the users and WhatsApp is unable to compete in the quality and the privacy, that allow them to host more than 500 million users around the word.</p>



<h2>Signal and Telegram as the best options</h2>



<p>Signal and Telegram prove to be the best options to you, it protects your privacy and the functions that them provides is that you need.</p>



<p>You can Download Signal for <a href="https://apps.apple.com/us/app/signal-private-messenger/id874139669" target="_blank" rel="noreferrer noopener">iPhone</a> and for <a href="https://play.google.com/store/apps/details?id=org.thoughtcrime.securesms" target="_blank" rel="noreferrer noopener">Android Devices</a></p>



<p>Telegram Can be used on <a href="https://apps.apple.com/app/telegram-messenger/id686449807" target="_blank" rel="noreferrer noopener">iPhone</a> and <a href="https://play.google.com/store/apps/details?id=org.telegram.messenger">Android too</a>, and there is also a <a href="https://apps.apple.com/app/telegram-messenger/id686449807" target="_blank" rel="noreferrer noopener">web version</a>, so, you can use anywhere.</p>



<h2>The new Terms and Conditions of WhatsApp</h2>



<p>Since last week WhatsApp began to advice the users about the new term and conditions, and they must accept in the case they want to continue to use the app since February 21.</p>



<figure><p>
<iframe title="WhatsApp New Privacy Policy Update Explained âš¡ Ye Video Bilkul Miss Mat Karna" width="696" height="392" src="https://www.youtube.com/embed/3wRZb2WSpKw?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>WhatsApp app are constantly changing and testing new functions in calls, groups and even for Businesses. but now, the integration with Facebook and Instagram is a serious thing.</p>



<p>Facebook claims that the motivation to made that changes is to provide an better unified experience between the platforms:</p>



<ul><li>The new term and conditions will be more easy to read and will include services like WhatsApp Web, WhatsApp Calls and WhatsApp Desktop.</li><li>The join with Facebook on 2014: WhatsApp is part of Facebook since 2014, so is not rare that both platforms work together and share message filters, they also claim that what the user shares on WhatsApp could be shared on Facebook.</li><li>Your Messages and data is yours: Facebook claims that has developed functions to protects the privacy and security from the users: â€œWe do no save your messages once itâ€™ll be delivered. When the messages are encrypted, not even we can read itâ€.</li></ul>

 <!-- A generated by theme --> 



 <!-- end A --> 

        </div></div>]]>
            </description>
            <link>https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731219</guid>
            <pubDate>Mon, 11 Jan 2021 16:30:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A bit on scaling chess.com's database]]>
            </title>
            <description>
<![CDATA[
Score 239 | Comments 87 (<a href="https://news.ycombinator.com/item?id=25730778">thread link</a>) | @ikonic89
<br/>
January 11, 2021 | https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/ | <a href="https://web.archive.org/web/*/https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>Do you feel your database is growing too big or too old? Hard to maintain? Well, I hope I might be able to help you a bit with that. The text youâ€™re about to read is a real life experience of scaling a monolith database to be able to support a top 250-website (according to <a href="https://www.alexa.com/" target="_blank" rel="noreferrer noopener">alexa.com</a>). At the moment of writing this article, <a href="https://www.alexa.com/" target="_blank" rel="noreferrer noopener">alexa.com</a> ranked <a href="https://www.chess.com/" target="_blank" rel="noreferrer noopener">chess.com</a> at 215th place in the world. Weâ€™ve got over 4M unique daily users and over 7B queries hitting all our MySQL databases combined. Went from under 1M unique users a day a year ago to 1.3M in March, to over 4M at the moment, with over 8M games played each day. I know itâ€™s no where near the biggest players on the market, but our experience could help you â€œfixâ€ your monolith database, and scale it to new heights.</p>



<p>Disclosure: <em>This is my first ever article, and itâ€™s too long as it is â€“ but I had to cut probably as much text as you see here in order to make it actually readable. So, some things might be confusing or not well explained, and Iâ€™m sorry for that. Hit me up on <a href="https://www.linkedin.com/in/ikonic/" target="_blank" rel="noreferrer noopener">LinkedIn</a>, and we can get into a deeper discussion.</em></p>



<p>Update: after reading a lot of comments, Iâ€™d like to add/clarify a few things. We do use caching, extensively. If we didnâ€™t we wouldnâ€™t survive a day. We do use Redis, often pushing it to its extremes. Weâ€™ve tested MongoDB and Vitess, but they didnâ€™t do it for us. </p>



<h2>The state in which we were just couple of years ago</h2>



<p>Somewhere mid-2019 weâ€™ve started noticing that our main DB cluster is slowly growing a bit too big. We had three smaller and less used databases on the side, but everything was always added to the main one. Surprisingly, it was in a fairly decent state for a database that started its life over 12 years ago. Not many unused/redundant indexes, the ones that were there were mostly good. We constantly monitored and improved heavy/slow queries. A nice chunk of data was denormalized, as well. No foreign keys, many things were done in the code itself (filtering, sorting, etc, to make sure the DB only ever uses the most efficient indexes) running on the latest version of MySQL, etc, etc. It wasnâ€™t neglected and it evolved over time into something that did a good job for us. </p>



<p>Disclaimer: Iâ€™m not recommending anyone to do these sorts of micro-optimizations. They are working for chess.com, on its scale. We benchmark almost anything weâ€™ve never done before, and see how it turns out, before actually implementing it. We know these work <strong>for us</strong>.</p>



<div>
<p>The biggest problem we were facing at that point in time was that altering almost any table required taking half the hosts out of rotation, run the alter there, put it back in rotation, alter the other half, put them back in. We had to do it off-peak, as taking half the hosts out during the peak time would probably result in the other half crashing. As the website was growing, old features got new improvements, so we had to run alters a lot (if youâ€™re in the business, you know how it goes). Altering wouldâ€™ve been far less stressful if we could could pull just a small set of tables out of rotation, instead of the entire DB. So, we created a 5 year plan for our main cluster (and boy, were we wrong about our timeline), in which we were to split the database into many smaller ones, and that would make things easier to maintain (we were right about this, at least). The plan assumed ~25% yearly growth, which was what we were seeing in previous years.</p>



<div>
<figure><img loading="lazy" width="920" height="1000" src="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png" data-src="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png" alt="" data-srcset="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png 920w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-276x300.png 276w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-768x835.png 768w" data-sizes="(max-width: 920px) 100vw, 920px" srcset="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png 920w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-276x300.png 276w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-768x835.png 768w"><figcaption>Where we were ~2 years ago</figcaption></figure>
</div>
</div>



<h2>The REAL problem appears and our plan implodes</h2>



<p>Youâ€™re all familiar with COVID-19, and how all of that went. Guess what â€“ we werenâ€™t really ready (or we didnâ€™t expect it to have the impact it had on or traffic). Interest in chess exploded when (most of) Europe went into a lockdown. Fun fact â€“ we could tell which country went into a lockdown just by looking at our registrations by country â€“ it was so clear. And numbers skyrocketed across the board. Funnily enough, all our databases were doing fine (not great, but they handled the traffic). But at the same time we noticed that our â€œreportsâ€ host was constantly struggling to keep up with the production hosts (i.e., it was often 30-60 seconds behind on replication), which prompted us to analyse our replication stream and its remaining capacity. And it was close to being full, at peak traffic reaching over 95% of the capacity. At that point we knew that USA (where most of our players are from) would also go into a lock down, soon, and that would mean that our replicas wouldnâ€™t be able to keep up with all the writes going to the master (or even if we just keep growing slowly). This would mean the end of <a href="http://www.chess.com/" target="_blank" rel="noreferrer noopener">chess.com</a>, as the code isnâ€™t ready to handle big replication delays when reading data from replicas, and sending all the selects to master would take it down. That made our goal clear: decrease number of writes going to the main cluster, and do it as quickly as possible! This was actually part of our aforementioned plan, but that plan stretched over 5 years. Now we had just one or two months to do that. </p>



<h2>The solution</h2>



<p>How to decrease number of writes to a single DB? Sounds simple â€“ identify tables that are written the most and rip them away from the DB. That way the number of writes handled remains the same, but they are just split into two separate streams. These can be either tables that get a lot of inserts, or not as many inserts, but with records that are frequently updated. Store them elsewhere. How to do it with no downtime? As youâ€™d imagine â€“ not really that simple. </p>



<p>We first identified all the tables that had most updates (inserts, deletes or updates). Most of them were nicely grouped together based on the feature for which they were used (most of game related tables would be written at a similar pace, etc), and we managed to gather a list of 10-15 tables, for 3 different website features. As soon as we started investigating them, another problem was revealed â€“ since we canâ€™t â€œjoinâ€ between databases on different hosts, we would need to move as many tables as the feature used to make the project simpler (we were already aware of this, since when â€œthe planâ€ first came into place, we did something similar for 3 smaller, less used tables as a PoC, and it turned out fine). </p>



<p>The 3 features we identified as high-traffic were logs (not really a feature, and not really logs, they were just poorly named), games (like youâ€™d expect on a chess gaming platform) and puzzles. For logs weâ€™ve found just 3 very isolated tables, which meant not a lot query/code changes were required. Similar for games, as well. But puzzles had over 15 tables to move, and the queries on those tables had lots of joins towards tables that were to remain in the main database cluster. Weâ€™ve rallied our troops, pulled over half of our backend developers, split them into teams, and started pushing on all of these in parallel. </p>



<p>It took just one week to move logs into its dedicated database, running on two hosts, which gave us some breathing space, as those had the most writes, by far. One more month to move games (which was oh so scary, as any mistake there would be a disaster, considering thatâ€™s the whole point of the website), and puzzles took over 2 months. After these, we were well under 80% of the replication capacity in the peak, which meant we had time to regroup, and plan upcoming projects a bit better.</p>



<h2>The execution</h2>



<p>So, how did we do it? </p>



<p>As you might assume, there are two sides to a project like this â€“ code and database, and both require a lot of work. On the code side, there are a few prerequisites for a project like this one. First of all, we need some sort of <a href="https://en.wikipedia.org/wiki/Feature_toggle" target="_blank" rel="noreferrer noopener">feature flag</a> (aka feature toggle) system, either internal or 3rd party. Ours is custom built, pretty extensive, and maybe a topic for another post. The bare minimum the feature flag system needs to provide is to allow or deny access to a percent of checks from 0 to 100 percent. Another really useful thing to have is a good test coverage. Our entire codebase was rewritten from scratch a few years ago, so we were lucky enough to have that, as it saved us a couple of times.</p>



<div>
<p>Between code changes and database changes, some things can be done in parallel and some require going by numbers. The easiest thing to start with is to set up the new database. All our new databases pulled from the main one (we call them partitions, and this process partitioning) end up on a 2-host setup (master and failover-master (replica)), but it can really be anything we want. On the partition cluster, we create a new database with identical schema to the one weâ€™re trying to split (just name it according our needs, in this case the first one was named<code> logs</code>). Then a backup of the main database is imported, after which we hook up the master of the partition cluster to be a replica of the main master (this is why we need the identical schema and backup import). This way the new cluster becomes just like any main cluster replica, only with a differently named database. Then it just sits there, looking pretty, replicating traffic, and being up-to-date with the rest of the cluster while we work on the code side of this project.</p>



<div>
<figure><img loading="lazy" width="919" height="1024" src="http://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png" data-src="http://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png" alt="" data-srcset="https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png 919w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-269x300.png 269w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-768x855.png 768w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL.png 1160w" data-sizes="(max-width: 919px) 100vw, 919px" srcset="https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png 919w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-269x300.png 269w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-768x855.png 768w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL.png 1160w"><figcaption>This is what the cluster looks like after adding new hosts</figcaption></figure>
</div>
</div>



<p>Before we started working on this project, we essentially had 2 connections open to the database from the code: read only connection hitting replicas and read/write connection pointing to the master. Both actually hitting HAProxy, to get where they need to go. First thing we did is to create a parallel set of connections, where read/write connection goes to the <code>Partition Master</code> and read-only connection to the <code>Partition Replica</code>.</p>



<p><em>Chess.com is written in PHP, so Iâ€™ll use PHP examples to illustrate the needed changes, but Iâ€™ll keep it pseudo enough so that anyone can understand whatâ€™s going on (youâ€™d be surprised how many websites in the top 1k are written in PHP, and how easy it is to scale PHP to those heights. Maybe a topic for another post.). </em></p>



<p>Coâ€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/">https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/</a></em></p>]]>
            </description>
            <link>https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730778</guid>
            <pubDate>Mon, 11 Jan 2021 16:07:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 510 | Comments 225 (<a href="https://news.ycombinator.com/item?id=25730145">thread link</a>) | @zertrin
<br/>
January 11, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course itâ€™s not as cut-and-dry as Iâ€™m making it out to be, but the gist of it holds true and stood the test of time. This hasnâ€™t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. Iâ€™ll be discussing Steamâ€™s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Hereâ€™s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Letâ€™s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasnâ€™t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didnâ€™t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, letâ€™s switch it up. Letâ€™s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. Thereâ€™s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the â€œBasicâ€ HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. â€œSign in with service XYZâ€ is commonly used, but comes with its own ramifications. All things considered, itâ€™s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steamâ€™s login page doesnâ€™t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steamâ€™s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. Youâ€™ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and youâ€™ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone whoâ€™s briefly dealt with public key cryptography. Youâ€™re given a RSA public key, though the exact values might look a bit odd. Itâ€™s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (Iâ€™ll get back on that later). Thereâ€™s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> â€” a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. Youâ€™ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information Iâ€™ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, letâ€™s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the userâ€™s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The userâ€™s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the â€œpre-classâ€ JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now itâ€™s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, youâ€™ll notice that the public key changes ever so often and, as such, its timestamp value too. This means thereâ€™s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, itâ€™s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steamâ€™s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that itâ€™s safe to assume that they rotate every hour. The encryption exponent stays the same â€” no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And whatâ€™s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what Iâ€™m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesnâ€™t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Letâ€™s assume that a new public key is generated every hour plus one second. If I query the public key â€¦</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730145</guid>
            <pubDate>Mon, 11 Jan 2021 15:27:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are Experts Real?]]>
            </title>
            <description>
<![CDATA[
Score 185 | Comments 156 (<a href="https://news.ycombinator.com/item?id=25730008">thread link</a>) | @tlb
<br/>
January 11, 2021 | https://fantasticanachronism.com/2021/01/11/are-experts-real/ | <a href="https://web.archive.org/web/*/https://fantasticanachronism.com/2021/01/11/are-experts-real/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I vacillate between two modes: sometimes I think every scientific and professional field is genuinely complex, requiring years if not decades of specialization to truly understand even a small sliver of it, and the experts<span><a href="#fn5071682221" rel="footnote"><sup id="fnref5071682221">1</sup></a></span> at the apex of these fields have deep insights about their subject matter. The evidence in favor of this view seems pretty good, a quick look at the technology, health, and wealth around us ought to convince anyone.</p><p>But sometimes one of these masters at the top of the mountain will say something so obviously incorrect, something even an amateur can see is false, that the only possible explanation is that they understand very little about their field. Sometimes vaguely smart generalists with some basic stats knowledge objectively outperform these experts. And if the masters at the top of the mountain aren't real, then that undermines the entire hierarchy of expertise.</p><p>Some hierarchies are undeniably legitimate. Chess, for example, has the top players constantly battling each other, new players trying to break in (and sometimes succeeding), and it's all tracked by a transparent rating algorithm that is constantly updated. Even at the far right tails of these rankings, there are significant and undeniable skill gaps. There is simply no way Magnus Carlsen is secretly bad at chess.</p><p>Science would seem like another such hierarchy. The people at the top have passed through a long series of tests designed to evaluate their skills and knowledge, winnow out the undeserving, and provide specialized training: undergrad, PhD, tenure track position, with an armada of publications and citations along the way.</p><p>Anyone who has survived the torments of tertiary education will have had the experience of getting a broad look at a field in a 101 class, then drilling deeper into specific subfields in more advanced classes, and then into yet more specific sub-subfields in yet more advanced classes, until eventually you're stuck at home on a Saturday night reading an article in an obscure Belgian journal titled "Iron Content in Antwerp Horseshoes, 1791-1794: Trade and Equestrian Culture Under the Habsburgs", and the list of references carries the threatening implication of an entire literature on the equestrian metallurgy of the Low Countries, with academics split into factions justifying or expostulating the irreconcilable implications of rival theories. And then you realize that there's an equally obscure literature about every single subfield-of-a-subfield-of-a-subfield. You realize that you will never be a polymath and that simply catching up with the state of the art in one tiny corner of knowledge is a daunting proposition. The idea of exiting this ridiculous sham we call life flashes in your mind, but you dismiss it and heroically persist in your quest to understand those horseshoes instead.</p><p>It is absurd to think that after such lengthy studies and deep specialization the experts could be secret frauds. As absurd as the idea that Magnus Carlsen secretly can't play Chess. Right?</p><p>Imagine if tomorrow it was revealed that Magnus Carlsen actually doesn't know how to play chess. You can't then just turn to the #2 and go "oh well, Carsen was fake but at least we have Fabiano Caruana, he's the real deal"â€”if Carlsen is fake that also implicates every player who has played against him, every tournament organizer, and so on. The entire hierarchy comes into question. Even worse, imagine if it was revealed that Carlsen was a fake, but he still continued to be ranked #1 afterwards. So when I observe extreme credential-competence disparities in science or government bureaucracies, I begin to suspect the entire system.<span><a href="#fn5071682222" rel="footnote"><sup id="fnref5071682222">2</sup></a></span> Let's take a look at some examples.</p><h4 id="59"><a href="#59" title="59"></a>59</h4><p>In 2015, Viechtbauer et al. published <em>A simple formula for the calculation of sample size in pilot studies</em>, in which they describe a simple method for calculating the required N for an x% chance of detecting a certain effect based on the proportion of participants who exhibit the effect. In the paper, they give an <em>example</em> of such a calculation, writing that if 5% of participants exhibit a problem, the study needs N=59 for a 95% probability of detecting the problem. The actual required N will, of course, vary depending on the prevalence of the effect being studied.</p><p>If you look at the <a href="https://scholar.google.com/scholar?hl=en&amp;as_sdt=2005&amp;sciodt=0%2C5&amp;cites=8563214002358604992&amp;scipsc=1&amp;q=59&amp;btnG=" target="_blank" rel="noopener">papers citing Viechtbauer et al.</a>, you will find dozens of them simply using N=59, regardless of the problem they're studying, and explaining that they're using that sample size because of the Viechtbauer paper! The authors of these studies are professors at real universities, working in disciplines based almost entirely on statistical analyses. The papers passed through editors and peer reviewers. In <a href="https://fantasticanachronism.com/2020/09/11/whats-wrong-with-social-science-and-how-to-fix-it/">my piece on the replication crisis</a>, I wrote that I find it difficult to believe that social scientists don't know what they're doing when they publish weak studies; one of the most common responses from scientists was "no, they genuinely don't understand elementary statistics". It still seems absurd (just count the years from undergrad to PhD, how do you fail to pick this stuff up just by osmosis?) but it also appears to be true. How does this happen? Can you imagine a physicist who doesn't understand basic calculus? And if this is the level of competence among tenured professors, what is going on among the people below them in the hierarchy of expertise?</p><h4 id="Masks"><a href="#Masks" title="Masks"></a>Masks</h4><p>Epidemiologists have beclowned themselves in all sorts of ways over the last year, but this is one of my favorites. Michelle Odden, professor of epidemiology and population health at Stanford (to be fair she does focus on cardiovascular rather than infectious disease, but then perhaps she shouldn't appeal to her credentials):</p><p><img src="https://fantasticanachronism.com/images/experts_masks-097c3b01fdd318edec9f70415bc95d6b.jpg"></p><h4 id="Time-Diversification"><a href="#Time-Diversification" title="Time Diversification"></a>Time Diversification</h4><p>CalPERS is the largest pension fund in the United States, managing about $400 billion dollars. <a href="https://youtu.be/qFIcakrlowE?t=4743" target="_blank" rel="noopener">Here</a> is a video of a meeting of the CalPERS investment committee, in which you will hear Chief Investment Officer Yu Meng say two incredible things:</p><ol><li>That he can pick active managers who will generate alpha, and this decreases portfolio risk.</li><li>That infrequent model-based valuation of investments makes them <em>less risky</em> compared to those traded on a market, due to "time diversification".</li></ol><p>This is utter nonsense, of course. When someone questions him, he retorts with "I might have to go back to school to get another PhD". The appeal to credentials is typical when fake expertise is questioned. Can you imagine Magnus Carlsen appealing to a piece of paper saying he has a PhD in chessology to explain why he's good?<span><a href="#fn5071682223" rel="footnote"><sup id="fnref5071682223">3</sup></a></span></p><h4 id="Feedback-Loops"><a href="#Feedback-Loops" title="Feedback Loops"></a>Feedback Loops</h4><p>It all comes down to feedback loops. The optimal environment for developing and recognizing expertise is one which allows for clear predictions and provides timely, objective feedback along with a system that promotes the use of that feedback for future improvement. Capitalism and evolution work so well because of their merciless feedback mechanisms.<span><a href="#fn5071682224" rel="footnote"><sup id="fnref5071682224">4</sup></a></span></p><p>The basic sciences have a great environment for such feedback loops: if physics was fake, CPUs wouldn't work, rockets wouldn't go to the moon, and so on. But if social priming is fake, well...? There are other factors at play, too, some of them rather nebulous: there's more to science than just running experiments and publishing stuff. Mertonian, distributed, informal community norms play a significant role in aligning prestige with real expertise, and these broader social mechanisms are the keystone that holds everything together. But such things are hard to measure and impossible to engineer. And can such an honor system persist indefinitely or will it eventually be subverted by bad actors?<span><a href="#fn5071682225" rel="footnote"><sup id="fnref5071682225">5</sup></a></span></p><p>What does feedback look like in the social sciences? The norms don't seem to be operating very well. There's a small probability that your work will be replicated at some point, but really the main feedback mechanism is "impact" (in other words, citations). Since <a href="https://fantasticanachronism.com/2020/09/11/whats-wrong-with-social-science-and-how-to-fix-it/#or-Maybe-They-Don-39-t">citations in the social sciences are not related to truth</a>, this is useless at best. Can you imagine if fake crank theories in physics got as many citations as the papers from CERN? Notorious fraud Brian Wansink racked up 2500 citations in 2020, two years after he was forced to resign. There's your social science feedback loop!</p><p>The feedback loops of the academy are also predicated on the current credentialed insiders <em>actually being experts</em>. But if the N=59 crew are making such ridiculous errors in their <em>own</em> papers, they obviously don't have the ability to judge <em>other</em> people's papers either, and neither do the editors and reviewers who allow such things to be publishedâ€”for the feedback loop to work properly you need both the cultural norms and genuinely competent individuals to apply them.</p><p>The candidate gene literature (of which <a href="https://slatestarcodex.com/2019/05/07/5-httlpr-a-pointed-review/" target="_blank" rel="noopener">5-HTTLPR</a> was a subset) is an example of feedback and successful course correction: many years and thousands of papers were wasted on something that ended up being completely untrue, and while a few of these papers still trickle in, these days the approach has been essentially abandoned and replaced by genome-wide association studies. <a href="https://slatestarcodex.com/2017/04/17/learning-to-love-scientific-consensus/" target="_blank" rel="noopener">Scott Alexander is rather sanguine</a> about the ability of scientific feedback mechanisms to eventually reach a true consensus, but I'm more skeptical. In psychology, the methodological deficiencies of today are the more or less same ones as those of the <a href="https://amstat.tandfonline.com/doi/abs/10.1080/01621459.1959.10501497" target="_blank" rel="noopener">of the 1950s</a>, with no hope for change.</p><p>Sometimes we can't wait a decade or two for the feedback to work, the current pandemic being a good example. Being right about masks <em>eventually</em> isn't good enough. The loop there needs to be tight, feedback immediate. Blindly relying on the predictions of this or that model from this or that university is absurd. You need systems with built-in, automatic mechanisms for feedback and course correction, subsidized markets being the very best one. Tom Liptay (a superforecaster) has been <a href="https://www.maby.app/covid/" target="_blank" rel="noopener">scoring his predictions against those of experts</a>; naturally he's winning. And that's just one person, imagine hundreds of them combined, with a monetary incentive on top.</p><h4 id="Uniformity"><a href="#Uniformity" title="Uniformity"></a>Uniformity</h4><p>There's a â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fantasticanachronism.com/2021/01/11/are-experts-real/">https://fantasticanachronism.com/2021/01/11/are-experts-real/</a></em></p>]]>
            </description>
            <link>https://fantasticanachronism.com/2021/01/11/are-experts-real/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730008</guid>
            <pubDate>Mon, 11 Jan 2021 15:17:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Metal: John Graham-Cumming]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25729969">thread link</a>) | @jgrahamc
<br/>
January 11, 2021 | https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/ | <a href="https://web.archive.org/web/*/https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><audio controls="" preload="auto"><source src="https://media.transistor.fm/4e9a14a9/b31b442b.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio></p><div><h3 id="transcript">Transcript</h3><p>Find an error in the transcript? <a href="https://github.com/oxidecomputer/website/tree/master/src/site/_data/transcripts/011-john-graham-cumming.txt" target="_blank">Send a pull request!</a></p><p id="t=00:00:13" data-timecode="00:00:13"><a href="#t=00:00:13"><span>00:00:13</span></a><span><strong>Bryan</strong> Cantrill: Welcome to On The Metal, Tales from the Hardware/Software Interface. I'm Bryan Cantrill with me, as always is Jessie Frazelle. Hey, Jessie.</span></p><p id="t=00:00:21" data-timecode="00:00:21"><a href="#t=00:00:21"><span>00:00:21</span></a><span><strong>Jessie</strong> Frazelle: Hey, Bryan.</span></p><p id="t=00:00:22" data-timecode="00:00:22"><a href="#t=00:00:22"><span>00:00:22</span></a><span><strong>Bryan:</strong> Joining us is our boss, Steve Tuck. Hey, Steve.</span></p><p id="t=00:00:24" data-timecode="00:00:24"><a href="#t=00:00:24"><span>00:00:24</span></a><span><strong>Steve</strong> Tuck: Present.</span></p><p id="t=00:00:25" data-timecode="00:00:25"><a href="#t=00:00:25"><span>00:00:25</span></a><span><strong>Bryan:</strong> All right, Jessie, you want to introduce who we've got in the virtual garage today?</span></p><p id="t=00:00:29" data-timecode="00:00:29"><a href="#t=00:00:29"><span>00:00:29</span></a><span><strong>Jessie:</strong> Yes. Remotely, which is a fun one, we have John Graham-Cumming, who wrote The Geek Atlas. I was just looking at that this morning and The Make book that I also have, and also works at Cloudflare as the CTO.</span></p><p id="t=00:00:45" data-timecode="00:00:45"><a href="#t=00:00:45"><span>00:00:45</span></a><span><strong>John</strong> Graham-Cumming: Thank you very much. It's very nice to be able to talk to you, from far away.</span></p><p id="t=00:00:49" data-timecode="00:00:49"><a href="#t=00:00:49"><span>00:00:49</span></a><span><strong>Bryan:</strong> Yes, this is a conversation we've really been looking forward to having for a long time because when you dial up computer history, which we've been known to do on this podcast, you turn the dial all the way back. Do you want to talk about how you got into Babbage and his work with Lovelace and so on?</span></p><p id="t=00:01:09" data-timecode="00:01:09"><a href="#t=00:01:09"><span>00:01:09</span></a><span><strong>John:</strong> Yes. I think I probably knew about it at university because it was mentioned just like, "Oh, by the way, there was this other thing, and maybe it was a computer, Charles Babbage. Then what really happened was, right at a time when I was at university in the UK, the Science Museum in London started building one of Babbage's machines, this thing called the difference engine, which is really a very big specialized calculator. It is not a computer and they started actually taking his plans and building it. Because of where I live when I was at college, and where my parents were, I used to have to travel through London.</span></p><p>I would literally go through London and sneak out of the tube, go into the Science Museum, look at this thing being built, and then slowly, it would get bigger and bigger and bigger, because they built it in public.</p><p id="t=00:01:58" data-timecode="00:01:58"><a href="#t=00:01:58"><span>00:01:58</span></a><span><strong>Bryan:</strong> Oh, wow.</span></p><p id="t=00:01:59" data-timecode="00:01:59"><a href="#t=00:01:59"><span>00:01:59</span></a><span><strong>John:</strong> Which is really, really cool. I knew about it. I remember at one point, this is traumatic for you, taking my girlfriend who was also a mathematician to see this thing. Then the two of us like, "Okay, the method of differences, let's sit down." We sat down on, there's a little patch of grass outside the Science Museum. It's not a very grassy area, sitting down on this patch of grass on a sunny day in London. That's why I remember it.</span></p><p id="t=00:02:21" data-timecode="00:02:21"><a href="#t=00:02:21"><span>00:02:21</span></a><span><strong>Bryan:</strong> Very distinctive.</span></p><p id="t=00:02:24" data-timecode="00:02:24"><a href="#t=00:02:24"><span>00:02:24</span></a><span><strong>John:</strong> The two of us with a piece of paper working out, okay, how does this thing work? How does the method of differences work? That was probably really when I got excited about Babbage, and then subsequently realized that the difference engine as cool as it was, isn't actually programmable and that was a bit sad.</span></p><p id="t=00:02:40" data-timecode="00:02:40"><a href="#t=00:02:40"><span>00:02:40</span></a><span><strong>Bryan:</strong> Did you already know at that point that you are interested in computing? Had you grown up in computing at that point?</span></p><p id="t=00:02:46" data-timecode="00:02:46"><a href="#t=00:02:46"><span>00:02:46</span></a><span><strong>John:</strong> Yes. I was doing mathematics and computation as Oxford called it because Oxford was very theoretical. It was all about the theory of computation. None of this messing around with real computers. I hadn't messed around with computers for a long time</span></p><p>because well, if you go backwards, you have to work backwards, I was obviously a child of the '80s 8-bit revolution in the UK. I had a thing called the BBC Micro which was this really cool computer with 48K RAM.</p><p id="t=00:03:14" data-timecode="00:03:14"><a href="#t=00:03:14"><span>00:03:14</span></a><span><strong>Bryan:</strong> Whenever the BBC Micro is mentioned on the podcast, it's been mentioned a couple of times, I feel that all of our English listeners play God Save The Queen in the background.</span></p><p id="t=00:03:24" data-timecode="00:03:24"><a href="#t=00:03:24"><span>00:03:24</span></a><span><strong>Bryan:</strong> I feel that there is tears in the eyes.</span></p><p id="t=00:03:24" data-timecode="00:03:24"><a href="#t=00:03:24"><span>00:03:24</span></a><span><strong>John:</strong> Well, there were two groups, Bryan. In the UK at that time, there was the Sinclair group, ZX81, the ZX Spectrum and then there were the BBC Micro people. We were two camps and the Sinclair machines were slightly cheaper.</span></p><p id="t=00:03:43" data-timecode="00:03:43"><a href="#t=00:03:43"><span>00:03:43</span></a><span><strong>Bryan:</strong> I have got so many follow-up questions. Is this a class divide? Is it geographical? What divides these two clans?</span></p><p id="t=00:03:50" data-timecode="00:03:50"><a href="#t=00:03:50"><span>00:03:50</span></a><span><strong>John:</strong> There was definitely a price difference. The Sinclair machines were much much cheaper and so I think they were much, much more widespread whereas the BBC machines were in school so you got at them at school. I ended up with the BBC machine because my parents in their wisdom, they said-- Well, they had two boys and they're like, "We'll let these two boys do the things they seem really interested in." My brother had had years and years of piano lessons and played the piano really well. I said, "I want to have a computer."</span></p><p>They said, "Well, we probably spent that much money on piano lessons so we'll buy you this machine," which I still have. It's a treasure. It's in [crosstalk]</p><p id="t=00:04:28" data-timecode="00:04:28"><a href="#t=00:04:28"><span>00:04:28</span></a><span><strong>Steve:</strong> Wow.</span></p><p id="t=00:04:28" data-timecode="00:04:28"><a href="#t=00:04:28"><span>00:04:28</span></a><span><strong>Jessie:</strong> Wow. That's cool.</span></p><p id="t=00:04:29" data-timecode="00:04:29"><a href="#t=00:04:29"><span>00:04:29</span></a><span><strong>Bryan:</strong> Oh, wow.</span></p><p id="t=00:04:31" data-timecode="00:04:31"><a href="#t=00:04:31"><span>00:04:31</span></a><span><strong>John:</strong> It was a big, big deal and I was very funny actually. I switched it on a few years ago and immediately the power supply blew up so I-</span></p><p id="t=00:04:39" data-timecode="00:04:39"><a href="#t=00:04:39"><span>00:04:39</span></a><span><strong>Jessie:</strong> Hold on.</span></p><p id="t=00:04:39" data-timecode="00:04:39"><a href="#t=00:04:39"><span>00:04:39</span></a><span><strong>John:</strong> -had to replace the power supply. I looked at the back of it and it has the wattage of the machine which was about the wattage of a lightbulb. I remember thinking-</span></p><p id="t=00:04:51" data-timecode="00:04:51"><a href="#t=00:04:51"><span>00:04:51</span></a><span><strong>Bryan:</strong> Really?</span></p><p id="t=00:04:52" data-timecode="00:04:52"><a href="#t=00:04:52"><span>00:04:52</span></a><span><strong>John:</strong> -I knew that my parents didn't have loads of money to burn and they spent a lot of money on this machine and I had this incredible feeling like, "Oh my God, I can't run up their electricity bill with this machine." I used to switch it on and then go and switch a light off somewhere in the house to be like net zero.</span></p><p id="t=00:05:11" data-timecode="00:05:11"><a href="#t=00:05:11"><span>00:05:11</span></a><span><strong>John:</strong> I actually don't think my parents had that little money but it was more like I had this thing where I was like I got to--</span></p><p id="t=00:05:18" data-timecode="00:05:18"><a href="#t=00:05:18"><span>00:05:18</span></a><span><strong>Bryan:</strong> If it draws 60 watts, this is not even observable on the power bill I assume.</span></p><p id="t=00:05:23" data-timecode="00:05:23"><a href="#t=00:05:23"><span>00:05:23</span></a><span><strong>John:</strong> I guess but I felt as a-- I was a child and I decided I've got to do my bit.</span></p><p id="t=00:05:28" data-timecode="00:05:28"><a href="#t=00:05:28"><span>00:05:28</span></a><span><strong>Bryan:</strong> What a [unintelligible 00:05:28] child.</span></p><p id="t=00:05:29" data-timecode="00:05:29"><a href="#t=00:05:29"><span>00:05:29</span></a><span><strong>Jessie:</strong> I know, it's really cute.</span></p><p id="t=00:05:30" data-timecode="00:05:30"><a href="#t=00:05:30"><span>00:05:30</span></a><span><strong>Bryan:</strong> Meanwhile, my child--</span></p><p id="t=00:05:32" data-timecode="00:05:32"><a href="#t=00:05:32"><span>00:05:32</span></a><span><strong>Steve:</strong> I'll take one of those.</span></p><p id="t=00:05:32" data-timecode="00:05:32"><a href="#t=00:05:32"><span>00:05:32</span></a><span><strong>Bryan:</strong> I'll take one of those too. I can't get my kids to be like, "Could you just get off the mobile network and onto the wifi so you don't bankrupt the household watching Youtube."</span></p><p id="t=00:05:41" data-timecode="00:05:41"><a href="#t=00:05:41"><span>00:05:41</span></a><span><strong>John:</strong> It was a different time.</span></p><p id="t=00:05:42" data-timecode="00:05:42"><a href="#t=00:05:42"><span>00:05:42</span></a><span><strong>Bryan:</strong> It was a different time. Children were so mindful of the power bill.</span></p><p id="t=00:05:47" data-timecode="00:05:47"><a href="#t=00:05:47"><span>00:05:47</span></a><span><strong>Jon:</strong> Actually to continue to answer your question if you go really right back in time, at some point when I was about I think seven, I was very bright and my parents were, "What the hell do we do with this bright kid?" They [00:06:00] found-- They [00:06:00] found-- because it's pre-internet. This is in the '70s. They found this association which was for desperate parents of intelligent children.</span></p><p>They're like, "What do we do with him?" They do this thing at Cambridge University in the summer where you could basically take your kids and dump them off and there your kids run wild. I went to that a couple of times and I actually hated it because some of the kids were so snotty, but there was one person I went up to and obviously, this person was in either the mathematics or computer science department at Cambridge, and I said, "Oh, explain to me how a computer works. I want to know." Imagine I'm like seven years old.</p><p>What I remember of that is the person getting out a pad of paper and starting drew this strip on it and build boxes on it and basically describe the Turing machine. I have at home, my own little Turing things I've tried to do in strips of paper and come up with this computer thing. I think I was infected with computer stuff pretty early on. Mother would say even as a baby I was fascinated by things like how does the clock work? I would stare at clocks, "How does that work?" I don't know. Something happens probably in the womb, maybe.</p><p id="t=00:07:15" data-timecode="00:07:15"><a href="#t=00:07:15"><span>00:07:15</span></a><span><strong>Bryan:</strong> Where is the eight-year-old that explained the Turing machine? Where did he end up?</span></p><p id="t=00:07:21" data-timecode="00:07:21"><a href="#t=00:07:21"><span>00:07:21</span></a><span><strong>John:</strong> Oh, no, no, no, this was a professor at Cambridge.</span></p><p id="t=00:07:22" data-timecode="00:07:22"><a href="#t=00:07:22"><span>00:07:22</span></a><span><strong>Bryan:</strong> Oh, professor. Oh, excuse me. I'm sorry.</span></p><p id="t=00:07:24" data-timecode="00:07:24"><a href="#t=00:07:24"><span>00:07:24</span></a><span><strong>John:</strong> It was an adult. Whether he was like 21 or 40, I have no idea. As a child, if somebody sat and explained this to me, I was like, "Whoa, this is amazing." Then, of course, later on, I go and actually go to do computer science. I was like, "Wait a minute. That's a Turing machine." This guy Turing and now I hear about all this stuff for real and some of the theories. I don't know. I was into computers from an early age. I was nerdy.</span></p><p id="t=00:07:47" data-timecode="00:07:47"><a href="#t=00:07:47"><span>00:07:47</span></a><span><strong>Bryan:</strong> You were obviously writing your own programs on the BBC Micro?</span></p><p id="t=00:07:51" data-timecode="00:07:51"><a href="#t=00:07:51"><span>00:07:51</span></a><span><strong>John:</strong> Yes, obviously. I think I started out just playing with the machine, trying to understand it. Then I bought this book that was called The Advanced User's Guide, it had a lot of stuff about how the operating system or the BIOS for this thing worked and a lot of the gut there. I was very interested in that. I really learned assembly language and then started doing assembly language stuff on the machine. At the same time, I was programming another 8-bit machine which was made by Sharp MZ-80K, and then some others that Z80-based machines.</span></p><p id="t=00:08:23" data-timecode="00:08:23"><a href="#t=00:08:23"><span>00:08:23</span></a><span><strong>Bryan:</strong> The MZ to give you the 80K. Interesting.</span></p><p id="t=00:08:28" data-timecode="00:08:28"><a href="#t=00:08:28"><span>00:08:28</span></a><span><strong>John:</strong> Yes. It's a bit like a Commodore PET as an integrated CRT and a tape player, and unusually it had a keyboard where you could actually type every character that was in the character set. It's really weird because basically, it didn't have ASCII. It had its own thing with all sorts of crazy symbols and stuff and you could type everything. Anyway, I was reading some assembly language programming basically to make my programs faster or to access bits of the operating system and build various things. Me with another boy in high school, we wrote programs. We wrote a statistical analysis package. We wrote I think, the timetabling. Then basically around this time there, we had a 100-kilobit per second I think local area network at school. We disassembled the operating system and figured out how to make it work. I think the funny thing was we disassembled how â€¦</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/">https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/</a></em></p>]]>
            </description>
            <link>https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729969</guid>
            <pubDate>Mon, 11 Jan 2021 15:16:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kafka as a Database? Yes or No]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25729612">thread link</a>) | @cpard
<br/>
January 11, 2021 | https://davidxiang.com/2021/01/10/kafka-as-a-database/ | <a href="https://web.archive.org/web/*/https://davidxiang.com/2021/01/10/kafka-as-a-database/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="penci-post-entry-inner"><p>I recently read through a Hacker News <a href="https://news.ycombinator.com/item?id=25346851" target="_blank" rel="noreferrer noopener nofollow">thread</a> discussing the <a href="https://materialize.com/kafka-is-not-a-database/" target="_blank" rel="noreferrer noopener">article</a> â€œKafka Is Not A Databaseâ€, by <a href="https://twitter.com/narayanarjun" target="_blank" rel="noreferrer noopener nofollow">Arjun Narayan</a>&nbsp;and&nbsp;<a href="https://twitter.com/frasergeorgew?lang=en" target="_blank" rel="noreferrer noopener nofollow">George Fraser</a>. The opinions behind this topic are fascinating and I enjoyed sifting through comments from both sides of the table. For the purposes of this post, Iâ€™ve labeled these two broad groups of thoughts as Team Blue and Team Red.</p><p>Team Blue believes that <a href="https://kafka.apache.org/" target="_blank" rel="noreferrer noopener">Kafka</a>, a popular streaming platform, has the potential to be the source-of-truth for your dataâ€”replacing one of the key responsibilities of conventional databases.</p><p>Team Red strongly disagrees.</p><p>The following is high-level summary of these opinions.</p> <h2><strong>Kafka As A Database</strong></h2><h3>TL;DR Streams,Events,Kafka</h3><p>First, a conceptual model of streams:</p><blockquote><p>In&nbsp;<a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a>, a&nbsp;<strong>stream</strong>&nbsp;is a&nbsp;<a href="https://en.wikipedia.org/wiki/Sequence">sequence</a>&nbsp;of&nbsp;<a href="https://en.wikipedia.org/wiki/Data_element">data elements</a>&nbsp;made available over time.&nbsp;A stream can be thought of as items on a&nbsp;<a href="https://en.wikipedia.org/wiki/Conveyor_belt">conveyor belt</a>&nbsp;being processed one at a time rather than in large batches.</p><cite>Wikipedia.org</cite></blockquote><p>Imagine that youâ€™ve hired an invisible assistant. This assistantâ€™s only responsibility is to record everything you do:</p><ol><li>Wakes up @ 8 am</li><li>Brushes teeth @ 8:35 am</li><li>Begins showering @ 8:40 am</li><li>â€¦</li></ol><p>As you go about your day, your assistant meticulously captures your activity and adds new entries into your daily log. This growing log represents a <strong>stream </strong>of your day-to-day activity. The data elements that comprise the stream are known as <strong>events</strong>. Once an event is recorded, it is immutable; the fact that you brushed your teeth at 8:35 am yesterday will never change.</p><p>While your invisible assistant is following you around and <strong>producing</strong> new events to your stream, who is <strong>consuming</strong> them? Anyone who cares! Iâ€™m sure your mom would be thrilled to process through your activities and call you if there are any anomalies.</p><p>What about <strong>Kafka</strong>?</p><blockquote><p><strong>Apache Kafka</strong>&nbsp;is an&nbsp;<a href="https://en.wikipedia.org/wiki/Open-source_software" target="_blank" rel="noreferrer noopener nofollow">open-source</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Stream_processing" target="_blank" rel="noreferrer noopener nofollow">stream-processing</a>&nbsp;software platform developed by the&nbsp;<a href="https://en.wikipedia.org/wiki/Apache_Software_Foundation" target="_blank" rel="noreferrer noopener nofollow">Apache Software Foundation</a>, written in&nbsp;<a href="https://en.wikipedia.org/wiki/Scala_(programming_language)" target="_blank" rel="noreferrer noopener">Scala</a>&nbsp;and&nbsp;<a href="https://en.wikipedia.org/wiki/Java_(programming_language)" target="_blank" rel="noreferrer noopener">Java</a>.&nbsp;</p><cite>Wikipedia.org</cite></blockquote><p>Kafka is a platform (large set of software tools) that helps programmers work with streams.</p><h2>Team Blue â€“ Streams Everywhere</h2><p>Team Blue believes that streams are a natural model for both life and computing. Your users produce a stream of clicks, sign-ups, and orders. Your code produces a stream of logs, metrics, and programmatic events. Team Blue believes that the intuitive nature of streams can lead to intuitive software architectures.</p><p>An essential component of any system is the databaseâ€”a convenient place to read and write whatever you want. How can a stream replace this concept that we are so used to? If streams are a never-ending series of immutable events, then the property of state is the culmination of events up to a certain point in time. For example, the latest state of a database is the culmination of all operations made to that database. In computing, this is referred to as <a href="https://docs.microsoft.com/en-us/azure/architecture/patterns/event-sourcing" target="_blank" rel="noreferrer noopener">Event Sourcing</a>. This paradigm is very different to how many developers are used to thinking about their data.</p><p>Beyond data storage, Team Blue is bullish on the idea of stream-focused architectures in general. Streams work well with microservices, promote loose coupling of systems, and have the potential to create leverage in your software. If youâ€™re thinking about streams, you will inevitably think about Kafkaâ€”one of the industryâ€™s leading streaming platforms.</p><p><strong>Can</strong> you use Kafka as a database? Team Blue says yes.</p><p><strong>Should</strong> you use Kafka as a database? Thatâ€™s up to you.</p><h2>Team Red â€“ You Need Databases</h2><p>On the other side of the table is Team Red who believes that programmers are making a mistake by replacing conventional databases with Kafka.</p><p>Team Red believes that 99% of applications need the features of a conventional databaseâ€”especially the features handling complex concurrency issues. Many of us use these features and they are critical for the success of our applications. Modern databases are battle-tested and have been iterated on for decades. Team Red believes that the message of â€œKafka As A Databaseâ€ is a dangerous message that leads developers into architectures theyâ€™re not equipped to handle.</p><h2>The People On Each Team</h2><p>There is no shortage of influential people who align with Team Blue. One notable engineer is <a href="https://twitter.com/jaykreps" target="_blank" rel="noreferrer noopener">Jay Kreps</a>, CEO of <a href="https://www.confluent.io/blog/okay-store-data-apache-kafka/" target="_blank" rel="noreferrer noopener">Confluent</a>. Confluent is an organization that sells Kafka as a solution to enterprises. There is a direct correlation between using streams and using Kafka; Iâ€™m sure Jay has a few extra reasons to be bullish on streams beyond his personal software architecture preferences.</p><p>Another influencer aligned with Team Blue is <a href="https://twitter.com/martinkl" target="_blank" rel="noreferrer noopener">Martin Kleppmann</a>, author of the extremely popular book <a href="https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321" target="_blank" rel="noreferrer noopener">Designing Data-Intensive Applications</a>. Martin Kleppmann is a researcher who loves the idea of streams. His goal is to educate as many programmers as possible. Martinâ€™s only qualm with Team Redâ€™s opinion is the tone of their blog post. In his <a href="https://twitter.com/martinkl/status/1336336852890963977" target="_blank" rel="noreferrer noopener">own words</a>:</p><blockquote><p>Nice blog post [Kafka Is Not A Database] explaining why the â€œdatabase inside outâ€ approach is not for everyone. <a href="https://twitter.com/narayanarjun">@narayanarjun</a> and <a href="https://twitter.com/frasergeorgew">@frasergeorgew</a> are right â€”&nbsp;if you need to maintain constraints before events are written (e.g. not selling more items than you have in stock), itâ€™s easier to use a DB and CDC.</p><p>On the other hand, the message is also a bit patronising. It basically says â€œyouâ€™re not clever enough to use an event log correctly â€” leave database stuff to the expertsâ€. I respectfully disagree: it is good to explore new approaches. Learn about the trade-offs, educate yourself.</p><cite>Martin Kleppmann</cite></blockquote><p>Engineers on Team Redâ€™s side include <a href="https://materialize.com/author/arjun/" target="_blank" rel="noreferrer noopener nofollow">Arjun Narayan</a>&nbsp;and&nbsp;<a href="https://materialize.com/author/george-fraser/" target="_blank" rel="noreferrer noopener nofollow">George Fraser</a>, co-authors of the <a href="https://materialize.com/kafka-is-not-a-database/" target="_blank" rel="noreferrer noopener">article</a> which refutes the idea of â€œKafka As A Database.â€ They have decided to put a large, yellow caution sign in front of Team Blueâ€™s message. Team Red has no issue with Kafka or streams; they have an issue with eager developers throwing out their <a href="https://en.wikipedia.org/wiki/Relational_database#RDBMS" target="_blank" rel="noreferrer noopener">RDMSs</a> and jumping on the stream bandwagon. Their only extra agenda might be to get extra eyeballs on their engineering blogs.</p><h2>Arguments From Team Blue</h2><p>The following points are summaries of topics discussed in Martin Kleppmannâ€™s <a href="https://www.youtube.com/watch?v=fU9hR3kiOK0&amp;t=2089s" target="_blank" rel="noreferrer noopener">video</a>.</p><h3>High Integrity Data â€“ Never Deleted</h3><p>With a database, your information is easily susceptible to being lost. Once your Postgres row is updated, itâ€™s difficult to recover the previous state of that row without introducing custom accountability software. Databases and the records inside them are designed to be mutable. Itâ€™s both a great convenience and a great risk. If a table accidentally gets deleted, you might find yourself scrambling to restore your database from a backup. This is particularly painful in production.</p><p>On the other hand, if your data exists as a log of immutable eventsâ€”and that log happens to be retained foreverâ€”the history of your changes never runs the risk of being erased. Accounting is a great example of thisâ€”accountants balance their books by only appending new entries to their ledgers. An error in a financial transaction is always fixed by another transaction.</p><p>Team Blue believes that this characteristic can be an asset to software architectures. As a permanent log of events, data will always have its historical context and can easily be audited. Furthermore, the lack of an â€œeraserâ€ forces programmers and processes to be held highly accountable for their actions.</p><div> <p><span>Trade-Off</span>: </p><p> One concern of storing all your data in a log is that the size of your logs may become unwieldy over time. Do we really care about how a customer changed their email 3 years ago or do we only care about what it is today? Large Kafka logs can also complicate consumersâ€”catching up from offset 0 may not be so easy. Kafka has implemented features like <a href="https://kafka.apache.org/documentation.html#compaction" target="_blank" rel="noopener"> Log Compaction </a> to mitigate this. However, this is yet another complexity for programmers to manage and debug. </p><p> Another trade-off of this architecture is that it can become cumbersome for privacy concerns. There are administrative use-cases (GDPR) when you are required to completely <strong>hard delete</strong> all of your customerâ€™s personal information from your system. This takes additional effort if the data to be deleted is scattered across logs and storage systems.</p></div><h3>Separation Of Concerns â€“ Reading / Writing</h3><p>Team Blue points out that one of the great conveniences of databases is also one of its greatest challenges. The convenience of databases is undeniableâ€”an easy one-stop shop to read and write anything. The drawback to being a one-stop shop is that you canâ€™t be the best at any <strong>one</strong> thing, which becomes problematic as you scale.</p><p>Conventional databases easy conflate reads and writes, two very different styles of operations. As you scale, the access patterns in your software will inevitably force you to optimize for a certain set of operations. If an operation-specific optimization is done in a centralized location, it will likely degrade the performance of other operations in that location. If you optimize reads, you complicate writesâ€”and vice versa.</p><p>One of the first steps in optimizing SQL reads is to begin denormalizing (duplicating) data across various tables. Once your data is duplicated, queries require less joins and respond faster. However, the drawback of denormalization is that it creates additional complications on the write pathway. Programmers need to remember to update and synchronize the duplicated data across multiple tables.</p><p>This pattern grows in complexity as you scale. If denormalization isnâ€™t getting you the required read performance, the usual next step is to introduce a cache in front of your database. A cache is extremely convenient and can be designed to precisely answer the questions your clients are asking. However, as many programmers are intimately aware of, maintaining a cache is never easy. You now to need synchronize writes across network boundaries, worry about distributed transactions, and debug subtle invalidation issues.</p><p>Going back to our make-believe example, my assistant only has <strong>one</strong> responsibilityâ€”log my daily activity. One day, I decide that I want to look back in time to see how my activities are categorized. Unfortunately, I canâ€™t ask my assistant this question because itâ€™s too specific; all he knows how to do is produce events. To get insights on my activity, â€¦</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://davidxiang.com/2021/01/10/kafka-as-a-database/">https://davidxiang.com/2021/01/10/kafka-as-a-database/</a></em></p>]]>
            </description>
            <link>https://davidxiang.com/2021/01/10/kafka-as-a-database/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729612</guid>
            <pubDate>Mon, 11 Jan 2021 14:55:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From design patterns to category theory]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25729559">thread link</a>) | @newswasboring
<br/>
January 11, 2021 | https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/ | <a href="https://web.archive.org/web/*/https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>
		<em>How do you design good abstractions? By using abstractions that already exist.</em>
	</p>
	<p>
		When I was a boy, I had a <a href="https://en.wikipedia.org/wiki/Cassette_deck">cassette tape player</a>. It came with playback controls like these:
	</p>
	<p>
		<img src="https://blog.ploeh.dk/content/binary/playback-controls.png" alt="Rewind, play/pause, and fast forward symbols.">
	</p>
	<p>
		Soon after cassette players had become widely adopted, <a href="https://en.wikipedia.org/wiki/Videocassette_recorder">VCR</a> manufacturers figured out that they could reuse those symbols to make their machines easier to use. Everyone could play a video tape, but 'no one' could 'program' them, because, while playback controls were already universally understood by consumers, each VCR came with its own proprietary interface for 'programming'.
	</p>
	<p>
		Then came <a href="https://en.wikipedia.org/wiki/CD_player">CD players</a>. Same controls.
	</p>
	<p>
		MP3 players. Same controls.
	</p>
	<p>
		Streaming audio and video players. Same controls.
	</p>
	<p>
		If you download an app that plays music, odds are that you'll find it easy to get started playing music. One reason is that all playback apps seem to have the same common set of controls. It's an abstraction that you already know.
	</p>
	<h3 id="b07a5341dd654a529ea45517c4e80aff">
		Understanding source code <a href="#b07a5341dd654a529ea45517c4e80aff" title="permalink">#</a>
	</h3>
	<p>
		As I explain in my <a href="https://cleancoders.com/episode/humane-code-real-episode-1/show">Humane Code</a> video, you can't program without abstractions. To summarise, in <a href="http://amzn.to/19W4JHk">the words of Robert C. Martin</a>
		</p><blockquote>
			"Abstraction is the elimination of the irrelevant and the amplification of the essential"
		</blockquote><p>
		With such abstractions, source code becomes easier to understand. Like everything else, there's no silver bullet, but good coding abstractions can save you much grief, and make it easier to understand big and complex code bases.
	</p>
	<p>
		Not only can a good abstraction shield you from having to understand all the details in a big system, but if you're familiar with the abstraction, you may be able to quickly get up to speed.
	</p>
	<p>
		While the above definition is great for identifying a good abstraction, it doesn't tell you how to create one.
	</p>
	<h3 id="d0a8ec8fa11e4455bbed098d9a61c24c">
		Design patterns <a href="#d0a8ec8fa11e4455bbed098d9a61c24c" title="permalink">#</a>
	</h3>
	<p>
		<a href="http://amzn.to/XBYukB">Design Patterns</a> explains that a design pattern is a general reusable solution to a commonly occurring problem. As I interpret the original intent of the Gang of Four, the book was an attempt to collect and abstract solutions that were repeatedly observed 'in the wild'. The design patterns in the book are <em>descriptive</em>, not prescriptive.
	</p>
	<p>
		Design patterns are useful in two ways:
		</p><ul>
			<li>They offer solutions</li>
			<li>They form a vocabulary</li>
		</ul><p>
		In my opinion, however, people often overlook the second advantage. Programmers are often eager to find <em>solutions</em>. "I have a problem; what's the solution? Oh, here's a design pattern that fits!"
	</p>
	<p>
		I have no problems with ready-made solutions, but I think that the other advantage may be even bigger. When you're looking at unfamiliar source code, you struggle to understand how it's structured, and what it does. If, hypothetically, you discover that pieces of that unfamiliar source code follows a design pattern that you know, then understanding the code becomes much easier.
	</p>
	<p>
		There are two criteria for this to happen:
		</p><ul>
			<li>The reader (you) must already know the pattern</li>
			<li>The original author (also you?) must have implemented the pattern without any surprising deviations</li>
		</ul><p>
		As a programmer (code author), you can help readers (users) of your code. Don't use every design pattern in the book, but when you use one, make it as obvious to the reader as you can: Use the terminology, class names, and so on from the book. Add comments where your naming deviates. Add links that the novice user can follow to learn more.
	</p>
	<h3 id="3f4cb22e7a8642cd9938c89b22c098bf">
		Ambiguous specification <a href="#3f4cb22e7a8642cd9938c89b22c098bf" title="permalink">#</a>
	</h3>
	<p>
		Programming to a well-known abstraction is a force multiplier, but it does require that those two conditions are satisfied: prior knowledge, and correct implementation.
	</p>
	<p>
		I don't know how to solve the <em>prior knowledge</em> requirement, other than to tell you to study. I do, however, think that it's possible to formalise some of the known design patterns.
	</p>
	<p>
		Most design patterns are described in some depth. They come with sections on motivation, when to use and not to use, diagrams, and example code. Furthermore, they also come with an overview of <em>variations</em>.
	</p>
	<p>
		Picture this: as a reader, you've just identified that the code you're looking at is an implementation of a design pattern. Then you realise that it isn't structured like you'd expect, or that its behaviour surprises you. Was the author incompetent, after all?
	</p>
	<p>
		While you're inclined to believe the worst about your fellow (wo)man, you look up the original pattern, and there it is: the author is using a variation of the pattern.
	</p>
	<p>
		Design patterns are ambiguous.
	</p>
	<h3 id="a90284d241c4463583401504395a4a8a">
		Universal abstractions <a href="#a90284d241c4463583401504395a4a8a" title="permalink">#</a>
	</h3>
	<p>
		<em>Design Patterns</em> was a great effort in 1994, and I've personally benefited from it. The catalogue was an attempt to discover good abstractions.
	</p>
	<p>
		What's a good abstraction? As already quoted, it's a model that amplifies the essentials, etcetera. I think a good abstraction should also be <em>intuitive</em>.
	</p>
	<p>
		What's the most intuitive abstractions ever?
	</p>
	<p>
		Mathematics.
	</p>
	<p>
		Stay with me, please. If you're a normal reader of my blog, you're most likely an 'industry programmer' or <a href="https://blog.ploeh.dk/2012/12/18/RangersandZookeepers">enterprise developer</a>. You're not interested in mathematics. Perhaps mathematics even turns you off, and at the very least, you never had use for mathematics in programming.
	</p>
	<p>
		You may not find <em>n</em>-dimensional <a href="https://en.wikipedia.org/wiki/Differential_topology">differential topology</a>, or <a href="https://en.wikipedia.org/wiki/Stochastic_calculus">stochastic calculus</a>, intuitive, but that's not the kind of mathematics I have in mind.
	</p>
	<p>
		Basic arithmetic is intuitive. You know: <em>1 + 3 = 4</em>, or <em>3 * 4 = 12</em>. In fact, it's <em>so intuitive</em> that you can't formally prove it -without <a href="https://en.wikipedia.org/wiki/Axiom">axioms</a>, that is. <a href="https://en.wikipedia.org/wiki/Peano_axioms">These axioms</a> are unprovable; you must take them at face value, but you'll readily do that because they're <em>so intuitive</em>.
	</p>
	<p>
		Mathematics is a big structure, but it's all based on intuitive axioms. Mathematics is intuitive.
	</p>
	<p>
		Writers before me have celebrated the power of mathematical abstraction in programming. For instance, in <a href="http://amzn.to/WBCwx7">Domain-Driven Design</a> Eric Evans discusses how <em>Closure of Operations</em> leads to object models reminiscent of arithmetic. If you can design <a href="https://martinfowler.com/bliki/ValueObject.html">Value Objects</a> in such a way that you can somehow 'add' them together, you have an intuitive and powerful abstraction.
	</p>
	<p>
		Notice that there's more than one way to combine numbers. You can add them together, but you can also multiply them. Could there be a common abstraction for that? What about objects that can somehow be combined, even if they aren't 'number-like'? The generalisation of such operations is a branch of mathematics called <a href="https://en.wikipedia.org/wiki/Category_theory">category theory</a>, and it has turned out to be productive when applied to functional programming. <a href="https://www.haskell.org/">Haskell</a> is the most prominent example.
	</p>
	<p>
		By an interesting coincidence, the 'things' in category theory are called <em>objects</em>, and while they aren't objects in the sense that we think of in object-oriented design, there <em>is</em> some equivalence. Category theory concerns itself with how objects map to other objects. A functional programmer would interpret such <em>morphisms</em> as functions, but in a sense, you can also think of them as well-defined behaviour that's associated with data.
	</p>
	<p>
		The objects of category theory are universal abstractions. Some of them, it turns out, coincide with known design patterns. The difference is, however, that category theory concepts are governed by specific laws. In order to be a functor, for example, an object must obey certain simple and intuitive laws. This makes the category theory concepts more specific, and less ambiguous, than design patterns.
	</p>
	<p>
		The coming article series is an exploration of this space:
		</p><ul>
			<li><a href="https://blog.ploeh.dk/2017/10/05/monoids-semigroups-and-friends">Monoids, semigroups, and friends</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2017/10/06/monoids">Monoids</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2018/07/16/angular-addition-monoid">Angular addition monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2017/10/10/strings-lists-and-sequences-as-a-monoid">Strings, lists, and sequences as a monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2017/10/16/money-monoid">Money monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2017/10/23/convex-hull-monoid">Convex hull monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2017/10/30/tuple-monoids">Tuple monoids</a></li>
							<li><a href="https://blog.ploeh.dk/2017/11/06/function-monoids">Function monoids</a></li>
							<li><a href="https://blog.ploeh.dk/2017/11/13/endomorphism-monoid">Endomorphism monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2018/04/03/maybe-monoids">Maybe monoids</a></li>
							<li><a href="https://blog.ploeh.dk/2019/04/15/lazy-monoids">Lazy monoids</a></li>
							<li><a href="https://blog.ploeh.dk/2017/11/20/monoids-accumulate">Monoids accumulate</a></li>
						</ul>
					</li>
					<li><a href="https://blog.ploeh.dk/2017/11/27/semigroups">Semigroups</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2017/12/04/bounding-box-semigroup">Bounding box semigroup</a></li>
							<li><a href="https://blog.ploeh.dk/2017/12/11/semigroups-accumulate">Semigroups accumulate</a></li>
						</ul>
					</li>
					<li><a href="https://blog.ploeh.dk/2017/12/18/quasigroups">Quasigroups</a></li>
					<li><a href="https://blog.ploeh.dk/2017/12/27/magmas">Magmas</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2017/12/28/rock-paper-scissors-magma">Rock Paper Scissors magma</a></li>
							<li><a href="https://blog.ploeh.dk/2018/01/02/colour-mixing-magma">Colour-mixing magma</a></li>
						</ul>
					</li>
				</ul>
			</li>
			<li><a href="https://blog.ploeh.dk/2018/03/19/functors-applicatives-and-friends">Functors, applicatives, and friends</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2018/03/22/functors">Functors</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2018/03/26/the-maybe-functor">The Maybe functor</a></li>
							<li><a href="https://blog.ploeh.dk/2019/01/14/an-either-functor">An Either functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/08/06/a-tree-functor">A Tree functor</a></li>
							<li><a href="https://blog.ploeh.dk/2019/08/19/a-rose-tree-functor">A rose tree functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/08/13/a-visitor-functor">A Visitor functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/08/20/reactive-functor">Reactive functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/09/03/the-identity-functor">The Identity functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/09/10/the-lazy-functor">The Lazy functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/09/24/asynchronous-functors">Asynchronous functors</a></li>
							<li><a href="https://blog.ploeh.dk/2020/06/22/the-io-functor">The IO functor</a></li>
							<li><a href="https://blog.ploeh.dk/2020/10/19/monomorphic-functors">Monomorphic functors</a></li>
							<li><a href="https://blog.ploeh.dk/2018/12/03/set-is-not-a-functor">Set is not a functor</a></li>
						</ul>
					</li>
					<li><a href="https://blog.ploeh.dk/2018/10/01/applicative-functors">Applicative functors</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2018/10/08/full-deck">Full deck</a></li>
							<li><a href="https://blog.ploeh.dk/2018/10/15/an-applicative-password-list">An applicative password list</a></li>
							<li><a href="https://blog.ploeh.dk/2018/10/22/applicative-combinations-of-functions">Applicative combinations of functions</a></li>
							<li><a href="https://blog.ploeh.dk/2018/10/29/the-maybe-applicative-functor">The Maybe applicative functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/11/05/applicative-validation">Applicative validation</a></li>
							<li><a href="https://blog.ploeh.dk/2018/11/26/the-test-data-generator-applicative-functor">The Test Data Generator applicative functor</a></li>
							<li><a href="https://blog.ploeh.dk/2018/12/10/danish-cpr-numbers-in-f">Danish CPR numbers in F#</a></li>
							<li><a href="https://blog.ploeh.dk/2018/12/17/the-lazy-applicative-functor">The Lazy applicative functor</a></li>
							<li><a href="https://blog.ploeh.dk/2019/04/22/applicative-monoids">Applicative monoids</a></li>
						</ul>
					</li>
					<li><a href="https://blog.ploeh.dk/2018/12/24/bifunctors">Bifunctors</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2018/12/31/tuple-bifunctor">Tuple bifunctor</a></li>
							<li><a href="https://blog.ploeh.dk/2019/01/07/either-bifunctor">Either bifunctor</a></li>
							<li><a href="https://blog.ploeh.dk/2019/08/12/rose-tree-bifunctor">Rose tree bifunctor</a></li>
						</ul>
					</li>
				</ul>
			</li>
			<li><a href="https://blog.ploeh.dk/2018/01/08/software-design-isomorphisms">Software design isomorphisms</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2018/01/15/unit-isomorphisms">Unit isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2018/01/22/function-isomorphisms">Function isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2018/01/29/argument-list-isomorphisms">Argument list isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2018/02/05/uncurry-isomorphisms">Uncurry isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2018/02/12/object-isomorphisms">Object isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2018/02/19/abstract-class-isomorphism">Abstract class isomorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2018/02/26/inheritance-composition-isomorphism">Inheritance-composition isomorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/07/15/tester-doer-isomorphisms">Tester-Doer isomorphisms</a></li>
					<li><a href="https://blog.ploeh.dk/2020/02/10/builder-isomorphisms">Builder isomorphisms</a></li>
				</ul>
			</li>			
			<li><a href="https://blog.ploeh.dk/2018/05/22/church-encoding">Church encoding</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2018/05/24/church-encoded-boolean-values">Church-encoded Boolean values</a></li>
					<li><a href="https://blog.ploeh.dk/2018/05/28/church-encoded-natural-numbers">Church-encoded natural numbers</a></li>
					<li><a href="https://blog.ploeh.dk/2018/06/04/church-encoded-maybe">Church-encoded Maybe</a></li>
					<li><a href="https://blog.ploeh.dk/2018/06/11/church-encoded-either">Church-encoded Either</a></li>
					<li><a href="https://blog.ploeh.dk/2018/06/18/church-encoded-payment-types">Church-encoded payment types</a></li>
					<li><a href="https://blog.ploeh.dk/2019/07/29/church-encoded-rose-tree">Church-encoded rose tree</a></li>
				</ul>
			</li>
			<li><a href="https://blog.ploeh.dk/2019/04/29/catamorphisms">Catamorphisms</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2019/05/06/boolean-catamorphism">Boolean catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/05/13/peano-catamorphism">Peano catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/05/20/maybe-catamorphism">Maybe catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/05/27/list-catamorphism">List catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/06/03/either-catamorphism">Either catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/06/10/tree-catamorphism">Tree catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/08/05/rose-tree-catamorphism">Rose tree catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/06/24/full-binary-tree-catamorphism">Full binary tree catamorphism</a></li>
					<li><a href="https://blog.ploeh.dk/2019/07/08/payment-types-catamorphism">Payment types catamorphism</a></li>
				</ul>
			</li>
			<li><a href="https://blog.ploeh.dk/2018/03/05/some-design-patterns-as-universal-abstractions">Some design patterns as universal abstractions</a>
				<ul>
					<li><a href="https://blog.ploeh.dk/2018/03/12/composite-as-a-monoid">Composite as a monoid</a>
						<ul>
							<li><a href="https://blog.ploeh.dk/2018/04/09/coalescing-composite-as-a-monoid">Coalescing Composite as a monoid</a></li>
							<li><a href="https://blog.ploeh.dk/2018/04/16/endomorphic-composite-as-a-monoid">Endomorphic Composite as a monoid</a></li>
						</ul>
					</li>
					<li><a href="https://blog.ploeh.dk/2018/04/23/null-object-as-identity">Null Object as identity</a></li>
					<li><a href="https://blog.ploeh.dk/2020/02/17/builder-as-a-monoid">Builder as a monoid</a></li>
					<li><a href="https://blog.ploeh.dk/2018/06/25/visitor-as-a-sum-type">Visitor as a sum type</a></li>
					<li><a href="https://blog.ploeh.dk/2019/07/22/chain-of-responsibility-as-catamorphisms">Chain of Responsibility as catamorphisms</a></li>
				</ul>
			</li>
		</ul><p>
		I believe that learning about these universal abstractions is the next step in software design. If you know design patterns, you have a vocabulary, but the details are still open to interpretation. If you know category theory, you have a better vocabulary. Just like design patterns, you have to learn these things, but once you've learned them, you've learned something that transcends a particular software library, a particular framework, a particular programming language. Learning about functors, monoids, and so on, is a good investment, because these concepts are rooted in mathematics, not any particular technology.
	</p>
	<h3 id="4c0cdfcad93b4112a7241abd9b9df556">
		Motivation <a href="#4c0cdfcad93b4112a7241abd9b9df556" title="permalink">#</a>
	</h3>
	<p>
		The purpose of this article series is two-fold. Depending on â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/">https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/</a></em></p>]]>
            </description>
            <link>https://blog.ploeh.dk/2017/10/04/from-design-patterns-to-category-theory/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729559</guid>
            <pubDate>Mon, 11 Jan 2021 14:52:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Re-Introducing Hash Indexes in PostgreSQL]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25729540">thread link</a>) | @haki
<br/>
January 11, 2021 | https://hakibenita.com/postgresql-hash-index | <a href="https://web.archive.org/web/*/https://hakibenita.com/postgresql-hash-index">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>If you work with databases you are probably familiar with B-Tree indexes. They are used to enforce unique and primary-key constraints, and are the default index type in most database engines. If you work with text, geography or other complex types in PostgreSQL, you may have dipped your toes into GIN or GIST indexes. If you manage a read intensive database (or just follow this blog), you may also be familiar with BRIN indexes.</p>
<p>There is another type of index you are probably not using, and may have never even heard of. It is wildly unpopular, and until a few PostgreSQL versions ago it was highly discouraged and borderline unusable, but under some circumstances it can out-perform even a B-Tree index.</p>
<p><strong>In this article we re-introduce the Hash index in PostgreSQL!</strong></p>
<p><em>This article was co-authored by Michael from <a href="https://www.pgmustard.com/" rel="noopener">pgMustard</a></em></p>
<figure><img alt="<small>Photo by <a href=&quot;https://unsplash.com/photos/lRoX0shwjUQ&quot;>Jan Antonin Kolar</a></small>" src="https://hakibenita.com/images/00-postgresql-hash-index.png"><figcaption><small>Photo by <a href="https://unsplash.com/photos/lRoX0shwjUQ">Jan Antonin Kolar</a></small></figcaption>
</figure>
<details open="">
    <summary>Table of Contents</summary>

</details>
<hr>
<h2 id="hash-index"><a href="#hash-index">Hash Index</a></h2>
<p>Just like the name suggests, Hash indexes in PostgreSQL use a form of the hash table data structure. Hash table is a common data structure in many programming languages. For example, a <a href="https://docs.python.org/3/library/stdtypes.html#typesmapping" rel="noopener">Dict</a> in Python, a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html" rel="noopener">HashMap</a> in Java or the new <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="noopener">Map</a> type in JavaScript.</p>
<p>To understand how you can benefit from Hash indexes, it's best to understand how they work.</p>
<h3 id="hash-function"><a href="#hash-function">Hash Function</a></h3>
<p>Hash indexes use a <em>hash function</em>. PostgreSQL's hash function maps any database value to a 32-bit integer, the <em>hash code</em> (about 4 billion possible hash codes). A good hash function can be computed quickly and "jumbles" the input uniformly across its entire range.</p>
<p>The hash codes are divided to a limited number of <em>buckets</em>. The buckets map the hash codes to the actual table rows.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 328.2462667685287" width="20em" height="328.2462667685287"><g transform="translate(11.666666666666572 132.59615384615387) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.19221067428588867 -1.79854154586792 C9.969303963734554 -1.6432035889992347, 22.75762772193322 -1.9653624024757972, 52.3237825173598 0.8443570137023926 M-0.6429002285003662 0.5630700588226318 C20.33801717024583 1.0528750944137573, 40.39535058461703 0.7731586027145385, 50.664933516429016 0.5442330837249756 M52.2408967751723 -0.13330411911010742 C52.423765991834486 17.79776027202606, 51.24861035218605 38.03790669441223, 51.85605485622699 48.62396493324866 M50.888993575022766 0.14732146263122559 C50.99830201937602 19.028628809635453, 51.12237886263774 36.86086389101468, 51.06591160480792 49.61907568344702 M53.07395036403949 49.65802255043616 C33.88981666931739 50.1807713996447, 16.31066344334529 48.861542273668135, 0.21956968307495117 48.30971017250647 M51.35833103840167 48.99755468735327 C34.6531761096074 50.69362970829009, 19.977562196438125 50.10776087284087, -0.49410414695739746 48.560260681005616 M0.8632464408874512 51.23048653969397 C0.8073489297353305 31.131840854424695, 0.988638602586893 17.248527200405412, 1.5477404594421387 -1.02028226852417 M-0.19582533836364746 48.776630309911866 C0.9785774012712332 29.629223884068995, -0.1458809117170481 9.229620192601125, -0.2645127773284912 -0.29627442359924316" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 135.13461538461547) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-1.79854154586792 -1.3989605903625488 C12.821326706959649 -0.026658346102787833, 26.547151991037218 1.0452563267487747, 50.53666470601007 1.9574084281921387 M0.5630700588226318 -0.04519057273864746 C10.698960531674896 -0.05159294165097761, 20.51234123890216 -0.24636375463925886, 50.236540776032655 0.6751844882965088 M49.55900357319757 1.2768664360046387 C49.711678131727055 12.57739543731395, 51.77379666200049 25.57665490737326, 48.854734164017884 45.565139000232364 M49.839629154938905 -0.6456773281097412 C50.38517004288158 16.383737664956296, 49.698471129307364 33.645818673647334, 49.84984491421625 44.55616182547345 M49.888791781205384 44.560378258044864 C38.96100327785197 45.263592394682036, 26.045421805748564 44.7544523800336, -1.1518282890319824 44.17358321409955 M49.2283239181225 43.1161593840672 C31.08563929337721 44.120763305150504, 10.91731990300692 43.64620733591222, -0.9012777805328369 44.49717897635236 M1.7689480781555176 44.96960372191205 C-1.3148316979408265 31.167395432178765, 1.718966519832611 17.657667611195475, -1.02028226852417 1.9546160697937012 M-0.6849081516265869 44.87553590994611 C-0.4762380246015693 32.13172847491042, -1.203464281925788 20.57371205549972, -0.29627442359924316 0.5372984409332275" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(200.05128205128187 138.98076923076928) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.3989605903625488 -1.2266573905944824 C18.969163957008966 -1.1019478045977076, 38.98914397313048 1.29122541317573, 51.649716120499875 -1.93776273727417 M-0.04519057273864746 0.6058633327484131 C10.200747555952816 0.046344334895793926, 20.57778920026928 0.2644305775715752, 50.367492180604245 -0.16956543922424316 M50.969174128312375 -0.3802676200866699 C49.98555421150652 16.49719568582681, 50.50912904060808 28.79311602299029, 51.18052361561706 39.59391098756055 M49.046630364197995 0.5096948146820068 C49.041095362626635 12.775863047746506, 49.397838221513354 26.063271515186006, 50.17154644085815 37.256708200161256 M50.17576287342956 38.78812485474805 C36.92768673163197 37.51771446778222, 22.92521605858438 36.82006737305566, 0.09666013717651367 39.80455857056836 M48.7315439994519 38.898859079067506 C32.27894599621115 38.08242599890781, 14.410576508595405 36.79123489783359, 0.4202558994293213 38.09559827584485 M0.8926806449890137 36.51049118775586 C0.9102855119338403 29.00842637098751, 1.3840556535354027 15.831068585469161, 1.9546160697937012 -0.7276949882507324 M0.7986128330230713 37.7631397797511 C-0.2515824862626883 22.937588447790866, -0.19024978362596956 9.430152350205635, 0.5372984409332275 -0.06695771217346191" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 284.2692307692306) rotate(0 122 15.5)"><path d="M-1.4425529179052352 -1.062887403612709 C84.43206217809087 1.87951077746899, 168.00396656412605 1.340752656552242, 244.53920865744266 -0.935478985112953 M0.749495891116619 0.4175032903210639 C86.42419033096954 0.8697627262504117, 172.8014032617404 0.38405045267558263, 244.69513824538603 0.2584414289715767 M244.8311266899109 -0.6835513114929199 C244.5253163933754 6.7104063749313365, 245.25006309747695 14.960321092605593, 243.64599180221558 30.670284748077393 M243.71537613868713 0.9215905666351318 C244.24680605649948 10.030092978477478, 244.5810879778862 19.941085624694825, 243.7729094028473 31.109784841537476 M244.8271357903101 31.21089405867977 C184.08521485743654 31.30906240437859, 127.31784122710208 32.865145402602465, 0.644631839486122 30.183112634601404 M243.81666848886442 31.356794774506856 C193.52231486539944 31.716934098833367, 140.99850942660245 31.791864275063222, 0.6700753280947684 31.63970806257143 M1.4352221488952637 30.608349323272705 C-1.6727817940711975 24.878663182258606, -0.622839777469635 14.911184072494507, -1.7743268013000488 -0.5290255546569824 M-0.11572432518005371 30.87109923362732 C-0.3354560923576355 21.956659626960754, 0.5159156727790832 14.141585254669188, 0.9930784702301025 0.8908364772796631" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 283.2692307692306) rotate(0 -0.24344904067797302 16.591623114454535)"><path d="M-1.0470545768737793 -0.7714802742004394 C-1.2968480745951336 4.829924551645915, -0.45333102544148773 26.97473758061727, -0.32431592941284193 32.445771312713624 M0.6041030409280213 1.4378886365052312 C0.1526466680907957 7.340648744121815, -0.7074486827508856 28.671301598663753, -0.917627255981788 33.95472650310956" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 285.0192307692306) rotate(0 -0.5031951796170233 16.605925130802234)"><path d="M-0.7714802742004394 0.6756840705871581 C-0.7534087816874185 6.388032499949136, -0.9419290860493977 27.857753976186117, -1.0542286872863769 33.227035999298096 M1.0243538525048645 -0.015185737693682366 C0.9813915897750609 5.446763365284228, -1.4525607251779484 26.357901601906242, -2.030744211738929 31.48615515015088" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 282.5192307692306) rotate(0 -0.07653179319780179 16.115036894148204)"><path d="M0.6756840705871581 -0.054228687286376864 C0.8046991666158039 5.416805044809978, -0.058912690480550145 26.74218448003133, -0.2729640007019043 32.05472211837768 M-0.4287205216940493 -1.1283026934508236 C-0.3024937890625249 4.575641496197011, -0.7159607219354559 27.706658120270202, -0.8393155646976083 33.35837648174726" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 283.0192307692306) rotate(0 -1.3406614601938145 16.47725108142481)"><path d="M-0.054228687286376864 0.7270359992980957 C-0.16652828852335605 6.096318022410075, -1.1744821866353352 27.487035592397056, -1.4452778816223144 32.891376209259036 M-1.5418374774511905 0.06312595359049733 C-1.7836156581497442 5.00189878703716, -2.4172042035715036 25.792556066627927, -2.627094233101234 30.97427397034131" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 284.5192307692306) rotate(0 -0.3120803726045409 15.638646589582777)"><path d="M0.7270359992980957 -0.4452778816223144 C0.5129846890767416 4.867259756724039, -0.42963107426961267 26.195080598195393, -0.6086237907409668 31.820997142791747 M-0.3504088304098696 -1.724652714813128 C-0.7473583673095952 3.7375849318659546, -1.2813062572137763 27.482324700470393, -1.3511967445071786 33.0019458939787" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 284.0192307692306) rotate(0 -0.07044146727900369 16.35216223712547)"><path d="M-0.4452778816223144 0.39137620925903316 C-0.7160735766092936 5.795716826121013, -1.721586068471273 27.835555489857995, -1.679002857208252 33.15307970046997 M1.521812501186505 -0.44875522621907304 C1.6483277775192011 4.5434819626963385, 1.018462376628692 25.714048910255855, 0.6764751791302115 31.37337179443799" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M0.39137620925903316 -0.6790028572082519 C14.635743380143058 12.08244312693308, 72.03568825996823 63.27669813283435, 86.19323902460225 76.12339802322568 M-0.8622900102194399 1.5789166974183173 C13.217584695704966 14.044586615673627, 71.36698602319106 62.25102666198922, 85.58806040372178 74.42618950207375" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M56.27913662900037 65.21696416960359 C68.88329802068695 67.41067472443576, 79.50662756242923 72.47313996643902, 85.45475628461168 75.70305593807839 M57.72345087040967 63.70971123800874 C66.07758382065266 67.62047886489466, 73.66647007325521 69.33679969492935, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M69.49058989751853 49.51417763601024 C77.27261426851784 57.413187146680364, 83.13207431893325 68.1378626070296, 85.45475628461168 75.70305593807839 M70.93490413892783 48.00692470441539 C75.58478121784738 56.44106370170914, 79.46142588450977 62.5696574286289, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M-0.6790028572082519 0.6530797004699707 C19.32693439323235 16.16292202302737, 99.4991544643307 77.84927922829603, 119.5903456210213 93.45043014460343 M1.1653819134179502 -0.049657402122393224 C21.12315406095948 15.61250287920719, 99.31628733631055 79.50014256751714, 119.0676663850209 94.88102916911345" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M91.73378960634192 86.63085537705872 C97.80955392309608 89.77859696588061, 106.63086184163672 90.35584681871104, 120.34453282102554 94.50076154902678 M90.22653667474707 86.02459436212037 C100.23271971970914 88.5361761061078, 107.72677287232753 91.19692099690045, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M104.55446461611936 70.60742582282448 C107.31201659003598 77.89507908920568, 112.76285225642022 82.68478457762023, 120.34453282102554 94.50076154902678 M103.04721168452451 70.00116480788613 C109.27673727120045 77.44134612612115, 112.85938786763218 84.9906076722, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M0.6530797004699707 0.8102213859558105 C-30.878989499882103 18.089499078271373, -157.36027838625134 86.16025669811958, -188.80103899285342 102.99666329668514 M-0.46319218612276014 0.18998366824351232 C-32.20533246471571 17.21824359545431, -158.5266107042053 84.2929367439981, -189.85591068319192 101.44529896803812" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-168.54181239031473 78.71309970256111 C-174.8457524523537 87.61927071278855, -183.43265250467223 95.33427297208146, -190.2361783032786 101.54700976439432 M-169.1480734052531 79.88764761325142 C-177.0745273140418 87.22786010779531, -185.010688807317 95.52496907397051, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-158.8184508978827 96.78452033496656 C-168.2542692191381 99.73278923031133, -180.07530208269986 101.43697162462958, -190.2361783032786 101.54700976439432 M-159.42471191282107 97.95906824565687 C-171.1423354859107 98.3174626375699, -182.8131676457216 99.6734736520745, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M0.8102213859558105 -0.20347852706909175 C-7.249311660667366 14.916934397467859, -40.53379699657413 76.08571072940472, -49.03620113694731 91.37555724769167 M-0.22355111575685438 -1.3559086991194635 C-8.286490964497855 13.35475919590842, -40.948312607870655 74.41263783510533, -49.41303618044283 89.57117267539994" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-45.26910895639891 61.72139377232179 C-44.84966387542568 67.02548904590631, -45.67417497618659 73.99902243783148, -49.31132538408663 91.2530235855867 M-44.0945610457086 60.32359070416078 C-46.88105608033692 69.91504812756526, -48.67003477292695 80.10376199307848, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-27.250843037716315 71.54290565540174 C-31.270791812610604 74.57794011983158, -36.48124485224933 79.1607561660591, -49.31132538408663 91.2530235855867 M-26.076295127026007 70.14510258724073 C-34.79046687918523 76.61711928693661, -42.54825348111142 83.55231707748823, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(35.78205128205116 146.8269230769231) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589726 146.67307692307702) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(218.89743589743574 147.44230769230774) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(106.84615384615387 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C39.68177935369313 7.783664248138667, 48.36355870738626 15.567328496277334, 60 26 M31 0 C38.24992911927402 6.499936451762915, 45.49985823854804 12.99987290352583, 60 26 M60 26 C50.50674240104854 34.36011014019067, 41.01348480209708 42.72022028038134, 31 51.53846153846152 M60 26 C49.55936349518597 35.1944066832845, 39.11872699037194 44.388813366568996, 31 51.53846153846152 M31 51.53846153846152 C21.15606831945479 43.42882055101485, 11.312136638909578 35.319179563568184, 0 26 M31 51.53846153846152 C24.131178402528167 45.87977972615222, 17.262356805056335 40.221097913842925, 0 26 M0 26 C7.858693736419082 19.40883751139045, 15.717387472838164 12.817675022780895, 31 0 M0 26 C7.245209634676576 19.923372564464806, 14.490419269353152 13.846745128929614, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(126.84615384615387 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M0 0 C-25.991002644063574 15.469538237070433, -51.98200528812715 30.939076474140865, -104.76662093522819 62.35585716799375 M0 0 C-29.585556689429794 17.608974410869195, -59.17111337885959 35.21794882173839, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-85.78976298951312 39.12056370076698 C-90.49763235324909 44.884886044575794, -95.20550171698504 50.64920838838461, -104.76662093522819 62.35585716799375 M-85.78976298951312 39.12056370076698 C-91.14873039276 45.68209146537034, -96.50769779600687 52.243619229973696, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-75.29414560989099 56.75467888147318 C-82.60581775575058 58.14424588626216, -89.91748990161017 59.53381289105114, -104.76662093522819 62.35585716799375 M-75.29414560989099 56.75467888147318 C-83.61702155770524 58.33642291639734, -91.93989750551951 59.918166951321496, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M0 0 C-0.5008379759127923 22.914868301846877, -1.0016759518255847 45.82973660369375, -1.3715854781159464 62.75422812831039 M0 0 C-0.38426774981563094 17.581424139461546, -0.7685354996312619 35.16284827892309, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M-11.013736285378604 34.345973556619356 C-7.49288004214336 44.71932100445397, -3.9720237989081166 55.09266845228858, -1.3715854781159464 62.75422812831039 M-11.013736285378604 34.345973556619356 C-8.312360648783699 42.30492050861567, -5.610985012188795 50.26386746061199, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M9.502572527769305 34.794387505319676 C5.531845677478852 45.00399544291492, 1.5611188271884 55.213603380510165, -1.3715854781159464 62.75422812831039 M9.502572527769305 34.794387505319676 C6.456033836064143 42.62770537928748, 3.4094951443589814 50.46102325325527, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M0 0 C23.15651321601319 16.39491245065737, 46.31302643202638 32.78982490131474, 91.04229000277944 64.45833878266023 M0 0 C20.505074218864813 14.51768206536577, 41.010148437729626 29.03536413073154, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M62.10538237018054 56.54282384916159 C69.46545518913504 58.556126965367426, 76.82552800808953 60.56943008157326, 91.04229000277944 64.45833878266023 M62.10538237018054 56.54282384916159 C68.622721055892 58.32560217324557, 75.14005974160347 60.10838049732954, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M73.96332763332161 39.794416864549895 C78.30734421959232 46.06766014344812, 82.65136080586304 52.34090342234635, 91.04229000277944 64.45833878266023 M73.96332763332161 39.794416864549895 C77.80995089989631 45.34936884833347, 81.656574166471 50.904320832117044, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index</figcaption>
</figure>

<p>A simple hash function for an integer type is modulo: divide a number by another number, and the remainder is the hash code. For example, to divide values across 3 buckets you can use the hash function <code>mod(3)</code>:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>n</span><span>,</span> <span>mod</span><span>(</span><span>n</span><span>,</span> <span>3</span><span>)</span> <span>AS</span> <span>bucket</span> <span>FROM</span> <span>generate_series</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>)</span> <span>AS</span> <span>n</span><span>;</span>
<span> n  â”‚ bucket</span>
<span>â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>  1 â”‚      1</span>
<span>  2 â”‚      2</span>
<span>  3 â”‚      0</span>
<span>  4 â”‚      1</span>
<span>  5 â”‚      2</span>
<span>  6 â”‚      0</span>
<span>  7 â”‚      1</span>
<span>  8 â”‚      2</span>
<span>  9 â”‚      0</span>
<span> 10 â”‚      1</span>
</pre></div>


<p>When a new value is added to the index, PostgreSQL applies the hash function to the value and puts the hash code and a pointer to the tuple in the appropriate bucket. In the example above using the hash function <code>mod(3)</code>, if you insert the value <code>5</code> the index entry will be added to bucket <code>2</code>, because <code>5 % 3 = 2</code>.</p>
<p>When you query a value using a Hash index, PostgreSQL does the opposite. It takes the value and applies the hash function to determine which bucket may hold matching tuples. Once the bucket is identified, PostgreSQL will fetch the tuples referenced in that bucket and match them against your query.</p>
<h3 id="hash-collision"><a href="#hash-collision">Hash Collision</a></h3>
<p>You may have noticed that multiple values can map to the same bucket; this is called a <em>collision</em>. For example, the hash function <code>mod(3)</code> returned the hash code <code>2</code> for the values <code>2</code>, <code>5</code> and <code>8</code>.</p>
<p>What PostgreSQL actually does, is to first use a hash function to produce an integer hash code:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span>
    <span>hashtext</span><span>(</span><span>'text'</span><span>),</span>
    <span>hashchar</span><span>(</span><span>'c'</span><span>),</span>
    <span>hash_array</span><span>(</span><span>array</span><span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>]),</span>
    <span>jsonb_hash</span><span>(</span><span>'{"me": "haki"}'</span><span>::</span><span>jsonb</span><span>),</span>
    <span>timestamp_hash</span><span>(</span><span>now</span><span>()</span><span>::</span><span>timestamp</span><span>);</span>

<span>â”€[ RECORD 1 ]â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>hashtext       â”‚ -451854347</span>
<span>hashchar       â”‚ 203891234</span>
<span>hash_array     â”‚ -325393530</span>
<span>jsonb_hash     â”‚ -1784498999</span>
<span>timestamp_hash â”‚ 1082344883</span>
</pre></div>


<p>It then uses <code>mod(n_buckets)</code> to determine which bucket the tuple should be put in. This can cause multiple values to end up in the same bucket. This is why even after the bucket is identified, the database still needs to sift through the hash codes in the bucket and recheck the condition to filter only the matching tuples.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 404.84182842513394" width="20em" height="404.84182842513394"><g transform="translate(15.512820512820554 205.0482045158265) rotate(0 25.615384615384613 24.730769230769226)"><path d="M-0.19955050200223923 -0.5022821500897408 C12.515398778651768 1.3839953097529136, 27.426766821512807 -1.110534175949601, 52.87060018514211 0.2799985334277153 M-0.22747409716248512 -0.4021441303193569 C14.981192744465973 -0.13306419310088335, 30.730505185459666 -0.04445461687560259, 51.473113606468985 0.20535940304398537 M52.097404918418476 1.3712785169482231 C52.5340261001627 20.319714284659575, 50.905008985523416 37.343093594851396, 52.55776568387563 48.9073263607346 M51.521042416588614 -0.22304731234908104 C50.4750079852142 14.56966808911126, 50.79115876970669 27.401877051362618, 51.53992934037859 48.92918941521873 M52.43172617887075 48.85438027003636 C30.712035871411743 50.321871338985275, 10.87089323240977 51.26784783472807, -0.3571072742342949 47.53630389788975 M51.303831050888846 50.22865745568504 C38.01795174353397 49.79344410992012, 25.740247332419337 48.88824112511024, -0.9162337817251682 49.94066080594291 M0.5526808574795723 47.91920985797276 C-1.5679373418683042 34.313584183700954, 0.46043995267210097 20.68671064565961, 0.6570998504757881 -1.1331176832318306 M0.9474298916757107 48.849839539768595 C0.9555796319217635 35.72578146867453, 0.6599521571369125 22.443218911496487, 0.9200445376336575 -0.5301238857209682" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 210.6635891312111) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-0.5022821500897408 -1.6616669818758965 C12.121727174119306 -0.8777840748142738, 20.07580699393382 1.6894115791011315, 49.972306225735394 -0.19079291075468063 M-0.4021441303193569 0.10068535432219505 C10.70609081238508 1.0825275334543907, 21.318052714318032 0.35538150398203955, 49.897667095351665 0.9037443362176418 M51.0635862092559 0.9852916076779366 C50.3439581250084 15.412852115384648, 48.05881737221604 33.44015169779839, 49.13809559150383 43.70460517417922 M49.4692603799586 -0.7168144024908543 C49.93026358338788 12.475344237026103, 48.84478182050183 26.061175819658295, 49.159958645987956 45.056108177567864 M49.085149500805585 43.94386107933059 C34.53647095119723 44.78678141304503, 19.36229649094434 44.01820741364012, -1.9252345636487007 43.07930119049087 M50.459426686454265 43.67788952674999 C35.54814443886279 44.250275157157006, 20.247278603624828 43.19699539965731, 0.479122344404459 43.79160982456341 M-1.542328603565693 42.332900357360984 C-1.411919892691076 32.707359693342646, -1.611535132788122 21.426187010281343, -1.1331176832318306 -0.7236872836947441 M-0.6116989217698574 44.75827032413616 C-1.0565939008072016 33.683347519401146, -1.2904292403534052 23.43837695465636, -0.5301238857209682 0.38991236314177513" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(190.82051282051282 126.04820451582646) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.6616669818758965 1.6731178686022758 C16.78472960539737 -0.6966138213471723, 37.06401956425267 0.4047963291807818, 49.501514781553055 -1.7645950391888618 M0.10068535432219505 0.18273848667740822 C18.94037387107429 0.47118276150753885, 36.18411130750412 0.40519410164883524, 50.59605202852538 0.6428535617887974 M50.67759929998567 1.011194221675396 C49.21290964458142 7.0095195132665875, 51.18363160464917 16.012719987963248, 49.31998978956392 37.76559357631663 M48.97549328981688 0.651977363973856 C49.401724597854724 7.381244399885715, 50.11154832546245 15.09714855127609, 50.67149279295256 38.167070149515666 M49.55924569471529 38.88739113796214 C36.204669857311735 39.6825121753548, 21.53699129774022 35.84698690107807, -0.9976218864321709 37.71699695575694 M49.29327414213469 38.1745765200601 C34.14174680778616 37.650572666187685, 17.40086018999037 38.783398398418825, -0.2853132523596287 37.56707227144102 M-1.7440227195620537 36.2023809431837 C0.179557781617802 27.28250250383637, 0.5523030571152385 19.349432841344512, -0.7236872836947441 -1.108871228992939 M0.6813472472131252 37.23604714784483 C0.026425205815870156 22.445618331575613, 0.5607499710212535 8.279766083909912, 0.38991236314177513 -0.5403187833726406" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 359.79820451582634) rotate(0 122 15.5)"><path d="M1.3830574546884684 -0.766591932933393 C70.08647644775337 3.0313232719419307, 141.76242428282572 1.5180658793169806, 242.54132433269913 1.0191277193675368 M0.151057992386882 0.8014145071813656 C67.87393778094331 -0.0027509487309640146, 135.4690212875341 0.5439852753517442, 244.53140512547856 -0.6743016239396497 M245.0111942216754 -0.6437255069613457 C242.93860163901002 11.97028176896274, 243.65833606932313 20.914252728968858, 243.84251665323973 29.121368534862995 M244.65197736397386 -0.4006636179983616 C243.4973509342596 10.509006985649467, 243.39850628685207 21.37887885272503, 244.24399322643876 30.797033425420523 M244.79713568815882 31.340132714068066 C157.7274380126833 30.57061041290852, 66.70518457784806 30.041138744557248, -0.1703528725695461 31.25947859544004 M244.20789831905228 31.11328697277518 C168.47691761982585 29.43776302487535, 94.43064238150487 29.959303890483323, -0.29428583400409963 30.42090998810497 M-1.7206959798932076 31.28435457497835 C-1.6812502864375711 21.500444521382448, -0.8940567496791482 9.96300205811858, -1.108871228992939 1.676905281841755 M-0.6870297752320766 31.385719772428274 C-0.7312384490296244 19.683011873438954, -0.34049721997231247 6.9158470347523675, -0.5403187833726406 0.2720078192651272" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 358.79820451582634) rotate(0 -0.8478831860562792 16.463739876449097)"><path d="M1.0038707211613656 -0.5564188197255134 C0.8052911077936491 5.190397640566031, -1.1868683700760205 27.99357472707828, -1.4928469702601432 33.48389857262373 M0.07176412043161684 1.7658573545794933 C-0.30159107876631125 7.280370204724991, -2.4360931333185487 26.56502824701679, -2.699637093273923 31.87787057447247" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 360.54820451582634) rotate(0 0.40188434262697115 16.24821416716088)"><path d="M-0.5564188197255134 -0.49284697026014324 C-0.3929356927673022 4.784507762889067, 0.07690806041161197 27.34565079559882, -0.016101427376270516 32.66799912005663 M1.3523225705791266 -1.797195574985817 C1.5311130503782384 4.221388141267623, 0.10116592317509154 28.626944251510622, -0.4476001403760166 34.29362390930764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 358.04820451582634) rotate(0 -0.12128858226351724 17.158845557896427)"><path d="M-0.49284697026014324 0.9838985726237295 C-0.7988255704442659 6.47422241816918, -0.5710158710678419 27.009554350872833, -0.8320008799433709 32.38552425354719 M1.449269641013816 0.45484137791208923 C0.9121309869208684 6.1882029905697955, -1.496918072331076 28.72439717330349, -1.6918468055408449 33.86284973788075" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 358.54820451582634) rotate(0 -0.5693612021720043 15.816707751555384)"><path d="M0.9838985726237295 0.1679991200566291 C0.8908890848358471 5.490347444514434, -0.9071123157938321 26.098070982595285, -1.1144757464528083 31.441242976486684 M0.04130659391172231 -0.7894052872527391 C-0.171054163776959 4.687793655746305, -2.0094651505382113 26.724385036680225, -2.1226209769677373 32.422820790363474" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 360.04820451582634) rotate(0 -0.945378951728344 16.009769264995157)"><path d="M0.1679991200566291 -0.11447574645280834 C-0.09298588881889985 5.2614941562215485, -1.8185956840713817 27.88440085699161, -2.058757023513317 33.239717988669874 M-1.202940071253106 -1.2201794586796315 C-1.061463498600448 3.7287923910996565, 0.2605227128385257 25.788538095134623, 0.0973500755149872 31.50549518394284" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 359.54820451582634) rotate(0 -0.9077400482707816 16.28119531495031)"><path d="M-0.11447574645280834 -1.058757023513317 C-0.32183917711178456 4.284414970378082, -0.03226580967505785 26.613767841955024, -0.26028201133012785 32.227031083405016 M-1.6337142426799984 0.999791593803093 C-2.0204647632470976 6.508746632688369, -0.6753242287070802 28.12082274720383, -0.8199755309056491 33.621147653413935" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M-1.058757023513317 0.7397179886698722 C14.811713314660995 15.78092279276526, 79.2502595633696 75.11693737314522, 95.3908211491025 90.13275307811952 M0.5862568098027259 0.0824659873824567 C16.26012115595786 15.295830033809825, 78.55011881144337 76.05270114217393, 94.29946700426294 91.4168275272396" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M68.18713547028958 78.62330896589998 C74.72460251364633 83.39520403521757, 84.48075692485948 89.00712432738975, 94.84216313006831 91.90151627863912 M66.13855326287805 79.51157500404958 C76.51653828872233 83.35006865960578, 85.10161388463223 86.49051535688916, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M82.51577591223497 63.93283363419998 C84.5400367147757 73.19111564122828, 89.79699907791733 83.41584411032204, 94.84216313006831 91.90151627863912 M80.46719370482344 64.82109967234958 C86.38509883209882 73.46053082730776, 90.37733019066611 81.30980284855619, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M0.7397179886698722 -0.2729689165949821 C20.475055826192385 15.53261243680043, 98.58760254028084 77.92635341778015, 118.29755127868226 93.77473109685916 M-0.3310687966179102 -1.4618815431464465 C19.21403924622353 14.651280760211105, 97.31617065213452 79.61768070648041, 117.09615501295386 95.37558812130342" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M88.31627940736169 84.68704535430743 C97.11265823398568 88.55319083636373, 107.07753679168015 91.60139405632607, 117.58084376435338 95.7863069273914 M89.20454544551129 86.17697287342025 C100.38474218322703 90.08654276478784, 110.6275611214584 92.80253264308425, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M101.29652990115403 68.79260923646282 C106.18242435272083 77.35547264051694, 112.37705475097935 85.02037940924626, 117.58084376435338 95.7863069273914 M102.18479593930363 70.28253675557565 C108.40001269094637 80.29100578855251, 113.57567369439494 89.21177716408982, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-0.4825729563832283 0.12082242518663411 C-8.449873775255824 13.980706899933212, -39.31822317844701 69.2375145533293, -47.0640869245657 82.88633793188448 M1.4649375121761112 -0.8613497469294816 C-6.705922378416131 12.718583748763123, -39.72743348108118 67.31699609956553, -47.89700714158614 81.3745421383642" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-42.10851234209221 52.26487628944504 C-42.458495798913916 63.07911111068027, -45.933333101357825 73.60661775133254, -46.08951846915085 82.6602492619418 M-41.81723724689763 52.40499642692792 C-43.72440971030766 57.73893332611301, -43.95943368970588 64.53700030066432, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-24.469394470231443 62.75208388195706 C-31.17458867399639 69.70275707268551, -41.02849240417217 76.43763675999281, -46.08951846915085 82.6602492619418 M-24.178119375036864 62.892204019439944 C-29.98361397149682 66.05638069461182, -34.071517142127675 70.56374672817189, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(39.62820512820508 216.20205066967264) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589723 222.2020506696726) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(208.89743589743574 222.20205066967264) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(191.76923076923043 208.93281990044176) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8833133674831936 6.360576506008498 C2.4877938214388613 4.244359478950132, 2.9130609833291805 1.6766131467793663, 4.488451119842476 -0.23663964459325726 M-0.28850608092265817 6.303106069614284 C1.0343724624951793 5.088796225112576, 1.888014702162439 4.282290327798344, 4.970310227158016 0.38432958385322624 M-0.5029007366765632 13.458718479096472 C2.353221118850686 11.092114433712052, 4.956941893578481 8.698890616321265, 11.4407319977404 0.8728738243773342 M-0.6591631433833731 11.31608433467108 C3.9865724479397984 6.668010527512484, 7.219039421112019 3.1231247390868266, 10.500751577270162 -0.12200269446822387 M0.37998445792587 18.390085420478755 C4.482960960318687 14.556425820871183, 9.369435253632687 8.388453495554378, 15.583549394741137 0.5507988861692121 M-0.9552512681624155 19.226351412851983 C5.8000587369344 11.326027374332568, 13.478120582025662 5.072244249357301, 15.40744865266927 -0.00812166492222044 M1.5975401254556392 24.819753056108116 C9.012704787803802 16.08196464042257, 15.121256719053424 7.865628445076538, 22.419335900151992 1.5604580318718675 M-0.6602380534448411 23.609279351024984 C6.579393143173927 17.14423667885636, 10.002655516387541 10.809855341916405, 21.127566026801134 0.5369015125721219 M-1.5877207433293208 32.27249422459697 C12.03821191842475 18.014435009911747, 22.677173939928053 8.467875584083604, 25.392589072373124 -0.3963112426909863 M-0.32496810233691775 30.60522756888365 C10.012474822088501 19.477456448849097, 18.497309168309286 9.813292301640764, 27.05334541076085 -0.02710092868537295 M-0.7782840413135013 35.771675517597544 C6.147948382364462 26.70279687017547, 16.004970283356485 21.689271690024167, 30.62719454751054 -1.9961644260898943 M-0.6504380499106368 37.02552652526771 C6.812786442359539 28.29680120828104, 14.54967392142883 20.172678234300996, 31.292192948466933 0.14164813992224978 M0.6811768386186117 43.20785102676206 C15.96499601411529 27.856445482615456, 26.895655491491077 10.981070706839972, 37.13061434570824 0.7202688139956912 M0.7209492187620157 43.06041292901688 C13.223832637152727 29.18218176830856, 24.049749136934004 15.108359493210564, 36.76087241787587 0.9076704179030379 M-1.0143760833890028 48.35289108441107 C14.046826659574279 32.04593134494648, 31.86824917990042 12.516923527451716, 43.292359103072215 1.060707988995219 M0.6122074816375189 49.16815847963922 C17.46468029476411 29.97640987576258, 33.66591877306046 10.506942918369262, 41.80897746290617 0.7455555338739401 M2.3363039447317 53.308176881082936 C12.928061036636041 41.196284006174814, 22.17704874972543 29.41155637127906, 46.885515839746475 -1.5311015687707616 M2.9034164985964175 52.39826448486058 C20.342490193804384 31.369287138664443, 37.544321517093195 11.495909910963782, 48.34545936151433 -0.597362312656994 M9.693803943124706 51.32995374909821 C22.606799840305026 34.573881319768866, 38.25442919195592 18.802927776744745, 50.90916116284651 -0.008355767650019885 M7.409777547595198 51.09181514418903 C19.95502137514061 36.840040139474226, 32.11059270482506 22.873365436026603, 51.80604022862834 1.241028587149966 M13.276523431933999 51.54165452077743 C25.35359757323413 35.931560307685956, 41.26148723906369 19.76772342148547, 52.96565291857327 8.085323206014614 M14.505085656590342 51.46880090713259 C20.651686604505123 42.42554858136944, 28.914315990614792 33.807456230059316, 52.655504668261656 6.91913241413949 M19.810674431303564 53.68389952844113 C31.03742462798113 36.72207744339456, 45.68264438700518 21.451833886038244, 50.912105916975804 12.498147382315967 M18.496729603538338 52.25311847319931 C25.991329925828488 44.49947737034908, 33.07377906448256 36.01008788241084, 52.164175498275824 13.148906315591905 M22.404517577339426 51.84565828351879 C36.84623495178536 38.61102487237085, 44.40461980577457 25.433867055348827, 53.02103426516964 18.378483352906265 M23.624928032357708 52.27873247100615 C31.578880433937453 42.79037914344116, 36.92843365929103 36.11728645936361, 52.69355608359887 18.679180750346937 M28.549889890185554 51.251926118330935 C34.74415579811608 42.233448110521365, 41.51978242028503 35.73023594477074, 53.854587483298744 26.00601395010606 M28.189257221004922 51.15235210006116 C36.65995396770647 43.45364069744954, 43.41559877015189 36.109598009732366, 51.695566452187265 25.901821167912637 M34.620677005947975 52.97604754430703 C41.10065624890303 43.215905935815854, 48.21417976160118 35.617223404005344, 52.106963707469134 32.2587711853448 M35.17212331339851 51.84075448898128 C38.74243348634677 47.66508979693839, 42.06338637453563 42.9296166428115, 51.67995649795952 30.19376094690595 M37.96925618540117 50.78097336899365 C43.79053359549952 48.10613638695969, 46.797709473805014 41.6554014576446, 50.687528950343584 39.30374826509866 M40.33565787098924 51.35673839032526 C43.504435060770554 46.73001007672866, 46.78342345833629 43.87109225379813, 52.33568042683855 36.623670153695976 M45.603730846932564 52.2467145902127 C46.64466075348626 51.331873224640454, 48.09339524929117 48.625204865430554, 50.97473978067723 44.23787758821341 M44.52735821138177 52.0632239176914 C47.565088069366716 49.156750178839886, 50.34645790109832 45.727992784487675, 52.27758183128176 43.426502319105886" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M1.7881132438778877 -1.9856047704815865 C12.554057232519755 -1.2585733573654525, 25.196595764618653 0.12386554072109546, 52.77154823278005 -1.056793935596943 M52.15927392874772 -0.14972387999296188 C52.24389845523983 13.764610193068018, 52.41853553447872 25.27282396583603, 50.4256168070894 47.94889501252999 M51.174012145743916 49.74028720477452 C37.42190567249288 48.33493883444139, 22.680426945823886 49.37452037168809, -0.3310612365603447 48.80458845713963 M-0.5470633581280708 50.166178261431355 C1.7950452980485099 35.15590045225734, 0.6715027508225578 16.88916054591536, -1.2611968591809273 0.7664104774594307" stroke="#f41d92" stroke-width="1.5" fill="none" stroke-dasharray="3 6"></path></g><g transform="translate(112.12805383672253 10) rotate(0 30 25.76923076923076)"><path d="M31 0 C39.60545709244907 7.7152373932302005, 48.210914184898144 15.430474786460401, 60 26 M31 0 C39.98605573661625 8.05646376386285, 48.97211147323251 16.1129275277257, 60 26 M60 26 C53.66638129837811 31.577616469332803, 47.33276259675622 37.155232938665606, 31 51.53846153846152 M60 26 C48.87317028753459 35.79869353988995, 37.74634057506918 45.59738707977991, 31 51.53846153846152 M31 51.53846153846152 C23.677215790376067 45.50579563872171, 16.354431580752134 39.473129738981896, 0 26 M31 51.53846153846152 C22.449277359619735 44.49419375531947, 13.89855471923947 37.449925972177425, 0 26 M0 26 C10.536266363039614 17.163131437450645, 21.072532726079228 8.326262874901293, 31 0 M0 26 C11.768365174159408 16.129758241027595, 23.536730348318816 6.2595164820551865, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(132.12805383672253 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M0 0 C-28.495658624052027 39.51638923026622, -56.99131724810405 79.03277846053244, -92.91223430429181 128.84615384615387 M0 0 C-35.64949572963878 49.436981531146635, -71.29899145927756 98.87396306229327, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-84.74597029705222 99.97900760403179 C-87.2505174444394 108.83239866631195, -89.75506459182657 117.68578972859211, -92.91223430429181 128.84615384615387 M-84.74597029705222 99.97900760403179 C-87.87928418228017 111.05504311637392, -91.01259806750814 122.13107862871605, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-68.101069209058 111.98181019995612 C-75.71051371238666 117.15400935175882, -83.31995821571532 122.32620850356152, -92.91223430429181 128.84615384615387 M-68.101069209058 111.98181019995612 C-77.62086529116603 118.45249031329095, -87.14066137327406 124.92317042662579, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M0 0 C-0.709041979940326 33.657957604501625, -1.418083959880652 67.31591520900325, -2.9100470165774937 138.13884351292575 M0 0 C-0.8738156617443605 41.479702654018425, -1.747631323488721 82.95940530803685, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M-12.574637247120437 109.73821507488421 C-10.219829866573217 116.65811626704499, -7.865022486025997 123.57801745920575, -2.9100470165774937 138.13884351292575 M-12.574637247120437 109.73821507488421 C-9.672598118652262 118.2662264063747, -6.770558990184086 126.79423773786519, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M7.942019409577396 110.17042106398662 C5.297879771485093 116.98501392658794, 2.65374013339279 123.79960678918927, -2.9100470165774937 138.13884351292575 M7.942019409577396 110.17042106398662 C4.683410338505787 118.56865154993545, 1.4248012674341792 126.9668820358843, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M0 0 C21.82529086598449 20.93923827106187, 43.65058173196898 41.87847654212374, 57.61034315759619 55.27150633005465 M0 0 C22.81293896902497 21.886790314446475, 45.62587793804994 43.77358062889295, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M30.164309002621188 43.158900947068474 C40.56205436774476 47.747679995049296, 50.95979973286833 52.33645904303012, 57.61034315759619 55.27150633005465 M30.164309002621188 43.158900947068474 C41.0325779245129 47.95533353560639, 51.90084684640462 52.75176612414431, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M44.3712938687299 28.350741594873572 C49.38681861101766 38.549492174657146, 54.40234335330541 48.748242754440724, 57.61034315759619 55.27150633005465 M44.3712938687299 28.350741594873572 C49.613783444058825 39.011010727851094, 54.85627301938775 49.67127986082862, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(215.84615384615375 165.89435836198027) rotate(0 0.3846153846154152 21.153846153846132)"><path d="M0 0 C0.23940691552485024 13.167380353865703, 0.4788138310497005 26.334760707731405, 0.7692307692308304 42.307692307692264 M0 0 C0.16685400129512135 9.176970071230935, 0.3337080025902427 18.35394014246187, 0.7692307692308304 42.307692307692264" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g transform="translate(207.5384615384616 137.70205066967247) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M0.537255983054638 -0.5164419695734978 C-25.195717696318376 13.007344287378437, -127.84770122949952 67.49526718727175, -153.32559525799363 81.16888101990727 M-0.6398233551811427 1.8268220510613173 C-26.657042332164917 15.535847339030076, -129.1134273795782 69.08827673839266, -154.46805519483408 82.60526979407688" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-135.17579685561074 59.76519201654494 C-142.47761293964737 70.16713330094196, -149.7303268088794 76.5761446111615, -152.94518513850292 81.06575895538946 M-133.49052421040548 59.56104871961772 C-139.31195774937274 65.53611584887621, -142.4797328959443 70.67432462693765, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-125.60610432944877 77.91845583715194 C-136.63787547258147 81.29519781571429, -147.61658646322502 80.63616503205189, -152.94518513850292 81.06575895538946 M-123.92083168424351 77.71431254022473 C-131.6475698672048 79.80475481530144, -136.8595776194713 81.0651489508949, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index overflow pages</figcaption>
</figure>

<p>As rows are added to the index, it's possible for a bucket's primary page to fill up. In this case, additional rows are written to overflow pages. The overflow pages contain index entries that did not fit in the bucket's primary page.</p>
<h3 id="index-split"><a href="#index-split">Index Split</a></h3>
<p>At some point, the database can decide it needs to split a bucket into two buckets. PostgreSQL uses special hash functions that ensure values in a bucket can be split into exactly two buckets. When a bucket is split, additional storage is allocated to the index.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 306.71794871794884 331.53266336844274" width="20em" height="331.53266336844274"><g transform="translate(10 135.66358913121098) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.46364592760801315 0.6525715664029121 C12.807024691368525 0.3073646277131943, 26.215825513234506 1.0152157992067246, 53.08060819541032 1.576662190258503 M0.6510475315153599 0.715393777936697 C13.7359403777581 0.18703549221731147, 25.480321901979355 -0.2229871241691021, 50.583604353265116 0.7041979990899563 M52.42945653830583 1.8350220993161201 C49.60865819716969 18.146282168277178, 52.728272083049205 33.55630474944527, 52.18697983656938 50.703691040667195 M52.11430408318455 -0.8891390599310398 C51.78191803017201 15.581770259457135, 51.13395152607502 30.298403303210545, 51.633173125581095 49.89994492525091 M49.477539605246136 51.31428483644356 C36.15056328045634 50.31966970325089, 17.24594260752201 51.014016846424106, 0.8470594808459282 49.869738375338216 M50.411278861359904 49.841916704120536 C34.54117078402867 50.51754322387277, 20.280990837800957 49.60462906695901, -0.3735545240342617 49.611108803691764 M-0.590591199696064 49.03373793283333 C1.1766373284820182 36.278281890916126, -1.4092388979431527 19.053717267455955, 0.1285867616534233 -0.9884282276034355 M0.6587931551039219 50.06592848295202 C0.5911258164764597 34.8007444097732, -0.04406145178068144 21.873813357834624, -0.9480625949800014 0.07047772035002708" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(93.3846153846153 138.20205066967264) rotate(0 24.84615384615384 22.03846153846149)"><path d="M0.6525715664029121 0.28208183497190475 C17.064400093314735 1.050741619966351, 34.46439542930859 1.7346407841661802, 51.26896988256618 -0.9394140318036079 M0.715393777936697 0.7730547823011875 C18.874492391370804 -0.7689698315182557, 37.211565705732646 -0.9706854200878968, 50.396505691397635 0.3416140712797642 M51.5273297916238 -1.6482439115643501 C51.48058943185954 14.927326198695932, 50.362474722005416 27.868123054561682, 50.93446027143642 44.02407020043864 M48.80316863237664 0.36843806877732277 C50.252770382575676 14.571748311215854, 50.26165111701934 30.1049573878829, 50.13071415602013 44.39533294078245 M51.54505406721279 45.99718612145915 C35.98819373232813 43.65742431334001, 21.961004112775505 44.48837242773515, 0.4081999137997627 44.294962105269576 M50.07268593488976 43.315070756639386 C33.02121871870297 44.57541326099286, 14.81056800031891 43.29614487701306, 0.14957034215331078 43.986909159387494 M-0.4278005287051201 45.717601952071334 C1.559342373870313 25.773410758404754, -1.2719833955541255 9.488879904093643, -0.9884282276034355 -0.4189746454358101 M0.6043900214135647 44.5876467311038 C-0.5550855552892275 31.445874592575862, 0.32028840425209326 18.115690741401437, 0.07047772035002708 0.030039016157388687" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(173.76923076923066 140.5097429773648) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0.28208183497190475 0.37225592881441116 C16.703058241938184 0.9179681649632178, 32.92407584763493 1.4145232549137794, 48.75289366050413 1.5452708080410957 M0.7730547823011875 0.12739646062254906 C13.883762321907755 -0.6381218331077927, 28.011258344180337 0.3487023217460281, 50.0339217635875 0.05283474549651146 M48.044063780743386 1.618144877254963 C51.39096722147504 13.340783490613097, 50.87580785296002 26.923659225553262, 49.63945481582334 38.661876144890584 M50.06074576108506 0.8740179501473904 C49.74784285871173 9.562042649462816, 50.42977518884326 17.796694393455976, 50.01071755616715 37.88561528090099 M51.61257073684385 38.9404997258232 C36.34580705779106 40.09518308368438, 23.814143171218742 38.79161305156463, 0.21803902834653854 38.88501423883895 M48.930455372024085 38.5497245109425 C31.525693588302712 37.82582908072722, 11.174097240372355 38.261665991928695, -0.09001391753554344 38.86126356485943 M1.6406788751482964 39.133059206490316 C-0.8332121737960441 27.930648485714414, 0.24057193913425384 20.19247879277054, -0.4189746454358101 -0.3251098319888115 M0.5107236541807652 37.06458788279156 C-0.37429824905040154 29.173473636318846, -1.1978972299540271 20.460578231398866, 0.030039016157388687 0.013348933309316635" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(27.564102564102598 287.33666605428766) rotate(0 122 15.5)"><path d="M0.30771970526431497 0.9638064137498049 C79.7493344336594 1.244663295860825, 159.01628446794743 -1.0610302970046417, 245.2773746253509 -0.19246128720987735 M0.1053103477474287 -0.36822388386848715 C88.85193115323015 -2.094211933352703, 178.7532341100877 -1.276852844780535, 244.04367503927656 0.31908091881090844 M245.61814487725496 1.4713699743151665 C244.78445859279483 12.114175932481885, 245.52658100452274 22.263077776879072, 244.73879922181368 29.57723616808653 M244.8740179501474 -0.2795284353196621 C244.60726557601242 12.441361937299371, 244.16277335513382 24.39632594883442, 243.9625383578241 30.689070526510477 M244.84103709506363 31.013318216183773 C193.60441003827287 33.63678347901353, 140.71623511686727 33.11681328306579, 0.7951708606274932 32.38557974972726 M244.51800870346577 31.748694595473307 C190.55892710553564 29.154559148142248, 137.71477007704675 29.388943680687195, 0.7755377269925667 30.344797258196035 M1.2099822834134102 30.054802648723125 C-1.5550344040617348 22.744003121182324, -0.9221191456541419 13.811858073621988, -0.3251098319888115 -1.3766999319195747 M-0.8584890402853489 30.875536385923624 C-0.17047598738223313 18.709678624197842, -0.11688318628817795 8.345521454513072, 0.013348933309316635 0.36635977402329445" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(59.0641025641026 286.33666605428766) rotate(0 -0.5001835371035099 16.81556717542469)"><path d="M0.2233535572886467 0.699563880264759 C0.09944044401248293 6.273006259898345, -0.3057096992929777 28.40377209534248, -0.3519357398152352 33.60990337878466 M-1.1185245544742792 0.02123097206465907 C-1.3780133410325894 5.271348349206771, -1.092326160374408 26.580579233619698, -0.959747466845438 32.07002790386789" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(96.0641025641026 288.08666605428766) rotate(0 0.15016923773380597 16.694345682798883)"><path d="M0.699563880264759 0.6480642601847648 C0.6896729265650112 6.185171552995841, 0.4871054286758103 27.982814276715118, 0.10990337878465639 33.4459973141551 M-0.39230381193570785 -0.057305948557332176 C-0.47790880513998363 5.137400421180452, 0.11671690977799393 26.548618560212976, -0.25544281098060306 31.820071155307815" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(132.5641025641026 285.58666605428766) rotate(0 0.04921238874437961 16.91243005971421)"><path d="M0.6480642601847648 1.1099033787846564 C0.6018382196625074 6.316034662226836, 0.06614761004845311 26.727951315542064, -0.05400268584489809 31.936351580917837 M-0.4708407325576991 0.6469987073075028 C-0.6118567331663022 5.946966662757719, -0.525243763628726 27.68495254442406, -0.505399559540674 33.17786141212098" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(166.5641025641026 286.08666605428766) rotate(0 -0.8488529619714313 16.91210222178603)"><path d="M1.1099033787846564 0.9459973141551019 C0.7327013288935025 6.409180351595084, -1.1887153511246045 28.037952530880766, -1.5636484190821647 33.427162484824656 M0.2334639233071356 0.39704195874743187 C-0.41229049158903475 5.479013839044297, -2.438909779417639 26.632704397815587, -2.8076093027275055 31.791348040578885" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.5641025641026 287.58666605428766) rotate(0 0.20593731994275544 16.630370956487013)"><path d="M0.9459973141551019 -0.5636484190821648 C0.8258470182617507 4.644751846293608, 0.12128586421410259 26.70661814560493, -0.07283751517534243 32.3603049710393 M-0.016492825252935273 1.7548322155606004 C-0.2702433153024564 7.668260368459547, -0.44115792602611065 28.872419460269935, -0.5341226742696015 33.82439033205621" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(234.5641025641026 287.08666605428766) rotate(0 -0.40989147561602124 16.824787940918497)"><path d="M-0.5636484190821648 0.9271624848246576 C-0.938581487039725 6.316372438768547, -1.2100485210617384 27.86450649549564, -1.1396950289607048 33.281257037818435 M1.3412974315602333 0.3683188440185039 C0.6990032141127934 5.337481771983827, -1.8614428635717681 26.368199193853265, -2.1610803827922793 31.568842233894394" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M0.9271624848246576 -0.13969502896070485 C17.154231952102748 12.64952123601864, 82.05380406216666 63.57069126763096, 98.30841411782366 76.1716491707939 M-0.045215939981862796 -1.2586388645041735 C16.00941746430461 11.249380732029106, 81.40030110334925 61.479366192554075, 97.77052859905113 74.4997725021153" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M68.99805450635274 66.55587208489976 C81.4300020129425 70.08206837209508, 91.06577137022342 71.1477494479479, 97.2052762875234 73.20544274710709 M69.61687941672524 65.85312067563734 C80.75162731437997 67.83947601090094, 91.21483979186033 72.824182749593, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M81.61827532565145 50.374091315837944 C89.1932583769564 60.127990223348874, 94.04807023852263 67.32386562540185, 97.2052762875234 73.20544274710709 M82.23710023602395 49.671339906575525 C88.75234770307748 57.65841509803721, 94.54078050986584 68.63717383137637, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M-0.13969502896070485 0.7812570378184318 C24.36294645750008 16.390325692086627, 122.13781737503815 79.19188899591173, 146.45220049968253 94.58157441043383 M-1.6721736485045404 0.14581303733401008 C22.796882132497128 15.349293474522568, 121.49929664278622 77.27762246313114, 145.95485311615545 92.94602417450487" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M117.94899271465034 87.9702723768126 C125.6582778164579 88.44943803078024, 130.63704108300433 89.25043495587504, 144.66052336114723 94.35442017268478 M117.24624130538793 87.45699587059727 C125.6197482126734 89.37624679709614, 136.97314279368652 90.95800764737733, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M128.92379587384124 70.6303272211077 C133.99010878740356 75.48423098691177, 136.19192531039405 80.67274206921931, 144.66052336114723 94.35442017268478 M128.22104446457882 70.11705071489237 C132.93635722112876 77.87300483920427, 140.6223961355141 85.24910616223775, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M0.7812570378184318 0.8584725335240362 C-24.128784318431002 17.892008238611208, -123.40366105667641 85.27634928016657, -148.53308565267193 102.06151920156233 M-0.26772174666635684 0.26356666828505704 C-25.33574035700848 17.527070064972552, -123.86512324663204 86.60497793161974, -148.99410660344938 103.67920422297581" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-130.21363307644265 80.75107433661547 C-137.96352274531202 87.66025912030273, -145.32897193241845 96.49006616708128, -147.58571060526947 104.36243236553534 M-130.72690958265798 78.38084281623092 C-136.0374500787696 87.51621485753745, -141.8930798493096 94.73021602982998, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-118.54095064394969 97.62912183080181 C-130.6748696521777 98.24682937259666, -142.44399633975533 100.70916446664445, -147.58571060526947 104.36243236553534 M-119.05422715016502 95.25889031041726 C-127.9933939366363 99.31163285046821, -137.4125007574824 101.37304504012151, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M0.8584725335240362 0.9276657387614249 C-14.569786445583313 16.03150903354474, -77.03262414080605 76.36521807960611, -92.7092489036048 91.40431680651832 M-0.14996811571530988 0.3690863062720746 C-15.710648440235394 15.562165183109052, -77.91119114652791 77.37728488007936, -93.57703459703981 92.66110900571088" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-79.15756357266065 65.8183639442179 C-85.13030025076485 72.90422605372251, -89.24587781567507 82.69168647881304, -92.89380645448028 92.7667784967039 M-81.5277950930452 66.37264346160028 C-84.16450078864119 75.10692660782176, -88.78100048566147 84.65321380097839, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-64.75139635359899 80.43282077443477 C-74.97342442895257 83.40753723964382, -83.24314633067466 88.98079119651447, -92.89380645448028 92.7667784967039 M-67.12162787398354 80.98710029181716 C-74.72385241084409 84.90510673292088, -84.21828012958429 89.50293904489264, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(34.11538461538453 149.89435836198027) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(112.23076923076911 149.74051220813408) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(193.38461538461524 150.5097429773648) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(247.0256410256411 140.7789737465955) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8109265841217587 6.142996145834319 C1.252880061914266 4.531640957937469, 2.322047558470259 4.001243663879113, 5.588092198553032 0.53787079265688 M-0.43425123613792155 6.23871867363631 C1.5273840243874537 4.186059419470398, 2.94653180463719 2.6556828064695917, 4.793190426709598 0.23444213828418786 M0.6163307615648614 11.082370090901433 C0.7532618923567131 8.453697135479507, 3.003135913108353 8.481731246191256, 9.628620035898816 0.41636376931217933 M0.2659536399971353 11.62833489519316 C4.08636624871612 8.796940217394742, 6.503761546467216 3.9203962759054374, 10.828408376824987 0.1993686164811017 M1.3034774707117815 20.32130560921567 C1.2711472334565994 14.042767392317817, 6.696228160365458 10.206048064238841, 17.369825362696727 1.8780480704200437 M0.5722530045965453 19.385101760645085 C6.39600763243108 10.612871941881739, 11.498111626821661 5.279453034294253, 15.925257157071908 1.1261943547916582 M2.115051597561619 25.616023083864807 C6.886270844357069 14.744759359349793, 18.515364468390047 6.781765501989629, 21.320244951451087 -0.658726709505963 M0.5860383922419761 24.619589099376558 C7.243418370946743 15.856408897320264, 15.148404440342752 8.26774432000693, 22.01460599368241 0.843142838606191 M1.215932601182665 31.423087162662497 C6.5132129651595365 23.94699760483287, 14.921461256086971 16.878506942970912, 24.828281963851662 -0.06474668215841639 M0.6803713487972871 31.345873268086663 C6.099204513702615 25.291245088137746, 9.847510902718515 18.129290729275382, 27.021050250765295 1.0532309258368553 M-0.014431817559572124 35.68236834351097 C9.818730206662899 24.859506958270828, 18.43399194648397 15.86194645474048, 32.23413062975446 -1.5845384298578615 M0.292194692315487 36.85062652249013 C8.883630683147477 25.70785196509413, 19.027132395135578 14.458557640806934, 32.19774802536408 0.19076504197560595 M1.888770629171944 38.82742088364414 C13.114525548368238 31.080007877206896, 20.46234223289191 17.94787613065388, 38.120936563053476 0.5640222859662494 M2.580534577821112 40.96498612763337 C10.399335261478175 31.403118066908753, 17.26250628196795 21.345303658223706, 37.55252754856025 0.8924836834054908 M7.289362642242711 41.563740280964225 C15.926929844920835 28.94632154505149, 25.863525820478376 18.35806082337675, 43.31326899360471 -1.597966117006635 M7.11514632336716 39.9678118392311 C19.27942272803937 24.671395785258703, 31.916685623386172 12.14780868094751, 41.72135941739731 -0.6651192243815416 M13.575941219584692 41.13760159493286 C26.6298974953873 24.586136482216187, 37.11234166300646 11.255755131447657, 48.37864853530216 1.4772455997940348 M11.877278294073093 40.979524224557466 C25.813894652976032 25.357660640361892, 40.05521221090385 9.011837461986815, 47.34488436295676 0.6468823149975584 M19.7527630910539 41.26541574322951 C25.3744519847253 29.450445922632852, 35.47233316001168 23.106468797453378, 52.31390136002082 1.585800014493259 M17.725557336982426 40.01646095910442 C28.043584255130156 27.332081830295245, 40.48230011620848 14.900592876939168, 51.62976742430109 1.7565888874802909 M25.317036370544315 38.440244464424715 C32.138450379449324 28.639625449537036, 41.90458891205789 18.60257351016614, 50.04668696569265 8.059909686552672 M23.148280433176637 40.42239178925501 C33.95241041808278 29.580403599865804, 42.44954172453388 18.391724022721842, 51.725225716549765 6.80395231034079 M30.257392787911957 41.14412367619792 C38.518635466379315 31.05315751673234, 43.93623175632945 23.093148788362637, 51.65061972712619 14.678375132537859 M28.136886929699248 40.205841890501176 C37.00345620071903 31.069617590600483, 45.44960096623876 20.351804432366734, 51.81314998169882 14.176293607957142 M32.55541545705081 41.13574011711969 C36.19607964027359 36.36445970502528, 40.941068764086964 30.606286594304777, 52.63014734518697 19.25606685035106 M33.562486307631744 39.45276850922598 C37.23056065536866 35.68682524075329, 42.22612045260735 32.06695150961929, 51.26798303780129 20.222785036044087 M40.12965003468653 40.572293628818464 C42.630256120595284 35.83613708169783, 47.407493986168895 29.367832282559032, 50.71971143022628 26.584154070741498 M39.10834741026719 39.67331028326519 C43.2766285502787 36.34465283481751, 46.14621919772218 32.38313144542754, 51.269763469179 26.346126356921157 M44.61712292272642 39.91542664175373 C45.88873797469415 37.26137735047093, 48.671376310203286 35.82483841452909, 52.381108068972615 32.26134330091014 M44.47516977943525 39.595246833427666 C46.496346122583525 38.191231731041796, 47.80595211993141 36.07696887283977, 51.886637493707035 31.472204655790176" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M-1.672042615711689 0.8308969810605049 C16.326145670104502 -2.349320541889622, 34.10093765465116 -0.6152166238140605, 50.527528975445534 0.9665583446621895 M-0.03265887126326561 -0.4763747490942478 C17.65546513234195 -0.7798206117004156, 32.80959636861318 0.5081510040909052, 48.69781260221055 0.7275059185922146 M47.73080847068479 0.47107303887605667 C48.54675598642865 11.071272986697458, 50.266704039788635 19.93014755610089, 48.78152177138975 37.37588829088668 M49.909206912208106 -0.05775618925690651 C50.10324640379793 8.091488444375301, 49.59145314799196 18.150641372685243, 49.9030019494777 38.345564774309196 M49.604247067410256 39.148652496819295 C34.98506492897871 37.78430204707268, 19.577545083027633 38.23390584307793, 1.6416001245379448 39.60268849421004 M50.03856007783463 37.8719786918507 C32.90467660174923 38.832399427266054, 17.023177311454837 37.68657129940503, -0.48886721953749657 37.81352262858013 M0.8513493463397026 37.40737408686141 C-1.1794472935423257 26.30673083270397, 0.8638192412629722 18.568766106378565, -1.5498569086194038 -1.1428359672427177 M0.358940664678812 38.34790163401226 C0.7263785985542031 29.25189445141988, 0.9668665317130776 21.947387360380233, 0.6955167688429356 -0.7100511826574802" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(267.37179487179486 150.0097429773648) rotate(0 4.5 10.5)"><text x="4.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(130.46138717005596 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C41.07880149371922 9.036166856437921, 51.15760298743844 18.072333712875842, 60 26 M31 0 C39.524535740539434 7.642687215656043, 48.04907148107887 15.285374431312086, 60 26 M60 26 C50.12890856973827 34.6928444425647, 40.257817139476536 43.3856888851294, 31 51.53846153846152 M60 26 C53.873228477314115 31.395459271967407, 47.74645695462823 36.790918543934815, 31 51.53846153846152 M31 51.53846153846152 C24.017179042473437 45.785864620598446, 17.03435808494687 40.03326770273537, 0 26 M31 51.53846153846152 C22.16923016272485 44.26348489832418, 13.338460325449702 36.98850825818684, 0 26 M0 26 C10.104321676120163 17.52540762647986, 20.208643352240326 9.050815252959726, 31 0 M0 26 C6.349167991057039 20.67489136233926, 12.698335982114077 15.349782724678516, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(150.46138717005596 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M0 0 C-32.79719711426486 15.507383762609525, -65.59439422852972 31.01476752521905, -131.1854822767287 62.02797180077994 M0 0 C-34.642218837772205 16.379758917629562, -69.28443767554441 32.759517835259125, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-110.08588368739868 40.701768684211274 C-115.36091627451353 46.033453830876525, -120.63594886162838 51.365138977541775, -131.1854822767287 62.02797180077994 M-110.08588368739868 40.701768684211274 C-115.65766570958043 46.33339028228201, -121.22944773176218 51.96501188035275, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-101.31403290034261 59.2537129530868 C-108.78208345199965 59.94729514445955, -116.25013400365668 60.64087733583231, -131.1854822767287 62.02797180077994 M-101.31403290034261 59.2537129530868 C-109.20220214238815 59.98631293630506, -117.09037138443368 60.718912919523326, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M0 0 C-9.837823551881751 15.237977855029664, -19.675647103763502 30.475955710059328, -38.71094316657653 59.96006043499074 M0 0 C-13.47866193275869 20.877336431544588, -26.95732386551738 41.754672863089176, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-32.0406062237209 30.711015919506558 C-33.7357754060639 38.1442354555501, -35.43094458840691 45.57745499159365, -38.71094316657653 59.96006043499074 M-32.0406062237209 30.711015919506558 C-34.363133376920544 40.89516413785352, -36.68566053012018 51.07931235620049, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-14.800245208047485 41.84160235666644 C-20.876801558176602 46.44614513000349, -26.95335790830572 51.05068790334053, -38.71094316657653 59.96006043499074 M-14.800245208047485 41.84160235666644 C-23.125648517713685 48.1502208299939, -31.45105182737988 54.45883930332135, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M0 0 C25.16407317378604 13.948955209922183, 50.32814634757208 27.897910419844365, 115.8666748613413 64.22724361043095 M0 0 C26.33727004966099 14.59928198973174, 52.67454009932198 29.19856397946348, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M86.23606482944287 59.533955942115654 C92.671278750261 60.55325018226234, 99.10649267107911 61.572544422409024, 115.8666748613413 64.22724361043095 M86.23606482944287 59.533955942115654 C92.97130064319347 60.60077161529422, 99.70653645694408 61.66758728847278, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M96.18509786206775 41.58578767620121 C100.45956801820122 46.50308813875298, 104.7340381743347 51.42038860130475, 115.8666748613413 64.22724361043095 M96.18509786206775 41.58578767620121 C100.65885193374875 46.7323420238678, 105.13260600542975 51.8788963715344, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M0 0 C13.031323839052332 19.9917617587414, 26.062647678104664 39.9835235174828, 43.59674914111568 66.88313735806764 M0 0 C15.400439257044772 23.626295870581124, 30.800878514089543 47.25259174116225, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M19.60693131555252 48.86956911920136 C26.77762846806006 54.253930243415375, 33.9483256205676 59.63829136762939, 43.59674914111568 66.88313735806764 M19.60693131555252 48.86956911920136 C28.08127262513716 55.232815666950536, 36.555613934721805 61.59606221469971, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M36.79838097459263 37.663585851030334 C38.83045306483746 46.397481052426734, 40.86252515508229 55.131376253823134, 43.59674914111568 66.88313735806764 M36.79838097459263 37.663585851030334 C39.199887005619736 47.98531710318542, 41.60139303664684 58.307048355340505, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index split</figcaption>
</figure>

<p>Luckily, PostgreSQL does all the heavy lifting for you, so you don't have to decide what hash function to use, or how many buckets there are.</p>
<p>If you want to learn more about the internals of Hash indexes in PostgreSQL, check out the <a href="https://github.com/postgres/postgres/blob/master/src/backend/access/hash/README" rel="noopener">readme on "Hash Indexing"</a>.</p>
<hr>
<h2 id="hash-index-in-postgresql"><a href="#hash-index-in-postgresql">Hash Index in PostgreSQL</a></h2>
<p>Hash indexes were discouraged prior to PostgreSQL 10. If you read the <a href="https://www.postgresql.org/docs/9.6/indexes-types.html" rel="noopener">index type documentation for PostgreSQL 9.6</a> you'll find a nasty warning about Hash indexes. According to the warning, Hash indexes are not written to the WAL so they cannot be maintained in replicas, and they are not automatically available after a crash, so you need to manually rebuild them.</p>
<p>Starting at PostgreSQL 10 these limitations were resolved, and <a href="https://www.postgresql.org/docs/10/release-10.html#id-1.11.6.20.5.3.3" rel="noopener">Hash indexes are no longer discouraged</a>.</p>
<h3 id="creating-hash-indexes"><a href="#creating-hash-indexes">Creating Hash Indexes</a></h3>
<p>Now that you know how Hash indexes work in PostgreSQL, you are ready to see them in action. To illustrate, we'll create an imaginary URL shortening service.</p>
<p>A URL shortener service, such as "bit.ly" or the late "goo.gl", provides a short random URL that points to a longer URL. For example, you can have the short url <code>https://short.url/hb9837</code> point to the longer URL <code>https://hakibenita.com/automating-the-boring-stuff-in-django-using-the-check-framework</code>. We'll call the <code>hb9837</code> part of the short URL the <code>key</code>.</p>
<p>To implement your URL shortening service, create a table to store the mapping between the keys and the full URLs:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>shorturl</span> <span>(</span>
    <span>id</span> <span>serial</span> <span>primary</span> <span>key</span><span>,</span>
    <span>key</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>url</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
</pre></div>


<p>The table includes an auto incrementing primary key <code>id</code>, a text field for <code>key</code>, and a <code>url</code> field containing the full URL.</p>
<p>Next, create a B-Tree and a Hash index on both fields:</p>
<div><pre><span></span><span>CREATE</span> <span>INDEX</span> <span>shorturl_key_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>key</span><span>);</span>
<span>CREATE</span> <span>UNIQUE</span> <span>INDEX</span> <span>shorturl_key_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>key</span><span>);</span>

<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>url</span><span>);</span>
<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>url</span><span>);</span>
</pre></div>


<p>You might have noticed that the B-Tree on <code>key</code> is a unique index, but the Hash index is not. This is because Hash indexes currently cannot be used to enforce unique constraints.</p>
<h3 id="hash-index-size"><a href="#hash-index-size">Hash Index Size</a></h3>
<p>The first thing you want to do is to compare the size of a Hash index to the size of a similar B-Tree index:</p>
<div><pre><span></span><span>CREATE</span> <span>EXTENSION</span> <span>"uuid-ossp"</span><span>;</span>

<span>DO</span> <span>$$</span>
<span>BEGIN</span>
    <span>FOR</span> <span>i</span> <span>IN</span> <span>0..1000000</span> <span>loop</span>
        <span>INSERT</span> <span>INTO</span> <span>shorturl</span> <span>(</span><span>key</span><span>,</span> <span>url</span><span>)</span> <span>VALUES</span> <span>(</span>
        <span>uuid_generate_v4</span><span>(),</span>
        <span>'https://www.supercool-url.com/'</span> <span>||</span> <span>round</span><span>(</span><span>random</span><span>()</span> <span>*</span> <span>10</span> <span>^</span> <span>6</span><span>)</span><span>::</span><span>text</span>
    <span>);</span>
    <span>if</span> <span>mod</span><span>(</span><span>i</span><span>,</span> <span>10000</span><span>)</span> <span>=</span> <span>0</span> <span>THEN</span>
        <span>RAISE</span> <span>NOTICE</span> <span>'rows:%  Hash key%  B-Tree key:%  Hash url:%  B-Tree url:%'</span><span>,</span>
            <span>to_char</span><span>(</span><span>i</span><span>,</span> <span>'9999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_btree_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_btree_index'</span><span>),</span> <span>'99999999999'</span><span>);</span>
    <span>END</span> <span>IF</span><span>;</span>
    <span>END</span> <span>LOOP</span><span>;</span>
<span>END</span><span>;</span>
<span>$$</span><span>;</span>
</pre></div>


<p>To get a better sense of how both indexes behave, keep track of the size of the indexes as rows are inserted to the table:</p>
<ul>
<li>Generate 1,000,000 short urls one by one</li>
<li>Every 10,000 rows log the size of all four indexes</li>
<li>Use <code>uuid_generate_v4</code> from the <a href="https://www.postgresql.org/docs/current/uuid-ossp.html" rel="noopener">uuid-ossp</a> package to generate UUIDs as keys</li>
<li>Generate a long URL from a 6-digit domain so it's not unique, but almost unique</li>
</ul>
<p>Running the script on PostgreSQL 13 and plotting the results gives the following chart:</p>
<figure><img alt="Hash vs. B-Tree index size" src="https://hakibenita.com/images/01-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size</figcaption>
</figure>
<p>The chart provides several interesting observations:</p>
<ol>
<li>
<p><strong>The Hash index is smaller than the B-Tree index</strong>: Almost all along the way, the Hash index on both fields is smaller than the size of the corresponding B-Tree index.</p>
</li>
<li>
<p><strong>Hash index grows in increments</strong>: Unlike the B-Tree index that seems to grow linearlly as rows are inserted to the table, the Hash index grows in sudden increments. These sudden increments are caused when a split is triggered to allocate space for more buckets. When that space runs out, another split is triggered and so on.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the size of the indexed value</strong>: A Hash index stores the hash codes of the index field values. A B-Tree on the other hand, stores the actual value of the indexed field in its leaves, so the size of the indexed value affects the size of a B-Tree index, but not the size of a Hash index.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the selectivity of the indexed value</strong>: The selectivity of the URL field is different than that of the key field, which is almost unique, but the Hash index on both fields is the same size. A size of a B-Tree index on the other hand, can vary based on the selectivity of the data (see note below about "B-Tree deduplication").</p>
</li>
</ol>
<div>
<p>B-Tree deduplication</p>
<p>PostgreSQL 13 introduced a new <a href="https://www.postgresql.org/docs/current/btree-implementation.html#BTREE-DEDUPLICATION" rel="noopener">B-Tree deduplication</a> mechanism that reduces the size of a B-Tree indexes with many duplicate values. In the chart above, the size of the B-Tree index on the <code>url</code> field is smaller than the size of the index on the <code>key</code> field because it has fewer unique values.</p>
<figure><img alt="Hash vs. B-Tree index size on PostgreSQL 12" src="https://hakibenita.com/images/02-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size on PostgreSQL 12</figcaption>
</figure>
<p>If you run the same script with deduplication disabled, or on PostgreSQL versions prior to 13, you'll see that the size of the index is the same (as long as values are the same size).</p>
</div>
<p>The script you ran before imitates a workload of an OLTP-like system, where single rows are constantly being added to the table. This is the size of the indexes after the script finished:</p>
<div><pre><span></span><span>db=#</span> <span>\di+</span> <span>shorturl*</span>
<span>          Name           â”‚ Type  â”‚ Table    â”‚Size</span>
<span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span>shorturl_key_btree_index â”‚ index â”‚ shorturl â”‚ 73 MB</span>
<span>shorturl_key_hash_index  â”‚ index â”‚ shorturl â”‚ 37 MB</span>
<span>shorturl_url_btree_index â”‚ index â”‚ shorturl â”‚ 53 MB</span>
<span>shorturl_url_hash_index  â”‚ index â”‚ shorturl â”‚ 36 MB</span>
</pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/postgresql-hash-index">https://hakibenita.com/postgresql-hash-index</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/postgresql-hash-index</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729540</guid>
            <pubDate>Mon, 11 Jan 2021 14:51:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An acclaimed pianist got his hands back]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25728910">thread link</a>) | @donohoe
<br/>
January 11, 2021 | https://restofworld.org/2021/how-the-maestro-got-his-hands-back/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/how-the-maestro-got-his-hands-back/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>J</span>oÃ£o Carlos Martins still performs even while stranded at home during a pandemic. Dressed in a dark shirt and slacks, the 80-year-old Brazilian pianist and conductor sits on the couch at his SÃ£o Paulo duplex apartment, gesturing while he talks, as if in command of an orchestra. The motioning also showcased an unusual pair of black neoprene half-gloves that Martins, one of the worldâ€™s <a href="https://www.nytimes.com/1996/05/19/arts/classical-music-a-life-stranger-than-art-even-his-eccentric-art.html?searchResultPosition=11">most acclaimed interpreters</a> of Bach, wears at practically every waking hour, and sometimes even to sleep.</p>



<p>Two decades ago, he started replacing the grand piano with the baton, as a series of injuries and chronic diseases slowly compromised the movement of his hands. After a decades-long pursuit for a cure that took him through 24 surgeries and every high-tech medical therapy money could buy, it ended up being those gloves â€” a simple workaround created by a Brazilian industrial designer with no medical training â€” that brought his hands back to life.</p>



<p>He quit the piano for good in early 2019, right before he underwent his 24th operation, which made him lose all dexterity in his left hand, ending any possibility of the maestro ever playing again. He observed the occasion with an emotional appearance on <a href="https://globoplay.globo.com/v/7389347/">Brazilian national television</a>.&nbsp;</p>



<p>Stepping away from the instrument felt like â€œcarrying a corpseâ€ in the chest, Martins said.<strong><em> </em></strong>But ten months later, he was back at his piano bench, tearfully playing the instrument while wearing the neoprene gloves, with full use of his hands for the first time in two decades.</p>



<div><p>That extraordinary comeback began in July 2019, at a tour stop in SumarÃ©, upstate SÃ£o Paulo, when the maestro opened his dressing room door before conducting his orchestra <a href="https://www.sesisp.org.br/cultura/bachiana-filarmonica-sesi-sp">Bachiana FilarmÃ´nica</a> to find a local resident carrying a box.</p><p>Industrial designer Ubiratan Bizarro watched Martinsâ€™ final piano performance months earlier on TV and took it upon himself to find a way to help. He binge-watched videos of Martinsâ€™ piano performances, taking screenshots and zooming in to analyze his hand movements.&nbsp;</p></div>



<p>He then developed a prototype: a pair of neoprene half-gloves with a stiff structure and plastic extensions on each finger tip. That first pair, however, turned out to be something â€œsuitable for boxing, at best,â€ as Martins chuckled in conversation with <em>Rest of World</em>. â€œBut I kept thinking that this guy had shown a real interest, so I invited him over for lunch and explained what had happened to my hands.â€&nbsp;</p>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2170-40x60.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2170-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2170-400x600.jpg 400w, https://restofworld.org/wp-content/uploads/2021/01/GB_2170-600x900.jpg 600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2170-1000x1500.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/01/GB_2170-1600x2400.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2170-2800x4200.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2114-40x60.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2114-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2114-400x600.jpg 400w, https://restofworld.org/wp-content/uploads/2021/01/GB_2114-600x900.jpg 600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2114-1000x1500.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/01/GB_2114-1600x2400.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2114-2800x4200.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>The gloves took five months and six prototypes to develop.</figcaption>
    </figure>


<p>As a teenager, Martins developed <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2662617/">focal dystonia</a>, a neurological condition that causes involuntary body movements. As a result, his fingers tend to twitch: not ideal when tickling the ivories. Over the years, he gradually lost control of his hands. His long hours of practice also cost him a severe <a href="https://www.healthline.com/health/repetitive-strain-injury">repetitive strain injury</a> (RSI), which led to recurrent pain. â€œEvery time my fingers would hit a key, it felt like getting stabbed.â€<strong><em>&nbsp;</em></strong></p>



<p>Other injuries also damaged his nervous system. In 1966, Martins fell to the ground during a soccer game in Central Park, New York, and the injury to a nerve in his arm caused him to lose part of the movements in his right hand.</p>



<p>In the mid-1990s, <a href="https://www.wsj.com/articles/SB10001424052748703376504575492052972871316">muggers in the Bulgarian capital of Sofia</a> gave him a concussion that kept him in the hospital for eight months, while the right side of his body remained partially paralyzed. It would be a full year until he could play again.&nbsp;</p>



<div><p>Martins fought through these health issues. Since the symptoms of his dystonia were less intense right after he woke up, he used to take naps on dressing room floors before every concert. Benefiting from a â€œgreat predisposition to sleep wherever I want,â€ Martins described how he could fall asleep by 3 p.m. and wake 15 minutes before a show. At one point during each concert, the pain from the RSI got so bad that only what he called an â€œadrenaline rushâ€ kept him going long enough to finish the performance. Thus, when Bizarro knocked on his door last year, Martins figured he had nothing to lose.</p><p>The pianist described the parts of his hands that still worked, demonstrating how he could still press down his fingers but could not move them back up. He also showed Bizarro how he lost part of his hand muscles and nerves, cut off during multiple surgeries.</p><p>The designer left the maestroâ€™s apartment and dove back into YouTube, where he studied videos about car mechanics and aerodynamics. â€œI recalled a team at Formula One and the springs in their car suspension, and I thought I could use something similar,â€ Bizarro told <em>Rest of World</em>.&nbsp;</p></div>



<p>Using his 3D printer, Bizarro remade the neoprene glove from scratch. It took five months and six prototypes. The final version had flexible steel rods that connected the fingers to the handâ€™s back; whenever the maestro pressed a key, each rod would bring the finger back to its original place, with a simple spring movement. Instead of attempting to fix the complex neurological condition, the gloves tackled the most elementary mechanics of the maestroâ€™s hands.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2127-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2127-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/01/GB_2127-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/01/GB_2127-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2127-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/01/GB_2127-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/01/GB_2127-2800x1867.jpg 2800w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>When Martins showed his medical team the sixth prototype, it received immediate approval. They were already familiar with the long list of therapies the pianist had undergone â€” from Botox to a neural stimulating device implanted in Martinsâ€™ brain cortex in 2012. â€œWe already knew that gloves could not worsen his condition, whose source is in the cortex,â€ said Rames Mattar, the orthopedic surgeon who led his last surgery, to <em>Rest of World</em>.&nbsp;</p>



<p>Mattar stressed that the device wasnâ€™t a cure and that his patient was well aware of that. â€œBut who would have thought,â€ the maestro asked, â€œthat a designer without medical training could create such a thing?â€</p>



<p>With the doctorsâ€™ stamp of approval and the gloves on his hands, Martins made his first attempt to play the grand piano again in his living room during Christmas 2019. For the first time in 22 years, he hit the keys with all ten fingers, playing a rendition of a Chopinâ€™s nocturne. He shared the first of many videos <a href="https://www.instagram.com/p/B6c3-4FHUgs/">on Instagram</a>, and Brazilians flooded his profile with emotional comments. His short homemade piano recitals reached new audiences when they were shared by U.S. celebrities <a href="https://twitter.com/RexChapman">Rex Chapman</a> and <a href="https://twitter.com/violadavis/status/1310787380920619010">Viola Davis</a>.</p>



<p>Bizarro now is selling versions of Martinsâ€™ â€œextensor glovesâ€ online for $250. They come in three different sizes and can be shipped to clients in Europe, India, and the United States.</p>



<p>The maestro is now rarely seen without his gloves. His practice sessions go on for so long â€” four hours daily â€” that he relies on a silent piano to work on his hand movements so as to not upset the downstairs neighbors, but when he has to rehearse for a concert, the maestro goes full volume. Martins understands that this might not be his definite comeback, since the dystonia has crept back to his hands before. â€œIf in a couple of years, my condition also beats these gloves, Iâ€™ll confront it,â€ he said. â€œIâ€™ve already had to change the way I play a hundred times.â€</p>
			<!-- Article End -->

		</div></div>]]>
            </description>
            <link>https://restofworld.org/2021/how-the-maestro-got-his-hands-back/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728910</guid>
            <pubDate>Mon, 11 Jan 2021 13:59:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Become a Data Engineer in 2021]]>
            </title>
            <description>
<![CDATA[
Score 259 | Comments 134 (<a href="https://news.ycombinator.com/item?id=25728198">thread link</a>) | @adilkhash
<br/>
January 11, 2021 | https://khashtamov.com/en/how-to-become-a-data-engineer/ | <a href="https://web.archive.org/web/*/https://khashtamov.com/en/how-to-become-a-data-engineer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                    
                    
                    <p>The demand for data engineers is growing rapidly. According to <a href="http://hired.com/" target="_blank" rel="noopener noreferrer" data-token-index="1" data-reactroot="">hired.com</a> the <a href="https://hired.com/state-of-software-engineers" target="_blank" rel="noopener noreferrer" data-token-index="3" data-reactroot="">demand has increased by 45%</a> in 2019. The median salary for Data Engineers in SF Bay Area is around $160k. So the question is: how to become a data engineer?<!--StartFragment--></p>
<h2>What Data Engineering is</h2>
<p>Data engineering is closely related to data as you can see from its name. But if data analytics usually means extracting insights from existing data, data engineering means the process of building infrastructure to deliver, store and process the data. According to <a href="https://hackernoon.com/the-ai-hierarchy-of-needs-18f111fcc007">The AI Hierarchy of Needs</a>, the data engineering proccess is located at the very bottom: Collect, Move &amp; Store, Data Preparation. So if your organization wants to be data/AI-driven then they should hire/train data engineers.</p>
<figure><img src="https://khashtamov.com/uploads/redactor/1_7IMev5xslc9FLxr9hHhpFw.png" data-image="1_7IMev5xslc9FLxr9hHhpFw.png"></figure>

<p>But what data engineers actually do? The amount of data is growing rapidly every single day. We are contemplating the new era where everybody can do a content from their mobile phone and other gadgets. Even small devices are connected to the Internet. Data engineers from the past were responsible for writing complex SQL queries, building ETL (extract, transform &amp; load) processes using big enterprise tools like Informatica ETL, Pentaho ETL, Talend etc. But now the market demands more broader skillset. If you want to work as a data engineer you need to have:</p>
<ul><li>Intermediate knowledge of SQL and Python</li><li>Experience working with cloud providers like AWS, Azure or GCP</li><li>The knowledge of Java/Scala is a big plus</li><li>Understading SQL/NoSQL databases (data modeling, data warehousing, performance optimization)</li></ul>
<p>The skillset is very similar to what Backend engineers usually know. In reality if an organization is growing in terms of data the ideal candidate to transform into data engineer is a backend engineer.</p>

<ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3273608550190378" data-ad-slot="9434009847"></ins>


<p>The particular technologies and tools could differ due to company size, data volumes and data velocity. If we look at the FAANG for example, they usually require:</p>
<ul><li>Knowledge of Python, Java or Scala</li><li>Experience working with Big data tools like Apache Hadoop, Kafka and Spark</li><li>Solid knowledge of algorithms and data structures</li><li>Undestanding of distributed systems</li><li>Experience with Business Intelligence tools like Tableau, QlikView, Looker or Superset</li></ul>
<h2>Data Engineer's Skillset</h2>
<p>Data engineering is an engineering area that is why the knowledge of computer science fundamentals is required, especially the understanding of most popular algorithms and data structures (Hello Mr. Cormen!).</p>
<p>Because data engineers deal with the data on a daily basis understading how databases work is a huge plus. For example, the most popular SQL databases like SQLite, PostgreSQL, MySQL use B-Tree data structure under the hood.</p>
<h3>Algorithms &amp; Data Structures</h3>
<p>If you prefer video courses I would recommend to look at the <a href="https://www.coursera.org/specializations/data-structures-algorithms">Data Structures and Algorithms Specialization</a>. I took these courses and think they are quite good as a starting point.</p>
<p>Speaking about talks I would highly recommend take a look at Alex Petrov's presentation called <em>What Every Programmer has to know about Database Storage:</em></p>
<figure><iframe width="100%" height="497" src="https://www.youtube.com/embed/e1wbQPbFZdk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""><span id="selection-marker-1" class="redactor-selection-marker"></span></iframe></figure>
<p>Alex has a great series of posts related to databases:</p>
<ul>
<li><a href="https://medium.com/databasss/on-disk-io-part-1-flavours-of-io-8e1ace1de017">On Disk IO, Part 1: Flavors of IO</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-part-2-more-flavours-of-io-c945db3edb13">On Disk IO, Part 2: More Flavours of IO</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-part-3-lsm-trees-8b2da218496f">On Disk IO, Part 3: LSM Trees</a></li>
<li><a href="https://medium.com/databasss/on-disk-storage-part-4-b-trees-30791060741">On Disk IO, Part 4: B-Trees and RUM Conjecture</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-access-patterns-in-lsm-trees-2ba8dffc05f9">On Disk IO, Part 5: Access Patterns in LSM Trees</a></li>
</ul>
<p>Courses, video presentations are good but what about books? I would recommend the only book by Thomas Cormen and friends called <a href="https://www.amazon.com/gp/product/0262033844/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0262033844&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=74742875db503b1a899ca35159749067">Introduction to Algorithms</a>. The most comprehensive reference on algorithms and data structures. To practice and strengthen your knowlegde go to <a href="http://leetcode.com/">leetcode.com</a> and start solving problems. Practice makes perfect.</p>
<p>Databases are great, Carnegie Mellon University uploads their lessons to Youtube:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=oeYBdghaIjc&amp;list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi">Introduction to Database Systems (Fall 2019)</a></li>
<li><a href="https://www.youtube.com/watch?v=SdW5RKUboKc&amp;list=PLSE8ODhjZXjasmrEd2_Yi1deeE360zv5O">Advanced Database Systems (Spring 2020)</a></li>
</ul>
<h3>SQL â€” the lingua franca for databases</h3>
<p>SQL was developed back in 70s and still is the most popular language to work with data. Periodically some experts claim that SQL is going to die very soon, but it is still alive despite many rumors. I think we will stick to SQL for another decade or two (or even more). If you look at the modern and popular databases you will see that almost all of them support SQL:</p>
<ul>
<li>PostgreSQL, MySQL, MS SQL Server, Oracle DB</li>
<li>Amazon Redshift, Apache Druid, Yandex ClickHouse</li>
<li>HP Vertica, Greenplum</li>
</ul>
<p>In a big data ecosystem there are many different SQL engines: Presto (Trino), Hive, Impala etc. I would highly recommend to invest some time to master SQL.</p>
<p>If you are new to SQL, start with the Mode's SQL guide: <a href="https://mode.com/sql-tutorial/introduction-to-sql/">Introduction to SQL</a>. If you feel comfortable you can continue with the <a href="https://bit.ly/2XrRH4i" target="_blank" rel="nofollow noopener noindex">DataCamp's interactive courses</a>. I would recommend these:</p>
<ul>
<li><a href="https://www.datacamp.com/courses/intermediate-sql?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">Intermediate SQL</a></li>
<li><a href="https://www.datacamp.com/courses/joining-data-in-postgresql?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">Joining Data in SQL</a></li>
<li><a href="https://datacamp.com/courses/postgresql-summary-stats-and-window-functions?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">PostgreSQL Summary Stats and Window Functions</a></li>
</ul>
<p>The best resources on SQL are <a href="https://modern-sql.com/">Modern SQL</a> and <a href="https://use-the-index-luke.com/">Use The Index, Luke!</a> Practice makes perfect that is why go to <a href="https://leetcode.com/problemset/database/">Leetcode Databases problemset</a> and start practicing ğŸ’ª By the way, do not forget to read my article on <a href="https://khashtamov.com/en/sql-window-functions/">SQL window functions</a> as well.</p>
<h3>Programming: Python, Java and Scala</h3>
<p>Python is a very popular programming language to build web apps as well as for data analytics &amp; science. It has a very rich ecosystem and huge community. According to <a href="https://www.tiobe.com/tiobe-index/">TIOBE Index</a> Python is in the Top 3 widely used programming languages after C &amp; Java.</p>
<p>Speaking about other 2 languages, many big data systems are written in Java or Scala:</p>
<ul>
<li>Apache Kafka (Scala)</li>
<li>Hadoop HDFS (Java)</li>
<li>Apache Spark (Scala)</li>
<li>Apache Cassandra (Java)</li>
<li>HBase (Java)</li>
<li>Apache Hive, Presto in Java</li>
</ul>
<p>In order to undestand how these systems work I would recommend to know the language in which they are written. The biggest concern with Python is its poor performance hence the knowledge of a more efficient language will be a big plus to your skillset.</p>
<p>If you are interested in Scala, I would recommend to take a look at <a href="https://twitter.github.io/scala_school/">Twitter's Scala School</a>. The book <a href="https://www.amazon.com/gp/product/0981531687/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0981531687&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=69314619f1e546e3921eb97c72cf4850">Programming in Scala</a> by its creator is also a good starting point.</p>
<h3>The Big Data Tools</h3>
<p>There are lots of different technologies in a Big Data landscape. The most popular are:</p>
<ul>
<li><strong>Apache Kafka</strong> is the leading message queue/event bus/event streaming</li>
<li><strong>Apache Spark</strong> is the unified analytics engine for large-scale data processing</li>
<li><strong>Apache Hadoop</strong>, the big data framework which consists of different tools, libraries and frameworks including distributed file system (HDFS), Apache Hive, HBase etc.</li>
<li><strong>Apache Druid</strong> is a real-time analytics database</li>
</ul>
<p>It is really difficult to learn everything that is why focus on the most popular and learn fundamental concepts behind them. For example, back in 2013 Jay Kreps (co-founder of Apache Kafka) wrote the paper called <a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">The Log: What every software engineer should know about real-time data's unifying abstraction</a>.</p>
<h3>Cloud Platforms</h3>
<p>Everything goes to the clouds. You should have experience working with at least one cloud provider. I would recommend go with the <strong>Amazon Web Services</strong> which is the leading cloud provider in the world. The second place goes to the <strong>Microsoft Azure</strong>, the third place takes <strong>Google Cloud Platform</strong>.</p>
<p>All providers have certifications. For example, the most suitable certification for a data engineer in AWS is <a href="https://aws.amazon.com/ru/certification/certified-data-analytics-specialty/">AWS Certified Data Analytics â€“ Specialty</a>. If you decide to proceed with GCP the right choice is <a href="https://cloud.google.com/certification/data-engineer">Professional Data Engineer</a>, for MSA is <a href="https://docs.microsoft.com/en-us/learn/certifications/azure-data-engineer">Azure Data Engineer Associate</a>.</p>
<h3>Fundamentals of Distributed Systems</h3>
<p>The amount of data generated nowadays is tremendous. You cannot fit it into one computer. The data should be distributed across different nodes. If you want to be a good data engineer you have to understand the fundamentals of distributed systems. There are lots of resources where you can start your journey into this field:</p>
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLrw6a1wE39_tb2fErI4-WkMbsvGQk9_UB">Distributed Systems</a> lectures from MIT by Robert Morris</li>
<li><a href="https://www.youtube.com/playlist?list=PLeKd45zvjcDFUEv_ohr_HdUFe97RItdiB">Distributed Systems</a> lectures by Martin Kleppmann</li>
<li><a href="https://www.youtube.com/playlist?list=PLNPUF5QyWU8O0Wd8QDh9KaM1ggsxspJ31">Distributed Systems</a> by Lindsey Kuper</li>
</ul>
<p>I would also highly recommend the book <a href="https://www.amazon.com/gp/product/1449373321/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1449373321&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=e7e0e096aa5761066245eb90965ac849">Designing Data-Intensive Applications</a> by Martin Kleppmann. He has a <a href="https://martin.kleppmann.com/">blog</a>. Also if you prefer blogs I would recommend take a look at the <a href="https://medium.com/baseds">series of posts</a> about distributed systems by Vaidehi Joshi.</p>
<h3>Data Pipelines</h3>
<p>Building a data pipeline is one of the main responsibilities of a data engineer. Data pipeline is a process of data consolidation. Data engineer should be able to reliably deliver, load and transform data from multiple sources into a specific destination, usually it is central data warehouse or data lake. There are many tools which can help you build this process. Take a look at the <a href="https://khashtamov.com/en/introduction-to-apache-airflow/">Apache Airflow</a>, <a href="https://github.com/spotify/luigi">Luigi</a> from Spotify, <a href="https://www.prefect.io/">Prefect</a> or <a href="https://dagster.io/">Dagster</a>. If you prefer nocode solution <a href="https://nifi.apache.org/">Apache NiFi</a> is a way to go.</p>
<h2>Summary</h2>
<p>Data engineer is a team player who is working with data analysts, scientists, infrastructure engineers and other stakeholders. So do not forget about soft skills like empathy, understanding a business domain, open-mindedness etc.</p>
<p>If you want to add something feel free to add a comment down below.</p>




                    <section>
                        <h3>ğŸ’Œ Join the mailing list</h3>
                        <p>If you like the content I produce, please join my mailing list to stay tuned.</p>
                        
                    </section>
                </article></div>]]>
            </description>
            <link>https://khashtamov.com/en/how-to-become-a-data-engineer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728198</guid>
            <pubDate>Mon, 11 Jan 2021 12:49:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stealing Your Private YouTube Videos, One Frame at a Time]]>
            </title>
            <description>
<![CDATA[
Score 1220 | Comments 186 (<a href="https://news.ycombinator.com/item?id=25728175">thread link</a>) | @gbrown_
<br/>
January 11, 2021 | https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/ | <a href="https://web.archive.org/web/*/https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>Back in December 2019, a few months after I started hacking on Google VRP, I was looking at YouTube. I wanted to find a way to get access to a <code>Private</code> video which I did not own.</p>

<p>When you upload a video to YouTube, you can select between 3 privacy settings. <code>Public</code>, which means that anyone can find and watch your video, <code>Unlisted</code>, which only allows users who know the video ID (the URL) to watch the video, and <code>Private</code>, where only you can watch the video, or other accounts youâ€™ve explicitly given permission to do so.</p>

<p>First thing I did was to upload a video to my second testing accountâ€™s YouTube channel, and set the videoâ€™s privacy to <code>Private</code>, so I can use that video for testing. <em>(Remember, always only test against resources/accounts you own!)</em> If I can find a way to access that video with my first testing account, we have a bug.</p>

<p>With my first account, I started using YouTube, trying every feature, pressing every button I could find, and whenever I saw an HTTP request with a video ID in it, I changed it to the target <code>Private</code> video, hoping that I can leak some information about it, but I wasnâ€™t really getting any success. The main YouTube site (at least the endpoints I have tested), seems to always check if the video was <code>Private</code> or not, and when trying to request info about the target <code>Private</code> video, they always returned errors such as <code>This video is private!</code>.</p>

<p>I needed to find another way.</p>

<p>A great thing to do in a situation like this, is to try to look for other products/services which are not your main target, but are somehow interacting with its resources internally. If they have access to its resources, it might be possible that they donâ€™t have every level of protection that the main product has.</p>

<p>An interesting target which matched these requirements was Google Ads. This is the product which advertisers use to create ads across all Google services, <em>including YouTube</em>. So, the ads you get before YouTube videos are set up by advertisers here, on the Google Ads platform.</p>

<p>So I created a Google Ads account, and created a new advertisement, which would play a video of mine as a skippable ad for YouTube users. During the ad creation process, I also tried to use the target <code>Private</code> videoâ€™s ID wherever I could, but no success.</p>

<p>After creating the ad, I started looking at all of the different Google Ads features. The thing was huge, it had a bunch of different settings/tools. I was trying to find anything that could be YouTube-related.</p>

<p>There was a page called <code>Videos</code>, where I could see a list of videos used by my advertisements. Clicking on a video opened up an <code>Analytics</code> section for that specific video. It had an embedded player, some statistics, and an interesting feature called <code>Moments</code>. It allowed advertisers to â€œmarkâ€ specific moments of the video, to see when different things happen (such as the timestamp of when the company logo appears). To be honest I am not quite sure what advertisers use this feature for, nevertheless, it seemed interesting:</p>

<p><img src="https://bugs.xdavidhu.me/assets/posts/2021-01-11-stealing-your-private-videos-one-frame-at-a-time/ads-moments.gif" alt="The Moments feature on the Ads console"></p>

<p>Looking at the proxy logs, every time I â€œmarked a momentâ€, a <code>POST</code> request was made to a <code>/GetThumbnails</code> endpoint, with a body which included a video ID:</p>

<div><div><pre><code><span>POST</span> <span>/aw_video/_/rpc/VideoMomentService/GetThumbnails</span> <span>HTTP</span><span>/</span><span>1.1</span>
<span>Host</span><span>:</span> <span>ads.google.com</span>
<span>User-Agent</span><span>:</span> <span>Internet-Explorer-6</span>
<span>Cookie</span><span>:</span> <span>[redacted]</span>

__ar={"1":"kCTeqs1F4ME","2":"12240","3":"387719230"}
</code></pre></div></div>

<p>Where in the <code>__ar</code> parameter, <code>1</code> was the ID of the video and <code>2</code> was the time of the moment in milliseconds. The response was a base64 encoded image, which was the thumbnail displayed by Ads.</p>

<p>I did what I did a bunch of times already, and replaced the ID to my second accountâ€™s <code>Private</code> video in the request, and to my surprise, <strong>it returned a base64 response</strong>!</p>

<p>I quickly Googled â€œbase64 to imageâ€, and pasted the base64 into the first decoder I found, and it <strong>displayed a thumbnail from the target <code>Private</code> video</strong>! It worked! I have found a working IDOR <em>(Insecure Direct Object Reference)</em> bug, where I could get a frame from any private video on YouTube!</p>

<p>But I was like â€œhm, that is just one frameâ€. We can do better.</p>

<p>I wanted to make a proof of concept Python script which generates an actual, moving â€œvideoâ€. I searched for some calculations, and figured out that if the video is in 24 FPS, one frame stays on the screen for <code>33</code> milliseconds. So I just have to download every image starting from <code>0</code> milliseconds, incrementing by <code>33</code> milliseconds every time, and then construct some kind of video using all of the images I have acquired.</p>

<p>I wrote a quick and dirty POC which downloaded the frames for the first 3 seconds of a video, decoded them, and then generated a GIF. To test it, I have ran it against an old video of mine, which I had previously privated due to, of course, the <em>high level of cringe</em>:</p>

<iframe width="100%" height="315px" src="https://www.youtube.com/embed/G3bNbYRTxZM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>And there you have it, using this bug, any private YouTube video could have been downloaded by a malicious attacker, which to me feels like a pretty cool impact. But of course, it had a few limitations I couldnâ€™t overcome:</p>

<ul>
  <li>In the real world you would have to know the ID of the target video. Mass-leaking those would be considered a bug on its own.</li>
  <li>Since these are just images, you canâ€™t access audio.</li>
  <li>The resolution is very low. (but itâ€™s high enough to see what is happening)</li>
</ul>

<p>The takeaway from this bug is that situations where two different products interact with each other under the hood are always a good area to focus on, since both product teams probably only know their own systems best, and might miss important details when working with a different productâ€™s resources.</p>

<p>Looking for an IDOR like this can be a very repetitive and manual task, and nowadays I try to avoid just blindly changing IDs everywhere and hoping for the best. After you test a product for a while and get a feel of how it works internally, it might be more effective (and more fun) to try to think about different unexpected actions that the developers maybe didnâ€™t think about based on what you saw already, or focus on features that just got released, or to just do any other non-mindless task. You will probably enjoy it more in the long term. In my opinion, the more you understand a system, the more ideas about how to break it will just naturally come to mind.</p>

<p>But again, even in the most robust and well tested systems, there is the chance that just swapping an ID in a request will get you a critical bug.</p>

<p>Thank you for reading! See you <a href="https://twitter.com/xdavidhu" target="_blank">next Monday</a> ;)</p>

<h3 id="timeline">Timeline:</h3>
<p>[Dec 11, 2019] - Bug reported <br>
[Dec 12, 2019] - Initial triage <br>
[Dec 20, 2019] - Bug accepted (P4 -&gt; P1) <br>
[Jan 08, 2020] - Bug mitigated by temporarily disabling the <code>Moments</code> feature <br>
[Jan 17, 2020] - Reward of <a href="https://www.google.com/about/appsecurity/reward-program/" target="_blank">$5000</a> issued <br>
[??? ??, 2020] - <code>Moments</code> re-enabled, now it checks if you have access to the video</p>

    </div></div>]]>
            </description>
            <link>https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728175</guid>
            <pubDate>Mon, 11 Jan 2021 12:46:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's good about staying inside Emacs?]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25728166">thread link</a>) | @mpereira
<br/>
January 11, 2021 | https://www.murilopereira.com/whats-good-about-staying-inside-emacs/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/whats-good-about-staying-inside-emacs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>One of the oldest pieces of software still in use was recently described as</p><blockquote><p>A sort of hybrid between Windows Notepad, a monolithic-kernel operating
system, and the International Space Station.</p></blockquote><p>Of course, they were talking about Emacs. And yes, it is kinda true.</p><figure><img src="https://www.murilopereira.com/tron.jpg"></figure><p>Iâ€™ve been using Emacs for a while and had opportunities to use it to work
on projects in remote machines. There are a few quirks, but after changing
a setting here and there, <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/tramp/Quick-Start-Guide.html">Tramp</a> is mostly usable. Tramp makes it possible
to transparently treat remote directories, files, commands, and more, <em>as if
they were local</em>. Opening a remote buffer via <code>M-x find-file /ssh:user@remote-host:/some/project</code> and having tools like Magit and Eshell
work out of the box feels like magic.</p><p>I'm not aware of similar functionality in Vim, but VSCode users recently
got
<a href="https://code.visualstudio.com/docs/remote/remote-overview">something pretty close</a>.</p><p>Emacs runs either as a standalone graphical application (GUI) or in a
terminal emulator (TUI). In terms of features, GUI Emacs can be seen as a
superset of TUI Emacs. Among many other things, it makes it possible to
display:</p><ul><li>images, PDFs, rendered web pages (even YouTube!)</li><li>graphical popups (with code documentation, linting tips, compilation
errors, completion candidates, etc.)</li><li>heterogeneous fonts (distinct sizes, families, emphases, etc.)</li></ul><p>TUI Emacs has the terminal emulator (and also commonly tmux) limiting
and conflicting with the clipboard, keybindings, colors, and more. None of
these limitations are present in GUI Emacs.</p><p>For these and other reasons I use GUI Emacs and Tramp to work on remote
projects instead of TUI Emacs via SSH. Some do the opposite, and thatâ€™s
fine too! Even with the limitations shown above, TUI Emacs is very
powerful, and its performance in an SSH session is still superior to Tramp.</p><p>Even so, one might think displaying images in Emacs is not a big deal. Just
<code>open image.png</code> and get an actual image viewer application to render it,
right? Things get interesting in a remote Tramp buffer: <code>M-x find-file image.png</code> will display the <em>remote</em> image right there in your <em>local</em> Emacs
instance. Or in case youâ€™re in a remote <em>dired</em> buffer, pressing <code>RET</code> on an
image file will do the same. Itâ€™s a non-disruptive workflow that allows one
to remain in the comfort of Emacs.</p><p>dired is a built-in file manager.</p><p>If youâ€™re not an Emacs user, chances are the previous sentence doesnâ€™t carry
much weight. <em>Whatâ€™s good about staying inside Emacs</em>?</p><p>It is safe to assume that most of your <em>development</em>, or more broadly, your
<em>computing environment</em> is represented below:</p><ul><li>operating system (macOS, GNU/Linux distribution, Windows, etc.)</li><li>window manager (the one provided by your OS, i3, Openbox, XMonad, etc.)</li><li>terminal emulator (iTerm2, xterm, rxvt, alacritty, etc.)</li><li>shell (bash, zsh, fish, etc.)</li><li>terminal multiplexer (tmux, GNU Screen, etc.)</li><li>text editor or IDE (Vim, VSCode, Xcode, IntelliJ IDEA, etc.)</li><li>email, web browsing, multimedia, and communications</li></ul><p>Each item above is a discrete computer program. Theyâ€™re extensible in
disconnected ways, and to varying degrees. Theyâ€™re <em>islands</em>. Most of the
time integrating them is an uphill battle, and commonly just plain
impractical. Having used a computing environment centered around TUI Vim
and tmux for a decade, I know the pain of trying to make the shell, the
terminal, and every command line application running in it have the same
look, feel, and behavior of being inside Vim. It is impossible.</p><p>The emergence of the web browser as a software platform is in part an answer
to this disconnectedness.</p><p>In contrast, Emacs unifies and equalizes the computing experience as much
as one desires, so that it happensâ€”and is extendedâ€”in a single,
cohesive environment.</p><figure><img src="https://www.murilopereira.com/alt_tab_small.jpg" alt="Figure 2: My computing environment."><figcaption><p>Figure 2: My computing environment.</p></figcaption></figure><p>People commonly <a href="https://www.reddit.com/r/emacs/comments/jjxatm/whats%5Fyour%5Fjob%5Fwhats%5Fyour%5Fdaily%5Femacs%5Fworkflow/">use Emacs</a> to process their email inbox, communicate in
chat, navigate the web, write code, and prose. At their core, these
activities are one and the same: text-editing. Being able to perform them
using the same keybindings and functionality for movement, search, text
manipulation, completion, undo-redo, copy-paste, is already a big deal, but
itâ€™s not all: their integration into a single environment unlocks pleasant
and efficient workflows that would be much less convenient elsewhere.</p><p>Creating a to-do item for something your partner just asked you (while you
were concentrated on a task) that will show up automatically on your agenda
tomorrow? Just a few keystrokes and youâ€™re back to the task. Converting
some text notes you quickly scribbled down into a beautiful PDF via LaTeX,
uploading it to S3, and referencing the URL in a reworded existing git
commit message? If youâ€™re an experienced Emacs user, chances are you can
<em>visualize</em> effortlessly and efficiently executing these actions without ever
leaving Emacs.</p><p>This interconnectedness is part of the value of computing environments like
the one provided by Emacs. The whole becomes greater than the sum of its
parts.</p><p>Programmability gives it a further dimension of value: parts can be
combined as you see fit, in arbitrary and possibly unforeseen ways.</p><p>Now, back to the <em>displaying an image from a remote host</em> use case. For that,
I can think of some alternatives:</p><ul><li><code>scp</code> the image file between hosts and <code>open</code> it locally</li><li>Mount the remote filesystem and <code>open</code> it locally</li><li><code>ssh</code> into the remote host from a modern terminal emulator capable of
rendering images and use a program like <a href="https://sw.kovidgoyal.net/kitty/kittens/icat.html">icat</a></li></ul><p>In Emacs, you just press enter.</p></div></div>]]>
            </description>
            <link>https://www.murilopereira.com/whats-good-about-staying-inside-emacs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728166</guid>
            <pubDate>Mon, 11 Jan 2021 12:45:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I Stole Someone's Bitcoin With Ease]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25728038">thread link</a>) | @tuangeek
<br/>
January 11, 2021 | https://tuangeek.com/blog/i-own-your-domain-now-i-own-your-bitcoin-too/ | <a href="https://web.archive.org/web/*/https://tuangeek.com/blog/i-own-your-domain-now-i-own-your-bitcoin-too/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Over the weekend I was receiving some unusual emails from some cryptocurrency payment processors. Ones that Iâ€™ve never heard of let alone used. At first, I thought they were spam or phishing emails so I just ignored them. However, when BTC prices started rising the occurrence of emails also started to be more frequent.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/recovery_email_screenshot.png" alt=""></p>
<p><em>More frequent emails about BTC payment processors.</em></p>
<p>As emails piled up I started to get more suspicious that this wasnâ€™t a scam and someone was actually trying to recover their password. Inspecting the email headers I realized that I was receiving catch-all emails from a parked domain that I recently bought. Apparently the previous owner used the domain as his primary email when he signed up for those accounts. So right now the previous owner has forgotten their password and is attempting to recover their account. But there is one problem. They no longer own the domain, I do. There was no way for me to contact the previous owner and offer my help.</p>
<p>The next obvious course of action for me to was to see if I can actually change the password and essentially gain control to these accounts. If the previous owner actually knew the password, he/she would have changed the default email address by now. So itâ€™s a fair assumption that any account still linked to my domain is long forgotten. So one by one I went and requested a password reset for the most popular cryptocurrency websites.</p>
<h2 id="service-1">Service #1</h2>
<p>I started with CoinPayments because it was the lowest hanging fruit due to the fact that I was still receiving emails from them. I expected this to fail because I had no knowledge about the previous owner, not even his/her name. To my surprise it was too easy. I was able to request a password reset and got an email to update my password in less than a minute. But as soon as I tried to log in I was face with a 2fa challenge.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/2fa_coinpayments.png" alt=""></p>
<p><em>2 Factor Authentication Challenge for CoinPayments</em></p>
<p>This was not a challenge because after all, I do own the email. After waiting for the 2fa code to arrive I was able to login and had full control of the account. I quickly tried to see how much BTC it had and was disappointed to see that it had none.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/coinpayments_zero_balance.png" alt=""></p>
<p><em>CoinPayments BTC wallet with zero BTC.</em></p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/coinpayments_recent_transaction.png" alt=""></p>
<p><em>CoinPayments Recent Transaction</em></p>
<p>The transaction history showed that the last withdraw was in 2016 September 26. So this account has been inactive for a long time. I doubt the previous owner still remember anything about it.</p>
<h2 id="service-2">Service #2</h2>
<p>I moved on to the next website which was Coinsplit. Again the process was simple and I was able to gain control of the account within seconds of trying. This time there was no 2fa challenge and the balance was even more disappointing, it was actually negative.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/coinsplit_balance_negative.png" alt=""></p>
<p><em>Coinsplit Negative Balance</em></p>
<h2 id="service-3">Service #3</h2>
<p>For my third trick, I decided to try Confirmo. And youâ€™ve guessed it. Recovering and gaining control of this account wasnâ€™t hard at all. The only difference this time was that this account actually has some leftover BTC that hadnâ€™t been withdrawn yet. At the time of writing BTC was worth $38k and Confirmo account had about $1k worth of BTC.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/confirmo_screenshot_balance.png" alt=""></p>
<p><em>Confirmo Account with $1k worth of BTC at the time of writing.</em></p>
<p>Bingo! Now things got interesting. Now Iâ€™m faced with two choices. <strong>One I can leave the account alone and let the BTC get deleted and forgotten or I can try and withdraw the funds.</strong> I didnâ€™t like option one because it would be a waste, and I really wanted to see how hard it would be to withdraw these funds. So I decided to create an empty wallet and try and withdraw the funds.</p>
<p>My first challenge was trying to add a withdraw address. Which required a physical address and a BTC address. I made up the physical address and used one of the BTC from the wallet I just generated.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/confirmo_settlement_method_edit.png" alt=""></p>
<p><em>Updating Confirmo settlement method</em></p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/confirmo_2fa_saving_settlement_changes.png" alt=""></p>
<p><em>2fa Challenge for updating Confirmo settlement changes</em></p>
<p>There were some security measures of course. Before I can save the changes it required me to pass a 2fa. Again, because I own the email I had no issues getting pass this little challenge. And just like that I was able to add my own BTC address to the settlement account. Now I just have to sit back and wait for the funds to arrive.</p>
<p><img src="https://tuangeek.com/images/own-email-own-btc/changed_the_payout_address.png" alt=""></p>
<p><em>Added my own BTC address to the settlement account</em></p>
<h2 id="other-services">Other Services</h2>
<p>I also looked at a couple more accounts. I was able to recover and login to all of them without any issues but they didnâ€™t have any left over BTC. I donâ€™t think 2fa was serious enough back in 2016 for this person to secure his/her account. So I do not blame them for not having their account properly secured with a 2fa outside of their primary email. None of the services are to blame either. They all had the userâ€™s interest in mind and most of them actually tried to stop me by requiring me to verify my email. The only downside is if a malicious person has access to the email they pretty much have everything they need to wreak havoc. There really isnâ€™t a good mechanism from protecting the userâ€™s account.</p>
<h2 id="how-to-protect-your-account">How To Protect Your Account?</h2>
<ul>
<li>Sign up for accounts using a email address that you <strong>can control forever</strong>. Maybe a free service like Gmail isnâ€™t bad after all.</li>
<li>Always user 2fa outside of your email. If they control one they are still missing the second piece to do any harm.</li>
<li>Use a password manager. It would be hard for me to guess every service that the previous owner used. This only pop up on my radar because he/she tried to recover the account password.</li>
<li>Email is very powerful. Make sure you protect it properly. I often hear people say their phone is their life. I opt to say say my email is my life.</li>
</ul>
<h2 id="will-i-keep-the-btc">Will I keep the BTC?</h2>
<p>My plan is to try to give back the BTC to the original owner, but my only problem is I have no way of finding out who they are. That is why I need your help. I will encrypt the Electrum wallet with a password in the format of <username><email address=""> so if the rightful owner knows the username and email address he will be able to unlock the wallet. I can only afford to spend ~$1k time and effort into trying to find the original owner before it becomes diminishing returns.</email></username></p>
<p>Someone suggested that I contact the services to get information on the previous owner. I doubt that this will work because when I logged on to the accounts I saw no names or address of the previous owner. I also doubt that the company will be willing to disclose such information to a random person on the internet.</p>
<h2 id="updates">Updates</h2>
<p><img src="https://tuangeek.com/images/own-email-own-btc/asking_previous_domain_owner.png" alt=""></p>
<p>I contacted the previous domain owner, and he said he did not own any cryptocurrency assets. Iâ€™ve got one more person to ask before releasing the wallet for people to try to guess.</p>
<p>2021-12-01 After some research Iâ€™ve decided to not release the encrypted wallet. With a password format of <username>_<email> can be easily cracked. So instead I will hold on to the wallet until someone emails me at the <email> address and wants to claim it.</email></email></username></p>



<p><a href="https://disqus.com/">comments powered by </a>
</p></div></div>]]>
            </description>
            <link>https://tuangeek.com/blog/i-own-your-domain-now-i-own-your-bitcoin-too/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728038</guid>
            <pubDate>Mon, 11 Jan 2021 12:31:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Tether Press and Bitcoinâ€™s Speculative Mania]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25727992">thread link</a>) | @JimWestergren
<br/>
January 11, 2021 | http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-487">
	
	<div>
		
<p>Tether has become a plain old fiat central bank, issuing new USDTs against debt. USDTs are backed, but not by US dollars. They are backed by promises to make good on their debts by the receivers of newly minted USDTs.</p>



<p>While itâ€™s not fraudulent per se, the fact that USDTs arenâ€™t backed by US dollars opens the door to unlimited USDT printing. The gatekeepers are the people in charge of the Tether printing press. In an ideal world, they should ensure that proper reserve requirements are met and that the receivers of newly minted USDTs are properly capitalised.</p>



<p>However, Bitcoinâ€™s exponential price rise, happening in lockstep with ever-increasing USDT issuance, shows that the Tether press has gone in overdrive. When the mania will end, crypto investors will lose everything, in a second.</p>



<h2>The Tetheral Reserve</h2>



<p>Long gone are the days when Tether claimed that USDTs were backed by cash. Its own website states:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26.png 659w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.18.26-300x41.png 300w" sizes="(max-width: 659px) 100vw, 659px"><figcaption>source: tether.to/legal</figcaption></figure>



<p>Itâ€™s not necessarily a bad thing for the crypto ecosystem that Tether doesnâ€™t have cash on hand to the amount of USDTs issued. First off, that would be a central point of failure. Tether the institution is currently under investigation, USDTs are used for money laundering, and having $20 billion in a bank account would expose you to having your assets frozen â€“ as has <a href="https://www.coindesk.com/bitfinex-files-for-subpoena-in-bid-to-recover-880-million-in-frozen-funds">already happened in the past</a>.</p>



<p>Itâ€™s much more practical to have all your assets in loans to counterparties, from a solvency and operational point of view. The problem is, of course, that is exposes you to:</p>



<h3>Liquidity risk</h3>



<p>The role of USDTs is to replace US dollars in the crypto ecosystem. USDTs are much easier to transfer, because you donâ€™t have to deal with a bank that will ask you all sorts of questions about the origins of the funds, the purpose of the transfer, and the identity of the receiver. In short, you donâ€™t have to bother with AML (â€œanti money launderingâ€), KYC (â€œknow your clientâ€), and capital controls regulations. In shorter, USDTs empower you to launder money.</p>



<p>But as much as USDTs are more practical than US dollars, their usage requires convertibility. We live in the real world where nobody accepts USDTs as payment, and you need to be able to cash out your USDTs for real money. You can do this by buying Bitcoin with USDTs on an exchange that trades the BTC/USDT pair, wiring them to an exchange that trades the BTC/USD pair, and cash out. Or, if you are a big player, you can go to a crypto OTC desk and sell your USDTs directly for cash:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-1024x277.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-1024x277.png 1024w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-300x81.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42-768x208.png 768w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.33.42.png 1038w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>source: https://www.coindesk.com/tether-usdt-russia-china-importers</figcaption></figure>



<p>This act of financial hot potato, where someone else buys your USDTs, works for as long as the crypto bull run goes on. However, you need a backstop for when things go south, namely, when people suddenly stop wanting to acquire USDTs, and want to cash out for real money. Then, someone has to redeem the USDTs for cash, and that someone should be the issuer: Tether.</p>



<p>If Tether doesnâ€™t have enough cash on hand to process redemption requests, you have a good old liquidity crunch, when panic sets in, and people start dumping their USDT holdings en masse, for whatever price of thing they can get in exchange. Much like a real world financial crisis.</p>



<h3>USDT redemptions?</h3>



<p>Tetherâ€™s willingness to redeem USDTs for real money has been questioned over the last few years, not least because it seems that theyâ€™ve ever barely done it, as the number of USDTs outstanding never goes down:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33.png 946w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33-300x104.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-10.41.33-768x266.png 768w" sizes="(max-width: 946px) 100vw, 946px"><figcaption>USDT market cap, source: coin360</figcaption></figure>



<p>Note that the dip in October 2018 was due to Tether loaning $850m to Bitfinex, not actual redemptions.</p>



<p>Other reasons to question Tetherâ€™s willingness to redeem USDTs are the fact that, well, a lot of people couldnâ€™t get Tether to redeem them, despite Tetherâ€™s own assurances that proper mechanisms were in place. Moreover, Tetherâ€™s own handling of this â€œFUDâ€ has been anecdotal and shady:</p>



<blockquote>â€” Paolo Ardoino (@paoloardoino) <a href="https://twitter.com/paoloardoino/status/1346101912677048320?ref_src=twsrc%5Etfw">January 4, 2021</a></blockquote> 



<p>In the tweet above, the CTO of Tether shares â€œproofâ€ that USDTs can be redeemed. However, the â€œproofâ€ is just a list of USDT transactions to and from Bitfinex supposedly performed by an OTC desk, and without a matching set of USD transactions, it means nothing. The original question was, after all:</p>



<blockquote><p lang="en" dir="ltr">If anyoneâ€¦anywhereâ€¦.has redeemed USDT for USD and can show proof of this transaction I would be happy to compensate you for your time and effort. Thanks! <a href="https://t.co/wScl7s1ZAc">https://t.co/wScl7s1ZAc</a></p>â€” Santiago Capital (@SantiagoAuFund) <a href="https://twitter.com/SantiagoAuFund/status/1345970353747578882?ref_src=twsrc%5Etfw">January 4, 2021</a></blockquote> 



<p>Notice the â€œredeem <strong>for USD</strong>â€ part that gets ignored by Tether. Yup.</p>



<h2>The mother of all speculative manias</h2>



<p>Remember the real estate bubble of 2003-2007? How people who could barely pay their bills would buy five condos, see their price go up as other people would also buy five condos, and everyone would seemingly get rich out of thin air, together? The reasons for that bubble, in short, were lax lending requirements. A more complete explanation was that banks found ways (thanks to securitisation, reverse engineering credit rating agency rulebooks, and shadow banking) to issue mortgages to people who should have never, ever, qualified for those mortgages. As more mortgages were issued, housing prices went up, in a seemingly infinite loop.</p>



<h3>Infinite money</h3>



<p>Fiat money is issued against debt. I come into a bank, ask for $10,000, and the bank gives me the money in exchange of me acknowledging that I owe the bank $10,000 â€“ plus interest.</p>



<p>Why canâ€™t I come into a bank and ask for $10,000,000,000? Because banks have rules governing how much they can lend and to whom. The first rule is common sense: if customers arenâ€™t able to repay their loans, the bank will go bust, and because the bank doesnâ€™t want to go bust, it will only lend to people whom it deems creditworthy.</p>



<p>Other rules are regulatory. Banks must have adequate capital to absorb losses on their loan portfolio. It means that their assets must exceed their loans, and the riskier the loans, the larger that excess must be. Banks must also perform maturity matching â€“ meaning that their sources of funding canâ€™t be all short term, when theyâ€™re underwriting 30 year mortgages. Then there is risk weighting of assets, Basel II capital frameworks, etc., etc. Just look at this monstruosity:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2.jpg" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2.jpg 577w, http://www.tr0lly.com/wp-content/uploads/2021/01/IRB_Basel2-300x265.jpg 300w" sizes="(max-width: 577px) 100vw, 577px"><figcaption>Banking is complicated<br></figcaption></figure>



<p>There are many, many, many rules in place that are intended to prevent bubbles and manias. Despite the meme that â€œbanks print fiat out of thin airâ€, they donâ€™t â€“ because of those rules. If they did, youâ€™d have a new tulip bulb mania on every Thursday, and civilisation would collapse before summer.</p>



<h3>Infinite almost-money</h3>



<p>What rules are in place at Tether? What prevents them from printing USDTs out of thin air, without any rules? What prevents Binance from calling Tether and asking for 10,000,000,000 USDTs?</p>



<p>At first glance, the answer is: reality. Were Tether to issue too many USDTs, and start buying BTC and ETH and XRP with it, the price of USDT would get below $1. This has happened in the past, albeit for short periods of time.</p>



<p>But the USDT peg has remained exceptionally stable throughout 2020, despite the greatest financial and economic crisis in recent memory. Exchanges are maintaining the USDT peg, because their very existence depends on it. And USDT has replaced USD  in the crypto ecosystem, they cannot allow it to fail. They have USDT on their books. More importantly, their clients own USDT, and account for it as if it were real US dollars. Should USDTâ€™s price fall, people would sell other cryptocurrencies as well, because theyâ€™d need to make up for the lost USDT liquidity â€“ and the whole crypto ecosystem would collapse.</p>



<p>Remember, there is a very real need for USDTs, as long as they are pegged to the US dollar, and can be used for immediate, KYC and AML â€“ free transactions.</p>



<p>The USDT/USD peg is founded on the premise that people wonâ€™t try to cash out en masse. As long as they donâ€™t, USDT printing can continue.</p>



<h3>Creating value out of thin air</h3>



<p>Bitcoin doesnâ€™t have intrinsic value. Seriously, it doesnâ€™t. It has no use case (transactions donâ€™t create sustainable demand â€“ you buy Bitcoin, transact, and the other party sells it, a few minutes later), produces no cash flows, gives you no rights or claims. Itâ€™s always been a confidence game.</p>



<p>How do you create confidence?</p>



<blockquote><p lang="en" dir="ltr">If the higher demand is self-sustaining without manipulation then the manipulation actually bootstrapped genuine value. Maybe like an entrepreneur who aggressively exaggerates the state of development of a project and raises funds but then creates the product and justifies value</p>â€” Ari Paul â›“ï¸ (@AriDavidPaul) <a href="https://twitter.com/AriDavidPaul/status/965744440303374342?ref_src=twsrc%5Etfw">February 20, 2018</a></blockquote> 



<p>As long as things go up, and people donâ€™t see any reason why they should stop, things will continue going up. Of course, people at large are unreliable, and they could stop thinking that things will continue going up, because thereâ€™s a huge economic crisis, for example. Then things go down very fast:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12.png 597w, http://www.tr0lly.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-07-at-11.33.12-300x241.png 300w" sizes="(max-width: 597px) 100vw, 597px"><figcaption>Bitcoinâ€™s price crash during the COVID-19 rout in March 2020</figcaption></figure>



<p>Had this selling been allowed to continue, there wouldnâ€™t be a crypto ecosystem left to speak of, today. This is why Tether and the exchanges came together and crossed the Rubicon, and decided to create USDT liquidity to stop the selling, by minting a huge 1.6 BILLION USDTs on March 31, 2020, and distributing it across main exchanges.</p>



<p>And it worked. The Tetheral Reserve was born â€“ an infinite pool of USDT liquidity, backed by the exchanges themselves, who committed to hold the USDT/USD peg, in order to save the crypto ecosystem.</p>



<h3>To infinity, and beyond</h3>



<p>Since that fateful day nine months ago, the Tether press has been picking up speed. As the price of Bitcoin increases, the confidence in the crypto ecosystem rises to new highs, and people donâ€™t bother to question the exponential rise of USDTs outstanding. First of, because the mainstream media doesnâ€™t talk about it â€“ only about the rise of Bitcoinâ€™s price. Then, because insiders themselves â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/">http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/</a></em></p>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/the-tether-press-and-bitcoins-speculative-mania/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727992</guid>
            <pubDate>Mon, 11 Jan 2021 12:26:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Read a Math Book]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25727922">thread link</a>) | @phonebucket
<br/>
January 11, 2021 | https://brownmath.com/stfa/read.htm | <a href="https://web.archive.org/web/*/https://brownmath.com/stfa/read.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<div>

<p> Copyright Â© 2003â€“2020 by Stan&nbsp;Brown</p>
</div>
<!-- -->

<p id="Summary"><span><strong>Summary:</strong></span>
You canâ€™t read a math book the way you read other books.
It takes a special approach to read math, not just pass your eyes over it.
You may need as long as half an hour to get through one page, but
you will understand it when youâ€™re done.</p>

<p id="SeeAlso1"><span><strong>See&nbsp;also:</strong></span>
<a href="https://brownmath.com/stfa/succeed.htm">How to Succeed in Math</a>
<br><a href="https://brownmath.com/stfa/study.htm">How to Study Math</a></p>

<p id="SeeAlso2"><span><strong>See&nbsp;also:</strong></span>
This page is also available 
<a href="http://nl.beterinwiskunde.wikia.com/wiki/Het_wiskundeboek_gebruiken" title="accessed 2012-12-26">in Dutch</a>.</p>

<h2 id="TwoKinds">Two Kinds of Reading</h2>

<p>In
a Usenet article,
Chan-Ho Suh neatly summed up
the â€œtwo kinds of understanding a math text. The first is in being
able to follow, reconstruct, etc. a proof [or solution method].  The
second lies in rewiring oneâ€™s brain so that itâ€™s obvious why the
theorem is trueâ€ or why the solution works. â€œContrary to impressions
you may have garnered from your math courses, the first kind of
understanding is not the primary goal, ... but the second kind
definitely is.â€</p>

<h2 id="No">What Not to Do</h2>

<p><strong>Donâ€™t memorize too much.</strong> Many students try to commit
everything to memory. Math doesnâ€™t work like that: you are learning
methods of problem solving. If you treat the material like a mass of
unrelated facts, it will be a big jumble in your head and youâ€™ll very
naturally feel frustrated.</p>

<p>True, there are a few formulas youâ€™ll need to have available. Write
them down on <em>one</em> â€œcheat sheetâ€. Look at them in odd moments and
practice saying them over to yourself. Then write 
<span id="U20140922a">them</span> down 
<a href="https://brownmath.com/stfa/test.htm#BrainDump">at the start of any test</a>.</p>


<p><strong>Donâ€™t start with the homework problems.</strong> The assigned
problems are not â€œthe homeworkâ€. Theyâ€™re the last part of the
homework. The first part is reading and understanding todayâ€™s section
of the textbook.</p>
<p>Most students canâ€™t just listen to the lecture and then
immediately solve the homework problems. The textbook is there to
reinforce your understanding of what was covered in class and to
explain points the lecture didnâ€™t have time to cover.</p>


<p><strong>Donâ€™t be afraid to go back.</strong> Math is relentlessly
cumulative. If you donâ€™t understand something in todayâ€™s lesson,
perhaps itâ€™s because you didnâ€™t really understand something in an
earlier lesson, or youâ€™ve forgotten it. Go back and re-learn that
earlier material.</p>
<p>Granted, it can be discouraging to go back to an earlier section
of the book. But you are not moving backward. Youâ€™re still making
progress because youâ€™re strengthening your understanding of that
earlier concept.</p>



<h2 id="Yes">What to Do</h2>

<p><strong>First skim for an overview.</strong> Nobody understands
something complex on first reading: about all you can hope to do is
get a general sense of what itâ€™s about and perhaps one or two of the
main points of the argument. That doesnâ€™t mean thereâ€™s anything wrong
with you; itâ€™s how almost everyoneâ€™s mind works. That first reading
just lays the framework for you to fill in later with details.</p>


<p><strong>Then reread with concentration.</strong> Read slower this time.
Highlight important points for further study. (Donâ€™t overdo
the highlighting. Distinguish key points and highlight them; that
should be well under 50% of the text. Color-code if that helps you.)</p>
<p>Some students find it helpful to take notes on separate paper while
reading. If youâ€™ve never done this, you might want to give it a try.
You may find that it helps focus your mind and fit the concepts
together better.</p>


<p><strong>Go through each step of each example.</strong> Donâ€™t read; write.
Many examples have some steps left out; you should write down a
complete solution with all steps. Make sure you understand how the
book gets from each step to the next step.</p>
<p>This is where many students shortchange themselves. Thereâ€™s a huge
tendency to hit an example and have the eyes just jump to the next bit
of English. But remember that <a href="https://brownmath.com/stfa/whyhard.htm">you learn math by
doing</a>, not by reading. You need to work each example to understand
the concept.</p>


<p><strong>Fill in any gaps.</strong> If there are still any words or
concepts you donâ€™t understand, go back to the book and learn them. If
you need to, put them on the list to talk over with your study buddy
or with a <a href="http://www.tc3.edu/bcl/">Baker Center</a> tutor,
or see your instructor outside of class if s/heâ€™s available.</p>
<p>Whatever you do, get those problems cleared up before the next
class so that they donâ€™t interfere with your understanding that
lecture.</p>

<p><strong>Think about what youâ€™ve read.</strong> Fit it in with what
you already know. Is this a more general version of a specific case you
learned earlier? Is this a shorter method for something you previously
learned to do a longer way? Does this use something you learned
previously that looked useless at the time?</p>

<p><strong>Make it your own.</strong> Can you explain this to someone
else? (This is where a <a href="https://brownmath.com/stfa/study.htm#Group">study group</a>
really shines.) If thereâ€™s no one else available, can you explain it
aloud, without stumbling? If you can do that, you probably understand
it. Donâ€™t shortchange yourself here! â€œI sort of get itâ€ means you
need to go over it again (but maybe after a break).</p>

<p id="Chunks"><strong>Divide and conquer.</strong> If you have a whole chapter
to learn, master one section at a time. Try to spread your work evenly
over the available time.</p>

<p><strong>Do the homework problems.</strong> If you donâ€™t understand how to
do one, look back in the book for a similar problem. Donâ€™t just push
numbers at it; make sure you understand the example and see how to
apply it.</p>

<p>A <a href="https://brownmath.com/stfa/prob.htm">separate page</a> gives some suggestions for
working story problems.</p>






</div>]]>
            </description>
            <link>https://brownmath.com/stfa/read.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727922</guid>
            <pubDate>Mon, 11 Jan 2021 12:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting goals for 2021 â€“ A brief guide about personal goal setting]]>
            </title>
            <description>
<![CDATA[
Score 176 | Comments 58 (<a href="https://news.ycombinator.com/item?id=25727832">thread link</a>) | @jonmal
<br/>
January 11, 2021 | https://blog.doit.io/goal-setting/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/goal-setting/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2020/10/GoalSetting.jpg 300w,
                            /content/images/size/w600/2020/10/GoalSetting.jpg 600w,
                            /content/images/size/w1000/2020/10/GoalSetting.jpg 1000w,
                            /content/images/size/w2000/2020/10/GoalSetting.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2020/10/GoalSetting.jpg"
                    alt="SMART and Simple: How to Set and Achieve Personal Goals"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Goal setting is not a new idea. We all know that we have a much better chance of getting what we want in life if we purposefully set goals. </p><p>The content available on the subject is downright prolific. There is so much information out there, in fact, that it can be overwhelming to pick a program, make a plan, and actually get into the business of goal setting and achievement. </p><figure><img src="https://blog.doit.io/content/images/2020/10/GoalSetting-1.jpg" alt="Goal Setting" srcset="https://blog.doit.io/content/images/size/w600/2020/10/GoalSetting-1.jpg 600w, https://blog.doit.io/content/images/size/w1000/2020/10/GoalSetting-1.jpg 1000w, https://blog.doit.io/content/images/2020/10/GoalSetting-1.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Goal Setting</figcaption></figure><p>The world is full of overwhelm. Figuring out how to go about setting and achieving your goals is <em>very</em> important, but that doesn't mean it has to be complicated. We aim to make life easier to manage. In honor of simplicity, we have researched goal setting for you and put together an easy-to-follow plan for setting and achieving your personal goals. We even included some tried-and-true tips and techniques that can be modified to fit your unique life. Letâ€™s do it. </p><h2 id="goal-setting">Goal Setting</h2><ol><li><a href="#a-bit-of-background-what-are-personal-goals-do-we-need-them">What are personal Goals</a></li><li><a href="#setting-smart-goals">Setting SMART Goals</a></li><li><a href="#a-simple-system-for-goal-setting">A Simple System for Goal Setting</a></li><li><a href="#do-it-5-tips-and-tricks-for-goal-achievement">Do it: 5 Tips and Tricks for Goal Achievement</a></li></ol><h2 id="a-bit-of-background-what-are-personal-goals-do-we-need-them">A Bit of Background: What are Personal Goals? Do we Need Them?</h2><p>Personal goals are the things we want to accomplish in life. Plain and simple. In a sense, all goals are personal because they are created from within and attached to our greatest desires and aspirations. </p><p>Sometimes they are looked at separately from professional goals, which are specifically related to oneâ€™s professional or work life. That being said, personal goals can most certainly take into account goals related to work or career. Here we will focus on personal goal setting and achievement, with the understanding that the term is all encompassing. Make sense? </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Personal goals are the things we want to accomplish in life. Plain and simple.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>Personal goals are unique to every individual because they are, well, personal! Seems obvious, right? Despite that characteristic, it can be helpful to see some examples of personal goals to get started. This can churn up ideas and open the mind to the endless possibilities. Here is an assortment.</p><ul><li>Work out 3-5 times each week.</li><li>Write in a journal every day.</li><li>Fully fund an emergency savings account equal to six monthsâ€™ living expenses.</li><li>Walk the dog at least once per day.</li><li>Pay off the student loan in 18 months.</li><li>Take a hike 1-2 times per month.</li><li>Travel to a new destination twice each year.</li><li>Cook dinner at home 3 nights per week.</li><li>Fit into my old favorite jeans before my next birthday.</li><li>Stop working full time before 50.</li><li>Train the puppy 15 commands before his 2nd birthday. <br></li></ul><p>You get the idea. Goals can be big, small, long term, or short term. Personal goals can be about daily life, a lifetime, or anything in between. They are unique to <em>what </em>you want, <em>when</em> you want it. Personal goals do have this in common: they make life better, more meaningful, and focused. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Personal goals do have this in common: they make life better, more meaningful, and focused.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We know what personal goals are but why do we need to set them? Isnâ€™t it enough to have them floating around our heads? Experts say, definitely not! Setting goals sets your mind up for success. Making your goals explicit helps to focus your attention, time, and behavior towards achieving them. You will fail to achieve 100% of the goals you never set. And the very act of writing them down could make all the difference. </p><p>In fact, <a href="https://scholar.dominican.edu/cgi/viewcontent.cgi?article=1265&amp;context=news-releases">a study in 2015 by psychologist Gail Matthews</a> revealed that simply writing down goals increased the chances of achieving them by 33 percent compared to having goals that stayed locked inside oneâ€™s head. Can your life be purposeful, meaningful, and good without goal setting? Of course it can! But, you have a much greater chance of designing the life you <em>really</em> want by explicitly setting personal goals. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Simply writing down goals increased the chances of achieving them by 33 percent compared to having goals that stayed locked inside oneâ€™s head.</span></p>
</blockquote>
<!--kg-card-end: markdown--><h2 id="setting-smart-goals">Setting SMART Goals</h2><p>Not all goals are created equally. You will have a better chance of achieving goals that are carefully crafted. Many experts recommend setting something called SMART goals. SMART is a mnemonic device that stands for Specific, Measurable, Attainable, Relevant, and Time Bound. </p><ul><li><strong>S: Specific: </strong>Instead of setting a goal to â€œbecome wealthyâ€ set a specific goal to â€œhave $1 million invested in a mutual fund by the age of 50.â€</li><li><strong>M: Measurable:</strong> The goal should be conducive to metrics. What would it look like to make progress and to fully achieve the goal?</li><li><strong>A: Attainable:</strong> Your goals should be big, but realistic. Aim high but be sure you can hit the target within a specified time frame.</li><li><strong>R: Relevant:</strong> Goals should reflect your values, desires, and abilities.</li><li><strong>T: Time Bound:</strong> Goals should have a deadline that will help organize your efforts and keep you motivated to move forward. <br></li></ul><h2 id="a-simple-system-for-goal-setting">A Simple System for Goal Setting</h2><ol><li>Set one big, huge, overarching goal.</li><li>Set a series of increasingly smaller goals that lead to that big goal.</li></ol><p>Jim Collins is recognized as one of the most influential business book writers of all time. His book <a href="https://www.amazon.com/Built-to-Last-Jim-Collins-audiobook/dp/B0813QCVN9/ref=sr_1_1?dchild=1&amp;keywords=built+to+last&amp;qid=1601575446&amp;sr=8-1"><em>Built to Last</em></a> was a follow up to the groundbreaking, and now classic, <a href="https://www.amazon.com/Good-Great-Some-Companies-Others/dp/0066620996/ref=sr_1_2?dchild=1&amp;keywords=good+to+great&amp;qid=1601575412&amp;sr=8-2"><em>Good to Great</em></a>. In it, he and co author Jerry I. Porras introduced a concept that is now widely applied in corporate goal setting. Itâ€™s called a <a href="https://www.jimcollins.com/concepts/bhag.html">BHAG</a>, pronounced bee-hag. </p><p>BHAG stands for Big Hairy Audacious Goal and it challenges corporations and organizations to set their sights on a super large, awe inspiring, borderline outlandish goal that will be the guidepost for decision making within the organization. The writerâ€™s use President Kennedyâ€™s moon landing proclamation as a prime example of a BHAG. </p><p>The authorâ€™s wrote, â€œLike the moon mission, a true BHAG is clear and compelling and serves as a unifying focal point of effortâ€“ often creating immense team spirit. &nbsp;It has a clear finish line, so the organization can know when it has achieved the goal; people like to shoot for finish lines. &nbsp;A BHAG engages peopleâ€“ it reaches out and grabs them in the gut. &nbsp;It is tangible, energizing, highly focused. &nbsp;People "get it" right away; it takes little or no explanation.â€</p><p>There is no reason why BHAG success should be limited to businesses. Thatâ€™s why we recommend starting by setting a BHAG for yourself. Think of one huge â€œclear and compellingâ€ star of a dream goal that you can hook all of your efforts and focus onto. Shoot for the stars! Dream big. Make it â€œaudacious.â€ Above all else, make it <em>yours</em> alone. Every personal BHAG will be unique, but here are a few examples:</p><ul><li>Retire debt free in Costa Rica.</li><li>Become a self-made millionaire.</li><li>Sell my business for enough to set up six-figure trusts for my children.</li><li>Finish in the top ten at the Boston Marathon.</li><li>Compete in three Olympic Games.</li><li>Publish a book that hits the New York Times bestseller list.</li><li>Own a ranch that houses a non-profit animal sanctuary for big cats. </li></ul><p>Write your BHAG down in private and highly visible places. Look at it often. Tell people about it and expect wide-eyed feedback. Your big goal should incite a riot of reactions. If it doesnâ€™t, it may not be big, hairy, or audacious enough. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>There is no reason why BHAG success should be limited to businesses. Thatâ€™s why we recommend starting by setting a BHAG for yourself.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>Now that you have one giant goal to rule them all, you are ready to go to step two. Itâ€™s time to set a series of increasingly smaller goals that lead to the big one. Think of your BHAG as the final destination. Along the way, you have to cross a series of obstacles. These smaller goals will be the roads, stepping stones, or trails you will take and the tools and skills you will acquire that are necessary to get all the way there.</p><p>In her book <a href="https://www.amazon.com/Your-Goal-Guide-Planning-Achieving-ebook/dp/B07T3GZX1S/ref=sr_1_1_sspa?dchild=1&amp;keywords=your+goal+guide&amp;qid=1601577717&amp;sr=8-1-spons&amp;psc=1&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUFMWTdDQ1c5SjAyNDMmZW5jcnlwdGVkSWQ9QTA3NTI1ODExUkxDMTAxUkJFVkRSJmVuY3J5cHRlZEFkSWQ9QTA2MzU0Njg5NjBMUTg2UTFNR00md2lkZ2V0TmFtZT1zcF9hdGYmYWN0aW9uPWNsaWNrUmVkaXJlY3QmZG9Ob3RMb2dDbGljaz10cnVl"><em>Your Goal Guide</em></a>, author and goal-setting coach Debra Eckerling lays out a highly detailed plan for breaking a big ultimate goal into smaller goals that will keep you on the path to what she calls â€œGoalTopia.â€ She recommends that you first determine the long-term goals you will need to achieve in order to reach your final destination. Under each of those long term goals, you will list benchmarks or hurdles that you will need to clear to achieve those long-term goals. Under those benchmarks or hurdles, you will list tasks you need to take care of to clear the hurdles. </p><p>Letâ€™s look at the debt-free retirement in Costa Rica for example. One long term goal might be to pay off an existing mortgage in fifteen years. Under that, you need a list of increasingly smaller goals that may look something like this:</p><p><strong>The Big Goal: Retire debt free in Costa Rica</strong></p><ol><li>Pay off the existing mortgage in fifteen years.</li><li>Make two payments per month equal to twice the required payment.</li><li>Create and stick to a monthly budget.</li><li>Eliminate credit card debt.</li><li>Pay off the car loan. </li></ol><p>Outlines, lists, diagrams, funnels, using <a href="https://doit.io/why-doit/">a digital tool like doit</a>, filling in a goal worksheet: the format you use is entirely up to you. The important thing is to go through the process of taking that one big goal and breaking it down into smaller and smaller bites that can be accomplished steadily as you make your way. </p><h2 id="do-it-5-tips-and-tricks-for-goal-achievement">Do it: 5 Tips and Tricks for Goal Achievement</h2><p>Making the effort to seriously consider and intentionally set personal goals for yourself is a massive step in the right direction. Checking them off your list and getting the work done is the next challenge. In short, itâ€™s time to actually do it. Successful goal achievement is part psychology and part process. Set yourself up for success with some tips and tricks that <em>really</em> work. </p><ol><li><strong>The Psychology of Small Wins:</strong> There is real power in victories, no matter how small. Checking achievements off your goal list delivers a jolt of feel-good chemicals to your brain, such as dopamine. Your brain wants more of that, so you intrinsically become motivated to do it again and again. This is one of the reasons why breaking down goals into ever-smaller steps works so well. The more frequently you get that hit of pleasure, the more motivated you are to get back to work.<br></li><li><strong>Show Up:</strong> The act of simply showing up, no matter how you feel or â€¦</li></ol></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/goal-setting/">https://blog.doit.io/goal-setting/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/goal-setting/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727832</guid>
            <pubDate>Mon, 11 Jan 2021 12:05:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Code streaming: hundred ounces of nuances]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25727486">thread link</a>) | @todsacerdoti
<br/>
January 11, 2021 | https://solovyov.net/blog/2021/streaming/ | <a href="https://web.archive.org/web/*/https://solovyov.net/blog/2021/streaming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><p>A few months ago I got a feeling that Iâ€™d enjoy live streaming some coding. Not sure exactly, but it seemed to be somewhere along the lines of â€œsitting at home,â€ â€œnot enough people around to complain toâ€ and things like that. Plus it felt like it could spark some interesting discussions. Maybe. Also, this creates some time-based pressure to do smaller projects â€” because youâ€™re doing that every Wednesday (or whenever). And doing small things outside of general job-related stuff makes me feel like a person with wider interests. Who am I kidding though, itâ€™s all programming.</p>
<p>The issue here is that I canâ€™t just start doing something suddenly. I canâ€™t just buy a dishwashing machine  â€” I need to read up on what are the current features and trends and qualities and select the one I like. Itâ€™s the same with streaming  â€” I canâ€™t stream using Macbook cam even though Iâ€™m going to sit in a little sector of a video. I need a better webcam so I can feel like itâ€™s for real! So I set to research the topic.</p>
<h2 id="camera">Camera</h2>
<p>And it turns out <a href="https://vsevolod.net/good-webcams/">you canâ€™t buy a good webcam</a>. They are all shit â€” even if you pay $200+. If you want good picture quality the only way right now is to buy a photo camera with an HDMI capture card. All major brands have released drivers to connect cameras via USB, but those drivers are unanimously bad: USB2 can support compressed 1080p60, but those drivers only support 576p30. What is this madness I donâ€™t know, so you have to use an HDMI capture card.</p>
<p>The capture card could either be some <a href="https://aliexpress.com/item/4000917130635.html">cheap thingie</a> for $15 from Aliexpress, or an <a href="https://www.amazon.com/dp/B07K3FN5MR">Elgato Camlink 4K</a> for $130 (or other proper brand-name stuff for even more money). I settled on a cheap crap and it works fine for now: it doesnâ€™t support 4K, and 1080p is also questionable, but the resulting video quality is miles ahead of webcams and phones.</p>
<p>For a camera you have two non-negotiable properties:</p>
<ol>
<li>It should be able to work on AC power. Working on batteries and a charger is insanity when itâ€™s a non-mobile working place.</li>
<li>It should output the so-called â€œclean HDMIâ€. This means that HDMI output should contain whatever the camera sees but without all the technical information, which is present on a camera screen â€” like a shutter speed or a battery level.</li>
</ol>
<p>The second one just out-ruled my otherwise excellent Fuji X-T1, because it outputs only recorded footage at the HDMI port. It was painful to realize, but I went to a local classified site and bought a used Sony a5100 for $250.</p>
<p>There are a few reasons why a5100:</p>
<ol>
<li>Sonyâ€™s autofocus is the best on the market.</li>
<li>The sensor is good enough. I looked at <a href="https://www.dxomark.com/sony-a5100-sensor-review-uncompromising-performance/">dxomark</a> results and they are almost the same as much newer a6400 and a6600 have.</li>
<li>It has a flip-out screen that flips up 180Â° (sticking from the top of the camera). Excellent as a self-monitor, because it will work even if some of the components in the path fail.</li>
<li>Itâ€™s dirt cheap. Itâ€™s an older model made for 6 years already.</li>
</ol>
<p>Iâ€™d prefer to have Fuji â€” their colors are so much better to look at â€” but I wanted to keep investment low just in case in two months I decide I donâ€™t need it all. And the cheapest Fuji setup would be 2x from a5100 â€” partially because Sonyâ€™s kit lens is so cheaply made, ugh! Also, when I compared a5100 autofocus performance to my beloved X-T1 my jaw just dropped. Reviews suggest that newer Fuji cameras have improved greatly, but still are not on par with Sony.</p>
<h2 id="mount">Mount</h2>
<p>Of course, you canâ€™t just put a camera on your display. Webcams can do that, haha, shouldâ€™ve gone that way, right? Tripod is an option if you have a place to put it beside a table, but I donâ€™t. So I watched some YouTube videos to see how people mount cameras to film themselves and discovered a Magic Arm.</p>
<blockquote>
<p><em>Aside</em>: did I tell you I had to watch a lot of videos instead of reading text to discover everything? No? Now I did. Itâ€™s a bit painful, but lots and lots of information are in video format only, and text articles about streaming are hard to find and incomplete. I guess including this one. :-)</p>
</blockquote>
<iframe width="400px" height="225px" src="https://www.youtube.com/embed/yfE00pXkL8U" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<p>Back to the story. I never saw Magic Arms before, but the way they work is magical.</p>
<p>It seems that Manfrotto invented that stuff (canâ€™t find reliable sources, but I recall reading somewhere it was invented in 2008), but now everyone and their grandma are making clones of it. Clones are not even close in terms of quality to Manfrottoâ€™s products (or Matthews Infinity Arm, or other costly brands), but they are cheap! You can get a â€œdecentâ€ one along with a â€œcrabâ€ clamp for around 20-25$ here in Ukraine (and even cheaper on AliExpress). Itâ€™s made from aluminum and will die on you if you use it a lot, of course, but the plan is to leave it sitting in place.</p>
<p>So I bought a monitor stand (it was around $30) and put a magic arm there, and a little $4 ball head, and â€” bam! â€” camera is looking right at me now.</p>
<h2 id="microphone">Microphone</h2>
<p>They say that there are three important things in a video, in that order:</p>
<ol>
<li>Sound</li>
<li>Light</li>
<li>Video</li>
</ol>
<p>Andâ€¦ did you know that cameraâ€™s mic is the worst mic ever? By a weird coincidence â€” I tried to make a video with Fuji X-T1 a few times â€” I already knew that. They pick up weird frequency profiles (to a point where I canâ€™t listen to my voice from those mics), and they are <em>noisy as hell</em>. My MacBookâ€™s mic array is vastly superior to a camera mic! As you can guess to make all that feel more real I need an external microphone.</p>
<p>I knew next to nothing about mics, and I didnâ€™t just want to buy a Blue Yeti because itâ€™s a laymanâ€™s choice. Plus I had an audio interface with XLR input and a 48V phantom power<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>. So I went to read and watch some videos on mics and after some point stumbled upon <a href="https://www.neatmic.com/bee/worker-bee-microphone/">Neat Worker Bee</a> â€” see <a href="https://www.youtube.com/watch?v=ScI1U3ey9ZY&amp;t=630s">review</a> at Podcastage (which is one of two channels I liked about audio, the other being <a href="https://www.youtube.com/user/curtisjudd">Curtis Judd</a>).</p>
<p><img alt="worker bee image" height="300px" src="https://images-na.ssl-images-amazon.com/images/I/81iDWBewlfL._AC_SL1500_.jpg"></p><p>It turns out Neat Microphones were a subsidiary of Gibson and made some upper-class mics: like Worker Bee for $200 and King Bee for $300. But after Gibsonâ€™s bankruptcy Neatâ€™s CEO (and maybe some others, IDK) was able to buy it out. That CEO  â€” <a href="https://en.wikipedia.org/wiki/Skipper_Wise">Skipper Wise</a> â€” is also one of the founders of Blue Microphones. So Neat Mics are independent now and decided to change their pricing strategy. Unfortunately, King Bee is not produced anymore, but Worker Bee is sold for $90, which is a steal! It has loads of glowing reviews on YouTube and the designâ€¦ itâ€™s funny, and itâ€™s different, and I just like it. Too bad that itâ€™s mostly black from the back (especially sitting in a cradle), so itâ€™s a bit less interesting in a captured video than I hoped. But I bought one anyway.</p>
<p>Other big brands you probably know of â€” like Audio-Technica and Shure â€” are great as well. There are some other great companies Iâ€™ve never heard of before, like RÃ˜DE.</p>
<p>Various tests say that your listeners wonâ€™t be able to tell the difference if you have any mic costing from about $100. Do whatever you want with that information.</p>
<h2 id="sound-processing">Sound processing</h2>
<p><img alt="presonus audiobox 22vsl image" src="https://pae-web.presonusmusic.com/uploads/products/media/images/AudioBox_22VSL-02.png"></p><p>I mentioned that I already have an XLR interface to drive the mic â€” itâ€™s <a href="https://www.presonus.com/products/AudioBox-22VSL">Presonus AudioBox 22VSL</a>. Itâ€™s a good interface with reasonably good pre-amplifiers. Can I complain? You bet! Iâ€™m an expert complainer<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>!</p>
<p>And the main complaint is that itâ€™s just an audio interface. Let me elaborate.</p>
<p>There are a few things you could do with your voice: de-noise, compression, and equalization.</p>
<p>De-noise is self-describing, but important: when you stream, your laptop is going to make a lot of sound spinning coolers. This generates a lot of background noise which tires your listeners. Whatâ€™s more important, it drives me mad. This could be done in a simpler way, like noise gate â€” just silencing signal under some volume level, and in a more intelligent way, learning noise and then trying to clean the whole duration of a recording.</p>
<p>Compression is a really interesting way to improve voice signal: make quiet sounds louder and loud sounds quieter, â€œcompressingâ€ your sound volume to some middle level. This is good because then your distance to the microphone becomes less important, and whatâ€™s especially good â€” changing distance to a mic is much less pronounced, with a volume level being more stable.</p>
<p>Equalizers are used for two purposes. First is altering the perception of recorded voice â€” add lows to make it sound fuller, remove them if it sounds â€œmuddyâ€; add highs to make it airier, remove if it cuts your ears; alter mids for better understanding; you know, usual equalizer stuff. Another one is that mics are not perfect and the recorded voice could have some irritating frequencies. Go see <a href="https://www.youtube.com/watch?v=Jn6iB1SNvRQ">Curtis' video</a> on that â€” itâ€™s pretty interesting, but itâ€™s a bit too hard. I tried looking at my recordings but it feels like it needs someone with a trained ear. :)</p>
<p>There are two ways how to do those things: either youâ€™re doing that on your computer or itâ€™s done in a DSP of your audio interface. DSP is vastly superior, of course: it does not add latency, there is no additional load on your CPU, and last, but not least, all your audio receiving apps will receive same processed sound, be it OBS, Zoom, browser or anything else. But, of course, 22VSL has no DSP â€” itâ€™s just an audio interface! So I have to do all that in software.</p>
<p><img alt="voicemeeter image" src="https://vb-audio.com/Voicemeeter/VoicemeeterBananaMixer.jpg"></p><p>For software letâ€™s look at Windows side first. There is an app for Windows called <a href="https://vb-audio.com/Voicemeeter/banana.htm">VoiceMeeter Banana</a>, which replaces the system mixer and allows you to do all the things you want â€” compressor, eq, even some de-noising. And then silently sits in the tray. Nothing like that exists for macOS! Every article on the web tells you â€œget a DAW and put a sound through thereâ€. DAW is something like SoundForge or Cubase or Ableton Live or Reaper. All of them are pretty expensive (Reaper is cheapest from 60$), eat a lot of memory, have highly cryptic interfaces, and are not resident apps. Each and every one of them thinks itâ€™s the <em>main</em> app of your life, eating like 10% of a core just to sit there. Ugh. GIVE ME BANANA!</p>
<h3 id="hardware-way">Hardware way</h3>
<p><img alt="yamaha ag03 image" src="https://usa.yamaha.com/files/3723ECB0493643A4A223EA68E569A046_12073_990x990_c1f536d33591de0431d896a13451fe11.jpg"></p><p>I found two interfaces with DSP under $500: Yamaha AG03 (and AG06) for $170 and Steinberg (which is also Yamaha) UR22C (UR24C etc) for $250.</p>
<p><a href="https://usa.yamaha.com/products/music_production/interfaces/ag_series/ag03.html">Yamaha AG03</a> has a 4-line equalizer and a compressor, but no de-noise, which is a shame. I â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://solovyov.net/blog/2021/streaming/">https://solovyov.net/blog/2021/streaming/</a></em></p>]]>
            </description>
            <link>https://solovyov.net/blog/2021/streaming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727486</guid>
            <pubDate>Mon, 11 Jan 2021 11:21:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To $4m ARR in 3 years, bootstrapped (7 secrets revealed)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25727141">thread link</a>) | @Ilyazovtsev
<br/>
January 11, 2021 | https://ilya.today/gh-from-0-to-4mln | <a href="https://web.archive.org/web/*/https://ilya.today/gh-from-0-to-4mln">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://ilya.today/gh-from-0-to-4mln</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727141</guid>
            <pubDate>Mon, 11 Jan 2021 10:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analyzing a new macOS System Release]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25727100">thread link</a>) | @kaendfinger
<br/>
January 11, 2021 | https://blog.endfinger.io/apple/macos/technical/jolk/2021/01/10/jolk.html | <a href="https://web.archive.org/web/*/https://blog.endfinger.io/apple/macos/technical/jolk/2021/01/10/jolk.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Perhaps my favorite time of the year is when the annual Apple <a href="https://en.wikipedia.org/wiki/Apple_Worldwide_Developers_Conference">WWDC</a> conference occurs. I am heavily inspired by Appleâ€™s Software and Hardware meld, and I truly enjoy nearly every ounce of the conference. But nothing compares to the love I have for the macOS operating system. With itâ€™s deep history and Unix origins, it brings an interesting take on a consumer operating system.</p>

<p>But macOS has one central problem, itâ€™s almost entirely proprietary. macOS consists of <a href="https://opensource.apple.com/">a few open source components</a>, and a majority proprietary components. As someone with a strong Open Source origin and a professional grounding in software companies, it can be hard for me to sympathize with the belief that all software should be Open Source, but at the same time, Iâ€™m a curious developer, and I love knowing how things work.</p>

<p>This is what excites me every time a new macOS release is announced. I want to understand the technical foundations and changes on an entusiast level!</p>

<p>Thatâ€™s why Iâ€™ve built a macOS system analysis tool called <a href="https://github.com/kendfinger/jolk">jolk</a>. jolk aims to scan and analyze all the executables found on a macOS installation and reports results about interesting findings.</p>

<p>First, let me dive into the most important note in this entire post. I am doing this purely as an enthusiest. I want to understand what makes up the macOS operating system. For example, I want to understand what daemons run when I use my FaceTime HD Camera on my MacBook Pro, or how the boot process on Apple M1 devices work. There is no intention of malicious use in this tool.</p>

<h2 id="what-is-jolk">What is jolk?</h2>

<p><a href="https://github.com/kendfinger/jolk">jolk</a> is a tool which will scan, analyze, and report the executables installed on a macOS system, providing useful details which can help whittle down to interesting aspects of the system. jolk is portmanteau of the words jog and walk. This is an personal inside joke to the time in which I owned the domain <code>idont.run</code>.</p>

<p>jolk combines a system executable finder and an executable analyzer. Using various built-in macOS development tools, you can discover a lot about what is installed on a system. jolk automates that task.</p>

<p>jolk currently supports the following analyzer passes:</p>

<ul>
  <li>lipo: discovers what architectures an executable supports using, you guessed it, the <code>lipo</code> tool.</li>
  <li>dynamic linker: determines frameworks and libraries that the executable links to.</li>
  <li>launchd: finds launchd services which reference the executable.</li>
  <li>strings: scans the executable for interesting strings.</li>
  <li>man page: backsearches man pages for mentions of the executable.</li>
</ul>

<h2 id="how-can-i-use-jolk">How can I use jolk?</h2>

<p>jolk can be ran by cloning the repository and building the jolk tool with Xcode.</p>

<p>Letâ€™s start with an example usage of jolk to discover what the <code>/usr/libexec/remotectl</code> executable does.</p>

<div><div><pre><code><span>$ </span>jolk <span>-o</span> remotectl.json <span>-i</span> <span>'/usr/libexec/remotectl'</span>
analyze /usr/libexec/remotectl
<span>complete</span> /usr/libexec/remotectl 253.41ms
</code></pre></div></div>

<p>This will produce a JSON report in the file <code>remotectl.json</code> which contains relevant information about the <code>remotectl</code> utility.</p>

<div><div><pre><code><span>{</span><span>
  </span><span>"/usr/libexec/remotectl"</span><span> </span><span>:</span><span> </span><span>{</span><span>
    </span><span>"dynamic-linker.linked-files"</span><span> </span><span>:</span><span> </span><span>[</span><span>
      </span><span>"/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/BridgeXPC.framework/Versions/A/BridgeXPC"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/RemoteXPC.framework/Versions/A/RemoteXPC"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/RemoteServiceDiscovery.framework/Versions/A/RemoteServiceDiscovery"</span><span>,</span><span>
      </span><span>"/usr/lib/libobjc.A.dylib"</span><span>,</span><span>
      </span><span>"/usr/lib/libSystem.B.dylib"</span><span>,</span><span>
      </span><span>"/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation"</span><span>
    </span><span>],</span><span>
    </span><span>"dynamic-linker.linked-frameworks"</span><span> </span><span>:</span><span> </span><span>[</span><span>
      </span><span>"/System/Library/Frameworks/Foundation.framework"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/BridgeXPC.framework"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/RemoteXPC.framework"</span><span>,</span><span>
      </span><span>"/System/Library/PrivateFrameworks/RemoteServiceDiscovery.framework"</span><span>,</span><span>
      </span><span>"/System/Library/Frameworks/CoreFoundation.framework"</span><span>
    </span><span>],</span><span>
    </span><span>"lipo.architectures"</span><span> </span><span>:</span><span> </span><span>[</span><span>
      </span><span>"x86_64"</span><span>,</span><span>
      </span><span>"arm64e"</span><span>
    </span><span>],</span><span>
    </span><span>"man-page.exists"</span><span> </span><span>:</span><span> </span><span>false</span><span>,</span><span>
    </span><span>"strings.likely.has-help-flag"</span><span> </span><span>:</span><span> </span><span>false</span><span>,</span><span>
    </span><span>"strings.likely.has-usage"</span><span> </span><span>:</span><span> </span><span>true</span><span>
  </span><span>}</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>Hmm, it appears from the entry <code>"strings.likely.has-usage" : true</code> that this command has a usage message, lets run the tool to see if we can capture the usage.</p>

<div><div><pre><code><span>$ </span>/usr/libexec/remotectl
usage: remotectl list
usage: remotectl show <span>(</span><span>type</span>|name|uuid|trait<span>)</span>
usage: remotectl get-property <span>(</span><span>type</span>|name|uuid|trait<span>)</span> <span>[</span>service] property
usage: remotectl dumpstate
usage: remotectl browse
usage: remotectl <span>echo</span> <span>[</span><span>-v</span> service_version] <span>[</span><span>-d</span> <span>(</span><span>type</span>|name|uuid|trait<span>)]</span>
usage: remotectl echo-file <span>(</span><span>type</span>|name|uuid|trait<span>)</span> path
usage: remotectl eos-echo
usage: remotectl netcat <span>(</span><span>type</span>|name|uuid|trait<span>)</span> service
usage: remotectl relay <span>(</span><span>type</span>|name|uuid|trait<span>)</span> service
usage: remotectl loopback <span>(</span>attach|connect|detach|suspend|resume<span>)</span>
usage: remotectl bonjour <span>((</span><span>enable</span>|enable-loopback interface_name<span>)</span>|<span>(</span>disable<span>))</span>
usage: remotectl convert-bridge-version plist-in-path bin-out-path
usage: remotectl heartbeat <span>(</span><span>type</span>|name|uuid|trait<span>)</span>
usage: remotectl trampoline <span>[</span><span>-2</span> fd] service_name <span>command </span>args ... <span>[</span> <span>--</span> <span>[</span><span>-2</span> fd] service_name <span>command </span>args ... <span>]</span>
usage: remotectl reset <span>(</span><span>type</span>|name|uuid|trait<span>)</span>
usage: remotectl <span>alias</span> <span>(</span><span>type</span>|name|uuid|trait<span>)</span> <span>alias</span>
</code></pre></div></div>

<p>It also appears that <code>remotectl</code> links to the framework <code>/System/Library/PrivateFrameworks/RemoteServiceDiscovery.framework</code>, I bet thatâ€™s got some interesting uses. Maybe I will investigate other executables later that use this framework. By running jolk without an <code>include</code> flag, we can scan the entire system, and find any executables that link this framework.</p>

<h2 id="future-improvements">Future Improvements</h2>

<p>My ultimate goal is for jolk is to be able to scan, diff, and analyze multiple macOS releases to discover what has truly changed about the system between releases. Please donâ€™t hesitate to create issues on the repository for suggestions or improvements.</p>

<h2 id="conclusion">Conclusion</h2>

<p>jolk is intended to be used for enthusiast analysis of a macOS system. I hope other enthusiasts find this tool interesting and useful.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://blog.endfinger.io/apple/macos/technical/jolk/2021/01/10/jolk.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727100</guid>
            <pubDate>Mon, 11 Jan 2021 10:36:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web apps are too complex. This is how we can simplify them]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25726700">thread link</a>) | @pietmichal
<br/>
January 11, 2021 | https://michalpietraszko.com/web-apps-are-too-complex-this-is-how-we-can-simplify-them/ | <a href="https://web.archive.org/web/*/https://michalpietraszko.com/web-apps-are-too-complex-this-is-how-we-can-simplify-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="articleBody"><p>I believe that we can do a better job of managing the complexity of our apps.</p>
<p>Not many of us realize how many second-order effects our decisions have caused.</p>
<p>Letâ€™s see how complexity had grown over time.</p>
<h2>The Static era</h2>
<p>Simple times. We had a MySQL database, business logic and HTML + CSS views.</p>
<p>All content was static, the browserâ€™s job was to display content, navigate and submit forms.</p>
<p><span>
      <a href="https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/23296/simple.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Simple web app architecture diagram" title="Simple web app architecture diagram" src="https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/f058b/simple.png" srcset="https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/c26ae/simple.png 158w,
https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/6bdcf/simple.png 315w,
https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/f058b/simple.png 630w,
https://michalpietraszko.com/static/5a46cad524761cec773ff2212a339f3b/23296/simple.png 675w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span></p>
<p>I like to think about test effort as a benchmark for simplicity. There were 3 layers.</p>
<p>Business logic and persistence layer can be easily integrated and view layer can be browser tested.</p>
<p>You may need a tester, developer, and a designer to maintain something like this. It is realistic to have one person responsible for all of this.</p>
<h2>The AJAX era</h2>
<p>JavaScript opened a door for more considerations in user experience. Adding a dynamic menu, forms, or calendar to a WordPress website was the coolest thing you could do.</p>
<p><span>
      <a href="https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/23296/ajax.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="web app with javascript architecture diagram" title="web app with javascript architecture diagram" src="https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/f058b/ajax.png" srcset="https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/c26ae/ajax.png 158w,
https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/6bdcf/ajax.png 315w,
https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/f058b/ajax.png 630w,
https://michalpietraszko.com/static/e4346edb319dee1705e11e6dd38791a4/23296/ajax.png 675w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span></p>
<p>We have a complexity spike on the client-side.</p>
<p>Many browsers differed in JS implementation, which required jQuery to come into existence.</p>
<p>This gave a lot of power to designers and has moved more engineering effort into the front end. JavaScript made the browser extensible.</p>
<p>Did the testing complexity increase? Yes. Each new JavaScript bit could only be tested in a browser.</p>
<p>This requires testing, backend programming, JavaScript, and design expertise in your team. Jumping between server-side and client-side languages became frustrating. There was a trend to have different people responsible for each side.</p>
<h2>The Single-page era</h2>
<p>Remember the first example of the Angular.js app? The input field that automatically updated the content of the div? Good times.</p>
<p>Welcome to the single-page era where front-end development became even more complex than back-end development - mostly due to relevant logic moving to the client. As a result, the divide has increased and <a href="https://medium.com/@ericclemmons/javascript-fatigue-48d4011b6fc4">JavaScript fatigue</a> became a thing.</p>
<p><span>
      <a href="https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/cd138/spa.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="single-page application architecture diagram" title="single-page application architecture diagram" src="https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/f058b/spa.png" srcset="https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/c26ae/spa.png 158w,
https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/6bdcf/spa.png 315w,
https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/f058b/spa.png 630w,
https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/40601/spa.png 945w,
https://michalpietraszko.com/static/1e77454e6a0f33cdde1452c823e55b4f/cd138/spa.png 1220w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span></p>
<p>We have ended up with two apps that are tightly coupled.</p>
<p>To maintain this, you need at least someone experienced in testing, backend, frontend development (extensive framework, tooling, and browser knowledge), and design.</p>
<p>Now, two apps have to be maintained, and there is much more code than ever. You have to maintain unit, integration, and end to end tests on both sides. Now business logic is not directly accessible due to security concerns.
Frontend and backend now have to maintain layers that are responsible for communication.</p>
<p>Client code needs lots of API mocks to be tested on lower levels - DOM tests are resource-heavy.</p>
<p>Orchestration becomes difficult because you have to make sure that deployments are synchronized. It is even more difficult if you have separate teams for the backend and frontend.</p>
<p>Donâ€™t forget about browser testing that also can have a lot of overlap with client-side integration tests. Even more, things to consider in terms of complexity and trade-offs.</p>
<p>That resulted in more code, which contributed to - again - increased complexity.</p>
<p>SEO became problematic, but thankfully this problem has been addressed by the ecosystem through <a href="https://reactjs.org/docs/react-dom-server.html">server-side rendering</a> and <a href="https://reactjs.org/docs/react-dom.html#hydrate">hydration</a>.</p>
<p>Good patterns have emerged too. UX became better and more creative. We are finally capable of defining client-side logic in a manageable and scalable way.</p>
<p>We all know now that we want to have components and avoid excessive side effects, together with uncontrollable state mutation.</p>
<p>React de facto became a standard.</p>
<h2>Simplicity renaissance</h2>
<p>The remedy to complexity is embracing the coupling and making the developer experience unified.</p>
<p><span>
      <a href="https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/9cea8/how-it-feels.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="how it feels" title="how it feels" src="https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/f058b/how-it-feels.png" srcset="https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/c26ae/how-it-feels.png 158w,
https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/6bdcf/how-it-feels.png 315w,
https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/f058b/how-it-feels.png 630w,
https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/40601/how-it-feels.png 945w,
https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/78612/how-it-feels.png 1260w,
https://michalpietraszko.com/static/101dc9780084c3b29106640f8ea67894/9cea8/how-it-feels.png 1278w" sizes="(max-width: 630px) 100vw, 630px" loading="lazy">
  </a>
    </span></p>
<h3>Simplicity through innovation in older frameworks.</h3>
<p>Ruby on Rails and Laravel are relevant.</p>
<p>Consider them. Their maturity will allow you to move very fast.</p>
<p>They have recently innovated in many interesting ways.</p>
<p>Take a look at <a href="https://laravel.com/docs/8.x/blade#components">Laravelâ€™s components</a> or RoRâ€™s <a href="https://hotwire.dev/">Hotwire</a>!</p>
<p>You can have an SPA experience while still writing a unified app!</p>
<h3>Simplicity through new generation of React frameworks.</h3>
<p>People who want to stay in JavaScript land should consider the following.</p>
<p><a href="https://nextjs.org/">Next.js</a> started a good trend by putting React and server logic next to each other.</p>
<p><a href="https://blitzjs.com/">Blitz.js</a>, which is based on Next, is a good ruby on rails equivalent. It brings the right amount of abstraction that makes you treat your app as a unified whole. Using it sometimes feels like cheating - in a good way. It inspired me to talk about the complexity issue in our ecosystem.</p>
<p><a href="https://remix.run/">Remix</a> with a fresh take on the problem domain and bringing a lot of good and forgotten patterns.</p>
<h3>Reactâ€™s Server Components to make everything even better.</h3>
<p>Recently, the React team has presented a new idea that can make our component-driven world better.</p>
<p><a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">Consider reading the article and watching their presentation</a>.</p>
<p>When they are released, then we will end up in the best-case scenario where web apps are only dynamic in
places that require it without having to jump between server-side and client-side paradigms.</p>
<p>All of the frameworks above will benefit from them.</p>
<h2>In conclusion</h2>
<p>We should start asking ourselves if our standard approach is something we still want to maintain.</p>
<p>Suggested frameworks reduce complexity and allow us to experience the simplicity of older approaches while having the benefits of the modern approach.</p>
<p>They embrace the fact that both backend and frontend are tightly coupled and make the developer experience unified.</p>
<p>This is an opportunity to write less code, spend less time testing, simplify orchestration, spend less money on more people having to maintain the complexity, and put more effort into products we are trying to create.</p></section></div>]]>
            </description>
            <link>https://michalpietraszko.com/web-apps-are-too-complex-this-is-how-we-can-simplify-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726700</guid>
            <pubDate>Mon, 11 Jan 2021 09:42:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin v0.1 Released (2009)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25726674">thread link</a>) | @Bluestein
<br/>
January 11, 2021 | http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/ | <a href="https://web.archive.org/web/*/http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"> 
	<section id="primary">
		<main id="main" role="main">
				
			<span id="shash">
	<article id="post-80">
		
				
		<!-- .entry-header -->

		<div>


			<p>Announcing the first release of Bitcoin, a new electronic cash<br>
system that uses a peer-to-peer network to prevent double-spending.<br>
Itâ€™s completely decentralized with no server or central authority.</p>
<p>See bitcoin.org for screenshots.</p>
<p>Download link:<br>
http://downloads.sourceforge.net/bitcoin/bitcoin-0.1.0.rar</p>
<p>Windows only for now. Open source C++ code is included.</p>
<p>â€“ Unpack the files into a directory<br>
â€“ Run BITCOIN.EXE<br>
â€“ It automatically connects to other nodes</p>
<p>If you can keep a node running that accepts incoming connections,<br>
youâ€™ll really be helping the network a lot. Port 8333 on your<br>
firewall needs to be open to receive incoming connections.</p>
<p>The software is still alpha and experimental. Thereâ€™s no guarantee<br>
the systemâ€™s state wonâ€™t have to be restarted at some point if it<br>
becomes necessary, although Iâ€™ve done everything I can to build in<br>
extensibility and versioning.</p>
<p>You can get coins by getting someone to send you some, or turn on<br>
Options-&gt;Generate Coins to run a node and generate blocks. I made<br>
the proof-of-work difficulty ridiculously easy to start with, so<br>
for a little while in the beginning a typical PC will be able to<br>
generate coins in just a few hours. Itâ€™ll get a lot harder when<br>
competition makes the automatic adjustment drive up the difficulty.<br>
Generated coins must wait 120 blocks to mature before they can be<br>
spent.</p>
<p>There are two ways to send money. If the recipient is online, you<br>
can enter their IP address and it will connect, get a new public<br>
key and send the transaction with comments. If the recipient is<br>
not online, it is possible to send to their Bitcoin address, which<br>
is a hash of their public key that they give you. Theyâ€™ll receive<br>
the transaction the next time they connect and get the block itâ€™s<br>
in. This method has the disadvantage that no comment information<br>
is sent, and a bit of privacy may be lost if the address is used<br>
multiple times, but it is a useful alternative if both users canâ€™t<br>
be online at the same time or the recipient canâ€™t receive incoming<br>
connections.</p>
<p>Total circulation will be 21,000,000 coins. Itâ€™ll be distributed<br>
to network nodes when they make blocks, with the amount cut in half<br>
every 4 years.</p>
<p>first 4 years: 10,500,000 coins<br>
next 4 years: 5,250,000 coins<br>
next 4 years: 2,625,000 coins<br>
next 4 years: 1,312,500 coins<br>
etcâ€¦</p>
<p>When that runs out, the system can support transaction fees if<br>
needed. Itâ€™s based on open market competition, and there will<br>
probably always be nodes willing to process transactions for free.</p>
<p>Satoshi Nakamoto
</p>
<p element-id="80">40,755&nbsp;total views, 3&nbsp;views today</p>

<!-- AddThis Advanced Settings above via filter on the_content --><!-- AddThis Advanced Settings below via filter on the_content --><!-- AddThis Advanced Settings generic via filter on the_content --><!-- AddThis Share Buttons above via filter on the_content --><!-- AddThis Share Buttons below via filter on the_content --><!-- AddThis Share Buttons generic via filter on the_content -->


<!-- SatoshiNakamoto.me Wide -->
<p><ins data-ad-client="ca-pub-4103758802938532" data-ad-slot="3538571140"></ins>


			<span id="source">https://www.mail-archive.com/cryptography%40metzdowd.com/msg10142.html</span></p><!-- <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/"
    dc:identifier="http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/"
    dc:title="Bitcoin v0.1 released"
    trackback:ping="http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/trackback/" />
</rdf:RDF> -->
			
		</div><!-- .entry-content -->
		
		<!-- .entry-footer -->

	</article>
</span>


		
		</main><!-- #main -->
	</section><!-- #primary -->
	
		<!-- #secondary -->	
	
	</div></div>]]>
            </description>
            <link>http://satoshinakamoto.me/2009/01/09/bitcoin-v0-1-released/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726674</guid>
            <pubDate>Mon, 11 Jan 2021 09:37:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ Haskell is our first choice for building production software systems]]>
            </title>
            <description>
<![CDATA[
Score 266 | Comments 291 (<a href="https://news.ycombinator.com/item?id=25726588">thread link</a>) | @Albert_Camus
<br/>
January 11, 2021 | https://www.foxhound.systems/blog/why-haskell-for-production/ | <a href="https://web.archive.org/web/*/https://www.foxhound.systems/blog/why-haskell-for-production/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Haskell is the first programming language we reach for when we build production software systems. This likely seems unusual to anyone who only has a passing familiarity with the language. Haskell has a reputation for being an advanced language with a steep learning curve. It is also often thought of as a research language with limited practical utility.</p>
<p>While Haskell does have a very large surface area, with many concepts and a syntax that will feel unfamiliar to programmers coming from most other languages, it is unrivaled in the combination of developer productivity, code maintainability, software reliability, and performance that it offers. In this post I will cover some of the defining features of Haskell that make it an excellent, industrial-strength language that is well-suited for building commercial software, and why it is usually the first tool we consider using for new projects.</p>
<!--more-->
<h2 id="haskell-has-a-strong-static-type-system-that-prevents-errors-and-reduces-cognitive-load">Haskell has a strong static type system that prevents errors and reduces cognitive load</h2>
<p>Haskell has a very powerful static type system which serves as a programmer aid that catches and prevents many errors before code ever even runs. Many programmers encounter statically typed languages like Java or C++ and find that the compiler feels like an annoyance. By contrast, Haskellâ€™s static type system, in conjunction with compile-time type checking, acts as an invaluable pair-programming buddy that gives instantaneous feedback during development.</p>
<p>Thereâ€™s a far smaller cognitive load that needs to be maintained when writing Haskell than when writing in languages like Python, JavaScript, or PHP. Many concerns can be completely offloaded to the compiler rather than needing to be remembered by the programmer. For example, when writing Haskell, thereâ€™s no need to preemptively ask questions like:</p>
<ul>
<li>Do I need to check whether this field is null?</li>
<li>What if fields are missing from the request payload?</li>
<li>Has this string already been decoded to an integer?</li>
<li>What if this string canâ€™t be decoded to an integer?</li>
<li>Will this operator implicitly convert this integer to a string?</li>
<li>Are these two values comparable?</li>
</ul>
<p>This is not to say that these are questions that never need answering in Haskell; itâ€™s to say that the compiler will throw an error when you need to address one of these issues. For example, itâ€™s possible that a Haskell program needs to handle values that are sometimes not present, but instead of setting any value to <code>NULL</code>, a Haskell programmer must use a <code>Maybe</code> type, which indicates that the value may not be there, and the compiler forces the programmer to explicitly handle the <code>Nothing</code> value; the case where the value is not present.</p>
<p>Haskellâ€™s static type system also leads to other benefits. Haskell code uses type signatures that precede its functions and describe the types of each parameter and return value. For example, a signature like <code>Int -&gt; Int -&gt; Bool</code> indicates that a function takes two integers and returns a boolean value. Since these type signatures are checked and enforced by the compiler, this allows a programmer reading Haskell code to look only at type signatures when getting a sense of what a certain piece of code does. For example, one would not use the type signature above when looking for a function that manipulates strings, decodes JSON, or queries a database.</p>
<p>Type signatures can even be used to search through the entire corpus of Haskell code for a relevant function. Using <a href="https://hoogle.haskell.org/" target="_blank" rel="noopener">Hoogle</a>, Haskellâ€™s API search, we can search for a type signature based off of functionality we know that we need. For example, if we need to convert an <code>Int</code> to a <code>Float</code>, we can search Hoogle for <code>Int -&gt; Float</code> (<a href="https://hoogle.haskell.org/?hoogle=Int+-%3E+Float" target="_blank" rel="noopener">search results</a>), which will point us to the aptly named <code>int2Float</code> function.</p>
<p>Haskell also lets us create polymorphic type signatures through the use of type variables, represented by lowercase type names. For example, a signature of <code>a -&gt; b -&gt; a</code> tells us that that the function takes two parameters of two arbitrary types, and returns a value that whose type is the same as the first parameter. Suppose we want to check whether an element is in a list. Weâ€™re looking for a function that takes an item to search for, a list of items, and returns a boolean. We donâ€™t care about the type of the item, so long as the search item and the items in the list are of the same type. So we can search Hoogle for <code>a -&gt; [a] -&gt; Bool</code> (<a href="https://hoogle.haskell.org/?hoogle=a%20-%3E%20%5Ba%5D%20-%3E%20Bool" target="_blank" rel="noopener">search results</a>), which will point us to the <code>elem</code> function. Parametric types are an extremely powerful feature in Haskell and are what enable writing reusable code.</p>
<h2 id="haskell-enables-writing-code-that-is-composable-testable-and-has-predictable-side-effects">Haskell enables writing code that is composable, testable, and has predictable side-effects</h2>
<p>In addition to being statically typed, Haskell is a pure functional programming language. This is one of Haskellâ€™s defining features and what the language is well known for, even amongst programmers that have only heard of Haskell but never used it. Writing in a pure functional style has many benefits, and is conducive to a well-organized code base.</p>
<p>The word â€œpureâ€ in â€œpure functional programmingâ€ is significant. Purity in this sense means that the code we write is pure, or free of side-effects. Another term that describes this is <a href="https://en.wikipedia.org/wiki/Referential_transparency" target="_blank" rel="noopener">referential transparency</a>, or the property where any expression (e.g.&nbsp;a function call with a given list of parameters) can be replaced with its return value without changing the functionality of the code. This is only possible when such pure functions do not have side effects, such as creating files on the host system, running database queries, or making HTTP requests. Haskellâ€™s type system imposes this sort of purity.</p>
<p>So does being pure mean that Haskell programs cannot have side effects? Certainly notâ€”but it does mean that effects are pushed to the edge of our system. Any functions that perform I/O actions (such as querying a database or receiving HTTP requests) must have a return type that captures this. This means that type signatures like the ones we saw in the previous section (e.g.&nbsp;<code>Int -&gt; Float</code> or <code>a -&gt; [a] -&gt; Bool</code>) are indicators that the corresponding functions do not produce side effects, since <code>Float</code> and <code>Bool</code> are just primitive return types. For a contrasting example that includes a side effect, a function signature of <code>FilePath -&gt; IO String</code> indicates that the function takes a file path and performs an I/O action that returns a string (which is exactly what the <code>readFile</code> function does).</p>
<p>Another feature of a pure functional programming paradigm is higher-order functions, which are functions that take functions as parameters. One of the most commonly used higher-order functions is <code>fmap</code>, which applies a function to each value in a container (such as a list). For example, we can apply a function named <code>square</code>, which takes an integer and returns that integer multiplied by itself, to a list of integers to turn it into a list of squared integers:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>square ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-2">square x <span>=</span> x <span>*</span> x</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span>fmap</span> square [<span>1</span>,<span>2</span>,<span>3</span>,<span>4</span>,<span>5</span>] <span>-- returns [1,4,9,16,25]</span></span></code></pre></div>
<p>Code written in this style tends to be both composable and testable. This above example is trivial, but there are many applications of higher-order functions. For example, we can write a function like <code>renderPost</code> which takes a record of post data and returns the version of the post rendered in HTML. If we have a list of posts, we can run <code>fmap renderPost postList</code> to produce a list of rendered posts. Our <code>renderPost</code> function can be used in both the single case and the multi-post case without any changes, because composing it with <code>fmap</code> changes how we can apply it. We can also write tests for the <code>renderPost</code> function and compose it with <code>fmap</code> in our tests when validating the behavior for a list of posts.</p>
<h2 id="haskell-facilitates-rapid-development-worry-free-refactoring-and-excellent-maintainability">Haskell facilitates rapid development, worry-free refactoring, and excellent maintainability</h2>
<p>Through the combination of the aforementioned static types and pure functional style that Haskell has, developing software in Haskell tends to be very fast. One of the common development workflows we employ is relies on a tool called <a href="https://github.com/ndmitchell/ghcid" target="_blank" rel="noopener"><code>ghcid</code></a>, a simple command line tool that relies on the Haskell REPL to automatically watch code for changes and incrementally recompile. This allows us to see any compiler errors in our code immediately after saving changes to a file. Itâ€™s not uncommon for us to open only a terminal with a text editor in one pane and <code>ghcid</code> in another while developing applications in Haskell.</p>
<p>While manually validating the results of our code is eventually necessary, such as by refreshing a page in a browser or using a tool to validate a JSON endpoint, a lot of this can be deferred until the end of a programming session. Many of the runtime errors that a programmer would encounter when writing a web service in a language like Python or PHP are caught immediately and displayed as compiler errors by <code>ghcid</code>. This is a far cry from the need to switch to a browser window and refresh the page after making a change to some code; a development workflow that everyone who has worked on a web application is intimately familiar with.</p>
<p>Beyond the tight feedback loop during development, Haskell code is easy to refactor and modify. Like real world code written in any other language, such code written in Haskell is not write-only. It will eventually need to be maintained, updated, and extended, often by developers that are not the original authors of the code. With the aid of compile-time checking, many code refactors in Haskell become easy; a common refactoring workflow is to make a desired change in one location and then fix one compiler error at a time until the program compiles again. This is far easier than the equivalent changes in dynamically typed languages that offer no such assistance to the programmer.</p>
<p>Proponents of dynamically typed languages will often argue that automated tests supplant the need for compile-time type checking, and can help prevent errors as well. However, tests are not as powerful as type constraints. For tests to be effective, they must:</p>
<ol type="1">
<li>Actually be written, yet many real world code bases have limited testing.</li>
<li>Make correct assertions.</li>
<li>Be â€¦</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.foxhound.systems/blog/why-haskell-for-production/">https://www.foxhound.systems/blog/why-haskell-for-production/</a></em></p>]]>
            </description>
            <link>https://www.foxhound.systems/blog/why-haskell-for-production/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726588</guid>
            <pubDate>Mon, 11 Jan 2021 09:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Create a Windows installer for your Haskell project]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25726367">thread link</a>) | @unhammer
<br/>
January 11, 2021 | https://blog.patchgirl.io/haskell/2020/10/30/windows-installer-for-haskell-software.html | <a href="https://web.archive.org/web/*/https://blog.patchgirl.io/haskell/2020/10/30/windows-installer-for-haskell-software.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>30 Oct 2020</span></p><p>In this blog post, Iâ€™ll try to explain how you can create a really simple installer for your Haskell software on Windows and how to deal with external dependencies.</p>



<p>Alright, letâ€™s get started. We are going to build a simple installer. It will install a desktop shortcut as well as a link shortcut in the start menu.
We will be using <a href="https://docs.haskellstack.org/en/stable/README/">Stack</a> to build our Haskell project and <a href="https://nsis.sourceforge.io/Main_Page">NSIS</a> to write the installer.</p>

<blockquote>
  <p>Note: GHC 8.8.[2|3|4] as well as 8.10.[1|2] are broken on windows so while we wait for 8.10.3 to fix everything, we will have to use 8.6.5 for now.</p>
</blockquote>

<p>Distributing software with external dependencies is slightly more complicated but not uncommon. We will make our project use <a href="https://github.com/lpsmith/postgresql-simple/">postgresql-simple</a> so we can learn how to deal with dependencies <img title=":books:" alt=":books:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png" height="20" width="20"></p>

<p>I will assume you have Postgresql, Stack, and NSIS installed already! Also, Iâ€™ll be using Powershell as a terminal.</p>



<p>So letâ€™s start by creating a simple dummy project: <code>stack new hello-world-app</code></p>

<p>As said before we want to use GHC 8.6.5 so letâ€™s fix the resolver in <code>stack.yml</code>:</p>

<div><div><pre><code><span>resolver</span><span>:</span> <span>lts-14.27</span> <span># use ghc 8.6.5</span>

<span>packages</span><span>:</span>
<span>-</span> <span>.</span>
</code></pre></div></div>

<p>We also want to use postgresql-simple so letâ€™s add a dependency in <code>package.yml</code>:</p>

<div><div><pre><code><span>dependencies</span><span>:</span>
<span>-</span> <span>base &gt;= 4.7 &amp;&amp; &lt; </span><span>5</span>
<span>-</span> <span>postgresql-simple</span>

<span>...</span>
</code></pre></div></div>

<p>Finally, we make our software use only one function which query our postgres DB just to make sure itâ€™s running:</p>

<div><div><pre><code><span>{-# LANGUAGE OverloadedStrings   #-}</span>
<span>{-# LANGUAGE QuasiQuotes         #-}</span>
<span>{-# LANGUAGE ScopedTypeVariables #-}</span>

<span>module</span> <span>Lib</span>
    <span>(</span> <span>isPostgresRunning</span>
    <span>)</span> <span>where</span>

<span>import</span> <span>qualified</span> <span>Database.PostgreSQL.Simple</span>       <span>as</span> <span>PG</span>
<span>import</span>           <span>Database.PostgreSQL.Simple.SqlQQ</span>

<span>isPostgresRunning</span> <span>::</span> <span>IO</span> <span>()</span>
<span>isPostgresRunning</span> <span>=</span> <span>do</span>
  <span>password</span> <span>&lt;-</span> <span>getLine</span>
  <span>connection</span> <span>&lt;-</span> <span>PG</span><span>.</span><span>connect</span> <span>PG</span><span>.</span><span>defaultConnectInfo</span> <span>{</span> <span>PG</span><span>.</span><span>connectDatabase</span> <span>=</span> <span>""</span>
                                                 <span>,</span> <span>PG</span><span>.</span><span>connectUser</span> <span>=</span> <span>"postgres"</span>
                                                 <span>,</span> <span>PG</span><span>.</span><span>connectPort</span> <span>=</span> <span>5432</span>
                                                 <span>,</span> <span>PG</span><span>.</span><span>connectPassword</span> <span>=</span> <span>password</span>
                                                 <span>}</span>
  <span>_</span> <span>::</span> <span>[</span><span>PG</span><span>.</span><span>Only</span> <span>Int</span><span>]</span> <span>&lt;-</span> <span>PG</span><span>.</span><span>query_</span> <span>connection</span> <span>[</span><span>sql</span><span>|</span> SELECT 1 <span>|]</span>
  <span>return</span> <span>()</span>

</code></pre></div></div>

<p>Alright, next we build it with <code>stack build</code> and it shouldâ€¦ not workâ€¦
Indeed, stack will fail something like:</p>
<div><div><pre><code>&lt;command line&gt;: can't load .so/.DLL for: C:/PROGRA~1/POSTGR~1/13/lib\libpq.dll (addDLL: C:\PROGRA~1\POSTGR~1\13\lib\libpq or dependencies not loaded. (Win32 er)

--  While building package hello-world-app-0.0.0 (scroll up to its section to see the error) using:
      C:\sr\setup-exe-cache\x86_64-windows\Cabal-simple_Z6RU0evB_2.4.0.1_ghc-8.6.5.exe --builddir=.stack-work\dist\e626a42b build lib:hello-world-app exe:hello-world-app-exe --ghc-options " -fdiagnostics-color=always"
    Process exited with code: ExitFailure 1
</code></pre></div></div>

<p>To build our project, stack is telling us that it needs <code>libpq.dll</code>. So letâ€™s add the missing dependencies path to our path.
with Powershell you can use this command: <code>$env:Path += ";C:\Program Files\PostgreSQL\13\bin"</code>. It will temporarily modify the path variable for the current terminal.</p>

<blockquote>
  <p>Note: You can use <code>$env:path.split(";")</code> to print the current value for the PATH variable.</p>
</blockquote>

<p>Ok, now it should build without errors! We can try to execute it as well with: <code>stack exec hello-world-app-exe</code> andâ€¦ tadaaa <img title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20">, our project is running! We can save our work and call it a day? <img title=":blush:" alt=":blush:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f60a.png" height="20" width="20"></p>

<p>Well, not really no. We still need to build our installerâ€¦</p>



<p>I picked NSIS but you might want to investigate other tools as well (<a href="https://jrsoftware.org/isinfo.php">Inno Setup</a> to name one). NSIS documentation felt nice and the fact that it came with examples, tutorials and a simple compiler convinced me into using it.</p>

<p>The idea behind an installer is that you write a script that will explain how to install software. The syntax is quite low level but itâ€™s not that hard either.</p>

<p>So letâ€™s write a simple installer in <code>installer.nsi</code>:</p>

<div><div><pre><code><span># we start by defining variables</span>
<span>!</span><span>define</span> <span>APPNAME</span> <span>"Hello World"</span>
<span>!</span><span>define</span> <span>COMPANYNAME</span> <span>"BestCompanyEver"</span>

<span>!</span><span>define</span> <span>EXECUTABLE_NAME</span> <span>"hello-world-app-exe.exe"</span>
<span>!</span><span>define</span> <span>ICON_NAME</span> <span>"icon.ico"</span>

<span>!</span><span>define</span> <span>VERSIONMAJOR</span> <span>1</span>
<span>!</span><span>define</span> <span>VERSIONMINOR</span> <span>0</span>
<span>!</span><span>define</span> <span>VERSIONPATCH</span> <span>0</span>

<span># create a directory where we will put our assets (eg: image, executable, uninstaller, dependencies...)</span>
<span>InstallDir</span> <span>"$PROGRAMFILES</span><span>\$</span><span>{COMPANYNAME}</span><span>\$</span><span>{VERSIONMAJOR}.${VERSIONMINOR}.${VERSIONPATCH}"</span> <span>#(ie: C:\Program Files\BestCompanyEver\1.0.0\)</span>

<span># Define the installer name</span>
<span>outFile</span> <span>"hello-world-app-installer.exe"</span>

<span>section</span> <span>"install"</span>
	<span>setOutPath</span> <span>$INSTDIR</span>

    <span># copy the executable in the installation directory</span>
    <span>file</span> <span>$</span><span>{</span><span>EXECUTABLE_NAME</span><span>}</span>

	<span># create a start menu shortcut</span>
	<span>createShortCut</span> <span>"$SMPROGRAMS</span><span>\$</span><span>{COMPANYNAME}</span><span>\$</span><span>{APPNAME}.lnk"</span> <span>"$INSTDIR</span><span>\$</span><span>{EXECUTABLE_NAME}"</span> <span>""</span> <span>"$INSTDIR</span><span>\$</span><span>{ICON_NAME}"</span>
	<span># create a desktop shortcut</span>
    <span>createShortCut</span> <span>"$DESKTOP</span><span>\$</span><span>{APPNAME}.lnk"</span> <span>"$INSTDIR</span><span>\$</span><span>{EXECUTABLE_NAME}"</span> <span>""</span> <span>"$INSTDIR</span><span>\$</span><span>{ICON_NAME}"</span>
<span>sectionEnd</span>
</code></pre></div></div>

<p>Quite concise indeed! We only need to compile it now. We can use the NSIS compiler that will create a <code>hello-world-app-installer.exe</code>.
We can now run the installer and check that our shortcut has been created in the Desktop folder.</p>

<p>Is it done now?</p>

<p><img title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20"> shortcuts have been created<br>
<img title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://github.githubassets.com/images/icons/emoji/unicode/2714.png" height="20" width="20"> Installation directory has been created and our executable has been paste inside it<br>
<img title=":x:" alt=":x:" src="https://github.githubassets.com/images/icons/emoji/unicode/274c.png" height="20" width="20"> It doesnâ€™t run<br></p>

<p>Indeed, if you try to run the executable, a window should popup with a message like <code>The code execution cannot proceed because LIBPQ.dll was not found. Reinstalling the program may fix the problem.</code>. Which means itâ€™s time to dive into the world of DLLs.</p>

<p>But wait somethingâ€™s strange. When we executed our program earlier, it was working fine. So what happened meanwhile?<br>
Well, the reason it worked before was that we prefixed the command with <code>stack exec</code> which made sure the executable would find its required dependencies.</p>

<p>We can verify this quite easily.
Letâ€™s copy our executable in a place we can access more easily first: <code>stack install</code>. <br>
For me it copied the executable here: <code>C:\Users\iori\AppData\Roaming\local\bin</code>.<br></p>

<p>Letâ€™s cd inside this folder and run our executable without prefixing it with <code>stack exec</code>. We should see the same error message popping up.</p>

<p>Time to fix this by making sure our executable knows where to find the DLLs it depends on.</p>



<p><code>DLL</code> (dynamic link library) is our runtime dependencies. In our case, because we use <code>postgresql-simple</code>, our project requires some postgresql DLLs that we need to find.</p>

<h2 id="finding-the-required-dll">Finding the required DLL</h2>

<p>Many tools can help you list dependencies on windows like <a href="https://github.com/lucasg/Dependencies">Dependencies</a> or even <code>ldd</code> if you have <a href="https://cygwin.com/">cygwin</a> installed.
I chose to go with <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer">Process explorer</a> which can show the dependency of a running process.</p>

<p>So letâ€™s run our project with: <code>stack exec hello-world-app-exe</code>
Then we should find our instance in Process explorer.</p>

<p><img src="https://blog.patchgirl.io/assets/img/process-explorer.png" alt="test"></p>

<p>By clicking <strong>View</strong> -&gt; <strong>DLL</strong>, we can list our program DLLs. We donâ€™t need to take care of the DLLs that are in the <code>C:\Windows\System32</code>.
On the other hand, we see that our executable requires 5 postgresql DLL: <em>libpq</em>, <em>libcrypto</em>, <em>libiconv</em>, <em>libintl</em> and <em>libssl</em>.
Those are the DLLs we want for our program. So we can simply copy them into the root folder of our executable and now, running our program without prefixing with <code>stack exec</code> should work fine! <img title=":fireworks:" alt=":fireworks:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f386.png" height="20" width="20"></p>

<p>So are we done now? Not quite so, we still need to update the installer to take the DLLs into account.</p>

<h2 id="copying-dlls-with-nsis">Copying DLLs with NSIS</h2>

<p>We could copy them one by one with <code>File myDll.dll</code> but because we might have a lot of them, letâ€™s just put all our assets into a folder and copy that folder:</p>

<pre><code>section "install"
	setOutPath $INSTDIR

    file "assets\"

    ...
sectionEnd
</code></pre>

<p>We can then, put our DLLs, icon, and executable into the assets/ folder and Now we are truly done! <img title=":sparkler:" alt=":sparkler:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f387.png" height="20" width="20"></p>

<h2 id="really-is-this-the-end">Really? Is this the end?</h2>

<p>Well, this post was intended to be simple but actually, you shouldnâ€™t stop here. You should add to your installer an uninstaller that will take care of removing all the folders/files, shortcuts, and whatnot.</p>

<p>I invite you to read NSIS documentation for that <img title=":blue_book:" alt=":blue_book:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d8.png" height="20" width="20"></p>

<p>This example is available in the repo <a href="https://github.com/patchgirl/windows-haskell-installer-example">patchgirl/windows-haskell-installer-example</a></p>



<p>For a simple case like this one, writing an installer isnâ€™t too hard. If you donâ€™t need shortcuts/icons and would satisfy with a simple executable that you can run from a terminal, you might want to investigate:</p>
<ul>
  <li>
<a href="https://hackage.haskell.org/package/file-embed">file-embed</a> to embed any files (picture, documentation,â€¦) within your executable</li>
  <li>
<a href="https://vrom911.github.io/blog/github-actions-releases">Vrom911 blog post</a> to generate executable from Github Action for MacOS/Windows/Linux</li>
  <li>
<a href="https://input-output-hk.github.io/haskell.nix/">Haskell.nix</a> to cross-compile your Haskell project with Nix</li>
</ul>

<p>Also, I havenâ€™t tried it but there exists a Haskell package called <a href="https://hackage.haskell.org/package/nsis">nsis</a> which provides a more concise DSL to build your script.</p>

<p>I hope this article helps you write more Haskell on Windows!!</p>

<p><img title=":cactus:" alt=":cactus:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f335.png" height="20" width="20"></p>

</div>



    </div></div>]]>
            </description>
            <link>https://blog.patchgirl.io/haskell/2020/10/30/windows-installer-for-haskell-software.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726367</guid>
            <pubDate>Mon, 11 Jan 2021 08:51:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running a Blog with iPad]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25726147">thread link</a>) | @prof18
<br/>
January 11, 2021 | https://www.marcogomiero.com/posts/2021/running-blog-ipad/ | <a href="https://web.archive.org/web/*/https://www.marcogomiero.com/posts/2021/running-blog-ipad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Itâ€™s been a few years since I started writing this blog, and I quite like sharing my thoughts and experiences. After a short while spent on Medium, I decided I wanted to be the sole owner of my content, so I started experimenting with different solutions and ideas. After I finally landed on the â€œperfectâ€ tech architecture (I know, Iâ€™m lying. Thereâ€™s no perfect solution and Future Me will most likely refactor and (over)re-engineer the current solution), I started to seek the â€œperfectâ€ writing setup.</p><p>Iâ€™m pretty confident Iâ€™ve ended up with something worth sharing.</p><h2>A bit about tech stack</h2><p>Before speaking about the setup, I want to spend some words about the tech stack. The site is built with <a href="https://gohugo.io/"><strong>Hugo</strong></a>, one of the most popular static site generator. It is a powerful tool that lets you have a website up and running in just a few minutes. With Hugo, you can write articles or content with <strong>Markdown</strong>, and then Markdown pages are automatically transformed into HTML and CSS pages when you build the website. But how Hugo works is not the topic of this article, so if you are interested to know a bit more, I suggest you look over the <a href="https://gohugo.io/documentation/">documentation</a>.</p><p>As mentioned above, the final output of Hugo is a static website and there are many free solutions to host it. To name a few: <a href="https://pages.github.com/">GitHub Pages</a> or <a href="https://www.netlify.com/">Netlify</a> or <a href="https://firebase.google.com/docs/hosting">Firebase Hosting</a>. Personally, Iâ€™ve always used <strong>GitHub Pages</strong> and Iâ€™m still using it. If you have trouble choosing, there is <a href="https://gohugo.io/hosting-and-deployment/">an entire section on the Hugo doc</a> there to help you.</p><p>For handling the publications, Iâ€™ve set up a little <strong>GitHub action</strong> (you can give a look at it <a href="https://github.com/prof18/marcogomiero.com/blob/master/.github/workflows/gh-pages.yml">on my GitHub</a>) that builds the website and pushes all the changes to a special branch reserved for GitHub Pages. This action is triggered every time I push something on the master branch.</p><p>Thatâ€™s it for the tech stack. It was a quick but necessary overview to better introduce the context but if you have any kind of question, feel free to reach me out on Twitter <a href="https://twitter.com/marcoGomier">@marcoGomier</a>.</p><h2>Writing Setup</h2><p>My main machine is a 15â€ MacBook Pro - a fantastic tool for my day-to-day job. But after using it for writing some articles, Iâ€™ve discovered that a 15â€ machine is way too heavy, big, and overkill just for blogging.</p><p>When Iâ€™m writing something, I like to stay outside in the courtyard, sitting in the deckchair or in the hammock or in a simple chair. And when the weather does not allow it, I prefer to stay on the couch or in bed rather than in my work setup. And in all of these scenarios, my MacBook is too uncomfortable to use. So I started to think about alternatives.</p><p>First of all, Iâ€™ve tried to resurrect my old Asus T100HA with a lightweight Linux distro, but in the end I had to drop it due to issues with some drivers and a battery not at its glory anymore. So, after some thinking, Iâ€™ve decided to give <strong>iPad</strong> a try: blogging doesnâ€™t require a big screen and CPU power, whereas it does ask for a reliable and comfortable machine, with decent autonomy.</p><p>After some research, I found out that the best compromise between my needs and my budget was the <strong>iPad Air 3</strong> (I made this choice back in May 2020. If it was today, I would choose the new iPad Air 4). For the keyboard, I decided to go with the <a href="https://www.logitech.com/en-us/products/ipad-keyboards/combo-touch.html">Logitech Combo Touch</a>.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/ipad-overview.jpeg"><img src="https://www.marcogomiero.com/img/blogging-ipad/ipad-overview.jpeg"></a></figure><p>To be honest, I quickly fell in love with this Logitech solution. With this keyboard-cover, you will transform the iPad into a notebook. With the kickstand, you can tilt the iPad up to 40 degrees. Then you have a very good trackpad (better than some Window notebooks!), a row of function keys (brightness and volume controls, home button, lock button, spotlight, etc), and backlit keys.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/keyboard-detail.jpeg"><img src="https://www.marcogomiero.com/img/blogging-ipad/keyboard-detail.jpeg"></a></figure><p>The only compromise is the fact that it makes the iPad a bit heavier and thicker.</p><h3>Applications</h3><p>As I mentioned above, the website is stored in a git repository and I manage all â€œthe git lifecycleâ€ through <a href="https://apps.apple.com/it/app/working-copy-git-client/id896694807?l=en"><strong>Working Copy</strong></a> that I think is the best git client that you can find in the AppStore.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/working-copy-screen.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/working-copy-screen.png" alt="Working Copy"></a><figcaption><p>Working Copy</p></figcaption></figure><p>With Working Copy you can browse the content of the repo but you can also make edits with a built-in editor that also provides the user with syntax highlighting. However, the feature that made me choose this client is the support of the File iOs app, that makes the repositories browsable from other apps too.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/working-copy-files-app.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/working-copy-files-app.png" alt="iOs File app"></a><figcaption><p>iOs File app</p></figcaption></figure><p>In this way, I can open and edit an article directly from any Markdown editor - for for the time being my go-to choice is <a href="https://apps.apple.com/it/app/mweb-powerful-markdown-app/id1183407767?l=en"><strong>MWeb</strong></a>.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/mweb-screen.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/mweb-screen.png" alt="MWeb"></a><figcaption><p>MWeb</p></figcaption></figure><p>I like it because it provides themes, a powerful preview, a useful toolbar with plenty of quick actions, and a lot of keyboard shortcuts.</p><p>In the past, Iâ€™ve used <a href="https://apps.apple.com/it/app/pretext/id1347707000?l=en">Pretext</a>, a little bit more basic. In the future, I would like to try <a href="https://apps.apple.com/it/app/ia-writer/id775737172?l=en">iA Writer</a> but it is quite expensive and I donâ€™t know if itâ€™s worth the investment (maybe if there will be a demo or a trial version in the future I can finally make a decision).</p><p>And thatâ€™s it! I write an article in MWeb and when I finish it, I publish it on the master branch of the Github repo through Working Client. Then, the GitHub Action is triggered and the article is live.</p><p>Bonus. If I have to edit or prepare an image for an article (like the ones below), I use <a href="https://apps.apple.com/it/app/pixelmator/id924695435?l=en"><strong>Pixelmator</strong></a>, a very good image editor for iOs.</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/pixelmator-screen.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/pixelmator-screen.png" alt="Pixelmator"></a><figcaption><p>Pixelmator</p></figcaption></figure><h3>Automations</h3><p>After writing some articles, Iâ€™ve discovered that there are some boring activities to achieve on iPad, like creating a new article, adding a new image for an article, etc. So, during one of the â€œits-blogging-time-but-i-dont-want-to-writeâ€ sessions (procrastination FTW) I decided to automate some of these boring things.</p><h4>Add an image to an article</h4><p>To show an image on a Hugo Markdown page, it is necessary to write a shortcode; for example, for the Pixelmatorâ€™s screen posted above the corresponding shortcode is the following:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="markdown">{{<span>&lt;</span> <span>figure</span> <span>src</span><span>=</span><span>"/img/blogging-ipad/pixelmator-screen.png"</span>  <span>link</span><span>=</span><span>"/img/blogging-ipad/pixelmator-screen.png"</span> <span>caption</span><span>=</span><span>"Pixelmator"</span> <span>&gt;</span>}}
</code></pre></td></tr></tbody></table></div></div><p>So, every time I need to add an image to an article, I need to:</p><ol><li>Create a folder into the img folder of the website (if not present. I create a folder for every article just to keep things clean);</li><li>Move the image from the iPad gallery to the folder created above;</li><li>Rename the image with a more readable format;</li><li>Write the shortcode for the image in the article.</li></ol><p>Way too many steps for a lazy person like me!</p><p>To try to automate these steps, I started playing with the <strong>Apple Shortcuts iOS app</strong>. If youâ€™ve never heard about it, I suggest you take a peek. Itâ€™s really powerful and it can greatly simplify your life.</p><blockquote><p>A shortcut is a quick way to get one or more tasks done with your apps. The Shortcuts app lets you create your own shortcuts with multiple steps. For example, build a â€œSurf Timeâ€ shortcut that grabs the surf report, gives an ETA to the beach, and launches your surf music playlist. <em><a href="https://support.apple.com/guide/shortcuts/welcome/ios">Shortcuts user guide</a></em></p></blockquote><p>After some trials, I was able to achieve my goal and, as you can see in the video, when I need to add an image to an article I can launch a shortcut that does all the job for me.</p><p><iframe src="https://www.youtube-nocookie.com/embed/MdSv-PwC5N8" allowfullscreen="" title="YouTube Video"></iframe></p><p>Hereâ€™s the â€œsource codeâ€ of the shortcut:</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/new-image-shortcut.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/new-image-shortcut.png" alt="iOs shortcut to move an image from the camera roll to the repo of the site and generate the Hugo shortcode"></a><figcaption><p>iOs shortcut to move an image from the camera roll to the repo of the site and generate the Hugo shortcode</p></figcaption></figure><p>As you can see in the image above, it is possible to ask for input and then store it in a variable. So, first of all, I receive as input the name of the image and the folder, then I open the system image picker and I store the chosen image in a variable. Then, before moving the image, I extract the file extension of the image and store it in another variable.
And now finally, it is time to move the image to the specific folder with the new name. This action is performed with the shortcut support provided by Working Copy. And at the end, I create the shortcode for the specific image and I store it in the clipboard ready to be pasted in the article.</p><h4>Create a new article draft</h4><p>Another boring activity is the creation of a new article. Thatâ€™s because for every article I need to write some metadata at the top, like the date, the title, etc.</p><div><div><table><tbody><tr><td><pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td><td><pre><code data-lang="markdown">---
layout: post
title:  "Running a blog with iPad"
date:   2021-01-01
show_in_homepage: false
draft: true
tags: [Blogging]
---
</code></pre></td></tr></tbody></table></div></div><p>So, I made another shortcut!</p><p><iframe src="https://www.youtube-nocookie.com/embed/v18imNIwgyc" allowfullscreen="" title="YouTube Video"></iframe></p><p>And hereâ€™s the â€œsource codeâ€ of this shortcut:</p><figure><a href="https://www.marcogomiero.com/img/blogging-ipad/new-article-draft-shortcut.png"><img src="https://www.marcogomiero.com/img/blogging-ipad/new-article-draft-shortcut.png" alt="iOs shortcut to create a new article draft with some metadata"></a><figcaption><p>iOs shortcut to create a new article draft with some metadata</p></figcaption></figure><p>The structure is very similar to the other shortcut. First of all, I make sure that Iâ€™m in the develop branch of the website where I make all the draft work. Next, I ask for some input that I store in some variables. As you can see it is also possible to do some if/else statements.
And at the end, I create the metadata that will be placed inside the new article.</p><h2>Conclusions</h2><p>And thatâ€™s how I write in my blog. Iâ€™m very happy with this setup because it let me only focus on writing. Every â€œboringâ€ activity is completely automated and in this way, I have â€œjustâ€ to write. And by using an iPad Iâ€™m not tempted to re-open my IDE to procrastinate writing.</p><p>If you have any kind of suggestions about apps, accessories, whatever, feel free to reach me out on Twitter <a href="https://twitter.com/marcoGomier">@marcoGomier</a>.</p></div></div>]]>
            </description>
            <link>https://www.marcogomiero.com/posts/2021/running-blog-ipad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726147</guid>
            <pubDate>Mon, 11 Jan 2021 08:16:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Recommended Engineering Management Books]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25726109">thread link</a>) | @kiyanwang
<br/>
January 11, 2021 | https://caitiem.com/2020/12/28/recommended-engineering-management-books/ | <a href="https://web.archive.org/web/*/https://caitiem.com/2020/12/28/recommended-engineering-management-books/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main" role="main">

			
<article id="post-2053">

	

	
			<figure>
				<img width="1019" height="501" src="https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=1019" alt="" loading="lazy" srcset="https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg 1019w, https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=150 150w, https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=300 300w, https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=768 768w" sizes="(max-width: 1019px) 100vw, 1019px" data-attachment-id="2109" data-permalink="https://caitiem.com/2020/12/28/recommended-engineering-management-books/books20130912-2/" data-orig-file="https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg" data-orig-size="1019,501" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="books20130912" data-image-description="" data-medium-file="https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=300" data-large-file="https://caitiem20.files.wordpress.com/2020/12/books20130912-1.jpg?w=782">			</figure><!-- .post-thumbnail -->

			
	<div>
		
<p>Over the past 3.5 years my career has grown and transformed from Individual Contributor (IC) to an Engineering Manager of multiple teams, and all the roles in between as I built the Azure Sphere Security Services (AS3) Team from 2 people to 20 people.&nbsp; I undertook this journey in the Summer of 2017 to help transform a <a href="https://www.wired.com/story/project-sopris-iot-security/">Microsoft Research project, Project Sopri</a>s, into a Generally Available (GA) product <a href="https://azure.microsoft.com/en-us/services/azure-sphere/">Azure Sphere</a>.&nbsp;</p>



<p>As the AS3 Team grew, I went through a massive amount of personal growth and learning as well.&nbsp; In December 2017 I stepped into a manager role for the first time in my career.&nbsp; I had been a professional software engineer for over a decade at this point, and was up for a totally new challenge.&nbsp; I knew that the skills and job of growing and managing a team and then an organization were totally different than what I had been actively developing over the last decade of my career.&nbsp; As I went through this period of growth I was lucky enough to have several friends, coaches, and mentors share their experiences with me, and recommend some great books to help me along my learning journey.&nbsp; </p>



<p>Below is my curated list of the most influential and impactful books that helped me along the way, and that I highly recommend to Engineering Managers&nbsp;</p>



<h2>The Managerâ€™s Path: A Guide for Tech Leaders Navigating Growth &amp; Change by Camille Fournier</h2>



<div><figure><img src="https://m.media-amazon.com/images/I/51BHEtpF4eL._SY346_.jpg" alt="" width="299" height="450"></figure></div>



<p>This is a must read for anyone considering managing engineering teams, it is as good as or better than the hype surrounding it.&nbsp; The book starts off from the individual contributor perspective and then each subsequent chapter explores the next level of management complexity.&nbsp; Each chapter focuses on an engineering management role, like technical lead, manager of people, or manager of multiple teams, and manager of managers.</p>



<p>Over the past 3.5 years Iâ€™ve come back to this book several times, re-reading the chapters around my newest role.&nbsp; For instance when I transitioned into a manager of managers role, I re-read that chapter and the one before and after it.&nbsp; These were great reminders on what I should be focused on, what challenges my directs were facing, and what challenges and motivations my boss was focused on.&nbsp;</p>



<p>One of the sections I really loved was on debugging dysfunctional teams.&nbsp; As an engineer I am a great debugger, often able to piece together logs, metrics, and weird behavior to diagnose whatâ€™s going wrong in a system.&nbsp; This was the first time I had seen the term debugging applied to people and organizations, and it helped frame the work of how to start investigating dysfunction in a team, and how to discover the source of the problem.&nbsp;</p>



<p>Honestly I recommend this book to every engineer, solely for the chapter on how to be managed, and what you should and can expect from your manager.&nbsp; Even if you never plan on taking on a management role this book provides an excellent overview of the challenges and motivations of folks in varying levels of an engineering organization and will help you better navigate your org.&nbsp;</p>



<h2>Thanks for the Feedback by Douglas Stone &amp; Sheila Heen</h2>



<p>Prior to managing I had given peer feedback as part of performance reviews at various companies, but I did not consider this a strength of mine.&nbsp; Now giving feedback was a critical skill for my role as a manager.&nbsp; Early on I sought out several resources on how to give and receive feedback well, and found â€œThanks for the Feedbackâ€ to be an tremendous resource.</p>



<div><figure><img src="https://blackwells.co.uk/jacket/l/9780670922635.jpg" alt="" width="336" height="512"></figure></div>



<p>Thanks for the Feedback is framed as a resource for receiving and processing the multitudes of feedback you receive.&nbsp; However, any one who reads this book, will also learn how to be a more skilled feedback giver.&nbsp;</p>



<p>I highly recommend reading the book in its entirety, but I wanted to share one of the fundamental ideas in this book that resonated with me.&nbsp; Feedback is really three different things, with three different purposes:</p>



<ul><li><strong>Appreciation</strong>,&nbsp; the goal is to help people feel appreciated.&nbsp; Sometimes they may just need motivation and encouragement to keep going when tackling tough problems</li><li><strong>Coaching</strong>, the goal is to help the receiver expand their knowledge, sharpen skills, and increase confidence.&nbsp;</li><li><strong>Evaluation,</strong> the goal here is to rate or rank the receiverâ€™s work against a set of standards to align expectations and inform decision making.&nbsp;</li></ul>



<p>This idea that feedback serves a variety of different purposes was eye opening, and help me more clearly think about how and when to provide feedback.&nbsp; Taking this perspective along with the multitude of lessons learned from this book was tremendously helpful to me.</p>



<h2>The Hard Thing About Hard Things: Building a Business When There are No Easy Answers by Ben Horowitz</h2>



<div><figure><a href="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg"><img loading="lazy" data-attachment-id="2057" data-permalink="https://caitiem.com/image-1/" data-orig-file="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg" data-orig-size="1752,2560" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-1" data-image-description="" data-medium-file="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=205" data-large-file="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=701" src="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=701" alt="" width="251" height="367" srcset="https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=251 251w, https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=502 502w, https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=103 103w, https://caitiem20.files.wordpress.com/2020/12/image-1.jpeg?w=205 205w" sizes="(max-width: 251px) 100vw, 251px"></a></figure></div>



<p>The book starts off acknowledging a problem with most management books â€œthey attempt to provide a recipe for challenges that have no recipes.&nbsp; Thereâ€™s no recipe for really complicated, dynamic situations.â€&nbsp; This instantly resonated with me as I was reading it in November 2019.&nbsp; I had been a manager for about two years, and had grown the AS3 team from 2 to 15 people.&nbsp; Weâ€™d spent the past two years turning a research project into what would soon be a GAâ€™d product in February 2020.&nbsp; There is no recipe for how to do this, what I was doing was a hard thing.&nbsp;</p>



<p>Horowitz packs the book with a variety of entertaining stories from his career as a venture capitalist and entrepreneur to emphasize his message and points on leadership and various challenges.&nbsp; In addition there are a few key takeaways that have stayed with me.</p>



<ul><li><strong>Take care of the people, the product, and the profits in that order</strong>.&nbsp; This quote resonated with me and the kind of organization I want to build and run.&nbsp; Chapter 5, which bears this quote as a title goes into some of the challenges that can arise when setting out with this mission and how to overcome them, like hiring, training, and management debt.&nbsp;</li><li><strong>Part of Management is training your people.</strong> In big companies this is often neglected as itâ€™s the role of HR or corporate to produce training programs.&nbsp; These can sometimes be valuable but are often overly generic.&nbsp; As a manager make sure you are training your people for the specific job they are doing.&nbsp; Things like how to work in your specific code base, what are the architectural standards and guidelines, what makes a good design doc, etcâ€¦Make sure you are intentionally designing on boarding programs, meetings, and workshops to facilitate learning.</li></ul>



<h2>Accelerate: Building and Scaling High Performing Technology Organizations by Nicole Forsgren, PhD, Jez Humble, and Gene Kim</h2>



<div><figure><img src="https://itrevolution.com/wp-content/uploads/2017/09/Accelerate_3D_Shingo-e1567716184319.jpg" alt="" width="331" height="473"></figure></div>



<p>Accelerate is a summary of the research and learnings discovered by Dr Forsgren and her colleagues from the 2014-2017 State of DevOps report.&nbsp; This book is a must read for any engineering leader, as it gives you a clear outline on how to set your team up for success by investing in 24 key capabilities which will drive improvement in your teams software delivery performance.&nbsp;</p>



<p>There are some non-surprising findings like using version control is important to team performance, and other not so obvious ones like focusing on continuous integration and software delivery performance positively impacts culture.</p>



<p>This book and the ongoing research released by Dr. Forsgren, et. Al has had a huge influence on the priorities of my team.&nbsp; We embraced Accelerate principles early on in the development of the Azure Sphere Security Services, and that investment has paid huge dividends over time.&nbsp;</p>



<h2>Dare to Lead: Brave Work.&nbsp; Tough Conversations.&nbsp; Whole Hearts. by Brene Brown</h2>



<p>Iâ€™m a huge fan of Brene Brownâ€™s work as a shame and vulnerability researcher.&nbsp; In October 2018 she released Dare to Lead applying her research to Leadership.&nbsp; This quote sums up why this book is important</p>



<div><figure><img src="https://pictures.abebooks.com/isbn/9780399592522-us.jpg" alt="" width="343" height="520"></figure></div>



<p>â€œThereâ€™s an old saying that I lead by now: â€œPeople donâ€™t care how much you know until they know how much you care.â€ Brene Brown</p>



<p>This book dives into what it takes to become a brave and courageous leader.&nbsp; Spoiler a lot of it involves embracing vulnerability and living authentically, something that is far easier to say than do.&nbsp; The book defines vulnerability as â€œthe emotion we experience during times of uncertainty, risk, and emotional exposureâ€¦Vulnerability is not winning or losing.&nbsp; Itâ€™s having the courage to show up when you canâ€™t control the outcome.â€</p>



<p>One section I continually return to is the definitions of the two leadership styles: armored leadership and daring leadership.&nbsp; Brownâ€™s research uncovered 16 traits for each of these leadership styles and breaks each one of them down.&nbsp; I highly recommend going through these periodically and checking in on your own leadership style and where there is room for growth and improvement.&nbsp;</p>



<p>Another great exercise that Brown presents in the book is one around values.&nbsp; She challenges readers to pick one to two core values, not ten or fifteen, because as Jim Collins said â€œIf you have more than three priorities, you have no priorities.â€&nbsp; Having clarity around your core values allows you to live and lead more authentically.&nbsp;</p>



<p>Overall this book is one of the best for dealing with the â€œsoft skillsâ€ of leadership.&nbsp; How do you show up whole heartedly and help create a team that can do the same is one of the biggest challenges of taking on a management role.&nbsp;</p>



<h2>Switch: How to Change Things When Change is Hard</h2>



<div><figure><img src="https://images-na.ssl-images-amazon.com/images/I/81QxTfW8-PL.jpg" alt="" width="356" height="511"></figure></div>



<p>This book is an awesome resource for understanding the psychology and sociology behind what motivates people and how to be successful enacting change from small to epic scale.  I loved this book as it provides real practical tips for how to enact change across a team or organization through researched principles and real world examples.&nbsp;</p>



<p>The book starts by acknowledging that people have both emotional and rational sides, and motivating each is important for effective change.&nbsp; In engineering orgs we often only motivate the rationale side, because the analytical brain is all important.&nbsp; Sometimes â€¦</p></div></article></main></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://caitiem.com/2020/12/28/recommended-engineering-management-books/">https://caitiem.com/2020/12/28/recommended-engineering-management-books/</a></em></p>]]>
            </description>
            <link>https://caitiem.com/2020/12/28/recommended-engineering-management-books/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726109</guid>
            <pubDate>Mon, 11 Jan 2021 08:10:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The clipboard history feature is the best thing since sliced bread]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25726043">thread link</a>) | @madewulf
<br/>
January 11, 2021 | https://multitasked.net/2021/01/11/the-clipboard-history.html | <a href="https://web.archive.org/web/*/https://multitasked.net/2021/01/11/the-clipboard-history.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>For those who do not know, having a clipboard history is the best thing since sliced bread.</p>

<p>It is that little feature that allows you, after you made a few copy actions (ctrl+c on Windows or command-c on Mac), to choose any of the copied texts to paste it.</p>

<p>It looks like this when I use <a href="https://www.alfredapp.com/">Alfred</a>, a productivity tool on Mac, by pression option-command-c (the three buttons at once).</p>

<p><img src="https://multitasked.net/uploads/2021/302b4c92a6.png" width="480" height="451" alt=""></p>

<p>Just click on the text you want, and it will be copied wherever your cursor happened to be.</p>

<p>You can even search in your clipboard history for something you copied a few days before, as in this screenshot.
<img src="https://multitasked.net/uploads/2021/394bad9b53.png" width="480" height="451" alt=""></p>

<p>This feature is a huge time saver. There is a lot of alternative apps providing this feature and apparently, itâ€™s now a standard part of <a href="https://www.howtogeek.com/671222/how-to-enable-and-use-clipboard-history-on-windows-10/">Windows 10 too</a>.</p>

<p>Remember all these times where you have to copy a few distinct cells from an Excel file to insert them in a report, and how you switch constantly between the documents? With this feature, you can just copy one by one all the cells that you want, switch to your report (only once!), and paste one by one the values you needed.</p>

<p>Or, are you looking for that email address you sent yesterday? Just open your clipboard history, type a few letters of the name of the person, and there you go, itâ€™s here. You donâ€™t have to open your emails, perform a search, it is just right there, and it very often allows you to stay focused on your current task.</p>

<p>So, you get it, I love it. You should use it. I know I sound like a cheesy salesman here, but that is how convinced I am.</p>

    </div></div>]]>
            </description>
            <link>https://multitasked.net/2021/01/11/the-clipboard-history.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726043</guid>
            <pubDate>Mon, 11 Jan 2021 08:01:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebuilding the spellchecker, pt.2: Just look in the dictionary, they said]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25725583">thread link</a>) | @zverok
<br/>
January 10, 2021 | https://zverok.github.io/blog/2021-01-09-spellchecker-2.html | <a href="https://web.archive.org/web/*/https://zverok.github.io/blog/2021-01-09-spellchecker-2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p><strong><em>This is the second part of the â€œRebuilding the spellcheckerâ€ series, dedicated to the explanation of how the worldâ€™s most popular spellchecker Hunspell works.</em></strong></p>

<p><strong>Quick recap:</strong> <a href="https://zverok.github.io/blog/2021-01-05-spellchecker-1.html">In the first part</a>, Iâ€™ve described what Hunspell is; and why I decided to rewrite it in Python. It is an <strong>explanatory rewrite</strong> dedicated to uncovering the knowledge behind the Hunspell by â€œtranslatingâ€ it into a high-level language, with a lot of comments.</p>

<p>Now, letâ€™s dive into how the stuff really works!</p>

<p>There are two main parts of word-by-word spellchecker algorithms:</p>

<ol>
  <li>Check if a word is correct: <strong>â€œlookupâ€</strong> part</li>
  <li>Propose the correction for incorrect words: <strong>â€œsuggestâ€</strong> part</li>
</ol>

<blockquote>
  <p>Hunspell also implements several other algorithms to be useful as standalone software. It can extract plain text from numerous formats, like HTML or TeX, split it into words (tokenize), correctly handling punctuationâ€”but at the end of the day, a word-by-word correctness check is applied. I excused myself from implementing â€œwrapperâ€ algorithms: text extraction and tokenization are thoroughly investigated topics, and there are numerous libraries in any language solving it with decent speed and quality.</p>
</blockquote>

<p>Hunspell works on a word-by-word basis (no context is taken into account). Each word is just <strong>looked up</strong> in the <strong>dictionary</strong> loaded from the plaintext  <code>&lt;langname&gt;.dic</code> file in Hunspell-specific format. If it is not considered correct by dictionary lookup (which, as weâ€™ll see soon, is more complex than â€œis it present in the dictionaryâ€), several algorithms of <strong>suggest</strong> are applied sequentially, trying to find correct words similar to the given one.</p>

<h2 id="hunspells-lookup-algorithm-or-just-look-in-the-dictionary-they-said">Hunspellâ€™s lookup algorithm, or, Just look in the dictionary, they said!</h2>

<p>When coming from English-only spellchecking, the developers tend to perceive the â€œlookupâ€ part as trivial (e.g., the famous <a href="https://norvig.com/spell-correct.html">Peter Norvigâ€™s article</a> starts from the assumption that only the correctionâ€”â€suggestâ€â€”part deserves some explanations). But thatâ€™s not quite so.</p>

<p>The first and most straightforward idea<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> for the lookup would be: weâ€™ll just take the dictionary (presumably, the flat list of all correct words) and look for our candidate word in this list: if it is there, it is correct. End of story.</p>

<p>Now, Hunspellâ€™s dictionaries exist for many languages and have a plaintext format, which, at the first sight is quite close to a plain word listâ€”so, probably it would be easy to reuse them? Letâ€™s take a look into the <a href="https://github.com/LibreOffice/dictionaries/blob/master/en/en_US.dic"><code>en_US.dic</code></a> in the LibreOffice dictionary repository. Youâ€™ll see a list of words in the following format:</p>

<div><div><pre><code>...
acetyl
acetylene/M
ache/DSMG
achene/MS
achievable/U
achieve/BLZGDRS
achievement/SM
...
</code></pre></div></div>

<p>The line <code>ache/DSMG</code> specifies the <em>stem</em> <code>ache</code>, having <code>D</code>, <code>S</code>, <code>M</code>, <code>G</code> <em>flags</em> associated with it. The meaning of flags is defined by <a href="https://github.com/LibreOffice/dictionaries/blob/master/en/en_US.aff"><code>en_US.aff</code></a> (called â€œaffix fileâ€, or just aff-file; every Hunspell dictionary is distributed as a pair of <code>.dic</code> and <code>.aff</code> files).</p>

<h3 id="affix-compression">Affix compression</h3>

<p>In this particular case, all four flags are associated with word <em>suffixes</em>. Hereâ€™s the definition of <code>D</code> suffix:</p>

<div><div><pre><code>SFX D Y 4                    # Suffix header: suffix (SFX), with flag D, combinable with prefixes (Y), 4 entries:
SFX D   0  d    e            # * if the stem ends is "e", strip nothing (0), and add "d"
SFX D   y  ied  [^aeiou]y    # * if the stem ends with "y", preceded by non-vowel, strip "y" and add "ied"
SFX D   0  ed   [^ey]        # * if the stem ends with not "e", and not "y", strip nothing, add "ed"
SFX D   0  ed   [aeiou]y     # * "y" with preceding vowel: strip nothing, add "ed"
</code></pre></div></div>

<p>For our <code>ache</code> stem, this definition says that form <code>ached</code> exists. In the similar fashion, <code>S</code> flag defines that word <code>aches</code> exists, <code>G</code> flag defines <code>aching</code>, <code>M</code> flag defines <code>ache's</code>. So, the <code>ache/DSMG</code> line in <code>.dic</code> file specifies 5 correct words: â€œacheâ€, â€œachedâ€, â€œachesâ€, â€œachingâ€, â€œacheâ€™sâ€.</p>

<blockquote>
  <p>Note: the fact that flags are similar to the suffixes they define (<code>S</code> flag defines suffix <code>-s</code> and so on) is just a convention. It is rather a handy mnemonics that creators of <code>en_US</code> dictionary used, and there could be any other symbol.</p>
</blockquote>

<p>In the similar fashion, word prefixes might be defined (specified with flags in dic-file, and described with <code>PFX</code> directive in aff-file). Say, this definition:</p>



<p>â€¦defines these forms: <em>advantage, advantageâ€™s, advantaging, advantaged, advantages, disadvantageâ€™s, disadvantaging, disadvantaged, disadvantages, disadvantage</em> (all combinations of four suffixes and a prefix â€œdis-â€œ).</p>

<p>This technique of â€œpackingâ€ dictionaries is called <strong>affix compression</strong>, and its primary goal is to optimize dictionary size: on disk and in memory. It becomes extremely important for languages with rich inflection. For example, in English one stem might produce no more than ten forms, but in Ukrainian it could easily be dozens or even hundreds, so the amount of possible correct forms quickly grows to tens of millions. â€œJust a flat list of all known wordsâ€ <em>might</em> become impractical (not on todayâ€™s top MacBook, probably, but still), and thatâ€™s where the affix compression comes in handy.</p>

<blockquote>
  <p>This is not the only possible approach to make dictionary storage more effective: for example, <a href="https://github.com/morfologik/morfologik-stemming">morfologik</a> (the default internal spellchecker of the most widely used open-source proofreading software <a href="https://languagetool.org/">LanguageTool</a>) codes <em>all</em> possible forms in binary files, using finite-state automata. And this approach is very efficient by speed and memory, but very hard for humans to edit and review, and thus, to keep dictionary up-to-date.</p>
</blockquote>

<p>Another benefit of splitting words into stems and affixes: when Hunspellâ€™s user wants to add a new word to their personal dictionary, Hunspell allows to just specify â€œit is inflected the same way as (some other word)â€, thus sparing the user of teaching the dictionary â€œâ€˜monadâ€™ is a word, and â€˜monadsâ€™ too, as well as â€˜monadâ€™sâ€™â€¦â€.</p>

<p>Note, though, that â€œsuffixesâ€ and â€œprefixesâ€ specified in some languageâ€™s dictionary not necessarily correspond to <em>grammatical</em> suffixes/prefixes of the language. The splitting into stems and affixes is deduced automatically by dictionary authoring tools from flat word lists, so it is up to probabilities whether â€œcommon endingsâ€ deduced have any grammatical meaning. Actually, Hunspellâ€™s format has a rich <a href="https://manpages.debian.org/experimental/libhunspell-dev/hunspell.5.en.html#Optional_data_fields">sub-language to specify grammatical information</a>, but of all LibreOffice and Firefox dictionaries Iâ€™ve checked, only a few (Latvian, Slovak, Galician, Breton) made use of this feature.</p>

<blockquote>
  <p>One important factor to mention is Hunspellâ€™s limitation for the amount of suffixes/prefixes a word may have. Currently, the software understands no more than 2 suffixes and 2 prefixes in a word, which is lower than the common number of grammatical suffixes a lot of languages allow. Most of the dictionaries solve this by â€œlinearizingâ€ the word list: Ukrainian word â€œĞ³Ñ€Ğ¾Ğ¼Ğ°Ğ´ÑĞ½ÑÑ‚Ğ²Ğ¾â€ (citizenship) grammatically consists of the stem â€œĞ³Ñ€Ğ¾Ğ¼Ğ°Ğ´-â€œ and suffixes â€œ-ÑĞ½-â€œ, â€œ-ÑÑ‚Ğ²-â€œ, â€œ-Ğ¾â€ (the latter is called an ending in grammatically correct terms), but Hunspellâ€™s Ukrainian dictionary includes the full word â€œĞ³Ñ€Ğ¾Ğ¼Ğ°Ğ´ÑĞ½ÑÑ‚Ğ²Ğ¾â€. For other languages, the suffix number limitation makes Hunspell totally unusable, so to spellcheck the Finnish, you need to install <a href="https://voikko.puimula.org/">Voikko</a> spellchecker.</p>
</blockquote>

<p><strong>Affix compression comes with a price</strong> paid in lookup algorithm complexity and performance. Instead of just a quick lookup through a hashtable or other lookup-optimized structure, we now have to:</p>

<ol>
  <li>Check if the whole word is in the list of stems. If yes, it is correct,
    <ul>
      <li>â€¦unless it has a flag corresponding to the aff-file directive â€œthis stem <em>requires</em> prefixes or suffixesâ€.</li>
    </ul>
  </li>
  <li>If no, check if the word has some of the known suffixes; and if so, whether the stem without one of those suffixes is in the stem list, <em>and</em> has a flag corresponding to this suffix.</li>
  <li>If no, check if one more suffix can be found in the stem (then weâ€™ll have a stem and two suffixes, and need to check the compatibility of their flags).</li>
  <li>Repeat with prefixes (up to two), and with all possible suffix-prefix combination (taking into account whether suffix and prefix both have â€œcross-productâ€ allowed).</li>
  <li>Consider that suffixes and prefixes can have flags of their own, specifying â€œsuffixes with this flag might be attached after meâ€, or â€œif used, this suffix requires that at least one other affix would be presentâ€ and â€¦ many other things.</li>
  <li>And there are funny cases like <code>CIRCUMFIX</code> flag: if the suffix has it, this means that this suffix is only allowed in words having a prefix with the same flag.</li>
</ol>

<blockquote>
  <p>It is <em>still</em> a simplified description. To follow the algorithm in full, you can read Spylls docs starting from <a href="https://spylls.readthedocs.io/en/latest/hunspell/algo_lookup.html#spylls.hunspell.algo.lookup.Lookup.affix_forms"><code>Lookup.affix_forms</code></a>, follow the links to methods it invokes, and read inline comments under â€œShow codeâ€.</p>
</blockquote>

<p>Performance-wise, for each word correctness check, there could be many lookups through known suffixes and prefixes lists, and quite a few dictionary lookups (as consecutive chopping off of suffixes and prefixes produces new stems we need to check).</p>

<p>And once you tackle the affixes problem, it is all uphill from there!</p>

<p><strong>Stay tuned for the next installment about the Hunspell lookup, where <a href="https://zverok.github.io/blog/2021-01-14-spellchecker-3.html">we cover</a> word compounding problem, and some other important edge cases of the word correctness check.</strong> Follow me <a href="https://twitter.com/zverok">on Twitter</a> or <a href="https://zverok.github.io/subscribe.html">subscribe to my mailing list</a> if you donâ€™t want to miss the follow-up!</p>


  </article></div>]]>
            </description>
            <link>https://zverok.github.io/blog/2021-01-09-spellchecker-2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25725583</guid>
            <pubDate>Mon, 11 Jan 2021 06:54:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Import Assertions Coming to JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25725187">thread link</a>) | @franciscop
<br/>
January 10, 2021 | https://2ality.com/2021/01/import-assertions.html#upcoming-features-based-on-import-assertions | <a href="https://web.archive.org/web/*/https://2ality.com/2021/01/import-assertions.html#upcoming-features-based-on-import-assertions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://github.com/tc39/proposal-import-assertions">The ECMAScript proposal â€œImport assertionsâ€</a> (by Myles Borins, Sven Sauleau, Dan Clark, and Daniel Ehrenberg) introduces syntax for associating metadata with import statements. In this blog post, we examine what that looks like and why itâ€™s useful.</p>
<!--more-->
<hr>
<p><strong>Table of contents:</strong></p>
<nav><ul><li><a href="#import-assertions">Import assertions&nbsp;&nbsp;</a></li><li><a href="#history%3A-importing-non-javascript-artifacts-as-modules">History: importing non-JavaScript artifacts as modules&nbsp;&nbsp;</a></li><li><a href="#use-cases-for-importing-non-javascript-artifacts">Use cases for importing non-JavaScript artifacts&nbsp;&nbsp;</a></li><li><a href="#the-syntax-of-import-assertions">The syntax of import assertions&nbsp;&nbsp;</a><ul><li><a href="#static-import-statements">Static import statements&nbsp;&nbsp;</a></li><li><a href="#dynamic-imports">Dynamic imports&nbsp;&nbsp;</a></li><li><a href="#re-export-statements">Re-export statements&nbsp;&nbsp;</a></li></ul></li><li><a href="#upcoming-features-based-on-import-assertions">Upcoming features based on import assertions&nbsp;&nbsp;</a><ul><li><a href="#importing-webassembly">Importing WebAssembly&nbsp;&nbsp;</a></li></ul></li><li><a href="#further-reading-on-modules">Further reading on modules&nbsp;&nbsp;</a></li></ul></nav><hr>
<h2 id="import-assertions">Import assertions&nbsp;&nbsp;</h2>
<p>The motivating use case for import assertions was importing JSON data as a module. That looks as follows (and is further specified in <a href="https://github.com/tc39/proposal-json-modules">a separate proposal</a>):</p>
<pre><code><span>import</span> config <span>from</span> <span>'./data/config.json'</span> assert { <span>type</span>: <span>'json'</span> };
</code></pre>
<p>You may wonder why a JavaScript engine canâ€™t use the filename extension <code>.json</code> to determine that this is JSON data. However, a core architectural principle of the web is to never use the filename extension to determine whatâ€™s inside a file. Instead, content types are used.</p>
<p>Therefore, there is a risk of doing importing wrong if a server has incorrectly configured content types. Specifying the necessary metadata at the import location solves this issue.</p>
<p>Before we take a more detailed look at how import assertions work, letâ€™s examine the history of importing non-JavaScript artifacts in the world of JavaScript.</p>
<h2 id="history%3A-importing-non-javascript-artifacts-as-modules">History: importing non-JavaScript artifacts as modules&nbsp;&nbsp;</h2>
<p>Importing artifacts that are not JavaScript code as modules, has a long tradition in the JavaScript ecosystem.</p>
<p>For example, the JavaScript module loader RequireJS has support for so-called <a href="https://requirejs.org/docs/plugins.html"><em>plugins</em></a>. To give you a feeling for how old RequireJS is: Version 1.0.0 was released in 2009. Specifiers of modules that are imported via a plugin look like this:</p>
<pre><code>'Â«specifier-of-plugin-moduleÂ»!Â«specifier-of-artifactÂ»'
</code></pre>
<p>For example, the following module specifier imports a file as JSON:</p>
<pre><code>'json!./data/config.json'
</code></pre>
<p>Inspired by RequireJS, webpack supports the same module specifier syntax for its <a href="https://webpack.js.org/loaders/"><em>loaders</em></a>.</p>
<h2 id="use-cases-for-importing-non-javascript-artifacts">Use cases for importing non-JavaScript artifacts&nbsp;&nbsp;</h2>
<p>These are a few use cases for importing non-JavaScript artifacts:</p>
<ul>
<li>Importing JSON configuration data</li>
<li>Importing WebAssembly code as if it were a JavaScript module</li>
<li>Importing CSS to build user interfaces</li>
</ul>
<p>For more use cases, you can take a look at <a href="https://webpack.js.org/loaders/">the list of webpackâ€™s loaders</a>.</p>
<h2 id="the-syntax-of-import-assertions">The syntax of import assertions&nbsp;&nbsp;</h2>
<p>Letâ€™s examine in more detail what import assertions look like.</p>
<h3 id="static-import-statements">Static import statements&nbsp;&nbsp;</h3>
<p>We have already seen a normal (static) import statement:</p>
<pre><code><span>import</span> config <span>from</span> <span>'./data/config.json'</span> assert { <span>type</span>: <span>'json'</span> };
</code></pre>
<p>The import assertions start with the keyword <code>assert</code>. That keyword is followed by an object literal. For now, the following object literal features are supported:</p>
<ul>
<li>Unquoted keys and quoted keys</li>
<li>The values must be strings</li>
</ul>
<p>There are no other syntactic restrictions placed on the keys and the values, but engines are encouraged to throw an exception if they donâ€™t support a key and/or a value. That makes it easier to add more features in the future because no one will use keys and values in unexpected ways.</p>
<h3 id="dynamic-imports">Dynamic imports&nbsp;&nbsp;</h3>
<p>To support import assertions, <a href="https://exploringjs.com/impatient-js/ch_modules.html#import-operator">dynamic imports</a> get a second parameter â€“ an object with configuration data:</p>
<pre><code><span>import</span>(<span>'./data/config.json'</span>, { <span>assert</span>: { <span>type</span>: <span>'json'</span> } })
</code></pre>
<p>The import assertions donâ€™t exist at the top level; they are specified via the property <code>assert</code>. That makes it possible to add more configuration options in the future.</p>
<h3 id="re-export-statements">Re-export statements&nbsp;&nbsp;</h3>
<p>A re-export imports and exports in a single step. For the former, we need assertions:</p>
<pre><code><span>export</span> { <span>default</span> <span>as</span> config } <span>from</span> <span>'./data/config.json'</span> assert { <span>type</span>: <span>'json'</span> };
</code></pre>
<h2 id="upcoming-features-based-on-import-assertions">Upcoming features based on import assertions&nbsp;&nbsp;</h2>
<p>Import assertions are really just syntax. They lay the foundation for actual features that make use of that syntax.</p>
<p>The first feature based on import assertions is probably going to be <a href="https://github.com/tc39/proposal-json-modules">JSON modules</a>.</p>
<h3 id="importing-webassembly">Importing WebAssembly&nbsp;&nbsp;</h3>
<p>Whether or not import assertions will be used to support directly importing WebAssembly from JavaScript is currently under <a href="https://github.com/tc39/proposal-import-assertions/issues/19">discussion</a>. If they are used, weâ€™ll probably be able to create web workers like this:</p>
<pre><code><span>new</span> Worker(<span>'my-app.wasm'</span>, { <span>type</span>: <span>'module'</span>, <span>assert</span>: { <span>type</span>: <span>'webassembly'</span> } })
</code></pre>
<p>And weâ€™d also need import assertions in HTML script elements:</p>
<pre><code><span>&lt;<span>script</span> <span>src</span>=<span>"my-app.wasm"</span> <span>type</span>=<span>"module"</span> <span>asserttype</span>=<span>"webassembly"</span>&gt;</span><span>&lt;/<span>script</span>&gt;</span>
</code></pre>
<h2 id="further-reading-on-modules">Further reading on modules&nbsp;&nbsp;</h2>
<p><a href="https://exploringjs.com/impatient-js/ch_modules.html">The chapter on â€œModulesâ€</a> in â€œJavaScript for impatient programmersâ€ is an in-depth introduction to ECMAScript modules.</p>
</div></div>]]>
            </description>
            <link>https://2ality.com/2021/01/import-assertions.html#upcoming-features-based-on-import-assertions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25725187</guid>
            <pubDate>Mon, 11 Jan 2021 06:03:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The ABCs of Cryptocurrencies]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25724824">thread link</a>) | @hgarg
<br/>
January 10, 2021 | https://flurly.com/s/harishgarg/ABCsofCrypto | <a href="https://web.archive.org/web/*/https://flurly.com/s/harishgarg/ABCsofCrypto">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><h2>Do you remember Bitcoin breaking records with how fast it was gaining in value?

Do you remember wanting to join in on the profits, but didn't know where to start?

The ABCs of Cryptocurrency takes you through my experience of becoming an investor in the Blockchain and Cryptocurrency market, as well as instructions on how you can get started investing in Bitcoin, Ethereum, Ripple, and other hot cryptocurrencies TODAY. The window to get invested early in this market won't last forever. Find out how you can get involved with your purchase of The ABCs of Cryptocurrency.

This book will teach you:

ğŸ’°How to invest in Bitcoin and other cryptocurrencies

ğŸ’°How to stake your cryptocurrency for passive, residual income

ğŸ’°The proper and safe way to hold cryptocurrency

Donâ€™t get left behind the next time Bitcoin goes to $20,000...or more ğŸ‘€

Letâ€™s hit the moon together ğŸš€

Â© 2020 Mashfik Ahmed</h2></p></div></div>]]>
            </description>
            <link>https://flurly.com/s/harishgarg/ABCsofCrypto</link>
            <guid isPermaLink="false">hacker-news-small-sites-25724824</guid>
            <pubDate>Mon, 11 Jan 2021 05:10:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pylon â€“ Your new favorite discussion platform]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25724076">thread link</a>) | @hastes
<br/>
January 10, 2021 | https://pylon.gg/p/27dec919-16e9-46d7-b245-28b565ad3bf9 | <a href="https://web.archive.org/web/*/https://pylon.gg/p/27dec919-16e9-46d7-b245-28b565ad3bf9">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-405e5d70=""><p>
                Greetings, traveler
            </p> <p>
                Staying a while? Registered users can customize their
                profile, create Shards, and join the discussion.
            </p> </div></div>]]>
            </description>
            <link>https://pylon.gg/p/27dec919-16e9-46d7-b245-28b565ad3bf9</link>
            <guid isPermaLink="false">hacker-news-small-sites-25724076</guid>
            <pubDate>Mon, 11 Jan 2021 03:32:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cheap FPGA Development Boards]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25723893">thread link</a>) | @neurotech1
<br/>
January 10, 2021 | https://www.joelw.id.au/FPGA/CheapFPGADevelopmentBoards | <a href="https://web.archive.org/web/*/https://www.joelw.id.au/FPGA/CheapFPGADevelopmentBoards">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wikitext">

<p>I bought Avnet's $49 Spartan 3A development board but it was discontinued not long afterward - right about the time when I decided I needed a few dozen more. I've since done some extensive research (thanks, Google!) to find a comparable thrifty thrill.
</p>
<p>When choosing a development board, consider what you get with it and what you want to use it for. FPGAs are ideal for use with high speed peripherals, and in general it is much easier to buy a board that contains the part you want, rather than trying to add one on later (and inevitably giving up and upgrading to a more capable board). Examples of things you might want, and are quite difficult to add yourself:
</p>
<ul><li>Gigabit Ethernet
</li><li>HDMI/DVI
</li><li>PCI/PCI Express
</li><li>External non-serial memory (DDR/Flash etc.)
</li></ul><p>Things that are relatively easy to add, and are not so much of a big deal to wire up yourself.
</p>
<ul><li>MMC/SD cards
</li><li>Character (e.g. 16x2) LCDs
</li><li>Anything I2C/SPI and relatively low speed
</li><li>VGA (with low colour depth)
</li></ul><p>I like having a board with many (at least 8) SPST switches and LEDs, and momentary buttons. Unlike a microcontroller where it's relatively easy to spit debug information out of a serial port or to an LCD with a single C function call, debugging FPGA designs is a bit harder. LEDs  provide a zero fuss way to break out internal signals for visualisation - if you're tracking the progress of a complex state machine, you can light up an LED when it gets to a certain point without adding any extra logic. While these are easy enough to add yourself, I find that it's better to get a board that has them so that you don't waste valuable user IOs or waste time investigating failures caused by your terrible soldering skills.
</p>
<p>Some manufacturers promote a standard form factor for add-ons, notably Digilent with their very wide range of <a href="https://store.digilentinc.com/pmod-modules-connectors/">Pmods</a>, the Papilio One's <a href="http://papilio.cc/index.php?n=Papilio.Wings">Wings</a>, and Arduino shields.
</p>
<p>If you would like to connect high speed devices (above 10-20 MHz) to your FPGA, make sure your board has an interface connector that supports the speeds you'll be using. Look for ground wires interspersed regularly between signal wires, high speed connectors (not just 0.1" headers), PCB trace length equalisation, and impedance control. Few of the cheap boards bother with any of these.
</p>
<p>FPGAs can be a bit daunting, so check that the manufacturer provides:
</p>
<ul><li>Schematic diagram
</li><li>A reference manual, describing all of the on-board peripherals
</li><li>A guide to getting started, if you've never used an FPGA before
</li><li>A reference design that exercises all on-board peripherals.
</li></ul><p>Reference designs can either be HDL or microcontroller-based, but in recent boards, most manufacturers seem to be moving to the latter. Bear this in mind if you don't have a license for the microcontroller and environment (e.g. Xilinx EDK/SDK is not free), as the code will be difficult to port to HDL.
</p>
<p>If you're a beginner, you may benefit from buying a board that has a companion textbook which has been written specifically for the board in mind, and describes each of the peripherals and how to interface with them. Popular boards with larger user communities may also be worth considering above cheaper options. The most popular Xilinx boards are those made by Xilinx (none of them cheap enough to be listed here), Digilent and Avnet. Terasic seem to make the most popular Altera boards.
</p>

<p>A long-standing complaint with vendor FPGA design tools is that they are generally enormous, complicated, slow, buggy, closed source, and are either expensive or have annoying license requirements. The open source community has made great progress in recent years to reimplement parts or all of the FPGA design toolchain and to address all of these concerns.
</p>
<p>FPGA devices which are currently either partially or fully supported by open source tools include:
</p>
<ul><li>Xilinx Spartan 6
</li><li>Xilinx Series 7 (Artix 7, Kintex 7, Virtex 7, Zynq with Series 7 Fabric)
</li><li>Xilinx Ultrascale(+)
</li><li>Lattice iCE40
</li><li>Lattice ECP5
</li><li>QuickLogic EOS S3 and PolarPro3
</li></ul><p>Some tools to check out include:
</p>
<ul><li><a href="https://github.com/enjoy-digital/litex">LiteX</a> - A Python-based SoC builder
<ul><li><a href="https://github.com/litex-hub">LiteX Hub</a> - collaborative FPGA projects based on LiteX
</li><li><a href="https://github.com/timvideos/litex-buildenv">LiteX-BuildEnv</a> - An environment for building LiteX-based FPGA designs
</li></ul></li><li><a href="http://www.clifford.at/yosys/">Yosys</a> - Verilog synthesis tool
</li><li><a href="https://github.com/YosysHQ/nextpnr">nextpnr</a> - a vendor neutral, timing driven place and route tool
</li><li><a href="https://symbiflow.github.io/">SymbiFlow</a> - an umbrella project for FPGA architecture definitions
</li><li><a href="https://icestudio.io/">Icestudio</a> - an visual editor/IDE for Lattice FPGAs
</li></ul><p><a href="https://twitter.com/mithro">Tim 'mithro' Ansell</a> has an open offer to send FPGA hardware to anyone who has time to to contribute to open source FPGA projects but doesn't have any hardware.
</p>

<h4>Xilinx</h4>
<h5>Zynq</h5>
<p>Xilinx's Zynq parts are supported by their Vivado high level synthesis design suite and include a dual-core ARM Cortex-A9, USB 2.0, and Gigabit Ethernet.
</p>

<table><tbody><tr><th>Name</th><th>Price</th><th>Device</th><th>Notes</th></tr>
<tr><td><a href="https://www.aliexpress.com/item/4000042572307.html">Zynq 7000 ZYNQ7010 development board</a></td><td>$42</td><td>Zynq 7010</td><td>A no-name board, apparently pulled from some equipment, which provides 256MB DDR, 128M NAND flash, SD card, optocoupled inputs, 1 button, 2 LEDs, and 42 I/Os. Some more information is available in this <a href="https://www.eevblog.com/forum/fpga/anyone-played-with-these-cheap-$50-zynq-boards/">EEVBlog thread</a>.</td></tr>
<tr><td><a href="https://www.aliexpress.com/item/4000323573953.html">QMTECH Zynq7000 Starter Kit</a></td><td>$56</td><td>Zynq 7010</td><td>512MB DDR3, micro SD slot, 100 Mbit Ethernet, two LEDs, 62 length-matched and paired FPGA I/Os and 15 processor I/Os. Some documentation is available at <a href="http://www.chinaqmtech.com/xilinx_zynq_soc">QMTech's site</a> and there are some observations in this <a href="https://www.eevblog.com/forum/fpga/anyone-played-with-these-cheap-$50-zynq-boards/">EEVBlog thread</a>, where there are some complaints about a lack of decoupling.</td></tr>
<tr><td><a href="http://shop.trenz-electronic.de/en/TE0722-01-DIPFORTy1-Soft-Propeller">DIPFORTy1 "Soft Propeller"</a></td><td>EUR 59</td><td>Zynq 7010</td><td>A DIP-40 sized board that is designed to be pin-compatible with the Parallax Propeller chip. It has 16MB of flash, 46 I/Os, one RGB LED, one user LED, micro SD socket, and a proximity/light sensor.</td></tr>
<tr><td><a href="https://world.taobao.com/item/607165559105.htm?spm=a21wu.11804641-tw.0.0.4263253ekAFbba">Sipeed Tang Hex</a></td><td>$70-90</td><td>Zynq 7020</td><td>1 GB LPDDR3, 2Gb Flash NAND, 100Mbit Ethernet, four USB 2.0 ports, a TF slot, and 15 GPIOs.</td></tr>
<tr><td><a href="http://zedboard.org/product/minized">MiniZed</a></td><td>$89</td><td>Zynq 7Z007S</td><td>Includes a single ARM A9, 512MB DDR3L, 128Mb flash and 8GB eMMC, USB host, USB-JTAG, and USB-UART, 802.11b/g/n Wi-Fi, Bluetooth 4.1, and BLE, Arduino shield connector and two PMODs (38 total I/Os), accelerometer, temperature, and MEMS microphone sensors, one button, one switch, and two bi-color LEDs</td></tr>
<tr><td><a href="http://www.myirtech.com/list.asp?id=502">MYIR Z-turn Board</a></td><td>$99/$119</td><td>Zynq 7010/ 7020</td><td>1GB DDR, 16MB flash, TF socket, gigabit Ethernet, CAN, USB2.0 OTG, USB-UART, HDMI output, 90 or 106 user I/Os (with 39 LVDS pairs), accelerometer and temperature sensor, JTGA, two buttons, 4 switches, four LEDs, and a buzzer. An "IO Cape" breakout board ($35) provides three Pmod connectors, camera and LCD connectors, and 0.1" header I/O pins.</td></tr>
<tr><td><a href="https://www.crowdsupply.com/krtkl/snickerdoodle">snickerdoodle</a></td><td>$115/$245</td><td>Zynq 7010/7020</td><td>A Zynq board with 155-180 I/Os, 512MB-1GB DDR, 16MB flash, micro SD, 802.11n WiFi, and Bluetooth 4.0. A range of base-boards and add-on boards are also available, providing gigabit Ethernet, HDMI in/out, USB, JTAG, 0.1" I/Os, and more.</td></tr>
<tr><td><a href="http://www.tul.com.tw/ProductsPYNQ-Z2.html">PYNQ Z2</a></td><td>$119</td><td>Zynq 7020</td><td>512MB DDR3, 128 Mb flash, microSD, gigabit Ethernet, HDMI source and sink, USB for JTAG, UART and OTG host, I2S audio I/O, 4 SPST buttons, 2 SPDT switches, 4 LEDs and 2 RGB LEDs, two PMODs, and Arduino and Raspberry Pi connectors (around 60 I/Os, plus 6 analog inputs)</td></tr>
<tr><td><a href="http://www.parallella.org/buy/">Parallella-16 Micro-Server</a></td><td>$126</td><td>Zynq 7010</td><td>Includes a dual ARM A9. Also available on the board are the Epiphany 16-core CPU Accelerator, 1GB RAM, 126 Mb flash, micro SD, and gigabit Ethernet.</td></tr>
<tr><td><a href="http://www.parallella.org/buy/">Parallella-16 Desktop</a></td><td>$158</td><td>Zynq 7010</td><td>Expands on the Micro-Server and adds high speed expansion ports with 24 GPIOs (and other Epiphany signals), HDMI, and USB 2.0 host.</td></tr>
<tr><td><a href="https://store.digilentinc.com/zybo-z7-zynq-7000-arm-fpga-soc-development-board/">Digilent ZYBO Z7</a></td><td>$199/299</td><td>Zynq 7010/7020</td><td>1GB DDR3 RAM, HDMI source/sink with CEC, VGA, gigabit Ethernet, USB JTAG, UART and 2.0 host/OTG, MIPI CSI-2, audio I/O, 6 buttons, 4 switches, 6 or 7 LEDs, and 40 I/Os (5 PMODs), including analogue inputs, and microSD</td></tr>
<tr><td><a href="http://www.zedboard.org/product/microzed">MicroZed</a></td><td>$199</td><td>Zynq 7010</td><td>1GB, 128 Mb flash, SD card, gigabit Ethernet, USB 2.0, 100 I/Os (48 LVDS pairs) and 2 PMODs, 1 LED and 1 switch</td></tr>
<tr><td><a href="https://allaboutfpga.com/product/edge-zynq-soc-fpga-development-board/">EDGE ZYNQ</a></td><td>$214</td><td>Zynq 7010</td><td>512MB, 128 Mb flash, micro SD, gigabit Ethernet, 802.11/b/g/n WiFi and Bluetooth 4.2/LE, USB for JTAG, UART, and OTG, HDMI Tx/Rx, VGA, stereo audio output, light and temperature sensors, 4*7 Seg LEDs, 5 LEDs, 4 slide switches, 31 PL I/Os and 4 PS I/Os. A 2x16 LCD module is included, and camera and TFT LCD modules are available.</td></tr>
</tbody></table>
<h5>Artix-7</h5>
<p>Artix parts are becoming increasingly common in inexpensive development boards, taking the position previously occupied by the Spartan-6 in Xilinx's lineup, though they are only supplied in BGA packages.
</p>

<table><tbody><tr><th>Name</th><th>Price</th><th>Device</th><th>Notes</th></tr>
<tr><td>QMTECH Artix 7 DDR3 Core Board</td><td>$50/80</td><td><a href="https://www.aliexpress.com/item/1000006630084.html">Artix 35T</a>/<a href="https://www.aliexpress.com/item/4000170003461.html">100T</a></td><td>256MB DDR3, 16MB SPI flash, 2 switches, 3 LEDs, JTAG header, and 108 length-matched I/Os. It's also compatible with a daughterboard which provides PMODs, USB-UART, camera interface, VGA, gigabit Ethernet, and more. There are reports that decoupling is insufficient, so beware.</td></tr>
<tr><td><a href="http://store.digilentinc.com/cmod-a7-breadboardable-artix-7-fpga-module/">Digilent Cmod A7</a></td><td>$75/89</td><td>Artix 15T/45T</td><td>A breadboardable module with 512KB SRAM, 4MB SPI flash, USB-JTAG and USB-Serial, 3 LEDs, 2 buttons, 52 digital I/Os, and 2 analog inputs.</td></tr>
<tr><td><a href="https://perfv.org/">Perf-V</a></td><td>$79</td><td>Artix 35T</td><td>4 switches, 5 buttons, 7 LEDs, JTAG 256MB DDR3, 16MB flash, Arduino shield connector, one PMOD, and some sort of high speed connector which supports expansion boards with HDMI and VGA. Larger FPGA sizes will apparently be available too.</td></tr>
<tr><td><a href="https://rhsresearch.com/collections/all/products/litefury">LiteFury</a></td><td>$99</td><td>Artix 100T</td><td>A PCIe x4 gen 2 development board with an NVMe (2280 Key M) connector. It has 256MB DDR3, 128 Mb flash, 4 LEDs, and 12 I/Os (including four LVDS pairs).</td></tr>
<tr><td><a href="https://alchitry.com/collections/all/products/alchitry-au-fpga-development-board">Alchitry Au</a></td><td>$99.99</td><td>Artix 35T</td><td>256MB DDR3, 102 digital I/Os, 9 differential analog inputs (8 shared with digital I/O), 8 LEDs, 1 button, USB-UART, and USB-C for power and programming. It has high density I/O connectors, but companion prototype/breaking ($10) and I/O with switches, LEDs, 7-Segs ($25) boards.</td></tr>
<tr><td><a href="https://www.aliexpress.com/item/4000170042795.html">QMTECH Artix-7 Wukong Board</a></td><td>$100</td><td>Artix 100T</td><td>16MB flash, 256MB DDR3, 3 switches, 4 LEDs, gigabit Ethernet, HDMI output, USB-UART, GTP transceiver interface, 2 PMODs, and 40 I/IOs. There are reports that decoupling is insufficient, so beware.</td></tr>
<tr><td><a href="https://store.digilentinc.com/arty-a7-artix-7-fpga-development-board-for-makers-and-hobbyists/">Arty A7</a></td><td>$129/249</td><td>Artix 35T/100T</td><td>An inexpensive way to get into the Artix parts. It provides 256 MB DDR, 16MB flash, 10/100 Ethernet, USB-UART/JTAG, four PMODs, an Arduino shield connector (a total of 62 I/Os?), 4 switches, 4 buttons, 8 LEDs (4 of them RGB), and a one year licence for Vivado Design Edition.</td></tr>
<tr><td><a href="https://numato.com/product/mimas-a7-artix-7-fpga-development-board-with-ddr-sdram-and-gigabit-ethernet">Nâ€¦</a></td></tr></tbody></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.joelw.id.au/FPGA/CheapFPGADevelopmentBoards">https://www.joelw.id.au/FPGA/CheapFPGADevelopmentBoards</a></em></p>]]>
            </description>
            <link>https://www.joelw.id.au/FPGA/CheapFPGADevelopmentBoards</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723893</guid>
            <pubDate>Mon, 11 Jan 2021 03:09:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Working Off-Grid Efficiently]]>
            </title>
            <description>
<![CDATA[
Score 276 | Comments 138 (<a href="https://news.ycombinator.com/item?id=25723819">thread link</a>) | @zdw
<br/>
January 10, 2021 | https://100r.co/site/working_offgrid_efficiently.html | <a href="https://web.archive.org/web/*/https://100r.co/site/working_offgrid_efficiently.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
        
        <ul>
            <li><a href="#intro">Introduction</a></li>
            <li><a href="#power">Power management</a></li>
            <li><a href="#internet">Internet</a></li>
            <li><a href="#data">Data storage</a></li>
            <li><a href="#software">Software</a></li>
            <li><a href="#hardware">Hardware</a></li>
            <li><a href="#conscientious">Conscientious living</a></li>
        </ul>
<h2 id="intro">Introduction</h2>

<img src="https://100r.co/media/blog/working/dworking5.jpg" loading="lazy">

<p>Our traveling studio has operated off-the-grid since 2016.</p>

<p>For the first 3 years we tested the limits of our space, and at first, it was difficult to create new things, as we had to make time to learn how to solve the underlying problems. Our boat was not just an office, it was also our house and transport. As for us, we were artists, but also had to be plumbers, deckhands, electricians, captains, janitors and accountants.</p>

<p>Our main problems as a studio were <b>internet scarcity</b>, <b>power management</b>, <b>data storage</b> as well as <b>hardware</b> and <b>software failures</b>. Overtime we found ways to balance work, pleasure and maintenance. Here are some of the lessons we learnt.</p>

<h2 id="power">Power management</h2>

<img src="https://100r.co/media/blog/working/dworking6.jpg" loading="lazy">

<p>Our work schedule is tied to the weather, as we depend on solar energy to power our computers. By looking at the forecast, we can determine when we will get the most work done: consecutive days of sun grant us enough power for video-editing, while overcast days are reserved for low-power work, like writing, coding and planning.</p>

<p>There are times when we must resort to secondary power sources, like our small generator or our engine's alternator, but we tend to prefer to <a href="https://www.youtube.com/watch?v=9ua_qxjbBTc">wait for the sun to return</a>. Waiting hasnâ€™t affected our productivity, as we don't adhere to strict 8-hour workdays.</p>

<p>We tend to work only in the morning, leaving us time to pursue other interests in the afternoon. In our old life, we found that the 40-hour workweek ï»¿<a href="https://www.raptitude.com/2010/07/your-lifestyle-has-already-been-designed/" target="_blank">kept free-time scarce</a>, resulting in us spending more for convenience, gratification and distraction.</p>

<p>Computers are generally power-sucking vampires. Choosing different softwares, operating systems, or working from machines with a lower draw (ARM) or even throttling the CPU, are some of the many things we do to lower our power requirements. The way that software is built has a substantial impact on the power consumption of a system, it is shocking how cpu-intensive modern programs can be.</p>

<p>Choosing software designed for low-end PCs is a good solution, it is also possible to throttle processes on your machine by using a â€˜throttling controllerâ€™. The basic idea is like the throttle in a car, it allows to set the rate at which your system will operate and consume power. Another sure way to save battery is to limit multitasking. Disabling notifications, <a href="https://addons.mozilla.org/en-CA/firefox/addon/noscript/">scripts</a>, auto-playing videos or using internet browsers without opening multiple tabs at once are some of the many ways to achieve this.</p>

<p>Power consumption is also something to consider when choosing a computer. In evenings, if we need to work on light tasks, we switch to our low-power machines like the <a href="https://100r.co/site/raspberry_pi.html">Raspberry Pi</a>. To illustrate the difference in power draw, a Pi4 uses 2.85 W when idle, while a Macbook Pro uses 6-12 W. Raspberry Pis are backups to our main computers, as they are inexpensive and can run off small batteries.</p>

<h2 id="internet">Internet</h2>

<img src="https://100r.co/media/blog/working/dworking1.jpg" loading="lazy">

<p>Internet access is the woe of any working nomad. Internet is sometimes spotty, and data in some countries is slow, expensive, or limited to small blocks at a time. While circumnavigating the Pacific, we amassed sim cards, pocket WiFis, and have often used connections from businesses on land. Overtime, we found ways to lessen our dependence on internet, and to save on bandwidth.</p>

<p>With limited access, it is important to use online time wisely. Prior to connecting we make a list of tasks that we must do, such as pushing updates and making backups of our data online. Itâ€™s easy to get side-tracked on the internet, with websites designed to grab and keep our attention. When checking social media, we disable auto-playing videos and image previews to save bandwidth.</p>

<p>When we have a reliable internet connection, we gather copies of all the online material we will need. We keep offline versions of entire websites, writing guides, articles and even whole sections of Wikipedia. If we find ourselves without a connection, we can still solve our problems by using our offline mirrors. By the way, you can <a href="https://github.com/hundredrabbits/100r.co/archive/master.zip">download our entire website</a>.</p>

<p>We research our destinations ahead of time to make sure weâ€™ll have a reliable connection when we need it. This means weâ€™ll be spending less time in secluded areas, and more time in city centers near a cell tower or WiFi signal. With some planning it is possible to have both paradise and connectivity, we found such a place in <a href="https://100r.co/site/internet_in_paradise.html#internet">Huahine</a> in French Polynesia, and again in Fiji. Internet access will only get better as far-flung island nations gain purchasing power.</p>

<h2 id="data">Data storage</h2>

<img src="https://100r.co/media/blog/working/dworking2.jpg" loading="lazy">

<p>Hardware failure is common on boats due to the hostile environment. Saltwater is the kryptonite of electronics. This is why it is important to backup data often to avoid losing work. There are advantages and disadvantages with all methods of data storage, but Iâ€™ll outline the most useful ones:</p>

<p><b>Cloud storage:</b> For a fee, you can back up your data online and sync files from your desktop. This method doesnâ€™t eliminate physical storage as data canâ€™t be synced to the cloud without a connection. Offloading data storage to a centralized service is problematic in other ways, because services have rules and owners and processes which can complicate things. For instance, country politics have made it that Google restricts access to some of its business services in certain countries or regions, such as China, Crimea, Cuba, Iran, Sudan, and Syria. Whatever data you have stored with Google Drive, if traveling to any of these countries will not be accessible. As conflicts arise, more countries can end up on that list. We keep documents we donâ€™t need regular access to on the cloud, with copies on hard disks.</p>

<p><b>Hard copies:</b> Paper is a stable and widely accessible material, unlike digital devices which are subject to breakages and obsolescence. Thereâ€™s a good reason books and other documents from centuries ago are still readable today. We like to keep printed copies of websites and other online reference materials, such as grammar guides for writing, or language manuals for coding. Keeping data like this means we always have access and arenâ€™t limited to our computerâ€™s battery.</p>

<p><b>External hard drives:</b> A hard drive is the best balance of practical and reliable for storage. However, hard drives are rated for a limited number of read/write cycles, and can be expected to fail eventually. To prevent data loss due to HD failure, itâ€™s a good idea to store the same data across multiple hard drives.</p>

<p><b>Offline databases:</b> Keeping an offline collection of websites on computers or HD ensures constant access, and reduces the energy associated with re-loading them repeatedly. Itâ€™s possible to save web pages with most browser by selecting File &gt; Save Page As. To access the page offline, click on the HTML file. Another option is to mirror entire web sites using <a href="https://www.gnu.org/software/wget/" target="_blank">command-line tools</a>. We keep offline databases full of notes on a variety of subjects to refer to when thereâ€™s no internet.</p>
<p>For those who need a vast quantity of reference materials, it's possible to setup an <a href="http://wiki.laptop.org/go/IIAB/FAQ#How_does_Internet-in-a-Box_.28IIAB.29_help.3F" target="_blank">internet in the box</a> on your boat. In short, it permits you to browse through the Worldâ€™s Free Knowledge (Wikipedia, Khan Academy, OpenStreetMap, E-Books and many others) while offline. You can install an internet-in-a-box using very diverse hardware, like on a <a href="https://opensource.com/article/17/5/internet-in-a-box-raspberry-pi" target="_blank">Raspberri Pi</a> or on a terabyte HD with a built-in hotspot. This system was originally designed for students with restricted internet access and people in remote areas of the world not served by broadband. You can buy one, or better yet <a href="https://www.kiwix.org/en/" target="_blank">create a digital library</a> filled with content tailored to your needs. This might be especially useful for sailors who homeschool.</p>

<p>Keeping files on the cloud, on hard drives and hard copies gives our floating studio the redundancy required to ensure reliability.</p>

<h2 id="software">Software</h2>

<p>Software has a big impact on productivity, they need to be reliable and fast. Those that require heavy updates, that have a high CPU usage and that need frequent connectivity to function are problematic for working sailors.</p>

<p>Much of the software on the market is designed by people living on the grid with unlimited access to internet. Tools locking up at sea, asking for a connection to continue working donâ€™t float on a boat. Adobe products are a good example, as they require an internet connection periodically for subscription validation. If away from big cities, you may open your computer in an atoll to find that you no longer have access to the tool you need to get things done. Choosing a tool that doesnâ€™t require a subscription is <b>essential</b> for working nomads that donâ€™t have a reliable connection.</p>

<p>In our first year, we struggled to download the frequent and mandatory 10GB software updates from Apple to release our software on their platform, while on slow Polynesian internet. Processor-intensive software or apps is a strain on limited power and bandwidth, but it doesnâ€™t have to be that way. The way developers write them can affect the power consumption of the resulting product. Chat rooms and bare bones text editors arenâ€™t supposed to be process-heavy, and yet the popular communication platform Slack requires <a href="https://josephg.com/blog/electron-is-flash-for-the-desktop/" target="_blank">outrageous amounts of ram and CPU</a> to function. This is because Slack is embedding the entirety of Google Chrome in their app. Making software this way is costly to off-grid users, or those on slow connections, but luckily there are <a href="https://github.com/mayfrost/guides/blob/master/ALTERNATIVES.md" target="_blank">many alternatives</a>.</p>

<p>Our computer batteries should not need to grow ever larger only to support these bloatwares, nor should we need to add extra solar to power them. Just as you would look at the nutritional content of food products at the grocery store, find out how much energy your apps are consuming.</p>

<h2 id="hardware">Hardware</h2>

<img src="https://100r.co/media/blog/working/working3.jpg" loading="lazy">

<p>Computers are subject to water intrusion and saltwater corrosion, but with some care they can survive in a normal marine environment. We solved most of the problems by cleaning external connections often, and by storing them in a sealed box with some desiccants after each use. The main issue with â€¦</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://100r.co/site/working_offgrid_efficiently.html">https://100r.co/site/working_offgrid_efficiently.html</a></em></p>]]>
            </description>
            <link>https://100r.co/site/working_offgrid_efficiently.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723819</guid>
            <pubDate>Mon, 11 Jan 2021 02:58:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Go is my favorite programming language (2017)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25723749">thread link</a>) | @psxuaw
<br/>
January 10, 2021 | https://michael.stapelberg.ch/posts/2017-08-19-golang_favorite/ | <a href="https://web.archive.org/web/*/https://michael.stapelberg.ch/posts/2017-08-19-golang_favorite/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
  
  <details>
    <summary>Table of contents</summary>
    <nav>
<ul>
<li>
<ul>
<li><a href="#my-background">My background</a></li>
<li><a href="#1-clarity">1. Clarity</a>
<ul>
<li><a href="#formatting">Formatting</a></li>
<li><a href="#high-quality-code">High-quality code</a></li>
<li><a href="#opinions">Opinions</a></li>
<li><a href="#few-keywords-and-abstraction-layers">Few keywords and abstraction layers</a></li>
</ul></li>
<li><a href="#2-speed">2. Speed</a>
<ul>
<li><a href="#quick-feedback-low-latency">Quick feedback / low latency</a></li>
<li><a href="#maximum-resource-usage">Maximum resource usage</a></li>
</ul></li>
<li><a href="#3-rich-standard-library">3. Rich standard library</a></li>
<li><a href="#4-tooling">4. Tooling</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#caveats">Caveats</a></li>
</ul></li>
</ul>
</nav>
  </details>
  

<p>I strive to respect everybodyâ€™s personal preferences, so I usually steer clear
of debates about which is the best programming language, text editor or
operating system.</p>

<p>However, recently I was asked a couple of times why I like and use a lot of <a href="https://golang.org/">Go</a>, so here is a coherent article to fill in the
blanks of my ad-hoc in-person ramblings :-).</p>

<h2 id="my-background">My background</h2>

<p>I have used C and Perl for a number of decently sized projects. I have written
programs in Python, Ruby, C++, CHICKEN Scheme, Emacs Lisp, Rust and Java (for
Android only). I understand a bit of Lua, PHP, Erlang and Haskell. In a previous
life, I developed a number of programs using
<a href="https://en.wikipedia.org/wiki/Delphi_(programming_language)">Delphi</a>.</p>

<p>I had a brief look at Go in 2009, when it was first released. I seriously
started using the language when Go 1.0 was released in 2012, featuring the <a href="https://golang.org/doc/go1compat">Go 1
compatibility guarantee</a>. I still have
<a href="https://github.com/stapelberg/greetbot">code</a> running in production which I
authored in 2012, largely untouched.</p>

<h2 id="1-clarity">1. Clarity</h2>

<h3 id="formatting">Formatting</h3>

<p>Go code, by convention, is formatted using the
<a href="https://golang.org/cmd/gofmt/"><code>gofmt</code></a> tool. Programmatically formatting code
is not a new idea, but contrary to its predecessors, <code>gofmt</code> supports precisely
one canonical style.</p>

<p>Having all code formatted the same way makes reading code easier; the code feels
familiar. This helps not only when reading the standard library or Go compiler,
but also when working with many code bases â€” think Open Source, or big
companies.</p>

<p>Further, auto-formatting is a huge time-saver during code reviews, as it
eliminates an entire dimension in which code could be reviewed before: now, you
can just let your continuous integration system verify that <code>gofmt</code> produces no
diffs.</p>

<p>Interestingly enough, having my editor apply <code>gofmt</code> when saving a file has
changed the way I write code. I used to attempt to match what the formatter
would enforce, then have it correct my mistakes. Nowadays, I express my thought
as quickly as possible and trust <code>gofmt</code> to make it pretty
(<a href="https://play.golang.org/p/I6GJwiT77v">example</a> of what I would type, click
Format).</p>

<h3 id="high-quality-code">High-quality code</h3>

<p>I use the standard library (<a href="https://golang.org/pkg/">docs</a>,
<a href="https://github.com/golang/go/tree/master/src">source</a>) quite a bit, see below.</p>

<p>All standard library code which I have read so far was of extremely high quality.</p>

<p>One example is the <a href="https://golang.org/pkg/image/jpeg/"><code>image/jpeg</code></a> package: I
didnâ€™t know how JPEG worked at the time, but it was easy to pick up by switching
between the <a href="https://en.wikipedia.org/wiki/JPEG">Wikipedia JPEG article</a> and the
<code>image/jpeg</code> code. If the package had a few more comments, I would qualify it as
a teaching implementation.</p>

<h3 id="opinions">Opinions</h3>

<p>I have come to agree with many opinions the Go community holds, such as:</p>

<ul>
<li><a href="https://github.com/golang/go/wiki/CodeReviewComments#variable-names">Variable names</a> should be short by default, and become more descriptive the further from its declaration a name is used.</li>
<li>Keep the dependency tree small (to a reasonable degree): <a href="https://www.youtube.com/watch?v=PAAkCSZUG1c&amp;t=9m28s">a little copying is better than a little dependency</a></li>
<li>There is a cost to introducing an abstraction layer. Go code is usually rather clear, at the cost of being a bit repetitive at times.</li>
<li>See <a href="https://github.com/golang/go/wiki/CodeReviewComments">CodeReviewComments</a> and <a href="https://go-proverbs.github.io/">Go Proverbs</a> for more.</li>
</ul>

<h3 id="few-keywords-and-abstraction-layers">Few keywords and abstraction layers</h3>

<p>The Go specification lists only <a href="https://golang.org/ref/spec#Keywords">25
keywords</a>, which I can easily keep in my
head.</p>

<p>The same is true for <a href="https://golang.org/pkg/builtin/">builtin functions</a> and
<a href="https://golang.org/ref/spec#Types">types</a>.</p>

<p>In my experience, the small number of abstraction layers and concepts makes the
language easy to pick up and quickly feel comfortable in.</p>

<p>While weâ€™re talking about it: I was surprised about how readable the <a href="https://golang.org/ref/spec">Go
specification</a> is. It really seems to target
programmers (rather than standards committees?).</p>

<h2 id="2-speed">2. Speed</h2>

<h3 id="quick-feedback-low-latency">Quick feedback / low latency</h3>

<p>I love quick feedback: I appreciate websites which load quickly, I prefer fluent
User Interfaces which donâ€™t lag, and I will choose a quick tool over a more
powerful tool any day. <a href="https://blog.gigaspaces.com/amazon-found-every-100ms-of-latency-cost-them-1-in-sales/">The
findings</a>
of large web properties confirm that this behavior is shared by many.</p>

<p>The authors of the Go compiler respect my desire for low latency: compilation
speed matters to them, and new optimizations are carefully weighed against
whether they will slow down compilation.</p>

<p>A friend of mine had not used Go before. After installing the
<a href="https://robustirc.net/">RobustIRC</a> bridge using <code>go get</code>, they concluded that Go
must be an interpreted language and I had to correct them: no, the Go compiler
just is that fast.</p>

<p>Most Go tools are no exception, e.g. <code>gofmt</code> or <code>goimports</code> are blazingly fast.</p>

<h3 id="maximum-resource-usage">Maximum resource usage</h3>

<p>For batch applications (as opposed to interactive applications), utilizing the
available resources to their fullest is usually more important than low latency.</p>

<p>It is delightfully easy to profile and change a Go program to utilize all
available IOPS, network bandwidth or compute. As an example, I wrote about
<a href="https://people.debian.org/~stapelberg/2014/01/17/debmirror-rackspace.html">filling a 1 Gbps
link</a>,
and optimized <a href="https://github.com/Debian/debiman/">debiman</a> to utilize all
available resources, reducing its runtime by hours.</p>

<h2 id="3-rich-standard-library">3. Rich standard library</h2>

<p>The <a href="https://golang.org/pkg">Go standard library</a> provides means to effectively
use common communications protocols and data storage formats/mechanisms, such as
TCP/IP, HTTP, JPEG, SQL, â€¦</p>

<p>Goâ€™s standard library is the best one I have ever seen. I perceive it as
well-organized, clean, small, yet comprehensive: I often find it possible to
write reasonably sized programs with just the standard library, plus one or two
external packages.</p>

<p>Domain-specific data types and algorithms are (in general) not included and live
outside the standard library,
e.g. <a href="https://godoc.org/golang.org/x/net/html"><code>golang.org/x/net/html</code></a>. The
<code>golang.org/x</code> namespace also serves as a staging area for new code before it
enters the standard library: the Go 1 compatibility guarantee precludes any
breaking changes, even if they are clearly worthwhile. A prominent example is
<code>golang.org/x/crypto/ssh</code>, which had to break existing code to <a href="https://github.com/golang/crypto/commit/e4e2799dd7aab89f583e1d898300d96367750991">establish a more
secure
default</a>.</p>



<p>To download, compile, install and update Go packages, I use the <code>go get</code> tool.</p>

<p>All Go code bases I have worked with use the built-in
<a href="https://golang.org/pkg/testing/"><code>testing</code></a> facilities. This results not only
in easy and fast testing, but also in <a href="https://blog.golang.org/cover">coverage
reports</a> being readily available.</p>

<p>Whenever a program uses more resources than expected, I fire up <code>pprof</code>. See
this <a href="https://blog.golang.org/profiling-go-programs">golang.org blog post about
<code>pprof</code></a> for an introduction, or
<a href="https://people.debian.org/~stapelberg/2014/12/23/code-search-taming-the-latency-tail.html">my blog post about optimizing Debian Code
Search</a>. After
importing the <a href="https://golang.org/pkg/net/http/pprof/"><code>net/http/pprof</code>
package</a>, you can profile your server
while itâ€™s running, without recompilation or restarting.</p>

<p>Cross-compilation is as easy as setting the <code>GOARCH</code> environment variable,
e.g. <code>GOARCH=arm64</code> for targeting the Raspberry Pi 3. Notably, tools just work
cross-platform, too! For example, I can profile <a href="https://gokrazy.org/">gokrazy</a>
from my amd64 computer: <code>go tool pprof ~/go/bin/linux_arm64/dhcp
http://gokrazy:3112/debug/pprof/heap</code>.</p>

<p><a href="https://godoc.org/golang.org/x/tools/cmd/godoc">godoc</a> displays documentation
as plain text or serves it via HTTP. <a href="https://godoc.org/">godoc.org</a> is a public
instance, but I run a local one to use while offline or for not yet published
packages.</p>

<p>Note that these are standard tools coming with the language. Coming from C, each
of the above would be a significant feat to accomplish. In Go, we take them for
granted.</p>

<h2 id="getting-started">Getting started</h2>

<p>Hopefully I was able to convey why Iâ€™m happy working with Go.</p>

<p>If youâ€™re interested in getting started with Go, check out <a href="https://github.com/gopheracademy/gopher/blob/1cdbcd9fc3ba58efd628d4a6a552befc8e3912be/bot/bot.go#L516">the beginnerâ€™s
resources</a>
we point people to when they join the Gophers slack channel. See
<a href="https://golang.org/help/">https://golang.org/help/</a>.</p>

<h2 id="caveats">Caveats</h2>

<p>Of course, no programming tool is entirely free of problems. Given that this
article explains why Go is my favorite programming language, it focuses on the
positives. I will mention a few issues in passing, though:</p>

<ul>
<li>If you use Go packages which donâ€™t offer a stable API, you might want to use a specific, known-working version. Your best bet is the <a href="https://github.com/golang/dep">dep</a> tool, which is not part of the language at the time of writing.</li>
<li>Idiomatic Go code does not necessarily translate to the highest performance machine code, and the runtime comes at a (small) cost. In the rare cases where I found performance lacking, I successfully resorted to <a href="https://golang.org/cmd/cgo/">cgo</a> or assembler. If your domain is hard-realtime applications or otherwise extremely performance-critical code, your mileage may vary, though.</li>
<li>I wrote that the Go standard library is the best I have ever seen, but that doesnâ€™t mean it doesnâ€™t have any problems. One example is <a href="https://golang.org/issues/20744">complicated handling of comments</a> when modifying Go code programmatically via one of the standard libraryâ€™s oldest packages, <code>go/ast</code>.</li>
</ul>

</div></div>]]>
            </description>
            <link>https://michael.stapelberg.ch/posts/2017-08-19-golang_favorite/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723749</guid>
            <pubDate>Mon, 11 Jan 2021 02:49:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[High Voltage â€œLifterâ€]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25723430">thread link</a>) | @mindcrime
<br/>
January 10, 2021 | https://electricmuseum.com/312/ | <a href="https://web.archive.org/web/*/https://electricmuseum.com/312/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrap">

			
			
<!-- #site-header -->


			
			<main id="main" role="main">

				

<!-- .page-header -->


	
	<div id="content-wrap">

		
		<div id="primary">

			
			<div id="content">

				
				
<article id="post-312">

	

<div itemprop="text">
	<div>



<p><span>Electrostatic lifters are fascinating devices that have become popular construction projects for experimenters all over the world.&nbsp;&nbsp; NASAâ€™s recent patent on a type of lifter design has&nbsp; spurred further&nbsp; interest in these devices.</span></p>
<p><img loading="lazy" title="lifter_2" src="https://electricmuseum.com/wp-content/uploads/lifter_2.jpg" alt="lifter_2" width="371" height="268"></p>
<h3><span>What is a lifter?</span></h3>

<p><span> The basic device merely consists of a lightweight (typically balsa wood) frame, to which is attached a wire and a sort of aluminum foil skirt. The photos on this page&nbsp; illustrate this. The wire is charged to approximately 30,000 volts by means of a power supply and very thin wire attached to the corona wire. The aluminum foil skirt is coneccted to ground by a thin wire as well. When the device is powered it developes downward thrust and levitates.</span></p>
<figure><img loading="lazy" title="lifter_1" src="https://electricmuseum.com/wp-content/uploads/lifter_1.jpg" alt="lifter_1" width="540" height="306"><figcaption>Lifter being powered by a 50kV DC supply operated at approximately 25kV. Not visible is the thin positively charged â€œcorona wireâ€ which is strung above, and parallel to, the flat negatively charged aluminum â€œskirtâ€.</figcaption></figure>
<h3><span>How does it work?</span></h3>
<p><span>T</span><span>he device levitates by creating an electrostatic â€œwindâ€. This is caused as the thin positively charged corona wire ionizes the air surrounding it which is then repelled from the corona wire and pulled towards the negtively charged â€œskirtâ€. The force of this ion wind combined with the impact of the moving ions on the surrounding air creates an upward thrust. This is essentially how some of the â€œionic breezeâ€ air purifiers work that you may have seen in catalogs.</span></p>
<p><span>A well known effect called dielectrophoresis may also contribute to the deviceâ€™s thrust. This is an effect whereby dielectric material in an asymmetrc electric field becomes polarized and moves towards the larger electrode. In a fluid dielectric medium such as air or liquid, dielectrophoresis can cause a continuous flow of dieletric material from one electrode to another. The more intense the electric field the greater the effect. Dieletrophoresis is consitent with experiemental results shown by encapsulating the electrodes.</span></p>

<p><img loading="lazy" title="lifter_plot" src="http://electricmuseum.com/wp-content/uploads/lifter_plot1.gif" alt="lifter_plot" width="400" height="304"></p>
</div>

</div><!-- .entry -->


</article>

				
			</div><!-- #content -->

			
		</div><!-- #primary -->

		

<!-- #right-sidebar -->


	</div><!-- #content-wrap -->

	

	</main><!-- #main -->

	
	
	
		
<!-- #footer -->

	
	
</div></div>]]>
            </description>
            <link>https://electricmuseum.com/312/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723430</guid>
            <pubDate>Mon, 11 Jan 2021 02:12:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Electron with FFmpeg and Webpack]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25722231">thread link</a>) | @cryogenicplanet
<br/>
January 10, 2021 | https://blog.modfy.video/Building-Electron-with-FFmpeg | <a href="https://web.archive.org/web/*/https://blog.modfy.video/Building-Electron-with-FFmpeg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>At Modfy, we are developing a desktop wrapper for <a href="http://modfy.video/" target="_blank" rel="noreferrer">modfy.video</a> and I wanted to share how to package FFmpeg with Electron using Webpack. I think there is a lot of good work based around this, but it wasnâ€™t very clearly documented, and I ran into a lot of issues, so I thought Iâ€™d document what I used here.</p><h2 id="the-groundwork">The groundwork</h2><h2 id="electron">Electron</h2><p>I really like typescript and react, so Iâ€™d recommend using this boilerplate, as it does a lot of the heavy lifting in that regard.</p><p><a href="https://github.com/diego3g/electron-typescript-react" target="_blank" rel="noreferrer">https://github.com/diego3g/electron-typescript-react</a></p><div><pre><p><span>1</span><span>git</span><span> clone https://github.com/diego3g/electron-typescript-react.git project</span></p></pre></div><h2 id="ffmpeg">FFmpeg</h2><p>To ship a binary like FFmpeg with an application, we need to use the concept of static binaries. These are essentially binaries compiled with all their dependencies into one file that can be directly executed. Thankfully we donâ€™t need to make these binaries ourselves, as other people have done the great work of compiling these binaries.</p><p>For example, the linux binaries are compiled here: <a href="https://johnvansickle.com/ffmpeg/" target="_blank" rel="noreferrer">https://johnvansickle.com/ffmpeg/</a></p><p>These binaries can be used wherever youâ€™d like inside any ffmpeg wrapper, such as <em>fluent-ffmpeg</em>, or calling them yourself inside a <em>child.spawn</em> . For the rest of the tutorial we are going to demo this using <em>fluent-ffmpeg</em>, but it shouldnâ€™t really change anything.</p><p>We can find all these static binaries bundled together for us in this repo: <a href="https://github.com/pietrop/ffmpeg-static-electron" target="_blank" rel="noreferrer">https://github.com/pietrop/ffmpeg-static-electron</a></p><p>It does a great job setting things up, but can be improved for the final compile step to actually import the files into electron correctly.</p><h2 id="building">Building</h2><h2 id="electron-builder">Electron-builder</h2><p>The boilerplate uses <code>electron-builder</code> to build out electron, which simplifies quite a bit but can still be a lot to learn and figure out. The documentation on <a href="http://electron.build/" target="_blank" rel="noreferrer">electron.build</a> is a good place to start.</p><p>The boilerplate will give you this within your build step in <code>package.json</code>, which is where all the electron build configs will go.</p><div><pre><p><span>1</span><span>"build"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>    </span><span>"appId"</span><span>:</span><span> </span><span>"your.id"</span><span>,</span><span></span></p><p><span>3</span><span>    </span><span>"mac"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>4</span><span>      </span><span>"category"</span><span>:</span><span> </span><span>"public.app-category.video"</span><span></span></p><p><span>5</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>6</span><span>    </span><span>"directories"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>7</span><span>      </span><span>"output"</span><span>:</span><span> </span><span>"packages"</span><span></span></p><p><span>8</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>9</span><span>    </span><span>"files"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>10</span><span>      </span><span>"package.json"</span><span>,</span><span></span></p><p><span>11</span><span>      </span><span>"dist/**"</span><span></span></p><p><span>12</span><span>    </span><span>]</span><span></span></p><p><span>13</span><span>  </span><span>}</span><span>,</span></p></pre></div><p>While this is a very basic starting point, there is a lot more to add here to actually get the build working. There are tons of good tutorials on this, but Iâ€™ll still go over it here briefly for posterity.</p><p>For each operating system you want to build to, you must choose your targets. For example, for Linux we want a build target as <code>.deb</code>, for debain operation systems. (<a href="https://www.electron.build/configuration/linux" target="_blank" rel="noreferrer">https://www.electron.build/configuration/linux</a>)</p><p>Within each target, we can add more changes and customization specific to that target.</p><p>For <code>.dmg</code> on MacOS, we need to make a few customizations to get the current dmg installer.</p><p>The contents determine how the <code>dmg</code> looks on MacOS when mounted.</p><div><pre><p><span>1</span><span>"dmg"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>      </span><span>"icon"</span><span>:</span><span> </span><span>"build/icon.icns"</span><span>,</span><span></span></p><p><span>3</span><span>      </span><span>"iconSize"</span><span>:</span><span> </span><span>100</span><span>,</span><span></span></p><p><span>4</span><span>      </span><span>"contents"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>5</span><span>        </span><span>{</span><span></span></p><p><span>6</span><span>          </span><span>"x"</span><span>:</span><span> </span><span>380</span><span>,</span><span></span></p><p><span>7</span><span>          </span><span>"y"</span><span>:</span><span> </span><span>280</span><span>,</span><span></span></p><p><span>8</span><span>          </span><span>"type"</span><span>:</span><span> </span><span>"link"</span><span>,</span><span></span></p><p><span>9</span><span>          </span><span>"path"</span><span>:</span><span> </span><span>"/Applications"</span><span></span></p><p><span>10</span><span>        </span><span>}</span><span>,</span><span></span></p><p><span>11</span><span>        </span><span>{</span><span></span></p><p><span>12</span><span>          </span><span>"x"</span><span>:</span><span> </span><span>110</span><span>,</span><span></span></p><p><span>13</span><span>          </span><span>"y"</span><span>:</span><span> </span><span>280</span><span>,</span><span></span></p><p><span>14</span><span>          </span><span>"type"</span><span>:</span><span> </span><span>"file"</span><span></span></p><p><span>15</span><span>        </span><span>}</span><span></span></p><p><span>16</span><span>      </span><span>]</span><span></span></p><p><span>17</span><span>    </span><span>}</span><span>,</span></p></pre></div><h3 id="build-resources">Build resources</h3><p>For extra resources related to the build itself, we need to make a folder called <code>build</code> at the root of our project, where we can store these files.</p><p>We can add this directory to the build like this:</p><div><pre><p><span>1</span><span>"directories"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>      </span><span>"output"</span><span>:</span><span> </span><span>"packages"</span><span>,</span><span></span></p><p><span>3</span><span>      </span><span>"buildResources"</span><span>:</span><span> </span><span>"build"</span><span></span></p><p><span>4</span><span>    </span><span>}</span><span>,</span></p></pre></div><p>This <code>build</code> folder will contain icons and other build assets.</p><h3 id="generating-icons">Generating icons</h3><p>For the <code>build</code> to work correctly we need two icon files; one <code>.icns</code>, and one <code>.ico</code>, for MacOS and Windows respectively. The Linux icon is generated from the MacOS icon.</p><p>The image should be square to make these icons. For me, making these icons was quite a bit of a pain, and I had to try various tools, so you may have to experiment a bit.</p><p>For <code>icns</code> I would recommend <a href="https://www.npmjs.com/package/make-icns" target="_blank" rel="noreferrer">https://www.npmjs.com/package/make-icns</a></p><div><pre><p><span>1</span><span>npx mk-icns </span><span>&lt;</span><span>png-file-path</span><span>&gt;</span><span> </span><span>&lt;</span><span>destination-directory</span><span>&gt;</span></p></pre></div><p>Other options: <a href="https://www.electron.build/icons" target="_blank" rel="noreferrer">https://www.electron.build/icons</a></p><p>A template of a final build config (not the exact config for modfy)</p><div><pre><p><span>1</span><span>"build"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>    </span><span>"appId"</span><span>:</span><span> </span><span>"com.app.id"</span><span>,</span><span></span></p><p><span>3</span><span>    </span><span>"productName"</span><span>:</span><span> </span><span>"Modfy"</span><span>,</span><span></span></p><p><span>4</span><span>    </span><span>"copyright"</span><span>:</span><span> </span><span>"Copyright Â© 2020 Modfy Inc"</span><span>,</span><span></span></p><p><span>5</span><span>    </span><span>"mac"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>6</span><span>      </span><span>"category"</span><span>:</span><span> </span><span>"public.app-category.video"</span><span>,</span><span></span></p><p><span>7</span><span>      </span><span>"artifactName"</span><span>:</span><span> </span><span>"${productName}-${version}-${arch}.${ext}"</span><span></span></p><p><span>8</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>9</span><span>    </span><span>"linux"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>10</span><span>      </span><span>"category"</span><span>:</span><span> </span><span>"Chat;GNOME;GTK;Network;InstantMessaging"</span><span>,</span><span></span></p><p><span>11</span><span>      </span><span>"packageCategory"</span><span>:</span><span> </span><span>"GNOME;GTK;Network;InstantMessaging"</span><span>,</span><span></span></p><p><span>12</span><span>      </span><span>"description"</span><span>:</span><span> </span><span>"Your app description"</span><span>,</span><span></span></p><p><span>13</span><span>      </span><span>"target"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>14</span><span>        </span><span>"deb"</span><span>,</span><span></span></p><p><span>15</span><span>        </span><span>"AppImage"</span><span>,</span><span></span></p><p><span>16</span><span>        </span><span>"snap"</span><span></span></p><p><span>17</span><span>      </span><span>]</span><span>,</span><span></span></p><p><span>19</span><span>      </span><span>"artifactName"</span><span>:</span><span> </span><span>"${productName}-${version}-${arch}.${ext}"</span><span></span></p><p><span>20</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>21</span><span>    </span><span>"deb"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>22</span><span>      </span><span>"synopsis"</span><span>:</span><span> </span><span>"Modfy Desktop App"</span><span></span></p><p><span>23</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>24</span><span>    </span><span>"snap"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>25</span><span>      </span><span>"synopsis"</span><span>:</span><span> </span><span>"Modfy Desktop App"</span><span></span></p><p><span>26</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>27</span><span>    </span><span>"dmg"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>28</span><span>      </span><span>"icon"</span><span>:</span><span> </span><span>"build/icon.icns"</span><span>,</span><span></span></p><p><span>29</span><span>      </span><span>"iconSize"</span><span>:</span><span> </span><span>100</span><span>,</span><span></span></p><p><span>30</span><span>      </span><span>"contents"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>31</span><span>        </span><span>{</span><span></span></p><p><span>32</span><span>          </span><span>"x"</span><span>:</span><span> </span><span>380</span><span>,</span><span></span></p><p><span>33</span><span>          </span><span>"y"</span><span>:</span><span> </span><span>280</span><span>,</span><span></span></p><p><span>34</span><span>          </span><span>"type"</span><span>:</span><span> </span><span>"link"</span><span>,</span><span></span></p><p><span>35</span><span>          </span><span>"path"</span><span>:</span><span> </span><span>"/Applications"</span><span></span></p><p><span>36</span><span>        </span><span>}</span><span>,</span><span></span></p><p><span>37</span><span>        </span><span>{</span><span></span></p><p><span>38</span><span>          </span><span>"x"</span><span>:</span><span> </span><span>110</span><span>,</span><span></span></p><p><span>39</span><span>          </span><span>"y"</span><span>:</span><span> </span><span>280</span><span>,</span><span></span></p><p><span>40</span><span>          </span><span>"type"</span><span>:</span><span> </span><span>"file"</span><span></span></p><p><span>41</span><span>        </span><span>}</span><span></span></p><p><span>42</span><span>      </span><span>]</span><span></span></p><p><span>43</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>44</span><span>    </span><span>"win"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>45</span><span>      </span><span>"target"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>46</span><span>        </span><span>{</span><span></span></p><p><span>47</span><span>          </span><span>"target"</span><span>:</span><span> </span><span>"nsis"</span><span>,</span><span></span></p><p><span>48</span><span>          </span><span>"arch"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>49</span><span>            </span><span>"x64"</span><span>,</span><span></span></p><p><span>50</span><span>            </span><span>"ia32"</span><span></span></p><p><span>51</span><span>          </span><span>]</span><span></span></p><p><span>52</span><span>        </span><span>}</span><span></span></p><p><span>53</span><span>      </span><span>]</span><span>,</span><span></span></p><p><span>54</span><span>      </span><span>"icon"</span><span>:</span><span> </span><span>"build/icon.ico"</span><span>,</span><span></span></p><p><span>55</span><span>      </span><span>"artifactName"</span><span>:</span><span> </span><span>"${productName}-${version}.${ext}"</span><span>,</span><span></span></p><p><span>56</span><span>      </span><span>"publisherName"</span><span>:</span><span> </span><span>"Modfy Inc."</span><span></span></p><p><span>57</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>58</span><span>    </span><span>"directories"</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>59</span><span>      </span><span>"output"</span><span>:</span><span> </span><span>"packages"</span><span>,</span><span></span></p><p><span>60</span><span>      </span><span>"buildResources"</span><span>:</span><span> </span><span>"build"</span><span></span></p><p><span>61</span><span>    </span><span>}</span><span>,</span><span></span></p><p><span>62</span><span>    </span><span>"files"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>63</span><span>      </span><span>"package.json"</span><span>,</span><span></span></p><p><span>64</span><span>      </span><span>"dist/**/*"</span><span>,</span><span></span></p><p><span>65</span><span>    </span><span>]</span><span>,</span><span></span></p><p><span>66</span><span>  </span><span>}</span><span>,</span></p></pre></div><h2 id="webpack">Webpack</h2><p>The boilerplate comes with a good base webpack config, but we need to modify it to deal with <code>ffmpeg</code> correctly.</p><p>The base webpack config in <code>webpack/electron.config.js</code>:</p><div><pre><p><span>1</span><span>const</span><span> path </span><span>=</span><span> </span><span>require</span><span>(</span><span>"path"</span><span>)</span><span>;</span><span></span></p><p><span>2</span><span></span></p><p><span>3</span><span></span><span>const</span><span> rootPath </span><span>=</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>__dirname</span><span>,</span><span> </span><span>".."</span><span>)</span><span>;</span><span></span></p><p><span>4</span><span></span></p><p><span>5</span><span>module</span><span>.</span><span>exports </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>6</span><span>  resolve</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>7</span><span>    extensions</span><span>:</span><span> </span><span>[</span><span>".tsx"</span><span>,</span><span> </span><span>".ts"</span><span>,</span><span> </span><span>".js"</span><span>]</span><span></span></p><p><span>8</span><span>  </span><span>}</span><span>,</span><span></span></p><p><span>9</span><span>  devtool</span><span>:</span><span> </span><span>"source-map"</span><span>,</span><span></span></p><p><span>10</span><span>  entry</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>rootPath</span><span>,</span><span> </span><span>"electron"</span><span>,</span><span> </span><span>"main.ts"</span><span>)</span><span>,</span><span></span></p><p><span>11</span><span>  target</span><span>:</span><span> </span><span>"electron-main"</span><span>,</span><span></span></p><p><span>12</span><span>  module</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>13</span><span>    rules</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>14</span><span>      </span><span>{</span><span></span></p><p><span>15</span><span>        test</span><span>:</span><span> </span><span>/\.(js|ts|tsx)$/</span><span>,</span><span></span></p><p><span>16</span><span>        exclude</span><span>:</span><span> </span><span>/node_modules/</span><span>,</span><span></span></p><p><span>17</span><span>        use</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>18</span><span>          loader</span><span>:</span><span> </span><span>"babel-loader"</span><span></span></p><p><span>19</span><span>        </span><span>}</span><span></span></p><p><span>20</span><span>      </span><span>}</span><span></span></p><p><span>21</span><span>    </span><span>]</span><span></span></p><p><span>22</span><span>  </span><span>}</span><span>,</span><span></span></p><p><span>23</span><span>  node</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>24</span><span>    __dirname</span><span>:</span><span> </span><span>false</span><span></span></p><p><span>25</span><span>  </span><span>}</span><span>,</span><span></span></p><p><span>26</span><span>  output</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>27</span><span>    path</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>rootPath</span><span>,</span><span> </span><span>"dist"</span><span>)</span><span>,</span><span></span></p><p><span>28</span><span>    filename</span><span>:</span><span> </span><span>"[name].js"</span><span></span></p><p><span>29</span><span>  </span><span>}</span><span></span></p><p><span>30</span><span></span><span>}</span><span>;</span></p></pre></div><p>First the obvious step, change the entry point to whatever your main process file is. If you are using a preload, then that should be its only entry point.</p><div><pre><p><span>1</span><span>entry</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>    main</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>rootPath</span><span>,</span><span> </span><span>'src'</span><span>,</span><span> </span><span>'mainProcess'</span><span>,</span><span> </span><span>'main.ts'</span><span>)</span><span>,</span><span></span></p><p><span>3</span><span>    preload</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>rootPath</span><span>,</span><span> </span><span>'src'</span><span>,</span><span> </span><span>'mainProcess'</span><span>,</span><span> </span><span>'preload.ts'</span><span>)</span><span></span></p><p><span>4</span><span>  </span><span>}</span><span>,</span></p></pre></div><h2 id="webpack--ffmpeg-static">Webpack + FFmpeg Static</h2><p>Now we can move on to the meat of how to configure <code>ffmpeg-static-electron</code> and webpack correctly!</p><p>First, we need to make the <code>ffmpeg-static-electron</code> package an â€˜externalâ€™, which means it will not be bundled into the files itself.</p><div><pre><p><span>1</span><span>externals</span><span>:</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>    </span><span>'ffmpeg-static-electron'</span><span>:</span><span> </span><span>'commonjs2 ffmpeg-static-electron'</span><span></span></p><p><span>3</span><span>  </span><span>}</span><span>,</span></p></pre></div><p>Now that we have configured the package to be an â€˜externalâ€™, we should copy over the package files into the <code>dist</code> folder. We can be smart here, and only copy over the corresponding OS files, rather than copy of all of them. We can use this kind of selective copying in a few places, which will be highlighted later on.</p><p>To copy files in webpack, we have to use <code>copy-webpack-plugin</code>.</p><p>Letâ€™s find the paths of the files we want first; we want the <code>index.js, package.json</code> files regardless, but we also want <code>/bin/{os}/{arch}/ffmpeg</code>.</p><div><pre><p><span>1</span><span>const</span><span> ffmpegStaticModulePath </span><span>=</span><span> path</span><span>.</span><span>join</span><span>(</span><span></span></p><p><span>2</span><span>  </span><span>"node_modules"</span><span>,</span><span></span></p><p><span>3</span><span>  </span><span>"ffmpeg-static-electron"</span><span></span></p><p><span>4</span><span></span><span>)</span><span>;</span><span></span></p><p><span>5</span><span></span></p><p><span>6</span><span></span><span>let</span><span> platform </span><span>=</span><span> os</span><span>.</span><span>platform</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>7</span><span></span><span></span></p><p><span>8</span><span></span><span>if</span><span> </span><span>(</span><span>platform </span><span>==</span><span> </span><span>"darwin"</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>9</span><span>  platform </span><span>=</span><span> </span><span>"mac"</span><span>;</span><span></span></p><p><span>10</span><span></span><span>}</span><span> </span><span>else</span><span> </span><span>if</span><span> </span><span>(</span><span>platform </span><span>==</span><span> </span><span>"win32"</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>11</span><span>  platform </span><span>=</span><span> </span><span>"win"</span><span>;</span><span></span></p><p><span>12</span><span></span><span>}</span><span></span></p><p><span>13</span><span></span></p><p><span>14</span><span></span><span>const</span><span> platformArchPath </span><span>=</span><span> path</span><span>.</span><span>join</span><span>(</span><span></span></p><p><span>15</span><span>  ffmpegStaticModulePath</span><span>,</span><span></span></p><p><span>16</span><span>  </span><span>"bin"</span><span>,</span><span></span></p><p><span>17</span><span>  platform</span><span>,</span><span></span></p><p><span>18</span><span>  os</span><span>.</span><span>arch</span><span>(</span><span>)</span><span></span></p><p><span>19</span><span></span><span>)</span><span>;</span></p></pre></div><p>This will create the file paths we need to copy over our files.</p><div><pre><p><span>1</span><span>plugins</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>2</span><span>  </span><span>new</span><span> </span><span>CopyPlugin</span><span>(</span><span>{</span><span></span></p><p><span>3</span><span>    patterns</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>4</span><span>      </span><span>{</span><span></span></p><p><span>5</span><span>        </span><span>from</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>ffmpegStaticModulePath</span><span>,</span><span> </span><span>"index.js"</span><span>)</span><span>,</span><span></span></p><p><span>6</span><span>        to</span><span>:</span><span> ffmpegStaticModulePath</span></p><p><span>7</span><span>      </span><span>}</span><span>,</span><span></span></p><p><span>8</span><span>      </span><span>{</span><span></span></p><p><span>9</span><span>        </span><span>from</span><span>:</span><span> path</span><span>.</span><span>resolve</span><span>(</span><span>ffmpegStaticModulePath</span><span>,</span><span> </span><span>"package.json"</span><span>)</span><span>,</span><span></span></p><p><span>10</span><span>        to</span><span>:</span><span> ffmpegStaticModulePath</span></p><p><span>11</span><span>      </span><span>}</span><span>,</span><span></span></p><p><span>12</span><span>      </span><span>{</span><span></span></p><p><span>13</span><span>        </span><span>from</span><span>:</span><span> platformArchPath</span><span>,</span><span></span></p><p><span>14</span><span>        to</span><span>:</span><span> platformArchPath</span></p><p><span>15</span><span>      </span><span>}</span><span></span></p><p><span>16</span><span>    </span><span>]</span><span></span></p><p><span>17</span><span>  </span><span>}</span><span>)</span><span></span></p><p><span>18</span><span></span><span>]</span><span>;</span></p></pre></div><p>Now we have created a <code>dist/node_modules/</code> folder with FFmpeg. <strong>This is very important, as this is the folder we will be using for development.</strong></p><p>The last step with webpack is to make the copied files an executable file.</p><p>For this, we need to add a build hook (yes webpack has hooks now). So we can use <code>webpack-hook-plugin</code> to create this build hook.</p><div><pre><p><span>1</span><span>new</span><span> </span><span>WebpackHookPlugin</span><span>(</span><span>{</span><span></span></p><p><span>2</span><span>  onBuildStart</span><span>:</span><span> </span><span>[</span><span>'echo "Webpack Start"'</span><span>]</span><span>,</span><span></span></p><p><span>3</span><span>  onBuildExit</span><span>:</span><span> </span><span>[</span><span>`chmod a+x </span><span>${</span><span>path</span><span>.</span><span>resolve</span><span>(</span><span>"dist"</span><span>,</span><span> platformArchPath</span><span>,</span><span> </span><span>"ffmpeg"</span><span>)</span><span>}</span><span>`</span><span>]</span><span></span></p><p><span>4</span><span></span><span>}</span><span>)</span><span>;</span></p></pre></div><p>This command should make the files executable.</p><h2 id="moving-ffmpeg-into-electron-bundle">Moving FFmpeg into electron bundle</h2><p>Now the final step and this one is a bit weird.</p><p>Electron builder by default will not put any folder called <code>node_modules</code> inside the <code>app</code> or <code>app.asar</code> unless they are listed as <code>dependencies</code> (This is a good time to move all the dependencies to <code>dev-dependencies</code>, as they are compiled with webpack)</p><p>I was able to work around this by using <code>extraResources</code> instead of <code>files</code> in the build config (<a href="https://www.electron.build/configuration/contents.html#extraresources" target="_blank" rel="noreferrer">https://www.electron.build/configuration/contents.html#extraresources</a>).</p><p>This will put the files in the <code>Contents/Resources</code> folder for MacOS, and the <code>resources</code> folder for Linux and Windows.</p><p>As package resolution will check <code>../node_modules/</code>, this will not cause a problem and you will be able to use your app.</p><div><pre><p><span>1</span><span>extraResources"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>2</span><span>      </span><span>{</span><span></span></p><p><span>3</span><span>        </span><span>"from"</span><span>:</span><span> </span><span>"dist/node_modules/ffmpeg-static-electron/"</span><span>,</span><span></span></p><p><span>4</span><span>        </span><span>"to"</span><span>:</span><span> </span><span>"node_modules/ffmpeg-static-electron"</span><span></span></p><p><span>5</span><span>      </span><span>}</span><span></span></p><p><span>6</span><span>    </span><span>]</span></p></pre></div><p>At this point, you should be good to go with your app, and you can use <code>electron-builder --dir</code> to check and <code>electron-builder</code> to compile for the current operating system.</p><hr><p>If you want to use <a href="http://modfy.video/" target="_blank" rel="noreferrer">modfy.video</a>â€™s desktop app (which is currently an early alpha preview), then join our <a href="https://discord.gg/ffDZnMR" target="_blank" rel="noreferrer">discord server</a> to get access.</p><p>At the end I wanted to add, I am by no means an Electron expert. â€¦</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.modfy.video/Building-Electron-with-FFmpeg">https://blog.modfy.video/Building-Electron-with-FFmpeg</a></em></p>]]>
            </description>
            <link>https://blog.modfy.video/Building-Electron-with-FFmpeg</link>
            <guid isPermaLink="false">hacker-news-small-sites-25722231</guid>
            <pubDate>Mon, 11 Jan 2021 00:23:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using old Mini PCIE WLAN cards in modern laptops]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25722095">thread link</a>) | @kamaraju
<br/>
January 10, 2021 | https://gsid.in/using-old-mini-pcie-wlan-cards-in-modern-laptops/ | <a href="https://web.archive.org/web/*/https://gsid.in/using-old-mini-pcie-wlan-cards-in-modern-laptops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page"><div id="content"><div id="primary"><main id="main"><article id="post-31" itemtype="https://schema.org/CreativeWork" itemscope=""><div><div itemprop="text"><figure><img width="640" height="480" src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?resize=640%2C480&amp;ssl=1" alt="Dell 1501 half mini PCI-E 802.11n WiFi card" srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?w=640&amp;ssl=1 640w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?resize=300%2C225&amp;ssl=1 300w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?w=640&amp;ssl=1 640w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?resize=300%2C225&amp;ssl=1 300w" data-lazy-src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/dell-1501-1.jpg?resize=640%2C480&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption> <br>Dell 1501 half mini PCI-E 802.11n WiFi card</figcaption></figure><p>So i was trying to install a WiFi card(Dell 1501 half mini PCI-E 802.11n card) which i had lying around from 7 years ago in my laptop. Everything worked perfectly until i tried to query the networks available. I saw that the wireless connection was turned off. I went through the usual exercise of checking the drivers, then the antenna and checking if the card was seated right in the PCI-E slot. The card would never turn on. Since it was a re-branded Broadcom chipset i tried installing the Broadcom drivers as well as the dell drivers, no dice. Then i started reading up on the Mini PCI-E specifications for the WiFi card.</p><p>Older generation of WiFi mini PCI-E cards from a while ago usually have a hardware kill switch. This RF kill switch was usually connected to one of the pins on the Mini PCI-E header. Modern laptops are unable to turn on the WLAN card. Modern laptops can read and initialize the PCI-E card, but the radio part of the card is turned off.&nbsp;</p><p>From reading up on the spec sheet of several WLAN Mini-PCIE card from 7 years ago i found that that Mini-PCIE pin 20 which according to the specs was reserved for vendor specific purposes was being utilized as a RF kill switch.Similarly in cards with WiFi and Bluetooth, pin 51 is set for Bluetooth disable along with the pin 20 for WLAN disable.</p><figure><img width="658" height="273" src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?resize=658%2C273&amp;ssl=1" alt="Mini PCI Express" srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?w=658&amp;ssl=1 658w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?resize=300%2C124&amp;ssl=1 300w" sizes="(max-width: 658px) 100vw, 658px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?w=658&amp;ssl=1 658w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?resize=300%2C124&amp;ssl=1 300w" data-lazy-src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/Mini_PCI_express.jpg?resize=658%2C273&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Mini PCI Express</figcaption></figure><p> Now i have to identify the pins in my Mini PCI-E card. Luckily the mini PCI-E pins 1,2,51,52 were marked in my card. Mini PCI-E cards have the first pin on the front side and the second pin on the reverse. They alternate with odd pins on the front side of the card and the even pins on the reverse side.</p><figure><img width="399" height="350" src="https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?resize=399%2C350&amp;ssl=1" alt="" srcset="https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?w=399&amp;ssl=1 399w, https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?resize=300%2C263&amp;ssl=1 300w" sizes="(max-width: 399px) 100vw, 399px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?w=399&amp;ssl=1 399w, https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?resize=300%2C263&amp;ssl=1 300w" data-lazy-src="https://i2.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501.jpg?resize=399%2C350&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Dell 1501 Front</figcaption></figure><figure><img width="457" height="374" src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?resize=457%2C374&amp;ssl=1" alt="" srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?w=457&amp;ssl=1 457w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?resize=300%2C246&amp;ssl=1 300w" sizes="(max-width: 457px) 100vw, 457px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?w=457&amp;ssl=1 457w, https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?resize=300%2C246&amp;ssl=1 300w" data-lazy-src="https://i0.wp.com/gsid.in/wp-content/uploads/2019/05/DELL1501-rev.jpg?resize=457%2C374&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure><p> So to make the card work i masked pin 20 carefully with an electrical tape to isolate it. And PCI-E card started working normally. You can use any type of tape that is non conductive. PVC tapes work best. One has to be very careful while cutting and pasting the masking as it should not mask any other pin. &nbsp;</p><figure><img src="https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=567%2C567&amp;ssl=1" alt="" width="567" height="567" srcset="https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?w=756&amp;ssl=1 756w, https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=300%2C300&amp;ssl=1 300w" sizes="(max-width: 567px) 100vw, 567px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?w=756&amp;ssl=1 756w, https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=300%2C300&amp;ssl=1 300w" data-lazy-src="https://i1.wp.com/gsid.in/wp-content/uploads/2019/05/pin20mask.jpg?resize=567%2C567&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Pin 20 masked with Electrical tape</figcaption></figure><p>When a PCI-E pin is not connected it may start bouncing.and hence in newer PCI-E card this pin is driven with a 1 or 0 to enable or disable the card. Older generation cards just kept the pin open and hence when connected to a modern laptop without the masking think that RF is always disabled.</p><p>This has worked for me. The author cannot be held responsible for any loss or injury if you decide to follow my lead.</p></div></div></article></main></div></div></div></div>]]>
            </description>
            <link>https://gsid.in/using-old-mini-pcie-wlan-cards-in-modern-laptops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25722095</guid>
            <pubDate>Mon, 11 Jan 2021 00:11:55 GMT</pubDate>
        </item>
    </channel>
</rss>
