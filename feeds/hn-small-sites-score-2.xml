<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 2]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 2. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 12 Jan 2021 13:03:17 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-2.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 12 Jan 2021 13:03:17 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[CTO day 2: downsizing the team]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712771">thread link</a>) | @delebe
<br/>
January 10, 2021 | https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/ | <a href="https://web.archive.org/web/*/https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p id="entry-summary">On your first day as newly appointed CTO you are working on your hiring strategy, the second day your organization asks you to downsize the team.</p><div><p>A very important project that was a done deal, and that will secure the organization’s future for the next five years, failed to happen.</p><p>Not winning this project meant that the organization was forced to <em>“focus”</em> and reduce costs.</p><p>It never crossed my mind that one of the first things that I would be asked to do as an inexperienced CTO would be to fire part of the team.</p>
<p>when such bad news becomes public, host an open door day where the team can openly talk about the situation, share their feelings, see each other, feel connected, and be listened to. It would not stop the gossiping but it will help.</p><h2>Cuts and team principles</h2><p>The Dev team slice of the <em>“focus”</em> meant cutting cost by 10 to 15%. In human terms, firing two to four people (out of 17).</p><p>After some failed attempts to approach this task, this is what worked for me.</p><p>I started by listing some principles: </p>
<ul>
  <li>For each product, we need to cover the following disciplines: Frontend, Backend, Architecture, Operations, Mobile, UX, Design, QA, Leadership, and Product Management.</li>
  <li>There are broadly 3 experience levels:
  <ul>
    <li>Senior: creates the plan.</li>
    <li>Mid-level: follows the plan.</li>
    <li>Junior: needs to be taught to follow the plan.</li>
  </ul></li>
  <li>No number of junior people can do some work a senior person can do.</li>
  <li>Not having a senior person in a discipline will mean that the product quality will suffer:
  <ul>
    <li>If a senior creates a plan, a team of mid-level+juniors can follow the plan for some time (2-3 years?) before the product becomes a big mess.</li>
    <li>To get out of a big mess, we need senior people.
    <ul>
      <li>We are already in a big mess with Product A and Product B.</li>
      <li>With the current team, it feels Product A is getting out of the mess.</li>
    </ul></li>
  </ul></li>
  <li>Independent (cross-functional) teams are more efficient:
  <ul>
    <li>More focus.</li>
    <li>No handoffs, faster feedback.</li>
    <li>No shared “resource” contention.</li>
  </ul></li>
  <li>People working in multiple products/teams are less efficient.</li>
  <li>Multidisciplinary (generalist) people:
  <ul>
    <li>Can cover the need for several of the disciplines.</li>
    <li>They can be junior in one discipline and senior in another.</li>
    <li>Allow focusing on any priority, without creating artificially important work for single-disciplined members.</li>
  </ul></li>
  <li>Max team size: 2 pizza teams 6-8.</li>
</ul><p>The ideal team would be one that has all disciplines covered at a senior level with multidisciplinary people working in just one team, and with enough overlap to avoid a <a href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a> of one. Additional people will bring additional capacity.</p><h2>Inverse Conway’s maneuver</h2><p>We have been working on bringing three of the products together for some time. They were already under the same product manager, but they were still three teams working on their own priorities. Merging them into one team, in a classic <a href="https://danlebrero.com/2020/01/08/do-i-need-a-gateway-api-team-dynamics/#content">inverse Conway’s maneuver</a> would hopefully accelerate the integration between the products.</p><p>One of the other products was small enough that for this task I decided to temporarily ignore it.</p><p>Following the principles above and the product considerations, the plan was to move the previous team setup from:</p><p><img src="https://danlebrero.com/images/blog/cto/day2/old-team-structure.jpg" alt="old team structure"> </p><p>To something like (boxes represent skills, not people):</p><p><img src="https://danlebrero.com/images/blog/cto/day2/new-team-structure.jpg" alt="new team structure"> </p><p>So two products, two cross-functional teams. Platforms and design teams will be reshuffled inside those two teams.</p><h2>Which parent do you love most? A computer will tell</h2><p>With a clear plan for the team, the next step was to <em>“just”</em> pick up who will work on each team, and who we will need to let go. The most painful decision in my career. </p>
<blockquote><p><a href="https://danlebrero.com/2019/11/27/becoming-a-technical-leader-book-notes/#content">People with a strong technical background can convert any task into a technical task, thus avoiding work they don’t want to do.</a> <cite>Jerry Weinberg, Becoming a Technical Leader</cite></p>
</blockquote><p>And I didn’t want to do the task so, consciously ignoring Mr. Weinberg, I transformed the ordeal into an optimization problem, for which I wrote an application to help me with.</p><h3>The app</h3><p>The application took as input the amount of $$$ to cut, the list of people, their salary, and the skill level on each discipline mentioned above, and outputted the possible two teams that would be within budget and match the minimum requirements, sorted by a scoring system.</p><p>The minimum requirements and scoring system configuration looked like:</p>
<pre><code>{
"FE" [at-least-senior sum-skills]
"PM" [senior-plus-somebody-else (fix-points 5)]
"Design" [two-mid-or-senior (senior-better 6 2)]
...
}
</code></pre><p>The first function filters out invalid teams while the second scores the valid ones.</p><p>In the example we say that the team has to have:</p>
<ul>
  <li>At least one senior FE developer. The more FE developers, the better team score.</li>
  <li>At least one senior product manager and one mid or junior one. Only one senior is not enough. No matter how many PMs the team has, the score for this discipline is 5. A team with loads of FE devs will score higher than one with loads of PMs.</li>
  <li>At least a senior designer or two mid-level designers, but we prefer one senior designer (6 points) instead of two mid-level ones (2 points).</li>
</ul><h3>The result</h3><p>As heartless as this may seem:</p>
<ul>
  <li>It removed some bias. There is still bias on the skill level evaluation and in the team scoring system.</li>
  <li>I was part of the people on that list. To be honest, little consolation here. Big bias.</li>
  <li>It forced me to be very very precise on what a “functioning team” meant.</li>
  <li>It allowed me to see what different scoring systems would output.</li>
  <li>I noticed some people would never show in the output, and had to dig into why. It was enlightening.</li>
  <li>It allowed me to analyze tens of thousands of different team combinations, with different scoring systems.</li>
  <li>Programming gave me a respite from the task. This was the first time, but now I embrace more regularly “keep my sanity” programming days.</li>
</ul><p>Most important, the application gave me a few starting points. Of those, I still had to consider the team dynamics, existing teams, personalities, seniority, potential, personal situation, future needs, …</p>
<p>yes, I still have the code. No, I am not going to share it publicly. It would kill me to find there is a bug.</p><h2>Delivering the bad news</h2><p>Once the decision was made, it was time to swallow the last bitter pill.</p><p>Some tips:</p>
<ul>
  <li>Ensure that the people affected are the first ones to know.</li>
  <li>Warn beforehand:
  <ul>
    <li>Do not use your regular one-to-one meeting slot.</li>
    <li>In your message, give a strong hint: “HR person will be in the meeting”, “Really bad news”.</li>
    <li>Give them time to get ready for the meeting.</li>
  </ul></li>
  <li>You don’t need to do it alone. Our HR manager was present and was a huge support for both of us.</li>
  <li>Treat people like adults.</li>
  <li>At the meeting, follow Nadia van der Vlies’ <a href="https://danlebrero.com/2020/04/01/no-nonsense-leadership-summary/#bad-news">advice</a>:
  <ul>
    <li>Deliver the blow:
    <ul>
      <li>Go straight to the bad news.</li>
      <li>Give one or two reasons.</li>
    </ul></li>
    <li>Manage the reaction:
    <ul>
      <li>Be understanding. Do not justify yourself.</li>
      <li>Give space. Do not fill silences.</li>
    </ul></li>
    <li>Solution, explanation, follow-up appointment:
    <ul>
      <li>Wait for the employee to be ready. When she starts asking “why” or “what now”.</li>
      <li>Reiterate reasons.</li>
    </ul></li>
  </ul></li>
  <li>In a couple of days follow up with another more informal meeting. The news would have sunk, and the conversation would be more forward-thinking and productive.</li>
</ul>
<hr><p>A slap in the face to awaken me from the dream that a CTO role is mostly about technology.</p></div></div>]]>
            </description>
            <link>https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712771</guid>
            <pubDate>Sun, 10 Jan 2021 09:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Noise Planets (Generative Art)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25712767">thread link</a>) | @atulvi
<br/>
January 10, 2021 | https://avinayak.github.io/art/2021/01/09/noise-planets.html | <a href="https://web.archive.org/web/*/https://avinayak.github.io/art/2021/01/09/noise-planets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://avinayak.github.io/uploads/erporydxmaarwcd.png" alt=""></p>

<p>I recently found this piece of art (LINES 2A (2017)) created by <a href="https://twitter.com/tylerxhobbs">Tyler Hobbs</a>. This picture kinda looked very hand drawn, but it’s completely generative. Something about this drawing and it’s texture kind of resonated with me, so I wanted to try to study and replicate (or make something inspired by this work) using p5js.</p>

<p>I started out by plotting a bunch of random points within a circle like so.</p>

<div><div><pre><code>w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4');
}

function draw() {
  x = random(w)
  y = random(w)
  if (pow(w/2 - x, 2) + pow(w/2 - y, 2) &lt; 7e4) {
    point(x,y)
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-25.png" alt=""></p>

<p>This is a painfully slow process to generate random points in a circle. I found a better way to do this later. What I wanted to do next was to generate flow fields, but restricted to the circular region.</p>

<p>It’s super easy to generate flow field patterns using perlin noise.</p>

<ol>
  <li>Choose a random point <code>&lt;x,y&gt;</code></li>
  <li>Plot <code>&lt;x,y&gt;</code></li>
  <li>Calculate <code>n = noise(x,y)</code></li>
  <li>Do <code>x+=cos(n * 2 * PI)</code> and <code>y+=sin(n * 2 * PI)</code></li>
  <li>Repeat 2.</li>
</ol>

<p>We’re going to plot flow fields inside the circle. Let’s try this.</p>

<div><div><pre><code>const is_in_circle = (x, y) =&gt; 
  (pow(w / 2 - x, 2) + pow(w / 2 - y, 2) &lt; 7e4)

function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y)) {
      n = noise(x, y)
      x += sin(n * TAU)
      y += cos(n * TAU)
      point(x, y)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-28.png" alt=""></p>

<p>OK, not very good. The noise at this level is pretty rough. we’re going to zoom in to the noise function (by dividing the <code>x,y</code> inputs by some constant value) and probably use <code>circle(x ,y ,0.3)</code> to plot points instead if point function, because I feel it looks way smoother. Also, I’m adding a <code>random() &gt; 0.01</code> condition in the loop so that we also get short lines that are not trimmed away by the edge of the circle.</p>

<div><div><pre><code>function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y) &amp;&amp; random() &gt; 0.01) {
      n = noise(x / 500, y / 500)
      x += sin(n * TAU)
      y += cos(n * TAU)
      circle(x, y, .3)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-27.png" alt=""></p>

<p>Actually.. not bad. I think we manage almost replicate the original texture. The inverted version also looks pretty good.</p>

<p><img src="https://avinayak.github.io/uploads/download-19.png" alt=""></p>

<p><img src="https://avinayak.github.io/uploads/ppanets.png" alt=""></p>

<p>I went ahead and made a つぶやきProcessing version of this.</p>

<blockquote><p lang="en" dir="ltr">function setup(){createCanvas(w=1e3,w),background("<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a>")}function draw(){if(g(x=random(w),y=random(w)))for(;g(x,y)&amp;&amp;random()&gt;.01;)n=noise(x/500,y/500),x+=sin(n_TAU),y+=cos(n_TAU),circle(x,y,.3)}g=((n,o)=&gt;pow(w/2-n,2)+pow(w/2-o,2)&lt;w*w/16); <a href="https://t.co/iVZTMtCn3i">pic.twitter.com/iVZTMtCn3i</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347903013042622467?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="going-further-animations">Going Further: Animations</h2>

<p>The code we wrote right now technically is animated. The animation however is not very smooth.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_03-52-31.mp4" type="video/mp4"> </video>

<p>To make smooth animations, we need to generate new points in the circle, keep track of these points outside the <code>draw()</code> function. I found this neat <a href="https://stackoverflow.com/a/50746409">technique</a>, to find random points in a circle where a random radius <code>r</code> and angle <code>theta</code> are chosen and the <code>x,y</code> points are obtained as <code>x = centerX + r * cos(theta)</code> and <code>y = centerY + r * sin(theta)</code></p>

<p>Let’s try that first.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

function setup() {
  createCanvas((w = 1e3), w);
  background(255)
  k = w / 2
  m = (Array(w).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    circle(x, y, .3);
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/screenshot-from-2021-01-10-04-51-20.png" alt=""></p>

<p>and now we apply flow fields and try to move these points.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

const w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4')
  k = w / 2
  points = (Array(k).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    x += sin(n = noise(x / 400, y / 400) * TAU) * h
    y += cos(n) * h
    stroke(i%255)
    circle(x, y,.3)
    if (pow(k - x, 2) + pow(k - y, 2) &lt; 7e4)  // if point is in circle
      points[i] = [x, y, t]
    else points[i] = random_point() // replace with new point if not
  }
}
</code></pre></div></div>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_04-56-11.mp4" type="video/mp4"> </video>

<p>And a つぶやきProcessing version of course..</p>

<blockquote><p lang="cy" dir="ltr">t=0,p=i=&gt;\[k+(r=random(w/4))_cos(t+=.1),k+r_sin(t)\],setup=i=&gt;{createCanvas(w=1e3,w),m=Array(k=w/2).fill(0).map(p)},draw=r=&gt;{for(i=k;--i;)\[x,y\]=m\[i\],x+=sin(n=noise(x/k,y/k)_TAU),y+=cos(n),stroke(i%4_85),point(x,y),k_w+x_x+y_y-w_(x+y)&lt;7e4?m\[i\]=\[x,y\]:m\[i\]=p()};//<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a> <a href="https://t.co/xVhCBNUltL">pic.twitter.com/xVhCBNUltL</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347930637227855874?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="adding-colors">Adding Colors</h2>

<p>There are many strategies to colorizing this sketch. One is by just giving each particle a random initial color.</p>

<p><img src="https://avinayak.github.io/uploads/download-21.png" alt=""></p>

<p>However, I found that maintaining the initial x or y position in the particle array and using that to derive the hue information gives us some nice Jupiter/gaseous planet vibes.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-18-19.mp4" type="video/mp4"> </video>

<p>The fringing at the sides can be avoided by moving 50% of the points in the reverse direction.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-28-03.mp4" type="video/mp4"> </video>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_08-43-25.mp4" type="video/mp4"> </video>

<p>More color variations</p>

<p><img src="https://avinayak.github.io/uploads/untitled.png" alt=""></p>

<p>And that’s it. Hope this was educational!</p>

</div></div>]]>
            </description>
            <link>https://avinayak.github.io/art/2021/01/09/noise-planets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712767</guid>
            <pubDate>Sun, 10 Jan 2021 09:26:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocks Courtesy of Konrad Zuse (2014)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712727">thread link</a>) | @todsacerdoti
<br/>
January 10, 2021 | https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse | <a href="https://web.archive.org/web/*/https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Apparently, I've got a theme going of Weird Syntax. Let's run with it.</p>

<p>Konrad Zuse was an early pioneer in computer science, although his name is perhaps somewhat less well-known than others. Zuse holds the honor of having built the first programmable computer—-the Z3—-back in the 40's, as well as several other computing firsts<sup id="fnref:1"><a href="#fn:1" rel="nofollow">1</a></sup>. Of particular interest to this blog post is his early unimplemented programming language, Plankalkül.</p>

<p>Plankalkül was, like the Z3, in many respects ahead of its time. Zuse's explicit goal was to be able to describe programs at a high level, which meant he included control structures and datatype definitions<sup id="fnref:2"><a href="#fn:2" rel="nofollow">2</a></sup> and other high-level constructs that were often missing in languages of the early years of computing. Zuse was working on Plankalkül at a time when his machines were not useable, which meant that his language work was more theoretical than it was technical, and consequently he allowed features that he wasn't entirely sure how to program. Despite his notes on it having been written in the mid-40's, they were not published until the 70's, and it was not implemented until the year 2000.</p>

<p>One thing that struck me, as I read programs in this notation that had been set down on a typewriter<sup id="fnref:3"><a href="#fn:3" rel="nofollow">3</a></sup>, is that certain kinds of grouping were handled by explicit indication of scope: not via matched delimiters as in ALGOL-style languages, or via indentation in languages such as Python and Haskell, but by formatting the code so that a line bordered on the left of the scoped parts of the code:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-01.png" alt=""></p>

<p>This is meant to capture the way grouping works in the hand-written or typeset notation, with brackets spanning multiple lines:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-02.png" alt=""></p>

<p>I think this is notationally interesting: it's like Python's significant whitespace, but not, uh, whitespace. It would be incredibly tedious to type out, but still entirely compatible with current programming notation:</p>

<pre><code>class Tet
 | @staticmethod
 | def new_tet()
 |  | n = randint(0, len(Tet.Tets) - 1)
 |  | for p in Tet.Tets[n]
 |  |  | if p in Board.permanent
 |  |  |  | Game.lose()
 |  | Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 |
 | def __init__(self, points, color)
 |  | self.points = points
 |  | self.color = color
</code></pre>

<p>and would be entirely amenable to beautifying via judicious application of Unicode:</p>

<pre><code>class Tet
 ┃ @staticmethod
 ┃ def new_tet()
 ┃  ┃ n = randint(0, len(Tet.Tets) - 1)
 ┃  ┃ for p in Tet.Tets[n]
 ┃  ┃  ┃ if p in Board.permanent
 ┃  ┃  ┗  ┗ Game.lose()
 ┃  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ┃
 ┃ def __init__(self, points, color)
 ┃  ┃ self.points = points
 ┃  ┗ self.color = color
</code></pre>

<p>Looking at this notation, however, an interesting possibility struck me: a programmer could explicit annotate information about the <em>kind of scope</em> involved in a given line. In this Python-like example, I could, for example, distinguish class scope using double lines, function scope with thick lines, and control structure scope with thin lines:</p>

<pre><code>class Tet
 ║ @staticmethod
 ║ def new_tet()
 ║  ┃ n = randint(0, len(Tet.Tets) - 1)
 ║  ┃ for p in Tet.Tets[n]
 ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
 ║  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ║
 ║ def __init__(self, points, color)
 ║  ┃ self.points = points
 ║  ┗ self.color = color
</code></pre>

<p>One advantage of this scheme is that a handful of lines, viewed in isolation, still give you a clear view of what surrounds them. For example, I can view these two lines in isolation and still tell that they are within a control structure used within a function declared within a class:</p>

<pre><code> ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
</code></pre>

<p>You could also imagine a hypothetical language in which choice of scope delimiter is important. In Python, <code>for</code> and <code>if</code> do not form a new lexical scope. What if instead we could stipulate the kind of scope they form by this notational convention?</p>

<pre><code>def okay()
 ┃ if True
 ┃  └ n = 5   # n is declared in function scope
 ┗ return n   # n leaks out of the if-scope

def not_okay()
 ┃ if True
 ┃  ┗ n = 5   # n is declared in the if's scope
 ┗ return n   # error: no n in scope here
</code></pre>

<p>That being said, there are a number of reasons that this notation is in inferior to existing notations:</p>
<ul><li>It makes refactoring code <em>much</em> more difficult.</li>
<li>It requires that the programmer <em>pay attention</em> to the sequence of enclosing scopes on a <em>line-by-line</em> basis, which is generally too pedantic and not particularly useful for a programmer.</li>
<li>The ability to select “which kind of scope” is by no means only expressible by this notation, as other syntactic features such as keywords and delimiters could express the same thing.</li>
<li>There are only so many line-like characters which can serve as a scope marker, so this scheme is not very extensible.</li>
<li>It complicates parsing (especially by introducing an entirely new class of parse errors in which adjacent lines feature incompatible sequences of delimiting lines), and so it also...</li>
<li>Complicates parse <em>error messages</em>, which are an important part of a language's UI and should be considered seriously.</li></ul>

<p>So, as in my previous post on <a href="https://journal.infinitenegativeutility.com/2014/8/noun-case" rel="nofollow">grammatical case in programming languages</a>, I urge readers <em>not</em> to use this notation as the concrete syntax for a programming language. This is merely an entertaining peek through the looking glass at a curious notational convention which was never adopted.</p>

<p>That said: this makes a very nice notation for <em>viewing</em> code, where the programmer does not have to explicitly draw ASCII art around their code; indeed, it bears more than a passing similarity to the graphical interface used in <a href="http://scratch.mit.edu/" rel="nofollow">Scratch</a>, and Sean McDirmid's <a href="http://research.microsoft.com/en-us/projects/liveprogramming/typography.aspx" rel="nofollow">Experiments in Code Typography</a> features this very convention as an interactive ornament on code in a Python-like language.</p>

</div></div>]]>
            </description>
            <link>https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712727</guid>
            <pubDate>Sun, 10 Jan 2021 09:21:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Ranked Tweets on Hacker News 2020]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25712499">thread link</a>) | @hgarg
<br/>
January 10, 2021 | https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/ | <a href="https://web.archive.org/web/*/https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <ul>
<li>Data curated from <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">Hacker News Front Page Explorer</a></li>
</ul>
<p>1.Every Google result now looks like an ad </p><p>2.macOS unable to open any non-Apple application </p><p>3.John Conway has died </p><p>4.iOS14 reveals that TikTok may snoop clipboard contents every few keystrokes </p><p>5.This electrical transmission tower has a problem </p><p>6.Apple does not keep the 30% commission on a refund </p><p>7.AWS forked my project and launched it as its own service </p><p>8.Google no longer providing original URL in AMP for image search results </p><p>9.Guido van Rossum joins Microsoft </p><p>10.When a customer refunds your paid app, Apple refunds its 30% cut </p>
<p>Get the Full list (162 records) <a target="_blank" rel="noopener" href="https://gum.co/hacker-news-tweets-2020">here for FREE</a></p>
<p>Want to run this and other kind of analysis on your own? Get the Full Database <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">here</a></p>

  </div></div>]]>
            </description>
            <link>https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712499</guid>
            <pubDate>Sun, 10 Jan 2021 08:52:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Breakthrough in Measuring the Building Blocks of Nature]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25712475">thread link</a>) | @CapitalistCartr
<br/>
January 10, 2021 | http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18082_ad5db5924e3e97ed8a387a499efa9fa0.jpg" width="733" alt=""><figcaption><span><i>An artistic rendering of the quarks and gluons that make up a proton.</i></span><span>Illustration by D. Dominguez / CERN</span></figcaption></figure><p><span>I</span>n a recent experiment done at the Max Planck Institute for Quantum Optics, in Germany, physicist Alexey Grinin and his colleagues came a step closer to resolving one of the more significant puzzles to have arisen in particle physics over the past decade. The puzzle is this: Ordinarily, when you set about measuring the size of something, you’d expect to get the same answer no matter what you use to measure it—a soda can has the diameter it does whether you measure it with a tape measure or callipers (provided these are properly calibrated, of course). Something must be amiss if your attempts to measure the can return different answers depending on the equipment, yet this is precisely what’s happened over multiple attempts to measure the spatial extent of a proton. What’s potentially at stake is our understanding of the building blocks of reality: the <a href="https://science.sciencemag.org/content/370/6520/1061.abstract" target="_blank">differing measurements</a> could be heralding the existence of new forces or particles.</p><p>What does it mean for a subatomic particle to have a measurable “size”? Mathematically, fundamental particles are idealized as point particles, which is to say that, as far as we can tell, they have no meaningfully discernible spatial extent, or substructure, at all. True, all fundamental particles are associated with a quantum mechanical wave packet, which does have a spatial extent that depends on the energy of the particle. Yet these basic bits of Lego are entities whose wave packets you can, in principle, pack into as small a region as you’d like before the very notion of continuum geometry starts, at the Planck scale, to lose meaning. Fundamental particles organize into something analogous to a mini periodic table—consisting of the various force carrying particles, such as photons and gluons (the carrier particles of the strong nuclear force), along with three generations of quarks and leptons and the mass-generating Higgs boson—and can stack together in different combinations to form a zoo of so-called composite particles.</p><blockquote><p>There is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p> </blockquote><p>Perhaps the most familiar and ubiquitous of these is the proton. With at least one in every kind of element, it’s made up of two up quarks and a down quark that dance around each other in a tightly bound orbit maintained by exchanging gluons. This exchange process is so energetic that most of the mass of the proton (or for that matter, most of the material that makes us up) derives from the energy contained in these gluons—a consequence, as Einstein informed us, of <i>E</i> being equal to <i>mc</i><sup>2</sup>.&nbsp;<br></p><figure data-alt=""><img src="http://static.nautil.us/18083_78b8d6620afcd434a4b7fb41b22e595b.png" width="733" alt=""><figcaption><span><i>Fundamental particles organize into something analogous to a mini periodic table (above).</i></span><span>CERN</span></figcaption></figure><p>So it’s not meaningless to ask what the “size” of the proton is. The study by Grinin’s team highlights the fact that defining this notion remains a rather tricky affair. And, as we’ll see, their results serve to sharpen the mystery as to why other measurement methods researchers have used previously disagree.<br></p><p>A physicist can reasonably infer a proton’s size from the “charge radius”—roughly the averaged spatial extent of quark orbits inside. This quantity is probed in slightly different ways by electrons and muons (another sort of fundamental particle), when you probe their orbital configurations as they form “bound states” with the proton—atomic hydrogen in the case of electrons, muonic hydrogen in the case of muons. Because muons are about 200 times heavier than electrons, their lowest energy orbital configurations are much more tightly bound around the proton than are electrons in atomic hydrogen. Consequently, the differences in the energies of various orbitals in muonic hydrogen are much more sensitive to the proton’s size as well as being more “high pitched” than that of regular atomic hydrogen.&nbsp;</p><p>In other words, similar to how plucking a guitar string at a given tension produces a much higher note were we to fret it open, or at 1/200th its open length, the typical frequencies of the radiation emitted by transitions in muonic hydrogen are about 200 times higher than that in atomic hydrogen. These frequencies relate to something called the Rydberg constant—the tension of the guitar string in the analogy—which appears to be one of the potentially more significant sources of uncertainty proton size-wise. Orbital energy levels depend on both this constant and the charge radius of the proton.</p><p>Proton-size measurements didn’t conflict for decades. Different methods—like measuring the radius by observing electrons orbit within hydrogen atoms, or by scattering energetic electrons off of unbound protons—had converged on a value of 0.875 (give or take 0.006) femtometers. That’s a little less than a trillionth of a millimeter. That convergence was disrupted in 2010, when a paper came out titled, “The size of the proton.” As the researchers reported, <a href="http://www.quantum.physik.uni-potsdam.de/teaching/ss2015/pqt/Pohl2010.pdf" target="_blank">measurements</a> involving orbital configurations in muonic hydrogen returned a value of 0.842, give or take 0.001 femtometers. This may not seem like much of a difference, but it’s the accompanying error bars that matter. The measurements are, individually, so precise that their disagreement is over seven standard deviations—there is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p><p>There are only two possibilities for the anomalous result if the equipment used in the experiments and their calibrations all check out after careful scrutiny. Either some combination of physical constants, which researchers assume in order to experimentally infer the proton charge radius, isn’t known as accurately as we thought, or there is something different about the way muons interact with protons, compared to electrons, that renders particle physics incomplete.</p><p>The latter possibility, if substantiated, would, of course, cause a flurry of excitement among theoretical physicists to say the least, as it could imply the existence of new forces and particles. Not only would it reshape our understanding of the universe, it would represent a throwback to the days when physicists discovered particles (<a href="https://timeline.web.cern.ch/anderson-and-neddermeyer-discover-muon" target="_blank">such as the muon itself</a>) using equipment that could fit on a proverbial tabletop.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>Over the past few years, various teams have been attempting to get to the bottom of the matter by looking at different orbital transitions in atomic hydrogen that are sensitive to different combinations of the Rydberg constant and the charge radius. A 2019 <a href="https://science.sciencemag.org/content/365/6457/1007" target="_blank">measurement</a> by a group of researchers at York University in Canada looked at a particular orbital transition that was independent of the value of this constant, finding a value of 0.833 ± 0.010 femtometers, consistent with the smaller value obtained in muonic hydrogen.&nbsp;</p><p>Grinin’s team went a step further. They used a technique known as frequency comb spectroscopy. It involves pulses of laser light that are a superposition of equally spaced frequencies—a ruler in frequency space if you will—that allowed them to look at two different orbital transitions in atomic hydrogen sensitive to two different combinations of the proton size and the Rydberg constant. This permitted them to determine both with unprecedented accuracy. The technique reduced, to only about one part in ten trillion, the observational uncertainties in the frequency of light these transitions emitted—a staggering degree of accuracy by any standard.&nbsp;</p><p>Not only did Grinin’s team find a value for the charge radius of the proton consistent with the value obtained in muonic hydrogen, they inferred a much more precise value for the Rydberg constant. This accounted for some part of the discrepancy seen in other measurements in atomic hydrogen (which presumed a less accurate value).</p><p>It thus appears that the experimental value of the proton charge radius Grinin’s team obtained in atomic hydrogen is converging on the smaller values for the proton charge radius other researchers initially obtained in muonic hydrogen. The smaller value has by now even been adopted as the <a href="https://physics.nist.gov/cgi-bin/cuu/Value?rp" target="_blank">official value</a> on the National Institute of Standards and Technology <a href="https://www.nist.gov/programs-projects/codata-values-fundamental-physical-constants" target="_blank">CODATA</a> list of recommended physical constants—the official almanac for nuclear and atomic chemists and physicists.&nbsp;</p><p>Although this convergence, based on the continued refinement of experimental techniques, did not deliver the new physics some may have been hoping for, even the most despondent theoretical physicist can acknowledge the experimental artistry that seems to be bringing the matter closer to conclusion. What remains unresolved is the reason why measurements, relying on different spectroscopic methods in atomic hydrogen, return different values for the charge radius of the proton. The mystery, and along with it, the diminishing hope of particle physicists, endures for the time being.&nbsp;</p><p>This was enough motivation for a team of theoretical physicists, led by Cliff Burgess at the Perimeter Institute, in Canada, to systematically catalogue all possible sources of theoretical uncertainty in atomic spectroscopy over a <a href="https://inspirehep.net/literature?sort=mostrecent&amp;size=25&amp;page=1&amp;q=find%20a%20burgess,%20c%20and%20a%20zalavari" target="_blank">series of papers</a>. By isolating the ways in which new forces and particles might leave a tell-tale signature, they’ve thrown the gauntlet firmly back to the experimentalists. Future experiments, as always, will be the ultimate arbiter in this matter.&nbsp;</p><p><i>Subodh Patil is an assistant professor at the Lorentz Institute for Theoretical Physics at Leiden University. He tweets on occasion at @_subodhpatil.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712475</guid>
            <pubDate>Sun, 10 Jan 2021 08:48:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Web Has No Design Standards]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25711575">thread link</a>) | @WoodenChair
<br/>
January 9, 2021 | http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html | <a href="https://web.archive.org/web/*/http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-8752676873929759179">
<p>A reader recently complained to me about the hyperlinks on this blog. The reader thought the links were too hard to distinguish from the rest of the text. And the reader’s right. The Swedish Greys desktop theme that I thought looked cool eight years ago, while attractive in an aesthetic sense (to me at least), is not the most usable or accessible. I’ll be looking for another theme.</p>

<p>I was able to style my blog however I wanted to and it looks the same in all browsers. That’s the flexibility of good HTML/CSS standards. Every site can look and behave exactly as the creator envisioned. It’s also why the Web’s a usability nightmare. We have to learn to use every site we visit because every site is designed differently. How come when we talk about Web standards the focus is almost entirely on technical standards? Where is the worry about design standards?</p>

<p>I recently finished reading the classic book <em><a href="https://amzn.to/2JZgkSD">The Design of Everyday Things</a></em> by Don Norman and it talks about standards. Normans says “When all else fails, standardize.” Basically when you have no other way of implementing good design, you turn to standardization so at least every user only needs to learn how to use the similar things (in this case web pages) once. And I think we have no other way, because if we did, we would have figured it out in the past 30 years.</p>

<p>It wasn’t always this way. I remember using the pre-CSS and pre-JavaScript Web as a little kid on Mosaic. You knew there that the blue underlined text was always a hyperlink. And you knew that the back button always took you back a page. And you didn’t have to worry what different actions buttons did, because there was no JavaScript. I’m not saying we should go back there, but in many ways having the constraints made pages easier to use. There was no need to think. Now we have no constraints, but that’s why we need standards.</p>

<p>Every other major consumer computing platform but the Web has design standards. Apple’s platforms are famous for their Human Interface Guidelines. They are an attempt to ensure all apps follow some standard design conventions. Not every app does, but Apple has some ability to enforce them through its app stores, and some users even demand developers follow them. So, they are at least kinda sorta followed by most major apps. If the Web had design standards, maybe users would demand developers follow them too. Google and Microsoft have design suggestions and guidelines for their developers. This is why a good app for each platform feels “at home.”</p>

<p>But we have no design guidelines for the Web that are widely accepted. Sure, people have tried. But the only way we’re going to get something that’s actually followed is if we have a standard. And a standard needs to come from a standards body (Apple, Microsoft, and Google are the standards bodies for their respective platforms). W3C, please put some focus on a design standard. Not everybody will be forced to follow it, but it could do a lot of good in terms of usability.</p>


</div></div>]]>
            </description>
            <link>http://www.observationalhazard.com/2021/01/the-web-has-no-design-standards.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711575</guid>
            <pubDate>Sun, 10 Jan 2021 06:47:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using (neo)vim for C++ development]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25711091">thread link</a>) | @jubnzv
<br/>
January 9, 2021 | https://idie.ru/posts/vim-modern-cpp | <a href="https://web.archive.org/web/*/https://idie.ru/posts/vim-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <main>
    <h2 id="background">Background</h2>
<p>I’ve been writing code in vim for the past several years, and in this post I’d like to share some tips on configuring a development environment. This post contains some notes on configuration that would have helped me when I first started using vim and working on my own config. I hope that as a result of reading this, you will be able to improve your workflow with some new features and make the development process easier and more convenient.</p>
<p>In this article, we will look at common tasks that occur when editing code and try to automate and improve them using vim. Each section contains a brief description of the problem, a proposed solution, overview of alternatives, a full code listing for the configuration, and a screenshot or animated screencast with a demonstration. At the end, additional links to useful plugins and resources will be provided.</p>
<p>Most of the tasks come down to installing and properly configuring one or more plugins. I assume that you are an experienced vim user and already use one of the plugin managers.</p>
<p>All of these tips are applicable in both vim and neovim. Also, despite the title, some of these tips can be applied not only to C++, but also to any other language.</p>
<h2 id="removing-trailing-whitespaces">Removing trailing whitespaces</h2>
<p>Let’s start with a very simple problem. Some code conventions restrict the leaving of trailing whitespaces. For example, the Linux Kernel <a href="https://www.kernel.org/doc/html/v4.10/process/coding-style.html#spaces">prohibits</a> from doing this.</p>
<p>So we’d like to see when we accidentally leave a space at the end of a line. Let’s add the following lines in your vim configuration file:</p>
<div><pre><code data-lang="vim"><span>highlight</span> <span>ExtraWhitespace</span> <span>ctermbg</span>=<span>red</span> <span>guibg</span>=<span>red</span><span>
</span><span></span><span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>BufWinEnter</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>InsertEnter</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+\%#\@&lt;!$/</span><span>
</span><span></span><span>au</span> <span>InsertLeave</span> * <span>match</span> <span>ExtraWhitespace</span> <span>/\s\+$/</span><span>
</span><span></span><span>au</span> <span>BufWinLeave</span> * <span>call</span> <span>clearmatches</span>()<span>
</span></code></pre></div><p>As a result, extra whitespaces will be highlighted as follows:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/trailing-ws.png" alt=""></p>
<p>We also want to remove extra spaces by the single key binding. Let’s define it:</p>
<div><pre><code data-lang="vim"><span>" Remove all trailing whitespaces</span><span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>rs</span> :<span>let</span> <span>_s</span>=@<span>/ &lt;Bar&gt; :%s/</span>\<span>s</span>\+$<span>//</span><span>e</span> &lt;<span>Bar</span>&gt; :<span>let</span> @/=<span>_s</span> &lt;<span>Bar</span>&gt; :<span>nohl</span> &lt;<span>Bar</span>&gt; :<span>unlet</span> <span>_s</span> &lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>So we can solve this simple problem.</p>
<p>Alternatives:</p>
<ul>
<li>You <a href="https://www.reddit.com/r/vim/comments/82yv3p/anyone_know_how_to_get_the_dots_for_leading/dveznas?utm_source=share&amp;utm_medium=web2x&amp;context=3">can show</a> all whitespaces and line breaks in the source code.</li>
<li>There is <a href="https://editorconfig.org/">editorconfig</a> <a href="https://github.com/editorconfig/editorconfig-vim">plugin</a> for vim that supports the <code>trim_trailing_whitespace</code> option. When it is set to <code>true</code> the plugin will remove any whitespace characters preceding newline characters.</li>
<li>See <a href="##formatting-source-code-with-clang-format">clang-format</a> section below.</li>
</ul>
<h2 id="accessing-standard-library-documentation-using-cppman">Accessing Standard Library documentation using <code>cppman</code></h2>
<p>Vim ships with a man page viewer that works out of the box on any modern *nix via <a href="https://vimhelp.org/filetype.txt.html#ft-man-plugin">:Man</a> command. But the system man pages do not contain the definitions for C++. Let’s fix it by installing <a href="https://github.com/aitjcize/cppman">Cppman</a>.</p>
<p>Cppman is a set of C++ 98/11/14/17/20 manual pages for Linux, with source from <a href="https://cplusplus.com/">cplusplus.com</a> and <a href="https://cppreference.com/">cppreference.com</a>. You can easily install using <code>pip</code> or the package manager for your distribution according to their <a href="https://github.com/aitjcize/cppman#installation">Installation guide</a>. Next, let’s configure vim.</p>
<p>By default, when you press <code>K</code>, vim grabs the keyword under the cursor, separated by <a href="https://vimhelp.org/options.txt.html#%27iskeyword%27">iskeyword</a> symbols. There is one problem. The <code>:</code> symbol often found in C++ definitions is not included in the <code>iskeyword</code> array. So, for example, when you press <code>K</code> under the keyword <code>std::string</code>, vim will try to find the man page for <code>std</code>, instead of the full identifier. Let’s fix it with this small function:</p>
<div><pre><code data-lang="vim"><span>function</span>! <span>s</span>:<span>JbzCppMan</span>()<span>
</span><span></span>    <span>let</span> <span>old_isk</span> = &amp;<span>iskeyword</span><span>
</span><span></span>    <span>setl</span> <span>iskeyword</span>+=:<span>
</span><span></span>    <span>let</span> <span>str</span> = <span>expand</span>(<span>"&lt;cword&gt;"</span>)<span>
</span><span></span>    <span>let</span> &amp;<span>l</span>:<span>iskeyword</span> = <span>old_isk</span><span>
</span><span></span>    <span>execute</span> <span>'Man '</span> . <span>str</span><span>
</span><span></span><span>endfunction</span><span>
</span><span></span><span>command</span>! <span>JbzCppMan</span> :<span>call</span> <span>s</span>:<span>JbzCppMan</span>()<span>
</span></code></pre></div><p>We also need to remap the default <code>K</code> key binding to use our function in C++:</p>
<div><pre><code data-lang="vim"><span>au</span> <span>FileType</span> <span>cpp</span> <span>nnoremap</span> &lt;<span>buffer</span>&gt;<span>K</span> :<span>JbzCppMan</span>&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>Here is a result:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/cppman.png" alt=""></p>
<h2 id="browsing-online-documentation-from-vim">Browsing online documentation from vim</h2>
<p>But what if you also want to quickly access online documentation for your favorite library or framework? Or may be search for unknown keywords on StackOverflow, Google or similar sites? And it is desirable to make a solution that can be easily extended to support more search engines.</p>
<p><a href="https://github.com/tyru/open-browser.vim">open-browser.vim</a> can help us. This is a plugin that allows you open URLs in your favorite browser using vim.</p>
<p>Install it using your package manager. Then let’s add a simple configuration to access cppreference and Qt documentation pages:</p>
<div><pre><code data-lang="vim"><span>let</span> <span>g</span>:<span>openbrowser_search_engines</span> = <span>extend</span>(<span>
</span><span></span>\ <span>get</span>(<span>g</span>:, <span>'openbrowser_search_engines'</span>, {}),<span>
</span><span></span>\ {<span>
</span><span></span>\   <span>'cppreference'</span>: <span>'https://en.cppreference.com/mwiki/index.php?title=Special%3ASearch&amp;search={query}'</span>,<span>
</span><span></span>\   <span>'qt'</span>: <span>'https://doc.qt.io/qt-5/search-results.html?q={query}'</span>,<span>
</span><span></span>\ },<span>
</span><span></span>\ <span>'keep'</span><span>
</span><span></span>\)<span>
</span></code></pre></div><p>And add some convenient key bindings by this way:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>osx</span> :<span>call</span> <span>openbrowser</span>#<span>smart_search</span>(<span>expand</span>(<span>'&lt;cword&gt;'</span>), <span>"cppreference"</span>)&lt;<span>CR</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>leader</span>&gt;<span>osq</span> :<span>call</span> <span>openbrowser</span>#<span>smart_search</span>(<span>expand</span>(<span>'&lt;cword&gt;'</span>), <span>"qt"</span>)&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>As a result we can quickly browse online documentation for the word under the cursor:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/openbrowser.gif" alt=""></p>
<p>Further use of this plugin is limited only by your imagination. For example, you can use it to search for similar C++ snippets in open source projects on GitHub:</p>
<div><pre><code data-lang="vim"><span>'github-cpp'</span>: <span>'http://github.com/search?l=C%2B%2B&amp;q=fork%3Afalse+language%3AC%2B%2B+{query}&amp;type=Code'</span>,<span>
</span></code></pre></div><p>Or integrate it with <a href="https://grep.app/">grep.app</a> or <a href="https://codesearch.debian.net/">Debian Code Search</a>. Or add integration with your favorite online translation service, if you work with multiple languages. You get the idea. The main thing is to write the configuration correctly.</p>
<p>Alternatives:</p>
<ul>
<li><a href="https://github.com/KabbAmine/zeavim.vim">zeavim.vim</a> is a plugin that implements the integration with <a href="https://zealdocs.org/">Zeal</a> – free and open source offline documentation browser. In fact, it solves the same problem. You may want to use it if you don’t have an internet connection, or you need access to documentation for a specific version of the framework that isn’t available online.</li>
<li><a href="https://github.com/rhysd/devdocs.vim">devdocs.vim</a> is a plugin for <a href="https://devdocs.io/">devdocs</a> which also provides multiple API documentations.</li>
</ul>
<h2 id="switching-between-source-and-header-file">Switching between source and header file</h2>
<p>Switching between source and header files is another common operation when working with C++.</p>
<p>After searching and trying many solutions, I settled on <a href="https://github.com/derekwyatt/vim-fswitch">vim-fswitch</a> plugin. Personally, I like this plugin for its simple configuration for various file types and the absence of third-party dependencies.</p>
<p>Install it with your favorite package manager. It will perfectly works out of the box, but sometimes you want to configure switch destination files like this:</p>
<div><pre><code data-lang="vim"><span>au</span> <span>BufEnter</span> *.<span>h</span>  <span>let</span> <span>b</span>:<span>fswitchdst</span> = <span>"c,cpp,cc,m"</span><span>
</span><span></span><span>au</span> <span>BufEnter</span> *.<span>cc</span> <span>let</span> <span>b</span>:<span>fswitchdst</span> = <span>"h,hpp"</span><span>
</span></code></pre></div><p>It also will be convenient to set up some key bindings:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>A</span>-<span>o</span>&gt; :<span>FSHere</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>" Extra hotkeys to open header/source in the split</span><span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>oh</span> :<span>FSSplitLeft</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>oj</span> :<span>FSSplitBelow</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>ok</span> :<span>FSSplitAbove</span>&lt;<span>cr</span>&gt;<span>
</span><span></span><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>localleader</span>&gt;<span>ol</span> :<span>FSSplitRight</span>&lt;<span>cr</span>&gt;<span>
</span></code></pre></div><p>Alternatives:</p>
<ul>
<li>There are many other options described in this <a href="https://vim.fandom.com/wiki/Easily_switch_between_source_and_header_file">vimwiki article</a>. You can try them or write your own solution.</li>
</ul>

<p><code>ctags</code> is a convenient indexing tool that allows you to go to symbol definition from your project using <code>tags</code> database. This is an old and reliable tool, that is <a href="https://kernelnewbies.org/FAQ/CodeBrowsing">recommended</a> <a href="https://stackoverflow.com/a/33682137/8541499">to use</a> for large code bases like Linux Kernel where other tools like LSP may get stuck.</p>
<p>The most actual and maintained implementation of ctags is <a href="https://github.com/universal-ctags/ctags">universal-ctags</a>. It is available in all popular distributions.</p>
<p>Vim has integrated ctags support. But here is one annoying thing. We need to generate <code>tags</code> database for each project using something like <code>ctags -R .</code>. Moreover, we need re-generate <code>tags</code> when editing the project.</p>
<p>This of course can be automated. Install <a href="https://github.com/ludovicchabant/vim-gutentags">vim-guttentags</a> is a plugin that will asynchronously (re)generate tag files as you work. I also suggest adding a simple configuration to avoid indexing of some unwanted files:</p>
<div><pre><code data-lang="vim"><span>set</span> <span>tags</span>=./<span>tags</span>;<span>
</span><span></span><span>let</span> <span>g</span>:<span>gutentags_ctags_exclude_wildignore</span> = <span>1</span><span>
</span><span></span><span>let</span> <span>g</span>:<span>gutentags_ctags_exclude</span> = [<span>
</span><span></span>  \<span>'node_modules'</span>, <span>'_build'</span>, <span>'build'</span>, <span>'CMakeFiles'</span>, <span>'.mypy_cache'</span>, <span>'venv'</span>,<span>
</span><span></span>  \<span>'*.md'</span>, <span>'*.tex'</span>, <span>'*.css'</span>, <span>'*.html'</span>, <span>'*.json'</span>, <span>'*.xml'</span>, <span>'*.xmls'</span>, <span>'*.ui'</span>]<span>
</span></code></pre></div><p>This makes your workflow simpler and more convenient. See also <a href="https://vim.fandom.com/wiki/Browsing_programs_with_tags">this</a> detailed vimwiki article if you need more information about using ctags.</p>
<h2 id="exploring-source-file-structure-with-vistavim">Exploring source file structure with <code>vista.vim</code></h2>
<p>When you are working with unfamiliar source code, it may be convenient to browse the structure of the current source file. What classes, functions, macroses are defined here?</p>
<p><a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> is a plugin that helps us. It opens a split with the current file definitions. Here is what it looks like:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/vista.png" alt=""></p>
<p>This plugin shows both LSP and ctags symbols. The LSP configuration is beyond the scope of this post, but it is a very useful feature that can give more accurate information.</p>
<p>To use it, install <a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> with your favorite package manager and add a convenient key binding to toggle Vista split:</p>
<div><pre><code data-lang="vim"><span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>A</span><span>-6</span>&gt; :<span>Vista</span>!!&lt;<span>CR</span>&gt;<span>
</span></code></pre></div><p>Alternatives:</p>
<ul>
<li><a href="https://github.com/preservim/tagbar">tagbar</a> is another plugin that provides a way to get the overview of the file structure. Unlike vista.vim, it doesn’t support LSP symbols and doesn’t provide useful utility functions for retrieving the information about the symbol under the cursor. But it’s simpler and more reliable.</li>
</ul>
<h2 id="display-the-current-function-in-the-status-line">Display the current function in the status line</h2>
<p>Another feature of <a href="https://github.com/liuchengxu/vista.vim">vista.vim</a> is that it shares information of the symbol under the cursor. Using this we can display the current function name in the status line. This helps us navigate when moving through a large file.</p>
<p>Bellow is an example of configuration for the <a href="https://github.com/itchyny/lightline.vim">lightline</a>, but you can easily adapt it to your status bar:</p>
<div><pre><code data-lang="vim"><span>function</span>! <span>LightlineCurrentFunctionVista</span>() <span>abort</span><span>
</span><span></span>  <span>let</span> <span>l</span>:<span>method</span> = <span>get</span>(<span>b</span>:, <span>'vista_nearest_method_or_function'</span>, <span>''</span>)<span>
</span><span></span>  <span>if</span> <span>l</span>:<span>method</span> != <span>''</span><span>
</span><span></span>    <span>let</span> <span>l</span>:<span>method</span> = <span>'['</span> . <span>l</span>:<span>method</span> . <span>']'</span><span>
</span><span></span>  <span>endif</span><span>
</span><span></span>  <span>return</span> <span>l</span>:<span>method</span><span>
</span><span></span><span>endfunction</span><span>
</span><span></span><span>au</span> <span>VimEnter</span> * <span>call</span> <span>vista</span>#<span>RunForNearestMethodOrFunction</span>()<span>
</span></code></pre></div><p>Here’s what it looks like:</p>
<p><img src="https://idie.ru/static/posts/vim-modern-cpp/current-function.gif" alt=""></p>
<p>Is you need the complete lightline configuration, see <a href="https://github.com/jubnzv/dotfiles/blob/dd46c2d940c13a0db8d94b02934659018358579a/.config/nvim/init.vim#L435-L462">this snippet</a> and take a look at lightline documentation.</p>
<p>Alternatives:</p>
<ul>
<li>There are many alternatives provided by popular LSP plugins. For example, <a href="https://github.com/nvim-lua/lsp-status.nvim">lsp-status.nvim</a> can provide the same information for Neovim’s built-in LSP server.</li>
</ul>
<h2 id="vimspector-interactive-debugging-inside-vim">vimspector: Interactive …</h2></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://idie.ru/posts/vim-modern-cpp">https://idie.ru/posts/vim-modern-cpp</a></em></p>]]>
            </description>
            <link>https://idie.ru/posts/vim-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711091</guid>
            <pubDate>Sun, 10 Jan 2021 05:59:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[System split registered in the synchronous area of Continental Europe]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25711075">thread link</a>) | @nip
<br/>
January 9, 2021 | https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved | <a href="https://web.archive.org/web/*/https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>The synchronous area of Continental Europe was split into two separated grid regions between 14h05 CET and 15h08 CET when it was reconnected on 8 January 2021.</p><p>An area in the south east region of the interconnected grid was during that period separated from the rest of Continental Europe. A temporary frequency drop of approximately 250 mHz was registered. Coordinated actions and an immediate response taken by the Continental European Transmission System Operators ensured that the system stability was not affected in most European countries.</p><p>An investigation is ongoing on the cause of this system split and further information on this incident will be made in due course.</p><p>Should you have questions, send them at <a href="https://www.entsoe.eu/news/2021/01/08/media@entsoe.eu">media@entsoe.eu</a> or contact us at the following telephone number: +32 476 97 50 93.</p></div></div></div></div>]]>
            </description>
            <link>https://www.entsoe.eu/news/2021/01/08/system-split-registered-in-the-synchronous-area-of-continental-europe-incident-now-resolved</link>
            <guid isPermaLink="false">hacker-news-small-sites-25711075</guid>
            <pubDate>Sun, 10 Jan 2021 05:57:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Log Pattern Recognition: LogMine]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25710991">thread link</a>) | @trungdq88
<br/>
January 9, 2021 | https://sayr.us/log-pattern-recognition/logmine/ | <a href="https://web.archive.org/web/*/https://sayr.us/log-pattern-recognition/logmine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>When retrieving logs from an application, you are often looking for outliers
(such as a unique error) or what pattern occurs the most. However, defining
patterns manually is time-consuming and requires rigour across projects. In
this series of blog posts, we are going to explore automated Log Pattern
Recognition.</p>

<h2 id="why">Why</h2>

<p>I recently began using <a href="https://docs.datadoghq.com/logs/explorer/patterns/">Datadog Log Pattern</a>
and became addicted to it. Unfortunately, I was not able to find such a feature on
Kibana or a query proxy able to do this analysis. If that does not exist, I
might as well learn more about it and make one!</p>

<p>To my surprise, I did not find as many papers as I thought I would. And the
number of papers with public implementations is even lower. Our series begins
with a paper called <a href="https://www.cs.unm.edu/~mueen/Papers/LogMine.pdf">LogMine: Fast Pattern Recognition for Log Analytics</a>
and <a href="https://github.com/trungdq88/logmine">an implementation made by Tony Dinh</a>
that helped me a lot to study LogMine’s behavior.</p>

<p>To my surprise, I searched for anything related to LogMine on Hacker News
and only found Tony Dinh’s submission.</p>

<h2 id="defining-the-terms-used-in-this-article">Defining the terms used in this article</h2>

<p>Some terms used in this article can have several meanings. In Logmine’s context,
the terms I use mean:</p>
<ul>
  <li><code>log</code>: a log line (<code>string</code>)
    <div><div><pre><code>12:00:00 - My awesome log
</code></pre></div>    </div>
  </li>
  <li><code>pattern</code>: Expression extracted by the algorithm (array of <code>field</code>)
    <div><div><pre><code>[&lt;date&gt;, "-", "My", "awesome", "log"]
</code></pre></div>    </div>
  </li>
  <li><code>field</code>: Part of a <code>pattern</code> / Word from a <code>log</code> (Either a fixed value, a wildcard or a <code>variable</code>)</li>
  <li><code>cluster</code>: represents a group of logs that were identified as close to each
others</li>
  <li><code>variable</code>: a user-provided regex used to identify a known format
    <div><div><pre><code>number = \d+
time = \d{2}:\d{2}:\d{2}
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="an-introduction-to-logmine">An introduction to LogMine</h2>

<p>The LogMine paper describes a method to parse logs, group them into clusters and
extract patterns without any prior knowledge or supervision. LogMine can be
implemented using MapReduce and works in a single pass over the dataset.</p>

<p>LogMine’s approach to grouping logs roughly works by:</p>
<ol>
  <li>Parsing logs into patterns</li>
  <li>Grouping patterns into clusters if the <a href="#clustering">distance</a> between them is small</li>
  <li>Merging clusters into a single pattern</li>
  <li>Repeat from step 2 until you are satisfied</li>
</ol>

<p>LogMine classifies fields into three categories:</p>
<ul>
  <li><code>Fixed value</code>, a field that is constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
  <li><code>Variable</code>, a field that matches a pattern provided by the user. This is
detected at the pre-processing step.</li>
  <li><code>Wildcard</code>, a field that is not constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
</ul>

<p>Let’s illustrate how it works, step by step, using three simple logs:</p>

<div><div><pre><code>10:00:00 - [DEBUG] - User 123 disconnected
10:30:00 - [DEBUG] - User 123 disconnected
11:11:11 - [ERROR] - An error occurred while disconnecting user 456
12:12:12 - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>We will also define a variable <code>&lt;time&gt;</code> that follows the pattern
<code>\d{2}:\d{2}:\d{2}</code>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>A good practice would be to define more variables to avoid forming two clusters
from logs with low similarity. For instance, we <strong>should</strong> define <code>&lt;number&gt;</code>
as <code>\d+</code>.</p>

  <p>Depending on the pattern of your logs, defining a common field like <code>&lt;log-level&gt;</code>
as <code>[(DEBUG|INFO|WARNING|ERROR)]</code> might end up hiding information. This is
because a <code>WARNING</code> log with an error message might not be that important yet
the same log message with an <code>ERROR</code> level might have the exact information
you would like to highlight.</p>
</div>

<h3 id="log-parsing-and-dense-clusters-identification">Log parsing and dense clusters identification</h3>

<p>The first step is to parse logs into patterns and identify dense clusters. Dense
clusters are clusters where <strong>raw logs are almost identical</strong>.</p>

<p>To do this, we begin by splitting logs into patterns (an array of field). The
separator used by default is any whitespace character.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>10:00:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>10:30:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>11:11:11</td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td>12:12:12</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Next, we will tokenize the logs and identify variables (regex provided by the
user).</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>I stopped at the word <code>while</code> for readability reasons, but there’s no limit to
the number of fields.</p>

<h4 id="identifying-dense-clusters">Identifying dense clusters</h4>

<p>Once this transformation is done, we will reduce these patterns into dense
clusters. Identifying dense clusters can be seen as a special use-case of the
clustering algorithm: we identify clusters but <strong>we skip the pattern extraction
step as these patterns are nearly identical</strong>.</p>

<p>As such, I’ll first introduce the clustering algorithm and the notion of
distance between patterns.</p>

<h3 id="grouping-patterns-into-clusters">Grouping patterns into clusters</h3>

<p>The clustering algorithm takes a list of patterns and identifies patterns that
are close to each other. Both the Tony Dinh’s implementation and the paper uses
the distance defined as:</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Dist</mtext><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mtext>Min</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></munderover><mfrac><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Q</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mtext>Max</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Dist}(P,Q) = 1 -
\sum_{i=1}^{\text{Min}(\text{len}(P),\text{len}(Q))}{\frac{\text{Score}(P_i,Q_i)}{\text{Max}(\text{len}(P),\text{len}(Q))}}</annotation></semantics></math></span></span></span></p><p>With P and Q, two patterns.</p>

<p>If the distance between the two patterns is inferior to a threshold <code>MaxDist</code>
defined internally, then the two patterns are considered a member of the same
cluster.</p>

<div>
  <p>This comparison process can be optimized by skipping unnecessary work if the
sum is already greater than our <code>MaxDist</code>.</p>

  <p>This is valid because the elements inside the sum can’t be negative.</p>
</div>

<p>The scoring function proposed in the paper allows for tweaking weights depending
on the field type.</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;fixed&nbsp;values</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;variable</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\text{Score}(x, y) =
\begin{cases}
  k1 &amp;\text{if } x=y &amp;\text{and both are fixed values}\\
  k2 &amp;\text{if } x=y &amp;\text{and both are variable} \\
  0 &amp;\text{otherwise}
\end{cases}</annotation></semantics></math></span></span></span></p><p>In order to keep performance, the scoring function can’t return a negative
value. Therefore <code>k1</code> and <code>k2</code> can’t be negative.</p>

<div>
  <p><strong>Note</strong></p>

  <p>The definition of this scoring function seems to have left some place for interpretation:</p>
  <ul>
    <li>Tony Dinh’s implementation <a href="https://github.com/trungdq88/logmine/blob/a7595c6a0b313b43969199c18465cc8bec3b57d1/src/line_scorer.py#L29">checks for equality</a>
if both value are fixed values.</li>
    <li><a href="https://github.com/logpai/logparser/blob/master/logparser/LogMine/LogMine.py">LogPai’s LogParser</a> dropped the concept of variables and uses k2 to tune wildcards weight</li>
  </ul>

</div>

<p>Let’s define <code>k1=1</code> and <code>k2=1</code>, these are the weight used by Tony Dinh’s
implementation and recommended by the original paper.</p>

<h4 id="applying-the-clustering-algorithm">Applying the clustering algorithm</h4>

<p>For this example, I will use the original paper recommendation (<code>MaxDist=0.01</code>).
The MaxDist parameter is used to tune the algorithm sensitivity: the higher
<code>MaxDist</code>, the more patterns are detected.
If <code>MaxDist</code> is too high, patterns are grouped into very large clusters and
pattern extraction become meaningless.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Log_2</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>4</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{4}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>5</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{5}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>123</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>6</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{6}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>7</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{7}{7}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>7</mn><mn>7</mn></mfrac><mo>&lt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{7}{7} &lt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Log_3</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[ERROR]</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>An</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>error</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>occurred</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs do not belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>3</mn><mn>11</mn></mfrac><mo>&gt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{3}{11} &gt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>As we are using <code>MaxDist=0.01</code>, and since the logs in my example are very short,
we will only identify logs that are identical. For this reason, <strong>we can use the
clustering algorithm to identify dense clusters</strong> by skipping the pattern
recognition step.</p>
</div>

<h3 id="pattern-detection">Pattern detection</h3>

<p>In sequential (as opposed to MapReduce) mode, each time a pattern is inserted
in a cluster, LogMine will try to extract patterns from them. LogMine knows
only how to identify two types:</p>
<ul>
  <li>Fixed values</li>
  <li>Wildcards</li>
</ul>

<p>While it seems rather strict, remember that the early pattern detection during
tokenization already took care of identifying user-defined patterns.</p>

<div>
  <p>Generating the pattern each time a new pattern is added allows LogMine to only
keep one representative for each cluster. This is a very important factor to
reduce memory usage.</p>

  <p><strong>MapReduce behavior is described later in this article.</strong></p>
</div>

<p>As patterns in the same cluster can have a different number of fields, the paper
uses the <a href="https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm">Smith-Waterman</a>
algorithm to align them. The Smith-Waterman is mainly used in Bioinformatics to
align sequences. It is interesting to see an algorithm like this applied to
log pattern recognition.</p>

<p>Once the two patterns are aligned, we compare one by one the field:</p>
<ul>
  <li>If the value is equal, we assign a fixed value</li>
  <li>If the value is different, we assign a wildcard pattern</li>
</ul>

<p>The Smith-Waterman algorithm adds placeholders to align logs. These placeholders
are <strong>never equal</strong> to a field value. This means that aligned parts of a log are
always identified as wildcards.</p>

<p>The output of the pattern detection algorithm is a <strong>new list of patterns</strong>.</p>



<p>Let’s assume that the previous algorithm identified a cluster with two patterns:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>To stay consistent with how they were presented earlier, we will call them
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span> and <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span></th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>456</code></td>
      <td><code>Wildcard</code></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><code>Fixed value</code></td>
    </tr>
  </tbody>
</table>

<h4 id="result-of-applying-the-smith-waterman-algorithm">Result of applying the Smith-Waterman algorithm</h4>

<p>Because examples in this article would have gotten very complex, I decided to
not use non-aligned logs in my examples. However, you might be curious as to how
the Smith-Waterman works.</p>

<p>On the implementation, LogMine would have aligned the two following patterns by
adding a <code>None</code> value in a field. For instance:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>
<p>would become:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 &lt;None&gt; disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>

<div>
  <p><strong>The Smith-Waterman does not understand patterns</strong>. The Smith-Waterman uses
the same scoring function as the clustering algorithm. As such, if two fields
are not equal, there is no guarantee that the placeholder will be inserted
properly.</p>

  <p>If we tweak our previous example to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The Smith-Waterman algorithm would transform it to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User &lt;None&gt; 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The alignment was added <strong>before</strong> the user identifier.</p>
</div>

<h3 id="repeat-until-satisfied">Repeat until satisfied</h3>

<p>As the pattern extraction algorithm returns a list of patterns, we can relax
<code>MaxDist</code> and feed this list back into the clustering algorithm.</p>

<p>In <strong>3.4 Hierarchy of Patterns</strong>, the paper describes a process to generate a
hierarchy of possible patterns from very strict to …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sayr.us/log-pattern-recognition/logmine/">https://sayr.us/log-pattern-recognition/logmine/</a></em></p>]]>
            </description>
            <link>https://sayr.us/log-pattern-recognition/logmine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25710991</guid>
            <pubDate>Sun, 10 Jan 2021 05:50:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A guide to SQL interview questions]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25709870">thread link</a>) | @data4lyfe
<br/>
January 9, 2021 | https://www.interviewquery.com/blog-sql-interview-questions/ | <a href="https://web.archive.org/web/*/https://www.interviewquery.com/blog-sql-interview-questions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p><strong>Table of Contents</strong></p><!--kg-card-begin: html-->
<!--kg-card-end: html--><h3 id="introduction">Introduction</h3><p>SQL is the good old friend that has always worked. It’s something you always come back to, even as Pandas, Julia, Spark, Hadoop, and NoSql attempt to dethrone and replace SQL as the new de-facto data tool.</p><p>Eventually though, they all fail in the face of the consistently reliable SQL. And that's why SQL continues to get asked in interviews. </p><blockquote><strong>A note before we start...</strong></blockquote><blockquote>This guide should be used for anyone who is preparing for an interview in which they know SQL will show up. This guide<strong> is not</strong> a search engine optimized listacle (top 50 sql questions for 2021...really?).</blockquote><blockquote>Rather, this is <strong>real advice and REAL interview questions and exercises </strong>gathered from hundreds of data scientists, engineers, and analysts. We sprinkle exercises throughout this post after learning concepts. Be sure to try attempting the questions first before we walk through solving them. &nbsp;</blockquote><blockquote>Lastly, if you enjoy this article, <strong>please give us a share</strong> and check out our <a href="https://www.interviewquery.com/courses/data-science-course">SQL course</a> that goes a little deeper with more exercises and problems. </blockquote><h2 id="1-why-does-sql-show-up-on-the-interview">1. Why does SQL show up on the interview?</h2><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-6.png" alt="" srcset="https://blog.interviewquery.com/content/images/2021/01/image-6.png 600w"></figure><p>SQL allows data scientists and engineers to do a couple of important things.</p><p>One is to <strong>effectively store and retrieve information at scale for analytics</strong>. Even though Google Sheets allows users to easily manipulate and visualize data, it cannot store and scale like a SQL database can. Other popular programs –namely Hadoop and Spark– can scale much further than SQL, but still don’t have a clean and easy-to-use language like SQL to retrieve data efficiently.</p><p>Another great thing about SQL is that understanding the fundamentals bridges the gap between <strong>engineering and data science</strong>. Knowing SQL well gives you a competitive edge over any other candidate, whether you're competing for a position as a product manager, software engineer, or even as a business analyst. Having the skillset to write and pull your own queries is like being a magician that can come up with analyses out of thin air. </p><p>And at the end of the day, you could just be really good at SQL if you wanted to and make tons of money creating ETL jobs or pulling dashboards with efficiency. That's how valued SQL is. </p><h3 id="how-often-does-sql-show-up-in-interviews">How often does SQL show up in interviews?</h3><p>One prevailing question is how often SQL shows up in interviews. </p><p>At Interview Query, we analyzed a dataset of Glassdoor data science interview experiences and responses submitted by our users. The analysis came back that SQL was asked:</p><ul><li><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist" rel="nofollow">70% of the time during Facebook’s data science interviews</a></li><li><a href="https://www.interviewquery.com/interview-experiences/Amazon/business-analyst" rel="nofollow">94% of the time during Amazon’s business intelligence and analyst interviews</a></li></ul><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-7.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-7.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-7.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image-7.png 1262w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist">Skills tested in Facebook's Data Science Interview as of 2021</a></figcaption></figure><p>Due to its nature in being able to get and manipulate your own data, this is by far the most important skill now towards nabbing a data science position. And while pandas and other languages are useful, note that <a href="https://www.interviewquery.com/blog-why-your-data-scientist-interviewer-wont-ask-pandas-questions/" rel="nofollow">SQL will always be the one that matters</a>.</p><h2 id="2-strategies-for-the-live-sql-interview">2. Strategies for the live SQL interview</h2><p>Let's go over the common strategies when tackling SQL interview questions. </p><p><strong>1.Repeat the problem statement</strong></p><p>When presented with a SQL question, listen carefully to the problem description and repeat back what you think the crux of the problem is. The interviewer can then help verify if your understanding is correct.</p><p><strong>2. Understand the edge cases</strong></p><p>If time permits, write out a base case and an edge case to show that you understand the problem. For example: if the interviewer asks you to pull the average number of events per user per day, write out an example scenario where you're verifying this metric. </p><p>Do duplicate events matter? Are we looking at distinct users? These are questions we need to clarify. </p><p><strong>3. Try working backwards if the problem is tricky</strong></p><p>Sketching out what the output of the SQL question will look like is a great strategy towards solving the problem. Usually, if I know what the end output table is supposed to look like, I can work backwards from there on what functions need to be applied before. </p><p>For example, if the output looks like this:</p><pre><code>date        | average events per user
------------+-----------------------
2021-12-01  |  3.5
2021-12-02  |  4.0</code></pre><p>I know that the table before this aggregation would have to look something like this.</p><pre><code>date       | event | user_id
-----------+-------+--------
2021-12-01 | click | 1
2021-12-01 | view  | 1
......</code></pre><p>And then, I can figure out what functions I should use to get to my desired output!</p><p><strong>4. Pattern match to different functions</strong></p><p>As you practice more and more SQL exercises, what you'll find is that many SQL problems follow similar patterns. There are techniques we can use in SQL, like utilizing <code>HAVING</code> on aggregations, self-joins and cross-joins, and applying window functions. But, additionally, we'll see problems that run in a similar vein. </p><p>For example, writing a query to get the second highest salary or writing a query to isolate every fifth purchase by a user utilizes the same <code>RANK</code> function in SQL. </p><p>Understanding the commonalities between questions will help you understand the first step to solving SQL questions faster because you can re-use similar code and stitch together techniques on top of each other. </p><p><strong>5. Start writing SQL</strong></p><p>Finally, it's important to just start writing SQL. It's better to start writing an imperfect solution vs trying to perfectly understand the problem or trying to perfect the solution on the first try. </p><p>Verbalize your assumptions and what you're doing as you write SQL and your interviewer can then be put on the same page as you. </p><h2 id="3-the-7-different-sql-interview-questions">3. The 7 different SQL interview questions</h2><p>SQL questions asked during interviews can vary widely across companies, but even more so across positions. You won't see data scientists asked the same SQL questions as software engineers, and that's because data scientists have to write different types of queries compared to software engineers. </p><p>Generally, each SQL interview question can be bucketed into these categories:</p><ul><li>Definition based SQL questions</li><li>Basic SQL questions</li><li>Reporting and metrics SQL questions</li><li>Analytics SQL questions</li><li>ETL SQL questions</li><li>Database design questions</li><li>Logic based SQL questions</li></ul><p>In this next section, we'll go over which types of SQL questions are expected for different roles and what those different kinds of SQL questions are in detail. </p><h2 id="4-sql-questions-for-data-scientists-and-analysts">4. SQL questions for data scientists and analysts</h2><p>SQL interview questions for data scientists and data analysts will likely show up in three parts of the interview process: the technical round, the take-home challenge, and the onsite interview. </p><p>The technical round and take-home challenge will usually consist of SQL questions <strong>designed to filter out candidates</strong>. Since SQL is commonly used as a filter mechanism for data scientists, it's important to perform well on this part of the interview in order to demonstrate competence. </p><p>Depending on what type of data science role you're interviewing for, you'll find that most SQL questions will be split into these three types:</p><ul><li>Basic SQL Interview Questions</li><li>Reporting and Metrics SQL Interview Questions</li><li>Analytics SQL Interview Questions</li></ul><h3 id="basic-sql-interview-questions">Basic SQL Interview Questions</h3><p>Basic SQL questions are what they sound like. These questions will be generally easy and focus on assessing if you know the basics. </p><p><strong>Definition based SQL questions </strong>are grouped into this category because they're super easy to learn. All you have to do is study a list of definitions of SQL terms and applications. These questions will include understanding the differences between joins, what kinds of aggregations exist, and knowing the basic functions like <code>CASE WHEN</code> or <code>HAVING</code>. </p><p>Basic SQL interview questions that involve a user actually writing a query are slightly different. These will involve getting the <code>COUNT</code> of a table, knowing what the <code>HAVING</code> clause does, and figuring out how to utilize <code>LEFT JOIN</code> versus <code>INNER JOIN</code> to give you the values that you need.</p><blockquote>Read more on the the <a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/">basic concepts you need to know to pass your data science interview</a> here. </blockquote><figure><a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/"><div><p>Three SQL Concepts for your Data Scientist Interview</p><p>I’ve interviewed a lot of data scientist candidates and have found there are a a lot of SQL interview questions for data science that eventually boil down to three generalized types of conceptual understandings.</p><p><img src="https://blog.interviewquery.com/favicon.ico"><span>Interview Query Blog</span></p></div><p><img src="https://blog.interviewquery.com/content/images/2020/02/sql_join.jpeg"></p></a></figure><p><strong>Basic SQL Concepts to Review</strong></p><ul><li>What's the difference between a <code>LEFT JOIN</code> and an <code>INNER JOIN</code>?</li><li>When would you use <code>UNION</code> vs <code>UNION ALL</code>? What if there were no duplicates?</li><li>What's the difference between <code>COUNT</code>and <code>COUNT DISTINCT</code>?</li><li>When would you use a <code>HAVING</code> clause versus a <code>WHERE</code> clause?</li></ul><p><strong>Basic SQL Question Example:</strong></p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image.png 1306w" sizes="(min-width: 720px) 720px"></figure><blockquote><em>We're given two tables, a <code>users</code> table with demographic information and the neighborhood they live in and a <code>neighborhoods</code> table.</em></blockquote><blockquote><em>Write a query that returns all of the neighborhoods that have 0 users.</em></blockquote><p>Try answering this question with our <a href="https://www.interviewquery.com/questions/empty-neighborhoods">interactive SQL editor</a>.</p><p><strong>Here's a hint:</strong></p><p><em>Our predicament is to find all the neighborhoods without users that live in them. This means we have to introduce a <strong>concept of existence of a field in one table, while not existing in another.</strong></em></p><p><em>For example, let's say we generate some fake data of user's and the neighborhoods they live in. We would expect it to look something like this. </em></p><pre><code>neighborhoods.name  | users.id
____________________|__________
castro              | 1
castro              | 2
cole valley         | null
castro heights      | 3
sunset heights      | 4</code></pre><p><em>We see each user from one to four is appropriately placed in their respective neighborhood except for the neighborhood of Cole Valley. That's the neighborhood we're targeting for returning in our query. </em></p><p><em>Strategies: whenever the question asks about finding values with 0 something (users, employees, posts, etc..), immediately think of the concept of <strong><code>LEFT JOIN</code></strong>! An inner join finds any values that are in both tables, <strong>a left join keeps only the values in the left table</strong>.</em></p><p><em>Our predicament is to find all the neighborhoods without users. To do this, we must do a left join from the <code>neighborhoods</code> table to the <code>users</code> table.</em></p><p><em>If we then add in a where condition of <strong><code>WHERE users.id IS NULL</code></strong>, we will get every single neighborhood …</em></p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.interviewquery.com/blog-sql-interview-questions/">https://www.interviewquery.com/blog-sql-interview-questions/</a></em></p>]]>
            </description>
            <link>https://www.interviewquery.com/blog-sql-interview-questions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25709870</guid>
            <pubDate>Sun, 10 Jan 2021 04:15:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Platform Is the Enemy]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25708099">thread link</a>) | @nomdep
<br/>
January 9, 2021 | https://danielbmarkham.com/the-platform-is-the-enemy/ | <a href="https://web.archive.org/web/*/https://danielbmarkham.com/the-platform-is-the-enemy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div id="post-body">
        <p>The premise of the movie "Idiocracy" is simple: in the future mankind has de-evolved into morons. Technology does so much for everybody that nobody knows how it all works anymore. &nbsp;If we can't fix it, we're all going to die.</p><p>One character asks the other what he likes, The answer is money.</p><p>"I can't believe you like money too!" the first character says without irony, "We should hang out!"</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/JRJcXbeoSOlkRRzbC7HJ_idiocracy.jpg" alt=""></figure><p>The gag here is that of course, most everybody likes money. If you reduce all of your life enough, it's just food, sex, money, and looking cool. But who would want to do that? Over the centuries, humans have created massively-complex societies because everybody has different things they like doing and thinking about, but all of that complexity can be reduced to, well, an idiocracy if you try hard enough.</p><p>The movie, however, is just a joke, right? We would never allow that to happen, of course, because that's not the goal of technology. Technology's goal is to make us better, not dumber.</p><p>Wait one. Is that true? What <em>is</em> the goal of technology, anyway? Has anybody ever clearly stated it?</p><p>Recently I've heard two goals:</p><ol><li>The goal of technology is to become a <strong>brain extension</strong>, <em>helping you to decide what to do</em> and then helping you get it done.</li><li>The goal of technology is to become a <strong>hand-held power tool</strong>, helping you accomplish the things you've <em>already decided to do</em></li></ol><p>That's not the same thing. It turns out the difference is critical.</p><p>The old goal was much simpler: make something people want. I like that goal! It boils down the job of creating technology to the most important parts, need and ability. But was that sustainable? At the end of the day, don't we always end up making some combination of stuff that either helps us <em>make decisions</em> or helps us <em>implement decisions</em> we've already made? And aren't the two fundamentally incompatible in a future society?</p><p>Yelp tells you which restaurant to go to. Your GPS automatically takes you there. These are not just different problems, they're different <em>kinds of problems</em>. Getting from point A to point B is a matter of math and geometry. Which restaurant is the best tonight? You could spend hours debating that with friends.</p><p>If you reduce anything down enough it becomes idiotic. Each piece of technology we deploy can have the goal of helping us do what we've already decided or helping us decide what to do. The first option leaves the thinking up to us. The second option "helps" us think.</p><figure><iframe width="267" height="200" src="https://www.youtube.com/embed/sZHCVyllnck?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>You like money too? Wow! I like money! We should hang out!</p><p>Human brains are not computers. Brains are designed to help us survive and pass on our genes using the minimum amount of energy available. If the GPS takes me where I'm going, I don't need to know how to use maps anymore. So I stop knowing how to use maps. Dump those neurons, they're not needed. If Yelp picks the restaurants for me enough, I stop having nuanced preferences about restaurants. That energy expenditure is no longer needed for survival and reproduction. Dump those neurons. Over time people stop caring about the tiny details of what the difference is between a good and a great restaurant. Yelp handles that.</p><p>For some folks, who cares? It's food. Go eat it. For other folks, picking the right place can be a serious undertaking, worthy of heavy thought and consideration. But if over the years apps like Yelp boil all of that down to four or five stars, then our collective brain is not going to bother with it. Human brains are not computers. If computers do the work for us, we turn off those neurons and save energy.</p><p>Meanwhile, on social media there's currently this huge discussion. One bunch of folks says that social media is being overbearing in its censorship of fringe and sometimes hateful opinions. The other bunch of folks says social media is a festering sore full of people who are ugly, hateful, and abusive to those weakest among us. The community has to set standards.</p><p>There doesn't have to be a right and wrong here. I think the crucial thing to to understand that both sides can be entirely correct. We are dealing with the same kind of question.</p><p>All three of these topics -- whether humanity is becoming idiots or not, what the ultimate goal of technology is or should be, and how social media should work -- are intricately related. They're related because of this: <em>the platform is the enemy</em>.</p><p>The minute we create a platform for something, whether it's rating movies, tracking projects, or chatting with friends about work, as that platform takes over mindshare, <em>the assumption becomes that this is a solved problem</em>.</p><p>The telephone was great. Once we had the telephone, people didn't have to worry about how to talk to people far away anymore. Just pick up the phone. Solved problem.</p><p>Facebook is great. Once we had Facebook, people didn't have to worry about how to interact with their friends in a social setting anymore. Just click on the little FB notification (Which seems to be always flashing for some reason to get my attention) Solved problem?</p><p>But these are entirely different things! With the phone, I know who I want to call and why. I push buttons and we are connected. The tech helps me do what I've already decided to do. With Facebook, on the other hand, they get paid to show me things in a certain order. The premise is that I'm waiting (or "exploring" if you prefer) until I find something to interact with. The phone is a tool for me to use. I am the tool Facebook is using. I am no longer acting. I am reacting.</p><p>And even if they weren't paid, interacting with friends socially is an extremely complex affair. What kind of mood are they in? What's their life history? What things are bad to bring up? How does their body language look? Facebook's gimmick is "Hey, we've reduced all of this to bits and bytes, and we'll even show you what bits and bytes to look at next!"</p><p>Solved problem.</p><p>Many, many people do not use the internet, the internet uses them. And this percentage is constantly growing.</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/9EBNeUmSy6TMDUpKTLL6_terminator-robot.jpg" alt=""></figure><p>Just like the restaurant example, maybe that's fine. I have friends, I have opinions, who cares? It's all idle chat anyway.</p><p>That logic can be true for a bunch of things, but can't be true for <em>everything</em>. Otherwise, at some point 100 years from now, we're comparing our life values and end up saying something like "I like money too". Everything can't all be reduced down to the lowest common denominator. If it does, we all die.</p><p>Life is not a bit or byte, a number to be optimized. It's meaning we define ourselves, in ways we should not quantize.</p><p>Platforms, by their very nature, constantly send out the subtle message: <em>This is a solved problem. No further effort on your part is required here. No thinking needed.</em> Platforms resist change. They resist their own evolution by subtly poisoning the discussion before it even starts.</p><p>Are restaurant choices more or less important than which movie to watch tonight? There's no right or wrong answer to these questions. We have nice categories like restaurants and movies because currently people consider those things to be different kinds of choices. But why? If the algorithm is king, why shouldn't an algorithm determine both of those things for me? And if it does, why should I bother with worrying about which category is which?</p><p>Human brains are not computers. Let the platform decide. Energy not needed. Dump those neurons.</p><p>This is the more important point. It's not that the platforms turn what might be complex things into simple numbers, or even that they monetize attention. It's that by turning everything into numbers, over time they destroy the distinction between the categories entirely. Platforms are the enemy because they resist analysis in the areas they dominate.</p><p>Platforms turn into settled fact things that should be open for debate, like whether or not Taco Bell is a Mexican restaurant, or whether Milo is an artist with something useful to tell us. (I'm going with "no" and "no" for both of these.) More dangerously, they do the work of deciding <em>what categories various things go into</em>. This category over here is important. That category over there is not. We all make these decisions, and they're all different, and the categories each of us pays careful attention to and loves obsessing about are all different, and because we all have different viewpoints and priorities humankind advances in thousands of directions simultaneously. We survive. We evolve.</p><p>Twitter has to decide whether PERSON_X can speak or not because on the Twitter platform, that question has to have a yes or no answer based on the person. Twitter's category for deciding who can speak is "who is that?" Is that the right category for social conversations? For political conversations? For conversations about philosophy? Math? Who knows? Who cares? Twitter has decided. Solved problem.</p><p>Everybody has different things they like doing and thinking about. Different conversations and audiences have different criteria. Some problems should never be solved. Or rather more directly, some problems should never have a universal answer.</p><p>An aside: We see the same thing in programming. One bunch of folks creates various platforms in order to do the thinking for another bunch of folks. Sometimes these platforms take off and become industry standards. That's quite rare, however. Most of the time we end up training morons who can weakly code against the platform but can't reason effectively about the underlying architecture or reason for the platform to exist in the first place. In our desire to help, we harm the very people we're trying to assist -- by subtly giving them the impression that this is a solved problem. Programmers are just a decade or so ahead of the rest of us.</p><p>Popular platforms aren't just a danger economically because they control commerce. They're not just a danger politically because they selectively control and amplify political discourse. They're an extinction-level, existential danger to humans because they prevent people from seriously considering what kinds of categories are important in …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danielbmarkham.com/the-platform-is-the-enemy/">https://danielbmarkham.com/the-platform-is-the-enemy/</a></em></p>]]>
            </description>
            <link>https://danielbmarkham.com/the-platform-is-the-enemy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25708099</guid>
            <pubDate>Sun, 10 Jan 2021 02:23:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Podcast on innovation systems, with Ben Reinhardt]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25707442">thread link</a>) | @willbobaggins
<br/>
January 9, 2021 | https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/ | <a href="https://web.archive.org/web/*/https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1985">

                    
                    <div>
                        
<p>In this episode, we talk with Ben Reinhardt about different innovation systems, how to create more sci-fi technology a reality, and why our research institutions are not as effective as they used to be. You can check out Ben’s work at https://benjaminreinhardt.com/about/.</p>



<div><p>Some things mentioned in the episode: </p><p><a href="https://slatestarcodex.com/2020/05/12/studies-on-slack/">Studies on Slack</a></p></div>



<p><a href="https://en.wikipedia.org/wiki/Donald_Braben">Don Braben</a></p>



<p><a href="https://en.wikipedia.org/wiki/DARPA">DARPA</a></p>



<p>Ben’s <a href="https://twitter.com/ben_reinhardt?lang=en">Twitter</a></p>



<figure></figure>
                                            </div>

                </article></div>]]>
            </description>
            <link>https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25707442</guid>
            <pubDate>Sun, 10 Jan 2021 01:30:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Hangouts: A Eulogy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25707127">thread link</a>) | @dredmorbius
<br/>
January 9, 2021 | http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/ | <a href="https://web.archive.org/web/*/http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>This year Google will stop supporting and remove Google Hangouts. Google Hangouts, if you're not aware, was Google's replacement for their chat program Google Talk. Google Talk was a XMPP-based chat client that was available for all users of Google services. Google Hangouts was rolled out around the same time as Google+, and was a wrapper for many different Google services (phone, video chats, and Hangouts on Air). What was nice about it was that anyone that you knew the GMail address of had access to Google Hangouts. This meant that many of my friends had Hangouts access. JoDee and I used Hangouts for much of our IM communication. Unfortunately for whatever reason Google decided to remove yet another of the things that I liked about Google services, and proves once again that Google can't be trusted with any social platform.</p>
<p>Today I downloaded the "Google Takeout" of Hangouts and removed all of the old chats. There were a lot of nice memories in there, and now they can live in a collection of photos and one long JSON dump file that I'll probably never read again.</p>
<p>If you want to find me I'm on Signal and Quicksy (an XMPP-based service using phone numbers and OMEMO for encryption). If you have my phone number you can use these services to get a hold of me. I'm still on IRC and have accounts on other platforms. But what seems a constant is that communication will be fractured over multiple platforms and the dream of having one application doing everything well dies on July, 2021. And the irritation of having yet-another-platform to talk to that one person is the reality we'll all have to deal with until something better comes along. Nothing is perfect and everything is terrible.</p>
<p>RIP Hangouts. You helped me not have to think about messaging.</p>
    </div></div>]]>
            </description>
            <link>http://decafbad.net/2021/01/09/google-hangouts-a-eulogy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25707127</guid>
            <pubDate>Sun, 10 Jan 2021 01:07:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook and Twitter Promote Propaganda and Disinformation. We Can Do Better]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25706694">thread link</a>) | @dyoder
<br/>
January 9, 2021 | https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation | <a href="https://web.archive.org/web/*/https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://byline.dashkite.com/post/dashkite/w_ljVZkIbMtrtkekpwUnBg/facebook-and-twitter-promote-propaganda-and-disinformation</link>
            <guid isPermaLink="false">hacker-news-small-sites-25706694</guid>
            <pubDate>Sun, 10 Jan 2021 00:19:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Weather Data API with historical weather and 15-day forecast data]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25706592">thread link</a>) | @Leftium
<br/>
January 9, 2021 | https://www.visualcrossing.com/weather-api | <a href="https://web.archive.org/web/*/https://www.visualcrossing.com/weather-api">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="posts">
					
					
						<div id="">
								
								<p><a href="https://github.com/visualcrossing/WeatherApi/" title="Weather API Samples"><img src="https://www.visualcrossing.com/images/excel-weather/coder_300x200.png" alt="Weather API for JavaScript and web development"></a>
								</p>
								<div>
									
									
									<div>
										<p>
											Visual Crossing Weather API requests are RESTful calls that you can make easily from both client and server.  
											You can incorporate weather data into your application, website or weather app in a matter of minutes. 
											Simply follow our tutorials and sample code. Need a free weather api? Our weather data API is free up to 1000 results/day.
										</p>

										<ul>
											<li><i></i>Easy integration with <a href="https://www.visualcrossing.com/resources/documentation/weather-api/how-to-load-weather-data-in-javascript/" title="How to load weather data in JavaScript">JavaScript, D3 &amp; jQuery</a></li>
											<li><i></i>HTTPS encryption for security and compliance</li>
											<li><i></i>Cross-Origin Resource Sharing (<a href="https://enable-cors.org/" `rel="noopener" title="enable cross-origin resource sharing" target="_blank">CORS</a> ) for secure cross-domain requests</li>
											<li><i></i>Secure API Key for account protection &amp; tracking</li>
											<li><i></i>Compatible for both client and server usage</li>
											<li><i></i>Enable weather in your application in minutes</li>
										</ul>
									</div>

								</div>
						</div>
					
						
						
						
						<div id="">
								
								<p><a href="https://www.visualcrossing.com/resources/documentation/weather-api" title="Weather API Documentation"><img src="https://www.visualcrossing.com/images/excel-weather/coder_300x200.jpg" alt="Historical Weather Data for Java, Python, Perl"></a>
								</p>
								<div>
									
									
									<div>
											<p>
										RESTful APIs are ideal for integration in all programming languages including Java, .NET, Python &amp; Perl.  
										Access the entire Visual Crossing Weather database including weather history data, weather forecasts, real time conditions to power any application.
										</p>
										
										<p>
										Results are available in common data formats including JSON and CSV.
										Integrating the data into your application is straightforward.
										</p>
										<ul>
											<li><i></i>Full access to historical weather, forecasts, and climate statistics</li>
											<li><i></i>Data formats include JSON and CSV</li>
											<li><i></i>Support for multiple locations and dates in a single request</li>
											<li><i></i>Documentation and samples available</li>
										</ul>
									</div>
								</div>
						</div>
						
						
						
					
						<p id="">
							<h2>Weather Data for Data Science</h2>
						</p>
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
											R has become an essential environment for statistical computing and data science.  
											It is widely used among analysts and data miners for developing statistical software and data analysis including weather. 
											Visual Crossing API can be used to load data into your R code quickly and easily.

										</p>
										<ul>
											<li><i></i>Load weather information with a single call</li>
											<li><i></i>Use R to calculate statistics, do analysis &amp; make graphics</li>
											<li><i></i>Build queries using the Query Builder page or in your code</li>
											<li><i></i>Join weather data with other business data</li>
											<li><i></i>Videos and tutorials show the process step-by-step</li>
										</ul>
									</div>

								</div>
						</div>
						

						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
										
										Excel is used by corporate analysts and home users alike because it is powerful, intuitive. 
										It provides a simple weather analysis platform business and for students and data hobbyists.  
										Our unique CSV output mode allows the results of weather queries to be consumed directly in any Excel workbook.

										</p>
										<ul>
											<li><i></i>Load weather query results directly via an API URL</li>
											<li><i></i>Save and share your weather analysis</li>
											<li><i></i>Make and test queries using our Weather Query Builder</li>
											<li><i></i>Automatically update weather conditions via live queries within Excel</li>
											<li><i></i>Sample workbooks available to use directly and build upon</li>
										</ul>
									</div>

								</div>
						</div>
						
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
										
									Power BI is an interactive business intelligence tool designed to be simple enough for end users create their own analyses while being powerful enough for business-wide use.  
									Weather data fits naturally into this analysis framework, and Visual Crossing Weather makes the integration easy.  
									Our API query URLs can return CSV results that import directly into any Power BI report or dashboard.

										</p>
										<ul>
											<li><i></i>Find valuable correlations between any data and weather</li>
											<li><i></i>Load weather data directly from our cloud-based servers</li>
											<li><i></i>Save and share weather reports and dashboard across your team</li>
											<li><i></i>Samples get you up and running quickly</li>
										</ul>
									</div>

								</div>
						</div>
	

	
	

						<div id="">
								
								<p><a href="https://www.visualcrossing.com/resources/documentation/weather-api" title="Weather API Documentation">
									<img src="https://www.visualcrossing.com/images/excel-weather/bi_300x200.png" alt="Loading weather data into your Business Intelligence System"></a>
								</p>
								<div>
									
									
									<div>
									<p>
										High-end BI platforms represent the backbone of data analysis within many large and mid-sized companies.  
										These powerful tools can crunch decades of business and external data to find patterns and make recommendations.  
										Visual Crossing Weather can be easily embedded directly into every BI application.


										</p>
										<ul>
											<li><i></i>Find valuable correlations between your business data and weather</li>
											<li><i></i>ETL scripts, plug-ins, and sample dashboards available</li>
											<li><i></i>Import weather data into your corporate warehouse</li>
											<li><i></i>Get added value from your existing BI investment</li>
										</ul>
									</div>

								</div>
						</div>
						
						<div id="">
								
								
								<div>
									
									
									<div>
										<p>
											Google Sheets has become the most universally accessible data analysis application due to the global reach of its web-based platform.  
											That same web platform powers instant data sharing in schools, companies, and around the world.  
											Visual Crossing Weather data can be integrated easily into any Google Sheet application using a single API call.

										</p>
										<ul>
											<li><i></i>Directly load history and forecast weather data into any Sheet</li>
											<li><i></i>Update live weather results directly in Google Sheets</li>
											<li><i></i>Share weather data analysis instantly</li>
											<li><i></i>Ideal for academic and education users</li>
										</ul>
									</div>

								</div>
						</div>
						
	
						<p id="">
							<h2>Databases</h2>
						</p>
						<div id="">
								
								<p><a href="https://www.visualcrossing.com/weather/weather-data-services" title="Weather Data Query Builder"><img src="https://www.visualcrossing.com/images/excel-weather/server_300x200.png" alt="Weather Data for Databases - Data Loading, Live Updates, Enterprise Access"></a>
							
								</p>
								<div>
									
									
									<div>
										<p>
											An enterprise data warehouse is the heart of data science for nearly every large and mid-sized corporation.  
											The power to store vast amounts of business data enable analysts across an organization make intelligent business decisions.
											Visual Crossing Weather allows historical weather data to be matched directly to existing business records.
										</p>
										<p>											
											Many business activities are affected by weather.
											Adding Visual Crossing data to an enterprise data warehouse bring immediate inside and ROI.
										</p>
										<ul>
											<li><i></i>Easily load weather data using ETL and embedded queries</li>
											<li><i></i>Dynamic queries load fresh weather data automatically</li>
											<li><i></i>Compatible with application across the enterprise</li>
											<li><i></i>Every part of the organization can find new insight</li>
										</ul>
									</div>

								</div>
						</div>
						
					</div></div>]]>
            </description>
            <link>https://www.visualcrossing.com/weather-api</link>
            <guid isPermaLink="false">hacker-news-small-sites-25706592</guid>
            <pubDate>Sun, 10 Jan 2021 00:05:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‘Why I, as a black man, attend KKK rallies.’ [video]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705798">thread link</a>) | @boogies
<br/>
January 9, 2021 | https://invidious.site/watch?v=ORp3q1Oaezw&dark_mode=true&autoplay=1 | <a href="https://web.archive.org/web/*/https://invidious.site/watch?v=ORp3q1Oaezw&dark_mode=true&autoplay=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
                A chance encounter with members of the Ku Klux Klan led black musician Daryl Davis on a quest to determine the source of the hate. His unorthodox, yet simple approach, has wielded surprising results and just might be the solution for all racial discourse.</p><p>Daryl Davis graduated from Howard University with a degree in Jazz. As a pianist, vocalist, and guitarist, he performs nationally and internationally with The Daryl Davis Band. He has also worked with such notables as Chuck Berry, Elvis Presley’s Jordanaires, The Legendary Blues Band, and many others.</p><p>In 1983, A chance occurrence after one of his performances led him to befriend a member of the Ku Klux Klan. This eventually led Daryl to become the first black author to travel the country interviewing KKK leaders and members, all detailed in his book, Klan-Destine Relationships. Today, Daryl owns numerous Klan robes and hoods, given to him by active members who became his friends and renounced the organization.</p><p>Since his journey began, Davis has joined an all-white country band, attended KKK rallies, and accepted a “certificate of friendship” from the Traditionalist American Knights of the KKK. He’s even the godfather of former Klan Imperial Wizard Roger Kelly’s granddaughter.</p><p>Davis has received the Elliott-Black and MLK awards as well as numerous other local and national awards for his work in race relations, and is often sought by media outlets as a consultant on the KKK and race relations. He is also an actor with stage and screen credits, appearing in the critically acclaimed HBO police drama, The Wire, and most recently, as the subject of the documentary Accidental Courtesy, which filmed his real life encounters with Ku Klux Klan and neo-Nazi leaders as he helps to dismantle racism across the United States</p><p> Davis has received the Elliott-Black and MLK awards as well as numerous other local and national awards for his work in race relations, and is often sought by media outlets as a consultant on the KKK and race relations. He is also an actor with stage and screen credits, appearing in the critically acclaimed HBO police drama, The Wire, and most recently, as the subject of the documentary Accidental Courtesy, which filmed his real life encounters with Ku Klux Klan and neo-Nazi leaders as he helps to dismantle racism across the United States. This talk was given at a TEDx event using the TED conference format but independently organized by a local community. Learn more at <a href="https://www.ted.com/tedx">https://www.ted.com/tedx</a></p></div></div>]]>
            </description>
            <link>https://invidious.site/watch?v=ORp3q1Oaezw&amp;dark_mode=true&amp;autoplay=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705798</guid>
            <pubDate>Sat, 09 Jan 2021 22:44:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Putting Mental Models to Practice Part 4: Expert Decision Making]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705441">thread link</a>) | @gHeadphone
<br/>
January 9, 2021 | https://commoncog.com/blog/putting-mental-models-to-practice/ | <a href="https://web.archive.org/web/*/https://commoncog.com/blog/putting-mental-models-to-practice/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p><em>This is Part 4 of a <a href="https://commoncog.com/blog/a-framework-for-putting-mental-models-to-practice/">series of posts</a> on putting mental models to practice. In <a href="https://commoncog.com/blog/a-framework-for-putting-mental-models-to-practice-part-1/">Part 1</a> I described my problem with Munger’s approach to mental models after I applied it to my life. In <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-2-introduction-to-rationality/">Part 2</a> I argued that the study of rationality is a good place to start for a framework of practice. We learnt that <a href="https://fs.blog/mental-models/">Farnam Street’s list of mental models</a> consists of three types of models: descriptive models, thinking models concerned with judgment (epistemic rationality), and thinking models concerned with decision making (instrumental rationality). In <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-3-better-trial-and-error/">Part 3</a>, we were introduced to the search-inference framework for thinking, and discussed how mental models from instrumental rationality may help prevent the three errors of thinking as prescribed by the search-inference framework. We also took a quick detour to look at optimal trial and error through the eyes of Marlie Chunger. In Part 4, we will explore the idea that expertise leads to its own form of decision making. This is where my views begin to diverge from Farnam Street’s.</em></p><p>Many experts, in many fields, don’t do the sort of thinking we have explored in our previous part. They don’t do rational choice analysis. They don’t do expected utility calculations. &nbsp;They don’t adjust for biases, they don’t do appropriate search-inference thinking and they don’t use a ‘latticework of mental models from other fields’ to draw inferences.</p><p>And yet, despite a lack of grounding in the ‘best practices’ of decision science, they appear to perform remarkably well in the real world.</p><p>So what do they do?</p><p>They do <a href="https://en.wikipedia.org/wiki/Recognition_primed_decision">recognition-primed decision making</a>.</p><p>Recognition-primed decision making (henceforth called RPD) is a <em>descriptive</em> model of decision-making: that is, it describes how humans make decisions in real world environments. RPD is one of the thinking models from the field of <a href="https://en.wikipedia.org/wiki/Naturalistic_decision-making">Naturalistic Decision Making</a> (NDM), which is concerned with how practitioners <em>actually</em> make decisions on the job. NDM researchers eschew the lab and embed themselves in organisational settings, and take an almost anthropological approach to research. They follow firefighters on calls, sit in tanks during military exercises, and interview interface designers and programmers in the office, during work tasks. The way the researchers do this is to use an interviewing technique they call Cognitive Task Analysis, which is designed to draw out <em>tacit mental models of expertise</em>.</p><p>NDM is interesting to us because it represents an alternative school of thought to conventional decision analysis. The growth of the cognitive biases and heuristics research program has created a number of prescriptive models — rooted in expected utility theory — designed to help us make more ‘rational’ decisions. We’ve covered the basics of that approach in <a href="https://commoncog.com/blog/putting-mental-models-to-practice-part-3-better-trial-and-error/">Part 3</a>. But the cognitive biases and heuristics program has also sucked up a lot of attention in recent years. We continually hear endless stories about the fallibility of human judgment and the errors and biases that systematically cloud our thinking. Whatever popular science books have to say about NDM is limited to the sort of ‘magical intuition’ as portrayed by Malcolm Gladwell in <em>Blink</em>.</p><p>This is a terrible portrayal. Because expert intuition is often portrayed as ‘magical’, we ignore it and turn to more rational, deliberative modes of decision making. We do not believe that intuition can be trained, or replicated. We think that rational choice analysis is the answer to everything, and that amassing a large collection of mental models in service of the search-inference framework is the ‘best’ way to make decisions.</p><p>It is telling, however, that the US military uses RPD models for training and analysis of battlefield decision-making situations. The field of NDM arose out of psychologist Gary Klein’s work, done in the 90s, for the US Army Research Institute for the Behavioural and Social Sciences. In the 70s and the 80s, the US Government had spent millions on decision science research — that is, on <em>conventional</em> models rooted in rational choice analysis — and used these findings to develop expensive decision aids for battle commanders.</p><p>The problem they discovered was that nobody actually used these aids in the real world. The army had spent ten years worth of time and money on research that didn’t work at all. It needed a new approach. <em>(Chapter 2, Gary Klein, Sources of Power)</em>.</p><h2 id="how-experts-make-decisions">How Experts Make Decisions</h2><p>RPD describes the decision making that emerges from expertise. This is a huge differentiating factor; the majority of results in classical decision science was built on behavioural experiments performed on ordinary people. The model goes as follows:</p><p>Let’s say that an expert encounters a problem in the real world. The first step in the RPD model is recognition: that is, the expert perceives the situation in a changing environment and pattern matches it against a collection of prototypes. The more experience she has, the more prototypes or analogues she has stored in her <a href="https://en.wikipedia.org/wiki/Implicit_memory">implicit memory</a>.</p><p>This instantly generates four things. The first is a set of ‘expectancies’ — the expert has some expectations for happens next. For instance, in a firefighting environment, an experienced firefighter can tell where a fire would travel, and how a bad situation might develop. An experienced computer programmer can glance at some code and tell if the chosen abstraction would lead to problems months down the road. A manager can hear two pieces of information during lunch and predict production delays two months in the future.</p><p>The second thing this recognition generates is a set of <em>plausible goals</em> — that is, priorities of what needs to be accomplished. In a life-or-death situation, a platoon commander has to prioritise between keeping his troop alive, getting to advantageous cover, and achieving mission objectives. His recognised prototype instantly tells him where his priorities lie in a given situation, freeing cognitive resources to conduct other forms of thinking.</p><p>The third thing that is generated is a set of relevant cues. A novice looking at a chaotic situation will not notice the same things that the expert does. Noticing cues to evaluate a changing environment is one of the benefits of experience — and it is necessary in order to prevent information overload. Think of driving a car: in the beginning, you find yourself overwhelmed with the number of dials and knobs and mirrors you have to keep track of. After a few months, you do these things intuitively and notice only select cues in your environment as you drive.</p><p>Last, but not least, a sequence of actions is generated by the expert, sometimes called an ‘action script’ — and it presents itself, fully formed, in the expert’s head.</p><figure><img src="https://commoncog.com/blog/content/images/2019/01/Paper.Commonplace.42.png" alt=""></figure><p>The fact that RPD depends so much on implicit memory means that this entire process happens in a blink of an eye. Consider how you might recognise a person walking into the room as your friend ‘Mary’ or ‘Joe’. Facial recognition is an implicit memory task: the information ‘magically’ makes itself known to you. Similarly, an expert confronted with a work-related problem will perform the recognition and generate the four by-products instantaneously. When initially interviewing firefighters, Klein’s researchers found that the firefighters would often assert that they were <em>not</em> decision making: instead, they arrived at the scene of a fire and knew immediately what to do.</p><p>This is, of course, not a complete picture. What happens when the situation is unclear, or when the initial diagnosis is flawed? Here’s a story from <em>Sources of Power</em> to demonstrate what happens next:</p><blockquote>“The initial report is of flames in the basement of a four-story apartment building: a one-alarm fire. The commander arrives quickly and does not see anything. There are no signs of smoke anywhere. He finds the door to the basement, around the side of the building, enters, and sees flames spreading up the laundry chute. That’s simple: a vertical fire that will spread straight up. Since there are no external signs of smoke, it must just be starting.<p>The way to fight a vertical fire is to get above it and spray water down, so he sends one crew up to the first floor and another to the second floor. Both report that the fire has gotten past them. The commander goes outside and walks around to the front of the building. Now he can see smoke coming out from under the eaves of the roof. It is obvious what has happened: the fire has gone straight up to the fourth floor, has hit the ceiling there, and is pushing smoke down the hall. Since there was no smoke when he arrived just a minute earlier, this must have just happened.</p><p>It is obvious to him how to proceed now that the chance to put out the fire quickly is gone. He needs to switch to search and rescue, to get everyone out of the building, and he calls in a second alarm. The side staircase near the laundry chute had been the focus of activity before. Now the attention shifts to the front stairway as the evacuation route.”</p></blockquote><p>Where were the decisions here? The firefighter sees a situation — a vertical fire — and immediately knows what to do. But a few seconds later, he cancels that diagnosis because he recognises a different situation, and orders a different set of actions.</p><p>In rational choice theory, the firefighter is not making any decisions at all because he is not comparing between possibilities. He is simply reading the environment and taking action. Klein and co argue that decisions are still made, however: at multiple points in the story, the firefighter could have chosen from an array of options. The fact that he merely considers one option at each decision point doesn’t mean he <em>didn’t</em> make a decision — it is simply that he considers his options in linear fashion, finds the first that is satisfactory, and then acts on it.</p><p>There are two conclusions from looking at this process. The first is to conclude that when we make decisions, we naturally <em>look at our options one at a time.</em> It just so happens that the first option an expert practitioner generates is …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://commoncog.com/blog/putting-mental-models-to-practice/">https://commoncog.com/blog/putting-mental-models-to-practice/</a></em></p>]]>
            </description>
            <link>https://commoncog.com/blog/putting-mental-models-to-practice/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705441</guid>
            <pubDate>Sat, 09 Jan 2021 22:11:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocks Courtesy of Konrad Zuse (2014)]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705391">thread link</a>) | @Tomte
<br/>
January 9, 2021 | https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse | <a href="https://web.archive.org/web/*/https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Apparently, I've got a theme going of Weird Syntax. Let's run with it.</p>

<p>Konrad Zuse was an early pioneer in computer science, although his name is perhaps somewhat less well-known than others. Zuse holds the honor of having built the first programmable computer—-the Z3—-back in the 40's, as well as several other computing firsts<sup id="fnref:1"><a href="#fn:1" rel="nofollow">1</a></sup>. Of particular interest to this blog post is his early unimplemented programming language, Plankalkül.</p>

<p>Plankalkül was, like the Z3, in many respects ahead of its time. Zuse's explicit goal was to be able to describe programs at a high level, which meant he included control structures and datatype definitions<sup id="fnref:2"><a href="#fn:2" rel="nofollow">2</a></sup> and other high-level constructs that were often missing in languages of the early years of computing. Zuse was working on Plankalkül at a time when his machines were not useable, which meant that his language work was more theoretical than it was technical, and consequently he allowed features that he wasn't entirely sure how to program. Despite his notes on it having been written in the mid-40's, they were not published until the 70's, and it was not implemented until the year 2000.</p>

<p>One thing that struck me, as I read programs in this notation that had been set down on a typewriter<sup id="fnref:3"><a href="#fn:3" rel="nofollow">3</a></sup>, is that certain kinds of grouping were handled by explicit indication of scope: not via matched delimiters as in ALGOL-style languages, or via indentation in languages such as Python and Haskell, but by formatting the code so that a line bordered on the left of the scoped parts of the code:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-01.png" alt=""></p>

<p>This is meant to capture the way grouping works in the hand-written or typeset notation, with brackets spanning multiple lines:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-02.png" alt=""></p>

<p>I think this is notationally interesting: it's like Python's significant whitespace, but not, uh, whitespace. It would be incredibly tedious to type out, but still entirely compatible with current programming notation:</p>

<pre><code>class Tet
 | @staticmethod
 | def new_tet()
 |  | n = randint(0, len(Tet.Tets) - 1)
 |  | for p in Tet.Tets[n]
 |  |  | if p in Board.permanent
 |  |  |  | Game.lose()
 |  | Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 |
 | def __init__(self, points, color)
 |  | self.points = points
 |  | self.color = color
</code></pre>

<p>and would be entirely amenable to beautifying via judicious application of Unicode:</p>

<pre><code>class Tet
 ┃ @staticmethod
 ┃ def new_tet()
 ┃  ┃ n = randint(0, len(Tet.Tets) - 1)
 ┃  ┃ for p in Tet.Tets[n]
 ┃  ┃  ┃ if p in Board.permanent
 ┃  ┃  ┗  ┗ Game.lose()
 ┃  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ┃
 ┃ def __init__(self, points, color)
 ┃  ┃ self.points = points
 ┃  ┗ self.color = color
</code></pre>

<p>Looking at this notation, however, an interesting possibility struck me: a programmer could explicit annotate information about the <em>kind of scope</em> involved in a given line. In this Python-like example, I could, for example, distinguish class scope using double lines, function scope with thick lines, and control structure scope with thin lines:</p>

<pre><code>class Tet
 ║ @staticmethod
 ║ def new_tet()
 ║  ┃ n = randint(0, len(Tet.Tets) - 1)
 ║  ┃ for p in Tet.Tets[n]
 ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
 ║  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ║
 ║ def __init__(self, points, color)
 ║  ┃ self.points = points
 ║  ┗ self.color = color
</code></pre>

<p>One advantage of this scheme is that a handful of lines, viewed in isolation, still give you a clear view of what surrounds them. For example, I can view these two lines in isolation and still tell that they are within a control structure used within a function declared within a class:</p>

<pre><code> ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
</code></pre>

<p>You could also imagine a hypothetical language in which choice of scope delimiter is important. In Python, <code>for</code> and <code>if</code> do not form a new lexical scope. What if instead we could stipulate the kind of scope they form by this notational convention?</p>

<pre><code>def okay()
 ┃ if True
 ┃  └ n = 5   # n is declared in function scope
 ┗ return n   # n leaks out of the if-scope

def not_okay()
 ┃ if True
 ┃  ┗ n = 5   # n is declared in the if's scope
 ┗ return n   # error: no n in scope here
</code></pre>

<p>That being said, there are a number of reasons that this notation is in inferior to existing notations:</p>
<ul><li>It makes refactoring code <em>much</em> more difficult.</li>
<li>It requires that the programmer <em>pay attention</em> to the sequence of enclosing scopes on a <em>line-by-line</em> basis, which is generally too pedantic and not particularly useful for a programmer.</li>
<li>The ability to select “which kind of scope” is by no means only expressible by this notation, as other syntactic features such as keywords and delimiters could express the same thing.</li>
<li>There are only so many line-like characters which can serve as a scope marker, so this scheme is not very extensible.</li>
<li>It complicates parsing (especially by introducing an entirely new class of parse errors in which adjacent lines feature incompatible sequences of delimiting lines), and so it also...</li>
<li>Complicates parse <em>error messages</em>, which are an important part of a language's UI and should be considered seriously.</li></ul>

<p>So, as in my previous post on <a href="https://blog.infinitenegativeutility.com/2014/8/noun-case" rel="nofollow">grammatical case in programming languages</a>, I urge readers <em>not</em> to use this notation as the concrete syntax for a programming language. This is merely an entertaining peek through the looking glass at a curious notational convention which was never adopted.</p>

<p>That said: this makes a very nice notation for <em>viewing</em> code, where the programmer does not have to explicitly draw ASCII art around their code; indeed, it bears more than a passing similarity to the graphical interface used in <a href="http://scratch.mit.edu/" rel="nofollow">Scratch</a>, and Sean McDirmid's <a href="http://research.microsoft.com/en-us/projects/liveprogramming/typography.aspx" rel="nofollow">Experiments in Code Typography</a> features this very convention as an interactive ornament on code in a Python-like language.</p>

</div></div>]]>
            </description>
            <link>https://blog.infinitenegativeutility.com/2014/9/blocks-courtesy-of-konrad-zuse</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705391</guid>
            <pubDate>Sat, 09 Jan 2021 22:08:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First Movie in the World]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25705332">thread link</a>) | @Lindaz
<br/>
January 9, 2021 | http://www.the-classic-movies.com/the-arrival-of-a-train-1896/ | <a href="https://web.archive.org/web/*/http://www.the-classic-movies.com/the-arrival-of-a-train-1896/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h2>The Arrival of a Train</h2>

<p>Release date: January 25, 1896<br>
Directed by: Auguste Lumière, Louis Lumière<br>
Stars: Madeleine Koehler, Marcel Koehler, Mrs. Auguste Lumiere, etc.<br>
Running time: 50 seconds<br>
Country: France<br>
Language: Silent</p>
<p><img loading="lazy" src="http://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896-200x300.jpg" alt="The-Arrival-of-a-Train-(1896)" width="200" height="300" srcset="https://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896-200x300.jpg 200w, https://www.the-classic-movies.com/wp-content/uploads/2021/01/The-Arrival-of-a-Train-1896.jpg 350w" sizes="(max-width: 200px) 100vw, 200px"></p>
<p>There is nothing exciting about an arriving train, but somehow it became an iconic scene in cinematic history. Produced by pioneering French filmmakers Auguste and Louis Lumière, it was the first scene that was ever shown to public. Arrival of a Train at La Ciotat was filmed in France at the end of 1895 and was shown in 1896. The 50-second long film captures the gradual approach of a train, its slow stop and the disembarking of its passengers. The arrival of a train produces little of interest in terms of actual content but it has more of interest in its historical and cultural context.</p>
<p>It is interesting that this scene, that is really simple and casual for us today, made a great affect on people, they said it was all realistic and it was a great power of illusion. Almost everyone heard the story about people who was watching that scene for the first time back then in 1896, they was scared and ran out. In fact, there was no real mass panic. But French scientist Henri de Parville, who attended an early screening, wrote: «One of my neighbors was so much captivated that she sprung to her feet… and waited until the car disappeared before she sat down again.» It shows us that it was a miracle alive for people back then and it is hard to imagine what they were felling during the screening of «The arrival of a train» in January, 1896.</p>
<p>Auguste and Louis Lumière obviously recognized the power of illusion that they had. In order to maximize the affect of the approaching train they mounted their camera as close as possible to the edge of platform, so that the audience feels as if they stand right on the locomotive’s path. People in the scene are just normal citizens that stand on the platform, so it makes us believe that all of that is real. So since we have nothing in common with the first audiences, we may understand that it was something magical for people back then.</p>
<p>Moreover, this scene makes a great affect today, but not as a cinematic miracle, but as a history. On a surface level we watch a train arrives but what we are really witnessing is the arrival of cinema. Nowadays we understand what cinematography is and, in fact, it is not a film in our today comprehension, but it is always interesting to see how it all started and to trace its development.</p>
<p>«The arrival of a train» is not just a short scene or a film, but it is a window between past and present. It is a possibility to see what people looked like, because photos and pictures are good things, but when we look at this scene we feel that we are with that people, that they are alive and we understand what they were wearing in those days, we can see their appearance.</p>
<p>Summing up, we can say that Auguste and Louis Lumière weren’t really artists. Their early films don’t stand up to the highly imaginative movies of George Méliès for example. But they still remain very important cinema giants. Not for the content of their films but for the fact that they kicked things off in the first place and produced the first iconic moment in cinema history. And for this reason «L’arrivée d’un train a La Ciotat» will always be remembered. Everyone who has a love of cinema should really take a minute of their time to pay attention to the first moment in an amazing thing called cinematography.</p>


</div></div>]]>
            </description>
            <link>http://www.the-classic-movies.com/the-arrival-of-a-train-1896/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705332</guid>
            <pubDate>Sat, 09 Jan 2021 22:04:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaling Replicated State Machines with Compartmentalization]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705234">thread link</a>) | @cpufry
<br/>
January 9, 2021 | https://mwhittaker.github.io/publications/compartmentalized_paxos.html | <a href="https://web.archive.org/web/*/https://mwhittaker.github.io/publications/compartmentalized_paxos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
    <center>
      
    </center>

    <p><span>
      <a href="https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf">
        "Scaling Replicated State Machines with Compartmentalization"
      </a>
    </span>
    <span>
      Michael Whittaker,
      Ailidani Ailijiang,
      Aleksey Charapko,
      Murat Demirbas,
      Neil Giridharan,
      Joseph M. Hellerstein,
      Heidi Howard,
      Ion Stoica,
      Adriana Szekeres
    </span></p><h2>Links</h2>
    <ul>
      <li>
        <a href="https://mwhittaker.github.io/publications/compartmentalized_paxos.pdf">A pre-print of the paper</a>
      </li>
      <li>
        <a href="https://arxiv.org/abs/2012.15762">The technical report on arXiv</a>
      </li>
      <li>
        <a href="https://github.com/mwhittaker/frankenpaxos">The source code on GitHub</a>
      </li>
      <li>
        <a href="https://mwhittaker.github.io/frankenpaxos/js/src/main/js/multipaxos/multipaxos.html">A JavaScript visualization of Compartmentalized MultiPaxos</a>
      </li>
      <li>
        <a href="https://mwhittaker.github.io/">More publications on similar topics</a>
      </li>
    </ul>

    <h2>Abstract</h2>
    <p>
    State machine replication protocols, like MultiPaxos and Raft, are a
    critical component of many distributed systems and databases. However,
    these protocols offer relatively low throughput due to several bottlenecked
    components. Numerous existing protocols fix different bottlenecks in
    isolation but fall short of a complete solution. When you fix one
    bottleneck, another arises. In this paper, we introduce
    compartmentalization, the first comprehensive technique to eliminate state
    machine replication bottlenecks. Compartmentalization involves decoupling
    individual bottlenecks into distinct components and scaling these
    components independently. Compartmentalization has two key strengths.
    First, compartmentalization leads to strong performance. In this paper, we
    demonstrate how to compartmentalize MultiPaxos to increase its throughput
    by 6x on a write-only workload and 16x on a mixed read-write workload.
    Unlike other approaches, we achieve this performance without the need for
    specialized hardware. Second, compartmentalization is a technique, not a
    protocol. Industry practitioners can apply compartmentalization to their
    protocols incrementally without having to adopt a completely new protocol.
    </p>
  </div></div>]]>
            </description>
            <link>https://mwhittaker.github.io/publications/compartmentalized_paxos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705234</guid>
            <pubDate>Sat, 09 Jan 2021 21:54:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Research-Based Methods for Learning Japanese]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25705070">thread link</a>) | @sova
<br/>
January 9, 2021 | https://japanesecomplete.com/articles/?p=1282 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1282">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h3><strong>Conclusions</strong> from the Academic Research</h3>



<p>We looked at research papers from the last 30 years to evaluate our set of teaching strategies undertaken in our Japanese language learning application called <a href="https://japanesecomplete.com/">Japanese Complete</a>.  We found that the scholarly and academic studies referred to confirm:</p>



<ol><li><strong>Kanji [logographs of mainland Asian origin] are categorized as the main impediment in acquisition of the Japanese language</strong> and anything to ease their acquisition from rote-memorization will help learners greatly.</li><li><strong>Computer aided learning of Japanese is superior to textbook-based</strong> learning <strong>when</strong> <strong>paired with timely and useful feedback</strong> for the learner, with politeness language, grammar, kanji, and more. [4, 5, 7, 12, 17]</li><li><strong>Kanji are processed by different parts of the brain compared to English letters and Hiragana mora,</strong> suggesting that placing special emphasis on learning Kanji as glyphs or <em>graphics with associated meanings <strong>first</strong></em> establishes a firm foundation upon which to then learn readings and pronunciations. [2, 6]</li><li>Kanji have <em>logographic</em> as well as <em>phonographic</em> value; <strong>cultural, etymological, and mnemonic strategies are not only more effective than rote-memorization strategies for learning, they also remove a lot of anxiety and perceived inscrutability of kanji, making kanji learning fun and intriguing</strong> instead of a chore.  The main techniques presented in these papers include component-analysis of kanji [what we call subkanji learning], and pairing kanji with graphical and mnemonic aides such as stories or imaginal scenes. [6, 7, 10, 11, 14, 15]</li><li>It is very likely that native speakers of languages featuring kanji create <em>some sort</em> of meaning-word associated with each kanji, whether able to give voice to it or not (“unconscious knowledge”), suggesting strongly that <strong>by teaching kanji meaning-words first one is creating a very helpful and direct shortcut to their successful assimilation.</strong> [6, 9, 10]</li><li>One paper suggests the use of an “orthographic gradient” where terms are first shown as color-coded Hiragana, and later instances are shown as color-coded kanji using the same coloration, allowing learners to make an implied association of equality.  <strong>This idea of “orthographic gradient” confirms the efficacy of our innovative approach “Kanji in English Context” where we t取ke kanji and pl置ce them in an 英ngl語sh c文nt脈xt [take, place, English, context] to expedite acquisition</strong> and increase familiarity with the plurality of [English] words kanji can represent. [11, 16]</li><li><strong>Acquisition of Japanese grammar and sequence continues to be the most challenging part of learning the language for 1st, 2nd, and 3rd year students,</strong> suggesting that the focus for the first several semesters of learning ought be grammar-focused.  Nouns are acquired at a linear rate no matter the level of grammar competency, and thus it would suggest that the learning of nouns can actually be greatly delayed without any negative impact on comprehension; rather, focus on grammar first would result in greatly improved comprehension when nouns are later added to one’s cogent grammar understanding. </li><li><strong>Very Accurate Japanese Pitch Accent</strong> can be trained and learned swiftly with the right learning materials (showing pitch contours on screen and having learners listen and repeat). [17]</li><li><strong>One’s native language shapes how one acquires second+ languages.</strong> [3, 13]</li></ol>



<figure><img src="http://jpc0.b-cdn.net/img/lake-onami.jpg" alt=""><figcaption>Lake Onami</figcaption></figure>



<h3><br><strong>Scholarly and Academic Works Cited</strong></h3>



<hr>



<p>[1] <em><strong>Phonological processing of Japanese Kanji and Chinese characters in bilingual Japanese : An fMRI study (2017)</strong></em></p>



<p><a href="https://ieeexplore.ieee.org/document/8015970" target="_blank" rel="noreferrer noopener">https://ieeexplore.ieee.org/document/8015970</a></p>



<p>“The result showed that our bilingual Japanese subjects have large overlaps in the neural substrates for phonological processing of both native and second language.  Our finding supports the idea that the neural systems of second language reading are shaped by native language.” </p>



<hr>



<p>[2] <em><strong>Japanese and English sentence reading comprehension and writing systems: An fMRI study of first and second language effects on brain activation. (2009)</strong></em></p>



<p><a href="https://pubmed.ncbi.nlm.nih.gov/19946611/" target="_blank" rel="noreferrer noopener">https://pubmed.ncbi.nlm.nih.gov/19946611/</a></p>



<p>Parts of the brain that are engaged when native Japanese readers process English, Hiragana, and Kanji:</p>



<figure><img src="https://www.ncbi.nlm.nih.gov/pmc/articles/instance/2782536/bin/nihms120575f4.jpg" alt=""><figcaption>Activation regions for native Japanese speakers decoding written language.</figcaption></figure>



<p>“Functional magnetic resonance imaging (fMRI) was used to compare brain activation from Japanese readers reading hiragana (syllabic) and kanji (logographic) sentences, and English as a second language (L2). Kanji showed more activation than hiragana in right-hemisphere occipito-temporal lobe areas associated with visuospatial processing; hiragana, in turn, showed more activation than kanji in areas of the brain associated with phonological processing. L1 results underscore the difference in visuospatial and phonological processing demands between the systems. Reading in English as compared to either of the Japanese systems showed more activation in inferior frontal gyrus, medial frontal gyrus, and angular gyrus. The additional activation in English in these areas may have been associated with an increased cognitive demand for phonological processing and verbal working memory.”</p>



<hr>



<p>[3] <em><strong>Comparative Spatial Semantics and Language Acquisition:Evidence from Danish, English, and Japanese (1994)</strong></em></p>



<p><a href="https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf" target="_blank" rel="noreferrer noopener">https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf</a></p>



<p>“Perhaps the most important finding is that in all three languages that we have analysed acquisition appears to take place in two phases, during the first of which the child gradually acquires six to eight simple forms corresponding to ‘basic’ spatial meanings encoded in the target language.”</p>



<p>“In the second phase of acquisition, the child’s productive repertoire and the frequency of its use increase in a way that is reminiscent of (though perhaps less dramatic than) the ‘vocabulary explosion’ in nominal usage. The extension of the repertoire takes different courses, depending on the structure of the target language. In all languages it can be expected that the repertoire within the form class which is dominant in expressing spatial relational meaning will continue to expand, and that this will remain the most frequently employed vehicle for the child’s expression of spatial relational meaning throughout and perhaps beyond the third year of life.”</p>



<p>“In languages, such as Japanese, in which spatial relational meaning is overtly distributed over different form classes, the second phase will involve both an increase in the range of types controlled in the dominant form class (in this case,verbs), and the extension of the acquisition process to the other form classes (in this case, particles and nouns). Both the slow pace of acquisition in the non-dominant forms classes, and the fact that the meanings initially expressed using nouns are cognate with those already expressed using verbs, suggest that, in Japanese too, the learning process continues to be governed in the second phase by a conservative strategy. It can perhaps be seen as follows: the child employs the already acquired meanings as clues for the establishment of new centres in new form classes for the repetition with respect to these new form classes of the radial strategy already successfully employed with respect to the dominant form class.”</p>



<hr>



<p>[4] <strong><em>Supporting the acquisition of Japanese polite expressions in context-aware ubiquitous learning</em> <em>(2010)</em></strong></p>



<p><a href="http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf">http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf</a></p>



<p>“To support the foreigners learning JPE [Japanese Politeness Expressions], a PDA-based context-aware language learning support environment was proposed. This environment supports the learners to learn JPE according to the different situations in the real world. There are two version of the prototype system for this environment. In this paper, design, implementation and evaluation of JAPELAS2 are presented. From the experiment, we found the system provides the correct polite-expression based on hyponymy, social distance and situation through the identification of the target user and the location. The experiment showed that the system was quite useful and using this system made understanding the appropriate level of politeness easy by changing roles and situations.”</p>



<figure><img loading="lazy" width="645" height="641" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.13.32-PM.png" alt=""></figure>



<hr>



<p>[5] <em><strong>COMPUTER VS. WORKBOOK INSTRUCTION IN SECOND LANGUAGE ACQUISITION (1996)</strong></em></p>



<p><a href="https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398">https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398</a></p>



<p>“The results of the study show that given the same grammar notes and exercises, <strong>ongoing intelligent computer feedback is more effective than simple workbook answer sheets for developing learners’ grammatical skill in producing Japanese particles and sentences.</strong> A significant difference between Nihongo-CALI and the workbook instruction was observed in the production tests but not in the comprehension tests. This is consistent with Flynn’s hypothesis that grammatical competence is less critical in comprehension than in production. As suggested by Pederson and Dunkel, the present study also confirms that the use of a medium (i.e., computer) alone does not bring better effects; rather the quality of the messages produced by the medium affects the result. This is based on the fact that the intelligent version of Nihongo-CALI is significantly more effective than the workbook instruction”</p>



<div><figure><img loading="lazy" width="411" height="333" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.19.44-PM.png" alt=""></figure></div>



<hr>



<p>[6] <em><strong>L2 learners’ attitudes toward, and use of, mnemonic strategies when learning Japanese Kanji (2013)</strong></em></p>



<p><a href="https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji">https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji</a></p>



<p>“This study investigated kanji learning (the memorization of Japanese written characters) of university students of Japanese, in order to evaluate students’ use of mnemonic strategies. The study applied …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://japanesecomplete.com/articles/?p=1282">https://japanesecomplete.com/articles/?p=1282</a></em></p>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1282</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705070</guid>
            <pubDate>Sat, 09 Jan 2021 21:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: JavaScript Program Synthesis]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25705059">thread link</a>) | @coolvision
<br/>
January 9, 2021 | https://grgv.xyz/inductive_program_synthesis/ | <a href="https://web.archive.org/web/*/https://grgv.xyz/inductive_program_synthesis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Any compiler or transpiler is doing some form of program synthesis. But “proper” program synthesis usually means generation of high level programs from scratch, given only high level problem descriptions.</p>
<p>This post is about one of the most simple and straightforward methods of automatic program synthesis: inductive synthesis based on <strong>input-output examples</strong> specification and <strong>brute-force enumerative</strong> search.</p>
<h3>Synthesis task specification</h3>
<p>Let's start with a simple example. Suppose that we want to automatically generate a program that reverses an array.</p>
<p>How to formulate this task for the automatic program generator? One option is to just describe it in natural language. But it would be quite hard to automatically parse and understand. A simpler way is to provide examples of inputs and expected outputs:</p>
<p>[1, 2, 3, 4, 5, 6] → [6, 5, 4, 3, 2, 1]</p>
<p>[5, 2, 7, 6] → [6, 7, 2, 5]</p>
<p>It's similar to a programmer working on a task using test-driven development, with a set of self-explanatory tescases.</p>
<h3>Brute-force search</h3>
<p>How to find a program that satisfies some input-output examples? There are several possible search strategies, but the simplest one is just with a brute force enumeration.</p>
<p>The idea is to generate all programs (within some size liimts and a limited language subset), and pick the first one that works correctly for all specified examples.</p>
<p>This is probably the least efficient approach of all, but with some additional optimizations and heuristics for reducing the search space it can actually be practical.</p>
<p>For example, an algorithm that won last year's synthesis competition <a href="https://sygus.org/comp/2019/">SyGuS-Comp 2019</a> in programming-by-examples track, is based on brute-force enumerative search strategy. As well as some previous years winners (<a href="#examples" id="ref1">EUSOLVER, Enumerative CEGIS Solver</a>). There are even some practical applications, for example brute-force search can be used for <a href="http://dl.acm.org/citation.cfm?id=2462174">synthesising distributed systems protocols</a>.</p>
<h3>Generating Javascript</h3>
<p>For generating and manipulating programs, code has to be represented as a data structure. This is not a problem in homoiconic languages like Lisp, but in Javascript it’s harder.</p>
<p>One simple idea (used, for example in miniMAL project <a href="https://github.com/kanaka/miniMAL">https://github.com/kanaka/miniMAL</a>), is to use JSON for representing programs. In this case, JSON arrays are serving as an analog of Lisp s-expressions.</p>
<p>Similar to an s-expression, each JavaScript expression is represented as a JSON array. First element is a function name, and the rest of elements are for function arguments.</p>
<p>For example:</p>
<table>
  <thead>
  <tr>
   <td><strong>Javascript</strong></td>
   <td><strong>JSON</strong></td>
  </tr>
  </thead>
  <tbody><tr>
   <td>Math.pow(x, 2)</td>
   <td>["Math.pow", "x", 2]</td>
  </tr>
  <tr>
   <td>Math.pow(Math.sin(x), 2)</td>
   <td>[“Math.pow”, [“Math.sin”,  “x”], 2]</td>
  </tr>
</tbody></table>
<p>For operators, can use prefix notation:</p>
<table>
  <tbody><tr>
   <td>x = 2 + 2</td>
   <td>["=", x, ["+", 2, 2]]</td>
  </tr>
</tbody></table>
<p>There are some special expressions formats: control flow, variables declaration.</p>
<table>
  <tbody><tr>
   <td><strong>Javascript</strong>
   </td>
   <td><strong>JSON</strong>
   </td>
  </tr>
  <tr>
   <td>let x = 1
   </td>
   <td> ["let", "x", 1]
   </td>
  </tr>
  <tr>
   <td>for (let i = 0; i &lt; 10; i += 1) { console.log(i) }
   </td>
   <td>["for”, ”i”, ”0”, ”10”, ”1”,["block", [“console.log”, “i”]]]
   </td>
  </tr>
  <tr>
   <td>if (i &gt; 1) { i = 1; }
   </td>
   <td>["if", [“&gt;“, “i”, 1], ["block", [“=“, “i”, 1]]]
   </td>
  </tr>
</tbody></table>
<p>Also need syntax conventions for calling methods, accessing properties, and indexing arrays:</p>
<table>
  <tbody><tr>
   <td>let a = new Array(0, 1, 2)
   </td>
   <td>["let", "a", ["new Array", 0, 1, 2]]
   </td>
  </tr>
  <tr>
   <td>a.shift()
   </td>
   <td>[".shift", "a"]
   </td>
  </tr>
  <tr>
   <td>let n1 = a.length
   </td>
   <td>["let",  "n1", [".length_", "a"]]
   </td>
  </tr>
  <tr>
   <td>let n2 = a[1]
   </td>
   <td>["let",  "n2", ["get_index", a, 1]
   </td>
  </tr>
  <tr>
   <td>a[1] = 2
   </td>
   <td>["set_index", a, 0, 0]
   </td>
  </tr>
</tbody></table>
<p>This allows to represent a wide range of possible JavaScript expressions, and covers all language features needed for a simple demo.</p>
<p>Code for transforming from JSON representation to Javascript is fairly simple. It just has to traverse arrays, print out expressions elements in correct order, and deal with code formatting.</p>
<h3>Simple DSL</h3>
<p>For brute-force search to be feasible, search space has to be limited to some restricted domain-specific language subset, which depends on the kind of the target problem.</p>
<p>For example, can design a simple DSL targeted for simple array processing. It should have functions for array access and manipulation, simple arithmetics, and control flow functions.</p>
<table>
  <tbody><tr>
   <td><strong>function</strong>
   </td>
   <td><strong>Javascript</strong>
   </td>
   <td><strong>JSON</strong>
   </td>
  </tr>
  <tr>
   <td>subtract
   </td>
   <td>number = number?? - number??
   </td>
   <td>["-", "number??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>add
   </td>
   <td>number = number?? + number??
   </td>
   <td>["+", "number??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>greater than
   </td>
   <td>boolean = number?? &gt; number??
   </td>
   <td>["&gt;", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>less than
   </td>
   <td>boolean = number?? &lt; number??
   </td>
   <td>["&lt;", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>equal
   </td>
   <td>boolean = number?? == number??
   </td>
   <td>["==", "number??", "number??", "boolean"]
   </td>
  </tr>
  <tr>
   <td>array length
   </td>
   <td>number = array??.length
   </td>
   <td>[".length_", "array??", "number"]
   </td>
  </tr>
  <tr>
   <td>get array element at index
   </td>
   <td>number = array??[number??]
   </td>
   <td>["get_index", "array??", "number??", "number"]
   </td>
  </tr>
  <tr>
   <td>set array element at index
   </td>
   <td>array??[number??] = number
   </td>
   <td>["set_index", "output", "number??", "number??", ""]
   </td>
  </tr>
  <tr>
   <td>for loop
   </td>
   <td>for (let i in array??) { ?? }
   </td>
   <td>["for", "i", ["block", "??"], "in", "array??", ""]
   </td>
  </tr>
  <tr>
   <td>If condition
   </td>
   <td>if (boolean??) { ?? }
   </td>
   <td>["if", "boolean??", ["block", "??"], ""],
   </td>
  </tr>
</tbody></table>
<p>In the DSL description, "??" stands for an undefined value, that can be replaced with an expression or a variable. This notation is taken from <a href="#sketch" id="ref2">SKETCH language</a>, where "??" represents a <em>hole,</em> a placeholder that the synthesizer can replace with an integer constant.</p>
<p>Some undefined values have annotated types. For example "number??" means that the argument should be replaced with an expression that has "number" return value. This allows for additional limitations on the search space.</p>
<h3>Algorithm for program generation</h3>
<p>How to generate all programs that can be represented with the DSL? The algorithm is fairly simple: start with some undefined values, and iteratively replace them with all possible options picked from the list of DSL expressions. Selected and pasted expressions would contain some undefined values of their own, so the process is repeated until all the options are used, or until expressions tree depth reaches some limit.</p>
<p>It’s like iterative template rewriting, and it’s easier to demonstrate with an example:</p>
<table>
<tbody><tr>
	<td>1. Start with an empty/undefined program </td>
	<td>["??", "??", "??", "??"] </td>
</tr>
<tr>
	<td>2. Traverse the expressions tree, and pick the first occurring undefined value </td>
	<td>[<span>"??"</span>, "??", "??", "??"] </td>
</tr>
<tr>
	<td>3. List all options for replacing this value (expressions that have an empty return type) </td>
	<td><span>["set_index", "output", "number??", "number??", ""]</span><br>
		["if", "boolean??", ["block", "??"], ""]<br>
		["if", "boolean??", ["block", "??"], ""]
	</td>
</tr>
<tr>
	<td>4. Repace undefined value with the first option </td>
	<td>[<span>["set_index", "output", "number??", "number??", ""]</span>, "??", "??" ,"??"] </td>
</tr>
</tbody></table>
<p>Steps 2-4 are repeated iteratively. Expressions tree is traversed depth-first, and each found leaf corresponds to a unique program. Press “next” button in the demo below, to see next iterations.</p>


<div id="demo2">

	<p>
		Demo: iterative program generation
	</p>

	<p>step</p>
	<p>reset</p>

	
</div>

<p>Generated programs are verified with the given input-output examples:</p>
<ol>
<li>Translate from JSON represenation to Javascript</li>
<li>Fill pre-defined input array variable with an example</li>
<li>Evaluate the program with eval()</li>
<li>Check if contents of the pre-defined output variable correspond to the output example.</li>
</ol>
<p>The demo below shows program generation for "array reversal" problem. Press “generate” button to see continuous generation, or use “next” to see generation steps. It generates and checks around a million of short programs per minute, and is able so solve the problem in ~10-20s. I tweaked the DSL to have a bare minimum of available expressions, for search to be faster. Size of the program is also limited by number of used varialbes (limited to 4). It would still work with larger more generic DSL, just would take more time.</p>

<div id="demo5">

	<p>
		Demo: generate a program for reversing an array.
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>

<p>Some more examples are show below. They also have custom DSLs tuned for each problem, so that it does not take too much time (~10-20s).</p>


<h3> Example: generate a program that finds sum of array elements</h3>

<div id="demo3">

	<p>
		Demo: generate a program that finds sum of array elements
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>



<h3> Example: generate a program that finds max element in an array</h3>

<div id="demo4">

	<p>
		Demo: generate a program that finds max element in an array
	</p>

	<p>step</p>
	<p>generate</p>
	<p>stop</p>
	<p>reset</p>

	<div>

		<div>

			<p>Input/output examples</p>
			

			<p>Generated program</p>
			

			<p>Evaluation result</p>
			
		</div>

		

	</div>
</div>

<h2>Refenences &amp; links</h2>
<p>(book) <a href="https://rishabhmit.bitbucket.io/papers/program_synthesis_now.pdf">Program Synthesis</a><br>
Sumit Gulwani, Oleksandr Polozov, Rishabh Singh</p>
<p>(course materials) Introduction to Program Synthesis<br>
<a href="http://people.csail.mit.edu/asolar/SynthesisCourse/Lecture2.htm">http://people.csail.mit.edu/asolar/SynthesisCourse/Lecture2.htm</a></p>
<h3>Papers</h3>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.367.9604&amp;rep=rep1&amp;type=pdf">Dimensions in Program Synthesis</a><br>
Sumit Gulwani</p>
<p><a href="http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=7EC748B93DCDCE0DABC810450BD07AE1?doi=10.1.1.180.1237&amp;rep=rep1&amp;type=pdf">Inductive Programming (A Survey of Program Synthesis Techniques)</a><br>
Emanuel Kitzelmann</p>
<p><span id="examples"><a href="#ref1">↑</a></span><br>
Scaling Enumerative Program Synthesis via Divide and Conquer<br>
Rajeev Alur, Arjun Radhakrishna, and Abhishek Udupa</p>
<p>CVC4SY for SyGuS-COMP 2019<br>
Andrew Reynolds, Haniel Barbosa, Andres Nötzli, Clark Barrett, Cesare Tinelli</p>
<p><span id="sketch"><a href="#ref2">↑</a></span><br>
The Sketching Approach to Program Synthesis<br>
Armando Solar-Lezama</p>
<h3>Blog posts</h3>
<p><a href="https://thegradient.pub/p/577a122d-df49-4e1f-8dc3-324f5c784236/">Software that writes software: on program synthesis</a><br>
Adithya Ganesh</p>
<p><a href="https://barghouthi.github.io/2017/04/24/synthesis-primer/">A Program Synthesis Primer </a><br>
Aws Albarghouthi</p>
<p><a href="https://alexpolozov.com/blog/program-synthesis-2018/">Program Synthesis in 2017-18</a><br>
Alex Polozov</p>
<p><a href="https://www.cs.cornell.edu/~asampson/blog/minisynth.html">Program Synthesis is Possible</a><br>
Adrian Sampson</p>
<p><a href="https://blog.sigplan.org/2020/03/25/homoiconicity-lisp-and-program-synthesis/">Homoiconicity, Lisp, and Program Synthesis</a><br>
Rajesh Jayaprakash</p>
<p><a href="https://blog.sigplan.org/2019/07/31/program-synthesis-in-2019/">Program Synthesis in 2019</a><br>
<a href="https://www.cs.utexas.edu/~bornholt/post/synthesis-explained.html">Program Synthesis Explained</a><br>
<a href="https://www.cs.utexas.edu/~bornholt/post/building-synthesizer.html">Building a Program Synthesizer</a><br>
<a href="https://blog.sigplan.org/2019/11/26/building-your-first-program-synthesizer/">Building Your First Program Synthesizer</a><br>
James Bornholt</p>


			</div></div>]]>
            </description>
            <link>https://grgv.xyz/inductive_program_synthesis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25705059</guid>
            <pubDate>Sat, 09 Jan 2021 21:38:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Lambda vs. Azure Functions: 10 Major Differences]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704936">thread link</a>) | @tacon
<br/>
January 9, 2021 | https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/ | <a href="https://web.archive.org/web/*/https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="15b005c9" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
					<div data-elementor-type="wp-post" data-elementor-id="4344" data-elementor-settings="[]">
						<div>
							<div>
							<section data-id="54feab4" data-element_type="section">
						<div>
							<div>
					<div data-id="e39972b" data-element_type="column">
			<div>
							<div>
						<div data-id="fddd529" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Forget about managing virtual machines or paying for idle hardware! Serverless compute brings unlimited scale and high availability to every company in the world, from small startups to multinational corporations. At least, that’s the vision of Amazon and Microsoft, today’s biggest cloud vendors.</span></p><p><span>AWS Lambda pioneered the Function as a Service (FaaS) application model in 2014. With Faas, a small piece of code—called a function—is deployed as a ZIP file and linked to a specific type of event, such as a queue or an HTTP endpoint. AWS runs this function every time a matching event occurs, be it once per day or a thousand times per second.</span></p><p><span>Since 2014, the serverless model has taken off, and every major cloud provider has introduced its flavor of an FaaS service: Azure Functions, Google Cloud Functions, and IBM Cloud Functions, to name a few. While the basic idea behind all the offerings is the same, there are many differences between these implementations.</span></p><p><span>Today, I’ll compare AWS Lambda with Azure Functions (Lambda’s equivalent in Azure cloud), focusing on their unique features and limitations. Here are the ten major differences between the two options.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="7d8498c" data-element_type="section">
						<div>
							<div>
					<div data-id="e80d08f" data-element_type="column">
			<div>
							<div>
						<div data-id="d24e788" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>To put it simply, there is one way to run a serverless function in AWS: <a href="https://iamondemand.com/blog/how-i-simplified-my-lambda-deployments/" target="_blank" rel="noopener noreferrer">deploy it</a> to the AWS Lambda service. Amazon’s strategy here is to make sure that this service covers as many customer scenarios as possible, ranging from hobby websites to enterprise-grade data processing systems.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="b6360b3" data-element_type="section">
						<div>
							<div>
					<div data-id="b7d9665" data-element_type="column">
			<div>
							<div>
						<div data-id="fd4d1bf" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span><strong>Microsoft takes a different approach.</strong> They separated the notion of the Azure Functions programming model from the serverless operational model. </span></p><p><span>With Azure Functions, I can deploy my functions to a pay-per-use, fully-managed Consumption plan. However, I can also use </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale" target="_blank" rel="noopener noreferrer"><span>other hosting options</span></a><span> to run the same code:</span></p><ul><li><ul><li><ul><li><span><strong>App Service plan</strong>: provides a predictable pay-per-hour price, but has limited auto-scaling behavior</span></li><li><span><strong>Premium plan (preview)</strong>: gives reserved capacity </span><i><span>and</span></i><span> elastic scaling, combined with advanced networking options, for a higher price</span></li><li><span><strong>A Docker container</strong>: can run anywhere on self-managed infrastructure</span></li><li><span><strong>Kubernetes-based event-driven architecture (KEDA, experimental)</strong>: brings functions to Kubernetes, running in any cloud or on-premises</span></li></ul></li></ul></li></ul><p><span>The Consumption plan has the lowest management overhead and no fixed-cost component, which makes it the most serverless hosting option on the list. For that reason, I’m going to focus on AWS Lambda vs. Azure Functions Consumption plan for the rest of this article.</span></p><p><span>When deploying an </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/resource-model.html" target="_blank" rel="noopener noreferrer"><span>AWS Lambda function</span></a><span>, I need to define the maximum memory allocation, which has to be between 128MB and 3GB. The CPU power and cost of running the function are proportional to the allocated memory. It takes a bit of experimentation to define the optimal size, depending on the workload profile. Regardless of size, all instances run on Amazon Linux.</span></p><p><span>On the other hand, Azure Functions Consumption plan is one-size-fits-all. It comes with 1.5GB of memory and one low-profile virtual core. You can choose between Windows and Linux as a host operating system.</span></p><p><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-premium-plan#plan-and-sku-settings" target="_blank" rel="noopener noreferrer"><span>Azure Functions Premium plan</span></a><span> comes with multiple instance sizes, up to 14GB of memory, and four vCPUs. However, you have to pay a fixed per-hour fee for the reserved capacity.</span></p><p><span>AWS Lambda natively supports JavaScript, Java, Python, Go, C#, F#, PowerShell, and Ruby code.</span></p><p><span>Azure Functions has runtimes for JavaScript, Java, Python, C#, F#, and PowerShell (preview). Azure lacks Go and Ruby—otherwise, the language options are very similar.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="5e255a2" data-element_type="section">
						<div>
							<div>
					<div data-id="17c9936" data-element_type="column">
			<div>
							<div>
						<div data-id="24ac72d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p><span><em>IOD is a content creation agency. Our tech experts create tech content that leads people to your tech blog. <a href="https://iamondemand.com/success-stories/" target="_blank" rel="noopener"><span>Learn</span> <span>more</span></a>.</em></span></p>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="9f5ad03" data-element_type="section">
						<div>
							<div>
					<div data-id="aef234e" data-element_type="column">
			<div>
							<div>
						<div data-id="686f22b" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Specifics vary between runtimes, but, overall, AWS Lambda has a </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html" target="_blank" rel="noopener noreferrer"><span>straightforward programming model</span></a><span>. A function receives a JSON object as input and may return another JSON as output. The event type defines the schema of those objects, which are documented and defined in language SDKs.</span></p><p><span>Azure Functions has a more sophisticated model based on </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-triggers-bindings" target="_blank" rel="noopener noreferrer"><span>triggers and bindings</span></a><span>. A trigger is an event that the function listens to. The function may have any number of input and output bindings to pull and/or push extra data at the time of processing. For example, an HTTP-triggered function can also read a document from Azure Cosmos DB and send a queue message, all done declaratively via binding configuration.</span></p><p><span>The implementation details differ per language runtime. The binding system provides extra flexibility, but it also brings some complexity, in terms of both API and configuration.</span></p><p><span>One drawback of all FaaS services on the market is the limited set of supported event types. For example, if you want to trigger your functions from a Kafka topic, you are out of luck on both AWS and Azure.</span></p><p><span>Other aspects of serverless functions are more customizable. AWS Lambda defines a </span><a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html" target="_blank" rel="noopener noreferrer"><span>concept of layers</span></a><span>: a distribution mechanism for libraries, custom runtimes to support other languages, and other dependencies. </span></p><p><span>Azure Functions enables open </span><a href="https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview" target="_blank" rel="noopener noreferrer"><span>binding extensions</span></a><span> so that the community can create new types of bindings and bring them into Function Apps.</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="da33380" data-element_type="section">
						
		</section>
				<section data-id="509f65d" data-element_type="section">
						
		</section>
				<section data-id="cc4cd47" data-element_type="section">
						
		</section>
				<section data-id="49d6d240" data-element_type="section">
						<div>
							<div>
					<div data-id="6c138dd2" data-element_type="column">
			<div>
							<div>
						<div data-id="1ae1cb03" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p><span>Both services can run multiple (potentially thousands) executions of the same function simultaneously, each handling one incoming event.</span></p><p><span>AWS Lambda always reserves a separate instance for a single execution. Each execution has its exclusive pool of memory and CPU cycles. Therefore, the performance is entirely predictable and stable.</span></p><p><span>Azure Functions allocates multiple concurrent executions to the same virtual node. If one execution is idle waiting for a response from the network, other executions may use resources which would otherwise be wasted. However, resource-hungry executions may fight for the pool of shared resources, harming the overall performance and processing time.</span></p><p><span>Serverless pricing is based on a pay-per-usage model. Both services have two cost components: pay-per-call and pay-per-GB*seconds. The latter is a metric combining execution time and consumed memory.</span></p><p><span>Moreover, the price tag for both services is almost exactly the same: $0.20 per million requests and $16 per million GB*seconds ($16.67 for AWS). One million executions running for 100 ms each and consuming 1GB of memory cost less than $2. Since AWS Lambda was the first on the market, I assume Microsoft just copied the numbers.</span></p><p><span>There are some differences in the details, though:</span></p><ul><li><span>AWS Lambda charges for full provisioned memory capacity, while Azure Functions measures the actual average memory consumption of executions.</span></li><li><span>If Azure Function’s executions share the instance, the memory cost isn’t charged multiple times, but shared between executions, which may lead to noticeable reductions.</span></li><li><span>Both services charge for at least 100 ms and 128MB for each execution. AWS rounds the time up to the nearest 100 ms, while Azure rounds up to 1 ms.</span></li><li><span>CPU profiles are different for Lambda and Functions, which may lead to different durations for comparable workloads.</span></li></ul><p><span>I wrote more on how to measure the cost of Azure Functions&nbsp;</span><a href="https://mikhail.io/2019/08/how-to-measure-the-cost-of-azure-functions/" target="_blank" rel="noopener noreferrer"><span>here</span></a><span>.</span></p><p><span>AWS Lambda used to require Amazon API Gateway to listen to HTTP traffic, which came at a massive additional cost. Recently, Amazon introduced&nbsp;</span><a href="https://aws.amazon.com/about-aws/whats-new/2018/11/alb-can-now-invoke-lambda-functions-to-serve-https-requests/" target="_blank" rel="noopener noreferrer"><span>integration with Elastic Load Balancing</span></a><span>, which may be more cost efficient for high-load scenarios. However, the pricing is per hour, so good judgment is required.</span></p><p><span>Azure Functions comes with HTTP endpoint integration out of the box, and there is no additional cost for this integration.</span></p><p><span>AWS Lambda has been on the market longer than Azure Functions, and has a laser focus on the single-hosting model. Although there are no established industry-wide benchmarks, many claim that AWS Lambda is better for rapid scale-out and handling massive workloads, both for web APIs and queue-based applications. The bootstrapping delay effect—cold starts—are also less significant with Lambda.</span></p><p><span>Azure Functions has improved significantly in the last year or two, but Microsoft is still playing catch-up.</span></p><p><span>Serverless functions are nanoservices: small blocks of code doing just one thing. The question of how to build large applications and systems out of those tiny pieces is still open, but some composition patterns already exist.</span></p><p><span>Both AWS and Azure have dedicated services for workflow orchestration: AWS Step Functions and Azure Logic Apps. Quite often, functions are used as steps in those workflows, allowing them to stay independent but still solve significant tasks.</span></p><p><span>In addition, </span><a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview" target="_blank" rel="noopener noreferrer"><span>Azure Durable Functions</span></a><span> is a library that brings workflow orchestration abstractions to code. It comes with several patterns to combine multiple serverless functions into stateful long-running flows. The library handles communication and state management robustly and transparently, while keeping the API surface simple.&nbsp;</span></p><p><span>AWS Lambda and Azure Functions are similar services, but the devil is in the details—and virtually every angle shows some essential distinctions between the two. My list of ten differences is certainly not exhaustive, and each aspect would need a separate article to cover it in full.</span></p><p><span>It’s unlikely that your choice will be driven purely by these differences. At the same time, whenever you have to choose one option over the other, or when <a href="https://iamondemand.com/blog/azure-user-heres-what-you-must-know-about-aws/" target="_blank" rel="noopener noreferrer">you switch between providers</a>, it’s crucial to adjust your thinking and practices to match the peculiarities.</span></p><p><span>In short, choose the option that fits you best!</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section data-id="1d70780" data-element_type="section">
						<div>
							<div>
					<div data-id="d4c56cf" data-element_type="column">
			<div>
							<div>
						<div data-id="7626217" data-element_type="widget" data-widget_type="call-to-action.default">
				<div>
					<div>
					
							<div>
				
									<h2>
						Are you a tech …</h2></div></div></div></div></div></div></div></div></div></section></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/">https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/</a></em></p>]]>
            </description>
            <link>https://iamondemand.com/blog/aws-lambda-vs-azure-functions-ten-major-differences/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704936</guid>
            <pubDate>Sat, 09 Jan 2021 21:25:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generic associated types encode higher-order functions on types]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704895">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://willcrichton.net/notes/gats-are-hofs/ | <a href="https://web.archive.org/web/*/https://willcrichton.net/notes/gats-are-hofs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p>
    
    Will Crichton
    
    &nbsp; — &nbsp;
    January 4, 2021
  </p>
  <p>GATs allow type parameters to associated types in traits. This feature enables total type-level functions to be associated to structs. I show how to use this pattern to implement higher-order type-level functions, and how to use specialization to make partial functions into total functions.</p>
  <p><em>Part of an ongoing series about type-level programming in Rust. Read <a href="http://willcrichton.net/notes/type-level-programming/">part one</a> first!<br></em></p>

<p>With <a href="https://github.com/rust-lang/rfcs/blob/master/text/1598-generic_associated_types.md">generic associated types</a> landing recently in Rust nightly, I’ve been wondering: what expressive power does this feature add to type-level programming? The answer is <strong>higher-order functions on types</strong>, and in this post I’ll explain what that means and how it works.</p>

<h2 id="a-refresher-on-type-level-programming">A refresher on type-level programming</h2>

<p>Using a pure functional programming style, we can define objects like a list of types. For example, using <a href="https://github.com/willcrichton/tyrade">tyrade</a>, my type-level programming language:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>enum</span> <span>TList</span> <span>{</span>
    <span>TNil</span><span>,</span>
    <span>TCons</span><span>(</span><span>Type</span><span>,</span> <span>TList</span><span>)</span>
  <span>}</span>

  <span>enum</span> <span>TOption</span> <span>{</span>
    <span>TNone</span><span>,</span>
    <span>TSome</span><span>(</span><span>Type</span><span>)</span>
  <span>}</span>

  <span>// Get the Nth item from the list, where Index is either Z or S&lt;N&gt;</span>
  <span>fn</span> <span>Nth</span><span>&lt;</span><span>List</span><span>,</span> <span>Index</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>List</span> <span>{</span>
      <span>TNil</span> <span>=&gt;</span> <span>TNone</span><span>,</span>
      <span>TCons</span><span>(</span><span>X</span><span>,</span> <span>XS</span><span>)</span> <span>=&gt;</span> <span>match</span> <span>Index</span> <span>{</span>
        <span>Z</span> <span>=&gt;</span> <span>TSome</span><span>(</span><span>X</span><span>),</span>
        <span>S</span><span>(</span><span>IMinusOne</span><span>)</span> <span>=&gt;</span> <span>Nth</span><span>(</span><span>XS</span><span>,</span> <span>IMinusOne</span><span>)</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>// checks that Nth([i32, f32], 1) == Some(f32)</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Nth</span><span>&lt;</span><span>TCons</span><span>&lt;</span><span>i32</span><span>,</span> <span>TCons</span><span>&lt;</span><span>f32</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span> <span>S</span><span>&lt;</span><span>Z</span><span>&gt;&gt;</span><span>,</span>
    <span>TSome</span><span>&lt;</span><span>f32</span><span>&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>The <code>tyrade!</code> procedural macro compiles the pseudo-Rust notation into a series of structs, traits, and impls. For example:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>TNil</span><span>;</span>
<span>pub</span> <span>struct</span> <span>TCons</span><span>&lt;</span><span>T0</span><span>,</span> <span>T1</span><span>&gt;</span><span>(</span><span>...</span><span>);</span>

<span>pub</span> <span>trait</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>{</span>
    <span>type</span> <span>Output</span><span>;</span>
<span>}</span>
<span>pub</span> <span>type</span> <span>Nth</span><span>&lt;</span><span>List</span><span>,</span> <span>Index</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>List</span> <span>as</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>Index</span><span>&gt;</span> <span>for</span> <span>TNil</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>TNone</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>Z</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>X</span><span>:</span> <span>ComputeTSome</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>TSome</span><span>&lt;</span><span>X</span><span>&gt;</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>IMinusOne</span><span>,</span> <span>X</span><span>,</span> <span>XS</span><span>&gt;</span> <span>ComputeNth</span><span>&lt;</span><span>S</span><span>&lt;</span><span>IMinusOne</span><span>&gt;&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>XS</span><span>:</span> <span>ComputeNth</span><span>&lt;</span><span>IMinusOne</span><span>&gt;</span> <span>{</span>
    <span>type</span> <span>Output</span> <span>=</span> <span>Nth</span><span>&lt;</span><span>XS</span><span>,</span> <span>IMinusOne</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<blockquote>
  <p>See my explainer on <a href="https://willcrichton.net/notes/type-level-programming/">type-level programming</a> if you are confused about the correspondence between these programs.</p>
</blockquote>

<h2 id="higher-order-functions-on-types">Higher-order functions on types</h2>

<p>For me, Tyrade is a explicit representation of my mental model for type-level programming. Once I conceptually understood the correspondences between type-level enums and structs, or between type-level functions and traits, then I reified that understanding into the Tyrade compiler.</p>

<p>However, trait/function correspondence only worked when the arguments to type-level functions were types. To explain, we’ll use the running example of a list map function. The goal is to write it in Tyrade like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>Map</span><span>&lt;</span><span>List</span><span>,</span> <span>Func</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>List</span> <span>{</span>
      <span>TNil</span> <span>=&gt;</span> <span>TNil</span><span>,</span>
      <span>TCons</span><span>(</span><span>X</span><span>,</span> <span>XS</span><span>)</span> <span>=&gt;</span> <span>TCons</span><span>(</span><span>Func</span><span>(</span><span>X</span><span>),</span> <span>Map</span><span>(</span><span>XS</span><span>,</span> <span>Func</span><span>))</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Then we could use the <code>Map</code> type function like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>&lt;</span><span>N</span><span>&gt;</span><span>()</span> <span>{</span>
    <span>match</span> <span>N</span> <span>{</span>
      <span>Z</span> <span>=&gt;</span> <span>TTrue</span><span>,</span>
      <span>S</span><span>(</span><span>N1</span><span>)</span> <span>=&gt;</span> <span>TFalse</span>
    <span>}</span>
  <span>}</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Map</span><span>&lt;</span>
      <span>TCons</span><span>&lt;</span><span>Z</span><span>,</span> <span>TCons</span><span>&lt;</span><span>S</span><span>&lt;</span><span>Z</span><span>&gt;</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span>
      <span>TIsZero</span>
    <span>&gt;</span><span>,</span>
    <span>TCons</span><span>&lt;</span><span>TTrue</span><span>,</span> <span>TCons</span><span>&lt;</span><span>TFalse</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<p>However, the existing translation of <code>Map</code> doesn’t work. It would become:</p>

<div><div><pre><code><span>pub</span> <span>trait</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span><span>;</span>
<span>}</span>
<span>pub</span> <span>type</span> <span>Map</span><span>&lt;</span><span>List</span><span>,</span> <span>Func</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>List</span> <span>as</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>for</span> <span>TNil</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TNil</span><span>;</span>
<span>}</span>
<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Func</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span> <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Func</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>Func</span><span>&lt;</span><span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Func</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>And this code fails to compile because <code>Func</code> can’t be invoked with a parameter:</p>

<div><div><pre><code>error[E0109]: type arguments are not allowed for this type
    |
    |     type Output = TCons&lt;Func&lt;X&gt;, Map&lt;XS, Func&gt;&gt;;
    |                              ^ type argument not allowed
</code></pre></div></div>

<p>Herein lies the crux of the issue: type variables (i.e. impl quantifiers) are only allowed to be of kind <code>type</code>, and not of kind <code>type -&gt; type</code>. To get higher-order type functions, we need Rust to support higher-kinded types (HKT). While Rust doesn’t support HKT directly, the addition of generic associated types (GATs) enables a pseudo-HKT pattern. See <a href="http://smallcultfollowing.com/babysteps/blog/2016/11/03/associated-type-constructors-part-2-family-traits/">Niko’s extended discussion</a> for the gory details.</p>

<h2 id="implementing-hofs-with-hkts-with-gats">Implementing HOFs with HKTs with GATs</h2>

<p><code>TIsZero</code> cannot be passed directly into <code>ComputeMap</code>, so the key idea is to create a proxy object <code>TIsZeroProxy</code> which can be passed in. Using GATs, we associate the <code>TIsZeroProxy</code> back to <code>TIsZero</code> in a way that can be referenced within <code>ComputeMap</code>. First, the proxy:</p>

<div><div><pre><code><span>pub</span> <span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>pub</span> <span>struct</span> <span>TIsZeroProxy</span><span>;</span>
<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Then the implementation of <code>ComputeMap</code> can be parameterized by any type implementing <code>FuncProxy</code>:</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Proxy</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span>
  <span>Proxy</span><span>:</span> <span>FuncProxy</span><span>,</span>
  <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span>
<span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>Proxy</span><span>::</span><span>Func</span><span>&lt;</span><span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Proxy</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, this attempt still doesn’t quite work. We get an error in the implementation of <code>FuncProxy</code> for <code>TIsZeroProxy</code>:</p>

<div><div><pre><code>error[E0277]: the trait bound `T: ComputeTIsZero` is not satisfied
    |
    |   type Func&lt;T&gt; = TIsZero&lt;T&gt;;
    |   ^^^^^^^^^^^^^^^^^^^^^^^^ the trait `ComputeTIsZero` is not implemented for `T`
    |
</code></pre></div></div>

<p>Why do we get this? Recall that <code>TIsZero&lt;T&gt;</code> is an alias for <code>&lt;T as ComputeTIsZero&gt;::Output</code>. This means that <code>T</code> must implement the <code>ComputeTIsZero</code> trait, which isn’t guaranteed by our general <code>FuncProxy</code> trait definition. We could theoretically change <code>FuncProxy</code> to include this bound, something like:</p>

<div><div><pre><code><span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>:</span> <span>ComputeTIsZero</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, our goal is for <code>Map</code> to take as input any type-level function. This definition of <code>FuncProxy</code> would restrict the implement to only functions mentioned in the trait bounds.</p>

<h2 id="dealing-with-partial-functions">Dealing with partial functions</h2>

<p>Let’s back up to understand the conceptual issue. In Rust, type-level functions are partial functions, meaning they may not be implemented for all types. For example, <code>TIsZero</code> is only implemented for the types <code>Z</code> and <code>S&lt;N&gt;</code>, but not e.g. for the type <code>String</code>. However, to define <code>Map</code>, we have to ensure that <code>Proxy::Func&lt;X&gt;</code> is defined for all <code>X</code> in a type list.</p>

<p>Previously, we could ensure this condition via a trait bound. For example, if <code>Proxy::Func</code> was <code>ComputeTIsZero</code>, then we could add <code>X: ComputeTIsZero</code> to the implementation. But for any generic <code>Proxy::Func</code>, there is no way to say <code>X: Proxy::Func</code> because <code>Proxy::Func</code> is a type, not a trait. Hypothetically, if Rust supported <a href="https://github.com/rust-lang/rfcs/issues/2190">associated traits</a>, we could do something like:</p>

<div><div><pre><code><span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>trait</span> <span>Func</span> <span>{</span> <span>type</span> <span>Output</span><span>;</span> <span>};</span>
<span>}</span>

<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>trait</span> <span>Func</span> <span>=</span> <span>ComputeTIsZero</span><span>;</span>
<span>}</span>

<span>type</span> <span>CallProxy</span><span>&lt;</span><span>Proxy</span><span>,</span> <span>T</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>Proxy</span><span>::</span><span>Func</span><span>&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>,</span> <span>Proxy</span><span>&gt;</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span> <span>for</span> <span>TCons</span><span>&lt;</span><span>X</span><span>,</span> <span>XS</span><span>&gt;</span>
<span>where</span>
  <span>Proxy</span><span>:</span> <span>FuncProxy</span><span>,</span>
  <span>XS</span><span>:</span> <span>ComputeMap</span><span>&lt;</span><span>Proxy</span><span>&gt;</span><span>,</span>
  <span>X</span><span>:</span> <span>Proxy</span><span>::</span><span>Func</span>
<span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TCons</span><span>&lt;</span><span>CallProxy</span><span>&lt;</span><span>Proxy</span><span>,</span> <span>X</span><span>&gt;</span><span>,</span> <span>Map</span><span>&lt;</span><span>XS</span><span>,</span> <span>Proxy</span><span>&gt;&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>However, Rust doesn’t have such a feature. Instead, we can use <a href="https://github.com/rust-lang/rust/issues/31844">specialization</a> to make all type functions total. We can define a base case where a type function returns an error if it’s not implemented, but as a type rather than a compiler error. To compile <code>TIsZero</code>, this solution looks like:</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>Error</span><span>;</span>

<span>pub</span> <span>trait</span> <span>FuncProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>

<span>pub</span> <span>trait</span> <span>ComputeTIsZero</span> <span>{</span>
  <span>type</span> <span>Output</span><span>;</span>
<span>}</span>

<span>type</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>&lt;</span><span>T</span> <span>as</span> <span>ComputeTIsZero</span><span>&gt;</span><span>::</span><span>Output</span><span>;</span>

<span>impl</span> <span>ComputeTIsZero</span> <span>for</span> <span>Z</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TTrue</span><span>;</span>
<span>}</span>

<span>impl</span><span>&lt;</span><span>N</span><span>&gt;</span> <span>ComputeTIsZero</span> <span>for</span> <span>S</span><span>&lt;</span><span>N</span><span>&gt;</span> <span>{</span>
  <span>type</span> <span>Output</span> <span>=</span> <span>TFalse</span><span>;</span>
<span>}</span>

<span>/* key addition */</span>
<span>impl</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>ComputeTIsZero</span> <span>for</span> <span>T</span> <span>{</span>
  <span>default</span> <span>type</span> <span>Output</span> <span>=</span> <span>Error</span><span>;</span>
<span>}</span>

<span>struct</span> <span>TIsZeroProxy</span><span>;</span>
<span>impl</span> <span>FuncProxy</span> <span>for</span> <span>TIsZeroProxy</span> <span>{</span>
  <span>type</span> <span>Func</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>=</span> <span>TIsZero</span><span>&lt;</span><span>T</span><span>&gt;</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>With this addition, the <code>TIsZeroProxy</code> implementation no longer errors, because <code>ComputeTIsZero</code> is guaranteed to be implemented for all types <code>T</code>. And now, at long last, our <code>Map</code> program will execute correctly if we replace <code>TIsZero</code> with <code>TIsZeroProxy</code>:</p>

<div><div><pre><code><span>fn</span> <span>main</span><span>()</span> <span>{</span>
  <span>assert_type_eq</span><span>::</span><span>&lt;</span>
    <span>Map</span><span>&lt;</span>
      <span>TCons</span><span>&lt;</span><span>Z</span><span>,</span> <span>TCons</span><span>&lt;</span><span>S</span><span>&lt;</span><span>Z</span><span>&gt;</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span><span>,</span>
      <span>TIsZeroProxy</span>
    <span>&gt;</span><span>,</span>
    <span>TCons</span><span>&lt;</span><span>TTrue</span><span>,</span> <span>TCons</span><span>&lt;</span><span>TFalse</span><span>,</span> <span>TNil</span><span>&gt;&gt;</span>
  <span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div></div>

<blockquote>
  <p>Note: as of January 2021, this pattern is theoretically sound, but seems to have ongoing performance or correctness issues in the compiler. Specialization combined with recursive trait bounds will occassionally cause the compiler to stack overflow  — see my <a href="https://github.com/rust-lang/rust/issues/80700">Github issue</a>.</p>
</blockquote>

<h2 id="dynamically-kinded-type-level-programming">Dynamically-kinded type-level programming</h2>

<p>To add support for higher-order type functions, I had to remove support for type annotations (actually kind annotations) from Tyrade. Previously, you could write functions like this:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>(</span><span>N</span><span>:</span> <span>TNum</span><span>)</span> <span>-&gt;</span> <span>TBool</span> <span>{</span>
    <span>match</span> <span>N</span> <span>{</span>
      <span>Z</span> <span>=&gt;</span> <span>TTrue</span><span>,</span>
      <span>S</span><span>(</span><span>N1</span> <span>@</span> <span>TNum</span><span>)</span> <span>=&gt;</span> <span>TFalse</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This program would compile into the trait definition:</p>

<div><div><pre><code><span>trait</span> <span>ComputeTIsZero</span><span>:</span> <span>TNum</span> <span>{</span>
  <span>type</span> <span>Output</span><span>:</span> <span>TBool</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>This ensures, for example, that a function’s return value matches its return kind. If you wrote a function with a mismatch:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>TIsZero</span><span>(</span><span>N</span><span>:</span> <span>TNum</span><span>)</span> <span>-&gt;</span> <span>TBool</span> <span>{</span>
    <span>Z</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Then the compiler raises an error at the point of <em>definition</em> for <code>TIsZero</code> rather than the point of <em>use</em>. Hence, this language is statically-kinded. However, to kind-check a higher-order function like <code>Map</code>, we need a polymorphic kind system. Ideally, we could write in Tyrade:</p>

<div><div><pre><code><span>tyrade!</span> <span>{</span>
  <span>fn</span> <span>Map</span><span>&lt;</span><span>A</span><span>,</span> <span>B</span><span>&gt;</span><span>(</span><span>L</span><span>:</span> <span>List</span><span>&lt;</span><span>A</span><span>&gt;</span><span>,</span> <span>F</span><span>:</span> <span>A</span> <span>-&gt;</span> <span>B</span><span>)</span> <span>-&gt;</span> <span>List</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span>
    <span>...</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>I don’t believe it’s possible to encode this concept into Rust’s trait system. So to add higher-order functions, our type-level programming language had to become dynamically-kinded. A sad trade-off, but perhaps more acceptable for type-level programming than value-level. Although errors are caught by the users and not the definers, at least they’re still caught at compile-time!</p>

</div></div>]]>
            </description>
            <link>https://willcrichton.net/notes/gats-are-hofs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704895</guid>
            <pubDate>Sat, 09 Jan 2021 21:22:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a runtime reflection system for Rust (Part 3)]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25704707">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://www.osohq.com/post/runtime-reflection-pt-3 | <a href="https://web.archive.org/web/*/https://www.osohq.com/post/runtime-reflection-pt-3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2><strong>Part 3: <code>dyn Method</code></strong></h2>
<h3>Introduction</h3>
<p>Welcome to the third and final installment of our series on how we implemented a runtime reflection system in Rust.</p>
<p>So far, we've shown how we came up with a fairly simple <code>Class</code> and <code>Instance</code> model for thinking about runtime Rust classes. In <a href="https://www.osohq.com/post/rust-reflection-pt-1">Part 1</a>, we used these for type checking, and in <a href="https://www.osohq.com/post/runtime-reflection-pt-2">Part 2</a> we added support for reading attributes off of a struct.</p>
<p>In this post, we pick up where we left off with attribute getters, and expand into <strong>method calls</strong>. In some ways, the same techniques we used for attributes work just as well here. We can store a map from method name to functions implementing them. However, there's a curveball: the Rust <code>Fn*</code> traits. We'll talk through the wrong turns we took, and the tidbits of Rust knowledge we picked up along the way.</p>
<h2>Method Calls</h2>
<p>Now that we have classes, instances, and attributes, the next obvious step is to add methods.</p>
<p>In oso policies, it is possible to call both class and instance methods, with and without arguments.</p>
<p>So given the struct:</p>
<pre><code>struct Cat;

impl Cat {
    /// A class method (note lack of `self`).
    fn meow() -&gt; String {
       "meowww".to_string()
    }

    /// An instance method.
    fn feed(&amp;self, food: &amp;str) -&gt; String {
        if food == "tuna" { "purr".to_string() } else { Self::meow() }
    }
}
</code></pre>

<p>We should be able to write policy logic:</p>
<pre><code>favourite_food(cat: Cat, food) if cat.feed(food) != Cat.meow();
</code></pre>

<p>Which says that the input <code>food</code> is the cat's favourite food if the result of feeding the cat is not the same as the result of the cat meowing.</p>
<h3>Step 1: Zero arguments</h3>
<p>Let's start with a simple implementation for methods that take <em>zero</em> arguments. The approach for implementing zero-argument methods is extremely similar to how we'd implement attribute getters, and we've actually done this already in Part 2:</p>
<pre><code>/// Class definitions
struct Class {
    ...

    /// Map from attribute name to the attribute lookup
    methods: HashMap&lt;&amp;'static str, InstanceMethod&gt;
}

struct InstanceMethod(Arc&lt;dyn Fn(&amp;Instance) -&gt; PolarValue);
</code></pre>

<p>Similarly, we need to add a method onto our <code>ClassBuilder</code> struct to allow us to register new methods:</p>
<pre><code>pub fn add_method&lt;F, R&gt;(mut self, name: &amp;'static str, f: F) -&gt; Self
where
    F: Fn(&amp;T) -&gt; R,
    R: crate::ToPolar,
{
    self.class.methods.insert(name, InstanceMethod::new(f));
    self
}
</code></pre>

<p>Super easy! End of blog post. See you next time 😎 </p>
<p>But wait, what about methods with multiple arguments?</p>
<h3>Step 2: Multiple Arguments and the <code>Fn*</code> traits</h3>
<p>Let's take what we have above and add in support for multiple arguments.</p>
<pre><code>struct InstanceMethod(Arc&lt;dyn Fn(&amp;Instance, Vec&lt;PolarValue&gt;) -&gt; PolarValue&gt;);
</code></pre>

<p>This mostly works for what we need! Polar doesn't care about method arities (how many arguments the method accepts) – it will send over however many arguments it has as a vector. Polar supports both variable number of arguments (varargs) and keyword arguments (kwargs). The latter is only supported for host languages that also have that concept, and Rust does not.</p>
<p>But this isn't the end of the story. The crucial part of the <code>AttributeGetter</code> interface was that you could pass in any method or closure for the attribute getter, and the <code>AttributeGetter::new</code> method handled all the type-conversions transparently. This hid the messy, error-prone details from the user and kept the interface clean.</p>
<p>So let's do the same for <code>InstanceMethod</code>!</p>
<pre><code>impl InstanceMethod {
    pub fn new&lt;T, F, ???&gt;(f: F) -&gt; Self
    where
        F: Fn(&amp;T, ???)
        F::Result: ToPolarResult,
        T: 'static,
    {
        Self(Arc::new(
            move |receiver: &amp;Instance, args: Vec&lt;PolarValue&gt;| {
                let receiver = receiver
                    .downcast()
                    .map_err(|e| e.invariant().into());
                // ermm.... what next?
            },
        ))
    }
}
</code></pre>

<p>We've hit our first problem.</p>
<p>The input to an attribute getter never accepted any arguments, and we only needed it to work for all <code>Fn(&amp;T)</code>. In order to support <em>multiple arguments</em>, we now need to cover <code>Fn(&amp;T)</code>, <code>Fn(&amp;T, A)</code>, <code>Fn(&amp;T, A, B)</code>, and so on.</p>
<p>The first problem is how to convert <code>A</code>, <code>B</code>, etc. into <code>PolarValue</code>s.</p>
<p>The second problem is that these are all <em>completely distinct traits</em>. There is no trait capturing "functions of arity 2, 3, 4...". –&nbsp;at least not until the feature is available in stable Rust. In the future, this <em>might</em> be represented with the syntax <code>Fn&lt;Args, Output=T&gt;</code>, but right now using this syntax results in:</p>
<pre><code>error[E0658]: the precise format of `Fn`-family traits' type parameters is subject to change
 --&gt; src/main.rs:2:14
  |
2 |     where F: Fn&lt;(u32,), Output=u32&gt; {
  |              ^^^^^^^^^^^^^^^^^^^^^^ help: use parenthetical notation instead: `Fn(u32) -&gt; u32`
  |
  = note: see issue #29625 &lt;https://github.com/rust-lang/rust/issues/29625&gt; for more information
</code></pre>

<p>We could opt to use Rust nightly to get these features, but it's not a huge stretch to implement them ourselves.</p>
<h3>Implementing our own <code>Method</code> trait</h3>
<p>This is where as the writer it's tempting to unveil my newly-created trait, perfectly matching what we needed, and make it look like I just put fingers to keyboard to get to the definition.</p>
<p>In reality, we spent a sizeable chunk of our engineering effort for this project on this one trait. We made mistakes. We wrote code that we threw out. And a lot of that is because we didn't understand some of the nuances of Rust functions and the trait resolution system. Instead of papering over all of that, we thought it would be more interesting to show you what we tried. </p>
<p><strong>Attempt #1</strong></p>
<p>The first thing we tried was, in hindsight, a little greedy. Why not just skip straight to writing a trait to encapsulate precisely what we need?</p>
<pre><code>pub trait Method {
   fn invoke(&amp;self, receiver: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue;
}
</code></pre>

<p>This looks great, let's try implementing it for one of our <code>Fn</code> variants:</p>
<pre><code>impl&lt;F, T, R&gt; Method for F
where
   F: Fn(&amp;T) -&gt; R,
   T: 'static,
   R: ToPolarValue,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;T&gt;().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Results in:</p>
<pre><code>impl&lt;F, T, R&gt; Method for F
        ^ unconstrained type parameter
the type parameter `T` is not constrained by the impl trait, self type, or predicates

impl&lt;F, T, R&gt; Method for F
           ^ unconstrained type parameter
the type parameter `R` is not constrained by the impl trait, self type, or predicates
</code></pre>

<p>It's likely that most people have hit some variation of this error in their Rust adventures! What is going on here? <code>T</code> and <code>R</code> <em>look</em> pretty constrained to me? They are right there inside the definition of <code>F: Fn(&amp;T) -&gt; R</code>. </p>
<p>Our mistake was reading those trait bounds as: <code>F</code> is a function from <code>&amp;T</code> to <code>R</code>, whereas in reality this is a regular old trait bound with slightly different syntax for the trait itself. And one function might implement multiple of these trait bounds.</p>
<p>E.g.</p>
<pre><code>// do nothing
fn ident&lt;T&gt;(t: T) -&gt; T { t }

let _ = &amp;ident as &amp;dyn Fn(u32) -&gt; u32;
let _ = &amp;ident as &amp;dyn Fn(String) -&gt; String;
</code></pre>

<p>So which trait should we use for the implementation of <code>Method</code> for <code>ident</code>?</p>
<p>Here's another way of looking at this problem. Suppose instead we decided to exhaustively implement our <code>Method</code> trait for all types we care about:</p>
<pre><code>impl&lt;F&gt; Method for F
where
   F: Fn(&amp;u32) -&gt; u32,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;u32&gt;().unwrap();
        self(receiver).to_polar()
    }
}

impl&lt;F&gt; Method for F
where
   F: Fn(&amp;String) -&gt; String,
{
    fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast::&lt;String&gt;().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Ignoring for now just how bad an idea this is, it doesn't even work! We get:</p>
<pre><code>conflicting implementations of trait `Method`:
</code></pre>

<p>Look back to <code>ident</code>. That one function implements both <code>Fn(String) -&gt; String</code> and <code>Fn(u32) -&gt; u32</code> traits. Similarly, in the above case, a function that implements both <code>Fn(&amp;String) -&gt; String</code> and <code>Fn(&amp;u32) -&gt; u32</code> would have two possible implementations for <code>Method</code>. So we get conflicting implementations.  </p>
<p><em>Actually</em>, it goes even further than that. Implementing a blanket trait implementation over <em>any</em> two function trait bounds results in conflicting implementations. Even though such a function couldn't exist:</p>
<pre><code>trait Test {}

impl&lt;F: Fn()&gt; Test for F { }
impl&lt;F: Fn(String) -&gt; String&gt; Test for F { }
</code></pre>

<p>Results in:</p>
<pre><code>error[E0119]: conflicting implementations of trait `Test`:
  |
4 | impl&lt;F: Fn()&gt; Test for F { }
  | ------------------------ first implementation here
5 | impl&lt;F: Fn(String) -&gt; String&gt; Test for F { }
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation
</code></pre>

<p>One day (or today, if you're on Rust nightly), Rust might let you implement <code>Fn</code> for your own types, support variadic functions (what do you mean Rust already supports <a href="https://doc.rust-lang.org/nomicon/ffi.html#variadic-functions">variadic functions</a>?), and do all kinds of fun things of the sort. But for now we're not going to get much farther with this approach.</p>
<p><strong>Attempt #2</strong></p>
<p>This <code>Method</code> trait looks too convenient to throw away entirely at the first sign of complication. Let's try something different. If our original mistake was thinking of <code>Fn</code> as a function instead of a trait, perhaps we can heed the wisdom of the Rust docs and use <code>fn</code> instead.</p>
<p><img alt="Building%20a%20runtime%20reflection%20system%20for%20Rust%20(Par%20e9d46e4c771847e7ba119df92cf2a8b9/Untitled.png" src="https://images.osohq.com/runtime-reflection-pt-3/Building%20a%20runtime%20reflection%20system%20for%20Rust%20%28Par%20e9d46e4c771847e7ba119df92cf2a8b9/Untitled.png"></p>
<p>Based on the docs, we can use <code>fn</code> with both regular functions and closures! Great, let's do just that:</p>
<pre><code>impl&lt;T, R&gt; Method for fn(&amp;T) -&gt; R
where
    T: 'static,
    R: ToPolarValue,
{
     fn invoke(&amp;self, instance: Instance, args: Vec&lt;PolarValue&gt;) -&gt; PolarValue {
        debug_assert!(args.is_empty());
        let receiver = instance.downcast().unwrap();
        self(receiver).to_polar()
    }
}
</code></pre>

<p>Works fine! Let's try it out:</p>
<pre><code>let clone = |receiver: &amp;String| -&gt; String { receiver.clone() };
let clone_method: Box&lt;dyn Method&gt; = Box::new(clone);
let …</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.osohq.com/post/runtime-reflection-pt-3">https://www.osohq.com/post/runtime-reflection-pt-3</a></em></p>]]>
            </description>
            <link>https://www.osohq.com/post/runtime-reflection-pt-3</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704707</guid>
            <pubDate>Sat, 09 Jan 2021 21:03:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess Fundamentals, by Jose Raul Capablanca]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25704484">thread link</a>) | @sharjeelsayed
<br/>
January 9, 2021 | https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca | <a href="https://web.archive.org/web/*/https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://madnessserial.com/mdash/chess-fundamentals-jose-raul-capablanca</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704484</guid>
            <pubDate>Sat, 09 Jan 2021 20:39:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic Flashlight Tutorial]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25704336">thread link</a>) | @Tomte
<br/>
January 9, 2021 | http://www.asos1.com/flashlight/flashlight01.htm | <a href="https://web.archive.org/web/*/http://www.asos1.com/flashlight/flashlight01.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<td>
<a name="backtotop"></a><div>


<center><span face="helvetica" size="+1"><span face="helvetica" color="#ffff00">Basic Flashlight Tutorial<br><span face="verdana" size="2">An Introduction to High-Performance Flashlights</span></span></span></center>

<hr>


<ol>

<a href="#ov"><li>Overview</li></a>
<a href="#fb"><li>Flashlight Basics</li></a>
<a href="#pb"><li>Popular Brands</li></a>
<a href="#flp"><li>Flashlight Prices</li></a>
<a href="#ls"><li>Light Sources</li></a>
<a href="#rvsol"><li>Runtime</li></a>
<a href="#ui"><li>User Interface</li></a>
<a href="#bs"><li>Batteries</li></a>
<a href="#hlamps"><li>Headlamps</li></a>
<a href="#bcabc"><li>Battery Charging and Battery Chargers</li></a>
<a href="#loabp"><li>Light Output and Beam Patterns</li></a>
<a href="#ledm"><li>LED Manufacturers</li></a>

<a href="#sc"><li>Special Considerations</li></a>
<a href="#fmod"><li>Flashlight Modifications</li></a>
<a href="#acc"><li>Accessories Included with Flashlights</li></a>
<a href="#sellers"><li>Trusted Sellers</li></a>
<a href="#lightsowned"><li>Some of the Flashlights and Spotlights I Currently Own</li></a>
<a href="#trouble"><li>Troubleshooting</li></a>
</ol>



<p>
<a name="ov"></a>
<span face="verdana" color="#ffff00">Overview:</span><br>
I know what you're thinking to yourself.... What is there to know about a flashlight, switch it on and it lights up, switch it off and the light goes out. That's true for the most basic flashlights. When looking for a new flashlight, I discovered that there is a huge community of people that are interested in (or obsessed with) flashlights. They typically refer to themselves as 'flashaholics'. Initially, it was difficult to understand some of the discussions on the various forums because there were so many new terms. This page is a primer. After you understand the basics you'll better understand the discussions on the various flashlight forums (like the Candlepower forum). 

</p><p>
Note:<br>
There will be products that I recommend on this page. I receive no compensation for this. These are simply products that I have used and would recommend to my friends. 


</p><p>
<a name="fb"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Flashlight Basics</span></span></center>


<p>
Until recently, virtually all flashlights were simple on/off devices (like the one below) with very limited output. Flashlights like the 4D-cell Maglite were considered to be some of the best, in terms of light output. Those flashlights used an incandescent lamp (hot wire filament producing light). Except for the cheapest flashlights, incandescent lamps are being phased out. The newer flashlights using LEDs produce much more light than most of the flashlights using incandescent lamps. Most people have never seen a flashlight that has anything other than a simple on/off switch. The newer LED flashlights have many modes and various output levels. This makes them much more versatile. If the only options for a flashlight are off and full-on and the flashlight produces an intense output, it makes it almost useless for close-up use (reading a map while someone is driving, etc...) because it's simply too bright. With multiple output levels, the light becomes much more versatile. The various output modes will be described in more detail later. 
 
</p><center><img src="http://www.asos1.com/flashlight/IMG_4759b.jpg" alt=""></center>

<p>
A quick note... Most people think it's normal to have to beat on a flashlight to make it work. We do it without thinking. It's almost as if it's coded into our DNA. Having to beat on a flashlight is normal for older, budget lights but not for high quality lights. High quality lights switch on flawlessly EVERY time. 




</p><p>
<a name="pb"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Popular Brands</span></span></center>

<p>
There are dozens of popular manufacturers of high performance flashlights. Names like 4Sevens, Fenix (pronounced like Phoenix), Nitecore, Surefire, Streamlight are considered some of the best. Most of these lights remain on the cutting edge and, at any point in time, produce lights that produce the most intense output possible. Maglite (a familiar example below) is another very common brand but they're not typically considered to be at the cutting edge of technology (although the new XL100 may be an exception). That doesn't mean that they're not good quality  lights but if you're looking for bragging rights (brightest light, smallest size...), Maglite isn't generally in the running. However, if you want a light that's going to be reliable and will last nearly forever, Maglite is still a very good choice. 

</p><center><img src="http://www.asos1.com/flashlight/IMG_4562b.jpg" alt=""></center>





<p>
<a name="flp"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Flashlight Prices</span></span></center>
<p>

When you initially get into flashlight collecting, you may be shocked by the prices. Many people are used to buying a two D-cell Rayovac flashlight for $2 at Wal-Mart (really, $2.00, batteries included). Some spend $30 on a two or three D-cell LED Maglite. For most people, these will do everything they need them to do. If you want higher performance flashlights, you'll have to pay significantly more. For example, there are LED flashlights that operate off of one AA or one CR123A battery that produce significantly more light than a 2D-cell Maglite but you can expect to pay at least twice as much for those tiny, high performance  lights. For example, the Nitecore EX11 below sells for approximately $60. On average, small single cell high performance LED flashlights cost approximately $50. Small high performance two cell flashlights (those that use two AA or 2 CR123A batteries) can cost $100 or more. The second image below (Maelstrom G5) is one example. It's powered by two CR123A cells or one 18650 lithium-ion cell. It sells for $100-150 and is about 6" long.  Custom lights (custom machined housings with high performance emitters and custom reflectors) can cost $500 or more. High performance handheld HID search lights can cost well over $2000. 


</p><center><img src="http://www.asos1.com/flashlight/IMG_4523b.jpg" alt=""></center>


<center><img src="http://www.asos1.com/flashlight/IMG_4609b.jpg" alt=""></center>

<p>
Note:<br>
In the two photos above, you can see that there is a chrome bezel on the end of the flashlight. In some instances, this is cosmetic only and serves no special purpose. In other lights, the ring is used to maintain force against the reflector which maintains force against the LED which keeps it tightly against the internal heatsink. If the bezel is loose, the LED may not remain tightly against the heatsink and that could cause it to fail prematurely. If the bezel gets so loose that it falls off of the light, the lens and reflector may fall out and become lost or damaged. Check the tightness of the bezel on your flashlights. They don't often get loose but if they do, it could lead to the flashlight becoming unusable and un-repairable because not all parts are available for all lights. 




</p><p>
<a name="ls"></a>
<a href="#backtotop"><span face="verdana" color="#206060">Back to the Top</span></a>
</p><hr>


<center><span face="verdana" size="+1"><span face="verdana" color="#ffff00">Light Sources</span></span></center>
<p>
<span face="verdana" color="#ffff00">Incandescent Lamps:</span><br>
Incandescent lamps have been around since the 1800s. They are nothing more than a <a href="http://www.asos1.com/flashlight/IMG_0589b.jpg" onclick="window.open('IMG_0589b.jpg', 'newWindow', 'toolbar=no, directories=no, location=no, status=yes, menubar=no, resizable=no, scrollbars=no, width=820, height=587'); return false">wire</a> that's heated (by driving current through it) until it glows. It's simple and has served us well. It's not, however, very efficient. High power lamps produce a lot of heat and use a lot of energy. Incandescent lamps are also fragile. This isn't a big problem with most stationary lights (in the home, installed into a table lamp or in a light fixture) but in a flashlight, it can be a significant problem. Dropping a flashlight often causes the filament to break (especially if it's lit when dropped). If you're in a situation where you rely on the light for your safety and it uses an incandescent lamp, it's important that you carry a spare lamp. Many of the Maglite flashlights have a spare lamp in the tailcap. Most others don't.   

</p><center><img src="http://www.asos1.com/flashlight/IMG_4510b.jpg" alt=""></center>


<p>
Incandescent lamps have a filament in the glass envelope. The wire that makes up the filament is generally tungsten. In the most common incandescent lamps the glass envelope has the air evacuated, leaving a vacuum. This prevents the tungsten filament from burning (as it would if oxygen were present). This is why an incandescent light bulb instantly burns out when the glass envelope is broken. Other types of incandescent lamps are filled with an inert gas (vs having a vacuum - no gas). Halogen lamps will typically be filled with argon, krypton or xenon gas. Halogen lamps are typically brighter than standard incandescents for a given wattage. That's why many people replace standard lamps with xenon or krypton lamps. 

</p><p>
The image below is an incandescent lamp with the filament lit. As you can imagine, the wire is VERY hot. When the filament is hot, the tungsten is constantly evaporating. In time, the wire becomes thinner and thinner until it opens (burns out). 

</p><center><img src="http://www.asos1.com/flashlight/IMG_0866b.jpg" width="800" height="580" alt=""></center>


<p>
<span face="verdana" color="#ffff00">LED Emitters:</span><br>
Most of the newer, more advanced flashlights use LED (Light Emitting Diode) emitters in place of incandescent lamps. They're typically much more efficient (more light output for a given amount of energy used) and last a very long time. They're generally rated for 50,000 hours or more when operated according to the manufacturer's specifications (i.e., not over-driven to produce more output). LEDs are also much more durable. Dropping them generally causes no damage to the emitter. There were a few early LED flashlights that were easily damaged if dropped but that's no longer an issue.  The LED emitter below is shown at approximately 50x the actual height/width (depending on your monitor and the display resolution). The actual device is 3.45mm wide. 

</p><center><img src="http://www.asos1.com/flashlight/IMG_0593b.jpg" width="800" height="807" alt=""></center>

<p>
In general, common flashlights don't heat up when used. It's surprising to some that high performance LED flashlights heat up when used at or near the highest output level. The ridges or cooling fins around the head of a flashlight aren't cosmetic, they are there to promote cooling. The ridges increase the surface area of the head and therefore make it easier to dissipate the heat produced by the LED. Without the ridges, the light would get significantly hotter which would mean that the LED would run hotter which could cause the LED to fail prematurely. 

</p><p>
Power dissipation in the LED causes it to heat up. The LED dissipates heat because there is current flowing through it and there is a voltage drop across it. The voltage drop will generally be between 3.25 and 3.8v and varies depending on the current flowing through it. The voltage drop is the greatest when the LED is being driven the hardest (most current flowing through it). Higher current must flow to make it brighter. If you look at the Ohm's law formula P=I*E (power dissipation equals current flow multiplied by voltage) you can see that increasing either the voltage or the current cause the power dissipation to increase. Since increasing the current flow also forces an increase in the voltage drop, you can see that when you get more output, you produce more heat. This is why the larger flashlights with higher output must have larger heads (which have more surface area). It's also true that, many times, they have larger heads because they have larger reflectors but even if they didn't need larger reflectors, they would still have to have …</p></div></td></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.asos1.com/flashlight/flashlight01.htm">http://www.asos1.com/flashlight/flashlight01.htm</a></em></p>]]>
            </description>
            <link>http://www.asos1.com/flashlight/flashlight01.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25704336</guid>
            <pubDate>Sat, 09 Jan 2021 20:24:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Assemblers and Loaders (1993) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703581">thread link</a>) | @Tomte
<br/>
January 9, 2021 | http://www.davidsalomon.name/assem.advertis/asl.pdf | <a href="https://web.archive.org/web/*/http://www.davidsalomon.name/assem.advertis/asl.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div endstream="" endobj="" obj="" type="" page="" parent="" r="" resources="" contents="" mediabox="" cropbox="" rotate="">&gt; 
endobj
8 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R /F10 27 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
9 0 obj
&lt;&lt; /Length 1140 /Filter /FlateDecode &gt;&gt; 
stream
H‰´WmoÛ6*É¶`[­,'¶ÛØÑ`¯¥´Š)ê-èÞ²­öuþV÷SÑ°X‹íïï(Še;ž7&nbsp;àPï¹»çž;]n·ãøeåûn\â*Ï™ŸÀOs$4ÇI’d~ARÌŠ"ó·¿�ÿý8þùWâ¿ÿçíþñ÷øúëîî.ˆÜG?üñáÓÛŸ&gt;¯·¿&gt;ø€Ò¼ÆoŽ„e¸¢Yéçe�Ó<aÿzõ×ýeeÃ8Ž¤n8ˆÒ2Å)"Ñ…<Úx¤�à™"o—�Ì†jzâ™«e@dýˆ`våÅ�5üf‚?joøçµ„dîÜñäÃ ÿÓÓ©11¼i\�°y×¸t�öm="" {qÉÍ$ÆÄq¯k�—Ç'¾¥hÈ¯l.¹'žÜµ†¾ªÑ·a«¨ð¹i&È¨ÿú[:éÀ•¸¸×sÌ="" [†¦ÞdÄ+mÂÕ="Ä™KiLfÃ¡ë`™�·C2’+&nbsp;kÛy€ÜcšÝÔ" þùxå3q`Î–~Üéµd½âuÊs0þ‚ß›olÍm|¤@¦ÙvèÀx¢®="" ³phu£mkqÂ~q`¿Ìd="" &ËhÝò¬z,Ëè="" fe¬Ásnq†.”urwŽ½Ï_:3!ÃŸ¶câßùcÊ€!"prŸÒç,õœv¥ÿçÛñ»ñíöt3²¼Ä%au'Èalg)ÃŒp:‹Š6Œ†-�jjñz¹”õ‹¸Ãg\òš¸€”xteÒÕv¨u¼û6="" ´�1¾;="" åŽ5u…gÎ„iÝ±Ñ!v="" bªÆÂÕ÷ÿ…µÐ!ÂÏ$m+<�68;cÙ¡rv‹rž2Àå´l¦ós©Ìga‚×ó&efßéÍ„.zžyÁg�e—3Ó¨¿Ä-‚úât7‚³'%l«="" Ójø‚ @Œy^ýõêÁbžÖ}ê�[Ê¾2vÁåÚlwzÏÖvt§h`Ûü«¡l#yyg{ÕxÖauÀaëây4="" Á]Üö´*¬[Åðëíx¡½x›šk³{¯×ÞÍx»×ëÞs2.e9à©½ˆ´ÛÇ§|Ü†¡†¼lsët¬~ù¸‡|Ñ#lû0*ÊÃvošò6º©j²Ôñlû<ÿ�²éð¦nÝ¬Žh"="">£Sc½S”ó:•V9´MQ‰N}&amp;;u&gt;ì�LCµ©†jóËüW^aÒ´ZõŸZM÷�†÷µš¥½(Ž•æÉµoQÏ½ÞWË&amp;&gt;öÂ°´ÆÈ®W¿ÙD_»&nbsp;xáµ†³ZýRcúÌ˜î‚“¦Ýtµ·ê5‹n"8c@eZcu¤Œ ãÓÐ´zýîF¾2yKù”*»1!C[ù+‹¥ˆ'*pÁÀ×7¡žZ�3äî‚–†"ØH=-½…iêé©–¸ÁCwjÌ1Š(e·Ðí,å¶›MŠRØŸ¡æ“z‰É4ûžn¿nÃ9j½L‘ïÍ&amp;à—w¢fºÒMÕNÿP£‹3˜¹Ü1Ö
CÝ°Ýiïõlbhïv©‡fKŸ»â™ÓL$µ§Ø…¹‘­ö�“¢_w
endstream
endobj
10 0 obj
&lt;&lt; 
/Type /Page 
/Parent 105 0 R 
/Resources 11 0 R 
/Contents 12 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
11 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R /F12 28 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
12 0 obj
&lt;&lt; /Length 1352 /Filter /FlateDecode &gt;&gt; 
stream
H‰œWmoÛ6"Y± [±$'¶ÛFVë`&nbsp;Œ™–H‰’:Ûú
ìëü­Ù§¡-:`°Ø~þø"R¤l%m ¡ÝswÏ=w<!--?;L÷¯š$Oï¦5l)’Œþ´Ç#˜×NªÃ¢ªÊäð×4KÞO÷¯Ë“÷Ÿèùðûõïô
xþ÷ÇÏo?~þ”îrTU°þK?üJñs�ßPPD8~{Ì�Y–•	©+ˆIV0ü7`tnÛé®¬

RGéçô…nè3ú©ÆëÛ,G¾KýÕ¨†¬V×Üa–ìrX4y•^´•DÏ¥ý÷ÏmyÖkŸA¹®|2v]öÀK¹ç	=—Ü×CåUsjs§‡­påHW	{¯´Øï—,¸ŸÐŠæ­/‚ùZðÈ§ÉL�³÷–¡Ì­¢nbî±Ü�JÌ9WDKÔQekÑnÛš”¢&9M°,/Š<wUÁ¬æUße0Ã9¥¾Ô+A°ÔKU‚£ÈJì¹øè�ÚÇÞ¥-NO<^F&¶åŠGQd_2†spµ°­ˆöò0Í“ÉW–XD�'Tˆà$ƒ¸©“ÞNßMŸîÒUAjjV4F\¦”�›ôðçt‡XäŒÌªÆXð¹éÈ¼¼bÊ²ÖÒ�Üè„²hE°dt‚;µ M+ÒøE1Î‹—]!�ë£BRÇC®7×g›½üðƒþt#?x,º™/ûd)¤ùî‘O®QæLõ‹MâD³V—R+ŽmZ9§¬xá©¢ç·©fé˜–ñ)K7ZøK=W57ž€È÷‚PK¤¼=¼¶|ÑVÉJÂù†Ød…ÎfíTÐXaö±i?:eï1}èF¢ív¨MD~uºìuÄ|—j6`p™6%¬ÁÂŸÈyx<¬ŽåW€­aO„Û"\u"Ìg­N¤0X‰È ³Å_Â…¯s]S7{�«•–­
J/¾’°æOü'˜hñ°:·#Ó‰’éxFT=ÖR"=^x³‡®õcO¬={%Ö'"ÈÈÀ¨
|5§yš"i~œ/Û¼ÅpÕdXÊŒÖzqµª®ƒ0Ð2Ù˜‘(uãˆ»(\‹¯¨ESŠ¿rnL‹ý0ÁG’ì™ŽN+±á¡ñXVHæ¤hìám†C¹»Aãk³W*©Oçt„?¥tß`Òü,7$®zo”»8Ä™•"D-ìû‹€cî'V¤iäËCm%µ-Ãl`†èb¤7’sO#™1X“Ú}Yˆ§ûN£0Ï ÁUÓNuáS®-->!Õ�å	)…3^\NptLã6pºj&nbsp;oh[ÆßJâq¸˜ÝÊ)6¸þ
V*ùê=ÚNwV…7yé.½U¨´cÇL]uÙXmŽb¤÷Ç1ÊñlÁÒš³ÂÈ½RýrßÜW¹:'f|ÜI³PÃi!­u¦¶zÎq'¤n{ÆwÒxØVI%ç:H=&gt;4yjº ö¦•¢e×»‰{Ë_Bž|Ð»ú�ªÂOu•H�Þ½&amp;Ó/G¢K**è¡Î[2Ámj�lËvÏíˆ)šî³(+!bü-úrY3í}Ã.k¸YÅ7¢a¾d�G¨„Y^ ñíêBíî“‰eGtQ¼á9ÝÃµ-]­ãˆÐšaPÞhíL’óð›¯_¬¶ñÐ&gt;îÚÌEqB¿“ê’-©]¡¶±ñ•�HŒU'žÀ›iúnw]ö
¦í(ãŽÖ4°ÝõÏXß‘ÌnUŠºû–ÜjŠ‘�–È�hsL!ÓÁ¬‚¦g³ù¶#ÓÃÀ­Ùx¼×Vv�‘ˆZÛXTÜ=Ô�™ÕÌ¹ÝÙ=$l¤¸þ`©¿é/
endstream
endobj
13 0 obj
&lt;&lt; 
/Type /Page 
/Parent 104 0 R 
/Resources 14 0 R 
/Contents 15 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
14 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F5 77 0 R /F9 26 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
15 0 obj
&lt;&lt; /Length 742 /Filter /FlateDecode &gt;&gt; 
stream
H‰œ•]OÛ0†/h£’²$-M'X-�„Ó­nì8±ƒvÅ&gt;�v»ÜÁ®&amp;@›4&amp;
¤íçïØŽÓ´k�N•"×±Ÿ÷ø=&gt;'ç•?ÿX"Šª_’²(8JáW)+Hš¦94#\ˆU?üÝúó‹ÏÝÞÃ¸úª¿ýKü'™QXŒßý¼{¸¾{¸O¾TŸN
¼"+4¼Rž“’åR�¬H¹‚_ângÜ™&amp;³\pRâáÁUJY2ËdF2\&amp;N_MÄ¡™b¸Áˆá‰YF%“DàñôD‹§hF	CÕû;·X&gt;‚õyè¨§Ú™'#«¡š2pŽ£¾UŽ/´ÈÄN9í`¬ðüHWÓZqÇ*î‡ú$
0˜LôfÏsWÉºÓx›©Ç–z¡™‘…Â1pp•,&lt;ãIaíŠE«ÌËÌF}ÙÀxZÀf	Ÿá³å„d2w—ÕÜ#+Wö^(Ë�ØiÛíË%ãŸ©àZ…n�zÊ�ô \à×zS¬a�-‹†A¬P§
"IqŒžiw#Ù«„ŽºŒ¸íñV¯¬†A&amp;Ž¶.Þ¦‚™�W0Ó'0ÿ”âÚ¼kÈMvGa´ÀÅšÖ³7‡çg¿:ý,SŒæŒ©úÏmý7îËÀkÛ»rBo“+�³ou4zq°h5¨ôOÛˆi±ìª¹×/m�#]ö¡
¼–;uÍM¥p_óœéFjÇM›æ%„¦“‚ZÁHŽCwº»çvúÃÝˆ‰Êúµ
|¨J:Ãº
v�Hk}¨|Š¾!ŸIU(¨ø(¤JIVJôëÚ¿ñÏ«Çú;/$‘”—KQÁ�Ž“ê»?Ë8áTåGšüÈŽ»½9;GÛ˜SÀMK©ñæ�õfß‹fÆuüÚ�Hý“©ëtú‘ÛXÃðJM£Qøv	Éµ+åv®,Â�ƒ¸Ê”ÇÏíX°<c¾›¬�lïìz{p«°w% boõû1)="" Ï‹ÿÉw[`|ìÖø¿="" �¤z="" endstream="" endobj="" 16="" 0="" obj="" <<="" type="" page="" parent="" 104="" r="" resources="" 17="" contents="" 18="" mediabox="" [="" 612="" 792="" ]="" cropbox="" rotate="">&gt; 
endobj
17 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F3 79 0 R /F10 27 0 R /F14 29 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
18 0 obj
&lt;&lt; /Length 1840 /Filter /FlateDecode &gt;&gt; 
stream
H‰„ËnÛF¨´2	J!—¶˜Ô�ˆnÚ„Jk†\&gt;D^‹&gt;€^«[ÜSÑ-ÐK{èïw;Ë¥"76`ÏÎÎÌÎ{†ß7ï~hò:?~Ø4]9ô]—Wð+pmú²ªª.ïú¶lÇÁäÇ¿6UþûæÝ�?×ùïÿ|üÿü»)‚põXÕ&amp;Z¯öÇ?7ß7uþG¾©MWŽ‡¼ëÀŸ×U_vð¿*Ç±Ïÿþmóaó-ªP·¬ÃXŽ½éIÖ-ð›nÈ›±+ûÊt¨Áûâ³ÅþÁ@S,Õê"ùeÀ�Up÷ìàCy&nbsp;CŒ·DKüËT‰F¦.åÓ¥^î�~(®øî«BYp;1!¤ãlÁ§ç/&gt;¿NoÊ¾¸%ºˆ¯6kÂÄwþ{‰òG’�MY™Žîö¿Ú&lt;˜ü¡.Á»ßmª²5èÏ÷Å:ÐkQ±¯JSÜ²ŠbR'ø�Æ×X-@4E„··ù}(¼OåÀ‘„�š	Š”ÐØ§T”íÄª�ÌÕž¼f
ãÂXY÷'Á’b£"'B	ƒ‹\§ä…ã[N¥÷…Ž¤}*Ž/ãôJÔI«Xë-ëB§)Þ®Ø„ËÌY€¬àrñë†¾HýdÁ1¯–:w
HÇäºD A÷_~&amp;àW×¯¯–ÇïœEeßŒl•S¥�„©}Uò7»Ð»3ÅE¬Ö±^­Änæ`Ó¡yÊLGÙ=[f’˜—{gæ¿ðÈN¶Ê\n™šYuJ®'w&lt;î=›:3°Q�Bû‡¶2Àº’lÂã“%’+-ÀbÊaƒk[ƒ©p/&lt;¯"r¼=¥a�Hí&amp;"á-†¥-TÆ:Ê¿V,ðv²J÷¥W)îë©…Ê,«GìÔý†KJÎ·xÏÈuzw’°gBõÖt]±Õ@P–J|ìÕJ@Æ�’
Ekƒ|÷ÂåÛ²à»‡€‚b;V¶RrVºüØ®Øz�É$‘QTÆ�ï€�Ï
¼·³Wd4±ë0ˆ'IÃI˜™
¸&lt;Ô
ûä%\’ßcÍ/
©/CAL‰!Ó‹-¡�Š9¬G1”0ŒM:"¦¶+¾Ø
V‹Š\bcKW�5kÿ¬vB{Ö`¾¢z"CCÐÂ+ƒ¦fcO¢d3Œ†Ù”Z#çƒn,Ø1%øK¯Ù™bÓ0f�ôwÐÙŽ�º¤�¨„È{Í]=ÍK.Cx&gt;:ŽwÏoª›úæó×æ´=K2°y¸t:`[båÙR¦Q‘•ÌÇ«H±Ý·‘ðaÐù’z;Ì÷ÎŽ¦!µÓ%yÁGî¹x)”B�¦î�­¯ô	!ƒÍEæ)×PBXh¶Eh¯§·öòÅ4Þ†'æŽ¡y4F/ö–&amp;�^&lt;Þ&lt;1ºH´7/E™ð,”„QÖ'êjz‡BÕˆZXRAL�4ó”�G
o¥"BÓ€·.ƒ�ÁÖºqÁGpQ”98ÔÙ•ÀZâ£€eÃ’Wñ’Wwe?°ãÁºSØÙŽ;ã´š²éŒaŠ÷Oæ5+”(§f¤Â“÷çÞ‡M«­öýpœ¾]¹—OŒM”@T‡¹ÝÝÆ²ê†7¸Ã8ÌÙF’m#(AAÐ©Š1pcP¨=ÒØ
íòŠÑ3¬	4z¬Á~OÔJGnÆ1f6nÓf«•è4Õ±RŸ”»ç/ºëé5ufGí¤Ë;1ðÍÐMbàÔƒ˜¯®Óæ©B`opÇ¾$2DDõ±¤vJ~Í{ïU{í¥s¦.VþJ#t2Üè0Û#É„‰íž&lt;}W·v“ûÔzßt=öT°)ã†iv"Á4ˆ{$žæx+A&nbsp;Ë33=ÝêÄß~Ù~‘p¾p&amp;çÑ:!¸àØ×v'ýàS·¦›/×)ãjQMƒ^ê«IáH°—Ó~Fg?›Y¾–+o=¦±ÉR•@TCkX%ÝÕV†9Š¡t¡LM'tí

JöÛóÙ‹ÕußO›acð#ÐEN¶ìÓ §kž#íyÝv'A$âÉÞGt	=%„N¦À2kâ-^)ð¶ˆÒª299h«÷1ÇÛAªb×p5|xqÅ`S„rïnä°Ôl’»ÕØè&lt;òw–_£ÄÇ:oí–æämGàéEŸÛ±±}xä&gt;|ÉRgä“®-Hhív×w*‘?'øf‹Pœ,¥B&nbsp;¥B;j$D¡9`î½T	õ,ƒ�¨hy%t¤.5ø™Ùæ¼)7‡fö¥IiZ÷öïå¬æšZ–&nbsp;•óÐìK	ìÚÆ‰Eó�O(˜¨#o\	“ð &amp;tF‹="3­�B”áDàwÇM8BYhÍÁ§ø5…otÓyÞJ]˜Ž~SÅ3N¶×ä–ªr}!öôìd{Ð¡Xæ£è³\Ídç¢/$4¨]mYóPfN!«*Þ¸¬F³ˆs{×Í#�ÄT&amp;ÖS³PâUËAaª3_|Añ^“ÌeÈMå€ºÆïŒ½HuŸeÂ‘ª]è
¡ƒçÀFVö§FóX„¢\ºHé½•³äê‰ñýqóŸ2u�Å
endstream
endobj
19 0 obj
&lt;&lt; 
/Type /Page 
/Parent 104 0 R 
/Resources 20 0 R 
/Contents 21 0 R 
/MediaBox [ 0 0 612 792 ] 
/CropBox [ 0 0 612 792 ] 
/Rotate 0 
&gt;&gt; 
endobj
20 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F9 26 0 R /F14 29 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
21 0 obj
&lt;&lt; /Length 3116 /Filter /FlateDecode &gt;&gt; 
stream
H‰|WK�#¹
ÖUvÊ3e©Ç5™îž±‹ì$í©÷#¯M6Aä }›É!Xì.ö�KrH~~¤�¤¤òcÑ€»DQI‘Éo^^}üó´¯ö/ß¿OSß·ûÒüñgU÷§²,»ýP5§vºýË¿^•û^}üËß«ýÿ1ß/ßÚŸÿ¾útøß�?Ÿ+Ã~øÛ¿¿ûþØ”§úðÏo¿;þãå¯æŽª¥K&amp;#¹îq	ºKúq85}Ùâ’SÛô	ÞÅùñ¹)G#oŸëá46ŸËªË3¢7‡(^®’4-¼fUgQ‘€Uˆ*s_ZÛ�åòî
Þ÷Û÷5-—B°Žr{Ñôì¥ÝF&nbsp;�È·ûcex¦ÃäÄç¸Ì:¨Ü?W§zÿò'ñfJw.VVH¤
s¦iÈªîµZ®&nbsp;‹Þãpm÷]3àü©­’q²&lt;;(m²gŽÏ†áð±ûÕW5}ZQµN±8U‡tnòƒÝÿõûéž¾nùƒæI–Áä5q'½’ì�¿ùíû§Œ65KÝ-f?ÞÁšçÚûâÔ—zXniÆñÔâ;CH{0âÊvØåB¸ØÙ¼ZK ¹€’�¹ƒÝ;új$§ IþUßp@ÝÐB…|êT¥.^~.a`ïm«ÉHL92Ûº4RRkf[�ºbF¤REwÓ¹éö›9éV¥"_'«•ø$OåôREyÌÜ*Û9Šñ¶x¿:Îlx^¿mqã´½3ëÔWõøÓáÙŒ“qÈÇîá]-Uè˜¾»‹¼1œ½ñ�b¬6³gÐá‘›É�]¨ô;û¥¢…<a Ç1™:#l9kÛ¶nÈrƒtþ!íj’‹¾á`b²¹"ä›§g«Ê‹…°n÷z?&9ù“ k…w•»="" �¦:ÎõƒÝ´oóÖ©r,úú�Óýëé]¨²3x¨y|°v†é�9r="" ‹�zzƒð`Ð‘<rp±ÊÎµã!ñ‚Æ3±i®Â="" Ü3dpf:Á:^m="" ãlsfis;a°ë1Úg¥"ÞÇ®;õ{\Ú5�m'*z}É:ëpïÖkô½="" ka_z¨èlb%zj–@)Ø‘Ù�úÃ˜,xÓ×y›{×¹z.]¤c›Çm,Ÿ™�¿{tƒ@+x="" �öµèÐ4(º¡¿…*Ñj-Ù—§*="" 6çæo’üj-ë="" ÿ»ªc´p•¹³µf§‰â·'r}xy+\�„‚0ndÏ="" =�qôíqlë^ÿbmtñh=""  ÄÛ”9¸á¬hu™œâçtåá¼ðqœi´�?#kgk?•ví6ŽînÔy;ð“¯¿="" ÆÖ,“tø(ŠíÙœä$Ú©æœj8ëcçks×îd®2½rç�d{Æwq�˜ý0Îñ£i«yÔúÍ¿êpù,¹z‡="" ³ÃbÜª|c="" vf]©="`Hg—" ×~p�¢ÓhÀäcíá="" ,�="À&quot;" –Ætåósr§{½*Âl="" Šx="" Å‚ÞÈ~lí¤;,�Ò$o^="" Å›a�^g]é&9ï,kÝ´6d8¢]ÿôfv‚lrÜ»<^Ê·Â«‹þ–èwÒ"Ø“%›d÷2~c¶p="" ™çv7Ég#¶y¸èaÇ©£—\*)jª0)ÒÕate¦Ëéåz»pia;¸–è¦Ê*fr…@vyik¹i!mžyú3t%–ÿËÈñ_wm*['”¦ÿ¦(vaÝË®÷�ŠÕ´kÌ‹¦Õ“È)g="" í[Øµ_a]}#¯^gb#="" �Õ„Úëe="" ËyüÎ¾u¡!="" 4|oéyÍÖ:y²þu�®�"†¿98{{¥ƒl="" dÛ*-Ÿ:^†Üo²˜÷šmÖ~“¬="" ¶ùŒj»Ð�¶çqhÂ«kÛp{z�–õt±ip©:kbú&†d‘="" &="">
á–k­ºz<!--¤Dy<ò¨ðÆô]vx´'`ì8j©�%¸
ÌúÕN\–n��U?±�P¦³.YÒ}øÆ�æ+€Ða}0ÅUê©ã�gº
X�ÚV`Ià�Ärãh³Þ¾ECý‹gâ|œì‚ä0	ÇY[4�ÓsÍM+hƒ\°¼¯’÷%`O6Ê[ÃžÈ4Ðr�ŒŽF¦�*dµ”:ôÇËP‹ê¢V®�õL�|¶*8Lf½‘]Óñ’Ñz4JmÔýAR­)íÌµve‡ÿoh§§”½6Lâuãæs�«ÎP”„Ürdœ¹Âœ¹8þÑ†BSµ&-->ÞñW{øÊÑÞVŽX¾;ïJð¡W÷þó­ÿ,ýgç?ƒc?{�òþöþm}¥�‹ùÔÌ’X(„røÜ¸UœÐ
D&lt;=±©äÃ¥Íg?Á¥V­ÒTSÏ†wz”ÕÂwo*wªuÌ+j¡lóL[KWi­ÓdVí7TÎÃÞEUo§‘ƒÏ3ã$·¦I¯l[t'æ&nbsp;&amp;}´Ò‰
èÄ@‘N|×;1ðIþbá;1,ö…‰{0Eá±§Ùù¨H6áî- çÝlso3D*ß Ú…éR
ÈÛ­TK°&gt;9"Í÷¶NRg|ñÁÏ!ùBNhW÷©ÉQélñ~’ã4ºPÊ6Ü(‘?ÔÒ»ÁPÄ+yEb€)²&nbsp;v_†M¸n¢;c¸0Ðº
‡©&lt;äS™p&nbsp;À":j’„M'!Ðs-È=±{}¬ÄÖ:—R�	éÌ×|ÁÒ=‰¤ƒÕªþ'Q{v€}5�¾üdq²¶L•±|I!ýQud@Å'&lt;Vj9äÝP"ÓØ&gt;=m¯T½î|ìÎ»ZºNLúuVçoÕéYRàÈ“|ð;aÌÅñ4(Är—èE°;Ï)@1W[ó«!¿Ìª»bÈô¤ø4Z/©QcöQjãfèK’MiJ½ÂÂ7yã/™lìâÄ_"ˆÇ/váU|&nbsp;PÁz‡Ä·×ÄL˜š‡Ö±­¾&gt;·-O&gt;a¡&nbsp;jã
»­è2UÎ”wkÎ
1­)rÀ¯„væVSõe&nbsp;�)‰Câ\7Ôú)6“ñéÃñæàê²”otB$G&gt;.gÝyQPIÈC®²6eË£ /4¬ÅB¶”�MÇ¿#l&nbsp;—Av�åòbt¥+ØE^:t¤“Üè´ßÜ¼!»—7:ÅKXP;þþ²höfæõ8�^ý¹­&amp;™SÚ²&amp;Û»Ë†NÖÄ-í§iÇ„[v|¡Í`²ƒÜ/d¸
0r^[œ$&amp;²¸DŸw�.ro¢ÙoÄ¢øúÎ&gt;k–¬ÞŸƒÄ•©ø6T´Ýë”–n¼&nbsp;…¦Ð^Úš~D5OŸËþü!$Î×
½Ê×AV3;bSN•IÕte¯8¯›WÆq«VrwÛõÆ?oéƒ"EŽÈcöò&amp;‘ÞÛòõ.åèTŒYâý
j…ñÊxJá?g»ÚáØÇîÜ”éoç.?�åOT·ì›iL,±N«M÷ÅTkV©nL÷…w¨îÙÏ;ô@ïå(|æÔ”p&amp;G*U¤:Ž©ÆõRãˆú%
�ˆ¡&amp;GG(ÂwTjÿž7†O:ôÜ‡:¼f£&amp;ÅÐçàÜ wçÀ‰=Ô&nbsp;ððe!˜ß()�+±—°Yâ$
b¢8lYlî_¢í§Ã�í‰Ú�æIZe‰\`j.ˆËó¤�¨#Bª�Ë×»Ò‰0Âå¡p¼þõp™±;�Á�0¹
dyxjòŠè%Y[ÞÎ?Oã¡¢�‰;‚"²1-›Kwæ…b9…˜ýü@Ž¿�ÇÅ,³©d…’— GT±åS¥èlG»†�QLÜì1+$CÙº:rõ‰$8öÔžkÆƒóãuk$!˜G†*ƒÁr×—ÊDÈŒ~ž&nbsp;uè&lt;eBÌ†?¯nZ®&gt;œ
4Zu��2¤ÁÁð‰VÐþ&lt;ÌúßÚDqQx{%eê&nbsp;iùiŸ\é–ž“Ï2¡þŸíj×a†�CS$†
�Ä\ºt/Ð?àÿ¿…Ø—‹\7[lC”øq¹3ñô~i·Gu‹rÚv
ƒÝàê60»{˜Åla&nbsp;C/¥«¦Ý=ûcnÐM´M€*œ[Ãœð�«Î�[•A-‡"‹òW¥[ãò1íš²?Q”åß(Ãÿž˜Ømøý!
¼<iðÂ°r½Äx•¡Èjq-ãã1c�à\Ùk8ùcãn †ÇtŒŠ•t|ÏÇ%À�Ïc‰x="" endstream="" endobj="" 22="" 0="" obj="" <<="" type="" page="" parent="" 104="" r="" resources="" 23="" contents="" 24="" mediabox="" [="" 612="" 792="" ]="" cropbox="" rotate="">&gt; 
endobj
23 0 obj
&lt;&lt; 
/ProcSet [ /PDF /Text ] 
/Font &lt;&lt; /F1 67 0 R /F7 25 0 R /F9 26 0 R /F14 29 0 R /F16 30 0 R /F18 31 0 R 
/T1 32 0 R &gt;&gt; 
/ExtGState &lt;&lt; /GS1 83 0 R &gt;&gt; 
&gt;&gt; 
endobj
24 0 obj
&lt;&lt; /Length 2845 /Filter /FlateDecode &gt;&gt; 
stream
H‰|WÝ�Ü¶²’V‚öN"ïViì³w
»9mŠ[ë‹Ò
ÐÔpœ¤Oºowy‚8p�¼´íŸßùàPÔÞžax�GÃáof~|w¼xûaÜÖÛãÇ‹Ã~ìûn[Á?;ìÚvß™Ál‡Ž\TÛß/ÞþðÏzûû`|üþ{q_þãß¿}ÜµUùË¯¿íîêf8”ÿûôéÓîçãßáuÇßÁpÓÓ7ì°nú}UUfÛ†}ÛW~ã¾L²‡ªnà¿Éwwè˜2	yÔ—¸”Eœã:š—»fØh˜-D{¹»éP†ZãÆ«bÚÕ—œ¨$Î|a¸‘Q¤‚,Ô2Si.Ãdío¸ÙÑ~áû¹«Êäd®ýy´$"üIyBÇ~N¡«¶wõ¾Ùß_Tû¡ïŽµÆPtÕ¾f?-Ó€-¬Õ’Œd,oÊ@¥¢¢iÁ‹”è(ëZWÁÐ*¯b4ŸOj5_�–™
ð3M&nbsp;
‘QÀØÈS§S´'L··µdvCÇ&gt;~#°Ò*â¯·UocÓ�ä9ˆê¶½’µõ®’+˜Ïîô…¢¡LÃÄ­†"Â4ðÝÍÈ_g&amp;LEQ Àr{pžÌP¥EJðá¡^¸h\Š=D�(
�l, ‚b´ˆþ5¯P‡mKEÀ6ob|g[ÚÛ |Ÿûò›Ý²¸<q­zûm9`Ãìp„. zº•×Å¤ Ïü="" aœÐžÔbøÎtß ,yË\¼tÚj�œ×bé="" ”inœú="" a¿p ¹k\²ÜŸÙÞŽ(øŠ£—Œ¼ d°¢Û§mˆkr="" è€0´´�–5º¸qð!aòeò­ÙŠ”�õén¶ßhÿ&g¹iŒox´�"ïýoÒÌrgß5Ãhóçpðp="" @Š'àÂà;Êqa•&ž="" åy÷¶ý:Ô|nk6\ru@Ç›±åbg´ÿ="" ëh±�="”Ò‰zqËÚ9€à!Ýýjý¢puŸ®ÔSL?Â“qmRB" Üê="" …vè@ñœË¤e‘:ukÎ¦„©–àßµ3[ªüåÎèbŠ«kÎbÚ§rÎØžôvÃä“­s8@Ù�óû*nnªåil¥dpÂÍÀ(xœÜ!eÀì*sq$qgi39ƒ„ÀºÃÅiëãŒ"[*Ý” �Êd·+¬ÄaŠnË@¸«m·;øiÜøìŸyÐa–w�qòÀïýš×Û²mpµ�®„vmëdsj'$‚usÆ§+8¹gc*e"$ÑÈa€l_)¢="" �Ìc?93õâ´ŒÙ[uõ¡Ï¹Ï#åd©$`w.í"çz|-õ…‡)(6?¡_…eò±ov~ÈÙä•#6lö´¿yor«.-t™¸5œ|ëÉw[fº2_¤="" •`jxÖipû¹€íÊâ7”¿‰†î¼”eÿxŒ­ðÈ="" ª~.€äªÊøº�-�»'9c%‹Ú(Æ®?×¥{Ê‘d'¤Ó“Í="ÝièØgcÓ-ÓhÆ™Œ#9<5µnèDXÊ|óDTY®²Äî8_h·�)ç" úŽégfbÅ¶só4à\+Ë¹¸0k´h¹b3¿Ÿ^yu="" )cÛ÷xzÜn’eÁÂÁ[~d¶hš¬uâÌ±b´z="éqð6Y" ¤’ÙÙ"e.¥ˆæaÏÁb|="">=£;Ã¡ôGêzFQIøàÞ&lt;âå‚‹–±’Z¬gòµ?»’3×²‹H:Êm¥b–Ìóö^#©ð�@¡–û–mg¨–;Ž–‰^f\‹lù&lt;­t{x1v\î\‡‘TX2L-˜KÔâ0bö"$PÑÀ«¨ð)gq'¬’uÔÒï‚)!ãRÞ“„÷ºìK&amp;uv)Çhß•C¹–å3•�”¿Y§2ÿ+4y)ýùÆ'u¦áA—f0DXN€µØ·)—ø18zGÄ%‘æ'
§_°â»˜Ywg™ˆæïB$œ"²:ë–,¤€èÅg
„`VH”¾ÖÞA[s°��³¸ä5™j¤”�|z‡
‚$Î™úP»±»á&amp;‰)ØÉk~‰áP‡Ñ´½sÜUæRèÈö,?üœÒ¢®Ä0;²ðÍ$îXöøšNÈœƒEOÅ`bfÜË{Îb*
«4r‡†&lt;æô¨ˆ¹e*]I&gt;Ð{{4¦ÍŽ¼°Œ®¥ÇV3û~Z½Kk¼¶·ãÜ“Ì²¯�é:ëÖ^§ƒ!!F$tõS/Øi•&nbsp;
ÃÎãs²HÞÒÈo#¢ï/òQA™7Ðë0.Ü§ä–}s¹ãY´A*­¹RAKafÛ„ê¡}êIöÚµ¾ºGL’áÀ‚¥n ÔQH¯»¬×ºHì‘tRb¨Ò™µË;ÜewÓõùÝ�DT¤M.Ž­C s9R7|h ^q�ÀÚ	dm«æ8rƒ|=Ñ«'Š/Ó°Û‰¶¹g‹ÊsîêZPÏò9Òn'wÂM\&lt;~N˜º·Ï‰=é¸"Ìq&amp;Þ0øoAãÒŸü˜`å¼b<jÌšú.ö·‚b&-ÁëôtŠykÑ|ûå×�û gÆìèvwqihëa'kÙtgráüûá="²u¤ÒïÝëì,3&nbsp;•ÂÑ¥é](u�®ÊU\ZÊÎÅS5—6F" ßÊÛc½­·Ç�à(xi?àjïŽÿºxû¡îx±1$�½¼a´—g)k¬Âõv;1“[´¤’Ä="" ‰ö="" Åªzq%p\§Ø¾jÎz]*�pø|‚w¡˜Êd="„N³‘" Ðae{¹v.Û–6µz¿¥�¿¿Çc!®="" r‡sÇ¤j2�¥�‘&ç¶öµei§¹šuù@ï?æØ,#”Ö|ósùÁÙ»8—®Ãª\‰sy¢r¡zó'–myÒ="" cjc³ú`1ty;þÓ®mÊÛë+üóljÛæag7†?×¸¢?ˆ="" µºÚwcpc°uÂ²^ë¥ÇÜ¬ªÁ2gÈŒÀ£Ôr="" ÜÃÏ[Éÿ4ä³Þ0÷]ÉÔÐòŒ&Å’íe®="" ãçæÔ–Õ¹•óøÍöÖ¾Þä<·îjcøl˜Ý05…z@í«6£Ökd(ÿayl!"xô­­`Í…Ñ-|§\qÉt‡…,¸f‰“Óu-}û—é3¶nl°dÍbè+‘@i$="">�tÌï˜‹‹)Œ¿ýÎ|ù
¡½QñX­_Ð=¼ä
@…³D`oàõc|»&nbsp;ûæöÍ›[V|ÿ#
‘ÁÉV±¢vÛˆ¿ðß³iÓ×Ïž=›ˆBß¶=ŸgC9ÙØdF¹$EÓÈËb~bhŠ)•.RºaØ!�ÌI6˜NÆöpjý8háES�	:çKò¬ö9�²]©—4	Â¢˜ZutúÆÈ£J�MA°[üÕ©V�_æiÆX&nbsp;ÖÃU¤½-%“:Å„¦�·ÛŸÂušNíœÔúÝ�êyëÑÐVÜ¹åN]Ë{v#Î¢Y±{�(PL½ó6�­ôBAGBc¡C·§t”d³ŠÍß&nbsp;È;°šï½–&gt;È_&nbsp;¬‡‘�I[[Ç½�Fe#zX./³<u:¿šwk³¯šÆvÐ{yªÈgð¡ó>U™Ë§Ñ%˜Û† o„"Vœ¶)v{Ó»’vï’Ö¶¶%¿+&amp;š8ç)'ŒØË!6ŽîGKé–'kÍgø“kM
Xª‚Rmí°PõUe¶õ«; 5ÀY¾€BÄ(˜Ì&lt;1@ˆîÚNnv‰§By_Š÷ÔešÐ‹•’êRöF——Ig9Ïé`FÉ6m
ÓÉituÅYâÖ³ ŒÙöI§÷ÐWz:‘¶‡Ã¾íáfêC³¯ú¶Á•­EGoq´7�/\¯Ü‡l,Ó˜‘¬ä(ôáï�ÿ`ÖW©#
endstream
endobj
25 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 19 
/Widths [ 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 525 
525 525 ] 
/Encoding 49 0 R 
/BaseFont /CEDOBL+CMTT10 
/FontDescriptor 33 0 R 
/ToUnicode 50 0 R 
&gt;&gt; 
endobj
26 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/Encoding /WinAnsiEncoding 
/BaseFont /Helvetica 
&gt;&gt; 
endobj
27 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 11 
/Widths [ 358 897 511 511 307 307 486 664 511 511 332 ] 
/Encoding 51 0 R 
/BaseFont /CEEBEP+CMTI10 
/FontDescriptor 35 0 R 
/ToUnicode 52 0 R 
&gt;&gt; 
endobj
28 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 6 
/Widths [ 378 989 613 591 602 636 ] 
/Encoding 53 0 R 
/BaseFont /CEECOC+CMCSC10 
/FontDescriptor 37 0 R 
/ToUnicode 54 0 R 
&gt;&gt; 
endobj
29 0 obj
&lt;&lt; 
/Type /Font 
/Subtype /Type1 
/FirstChar 1 
/LastChar 73 
/Widths [ 333 917 528 444 500 833 556 556 389 278 556 500 444 528 392 556 500 
394 556 528 556 278 500 500 500 500 278 722 333 528 306 278 361 
278 556 708 500 500 750 389 389 653 750 583 528 736 278 500 500 
278 1000 778 500 722 750 722 500 500 611 681 500 556 444 625 556 
306 764 785 278 1028 750 681 514 ] 
/Encoding 55 0 R 
/BaseFont …</u:¿šwk³¯šævð{yªègð¡ó></jìšú.ö·‚b&-áëôtšykñ|ûå×�û></q­zûm9`ãìp„.></iðâ°r½äx•¡èjq-ãã1c�à\ùk8ùcãn></a ç1™:#l9kû¶nèrƒtþ!íj’‹¾á`b²¹"ä›§g«ê‹…°n÷z?&9ù“></c¾›¬�lïìz{p«°w%></aÿzõ×ýeeã8ž¤n8ˆò2å)"ñ…<úx¤�à™"o—�ì†jzâ™«e@dýˆ`våå�5üf‚?joøçµ„dîüñäã></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.davidsalomon.name/assem.advertis/asl.pdf">http://www.davidsalomon.name/assem.advertis/asl.pdf</a></em></p>]]>
            </description>
            <link>http://www.davidsalomon.name/assem.advertis/asl.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703581</guid>
            <pubDate>Sat, 09 Jan 2021 19:18:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is happening to Lazada is happening to all companies acquired by Alibaba]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25703505">thread link</a>) | @7d7n
<br/>
January 9, 2021 | https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/ | <a href="https://web.archive.org/web/*/https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thelowdown.momentum.asia/what-is-happening-to-lazada-is-happening-to-all-companies-acquired-by-alibaba/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703505</guid>
            <pubDate>Sat, 09 Jan 2021 19:12:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Making of Counterstrike's Dust]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703171">thread link</a>) | @sillysaurusx
<br/>
January 9, 2021 | https://www.johnsto.co.uk/design/making-dust/ | <a href="https://web.archive.org/web/*/https://www.johnsto.co.uk/design/making-dust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
		

<p>For many FPS players Dust - and the later Dust 2 - are the quintessential Counter-Strike maps. They’ve been featured in nearly every major Counter-Strike tournament, and been responsible for countless millions virtual deaths, bomb detonations and defusals. But these maps actually owe their existence to Team Fortress 2 - a game that was released eight years <em>after</em> Dust became a staple of the Counter-Strike map rotation.</p>

<h2 id="time-travelling">Time Travelling</h2>

<p>It started in the summer of 1999, Suffolk, England. I was 16 years old, recuperating from end-of-year exams and enjoying my newfound freedom from school work. Half-Life was only a few months old, yet was scooping up more ‘Game of the Year’ awards than there were game magazines, leaving gamers desperate to know what Valve Software were going to make next.</p>

<p>Thankfully, news broke that Valve had hired the team behind ‘Team Fortress’, a free mod for Quake that added class-based team multiplayer to the game. Like any responsible teenager, I’d spent more hours sat staring into a screen zooming around dodging rockets, slinging grenades and capturing the flag than I had with my head stuck in schoolwork, much to the chagrin of my parents. Their next project? A sequel, excitingly titled ‘Team Fortress 2’.</p>

<p>It seemed that whilst I had been busy ambushing my future educational prospects, behind closed doors Valve had been hammering away at updating and upgrading Team Fortress for a new generation of hardware. News of Team Fortress 2 was rare and sporadic, but occasionally a tidbit here or a screenshot there would nervously peer out to an excited but nervous audience of TF fans.</p>

<p>Before too long, a <a href="http://wiki.teamfortress.com/wiki/Promotional_images">handful of screenshots</a> started their steady journey around the gaming websites of the late nineties. Two particular screenshots leapt out at me:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_01_thumb.jpg" alt="Team Fortress 2"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_02_thumb.jpg" alt="Team Fortress 2"></a></span></p>
</div>
	<figcaption>Two early screenshots of Team Fortress 2.</figcaption>
</figure>


<p>The seed had been sown.</p>

<p>Meanwhile, a new Half-Life modification known as ‘Counter-Strike’ had been picking up a steady stream of players. In the autumn of 1999, Minh ‘gooseman’ Le and Jess Cliffe released its second beta - and it supplanted Team Fortress to become my new addiction. It came with a texture pack of urban textures (‘cstrike.wad’) that, upon discovery, I set about making a map with - this became ‘<a href="https://www.johnsto.co.uk/blog/a-little-wad-the-story-of-cs_tire/">cs_tire</a>’, a hostage rescue map set in (of all places) a retirement home. Surprisingly, this map was deemed good enough to be included in the third beta release of Counter-Strike, and Jess subsequently asked me if I’d be interested in making a map for the fourth beta. He was very keen to hook me up with their texture artist to help me make something absolutely and completely original.</p>

<p>Jess introduced me to artist Chris ‘MacMan’ Ashton - the same artist behind the urban texture set used in my retirement home map - and we got to work creating a new, totally original Counter-Strike map. Unfortunately it was too late to save me from TF2’s influence and I asked for these instead:</p>

<figure>
	<p><span><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2-textures.jpg" alt="Team Fortress 2 texture selection"></span></p>
	<figcaption>Team Fortress 2 screenshots were used to create a core texture set</figcaption>
</figure>


<p>Undeterred by my complete lack of originality, Chris quickly got back to me with beautiful lookalikes. While not exact replicas, I selfishly became completely infatuated with them, just like I had the screenshots they were based on . I quickly bundled them all together into my own texture pack and called it “cs_dest.wad” - shorthand for “Destiny”.</p>

<p>With these TF2-alike textures I could finally make a map and pretend I was playing Team Fortress 2, but something was wrong. I felt guilt - TF2 wasn’t even out yet and I was already trying to sap all the effort Valve had been putting into it. It was akin to snatching a duckling from under its mothers beak. “But surely”, I thought, “Valve wouldn’t mind one me making one small map for one small mod for their one and only published game? A map that maybe only a handful of people would ever play?”</p>

<p>I marched on.</p>

<h2 id="copy-and-paste">Copy and Paste</h2>

<p>Starting the map was the easy bit - the first area boasted a long road flanked by buildings, leading to an archway and a wall dividing it in two, just like I’d seen in the screenshots. I decorated every building and wall with ornate trims along the top or bottom, again aping TF2, as I tried my hardest to evoke the same sense of place, desolation, and scale. These features would go on to define the underlying architectural style of Dust.</p>

<p>My effort wasn’t <em>quite</em> identical to the map featured in those coveted TF2 screenshots, but it was close enough, and - somewhat more importantly - it was a start.</p>

<p>The arched doorways became a hallmark of the Dust theme - a Dust map is simply not Dust without at least two or three arches dividing the map into distinct zones. Creating the first one was at the time a great test of my technical mapping ability, and I struggled for a little while before landing on a technique that worked. My design eschewed the Reuleaux triangle shape of the TF2 arches for a simpler semi-circle, partly because it was simpler, but primarily to ease player passage through them. I extruded the arches from their adjoining wall - lifted straight from the screenshots.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/start_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/start_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/start_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/start_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>The first  incarnation of what became the CT spawn</figcaption>
</figure>


<p>I considered against copying the screenshots verbatim for fear of upsetting Valve, and so started guessing how the rest of the area should look. I’d already created a raised platform, and had decided that this could be the area that the Counter-Terrorist team would spawn in at the start of the match. This necessitated defensive measures to protect their spawn area, so I made some windows:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/early_windows_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/early_windows_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/early_windows_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/early_windows_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>The view from inside a building next to the CT spawn</figcaption>
</figure>


<p>Not only did they look hideous, but the windows didn’t give the defensively-advantageous views I wanted the CT team to have. Nor did they fit with the intended gameplay. I didn’t want to encourage the CTs to hold back, and removed them - although in all honestly, at this point I really didn’t know where the map was going.</p>

<h2 id="under-the-influence">Under the Influence</h2>

<p>Side-by-side, the TF2 ‘influence’ is plain to see:</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_01_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>Side-by-side, the influence of TF2 on the design of the CT spawn area is apparent.</figcaption>
</figure>


<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tf2compare_02_thumb.jpg" alt="Early CT spawn area"></a></span></p>
</div>
	<figcaption>TF directly influenced building placement and the design of the arches.</figcaption>
</figure>


<p>In many respects, the TF2 screenshot looks nicer to me - smoother and softer than the harsh edges of the Dust buildings. I was far more comfortable working with standard geometric shapes, 90 degree corners and 45 degree angles, which is why Dust looks far boxier in comparison to the TF2 screenshot it was based on.</p>

<p>That was the easy part done - after all, Valve had already created this much of the map for me and all I’d had to do was copy it. But what I had wasn’t much - it was barely enough for a one-on-one deathmatch, let alone two teams of eight players gunning it out. Worse still, there were no more screenshots to use for ‘inspiration’ - I had to make the rest of the map off my own back and imagination.</p>



<p>Having nailed down the design of the first area, producing the rest of the map was merely a case of extrapolating it into a complete, playable environment. However this was much easier said than done - the next section of the map proved rather more challenging.</p>

<p>I had created a T-junction out of the CT spawn, but struggled to know what to do with it. My past mapping experience was mostly creating tight interiors rather than not vast exteriors, and so I was feeling very lost. Desperate, I shoe-horned a bend in the road leading to a downward slope, and at the end of it - an underground cavern.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underground_01.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underground_01_thumb.jpg" alt="An underground chamber"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underground_02.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underground_02_thumb.jpg" alt="An underground chamber"></a></span></p>
</div>
	<figcaption>The underpass originally descended into a vast underground facility, but this was scrapped the moment I played it.</figcaption>
</figure>


<p>It didn’t work, of course. While the CT spawn area was light and airy, this giant room was gloomy, boxy and felt dead compared to the sunny exterior I’d already made. Observing it also lacked any gameplay potential, I swiftly deleted it. Dust would be an outdoor map.</p>

<p>I was still stuck. It’s at times like these where working without an initial design can prove extremely difficult. You look at what you’ve got, and struggle to see where to take it, knowing that a step in one direction is a step away from a solution in another direction - and you don’t know which will turn out better. It can be very tough and incredibly tempting to just scrap  <em>everything</em> and start again. I’d made all my previous maps one room at a time, making it up as I go along with precious little pre-planning, and they had gone reasonably well. I had to hope I could do the same again.</p>

<p>Mercifully, that’s exactly what happened.</p>

<figure>
	<div><p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/tspawn.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/tspawn_thumb.jpg" alt="Terrorist spawn"></a></span></p>

<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/underpass.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/underpass_thumb.jpg" alt="Underpass"></a></span></p>
</div>
	<figcaption>The Terrorist spawn area, and shallow decline into the underpass.</figcaption>
</figure>


<p>Within just a few hours - and seemingly out of nowhere - the Terrorist spawn area was complete. I was far happier with this side of the map, perhaps a product of becoming comfortable with the visual and architectural style. The shallow decline into the underpass is perhaps one of my favourite aspects, both aesthetically and as a player who spent many hours armed with a Steyr Scout at the crest popping off opponents’ heads.</p>

<p>At one point I planned an alleyway from the Terrorist side of the underpass that fed around to the CT ‘sniper nest’, but this path seemed like it would be too long, too linear, and simply too <em>dull</em>. I just blocked it up with crates instead, still visible in the original version of the map (and the screenshot above.)</p>

<p>Dust’s central hallway was pivotal in tying all these pieces together. Unfortunately, I can recollect very little about its creation, bar my explicit efforts to ensure players couldn’t see all the way through it from one end to the other. Every crate found in the intersection was strategically positioned to cut off lines-of-sight and improve performance. It was in this corridor that each team would typically meet, and so it needed to be fair, and balanced, with a slight defensive bias.</p>

<figure>
	<p><span><a href="https://www.johnsto.co.uk/i/design/making-dust/corridor.jpg"><img src="https://www.johnsto.co.uk/i/design/making-dust/corridor_thumb.jpg" alt="A screenshot of the central corridor"></a></span></p>
	<figcaption>The central corridor, Terrorists approached from the top, Counter-Terrorists from the bottom. Note the stack …</figcaption></figure></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.johnsto.co.uk/design/making-dust/">https://www.johnsto.co.uk/design/making-dust/</a></em></p>]]>
            </description>
            <link>https://www.johnsto.co.uk/design/making-dust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703171</guid>
            <pubDate>Sat, 09 Jan 2021 18:44:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking QR code design – Creating QR codes that look like anything]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703083">thread link</a>) | @whack
<br/>
January 9, 2021 | https://marienraat.nl/hacking-qr-codes.html | <a href="https://web.archive.org/web/*/https://marienraat.nl/hacking-qr-codes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
      <div>
        <div>
          <p><b>Check out <a href="https://my-qr.art/">My-QR.art</a> for the final result!</b></p>

          <p>QR codes provide a clear and approachable way of translating the physical world to the
          digital world. When I see a QR code, I always want to scan it to find out what is behind
          it, somehow they always fascinate me. But QR codes always look very similar, could there
          be a way to make them look more cool? Make them a certain specific shape or contain pixel
          art?</p>

          <p>People already (ab)use the error correction build into QR codes to embed their logo
          in it, they simply put their logo over a part of the QR code and let the error correction
          handle the missing data. However, you can never obscure more than 30% of the code (and
          usually a lot less) if you choose this approach. But QR codes are mostly a visualisation
          of data. Can we approach the problem from the other side? What if we don't try to
          design a QR code to fit the data, but fit the data to the design of the QR code that we
          want.</p>

          <p>Spoiler, we can. Check out <a href="https://my-qr.art/">My-QR.art</a>. All the code is
          totally free and open source, so feel free to
          contribute <a href="https://github.com/raatmarien/my-qr.art">on GitHub</a></p>

          <h2 id="the-idea">The idea</h2>

          <p>Say, we want to promote our website. And we have a nice grayscale logo. Now we want to
          have an engaging QR code that looks like our logo.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-logo.svg" alt="My-QR.art logo"></p><p>And we have an URL that we want the QR code to lead us too, for
            example: <a href="https://my-qr.art/">https://my-qr.art</a>.</p>
          
          <p>We set up a web server that can redirect certain URLs to other URLs. Then we can make
          the beginning of the data of our QR code the URL to that web-server and the rest of the
          QR's data can be anything. So we can choose the rest of the data in any way that makes
          our QR code look most like our design!</p>

          <p>For example the QR code could send you
            to <code>https://my-qr.art/r/arbitrary-super-long-string</code>. On the back-end we tell
            the server to redirect any request with the
            URL <code>https://my-qr.art/r/arbitrary-super-long-string</code>
            to <code>https://my-qr.art</code>. And tada! We have a functional QR code that sends us to
            the address we want, while having way more control over how the QR code looks! Up to 80%
            of the code can be freely designed this way!</p>

          <p>When we have this all working, we could even make nice scannable QR gifs. We could make
          each frame separately and let them all redirect to the same page. I admit, most QR codes
          are printed, so gifs might not make the most sense, but they look pretty cool! To keep you
          excited for the rest of the article, here is world's first ever working QR gif (as far
          as I know)!</p>
          
          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr.gif" alt="Animated QR code that shows a running horse"></p><p><a href="https://en.wikipedia.org/wiki/The_Horse_in_Motion">The running horse might
          remind you of some other movie...</a></p>

          <h2 id="qr-codes">How does QR work?</h2>

          <p>Now that we know the concept, lets get started. First we need to know how QR codes
          actually work.</p>

          <p>QR codes encode data by making some blocks dark and other light. The QR scanner can
          then read which are dark and which are light and reconstruct the original data. QR codes
          can have 40 different sizes, from <em>version 1</em> (very small, 17x17) to <em>version
          40</em> (very big, 177x177). QR codes are made of black and white 'modules' and
          each module has one of the following 4 functions:</p>

          <ol>
            <li>Help the scanner recognise and orient the QR code</li>
            <li>Give information about the QR code size, type and other internal QR stuff</li>
            <li>Encode the actual data that the QR code represents</li>
            <li>Encode error correction info about the QR code</li>
          </ol>

          <h2 id="drawing">Creating a template</h2>

          <p>Our plan is to allow the user to choose the colour of any module that has function 3. So
          the first step is to let the user know which pixels they can control and which pixels they
          can't control for the QR code size they chose. For now lets try to create an image on
          which the modules with function 3 are coloured white and all other modules are coloured
          grey.</p>

          <p>For this we can colour all the modules and error data. To get this right you really need
          to dive into how QR codes work. We need to think about the data encoding, interleaving,
          extra eyes, error words and more. We'll also need to take into account that we'll
          need to reserve first few characters of our data for the start of our URL. Luckily there
          is a great source on QR codes on the
          internet, <a href="https://www.thonky.com/qr-code-tutorial/introduction">the QR code
          tutorial from Thonky.com</a>. Putting the work in, we get something like this, for version
          30.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-template.png" alt="A template for a QR design"></p><h2 id="reading">Reading a design</h2>

          <p>Now let's work on the other side of the puzzle, when we have a design that a user
          has drawn on our template, how do we convert it to a working QR code? QR codes have 4
          possible types of encoding: <em>numeric</em>, <em>alphanumeric</em>, <em>binary</em>
          and <em>kanji</em>. We need something that we can create valid URLs with, so numeric and
          kanji are out. Secondly, we need the random string at the end of our URL to
          be <em>normal</em> enough so that QR scanners will still recognise our code as an
          URL. The <em>binary</em> encoding will create characters that aren't ordinarily found
          in URLs ('\0' for example), which means lots of QR scanners won't let their
          users open our URL. Luckily the <em>alphanumeric</em> encoding has just enough characters
          to let us make valid URLs (although they'll have to be all caps).</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-design.png" alt="A design for a QR code that contains the My-QR.art logo">

          <img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/qr-data-order.png" title="Made by Thonky, shared under the CC ANC 4.0" alt="An illustration from Thonky.com that shows how data is encoded in a QR code"></p><p>So with that figured out, lets read that design the user made. First we'll extract
          a bit string from all the data modules in the design. For small QR codes this is quite
          straight forward, the QR code is simply read from right to left, bottom to top and back
          again in double columns, see the illustration from Thonky above. However, when the QR code
          size passes 5, we'll have to take into account interleaving. Then the data words are
          scattered around the QR code, presumably to make the data pattern more random. So
          we'll have to reverse that interleaving procedure. Luckily how it works is explained
          by <a href="https://www.thonky.com/qr-code-tutorial/error-correction-coding">Thonky.com</a>. At
          last we get a bit string from our design, here we only show the first 80 character, the
          real bit string for this design is 13863 bits long.</p>
          <p><code>01100011010101001100101010001100011110111010100000000001110100111110011101001001</code></p>

          <h3 id="decoding">Decoding the bitstring</h3>
          <p>Now we'll need to decode the bits to an alphanumeric string. Here we group 11 bits
          together every time and then convert that into two alphanumeric characters
          using <a href="https://www.thonky.com/qr-code-tutorial/alphanumeric-table">this
          table</a>. We get the following data string (again truncated).</p>

          <p><code>KS$#LKAHRDF9H8XQI9AL HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <p>We'll just replace the first 20 characters with our URL prefix and we get:</p>

          <p><code>HTTPS://MY-QR.ART/R/ HRD$OIWHSRE94QX95IFR*IK9HF/ 5NM+/AMIA99LB I5R II98ULR JRD/AR1 IRG8...</code></p>

          <h3 id="qr-code">Generating the QR code</h3>

          <p>Now we can use any QR library to create the QR code! The QR library will handle adding
          all the difficult error codes and other boring stuff for us.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/failed-qr.png" alt="A random looking QR code"></p><p>But what is that? Why does it still look all random? The problem is masking. The QR
          code spec includes 5 different masks and the mask that makes the QR code look most random
          is chosen, which is almost certainly not our design. This is done to make the code easier
          to read for scanners. However, in my experience, QR codes scan just fine with more
          structured data. So we don't have to feel too bad about modifying our QR library to
          always use the same mask. Then after we apply the same mask to our design before
          processing it, we finally get the desired image.</p>

          <p><img src="https://marienraat.nl/assets/img/blog/hacking-qr-codes/my-qr.art-qr.png" alt="A QR code with the design in it"></p><h2 id="redirecting">Redirecting the request</h2>

          <p>Now to redirect the QR code to the right domain. This should be easy, put the QR URL in
          a database and link it to the redirect URL. When we receive a request, simply look up the
          corresponding URL in a database. However, if we want to use a modern web server, we'll
          have to jump through some hoops... Apache doesn't like most of our URLs, since they
          are technically malformed (ugh, spoil the fun much Apache?). So it throws an <em>Error
          400: Bad request</em>. We can't disable this error anywhere it seems. However, luckily
          there is a workaround, we can set a custom error page for our <em>Error 400</em>, so if we
          just set the redirect page as the error page for <em>Error 400</em>, we are home free!
          Luckily Apache is not so much of a spoilsport that it throws a Bad Request error while
          trying to handle a Bad Request...</p>

          <p>For the back-end I've been using Django, and it has another fun bug that shows up
          with these really weird URLs. It tries to decode the URL as an ISO-8859-1 string, but some
          of the characters passed by Apache aren't in ISO-8859-1. So we have to derive our own
          WSGI handler to workaround
          this, <a href="https://github.com/raatmarien/my-qr.art/blob/main/my_qr_art/custom_wsgi.py">see
          here</a>. But now it works, try to scan the QR we made, it redirects where we want it to
            redirect!</p>

          <p>One small caveat though, QR codes themselves are standardized and we create standard
          compliant QR codes with correct URLs in them, but QR scanners aren't standardized and some
          might not recognize our code as a URL and will see it as plain text instead.</p>

          <h2 id="a-web-app">Custom QR codes for everyone!</h2>

          <p>Just outputting and parsing images isn't very user friendly, so I made a nice web
          app at <a href="https://my-qr.art/">My-QR.art</a> using Django. It
          has <a href="https://my-qr.art/editor">a friendly editor</a> where you can draw, fill or
          upload black and white images to make your QR code. It also has some …</p></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://marienraat.nl/hacking-qr-codes.html">https://marienraat.nl/hacking-qr-codes.html</a></em></p>]]>
            </description>
            <link>https://marienraat.nl/hacking-qr-codes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703083</guid>
            <pubDate>Sat, 09 Jan 2021 18:36:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WhatsApp convinces you to give it your contacts]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703067">thread link</a>) | @MattBearman
<br/>
January 9, 2021 | https://blog.mattbearman.com/how-whatsapp-gets-contacts/ | <a href="https://web.archive.org/web/*/https://blog.mattbearman.com/how-whatsapp-gets-contacts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <article itemscope="" itemtype="https://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>The Internet is currently ablaze with the news that WhatsApp will soon be requiring more user data to be shared with Facebook. This reminded me of another nefarious thing WhatsApp does that I haven’t seen anyone else talking about:</p> <h4 id="whatsapp-uses-dark-patterns-to-coerce-you-into-giving-it-access-to-your-contacts"> <a href="#whatsapp-uses-dark-patterns-to-coerce-you-into-giving-it-access-to-your-contacts"></a> <em>WhatsApp uses dark patterns to coerce you into giving it access to your contacts</em> </h4> <p>While WhatsApp will work without access to your contacts, the user experience is deliberately degraded. Without access to your contacts, WhatsApp prominently displays each participant’s phone number above their message, with their display name shown next to it, almost as an afterthought:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/message.png" alt="WhatsApp Message"></p> <p>The name is very low contrast compared to the background, where as the phone number is listed first, in larger text, and a high contrast colour. Your eye is immediately drawn to the phone number, making it hard to see at a glance who’s talking. The display name will also be truncated if it’s too long for the available space.</p> <p>Even worse is the list of chats, which <em>only</em> displays the phone number for non-group chats, no names in sight:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/chats.png" alt="WhatsApp Chats"></p> <p>You do at least get the user’s profile picture here, but not everyone adds a profile picture, and even if they do, they may choose one that is not easily recognisable.</p> <p>There’s no good reason for WhatsApp to treat privacy conscious users this way. The name field is <strong>required</strong> when setting up a WhatsApp account, so every user has a name that could be displayed here instead of just the phone number.</p> <p>While writing this, I decided to install Signal, to see how it handles labeling chats without phonebook access. I wasn’t surprised to learn Signal choses the user friendly and logical option - displaying the participant’s name, with the phone number below it in smaller text:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/signal.png" alt="Signal Chats"></p> <p>Signal also helps distinguish between chats with users who haven’t added a profile image, by generating a uniquely coloured circle containing their initial. This isn’t unique to Signal, or even a new idea, it’s a tried and tested pattern. Compared with WhatsApp’s “generic bust”, it presents further evidence that WhatsApp is made deliberately hard to use if you don’t give it access to your contacts:</p> <p><img src="https://blog.mattbearman.com/assets/img/blog/whatsapp-contacts/signal-vs-whatsapp.png" alt="Signal vs WhatsApp default profile pictures"></p> <p>When I first installed WhatsApp I didn’t give it access to my contacts, as I tend to err on the side of minimal permissions, and I couldn’t see why it would <em>need</em> access. However, it didn’t take long for me to become frustrated with this user experience. I was constantly struggling to find conversations, or identify who was talking in group chats.</p> <p>I asked a friend with more WhatsApp experience if there was a way to make it show names instead of phone numbers. Their response was <strong><em>“Oh, that’s easy. You just need to give it access to your contacts.”</em></strong> This wasn’t the solution I was hoping for, and I resisted for as long as possible. Yet eventually the dark pattern wore me down, and I granted WhatsApp access to my contacts.</p> <p>I joined WhatsApp in late 2014, at which point they’d already been acquired by Facebook. I find myself wondering if this was a preexisting pattern, or something that happened after the acquisition, possibly at the behest of Facebook.</p> <p>Using display names as the primary identifier would be a vastly improved experience for those who chose not to give WhatsApp access to their contacts. Instead WhatsApp provides this unnecessarily worse experience, in an attempt to gain access to user’s contacts. And it works.</p> <p>I’d love to be able to say that I’ll be replacing WhatsApp with an alternative like Signal, but WhatsApp’s network effect is a strong one, and it’s currently how I keep in touch with my family.</p> <p><em>– Matt</em></p> </div> </article> </div></div>]]>
            </description>
            <link>https://blog.mattbearman.com/how-whatsapp-gets-contacts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703067</guid>
            <pubDate>Sat, 09 Jan 2021 18:35:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25703056">thread link</a>) | @harporoeder
<br/>
January 9, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25703056</guid>
            <pubDate>Sat, 09 Jan 2021 18:33:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Which smartphone, laptop and tablet brands break down the most?]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25702727">thread link</a>) | @vanpythonista
<br/>
January 9, 2021 | https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A CBC Marketplace survey that asked more than 3,200 Canadians about smartphone, laptop and tablet breakdowns and repairs&nbsp;revealed that an overwhelming majority of them are dealing with broken technology that is too difficult or too expensive to repair.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5861152.1609866490!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/jason-bolduc.jpg"></p></div><figcaption>Jason Bolduc holds a 14-day-old Samsung S20 Galaxy Plus with a hairline crack.<!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure><p><span><p>Of the electronic devices used in Canada, LG smartphones top the list of devices Canadians said have broken the most over the last five years, according to an investigation by CBC's<em> Marketplace</em>.&nbsp;</p>  <p>An online survey that asked 3,201 Canadians&nbsp;about smartphone, laptop and tablet breakdowns and repairs&nbsp;revealed that an overwhelming majority of them are dealing with broken technology that is too difficult or too expensive to repair. The survey was&nbsp;conducted&nbsp;between Aug. 6 and Aug. 20 by Leger Marketing on behalf of <em>Marketplace.</em></p>  <p>Sixty-five per cent of respondents said they had multiple devices break down within the past five years.&nbsp;&nbsp;</p>  <p>Gay Gordon-Byrne, the head of the Repair Association, a consumer advocacy group in the United States established to hold manufacturers of electronic devices more accountable for reparability, said that in general, manufacturers want a consumer to have to return to the store to repair an item, which in turn may entice them into buying the newest products.&nbsp;</p>  <p>"We literally have to go buy new ones and throw away the old ones because we're not allowed either by design or by policy to fix them," she told <em>Marketplace</em>.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/gay-gordon-byrne.jpg 300w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/gay-gordon-byrne.jpg 460w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/gay-gordon-byrne.jpg 620w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/gay-gordon-byrne.jpg 780w,https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/gay-gordon-byrne.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5861144.1609799082!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/gay-gordon-byrne.jpg"></p></div><figcaption>Gay Gordon-Byrne of The Repair Association at the border at Derby Line, Vermont.<!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure></span></p>  <p>For the survey, people across the country shared their stories about lifespan, reparability and the brand and type of device that broke down more than others in the last five years.&nbsp;</p>  <h2>4-month fight to fix LG smartphone</h2>  <p>Laurie Hood of Canmore, Alta., recently purchased LG's G8 Thin Q smartphone. Not long after, she said it started having problems.</p>  <p>"I just bought the phone, and I'm not blaming myself, but that's really a drag," Hood said.</p>  <p>"I wish I'd done my research before. I didn't."&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/laurie-hood.jpg 300w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/laurie-hood.jpg 460w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/laurie-hood.jpg 620w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/laurie-hood.jpg 780w,https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/laurie-hood.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5863229.1609951856!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/laurie-hood.jpg"></p></div><figcaption>Laurie Hood of Canmore, Alta., began having problems with her LG G8 Thin Q smartphone not long after she purchased it.<!-- --> <!-- -->(Dave Rae/CBC)</figcaption></figure></span></p>  <p>Both a certified LG repair shop and LG told her she would have to pay for a repair for the nearly new phone, which retails for about $1,250.</p>  <p>She estimated it took four months and, "fair to say about 20 hours of emails and on the phone,"&nbsp; but after persistent fighting for a fix, the phone eventually was returned to her repaired at no cost.</p>  <p>LG declined requests for on-camera interviews.</p>  <p><em>Marketplace </em>told the company about Hood's experience and a spokesperson for the company wrote that they'll look into it.</p>  <p>To understand which brands experienced more breakdowns than others based on the survey data, David Bellhouse, a professor emeritus of statistical and actuarial sciences at&nbsp;Western University, calculated the percentage share of breakdowns for each brand using market share data.</p>  <p>According to Bellhouse's analysis, LG smartphones had a disproportionately higher percentage of breakdowns than the company's percentage of the Canadian smartphone market and were the devices that broke down most&nbsp;over the last five years when compared with other brands in the survey and when market share was taken into account.</p>  <p>When <em>Marketplace </em>told the company about its position in the survey analysis, the company said in a statement that it stands behind the quality of its devices, claimed LG doesn't limit parts for phone repairs&nbsp;and said it is trying to make it easier for its customers to get their phones fixed.</p>  <ul>   <li><strong><a href="https://www.cbc.ca/news/marketplace/the-people-vs-the-tech-giants-1.5865424">Read more about how <em>Marketplace </em>conducted the survey and how companies responded</a></strong></li>  </ul>  <h2>Top breakdown issues identified</h2>  <p>The vast majority of respondents (96 per cent) had an identified problem with their device. They indicated "it became slow or buggy" (40 per cent) or had "a weak/dead battery" (26 per cent).&nbsp;</p>  <p>Other problems included the device wouldn't turn on, had a cracked or broken screen, would not charge or overheated.</p>  <p>According to Gordon-Byrne, tech companies generally don't want a consumer&nbsp;to repair a&nbsp;device&nbsp;and get "another two years of life out of it."</p>  <h2>Apple vs. Samsung smartphones</h2>  <p>Apple dominates the smartphone market, followed by Samsung.&nbsp;</p>  <p>Bellhouse's survey analysis showed Samsung smartphones experience more breakdowns relative to market share than Apple iPhones.</p>  <p>The survey received 563 reports about Samsung phones of the 1,922 reports about smartphones overall.</p>  <p>Data also showed that smartphones break down more than any other device.</p>  <p><em><strong>WATCH | Between Apple and Samsung, here's the phone brand Canadians tell us broke more than others:</strong></em></p>  <p><span><span><div><div title="Apple vs. Samsung: Which phone brand breaks down the most?" role="button" tabindex="0"><div><div aria-labelledby="1842063427989-metadata-" title="Apple vs. Samsung: Which phone brand breaks down the most?"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/569/595/APPLE_vs_SAMSUNG_horizontal.png" alt="" loading="lazy"></p></div></div></div></div></div><span>Here is the top smartphone brand that breaks down the most based on a CBC Marketplace survey and market share analysis.<!-- --> <!-- -->1:42</span></span></span></p>  <p>Jason Bolduc owns a Samsung S20 Galaxy Plus 5G that sells for $1,875, but he paid $1,280.&nbsp;</p>  <p>The phone immediately had problems, including overheating, which he said resulted in a hairline crack on the back glass.</p>  <p>It was still under warranty, and Telus, which sold it to him, has a 15-day return policy, so Bolduc attempted to return it to the store in Bracebridge, Ont., where he purchased it.</p>  <p>In a written statement to <em>Marketplace</em>, Telus said that it couldn't help Bolduc because he didn't buy an extended care warranty and the issues with the phone had to be addressed by the manufacturer.</p>  <p>He also approached Samsung, which wanted to charge him for repairs.</p>  <p>"I still have to be out of pocket costs because they are claiming that it's the [user's] fault," he said, though he noted the company had no evidence of that.</p>  <p>Samsung was also asked for an on-camera interview but instead provided a statement that its Galaxy products are some of the industry's "most durable." The company also said it will look into Bolduc's situation.</p>  <h2>Seeking repairs</h2>  <p>Almost three out of four survey respondents have had at least one device break down in the past five years. And 65 per cent have had multiple device breakdowns in that time.</p>  <p>Half (51 per cent) of devices taken to the manufacturer weren't repaired because the survey respondents said it would be too costly or the manufacturer couldn't fix the device.</p>  <p>Ricardo Borja owns a three-year-old Apple iPhone 7 but the audio only worked if connected to Bluetooth. As a result, he was in his car often to make or receive phone calls.</p>  <p>"I will be talking through the microphone of my car. So this is a pretty expensive headset," he said.</p>  <p>The battery also drained quickly, he said.</p>  <p>Borja sought repairs with both the manufacturer and a certified Apple repair shop where he lives in Montreal. He said both times he was told he could pay $400 and trade in the phone.&nbsp;</p>  <p>But the Quebecker didn't want to contribute to growing e-waste&nbsp;and as a product designer, couldn't understand why there wasn't a solution that allowed a repair.</p>  <p>"That is something that kind of sucks as a pattern as a whole if you look at consumer electronics. It's that they're making them less and less repairable at home."</p>  <h2>Apple replaces customer's iPhone, thanks to Quebec law</h2>  <p>Weeks after meeting with <em>Marketplace</em>, Borja sent a message to say he had gotten his iPhone 7 replaced for free with the same model from Apple.</p>  <p>He had researched Quebec's consumer protection laws, which say if a product doesn't last as long as another just like it, the manufacturer might have to repair it at no cost, replace it or provide a refund.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_300/ricardo-borja.png 300w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_460/ricardo-borja.png 460w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_620/ricardo-borja.png 620w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_780/ricardo-borja.png 780w,https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_1180/ricardo-borja.png 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5861159.1609799963!/fileImage/httpImage/image.png_gen/derivatives/original_780/ricardo-borja.png"></p></div><figcaption>Ricardo Borja in Montreal with the iPhone 7 he only uses in his vehicle for calls. <!-- --> <!-- -->(Stephanie Matteis/CBC)</figcaption></figure></span></p>  <p>Right to repair advocates told <em>Marketplace </em>that of anywhere in Canada, the law may be strongest in Quebec. But even still, Borja wasn't told about it.</p>  <p>"If we don't know our rights, then they don't tell us that we're entitled to have a replacement phone at no charge, and I would have paid $400," he said of his experience with Apple.</p>  <p>Apple declined <em>Marketplace </em>requests for an on-camera interview about Borja's experience and the survey analysis, but in a statement told <em>Marketplace </em>the company has a new repair program that is making it easier to get phones fixed.&nbsp;</p>  <h2>Rating laptops: Acer vs. Apple&nbsp;versus HP</h2>  <p>When it comes to laptops, Acer, Apple and HP&nbsp;are Canada's top sellers.</p>  <p>Of those brands, Bellhouse's analysis looking at market share in households relative to breakdowns from the survey found that Canadians have experienced more breakdowns with HP over the last five years.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/acer-and-hp-graphic.jpg 300w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/acer-and-hp-graphic.jpg 460w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/acer-and-hp-graphic.jpg 620w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/acer-and-hp-graphic.jpg 780w,https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/acer-and-hp-graphic.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5866933.1610144339!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/acer-and-hp-graphic.jpg"></p></div><figcaption>Acer and HP are among Canada's top selling laptops.<!-- --> <!-- -->(David Abrahams/CBC)</figcaption></figure></span></p>  <p>HP declined <em>Marketplace</em>'s request for an interview, but wrote that in the past five years, its line of notebooks "have realized a 30 per cent reduction in&nbsp;[failure] rates as measured by the industry standard metric of Annualized Failure Rates (AFR)."</p>  <p>And by that same metric, the failure rate is "the lowest it has been in the company's history."</p>  <p>As for repairability, the company noted that some of its products are highly rated on iFixit's reparability scale. The California company is a well-known advocate for the right to repair.</p>  <h2>Tablets are a 'bad investment,' says expert</h2>  <p>When it comes to tablets, Gordon-Byrne said people should save their money.&nbsp;</p>  <p>She said they're often made with a lot of glue, which makes them difficult to take apart and repair. Add to that, right to repair advocates say manufacturers usually don't grant consumers and most repair shops, other than certified dealers,&nbsp;access to parts, repair instructions and software. Both impede successful repair, making them "a bad investment," Gordon-Byrne said.</p>  <p>When it comes to market share of tablets, Apple dominates the market at more than 75 per cent of sales, followed by Samsung at 17 per cent.</p>  <p>Bellhouse said iPads have broken down the least compared to all other brands.</p>  <p>The survey, which has a 1.7 per cent margin of error 19 out of 20 times, also had 201 respondents from Canada's North, which is also one of the toughest spots …</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881">https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881</a></em></p>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/smartphone-survey-marketplace-1.5860881</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702727</guid>
            <pubDate>Sat, 09 Jan 2021 18:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Readable Bash Scripts]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25702062">thread link</a>) | @mooreds
<br/>
January 9, 2021 | https://brianschiller.com/blog/2021/01/07/readable-bash-scripts | <a href="https://web.archive.org/web/*/https://brianschiller.com/blog/2021/01/07/readable-bash-scripts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
      <div>
        <article>
          <p>I really love the feeling of writing a bash pipeline. It’s fun to string commands together, peek at the output, add another couple pipes to massage the data closer to my goal. I even gave a short class on them: <a href="https://github.com/bgschiller/shell-challenges">bgschiller/shell-challenges</a>.</p>

<p>But it’s easy to find that a pipeline that was delightful to write is painful to maintain. Even if you’re the one reading it a month later, it’s difficult to remember what the purpose of each piece is. This is a trick I learned to break pipelines into intermediate files for more readable scripts.</p>

<h3 id="the-task">The task</h3>

<p>The product I’m working on has a list of “Alarms”—conditions that the end user needs to be alerted to. We also have a localization file for each supported language that maps Alarm names to human-readable names, descriptions, etc. There are a lot of alarms, enough to make it difficult to keep track of which ones are already translated. This calls for a script!</p>

<p>The Alarms file looks something like this:</p>

<div><div><pre><code><span>&lt;!-- Alarms.xml --&gt;</span>
<span>&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span>&lt;config</span> <span>name=</span><span>"AlarmConfig"</span><span>&gt;</span>
   <span>&lt;AlarmList</span> <span>name=</span><span>"IngredientAlarms"</span> <span>version=</span><span>"1.0"</span><span>&gt;</span>
      <span>&lt;Alarm</span> <span>name=</span><span>"MozzarellaTooWarm"</span><span>&gt;</span>
        <span>&lt;!-- some alarm-specific stuff here --&gt;</span>
      <span>&lt;/Alarm&gt;</span>
      <span>&lt;Alarm</span> <span>name=</span><span>"PizzaTooCold"</span><span>&gt;</span>
      <span>&lt;/Alarm&gt;</span>
      <span>&lt;!-- ... --&gt;</span>
</code></pre></div></div>

<p>And the localization something like this:</p>

<!-- prettier-ignore -->
<div><div><pre><code><span>[{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_id_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>MozzarellaTooWarm</span><span>"</span> <span>},</span>
 <span>{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_title_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>Mozzarella Too Warm</span><span>"</span> <span>},</span>
 <span>{</span> <span>stringId</span><span>:</span> <span>"</span><span>alarm_description_MozzarellaTooWarm</span><span>"</span><span>,</span>
   <span>localString</span><span>:</span> <span>"</span><span>The mozzarella has become too warm and must be used within the next five minutes</span><span>"</span> <span>},</span>
  <span>//...</span>
<span>]</span>
</code></pre></div></div>

<h3 id="make-a-plan">Make a plan</h3>

<ol>
  <li>Extract the alarms names from Alarms.xml using <code>xpath</code>.</li>
  <li>Each alarm needs to be prefixed with <code>alarm_id_</code>, <code>alarm_title_</code>, <code>alarm_description_</code>, <code>alarm_operator_actions_</code> in order to match the localization file. Figure out some way to do that.</li>
  <li>Extract the <code>"stringId"</code> from each entry in the localization file. Oh, but there are other entries for things that need to be localized, and aren’t alarms at all. Figure out a way to filter those out. Probably use <code>jq</code> for that.</li>
  <li>Use <code>diff</code> to compare the expected keys with the actual keys.</li>
</ol>

<p>This isn’t a post on how to make bash pipelines, so I’ll gloss over that piece. Here’s what I came up with:</p>

<div><div><pre><code>diff <span>\</span>
  &lt;<span>(</span><span>join</span> <span>-j</span> 99999 <span>\</span>
    &lt;<span>(</span><span>echo</span> <span>'alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_'</span><span>)</span> <span>\</span>
    &lt;<span>(</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name Alarms.xml |
      <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span><span>)</span> <span>\</span>
    | <span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span><span>)</span> <span>\</span>
  &lt;<span>(</span>jq <span>'.[] | select(.stringId | startswith("alarm_")) |
        .stringId '</span> i18n/en.json | <span>sort</span><span>)</span>
</code></pre></div></div>

<p>It’s convoluted and kinda impressive in that way. But not code you’d be happy to maintain.</p>

<h3 id="one-step-at-a-time">One step at a time</h3>

<p>The prior step accomplished what we needed, but it was pretty difficult to see what was going on. In my opinion, that’s because</p>

<ul>
  <li>Nothing has a name. Because each process substitution is fed directly into a parent, nothing ever receives a name. We need to name our intermediates!</li>
  <li>No comments. It’s difficult to add comments because every line ends in a backslash, meaning “continue this line as if I hadn’t pressed enter”. Bash doesn’t allow you to say “continue this line” and also add a comment.</li>
</ul>

<p>Let’s see if we can tease out each part using intermediate files.</p>

<div><div><pre><code><span>cat</span> <span>&gt;</span> alarm_attrs <span>&lt;&lt;</span> <span>EOF</span><span>
alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_
</span><span>EOF

</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name Alarms.xml |
  <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span> <span>&gt;</span> expected_alarm_names

<span>join</span> <span>-j</span> 999 alarm_attrs expected_alarm_names |
  <span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span> <span>&gt;</span> expected_localization_keys

jq <span>-r</span> <span>'.[] | select(.stringId | startswith("alarm_")) |
       .stringId'</span> en.json | <span>sort</span> <span>&gt;</span> actual_localization_keys
</code></pre></div></div>

<p>This is better! Each piece can be understood in isolation, and the dependencies between steps are explictly tracked with named files. All that’s left is to add comments and some error checking, and clean up our intermediate files.</p>

<p>Cleaning up after ourselves is a little tricky. Ideally, we’d like to avoid leaving the intermediate results files laying around regardless of whether the script exits normally, crashes, or is cancelled with ctrl-c. We can use <code>trap</code> to handle this. <code>trap</code> sets up a command to run when a “signal” occurs. We’ll put all our intermediate files into a directory and use <code>trap</code> to delete that directory when a signal that indicates our script is ending fires.</p>

<div><div><pre><code><span>#!/bin/bash</span>

<span>set</span> <span>-ef</span> <span>-o</span> pipefail

<span>readonly </span><span>script_name</span><span>=</span><span>`</span><span>basename</span> <span>"</span><span>$0</span><span>"</span><span>`</span>
usage<span>()</span> <span>{</span>
  <span>cat</span> <span>&gt;</span>&amp;2 <span>&lt;&lt;</span> <span>EOF</span><span>
Usage: </span><span>$script_name</span><span> &lt;path-to-Alarms.xml&gt; &lt;path-to-en.json&gt;

  Compare the alarms specified in Alarms.xml against the
  localizations keys provided in a [language-code].json file
  (eg, en.json). Warn if any keys are missing or unexpected.
</span><span>EOF
</span>  <span>exit </span>2
<span>}</span>

<span>if</span> <span>[[</span> <span>$# </span><span>!=</span> 2 <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: expected 2 arguments, received $#"</span> 1&gt;&amp;2
   usage
<span>fi

</span><span>readonly </span><span>ALARM_CONFIG_XML</span><span>=</span><span>$1</span>
<span>if</span> <span>[[</span> <span>${</span><span>ALARM_CONFIG_XML</span>:<span> -4</span><span>}</span> <span>!=</span> <span>".xml"</span> <span>||</span> <span>!</span> <span>-e</span> <span>$ALARM_CONFIG_XML</span> <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: unable to find XML file at </span><span>$ALARM_CONFIG_XML</span><span>"</span> 1&gt;&amp;2
   usage
<span>fi
</span><span>readonly </span><span>LOCALIZATION_JSON</span><span>=</span><span>$2</span>
<span>if</span> <span>[[</span> <span>${</span><span>LOCALIZATION_JSON</span>:<span> -5</span><span>}</span> <span>!=</span> <span>".json"</span> <span>||</span> <span>!</span> <span>-e</span> <span>$LOCALIZATION_JSON</span> <span>]]</span><span>;</span> <span>then
   </span><span>echo</span> <span>"error: unable to find JSON file at </span><span>$LOCALIZATION_JSON</span><span>"</span> 1&gt;&amp;2
   usage
<span>fi</span>

<span># Make a directory for intermediate results</span>
<span>tmpdir</span><span>=</span><span>$(</span><span>mktemp</span> <span>-d</span> <span>-p</span> .<span>)</span>
<span># ensure it's removed when this script exits</span>
<span>trap</span> <span>"rm -rf </span><span>$tmpdir</span><span>"</span> EXIT HUP INT TERM
<span># note: when debugging, turn off that `trap` line to keep</span>
<span># intermediate results around</span>

<span># The plan is ultimately to use diff to compare names between</span>
<span># Alarms.xml and en.json. diff will tell us if any names</span>
<span># appear in one file but are missing in the other (checks</span>
<span># both directions for a mismatch).In pursuit of this, we need</span>
<span># to create a couple of temporary files:</span>
<span>#  1) all the alarm names we expect to find (based on Alarms.xml)</span>
<span>#  2) all the names actually present in the localization file.</span>
<span># A complication: the location file uses a flat format to</span>
<span># store the id, title, description, and operator_actions:</span>
<span>#   { "stringId": "alarm_id_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_title_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_description_MozzarellaTooWarm", ... },</span>
<span>#   { "stringId": "alarm_operator_actions_MozzarellaTooWarm", ... },</span>
<span># We want to check that *all* of these keys are present, so</span>
<span># we use a cross product of (alarm names) X (those attributes)</span>

<span>cat</span> <span>&gt;</span> <span>$tmpdir</span>/alarm_attrs <span>&lt;&lt;</span> <span>EOF</span><span>
alarm_id_
alarm_title_
alarm_description_
alarm_operator_actions_
</span><span>EOF

</span>xpath <span>-q</span> <span>-e</span> config/AlarmList/Alarm/@name <span>$ALARM_CONFIG_XML</span> |
 <span>cut</span> <span>-d</span><span>=</span> <span>-f2</span> | <span>tr</span> <span>-d</span> <span>'"'</span> <span>&gt;</span> <span>$tmpdir</span>/expected_alarm_names

<span># trick to compute cross product: use `join` with a join</span>
<span># field that doesn't exist (999). since both files lack a</span>
<span># field at 999, they will compare equal for every key, and</span>
<span># each line of the left file will be joined with each line</span>
<span># of the right file--a cross product.</span>
<span>join</span> <span>-j</span> 999 <span>$tmpdir</span>/alarm_attrs <span>$tmpdir</span>/expected_alarm_names |
<span>tr</span> <span>-d</span> <span>' '</span> | <span>sort</span> <span>&gt;</span> <span>$tmpdir</span>/expected_localization_keys

jq <span>-r</span> <span>'.[] | select(.stringId | startswith("alarm_")) |
       .stringId'</span> <span>$LOCALIZATION_JSON</span> |
  <span>sort</span> <span>&gt;</span> <span>$tmpdir</span>/actual_localization_keys

<span>if </span>diff <span>$tmpdir</span>/expected_localization_keys <span>$tmpdir</span>/actual_localization_keys<span>;</span> <span>then
   </span><span>echo</span> <span>"Success! Found all"</span> <span>$(</span><span>wc</span> <span>-l</span> <span>$tmpdir</span>/expected_localization_keys<span>)</span> <span>"expected localization keys"</span>  1&gt;&amp;2
<span>else
   </span><span>echo</span> <span>"Failure. Found discrepancies between expected alarm names and actual localization keys"</span> 1&gt;&amp;2
   <span>exit </span>1
<span>fi</span>
</code></pre></div></div>

        </article>

        
        
        
        

      </div>
    </div></div>]]>
            </description>
            <link>https://brianschiller.com/blog/2021/01/07/readable-bash-scripts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702062</guid>
            <pubDate>Sat, 09 Jan 2021 17:03:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Marxist Analysis of the iPhone (2019)]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25702019">thread link</a>) | @moigagoo
<br/>
January 9, 2021 | http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html | <a href="https://web.archive.org/web/*/http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span><b>Workers who make iPhones in the 21st century</b>, are twenty-five times more exploited than textile workers in England in the 19th century. Based on a marxist analysis, the current&nbsp;<i>rate of exploitation </i>is&nbsp;2458%.</span></p><div>
<p><span><span><b>W</b></span></span>e are interested in looking at the production
of the iPhone – a commodity – through the
framework of a Marxist analysis. We are interested not in being angry at Apple and Foxconn
alone, but in being able to measure how much
workers are exploited to produce this commodity. In other words, we are interested in measuring <b>the rate of exploitation</b>.</p><p>

The rate of exploitation is one of the most
important concepts in Marx’s theory. This
measurement allows us to show how much the
worker contributes to the increase of value in
the production process. It shows that even if the
worker is paid more, by the special magic of
mechanisation and of efficient management of
the production process, the rate of exploitation
increases. The rate expresses quantitatively the
contradictory interests of the capitalists and of
the workers. There is a radical politics implicit in
the analysis of the rate of exploitation. It enables workers to see how much of the share of
the value produced is appropriated from them
by the capitalists, and to therefore make the
case for a different way to organise production
and to end exploitation.</p><p>

To understand the rate of exploitation, we have
to first grasp what Marx means by the commodity itself and what he means by value, a key term
in the Marxist system of economic thought.</p><p><a href="https://1.bp.blogspot.com/-C5uknsT1Qo8/XZCEHtKcdVI/AAAAAAAAFRU/ske4yAP-_xY8lyclVj_QI14X31w008uqQCLcBGAsYHQ/s1600/book2.png" imageanchor="1"><img data-original-height="536" data-original-width="542" height="316" src="https://1.bp.blogspot.com/-C5uknsT1Qo8/XZCEHtKcdVI/AAAAAAAAFRU/ske4yAP-_xY8lyclVj_QI14X31w008uqQCLcBGAsYHQ/s320/book2.png" width="320"></a></p>
<p>
What is a commodity? Marx begins his epic
work Capital (1867) with a discussion of the
commodity. ‘A commodity’, he notes, ‘is an object outside us, a thing that by its properties
satisfies human wants of some sort or another.
The nature of such wants, whether, for instance,
they spring from the stomach or from fancy,
makes no difference. Neither are we concerned
to know how the object satisfies these wants,
whether directly as a means of subsistence, or
indirectly as means of production’. The commodity is a useful object. But it is more than a
useful thing that serves a purpose to a consumer. It is also something that can be sold – something that enables the person who has it made
to realise a profit. Inside the commodity, then, is
both <b>use value</b> and <b>value</b>.</p><p>

The use value of the commodity is merely its
utility, something that is left to the consumer.
An iPhone is a good example, because it can
be used for many things: to make a phone call,
to watch a video, to use as a compass, to hold
onto when you are feeling awkward (or even to
improve your image).</p><p><a href="https://1.bp.blogspot.com/-XSTB0AJ3dE8/XZCEcFG4l8I/AAAAAAAAFRc/zQgbE9cGZ20opRyyiarpiQQVm8vlXer2QCLcBGAsYHQ/s1600/values.png" imageanchor="1"><img data-original-height="595" data-original-width="465" src="https://1.bp.blogspot.com/-XSTB0AJ3dE8/XZCEcFG4l8I/AAAAAAAAFRc/zQgbE9cGZ20opRyyiarpiQQVm8vlXer2QCLcBGAsYHQ/s1600/values.png"></a></p>
<p>
The expression of the value of the commodity
(i.e. exchange value) is the price of the commodity. We are aware that there is a rich and
long debate amongst Marxists over the relationship between prices and the value of a
commodity. This debate is known as the transformation problem – namely the problem of the
transformation of values to prices of production. Nevertheless, for our iPhone example, we
believe that this level of concreteness need not
detain us. We are still able to capture something
significant. In the case of the iPhone X, the expression of its value is $999. The value is merely
what the commodity is able to command in
the market. But behind that price is a mass of
crystallised values, which can be grouped into
three parts of the total value: <b>constant capital</b>,
<b>variable capital,</b> and <b>surplus value</b>. These are
key concepts for Marxist analysis.</p><p>

<b><span>Constant capital</span></b></p><p>

Various raw materials are brought on to the
factory floor that are to be transformed by the
actions of labour and machines into commodities. These raw materials – and other auxiliary
materials, including the instruments of labour
(machines, tools, etc.) – have already been
fashioned from nature elsewhere. Inside these
raw materials, which are not really ‘raw’ any
longer, is embodied labour. The values of the
various raw materials and instruments of labour
are quantitatively fixed in terms of their labour
content. This fixed amount of value is now
transferred to the newly produced commodities
in the process of production. Its value enters
into the new commodities. Karl Marx calls the
values of the raw materials and the instruments
of labour <b>constant capital</b>.</p><p>

The constant capital for the iPhone includes
all of those minerals and metals that appear on the assembly line as well as the depreciated
parts of machines that work those raw materials.
These are then collectively transformed into
the iPhone. In the process of transformation,
the minerals, metals, and machines do not
alter their value. Their value is preserved in the
iPhone. The value remains constant.</p><p>

At the end of the process of production, the
total transferred value of those means of production – the raw materials, the machines, the
buildings – cannot be more than what they
originally contained in themselves. Their value,
which remains constant, is preserved in the
iPhone.</p><p><a href="https://1.bp.blogspot.com/-Q_pB4fCgz5I/XZCFCPeC69I/AAAAAAAAFRo/PocXIl65lesBDVnMU7IPnoRo6THryPOjwCLcBGAsYHQ/s1600/capital.png" imageanchor="1"><img data-original-height="579" data-original-width="378" src="https://1.bp.blogspot.com/-Q_pB4fCgz5I/XZCFCPeC69I/AAAAAAAAFRo/PocXIl65lesBDVnMU7IPnoRo6THryPOjwCLcBGAsYHQ/s1600/capital.png"></a></p>
<p>

<b><span>Variable capital.</span></b></p><p>

The capitalist firm makes an initial investment in
the production process:</p><ul>
<li>Wages and salaries for workers.</li>
<li>Expenses on all non-human inputs, notably
tools, machinery, buildings, energy, and so
on.</li>
</ul><p>
The latter expense – the expense on all non-human inputs – is known as <b>constant capital</b>, as
explained above.</p><p>

The former expense – the expense on wages
and salaries – is known as variable capital.
To simplify our calculation, we assume that all
workers are productive in the Marxist sense
(namely, that they produce surplus value and
do not merely distribute surplus value – as do
‘unproductive’ workers, such as those who are
involved in trade).</p><p>

In the capitalist system, people are ‘free’ in two
ways. They are free from bondage and free to
starve. The freedom from bondage and from
the means to feed themselves forces people to sell their capacity to labour to those with capital
(land or money). What the person sells is not
themselves (since they are free from bondage),
but they sell their labour power in exchange
for wages. The wages correspond to a certain
amount of money – representing a certain
amount of value – that is necessary to satisfy the
consumption needs of the workers.</p><p>

Marx called labour power <i>a peculiar commodity</i>. Like other commodities, this one must have
two aspects – a use value and a value. Wages
are the <b>exchange value</b> of labour power,
whereas labour is the use value of labour power. This distinction between the use value of
labour power and the exchange value of labour
power is fundamental to a Marxist understanding of surplus value and its production.</p><p>

In a given working day, workers transform
their capacity to labour into an act of labour.
Their various skills are utilised to transform raw materials and machines into commodities.</p><blockquote>
 Workers produce more value than they are paid in wages. This extra value is called&nbsp;<b>surplus value</b>.</blockquote><p>
During the working day and given the conditions of work, the total amount of value produced by the workers exceeds what is needed
for their own consumption and reproduction.
The value they require for their consumption
and reproduction – represented in wages – is
only a part of the value that they make during
the working day.</p><p>

Workers produce more value than they are
paid in wages. This extra value is called
<b>surplus value</b>. If the management of labour
changes or if the machines work at a different
speed, then either more or less value is produced in a day, which means that the surplus
value can be increased (or decreased). The fact
that labour power – this peculiar commodity –
has the quality of producing an extra amount of
value than what is needed for its own reproduction makes it <b>variable capital</b>.</p><p>

<b><span>Surplus Value</span></b></p><p>

The various raw materials that are on the assembly line, the machines, and the electricity that
help fashion the raw materials, would all be idle
without the necessary work of the labour power
put into the system by the workers. The workers
take the raw materials and the tools and shape
them into a commodity. It is the input of the
labour power that is crucial. Unlike any other
commodity, the labour power purchased from
the worker has to produce these new values.
When the workers tire, they go home and reproduce their labour power to be sold again.</p><p><a href="https://1.bp.blogspot.com/-JPwsXDRUiDU/XZCFarXi6jI/AAAAAAAAFRw/luib4DD_tPkBGGIdJ0FOfSFmS-HNhJOmACLcBGAsYHQ/s1600/SV.png" imageanchor="1"><img data-original-height="595" data-original-width="566" src="https://1.bp.blogspot.com/-JPwsXDRUiDU/XZCFarXi6jI/AAAAAAAAFRw/luib4DD_tPkBGGIdJ0FOfSFmS-HNhJOmACLcBGAsYHQ/s1600/SV.png"></a></p>
<p>
The workers sell their labour power for a set
amount of money. When they start to work on
the production of commodities, it takes them
only a fraction of their working day to make
enough commodities to cover their own wages.
Marx called that the <b>necessary labour time</b>. It
was ‘necessary’ because in different epochs and in different countries it takes different amounts
of goods and services to reproduce the worker’s depleted labour power. In some countries,
the standard of living is lower than that of
others, which means the necessary labour time
is also shorter. The remainder of the working
day – after the necessary labour time – is the
<b>surplus labour time</b>. It is the time that the
worker spends producing commodities that are
above and beyond the amount needed to be
produced to pay the wage bill of the worker.</p><p>

<b><span>Rate of Surplus Value</span></b></p><p>

Marx’s concept – the rate of exploitation – is
measured by using the categories of variable
capital and surplus value. Variable capital is
the share of the values produced in the process of production that goes to the workers.
Surplus value, on the other hand, is the share
of the values that goes to the capitalist. The ratio of surplus value to variable capital – or
s/v – can be seen as a quantitative expression
of the exploitation of workers, also called the
<b>rate of surplus value</b>.</p><p>

Take a hypothetical commodity whose total
value is $1,000. The constant capital is worth
$500. That capital – raw material, tools and energy – goes into the process of production and
remerges in a different form but with the value
intact. There is no change in its value. The variable capital – what the worker earns – is $250.
The surplus value – what the capitalist appropriates – is the amount of value created during
the surplus labour time, which in …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html">http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html</a></em></p>]]>
            </description>
            <link>http://www.socialisteconomist.com/2019/09/a-marxist-analysis-of-iphone.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25702019</guid>
            <pubDate>Sat, 09 Jan 2021 16:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chinese FM welcomes Elon Musk statement praising Chinese government]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25701603">thread link</a>) | @jimmy2020
<br/>
January 9, 2021 | https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter | <a href="https://web.archive.org/web/*/https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          
          <p>Elon Musk's praise of China's government for being 'very responsible' to its people's needs and happiness is objective: Chinese FM</p>
          
          
        </div><div>
          <div> <center><img src="https://www.globaltimes.cn/Portals/0/attachment/2021/2021-01-08/acc29ac0-e6f1-4707-acc9-d248a6631a80.jpeg"></center>
<p>Elon Musk. Photo: VCG</p><p>Chinese FM said the praise from Elon Musk to China's government for being "very responsible" to its people's needs and happiness is objective, and it is a conclusion that reflects the real situation, adding that China welcomes more foreign friends to visit and get a comprehensive, correct impression of the nation.&nbsp;</p><p>The remarks came after Elon Musk hailed China as "more responsible" than the US in an interview with Business Insider, according to express.co.uk on January 4.&nbsp;</p><p>Musk said he had a positive experience when talking to Chinese government officials during his visits to the country and said they could "possibly" be "more responsible" to their people's happiness than the US.</p><p>Anyone who is unbiased and hopes to understand the real China objectively will come to such a conclusion, which reflects the reality of China's development history over the past 100 years, and the rapid changes that are currently taking place across Chinese land, Hua Chunying, spokesperson of China's Foreign Ministry, said on Friday.&nbsp;&nbsp;</p><p>We welcome more foreign friends to visit China and gain an accurate impression of the country through close contact with Chinese people, she added.&nbsp;&nbsp;</p><p>Hua noted that, during the fight against the pandemic, everyone has also seen that the Chinese government insisted on putting people and their livelihoods first and spared no effort in protecting everyone's life, health, value and dignity.</p><p>We have also implemented the largest and most powerful battle against poverty in human history and successfully lifted 850 million people out of poverty, she added.</p><p>"This year, we have embarked on a new journey of building a modern socialist country in an all-round way. I think our Chinese people's growing needs or yearning for a better life will be further satisfied," Hua said.&nbsp;</p></div>
        </div></div>]]>
            </description>
            <link>https://www.globaltimes.cn/page/202101/1212242.shtml#.X_nTsdClAgQ.twitter</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701603</guid>
            <pubDate>Sat, 09 Jan 2021 16:20:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generational References 2.3x faster than reference counting, unoptimized]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25701111">thread link</a>) | @harporoeder
<br/>
January 9, 2021 | https://vale.dev/blog/generational-references | <a href="https://web.archive.org/web/*/https://vale.dev/blog/generational-references">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
    <div>
  

        <div>
          <div>
  

          <div>
            
    
<p>2.3x faster than reference counting, unoptimized!</p>

              <p><span>Jan 5 2021</span> </p>
      
</div>
<section>
<p>
<b>Generational references</b> are a new memory management technique that's easy, deterministic, and <i>very</i> fast.
</p>

</section>
<section>
<p>
This technique is the first ingredient in Vale's final <a href="https://vale.dev/blog/hybrid-generational-memory">hybrid-generational memory</a> design, which is even faster. Our eventual goal is to be as fast as Rust, and perhaps even as fast as C++, while being safer than both. <a href="#note0" data-noteid="0">0</a>
</p>
<p>
This article explains how generational references work, how they compare to reference counting, and what makes it all so fast. <a href="#note1" data-noteid="1">1</a>
</p>

</section>
<section>
<h2 id="built-on-single-ownership">
 Built on Single Ownership</h2>
<p>
Recall that in Vale, an object is freed when its <b>owning reference</b> goes out of scope. An object always has exactly one owning reference pointing to it.
</p>
<p>
We can have as many <b>non-owning</b> references as we want. <a href="#note2" data-noteid="2">2</a>
</p>
<p>
In other languages, when a programmer frees an object and then accidentally dereferences a non-owning reference to it, it can cause memory unsafety and vulnerabilities. <a href="#note3" data-noteid="3">3</a>
</p>
<p>
Our goal is to detect this situation and react to it safely. <a href="#note4" data-noteid="4">4</a>
</p>

</section>
<section>
<h2 id="generational-malloc-and-the-sacred-integer">
 Generational Malloc and the Sacred Integer</h2>
<p>
Generational references use <b>generational malloc</b>, which is like regular malloc, except at the top of every allocation is a <b>generation number</b>, which tracks how many objects have previously been at this memory location.
</p>
<p>
One could also think of it as describing "I am the <b>n</b>th inhabitant of this memory location".
</p>
<p>
Freeing an object will increment its generation number. Nobody else ever modifies it.
</p>

</section>
<section>
<p>
Later on, we use this number to see if a particular object is still alive, explained further below.
</p>

</section>
<section>
<p>
Generational malloc would normally be an adjustment to mimalloc or jemalloc, but we can simulate it with our own <span>genMalloc</span> and <span>genFree</span> functions:
</p>
<ul>
<li>
<span>genFree</span> increments the generation number, and instead of calling <span>free</span> <a href="#note5" data-noteid="5">5</a><a href="#note6" data-noteid="6">6</a>, remembers the allocation in a free-list. There's a free-list for every size class (16b, 24b, 32b, &lt;=48b, &lt;=64b, &lt;=128b, etc).
</li>
<li>
<span>genMalloc</span> pulls from a free-list if possible. If it's empty, it calls <span>malloc</span> and initializes the generation number to 1.
</li>
</ul>
<p>
You can find our experimental implementation in <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a>.
</p>

</section>

      </div>
  
<div>

      <nav>
      <p>Generational References</p>
    


      </nav>
      
    

      <div>
        <div>
    
<div id="note0" data-noteid="0">
<p><span>0</span></p><section>
<p>
See <a href="https://vale.dev/blog/hybrid-generational-memory">HGM</a>'s afterword for a hypothetical comparison with Rust!
</p>

</section>
</div>
<div id="note1" data-noteid="1">
<p><span>1</span></p><section>
<p>
 Vale has three release modes:
</p>
<ul>
<li>
<b>Resilient:</b> Fast and 100% safe.
</li>
<li>
<b>Assist:</b> for development, detects logic problems.
</li>
<li>
<b>Unsafe:</b> turns off all safety.
</li>
</ul>
<p>
Resilient mode uses hybrid-generational memory.
</p>

</section>
</div>
<div id="note2" data-noteid="2">
<p><span>2</span></p><section>
<p>
This distinction is similar to C++'s <span>unique_ptr&lt;T&gt;</span> and <span>T*</span>.
</p>

</section>
</div>
<div id="note3" data-noteid="3">
<p><span>3</span></p><section>
<p>
Rust partially solves this, but forces complexity on the programmer and doesn't solve the <a href="https://en.wikipedia.org/wiki/ABA_problem">ABA problem</a>. We'd like a solution that's simpler, solves the whole problem, with as little <a href="https://vale.dev/blog/hybrid-generational-memory#afterword-how-might-it-compare-to-rust">run-time overhead as Rust</a>.
</p>

</section>
</div>
<div id="note4" data-noteid="4">
<p><span>4</span></p><section>
<p>
Such as by halting or stack unwinding.
</p>

</section>
</div>
<div id="note5" data-noteid="5">
<p><span>5</span></p><section>
<p>
 Our experimental implementation doesn't release memory back to the OS until exit, but when a page is empty, the final version will release the page back to the operating system and map its virtual memory to a read-only page containing all 0xFF.
</p>

</section>
</div>
<div id="note6" data-noteid="6">
<p><span>6</span></p><section>
<p>
 When an allocation's generation can't be incremented any more, it's not used again (at least until we can re-map the page).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="generational-reference-more-than-just-a-pointer">
 Generational Reference: More than just a pointer!</h2>

</section>
<section>
<p>
Vale's references are <b>generational references</b>. A generational reference has two things:
</p>
<ul>
<li>
A pointer to the object.
</li>
<li>
A "target generation" integer.
</li>
</ul>
<p>
To create a reference to an object, we get its allocation's generation number, and include it in the reference.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="dereferencing">
 Dereferencing</h3>

</section>
<section>
<p>
To dereference a generational reference, we do a "liveness check" to see whether the allocation's generation number <b>still matches</b> our reference's target generation. <a href="#note7" data-noteid="7">7</a>
</p>
<p>
This prevents use-after-free problems, and makes Vale completely memory safe.
</p>

</section>
<section>
<p>
It's as if the reference is saying:
</p>
<p><b>"Hello! I'm looking for the 11th inhabitant of this house, are they still around?"</b>
</p>

</section>
<section>
<p>
and the person who opens the door says:
</p>
<p><b>"No, sorry, I'm the 12th inhabitant of this house, the 11th inhabitant is no more."</b> <a href="#note8" data-noteid="8">8</a>
</p>
<p>
or instead:
</p>
<p><b>"Yes! That is me. Which of my fields would you like to access?"</b>
</p>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note7" data-noteid="7">
<p><span>7</span></p><section>
<p>
 This is similar to the "generational indices" technique from C++ and Rust, but applied to the entire world instead of just a specific vector.
</p>

</section>
</div>
<div id="note8" data-noteid="8">
<p><span>8</span></p><section>
<p>
 This will safely halt the program, unless the user is explicitly checking whether something is alive (such as for a weak reference).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="speed">
 Speed</h2>

</section>
<section>
<p>
Generational references are only the first steps towards hybrid-generational memory, but we decided to run some early experiments to see how it compares to existing memory models.
</p>
<p>
For this experiment, we benchmarked <a href="#note9" data-noteid="9">9</a> <a href="#note10" data-noteid="10">10</a> three flavors of Vale:
</p>
<ul>
<li>
<b>Unsafe</b>, with no memory safety, the equivalent of C++ (minus caveats, see below!)
</li>
<li>
<b>RC</b>, where we use naive reference counting for all our objects.
</li>
<li>
<b>GM</b>, which uses generational references.
</li>
</ul>

</section>
<section>
<div>
  <table>
    <thead>
      <tr>
        <th>Mode</th>
        <th>Speed&nbsp;(seconds)</th>
        <th>Overhead Compared to Unsafe (seconds)</th>
        <th>Overhead Compared to Unsafe (%)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>Unsafe</th>
        <td>43.82&nbsp;seconds</td>
        <td>n/a</td>
        <td>n/a</td>
      </tr>
      <tr>
        <th>RC</th>
        <td>54.90&nbsp;seconds</td>
        <td>+11.08&nbsp;seconds</td>
        <td>+25.29%</td>
      </tr>
      <tr>
        <th>GM</th>
        <td>48.57&nbsp;seconds</td>
        <td>+4.75&nbsp;seconds</td>
        <td>+10.84%</td>
      </tr>
    </tbody>
  </table>
</div>


</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note9" data-noteid="9">
<p><span>9</span></p><section>
<p>
 We used the <a href="https://github.com/ValeLang/Vale/tree/master/benchmarks/BenchmarkRL/vale">BenchmarkRL</a> terrain generator to gather these numbers, with different values for the <span>--region-override</span> flag: <span>unsafe-fast</span>, <span>naive-rc</span>, and <span>resilient-v3</span> respectively.
</p>

</section>
</div>
<div id="note10" data-noteid="10">
<p><span>10</span></p><section>
<p>
 Here, we benchmarked against other flavors of Vale, to isolate the differences between unsafe, reference-counting, and generational references.
</p>
<p>
Once we implement full hybrid-generational memory, we'll be benchmarking against C++ and Rust, stay tuned!

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<p>
Generational references have only 10.84% overhead, <b>less than half the cost of reference counting!</b> These are very promising results, and suggest that full hybrid-generational memory could be incredibly fast.
</p>

</section>
<section>
<p>
Try it out! In the Vale release, you can find a benchmark folder with scripts to run the benchmarks. You can find the source code for the various approaches <a href="https://github.com/ValeLang/Vale/tree/master/Midas/src/c-compiler/region">here</a> (feel free to swing by the <a href="https://discord.gg/SNB8yGH">discord server</a> and we can point you to the right files).
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
<b>Note these caveats!</b> To isolate the difference between generational references and the other approaches:
</p>
<ul>
<li>
In all flavors, we only allocate objects on the heap, except for primitives. Future versions will add stack allocations.
</li>
<li>
We used <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a> for all versions, though only GM ever touches the generation number, the other versions ignore it. Future versions will integrate generational malloc into jemalloc or mimalloc directly.
</li>
</ul>
<p>
Once we address these limitations, we can get more precise benchmarks against the other approaches.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h2 id="why-is-this-so-fast">
 Why is this so fast?</h2>

</section>
<section>
<p>
Generational references are much easier for the CPU to handle than reference-counted references, because:
</p>
<ul>
<li>
Generational references have no aliasing/dealiasing overhead, just on dereference.
</li>
<li>
Generational references cause less cache misses.
</li>
<li>
Liveness checks' branching is easier to predict than RC decrements' branching.
</li>
</ul>

</section>
<section>
<p>
We explain these two differences more below.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="no-aliasing-costs">
 No Aliasing Costs</h3>

</section>
<section>
<p>
Reference counting is costly:
</p>
<ul>
<li>
Whenever we "alias" (make a new reference to an object), we have to dereference the object to increment its counter.
</li>
<li>
Whenever we "dealias" (throw away a reference), we have to:
</li>
<ul>
<li>
Dereference the object to decrement its counter,
</li>
<li>
If the counter is zero, deallocate it.
</li>
</ul>
</ul>
<p>
For example:
</p>

    <div>
      
      <p><span><span>fn <span>launchShip</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>, <span><span><span>armada</span></span> <span>&amp;<span><span>List</span>&lt;<span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>)</span> <span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<br>    <p>  <span><span>armada</span><span>.</span><span>add</span>(<span>ship</span>)</span>;</p><p>  <br>  <br>  <br>  <br>  <br>  <br>}</p></span></span></span></p>
    </div>
  
<p>
As you can see, reference counting incurs a cost whenever we alias or dealias. <b>Generational references don't have that cost.</b> The above snippet would have zero overhead if it used generational references.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
Instead, generational references incur a cost whenever we dereference an object:
</p>

    <div>
      
      <p><span><span>fn <span>getShipName</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>)</span> <span><span>str</span> </span><span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<p>  <br>  <br>  <span>ret <span><span>ship</span><span>.</span><span>name</span></span>;</span><br>}</p></span></span></span></p>
    </div>
  

</section>
<section>
<p>
This is cheaper because <b>programs dereference less than they alias and dealias:</b> our sample program had 4.7 million counter adjustments, but only 1.3 million liveness checks. <a href="#note11" data-noteid="11">11</a> <a href="#note12" data-noteid="12">12</a>
</p>

</section>
<section>
<h3 id="more-cache-friendly">
 More Cache Friendly</h3>
<p>
Reference counting is not very "cache friendly". Adding and subtracting integers is basically free on modern CPUs, but the real bottleneck in modern programs is how <i>far</i> those integers are: if it's been recently accessed, it's in the nearby cache, and only takes a few CPU cycles to fetch. Otherwise the CPU will "cache miss" and have to bring it in all the way from RAM, which could take <b>hundreds</b> of cycles. <a href="#note13" data-noteid="13">13</a>
</p>
<p>
In our reference-counted <span>launchShip</span> example, the <span>ship.__ref_count++</span> could take a few cycles if <span>ship</span> is already in the cache, or hundreds of cycles if it's not.
</p>

</section>
<section>
<p>
Generational references are more cache friendly:
</p>
<ul>
<li>
When a generational reference goes away, we don't need to reach into memory (unlike RC, where we have to decrement a counter).
</li>
<li>
We don't need to increment when aliasing (see previous section); we don't need to reach into memory to increment.
</li>
</ul>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note11" data-noteid="11">
<p><span>11</span></p><section>
<p>
 Half of these are aliasings and half are dealiasings. Aliasing happens whenever we access a member (e.g. <span>person.name</span>) or make a new reference (e.g. <span>&amp;person</span>).
</p>

</section>
</div>
<div id="note12" data-noteid="12">
<p><span>12</span></p><section>
<p>
 Many languages are able to skip a lot of the adjustments, using static analysis. For example, Lobster can remove up to 95%. Our experiment doesn't have those optimizations; it compares naive RC to naive generational references.
</p>

</section>
</div>


        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h3 id="better-branch-prediction">
 Better Branch Prediction</h3>
<p>
For a given if-statement, CPUs will predict whether we'll go down the "then" branch or the "else" branch. This is called …</p></section></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vale.dev/blog/generational-references">https://vale.dev/blog/generational-references</a></em></p>]]>
            </description>
            <link>https://vale.dev/blog/generational-references</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701111</guid>
            <pubDate>Sat, 09 Jan 2021 15:31:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Next Gen Static Blogging]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 168 (<a href="https://news.ycombinator.com/item?id=25701053">thread link</a>) | @mmackh
<br/>
January 9, 2021 | https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging | <a href="https://web.archive.org/web/*/https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://inoads.com/articles/2020-01-09-Next-Gen-Static-Blogging</link>
            <guid isPermaLink="false">hacker-news-small-sites-25701053</guid>
            <pubDate>Sat, 09 Jan 2021 15:25:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Holiday Hacking – Tracking my heart rate while playing Call of Duty]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25700872">thread link</a>) | @lukastyrychtr
<br/>
January 9, 2021 | https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/ | <a href="https://web.archive.org/web/*/https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
  
  <p><span>04 Jan 2021</span></p><p>Over the holidays, I got a <a href="https://www.polar.com/us-en/products/accessories/oh1-optical-heart-rate-sensor">Polar OH1+</a> as a Christmas present. Its an optical heart rate monitor with similar tech to those found in smart watches (including my Garmin running watch), but much more accurate (at least for running) due to being smaller &amp; lighter, as well as fitting against the fleshier upper arm:</p>

<p><img src="https://jcdav.is/public/oh1-small.jpg" alt="Polar OH1"></p>

<p>Like any modern gadget these days, it supports Bluetooth (specifically Bluetooth Low Energy, or BLE/BTLE) for talking to your phone and/or smart watch. Which got me wondering, will it pair with a computer?</p>

<p><img src="https://jcdav.is/public/bluetooth.jpg" alt="It pairs"></p>

<p>This piqued my curiosity. I had long been at least somewhat curious about tracking my heart rate while say playing video games, if nothing else for curiosity. So how easy is it to grab data from this thing? As with the last few years, I had spent a bit of December doing a bunch of <a href="https://adventofcode.com/">Advent of Code</a> in rust, only to forget and have to re-learn everything the next year. So figured I could maybe try my hand at a “real” project.</p>

<p>Some quick googling later, I found the promising-looking <a href="https://crates.io/crates/btleplug">btleplug</a> crate. Lets dump data from all nearby devices…</p>

<div><div><pre><code><span>extern</span> <span>crate</span> <span>btleplug</span><span>;</span>

<span>use</span> <span>std</span><span>::</span><span>thread</span><span>;</span>
<span>use</span> <span>std</span><span>::</span><span>time</span><span>::</span><span>Duration</span><span>;</span>

<span>#[cfg(target_os</span> <span>=</span> <span>"linux"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>bluez</span><span>::{</span><span>adapter</span><span>::</span><span>ConnectedAdapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>#[cfg(target_os</span> <span>=</span> <span>"windows"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>winrtble</span><span>::{</span><span>adapter</span><span>::</span><span>Adapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>#[cfg(target_os</span> <span>=</span> <span>"macos"</span><span>)]</span>
<span>use</span> <span>btleplug</span><span>::</span><span>corebluetooth</span><span>::{</span><span>adapter</span><span>::</span><span>Adapter</span><span>,</span> <span>manager</span><span>::</span><span>Manager</span><span>};</span>
<span>use</span> <span>btleplug</span><span>::</span><span>api</span><span>::{</span><span>UUID</span><span>,</span> <span>Central</span><span>,</span> <span>Peripheral</span><span>};</span>

<span>#[cfg(any(target_os</span> <span>=</span> <span>"windows"</span><span>,</span> <span>target_os</span> <span>=</span> <span>"macos"</span><span>))]</span>
<span>fn</span> <span>get_central</span><span>(</span><span>manager</span><span>:</span> <span>&amp;</span><span>Manager</span><span>)</span> <span>-&gt;</span> <span>Adapter</span> <span>{</span>
    <span>let</span> <span>adapters</span> <span>=</span> <span>manager</span><span>.adapters</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>adapters</span><span>.into_iter</span><span>()</span><span>.nth</span><span>(</span><span>0</span><span>)</span><span>.unwrap</span><span>()</span>
<span>}</span>

<span>#[cfg(target_os</span> <span>=</span> <span>"linux"</span><span>)]</span>
<span>fn</span> <span>get_central</span><span>(</span><span>manager</span><span>:</span> <span>&amp;</span><span>Manager</span><span>)</span> <span>-&gt;</span> <span>ConnectedAdapter</span> <span>{</span>
    <span>let</span> <span>adapters</span> <span>=</span> <span>manager</span><span>.adapters</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>let</span> <span>adapter</span> <span>=</span> <span>adapters</span><span>.into_iter</span><span>()</span><span>.nth</span><span>(</span><span>0</span><span>)</span><span>.unwrap</span><span>();</span>
    <span>adapter</span><span>.connect</span><span>()</span><span>.unwrap</span><span>()</span>
<span>}</span>

<span>fn</span> <span>main</span><span>()</span> <span>{</span>
    <span>let</span> <span>manager</span> <span>=</span> <span>Manager</span><span>::</span><span>new</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>let</span> <span>central</span> <span>=</span> <span>get_central</span><span>(</span><span>&amp;</span><span>manager</span><span>);</span>

    <span>central</span><span>.start_scan</span><span>()</span><span>.unwrap</span><span>();</span>
    <span>thread</span><span>::</span><span>sleep</span><span>(</span><span>Duration</span><span>::</span><span>from_secs</span><span>(</span><span>2</span><span>));</span>

    <span>for</span> <span>per</span> <span>in</span> <span>&amp;</span><span>central</span><span>.peripherals</span><span>()</span> <span>{</span>
        <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>per</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>(Note that though this part should work cross-platform, I couldn’t get bluetooth working from WSL, so this was all done natively on Windows).</p>

<p>Sure enough, among the shockingly large list of nearby devices is my new toy:</p>

<div><div><pre><code>A0:9E:1A:XX:XX:XX properties: PeripheralProperties { address: A0:9E:1A:XX:XX:XX, address_type: Public, local_name: Some("Polar OH1 XXXXXXXX"), tx_power_level: Some(-64), manufacturer_data: Some([]), discovery_count: 6, has_scan_response: true }, characteristics: {}
</code></pre></div></div>

<p>Let’s see what characteristics it supports:</p>

<div><div><pre><code>    <span>let</span> <span>ohr</span> <span>=</span> <span>central</span><span>.peripherals</span><span>()</span><span>.into_iter</span><span>()</span><span>.find</span><span>(|</span><span>p</span><span>|</span> <span>{</span>
        <span>p</span><span>.properties</span><span>()</span><span>.local_name</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span><span>.starts_with</span><span>(</span><span>"Polar OH1"</span><span>))</span>
            <span>.unwrap_or</span><span>(</span><span>false</span><span>)</span>
    <span>})</span><span>.unwrap</span><span>();</span>

    <span>ohr</span><span>.connect</span><span>();</span>
    <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>ohr</span><span>.discover_characteristics</span><span>()</span><span>.unwrap</span><span>());</span>
</code></pre></div></div>

<p>Turns out..a lot?</p>

<div><div><pre><code>[Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:00:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:01:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:04:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:A6:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:05:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:29:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:24:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:25:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:27:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:26:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:28:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:23:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:51:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE_WITHOUT_RESPONSE | WRITE | NOTIFY },
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:52:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:53:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE_WITHOUT_RESPONSE | WRITE },
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:37:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 00:00:2A:19:00:00:10:00:80:00:00:80:5F:9B:34:FB, properties: READ | NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:21:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:22:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:26:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 62:17:FF:4C:C8:EC:B1:FB:13:80:3A:D9:86:70:8E:2D, properties: READ }, 
Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: 62:17:FF:4D:91:BB:91:D0:7E:2A:7C:D3:BD:A8:A1:F3, properties: WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:81:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: READ | WRITE | INDICATE }, Characteristic { start_handle: 0, end_handle: 0, value_handle: 0, uuid: FB:00:5C:82:02:E7:F3:87:1C:AD:8A:CD:2D:8D:F0:C8, properties: NOTIFY }]
</code></pre></div></div>

<p>Which of these do I want? The <a href="https://btprodspecificationrefs.blob.core.windows.net/assigned-values/16-bit%20UUID%20Numbers%20Document.pdf">Bluetooth UUID specifications</a> lists a bunch of different potentially interesting IDs, but they are all 16 bits, whereas are 128 bit. Making matters more confusing, <code>btleplug</code> ‘s UUID definition seems to allow for either:</p>

<div><div><pre><code><span>pub</span> <span>enum</span> <span>UUID</span> <span>{</span>
    <span>B16</span><span>(</span><span>u16</span><span>),</span>
    <span>B128</span><span>([</span><span>u8</span><span>;</span> <span>16</span><span>]),</span>
<span>}</span>
</code></pre></div></div>

<p>However it seems like a lot of them seem to only differ in the 3rd and 4th bytes <sup><a href="#suff1">1</a></sup>, and those to roughly correspond to GATT Characteristic Ids, and in there is a <code>2A:37</code>, which represents Heart Rate Measurement - sounds promising. Lets see if we can listen &amp; dump that data:</p>

<div><div><pre><code>    <span>let</span> <span>mut</span> <span>bytes</span><span>:</span> <span>[</span><span>u8</span><span>;</span> <span>16</span><span>]</span> <span>=</span> <span>[</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x2A</span><span>,</span><span>0x37</span><span>,</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x10</span><span>,</span><span>0x00</span><span>,</span><span>0x80</span><span>,</span><span>0x00</span><span>,</span><span>0x00</span><span>,</span><span>0x80</span><span>,</span><span>0x5F</span><span>,</span><span>0x9B</span><span>,</span><span>0x34</span><span>,</span><span>0xFB</span><span>];</span>
    <span>bytes</span><span>.reverse</span><span>();</span>
    <span>let</span> <span>uuid</span> <span>=</span> <span>UUID</span><span>::</span><span>B128</span><span>(</span><span>bytes</span><span>);</span>
    <span>let</span> <span>chars</span> <span>=</span> <span>ohr</span><span>.discover_characteristics</span><span>()</span>
        <span>.expect</span><span>(</span><span>"Couldn't discover characteristics"</span><span>);</span>
    <span>let</span> <span>hr_char</span> <span>=</span> <span>chars</span><span>.iter</span><span>()</span><span>.find</span><span>(|</span><span>c</span><span>|</span> <span>c</span><span>.uuid</span> <span>==</span> <span>uuid</span><span>)</span>
        <span>.expect</span><span>(</span><span>"couldn't find HR characteristic"</span><span>);</span>

    <span>ohr</span><span>.on_notification</span><span>(</span><span>Box</span><span>::</span><span>new</span><span>(|</span><span>not</span><span>|</span> <span>{</span>
        <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>not</span><span>.value</span><span>);</span>
    <span>}));</span>
    <span>ohr</span><span>.subscribe</span><span>(</span><span>hr_char</span><span>)</span><span>.expect</span><span>(</span><span>"Couldn't subscribe"</span><span>);</span>
    <span>loop</span> <span>{</span>
    <span>}</span>
</code></pre></div></div>

<p>Endianness issues out of the way this….seems to be working?</p>

<div><div><pre><code>C:\Users\jackson\Dev\hroverlay&gt;cargo run
    Finished dev [unoptimized + debuginfo] target(s) in 0.14s
     Running `target\debug\hroverlay.exe`
[0, 59]
[0, 58]
[0, 58]
[0, 59]
[0, 60]
[0, 61]
[0, 62]
</code></pre></div></div>

<p>At least that second number sure looks like a heart rate reading. To confirm this, I hopped over to the technical specifications for the Heart Rate Service (downloadable <a href="https://www.bluetooth.com/specifications/gatt/">here</a>). Sure enough, byte 0 represents various flags and byte 1 is a heart rate measurement. The spec authors have even figured out support for heart rates &gt;255 on off chance you ever slap one of these bad boys on a hummingbird:</p>

<blockquote>
  <p>3.1.1.2Heart Rate Measurement Value Field</p>

  <p>The Heart Rate Measurement Value field shall be included in the Heart Rate Measurement characteristic. While most human applications require support for only 255 bpm or less, special applications (e.g. animals) may require support for higher bpm values. If the Heart Rate Measurement Value is less than or equal to 255 bpm a UINT8 format should be used for power savings. If the Heart Rate Measurement Value exceeds 255 bpm a UINT16 format shall be used. See 3.1.1.1.1for additional requirements on the Heart Rate Value format change.</p>
</blockquote>

<p>Other potentially interesting bit flags include a way to indicate if the sensor thinks it has lost skin contact.</p>

<h2 id="displaying-things">Displaying things</h2>

<p>Now its time to figure out a UI. Faced with a <a href="https://www.areweguiyet.com/">large number of different options</a>, I ended up settling on the not-even-listed-there <a href="https://crates.io/crates/native-windows-gui">native-windows-gui crate</a> , throwing cross-platform support into the wind on the suspicion I would need easy access to the underlying win32 APIs, since it is largely just a series of nice convenience abstractions over those. Using the associated native-windows-derive macro crate, I had a basic UI setup working fairly quickly:</p>

<div><div><pre><code><span>#[derive(Default,</span> <span>NwgUi)]</span>
<span>pub</span> <span>struct</span> <span>BasicApp</span> <span>{</span>
    <span>#[nwg_control(size:</span> <span>(</span><span>300</span><span>,</span> <span>115</span><span>),</span> <span>flags:</span> <span>"WINDOW|VISIBLE"</span><span>)]</span>
    <span>#[nwg_events(OnWindowClose:</span> <span>[</span><span>BasicApp::exit]</span><span>)]</span>
    <span>window</span><span>:</span> <span>nwg</span><span>::</span><span>Window</span><span>,</span>

    <span>#[nwg_layout(parent:</span> <span>window)]</span>
    <span>grid</span><span>:</span> <span>nwg</span><span>::</span><span>GridLayout</span><span>,</span>

    <span>#[nwg_control(text:</span> <span>"--"</span><span>,</span> <span>readonly:</span> <span>true</span><span>)]</span>
    <span>#[nwg_layout_item(layout:</span> <span>grid,</span> <span>row:</span> <span>0</span><span>,</span> <span>col:</span> <span>0</span><span>)]</span>
    <span>hr</span><span>:</span> <span>nwg</span><span>::</span><span>TextInput</span><span>,</span>

    <span>#[nwg_control(parent:</span> <span>window,</span> <span>interval:</span> <span>500</span><span>,</span> <span>stopped:</span> <span>false</span><span>)]</span>
    <span>#[nwg_events(OnTimerTick:</span> <span>[</span><span>BasicApp::draw_hr]</span><span>)]</span>
    <span>timer</span><span>:</span> <span>nwg</span><span>::</span><span>Timer</span><span>,</span>
<span>}</span>

<span>impl</span> <span>BasicA…</span></code></pre></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/">https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/</a></em></p>]]>
            </description>
            <link>https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700872</guid>
            <pubDate>Sat, 09 Jan 2021 15:03:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We Have a Reality Problem]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25700603">thread link</a>) | @sgwil
<br/>
January 9, 2021 | https://www.chrbutler.com/we-have-a-reality-problem | <a href="https://web.archive.org/web/*/https://www.chrbutler.com/we-have-a-reality-problem">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>



<p>
In the early 1990s, when the internet was still in its structural infancy, and its influence on broader culture was widely underestimated if not entirely unknown, Howard Rheingold already knew enough to predict where this newest technology would — and wouldn’t — take us.
</p>
<p>
These lines from Rheingold’s nearly thirty-year-old book, The Virtual Community, have been on my mind for over a decade:
</p>
<blockquote>
“What does it mean that the same hopes, described in the same words, for a decentralization of power, a deeper and more widespread citizen involvement in matters of state, a great equalizer for ordinary citizens to counter the forces of central control, have been voiced in the popular press for two centuries in reference to steam, electricity, and television? We’ve had enough time to live with steam, electricity, and television to recognize that they did indeed change the world, and to recognize that the utopia of technological millenarians has not yet materialized. An entire worldview and sales job are packed into the word progress, which links the notion of improvement with the notion of innovation, highlights the benefits of innovation while hiding the toxic side-effects of extractive and lucrative technologies, and then sells more of it to people via television as a cure for the stress of living in a technology-dominated world. The hope that the next technology will solve the problems created by the way the last technology was used is a kind of millennial, even messianic, hope, apparently ever-latent in the breasts of the citizenry. The myth of technological progress emerged out of the same Age of Reason that gave us the myth of representative democracy, a new organizing vision that still works pretty well, despite the decline in vigor of the old democratic institutions. It’s hard to give up on one Enlightenment ideal while clinging to another.” — Howard Rheingold, <a href="http://www.rheingold.com/vc/book/" target="_blank">The Virtual Community</a>
</blockquote>
<p>
When I say I’ve been thinking about this passage for over a decade, I mean that literally. <a href="https://www.chrbutler.com/ethical-technology-3">Ten years ago</a>, I reflected upon how Rheingold’s perspective had aged after, then, almost two decades. What stood out to me in 2011 was his connection between progress and economics. I noted that ideas of progress are carried by economic activity, which means that ideas that don’t easily bind to wealth-building don’t easily bind to culture. Or in other words, capitalism promotes technological change more than technology changes capitalism. That is not a good thing. And, it was as true ten years ago as it is today.
</p>
<p>
What strikes me now is how that same idea plays out within a much more developed technological culture. In 1993, Rheingold’s assessment would have probably struck the average person as <i>academic</i>. Intellectually persuasive, perhaps, but not especially relevant to day-to-day life. After all, in the year Rheingold’s book was published, there were an estimated 15 million internet users <i>worldwide</i>. That was less than half of one percent of the world’s population. Back then, they measured internet usage by file requests — that alone tells you a lot. But to be specific, those file requests had increased to an average of 400,000 a month. Total. In case you’re not sure, that is not a big number by today’s standards. It’s tiny. Today, there’d be as much point in measuring the internet in file requests as there would be in measuring a life in blinks.
</p>
<p><span>
1993</span> also happened to be the same year that the New York Times published <a href="https://www.nytimes.com/1993/12/08/business/business-technology-a-free-and-simple-computer-link.html?pagewanted=all&amp;src=pm" target="_blank">its very first story on the World Wide Web</a>! In it, Mitch Kapor (the creator of Lotus), offered this somewhat ironic quote: “For me Mosaic was a turning point. It’s like C-Span for everyone.” C-Span, of course, is “famous” for providing every American with unfettered access to governmental proceedings or, in other words, revealing how boring running a country can be.
</p>
<p>
That’s where Rheingold’s thirty-year-old assessment of the internet takes me now. We have gorged at the table of technology for long enough to be bored by even the notion of a new technological layer, but our addict’s muscle memory has us loading up our plates still. We understand the connection between technology and economy — now better than ever — and yet we see bizarre signs of dissonance everywhere. The person who virtue signals about one thing while keeping the other technological conveniences they enjoy — the ones that put neighbors out of work, fatten oligarchs, and erode meaningful boundaries throughout the world — very much in their blind spot. The person who rants about tearing down the system on a video recorded, processed, and uploaded to the system. The person who rebels against the government and shares the pictures of them doing it.
</p>
<p>
Unlike the tea party of 1773, where a hundred men dumped £9,659 worth of tea overnight so the city would wake up (literally) to see the symbol of their discontent floating in the harbor, 2021’s sedition was performed for a rapt audience in real time, with a tatooed QAnon shaman draped in animal pelts ransacking and shit-smearing the Capitol alongside wealthy Instagram influencers who flew in for the spree on their private jet. Whether they saw the rebellion as a historical act of defiance or just another batch of content for the feed is not so easy to parse. There is evidently a pretty wide and messy spectrum of participation, with those who drove in vans full of explosives, ready to zip-tie hostages and execute the Vice President on one end, and those who loitered nearby while flooding the internet with the same-old <span>MAGA</span> hat kissieface selfies on the other. And <i>somewhere</i> in there are the people who went to the trouble of printing up “Civil War” hoodies, the people who erected a massive cross and a gallows — a truly spectacular unforced error of irony — and sadly, the people who died in the brawl.
</p>
<p>
Who was rebelling and who was vlogging? Legally, it doesn’t really matter. They were one and the same this week. But when we place this moment within the longer narrative of culture, progress, and technology, I think it does and will matter quite a bit.
</p>
<p>
Rheingold lamented the common hope (“ever-latent in the breasts of the citizenry”) that technology will solve past problems without creating new ones. Of course it can’t do that. And in some respects, new problems signal progress as much as new solutions do. But when I re-read his words — “ever-latent in the breasts of the citizenry” — I think not of a hidden, concealed, existing-but-not-yet-manifest <i>hope</i>, but a hidden, concealed, existing-but-not-yet-manifest <i>reality</i> made possible by thirty years of the internet. And not just one latent reality, but as many of them as there are people who express them and agree. A clustering of <span>ID</span> and ego-born realities legitimized by the shine of a technological package and the easy endorsement of a like or share.
</p>
<p>
I wonder what sorts of defenses will be mounted in courts on behalf of the YouTubers, Twitchers, and Instagrammers who stormed the Capitol. Will it be that they didn’t know that what they were doing was wrong? That they didn’t know they were committing treason and not just creating content? Or will it be that they actually were not able to know the difference? As far-fetched as insanity pleas typically are, I wonder about future defenses that the increasing density of our filter bubbles may afford. Time will tell.
</p>
<p>
The internet has been the object of every kind of criticism and blame you can imagine. Certain corners of it more so than others. Sometimes the complaint has been that the technology gives voice to the profane. Sometimes it’s that the technology worsens inequality. Sometimes it’s our humanity we are worried about, and how using technology rewires our brains in the image of the machine. All these have had their time in the critical conversation. But what of the role technology has in simulating a reality within a reality? When it does this, it does it <i>invisibly</i> — wrapping itself around a person — without an edge or boundary that anyone can see or trace. These simulated realities create and shape minds just as the outer — the real — reality does.
</p>
<p>
It is often said that “there are two Americas,” a metaphor highlighting cultural and economic divides. But there aren’t just two Americas. There are thousands, if not millions, of Americas. Sorting the real from the simulated, the legitimate from the illegitimate, the American from the seditious, is, in theory, a job for a kind of technology. And yet, what strange, metastatic chaos future would such a technology create?
</p>
<p>
We now have a reality problem, created by a culture which has irrevocably fused with its technology. And just like any symbiosis, one cannot survive without the other.
</p>
      
  
        
      
       

       
        
     
        
    



</div></div>]]>
            </description>
            <link>https://www.chrbutler.com/we-have-a-reality-problem</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700603</guid>
            <pubDate>Sat, 09 Jan 2021 14:24:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ray Tracing in pure CMake]]>
            </title>
            <description>
<![CDATA[
Score 272 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25700038">thread link</a>) | @networked
<br/>
January 9, 2021 | https://64.github.io/cmake-raytracer/ | <a href="https://web.archive.org/web/*/https://64.github.io/cmake-raytracer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    

    <div>
      <p>Without further ado, I present: a basic whitted ray tracer, complete with multicore rendering, written in 100% pure CMake. If you don't care about the details, and just want to see the code, you can <a href="https://github.com/64/cmake-raytracer">find it here</a>.</p>
<figure>
    <img src="https://github.com/64/cmake-raytracer/raw/master/render.png">
    <figcaption><i>Rendered in 7m23s on a i5-10210U, 8 processes</i> </figcaption>
</figure>
<p>At this point, those familiar with CMake may have some questions, so keep reading to find out how it all works.</p>

<p><strong>Good news:</strong> CMake has a <a href="https://cmake.org/cmake/help/latest/command/math.html?highlight=math"><code>math</code></a> command. <strong>Bad news:</strong> it only supports integers. If you've written a ray tracer before, you probably did it with floating point numbers. So how do you go from representing signed integers to representing something-resembling-floating-point numbers? One answer is to use <a href="https://en.wikipedia.org/wiki/Fixed-point_arithmetic"><strong>fixed-point arithmetic</strong></a>.</p>
<p>The basic idea with fixed point is simple. We define some large integer to represent the number 1.0; let's choose <strong>1000</strong>. Then we can represent 2.0 as 2000, 0.5 as 500, -3.0 as -3000 etc. When we want to add two numbers, we simply add their fixed-point representations. Here's how that looks in CMake:</p>
<pre><span>function(add a b res)
    math(EXPR tmp </span><span>"(${</span><span>a</span><span>}) + (${</span><span>b</span><span>})"</span><span>)
    set(</span><span>"${</span><span>res</span><span>}" "${</span><span>tmp</span><span>}" </span><span>PARENT_SCOPE)
endfunction()
</span></pre>
<p>This takes two values <code>a</code> and <code>b</code> to be added and stored in the variable <code>res</code>. I use <code>PARENT_SCOPE</code> so that the variable we create is actually visible from the calling function, otherwise CMake will destroy it when the function ends.</p>
<p>To multiply two numbers, we simply multiply their fixed-point representations, and then divide by the thing we chose to represent 1.0:
<span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.5</mn><mo>×</mo><mn>4.0</mn><mo>↦</mo><mfrac><mrow><mn>1500</mn><mo>×</mo><mn>4000</mn></mrow><mn>1000</mn></mfrac><mo>=</mo><mn>6000</mn><mo>↦</mo><mn>6.0</mn></mrow><annotation encoding="application/x-tex">1.5 \times 4.0 \mapsto \frac{1500 \times 4000}{1000} = 6000 \mapsto 6.0</annotation></semantics></math></span></span></span></p>
<p>Division is similar:
<span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.5</mn><mo>÷</mo><mn>4.0</mn><mo>↦</mo><mfrac><mrow><mn>1500</mn><mo>×</mo><mn>1000</mn></mrow><mn>4000</mn></mfrac><mo>=</mo><mn>375</mn><mo>↦</mo><mn>0.375</mn></mrow><annotation encoding="application/x-tex">1.5 \div 4.0 \mapsto \frac{1500 \times 1000}{4000} = 375 \mapsto 0.375</annotation></semantics></math></span></span></span>
We could have multiplied by 1000 after doing the division, but as integer division rounds towards zero this would wipe out all our precision (as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1500</mn><mn>4000</mn></mfrac><mo>×</mo><mn>1000</mn><mo>=</mo><mn>0</mn><mo>×</mo><mn>1000</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\frac{1500}{4000}\times 1000 = 0 \times 1000 = 0</annotation></semantics></math></span></span>). Multiplying first gives us better results, as long as the dividend isn't too huge (which would cause overflow).</p>
<p>CMake's <code>math</code> command only supports basic integer arithmetic. For more complicated operations, like square root, we use <a href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton-Raphson iteration</a>. You can read more about this <a href="https://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Babylonian_method">here</a>, but the basic idea is to make a 'guess' as to what the output should be then iteratively refine the guess towards the answer. This gives a surprisingly accurate result within only three or four iterations, subject to the quality of the initial guess:</p>
<pre><span>function(sqrt x res)
    div_by_2(${x} guess)

    </span><span>foreach</span><span>(counter RANGE 4)
        </span><span>if</span><span>(${guess} EQUAL 0)
            set(</span><span>"${</span><span>res</span><span>}" </span><span>0 PARENT_SCOPE)
            return()
        </span><span>endif</span><span>()

        div(${x} ${guess} tmp)
        add(${tmp} ${guess} tmp)
        div_by_2(${tmp} guess)
    </span><span>endforeach</span><span>()

    set(</span><span>"${</span><span>res</span><span>}" "${</span><span>guess</span><span>}" </span><span>PARENT_SCOPE)
endfunction()

</span><span># sqrt(123) = 11.09072626, actual answer is 11.0905365064
</span></pre>
<p>I also implemented a similar function for computing <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><msqrt><mi>x</mi></msqrt></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{\sqrt{x}}</annotation></semantics></math></span></span> separately as I found that it lead to better numerical stability, as opposed to computing the square root as above and then doing the reciprocal. This comes in handy when we need to normalize vectors.</p>
<p>Almost everything in computer graphics is done with vectors, so I started implementing vector operations: <code>vec3_add</code>, <code>vec3_mul</code>, <code>vec3_div</code>, <code>vec3_dot</code> etc. These make use of CMake built-in lists, which are pretty horrible, but save me from having to use three separate variables to keep track of the individual components of each vector. For example, here's what the dot product looks like:</p>
<pre><span>function(vec3_dot x y res)
    list(GET ${x} 0 x_0)
    list(GET ${x} 1 x_1)
    list(GET ${x} 2 x_2)
    list(GET ${y} 0 y_0)
    list(GET ${y} 1 y_1)
    list(GET ${y} 2 y_2)
    mul(${x_0} ${y_0} z_0)
    mul(${x_1} ${y_1} z_1)
    mul(${x_2} ${y_2} z_2)
    add(${z_0} ${z_1} tmp)
    add(${tmp} ${z_2} tmp)
    set(</span><span>"${</span><span>res</span><span>}" </span><span>${tmp} PARENT_SCOPE)
endfunction()
</span></pre>
<p>And here's how we'd use it to normalize a vector:</p>
<pre><span>function(vec3_normalize x res)
    vec3_dot(${x} ${x} x_2)
    rsqrt(${x_2} one_over_length)
    vec3_mulf(${x} ${one_over_length} tmp)
    set(</span><span>"${</span><span>res</span><span>}" </span><span>${tmp} PARENT_SCOPE)
endfunction()
</span></pre>
<p>As well a few other bits and bobs, like <code>clamp</code> and <code>truncate</code>, that's all the arithmetic that's needed.</p>

<p>If you're new to ray tracing, I'd refer you to <a href="https://twitter.com/peter_shirley">Peter Shirley's</a> wonderful book series '<a href="https://raytracing.github.io/">Ray Tracing in One Weekend</a>', which my code is loosely based on. The general intuition is to trace rays out from the camera into the scene and see what they intersect. Since we represent all our scene geometry and rays as mathematical objects, computing intersections between rays and geometry is just a case of solving equations. Once we have found an intersection, we compute the color of the point we intersected with, which may itself be computed by tracing rays towards light sources or towards other scene geometry.</p>
<figure>
    <img src="https://developer.nvidia.com/sites/default/files/pictures/2018/RayTracing/ray-tracing-image-1.jpg">
    <figcaption><i>The ray tracing algorithm.</i>  Credit: <a href="https://developer.nvidia.com/discover/ray-tracing">https://developer.nvidia.com</a></figcaption>
</figure> 
<p>To keep it simply I went with a simple scene consisting of a sphere sitting atop an infinite plane in a checkerboard color. I also ended up faking the shadow underneath the sphere, simply drawing a black circle (well done if you spotted it from the image). I had implemented whitted ray tracing and even path tracing at one point, but they were much more complicated and performed a lot worse for the same result. In theory, though, there's no reason why I couldn't do it properly, it would just require some additional effort and patience.</p>
<p>Here's what the main 'trace' function looks like, with some of the unnecessary bits stripped out for clarity:</p>
<pre><span># Traces a ray into the scene, computes the color returned along the ray
</span><span>function(trace ray_origin ray_dir depth color)
    </span><span># Base case for recursion
    </span><span>if</span><span>(${depth} GREATER_EQUAL 3)
        return()
    </span><span>else</span><span>()
        math(EXPR depth </span><span>"${</span><span>depth</span><span>} + 1"</span><span>)
    </span><span>endif</span><span>()

    </span><span># Calculate intersection points with the sphere and plane
    </span><span>sphere_intersect(${ray_origin} ${ray_dir} hit_t_1 hit_point_1 hit_normal_1)
    plane_intersect(${ray_origin} ${ray_dir} hit_t_2 hit_point_2 hit_normal_2)

    </span><span># Did we hit the sphere?
    </span><span>if</span><span>(${hit_t_1} GREATER ${ray_epsilon})
        </span><span># Calculate reflected ray direction
        </span><span>offset_origin(hit_point_1 hit_normal_1 new_origin)
        vec3_dot(hit_normal_1 ${ray_dir} scalar)
        mul_by_2(${scalar} scalar)
        vec3_mulf(hit_normal_1 ${scalar} refl_a)
        vec3_sub(${ray_dir} refl_a new_dir)

        </span><span># Recursively trace the new ray into the scene
        </span><span>trace(new_origin new_dir ${depth} traced_col)

        </span><span># Calculate contribution from lights
        </span><span>set(col 0 0 0)
        light_contrib(hit_point_1 hit_normal_1 light1_pos light1_col out_col1)
        light_contrib(hit_point_1 hit_normal_1 light2_pos light2_col out_col2)
        vec3_add(col out_col1 col)
        vec3_add(col out_col2 col)
        vec3_add(col traced_col col)

        set(base_col ${sphere_color})
        vec3_mul(base_col col col)

    </span><span># Did we hit the plane?
    </span><span>elseif</span><span>(${hit_t_2} GREATER ${ray_epsilon})
        </span><span># ...snip: Use equation of a circle to fake shadow, if we're within range
        # ...snip: Calculate checkerboard pattern
    </span><span>else</span><span>()
        </span><span># We hit nothing, return black
        </span><span>set(col 0 0 0)
    </span><span>endif</span><span>()

    set(</span><span>"${</span><span>color</span><span>}" </span><span>${col} PARENT_SCOPE)
endfunction()
</span></pre>
<p>When I started, I wouldn't sure if it would be possible to do in pure CMake, but with a little trickery we can manage it.</p>
<p>For <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> processes, the basic plan is to divide up the image vertically and let each sub-process render a few rows. We can invoke sub-processes with the <a href="https://cmake.org/cmake/help/v3.0/command/execute_process.html"><code>execute_process</code></a> command, passing arguments (such as the worker index) via <code>-D</code>. Each process then spits their row data into a text file, which gets merged together by the master process once they've all finished.</p>
<p>One subtlety is that as we need all the sub-processes to run in parallel, we can't simply call <code>execute_process</code> <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> times, as it would run them sequentially. Luckily, we can specify multiple processes to run simultaneously in one command (I think this is intended to be used for long chains where one program is piped into the next), but in order to avoid hardcoding <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span></span> we have to programmatically construct the call to <code>execute_process</code> with CMake's <a href="https://cmake.org/cmake/help/git-stage/command/cmake_language.html"><code>EVAL CODE</code></a> feature (thanks to <a href="https://github.com/martty/vuk">martty</a> for this idea):</p>
<pre><span>message(STATUS </span><span>"Launching ray tracer with ${</span><span>num_procs</span><span>} processes, ${</span><span>image_width</span><span>}x${</span><span>image_height</span><span>} image..."</span><span>)

set(exec_command </span><span>"execute_process(</span><span>\n</span><span>"</span><span>)
</span><span>foreach</span><span>(worker_index RANGE 1 ${num_procs})
    set(exec_command </span><span>"${</span><span>exec_command</span><span>}COMMAND cmake . -Wno-dev -Dworker_index=${</span><span>worker_index</span><span>} -Dimage_width=${</span><span>image_width</span><span>} -Dimage_height=${</span><span>image_height</span><span>} -Dnum_procs=${</span><span>num_procs</span><span>}</span><span>\n</span><span>"</span><span>)
</span><span>endforeach</span><span>()
set(exec_command </span><span>"${</span><span>exec_command</span><span>} )"</span><span>)

</span><span># Begin the worker processes
</span><span>cmake_language(EVAL CODE ${exec_command})

message(STATUS </span><span>"Finished ray tracing, gathering results..."</span><span>)
</span></pre>
<p>As per <a href="https://raytracing.github.io/">Ray Tracing in One Weekend</a>, I use the <a href="https://en.wikipedia.org/wiki/Netpbm#PPM_example">PPM image format</a>. This is a really simple text-based format which is perfect for my purposes as I don't have to bother with compression. Once we're done rendering we simply read all the data that the workers have spat out, write the PPM header, and print everything to <code>stderr</code>:</p>
<pre><span>set(image_contents </span><span>"P3 ${</span><span>image_width</span><span>} ${</span><span>image_height</span><span>}</span><span>\n</span><span>255</span><span>\n\n</span><span>"</span><span>)

</span><span>foreach</span><span>(worker_index RANGE 1 ${num_procs})
    file(READ </span><span>"worker-${</span><span>worker_index</span><span>}.txt" </span><span>file_contents)
    set(image_contents </span><span>"${</span><span>image_contents</span><span>}${</span><span>file_contents</span><span>}"</span><span>)
</span><span>endforeach</span><span>()

message(</span><span>"${</span><span>image_contents</span><span>}"</span><span>)
</span></pre>
<p>The division of work among the worker processes is pretty sub-optimal as the rows towards the top of the image are mostly empty whereas the rows at the bottom are entirely full, which means that some processes finish very fast while others take much longer. Fixing this problem is left as an exercise to the reader.</p>

<p>If you made it this far, thanks for reading! Feel free to create issues, send pull requests or star <a href="https://github.com/64/cmake-raytracer">the code on GitHub</a>.</p>

    </div>

    
    

    

    
        
            
              
        
    
</article></div>]]>
            </description>
            <link>https://64.github.io/cmake-raytracer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700038</guid>
            <pubDate>Sat, 09 Jan 2021 13:04:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Masks Off for TheDonald.win]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25700030">thread link</a>) | @some_furry
<br/>
January 9, 2021 | https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>In 2015, a subreddit called /r/The_Donald was created. This has made a lot of people very angry and widely been regarded as a bad move.</p>



<p>Roughly 5 years after its inception, the Reddit staff banned /r/The_Donald because it was a cesspool of hateful content and harmful conspiracy theories. You can learn more about it <a href="https://www.vikingsecblog.com/dumping-the-donald/">here</a>.</p>



<h2>Why are we talking about this in 2021?</h2>



<p>Well, <em>a lot has happened</em> in the first week of the new year. A lot of words have been written about the fascist insurrection that attempted a coup on the U.S. legislature, so I won’t belabor the point more than I have to.</p>



<p>But as it turns out: The shitty people who ran /r/The_Donald didn’t leave well enough alone when they got shit-canned.</p>



<div><figure><img loading="lazy" data-attachment-id="116" data-permalink="https://soatok.blog/soatok_stickerpack-facepaw/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Facepaw!" data-image-description="<p>Facepaw!</p>
" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" alt="Facepaw" width="512" height="512" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Remember: You can’t recycle fash.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>Instead, they spun up a Reddit clone under the domain <code>thedonald.win</code> and hid it behind CloudFlare.</p>



<p>Even worse: Without Reddit rules to keep them in check, they’ve gone all in on political violence and terrorism.</p>



<p>(<strong>Content Warning</strong>: Fascism, political violence, and a myriad of other nastiness in the Twitter thread below.)</p>



<figure><div>

</div></figure>



<p>If you remember last year, I published a blog post about <a href="https://soatok.blog/2020/05/09/how-to-de-anonymize-scam-knock-off-sites-hiding-behind-cloudflare/">identifying the real server IP address from email headers</a>. This is far from a sophisticated technique, but if simple solutions work, why not use them?</p>



<p>(Related, I wrote a post in 2020 about <a href="https://soatok.blog/2020/11/12/deplatforming-hate-and-harassment/">more effectively deplatforming hate and harassment</a>. This knowledge will come in handy if you find yourself needing to stop the spread of political violence, but is strictly speaking not relevant to the techniques discussed on this page.)</p>



<h2 id="unmasking-thedonald.win">Unmasking TheDonald.win</h2>



<p>The technique I outlined in <a href="https://soatok.blog/2020/05/09/how-to-de-anonymize-scam-knock-off-sites-hiding-behind-cloudflare/">my previous post</a> doesn’t work on their Reddit clone software: Although it asks you for an (optional) email address at the time of account registration, it never actually emails you, and there is no account recovery feature (a.k.a. “I forgot my password”).</p>



<div><figure><img data-attachment-id="1388" data-permalink="https://soatok.blog/soatoktelegrams2020-12/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-12" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Foiled immediately! What’s a furry to do?<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p><strong>However, their software is still a Reddit clone!</strong></p>



<p>Reddit has this feature where you can submit links and it will helpfully fetch the page title for you. It looks like this:</p>



<div><figure><img data-attachment-id="2387" data-permalink="https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/reddit-post/" data-orig-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png" data-orig-size="566,655" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="reddit-post" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=259" data-large-file="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=566" src="https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=566" alt="" srcset="https://soatok.files.wordpress.com/2021/01/reddit-post.png 566w, https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=130 130w, https://soatok.files.wordpress.com/2021/01/reddit-post.png?w=259 259w" sizes="(max-width: 566px) 100vw, 566px"><figcaption>When I paste a URL into this form, it automatically fetches the title.</figcaption></figure></div>



<p>How this feature works is simple: They initiate an HTTP request server-side to fetch the web page, parse out the title tag, and return it.</p>



<p>So what happens if you control the server that their request is being routed to, and provide a unique URL?</p>



<div><figure><img data-attachment-id="2389" data-permalink="https://soatok.blog/thedonald-access-logs/" data-orig-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png" data-orig-size="1044,239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="thedonald-access-logs" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=580" src="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=1024" alt="" srcset="https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=1024 1024w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=150 150w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=300 300w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png?w=768 768w, https://soatok.files.wordpress.com/2021/01/thedonald-access-logs.png 1044w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Leaking TheDonald.win’s true IP address from behind CloudFlare.</figcaption></figure></div>



<p>Well, that was easy! To eliminate false positives, I performed all of this sampling with Tor Browser and manually rebuilt the Tor Circuit multiple times, and always got the same IP address: <strong><code>167.114.145.140</code></strong>.</p>



<h4>An Even Lazier Technique</h4>



<p><strong><a href="https://www.shodan.io/search?query=thedonald.win">Just use Shodan</a>, lol</strong></p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">more redteam tricks: <a href="https://twitter.com/shodanhq?ref_src=twsrc%5Etfw">@shodanhq</a> results usually hold TLS cert information and HTTP-&gt;HTTPS redirect Location headers that can disclose information about a server hiding behind CF's network. most admins do not use the protections that exist at cloudflare to avoid that</p>— ʀǟʀɛƈօɨʟ (@_rarecoil) <a href="https://twitter.com/_rarecoil/status/1347768188017143808?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>Apparently chuds are really bad at OpSec, and their IP was exposed on Shodan this whole time.</p>



<div><figure><img data-attachment-id="121" data-permalink="https://soatok.blog/soatok_stickerpack-snicker/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Hehe" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=512" alt="Soatok Laughing" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-snicker.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>You can’t help but laugh at their incompetence.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3>The Road to Accountability</h3>



<p>Okay, so we have their real IP address. What can we do with it?</p>



<p>The easiest thing to do is find out who’s hosting their servers, with a simple WHOIS lookup on their IP address.</p>



<div><figure><img data-attachment-id="2403" data-permalink="https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/thedonald-whois/" data-orig-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png" data-orig-size="468,229" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="thedonald-whois" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=468" src="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=468" alt="" srcset="https://soatok.files.wordpress.com/2021/01/thedonald-whois.png 468w, https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=150 150w, https://soatok.files.wordpress.com/2021/01/thedonald-whois.png?w=300 300w" sizes="(max-width: 468px) 100vw, 468px"></figure></div>



<p>Hosted by OVH Canada, eh? After all, nothing screams “Proud American” like hosting your website with a French company in a Canadian datacenter.</p>



<div><figure><img data-attachment-id="1389" data-permalink="https://soatok.blog/soatoktelegrams2020-13/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-13" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-13.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Dunking on these fools for the inconsistencies in their worldview is self-care and I recommend it, even though I know they don’t care one iota about hypocrisy.</figcaption></figure></div>



<p>I immediately wondered if their ISP was aware they were hosting right-wing terrorists, so I filed an innocent <a href="https://www.ovh.com/world/abuse/">abuse report</a> with details about how I obtained their IP address and the kind of behavior they’re engaging in. Canada’s laws about hate speech and inciting violence are <a href="https://www.cbc.ca/news/canada/toronto/your-ward-news-james-sears-sentenced-1.5256452">comparably strict</a>, after all.</p>



<p>I’ll update this post later if OVH decides to take action.</p>



<h2>Lessons to Learn</h2>



<p>First, don’t tolerate violent political extremists, or you’ll end up with political violence on your hands. <strong><a href="https://www.vice.com/en/article/bjbp9d/do-social-media-bans-work">Deplatforming works</a>.</strong></p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Bringing back this gem:</p><p>If you're a Nazi, and you're fired, it's your fault. 👏👏<br>If you're a Nazi, and you're fired, it's your fault. 👏👏<br>If you were spotted in the mob, and you lost your fucking job. <br>You're a Nazi, you've been fired, it's your fault. 👏👏</p></div>— 🐰Witchie 🧶💜 (@witchiebunny) <a href="https://twitter.com/witchiebunny/status/1347624481318166528?ref_src=twsrc%5Etfw">January 8, 2021</a></blockquote></div>
</div><figcaption>It’s catchy!</figcaption></figure>



<p>Second, and most important: Online privacy is hard. Hard enough that bigots, terrorists, and seditious insurrectionists can’t do it right.</p>



<p>This bears emphasizing: None of the techniques I’ve shared on the history of my blog are particularly clever or novel. But they work extremely well, and they’re useful for exposing shitty people.</p>



<p>Remember: Sunlight is the best disinfectant.</p>



<p>Conversely: Basic OSINT isn’t hard; merely tedious.</p>



<h3>Other Techniques (from Twitter)</h3>



<p>Subdomain leaks (via @z3dster):</p>



<figure><div>

</div></figure>



<p>Exploiting CloudFlare workers (via @4dwins):</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">When they limit the origin to the CDN range you can sometimes get around it using a proxy in a Cloudflare worker. For Akamai you can spin up a distribution on Azure for cheap they resell.</p>— Jack Nutt (@4dwins) <a href="https://twitter.com/4dwins/status/1347809701291937792?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>DNS enumeration (via @JoshFarwell):</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">DNS enumeration is also your friend. The main DNS record might point to cloudflare but there may be other domain names that point directly to the origin. Dev versions of the site, etc</p>— ジョシュさん (@JoshFarwell) <a href="https://twitter.com/JoshFarwell/status/1347840751720304641?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote></div>
</div></figure>



<p>If the site in question is running WordPress, you <a href="https://blog.nem.ec/2020/01/22/discover-cloudflare-wordpress-ip/">can use Pingbacks to get WordPress to cough up the server IP address</a>. If you aren’t sure if something runs WordPress, here’s the lazy way to detect that: view any page’s source code and see if the string <code>/wp-content</code> shows up in any URLs (especially for CSS). If it’s found, you’re probably dealing with WordPress.</p>



<p>Gab’s (another platform favored by right-wing extremists) IP address discovered through their Image Proxy feature to be <code>216.66.0.222</code> (via @kubeworm):</p>



<figure><div>

</div></figure>



<h2 id="noticed">The Alt-Right Notices this Blog Post</h2>



<p>Shortly after I posted this online, some users from thedonald.win noticed this blog post and hilarity ensued.</p>



<figure><div>

</div><figcaption>The <a href="https://twitter.com/SoatokDhole/status/1348204577154326528">entire Twitter thread</a> is worth a read.</figcaption></figure>



<p>I want to make something clear in case anyone (especially members of toxic Trump-supporting communities) is confused:</p>



<p>What’s published on this page <em>isn’t</em> doxing, nor do I have any interest in doxing people. That’s the job of law enforcement, not furry bloggers who sometimes write about computer topics. And law enforcement definitely doesn’t need my help: When you create an account, you must solve a ReCAPTCHA challenge, which sends an HTTP request directly to Google servers–which means law enforcement could just subpoena Google for the IP address of the server, even if the above leaks were all patched.</p>



<p>This also isn’t the sort of thing I’d ever <em>brag</em> about, since the entire point I’ve been making is <strong>what I’ve done here isn’t technically challenging</strong>. If I wanted to /flex, I’d just talk more about my work on <a href="https://github.com/soatok/constant-time-js">constant-time algorithm implementations</a>.</p>



<p>If, in response to my abuse report, OVH Canada determines that their website isn’t violating OVH’s terms of service, then y’all have nothing to worry about.</p>



<p>But given the amount of rampant hate speech being hosted in Canadian jurisdiction, I wouldn’t make that bet.</p>



<hr>



<p>Header art by <a href="https://twitter.com/kazunekomori">Kyume</a>.</p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://soatok.blog/2021/01/09/masks-off-for-thedonald-win/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25700030</guid>
            <pubDate>Sat, 09 Jan 2021 13:02:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Authoritarianism Through Coding: Signal]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 35 (<a href="https://news.ycombinator.com/item?id=25699993">thread link</a>) | @m3rcury
<br/>
January 9, 2021 | https://www.oyd.org.tr/en/articles/signal/ | <a href="https://web.archive.org/web/*/https://www.oyd.org.tr/en/articles/signal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <article>
    
     
      
    <p>This isn’t a theoretical piece about freedom and digital technologies. This is a real ongoing trend that is at best observed around secure messaging application Signal by Open Whisper Systems and it’s founder Moxie Merlinspike. His view and management of Signal reflects a wider trend that jepordises world’s freedom.</p>
<p>Signal is a secure messaging software that has changed the field a lot. Signal is built upon propriety software Textsecure and RedPhone applications that had been developed by Merlinspike and his co-founder Stuart Anderson. When Twitter acquired Whisper Systems, it releases both software under free software licenses. Merlinspike left Twitter acquired Whisper Systems, founded Open Whisper Systems and merged -once the private property of himself- TextSecure and Redphone into Signal.</p>
<p>Signal is free software. “Free as in freedom”, their client and server code is licenced under GPLv3 and AGPLv3. This makes the code and only the code itself pro-freedom. Just because the code it self free does not necessarily make the coder “free” as well and that is the problem we face today!</p>
<p>Open Whisper Systems led by Moxie Merlinspike, who is behind Signal, is and was never behind freedom. This has been seen in the light of LibreSignal (<a href="https://github.com/LibreSignal/LibreSignal/issues/37#issuecomment-217211165">https://github.com/LibreSignal/LibreSignal/issues/37#issuecomment-217211165</a>) debate where a fork of Signal client is build without unfree dependencies and published on the F-droid free software repository on Android. After much debate about federation, the claimed server resources and freedom, followed by legal trademark threats Libresignal has been removed from F-droid and so was anybody’s chance of using Signal as a secure messenger who doesn’t use Google services. <a href="https://wire.com/en/blog/axolotl-proteus-encryption-protocols/">Wire</a> case is just another example.</p>
<p>This approach is not only a threat to free software it is a recurring threat to human kind!</p>
<p>To prove this bold claim one needs to look at one recent blog post from Open Whisper Systems and a presentation made in 36C3 by Merlinspike.</p>
<p><a href="https://signal.org/blog/the-ecosystem-is-moving/">Signal’s blog post</a>
<a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">Matrix’s blog Post</a></p>
<p>The main points of his claims can be listed as follows:</p>
<ul>
<li>Decentralized systems are harder to build</li>
<li>Decentralized systems are harder to evolve</li>
<li>Decentralized systems are harder to secure</li>
<li>Decentralized systems are becoming concentrated in predominant provider anyways</li>
<li>If users don’t trust their app provider they have the freedom to use something else</li>
</ul>
<p>While his claims are true up to a certain point they are only superficial. Through these points Merlinspike claims that, centralized services are superior in modern times!</p>
<p><a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">anyone who is interested in the depth of this debate can start reading Martix’s answer to Merlinspike at the link here</a></p>
<p>It is really unnecessary to explain in depth why this type of thinking is dangerous when a simple change in words can tell more than 1000 page work. Let’s rename the object and compare his digital dystopia with one that has occured several times through-out analog human history and which once again recures today;</p>
<ul>
<li>Democracies are harder to build</li>
<li>Democracies are harder to improve</li>
<li>Democracies are harder to secure</li>
<li>In democracies power is becoming concentrated in predominant hands anyways</li>
<li>If people do not like their democracy provider (country) they have the freedom to leave and go another provider.</li>
</ul>
<p>One doesn’t need to think hard to see what Merlinspike is advising. He claims democracies suck because of the hardships of human organization and proposes autocracy to manage the world in favour of the helpless people occupying it. Why? Because democracies are inefficient and people don’t want that!</p>
<p>If he had given the same statement about democracies and governmental politics as he gave about federative systems it would have provoked outrage! People died for freedom, they are still dying and struggling around the globe. Then someone comes and stomps over every ideal which human society ever build up until this point in history and proclaims themselves the world leader! Think about it!</p>
<p>The example given is bad but why are Merlinspike’s claims about decentralized systems not considered bad as well? Because digital freedom has not yet been lost and won by blood or are we still asleep? Just because code is free, it doesn’t necessarily mean that the coders mind is also free! Freedom is not just a license, it is an ideal in any condition that we must stand for!</p>

    
        <hr>



    
  </article>
  
</div></div>]]>
            </description>
            <link>https://www.oyd.org.tr/en/articles/signal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699993</guid>
            <pubDate>Sat, 09 Jan 2021 12:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell is a Bad Programming Language (2020)]]>
            </title>
            <description>
<![CDATA[
Score 331 | Comments 286 (<a href="https://news.ycombinator.com/item?id=25699574">thread link</a>) | @fpoling
<br/>
January 9, 2021 | https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾 | <a href="https://web.archive.org/web/*/https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://blog.shitiomatic.tech/post/haskell-is-a-bad-programming-language/#👾</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699574</guid>
            <pubDate>Sat, 09 Jan 2021 11:40:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Source for Helm chart that uses Ansible to set up a hardened WordPress]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25699544">thread link</a>) | @jhabdas
<br/>
January 9, 2021 | https://code.habd.as/comfusion/WordPress | <a href="https://web.archive.org/web/*/https://code.habd.as/comfusion/WordPress">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span id="count_prompt">You can not select more than 25 topics</span>
			<span id="format_prompt">Topics must start with a letter or number, can include dashes ('-') and can be up to 35 characters long.</span>
		</p><div>
	
	<div>
		<div>
			
				
<p>This is a WordPress repository configured to run on the <a href="https://kubernetes.io/" rel="nofollow">Kubernetes platform</a>. It's a fork of Pantheon's WordPress fork modified to remove the Pantheon-specific source code. Use it as a base for a hardened WordPress installation created via Ansible using <a href="https://code.habd.as/mirrors/wordpress-helm" rel="nofollow">wordpress-helm</a>.</p>
<p>Pantheon is a website platform optimized and configured to run high performance sites and then ransom those sites back to their customers when traffic rises due to popularity. This fork is intended to empower Pantheon <a href="https://www.chicagoganghistory.com/announcements/im-back/" rel="nofollow">customers stuck with a ransom note</a> to self-host instead.</p>
<p><a href="https://code.habd.as/comfusion/WordPress/media/branch/default/grafana.png" rel="nofollow"><img src="https://code.habd.as/comfusion/WordPress/media/branch/default/grafana.png" alt="grafana"></a></p>
<h2 id="user-content-comparisons">Comparisons</h2>
<p>Comparing Pantheon and Kubernetes.</p>
<h3 id="user-content-monthly-price">Monthly price</h3>
<p>Pantheon is a good value when visitor count is under 25K per month. After that value quickly diminishes:</p>
<table>
<thead>
<tr>
<th>Monthly Visitors</th>
<th>Pantheon</th>
<th>Kubernetes</th>
</tr>
</thead>
<tbody>
<tr>
<td>25K–50K</td>
<td>$160†</td>
<td>$30‡</td>
</tr>
<tr>
<td>50K–150K</td>
<td>$275†</td>
<td>$30‡</td>
</tr>
<tr>
<td>150K–300K</td>
<td>$550†</td>
<td>Unknown</td>
</tr>
<tr>
<td>300K+</td>
<td>$916†</td>
<td>Unknown</td>
</tr>
</tbody>
</table>
<p>† Pantheon offers preferred pricing when paid annually. The charges are $114, $206, $412 and $687 respectively.</p>
<p>‡ Beware of monthly bandwidth limitations imposed by cloud-hosting providers such as <a href="https://habd.as/go/digitalocean" rel="nofollow">DigitalOcean</a> and <a href="https://habd.as/go/vultr" rel="nofollow">Vultr</a>. Some providers offer unlimited bandwidth while others do not. Choosing the right one for you will depend on your specific requirements.</p>
<h3 id="user-content-features">Features</h3>
<p>Comparison of features between Pantheon starter plan and wordpress-helm:</p>
<table>
<thead>
<tr>
<th>Pantheon</th>
<th>Kubernetes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Varnish</td>
<td>—</td>
</tr>
<tr>
<td>–</td>
<td>Redis</td>
</tr>
<tr>
<td>Apache Solr</td>
<td>—</td>
</tr>
<tr>
<td>Nginx</td>
<td>Apache</td>
</tr>
<tr>
<td>PHP-FPM</td>
<td>PHP Redis</td>
</tr>
<tr>
<td>MySQL</td>
<td>MariaDB (Replicated)</td>
</tr>
<tr>
<td>PhantomJS</td>
<td>—</td>
</tr>
<tr>
<td>—</td>
<td>Ansible</td>
</tr>
<tr>
<td>WP Cron</td>
<td>K8s CronJob + MU Cron</td>
</tr>
<tr>
<td>WP Mail</td>
<td>—</td>
</tr>
<tr>
<td>Easy backups</td>
<td>Backups automated</td>
</tr>
<tr>
<td>Drush API</td>
<td>Root shell</td>
</tr>
</tbody>
</table>
<p>As you can see you need to give up some things in order to migrate to Kubernetes. What you lose you gain back in the form of control. Items may be added to or removed from the stack as needed.</p>
<h2 id="user-content-getting-started">Getting Started</h2>
<h3 id="user-content-1-spin-up-a-free-site-on-pantheon">1. Spin-up a free site on Pantheon</h3>
<p>If you do not yet have a Pantheon account, you can create one for free. Once you've verified your email address, you will be able to add sites from your dashboard. Choose "WordPress" to use the upstream distribution of this fork.</p>
<h3 id="user-content-2-load-up-the-site">2. Load up the site</h3>
<p>When the spin-up process is complete, you will be redirected to the site's dashboard. Click on the link under the site's name to access the Dev environment.</p>
<h3 id="user-content-3-run-the-wordpress-installer">3. Run the WordPress installer</h3>
<p>How about the WordPress database config screen? No need to worry about database connection information as that is taken care of in the background. The only step that you need to complete is the site information and the installation process will be complete.</p>
<h3 id="user-content-4-wait-for-ransom-note">4. Wait for ransom note</h3>
<p>Pantheon has a tendency to change their pricing model every couple of years. When you eventually get a ransom note after getting backed into a corner begin your migration to Kubernetes.</p>
<h3 id="user-content-5-begin-migration-to-kubernetes">5. Begin migration to Kubernetes</h3>
<p>The entire migration process should take about a week or so for an experienced developer. Full migration instructions <a href="https://habd.as/post/move-pantheon-wordpress-site-kubernetes/" rel="nofollow">are available</a> without fee.</p>
<h3 id="user-content-6-profit">6. Profit!</h3>
<p><a href="https://source.unsplash.com/rwfISioESQM" rel="nofollow"><img src="https://source.unsplash.com/rwfISioESQM" alt="profit"></a></p>

			
		</div>
	</div>
</div></div>]]>
            </description>
            <link>https://code.habd.as/comfusion/WordPress</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699544</guid>
            <pubDate>Sat, 09 Jan 2021 11:33:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep neck flexor exercises – Back and neck]]>
            </title>
            <description>
<![CDATA[
Score 181 | Comments 110 (<a href="https://news.ycombinator.com/item?id=25699510">thread link</a>) | @whereistimbo
<br/>
January 9, 2021 | https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html | <a href="https://web.archive.org/web/*/https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mainContent">
	<div>
        <div id="leftCol_normal">

<h2>Deep neck flexor exercises</h2>
<br>
<h3>Why train them?</h3>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_1.jpg"></p><p>The deep neck flexor muscles sit deep in the front of the neck, behind the trachea (windpipe). Because of their close proximity to the vertebrae (spine) and their short length, they have an important role in providing stability to the neck. People with a history of neck or upper back injury, such as whiplash, can show great improvement in pain and function if they strengthen these muscles. Those with postural neck pain often have weakness in these muscles and overuse in the muscles on the top of the shoulders. They too can show a great response to retraining the deep neck flexor muscle group.
</p><br>

<h3>How do I exercise them?</h3>
<h5>Exercise 1</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_2.jpg"></p><ul>
<li>Lie on your back with knees comfortably bent. Find your neutral spine position, as explained by your physiotherapist. Use a small rolled towel under the head if needed.</li>
<li>Lift your head off the towel and feel the muscles on the front of the neck. These are NOT the deep neck flexor muscles - these muscles often overwork to try and help with stability, they are not designed for this purpose.</li>
<li>Perform a small nodding movement, as if to look towards your toes. Don't lift your head up. You should not feel the muscles on the front of the neck moving, but rather you should be using the muscles deep behind them.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 2</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_3.jpg"></p><ul>
<li>Position as above.</li>
<li>Place your hand on the side of your head and provide gentle resistance, as if you are bending your head to one side.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
<li>Use hand to resist small rotation movement.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 3</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_4.jpg"></p><ul>
<li>Lie on your tummy with hands supporting the forehead.</li>
<li>Perform the small nodding movement and float the head and breastbone off the floor.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 4a:</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_5.jpg"></p><ul>
<li>Stand with your back to the wall and your feet slightly in front, hip width apart. Perform the small nodding movement, while sliding the base of the skull up the wall. You should feel the neck lengthen.</li>
<li>Hold for 5 seconds. Repeat 10 times.</li>
</ul>
<h5>Exercise 4b:</h5>

<ul>
<li>Same as exercise above.</li>
<li>From the lengthened position, move your head away from the wall so that you're looking at the floor.</li>
<li>Then return to the starting position.</li>
<li>Do not allow your chin to poke forward through either movement.</li>
</ul>

<h5>Exercise 4c:</h5>
<p>
<img src="https://www.sprintphysio.co.uk/images/patient-exercises/deep_neck_8.jpg"></p><ul>
<li>Sitting in a chair, look up at the ceiling.</li>
<li>When returning the head back to the neutral position, do not let the chin poke forward.</li>
<li>Curl forward one level at a time, starting from the top.</li>
<li>Do not allow your chin to poke forward.</li>
</ul>
<br>

<h3>Where do I go from here?</h3>
<p>
Once you have mastered these exercises, you should feel more aware of your neck posture and how to position yourself correctly. You can use this knowledge:</p>
<ul>
<li>When sitting at your desk/computer or on the couch.</li>
<li>Performing any weights in the gym or doing exercise classes.</li>
</ul>

<p>

Please <a href="https://www.sprintphysio.co.uk/contact-us/index.html">contact us</a> to book an appointment or for more information on any of the services available at our clinic in Kensington.</p>
<p>
<a href="#top" title="Back To Top">↑ Back To Top</a></p>






        </div>
        
		



				
				<p><b>Insurance providers...</b></p><p><img src="https://www.sprintphysio.co.uk/images/insurance-logos.png">
				</p>
				<br>


	</div>
</div><div id="jumpsContainer">
	<div>
			<div id="j1">
				<p><a>Physiotherapy</a></p><p><a href="https://www.sprintphysio.co.uk/services/physiotherapy.html"><img src="https://www.sprintphysio.co.uk/images/physiotherapy-jump.jpg" alt="Physiotherapy" title="Physiotherapy"></a></p>
				<div><p>
					Our physiotherapists specialise in restoring your normal function and movement patterns so you can get on with everyday life. </p></div>
				<p>Read more »</p>
			</div>
			<div id="j2">
 				<p><a>Pilates</a></p><p><a href="https://www.sprintphysio.co.uk/services/pilates.html"><img src="https://www.sprintphysio.co.uk/images/pilates-jump.jpg" alt="Pilates" title="Pilates"></a></p>
				<div><p>
					Pilates focuses on building the body???s core strength and improving posture through a series of low repetition, low impact stretching and conditioning exercises. </p></div>
				<p>Read more »</p>
			</div>

            <div id="j3">
            	<p><a>Sports injuries</a></p><p><a href="https://www.sprintphysio.co.uk/services/sports-assessments.html"><img src="https://www.sprintphysio.co.uk/images/sports-injuries-jump.jpg" alt="Sports injuries" title="Sports injuries"></a></p>
				<div><p>
					At Sprint Physiotherapy we are experts at treating a variety of sporting injuries, including; swimming, running, golfing, etc.</p></div>
				<p>Read more »</p>
			</div>

            <div id="j4">
				<p><a>Massage Therapy</a></p><p><a href="https://www.sprintphysio.co.uk/services/massage.html"><img src="https://www.sprintphysio.co.uk/images/massage-therapy-jump.jpg" alt="Massage Therapy" title="Massage Therapy"></a></p>
				<div><p>
					Our massage therapists specalise in a range of massage techniques; remedial, sports, pregnancy, etc.</p></div>
				<p>Read more »</p>
			</div>
			

	</div>
</div></div>]]>
            </description>
            <link>https://www.sprintphysio.co.uk/patient-exercises/back-and-neck/deep-neck-flexor-exercises.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25699510</guid>
            <pubDate>Sat, 09 Jan 2021 11:27:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: DevBooks – Help Developers find indy books]]>
            </title>
            <description>
<![CDATA[
Score 113 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25698707">thread link</a>) | @simon-holdorf
<br/>
January 9, 2021 | https://thesmartcoder.dev/books/ | <a href="https://web.archive.org/web/*/https://thesmartcoder.dev/books/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div data-app="true" id="app" data-v-8b44678a=""><div> <main data-v-8b44678a=""><div><div data-v-405cec28="" data-v-8b44678a=""><div><div data-v-405cec28=""><div data-v-405cec28=""><div> <p data-v-405cec28="">
        Find the best books for developers.
      </p></div></div></div></div></div> <div data-v-8b44678a=""><div data-v-58ecdbbb="" data-v-8b44678a=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><h2>What is DevBooks?</h2> <p>DevBooks helps developers to find the best books for developers and authors to showcase their amazing work. </p></div></div> </div> <div data-v-58ecdbbb=""><div data-v-58ecdbbb=""><div xs="12"><div> <div><h2>
        A React Developer’s Guide to Hooks
      </h2> <p>by Sebastien Castiel</p> <p>
        React Hooks are awesome, but they are not easy to use every day.
In my experience with React and hooks, I have faced a lot of issues, spent some time debugging to understand where these issues came fr...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Bootstrap
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Learn to use one of the most popular CSS frameworks and build mobile-friendly web pages. Used for numerous websites and applications, Bootstrap is a key tool for modern web development.
      </p></div>  </div></div><div xs="12"><div> <div><h2>
        The Coding Career Handbook
      </h2> <p>by Shawn Swyx Wang</p> <p>
        10 hours of audio. 40 chapters. 450+ pages. 1,400+ links to original sources curated over 3 years. Priceless insights from dozens of developers at the top of their fields. Proven ideas, tested by pers...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Jest Handbook
      </h2> <p>by Hugo Di Francesco</p> <p>
        Learn Advanced JavaScript Testing patterns with Jest.

Take your JavaScript testing to the next level by learning the ins and outs of Jest, the top JavaScript testing library.
      </p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Test Automation
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Learn the principles behind test-driven development (TDD) and behavior-driven development (BDD) and see how Jasmine, RSpec and Cucumber can be used to your advantage. This book examines some of the le...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Tech Resume Inside Out
      </h2> <p>by Gergely Orosz</p> <p>
        What a good developer resume looks like, and how to write one. I've reviewed hundreds of developer resumes at tech companies like Microsoft, Skype, and Uber. This guide helps you craft a developer res...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Lean from the Trenches
      </h2> <p>by Henrik Kniberg</p> <p>
        You know the Agile and Lean development buzzwords, you’ve read the books. But when systems need a serious overhaul, you need to see how it works in real life, with real situations and people. Lean fro...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Code Your Way Up
      </h2> <p>by Greg Thomas</p> <p>
        Code Your Way Up is the book for new developers looking to get started in software and asks the hard questions on growth, delivery, and initiative and what you need to think of in order to succeed.  I...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Master HTML &amp; CSS
      </h2> <p>by Panos Matsinopoulos</p> <p>
        Want to become a Web developer? HTML and CSS are a must for your foundation. And this book takes you from zero to advanced level. From classical hello world things to how you can position elements on ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        How To Host, Secure, and Deliver Static Websites on Amazon Web Services
      </h2> <p>by Kyle Galbraith</p> <p>
        "How To Host, Secure, and Deliver Static Websites on Amazon Web Services" is a book and video course that cuts through the sea of information to accelerate your learning of AWS. Giving you a learning ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to GraphQL
      </h2> <p>by Robin Wieruch</p> <p>
        The Road to GraphQL is your personal journey to master pragmatic GraphQL in JavaScript. The book is full with applications you are going to build along the way with React.js and Node.js. Afterward, yo...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Letters To a New Developer
      </h2> <p>by Dan Moore</p> <p>
        Learn what you need to succeed as a developer beyond the code. The lessons in this book will supercharge your career by sharing lessons and mistakes from real developers. 

Wouldn’t it be nice to lear...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        How to Get a Job in Web Development
      </h2> <p>by RealToughCandy</p> <p>
        "How to Get a Job in Web Development" is designed for junior web developers. 
In this book, you will learn how to:

• Expertly craft the ‘holy clover’ of application materials: your resume, cover lett...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Portfolio Surgery
      </h2> <p>by RealToughCandy</p> <p>
         In Portfolio Surgery, you'll start with a massive upgrade of the look and feel of your portfolio. You'll learn about common pitfalls, dos and don'ts, and portfolio optimization techniques. Then, in t...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Case of IBM 386 PC: A Detective Story for Techies
      </h2> <p>by Jim Grep</p> <p>
        Take a break, have some fun reading a tech mystery story on programming--a first of its kind. A nostalgic story from the early days of IBM PC when some programmers get together to play detective and h...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Freelance Newbie
      </h2> <p>by RealToughCandy</p> <p>
        Are you ready to jump-start your freelance web development career? Freelance Newbie has you covered! In this book, you’ll learn practical, actionable steps you can start using TODAY to get your first ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Your First Year in Code
      </h2> <p>by Isaac Lyman</p> <p>
        Starting a career in programming can be intimidating. Whether you're switching careers, joining a boot camp, starting a C.S. degree, or learning on your own, Your First Year in Code can help, with pra...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Good Parts of AWS
      </h2> <p>by Daniel Vassallo</p> <p>
        This is a book by Daniel Vassallo and Josh Pschorr. Between us, we have worked with AWS for 15 years, including 11 years working inside AWS. We have worked on all sorts of web applications, from small...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Pure React
      </h2> <p>by Dave Ceddia</p> <p>
        Learning new skills is one of the best ways to invest in yourself.

Knowing React can be the deciding factor in getting hired for a new job, or set you up for a promotion at your current one.

You cou...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Practical Vavr
      </h2> <p>by Alexandre Grison</p> <p>
        Practical Vavr is all about making you want to use Vavr in your day to day Java programming.

If you want to improve the quality of your code by using a well-thought and beautifully designed functiona...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Programming Interview Problems: Dynamic Programming (with solutions in Python)
      </h2> <p>by L. Rossi</p> <p>
        The most common dynamic programming problems asked in programming interviews, with detailed solutions in Python. The solutions consist of cleanly written code, with plenty of comments, accompanied by ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Building an Effective Dev Portfolio
      </h2> <p>by Josh Comeau</p> <p>
        I got so many replies! A couple hundred developers were willing to share their portfolios with me, and I went through as many as I could over the next couple of weeks. I found I kept giving the same f...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        PHP Mentors - Advice from PHP Experts around the world
      </h2> <p>by Flávio Silveira</p> <p>
        Answers from PHP masters around the world for your questions.
Code, Career, Team work, Working environment, Logs, Tests, Future and much more.

PHP Mentors Book is a set of questions with topics that ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Content for Developers
      </h2> <p>by Maedah Batool</p> <p>
        A whole new workflow to Write. Publish. Market. Authentic &amp; professional content writing meant for developers. Zero bull-shit and to-the-point tips to improve your technical content writing skills. Le...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        14 Habits of Highly  Productive Developers
      </h2> <p>by Zeno Rocha</p> <p>
        You can learn the most popular frameworks, use the best programming languages, and work at the biggest tech companies, but if you cultivate bad habits, it will be hard for you to become a top develope...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Outstanding Developer
      </h2> <p>by Sebastien Castiel</p> <p>
        Being a developer is not only about writing code. And improving as a developer is not only about improving in writing code. This book explores how to become an outstanding developer through several ax...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        A Smart Guide for Your Career as a Software Engineer
      </h2> <p>by Mike Nikles</p> <p>
        I started my software engineer career 20 years ago. Since then, I have interviewed hundreds of candidates and reviewed even more resumes. This book is a guide for your own career, whether you are new ...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        5 Little Potions
      </h2> <p>by Mark Wilbur</p> <p>
        In 5 Little Potions, you'll begin your journey into Elixir programming by creating increasingly complex games.

You'll start with a simple guessing game. Next you'll work with Elixir Structs in a boar...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Data Analysis with Rust Notebooks
      </h2> <p>by Dr. Shahin Rostami</p> <p>
        A practical book on Data Analysis with Rust Notebooks that teaches you the concepts and how they're implemented in practice.

- All code examples in Rust,
- Rust (Jupyter) Notebooks for each Section,
...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Distributed Systems with Node.js
      </h2> <p>by Thomas Hunter II</p> <p>
        In this hands-on guide, author Thomas Hunter II proves that Node.js is just as capable as traditional enterprise platforms for building services that are observable, scalable, and resilient. Intermedi...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Python re(gex)?
      </h2> <p>by Sundeep Agarwal</p> <p>
        This book will help you learn Python Regular Expressions, a mini-programming language for all sorts of text processing needs.

The book heavily leans on examples to present features of regular express...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to React
      </h2> <p>by Robin Wieruch</p> <p>
        In "The Road to React" you will learn about all the fundamentals of React.js with Hooks while building a full-blown React application step by step. While you create the React application, every chapte...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        Cloud Native Web Development
      </h2> <p>by Mike Nikles</p> <p>
        In this book, we will walk through the end-to-end process of developing a cloud-native web application. You will learn technologies, processes, tips &amp; tricks and gain hands-on experience. You will fin...

        <span>more</span></p></div>  </div></div><div xs="12"><div> <div><h2>
        The Road to Firebase
      </h2> <p>by Robin Wieruch</p> <p>
        The Road to React with Firebase is your personal journey to master advanced React for business web applications in JavaScript whereas Firebase is used to …</p></div></div></div></div></div></div></div></div></div></div></div></main></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesmartcoder.dev/books/">https://thesmartcoder.dev/books/</a></em></p>]]>
            </description>
            <link>https://thesmartcoder.dev/books/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25698707</guid>
            <pubDate>Sat, 09 Jan 2021 08:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning Elixir's GenServer with a real-world example]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25698520">thread link</a>) | @kimi
<br/>
January 8, 2021 | https://papercups.io/blog/genserver | <a href="https://web.archive.org/web/*/https://papercups.io/blog/genserver">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://papercups.io/blog/genserver</link>
            <guid isPermaLink="false">hacker-news-small-sites-25698520</guid>
            <pubDate>Sat, 09 Jan 2021 07:57:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Over: Board – Raspberry Pi CM4 ITX Motherboard]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25697993">thread link</a>) | @todsacerdoti
<br/>
January 8, 2021 | https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/ | <a href="https://web.archive.org/web/*/https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3401">

	

	<div>
		
<p>The Over:Board is an IO board for the Raspberry Pi Compute Module 4. It is designed to use a standard PC ATX power connector and features a full size PCI-E 16x slot although its only running at 1x bandwidth and unfortunately it is not compatible with a GPU.   <br></p>



<figure><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201%201'%3E%3C/svg%3E" data-src="https://c0.iggcdn.com/indiegogo-media-prod-cld/image/upload/c_fill,w_762,g_center,q_auto:best,dpr_1.6,f_auto,h_506/fjlirebv3qpqd7xdlsek" alt="The Over:Board" data-old-src="https://c0.iggcdn.com/indiegogo-media-prod-cld/image/upload/c_fill,w_762,g_center,q_auto:best,dpr_1.6,f_auto,h_506/fjlirebv3qpqd7xdlsek" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The Over:Board</figcaption></figure>



<p><br>It breaks out the following ports: <br></p>



<ul><li>24-pin ATX Power</li><li>40-pin GPIO</li><li>Full Size PCI-E @ 1x bandwidth</li><li>SATA Controller (Powered by USB)</li><li>Front Panel Header</li><li>CPU Fan Header</li><li>UART Header</li><li>Micro USB</li><li>RS232 Com Port</li><li>2x USB 2.0 Ports</li><li>Micro SD card slot</li><li>3.5mm Audio</li></ul>



<p>The Over:Board costs £199 for an early prototype or £99 for the Final Production board and is available to back now on indiegogo. <br></p>



<div><p>Whilst £99 is expensive for a IO board this is likely down to the limited production and it is likely still the cheapest ARM based ITX motherboard on the market even when factoring in the cost of a RPI CM4. </p><p>You can back the Over:Board on indiegogo <a rel="noreferrer noopener" href="https://www.indiegogo.com/projects/over-board-raspberry-pi-4-mini-itx-motherboard#/" target="_blank">here</a></p><p>For another ARM IO board with SATA check out my Nano Pi Neo2 NAS review <a rel="noreferrer noopener" href="https://blog.jmdawson.co.uk/nano-pi-neo2-nas-enclosure-a-small-linux-home-server-nas/" target="_blank">here</a></p><p>The project currently has £1654 in backing from 11 backers. With 28 days left it is looking likely to hit its £5000 target. </p><p>Ross Nicoholls is leading the campaign: </p></div>



<blockquote><p>I’ve lost count exactly how many, but this will be about my 35th commercial electronics PCB to be manufactured, so I am no stranger to getting these things to market. That said however, this will be the first of my own venture so represents my most exciting project to date and something I feel very passionate about.</p><cite>Ross has lots of experience in this field</cite></blockquote>



<p>I wish Ross good luck and hope to see the Over:Board available soon! </p>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://blog.jmdawson.co.uk/overboard-raspberry-pi-cm4-itx-motherboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25697993</guid>
            <pubDate>Sat, 09 Jan 2021 06:31:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pfizer vaccine appears effective against mutation in new coronavirus variants]]>
            </title>
            <description>
<![CDATA[
Score 629 | Comments 227 (<a href="https://news.ycombinator.com/item?id=25696577">thread link</a>) | @awnird
<br/>
January 8, 2021 | https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Pfizer Inc. and BioNTech's COVID-19 vaccine appeared to work against a key mutation in the highly transmissible new variants of the coronavirus discovered in Britain and South Africa, according to a laboratory study conducted by the U.S. drugmaker.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5852149.1608672062!/cumulusImage/httpImage/image.jpg_gen/derivatives/16x9_780/covid-vaccinations-toronto.jpg"></p></div><figcaption>A nurse prepares a dose of the Pfizer-BioNTech COVID-19 vaccine for care home workers at St. Michael’s Hospital in Toronto on Dec. 22, 2020.<!-- --> <!-- -->(Evan Mitsui/CBC)</figcaption></figure><p><span><p>Pfizer Inc. and BioNTech's COVID-19 vaccine appeared to work against a key mutation in the highly transmissible new variants of the coronavirus discovered in Britain and South Africa, according to a laboratory study conducted by the U.S. drugmaker.</p>  <p>The study by Pfizer and scientists from the University of Texas Medical Branch, which has not yet been peer-reviewed, indicated the vaccine was effective in neutralizing virus with the so-called N501Y mutation of the spike protein.</p>  <p>The mutation could be responsible for greater transmissibility and there had been concern it could also make the virus escape antibody neutralization elicited by the vaccine, said Phil Dormitzer, one of Pfizer's top viral vaccine scientists.</p>  <p>The first results of tests on the variants offer a glimmer of hope while more studies are carried out as Britain and other countries try to tame the more infectious variants that&nbsp;authorities believe are driving a surge in infections that could overwhelm health-care systems.</p>  <p>The Pfizer-BioNTech study was conducted on blood taken from people who had been given the vaccine. Its findings are limited because it does not look at the full set of mutations found in either of the new variants of the rapidly spreading virus.</p>  <p>Dormitzer said it was encouraging that the vaccine appears effective against the mutation, as well as 15 other mutations the company has previously tested against.</p>  <p>"So we've now tested 16 different mutations, and none of them have really had any significant impact. That's the good news," he said. "That doesn't mean that the 17th won't."</p>  <p><em><strong>WATCH | What scientists know about the new coronavirus variant:</strong></em></p>  <p><span><span><div><div title="What scientists know about the new coronavirus variant" role="button" tabindex="0"><div><div aria-labelledby="1842141251676-metadata-" title="What scientists know about the new coronavirus variant"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/643/819/COVID-VARIANT-SCI-BIRAK-080121.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>The B1-17 coronavirus variant, first discovered in the U.K., is now in at least 40 countries, including Canada. It has 23 mutations, including one that attaches to healthy cells like a key going into a lock.<!-- --> <!-- -->1:56</span></span></span></p>  <p>Dormitzer said another mutation found in the South African variant, called the E484K mutation, was also concerning.</p>  <p>The researchers plan to run similar tests to establish whether the vaccine is effective against other mutations found in the British and South African variants and hope to have more data within weeks.</p>  <p>The variants are said by scientists to be more transmissible than previously dominant ones, but they are not thought to cause more serious illness.</p>  <p>The virus's spikes act as a key that must unlock our cells to cause the infection.&nbsp;The variant first identified in the U.K. has a mutation that appears to make it easier for the coronavirus to grab hold of the lock more tightly, scientists say.</p>    <p>Scientists said the results of the study would help calm concerns that people will not be protected by vaccines being given to millions of people around the world in the fight against the pandemic, which has killed more than 1.8 million people and roiled economies.</p>  <p>But they cautioned that more clinical tests and data are still needed to come to a definitive conclusion.</p>  <p>"This is good news, mainly because it is not bad news," said Stephen Evans, professor of pharmacoepidemiology at the&nbsp;London School of Hygiene &amp; Tropical Medicine.</p>  <p>"So, yes this is good news, but it does not yet give us total confidence that the Pfizer (or other) vaccines will definitely give protection."</p>  <h2>AstraZeneca, Moderna, CureVac testing against variants</h2>  <p>AstraZeneca, Moderna and CureVac are also testing whether their shots work against the fast-spreading variants. They have said they expect them to be effective, but the timing of those studies is not known.</p>  <p>A senior British lawmaker expressed concerns in an interview on Friday that COVID-19 vaccines might not work properly against the South African variant. He was not responding to questions about Friday's data.</p>  <p>The Pfizer-BioNTech vaccine and the one from Moderna Inc., which use synthetic messenger RNA technology, can be quickly tweaked to address new mutations of a virus if necessary. Scientists have suggested the changes could be made in as little as six weeks.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/virus-outbreak-new-variants.jpg 300w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/virus-outbreak-new-variants.jpg 460w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/virus-outbreak-new-variants.jpg 620w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-new-variants.jpg 780w,https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/virus-outbreak-new-variants.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5866498.1610132224!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-new-variants.jpg"></p></div><figcaption>Graphic shows a diagram of the COVID-19 virus.<!-- --> <!-- -->(AP)</figcaption></figure></span></p>  <p>Some other vaccines to protect against COVID-19 also use the spike protein to show our immune system what the enemy looks like.</p>  <p>Canadian microbiologist Benjamin tenOever, a professor at the&nbsp;Icahn School of Medicine at Mount Sinai in New York,&nbsp;said our immune system learns to recognize and attack the viral attachment protein at many different sites.</p>  <p>"It would require many many mutations to render our vaccines non-effective,"&nbsp;tenOever&nbsp;said.</p>  <p>The variant is also not the first of the pandemic to emerge and Eleanor Riley, professor of immunology and infectious disease at the University of Edinburgh, said these types of studies&nbsp;will be needed as they appear.</p>  <p>"It may be necessary to tweak the vaccine over time," she said.</p>  <p>Dr. Theresa Tam, Canada's chief public health officer, said Friday that 14 cases of the variant first reported in the U.K. have been reported in Canada.</p>  <p>Researchers in Ontario have developed a faster test to identify variants.</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/health/pfizer-biontech-vaccine-appears-effective-against-mutation-in-new-coronavirus-variants-study-suggests-1.5865885</link>
            <guid isPermaLink="false">hacker-news-small-sites-25696577</guid>
            <pubDate>Sat, 09 Jan 2021 03:48:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing an iRacing SDK Implementation in F#]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25696493">thread link</a>) | @sanesmith
<br/>
January 8, 2021 | https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/ | <a href="https://web.archive.org/web/*/https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>In my <a href="https://markjames.dev/2021-01-04-why-learning-fsharp-2021/">previous post</a>, I discussed how I’ve decided to learn F# in 2021 for a number of reasons. Around the same time, I also happened to setup my Sim Racing rig so that I could continue to play <a href="https://www.iracing.com/" target="_blank">iRacing</a> with my VR headset (HTC Vive). Its been several years since I’ve last played, but with COVID-related curfews being implemented here in Montreal tomorrow, I’ve been increasingly taking up home-based pursuits which I didn’t always have the time for pre-lockdown. Since the last time I played iRacing, I’m running a PC with a much better processor, motherboard, and only SSDs. The VR performance has been a huge leap forward since I used to play with my old machine and I was quite impressed. After spending a couple of hours setting up, here’s what my current humble racing setup looks like:</p>

<p><img src="https://markjames.dev/img/posts/irsdk-fsharp/racing-rig.jpg" width="650" height="488" alt="Photo of my current iRacing VR setup"></p>

<p>Having a dedicated table really helps, as in my old apartment it was fairly difficult to setup a station with limited space, but now I can fortunately just jump in. Despite the past limitations, I was able to get fairly competitive and still remember the thrill of my first win agaisnt a field of real racers in a Mazda MX-5:</p>

<p><img src="https://markjames.dev/img/posts/irsdk-fsharp/iracing-win.jpg" width="500" height="279" alt="Photo of my iRacing first win certificate"></p>

<p>Inspired by setting everything up and doing some laps to practice for an eventual return to comeptition, I started thinking about how I once experimented with using the <a href="https://github.com/kutu/pyirsdk" target="_blank">Python implementation</a> of the iRacing SDK to connect to an arduino and display a speedometer readout in realtime on a small screen. In reminiscing about the experience, I thought about how I could look into writing an F# implementation of the SDK as a learning project. In addition to learning through the project, it also has the benefit of being of use in a future project involving an iRacing stats tracker web app that I’ve been thinking about writing as a project for my upcoming <a href="https://markjames.dev/2020-12-09-back-to-school/">cloud computing courses</a>.</p>

<h2 id="getting-started">Getting Started</h2>

<p>I tend to learn best when projects are slightly outside of my comfort zone, and this would be both my first time writing a library, as well as writing one in a functional language! Having used an array of libraries at this point, I had some confidence in choosing an organizational structure, and the Python implementation is only <a href="https://github.com/kutu/pyirsdk/blob/master/irsdk.py" target="_blank">739 lines of code</a> which felt doable compared to some of the larger libraries out there.</p>

<p>Moreover, the python implementation of the SDK has the ability to:</p>

<ul>
  <li>Get session data (WeekendInfo, SessionInfo, etc…)</li>
  <li>Get live telemetry data (Speed, FuelLevel, etc…)</li>
  <li>Broadcast messages (camera, replay, chat, pit and telemetry commands)</li>
</ul>

<p>and I figured that this would be a good featureset to aim for in the final version of the F# SDK. Out of these features, the session data and live telemetry data would be the ones I plan to implement first.</p>

<h2 id="creating-the-library">Creating the Library</h2>

<p>After coming up with some desired features, the first step was to create a new FSharp solution called iRacingFSharp. Inside the solution, I created two projects. One was our actual library, called iRacingFSharp, and the other was a basic console app called SDKReader (located in the Examples Folder) to test the functionality of the library as I worked on it. Note, if you’d like to see the full codebase you can <a href="https://github.com/markjamesm/irsdk-fsharp" target="_blank">here on github</a>.</p>

<h2 id="the-first-function">The First Function</h2>

<p>Starting small, I decided that a good first function would be to find out the state of the simulator. Fortunately, the iRacing SDK allows you to check if the sim is running using the following URL which points to a localhost server:</p>

<div><div><pre><code>http://127.0.0.1:32034/get_sim_status?object=simStatus
</code></pre></div></div>
<p>Getting this URL in Postman returns a JSON object which looks like this:</p>

<div><div><pre><code>var simStatus={
   running:0 // 1 if the sim is running
};
</code></pre></div></div>

<p>I decided to make use of the <a href="https://fsharp.github.io/FSharp.Data/library/Http.html" target="_blank">F# Data HTTP library</a> in order to download the response and so I installed it from NuGet at this point.</p>

<p>Next, inside my iRacingFSharp project I created a file called Irsdk.fs and wrote the following code:</p>

<div><div><pre><code><span>namespace</span> <span>IrsdkFS</span>

<span>open</span> <span>FSharp</span><span>.</span><span>Data</span>

<span>///&lt;summary&gt;F# implementation of the iRacing SDK.&lt;/summary&gt;</span>
<span>module</span> <span>IrsdkFS</span> <span>=</span>

    <span>///&lt;summary&gt;Returns the simStatus in string format&lt;/summary&gt;</span>
    <span>let</span> <span>SimStatus</span><span>()</span> <span>=</span>
        <span>let</span> <span>simStatusURL</span> <span>=</span> <span>"http://127.0.0.1:32034/get_sim_status?object=simStatus"</span>
        <span>let</span> <span>simStatusObject</span> <span>=</span> <span>Http</span><span>.</span><span>RequestString</span><span>(</span><span>simStatusURL</span><span>)</span>
        <span>simStatusObject</span>
</code></pre></div></div>

<p>In the above code, I’ve created a module which contains a function called SimStatus that takes no parameters. It then binds the JSON response to simStatusURL and passes it to the HTTP library via Http.RequestString(). Finally, simStatusObject is returned in string format which can be parsed further by another function in a later step.</p>



<p>With this simple function in place, the next step was to create SDKReader.fs inside my SDKReader console app. This file contained code to call the SimStatus() function and print the output:</p>

<div><div><pre><code><span>[&lt;</span><span>EntryPoint</span><span>&gt;]</span>
<span>let</span> <span>main</span> <span>argv</span> <span>=</span>
    <span>let</span> <span>test</span> <span>=</span> <span>IrsdkFS</span><span>.</span><span>SimStatus</span><span>()</span>
    <span>printf</span> <span>"%s"</span> <span>test</span>
    <span>0</span> <span>// return an integer exit code</span>
</code></pre></div></div>

<p>Running dotnet build inside the SDKReader folder displayed the following output while iRacing was running:</p>

<div><div><pre><code><span>"var simStatus={
   running:1
};
"</span><span>
</span></code></pre></div></div>

<p>Success! With this method working, we now have the very beginnings of an F# implementation of the iRacing SDK! Although it is a small step, we were also able to create and structure the project. Lastly, I also setup a a basic .NET build through Github Actions for CI.</p>



<p>iRacing’s API telemetry comes in three variations; data written to a .ibt file 60 times a second, live data exposed to the telemetry API 60 times per second, and a session string in YAML format that contains more or less static information about the session. The YAML string is appended to the end of the .ibt file but only a small portion of that data is exposed. This means that going forward, I’ll need to look into parsing the YAML as well as mapping more of the API endpoints. The iRacing API appears to be nonstandard and so it may take a little more work than just a typical REST API.</p>

<p>Stay tuned for Part Two where I plan to implement some telemetry functions and look into parsing the aforementioned YAML. In addition, be sure to follow along with the <a href="https://github.com/markjamesm/irsdk-fsharp" target="_blank">Github Repo here</a> if you’re interested in seeing how to project progresses (or would like to contribute)!</p>

      </article></div>]]>
            </description>
            <link>https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25696493</guid>
            <pubDate>Sat, 09 Jan 2021 03:42:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ad-Tech Is a Bezzle]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25695482">thread link</a>) | @freediver
<br/>
January 8, 2021 | https://pluralistic.net/2021/01/04/how-to-truth/#adfraud | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1719">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
reviews, damon knight, science fiction, statistics, statistical literacy, gift guide,books, uk, dsa, democratic socialists of america, elections, california, ads, at-tech, fraud, google, labor, unions, alphabet, alphabet workers union, cwa,

Summary:
Ad-tech is a bezzle; Google's unionizing; The Data Detective; Damon Knight's Why Do Birds is back; Endorsing the Forward 43 slate

URL:
https://pluralistic.net/2021/01/04/how-to-truth/

Title:
Pluralistic: 04 Jan 2021

Bullet:
🎬

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Ken Snider (https://twitter.com/orenwolf), Slashdot (https://slashdot.org/), Margo Rowder (https://twitter.com/margorowder).

--><br>
<a href="https://pluralistic.net/2021/01/04/how-to-truth/"><img src="https://i0.wp.com/craphound.com/images/04Jan2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/04Jan2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">Ad-tech is a bezzle</a>: The subprime attention crisis is upon us.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#awu">Google's unionizing</a>: Solidarity vs worker misclassification.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#harford">The Data Detective</a>: How to truth with statistics.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#an-oval">Damon Knight's Why Do Birds is back</a>: Reviving a grand master's comic masterpiece.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#fwd-43">Endorsing the Forward 43 slate</a>: For my California comrades.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#retro">This day in history</a>: 2016
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/01/04/how-to-truth/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="adfraud"></a><br>
<img src="https://i1.wp.com/craphound.com/images/ad-3242595_960_720.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/ad-3242595_960_720.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>There are lots of problems with ad-tech:</p>
<ul>
<li>being spied on all the time means that the people of the 21st century are less able to be their authentic selves;
</li>
<li>
<p>any data that is collected and retained will eventually breach, creating untold harms;</p>
</li>
<li>
<p>data-collection enables for discriminatory business practices ("digital redlining");</p>
</li>
<li>
<p>the huge, tangled hairball of adtech companies siphons lots (maybe even most) of the money that should go creators and media orgs; and</p>
</li>
<li>
<p>anti-adblock demands browsers and devices that thwart their owners' wishes, a capability that can be exploited for even more nefarious purposes;</p>
</li>
</ul>
<p>That's all terrible, but it's also <em>ironic</em>, since it appears that, in addition to everything else, ad-tech is a fraud, a bezzle.</p>
<p>Bezzle was John Kenneth Galbraith's term for "the magic interval when a confidence trickster knows he has the money he has appropriated but the victim does not yet understand that he has lost it." That is, a rotten log that has yet to be turned over.</p>
<p>Bezzles unwind slowly, then all at once. We've had some important peeks under ad-tech's rotten log, and they're increasing in both intensity and velocity. If you follow Aram Zucker-Scharff, you've had a front-row seat to the fraud.</p>
<p><a href="https://twitter.com/Chronotope/status/1078003966863200256">https://twitter.com/Chronotope/status/1078003966863200256</a></p>
<p>Time and again, everything in the ad-tech stack has been demonstrated to be fraudulent: fake audiences firing fake clicks at fake videos on fake sites that suck real dollars out of advertisers' accounts.</p>
<p>This was masterfully elucidated in Tim Hwang's short 2020 book SUBPRIME ATTENTION CRISIS, whose thesis is: we must deflate the ad-tech bubble intentionally, lest we get a messy rupture that destroys many of the good things the parasite has colonized.</p>
<p><a href="https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost">https://pluralistic.net/2020/10/05/florida-man/#wannamakers-ghost</a></p>
<p>The ad-tech fraud is many-layered. On the surface, there's the counting frauds: fake clicks, fake sites, fake videos, etc. But there's a deeper fraud, a theory fraud, the fraud that with enough surveillance data and machine learning, ad-tech can sell anyone anything.</p>
<p>That is: even if we count accurately, ads are still overvalued and underperforming. This is also a lesson whose examples are coming with increasing tempo, as when Ebay simply stopped buying Google search ads and saw <em>no</em> decrease in sales.</p>
<p><a href="https://pluralistic.net/2020/12/06/surveillance-tulip-bulbs/#adtech-bubble">https://pluralistic.net/2020/12/06/surveillance-tulip-bulbs/#adtech-bubble</a></p>
<p>In a piece for Forbes, marketer-turned-antifraud-auditor Dr Augustine Fou rounds up some of the grossest things festering under the ad-tech log.</p>
<p><a href="https://www.forbes.com/sites/augustinefou/2021/01/02/when-big-brands-stopped-spending-on-digital-ads-nothing-happened-why/?sh=5a4f9c9a1166">https://www.forbes.com/sites/augustinefou/2021/01/02/when-big-brands-stopped-spending-on-digital-ads-nothing-happened-why/?sh=5a4f9c9a1166</a></p>
<p>Like that time in 2018 when Procter and Gamble – inventors of "brand marketing" – turned off $200m worth of ad-tech buys and saw no change to their sales. Or when Chase killed 95% of its advertising and kept all of its business.</p>
<p>Most interesting is the tale of how Uber allowed itself to be defrauded of $150m/year, for years, by ad-tech intermediaries. It's a story told in detail by former Uber head of "performance marketing" Kevin Frisch on the Marketing Today podcast:</p>
<p><a href="https://www.marketingtodaypodcast.com/194-historic-ad-fraud-at-uber-with-kevin-frisch/">https://www.marketingtodaypodcast.com/194-historic-ad-fraud-at-uber-with-kevin-frisch/</a></p>
<p>It starts with the revelation that $50m of its annual spend on customer acquisitions – money paid when an ad leads to a new Uber customer downloading the app, entering payment details and taking their first ride – was fraudulent.</p>
<p>Here's how that worked: scummy marketers fielded low-quality apps (like battery monitors) that requested root access. These apps spied on every app you installed. If you installed Uber, they "fired a click" to the system to report you as having been "converted" by an ad.</p>
<p>After clearing $50m of fraud, Frisch continued to dig into the system. In the end, about $120m of the $150m was being stolen, pocketed for fake clicks on fake sites by fake users.</p>
<p>In a fascinating turn, Frisch describes how his colleagues were indifferent or actively hostile to his efforts. Uber was in "growth mode," trying to beef up its numbers prior to the IPO where suckers would relieve its Saudi royal investors.</p>
<p>Uber is a company that will never, ever be profitable. It, too, is a bezzle. It only "works" if outside investors – marks – can somehow be convinced to buy the insiders' stock, which requires the appearance of growth – AKA "A pile of shit this big <em>must</em> have a pony under it!"</p>
<p>So execs like Frisch were required to "spend to budget" – to maintain the appearance of growth, including (especially) the growth of its "precision analytics" marketing, where ad-tech spends turned into directly attributable customer acquisitions.</p>
<p>This is the story that keeps on giving, because it all starts with Sleeping Giant's campaign to force Uber to stop advertising on Breitbart, and Uber's inability to get its ad-tech "partners" to definitively switch off Breitbart ads.</p>
<p><a href="https://twitter.com/nandoodles/status/1345774768746852353">https://twitter.com/nandoodles/status/1345774768746852353</a></p>
<p>The system's layers of misdirection – there to hide the fraud – meant that it behaved nondeterministically and couldn't fulfil simple requests, which triggered the search.</p>
<p>There's a theory that the reason Big Tech spies on us so much is that they're really good at turning data into sales (and, by extension, influence, as in elections, referenda, etc). But it is increasingly apparent that Big Tech's spying is part of a bezzle.</p>
<p>That is, we're being surveilled, doxed, placed under automated suspicion and digitally discriminated against all to put on a show that separates marks from their dollars.</p>
<p>This is the theme of my 2020 book HOW TO DESTROY SURVEILLANCE CAPITALISM:</p>
<p><a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59</a></p>
<p>Namely, that we are under constant surveillane because monopolies can get away with obviously fraudulent and dangerous conduct by mobilizing their monopoly profits to buy political outcomes that serve their ends.</p>
<p>This is also what happened with California's Proposition 22, the most expensive ballot initiative in US history: Uber didn't spearhead a $200m campaign to legalize worker misclassification to become profitable.</p>
<p>Uber will never be profitable.</p>
<p>All that money was spent to maintain the fiction, the fraud, the bezzle – it was an appeal to rescue the wholly fictional pony underneath that gigantic pile of shit.</p>
<hr>
<p><a name="awu"></a><br>
<img src="https://i1.wp.com/craphound.com/images/Homestead_Strike_-_Mob_attacking_Pinkerton_men-1-1-9.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/Homestead_Strike_-_Mob_attacking_Pinkerton_men-1-1-9.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Google workers have announced their intention to form a union, under the auspices of CWA Local 1440. The union is called The Alphabet Workers Union (Google maintains the legal and accounting fiction that it is a division of a holding company called "Alphabet").</p>
<p>Speaking of legal fictions, the union is opening membership to "TVCs" – temps, vendors and contractors – employees who have been deliberately misclassified so as to avoid paying them benefits or extending normal workplace protections to them.</p>
<p>It's a bold move, a countermeasure to thwart the other commercial advantage from worker misclassification: by creating multiple categories of workers, bosses can pit employees against one another, by dangling privileges in front of one group but not the other.</p>
<p>But it comes at a high price: to gain official legal recognition, more than 50% of eligible workers must join the union. By including more workers, the union is setting a higher bar for official status.</p>
<p><a href="https://www.vice.com/en/article/3an5q9/google-workers-publicly-launch-union">https://www.vice.com/en/article/3an5q9/google-workers-publicly-launch-union</a></p>
<p>But the union has momentum: a series of high-profile googler uprisings – driven by official tolerance for sexual misconduct, complicity in US military drone programs, secret collaboration with Chinese surveillance and censorship, and more – show how radicalized googlers are.</p>
<p>Google's management – who cultivated an air of participatory, cuddly collaboration – have arrived at a point where the contradictions between their "values" and the company's profits can no longer be reconciled.</p>
<p>In Dec 2020, Google fired Timnit Gebru, an eminent Black AI scientist who refused to retract a paper critical of its profitable Big Data research. Management compounded their sins by making false claims about Gebru's dismissal.</p>
<p>The unionization drive is under the CWA's #CODE (Coalition to Organize Digital Employees) project. Though CODE is no stranger to conflict, Google represents a serious challenge, thanks to its partnership with notorious union-busters IRI Consultants.</p>
<p>(IRI's tactics pale in comparison to the mercenaries that Amazon has hired to bust its unions: the Pinkerton company, who have spilled rivers of workers' blood in their murderous history):</p>
<p><a href="https://www.vice.com/en/article/5dp3yn/amazon-leaked-reports-expose-spying-warehouse-workers-labor-union-environmental-groups-social-movements">https://www.vice.com/en/article/5dp3yn/amazon-leaked-reports-expose-spying-warehouse-workers-labor-union-environmental-groups-social-movements</a></p>
<p>For important context on the drive, check out Collective Action in Tech's article on the announcement, which explains why googlers have formed a "non-contract union" that does not yet have official recognition.</p>
<p><a href="https://collectiveaction.tech/2021/the-abcs-of-googles-new-union/">https://collectiveaction.tech/2021/the-abcs-of-googles-new-union/</a></p>
<p>"Non-contract unions embody the idea that worker power does not come from legal processes, but rather through building power through solidarity."</p>
<hr>
<p><a name="harford"></a><br>
<img src="https://i0.wp.com/craphound.com/images/data-detective.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/data-detective.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Publishing works on long schedules, which means that long-planned books can be overtaken by events…like covid.</p>
<p>2020 was tough for those of us with books in trail, especially nonfiction. But for a few lucky writers, covid imparted a terrible salience to their books.</p>
<p>One such writer is Tim Harford, host of BBC Radio 4's More or less, which is hands-down the greatest statistical literacy program in the world, …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/01/04/how-to-truth/#adfraud">https://pluralistic.net/2021/01/04/how-to-truth/#adfraud</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/01/04/how-to-truth/#adfraud</link>
            <guid isPermaLink="false">hacker-news-small-sites-25695482</guid>
            <pubDate>Sat, 09 Jan 2021 02:19:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Archive of 43k+ Donald Trump Twitter Screenshots]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 30 (<a href="https://news.ycombinator.com/item?id=25693054">thread link</a>) | @soheilpro
<br/>
January 8, 2021 | https://pikaso.me/blog/donald-trump-twitter-archive | <a href="https://web.archive.org/web/*/https://pikaso.me/blog/donald-trump-twitter-archive">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>


    <section>
      <p>
        <h2>Donald Trump Twitter Screenshot Archive</h2>
      </p>
      
        
      

      <div><p>Donald Trump loves to tweet and everyone knows that.
Twitter is his favorite medium to express his ideas and to communicate with the world.
He has been an active Twitter user since 2009. Much longer than many other world leaders.</p>
<p>Last month (May 2020) he tweeted 845 times â€” that's 28 tweets per day on average!</p>
<center>
  <a href="https://twitter.com/realDonaldTrump/status/491324429184823296"><img src="https://pikaso.me/blog/files/pikaso.me-realDonaldTrump-20140721_205046-491324429184823296.png" alt="Trump Tweet" width="500" height="244"></a>
</center>
<p>A while ago we received a request from one of our users who was looking for a way to screenshot all Donald Trump tweets.
We realized that's a good opportunity to put <a href="https://pikaso.me/">Pikaso</a> into test and see if it can perform such a task without any problems.
It went smoothly and there was only an issue with one of his tweets which included a deleted image.</p>
<p>Today, we are releasing the resulting files to the public.
This archive contains screenshots of 43,475 Donald Trump tweets from May 2009 to May 2020.
Whether you are pro- or anti- Trump, this is an important part of Internet history that we believe should be preserved.</p>
<h3 id="download">Download</h3>
<p>The Donald Trump Twitter Screenshot Archive can be downloaded through the following links:</p>
<ul>
<li><a href="https://pikaso.me/go/trump-twitter-archive-v1.zip">trump_twitter_archive_v1.zip</a> (Direct download, 2.6 GB)</li>
<li><a href="https://pikaso.me/go/trump-twitter-archive-v1.torrent">trump_twitter_archive_v1.torrent</a> (Torrent download, 28.2 KB)</li>
</ul>
<h3 id="howthiswasmade">How This Was Made?</h3>
<p>To create this archive, we first extracted all tweet ids from the realDonaldTrump.csv file that was provided to us.
That file only contained Donald Trump tweets up to March 29, 2020. To get the later tweets, we used <a href="http://trumptwitterarchive.com/">trumptwitterarchive.com</a>.</p>
<p>We then used the <a href="https://pikaso.me/api">Pikaso API</a> to screenshot each individual tweet.</p>
<h3 id="updates">Updates</h3>
<p>We have no plans to keep this archive up to date after the initial release.
However, if you are interested in doing so, you can use <a href="https://pikaso.me/">Pikaso</a>.
You can even <a href="https://pikaso.me/automate">automate</a> it so that each time he tweets, an automatic screenshot is taken.</p>
<h3 id="credit">Credit</h3>
<p>All the tweets are copyright https://twitter.com/realdonaldtrump.<br>
All the media embedded in tweets are copyright their respective owners.<br>
Original tweets data provided by <a href="https://twitter.com/twentysox">@twentysox</a>.</p>
<h3 id="copyrightlicense">Copyright &amp; License</h3>
<p>Copyright © 2020 https://pikaso.me.<br>
This work by https://pikaso.me is licensed under <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>.</p>
<h3 id="contact">Contact</h3>
<p>If you have any feedback or questions regarding this work, please <a href="https://pikaso.me/contact">contact us</a>.</p></div>
    </section>

    

    
      <section>
        <h2>More from the Blog</h2>

        
      </section>
    

      </div>
  
</div></div>]]>
            </description>
            <link>https://pikaso.me/blog/donald-trump-twitter-archive</link>
            <guid isPermaLink="false">hacker-news-small-sites-25693054</guid>
            <pubDate>Sat, 09 Jan 2021 00:14:05 GMT</pubDate>
        </item>
    </channel>
</rss>
